{"context": "\u3055\u304f\u3089\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u6b63\u5f0f\u516c\u958b\u3055\u308c\u307e\u3057\u305f\u306e\u3067\u3001S3\u4e92\u63db\u3092\u6b4c\u3063\u3066\u3044\u308b\u306e\u3067\u3001AWS CLI\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u306e\u3067\u306f\u3068\u4f7f\u7528\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u203b\u03b2\u6642\u3068\u306f\u3001\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8URL\u306e\u5909\u66f4\u6709\u308a\n\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u3001\u524d\u6e96\u5099\u3068\u3057\u3066\u3001pip\u3001AWS CLI\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# curl -kL https://raw.github.com/pypa/pip/master/contrib/get-pip.py | python\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n100 1571k  100 1571k    0     0   636k      0  0:00:02  0:00:02 --:--:-- 5067k\nCollecting pip\n  Downloading pip-6.0.8-py2.py3-none-any.whl (1.3MB)\n    100% |################################| 1.3MB 358kB/s\nInstalling collected packages: pip\n\nSuccessfully installed pip-6.0.8\n\n\u6b21\u306b\u3001awscli\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[root@localhost ~]# pip install awscli\nCollecting awscli\n  Downloading awscli-1.7.13.tar.gz (300kB)\n    100% |################################| 303kB 849kB/s\nCollecting botocore<0.95.0,>=0.94.0 (from awscli)\n  Downloading botocore-0.94.0.tar.gz (1.4MB)\n    100% |################################| 1.4MB 304kB/s\nCollecting bcdoc<0.14.0,>=0.13.0 (from awscli)\n  Downloading bcdoc-0.13.0.tar.gz\nCollecting colorama<=0.3.3,>=0.2.5 (from awscli)\n  Downloading colorama-0.3.3.tar.gz\nCollecting docutils>=0.10 (from awscli)\n  Downloading docutils-0.12.tar.gz (1.6MB)\n    100% |################################| 1.6MB 262kB/s\nCollecting rsa<=3.1.4,>=3.1.2 (from awscli)\n  Downloading rsa-3.1.4.tar.gz\nCollecting jmespath==0.6.1 (from botocore<0.95.0,>=0.94.0->awscli)\n  Downloading jmespath-0.6.1.tar.gz\nCollecting python-dateutil<3.0.0,>=2.1 (from botocore<0.95.0,>=0.94.0->awscli)\nCollecting six<2.0.0,>=1.8.0 (from bcdoc<0.14.0,>=0.13.0->awscli)\n  Downloading six-1.9.0-py2.py3-none-any.whl\nCollecting pyasn1>=0.1.3 (from rsa<=3.1.4,>=3.1.2->awscli)\nInstalling collected packages: pyasn1, six, python-dateutil, jmespath, rsa, docutils, colorama, bcdoc, botocore, awscli\n  Running setup.py install for pyasn1\n  Running setup.py install for jmespath\n  Running setup.py install for rsa\n  Running setup.py install for docutils\n  Running setup.py install for colorama\n  Running setup.py install for bcdoc\n  Running setup.py install for botocore\n  Running setup.py install for awscli\n\nSuccessfully installed awscli-1.7.13 bcdoc-0.13.0 botocore-0.94.0 colorama-0.3.3 docutils-0.12 jmespath-0.6.1 pyasn1-0.1.7 python-dateutil-2.4.1 rsa-3.1.4 six-1.9.0\n\n\u3055\u304f\u3089\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u30ea\u30fc\u30c9\u30aa\u30f3\u30ea\u30fc\u3044\u3044\u3048\u306e\u65b9\u306e\u3082\u306e\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u4e0a\u306b\u8868\u793a\u3002\n\n\u81ea\u52d5\u7684\u306bcredentails\u3092\u53d6\u5f97\u3059\u308b\u4ed5\u7d44\u307f\u3042\u308c\u3070\u3044\u3044\u304c\u3002(\u6b8b\u5ff5\u306a\u304c\u3089\u306a\u3044\uff09\naws configure\n\n--endpoint-url\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066aws\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u203bS3\u4e92\u63db\u306e\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8(IDCF\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u3001Cloudn Objectstorage)\u3067\u3082\u4f7f\u3048\u308b\u306e\u3067\u306f\n# aws --endpoint-url https://b.sakurastorage.jp s3 ls s3://XXXXXXX/\n\n\u30ed\u30fc\u30ab\u30eb\u4e0a\u306e1G\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30aa\u30d6\u30b8\u30a7\u3068\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n# aws --endpoint-url https://b.sakurastorage.jp s3 cp tempfile  s3://XXXXXX/\nupload: ./tempfile to s3://web-stg-master/tempfile\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\n aws --endpoint-url https://b.sakurastorage.jp s3 ls s3://XXXXXX/\n2015-03-07 15:02:15 1073741824 tempfile\n\n\n\n\n\u30b3\u30de\u30f3\u30c9\n\u4f7f\u7528\u53ef\u5426\n\n\n\n\nls\n\u25cb\n\n\ncp\n\u25cb\n\n\nrm\n\u25cb\n\n\nmv\n\u25cb\n\n\nwebsite\n\u00d7\n\n\nsync\n\u00d7\n\n\nmb\n\u00d7\n\n\nrb\n\u00d7\n\n\n\n\u30b3\u30d4\u30fc\u3068\u304b\u30e0\u30fc\u30d6\u306a\u3069\u6a5f\u80fd\u7684\u306a\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u306f\u3067\u304d\u307e\u3059\u304c\u3001sync\u304c\u3067\u304d\u306a\u3044\u306e\u304c\u3061\u3068\u6b8b\u5ff5\u3002\uff08\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\u3068\u304b\u306f\u4ed5\u7d44\u307f\u4e0a\u3067\u304d\u306a\u3044\u3068\u4e88\u60f3\uff09\n\u4ed6\u30b5\u30fc\u30d3\u30b9\u3068\u306e\u8ee2\u9001\u901f\u5ea6\u6bd4\u8f03\n\n\n\n\u8ee2\u9001\u5143\n\u30b9\u30c8\u30ec\u30fc\u30b8\n\u8ee2\u9001\u6642\u9593\nMbps\n\n\n\n\n\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8(\u3055\u304f\u3089)\n94seconds\n10Mbps\n\n\nEC2\nS3\n29seconds\n34Mbps\n\n\nGCE\nGCS\n18seconds\n55Mbps\n\n\n\nEC2 (\u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\uff09\u304b\u3089S3\u306b\u8ee2\u9001\u3057\u305f\u3068\u304d\u306f\u300129 seconds\n 1000 / 29 = 34Mbps\u306a\u306e\u3067\u3001AWS\u306e1/3\u7a0b\u5ea6\u3057\u304b\u3067\u3066\u3044\u306a\u3044\u3002\nGCP(asia-east-1)\u304b\u3089GoogleCloudStorage\u306b\u8ee2\u9001\u3057\u305f\u3068\u304d\u306f\u300118 seconds\n\u6d77\u5916\u306bDC\u3042\u308b\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001Google\u306e\u5f37\u3055\u304c\u3002\nGoogleCloudStorage\u306b\u8aad\u307f\u66f8\u304d\u3067\u304d\u308b\u6a29\u9650(AWS\u3060\u3068IAM Role)\u3092\u4e0e\u3048\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\ngcloud compute instances create storage-test --image centos-7 --network product-network --scopes \"https://www.googleapis.com/auth/devstorage.read_write\"\n\n\u3053\u3053\u3060\u3051\u306f\u3001gsutil\u3067\u3002CloudStorage\u306b1G\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\ngsutil cp tempfile gs://XXXXXX/\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306f\u53d6\u308c\u306a\u3044\u6a21\u69d8\u3002\n\u3055\u304f\u3089\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u6b63\u5f0f\u516c\u958b\u3055\u308c\u307e\u3057\u305f\u306e\u3067\u3001S3\u4e92\u63db\u3092\u6b4c\u3063\u3066\u3044\u308b\u306e\u3067\u3001AWS CLI\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u306e\u3067\u306f\u3068\u4f7f\u7528\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u203b\u03b2\u6642\u3068\u306f\u3001\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8URL\u306e\u5909\u66f4\u6709\u308a\n\n\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u3001\u524d\u6e96\u5099\u3068\u3057\u3066\u3001pip\u3001AWS CLI\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# curl -kL https://raw.github.com/pypa/pip/master/contrib/get-pip.py | python\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n100 1571k  100 1571k    0     0   636k      0  0:00:02  0:00:02 --:--:-- 5067k\nCollecting pip\n  Downloading pip-6.0.8-py2.py3-none-any.whl (1.3MB)\n    100% |################################| 1.3MB 358kB/s\nInstalling collected packages: pip\n\nSuccessfully installed pip-6.0.8\n```\n\n\u6b21\u306b\u3001awscli\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n[root@localhost ~]# pip install awscli\nCollecting awscli\n  Downloading awscli-1.7.13.tar.gz (300kB)\n    100% |################################| 303kB 849kB/s\nCollecting botocore<0.95.0,>=0.94.0 (from awscli)\n  Downloading botocore-0.94.0.tar.gz (1.4MB)\n    100% |################################| 1.4MB 304kB/s\nCollecting bcdoc<0.14.0,>=0.13.0 (from awscli)\n  Downloading bcdoc-0.13.0.tar.gz\nCollecting colorama<=0.3.3,>=0.2.5 (from awscli)\n  Downloading colorama-0.3.3.tar.gz\nCollecting docutils>=0.10 (from awscli)\n  Downloading docutils-0.12.tar.gz (1.6MB)\n    100% |################################| 1.6MB 262kB/s\nCollecting rsa<=3.1.4,>=3.1.2 (from awscli)\n  Downloading rsa-3.1.4.tar.gz\nCollecting jmespath==0.6.1 (from botocore<0.95.0,>=0.94.0->awscli)\n  Downloading jmespath-0.6.1.tar.gz\nCollecting python-dateutil<3.0.0,>=2.1 (from botocore<0.95.0,>=0.94.0->awscli)\nCollecting six<2.0.0,>=1.8.0 (from bcdoc<0.14.0,>=0.13.0->awscli)\n  Downloading six-1.9.0-py2.py3-none-any.whl\nCollecting pyasn1>=0.1.3 (from rsa<=3.1.4,>=3.1.2->awscli)\nInstalling collected packages: pyasn1, six, python-dateutil, jmespath, rsa, docutils, colorama, bcdoc, botocore, awscli\n  Running setup.py install for pyasn1\n  Running setup.py install for jmespath\n  Running setup.py install for rsa\n  Running setup.py install for docutils\n  Running setup.py install for colorama\n  Running setup.py install for bcdoc\n  Running setup.py install for botocore\n  Running setup.py install for awscli\n\nSuccessfully installed awscli-1.7.13 bcdoc-0.13.0 botocore-0.94.0 colorama-0.3.3 docutils-0.12 jmespath-0.6.1 pyasn1-0.1.7 python-dateutil-2.4.1 rsa-3.1.4 six-1.9.0\n```\n\n\u3055\u304f\u3089\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u30ea\u30fc\u30c9\u30aa\u30f3\u30ea\u30fc\u3044\u3044\u3048\u306e\u65b9\u306e\u3082\u306e\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u4e0a\u306b\u8868\u793a\u3002\n\n![screencapture-secure-sakura-ad-jp-storage.png](https://qiita-image-store.s3.amazonaws.com/0/32140/f18fc8a8-f6e4-412b-39aa-04429a39c987.png)\n\n\n\u81ea\u52d5\u7684\u306bcredentails\u3092\u53d6\u5f97\u3059\u308b\u4ed5\u7d44\u307f\u3042\u308c\u3070\u3044\u3044\u304c\u3002(\u6b8b\u5ff5\u306a\u304c\u3089\u306a\u3044\uff09\n\n```\naws configure\n```\n\n--endpoint-url\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066aws\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u203bS3\u4e92\u63db\u306e\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8(IDCF\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u3001Cloudn Objectstorage)\u3067\u3082\u4f7f\u3048\u308b\u306e\u3067\u306f\n\n```\n# aws --endpoint-url https://b.sakurastorage.jp s3 ls s3://XXXXXXX/\n```\n\n\u30ed\u30fc\u30ab\u30eb\u4e0a\u306e1G\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30aa\u30d6\u30b8\u30a7\u3068\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```\n# aws --endpoint-url https://b.sakurastorage.jp s3 cp tempfile  s3://XXXXXX/\nupload: ./tempfile to s3://web-stg-master/tempfile\n```\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n```\n aws --endpoint-url https://b.sakurastorage.jp s3 ls s3://XXXXXX/\n2015-03-07 15:02:15 1073741824 tempfile\n```\n\n|\u30b3\u30de\u30f3\u30c9|\u4f7f\u7528\u53ef\u5426|\n|---|---|\n|ls|\u25cb|\n|cp|\u25cb|\n|rm|\u25cb|\n|mv|\u25cb|\n|website|\u00d7|\n|sync|\u00d7|\n|mb|\u00d7|\n|rb|\u00d7|\n\n\u30b3\u30d4\u30fc\u3068\u304b\u30e0\u30fc\u30d6\u306a\u3069\u6a5f\u80fd\u7684\u306a\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u306f\u3067\u304d\u307e\u3059\u304c\u3001sync\u304c\u3067\u304d\u306a\u3044\u306e\u304c\u3061\u3068\u6b8b\u5ff5\u3002\uff08\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\u3068\u304b\u306f\u4ed5\u7d44\u307f\u4e0a\u3067\u304d\u306a\u3044\u3068\u4e88\u60f3\uff09\n\n\u4ed6\u30b5\u30fc\u30d3\u30b9\u3068\u306e\u8ee2\u9001\u901f\u5ea6\u6bd4\u8f03\n\n|\u8ee2\u9001\u5143|\u30b9\u30c8\u30ec\u30fc\u30b8  |\u8ee2\u9001\u6642\u9593  |Mbps  |\n|---|---|---|---|\n|\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9|\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8(\u3055\u304f\u3089)  |94seconds |10Mbps |\n|EC2|S3  |29seconds  |34Mbps  |\n|GCE|GCS  |18seconds  |55Mbps  |\n\n\nEC2 (\u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\uff09\u304b\u3089S3\u306b\u8ee2\u9001\u3057\u305f\u3068\u304d\u306f\u300129 seconds\n 1000 / 29 = 34Mbps\u306a\u306e\u3067\u3001AWS\u306e1/3\u7a0b\u5ea6\u3057\u304b\u3067\u3066\u3044\u306a\u3044\u3002\n\nGCP(asia-east-1)\u304b\u3089GoogleCloudStorage\u306b\u8ee2\u9001\u3057\u305f\u3068\u304d\u306f\u300118 seconds\n\u6d77\u5916\u306bDC\u3042\u308b\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001Google\u306e\u5f37\u3055\u304c\u3002\n\nGoogleCloudStorage\u306b\u8aad\u307f\u66f8\u304d\u3067\u304d\u308b\u6a29\u9650(AWS\u3060\u3068IAM Role)\u3092\u4e0e\u3048\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\n\n```\ngcloud compute instances create storage-test --image centos-7 --network product-network --scopes \"https://www.googleapis.com/auth/devstorage.read_write\"\n```\n\n\u3053\u3053\u3060\u3051\u306f\u3001gsutil\u3067\u3002CloudStorage\u306b1G\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\n\n```\ngsutil cp tempfile gs://XXXXXX/\n```\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306f\u53d6\u308c\u306a\u3044\u6a21\u69d8\u3002\n", "tags": ["awscli", "\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9", "AWS", "GoogleCloudPlatform"]}