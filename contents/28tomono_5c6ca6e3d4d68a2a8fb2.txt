{"tags": ["openstack"], "context": "\n\nDevStack - an OpenStack Community Production\n\n\n\u6ce8\u610f\u70b9\n\n\nipv6\u306f\u7121\u52b9\u5316\u3057\u306a\u3044(v6\u7528\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u30a8\u30e9\u30fc\u3092\u8fd4\u3059\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5931\u6557\u3059\u308b)\u3002\n\u305f\u3068\u3048stable\u306abranch\u3067\u3082\u4e0a\u624b\u304f\u3044\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u304c\u6c17\u306b\u3057\u306a\u3044\u3002\n\u305f\u3068\u3048BigTent\u3067\u3082\u5fc5\u305a\u3057\u3082DevStack\u306b\u5168\u3066\u304c\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3002\n\u5fc3\u3092\u6298\u3089\u306a\u3044\u3002\n\n\n\u69cb\u6210\n\n\u30db\u30b9\u30c8OS\u306bCentOS 7.2\n\u30b2\u30b9\u30c8OS(DevStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148)\u306bUbuntu 14.04\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   \u2502\n\u2502 Ubuntu (guest)    \u2502\n\u2502  with devstack    \u2502\n\u2502                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                      \u2502\n\u2502 CentOS (host)                        \u2502\n\u2502                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\n\u30db\u30b9\u30c8OS\u306e\u8a2d\u5b9a\n\n\n\u30b2\u30b9\u30c8OS\u306e\u8a2d\u5b9a\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a\n\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/network/interfaces\n\n\n/etc/network/interfaces\n# loopback\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a\nauto lo\niface lo inet loopback\n\n# eth0\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a(IP\u56fa\u5b9a\u306e\u5834\u5408)\nauto eth0\niface eth0 inet static\naddress x.x.x.x\nnetwork x.x.x.x\nnetmask x.x.x.x\nbroadcast x.x.x.x\ngateway x.x.x.x\ndns-nameservers x.x.x.x\n\n# eth0\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a(DHCP\u306e\u5834\u5408)\nauto eth0\niface eth0 inet dhcp\n\n# \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n## \u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\u6642\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8ffd\u52a0\nup route add -net x.x.x.x netmask y.y.y.y gw z.z.z.z\u3000dev eth0\n## \u30b5\u30fc\u30d3\u30b9\u505c\u6b62\u6642\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u524a\u9664\npre-down route del -net x.x.x.x netmask y.y.y.y gw z.z.z.z dev eth0\n\n\n# \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\n$ sudo /etc/init.d/networking restart\n\n\nDNS\u306e\u8a2d\u5b9a\n\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/resolvconf/resolv.conf.d/base\n\n\n/etc/resolvconf/resolv.conf.d/base\nnameserver 8.8.8.8\nnameserver 8.8.4.4\n\n\n# DNS\u8a2d\u5b9a\u306e\u53cd\u6620\n$ sudo resolvconf -u\n\n\n\u5ff5\u306e\u305f\u3081\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6700\u65b0\u72b6\u614b\u306b\u66f4\u65b0\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30b9\u30c8\u3092\u66f4\u65b0\n$ sudo apt-get update\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\n$ sudo apt-get upgrade\n\n\nssh\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install openssh-server \n\n\ngit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install git\n\n\nNTP\u30fb\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install ntp\n# ntp\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\n$ sudo /etc/init.d/ntp stop\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/ntp.conf\n\n\n/etc/ntp.conf\n# \u4f8b\u3068\u3057\u3066NICT\u306eNTP\u30b5\u30fc\u30d0\u3092\u8ffd\u52a0\nserver ntp.nict.jp\n\n\n# \u624b\u52d5\u3067\u6642\u523b\u540c\u671f\n$ sudo ntpdate ntp.nict.jp\n# ntp\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\n$ sudo /etc/init.d/ntp start\n\n# \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u6771\u4eac\u306b\u5909\u66f4\n$ sudo mv /etc/localtime /etc/localtime.bak\n$ sudo ln -s /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n\n\nWindows->Ubuntu\u306e\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u306e\u69cb\u7bc9 (if necessary)\n\nUbuntu\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u304b\u3089\u300cdesktop sharing\u300d\u3092\u691c\u7d22\u30fb\u8d77\u52d5\u3057\u3001\u300cAllow other users to view your desktop\u300d\u3092\u30c1\u30a7\u30c3\u30af\u3001\u4ed6\u306f\u30c1\u30a7\u30c3\u30af\u3092\u306f\u305a\u3059\u3002\ndconf-editor\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u8d77\u52d5\u3057\u3001org > gnome > desktop > remote-access > require-encryption \u306e\u30c1\u30a7\u30c3\u30af\u3092\u306f\u305a\u3059\u3002\nWindows\u306bVNC\u30d3\u30e5\u30fc\u30ef(\u500b\u4eba\u7684\u306b\u306fUltraVNC Viewer\u304c\u304a\u3059\u3059\u3081)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u8d77\u52d5\u3059\u308b\u3002\n\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a\u306e\u8a2d\u5b9a (if necessary)\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/init/ttyS0.conf\n\n\n/etc/init/ttyS0.conf\nstart on stopped rc RUNLEVEL=[2345]\nstop on runlevel [!2345]\n\nrespawn\nexec /sbin/getty -L 115200 ttyS0 vt102\n\n\n# ttyS0\u3092\u8d77\u52d5\n$ sudo start ttyS0\n\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/default/grub\n\n\n/etc/default/grub\n+GRUB_CMDLINE_LINUX=\"console=tty0 console=ttyS0,115200n8\"\n+GRUB_SERIAL_COMMAND=\"serial --speed=115200 --unit=0 --word=8 --parity=no --stop=1\"\n\n\n\nDevStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# /opt\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\n$ cd /opt/\n# git\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30de\u30b9\u30bf\u304b\u3089\u30af\u30ed\u30fc\u30f3\n$ sudo git clone https://git.openstack.org/openstack-dev/devstack.git\n# stack\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\n$ sudo devstack/tools/create-stack-user.sh\n# devstack\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6240\u6709\u8005\u3092\u5909\u66f4\n$ sudo chown -R stack:stack devstack\n# stack\u30e6\u30fc\u30b6\u306b\u5909\u66f4\n$ sudo su - stack\n# devstack\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\n$ cd /opt/devstack\n# DevStack\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u7528\u306b\u30b3\u30d4\u30fc\n$ cp samples/local.conf .\n\n\nlocal.conf\u306e\u7de8\u96c6\n\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi local.conf\n\n\nlocal.conf\n# Sample ``local.conf`` for user-configurable variables in ``stack.sh``\n#@@@ local.conf\u306fstack.sh\u306b\u3088\u3063\u3066\u4f7f\u7528\u3055\u308c\u308b\u30e6\u30fc\u30b6\u5b9a\u7fa9\u5909\u6570\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3002\n\n# NOTE: Copy this file to the root DevStack directory for it to work properly.\n#@@@ \u6ce8\u610f\uff1a\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092devstack\u76f4\u4e0b\u306b\u914d\u7f6e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n# ``local.conf`` is a user-maintained settings file that is sourced from ``stackrc``.\n# This gives it the ability to override any variables set in ``stackrc``.\n# Also, most of the settings in ``stack.sh`` are written to only be set if no\n# value has already been set; this lets ``local.conf`` effectively override the\n# default values.\n#@@@ local.conf\u306fstackrc\u3067\u5b9a\u7fa9\u3055\u308c\u308b\u5909\u6570\u306b\u95a2\u3057\u3066\u3001\u30e6\u30fc\u30b6\u304c\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308b\u3002\n#@@@ \u3064\u307e\u308a\u3001stackrc\u5185\u306e\u5024\u3092\u4e0a\u66f8\u304d\u3059\u308b\u3002\n#@@@ \u307e\u305f\u3001\u5fc5\u8981\u3068\u3055\u308c\u308b\u5024\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u3001stack.sh\u5185\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u5229\u7528\u3055\u308c\u308b\u3002\n\n# This is a collection of some of the settings we have found to be useful\n# in our DevStack development environments. Additional settings are described\n# in http://devstack.org/local.conf.html\n# These should be considered as samples and are unsupported DevStack code.\n#@@@ \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306fdevstack\u74b0\u5883\u4e0b\u3067\u4f7f\u7528\u3055\u308c\u308b\u8a2d\u5b9a\u306e\u3044\u304f\u3064\u304b\u3092\u96c6\u7d04\u3057\u305f\u3082\u306e\u3067\u3042\u308b\u3002\n#@@@ \u8ffd\u52a0\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u3092\u53c2\u7167\u3055\u308c\u305f\u3044\u3002\n#@@@ http://docs.openstack.org/developer/devstack/configuration.html\n#@@@ \u8ffd\u52a0\u8a2d\u5b9a\u306f\u30b5\u30f3\u30d7\u30eb\u3067\u3042\u308a\u3001devstack\u30b3\u30fc\u30c9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u305f\u3082\u306e\u3067\u306f\u306a\u3044\u3002\n\n# The ``localrc`` section replaces the old ``localrc`` configuration file.\n# Note that if ``localrc`` is present it will be used in favor of this section.\n#@@@ localrc\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u5f93\u6765\u4f7f\u7528\u3057\u3066\u3044\u305flocalrc\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u7f6e\u304d\u63db\u308f\u308b\u3082\u306e\u3067\u3042\u308b\u3002\n#@@@ \u6ce8\u610f\uff1alocalrc\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u3066\u3082\u3001localrc\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u512a\u5148\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002\n\n[[local|localrc]]\n\n##### Password #####\n#-------------------\n# If the ``SERVICE_TOKEN`` and ``*_PASSWORD`` variables are not set\n# here you will be prompted to enter values for them by ``stack.sh``\n# and they will be added to ``local.conf``.\n#@@@ SERVICE_TOKEN\u3084*_PASSWORD\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u3001stack.sh\u5b9f\u884c\u6642\u306b\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u5834\u5408\u3082\u3042\u308a\u3001local.conf\u306b\u8ffd\u8a18\u3055\u308c\u308b\u3002\n\nADMIN_PASSWORD=stack\nDATABASE_PASSWORD=$ADMIN_PASSWORD\nRABBIT_PASSWORD=$ADMIN_PASSWORD\nSERVICE_PASSWORD=$ADMIN_PASSWORD\nMYSQL_PASSWORD=$ADMIN_PASSWORD\nSERVICE_TOKEN=111222333444\n\n#FIXED_RANGE=192.168.9.0/24\n#FLOATING_RANGE=192.168.20.0/25\n\n# ``HOST_IP`` and ``HOST_IPV6`` should be set manually for best results if\n# the NIC configuration of the host is unusual, i.e. ``eth1`` has the default\n# route but ``eth0`` is the public interface.  They are auto-detected in\n# ``stack.sh`` but often is indeterminate on later runs due to the IP moving\n# from an Ethernet interface to a bridge on the host. Setting it here also\n# makes it available for ``openrc`` to include when setting ``OS_AUTH_URL``.\n# Neither is set by default.\n#@@@ HOST_IP\u3084HOST_IPV6\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a\u304c\u7279\u6b8a\u306a\u5834\u5408\u306b\u306f\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u3042\u308b\u3002\n#@@@ \u3064\u307e\u308a\u3001eth1\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u30eb\u30fc\u30c8\u3060\u304c\u3001eth0\u304c\u30d1\u30d6\u30ea\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5834\u5408\u3067\u306f\u3001stack.sh\u5185\u3067\u3053\u308c\u3089\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u81ea\u52d5\u8a8d\u8b58\u3055\u308c\u308b\u304c\u3001\u305d\u308c\u3089\u306f\u4e0d\u5b9a\u306a\u3082\u306e\u3068\u306a\u308a\u5f97\u308b\u3002\u3064\u307e\u308a\u3001IP\u30a2\u30c9\u30ec\u30b9\u306fEthernet\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u306f\u306a\u304f\u30db\u30b9\u30c8\u306e\u30d6\u30ea\u30c3\u30b8\u3068\u7d10\u3065\u304f\u305f\u3081\u3001devstack\u7ba1\u7406\u4e0b\u306b\u306f\u5fc5\u305a\u3057\u3082\u306a\u3044\u304b\u3089\u3067\u3042\u308b\u3002\n#@@@ HOST_IP\u306e\u8a2d\u5b9a\u306fOS_AUTH_URL\u8a2d\u5b9a\u6642\u306bopenrc\u306b\u542b\u3081\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u304c\u3001\u5171\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u8a2d\u5b9a\u3055\u308c\u306a\u3044\u3002\n\n##### IP\u30a2\u30c9\u30ec\u30b9 #####\n#------------------\n#@@@ \u4f7f\u7528\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u5834\u5408(\u30ed\u30fc\u30ab\u30eb\u306b\u9589\u3058\u305f\u74b0\u5883\u3067\u3042\u308c\u3070\u4e0d\u8981)\nHOST_IP=192.168.9.129\n#HOST_IPV6=xx:xx:xx:xx:xx:xx\n#SERVICE_HOST=$HOST_IP\n\n##### openrc #####\n#-----------------\n#@@@ \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\nOS_PROJECT_NAME=demo\n#@@@ \u30e6\u30fc\u30b6\u540d\nOS_USERNAME=demo\n#@@@ \u30d1\u30b9\u30ef\u30fc\u30c9\nOS_PASSWORD=password\n#@@@\u3000Keystone\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\nOS_AUTH_URL=http://$SERVICE_HOST:5000/v2.0\n\n##### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3 #####\n#---------------------------\n# devstack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f/opt/stack\n#DEST=/opt/stack\n\n# stack.sh\u5b9f\u884c\u6642\u306b\u90fd\u5ea6git clone\u3092\u5b9f\u884c\u3059\u308b\u304b\u3069\u3046\u304b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u5b58\u5728\u3059\u308c\u3070\u3001reclone\u3092\u5b9f\u884c\u3057\u306a\u3044\u3002\n#RECLONE=yes\n\n# pip\u306b\u3088\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\nPIP_UPGRADE=True\n\n# \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3057\u305f\u304f\u306a\u3044\u5834\u5408\n#OFFLINE=True\n\n##### Service Repos #####\n#------------------------\nGIT_BASE=https://git.openstack.org\nVERSION=master\n#VERSION=stable/mitaka\n\n# Keystone\nKEYSTONE_REPO=$GIT_BASE/openstack/keystone.git\nKEYSTONE_BRANCH=$VERSION\n\n# Horizon\nHORIZON_REPO=$GIT_BASE/openstack/horizon.git\nHORIZON_BRANCH=$VERSION\n\n# Nova\nNOVA_REPO=$GIT_BASE/openstack/nova.git\nNOVA_BRANCH=$VERSION\n\n# Neutron\nNEUTRON_REPO=$GIT_BASE/openstack/neutron.git\nNEUTRON_BRANCH=$VERSION\n\n# Glance\nGLANCE_REPO=$GIT_BASE/openstack/glance.git\nGLANCE_BRANCH=$VERSION\n\n# Cinder\n#CINDER_REPO=$GIT_BASE/openstack/cinder.git\n#CINDER_BRANCH=$VERSION\n\n# Ceilometer\nCEILOMETER_REPO=$GIT_BASE/openstack/ceilometer.git\nCEILOMETER_BRANCH=$VERSION\n\n# Aodh\nAODH_REPO=$GIT_BASE/openstack/aodh.git\nAODH_BRANCH=$VERSION\n\n# Heat\n#HEAT_REPO=$GIT_BASE/openstack/heat.git\n#HEAT_BRANCH=$VERSION\n\n# Swift\n#SWIFT_REPO=$GIT_BASE/openstack/swift.git\n#SWIFT_BRANCH=$VERSION\n\n\n##### Services #####\n#-------------------\n#@@@ \u4e0d\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u305b\u305a\u3001\u65e9\u304f\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306b\u3001\u5168\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3057\u305f\u5f8c\u3001\u5fc5\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u306e\u307f\u3092\u8d77\u52d5\ndisable_all_services\n\n##### Database Backend #####\n#--------------------------\n# Enable Database Backend MySQL(Default) or PostgreSQL\nenable_service mysql\n#enable_service postgresql\n\n##### RPC Backend #####\n#----------------------\n# Enable RPC Backend RabbitMQ(Default) or Others\nenable_service rabbit\n\n##### Keystone - Identity Service #####\n#--------------------------------------\nenable_service key\n\n# For Region One\n#REGION_NAME=RegionOne\n\n# For Region Two or Later\n#disable_service horizon\n#KEYSTONE_SERVICE_HOST=<KEYSTONE_IP_ADDRESS_FROM_REGION_ONE>\n#KEYSTONE_AUTH_HOST=<KEYSTONE_IP_ADDRESS_FROM_REGION_ONE>\n#REGION_NAME=RegionTwo\n#KEYSTONE_REGION_NAME=RegionOne\n\n# Disabling Identity API v2\n#ENABLE_IDENTITY_V2=False\n\n##### Horizon - Dashboard Service #####\n#--------------------------------------\nenable_service horizon\n\n##### Nova - Cloud Computing Fabric Controller #####\n# http://docs.openstack.org/developer/devstack/guides/nova.html\n#--------------------------------------------------------------\n# (\u5fc5\u9808)nova network service\u306e\u505c\u6b62\ndisable_service n-net\n\n###### Neutron - Network Connectivity Service #####\n# http://docs.openstack.org/developer/devstack/guides/neutron.html\n#-----------------------------------------------------------------\nenable_service neutron\n\n# Neutron options\nenable_service q-svc\nenable_service q-agt\nenable_service q-dhcp\nenable_service q-l3\nenable_service q-meta\n#enable_service q-fwaas\n#enable_service q-lbaas\n#enable_service q-vpn\n\nQ_USE_SECGROUP=True\nFLOATING_RANGE=192.168.9.0/24\nFIXED_RANGE=10.0.0.0/24\nQ_FLOATING_ALLOCATION_POOL=start=192.168.9.200,end=192.168.9.209\nPUBLIC_NETWORK_GATEWAY=192.168.9.1\nPUBLIC_INTERFACE=eth0\nQ_USE_PROVIDERNET_FOR_PUBLIC=True\n\n# Neutron ML2 with LinuxBridge\nQ_PLUGIN=ml2\nQ_AGENT=linuxbridge\nLB_PHYSICAL_INTERFACE=eth0\nPUBLIC_PHYSICAL_NETWORK=default\nLB_INTERFACE_MAPPINGS=default:eth0\n\n# Neutron ML2 with OpenvSwitch\n#Q_PLUGIN=ml2\n#Q_AGENT=openvswitch\n#OVS_PHYSICAL_BRIDGE=br-ex\n#PUBLIC_BRIDGE=br-ex\n#OVS_BRIDGE_MAPPINGS=public:br-ex\n\n# VLAN configuration\n#Q_PLUGIN=ml2\n#ENABLE_TENANT_VLANS=True\n\n# GRE tunnel configuration\n#Q_PLUGIN=ml2\n#ENABLE_TENANT_TUNNELS=True\n\n# VXLAN tunnel configuration\n#Q_PLUGIN=ml2\n#Q_ML2_TENANT_NETWORK_TYPE=vxlan\n\n##### Glance - Image Registry Service #####\n#------------------------------------------\nIMAGE_URLS=http://download.cirros-cloud.net/0.3.2/cirros-0.3.2-x86_64-uec.tar.gz\nenable_service g-api\nenable_service g-reg\n\n##### Cinder - Block Storage as a Service #####\n#----------------------------------------------\n#disable_service cinder\n#VOLUME_BACKING_FILE_SIZE=8192M\n\n##### Ceilometer - Data Collection Service #####\n#-----------------------------------------------\nenable_plugin ceilometer $CEILOMETER_REPO $CEILOMETER_BRANCH\nenable_service ceilometer-acompute\nenable_service ceilometer-acentral\nenable_service ceilometer-notification\nenable_service ceilometer-collector\nenable_service ceilometer-api\n#@@@ Aodh\u3092\u30aa\u30f3\u306b\u3059\u308b\u5834\u5408\u306fceilometer-alarm\u3092disable\u306b\u3059\u308b\u3002\n#enable_service ceilometer-alarm-notifier\n#enable_service ceilometer-alarm-evaluator\n#enable_service ceilometer-ipmi\n\n##### Aodh - Alarming Service #####\n#----------------------------------\nenable_plugin aodh $AODH_REPO $AODH_BRANCH\nenable_service aodh-evaluator\nenable_service aodh-notifier\nenable_service aodh-api\n\n##### Heat - Orchestration Service #####\n#-----------------------------\n#enable_service heat\n#enable_service h-api\n#enable_service h-api-cfn\n#enable_service h-api-cw\n#enable_service h-eng\n#HEAT_STANDALONE=True\n\n##### Swift - Object Storage #####\n#---------------------------------\n#enable_service s-proxy\n#enable_service s-object\n#enable_service s-container\n#enable_service s-account\n\n##### Logging #####\n#------------------\nLOGFILE=$DEST/logs/stack.sh.log\nLOGDIR=$DEST/logs\nLOGDAYS=1\nLOG_COLOR=False\n\n##### Syslog #####\n#-----------------\n#SYSLOG=True\n#SYSLOG_HOST=$HOST_IP\n#SYSLOG_PORT=516\n\n\n# devstack\u306e\u5b9f\u884c\n## \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u65bd\u3059\u308b\u305f\u3081\u3001\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u6ce8\u610f\n$ ./stack.sh\n\n\u203b\u3053\u3053\u3067\u518d\u8d77\u52d5\u3059\u308b\u3068\u3060\u3044\u305f\u3044\u58ca\u308c\u308b\u306e\u3067\u3001\u305d\u306e\u5834\u5408\u306f\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u6700\u521d\u304b\u3089\n\nDevStack\u306e\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# \u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u542b\u3081\u5b8c\u5168\u524a\u9664\n$ ./clean.sh\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u307f\u524a\u9664\n$ ./unstack.sh\n\n\n\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\n\n\nhttp://xx.xx.xx.xx/dashboard \u306b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\n\n\n\u30e6\u30fc\u30b6\u540d\uff1aadmin\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\uff1aADMIN_PASSWORD\u306e\u8a2d\u5b9a\u5024\n\n\n\n\u53c2\u8003\n# [DevStack - an OpenStack Community Production] (http://docs.openstack.org/developer/devstack/)\n\n## <Font color=\"red\">\u6ce8\u610f\u70b9</font>\n+ ipv6\u306f\u7121\u52b9\u5316\u3057\u306a\u3044(v6\u7528\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u30a8\u30e9\u30fc\u3092\u8fd4\u3059\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5931\u6557\u3059\u308b)\u3002\n+ \u305f\u3068\u3048stable\u306abranch\u3067\u3082\u4e0a\u624b\u304f\u3044\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u304c\u6c17\u306b\u3057\u306a\u3044\u3002\n+ \u305f\u3068\u3048BigTent\u3067\u3082\u5fc5\u305a\u3057\u3082DevStack\u306b\u5168\u3066\u304c\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3002\n+ \u5fc3\u3092\u6298\u3089\u306a\u3044\u3002\n\n## \u69cb\u6210\n+ \u30db\u30b9\u30c8OS\u306bCentOS 7.2\n+ \u30b2\u30b9\u30c8OS(DevStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148)\u306bUbuntu 14.04\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   \u2502\n\u2502 Ubuntu (guest)    \u2502\n\u2502  with devstack    \u2502\n\u2502                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                      \u2502\n\u2502 CentOS (host)                        \u2502\n\u2502                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n\n## [\u30db\u30b9\u30c8OS\u306e\u8a2d\u5b9a] (http://qiita.com/tomo_n/items/4bab2a3c16812e89fa27)\n## \u30b2\u30b9\u30c8OS\u306e\u8a2d\u5b9a\n### \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\n\n+ \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a\n\n```bash:\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/network/interfaces\n```\n\n```bash:/etc/network/interfaces\n# loopback\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a\nauto lo\niface lo inet loopback\n\n# eth0\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a(IP\u56fa\u5b9a\u306e\u5834\u5408)\nauto eth0\niface eth0 inet static\naddress x.x.x.x\nnetwork x.x.x.x\nnetmask x.x.x.x\nbroadcast x.x.x.x\ngateway x.x.x.x\ndns-nameservers x.x.x.x\n\n# eth0\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a(DHCP\u306e\u5834\u5408)\nauto eth0\niface eth0 inet dhcp\n\n# \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n## \u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\u6642\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8ffd\u52a0\nup route add -net x.x.x.x netmask y.y.y.y gw z.z.z.z\u3000dev eth0\n## \u30b5\u30fc\u30d3\u30b9\u505c\u6b62\u6642\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u524a\u9664\npre-down route del -net x.x.x.x netmask y.y.y.y gw z.z.z.z dev eth0\n```\n\n```bash:\n# \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\n$ sudo /etc/init.d/networking restart\n```\n\n+ DNS\u306e\u8a2d\u5b9a\n\n```bash:\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/resolvconf/resolv.conf.d/base\n```\n\n```bash:/etc/resolvconf/resolv.conf.d/base\nnameserver 8.8.8.8\nnameserver 8.8.4.4\n```\n\n```bash:\n# DNS\u8a2d\u5b9a\u306e\u53cd\u6620\n$ sudo resolvconf -u\n```\n\n### \u5ff5\u306e\u305f\u3081\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6700\u65b0\u72b6\u614b\u306b\u66f4\u65b0\n\n```bash:\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30b9\u30c8\u3092\u66f4\u65b0\n$ sudo apt-get update\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\n$ sudo apt-get upgrade\n```\n\n### [ssh\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb] (http://qiita.com/rintarou/items/bef523c7c8f11097e577)\n\n```bash:\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install openssh-server \n```\n\n### [git\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb] (https://git-scm.com/book/ja/v1/\u4f7f\u3044\u59cb\u3081\u308b-Git\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb)\n\n```bash:\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install git\n```\n\n### NTP\u30fb\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\n```bash:\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install ntp\n# ntp\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\n$ sudo /etc/init.d/ntp stop\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/ntp.conf\n```\n\n```bash:/etc/ntp.conf\n# \u4f8b\u3068\u3057\u3066NICT\u306eNTP\u30b5\u30fc\u30d0\u3092\u8ffd\u52a0\nserver ntp.nict.jp\n```\n\n```bash:\n# \u624b\u52d5\u3067\u6642\u523b\u540c\u671f\n$ sudo ntpdate ntp.nict.jp\n# ntp\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\n$ sudo /etc/init.d/ntp start\n```\n\n```bash:\n# \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u6771\u4eac\u306b\u5909\u66f4\n$ sudo mv /etc/localtime /etc/localtime.bak\n$ sudo ln -s /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n```\n\n### [Windows->Ubuntu\u306e\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u306e\u69cb\u7bc9] (http://wp.developapp.net/?p=4310) (if necessary)\n+ Ubuntu\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u304b\u3089\u300cdesktop sharing\u300d\u3092\u691c\u7d22\u30fb\u8d77\u52d5\u3057\u3001\u300cAllow other users to view your desktop\u300d\u3092\u30c1\u30a7\u30c3\u30af\u3001\u4ed6\u306f\u30c1\u30a7\u30c3\u30af\u3092\u306f\u305a\u3059\u3002\n+ dconf-editor\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u8d77\u52d5\u3057\u3001org > gnome > desktop > remote-access > require-encryption \u306e\u30c1\u30a7\u30c3\u30af\u3092\u306f\u305a\u3059\u3002\n+ Windows\u306bVNC\u30d3\u30e5\u30fc\u30ef(\u500b\u4eba\u7684\u306b\u306f[UltraVNC Viewer](http://www.forest.impress.co.jp/library/software/ultravnc/)\u304c\u304a\u3059\u3059\u3081)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u8d77\u52d5\u3059\u308b\u3002\n\n### [\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a\u306e\u8a2d\u5b9a] (http://knqyf263.hatenablog.com/entry/2014/01/13/200509) (if necessary)\n\n```bash:\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/init/ttyS0.conf\n```\n\n```bash:/etc/init/ttyS0.conf \nstart on stopped rc RUNLEVEL=[2345]\nstop on runlevel [!2345]\n\nrespawn\nexec /sbin/getty -L 115200 ttyS0 vt102\n```\n```bash:\n# ttyS0\u3092\u8d77\u52d5\n$ sudo start ttyS0\n```\n\n```bash:\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi /etc/default/grub\n```\n\n```vi:/etc/default/grub\n+GRUB_CMDLINE_LINUX=\"console=tty0 console=ttyS0,115200n8\"\n+GRUB_SERIAL_COMMAND=\"serial --speed=115200 --unit=0 --word=8 --parity=no --stop=1\"\n```\n\n\n## DevStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:\n# /opt\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\n$ cd /opt/\n# git\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30de\u30b9\u30bf\u304b\u3089\u30af\u30ed\u30fc\u30f3\n$ sudo git clone https://git.openstack.org/openstack-dev/devstack.git\n# stack\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\n$ sudo devstack/tools/create-stack-user.sh\n# devstack\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6240\u6709\u8005\u3092\u5909\u66f4\n$ sudo chown -R stack:stack devstack\n# stack\u30e6\u30fc\u30b6\u306b\u5909\u66f4\n$ sudo su - stack\n# devstack\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\n$ cd /opt/devstack\n# DevStack\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u7528\u306b\u30b3\u30d4\u30fc\n$ cp samples/local.conf .\n```\n\n+ [local.conf\u306e\u7de8\u96c6] (http://docs.openstack.org/developer/devstack/guides/neutron.html)\n\n```bash:\n# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\n$ vi local.conf\n```\n\n```bash:local.conf\n# Sample ``local.conf`` for user-configurable variables in ``stack.sh``\n#@@@ local.conf\u306fstack.sh\u306b\u3088\u3063\u3066\u4f7f\u7528\u3055\u308c\u308b\u30e6\u30fc\u30b6\u5b9a\u7fa9\u5909\u6570\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3002\n\n# NOTE: Copy this file to the root DevStack directory for it to work properly.\n#@@@ \u6ce8\u610f\uff1a\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092devstack\u76f4\u4e0b\u306b\u914d\u7f6e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n# ``local.conf`` is a user-maintained settings file that is sourced from ``stackrc``.\n# This gives it the ability to override any variables set in ``stackrc``.\n# Also, most of the settings in ``stack.sh`` are written to only be set if no\n# value has already been set; this lets ``local.conf`` effectively override the\n# default values.\n#@@@ local.conf\u306fstackrc\u3067\u5b9a\u7fa9\u3055\u308c\u308b\u5909\u6570\u306b\u95a2\u3057\u3066\u3001\u30e6\u30fc\u30b6\u304c\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308b\u3002\n#@@@ \u3064\u307e\u308a\u3001stackrc\u5185\u306e\u5024\u3092\u4e0a\u66f8\u304d\u3059\u308b\u3002\n#@@@ \u307e\u305f\u3001\u5fc5\u8981\u3068\u3055\u308c\u308b\u5024\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u3001stack.sh\u5185\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u5229\u7528\u3055\u308c\u308b\u3002\n\n# This is a collection of some of the settings we have found to be useful\n# in our DevStack development environments. Additional settings are described\n# in http://devstack.org/local.conf.html\n# These should be considered as samples and are unsupported DevStack code.\n#@@@ \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306fdevstack\u74b0\u5883\u4e0b\u3067\u4f7f\u7528\u3055\u308c\u308b\u8a2d\u5b9a\u306e\u3044\u304f\u3064\u304b\u3092\u96c6\u7d04\u3057\u305f\u3082\u306e\u3067\u3042\u308b\u3002\n#@@@ \u8ffd\u52a0\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u3092\u53c2\u7167\u3055\u308c\u305f\u3044\u3002\n#@@@ http://docs.openstack.org/developer/devstack/configuration.html\n#@@@ \u8ffd\u52a0\u8a2d\u5b9a\u306f\u30b5\u30f3\u30d7\u30eb\u3067\u3042\u308a\u3001devstack\u30b3\u30fc\u30c9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u305f\u3082\u306e\u3067\u306f\u306a\u3044\u3002\n\n# The ``localrc`` section replaces the old ``localrc`` configuration file.\n# Note that if ``localrc`` is present it will be used in favor of this section.\n#@@@ localrc\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u5f93\u6765\u4f7f\u7528\u3057\u3066\u3044\u305flocalrc\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u7f6e\u304d\u63db\u308f\u308b\u3082\u306e\u3067\u3042\u308b\u3002\n#@@@ \u6ce8\u610f\uff1alocalrc\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u3066\u3082\u3001localrc\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u512a\u5148\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002\n\n[[local|localrc]]\n\n##### Password #####\n#-------------------\n# If the ``SERVICE_TOKEN`` and ``*_PASSWORD`` variables are not set\n# here you will be prompted to enter values for them by ``stack.sh``\n# and they will be added to ``local.conf``.\n#@@@ SERVICE_TOKEN\u3084*_PASSWORD\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u3001stack.sh\u5b9f\u884c\u6642\u306b\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u5834\u5408\u3082\u3042\u308a\u3001local.conf\u306b\u8ffd\u8a18\u3055\u308c\u308b\u3002\n\nADMIN_PASSWORD=stack\nDATABASE_PASSWORD=$ADMIN_PASSWORD\nRABBIT_PASSWORD=$ADMIN_PASSWORD\nSERVICE_PASSWORD=$ADMIN_PASSWORD\nMYSQL_PASSWORD=$ADMIN_PASSWORD\nSERVICE_TOKEN=111222333444\n\n#FIXED_RANGE=192.168.9.0/24\n#FLOATING_RANGE=192.168.20.0/25\n\n# ``HOST_IP`` and ``HOST_IPV6`` should be set manually for best results if\n# the NIC configuration of the host is unusual, i.e. ``eth1`` has the default\n# route but ``eth0`` is the public interface.  They are auto-detected in\n# ``stack.sh`` but often is indeterminate on later runs due to the IP moving\n# from an Ethernet interface to a bridge on the host. Setting it here also\n# makes it available for ``openrc`` to include when setting ``OS_AUTH_URL``.\n# Neither is set by default.\n#@@@ HOST_IP\u3084HOST_IPV6\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a\u304c\u7279\u6b8a\u306a\u5834\u5408\u306b\u306f\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u3042\u308b\u3002\n#@@@ \u3064\u307e\u308a\u3001eth1\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u30eb\u30fc\u30c8\u3060\u304c\u3001eth0\u304c\u30d1\u30d6\u30ea\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5834\u5408\u3067\u306f\u3001stack.sh\u5185\u3067\u3053\u308c\u3089\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u81ea\u52d5\u8a8d\u8b58\u3055\u308c\u308b\u304c\u3001\u305d\u308c\u3089\u306f\u4e0d\u5b9a\u306a\u3082\u306e\u3068\u306a\u308a\u5f97\u308b\u3002\u3064\u307e\u308a\u3001IP\u30a2\u30c9\u30ec\u30b9\u306fEthernet\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u306f\u306a\u304f\u30db\u30b9\u30c8\u306e\u30d6\u30ea\u30c3\u30b8\u3068\u7d10\u3065\u304f\u305f\u3081\u3001devstack\u7ba1\u7406\u4e0b\u306b\u306f\u5fc5\u305a\u3057\u3082\u306a\u3044\u304b\u3089\u3067\u3042\u308b\u3002\n#@@@ HOST_IP\u306e\u8a2d\u5b9a\u306fOS_AUTH_URL\u8a2d\u5b9a\u6642\u306bopenrc\u306b\u542b\u3081\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u304c\u3001\u5171\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u8a2d\u5b9a\u3055\u308c\u306a\u3044\u3002\n\n##### IP\u30a2\u30c9\u30ec\u30b9 #####\n#------------------\n#@@@ \u4f7f\u7528\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u5834\u5408(\u30ed\u30fc\u30ab\u30eb\u306b\u9589\u3058\u305f\u74b0\u5883\u3067\u3042\u308c\u3070\u4e0d\u8981)\nHOST_IP=192.168.9.129\n#HOST_IPV6=xx:xx:xx:xx:xx:xx\n#SERVICE_HOST=$HOST_IP\n\n##### openrc #####\n#-----------------\n#@@@ \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\nOS_PROJECT_NAME=demo\n#@@@ \u30e6\u30fc\u30b6\u540d\nOS_USERNAME=demo\n#@@@ \u30d1\u30b9\u30ef\u30fc\u30c9\nOS_PASSWORD=password\n#@@@\u3000Keystone\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\nOS_AUTH_URL=http://$SERVICE_HOST:5000/v2.0\n\n##### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3 #####\n#---------------------------\n# devstack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f/opt/stack\n#DEST=/opt/stack\n\n# stack.sh\u5b9f\u884c\u6642\u306b\u90fd\u5ea6git clone\u3092\u5b9f\u884c\u3059\u308b\u304b\u3069\u3046\u304b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u5b58\u5728\u3059\u308c\u3070\u3001reclone\u3092\u5b9f\u884c\u3057\u306a\u3044\u3002\n#RECLONE=yes\n\n# pip\u306b\u3088\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\nPIP_UPGRADE=True\n\n# \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3057\u305f\u304f\u306a\u3044\u5834\u5408\n#OFFLINE=True\n\n##### Service Repos #####\n#------------------------\nGIT_BASE=https://git.openstack.org\nVERSION=master\n#VERSION=stable/mitaka\n\n# Keystone\nKEYSTONE_REPO=$GIT_BASE/openstack/keystone.git\nKEYSTONE_BRANCH=$VERSION\n\n# Horizon\nHORIZON_REPO=$GIT_BASE/openstack/horizon.git\nHORIZON_BRANCH=$VERSION\n\n# Nova\nNOVA_REPO=$GIT_BASE/openstack/nova.git\nNOVA_BRANCH=$VERSION\n\n# Neutron\nNEUTRON_REPO=$GIT_BASE/openstack/neutron.git\nNEUTRON_BRANCH=$VERSION\n\n# Glance\nGLANCE_REPO=$GIT_BASE/openstack/glance.git\nGLANCE_BRANCH=$VERSION\n\n# Cinder\n#CINDER_REPO=$GIT_BASE/openstack/cinder.git\n#CINDER_BRANCH=$VERSION\n\n# Ceilometer\nCEILOMETER_REPO=$GIT_BASE/openstack/ceilometer.git\nCEILOMETER_BRANCH=$VERSION\n\n# Aodh\nAODH_REPO=$GIT_BASE/openstack/aodh.git\nAODH_BRANCH=$VERSION\n\n# Heat\n#HEAT_REPO=$GIT_BASE/openstack/heat.git\n#HEAT_BRANCH=$VERSION\n\n# Swift\n#SWIFT_REPO=$GIT_BASE/openstack/swift.git\n#SWIFT_BRANCH=$VERSION\n\n\n##### Services #####\n#-------------------\n#@@@ \u4e0d\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u305b\u305a\u3001\u65e9\u304f\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306b\u3001\u5168\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3057\u305f\u5f8c\u3001\u5fc5\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u306e\u307f\u3092\u8d77\u52d5\ndisable_all_services\n\n##### Database Backend #####\n#--------------------------\n# Enable Database Backend MySQL(Default) or PostgreSQL\nenable_service mysql\n#enable_service postgresql\n\n##### RPC Backend #####\n#----------------------\n# Enable RPC Backend RabbitMQ(Default) or Others\nenable_service rabbit\n\n##### Keystone - Identity Service #####\n#--------------------------------------\nenable_service key\n\n# For Region One\n#REGION_NAME=RegionOne\n\n# For Region Two or Later\n#disable_service horizon\n#KEYSTONE_SERVICE_HOST=<KEYSTONE_IP_ADDRESS_FROM_REGION_ONE>\n#KEYSTONE_AUTH_HOST=<KEYSTONE_IP_ADDRESS_FROM_REGION_ONE>\n#REGION_NAME=RegionTwo\n#KEYSTONE_REGION_NAME=RegionOne\n\n# Disabling Identity API v2\n#ENABLE_IDENTITY_V2=False\n\n##### Horizon - Dashboard Service #####\n#--------------------------------------\nenable_service horizon\n\n##### Nova - Cloud Computing Fabric Controller #####\n# http://docs.openstack.org/developer/devstack/guides/nova.html\n#--------------------------------------------------------------\n# (\u5fc5\u9808)nova network service\u306e\u505c\u6b62\ndisable_service n-net\n\n###### Neutron - Network Connectivity Service #####\n# http://docs.openstack.org/developer/devstack/guides/neutron.html\n#-----------------------------------------------------------------\nenable_service neutron\n\n# Neutron options\nenable_service q-svc\nenable_service q-agt\nenable_service q-dhcp\nenable_service q-l3\nenable_service q-meta\n#enable_service q-fwaas\n#enable_service q-lbaas\n#enable_service q-vpn\n\nQ_USE_SECGROUP=True\nFLOATING_RANGE=192.168.9.0/24\nFIXED_RANGE=10.0.0.0/24\nQ_FLOATING_ALLOCATION_POOL=start=192.168.9.200,end=192.168.9.209\nPUBLIC_NETWORK_GATEWAY=192.168.9.1\nPUBLIC_INTERFACE=eth0\nQ_USE_PROVIDERNET_FOR_PUBLIC=True\n\n# Neutron ML2 with LinuxBridge\nQ_PLUGIN=ml2\nQ_AGENT=linuxbridge\nLB_PHYSICAL_INTERFACE=eth0\nPUBLIC_PHYSICAL_NETWORK=default\nLB_INTERFACE_MAPPINGS=default:eth0\n\n# Neutron ML2 with OpenvSwitch\n#Q_PLUGIN=ml2\n#Q_AGENT=openvswitch\n#OVS_PHYSICAL_BRIDGE=br-ex\n#PUBLIC_BRIDGE=br-ex\n#OVS_BRIDGE_MAPPINGS=public:br-ex\n\n# VLAN configuration\n#Q_PLUGIN=ml2\n#ENABLE_TENANT_VLANS=True\n \n# GRE tunnel configuration\n#Q_PLUGIN=ml2\n#ENABLE_TENANT_TUNNELS=True\n \n# VXLAN tunnel configuration\n#Q_PLUGIN=ml2\n#Q_ML2_TENANT_NETWORK_TYPE=vxlan\n\n##### Glance - Image Registry Service #####\n#------------------------------------------\nIMAGE_URLS=http://download.cirros-cloud.net/0.3.2/cirros-0.3.2-x86_64-uec.tar.gz\nenable_service g-api\nenable_service g-reg\n\n##### Cinder - Block Storage as a Service #####\n#----------------------------------------------\n#disable_service cinder\n#VOLUME_BACKING_FILE_SIZE=8192M\n\n##### Ceilometer - Data Collection Service #####\n#-----------------------------------------------\nenable_plugin ceilometer $CEILOMETER_REPO $CEILOMETER_BRANCH\nenable_service ceilometer-acompute\nenable_service ceilometer-acentral\nenable_service ceilometer-notification\nenable_service ceilometer-collector\nenable_service ceilometer-api\n#@@@ Aodh\u3092\u30aa\u30f3\u306b\u3059\u308b\u5834\u5408\u306fceilometer-alarm\u3092disable\u306b\u3059\u308b\u3002\n#enable_service ceilometer-alarm-notifier\n#enable_service ceilometer-alarm-evaluator\n#enable_service ceilometer-ipmi\n\n##### Aodh - Alarming Service #####\n#----------------------------------\nenable_plugin aodh $AODH_REPO $AODH_BRANCH\nenable_service aodh-evaluator\nenable_service aodh-notifier\nenable_service aodh-api\n\n##### Heat - Orchestration Service #####\n#-----------------------------\n#enable_service heat\n#enable_service h-api\n#enable_service h-api-cfn\n#enable_service h-api-cw\n#enable_service h-eng\n#HEAT_STANDALONE=True\n\n##### Swift - Object Storage #####\n#---------------------------------\n#enable_service s-proxy\n#enable_service s-object\n#enable_service s-container\n#enable_service s-account\n\n##### Logging #####\n#------------------\nLOGFILE=$DEST/logs/stack.sh.log\nLOGDIR=$DEST/logs\nLOGDAYS=1\nLOG_COLOR=False\n\n##### Syslog #####\n#-----------------\n#SYSLOG=True\n#SYSLOG_HOST=$HOST_IP\n#SYSLOG_PORT=516\n```\n```bash:\n# devstack\u306e\u5b9f\u884c\n## \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u65bd\u3059\u308b\u305f\u3081\u3001\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u6ce8\u610f\n$ ./stack.sh\n```\n<Font color=\"red\">\u203b\u3053\u3053\u3067\u518d\u8d77\u52d5\u3059\u308b\u3068\u3060\u3044\u305f\u3044\u58ca\u308c\u308b\u306e\u3067\u3001\u305d\u306e\u5834\u5408\u306f\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u6700\u521d\u304b\u3089</font>\n\n## DevStack\u306e\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash:\n# \u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u542b\u3081\u5b8c\u5168\u524a\u9664\n$ ./clean.sh\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u307f\u524a\u9664\n$ ./unstack.sh\n```\n\n## \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\n+ http://xx.xx.xx.xx/dashboard \u306b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\n    + \u30e6\u30fc\u30b6\u540d\uff1aadmin\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\uff1aADMIN_PASSWORD\u306e\u8a2d\u5b9a\u5024\n\n\n\n[\u53c2\u8003] (http://stackoverflow.com/questions/35273485/problems-with-devstack-configuration-with-ceilometer)\n"}