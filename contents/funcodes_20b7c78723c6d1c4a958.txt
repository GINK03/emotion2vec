{"context": "\n\n2016.09.04\n\n\n\u3053\u306e\u6587\u66f8\u3092\u53c2\u7167\u3057decoding\u6642\u306e\u305d\u308c\u305e\u308c\u306e\u5f79\u5272\u306e\u3082\u3063\u3068\u660e\u77ad\u306a\u8aac\u660e\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\u30bd\u30fc\u30b9\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002\n\n\nDecoding Functions\n\navcodec_send_packet\n\n\n\n\u5f15\u6570\n\nAVCodecContext* avctx - \u30c7\u30b3\u30fc\u30c0\u30fc\u3059\u308b\u30b3\u30c7\u30c3\u30af\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3002\nAVPacket*\u3000avpkt - \u89e3\u9664\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u6301\u3064\u3079\u304d\u306e\u30b3\u30f3\u30c6\u30fc\u30ca\u3002null\u306e\u5834\u5408\u306f\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306e\u3067\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30c7\u30fc\u30bf\u3092\u5168\u3066\u30c9\u30fc\u30ec\u30a4\u30f3\uff08\u30af\u30ea\u30a2\uff09\u3057\u307e\u3059\u3002\n\n\n\n\u5f79\u5272\n\n\u305d\u308c\u305e\u308c\u306e\u30b9\u30c8\u30ea\u30fc\u30e0\u306epacket\u3092AVCodecContext\u306e\u5185\u90e8\u30d0\u30fc\u30d5\u30a1\u4fdd\u5b58\u3057\u307e\u3059\u3002\u666e\u901a\u306f\uff11\u30d5\u30ec\u30fc\u30e0\u7a0b\u5ea6\u306e\u5927\u304d\u3055\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\u3082\u3057\u3001\u5185\u90e8\u30d0\u30fc\u30d5\u30a1\u304c\u7c60\u3063\u305f\u5834\u5408\u3001AVERROR(EAGAIN)\u306e\u30a8\u30e9\u30fc\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001avcodec_receive_frame\u3067\u30c7\u30fc\u30bf\u3092\u8aad\u307e\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\nstream\u8aad\u307f\u304c\u7d42\u308f\u3063\u305f\u5834\u5408\u3001avpkt\u5f15\u6570\u306bNULL\u3092\u6e21\u3063\u3066\u3001drain mode\u3092\u5b9f\u884c\u3055\u305b\u307e\u3059\u3002\n\n\n\n\n\n\u6d41\u308c\n\n\u30b3\u30c7\u30c3\u30af\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u958b\u3044\u3066\u3044\u308b\u304b\u3001\u307e\u305f\u306f\u30c7\u30b3\u30fc\u30c0\u30fc\u7528\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306a\u306e\u304b\u3092\u691c\u8a0e\u3059\u308b\u3002\u6761\u4ef6\u306b\u5f53\u305f\u3089\u306a\u3044\u5834\u5408\u3044\u3001\u3053\u306e\u6bb5\u968e\u3067AVERROR(EINVAL)\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u30c9\u30fc\u30ec\u30a4\u30f3\u3055\u308c\u3066\u308b\u5834\u5408\u3001AVERROR_EOF\u5909\u63db\u3057\u307e\u3059\u3002\navpkt\u304cnull\u3001\u307e\u305f\u306favpkt->size\u304c0\u306e\u5834\u5408\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u30c9\u30ec\u30a4\u30f3\u3059\u308b\u3053\u3068\u3092\u6307\u793a\u3059\u308b\u3002\u30b3\u30c7\u30c3\u30af\u306ecapabilities(avctx->codec->capabilities)\u304cAV_CODEC_CAP_DELAY\u3067\u3042\u308b\u5834\u5408\u30010\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u6301\u3064\u30b3\u30c7\u30c3\u30af\u306bsend_packet\u95a2\u6570\u304c\u3042\u308b\u5834\u5408\u3001avpkt\u3092send_packet\u95a2\u6570\u306b\u6e21\u3057\u3001\u7d50\u679c\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002avpkt\u304c\u306a\u3044\u5834\u5408\u306f\u305d\u306e\u307e\u307enull\u3092\u6e21\u3057\u3066\u7d50\u679c\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n\u666e\u901a\u306f4\u756a\u307e\u3067\u306e\u9806\u756a\u3067\u7d42\u308f\u308a\u3067\u3059\u304c\u30b3\u30c7\u30c3\u30af\u304c\u65b0\u3057\u3044api\u3092\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u5834\u5408\u3001\u4ee5\u524d\u306eapi\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u307e\u3059\u3002\u8a73\u7d30\u306f\u307e\u3042\u9762\u5012\u304f\u3055\u3044\u3067\u3059\u3002\u7b11\u3002\n\n\n\n\n\navcodec_receive_frame\n\n\n\n\u5f15\u6570\n\nAVCodecContext* avctx - \u30c7\u30b3\u30fc\u30c0\u30fc\u3059\u308b\u30b3\u30c7\u30c3\u30af\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3002\nAVFrame* frame\n\n\n\n\u5f79\u5272\n\n\nAVCodecContext\u306e\u5185\u90e8\u30d0\u30fc\u30d5\u30a1\u30fc\u306epacket\u3092decode\u3057\u3066AVFrame\u306b\u6e21\u3057\u307e\u3059\u3002\nAVERROR(EAGAIN)\u304c\u5909\u63db\u3055\u308c\u308b\u307e\u3067\u3001\u7e70\u308a\u8fd4\u3057\u3066\u3001\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\ndecoding\u304c\u7d42\u308f\u3063\u3066\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304cdrain mode\u306b\u5165\u3063\u305f\u5834\u5408\u3001AVERROR_EOF\u304c\u5909\u63db\u3055\u308c\u308b\u307e\u3067\u3053\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\u6d41\u308c\n\n\nframe\u306e\u6301\u3064\u30c7\u30fc\u30bf\u3092\u30af\u30ea\u30f3\u3057\u307e\u3059\u3002av_frame_unref\u3092frame\u30dd\u30a4\u30f3\u30bf\u30fc\u306b\u3064\u3044\u306b\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002 \u6ce8\u610f\u3059\u308b\u51e6\u3067\u3059\u306d\u3002\n\n\u30b3\u30c7\u30c3\u30af\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u958b\u3044\u3066\u3044\u308b\u304b\u3001\u307e\u305f\u306f\u30c7\u30b3\u30fc\u30c0\u30fc\u7528\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306a\u306e\u304b\u3092\u691c\u8a0e\u3059\u308b\u3002\u6761\u4ef6\u306b\u5f53\u305f\u3089\u306a\u3044\u5834\u5408\u3044\u3001\u3053\u306e\u6bb5\u968e\u3067AVERROR(EINVAL)\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u6301\u3064\u30b3\u30c7\u30c3\u30af\u306breceive_frame\u95a2\u6570\u304c\u3042\u308b\u5834\u5408\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u30c9\u30ec\u30a4\u30f3\u4e2d\u306a\u3089AVERROR_EOF\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\u305d\u306e\u4ee5\u5916\u306f\u3001receive_frame\u306bframe\u30dd\u30a4\u30f3\u30bf\u30fc\u3092\u6e21\u3057\u3066\u7d50\u679c\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n\u666e\u901a\u306f\uff13\u756a\u307e\u3067\u306e\u9806\u756a\u3067\u7d42\u308f\u308a\u3067\u3059\u304c\u30b3\u30c7\u30c3\u30af\u304c\u65b0\u3057\u3044api\u3092\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u5834\u5408\u3001\u4ee5\u524d\u306eapi\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u307e\u3059\u3002\n\n\n\n\n\u4f7f\u7528\u6cd5(\u51fa\u6240\u306f\u3053\u3061\u3089\u304b\u3089)\ndefer {\n    avcodec_send_packet(avctx, NULL)\n    while true {\n        if AVERROR_EOF == avcodec_receive_packet(avctx, frame) {\n            break\n        }\n    }\n}\nwhile 0 <= av_read_frame(avctx, packet) {\n    // avcodec_decode_video2[audio4](...)\u3092\u4e0b\u306e\u30b3\u30fc\u30c9\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n    // \u3082\u3063\u3068\u7c21\u5358\u306b\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3002\u30b5\u30a4\u30c9\u30fc\u30a4\u30d5\u30a7\u30c3\u30af\u30c8\u3092\u907f\u3051\u308b\u305f\u3081\u307b\u3068\u3093\u3069\u5909\u66f4\u3057\u306a\u3044\u307e\u307e\u3067\u9069\u7528\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n    ...\n\n    var ret = avcodec_send_packet(avctx, packet)\n    // ret\u304cAVERROR(EAGAIN)\u306e\u5834\u5408, receive_frame\u3067AVERROR_EOF\u304c\u8fd4\u9084\u3055\u308c\u308b\u307e\u3067\u3001packet\u7e70\u308a\u8fd4\u3057\u3066\u9001\u308a\u307e\u3059\u3002\n    if 0 > ret && ret != AVERROR(EAGAIN) && ret != AVERROR_EOF {\n        if 0 > ret { // error\n            break\n        }\n        continue\n    }\n\u3000\u3000\u3000ret = avcodec_receive_frame(avctx, frame)\n    if 0 > ret && ret != AVERROR(EAGAIN) && ret != AVERROR_EOF {\n        if 0 > ret {\n            break\n        }\n    }\n    // success to get frame\n    ...\n}\n\n###2016.09.04\n- [\u3053\u306e](http://ffmpeg.org/doxygen/3.1/group__lavc__encdec.html)\u6587\u66f8\u3092\u53c2\u7167\u3057decoding\u6642\u306e\u305d\u308c\u305e\u308c\u306e\u5f79\u5272\u306e\u3082\u3063\u3068\u660e\u77ad\u306a\u8aac\u660e\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n- \u30bd\u30fc\u30b9\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002\n\n##Decoding Functions\n\n###[avcodec_send_packet](https://www.ffmpeg.org/doxygen/3.1/group__lavc__decoding.html#ga58bc4bf1e0ac59e27362597e467efff3)\n- **\u5f15\u6570**\n    - AVCodecContext* avctx - \u30c7\u30b3\u30fc\u30c0\u30fc\u3059\u308b\u30b3\u30c7\u30c3\u30af\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3002\n    - AVPacket*\u3000avpkt - \u89e3\u9664\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u6301\u3064\u3079\u304d\u306e\u30b3\u30f3\u30c6\u30fc\u30ca\u3002null\u306e\u5834\u5408\u306f\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306e\u3067\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30c7\u30fc\u30bf\u3092\u5168\u3066\u30c9\u30fc\u30ec\u30a4\u30f3\uff08\u30af\u30ea\u30a2\uff09\u3057\u307e\u3059\u3002\n- **\u5f79\u5272**\n    - \u305d\u308c\u305e\u308c\u306e\u30b9\u30c8\u30ea\u30fc\u30e0\u306epacket\u3092**AVCodecContext**\u306e\u5185\u90e8\u30d0\u30fc\u30d5\u30a1\u4fdd\u5b58\u3057\u307e\u3059\u3002\u666e\u901a\u306f\uff11\u30d5\u30ec\u30fc\u30e0\u7a0b\u5ea6\u306e\u5927\u304d\u3055\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n    - \u3082\u3057\u3001\u5185\u90e8\u30d0\u30fc\u30d5\u30a1\u304c\u7c60\u3063\u305f\u5834\u5408\u3001**AVERROR(EAGAIN)**\u306e\u30a8\u30e9\u30fc\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001avcodec_receive_frame\u3067\u30c7\u30fc\u30bf\u3092\u8aad\u307e\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n    - stream\u8aad\u307f\u304c\u7d42\u308f\u3063\u305f\u5834\u5408\u3001avpkt\u5f15\u6570\u306bNULL\u3092\u6e21\u3063\u3066\u3001drain mode\u3092\u5b9f\u884c\u3055\u305b\u307e\u3059\u3002\n<br/>\n- **\u6d41\u308c**\n    1. \u30b3\u30c7\u30c3\u30af\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u958b\u3044\u3066\u3044\u308b\u304b\u3001\u307e\u305f\u306f\u30c7\u30b3\u30fc\u30c0\u30fc\u7528\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306a\u306e\u304b\u3092\u691c\u8a0e\u3059\u308b\u3002\u6761\u4ef6\u306b\u5f53\u305f\u3089\u306a\u3044\u5834\u5408\u3044\u3001\u3053\u306e\u6bb5\u968e\u3067AVERROR(EINVAL)\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n    2. \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u30c9\u30fc\u30ec\u30a4\u30f3\u3055\u308c\u3066\u308b\u5834\u5408\u3001**AVERROR_EOF**\u5909\u63db\u3057\u307e\u3059\u3002\n    3. avpkt\u304cnull\u3001\u307e\u305f\u306favpkt->size\u304c0\u306e\u5834\u5408\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u30c9\u30ec\u30a4\u30f3\u3059\u308b\u3053\u3068\u3092\u6307\u793a\u3059\u308b\u3002\u30b3\u30c7\u30c3\u30af\u306ecapabilities(avctx->codec->capabilities)\u304cAV_CODEC_CAP_DELAY\u3067\u3042\u308b\u5834\u5408\u30010\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n    4. \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u6301\u3064\u30b3\u30c7\u30c3\u30af\u306bsend_packet\u95a2\u6570\u304c\u3042\u308b\u5834\u5408\u3001avpkt\u3092send_packet\u95a2\u6570\u306b\u6e21\u3057\u3001\u7d50\u679c\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002avpkt\u304c\u306a\u3044\u5834\u5408\u306f\u305d\u306e\u307e\u307enull\u3092\u6e21\u3057\u3066\u7d50\u679c\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n    5. \u666e\u901a\u306f4\u756a\u307e\u3067\u306e\u9806\u756a\u3067\u7d42\u308f\u308a\u3067\u3059\u304c\u30b3\u30c7\u30c3\u30af\u304c\u65b0\u3057\u3044api\u3092\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u5834\u5408\u3001\u4ee5\u524d\u306eapi\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u307e\u3059\u3002\u8a73\u7d30\u306f\u307e\u3042\u9762\u5012\u304f\u3055\u3044\u3067\u3059\u3002\u7b11\u3002\n\n\n---\n###[avcodec_receive_frame](https://www.ffmpeg.org/doxygen/3.1/group__lavc__decoding.html#ga11e6542c4e66d3028668788a1a74217c)\n\n- **\u5f15\u6570**\n    - AVCodecContext* avctx - \u30c7\u30b3\u30fc\u30c0\u30fc\u3059\u308b\u30b3\u30c7\u30c3\u30af\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3002\n    - AVFrame* frame\n- **\u5f79\u5272**\n    - **AVCodecContext**\u306e\u5185\u90e8\u30d0\u30fc\u30d5\u30a1\u30fc\u306epacket\u3092decode\u3057\u3066**AVFrame**\u306b\u6e21\u3057\u307e\u3059\u3002\n    - AVERROR(EAGAIN)\u304c\u5909\u63db\u3055\u308c\u308b\u307e\u3067\u3001\u7e70\u308a\u8fd4\u3057\u3066\u3001\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n    - decoding\u304c\u7d42\u308f\u3063\u3066\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304cdrain mode\u306b\u5165\u3063\u305f\u5834\u5408\u3001AVERROR_EOF\u304c\u5909\u63db\u3055\u308c\u308b\u307e\u3067\u3053\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- **\u6d41\u308c**\n    1. **frame\u306e\u6301\u3064\u30c7\u30fc\u30bf\u3092\u30af\u30ea\u30f3\u3057\u307e\u3059\u3002av_frame_unref\u3092frame\u30dd\u30a4\u30f3\u30bf\u30fc\u306b\u3064\u3044\u306b\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002** ***\u6ce8\u610f\u3059\u308b\u51e6\u3067\u3059\u306d\u3002***\n    2. \u30b3\u30c7\u30c3\u30af\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u958b\u3044\u3066\u3044\u308b\u304b\u3001\u307e\u305f\u306f\u30c7\u30b3\u30fc\u30c0\u30fc\u7528\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306a\u306e\u304b\u3092\u691c\u8a0e\u3059\u308b\u3002\u6761\u4ef6\u306b\u5f53\u305f\u3089\u306a\u3044\u5834\u5408\u3044\u3001\u3053\u306e\u6bb5\u968e\u3067AVERROR(EINVAL)\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n    3. \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u6301\u3064\u30b3\u30c7\u30c3\u30af\u306breceive_frame\u95a2\u6570\u304c\u3042\u308b\u5834\u5408\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u30c9\u30ec\u30a4\u30f3\u4e2d\u306a\u3089AVERROR_EOF\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\u305d\u306e\u4ee5\u5916\u306f\u3001receive_frame\u306bframe\u30dd\u30a4\u30f3\u30bf\u30fc\u3092\u6e21\u3057\u3066\u7d50\u679c\u3092\u8fd4\u9084\u3057\u307e\u3059\u3002\n    4. \u666e\u901a\u306f\uff13\u756a\u307e\u3067\u306e\u9806\u756a\u3067\u7d42\u308f\u308a\u3067\u3059\u304c\u30b3\u30c7\u30c3\u30af\u304c\u65b0\u3057\u3044api\u3092\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u5834\u5408\u3001\u4ee5\u524d\u306eapi\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u307e\u3059\u3002\n\n\n###\u4f7f\u7528\u6cd5(\u51fa\u6240\u306f[\u3053\u3061\u3089](https://ffmpeg.org/doxygen/trunk/libavformat_2utils_8c_source.html#l02851)\u304b\u3089)\n```swift\ndefer {\n    avcodec_send_packet(avctx, NULL)\n    while true {\n        if AVERROR_EOF == avcodec_receive_packet(avctx, frame) {\n            break\n        }\n    }\n}\nwhile 0 <= av_read_frame(avctx, packet) {\n    // avcodec_decode_video2[audio4](...)\u3092\u4e0b\u306e\u30b3\u30fc\u30c9\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n    // \u3082\u3063\u3068\u7c21\u5358\u306b\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3002\u30b5\u30a4\u30c9\u30fc\u30a4\u30d5\u30a7\u30c3\u30af\u30c8\u3092\u907f\u3051\u308b\u305f\u3081\u307b\u3068\u3093\u3069\u5909\u66f4\u3057\u306a\u3044\u307e\u307e\u3067\u9069\u7528\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n    ...\n    \n    var ret = avcodec_send_packet(avctx, packet)\n    // ret\u304cAVERROR(EAGAIN)\u306e\u5834\u5408, receive_frame\u3067AVERROR_EOF\u304c\u8fd4\u9084\u3055\u308c\u308b\u307e\u3067\u3001packet\u7e70\u308a\u8fd4\u3057\u3066\u9001\u308a\u307e\u3059\u3002\n    if 0 > ret && ret != AVERROR(EAGAIN) && ret != AVERROR_EOF {\n        if 0 > ret { // error\n            break\n        }\n        continue\n    }\n\u3000\u3000\u3000ret = avcodec_receive_frame(avctx, frame)\n    if 0 > ret && ret != AVERROR(EAGAIN) && ret != AVERROR_EOF {\n        if 0 > ret {\n            break\n        }\n    }\n    // success to get frame\n    ...\n}\n```\n", "tags": ["ffmpeg", "Swift"]}