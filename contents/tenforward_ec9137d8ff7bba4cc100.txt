{"context": "\u8a73\u3057\u304f\u306f\n* http://mstone.sourceforge.net//doc/mstone.html\n\u3092\u3069\u3046\u305e\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget \"https://jaist.dl.sourceforge.net/project/mstone/mstone/4.9.4/mstone%2Bdocs-4.9.4.tar.gz\"\n$ tar xvf mstone+docs-4.9.4.tar.gz\n$ cd mstone-4.9.4/\n\nCMakeLists.txt \u5192\u982d\u306b\ncmake_minimum_required(VERSION 3.5)\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002(CentOS6 \u8fba\u308a\u306e cmake \u306a\u3089\u8b66\u544a\u51fa\u308b\u3060\u3051\u306a\u306e\u3067\u8ffd\u52a0\u4e0d\u8981\u304b\u306a)\n$HOME/mstone \u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ cd ..\n$ mkdir build && cd build\n$ cmake -DCMAKE_INSTALL_PREFIX=$HOME -DSVN_MODULE=OFF ../mstone-4.9.4\n$ make && make install\n\n(\u30bd\u30fc\u30b9\u3092\u5c55\u958b\u3057\u305f\u5834\u6240\u3068\u5225\u306e\u5834\u6240\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u308b\u3060\u3051\u3067\u3001\u5225\u306b\u5c55\u958b\u3057\u305f\u5834\u6240\u3067\u5b9f\u884c\u3057\u3066\u3082\u69cb\u3044\u307e\u305b\u3093)\nsvn \u30b5\u30dd\u30fc\u30c8\u306f\u7121\u8996\u3059\u308b\u306e\u3067 -DSVN_MODULE=OFF \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3067\u306a\u3044\u3068 GSS_LIB \u304c NOTFOUND \u3068\u304b\u306a\u3093\u3068\u304b\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\nCMake Error: The following variables are used in this project, but they are set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the CMake files:\nGSS_LIB\n\nmake install\u304c\u6210\u529f\u3059\u308b\u3068\u3001$HOME/mstone \u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u30c6\u30b9\u30c8\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u30c6\u30f3\u30dd\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3059\u308b\u4f5c\u696d\u3092\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u5225\u306e\u30db\u30b9\u30c8\u304b\u3089mstone\u4e00\u5f0f\u3092\u6301\u3063\u3066\u304d\u305f\u3068\u304b\u3001\u30c6\u30f3\u30dd\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092/tmp\u306b\u3057\u3066\u305f\u308a\u3057\u3066\u3001\u6383\u9664\u3055\u308c\u3066\u3057\u307e\u3063\u3066\u308b\u5834\u5408\u3068\u304b\u306f\u3053\u306e\u4f5c\u696d\u304c\u5fc5\u8981\u3067\u3059(\u901a\u5e38\u306f/var/tmp\u304c\u30c6\u30f3\u30dd\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u306a\u3063\u3066\u307e\u3059)\u3002\n$ cd $HOME/mstone\n$ ./mstone setup\nNetscape Mailstone.\nCopyright (c) 1997-2000 Netscape Communications Corp.\n\n  : (\u7565)\n\nDo you agree to the terms of the license? (yes/no) yes\n\nFound these message files:\nen-17k.msg en-1k.msg en-20k.msg en-2k.msg en-32k.msg en-3k.msg en-5k.msg en-750.msg en-gif-17k.msg gr-3k.msg nu-5k.msg words-ascii.dat\n\nCopying build/Linux4.9_x86_64/mailclient and message files to /var/tmp/\nLinux enterprise 4.9.0-plamo64 #3 SMP PREEMPT Mon Dec 19 17:42:58 JST 2016 x86_64 GNU/Linux\n\n$ \n\n\n\u30c6\u30b9\u30c8\u8a2d\u5b9a\n\n\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u5358\u72ec\u5b9f\u884c\n\n\u30c6\u30b9\u30c8\u306f localhost \u304b\u3089\u5358\u72ec\u5b9f\u884c\n\u30e1\u30fc\u30eb\u30b5\u30fc\u30d0\u306f mailhost.example.com\n\u30b5\u30fc\u30d0\u4e0a\u306e\u30e6\u30fc\u30b6\u306f user0 ~ user10 \u307e\u3067 (\u901a\u3057\u756a\u53f7)\n\u4e0a\u8a18\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306f hogehoge\n\n$ ./mstone config\nNetscape Mailstone.\nCopyright (c) 1997-2000 Netscape Communications Corp.\n\n\nConfigure test clients [n]? y\n\n    You can enter multiple machines like this: host1,host2\n\nWhat is the name of the client(s) for default OS [localhost]: \n\nWhat additional client(s) [none]: \n\nConfigure SMTP/POP/IMAP protocols [n]? y\n\nWhat is the name of the mail host [mailhost.example.com]: mailhost.example.com\n\nWhat is the user name pattern [mailtestuser%ld]: user%ld\n\nWhat is the password pattern [myPassword]: hogehoge        \n\nHow many users [100]: 10\n\nWhat is the first user number [0]: \n\nDo you want to view the new conf/general.wld [y]? n\n\nConfigure SVN support [n]? n\n\nGenerate an account LDIF file for Netscape Directory Server [n]? n\n\nMake any additional changes to conf/general.wld and then re-run 'setup'\n\n\u51fa\u6765\u4e0a\u304c\u3063\u305f conf/general.wld \u306f\n$ cat conf/general.wld\n# common setup info for tests\n# See sample.wld for detailed usage\n\n# Information on how the test is distributed and reported\n# Test independent configuration\n<CONFIG>\n  # Debug with short runs and a few clients, then increase test time\n  # These get overridden in the test specific files (or the command line)\n  clientCount   2   # nominal clientCount (usually overriden)\n  rampTime  20s\n  time      1m\n\n  # Each test should set a title/comments in their CONFIG section\n  # This is a reminder to set something\n  title     Need to set test title...\n  comments      Some sort of testing...\n  #sysConfig    conf/sample.html    # File for additonal system config\n\n  # Uncomment this to enable core dumps:\n  #clientCommand ulimit -Sc 900000; ./mailclient\n</CONFIG>\n\n# Each <Monitor> section defines remote monitoring commands \n#   for one or more machines.\n# Commands containing '%c' run to completion.  \n#  Otherwise the command will be shutdown down\n<MONITOR>\n  name          vmstat.txt            # outfile will be CLIENT*-NAME\n  command       vmstat %f\n  process       conf/clean_vmstat.pl  # custom processing script\n</MONITOR>\n\n# The PreTest sections will run before the test starts\n<PRETEST>\n  name    preifconfig.txt  # outfile will be CLIENT*-NAME\n  command   ifconfig\n</PRETEST>\n\n# The PostTest sections will run after the test ends\n<POSTTEST>\n  name      ifconfig.txt  # outfile will be CLIENT*-NAME\n  command   ifconfig; uname -a\n  # clean_ifconfig expects the input name to be preifconfig.txt or pretest.txt\n  process       conf/clean_ifconfig.pl  # custom processing script\n</POSTTEST>\n\n# The <DEFAULT> tag sets protocol block defaults\n<DEFAULT>\n  # defaults for both e-mail and revision control systems\n  loginFormat   user%ld\n  passwdFormat  hogehoge\n  numLogins 10\n  firstLogin    0\n\n  # e-mail defaults\n  server    mailhost.example.com\n  smtpMailFrom  user0@mailhost.example.com\n  addressFormat user%ld@mailhost.example.com\n  numAddresses  10\n  firstAddress  0\n\n  # revision control system defaults\n  repoUrl       http://myLocalSvn\n  topDir    repoTop/mstone\n\n</DEFAULT>\n\n\n# Specify client machines\n# mstone assigns the same process/thread counts to each host in a client block.\n# Use one host per client block for maximum allocation flexibility.\n<CLIENT HOSTS=localhost>\n  maxThreads 100\n</CLIENT>\n\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u5f8c\u307b\u3069\u4f7f\u308f\u308c\u307e\u3059\u3002\n\nSMTP \u30c6\u30b9\u30c8\n\n\u30c6\u30b9\u30c8\u306e\u5b9a\u7fa9\nmstone\u30b3\u30de\u30f3\u30c9\u306e\u5f15\u6570\u3067\u30c6\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f smtp \u3068\u3044\u3046\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306f SMTP \u3067\u30e1\u30fc\u30eb\u9001\u4fe1\u3092\u3059\u308b\u30c6\u30b9\u30c8\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3057\u3066\u3001conf/smtp.wld \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u6a19\u6e96\u914d\u5e03\u306e\u3082\u306e\u4ee5\u5916\u306b\u3082\u81ea\u5206\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\n<includeOnce conf/general.wld>\n\n<CONFIG>        # test specific config\n  title         SMTP message deliveries\n  clientCount   20\n</CONFIG>\n\n# if we include more than one, we get a distribution of all sizes\n<include conf/smtp1k.wld>\n<include conf/smtp5k.wld>\n<include conf/smtp17k.wld>\n\n\n\nconf/general.wld \u3092 include \u3057\u3066\n\nconf/smtp{1,5,17}k.wld \u3092 include \u3057\u307e\u3059\n\n\u3053\u3053\u3067 include \u3055\u308c\u3066\u3044\u308b smtp1k.wld \u306f\u3001\n<SMTP>\nweight 100\nfile en-1k.msg\nnumRecips 1     # \u30e1\u30fc\u30eb\u5b9b\u5148\u306e\u6570\nnumLoops 1      # number of messages to send per login\n</SMTP>\n\n(\u30b3\u30e1\u30f3\u30c8\u306f\u4e00\u90e8\u8ffd\u52a0\u30fb\u524a\u9664\u3057\u3066\u307e\u3059)\n\nSMTP \u3067\u9001\u4fe1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066 en-1k.msg \u3092\u4f7f\u7528\u3059\u308b\n\n\n\nen-1k.msg \u306f data/en-1k.msg \u3067\u3059\u3002\n\n\n\u3053\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u6bd4\u7387\u3092 weight \u3067 100 \u306b\u8a2d\u5b9a (\u4ed6\u306e\u30c6\u30b9\u30c8\u3067\u8a2d\u5b9a\u3055\u308c\u305f weight \u3068\u306e\u6bd4\u7387\u306b\u306a\u308a\u307e\u3059)\n\n\u3061\u306a\u307f\u306b data \u4ee5\u4e0b\u306b\u306f\u30c6\u30b9\u30c8\u3067\u9001\u4fe1\u3059\u308b\u30c6\u30b9\u30c8\u7528\u306e\u30e1\u30fc\u30eb\u30c7\u30fc\u30bf\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u898b\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u304c\u3001\u5168\u90e8 spam \u30e1\u30fc\u30eb\u3063\u307d\u3044\u3082\u306e\u3067\u3059\u3002\u85ac\u306e\u8ca9\u58f2\u3068\u304b\u6614\u826f\u304f\u3042\u3063\u305f\u30a2\u30c9\u30d3\u306e\u30bd\u30d5\u30c8\u3092\u58f2\u308b\u3088\u3068\u304b\u3002Why?\n\n\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\n\nmailhost.example.com \u4e0a\u306e user0 \u301c user10 \u30e6\u30fc\u30b6\u306b\u5bfe\u3057\u3066\n10 \u540c\u6642\u63a5\u7d9a\u3067 (-l 10)\n10 \u540c\u6642\u63a5\u7d9a\u306f 10 \u79d2\u3067\u8d77\u52d5\n60 \u79d2\u9593 (-t 60s)\n\n\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u307f\u307e\u3059\u3002\n$ ./mstone smtp -t 60s -l 10 -r 10s\nMstone version 4.9.4\nCopyright (c) Netscape Communications Corp. 1997-2000\n\nStarting time: Fri Feb  3 15:14:49 2017\nRunning pretest on localhost    (results/20170203.1514/localhost-log-preifconfig.txt)\nRunning monitor on localhost    (results/20170203.1514/localhost-log-vmstat.txt)\nStarting clients (errors logged to results/20170203.1514/stderr)\nStarting 1 x 10 on localhost\n\nRampup time: 10 seconds.  Test duration: 60 seconds.  Clients: 10\nCreated results/index.html\nIndex of runs:  file:///home/ore/mstone/results/index.html\nResults (HTML): results/20170203.1514/results.html\nUpdating... Fri Feb  3 15:15:34 2017:  Reported duration 42sec (10 clients)\nProcess 32270 exited (0).\nShutting down monitors: 32269\nRunning posttest on localhost   (results/20170203.1514/localhost-log-ifconfig.txt)\n\nClients done: Fri Feb  3 15:16:04 2017\nCollecting results\nReported duration 58sec (10 clients)\nGenerating results pages\nProcessing done: Fri Feb  3 15:16:04 2017\n\nResults (text): results/20170203.1514/results.txt\nResults (HTML): results/20170203.1514/results.html\nIndex of runs:  file:///home/ore/mstone/results/index.html\nError log:  results/20170203.1514/stderr (lines: 23)\nMailmaster done: Fri Feb  3 15:16:04 2017\n\nCould not find/open font when opening font \"arial\", using internal non-scalable font \u307f\u305f\u3044\u306a\u8b66\u544a\u304c\u51fa\u308b\u3068\u304d\u306f\n$ export GDFONTPATH=/usr/share/fonts/vlgothic/\n$ export GNUPLOT_DEFAULT_GDFONT=VL-Gothic-Regular\n\n\u3063\u3066\u306a\u611f\u3058\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u51fa\u529b\u3055\u308c\u308b\u30b0\u30e9\u30d5\u3082\u30d5\u30a9\u30f3\u30c8\u304c\u30ad\u30ec\u30a4\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3088\u3002\n\u7d50\u679c\u306f results/ \u4ee5\u4e0b\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\nSMTP\u3068IMAP4\u306e\u540c\u6642\u30c6\u30b9\u30c8\n\n\u30c6\u30b9\u30c8\u306e\u5b9a\u7fa9\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb my_imapsmtp.wld \u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n<includeOnce conf/general.wld>\n\n<CONFIG>    # test specific config\n  title     IMAP, SMTP combined load\n</CONFIG>\n\n<SMTP>\n  weight 50\n  file en-5k.msg\n  numRecips 1\n  numLoops 1\n</SMTP>\n\n<IMAP4>\n  weight        200\n  leaveMailOnServer     1\n\n  idleTime      2s\n  loopDelay     1m\n  numLoops      10\n  blockTime     2s\n</IMAP4>\n\n\nSMTP:IMAP4 = 1:2 (50:100)\nSMTP \u30c6\u30b9\u30c8\n\n\n\u30e1\u30fc\u30eb\u3068\u3057\u3066 en-5k.msg \u3092\u4f7f\u7528\n1 \u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u30e1\u30fc\u30eb 1 \u901a\u9001\u4fe1\n1 \u901a\u306e\u9001\u4fe1\u3067\u5b9b\u5148 (RCPT TO) \u306f 1 \u5ea6\u9001\u4fe1\n\n\nIMAP4 \u30c6\u30b9\u30c8\n\n\n\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3057\u3066\u304b\u3089 2 \u79d2\u5f85\u3061\n\u30e1\u30fc\u30eb\u30c1\u30a7\u30c3\u30af\u306e\u9593\u9694\u306f 1 \u5206\n\u30e1\u30fc\u30eb\u53d6\u5f97\u306e\u30eb\u30fc\u30d7\u3092 10 \u56de\u7e70\u308a\u8fd4\u3057\u305f\u5f8c\u30b5\u30fc\u30d0\u3068\u306e\u63a5\u7d9a\u3092\u5207\u308b\n\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u5f8c\u3001\u6b21\u306e\u30ed\u30b0\u30a4\u30f3\u307e\u3067\u306e\u9593\u9694\u306f 2 \u79d2\n\n\n\nIMAP4 \u306e\u5834\u5408\u306f\u7e4b\u304e\u3063\u3071\u306a\u3057\u304c\u666e\u901a\u3067\u3059\u304b\u3089\u3001\u30e1\u30fc\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u3084\u3089\u53d6\u5f97\u306e\u30eb\u30fc\u30d7\u3092 1000 \u56de\u5206\u7e70\u308a\u8fd4\u3059\u3053\u3068\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u5f8c\u306f\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3001\u307e\u3060\u30c6\u30b9\u30c8\u7d99\u7d9a\u6642\u9593\u306a\u3089\u518d\u5ea6\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3044\u3046\u611f\u3058\u306b\u306a\u308b\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\n\u30c6\u30b9\u30c8\u540d\u3068\u3057\u3066 my_imapsmtp \u3092\u4e0e\u3048\u3066 mstone \u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n$ ./mstone my_imapsmtp -t 60s -l 5 -r 1s\nMstone version 4.9.4\nCopyright (c) Netscape Communications Corp. 1997-2000\n\nStarting time: Fri Feb  3 18:43:29 2017\nRunning pretest on localhost    (results/20170203.1843/localhost-log-preifconfig.txt)\nRunning monitor on localhost    (results/20170203.1843/localhost-log-vmstat.txt)\nStarting clients (errors logged to results/20170203.1843/stderr)\nStarting 1 x 5 on localhost\n\nRampup time: 1 seconds.  Test duration: 60 seconds.  Clients: 5\nIndex of runs:  file:///home/ore/mstone/results/index.html\nResults (HTML): results/20170203.1843/results.html\nUpdating... Fri Feb  3 18:44:14 2017:  Reported duration 42sec (5 clients)\nProcess 1816 exited (0).\nShutting down monitors: 1815\nRunning posttest on localhost   (results/20170203.1843/localhost-log-ifconfig.txt)\n\nClients done: Fri Feb  3 18:45:00 2017\nCollecting results\nReported duration 74sec (5 clients)\nGenerating results pages\nProcessing done: Fri Feb  3 18:45:00 2017\n\nResults (text): results/20170203.1843/results.txt\nResults (HTML): results/20170203.1843/results.html\nIndex of runs:  file:///home/ore/mstone/results/index.html\nError log:  results/20170203.1843/stderr (lines: 23)\nMailmaster done: Fri Feb  3 18:45:00 2017\n\n\n\u30e2\u30cb\u30bf\n\u30c6\u30b9\u30c8\u5b9f\u884c\u4e2d\u306b\u4f55\u304b\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30c6\u30b9\u30c8\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067 vmstat \u3092\u5b9f\u884c\u3057\u305f\u308a\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408 <MONITOR> \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308c\u3070\u826f\u3044\u3067\u3059\u3002\n<MONITOR HOSTS=mailhost.example.com>\n  name vmstat\n  commmand vmstat %f %c\n  rsh ssh -p 22222 \n</MONITOR>\n\n<MONITOR HOSTS=mailhost.example.com>\n  name iostat\n  commmand iostat -x %f %c\n  rsh ssh -p 22222 \n</MONITOR>\n\n\u3053\u308c\u3067\n* HOSTS \u306b\u6307\u5b9a\u3057\u305f\u30db\u30b9\u30c8\u306b\u5bfe\u3057\u3066\n* rsh \u3067\u6307\u5b9a\u3057\u305f\u30ea\u30e2\u30fc\u30c8\u63a5\u7d9a\u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\n* command \u3067\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\n  * %f \u306f mstone \u304c\u30e2\u30cb\u30bf\u3092\u5b9f\u884c\u3059\u308b\u983b\u5ea6\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059 (2 \u304c\u4f7f\u308f\u308c\u308b\u3088\u3046\u3067\u3059\u304c\u5909\u3048\u308b\u65b9\u6cd5\u306f\u3042\u308b\u306e\u304b\u306a?)\n  * %c \u306f\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u56de\u6570\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002\n\u3068\u3044\u3046\u3088\u3046\u306a\u98a8\u306b\u30ea\u30e2\u30fc\u30c8\u30db\u30b9\u30c8\u306e\u30ea\u30bd\u30fc\u30b9\u6d88\u8cbb\u306a\u3093\u304b\u304c\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3067\u304d\u307e\u3059\u3002\u8ca0\u8377\u30c6\u30b9\u30c8\u3067\u306f\u5fc5\u8981\u3067\u3059\u3088\u306d\u3002\n\u524d\u8ff0\u306e\u5b9a\u7fa9\u3060\u3068 vmstat 2 \u3068 iostat -x 2 \u304c mailhost.example.com \u4e0a\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u3053\u306e\u7d50\u679c\u306f results/(\u65e5\u6642\u6587\u5b57\u5217)/mailhost.example.com-log-vmstat \u3068\u304b results/(\u65e5\u6642\u6587\u5b57\u5217)/mailhost.example.com-log-iostat \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\u8a73\u3057\u304f\u306f\n* http://mstone.sourceforge.net//doc/mstone.html\n\u3092\u3069\u3046\u305e\u3002\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```console\n$ wget \"https://jaist.dl.sourceforge.net/project/mstone/mstone/4.9.4/mstone%2Bdocs-4.9.4.tar.gz\"\n$ tar xvf mstone+docs-4.9.4.tar.gz\n$ cd mstone-4.9.4/\n```\n\nCMakeLists.txt \u5192\u982d\u306b\n\n```cmake\ncmake_minimum_required(VERSION 3.5)\n```\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002(CentOS6 \u8fba\u308a\u306e cmake \u306a\u3089\u8b66\u544a\u51fa\u308b\u3060\u3051\u306a\u306e\u3067\u8ffd\u52a0\u4e0d\u8981\u304b\u306a)\n\n$HOME/mstone \u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```console\n$ cd ..\n$ mkdir build && cd build\n$ cmake -DCMAKE_INSTALL_PREFIX=$HOME -DSVN_MODULE=OFF ../mstone-4.9.4\n$ make && make install\n```\n(\u30bd\u30fc\u30b9\u3092\u5c55\u958b\u3057\u305f\u5834\u6240\u3068\u5225\u306e\u5834\u6240\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u308b\u3060\u3051\u3067\u3001\u5225\u306b\u5c55\u958b\u3057\u305f\u5834\u6240\u3067\u5b9f\u884c\u3057\u3066\u3082\u69cb\u3044\u307e\u305b\u3093)\n\nsvn \u30b5\u30dd\u30fc\u30c8\u306f\u7121\u8996\u3059\u308b\u306e\u3067 `-DSVN_MODULE=OFF` \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3067\u306a\u3044\u3068 GSS_LIB \u304c NOTFOUND \u3068\u304b\u306a\u3093\u3068\u304b\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\nCMake Error: The following variables are used in this project, but they are set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the CMake files:\nGSS_LIB\n```\n\n`make install`\u304c\u6210\u529f\u3059\u308b\u3068\u3001`$HOME/mstone` \u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n\n## \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u30c6\u30b9\u30c8\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u30c6\u30f3\u30dd\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3059\u308b\u4f5c\u696d\u3092\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u5225\u306e\u30db\u30b9\u30c8\u304b\u3089mstone\u4e00\u5f0f\u3092\u6301\u3063\u3066\u304d\u305f\u3068\u304b\u3001\u30c6\u30f3\u30dd\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092/tmp\u306b\u3057\u3066\u305f\u308a\u3057\u3066\u3001\u6383\u9664\u3055\u308c\u3066\u3057\u307e\u3063\u3066\u308b\u5834\u5408\u3068\u304b\u306f\u3053\u306e\u4f5c\u696d\u304c\u5fc5\u8981\u3067\u3059(\u901a\u5e38\u306f`/var/tmp`\u304c\u30c6\u30f3\u30dd\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u306a\u3063\u3066\u307e\u3059)\u3002\n\n```console\n$ cd $HOME/mstone\n$ ./mstone setup\nNetscape Mailstone.\nCopyright (c) 1997-2000 Netscape Communications Corp.\n\n  : (\u7565)\n\nDo you agree to the terms of the license? (yes/no) yes\n\nFound these message files:\nen-17k.msg en-1k.msg en-20k.msg en-2k.msg en-32k.msg en-3k.msg en-5k.msg en-750.msg en-gif-17k.msg gr-3k.msg nu-5k.msg words-ascii.dat\n\nCopying build/Linux4.9_x86_64/mailclient and message files to /var/tmp/\nLinux enterprise 4.9.0-plamo64 #3 SMP PREEMPT Mon Dec 19 17:42:58 JST 2016 x86_64 GNU/Linux\n\n$ \n```\n\n## \u30c6\u30b9\u30c8\u8a2d\u5b9a\n\n### \u30ed\u30fc\u30ab\u30eb\u304b\u3089\u5358\u72ec\u5b9f\u884c\n\n* \u30c6\u30b9\u30c8\u306f localhost \u304b\u3089\u5358\u72ec\u5b9f\u884c\n* \u30e1\u30fc\u30eb\u30b5\u30fc\u30d0\u306f mailhost.example.com\n* \u30b5\u30fc\u30d0\u4e0a\u306e\u30e6\u30fc\u30b6\u306f user0 ~ user10 \u307e\u3067 (\u901a\u3057\u756a\u53f7)\n* \u4e0a\u8a18\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306f hogehoge\n\n\n```console\n$ ./mstone config\nNetscape Mailstone.\nCopyright (c) 1997-2000 Netscape Communications Corp.\n\n\nConfigure test clients [n]? y\n\n    You can enter multiple machines like this: host1,host2\n\nWhat is the name of the client(s) for default OS [localhost]: \n\nWhat additional client(s) [none]: \n\nConfigure SMTP/POP/IMAP protocols [n]? y\n\nWhat is the name of the mail host [mailhost.example.com]: mailhost.example.com\n\nWhat is the user name pattern [mailtestuser%ld]: user%ld\n\nWhat is the password pattern [myPassword]: hogehoge        \n\nHow many users [100]: 10\n\nWhat is the first user number [0]: \n\nDo you want to view the new conf/general.wld [y]? n\n\nConfigure SVN support [n]? n\n\nGenerate an account LDIF file for Netscape Directory Server [n]? n\n\nMake any additional changes to conf/general.wld and then re-run 'setup'\n```\n\n\u51fa\u6765\u4e0a\u304c\u3063\u305f conf/general.wld \u306f\n\n```xml\n$ cat conf/general.wld\n# common setup info for tests\n# See sample.wld for detailed usage\n\n# Information on how the test is distributed and reported\n# Test independent configuration\n<CONFIG>\n  # Debug with short runs and a few clients, then increase test time\n  # These get overridden in the test specific files (or the command line)\n  clientCount\t2\t# nominal clientCount (usually overriden)\n  rampTime \t20s\n  time\t\t1m\n\n  # Each test should set a title/comments in their CONFIG section\n  # This is a reminder to set something\n  title\t\tNeed to set test title...\n  comments      Some sort of testing...\n  #sysConfig \tconf/sample.html\t# File for additonal system config\n\n  # Uncomment this to enable core dumps:\n  #clientCommand ulimit -Sc 900000; ./mailclient\n</CONFIG>\n\n# Each <Monitor> section defines remote monitoring commands \n#   for one or more machines.\n# Commands containing '%c' run to completion.  \n#  Otherwise the command will be shutdown down\n<MONITOR>\n  name          vmstat.txt            # outfile will be CLIENT*-NAME\n  command       vmstat %f\n  process       conf/clean_vmstat.pl  # custom processing script\n</MONITOR>\n\n# The PreTest sections will run before the test starts\n<PRETEST>\n  name    preifconfig.txt  # outfile will be CLIENT*-NAME\n  command\tifconfig\n</PRETEST>\n\n# The PostTest sections will run after the test ends\n<POSTTEST>\n  name \t\tifconfig.txt  # outfile will be CLIENT*-NAME\n  command\tifconfig; uname -a\n  # clean_ifconfig expects the input name to be preifconfig.txt or pretest.txt\n  process       conf/clean_ifconfig.pl  # custom processing script\n</POSTTEST>\n\n# The <DEFAULT> tag sets protocol block defaults\n<DEFAULT>\n  # defaults for both e-mail and revision control systems\n  loginFormat\tuser%ld\n  passwdFormat\thogehoge\n  numLogins\t10\n  firstLogin\t0\n\n  # e-mail defaults\n  server\tmailhost.example.com\n  smtpMailFrom\tuser0@mailhost.example.com\n  addressFormat\tuser%ld@mailhost.example.com\n  numAddresses\t10\n  firstAddress\t0\n\n  # revision control system defaults\n  repoUrl       http://myLocalSvn\n  topDir \trepoTop/mstone\n\n</DEFAULT>\n\n\n# Specify client machines\n# mstone assigns the same process/thread counts to each host in a client block.\n# Use one host per client block for maximum allocation flexibility.\n<CLIENT HOSTS=localhost>\n  maxThreads 100\n</CLIENT>\n```\n\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u5f8c\u307b\u3069\u4f7f\u308f\u308c\u307e\u3059\u3002\n\n## SMTP \u30c6\u30b9\u30c8\n\n### \u30c6\u30b9\u30c8\u306e\u5b9a\u7fa9\n\n`mstone`\u30b3\u30de\u30f3\u30c9\u306e\u5f15\u6570\u3067\u30c6\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f `smtp` \u3068\u3044\u3046\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306f SMTP \u3067\u30e1\u30fc\u30eb\u9001\u4fe1\u3092\u3059\u308b\u30c6\u30b9\u30c8\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3057\u3066\u3001`conf/smtp.wld` \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u6a19\u6e96\u914d\u5e03\u306e\u3082\u306e\u4ee5\u5916\u306b\u3082\u81ea\u5206\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\n\n```xml\n<includeOnce conf/general.wld>\n\n<CONFIG>        # test specific config\n  title         SMTP message deliveries\n  clientCount   20\n</CONFIG>\n\n# if we include more than one, we get a distribution of all sizes\n<include conf/smtp1k.wld>\n<include conf/smtp5k.wld>\n<include conf/smtp17k.wld>\n```\n\n* `conf/general.wld` \u3092 include \u3057\u3066\n* `conf/smtp{1,5,17}k.wld` \u3092 include \u3057\u307e\u3059\n\n\u3053\u3053\u3067 include \u3055\u308c\u3066\u3044\u308b smtp1k.wld \u306f\u3001\n\n```xml\n<SMTP>\nweight 100\nfile en-1k.msg\nnumRecips 1     # \u30e1\u30fc\u30eb\u5b9b\u5148\u306e\u6570\nnumLoops 1      # number of messages to send per login\n</SMTP>\n```\n(\u30b3\u30e1\u30f3\u30c8\u306f\u4e00\u90e8\u8ffd\u52a0\u30fb\u524a\u9664\u3057\u3066\u307e\u3059)\n\n* SMTP \u3067\u9001\u4fe1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066 `en-1k.msg` \u3092\u4f7f\u7528\u3059\u308b\n  * `en-1k.msg` \u306f `data/en-1k.msg` \u3067\u3059\u3002\n* \u3053\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u6bd4\u7387\u3092 `weight` \u3067 100 \u306b\u8a2d\u5b9a (\u4ed6\u306e\u30c6\u30b9\u30c8\u3067\u8a2d\u5b9a\u3055\u308c\u305f `weight` \u3068\u306e\u6bd4\u7387\u306b\u306a\u308a\u307e\u3059)\n\n\u3061\u306a\u307f\u306b `data` \u4ee5\u4e0b\u306b\u306f\u30c6\u30b9\u30c8\u3067\u9001\u4fe1\u3059\u308b\u30c6\u30b9\u30c8\u7528\u306e\u30e1\u30fc\u30eb\u30c7\u30fc\u30bf\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u898b\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u304c\u3001\u5168\u90e8 spam \u30e1\u30fc\u30eb\u3063\u307d\u3044\u3082\u306e\u3067\u3059\u3002\u85ac\u306e\u8ca9\u58f2\u3068\u304b\u6614\u826f\u304f\u3042\u3063\u305f\u30a2\u30c9\u30d3\u306e\u30bd\u30d5\u30c8\u3092\u58f2\u308b\u3088\u3068\u304b\u3002Why?\n\n### \u30c6\u30b9\u30c8\u306e\u5b9f\u884c\n\n* mailhost.example.com \u4e0a\u306e user0 \u301c user10 \u30e6\u30fc\u30b6\u306b\u5bfe\u3057\u3066\n* 10 \u540c\u6642\u63a5\u7d9a\u3067 (-l 10)\n* 10 \u540c\u6642\u63a5\u7d9a\u306f 10 \u79d2\u3067\u8d77\u52d5\n* 60 \u79d2\u9593 (-t 60s)\n\n\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u307f\u307e\u3059\u3002\n\n```console\n$ ./mstone smtp -t 60s -l 10 -r 10s\nMstone version 4.9.4\nCopyright (c) Netscape Communications Corp. 1997-2000\n\nStarting time: Fri Feb  3 15:14:49 2017\nRunning pretest on localhost \t(results/20170203.1514/localhost-log-preifconfig.txt)\nRunning monitor on localhost \t(results/20170203.1514/localhost-log-vmstat.txt)\nStarting clients (errors logged to results/20170203.1514/stderr)\nStarting 1 x 10 on localhost\n\nRampup time: 10 seconds.  Test duration: 60 seconds.  Clients: 10\nCreated results/index.html\nIndex of runs: \tfile:///home/ore/mstone/results/index.html\nResults (HTML):\tresults/20170203.1514/results.html\nUpdating... Fri Feb  3 15:15:34 2017:  Reported duration 42sec (10 clients)\nProcess 32270 exited (0).\nShutting down monitors: 32269\nRunning posttest on localhost \t(results/20170203.1514/localhost-log-ifconfig.txt)\n\nClients done: Fri Feb  3 15:16:04 2017\nCollecting results\nReported duration 58sec (10 clients)\nGenerating results pages\nProcessing done: Fri Feb  3 15:16:04 2017\n\nResults (text):\tresults/20170203.1514/results.txt\nResults (HTML):\tresults/20170203.1514/results.html\nIndex of runs: \tfile:///home/ore/mstone/results/index.html\nError log: \tresults/20170203.1514/stderr (lines: 23)\nMailmaster done: Fri Feb  3 15:16:04 2017\n```\n\n`Could not find/open font when opening font \"arial\", using internal non-scalable font` \u307f\u305f\u3044\u306a\u8b66\u544a\u304c\u51fa\u308b\u3068\u304d\u306f\n\n```console\n$ export GDFONTPATH=/usr/share/fonts/vlgothic/\n$ export GNUPLOT_DEFAULT_GDFONT=VL-Gothic-Regular\n```\n\n\u3063\u3066\u306a\u611f\u3058\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u51fa\u529b\u3055\u308c\u308b\u30b0\u30e9\u30d5\u3082\u30d5\u30a9\u30f3\u30c8\u304c\u30ad\u30ec\u30a4\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3088\u3002\n\n\u7d50\u679c\u306f results/ \u4ee5\u4e0b\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n## SMTP\u3068IMAP4\u306e\u540c\u6642\u30c6\u30b9\u30c8\n\n### \u30c6\u30b9\u30c8\u306e\u5b9a\u7fa9\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb `my_imapsmtp.wld` \u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n```xml\n<includeOnce conf/general.wld>\n\n<CONFIG>\t# test specific config\n  title\t\tIMAP, SMTP combined load\n</CONFIG>\n\n<SMTP>\n  weight 50\n  file en-5k.msg\n  numRecips 1\n  numLoops 1\n</SMTP>\n\n<IMAP4>\n  weight        200\n  leaveMailOnServer     1\n\n  idleTime      2s\n  loopDelay     1m\n  numLoops      10\n  blockTime     2s\n</IMAP4>\n```\n\n* SMTP:IMAP4 = 1:2 (50:100)\n* SMTP \u30c6\u30b9\u30c8\n  * \u30e1\u30fc\u30eb\u3068\u3057\u3066 en-5k.msg \u3092\u4f7f\u7528\n  * 1 \u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u30e1\u30fc\u30eb 1 \u901a\u9001\u4fe1\n  * 1 \u901a\u306e\u9001\u4fe1\u3067\u5b9b\u5148 (RCPT TO) \u306f 1 \u5ea6\u9001\u4fe1\n* IMAP4 \u30c6\u30b9\u30c8\n  * \u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3057\u3066\u304b\u3089 2 \u79d2\u5f85\u3061\n  * \u30e1\u30fc\u30eb\u30c1\u30a7\u30c3\u30af\u306e\u9593\u9694\u306f 1 \u5206\n  * \u30e1\u30fc\u30eb\u53d6\u5f97\u306e\u30eb\u30fc\u30d7\u3092 10 \u56de\u7e70\u308a\u8fd4\u3057\u305f\u5f8c\u30b5\u30fc\u30d0\u3068\u306e\u63a5\u7d9a\u3092\u5207\u308b\n  * \u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u5f8c\u3001\u6b21\u306e\u30ed\u30b0\u30a4\u30f3\u307e\u3067\u306e\u9593\u9694\u306f 2 \u79d2\n\nIMAP4 \u306e\u5834\u5408\u306f\u7e4b\u304e\u3063\u3071\u306a\u3057\u304c\u666e\u901a\u3067\u3059\u304b\u3089\u3001\u30e1\u30fc\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u3084\u3089\u53d6\u5f97\u306e\u30eb\u30fc\u30d7\u3092 1000 \u56de\u5206\u7e70\u308a\u8fd4\u3059\u3053\u3068\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u5f8c\u306f\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3001\u307e\u3060\u30c6\u30b9\u30c8\u7d99\u7d9a\u6642\u9593\u306a\u3089\u518d\u5ea6\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3044\u3046\u611f\u3058\u306b\u306a\u308b\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n### \u30c6\u30b9\u30c8\u306e\u5b9f\u884c\n\n\u30c6\u30b9\u30c8\u540d\u3068\u3057\u3066 `my_imapsmtp` \u3092\u4e0e\u3048\u3066 mstone \u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n```console\n$ ./mstone my_imapsmtp -t 60s -l 5 -r 1s\nMstone version 4.9.4\nCopyright (c) Netscape Communications Corp. 1997-2000\n\nStarting time: Fri Feb  3 18:43:29 2017\nRunning pretest on localhost \t(results/20170203.1843/localhost-log-preifconfig.txt)\nRunning monitor on localhost \t(results/20170203.1843/localhost-log-vmstat.txt)\nStarting clients (errors logged to results/20170203.1843/stderr)\nStarting 1 x 5 on localhost\n\nRampup time: 1 seconds.  Test duration: 60 seconds.  Clients: 5\nIndex of runs: \tfile:///home/ore/mstone/results/index.html\nResults (HTML):\tresults/20170203.1843/results.html\nUpdating... Fri Feb  3 18:44:14 2017:  Reported duration 42sec (5 clients)\nProcess 1816 exited (0).\nShutting down monitors: 1815\nRunning posttest on localhost \t(results/20170203.1843/localhost-log-ifconfig.txt)\n\nClients done: Fri Feb  3 18:45:00 2017\nCollecting results\nReported duration 74sec (5 clients)\nGenerating results pages\nProcessing done: Fri Feb  3 18:45:00 2017\n\nResults (text):\tresults/20170203.1843/results.txt\nResults (HTML):\tresults/20170203.1843/results.html\nIndex of runs: \tfile:///home/ore/mstone/results/index.html\nError log: \tresults/20170203.1843/stderr (lines: 23)\nMailmaster done: Fri Feb  3 18:45:00 2017\n```\n\n## \u30e2\u30cb\u30bf\n\n\u30c6\u30b9\u30c8\u5b9f\u884c\u4e2d\u306b\u4f55\u304b\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30c6\u30b9\u30c8\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067 vmstat \u3092\u5b9f\u884c\u3057\u305f\u308a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u306e\u3088\u3046\u306a\u5834\u5408 `<MONITOR>` \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308c\u3070\u826f\u3044\u3067\u3059\u3002\n\n```xml\n<MONITOR HOSTS=mailhost.example.com>\n  name vmstat\n  commmand vmstat %f %c\n  rsh ssh -p 22222 \n</MONITOR>\n\n<MONITOR HOSTS=mailhost.example.com>\n  name iostat\n  commmand iostat -x %f %c\n  rsh ssh -p 22222 \n</MONITOR>\n```\n\n\u3053\u308c\u3067\n* HOSTS \u306b\u6307\u5b9a\u3057\u305f\u30db\u30b9\u30c8\u306b\u5bfe\u3057\u3066\n* `rsh` \u3067\u6307\u5b9a\u3057\u305f\u30ea\u30e2\u30fc\u30c8\u63a5\u7d9a\u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\n* `command` \u3067\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\n  * `%f` \u306f mstone \u304c\u30e2\u30cb\u30bf\u3092\u5b9f\u884c\u3059\u308b\u983b\u5ea6\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059 (2 \u304c\u4f7f\u308f\u308c\u308b\u3088\u3046\u3067\u3059\u304c\u5909\u3048\u308b\u65b9\u6cd5\u306f\u3042\u308b\u306e\u304b\u306a?)\n  * `%c` \u306f\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u56de\u6570\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002\n\u3068\u3044\u3046\u3088\u3046\u306a\u98a8\u306b\u30ea\u30e2\u30fc\u30c8\u30db\u30b9\u30c8\u306e\u30ea\u30bd\u30fc\u30b9\u6d88\u8cbb\u306a\u3093\u304b\u304c\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3067\u304d\u307e\u3059\u3002\u8ca0\u8377\u30c6\u30b9\u30c8\u3067\u306f\u5fc5\u8981\u3067\u3059\u3088\u306d\u3002\n\n\u524d\u8ff0\u306e\u5b9a\u7fa9\u3060\u3068 `vmstat 2` \u3068 `iostat -x 2` \u304c `mailhost.example.com` \u4e0a\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u306e\u7d50\u679c\u306f `results/(\u65e5\u6642\u6587\u5b57\u5217)/mailhost.example.com-log-vmstat` \u3068\u304b `results/(\u65e5\u6642\u6587\u5b57\u5217)/mailhost.example.com-log-iostat` \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n", "tags": ["SMTP", "pop3", "imap4"]}