{"context": "\n\n\u76ee\u7684\nvSphere PowerCLI\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u60c5\u5831\u53d6\u5f97\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\nVMware vSphere - My Vmware : https://my.vmware.com/jp/group/vmware/details?downloadGroup=PCLI630R1&productId=491\n\n\u8d77\u52d5\u3057\u3066\u307f\u308b\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u3001PS\u306e\u307e\u307e\u3067\u3001PowerCLI\u3068\u306a\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u3001\u518d\u5ea6PowerCLI\u3092\u8d77\u52d5\nPS C:\\Program Files (x86)\\VMware\\Infrastructure\\vSphere PowerCLI> Set-ExecutionPolicy RemoteSigned\n\n\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\u306e\u5909\u66f4\n\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\u306f\u3001\u4fe1\u983c\u3055\u308c\u3066\u3044\u306a\u3044\u30b9\u30af\u30ea\u30d7\u30c8\u304b\u3089\u306e\u4fdd\u8b77\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\n\u3092\u5909\u66f4\u3059\u308b\u3068\u3001about_Execution_Policies \u306e\u30d8\u30eb\u30d7 \u30c8\u30d4\u30c3\u30af\n(http://go.microsoft.com/fwlink/?LinkID=135170)\n\u3067\u8aac\u660e\u3055\u308c\u3066\u3044\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u5371\u967a\u306b\u3055\u3089\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\n\u3092\u5909\u66f4\u3057\u307e\u3059\u304b?\n[Y] \u306f\u3044(Y)  [N] \u3044\u3044\u3048(N)  [S] \u4e2d\u65ad(S)  [?] \u30d8\u30eb\u30d7 (\u65e2\u5b9a\u5024\u306f \"Y\"): Y\nPS C:\\Program Files (x86)\\VMware\\Infrastructure\\vSphere PowerCLI>\n\n\u3053\u308c\u304c\u8d77\u52d5\u753b\u9762\n\n\nvCenter\u306b\u63a5\u7d9a\nPower CLI C:\u00a5> Connect-VIServer \u2013Server <vCenter\u30b5\u30fc\u30d0> \u2013User <\u30ed\u30b0\u30aa\u30f3\u30e6\u30fc\u30b6\u30fc> \u2013Password <\u30d1\u30b9\u30ef\u30fc\u30c9>\n\n\n\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u60c5\u5831\u53d6\u5f97\nGet-DataStore\n\u4f8b\nPower CLI C:\u00a5> Get-DataStore\n\nName                               FreeSpaceGB      CapacityGB\n----                               -----------      ----------\ndatastore-esx02                        180.132         551.000\ndatastore-esx01                         97.225         551.000\nnfs                                     68.137          99.997\n\n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u30ea\u30b9\u30c8\u53d6\u5f97\nGet-VM\n\u4f8b\nPower CLI C:\u00a5> Get-VM\n\nName                 PowerState Num CPUs MemoryGB       \n----                 ---------- -------- --------       \nLogical-Router-0     PoweredOn  1        0.500          \nnew_CentOS-TOK-test  PoweredOn  1        2.000          \nNSX_Controller_3     PoweredOn  4        4.000          \nvSphere Replicati... PoweredOn  2        4.000          \nNSX l2vpn Edge       PoweredOn  2        1.000          \nNSX_Controller_1     PoweredOn  4        4.000          \nNSX_Controller_2     PoweredOn  4        4.000          \nCentOS-TOK-test2     PoweredOn  1        2.000          \nNSX Manager          PoweredOn  4        16.000         \nCentOS-TOK-test      PoweredOn  1        2.000          \nedge-9c3474e8-8a9... PoweredOn  1        0.500          \nnsxedge-0            PoweredOn  2        1.000          \nCentOS-L2VPN-Serv... PoweredOn  1        2.000          \nGuest Introspecti... PoweredOn  2        1.000          \ntest-on-ULS          PoweredOn  2        8.000          \nDB                   PoweredOff 2        4.000          \nWeb                  PoweredOff 2        4.000          \nGuest Introspecti... PoweredOn  2        1.000          \nSL-Web01             PoweredOff 1        4.000          \ntest2-on-ULS         PoweredOn  2        8.000          \nvRzOpsMgr            PoweredOn  2        8.000          \nvRzLogInsight        PoweredOn  2        4.000          \nSRM                  PoweredOn  2        4.000          \nProtected-VM-96      PoweredOff 1        4.000          \nHKG-L2VPN-Server-NW  PoweredOff 1        4.000          \nProtected-VM-95      PoweredOff 1        4.000          \n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8a73\u7d30\u60c5\u5831\u53d6\u5f97\nGet-VM <\u4eee\u60f3\u30de\u30b7\u30f3\u540d> | select *\n\u4f8b\nPower CLI C:\u00a5> Get-VM test-on-ULS | select *\n\nName                    : test-on-ULS\nPowerState              : PoweredOn\nNotes                   : \nGuest                   : test-on-ULS:Microsoft Windows Server 2008 R2 (64-bit)\nNumCpu                  : 2\nMemoryMB                : 8192\nMemoryGB                : 8\nVMHostId                : HostSystem-host-10\nVMHost                  : ibmesx01.softlayer.local\nVApp                    : \nFolderId                : Folder-group-v141\nFolder                  : TEST\nResourcePoolId          : ResourcePool-resgroup-352\nResourcePool            : Resource\nHARestartPriority       : Disabled\nHAIsolationResponse     : AsSpecifiedByCluster\nDrsAutomationLevel      : AsSpecifiedByCluster\nVMSwapfilePolicy        : Inherit\nVMResourceConfiguration : CpuShares:Normal/4000 MemShares:Normal/81920\nVersion                 : v11\nPersistentId            : 525e0240-0e2e-c507-2ac5-35660fd63afb\nGuestId                 : windows7Server64Guest\nUsedSpaceGB             : 48.074093455448746681213378906\nProvisionedSpaceGB      : 58.182492405176162719726562500\nDatastoreIdList         : {Datastore-datastore-11}\nExtensionData           : VMware.Vim.VirtualMachine\nCustomFields            : {}\nId                      : VirtualMachine-vm-149\nUid                     : /VIServer=softlayer.local\\xxxxx@xxxxx.softlayer.l\n                          ocal:443/VirtualMachine=VirtualMachine-vm-149/\nClient                  : VMware.VimAutomation.ViCore.Impl.V1.VimClient\n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8a73\u7d30\u60c5\u5831\u53d6\u5f972\nGet-VMguest <\u4eee\u60f3\u30de\u30b7\u30f3\u540d> | select *\n\u4f8b\nPower CLI C:\u00a5> Get-VMguest test-on-ULS | select *\n\nOSFullName       : Microsoft Windows Server 2008 R2 (64-bit)\nIPAddress        : {10.xx.xx.xx}\nState            : Running\nDisks            : {Capacity:53579083776, FreeSpace:22005411840, Path:C:\\}\nHostName         : test1\nNics             : {Network adapter 1:dvportgroup-384}\nScreenDimensions : {Width=1349, Height=672}\nVmId             : VirtualMachine-vm-149\nVM               : test-on-ULS\nVmUid            : /VIServer=softlayer.local\\xxxxxx@xxxxxx.softlayer.local:44\n                   3/VirtualMachine=VirtualMachine-vm-149/\nVmName           : test-on-ULS\nUid              : /VIServer=softlayer.local\\xxxxxx@xxxxxx.softlayer.local:44\n                   3/VirtualMachine=VirtualMachine-vm-149/VMGuest=/\nGuestId          : windows7Server64Guest\nToolsVersion     : 10.0.6\nExtensionData    : VMware.Vim.GuestInfo\nClient           : VMware.VimAutomation.ViCore.Impl.V1.VimClient\nGuestFamily      : windowsGuest\n\n\n\u53c2\u8003\nVMware vSphere 5.5 \u306ePowerCLI\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5 | puti se blog\nVMware\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u306e\u4f7f\u7528\u5bb9\u91cf\u30fb\u4f7f\u7528\u72b6\u6cc1\u3092\u30b3\u30de\u30f3\u30c9\u3067\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3002PowerCLI | puti se blog\nGet-VM\u30fbGet-VMguest\u3067\u53d6\u5f97\u3067\u304d\u308b\u4eee\u60f3\u30de\u30b7\u30f3\u30fb\u30b2\u30b9\u30c8OS\u60c5\u5831\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u4e00\u89a7\u3002VMware PowerCLI | puti se blog\n#\u76ee\u7684\nvSphere PowerCLI\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u60c5\u5831\u53d6\u5f97\n\n#\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u884c\nVMware vSphere - My Vmware : https://my.vmware.com/jp/group/vmware/details?downloadGroup=PCLI630R1&productId=491\n\n#\u8d77\u52d5\u3057\u3066\u307f\u308b\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u3001PS\u306e\u307e\u307e\u3067\u3001PowerCLI\u3068\u306a\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u3001\u518d\u5ea6PowerCLI\u3092\u8d77\u52d5\n\n```\nPS C:\\Program Files (x86)\\VMware\\Infrastructure\\vSphere PowerCLI> Set-ExecutionPolicy RemoteSigned\n\n\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\u306e\u5909\u66f4\n\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\u306f\u3001\u4fe1\u983c\u3055\u308c\u3066\u3044\u306a\u3044\u30b9\u30af\u30ea\u30d7\u30c8\u304b\u3089\u306e\u4fdd\u8b77\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\n\u3092\u5909\u66f4\u3059\u308b\u3068\u3001about_Execution_Policies \u306e\u30d8\u30eb\u30d7 \u30c8\u30d4\u30c3\u30af\n(http://go.microsoft.com/fwlink/?LinkID=135170)\n\u3067\u8aac\u660e\u3055\u308c\u3066\u3044\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u5371\u967a\u306b\u3055\u3089\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\n\u3092\u5909\u66f4\u3057\u307e\u3059\u304b?\n[Y] \u306f\u3044(Y)  [N] \u3044\u3044\u3048(N)  [S] \u4e2d\u65ad(S)  [?] \u30d8\u30eb\u30d7 (\u65e2\u5b9a\u5024\u306f \"Y\"): Y\nPS C:\\Program Files (x86)\\VMware\\Infrastructure\\vSphere PowerCLI>\n```\n\n\u3053\u308c\u304c\u8d77\u52d5\u753b\u9762\n<img width=\"666\" alt=\"powercli_initial.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/101361/ed23b43b-e970-13d0-e307-75c448bb68ab.png\">\n\n#vCenter\u306b\u63a5\u7d9a\n\n```\nPower CLI C:\u00a5> Connect-VIServer \u2013Server <vCenter\u30b5\u30fc\u30d0> \u2013User <\u30ed\u30b0\u30aa\u30f3\u30e6\u30fc\u30b6\u30fc> \u2013Password <\u30d1\u30b9\u30ef\u30fc\u30c9>\n```\n\n#\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u60c5\u5831\u53d6\u5f97\nGet-DataStore\n\u4f8b\n\n```\nPower CLI C:\u00a5> Get-DataStore\n\nName                               FreeSpaceGB      CapacityGB\n----                               -----------      ----------\ndatastore-esx02                        180.132         551.000\ndatastore-esx01                         97.225         551.000\nnfs                                     68.137          99.997\n\n```\n\n#\u4eee\u60f3\u30de\u30b7\u30f3\u30ea\u30b9\u30c8\u53d6\u5f97\nGet-VM\n\u4f8b\n\n```\nPower CLI C:\u00a5> Get-VM\n\nName                 PowerState Num CPUs MemoryGB       \n----                 ---------- -------- --------       \nLogical-Router-0     PoweredOn  1        0.500          \nnew_CentOS-TOK-test  PoweredOn  1        2.000          \nNSX_Controller_3     PoweredOn  4        4.000          \nvSphere Replicati... PoweredOn  2        4.000          \nNSX l2vpn Edge       PoweredOn  2        1.000          \nNSX_Controller_1     PoweredOn  4        4.000          \nNSX_Controller_2     PoweredOn  4        4.000          \nCentOS-TOK-test2     PoweredOn  1        2.000          \nNSX Manager          PoweredOn  4        16.000         \nCentOS-TOK-test      PoweredOn  1        2.000          \nedge-9c3474e8-8a9... PoweredOn  1        0.500          \nnsxedge-0            PoweredOn  2        1.000          \nCentOS-L2VPN-Serv... PoweredOn  1        2.000          \nGuest Introspecti... PoweredOn  2        1.000          \ntest-on-ULS          PoweredOn  2        8.000          \nDB                   PoweredOff 2        4.000          \nWeb                  PoweredOff 2        4.000          \nGuest Introspecti... PoweredOn  2        1.000          \nSL-Web01             PoweredOff 1        4.000          \ntest2-on-ULS         PoweredOn  2        8.000          \nvRzOpsMgr            PoweredOn  2        8.000          \nvRzLogInsight        PoweredOn  2        4.000          \nSRM                  PoweredOn  2        4.000          \nProtected-VM-96      PoweredOff 1        4.000          \nHKG-L2VPN-Server-NW  PoweredOff 1        4.000          \nProtected-VM-95      PoweredOff 1        4.000          \n```\n\n#\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8a73\u7d30\u60c5\u5831\u53d6\u5f97\nGet-VM <\u4eee\u60f3\u30de\u30b7\u30f3\u540d> | select *\n\u4f8b\n\n```\nPower CLI C:\u00a5> Get-VM test-on-ULS | select *\n\nName                    : test-on-ULS\nPowerState              : PoweredOn\nNotes                   : \nGuest                   : test-on-ULS:Microsoft Windows Server 2008 R2 (64-bit)\nNumCpu                  : 2\nMemoryMB                : 8192\nMemoryGB                : 8\nVMHostId                : HostSystem-host-10\nVMHost                  : ibmesx01.softlayer.local\nVApp                    : \nFolderId                : Folder-group-v141\nFolder                  : TEST\nResourcePoolId          : ResourcePool-resgroup-352\nResourcePool            : Resource\nHARestartPriority       : Disabled\nHAIsolationResponse     : AsSpecifiedByCluster\nDrsAutomationLevel      : AsSpecifiedByCluster\nVMSwapfilePolicy        : Inherit\nVMResourceConfiguration : CpuShares:Normal/4000 MemShares:Normal/81920\nVersion                 : v11\nPersistentId            : 525e0240-0e2e-c507-2ac5-35660fd63afb\nGuestId                 : windows7Server64Guest\nUsedSpaceGB             : 48.074093455448746681213378906\nProvisionedSpaceGB      : 58.182492405176162719726562500\nDatastoreIdList         : {Datastore-datastore-11}\nExtensionData           : VMware.Vim.VirtualMachine\nCustomFields            : {}\nId                      : VirtualMachine-vm-149\nUid                     : /VIServer=softlayer.local\\xxxxx@xxxxx.softlayer.l\n                          ocal:443/VirtualMachine=VirtualMachine-vm-149/\nClient                  : VMware.VimAutomation.ViCore.Impl.V1.VimClient\n```\n\n#\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8a73\u7d30\u60c5\u5831\u53d6\u5f972\nGet-VMguest <\u4eee\u60f3\u30de\u30b7\u30f3\u540d> | select *\n\u4f8b\n\n```\nPower CLI C:\u00a5> Get-VMguest test-on-ULS | select *\n\nOSFullName       : Microsoft Windows Server 2008 R2 (64-bit)\nIPAddress        : {10.xx.xx.xx}\nState            : Running\nDisks            : {Capacity:53579083776, FreeSpace:22005411840, Path:C:\\}\nHostName         : test1\nNics             : {Network adapter 1:dvportgroup-384}\nScreenDimensions : {Width=1349, Height=672}\nVmId             : VirtualMachine-vm-149\nVM               : test-on-ULS\nVmUid            : /VIServer=softlayer.local\\xxxxxx@xxxxxx.softlayer.local:44\n                   3/VirtualMachine=VirtualMachine-vm-149/\nVmName           : test-on-ULS\nUid              : /VIServer=softlayer.local\\xxxxxx@xxxxxx.softlayer.local:44\n                   3/VirtualMachine=VirtualMachine-vm-149/VMGuest=/\nGuestId          : windows7Server64Guest\nToolsVersion     : 10.0.6\nExtensionData    : VMware.Vim.GuestInfo\nClient           : VMware.VimAutomation.ViCore.Impl.V1.VimClient\nGuestFamily      : windowsGuest\n```\n\n#\u53c2\u8003\n[VMware vSphere 5.5 \u306ePowerCLI\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5 | puti se blog](http://blog.putise.com/vmware-vsphere-5-5-%E3%81%AEpowercli%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%A8%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95/)\n\n[VMware\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u306e\u4f7f\u7528\u5bb9\u91cf\u30fb\u4f7f\u7528\u72b6\u6cc1\u3092\u30b3\u30de\u30f3\u30c9\u3067\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3002PowerCLI | puti se blog](http://blog.putise.com/vmware%e3%83%87%e3%83%bc%e3%82%bf%e3%82%b9%e3%83%88%e3%82%a2%e3%81%ae%e4%bd%bf%e7%94%a8%e5%ae%b9%e9%87%8f%e3%83%bb%e4%bd%bf%e7%94%a8%e7%8a%b6%e6%b3%81%e3%82%92%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89/)\n\n[Get-VM\u30fbGet-VMguest\u3067\u53d6\u5f97\u3067\u304d\u308b\u4eee\u60f3\u30de\u30b7\u30f3\u30fb\u30b2\u30b9\u30c8OS\u60c5\u5831\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u4e00\u89a7\u3002VMware PowerCLI | puti se blog](http://blog.putise.com/get-vm%e3%83%bbget-vmguest%e3%81%a7%e5%8f%96%e5%be%97%e3%81%a7%e3%81%8d%e3%82%8b%e4%bb%ae%e6%83%b3%e3%83%9e%e3%82%b7%e3%83%b3%e3%83%bb%e3%82%b2%e3%82%b9%e3%83%88os%e6%83%85%e5%a0%b1%e3%81%a8%e3%83%97/)\n", "tags": ["SoftLayer", "vmware", "VMware_ESXi", "VMware_vSphere", "VMwareTools"]}