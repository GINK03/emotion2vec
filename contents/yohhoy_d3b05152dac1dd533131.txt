{"context": " More than 1 year has passed since last update.FFmpeg(libavformat,libavcodec,libswscale)\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u52d5\u753b\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u3001\u5404\u6620\u50cf\u30d5\u30ec\u30fc\u30e0\u3092OpenCV\u30e9\u30a4\u30d6\u30e9\u30ea\u306ecv::Mat\u578b\u3078\u5909\u63db\u3059\u308b\u307e\u3067\u306e\u96db\u5f62\u30b3\u30fc\u30c9\u3002\nhttps://gist.github.com/yohhoy/f0444d3fc47f2bb2d0e2\n\n\u3088\u304f\u307f\u304b\u3051\u308bFFmpeg\u6620\u50cf\u5fa9\u53f7\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u30b3\u30fc\u30c7\u30c3\u30af\u9045\u5ef6(CODEC_CAP_DELAY)\u306b\u5bfe\u5fdc\u3057\u306a\u3044\u3082\u306e\u304c\u591a\u304f\u3001\u4e00\u90e8\u306e\u6620\u50cf\u30b3\u30fc\u30c7\u30c3\u30af\u3067\u306f\u5165\u529b\u6620\u50cf\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u672b\u5c3e\u6570\u30d5\u30ec\u30fc\u30e0\u304c\u6b20\u640d\u3059\u308b\u3002av_read_frame\u304c\u30d5\u30a1\u30a4\u30eb\u7d42\u7aef\u5230\u9054\u5f8c\u306eavcodec_decode_video2\u7a7a\u30d1\u30b1\u30c3\u30c8\u901a\u77e5\u306b\u3088\u308a\u6b63\u3057\u304f\u5bfe\u5fdc\u3002\nFFmpeg\u30b5\u30dd\u30fc\u30c8\u6709\u308aOpenCV\u30d3\u30eb\u30c9\u3067\u3082\u540c\u3058\u3053\u3068\u3092\u5b9f\u73fe\u3067\u304d\u308b\u304c\u3001cv::VideoCapture\u3060\u3068\u5e38\u306bRGB\u8272\u7a7a\u9593\u306b\u5909\u63db\u3055\u308c\u3066\u3057\u307e\u3046\u3002\u52d5\u753b\u7cfb\u30b3\u30fc\u30c7\u30c3\u30af\u306fYUV\u8272\u7a7a\u9593\u30cd\u30a4\u30a3\u30d6\u304c\u4e3b\u6d41\u306e\u305f\u3081\u3001\u7121\u99c4\u306a\u8272\u7a7a\u9593\u5909\u63db\u30b3\u30b9\u30c8\u3092\u6291\u3048\u305f\u3044\u5834\u5408\u306b\u4fbf\u5229\uff08\u304b\u3082\u3057\u308c\u306a\u3044\uff09\u3002\n\ncv::Mat image\u306e\u30c7\u30fc\u30bf\u9818\u57df\u306fvector<uint8_t> framebuf\u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u6b21\u30d5\u30ec\u30fc\u30e0\u51e6\u7406\u6642\u306b\u306f\u7834\u58ca\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002\u8907\u6570\u30d5\u30ec\u30fc\u30e0\u3092\u4fdd\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u30b3\u30d4\u30fc\u3057\u305fcv::Mat\u3092\u9000\u907f\u3057\u3066\u304a\u304f\u3053\u3068\u3002\n\nFFmpeg(libavformat,libavcodec,libswscale)\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u52d5\u753b\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u3001\u5404\u6620\u50cf\u30d5\u30ec\u30fc\u30e0\u3092OpenCV\u30e9\u30a4\u30d6\u30e9\u30ea\u306e`cv::Mat`\u578b\u3078\u5909\u63db\u3059\u308b\u307e\u3067\u306e\u96db\u5f62\u30b3\u30fc\u30c9\u3002\n\nhttps://gist.github.com/yohhoy/f0444d3fc47f2bb2d0e2\n\n- \u3088\u304f\u307f\u304b\u3051\u308bFFmpeg\u6620\u50cf\u5fa9\u53f7\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u30b3\u30fc\u30c7\u30c3\u30af\u9045\u5ef6(`CODEC_CAP_DELAY`)\u306b\u5bfe\u5fdc\u3057\u306a\u3044\u3082\u306e\u304c\u591a\u304f\u3001\u4e00\u90e8\u306e\u6620\u50cf\u30b3\u30fc\u30c7\u30c3\u30af\u3067\u306f\u5165\u529b\u6620\u50cf\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u672b\u5c3e\u6570\u30d5\u30ec\u30fc\u30e0\u304c\u6b20\u640d\u3059\u308b\u3002`av_read_frame`\u304c\u30d5\u30a1\u30a4\u30eb\u7d42\u7aef\u5230\u9054\u5f8c\u306e`avcodec_decode_video2`\u7a7a\u30d1\u30b1\u30c3\u30c8\u901a\u77e5\u306b\u3088\u308a\u6b63\u3057\u304f\u5bfe\u5fdc\u3002\n- FFmpeg\u30b5\u30dd\u30fc\u30c8\u6709\u308aOpenCV\u30d3\u30eb\u30c9\u3067\u3082\u540c\u3058\u3053\u3068\u3092\u5b9f\u73fe\u3067\u304d\u308b\u304c\u3001`cv::VideoCapture`\u3060\u3068\u5e38\u306bRGB\u8272\u7a7a\u9593\u306b\u5909\u63db\u3055\u308c\u3066\u3057\u307e\u3046\u3002\u52d5\u753b\u7cfb\u30b3\u30fc\u30c7\u30c3\u30af\u306fYUV\u8272\u7a7a\u9593\u30cd\u30a4\u30a3\u30d6\u304c\u4e3b\u6d41\u306e\u305f\u3081\u3001\u7121\u99c4\u306a\u8272\u7a7a\u9593\u5909\u63db\u30b3\u30b9\u30c8\u3092\u6291\u3048\u305f\u3044\u5834\u5408\u306b\u4fbf\u5229\uff08\u304b\u3082\u3057\u308c\u306a\u3044\uff09\u3002\n- `cv::Mat image`\u306e\u30c7\u30fc\u30bf\u9818\u57df\u306f`vector<uint8_t> framebuf`\u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u6b21\u30d5\u30ec\u30fc\u30e0\u51e6\u7406\u6642\u306b\u306f\u7834\u58ca\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002\u8907\u6570\u30d5\u30ec\u30fc\u30e0\u3092\u4fdd\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u30b3\u30d4\u30fc\u3057\u305f`cv::Mat`\u3092\u9000\u907f\u3057\u3066\u304a\u304f\u3053\u3068\u3002\n", "tags": ["ffmpeg2.8.5", "OpenCV3.0.0", "C++"]}