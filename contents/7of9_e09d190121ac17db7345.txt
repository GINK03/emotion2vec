{"context": " More than 1 year has passed since last update.\n\u52d5\u4f5c\u78ba\u8a8d\nC++ Builder XE4\n\n\n\u3075\u3068\u7591\u554f\u306b\u601d\u3063\u305f\u306e\u306fFindComponent()\u3092\u4f7f\u3046\u5834\u5408\u3068\u3001Components[idx]->Name\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u3068\u3069\u3061\u3089\u304c\u901f\u3044\u306e\u304b\u3068\u3044\u3046\u3053\u3068\u3002\n\u4ee5\u4e0b\u3092\u5b9f\u88c5\u3057\u305f\u3002\nvoid __fastcall TPDF_options2::Button1Click(TObject *Sender)\n{\n    int num = ComponentCount;\n\n    String name = L\"P03BL6\";\n    TComponent *ptr;\n\n    String msg;\n    int maxLoop = 10000;\n\n//  DWORD start,duration;\n\n    // 1.\n    msg = L\"\";\n    OutputDebugString(Now().FormatString(L\"yyyy/mm/dd hh:nn:ss.zzz\").c_str());\n    start = GetTickCount();\n    for(int loop=0; loop < maxLoop; loop++) {\n        ptr = FindComponent(name);\n        if (ptr != NULL) {\n            msg = msg + L\";\";\n        }\n    }\n    OutputDebugString(Now().FormatString(L\"yyyy/mm/dd hh:nn:ss.zzz\").c_str());\n    OutputDebugString(msg.c_str());\n\n    // 2.\n    msg = L\"\";\n    OutputDebugString(Now().FormatString(L\"yyyy/mm/dd hh:nn:ss.zzz\").c_str());\n    for(int loop=0; loop < maxLoop; loop++) {\n        for(int idx=0; idx < ComponentCount; idx++) {\n            if (Components[idx]->Name == name) {\n                String res = Components[idx]->Name;\n                msg = msg + L\".\";\n                break;\n            }\n        }\n    }\n    OutputDebugString(Now().FormatString(L\"yyyy/mm/dd hh:nn:ss.zzz\").c_str());\n    OutputDebugString(msg.c_str());\n}\n\n\u6761\u4ef6\u3068\u3057\u3066\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u6570\u306f651\u500b\u3002\nP03BL6\u3068\u3044\u3046\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306fComponents[]\u306e\u771f\u3093\u4e2d\u306b\u6765\u308b\u3082\u306e\u3092\u9078\u629e\u3002\n\u7d50\u679c\n\n\nFindComponent() : 11msec\nComponents[idx]->Name\u6bd4\u8f03 : 47msec\n\nFindComponent()\u306f\u5b9f\u88c5\u304c\u697d\u304b\u3064\u51e6\u7406\u3082\u901f\u3044\u3053\u3068\u304c\u308f\u304b\u3063\u305f\u3002\n```txt:\u52d5\u4f5c\u78ba\u8a8d\nC++ Builder XE4\n```\n\n\u3075\u3068\u7591\u554f\u306b\u601d\u3063\u305f\u306e\u306f`FindComponent()`\u3092\u4f7f\u3046\u5834\u5408\u3068\u3001`Components[idx]->Name`\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u3068\u3069\u3061\u3089\u304c\u901f\u3044\u306e\u304b\u3068\u3044\u3046\u3053\u3068\u3002\n\n\u4ee5\u4e0b\u3092\u5b9f\u88c5\u3057\u305f\u3002\n\n```cpp\nvoid __fastcall TPDF_options2::Button1Click(TObject *Sender)\n{\n\tint num = ComponentCount;\n\n\tString name = L\"P03BL6\";\n\tTComponent *ptr;\n\n\tString msg;\n\tint maxLoop = 10000;\n\n//\tDWORD start,duration;\n\n\t// 1.\n\tmsg = L\"\";\n\tOutputDebugString(Now().FormatString(L\"yyyy/mm/dd hh:nn:ss.zzz\").c_str());\n\tstart = GetTickCount();\n\tfor(int loop=0; loop < maxLoop; loop++) {\n\t\tptr = FindComponent(name);\n\t\tif (ptr != NULL) {\n\t\t\tmsg = msg + L\";\";\n\t\t}\n\t}\n\tOutputDebugString(Now().FormatString(L\"yyyy/mm/dd hh:nn:ss.zzz\").c_str());\n\tOutputDebugString(msg.c_str());\n\n\t// 2.\n\tmsg = L\"\";\n\tOutputDebugString(Now().FormatString(L\"yyyy/mm/dd hh:nn:ss.zzz\").c_str());\n\tfor(int loop=0; loop < maxLoop; loop++) {\n\t\tfor(int idx=0; idx < ComponentCount; idx++) {\n\t\t\tif (Components[idx]->Name == name) {\n\t\t\t\tString res = Components[idx]->Name;\n\t\t\t\tmsg = msg + L\".\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tOutputDebugString(Now().FormatString(L\"yyyy/mm/dd hh:nn:ss.zzz\").c_str());\n\tOutputDebugString(msg.c_str());\n}\n```\n\n\u6761\u4ef6\u3068\u3057\u3066\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u6570\u306f651\u500b\u3002\n`P03BL6`\u3068\u3044\u3046\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306fComponents[]\u306e\u771f\u3093\u4e2d\u306b\u6765\u308b\u3082\u306e\u3092\u9078\u629e\u3002\n\n\n\u7d50\u679c\n![FindComponent.png](https://qiita-image-store.s3.amazonaws.com/0/32870/82dae84f-212c-5db8-37fd-ec4e71b35807.png)\n\n- FindComponent() : 11msec\n- Components[idx]->Name\u6bd4\u8f03 : 47msec\n\nFindComponent()\u306f\u5b9f\u88c5\u304c\u697d\u304b\u3064\u51e6\u7406\u3082\u901f\u3044\u3053\u3068\u304c\u308f\u304b\u3063\u305f\u3002\n", "tags": ["cppBuilder", "difference", "performance"]}