{"tags": ["Vim", "rbenv"], "context": " More than 1 year has passed since last update.vim\u3092\u8d77\u52d5\u3059\u308b\u3068\u3053\u3046\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n% vim\ndyld: lazy symbol binding failed: Symbol not found: _rb_encdb_declare\n  Referenced from: /Users/kameda/.rbenv/versions/1.9.3-p392/lib/ruby/1.9.1/x86_64-darwin12.2.0/enc/encdb.bundle\n  Expected in: flat namespace\n\ndyld: Symbol not found: _rb_encdb_declare\n  Referenced from: /Users/kameda/.rbenv/versions/1.9.3-p392/lib/ruby/1.9.1/x86_64-darwin12.2.0/enc/encdb.bundle\n  Expected in: flat namespace\n\nVim: Caught deadly signal SEGV\nVim: Finished.\nzsh: segmentation fault  vim\n\n\u4ee5\u4e0b\u306e\u6761\u4ef6\u304c\u91cd\u306a\u3063\u305f\u6642\u306b\u3001vim\u8d77\u52d5\u6642\u306bSEGV\u3067\u843d\u3061\u308b\u3002\n\nvim\u306econfigure\u3067 --enable-ruby-interp \u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\nruby\u306edylib\u304c\u306a\u3044\u3002(ruby\u30d3\u30eb\u30c9\u6642\u306b\u3001--enable-shared\u3092\u6307\u5b9a\u3057\u3066\u306a\u3044)\n\nruby\u306edylib\u304c\u7121\u3044\u306e\u304c\u539f\u56e0\u3089\u3057\u3044\u3002\nhttp://attonblog.blogspot.jp/2013/02/ruby-193-rubyinterp-vim-brew.html\n\u3053\u308c\u3092\u89e3\u6d88\u3059\u308b\u305f\u3081\u3001ruby\u3092--enable-shared\u3092\u3064\u3051\u3066\u30d3\u30eb\u30c9\u3057\u306a\u304a\u3055\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\u307e\u305f\u3001ruby2.0\u304b\u3089\u306frbenv\u306e\u74b0\u5883\u5909\u6570\u304cCONFIGURE_OPTS\u304b\u3089RUBY_CONFIGURE_OPTS\u306b\u5909\u308f\u3063\u305f\u3002\nruby1.9.3\u306a\u3089CONFIGURE_OPTS\u3092\u4f7f\u3046\u3002\nhttp://attonblog.blogspot.jp/2013/02/rbenv-enable-shared-ruby-200-p0.html\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067 ruby \u3068 vim \u3092\u30d3\u30eb\u30c9\u3057\u76f4\u3059\u3002\n\u307e\u305a ruby-build \u3092\u4f7f\u3063\u3066 ruby \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nRUBY_CONFIGURE_OPTS='--enable-shared' rbenv install 2.0.0-p247\nrbenv global 2.0.0-p247\n\n\u3042\u3068\u306f\u666e\u901a\u306bvim\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nhg clone https://vim.googlecode.com/hg/ vim\ncd vim\n./configure --with-features-huge --enable-perlinterp --enable-pythoninterp --enable-rubyinterp\nmake && make install\n\n--prefix \u3092\u6307\u5b9a\u3057\u3066\u306a\u3044\u3068\u3001/usr/local/bin \u306b vim \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002\nOSX\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f $PATH \u304c /usr/local/bin \u3088\u308a\u5148\u306b /usr/bin \u3092\u898b\u306b\u884c\u304f\u306e\u3067\u3001/usr/local/bin \u3092\u5148\u306b\u898b\u306b\u884c\u304f\u305f\u3081\u306b\u3001.bashrc \u304b .zshrc \u306a\u3069\u3067 $PATH\u306e\u9806\u756a\u3092\u5909\u3048\u3066\u3084\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n.zshrc\nexport PATH=/usr/local/bin:$PATH\n\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\nvim\u3092\u8d77\u52d5\u3059\u308b\u3068\u3053\u3046\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n\n```bash\n% vim\ndyld: lazy symbol binding failed: Symbol not found: _rb_encdb_declare\n  Referenced from: /Users/kameda/.rbenv/versions/1.9.3-p392/lib/ruby/1.9.1/x86_64-darwin12.2.0/enc/encdb.bundle\n  Expected in: flat namespace\n\ndyld: Symbol not found: _rb_encdb_declare\n  Referenced from: /Users/kameda/.rbenv/versions/1.9.3-p392/lib/ruby/1.9.1/x86_64-darwin12.2.0/enc/encdb.bundle\n  Expected in: flat namespace\n\nVim: Caught deadly signal SEGV\nVim: Finished.\nzsh: segmentation fault  vim\n```\n\n\u4ee5\u4e0b\u306e\u6761\u4ef6\u304c\u91cd\u306a\u3063\u305f\u6642\u306b\u3001vim\u8d77\u52d5\u6642\u306bSEGV\u3067\u843d\u3061\u308b\u3002\n\n* vim\u306econfigure\u3067 `--enable-ruby-interp` \u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\n* ruby\u306edylib\u304c\u306a\u3044\u3002(ruby\u30d3\u30eb\u30c9\u6642\u306b\u3001`--enable-shared`\u3092\u6307\u5b9a\u3057\u3066\u306a\u3044)\n\nruby\u306edylib\u304c\u7121\u3044\u306e\u304c\u539f\u56e0\u3089\u3057\u3044\u3002\nhttp://attonblog.blogspot.jp/2013/02/ruby-193-rubyinterp-vim-brew.html\n\n\u3053\u308c\u3092\u89e3\u6d88\u3059\u308b\u305f\u3081\u3001ruby\u3092--enable-shared\u3092\u3064\u3051\u3066\u30d3\u30eb\u30c9\u3057\u306a\u304a\u3055\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\u307e\u305f\u3001ruby2.0\u304b\u3089\u306frbenv\u306e\u74b0\u5883\u5909\u6570\u304cCONFIGURE_OPTS\u304b\u3089RUBY_CONFIGURE_OPTS\u306b\u5909\u308f\u3063\u305f\u3002\nruby1.9.3\u306a\u3089CONFIGURE_OPTS\u3092\u4f7f\u3046\u3002\nhttp://attonblog.blogspot.jp/2013/02/rbenv-enable-shared-ruby-200-p0.html\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067 ruby \u3068 vim \u3092\u30d3\u30eb\u30c9\u3057\u76f4\u3059\u3002\n\n\u307e\u305a ruby-build \u3092\u4f7f\u3063\u3066 ruby \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```bash\nRUBY_CONFIGURE_OPTS='--enable-shared' rbenv install 2.0.0-p247\nrbenv global 2.0.0-p247\n```\n\n\u3042\u3068\u306f\u666e\u901a\u306bvim\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```bash\nhg clone https://vim.googlecode.com/hg/ vim\ncd vim\n./configure --with-features-huge --enable-perlinterp --enable-pythoninterp --enable-rubyinterp\nmake && make install\n```\n\n`--prefix` \u3092\u6307\u5b9a\u3057\u3066\u306a\u3044\u3068\u3001/usr/local/bin \u306b vim \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002\nOSX\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f `$PATH` \u304c /usr/local/bin \u3088\u308a\u5148\u306b /usr/bin \u3092\u898b\u306b\u884c\u304f\u306e\u3067\u3001/usr/local/bin \u3092\u5148\u306b\u898b\u306b\u884c\u304f\u305f\u3081\u306b\u3001.bashrc \u304b .zshrc \u306a\u3069\u3067 `$PATH`\u306e\u9806\u756a\u3092\u5909\u3048\u3066\u3084\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```bash:.zshrc\nexport PATH=/usr/local/bin:$PATH\n```\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n"}