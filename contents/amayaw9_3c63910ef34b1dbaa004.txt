{"context": " More than 1 year has passed since last update.\n\nClick Modular Router\u3068\u306f\nMIT(\u30de\u30b5\u30c1\u30e5\u30fc\u30bb\u30c3\u30c4\u5de5\u79d1\u5927\u5b66)\u304c\u4f5c\u3063\u305f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30eb\u30fc\u30bf\u3067\u3001 \u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9f\u88c5\u30fb\u8a55\u4fa1\u3059\u308b\u305f\u3081\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3002SDN \u3001\u3055\u3089\u306b\u306f DPN \u304c\u3067\u304d\u308b\u3059\u3054\u3044\u30e4\u30c4\u3002\u7c21\u6613\u306aDSL\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u30eb\u30fc\u30bf\u3084\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306a\u3069\u3001\u69d8\u3005\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ce\u30fc\u30c9\u3092\u5b9f\u88c5\u3067\u304d\u308b\u306e\u3067\u4fbf\u5229\u3067\u3059\u3002\n\n\u3069\u306e\u3088\u3046\u306b\u4f7f\u3046\u306e\uff1f\nelement \u3068\u3044\u3046\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u30ce\u30fc\u30c9\u3092\u8a2d\u8a08\u30fb\u5b9f\u88c5\u3057\u307e\u3059\u3002\u69d8\u3005\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u5145\u5b9f\u3057\u3066\u3044\u3066\u89aa\u5207\u3002\u6b32\u3057\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u308c\u3070\u30e6\u30fc\u30b6\u81ea\u8eab\u3067 C++ \u3092\u7528\u3044\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n\u30e2\u30b8\u30e5\u30fc\u30eb(element)\n\u4e0b\u56f3\u306b element \u3092\u63a5\u7d9a\u3059\u308b\u3053\u3068\u3067\u8a2d\u8a08\u3055\u308c\u305f\u30ce\u30fc\u30c9(CLICKDIR/conf/demo.click)\u3092\u793a\u3057\u307e\u3059\u3002\u8584\u9ec4\u8272\u306e\u7bb1\u306e\u4e00\u3064\u4e00\u3064\u304c element\u3067\u3059\u3002\n\nelement \u306f\u5176\u3005\u304c C++ \u5b9f\u88c5\u3055\u308c\u305f\u30af\u30e9\u30b9\u3067\u3059\u3002\u63d0\u4f9b\u3055\u308c\u308b\u4eee\u60f3\u30af\u30e9\u30b9\u3092\u7d99\u627f\u30fb\u4eee\u60f3\u30e1\u30f3\u30d0\u95a2\u6570\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067 element \u3092\u4f5c\u308c\u307e\u3059\u3002\n\n\u30d1\u30c3\u30b1\u30fc\u30b8(.click)\n\u30ce\u30fc\u30c9\u3092\u8a18\u8ff0\u3059\u308b\u3068\u304d\u306bDSL\u3092\u7528\u3044\u307e\u3059\u3002element \u3092\u5ba3\u8a00\u30fb\u63a5\u7d9a\u3059\u308b\u3060\u3051\u3001\u3068\u3066\u3082\u7c21\u5358\u3002\u4e0b\u8a18\u306b.click\u30d5\u30a1\u30a4\u30eb(CLICKDIR/conf/demo.click)\u3092\u793a\u3057\u307e\u3059\u3002\n// Suck stuff in.\nPollDevice(eth7) -> c0 :: Classifier(12/0806 20/0001,\n                                     12/0806 20/0002,\n                                     12/0800,\n                                     -);\n\nout :: Queue(1024) -> ToDevice(eth4);\n\n// ARP request need to be answered, obviously\nc0[0]\n    -> ARPResponder(7.0.0.1 00:C0:95:E1:FC:D6)\n    -> out;\n\n// ARP responses are handed to Linux\nc0[1]\n    -> ToHost();\n\n// Non-IP packets are dropped\nc0[3]\n    -> Discard;\n\n// Other IP packets. Split on UDP, TCP and rest\nc0[2]\n    -> Strip(14)\n    -> CheckIPHeader()\n    -> c1 :: Classifier(9/17, 9/6, -);\n\n\n// TCP packets\nc1[1] -> Print(TCP) -> out;\n\n// UDP packets\nc1[0]\n    -> Print(UDP)\n    -> udp_mon :: IPRateMonitor(DST, PACKETS, 0, 10, 30)\n    -> udp_block :: Block(20)\n    -> out;\n\n// non-UDP and non-TCP packets\nc1[2] -> Print(UNKNOWN) -> out;\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\n\u4e0b\u8a18\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u3092\u793a\u3057\u307e\u3059\u3002\u8db3\u308a\u306a\u3044\u30e2\u30ce\u304c\u4f55\u304b\u304c\u3042\u308c\u3070 configure \u304c\u6559\u3048\u3066\u304f\u308c\u308b\u306f\u305a\u3002\n$ git clone git://github.com/kohler/click.git\n\nor\n\n$ wget read.cs.ucla.edu/click/click-VERSION.tar.gz\n$ tar czvf click-VERSION.tar.gz click\n\n\n$ cd click && autoconf\n$ sudo ./configure --prefix=CLICKDIR\n$ sudo make\n$ sudo make install\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30c6\u30b9\u30c8\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8 conf/test.click \u3092\u5b9f\u884c\u3001\"ok\"\u304c5\u3064\u51fa\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u3002\n$ userlevel/click conf/test.click\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\n\n\u3064\u3044\u3067\u306b\u3001ping\u7bb1(icmp \u30a8\u30b3\u30fc\u8981\u6c42\u3092\u53d7\u4fe1\u3059\u308b\u3068\u6a19\u6e96\u51fa\u529b\u3059\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ce\u30fc\u30c9)\u3092\u5b9f\u884c\u3002\u4ed6\u306e\u8a08\u7b97\u6a5f\u304b\u3089 ping \u3057\u3066\u307f\u308b\u3068\n$ sudo ./userlevel/click conf/print-pings.click\n1400313867.128195: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 0)\n1400313868.124981: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 1)\n1400313869.126363: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 2)\n1400313870.127983: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 3)\n1400313871.128845: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 4)\n1400313872.129952: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 5)\n1400313873.131363: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 6)\n1400313874.132591: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 7)\n\n\n\u53c2\u8003\nClick Modular Router\n## Click Modular Router\u3068\u306f\n\nMIT(\u30de\u30b5\u30c1\u30e5\u30fc\u30bb\u30c3\u30c4\u5de5\u79d1\u5927\u5b66)\u304c\u4f5c\u3063\u305f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30eb\u30fc\u30bf\u3067\u3001 \u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9f\u88c5\u30fb\u8a55\u4fa1\u3059\u308b\u305f\u3081\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3002`SDN` \u3001\u3055\u3089\u306b\u306f `DPN` \u304c\u3067\u304d\u308b\u3059\u3054\u3044\u30e4\u30c4\u3002\u7c21\u6613\u306aDSL\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u30eb\u30fc\u30bf\u3084\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306a\u3069\u3001\u69d8\u3005\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ce\u30fc\u30c9\u3092\u5b9f\u88c5\u3067\u304d\u308b\u306e\u3067\u4fbf\u5229\u3067\u3059\u3002\n\n## \u3069\u306e\u3088\u3046\u306b\u4f7f\u3046\u306e\uff1f\n\n`element` \u3068\u3044\u3046\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u30ce\u30fc\u30c9\u3092\u8a2d\u8a08\u30fb\u5b9f\u88c5\u3057\u307e\u3059\u3002\u69d8\u3005\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u5145\u5b9f\u3057\u3066\u3044\u3066\u89aa\u5207\u3002\u6b32\u3057\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u308c\u3070\u30e6\u30fc\u30b6\u81ea\u8eab\u3067 `C++` \u3092\u7528\u3044\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n### \u30e2\u30b8\u30e5\u30fc\u30eb(element)\n\n\u4e0b\u56f3\u306b `element` \u3092\u63a5\u7d9a\u3059\u308b\u3053\u3068\u3067\u8a2d\u8a08\u3055\u308c\u305f\u30ce\u30fc\u30c9(CLICKDIR/conf/demo.click)\u3092\u793a\u3057\u307e\u3059\u3002\u8584\u9ec4\u8272\u306e\u7bb1\u306e\u4e00\u3064\u4e00\u3064\u304c `element`\u3067\u3059\u3002\n![Screenshot_from_2014-05-17 16:09:35.png](https://qiita-image-store.s3.amazonaws.com/0/27389/43079ef4-32ec-97cc-7099-1c4112db6cfa.png \"GUI clicky\u306e\u5b9f\u884c\u4f8b\")\n`element` \u306f\u5176\u3005\u304c `C++` \u5b9f\u88c5\u3055\u308c\u305f\u30af\u30e9\u30b9\u3067\u3059\u3002\u63d0\u4f9b\u3055\u308c\u308b\u4eee\u60f3\u30af\u30e9\u30b9\u3092\u7d99\u627f\u30fb\u4eee\u60f3\u30e1\u30f3\u30d0\u95a2\u6570\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067 `element` \u3092\u4f5c\u308c\u307e\u3059\u3002\n\n### \u30d1\u30c3\u30b1\u30fc\u30b8(.click)\n\n\u30ce\u30fc\u30c9\u3092\u8a18\u8ff0\u3059\u308b\u3068\u304d\u306bDSL\u3092\u7528\u3044\u307e\u3059\u3002`element` \u3092\u5ba3\u8a00\u30fb\u63a5\u7d9a\u3059\u308b\u3060\u3051\u3001\u3068\u3066\u3082\u7c21\u5358\u3002\u4e0b\u8a18\u306b.click\u30d5\u30a1\u30a4\u30eb(CLICKDIR/conf/demo.click)\u3092\u793a\u3057\u307e\u3059\u3002\n\n```\n// Suck stuff in.\nPollDevice(eth7) -> c0 :: Classifier(12/0806 20/0001,\n                                     12/0806 20/0002,\n                                     12/0800,\n                                     -);\n\nout :: Queue(1024) -> ToDevice(eth4);\n\n// ARP request need to be answered, obviously\nc0[0]\n    -> ARPResponder(7.0.0.1 00:C0:95:E1:FC:D6)\n    -> out;\n\n// ARP responses are handed to Linux\nc0[1]\n    -> ToHost();\n\n// Non-IP packets are dropped\nc0[3]\n    -> Discard;\n\n// Other IP packets. Split on UDP, TCP and rest\nc0[2]\n    -> Strip(14)\n    -> CheckIPHeader()\n    -> c1 :: Classifier(9/17, 9/6, -);\n\n\n// TCP packets\nc1[1] -> Print(TCP) -> out;\n\n// UDP packets\nc1[0]\n    -> Print(UDP)\n    -> udp_mon :: IPRateMonitor(DST, PACKETS, 0, 10, 30)\n    -> udp_block :: Block(20)\n    -> out;\n\n// non-UDP and non-TCP packets\nc1[2] -> Print(UNKNOWN) -> out;\n```\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\n\n\u4e0b\u8a18\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u3092\u793a\u3057\u307e\u3059\u3002\u8db3\u308a\u306a\u3044\u30e2\u30ce\u304c\u4f55\u304b\u304c\u3042\u308c\u3070 `configure` \u304c\u6559\u3048\u3066\u304f\u308c\u308b\u306f\u305a\u3002\n\n```shell-session\n$ git clone git://github.com/kohler/click.git\n\nor\n\n$ wget read.cs.ucla.edu/click/click-VERSION.tar.gz\n$ tar czvf click-VERSION.tar.gz click\n\n\n$ cd click && autoconf\n$ sudo ./configure --prefix=CLICKDIR\n$ sudo make\n$ sudo make install\n```\n\n### \u52d5\u4f5c\u78ba\u8a8d\n\n\u30c6\u30b9\u30c8\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8 `conf/test.click` \u3092\u5b9f\u884c\u3001\"ok\"\u304c5\u3064\u51fa\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u3002\n\n```shell-session\n$ userlevel/click conf/test.click\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\nok:   40 | 45000028 00000000 401177c3 01000001 02000002 13691369\n```\n\n\u3064\u3044\u3067\u306b\u3001ping\u7bb1(icmp \u30a8\u30b3\u30fc\u8981\u6c42\u3092\u53d7\u4fe1\u3059\u308b\u3068\u6a19\u6e96\u51fa\u529b\u3059\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ce\u30fc\u30c9)\u3092\u5b9f\u884c\u3002\u4ed6\u306e\u8a08\u7b97\u6a5f\u304b\u3089 `ping` \u3057\u3066\u307f\u308b\u3068\n\n```shell-session\n$ sudo ./userlevel/click conf/print-pings.click\n1400313867.128195: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 0)\n1400313868.124981: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 1)\n1400313869.126363: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 2)\n1400313870.127983: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 3)\n1400313871.128845: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 4)\n1400313872.129952: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 5)\n1400313873.131363: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 6)\n1400313874.132591: 192.168.0.6 > 192.168.0.2: icmp echo (9733, 7)\n```\n\n##\u53c2\u8003\n\n[Click Modular Router](http://read.cs.ucla.edu/click/)\n\n", "tags": ["ClickModularRouter", "Network"]}