{"context": "\n\n\u74b0\u5883\n\nRaspberry Pi 3\n2016-05-27-raspbian-jessie.img\n\n\n\u624b\u9806\n\n\nsudo apt-get install git libx11-dev\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u985e\u53d6\u5f97\n\nnode\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nVer4.4.7\u3092/usr/local\u306b\u3053\u3074\u30fc\u3057\u3066\u3057\u307e\u3046\u7c21\u5358\u306a\u65b9\u6cd5\u306a\u306e\u3067\u3001\u74b0\u5883\u304c\u3088\u3054\u3055\u308c\u308b\u3001\u3068\u304a\u3082\u3046\u306a\u3089\u3001nvm\u3068\u304b\u3092\u4f7f\u3046\u307b\u3046\u304c\u3044\u3044\u304b\u3068\nwget https://nodejs.org/dist/v4.4.7/node-v4.4.7-linux-armv7l.tar.gz\ntar xf node-v4.4.7-linux-armv7l.tar.gz\ncd node-v4.4.7-linux-armv7l\nsudo cp -vR {bin,include,lib,share} /usr/local/\n\n\n\n(\u8ffd\u8a18) nvm\u4f7f\u7528\u6642\ncurl -o - https://raw.githubusercontent.com/creationix/nvm/master/install.sh | bash && source ~/.bashrc\nnvm ls-remote ## \u4f7f\u3048\u308bnode version\u8868\u793a\nnvm install v4.4.7\n#nvm install v6.2.2   # \u3068\u304b?\nnvm ls # \u30ed\u30fc\u30ab\u30eb\u306b\u3042\u308bversion\nnvm use v4.4.7  # \u3064\u304b\u3046Ver\u6307\u5b9a.\n\n\n\n\n\nvscode\n\n\n\u30bd\u30fc\u30b9\u53d6\u5f97 \ngit clone https://github.com/Microsoft/vscode.git\ncd vscode\n\n\n\n\u4fee\u6b63vi ./npm-shrinkwrap.json\n\nnpm-shrinkwrap.json\n... # \u4ee5\u4e0b\u3092\u524a\u9664\n    \"fsevents\": {\n      \"version\": \"0.3.8\",\n      \"from\": \"fsevents@>=0.3.1 <0.4.0\",\n      \"resolved\": \"https://registry.npmjs.org/fsevents/-/fsevents-0.3.8.tgz\"\n},\n...\n\n\n\n\n./scripts/npm.sh install --arch=armhf\u5fc5\u8981\u306anode\u30d1\u30c3\u30b1\u30fc\u30b8\u53d6\u5f97\uff65\u30d3\u30eb\u30c9\npi@raspberrypi:~/vscode $ time ./scripts/npm.sh install\n.\n.\nreal    29m11.355s\nuser    8m9.320s\nsys    0m42.300s\n\n\n./scripts/code.sh \u30d3\u30eb\u30c9\u30fb\u5b9f\u884c\n\n\n\n\n\nalias code='$HOME/vscode/.build/electron/electron $HOME/vscode' \u3068\u304b\u30a8\u30a4\u30ea\u30a2\u30b9\u3001\u306f\u3063\u3068\u304f\u3068\u3044\u3044\u304b\u3082\uff1f\n\n\n\n\u305d\u306e\u4ed6\n\n\n\u5b9f\u884c\u6642\u30ef\u30fc\u30cb\u30f3\u30b0 => \u30cf\u30c6?\npi@raspberrypi:~/vscode $ LANG=C code\nbash: cannot set terminal process group (-1): Inappropriate ioctl for device\nbash: no job control in this shell\npi@raspberrypi:~/vscode $ LANG=ja_JP.UTF-8 code\nbash: \u7aef\u672b\u30d7\u30ed\u30bb\u30b9\u30b0\u30eb\u30fc\u30d7\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093 (-1): \u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u4e0d\u9069\u5207\u306aioctl\u3067\u3059\nbash: \u3053\u306e\u30b7\u30a7\u30eb\u3067\u306f\u30b8\u30e7\u30d6\u5236\u5fa1\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\npi@raspberrypi:~/vscode $ \n\n\n\n\u672c\u4f53\u63a5\u7d9a\u306e\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u307f\uff1f\uff1f\n\nVNC\u3068\u304b\u3001X\u3067\u307b\u304b\u306e\u7aef\u672b\u306b\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u3068\u3070\u3059(DISPLAY=hoge:1.0\u307f\u305f\u3044\u306a)\u3068\u304b\u3067\u304d\u306a\u304b\u3063\u305f\n\n\n\nasar \u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u305f\u3082\u306e\u304c\u3001\u3064\u304b\u3048\u306a\u3044\npi@raspberrypi:~/vscode $ ./scripts/npm.sh isntall asar\nasar@0.11.0 node_modules/asar\n\u251c\u2500\u2500 chromium-pickle-js@0.1.0\n\u251c\u2500\u2500 commander@2.9.0 (graceful-readlink@1.0.1)\n\u251c\u2500\u2500 minimatch@3.0.2 (brace-expansion@1.1.5)\n\u251c\u2500\u2500 glob@6.0.4 (once@1.3.3, inflight@1.0.5)\n\u251c\u2500\u2500 cuint@0.2.1\n\u2514\u2500\u2500 mksnapshot@0.3.0 (fs-extra@0.26.7, request@2.55.0, decompress-zip@0.3.0)\npi@raspberrypi:~/vscode $ ./node_modules/.bin/asar . vscode.asar\npi@raspberrypi:~/vscode $ .build/electron/electron ./vscode.asar \nError opening app\nThe app provided is not a valid Electron app, please read the docs on how to write one:\nhttps://github.com/electron/electron/tree/v0.37.6/docs\n\nError: Cannot find module '/home/pi/vscode/vscode.asar'\npi@raspberrypi:~/vscode $ ls -l ./vscode.asar \n-rw-r--r-- 1 pi pi 410301090  7\u6708  1 14:41 ./vscode.asar\npi@raspberrypi:~/vscode $ \n\n\n\nelectron-packager\u306f\u3001--arch=armhf\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044(\u30a4\u30f3\u30c6\u30eb\u7cfb\u306e\u307f)\npi@raspberrypi:~/vscode $ ./scripts/npm.sh isntall electron-packager\nelectron-packager@7.1.0 node_modules/electron-packager\n\u251c\u2500\u2500 rcedit@0.5.0\n\u251c\u2500\u2500 run-series@1.1.4\n\u251c\u2500\u2500 electron-osx-sign@0.3.1\n\u251c\u2500\u2500 fs-extra@0.28.0 (jsonfile@2.3.1, klaw@1.3.0)\n\u251c\u2500\u2500 resolve@1.1.7\n\u251c\u2500\u2500 get-package-info@0.0.2 (lodash.get@4.3.0, bluebird@3.4.1)\n\u251c\u2500\u2500 extract-zip@1.5.0 (debug@0.7.4, yauzl@2.4.1, concat-stream@1.5.0, mkdirp@0.5.0)\n\u251c\u2500\u2500 electron-download@2.1.2 (path-exists@1.0.0, home-path@1.0.3, rc@1.1.6, mv@2.1.1, nugget@1.6.2)\n\u2514\u2500\u2500 plist@1.2.0 (util-deprecate@1.0.2, base64-js@0.0.8, xmldom@0.1.22, xmlbuilder@4.0.0)\npi@raspberrypi:~/vscode $ ./node_modules/.bin/electron-packager . --platform=linux --arch=armhf\nUnsupported arch armhf; must be one of: ia32, x64\npi@raspberrypi:~/vscode $ \n\n\n\nlibx11-dev\u304c\u5165\u3063\u3066\u306a\u3044\u3068\u3001\u30d8\u30c3\u30c0\u304c\u306a\u3044\u3068\u304a\u3053\u3089\u308c\u308b\nmake: Entering directory '/home/pi/vscode/node_modules/native-keymap/build'\nCXX(target) Release/obj.target/keymapping/src/string_conversion.o\nCXX(target) Release/obj.target/keymapping/src/keymapping.o\nCXX(target) Release/obj.target/keymapping/deps/chromium/x/keysym_to_unicode.o\n../deps/chromium/x/keysym_to_unicode.cc:35:19: fatal error: X11/X.h: \u305d\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3042\u308a\u307e\u305b\u3093\n#include <X11/X.h>\n               ^\ncompilation terminated.\n\n\n(\u672a\u78ba\u8a8d) \u3089\u305a\u3071\u3044ZERO / 1\u306f\u3001node-v4.4.7-linux-armv6l.tar.gz(armv6l)\u3068\u3044\u3046\u306e\u3092\u4f7f\u3048\u3070\u3044\u3044\u304b\u3082\uff1f\n\n\n![rpi_vscode1.png](https://qiita-image-store.s3.amazonaws.com/0/75594/91591dcb-678d-a4d5-79c3-7af015d2c0b3.png)\n\n## \u74b0\u5883\n- Raspberry Pi 3\n- `2016-05-27-raspbian-jessie.img`\n\n## \u624b\u9806\n1. `sudo apt-get install git libx11-dev`<br>\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u985e\u53d6\u5f97\n2. node\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - Ver4.4.7\u3092`/usr/local`\u306b\u3053\u3074\u30fc\u3057\u3066\u3057\u307e\u3046\u7c21\u5358\u306a\u65b9\u6cd5\u306a\u306e\u3067\u3001\u74b0\u5883\u304c\u3088\u3054\u3055\u308c\u308b\u3001\u3068\u304a\u3082\u3046\u306a\u3089\u3001`nvm`\u3068\u304b\u3092\u4f7f\u3046\u307b\u3046\u304c\u3044\u3044\u304b\u3068\n\n        ```bash\nwget https://nodejs.org/dist/v4.4.7/node-v4.4.7-linux-armv7l.tar.gz\ntar xf node-v4.4.7-linux-armv7l.tar.gz\ncd node-v4.4.7-linux-armv7l\nsudo cp -vR {bin,include,lib,share} /usr/local/\n```\n    -  (\u8ffd\u8a18) `nvm`\u4f7f\u7528\u6642<br>\n\n        ```bash\ncurl -o - https://raw.githubusercontent.com/creationix/nvm/master/install.sh | bash && source ~/.bashrc\nnvm ls-remote ## \u4f7f\u3048\u308bnode version\u8868\u793a\nnvm install v4.4.7\n#nvm install v6.2.2   # \u3068\u304b?\nnvm ls # \u30ed\u30fc\u30ab\u30eb\u306b\u3042\u308bversion\nnvm use v4.4.7  # \u3064\u304b\u3046Ver\u6307\u5b9a.\n```\n\n3. vscode\n    1. \u30bd\u30fc\u30b9\u53d6\u5f97 \n\n        ```\ngit clone https://github.com/Microsoft/vscode.git\ncd vscode\n```\n    2. \u4fee\u6b63<br>`vi ./npm-shrinkwrap.json`\n\n        ```json:npm-shrinkwrap.json\n... # \u4ee5\u4e0b\u3092\u524a\u9664\n            \"fsevents\": {\n              \"version\": \"0.3.8\",\n              \"from\": \"fsevents@>=0.3.1 <0.4.0\",\n              \"resolved\": \"https://registry.npmjs.org/fsevents/-/fsevents-0.3.8.tgz\"\n    },\n...\n```\n    3. `./scripts/npm.sh install --arch=armhf`<br>\u5fc5\u8981\u306anode\u30d1\u30c3\u30b1\u30fc\u30b8\u53d6\u5f97\uff65\u30d3\u30eb\u30c9\n\n        ```shell-session\npi@raspberrypi:~/vscode $ time ./scripts/npm.sh install\n.\n.\nreal    29m11.355s\nuser    8m9.320s\nsys    0m42.300s\n```\n    4. `./scripts/code.sh` <br>\u30d3\u30eb\u30c9\u30fb\u5b9f\u884c\n\n- `alias code='$HOME/vscode/.build/electron/electron $HOME/vscode'` <br>\u3068\u304b\u30a8\u30a4\u30ea\u30a2\u30b9\u3001\u306f\u3063\u3068\u304f\u3068\u3044\u3044\u304b\u3082\uff1f\n\n![rpi_vscode2.png](https://qiita-image-store.s3.amazonaws.com/0/75594/f1236422-10e2-2767-c856-bb92ab0de754.png)\n\n\n\n## \u305d\u306e\u4ed6\n\n1. \u5b9f\u884c\u6642\u30ef\u30fc\u30cb\u30f3\u30b0 => \u30cf\u30c6?\n \n    ```shell-session\npi@raspberrypi:~/vscode $ LANG=C code\nbash: cannot set terminal process group (-1): Inappropriate ioctl for device\nbash: no job control in this shell\npi@raspberrypi:~/vscode $ LANG=ja_JP.UTF-8 code\nbash: \u7aef\u672b\u30d7\u30ed\u30bb\u30b9\u30b0\u30eb\u30fc\u30d7\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093 (-1): \u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u4e0d\u9069\u5207\u306aioctl\u3067\u3059\nbash: \u3053\u306e\u30b7\u30a7\u30eb\u3067\u306f\u30b8\u30e7\u30d6\u5236\u5fa1\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\npi@raspberrypi:~/vscode $ \n```\n2. \u672c\u4f53\u63a5\u7d9a\u306e\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u307f\uff1f\uff1f\n    - VNC\u3068\u304b\u3001X\u3067\u307b\u304b\u306e\u7aef\u672b\u306b\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u3068\u3070\u3059(`DISPLAY=hoge:1.0`\u307f\u305f\u3044\u306a)\u3068\u304b\u3067\u304d\u306a\u304b\u3063\u305f\n3. `asar` \u3067\u30a2\u30fc\u30ab\u30a4\u30d6\u3057\u305f\u3082\u306e\u304c\u3001\u3064\u304b\u3048\u306a\u3044\n\n    ```shell-session\npi@raspberrypi:~/vscode $ ./scripts/npm.sh isntall asar\nasar@0.11.0 node_modules/asar\n\u251c\u2500\u2500 chromium-pickle-js@0.1.0\n\u251c\u2500\u2500 commander@2.9.0 (graceful-readlink@1.0.1)\n\u251c\u2500\u2500 minimatch@3.0.2 (brace-expansion@1.1.5)\n\u251c\u2500\u2500 glob@6.0.4 (once@1.3.3, inflight@1.0.5)\n\u251c\u2500\u2500 cuint@0.2.1\n\u2514\u2500\u2500 mksnapshot@0.3.0 (fs-extra@0.26.7, request@2.55.0, decompress-zip@0.3.0)\npi@raspberrypi:~/vscode $ ./node_modules/.bin/asar . vscode.asar\npi@raspberrypi:~/vscode $ .build/electron/electron ./vscode.asar \nError opening app\nThe app provided is not a valid Electron app, please read the docs on how to write one:\nhttps://github.com/electron/electron/tree/v0.37.6/docs\n\n    Error: Cannot find module '/home/pi/vscode/vscode.asar'\npi@raspberrypi:~/vscode $ ls -l ./vscode.asar \n-rw-r--r-- 1 pi pi 410301090  7\u6708  1 14:41 ./vscode.asar\npi@raspberrypi:~/vscode $ \n```\n4. `electron-packager`\u306f\u3001`--arch=armhf`\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044(\u30a4\u30f3\u30c6\u30eb\u7cfb\u306e\u307f)\n\n    ```shell-session\npi@raspberrypi:~/vscode $ ./scripts/npm.sh isntall electron-packager\nelectron-packager@7.1.0 node_modules/electron-packager\n\u251c\u2500\u2500 rcedit@0.5.0\n\u251c\u2500\u2500 run-series@1.1.4\n\u251c\u2500\u2500 electron-osx-sign@0.3.1\n\u251c\u2500\u2500 fs-extra@0.28.0 (jsonfile@2.3.1, klaw@1.3.0)\n\u251c\u2500\u2500 resolve@1.1.7\n\u251c\u2500\u2500 get-package-info@0.0.2 (lodash.get@4.3.0, bluebird@3.4.1)\n\u251c\u2500\u2500 extract-zip@1.5.0 (debug@0.7.4, yauzl@2.4.1, concat-stream@1.5.0, mkdirp@0.5.0)\n\u251c\u2500\u2500 electron-download@2.1.2 (path-exists@1.0.0, home-path@1.0.3, rc@1.1.6, mv@2.1.1, nugget@1.6.2)\n\u2514\u2500\u2500 plist@1.2.0 (util-deprecate@1.0.2, base64-js@0.0.8, xmldom@0.1.22, xmlbuilder@4.0.0)\npi@raspberrypi:~/vscode $ ./node_modules/.bin/electron-packager . --platform=linux --arch=armhf\nUnsupported arch armhf; must be one of: ia32, x64\npi@raspberrypi:~/vscode $ \n```\n\n5. `libx11-dev`\u304c\u5165\u3063\u3066\u306a\u3044\u3068\u3001\u30d8\u30c3\u30c0\u304c\u306a\u3044\u3068\u304a\u3053\u3089\u308c\u308b\n\n    ```\nmake: Entering directory '/home/pi/vscode/node_modules/native-keymap/build'\n  CXX(target) Release/obj.target/keymapping/src/string_conversion.o\n  CXX(target) Release/obj.target/keymapping/src/keymapping.o\n  CXX(target) Release/obj.target/keymapping/deps/chromium/x/keysym_to_unicode.o\n../deps/chromium/x/keysym_to_unicode.cc:35:19: fatal error: X11/X.h: \u305d\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3042\u308a\u307e\u305b\u3093\n #include <X11/X.h>\n                   ^\ncompilation terminated.\n```\n\n6. (\u672a\u78ba\u8a8d) \u3089\u305a\u3071\u3044ZERO / 1\u306f\u3001`node-v4.4.7-linux-armv6l.tar.gz`(<font color='blue'>**armv6l**</font>)\u3068\u3044\u3046\u306e\u3092\u4f7f\u3048\u3070\u3044\u3044\u304b\u3082\uff1f\n", "tags": ["RaspberryPi", "VisualStudioCode", "VisualStudioCode"]}