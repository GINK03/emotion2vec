{"tags": ["es2015", "es6", "mocha", "gulp", "istanbul"], "context": " More than 1 year has passed since last update.\u3044\u308d\u3044\u308d\u8ff7\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\u7d50\u5c40 gulp-istanbul \u3068 isparta\u3092\u4f7f\u3063\u305f\nistanbul\u3082isparta\u3082\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\u30c4\u30fc\u30eb\u3060\u304c\u3001\nisparta\u304ces2015\u5bfe\u5fdc\u306a\u306e\u3067\u3001instrumenter\u306bisparta\u306e\u3082\u306e\u3092\u4f7f\u3063\u3066\u3044\u308b\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nnpm install --save-dev gulp-istanbul \nnpm insatll --save-dev isparta       \n\nVersion\n$node -v\n  v0.12.0 \n$npm list\n  ...\n  ..mocha@2.3.4\n  ..gulp@3.9.0\n  ..gulp-istanbul@0.10.3\n  ..istanbul@0.4.2\n  ..isparta@4.0.0\n\n\ngulpfile\u3092\u7de8\u96c6\n\ngulpfile.js\nimport gulp     from 'gulp'\nimport mocha    from 'gulp-mocha'\nimport istanbul from 'gulp-istanbul'\n\nconst SOURCES    = 'src/**/*.js'\nconst TEST_FILES = 'test/**/*.js'\n\ngulp.task('pre-test-coverage', () => {\n  return gulp.src(SOURCES)\n             .pipe(istanbul( { instrumenter: require('isparta').Instrumenter }))\n             .pipe(istanbul.hookRequire());\n})\n\ngulp.task('test:coverage', ['pre-test-coverage'], () => {\n  return gulp.src(TEST_FILES)\n             .pipe(mocha())\n             .pipe(istanbul.writeReports())\n             .pipe(istanbul.enforceThresholds({ thresholds: { global: 90 } }));\n})\n\n\n\n\u5b9f\u884c\ngulp test:coverage\n\u3044\u308d\u3044\u308d\u8ff7\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\u7d50\u5c40 [gulp-istanbul](https://www.npmjs.com/package/gulp-istanbul) \u3068 [isparta](https://www.npmjs.com/package/isparta)\u3092\u4f7f\u3063\u305f\n\n[istanbul](https://www.npmjs.com/package/istanbul)\u3082isparta\u3082\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\u30c4\u30fc\u30eb\u3060\u304c\u3001\nisparta\u304ces2015\u5bfe\u5fdc\u306a\u306e\u3067\u3001instrumenter\u306bisparta\u306e\u3082\u306e\u3092\u4f7f\u3063\u3066\u3044\u308b\n\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nnpm install --save-dev gulp-istanbul \nnpm insatll --save-dev isparta       \n```\n\nVersion\n\n```\n$node -v\n  v0.12.0 \n$npm list\n  ...\n  ..mocha@2.3.4\n  ..gulp@3.9.0\n  ..gulp-istanbul@0.10.3\n  ..istanbul@0.4.2\n  ..isparta@4.0.0\n```\n\n\n## gulpfile\u3092\u7de8\u96c6\n```gulpfile.js\nimport gulp     from 'gulp'\nimport mocha    from 'gulp-mocha'\nimport istanbul from 'gulp-istanbul'\n\nconst SOURCES    = 'src/**/*.js'\nconst TEST_FILES = 'test/**/*.js'\n\ngulp.task('pre-test-coverage', () => {\n  return gulp.src(SOURCES)\n             .pipe(istanbul( { instrumenter: require('isparta').Instrumenter }))\n             .pipe(istanbul.hookRequire());\n})\n\ngulp.task('test:coverage', ['pre-test-coverage'], () => {\n  return gulp.src(TEST_FILES)\n             .pipe(mocha())\n             .pipe(istanbul.writeReports())\n             .pipe(istanbul.enforceThresholds({ thresholds: { global: 90 } }));\n})\n```\n\n## \u5b9f\u884c\n`gulp test:coverage`\n"}