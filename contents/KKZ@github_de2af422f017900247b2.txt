{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u4ee5\u524d\u306bMySQL\u306eGROUP_CONCAT\u95a2\u6570\u306b\u3064\u3044\u3066\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u66f8\u3044\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u3042\u308c\u304b\u30895\u5e74\u3002\n\n1\u5bfe\u591a\u306e\u95a2\u4fc2\u3092\u6301\u3064\u89aa\u5b50\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u3063\u305f\u5834\u5408\u30011\u3064\u306e\u4e3b\u30ad\u30fc\u306b\u5bfe\u3057\u3066\u7d50\u5408\u7d50\u679c\u304c\u8907\u6570\u884c\u306b\u306a\u308b\u3053\u3068\u306f\u3088\u304f\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001MySQL\u3067\u306f\u4e0a\u8a18\u306e\u95a2\u6570\u3092\u4f7f\u3046\u3053\u3068\u3067\u8907\u6570\u884c\u5185\u306e\u5217\u3092\u3072\u3068\u3064\u306e\u6587\u5b57\u5217\u3068\u3057\u3066\u307e\u3068\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Oracle\u3067\u3082\u51fa\u6765\u306a\u304f\u306f\u306a\u3044\u3093\u3067\u3059\u304c\u3001\u304b\u306a\u308a\u9762\u5012\u306a\u3093\u3067\u3059\u3088\u306d\u3047\u3002\n\nOracle\u3067\u308211g R2\u304b\u3089\u540c\u69d8\u306e\u96c6\u8a08\u95a2\u6570 LISTAGG\u304c\u8ffd\u52a0\u3055\u308c\u3066\u304a\u308a\u3001\u5bb9\u6613\u306b\u5bfe\u5fdc\u304c\u5b9f\u65bd\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\nLISTAGG\nLISTAGG(\u96c6\u7d04\u5bfe\u8c61\u306e\u5217\u540d, \u30bb\u30d1\u30ec\u30fc\u30c8\u6587\u5b57\u5217) WITHIN GROUP (order by \u96c6\u7d04\u5bfe\u8c61\u306e\u30bd\u30fc\u30c8\u6307\u5b9a\u5217(\u6307\u5b9a\u306a\u3057\u306e\u5834\u5408\u306fnull))\n\n\n\n\u516c\u5f0f\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n\u516c\u5f0f\u306eSQL\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306f\u3053\u3061\u3089\u306b\u306a\u308a\u307e\u3059\u3002\n\nLISTAGG\u306f\u3001\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30b8\u30e3\u30fc\u306b\u3064\u3044\u3066\u3001ORDER BY\u53e5\u306b\u6307\u5b9a\u3055\u308c\u305f\u5404\u30b0\u30eb\u30fc\u30d7\u5185\u3067\u30c7\u30fc\u30bf\u3092\u9806\u5e8f\u4ed8\u3051\u3001\u30e1\u30b8\u30e3\u30fc\u5217\u306e\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\n- \u5358\u4e00\u30bb\u30c3\u30c8\u306e\u96c6\u8a08\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3068\u3001LISTAGG\u306f\u3059\u3079\u3066\u306e\u884c\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3044\u30011\u3064\u306e\u51fa\u529b\u884c\u3092\u623b\u3057\u307e\u3059\u3002\n- \u30b0\u30eb\u30fc\u30d7\u30fb\u30bb\u30c3\u30c8\u306e\u96c6\u8a08\u306b\u4f7f\u7528\u3059\u308b\u3068\u3001\u3053\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306fGROUP BY\u53e5\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b\u64cd\u4f5c\u3092\u884c\u3044\u3001\u305d\u306e\u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b1\u3064\u306e\u51fa\u529b\u884c\u3092\u623b\u3057\u307e\u3059\u3002\n- \u5206\u6790\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3068\u3001LISTAGG\u306fquery_partition_clause\u306b\u6307\u5b9a\u3055\u308c\u305f1\u3064\u4ee5\u4e0a\u306e\u5f0f\u306b\u57fa\u3065\u304f\u30b0\u30eb\u30fc\u30d7\u306b\u3001\u554f\u5408\u305b\u306e\u7d50\u679c\u30bb\u30c3\u30c8\u3092\u5206\u5272\u3057\u307e\u3059\u3002\n\n\n\u4f7f\u7528\u4f8b\n\u3067\u306f\u5b9f\u969b\u306e\u4f7f\u7528\u4f8b\u3092\u307e\u3068\u3081\u3066\u307f\u307e\u3059\u3002\n\n\u30b9\u30ad\u30fc\u30de\u6e96\u5099\n\u524d\u56de\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3068\u540c\u3058\u304f\u3001\u307e\u305a\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u3067\u3059\u306d\u3002\u793e\u54e1\u304c\u8907\u6570\u306e\u90e8\u7f72\u306b\u6240\u5c5e\u3059\u308b\u3088\u3046\u306a\u5f62\u5f0f\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30b9\u30ad\u30fc\u30de\u306e\u4f5c\u6210\nCREATE TABLE DEPT(ID NUMBER(3), NAME VARCHAR2(10));\nCREATE TABLE EMP(ID NUMBER(3), NAME VARCHAR2(10));\nCREATE TABLE DEPT_EMP( EMPID NUMBER(3), DEPTID NUMBER(3));\n\n\n\n\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u4f5c\u6210\n\u3053\u3053\u306b\u4ee5\u4e0b\u306e\u30c7\u30fc\u30bf\u3092\u633f\u5165\u3002DEPT \u3068 EMP \u306f\u591a\u5bfe\u591a\u306e\u95a2\u4fc2\u3067\u3042\u308b\u305f\u3081\u3001\u5bfe\u5fdc\u8868\u304c DEPT_EMP \u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u4f5c\u6210\nINSERT INTO EMP VALUES ( 1, 'JOHN');\nINSERT INTO EMP VALUES ( 2, 'SCOTT');\nINSERT INTO EMP VALUES ( 3, 'SMITH');\nINSERT INTO DEPT VALUES ( 1, 'MARKET');\nINSERT INTO DEPT VALUES ( 2, 'HRM');\nINSERT INTO DEPT VALUES ( 3, 'SALES');\nINSERT INTO DEPT_EMP VALUES(1, 1);\nINSERT INTO DEPT_EMP VALUES(1, 2);\nINSERT INTO DEPT_EMP VALUES(2, 2);\nINSERT INTO DEPT_EMP VALUES(3, 1);\nINSERT INTO DEPT_EMP VALUES(3, 2);\nINSERT INTO DEPT_EMP VALUES(3, 3);\n\n\n\u30c7\u30fc\u30bf\u3092 SQL \u3067\u53d6\u5f97\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\nSELECT DEPT_EMP.EMPID, EMP.NAME, DEPT.NAME\nFROM DEPT_EMP\n     LEFT JOIN EMP ON DEPT_EMP.EMPID=EMP.ID\n     LEFT JOIN DEPT ON DEPT_EMP.DEPTID=DEPT.ID\nORDER BY DEPT_EMP.EMPID;\n\n     EMPID NAME             NAME\n---------- ---------------- ---------------\n         1 JOHN             HRM\n         1 JOHN             MARKET\n         2 SCOTT            HRM\n         3 SMITH            SALES\n         3 SMITH            MARKET\n         3 SMITH            HRM\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001JOHN\u3055\u3093\u306f HRM \u3068 MARKET \u90e8\u306b\u6240\u5c5e\u3001SMITH \u3055\u3093\u306f SALES \u3068 HRM \u3068 MARKET \u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u307e\u3059\u3002\n\nLISTAGG \u306e\u4f7f\u7528\u3068\u7d50\u679c\n\u3053\u3053\u3067\u3001\u5404\u793e\u54e1\u304c\u6240\u5c5e\u3059\u308b\u90e8\u7f72\u3092\u30ab\u30f3\u30de\u533a\u5207\u3067\u6b32\u3057\u3044\u5834\u5408\u306f\u3001\u5916\u90e8\u7d50\u5408\u3092\u7528\u3044\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306aSQL\u3092\u767a\u884c\u3057\u307e\u3059\u3002\nSELECT EMP.NAME,\n       LISTAGG(DEPT.NAME, ',') WITHIN GROUP (order by DEPT.NAME) AS '\u90e8\u7f72\u540d\u9023\u7d50'\nFROM DEPT_EMP\n     LEFT JOIN EMP ON DEPT_EMP.EMPID=EMP.ID\n     LEFT JOIN DEPT ON DEPT_EMP.DEPTID=DEPT.ID\nGROUP BY DEPT_EMP.EMPID, EMP.NAME\nORDER BY DEPT_EMP.EMPID;\n\n\u3053\u3053\u3067\u306f\u96c6\u7d04\u5bfe\u8c61\u3092 DEPT.NAME \uff08\u90e8\u7f72\u540d\uff09\u3001\u96c6\u7d04\u6642\u306e\u4e26\u3073\u9806\u3092 DEPT.NAME \uff08\u90e8\u7f72\u540d\uff09\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u96c6\u7d04\u3057\u305f\u300c\u90e8\u7f72\u540d\u9023\u7d50\u300d\u5217\u3067\u306f\u3001\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u3067\u4e00\u756a\u6700\u521d\u306b\u6765\u308b\u300cHRM\u300d\u304c\u5148\u982d\u306b\u3001\u300cSALES\u300d\u304c\u672b\u5c3e\u306b\u306a\u308a\u307e\u3059\u3002\nNAME            \u90e8\u7f72\u540d\u9023\u7d50            \n--------------- ----------------------\nJOHN            HRM,MARKET\nSCOTT           HRM\nSMITH           HRM,MARKET,SALES\n\n\u300c\u90e8\u7f72\u540d\u9023\u7d50\u300d\u5217\u5185\u306e\u4e26\u3073\u9806\u3092 DEPT.ID \uff08\u90e8\u7f72ID\uff09\u306b\u3057\u305f\u3044\u5834\u5408\u306f LISTAGG \u306e ORDER BY \u306b DEPT.ID \u3092\u6307\u5b9a\u3059\u308c\u3070OK\u3002\nSELECT EMP.NAME,\n       LISTAGG(DEPT.NAME, ',') WITHIN GROUP (order by DEPT.ID) AS '\u90e8\u7f72\u540d\u9023\u7d50'\nFROM DEPT_EMP\n     LEFT JOIN EMP ON DEPT_EMP.EMPID=EMP.ID\n     LEFT JOIN DEPT ON DEPT_EMP.DEPTID=DEPT.ID\nGROUP BY DEPT_EMP.EMPID, EMP.NAME\nORDER BY DEPT_EMP.EMPID;\n\nNAME            \u90e8\u7f72\u540d\u9023\u7d50            \n--------------- ----------------------\nJOHN            MARKET,HRM\nSCOTT           HRM\nSMITH           MARKET,HRM,SALES\n\nSUM\u3084AVG\u3001MAX\u306a\u3069\u3068\u540c\u3058\u304f\u3001\u30b0\u30eb\u30fc\u30d7\u96c6\u8a08\u95a2\u6570\u3067\u3042\u308b\u305f\u3081\u3001GROUP BY \u53e5\u306b\u8f09\u3063\u3066\u3044\u306a\u3044\u5217\u306f SELECT \u53e5\u3067\u5217\u6307\u5b9a\u51fa\u6765\u306a\u3044\u305f\u3081\u6ce8\u610f\u3002\n# \u6982\u8981\n\n\u4ee5\u524d\u306bMySQL\u306eGROUP_CONCAT\u95a2\u6570\u306b\u3064\u3044\u3066\u306e[\u30a8\u30f3\u30c8\u30ea\u30fc](http://d.hatena.ne.jp/kkz_tech/20100803/1280802260 \"[\u306f\u3066\u306ablog \u958b\u767a\u306e\u98a8\u666f]GROUP_CONCAT\u95a2\u6570\u306e\u4fbf\u5229\u3055\u306f\u7570\u5e38\")\u3092\u66f8\u3044\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001<br>\u3042\u308c\u304b\u30895\u5e74\u3002\n\n>1\u5bfe\u591a\u306e\u95a2\u4fc2\u3092\u6301\u3064\u89aa\u5b50\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u3063\u305f\u5834\u5408\u30011\u3064\u306e\u4e3b\u30ad\u30fc\u306b\u5bfe\u3057\u3066\u7d50\u5408\u7d50\u679c\u304c\u8907\u6570\u884c\u306b\u306a\u308b\u3053\u3068\u306f\u3088\u304f\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001<br>MySQL\u3067\u306f\u4e0a\u8a18\u306e\u95a2\u6570\u3092\u4f7f\u3046\u3053\u3068\u3067\u8907\u6570\u884c\u5185\u306e\u5217\u3092\u3072\u3068\u3064\u306e\u6587\u5b57\u5217\u3068\u3057\u3066\u307e\u3068\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002<br>Oracle\u3067\u3082\u51fa\u6765\u306a\u304f\u306f\u306a\u3044\u3093\u3067\u3059\u304c\u3001\u304b\u306a\u308a\u9762\u5012\u306a\u3093\u3067\u3059\u3088\u306d\u3047\u3002\n\nOracle\u3067\u308211g R2\u304b\u3089\u540c\u69d8\u306e\u96c6\u8a08\u95a2\u6570 LISTAGG\u304c\u8ffd\u52a0\u3055\u308c\u3066\u304a\u308a\u3001<br>\u5bb9\u6613\u306b\u5bfe\u5fdc\u304c\u5b9f\u65bd\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n```sql:LISTAGG\nLISTAGG(\u96c6\u7d04\u5bfe\u8c61\u306e\u5217\u540d, \u30bb\u30d1\u30ec\u30fc\u30c8\u6587\u5b57\u5217) WITHIN GROUP (order by \u96c6\u7d04\u5bfe\u8c61\u306e\u30bd\u30fc\u30c8\u6307\u5b9a\u5217(\u6307\u5b9a\u306a\u3057\u306e\u5834\u5408\u306fnull))\n```\n\n## \u516c\u5f0f\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n\n\u516c\u5f0f\u306eSQL\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306f[\u3053\u3061\u3089](http://docs.oracle.com/cd/E16338_01/server.112/b56299/functions089.htm, \"Oracle Database SQL\u8a00\u8a9e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 11g\u30ea\u30ea\u30fc\u30b92 (11.2) LISTAGG\")\u306b\u306a\u308a\u307e\u3059\u3002\n\n>LISTAGG\u306f\u3001\u6307\u5b9a\u3055\u308c\u305f\u30e1\u30b8\u30e3\u30fc\u306b\u3064\u3044\u3066\u3001<br>ORDER BY\u53e5\u306b\u6307\u5b9a\u3055\u308c\u305f\u5404\u30b0\u30eb\u30fc\u30d7\u5185\u3067\u30c7\u30fc\u30bf\u3092\u9806\u5e8f\u4ed8\u3051\u3001<br>\u30e1\u30b8\u30e3\u30fc\u5217\u306e\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\n> - \u5358\u4e00\u30bb\u30c3\u30c8\u306e\u96c6\u8a08\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3068\u3001<br>LISTAGG\u306f\u3059\u3079\u3066\u306e\u884c\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3044\u30011\u3064\u306e\u51fa\u529b\u884c\u3092\u623b\u3057\u307e\u3059\u3002\n> - \u30b0\u30eb\u30fc\u30d7\u30fb\u30bb\u30c3\u30c8\u306e\u96c6\u8a08\u306b\u4f7f\u7528\u3059\u308b\u3068\u3001<br>\u3053\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306fGROUP BY\u53e5\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b\u64cd\u4f5c\u3092\u884c\u3044\u3001<br>\u305d\u306e\u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b1\u3064\u306e\u51fa\u529b\u884c\u3092\u623b\u3057\u307e\u3059\u3002\n> - \u5206\u6790\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3068\u3001<br>LISTAGG\u306fquery_partition_clause\u306b\u6307\u5b9a\u3055\u308c\u305f1\u3064\u4ee5\u4e0a\u306e\u5f0f\u306b\u57fa\u3065\u304f\u30b0\u30eb\u30fc\u30d7\u306b\u3001<br>\u554f\u5408\u305b\u306e\u7d50\u679c\u30bb\u30c3\u30c8\u3092\u5206\u5272\u3057\u307e\u3059\u3002\n\n# \u4f7f\u7528\u4f8b\n\u3067\u306f\u5b9f\u969b\u306e\u4f7f\u7528\u4f8b\u3092\u307e\u3068\u3081\u3066\u307f\u307e\u3059\u3002\n\n## \u30b9\u30ad\u30fc\u30de\u6e96\u5099\n\n\u524d\u56de\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3068\u540c\u3058\u304f\u3001\u307e\u305a\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u3067\u3059\u306d\u3002\u793e\u54e1\u304c\u8907\u6570\u306e\u90e8\u7f72\u306b\u6240\u5c5e\u3059\u308b\u3088\u3046\u306a\u5f62\u5f0f\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```sql:\u30b9\u30ad\u30fc\u30de\u306e\u4f5c\u6210\nCREATE TABLE DEPT(ID NUMBER(3), NAME VARCHAR2(10));\nCREATE TABLE EMP(ID NUMBER(3), NAME VARCHAR2(10));\nCREATE TABLE DEPT_EMP( EMPID NUMBER(3), DEPTID NUMBER(3));\n```\n\n## \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u4f5c\u6210\n\n\u3053\u3053\u306b\u4ee5\u4e0b\u306e\u30c7\u30fc\u30bf\u3092\u633f\u5165\u3002DEPT \u3068 EMP \u306f\u591a\u5bfe\u591a\u306e\u95a2\u4fc2\u3067\u3042\u308b\u305f\u3081\u3001<br>\u5bfe\u5fdc\u8868\u304c DEPT_EMP \u306b\u306a\u308a\u307e\u3059\u3002\n\n```sql:\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u4f5c\u6210\nINSERT INTO EMP VALUES ( 1, 'JOHN');\nINSERT INTO EMP VALUES ( 2, 'SCOTT');\nINSERT INTO EMP VALUES ( 3, 'SMITH');\nINSERT INTO DEPT VALUES ( 1, 'MARKET');\nINSERT INTO DEPT VALUES ( 2, 'HRM');\nINSERT INTO DEPT VALUES ( 3, 'SALES');\nINSERT INTO DEPT_EMP VALUES(1, 1);\nINSERT INTO DEPT_EMP VALUES(1, 2);\nINSERT INTO DEPT_EMP VALUES(2, 2);\nINSERT INTO DEPT_EMP VALUES(3, 1);\nINSERT INTO DEPT_EMP VALUES(3, 2);\nINSERT INTO DEPT_EMP VALUES(3, 3);\n```\n\n\u30c7\u30fc\u30bf\u3092 SQL \u3067\u53d6\u5f97\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\n```sql\nSELECT DEPT_EMP.EMPID, EMP.NAME, DEPT.NAME\nFROM DEPT_EMP\n     LEFT JOIN EMP ON DEPT_EMP.EMPID=EMP.ID\n     LEFT JOIN DEPT ON DEPT_EMP.DEPTID=DEPT.ID\nORDER BY DEPT_EMP.EMPID;\n```\n\n<pre>\n     EMPID NAME             NAME\n---------- ---------------- ---------------\n         1 JOHN             HRM\n         1 JOHN             MARKET\n         2 SCOTT            HRM\n         3 SMITH            SALES\n         3 SMITH            MARKET\n         3 SMITH            HRM\n</pre>\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001JOHN\u3055\u3093\u306f HRM \u3068 MARKET \u90e8\u306b\u6240\u5c5e\u3001<br>SMITH \u3055\u3093\u306f SALES \u3068 HRM \u3068 MARKET \u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u307e\u3059\u3002\n\n## LISTAGG \u306e\u4f7f\u7528\u3068\u7d50\u679c\n\n\u3053\u3053\u3067\u3001\u5404\u793e\u54e1\u304c\u6240\u5c5e\u3059\u308b\u90e8\u7f72\u3092\u30ab\u30f3\u30de\u533a\u5207\u3067\u6b32\u3057\u3044\u5834\u5408\u306f\u3001<br>\u5916\u90e8\u7d50\u5408\u3092\u7528\u3044\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306aSQL\u3092\u767a\u884c\u3057\u307e\u3059\u3002\n\n```sql\nSELECT EMP.NAME,\n       LISTAGG(DEPT.NAME, ',') WITHIN GROUP (order by DEPT.NAME) AS '\u90e8\u7f72\u540d\u9023\u7d50'\nFROM DEPT_EMP\n     LEFT JOIN EMP ON DEPT_EMP.EMPID=EMP.ID\n     LEFT JOIN DEPT ON DEPT_EMP.DEPTID=DEPT.ID\nGROUP BY DEPT_EMP.EMPID, EMP.NAME\nORDER BY DEPT_EMP.EMPID;\n```\n\n\u3053\u3053\u3067\u306f\u96c6\u7d04\u5bfe\u8c61\u3092 DEPT.NAME \uff08\u90e8\u7f72\u540d\uff09\u3001<br>\u96c6\u7d04\u6642\u306e\u4e26\u3073\u9806\u3092 DEPT.NAME \uff08\u90e8\u7f72\u540d\uff09\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002<br>\u305d\u306e\u305f\u3081\u3001\u96c6\u7d04\u3057\u305f\u300c\u90e8\u7f72\u540d\u9023\u7d50\u300d\u5217\u3067\u306f\u3001<br>\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u3067\u4e00\u756a\u6700\u521d\u306b\u6765\u308b\u300cHRM\u300d\u304c\u5148\u982d\u306b\u3001\u300cSALES\u300d\u304c\u672b\u5c3e\u306b\u306a\u308a\u307e\u3059\u3002\n\n<pre>\nNAME            \u90e8\u7f72\u540d\u9023\u7d50            \n--------------- ----------------------\nJOHN            HRM,MARKET\nSCOTT           HRM\nSMITH           HRM,MARKET,SALES\n</pre>\n\n\u300c\u90e8\u7f72\u540d\u9023\u7d50\u300d\u5217\u5185\u306e\u4e26\u3073\u9806\u3092 DEPT.ID \uff08\u90e8\u7f72ID\uff09\u306b\u3057\u305f\u3044\u5834\u5408\u306f<br> LISTAGG \u306e ORDER BY \u306b DEPT.ID \u3092\u6307\u5b9a\u3059\u308c\u3070OK\u3002\n\n```sql\nSELECT EMP.NAME,\n       LISTAGG(DEPT.NAME, ',') WITHIN GROUP (order by DEPT.ID) AS '\u90e8\u7f72\u540d\u9023\u7d50'\nFROM DEPT_EMP\n     LEFT JOIN EMP ON DEPT_EMP.EMPID=EMP.ID\n     LEFT JOIN DEPT ON DEPT_EMP.DEPTID=DEPT.ID\nGROUP BY DEPT_EMP.EMPID, EMP.NAME\nORDER BY DEPT_EMP.EMPID;\n```\n\n<pre>\nNAME            \u90e8\u7f72\u540d\u9023\u7d50            \n--------------- ----------------------\nJOHN            MARKET,HRM\nSCOTT           HRM\nSMITH           MARKET,HRM,SALES\n</pre>\n\nSUM\u3084AVG\u3001MAX\u306a\u3069\u3068\u540c\u3058\u304f\u3001\u30b0\u30eb\u30fc\u30d7\u96c6\u8a08\u95a2\u6570\u3067\u3042\u308b\u305f\u3081\u3001<br>GROUP BY \u53e5\u306b\u8f09\u3063\u3066\u3044\u306a\u3044\u5217\u306f SELECT \u53e5\u3067\u5217\u6307\u5b9a\u51fa\u6765\u306a\u3044\u305f\u3081\u6ce8\u610f\u3002\n", "tags": ["oracle"]}