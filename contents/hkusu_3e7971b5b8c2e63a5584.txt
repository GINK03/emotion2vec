{"context": " More than 1 year has passed since last update.CoffScript & Deferred Promise \u5bfe\u5fdc\u7248\u3002\u5f8c\u3067\u81ea\u5206\u304c\u898b\u308b\u7528\u9014\u3067\u3059\u304c\u3001\u3053\u3061\u3089\u306b\u3082\u6295\u7a3f\u3057\u307e\u3059\u3002\n\u6210\u679c\u7269\uff08\u30c7\u30e2\uff09\u306f\u3053\u3061\u3089 \u21d2 http://hkusu.github.io/Knockout.js_api_demo/dist/\n\u203b \u3064\u3044\u3067\u306b\u30a8\u30ec\u30e1\u30f3\u30c8\u3092\u64cd\u4f5c\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3082\u3001\u5f8c\u304b\u3089\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n\u524d\u63d0\u3068\u306a\u308b\u74b0\u5883\n\u6b21\u306e\u3068\u304a\u308a\u4f5c\u6210\u3057\u305f\u3082\u306e\u3002\n\u21d2Knockout.js \u00d7 CoffeeScript \u00d7 SASS \u306e\u958b\u767a\u74b0\u5883\u3092\u624b\u8efd\u306b\u30a4\u30de\u30c9\u30ad\u3063\u307d\u304f\u3064\u304f\u308b\n\n\u5b9f\u88c5\u306e\u5185\u5bb9\n\nViewModel\nAPI\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u5468\u308a\u306f\u3001\u5f8c\u304b\u3089\u672c\u6570\u304c\u5897\u3048\u3066\u3082\u3044\u3044\u3088\u3046\u3001\u305d\u308c\u3089\u3092\u307e\u3068\u3081\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 api \u3092\u7528\u610f\u3057\u305f\u3002\n\nscripts/main.coffee\n$ ->\n\n  FirstViewModel = () ->\n    api =\n      getJson: () ->\n        defer = $.Deferred()\n        $.ajax\n          type: \"GET\"\n          url: \"/api_dummy.json\"\n          dataType: \"json\"\n          cache: false\n          success: defer.resolve\n          error: defer.reject\n        defer.promise()\n    self =\n      items: ko.observableArray()\n      getBtn: ->\n        api.getJson().done (data) ->\n          self.items(data)\n          return\n        return\n    self\n\n  if $(\"#firstView\")[0]\n    ko.applyBindings new FirstViewModel(), $(\"#firstView\")[0]\n\n  return\n\n\n\nView\n\nindex.html\n<div class=\"container\">\n    <div id='firstView'>\n        <h4>\n            <font color='#8b008b'>\u25a0 API\u3092\u767a\u884c\u3057\u3066\u7d50\u679c\u3092\u53d6\u5f97\u3059\u308b\u30b5\u30f3\u30d7\u30eb</font>\n        </h4>\n        <br>\n        <button class='btn btn-primary' data-bind='click: getBtn'>API\u767a\u884c</button>\n        <br>\n        <br>\n        <table class='table table-striped' data-bind='visible: items().length > 0'>\n            <thead>\n            <tr>\n                <th>\u540d\u524d</th>\n                <th>\u5e74\u9f62</th>\n                <th>\u30e1\u30e2</th>\n            </tr>\n            </thead>\n            <tbody data-bind='foreach: items'>\n            <tr>\n                <td data-bind='text: $data.name'></td>\n                <td data-bind='text: $data.age'></td>\n                <td data-bind='text: $data.memo'></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n\n\nAPI\u30ec\u30b9\u30dd\u30f3\u30b9\u3068\u3057\u3066\u3001\u9069\u5f53\u306aJSON\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\n\napi_dummy.json\n[\n    {\n        \"id\":1,\n        \"name\":\"\u5c71\u7530 \u592a\u90ce\",\n        \"age\":35,\n        \"memo\":\"\u5c71\u7530\u306e\u30e1\u30e2\"\n    },\n    {\n        \"id\":2,\n        \"name\":\"\u9234\u6728 \u82b1\u5b50\",\n        \"age\":23,\n        \"memo\":\"\u9234\u6728\u306e\u30e1\u30e2\"\n    },\n    {\n        \"id\":3,\n        \"name\":\"\u9ad8\u6a4b \u6b21\u90ce\",\n        \"age\":28,\n        \"memo\":\"\u9ad8\u6a4b\u306e\u30e1\u30e2\"\n    }\n]\n\n\n\n\u307b\u304b\n\u30bd\u30fc\u30b9\u306f GitHub \u306b\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\u21d2 https://github.com/hkusu/Knockout.js_api_demo\n\nCoffScript & Deferred Promise \u5bfe\u5fdc\u7248\u3002\u5f8c\u3067\u81ea\u5206\u304c\u898b\u308b\u7528\u9014\u3067\u3059\u304c\u3001\u3053\u3061\u3089\u306b\u3082\u6295\u7a3f\u3057\u307e\u3059\u3002\n\n\u6210\u679c\u7269\uff08\u30c7\u30e2\uff09\u306f\u3053\u3061\u3089 \u21d2 http://hkusu.github.io/Knockout.js_api_demo/dist/\n\u203b \u3064\u3044\u3067\u306b\u30a8\u30ec\u30e1\u30f3\u30c8\u3092\u64cd\u4f5c\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3082\u3001\u5f8c\u304b\u3089\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n## \u524d\u63d0\u3068\u306a\u308b\u74b0\u5883\n\n\u6b21\u306e\u3068\u304a\u308a\u4f5c\u6210\u3057\u305f\u3082\u306e\u3002\n\u21d2[Knockout.js \u00d7 CoffeeScript \u00d7 SASS \u306e\u958b\u767a\u74b0\u5883\u3092\u624b\u8efd\u306b\u30a4\u30de\u30c9\u30ad\u3063\u307d\u304f\u3064\u304f\u308b](http://qiita.com/hkusu/items/9b103dde566c83c7fd1b)\n\n## \u5b9f\u88c5\u306e\u5185\u5bb9\n\n### ViewModel\n\nAPI\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u5468\u308a\u306f\u3001\u5f8c\u304b\u3089\u672c\u6570\u304c\u5897\u3048\u3066\u3082\u3044\u3044\u3088\u3046\u3001\u305d\u308c\u3089\u3092\u307e\u3068\u3081\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 `api` \u3092\u7528\u610f\u3057\u305f\u3002\n\n```coffeescript:scripts/main.coffee\n$ ->\n\n  FirstViewModel = () ->\n    api =\n      getJson: () ->\n        defer = $.Deferred()\n        $.ajax\n          type: \"GET\"\n          url: \"/api_dummy.json\"\n          dataType: \"json\"\n          cache: false\n          success: defer.resolve\n          error: defer.reject\n        defer.promise()\n    self =\n      items: ko.observableArray()\n      getBtn: ->\n        api.getJson().done (data) ->\n          self.items(data)\n          return\n        return\n    self\n\n  if $(\"#firstView\")[0]\n    ko.applyBindings new FirstViewModel(), $(\"#firstView\")[0]\n\n  return\n```\n\n### View\n\n```html:index.html\n<div class=\"container\">\n    <div id='firstView'>\n        <h4>\n            <font color='#8b008b'>\u25a0 API\u3092\u767a\u884c\u3057\u3066\u7d50\u679c\u3092\u53d6\u5f97\u3059\u308b\u30b5\u30f3\u30d7\u30eb</font>\n        </h4>\n        <br>\n        <button class='btn btn-primary' data-bind='click: getBtn'>API\u767a\u884c</button>\n        <br>\n        <br>\n        <table class='table table-striped' data-bind='visible: items().length > 0'>\n            <thead>\n            <tr>\n                <th>\u540d\u524d</th>\n                <th>\u5e74\u9f62</th>\n                <th>\u30e1\u30e2</th>\n            </tr>\n            </thead>\n            <tbody data-bind='foreach: items'>\n            <tr>\n                <td data-bind='text: $data.name'></td>\n                <td data-bind='text: $data.age'></td>\n                <td data-bind='text: $data.memo'></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n```\n\n### API\u30ec\u30b9\u30dd\u30f3\u30b9\u3068\u3057\u3066\u3001\u9069\u5f53\u306aJSON\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\n\n```json:api_dummy.json\n[\n    {\n        \"id\":1,\n        \"name\":\"\u5c71\u7530 \u592a\u90ce\",\n        \"age\":35,\n        \"memo\":\"\u5c71\u7530\u306e\u30e1\u30e2\"\n    },\n    {\n        \"id\":2,\n        \"name\":\"\u9234\u6728 \u82b1\u5b50\",\n        \"age\":23,\n        \"memo\":\"\u9234\u6728\u306e\u30e1\u30e2\"\n    },\n    {\n        \"id\":3,\n        \"name\":\"\u9ad8\u6a4b \u6b21\u90ce\",\n        \"age\":28,\n        \"memo\":\"\u9ad8\u6a4b\u306e\u30e1\u30e2\"\n    }\n]\n```\n\n# \u307b\u304b\n\n\u30bd\u30fc\u30b9\u306f GitHub \u306b\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\u21d2 https://github.com/hkusu/Knockout.js_api_demo\n", "tags": ["knockoutjs", "CoffeeScript", "jQuery"]}