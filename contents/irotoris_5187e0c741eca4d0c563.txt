{"context": " More than 1 year has passed since last update.\u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\uff1aCentOS7\u8d77\u52d5\u6642\u306bChef\u3092\u4e00\u56de\u3060\u3051\u5b9f\u884c\u3057\u305f\u3044\nCentOS7\u304b\u3089\u30b5\u30fc\u30d3\u30b9\u7ba1\u7406\u304cinitiscripts\u304b\u3089systemd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\ninitscripts\u3067\u306f/etc/rc.d/rc.local\u306b\u30b3\u30de\u30f3\u30c9\u3092\u66f8\u3044\u3066\u304a\u3051\u3070OS\u306e\u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3057\u3066\u304f\u308c\u307e\u3059\u304c\u3001systemd\u3067\u306f\u9055\u3046\u3088\u3046\u306a\u306e\u3067\uff08\u4eca\u66f4\u3067\u3059\u304c\uff09\u8abf\u3079\u307e\u3057\u305f\u3002\nCentOS7\u306b\u3082\u4e00\u5fdc/etc/rc.d/rc.local\u3082\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u4e2d\u8eab\u3092\u898b\u3066\u307f\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n#!/bin/bash\n# THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES\n#\n# It is highly advisable to create own systemd services or udev rules\n# to run scripts during boot instead of using this file.\n#\n# In contrast to previous versions due to parallel execution during boot\n# this script will NOT be run after all other services.\n#\n# Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure\n# that this script will be executed during boot.\n\ntouch /var/lock/subsys/local\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u81ea\u5206\u3067systemd\u306e\u30b5\u30fc\u30d3\u30b9\u4f5c\u308b\u304budev\u306e\u30eb\u30fc\u30eb\u3092\u66f8\u304f\u306e\u304c\u8d85\u304a\u3059\u3059\u3081\u307f\u305f\u3044\u3067\u3059\u3002\n\u66f8\u3044\u305f\u3002\n/etc/systemd/system/chef-client.service\u3092\u914d\u7f6e\u3057\u3066systemctl daemon-reload\u3059\u308c\u3070\u30b5\u30fc\u30d3\u30b9\u306b\u767b\u9332\u3055\u308c\u307e\u3059\u3002\n\n/etc/systemd/system/chef-client.service\n[Unit]\nDescription=run Chef Client during boot\nAfter=network.target\n\n[Service]\nType=simple\nRemainAfterExit=yes\nExecStart=/bin/chef-client -z\n\n[Install]\nWantedBy=multi-user.target\n\n\n\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u306fUnit\u30bb\u30af\u30b7\u30e7\u30f3\u306eAfter\u3067\u5148\u306b\u8d77\u52d5\u3057\u3066\u304a\u3044\u3066\u307b\u3057\u3044\u30b5\u30fc\u30d3\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u307e\u3059\u3002\n\u307e\u305f\u3001Type\u3067\u8d77\u52d5\u30d7\u30ed\u30bb\u30b9\u306e\u7a2e\u985e\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002Type=simple\u3067\u306f\u3001\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u8d77\u52d5\u5b8c\u4e86\u3068\u306a\u308a\u307e\u3059\u3002oneshot\u3060\u3068\u3001\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u8d77\u52d5\u5b8c\u4e86\u30fb\u30b5\u30fc\u30d3\u30b9\u7d42\u4e86\u3068\u5224\u65ad\u3057\u307e\u3059\u3002\n\u30b3\u30de\u30f3\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3042\u3068\u3082\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u306f\u8d77\u52d5\u72b6\u614b\u3068\u3057\u3066\u8a8d\u8b58\u3055\u305b\u305f\u3044\u5834\u5408\u306bRemainAfterExit=yes\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n.service\u30d5\u30a1\u30a4\u30eb\u306e\u8a73\u7d30\u306fman page\u3067\u3069\u3046\u305e\u3002\nhttp://www.freedesktop.org/software/systemd/man/systemd.service.html\n\u8d77\u52d5\u8a2d\u5b9a\u3001\u52d5\u4f5c\u78ba\u8a8d\n[root@centos7-01 chef]# systemctl daemon-reload\n[root@centos7-01 chef]# systemctl enable chef-client\n[root@centos7-01 chef]# systemctl stop chef-client\n[root@centos7-01 chef]# systemctl start chef-client\n[root@centos7-01 chef]# systemctl status chef-client\n\u25cf chef-client.service - Chef Client\n   Loaded: loaded (/etc/systemd/system/chef-client.service; disabled; vendor preset: disabled)\n   Active: active (exited) since Fri 2016-01-29 19:05:52 EST; 7s ago\n  Process: 6397 ExecStart=/bin/chef-client -z (code=exited, status=0/SUCCESS)\n Main PID: 6397 (code=exited, status=0/SUCCESS)\n\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Starting Chef Run for centos7-01\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Running start handlers\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Start handlers complete.\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: HTTP Request Returned 404 Not Found: Object not found:\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Loading cookbooks []\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] WARN: Node centos7-01 has an empty run list.\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Chef Run complete in 0.053521516 seconds\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Running report handlers\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Report handlers complete\nJan 29 19:05:52 centos7-01 systemd[1]: Started Chef Client.\n\n\u3046\u307e\u304f\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u3067\u3059\uff01\n\u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\uff1aCentOS7\u8d77\u52d5\u6642\u306bChef\u3092\u4e00\u56de\u3060\u3051\u5b9f\u884c\u3057\u305f\u3044\n \nCentOS7\u304b\u3089\u30b5\u30fc\u30d3\u30b9\u7ba1\u7406\u304cinitiscripts\u304b\u3089systemd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\ninitscripts\u3067\u306f`/etc/rc.d/rc.local`\u306b\u30b3\u30de\u30f3\u30c9\u3092\u66f8\u3044\u3066\u304a\u3051\u3070OS\u306e\u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3057\u3066\u304f\u308c\u307e\u3059\u304c\u3001systemd\u3067\u306f\u9055\u3046\u3088\u3046\u306a\u306e\u3067\uff08\u4eca\u66f4\u3067\u3059\u304c\uff09\u8abf\u3079\u307e\u3057\u305f\u3002\n\nCentOS7\u306b\u3082\u4e00\u5fdc`/etc/rc.d/rc.local`\u3082\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u4e2d\u8eab\u3092\u898b\u3066\u307f\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```\n#!/bin/bash\n# THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES\n#\n# It is highly advisable to create own systemd services or udev rules\n# to run scripts during boot instead of using this file.\n#\n# In contrast to previous versions due to parallel execution during boot\n# this script will NOT be run after all other services.\n#\n# Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure\n# that this script will be executed during boot.\n\ntouch /var/lock/subsys/local\n```\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u81ea\u5206\u3067systemd\u306e\u30b5\u30fc\u30d3\u30b9\u4f5c\u308b\u304budev\u306e\u30eb\u30fc\u30eb\u3092\u66f8\u304f\u306e\u304c\u8d85\u304a\u3059\u3059\u3081\u307f\u305f\u3044\u3067\u3059\u3002\n\n\u66f8\u3044\u305f\u3002\n`/etc/systemd/system/chef-client.service`\u3092\u914d\u7f6e\u3057\u3066`systemctl daemon-reload`\u3059\u308c\u3070\u30b5\u30fc\u30d3\u30b9\u306b\u767b\u9332\u3055\u308c\u307e\u3059\u3002\n\n```/etc/systemd/system/chef-client.service\n[Unit]\nDescription=run Chef Client during boot\nAfter=network.target\n\n[Service]\nType=simple\nRemainAfterExit=yes\nExecStart=/bin/chef-client -z\n\n[Install]\nWantedBy=multi-user.target\n```\n\n\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u306f`Unit`\u30bb\u30af\u30b7\u30e7\u30f3\u306e`After`\u3067\u5148\u306b\u8d77\u52d5\u3057\u3066\u304a\u3044\u3066\u307b\u3057\u3044\u30b5\u30fc\u30d3\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u307e\u3059\u3002\n\u307e\u305f\u3001`Type`\u3067\u8d77\u52d5\u30d7\u30ed\u30bb\u30b9\u306e\u7a2e\u985e\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002`Type=simple`\u3067\u306f\u3001\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u8d77\u52d5\u5b8c\u4e86\u3068\u306a\u308a\u307e\u3059\u3002`oneshot`\u3060\u3068\u3001\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u8d77\u52d5\u5b8c\u4e86\u30fb\u30b5\u30fc\u30d3\u30b9\u7d42\u4e86\u3068\u5224\u65ad\u3057\u307e\u3059\u3002\n\u30b3\u30de\u30f3\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3042\u3068\u3082\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u306f\u8d77\u52d5\u72b6\u614b\u3068\u3057\u3066\u8a8d\u8b58\u3055\u305b\u305f\u3044\u5834\u5408\u306b`RemainAfterExit=yes`\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n`.service`\u30d5\u30a1\u30a4\u30eb\u306e\u8a73\u7d30\u306fman page\u3067\u3069\u3046\u305e\u3002\nhttp://www.freedesktop.org/software/systemd/man/systemd.service.html\n\n\u8d77\u52d5\u8a2d\u5b9a\u3001\u52d5\u4f5c\u78ba\u8a8d\n\n```\n[root@centos7-01 chef]# systemctl daemon-reload\n[root@centos7-01 chef]# systemctl enable chef-client\n[root@centos7-01 chef]# systemctl stop chef-client\n[root@centos7-01 chef]# systemctl start chef-client\n[root@centos7-01 chef]# systemctl status chef-client\n\u25cf chef-client.service - Chef Client\n   Loaded: loaded (/etc/systemd/system/chef-client.service; disabled; vendor preset: disabled)\n   Active: active (exited) since Fri 2016-01-29 19:05:52 EST; 7s ago\n  Process: 6397 ExecStart=/bin/chef-client -z (code=exited, status=0/SUCCESS)\n Main PID: 6397 (code=exited, status=0/SUCCESS)\n\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Starting Chef Run for centos7-01\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Running start handlers\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Start handlers complete.\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: HTTP Request Returned 404 Not Found: Object not found:\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Loading cookbooks []\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] WARN: Node centos7-01 has an empty run list.\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Chef Run complete in 0.053521516 seconds\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Running report handlers\nJan 29 19:05:51 centos7-01 chef-client[6397]: [2016-01-29T19:05:51-05:00] INFO: Report handlers complete\nJan 29 19:05:52 centos7-01 systemd[1]: Started Chef Client.\n```\n\n\u3046\u307e\u304f\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u3067\u3059\uff01\n", "tags": ["centos7", "systemd"]}