{"context": "\nMac\u7248Sublime Text 3\u3067Google\u65e5\u672c\u8a9e\u5165\u529b\u7b49\u306eIME\u3092\u4f7f\u7528\u3057\u3066\u30c6\u30ad\u30b9\u30c8\u3092\u5165\u529b\u3059\u308b\u969b\u3001\u5165\u529b\u304c\u975e\u5e38\u306b\u3082\u305f\u3064\u304f\u73fe\u8c61\u304c\u77e5\u3089\u308c\u3066\u3044\u307e\u3059\u3002SublimeMozcInput\u3092\u4f7f\u3046\u3053\u3068\u3067\u3053\u306e\u73fe\u8c61\u3092\u56de\u907f\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001Mozc (Google\u65e5\u672c\u8a9e\u5165\u529b\u306eOSS\u7248) \u3092\u4f7f\u3046\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u554f\u984c\u304c\u751f\u3058\u307e\u3059\u3002\n\n\u516c\u5f0f\u7248\u3088\u308a\u3082\u5909\u63db\u7cbe\u5ea6\u304c\u4f4e\u4e0b\u3057\u3066\u3057\u307e\u3046\u3002\n\u516c\u5f0f\u7248\u3068OSS\u7248\u304c\u540c\u6642\u306b\u8d77\u52d5\u3059\u308b\u305f\u3081\u3001\u30e1\u30e2\u30ea\u3092\u7121\u99c4\u306b\u6d88\u8cbb\u3059\u308b\u3002\n\u516c\u5f0f\u7248\u3067\u767b\u9332\u3057\u305f\u30e6\u30fc\u30b6\u8f9e\u66f8\u304c\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002\n\n\u305d\u3053\u3067\u3001Mozc\u3092\u4fee\u6b63\u3059\u308b\u3053\u3068\u3067\u3001mozc_emacs_helper \u3092\u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u5229\u70b9\n\u672c\u624b\u6cd5\u306b\u3088\u308a\u65e5\u672c\u8a9e\u5165\u529b\u3092\u884c\u3046\u3068\u3001\u6a19\u6e96\u6a5f\u80fd\u3067\u884c\u3046\u5834\u5408\u3068\u6bd4\u3079\u3066\u6b21\u306e\u5229\u70b9\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\n\n\u5165\u529b\u304c\u3082\u305f\u3064\u304b\u306a\u3044\u3002\u51e6\u7406\u80fd\u529b\u3092\u98df\u308f\u306a\u3044\u306e\u3067\u96fb\u6c60\u304c\u5287\u7684\u306b\u6e1b\u3089\u306a\u304f\u306a\u308b\u3002\n\u691c\u7d22\u30d0\u30fc\u7b49\u3067Enter\u30ad\u30fc\u3067\u5909\u63db\u78ba\u5b9a\u3059\u308b\u3068\u691c\u7d22\u30d0\u30fc\u304c\u6d88\u3048\u308b\u554f\u984c\u304c\u8d77\u304d\u306a\u3044\u3002\n\n\n\u5fc5\u8981\u306a\u3082\u306e\nmozc_emacs_helper \u3092\u30d3\u30eb\u30c9\u3059\u308b\u306b\u306f\u6b21\u306e\u3082\u306e\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n\nGit\u304c\u5fc5\u8981\u3067\u3059\u3002\n\nGYP \u3092\u9069\u5f53\u306a\u5834\u6240\u306b git clone \u3057\u3066\u304a\u3044\u3066\u4e0b\u3055\u3044\u3002\n\nNinja\u30d3\u30eb\u30c9\u30b7\u30b9\u30c6\u30e0\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3059\u308b\u304b\u3001MacPorts\u3084Homebrew\u7b49\u306b\u3088\u308a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nMozc\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306fGitHub\u3067\u5165\u624b\u3067\u304d\u307e\u3059\u3002Download ZIP \u3067\u306f submodule \u304c\u6301\u3063\u3066\u3053\u308c\u307e\u305b\u3093\u306e\u3067\u3001git clone --recursive \u3067\u5165\u624b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u624b\u9806\n\u624b\u9806\u306e\u6982\u8981\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n\n\u3053\u3061\u3089\u306e\u30d1\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u9069\u7528\u3057\u3066\u3001\u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u3067\u4f7f\u3048\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u306e mozc_emacs_helper \u304c\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3088\u3046\u306bmozc\u306b\u4fee\u6b63\u3092\u52a0\u3048\u307e\u3059\u3002\u4fee\u6b63\u70b9\u306f\u4e00\u756a\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8a73\u3057\u304f\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\nmozc_emacs_helper \u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\nSublimeMozcInput\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\n1. \u30d1\u30c3\u30c1\u306e\u9069\u7528\n\u30d1\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u5165\u624b\u5f8c\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d1\u30c3\u30c1\u3092\u9069\u7528\u3057\u3066\u4e0b\u3055\u3044\u3002\npatch -p0 < mozc-officialize.patch\n\n\n2. mozc_emacs_helper \u306e\u30d3\u30eb\u30c9\n\u6700\u521d\u306b\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002 --gypdir \u306b\u306fGYP\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \nGYP_DEFINES=\"mac_sdk=10.11 mac_deployment_target=10.11\" python build_mozc.py gyp --noqt --gypdir PATH_TO_GYP --branding GoogleJapaneseInput\n\n\u7d9a\u3044\u3066\u3001mozc_emacs_helper \u306e\u30d3\u30eb\u30c9\u3092\u884c\u3044\u307e\u3059\u3002\npython build_mozc.py build -c Release unix/emacs/emacs.gyp:mozc_emacs_helper\n\n\u3053\u308c\u3067\u3001 out_mac/Release \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b mozc_emacs_helper \u304c\u751f\u6210\u3055\u308c\u305f\u306f\u305a\u3067\u3059\u3002/usr/local/bin \u306a\u3069\u597d\u304d\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nsudo install out_mac/Release/mozc_emacs_helper /usr/local/bin/\n\n\n3. SublimeMozcInput\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nSublimeMozcInput\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u306e\u30d8\u30c3\u30c0\u30fc\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\u304c\u3042\u308b\u306e\u3067\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001Sublime Text 3\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(Preferences \u00bb Browse Packages\u2026 \u304b\u3089\u958b\u3051\u307e\u3059)\u306b\u5c55\u958b\u3057\u3001Mozc Input\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u3053\u306e\u307e\u307e\u3067\u3059\u3068 SublimeMozcInput \u304c mozc_emacs_helper \u3092\u898b\u4ed8\u3051\u3089\u308c\u305a\u3001\u52d5\u4f5c\u3057\u307e\u305b\u3093\u306e\u3067\u3001Preferences \u00bb Package Settings \u00bb Mozc Input \u00bb Settings - User \u304b\u3089\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u3066 mozc_emacs_helper \u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n{\n    \"mozc_emacs_helper\": \"/usr/local/bin/mozc_emacs_helper\"\n}\n\n\u3082\u3057\u9055\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u306f\u9069\u5b9c\u5909\u66f4\u3057\u3066\u4e0b\u3055\u3044\u3002\n\u4ee5\u4e0a\u306e\u624b\u9806\u3067\u3001SublimeMozcInput \u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30ad\u30fc\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u306f Ctrl+\u00a5 \u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\nmozc\u306e\u4fee\u6b63\u70b9\u306e\u8a73\u7d30\n\nmozc_emacs_helper \u304c\u30d3\u30eb\u30c9\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\nmozc_emacs_helper \u306fMozc\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3068\u4e00\u7dd2\u306b\u6dfb\u4ed8\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u30d3\u30eb\u30c9\u30b9\u30af\u30ea\u30d7\u30c8 build_mozc.py \u3067\u306fLinux\u5c02\u7528\u3068\u3044\u3046\u6271\u3044\u306b\u306a\u3063\u3066\u304a\u308a\u3001Mac\u3067\u306f\u30d3\u30eb\u30c9\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u306e\u305f\u3081\u3001Mac\u3067\u3082 mozc_emacs_helper \u304c\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u4fee\u6b63\u3092\u884c\u3044\u307e\u3059\u3002\n   gyp_file_names.extend(glob.glob('%s/rewriter/*/*.gyp' % SRC_DIR))\n   # Include subdirectory of win32 and breakpad for Windows\n+  gyp_file_names.extend(glob.glob('%s/unix/emacs/*.gyp' % SRC_DIR)) # add mozc_emacs_helper\n   if options.target_platform == 'Windows':\n     gyp_file_names.extend(glob.glob('%s/win32/*/*.gyp' % SRC_DIR))\n\n\n\u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\nMozc\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30fb\u30b5\u30fc\u30d0\u65b9\u5f0f\u3068\u306a\u3063\u3066\u304a\u308a\u3001mozc_emacs_helper\u306fIPC\u306b\u3088\u308a\u30b5\u30fc\u30d0\u30fc\u3068\u901a\u4fe1\u3092\u884c\u3044\u3001\u5909\u63db\u3092\u30b5\u30fc\u30d0\u306b\u4efb\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002Mozc\u306fGoogle\u65e5\u672c\u8a9e\u5165\u529b\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u7248\u3067\u3042\u308a\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u540c\u3058\u3067\u3042\u308c\u3070mozc_emacs_helper\u304b\u3089Google\u65e5\u672c\u8a9e\u5165\u529b\u306e\u30b5\u30fc\u30d0\u3068\u901a\u4fe1\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\u901a\u4fe1\u306f\u3001Mozc\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea(src/client)\u306b\u3088\u3063\u3066\u884c\u308f\u308c\u307e\u3059\u3002src/client/system_util.cc\u3092\u898b\u308b\u3068\u3001OSS\u7248\u3068\u516c\u5f0f\u7248\u306b\u3088\u3063\u3066\u30b5\u30fc\u30d0\u306e\u30d1\u30b9\u3092\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\nstring SystemUtil::GetServerDirectory() {\n\n // (\u4e2d\u7565)\n\n#elif defined(OS_MACOSX)\n  return MacUtil::GetServerDirectory();\n\n#elif defined(OS_LINUX) || defined(OS_ANDROID) || defined(OS_NACL)\n#if defined(MOZC_SERVER_DIRECTORY)\n  return MOZC_SERVER_DIRECTORY;\n#else\n  return \"/usr/lib/mozc\";\n#endif  // MOZC_SERVER_DIRECTORY\n\n#endif  // OS_WIN, OS_MACOSX, OS_LINUX, ...\n}\n\nMac\u306e\u5834\u5408\u306f MacUtil::GetServerDirectory() \u3067\u30b5\u30fc\u30d0\u30d1\u30b9\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\u547c\u51fa\u3057\u3092\u8fbf\u3063\u3066\u884c\u304f\u3068\u3001 mac_util.mm \u306b\u30b5\u30fc\u30d0\u30d1\u30b9\u306e\u5b9a\u7fa9\u3092\u898b\u4ed8\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\nconst char kServerDirectory[] =\n    \"/Library/Input Methods/\" kProductPrefix \".app/Contents/Resources\";\nconst unsigned char kPrelauncherPath[] =\n    \"/Library/Input Methods/\" kProductPrefix \".app/Contents/Resources/\"\n    kProductPrefix \"Prelauncher.app\";\n\nkProductPrefix \u306f src/base/const.h \u3067\u6b21\u306e\u3068\u304a\u308a\u5b9a\u7fa9\u3055\u308c\u3066\u304a\u308a\u3001OSS\u7248\u3068\u516c\u5f0f\u7248\u3067\u5207\u308a\u66ff\u308f\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n#ifdef GOOGLE_JAPANESE_INPUT_BUILD\nconst char kProductNameInEnglish[] = \"Google Japanese Input\";\n// \"Google \u65e5\u672c\u8a9e\u5165\u529b\"\nconst char kProductNameLocalized[]\n    = \"Google \\xE6\\x97\\xA5\\xE6\\x9C\\xAC\\xE8\\xAA\\x9E\\xE5\\x85\\xA5\\xE5\\x8A\\x9B\";\n#define kProductPrefix \"GoogleJapaneseInput\"\n#else  // GOOGLE_JAPANESE_INPUT_BUILD\nconst char kProductNameInEnglish[] = \"Mozc\";\nconst char kProductNameLocalized[] = \"Mozc\";\n#define kProductPrefix \"Mozc\"\n#endif  // GOOGLE_JAPANESE_INPUT_BUILD\n\n\u3057\u305f\u304c\u3063\u3066\u3001\u30d3\u30eb\u30c9\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5909\u66f4\u3057\u3066\u516c\u5f0f\u7248\u3068\u3057\u3066\u30d3\u30eb\u30c9\u3059\u308b\u3053\u3068\u3067\u3001mozc_emacs_helper\u3067\u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u304c\u3001\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u306f\u516c\u5f0f\u7248\u306b\u5fc5\u8981\u306a\u3082\u306e\u304c\u4e0d\u8db3\u3057\u3066\u304a\u308abuild_mozc.py\u304c\u5931\u6557\u3059\u308b\u305f\u3081\u3001\u3044\u304f\u3064\u304b\u4fee\u6b63\u3092\u884c\u3044\u307e\u3059\u3002\n\u6700\u521d\u306b src/data_manager/packed/packed_data_manager.gyp \u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002Mozc\u3068\u516c\u5f0f\u7248\u3067\u5358\u8a9e\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u304c\u3001\u516c\u5f0f\u7248\u306e\u30c7\u30fc\u30bf\u306f\u542b\u307e\u308c\u3066\u304a\u3089\u305a\u3001\u516c\u5f0f\u7248\u7528\u306eGYP\u30bf\u30fc\u30b2\u30c3\u30c8\u8a18\u8ff0\u3082\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u516c\u5f0f\u7248\u3067\u3082Mozc\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u4f7f\u3046\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n-    ['branding==\"Mozc\"', {\n+    ['branding==\"GoogleJapaneseInput\" or branding==\"Mozc\"', {\n\n\u7d9a\u3044\u3066 src/mac/mac.gyp \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\u516c\u5f0f\u7248\u3067\u306f\u30b3\u30fc\u30c9\u306e\u7f72\u540d\u3092\u884c\u3046\u3088\u3046\u3067\u3059\u304c\u3001\u5fc5\u8981\u306a\u30bf\u30fc\u30b2\u30c3\u30c8\u304c\u898b\u3064\u304b\u3089\u305a\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n-          'conditions': [\n-            ['branding==\"GoogleJapaneseInput\"', {\n-              'dependencies': [\n-                'DevConfirmPane',\n-                'codesign_client',\n-              ],\n-            }],\n-          ],\n\n\u4ee5\u4e0a\u306e\u4fee\u6b63\u306b\u3088\u308a\u3001mozc_emacs_helper \u3067\u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n![Screen Shot 2016-02-22 at 3.01.46 AM.png](https://qiita-image-store.s3.amazonaws.com/0/38578/4ff22819-3e4b-d07e-32f9-fefaf2105594.png)\n\nMac\u7248Sublime Text 3\u3067Google\u65e5\u672c\u8a9e\u5165\u529b\u7b49\u306eIME\u3092\u4f7f\u7528\u3057\u3066\u30c6\u30ad\u30b9\u30c8\u3092\u5165\u529b\u3059\u308b\u969b\u3001\u5165\u529b\u304c\u975e\u5e38\u306b\u3082\u305f\u3064\u304f\u73fe\u8c61\u304c\u77e5\u3089\u308c\u3066\u3044\u307e\u3059\u3002[SublimeMozcInput\u3092\u4f7f\u3046\u3053\u3068\u3067\u3053\u306e\u73fe\u8c61\u3092\u56de\u907f\u3059\u308b](http://futago-life.com/sublime-text3-wiki/how-to/mozc-input)\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001Mozc (Google\u65e5\u672c\u8a9e\u5165\u529b\u306eOSS\u7248) \u3092\u4f7f\u3046\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u554f\u984c\u304c\u751f\u3058\u307e\u3059\u3002\n\n* \u516c\u5f0f\u7248\u3088\u308a\u3082\u5909\u63db\u7cbe\u5ea6\u304c\u4f4e\u4e0b\u3057\u3066\u3057\u307e\u3046\u3002\n* \u516c\u5f0f\u7248\u3068OSS\u7248\u304c\u540c\u6642\u306b\u8d77\u52d5\u3059\u308b\u305f\u3081\u3001\u30e1\u30e2\u30ea\u3092\u7121\u99c4\u306b\u6d88\u8cbb\u3059\u308b\u3002\n* \u516c\u5f0f\u7248\u3067\u767b\u9332\u3057\u305f\u30e6\u30fc\u30b6\u8f9e\u66f8\u304c\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002\n\n\u305d\u3053\u3067\u3001Mozc\u3092\u4fee\u6b63\u3059\u308b\u3053\u3068\u3067\u3001`mozc_emacs_helper` \u3092\u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u5229\u70b9\n----\n\n\u672c\u624b\u6cd5\u306b\u3088\u308a\u65e5\u672c\u8a9e\u5165\u529b\u3092\u884c\u3046\u3068\u3001\u6a19\u6e96\u6a5f\u80fd\u3067\u884c\u3046\u5834\u5408\u3068\u6bd4\u3079\u3066\u6b21\u306e\u5229\u70b9\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\n\n- \u5165\u529b\u304c\u3082\u305f\u3064\u304b\u306a\u3044\u3002\u51e6\u7406\u80fd\u529b\u3092\u98df\u308f\u306a\u3044\u306e\u3067\u96fb\u6c60\u304c\u5287\u7684\u306b\u6e1b\u3089\u306a\u304f\u306a\u308b\u3002\n- \u691c\u7d22\u30d0\u30fc\u7b49\u3067Enter\u30ad\u30fc\u3067\u5909\u63db\u78ba\u5b9a\u3059\u308b\u3068\u691c\u7d22\u30d0\u30fc\u304c\u6d88\u3048\u308b\u554f\u984c\u304c\u8d77\u304d\u306a\u3044\u3002\n\n\u5fc5\u8981\u306a\u3082\u306e\n---------\n\n`mozc_emacs_helper` \u3092\u30d3\u30eb\u30c9\u3059\u308b\u306b\u306f\u6b21\u306e\u3082\u306e\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n\n* Git\u304c\u5fc5\u8981\u3067\u3059\u3002\n* [GYP](https://chromium.googlesource.com/external/gyp) \u3092\u9069\u5f53\u306a\u5834\u6240\u306b `git clone` \u3057\u3066\u304a\u3044\u3066\u4e0b\u3055\u3044\u3002\n* [Ninja](https://ninja-build.org/)\u30d3\u30eb\u30c9\u30b7\u30b9\u30c6\u30e0\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3059\u308b\u304b\u3001MacPorts\u3084Homebrew\u7b49\u306b\u3088\u308a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nMozc\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f[GitHub\u3067\u5165\u624b](https://github.com/google/mozc)\u3067\u304d\u307e\u3059\u3002Download ZIP \u3067\u306f submodule \u304c\u6301\u3063\u3066\u3053\u308c\u307e\u305b\u3093\u306e\u3067\u3001`git clone --recursive` \u3067\u5165\u624b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u624b\u9806\n---\n\n\u624b\u9806\u306e\u6982\u8981\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n1. [\u3053\u3061\u3089\u306e\u30d1\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u9069\u7528](https://gist.github.com/yvt/496152f868598e58bcd1)\u3057\u3066\u3001\u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u3067\u4f7f\u3048\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u306e mozc_emacs_helper \u304c\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3088\u3046\u306bmozc\u306b\u4fee\u6b63\u3092\u52a0\u3048\u307e\u3059\u3002\u4fee\u6b63\u70b9\u306f\u4e00\u756a\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8a73\u3057\u304f\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n2. `mozc_emacs_helper` \u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\n3. SublimeMozcInput\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n### 1. \u30d1\u30c3\u30c1\u306e\u9069\u7528\n\n[\u30d1\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb](https://gist.github.com/yvt/496152f868598e58bcd1)\u3092\u5165\u624b\u5f8c\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d1\u30c3\u30c1\u3092\u9069\u7528\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n```bash\npatch -p0 < mozc-officialize.patch\n```\n\n### 2. `mozc_emacs_helper` \u306e\u30d3\u30eb\u30c9\n\n\u6700\u521d\u306b\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002 `--gypdir` \u306b\u306fGYP\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \n\n```bash\nGYP_DEFINES=\"mac_sdk=10.11 mac_deployment_target=10.11\" python build_mozc.py gyp --noqt --gypdir PATH_TO_GYP --branding GoogleJapaneseInput\n```\n\n\u7d9a\u3044\u3066\u3001`mozc_emacs_helper` \u306e\u30d3\u30eb\u30c9\u3092\u884c\u3044\u307e\u3059\u3002\n\n```bash\npython build_mozc.py build -c Release unix/emacs/emacs.gyp:mozc_emacs_helper\n```\n\n\u3053\u308c\u3067\u3001 `out_mac/Release` \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b `mozc_emacs_helper` \u304c\u751f\u6210\u3055\u308c\u305f\u306f\u305a\u3067\u3059\u3002`/usr/local/bin` \u306a\u3069\u597d\u304d\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```bash\nsudo install out_mac/Release/mozc_emacs_helper /usr/local/bin/\n```\n\n### 3. SublimeMozcInput\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n[SublimeMozcInput\u306e\u516c\u5f0f\u30b5\u30a4\u30c8](http://yasuyuky.github.io/SublimeMozcInput/)\u306e\u30d8\u30c3\u30c0\u30fc\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\u304c\u3042\u308b\u306e\u3067\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001Sublime Text 3\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(Preferences \u00bb Browse Packages\u2026 \u304b\u3089\u958b\u3051\u307e\u3059)\u306b\u5c55\u958b\u3057\u3001`Mozc Input`\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u3053\u306e\u307e\u307e\u3067\u3059\u3068 SublimeMozcInput \u304c mozc_emacs_helper \u3092\u898b\u4ed8\u3051\u3089\u308c\u305a\u3001\u52d5\u4f5c\u3057\u307e\u305b\u3093\u306e\u3067\u3001Preferences \u00bb Package Settings \u00bb Mozc Input \u00bb Settings - User \u304b\u3089\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u3066 `mozc_emacs_helper` \u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```json\n{\n\t\"mozc_emacs_helper\": \"/usr/local/bin/mozc_emacs_helper\"\n}\n```\n\n\u3082\u3057\u9055\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u306f\u9069\u5b9c\u5909\u66f4\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u4ee5\u4e0a\u306e\u624b\u9806\u3067\u3001SublimeMozcInput \u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30ad\u30fc\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u306f Ctrl+\u00a5 \u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nmozc\u306e\u4fee\u6b63\u70b9\u306e\u8a73\u7d30\n----------------\n\n### mozc_emacs_helper \u304c\u30d3\u30eb\u30c9\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\n\nmozc_emacs_helper \u306fMozc\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3068\u4e00\u7dd2\u306b\u6dfb\u4ed8\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u30d3\u30eb\u30c9\u30b9\u30af\u30ea\u30d7\u30c8 `build_mozc.py` \u3067\u306fLinux\u5c02\u7528\u3068\u3044\u3046\u6271\u3044\u306b\u306a\u3063\u3066\u304a\u308a\u3001Mac\u3067\u306f\u30d3\u30eb\u30c9\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u306e\u305f\u3081\u3001Mac\u3067\u3082 `mozc_emacs_helper` \u304c\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u4fee\u6b63\u3092\u884c\u3044\u307e\u3059\u3002\n\n```diff\n   gyp_file_names.extend(glob.glob('%s/rewriter/*/*.gyp' % SRC_DIR))\n   # Include subdirectory of win32 and breakpad for Windows\n+  gyp_file_names.extend(glob.glob('%s/unix/emacs/*.gyp' % SRC_DIR)) # add mozc_emacs_helper\n   if options.target_platform == 'Windows':\n     gyp_file_names.extend(glob.glob('%s/win32/*/*.gyp' % SRC_DIR))\n```\n\n### \u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n\nMozc\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30fb\u30b5\u30fc\u30d0\u65b9\u5f0f\u3068\u306a\u3063\u3066\u304a\u308a\u3001mozc_emacs_helper\u306fIPC\u306b\u3088\u308a\u30b5\u30fc\u30d0\u30fc\u3068\u901a\u4fe1\u3092\u884c\u3044\u3001\u5909\u63db\u3092\u30b5\u30fc\u30d0\u306b\u4efb\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002Mozc\u306fGoogle\u65e5\u672c\u8a9e\u5165\u529b\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u7248\u3067\u3042\u308a\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u540c\u3058\u3067\u3042\u308c\u3070mozc_emacs_helper\u304b\u3089Google\u65e5\u672c\u8a9e\u5165\u529b\u306e\u30b5\u30fc\u30d0\u3068\u901a\u4fe1\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u901a\u4fe1\u306f\u3001Mozc\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea(`src/client`)\u306b\u3088\u3063\u3066\u884c\u308f\u308c\u307e\u3059\u3002`src/client/system_util.cc`\u3092\u898b\u308b\u3068\u3001OSS\u7248\u3068\u516c\u5f0f\u7248\u306b\u3088\u3063\u3066\u30b5\u30fc\u30d0\u306e\u30d1\u30b9\u3092\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n```cpp\nstring SystemUtil::GetServerDirectory() {\n\n // (\u4e2d\u7565)\n\n#elif defined(OS_MACOSX)\n  return MacUtil::GetServerDirectory();\n\n#elif defined(OS_LINUX) || defined(OS_ANDROID) || defined(OS_NACL)\n#if defined(MOZC_SERVER_DIRECTORY)\n  return MOZC_SERVER_DIRECTORY;\n#else\n  return \"/usr/lib/mozc\";\n#endif  // MOZC_SERVER_DIRECTORY\n\n#endif  // OS_WIN, OS_MACOSX, OS_LINUX, ...\n}\n```\n\nMac\u306e\u5834\u5408\u306f `MacUtil::GetServerDirectory()` \u3067\u30b5\u30fc\u30d0\u30d1\u30b9\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\u547c\u51fa\u3057\u3092\u8fbf\u3063\u3066\u884c\u304f\u3068\u3001 `mac_util.mm` \u306b\u30b5\u30fc\u30d0\u30d1\u30b9\u306e\u5b9a\u7fa9\u3092\u898b\u4ed8\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n```objc++\nconst char kServerDirectory[] =\n    \"/Library/Input Methods/\" kProductPrefix \".app/Contents/Resources\";\nconst unsigned char kPrelauncherPath[] =\n    \"/Library/Input Methods/\" kProductPrefix \".app/Contents/Resources/\"\n    kProductPrefix \"Prelauncher.app\";\n```\n\n`kProductPrefix` \u306f `src/base/const.h` \u3067\u6b21\u306e\u3068\u304a\u308a\u5b9a\u7fa9\u3055\u308c\u3066\u304a\u308a\u3001OSS\u7248\u3068\u516c\u5f0f\u7248\u3067\u5207\u308a\u66ff\u308f\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n```cpp\n#ifdef GOOGLE_JAPANESE_INPUT_BUILD\nconst char kProductNameInEnglish[] = \"Google Japanese Input\";\n// \"Google \u65e5\u672c\u8a9e\u5165\u529b\"\nconst char kProductNameLocalized[]\n    = \"Google \\xE6\\x97\\xA5\\xE6\\x9C\\xAC\\xE8\\xAA\\x9E\\xE5\\x85\\xA5\\xE5\\x8A\\x9B\";\n#define kProductPrefix \"GoogleJapaneseInput\"\n#else  // GOOGLE_JAPANESE_INPUT_BUILD\nconst char kProductNameInEnglish[] = \"Mozc\";\nconst char kProductNameLocalized[] = \"Mozc\";\n#define kProductPrefix \"Mozc\"\n#endif  // GOOGLE_JAPANESE_INPUT_BUILD\n```\n\n\u3057\u305f\u304c\u3063\u3066\u3001\u30d3\u30eb\u30c9\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5909\u66f4\u3057\u3066\u516c\u5f0f\u7248\u3068\u3057\u3066\u30d3\u30eb\u30c9\u3059\u308b\u3053\u3068\u3067\u3001mozc_emacs_helper\u3067\u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u304c\u3001\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u306f\u516c\u5f0f\u7248\u306b\u5fc5\u8981\u306a\u3082\u306e\u304c\u4e0d\u8db3\u3057\u3066\u304a\u308a`build_mozc.py`\u304c\u5931\u6557\u3059\u308b\u305f\u3081\u3001\u3044\u304f\u3064\u304b\u4fee\u6b63\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u6700\u521d\u306b `src/data_manager/packed/packed_data_manager.gyp` \u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002Mozc\u3068\u516c\u5f0f\u7248\u3067\u5358\u8a9e\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u304c\u3001\u516c\u5f0f\u7248\u306e\u30c7\u30fc\u30bf\u306f\u542b\u307e\u308c\u3066\u304a\u3089\u305a\u3001\u516c\u5f0f\u7248\u7528\u306eGYP\u30bf\u30fc\u30b2\u30c3\u30c8\u8a18\u8ff0\u3082\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u516c\u5f0f\u7248\u3067\u3082Mozc\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u4f7f\u3046\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```diff\n-    ['branding==\"Mozc\"', {\n+    ['branding==\"GoogleJapaneseInput\" or branding==\"Mozc\"', {\n```\n\n\u7d9a\u3044\u3066 `src/mac/mac.gyp` \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\u516c\u5f0f\u7248\u3067\u306f\u30b3\u30fc\u30c9\u306e\u7f72\u540d\u3092\u884c\u3046\u3088\u3046\u3067\u3059\u304c\u3001\u5fc5\u8981\u306a\u30bf\u30fc\u30b2\u30c3\u30c8\u304c\u898b\u3064\u304b\u3089\u305a\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n\n```diff\n-          'conditions': [\n-            ['branding==\"GoogleJapaneseInput\"', {\n-              'dependencies': [\n-                'DevConfirmPane',\n-                'codesign_client',\n-              ],\n-            }],\n-          ],\n```\n\n\u4ee5\u4e0a\u306e\u4fee\u6b63\u306b\u3088\u308a\u3001`mozc_emacs_helper` \u3067\u516c\u5f0f\u7248Google\u65e5\u672c\u8a9e\u5165\u529b\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n", "tags": ["sublime", "Mac", "IME", "\u65e5\u672c\u8a9e\u5165\u529b"]}