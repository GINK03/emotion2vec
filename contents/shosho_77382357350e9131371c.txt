{"context": "Eloquent\u306b account_ide \u3067DB\u3092\u691c\u7d22\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u3063\u305f\u3002\nEloquent\u3060\u3068 $this \u304c\u4f7f\u3048\u3066\u4fbf\u5229\u3002\n\nTripContents.php\n<?php\nnamespace Test\\PageApp\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\nclass TripContents extends Model {\n    protected $table = \"trips\";\n\n    protected $dates = [\"trip_date\"];\n\n    public function getPlannerName(){\n        $planner = Account::where('account_id', '=', $this[\"account_id\"])->first();\n        return $planner->name;\n    }\n\n}\n\n\nController\u3067\u305d\u306eEloquent\u3092\u4f7f\u3063\u3066\u304a\u3051\u3070\u3001\n\nController\n$user_id = 10;\n$user_trips = TripApplicant::where('account_id', '=', $user_id)->get();\n\n$trips = [];\nforeach($user_trips as $user_trip){\n    $trip = TripContents::where('trip_id', '=', $user_trip[\"trip_id\"])->first();\n    $trips[] = $trip;\n}\n\nreturn view(\"front.myPage.tripList\",[\n    \"trip_contents\" => $trips\n]);\n\n\nView\u3067\u751f\u3084\u3057\u3066\u30e1\u30bd\u30c3\u30c9\u4f7f\u3048\u308b\u3002\n\nView\n@foreach($trip_contents as $trip_content)\n\n    <h2 class=\"title\">{{ $trip_content->title }}</h2>\n    <p class=\"plannerName\">{{ $trip_content->getPlannerName() }}</p>\n\n@endforeach\n\n\n\nEloquent\u306b `account_ide` \u3067DB\u3092\u691c\u7d22\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u3063\u305f\u3002\nEloquent\u3060\u3068 `$this` \u304c\u4f7f\u3048\u3066\u4fbf\u5229\u3002\n\n```php:TripContents.php\n<?php\nnamespace Test\\PageApp\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\nclass TripContents extends Model {\n    protected $table = \"trips\";\n\n    protected $dates = [\"trip_date\"];\n\n    public function getPlannerName(){\n        $planner = Account::where('account_id', '=', $this[\"account_id\"])->first();\n        return $planner->name;\n    }\n\n}\n```\n\nController\u3067\u305d\u306eEloquent\u3092\u4f7f\u3063\u3066\u304a\u3051\u3070\u3001\n\n```php:Controller\n$user_id = 10;\n$user_trips = TripApplicant::where('account_id', '=', $user_id)->get();\n\n$trips = [];\nforeach($user_trips as $user_trip){\n    $trip = TripContents::where('trip_id', '=', $user_trip[\"trip_id\"])->first();\n    $trips[] = $trip;\n}\n\nreturn view(\"front.myPage.tripList\",[\n    \"trip_contents\" => $trips\n]);\n```\n\nView\u3067\u751f\u3084\u3057\u3066\u30e1\u30bd\u30c3\u30c9\u4f7f\u3048\u308b\u3002\n\n```php:View\n@foreach($trip_contents as $trip_content)\n\n\t<h2 class=\"title\">{{ $trip_content->title }}</h2>\n\t<p class=\"plannerName\">{{ $trip_content->getPlannerName() }}</p>\n\n@endforeach\n```\n", "tags": ["laravel", "Eloquent"]}