{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nPhoneGap\u3067\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u753b\u50cf\u30fb\u97f3\u58f0\u30fb\u52d5\u753b\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u8868\u793a\u30fb\u518d\u751f\u307e\u3067\u3067\u66f8\u3044\u3066\u3044\u305f\u65b9\u6cd5\u3067\u52d5\u753b\u306a\u3069\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u305b\u308b\u30a2\u30d7\u30ea\u3092AppStore\u7533\u8acb\u3057\u305f\u3089\u30ea\u30b8\u30a7\u30af\u30c8\u3055\u308c\u307e\u3057\u305f\u3002\n\uff08\u4e00\u90e8\u629c\u7c8b\uff09\n\nOn launch and content download, your app stores over 25 MB on the user's \niCloud, which does not comply with the iOS Data Storage Guidelines.\nNext Steps\nPlease verify that only the content that the user creates using your app, e.g., \ndocuments, new files, edits, etc. is backed up by iCloud as required by the iOS \nData Storage Guidelines. Also, check that any temporary files used by your app \nare only stored in the /tmp directory; please remember to remove or delete the \nfiles stored in this location when it is determined they are no longer needed.\nData that can be recreated but must persist for proper functioning of your app - \nor because users expect it to be available for offline use - should be marked \nwith the \"do not back up\" attribute. For NSURL objects, add the \nNSURLIsExcludedFromBackupKey attribute to prevent the corresponding file from \nbeing backed up. For CFURLRef objects, use the corresponding \nkCRUFLIsExcludedFromBackupKey attribute.\nResources\nTo check how much data your app is storing:\n\nInstall and launch your app\nGo to Settings > iCloud > Storage > Manage Storage\nSelect your device\nIf necessary, tap \"Show all apps\"\nCheck your app's storage\n\nFor additional information on preventing files from being backed up to \niCloud and iTunes, see Technical Q&A 1719: How do I prevent files from \nbeing backed up to iCloud and iTunes.\n\n\u8981\u3059\u308b\u306b\u3001iCloud\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5bfe\u8c61\u3068\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u300125MB\u3092\u8d85\u3048\u308b\u306a\u3068\u2026\n\n\u65b9\u91dd\n/tmp \u30d5\u30a9\u30eb\u30c0\u306b\u3044\u308c\u308c\u3070\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3055\u308c\u306a\u3044\u3089\u3057\u3044\u304c\u3001\nhttps://developer.apple.com/library/ios/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html\n\u3053\u3053\u3092\u8aad\u3080\u3068\u3001\u30d5\u30a9\u30eb\u30c0\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u52dd\u624b\u306bOS\u306b\u6d88\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308b\u3089\u3057\u3044\u3002\u4eca\u56de\u306f\u305d\u308c\u3067\u306f\u56f0\u308b\u306e\u3067\u3001\u3082\u3068\u306e\u30d5\u30a9\u30eb\u30c0\u69cb\u9020\u306e\u307e\u307e\u306e\u89e3\u6c7a\u6cd5\u3092\u3055\u3050\u308b\u3002\n\nPhoneGap/Cordova\u306econfig.xml\u8a2d\u5b9a\u3092\u5909\u3048\u308b\u304c\u3001\u610f\u5473\u306a\u3044\u3002\nhttps://cordova.apache.org/docs/en/latest/guide/platforms/ios/config.html\n\u3053\u3053\u306b\u3042\u308b\u3068\u304a\u308a\u3001config.xml\u306b\u3001\n\nconfig.xml\n<preference name=\"BackupWebStorage\" value=\"none\"/>\n\n\n\u3068\u66f8\u3044\u3066\u307f\u308b\u3002\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5bb9\u91cf\u5909\u308f\u3089\u305a\u3001\u610f\u5473\u306a\u304b\u3063\u305f\u3002\n\u3082\u3057\u304b\u3057\u305f\u3089\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u306e\u30c7\u30fc\u30bf\uff08localStorage\u306e\u4fdd\u5b58\u30c7\u30fc\u30bf\u306a\u3069\uff09\u306f\u610f\u5473\u304c\u3042\u308b\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u304c\u3001\u7d30\u304b\u3044\u5207\u308a\u5206\u3051\u307e\u3067\u3067\u304d\u3066\u3044\u306a\u3044\u3002\n\u3068\u306b\u304b\u304f\u3001File-Transfer\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u610f\u5473\u306a\u3044\u3002\n\n\u89e3\u6c7a\u7b56\nStack Overflow \u306a\u3069\u3092\u6e21\u308a\u6b69\u3044\u3066\u3044\u305f\u3089\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u306b\u305f\u3069\u308a\u7740\u304f\u3002\nhttps://cordova.apache.org/docs/en/3.0.0/cordova/file/fileentry/fileentry.html\n\u3092\u898b\u308b\u3068\u3001iOS\u3060\u3051 FileEntry.setMetadata() \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u3048\u3001com.apple.MobileBackup \u3092 1 \u306b\u3059\u308c\u3070\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3055\u308c\u306a\u3044\uff080\u306b\u3059\u308b\u3068\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3055\u308c\u308b\uff09\u3068\u306e\u3053\u3068\u3002\n\u7d50\u679c\u3068\u3057\u3066\u306f\u3001\u3053\u308c\u3067\u4e0a\u624b\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n\n\u30b3\u30fc\u30c9\n\u5225\u8a18\u4e8b\u306e\u4e00\u90e8\u629c\u7c8b\u3057\u307e\u3059\u3002\nfunction dl_img(){\n    alert('\u753b\u50cf\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u958b\u59cb\u3059\u308b\u3088');\n    var fileTransfer = new FileTransfer();\n    //\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308bURL\n    var url = encodeURI('https://secure.elephancube.jp/dltestapp/120305.png');\n    //\u4fdd\u5b58\u3059\u308b\u30d1\u30b9\n    var filePath = rootDir + 'testapp/test.png';\n    fileTransfer.download(url, filePath, function(entry) {\n        alert('\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u6210\u529f '+filePath);\n        //\u2605\u2605\u2605\u3053\u3053\u3067\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u30bb\u30c3\u30c8\u3059\u308b\u2605\u2605\u2605\n        entry.setMetadata(function(){\n            //success\n        },function(){\n            //fail\n        },\n        {\n            \"com.apple.MobileBackup\": 1\n        });\n        //\u2605\u2605\u2605\u3053\u3053\u307e\u3067\u2605\u2605\u2605\n        //\u8868\u793a\n        $('#view').html('<img src=\"'+filePath+'\" width=\"100%\">');\n    }, function(error) {\n        alert('\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30a8\u30e9\u30fc '+error.code);\n    });\n}\n\n\n\u2605\u2605\u2605\u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u304c\u8ffd\u52a0\u90e8\u5206\u3067\u3059\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u6210\u529f\u6642\u306eFileEntry\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bsetMetadata\u3057\u307e\u3059\u3002\n\u306a\u304b\u306a\u304b\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\u4ee5\u4e0a\u3002\n#\u6982\u8981\n[PhoneGap\u3067\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u753b\u50cf\u30fb\u97f3\u58f0\u30fb\u52d5\u753b\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u8868\u793a\u30fb\u518d\u751f\u307e\u3067](http://qiita.com/tsunet111/items/0a3856eae334a0cc32ac)\u3067\u66f8\u3044\u3066\u3044\u305f\u65b9\u6cd5\u3067\u52d5\u753b\u306a\u3069\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u305b\u308b\u30a2\u30d7\u30ea\u3092AppStore\u7533\u8acb\u3057\u305f\u3089\u30ea\u30b8\u30a7\u30af\u30c8\u3055\u308c\u307e\u3057\u305f\u3002\n\n\uff08\u4e00\u90e8\u629c\u7c8b\uff09\n\n> On launch and content download, your app stores over 25 MB on the user's \n> iCloud, which does not comply with the iOS Data Storage Guidelines.\n> \n> Next Steps\n> \n> Please verify that only the content that the user creates using your app, e.g., \n> documents, new files, edits, etc. is backed up by iCloud as required by the iOS \n> Data Storage Guidelines. Also, check that any temporary files used by your app \n> are only stored in the /tmp directory; please remember to remove or delete the \n> files stored in this location when it is determined they are no longer needed.\n> \n> Data that can be recreated but must persist for proper functioning of your app - \n> or because users expect it to be available for offline use - should be marked \n> with the \"do not back up\" attribute. For NSURL objects, add the \n> NSURLIsExcludedFromBackupKey attribute to prevent the corresponding file from \n> being backed up. For CFURLRef objects, use the corresponding \n> kCRUFLIsExcludedFromBackupKey attribute.\n> \n> Resources\n> \n> To check how much data your app is storing:\n> \n>  - Install and launch your app\n>  - Go to Settings > iCloud > Storage > Manage Storage\n>  - Select your device\n>  - If necessary, tap \"Show all apps\"\n>  - Check your app's storage\n> \n> For additional information on preventing files from being backed up to \n> iCloud and iTunes, see Technical Q&A 1719: How do I prevent files from \n> being backed up to iCloud and iTunes.\n\n\u8981\u3059\u308b\u306b\u3001iCloud\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5bfe\u8c61\u3068\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u300125MB\u3092\u8d85\u3048\u308b\u306a\u3068\u2026\n\n\n##\u65b9\u91dd\n/tmp \u30d5\u30a9\u30eb\u30c0\u306b\u3044\u308c\u308c\u3070\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3055\u308c\u306a\u3044\u3089\u3057\u3044\u304c\u3001\nhttps://developer.apple.com/library/ios/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html\n\u3053\u3053\u3092\u8aad\u3080\u3068\u3001\u30d5\u30a9\u30eb\u30c0\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u52dd\u624b\u306bOS\u306b\u6d88\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308b\u3089\u3057\u3044\u3002\u4eca\u56de\u306f\u305d\u308c\u3067\u306f\u56f0\u308b\u306e\u3067\u3001\u3082\u3068\u306e\u30d5\u30a9\u30eb\u30c0\u69cb\u9020\u306e\u307e\u307e\u306e\u89e3\u6c7a\u6cd5\u3092\u3055\u3050\u308b\u3002\n\n\n##PhoneGap/Cordova\u306econfig.xml\u8a2d\u5b9a\u3092\u5909\u3048\u308b\u304c\u3001\u610f\u5473\u306a\u3044\u3002\nhttps://cordova.apache.org/docs/en/latest/guide/platforms/ios/config.html\n\u3053\u3053\u306b\u3042\u308b\u3068\u304a\u308a\u3001config.xml\u306b\u3001\n\n```xml:config.xml\n<preference name=\"BackupWebStorage\" value=\"none\"/>\n```\n\n\u3068\u66f8\u3044\u3066\u307f\u308b\u3002\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5bb9\u91cf\u5909\u308f\u3089\u305a\u3001\u610f\u5473\u306a\u304b\u3063\u305f\u3002\n\u3082\u3057\u304b\u3057\u305f\u3089\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u306e\u30c7\u30fc\u30bf\uff08localStorage\u306e\u4fdd\u5b58\u30c7\u30fc\u30bf\u306a\u3069\uff09\u306f\u610f\u5473\u304c\u3042\u308b\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u304c\u3001\u7d30\u304b\u3044\u5207\u308a\u5206\u3051\u307e\u3067\u3067\u304d\u3066\u3044\u306a\u3044\u3002\n\u3068\u306b\u304b\u304f\u3001File-Transfer\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u610f\u5473\u306a\u3044\u3002\n\n##\u89e3\u6c7a\u7b56\nStack Overflow \u306a\u3069\u3092\u6e21\u308a\u6b69\u3044\u3066\u3044\u305f\u3089\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u306b\u305f\u3069\u308a\u7740\u304f\u3002\nhttps://cordova.apache.org/docs/en/3.0.0/cordova/file/fileentry/fileentry.html\n\u3092\u898b\u308b\u3068\u3001iOS\u3060\u3051 `FileEntry.setMetadata()` \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u3048\u3001`com.apple.MobileBackup` \u3092 `1` \u306b\u3059\u308c\u3070\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3055\u308c\u306a\u3044\uff08`0`\u306b\u3059\u308b\u3068\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3055\u308c\u308b\uff09\u3068\u306e\u3053\u3068\u3002\n\n\u7d50\u679c\u3068\u3057\u3066\u306f\u3001\u3053\u308c\u3067\u4e0a\u624b\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n\n\n###\u30b3\u30fc\u30c9\n[\u5225\u8a18\u4e8b](http://qiita.com/tsunet111/items/0a3856eae334a0cc32ac)\u306e\u4e00\u90e8\u629c\u7c8b\u3057\u307e\u3059\u3002\n\n```html\nfunction dl_img(){\n    alert('\u753b\u50cf\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u958b\u59cb\u3059\u308b\u3088');\n    var fileTransfer = new FileTransfer();\n    //\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308bURL\n    var url = encodeURI('https://secure.elephancube.jp/dltestapp/120305.png');\n    //\u4fdd\u5b58\u3059\u308b\u30d1\u30b9\n    var filePath = rootDir + 'testapp/test.png';\n    fileTransfer.download(url, filePath, function(entry) {\n        alert('\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u6210\u529f '+filePath);\n        //\u2605\u2605\u2605\u3053\u3053\u3067\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u30bb\u30c3\u30c8\u3059\u308b\u2605\u2605\u2605\n        entry.setMetadata(function(){\n            //success\n        },function(){\n            //fail\n        },\n        {\n            \"com.apple.MobileBackup\": 1\n        });\n        //\u2605\u2605\u2605\u3053\u3053\u307e\u3067\u2605\u2605\u2605\n        //\u8868\u793a\n        $('#view').html('<img src=\"'+filePath+'\" width=\"100%\">');\n    }, function(error) {\n        alert('\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30a8\u30e9\u30fc '+error.code);\n    });\n}\n\n```\n\n\u2605\u2605\u2605\u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u304c\u8ffd\u52a0\u90e8\u5206\u3067\u3059\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u6210\u529f\u6642\u306eFileEntry\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bsetMetadata\u3057\u307e\u3059\u3002\n\n\n\u306a\u304b\u306a\u304b\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\u4ee5\u4e0a\u3002\n", "tags": ["PhoneGap", "Cordova", "iOS", "AppStore"]}