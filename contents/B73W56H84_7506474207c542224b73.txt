{"context": "Vagrant \u3067\u958b\u767a\u74b0\u5883\u3092\u4f5c\u3063\u305f\u30e1\u30e2\u66f8\u304d\u3002\u304a\u76ee\u6c5a\u3057\u5931\u793c\u3002\n\nVagrant \u8a2d\u5b9a\n\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u3067 vagrant \u306e\u8a2d\u5b9a\n$ vagrant box add centos67 https://github.com/CommanderK5/packer-centos-template/releases/download/0.6.7/vagrant-centos-6.7.box\n\n$ vagrant init\n\n$ vi Vagrantfile\n############################################\nVagrant.configure(\"2\") do |config|\n  config.vm.box = \"centos67\"\n  config.vm.network \"private_network\", ip: \"192.168.33.15\"\n\n  ## \u958b\u767a\u74b0\u5883\u306a\u306e\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u8a31\u5bb9\u3057\u3066 config.ssh.insert_key = false \u3068\u8a18\u8f09\n  config.ssh.insert_key = false\nend\n############################################\n\n# \u8d77\u52d5\n$ vagrant up\n\n# \u4f5c\u6210\u3057\u305f\u4eee\u60f3\u74b0\u5883\u306b\u30ed\u30b0\u30a4\u30f3\n$ vagrant ssh\n\n### \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u3068\u304d\n$ vagrant halt\n\n### \u4e00\u6642\u505c\u6b62\u3059\u308b\u3068\u304d\n$ vagrant suspend\n\n\npython3 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# ius \u30ec\u30dd\u30b8\u30c8\u30ea\u8ffd\u52a0\n[vagrant@yuzu ~]$ yum install https://centos6.iuscommunity.org/ius-release.rpm\n\n[vagrant@yuzu ~]$ yum search python3\n\n# python3 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[vagrant@yuzu ~]$ yum install -y python35u python35u-pip python35u-devel\n\n\u4f9d\u5b58\u306e\u95a2\u4fc2\u3067 python35u-libs\u3068python35u-setuptools\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n[vagrant@yuzu ~]$ pip3.5 install --upgrade pip\nRequirement already up-to-date: pip in /usr/lib/python3.5/site-packages\n\n\npython\u74b0\u5883\u4f5c\u6210\n[vagrant@yuzu ~]$ cd /vagrant/\n\n# \u4eee\u60f3\u74b0\u5883\u4f5c\u6210\n[vagrant@yuzu vagrant]$ pyvenv-3.5 venv_app1\n\n# \u5165\u308b\n[vagrant@yuzu vagrant]$ source venv_app1/bin/activate\n\n(venv_app1) [vagrant@yuzu vagrant]$\n\n# \u629c\u3051\u308b\n(venv_app1) [vagrant@yuzu vagrant]$ deactivate\n\n[vagrant@yuzu vagrant]$\n\n# python \u306e\u5834\u6240\n(venv_app1) [vagrant@yuzu vagrant]$ which python\n/vagrant/venv_app1/bin/python\n\n# python \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n(venv_app1) [vagrant@yuzu vagrant]$ python --version\nPython 3.5.2\n\n\n# pip \u306e\u5834\u6240\n(venv_app1) [vagrant@yuzu vagrant]$ which pip\n/vagrant/venv_app1/bin/pip\n\n# python \u306e\u5834\u6240\n(venv_app1) [vagrant@yuzu vagrant]$ pip --version\npip 8.1.2 from /vagrant/venv_app1/lib64/python3.5/site-packages (python 3.5)\n\n(venv_app1) [vagrant@yuzu vagrant]$ pip3.5 install django\n\n(venv_app1) [vagrant@yuzu vagrant]$ pip3.5 install uwsgi\n\n\nMySQL\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30d5\u30a1\u30a4\u30eb\u306e\u95a2\u9023\u3067\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306e\u3067\u3001\u4e8b\u524d\u306b\u524a\u9664\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n[vagrant@yuzu ~]$ sudo yum remove mysql*\n\nmysql-libs\u3068\u3068\u3082\u306b\u3001\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30ebcronie\u3001cronie-anacron\u3001crontabs\u3001postfix\u3082\u524a\u9664\u3055\u308c\u307e\u3059\u3002\u958b\u767a\u74b0\u5883\u3067\u306a\u3051\u308c\u3070\u3067\u304d\u306a\u3044\u8352\u696d\u3067\u3059\u3002\n[vagrant@yuzu ~]$ yum search mysql57\n\n[vagrant@yuzu ~]$ sudo yum install -y mysql57u-server mysql57u-devel\n\n\n[vagrant@yuzu ~]$ sudo service mysqld start\nInitializing MySQL database\nStarting mysqld:                                           [  OK  ]\n\n# root \u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\u306a\u3069\n[vagrant@yuzu ~]$ mysql_secure_installation\n\n\nhttpd \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[vagrant@yuzu ~]$ sudo yum install -y httpd mod_wsgi\n\n# \u3042\u3068\u3067diff\u3092\u53d6\u308b\u305f\u3081\u306b\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30b3\u30d4\u30fc\n[vagrant@yuzu ~]$ sudo cp -i /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf_rpmnew\n\n[vagrant@yuzu ~]$ sudo vi /etc/httpd/conf/httpd.conf\n\n# \u4e0d\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9\u306a\u3069\u5168\u3066\u6d88\u3057\u3066\u3057\u307e\u3044\u305f\u3044\u304c\u3001\u307e\u305a\u306f\u9069\u5f53\u306a\u8a2d\u5b9a\n[vagrant@yuzu ~]$ diff /etc/httpd/conf/httpd.conf.rpmnew /etc/httpd/conf/httpd.conf\n44c44\n< ServerTokens OS\n---\n> ServerTokens ProductOnly\n163,164c163,164\n< LoadModule ldap_module modules/mod_ldap.so\n< LoadModule authnz_ldap_module modules/mod_authnz_ldap.so\n---\n> # LoadModule ldap_module modules/mod_ldap.so\n> # LoadModule authnz_ldap_module modules/mod_authnz_ldap.so\n167c167\n< LoadModule logio_module modules/mod_logio.so\n---\n> # LoadModule logio_module modules/mod_logio.so\n177c177\n< LoadModule dav_module modules/mod_dav.so\n---\n> # LoadModule dav_module modules/mod_dav.so\n181c181\n< LoadModule dav_fs_module modules/mod_dav_fs.so\n---\n> # LoadModule dav_fs_module modules/mod_dav_fs.so\n186,187c186,187\n< LoadModule speling_module modules/mod_speling.so\n< LoadModule userdir_module modules/mod_userdir.so\n---\n> # LoadModule speling_module modules/mod_speling.so\n> # LoadModule userdir_module modules/mod_userdir.so\n191,196c191,196\n< LoadModule proxy_module modules/mod_proxy.so\n< LoadModule proxy_balancer_module modules/mod_proxy_balancer.so\n< LoadModule proxy_ftp_module modules/mod_proxy_ftp.so\n< LoadModule proxy_http_module modules/mod_proxy_http.so\n< LoadModule proxy_ajp_module modules/mod_proxy_ajp.so\n< LoadModule proxy_connect_module modules/mod_proxy_connect.so\n---\n> # LoadModule proxy_module modules/mod_proxy.so\n> # LoadModule proxy_balancer_module modules/mod_proxy_balancer.so\n> # LoadModule proxy_ftp_module modules/mod_proxy_ftp.so\n> # LoadModule proxy_http_module modules/mod_proxy_http.so\n> # LoadModule proxy_ajp_module modules/mod_proxy_ajp.so\n> # LoadModule proxy_connect_module modules/mod_proxy_connect.so\n200c200\n< LoadModule cgi_module modules/mod_cgi.so\n---\n> # LoadModule cgi_module modules/mod_cgi.so\n276c276\n< #ServerName www.example.com:80\n---\n> ServerName *:80\n331c331\n<     Options Indexes FollowSymLinks\n---\n>     Options -Indexes FollowSymLinks\n402c402\n< DirectoryIndex index.html index.html.var\n---\n> DirectoryIndex index.html\n536c536\n< ServerSignature On\n---\n> ServerSignature Off\n\n[vagrant@yuzu ~]$ sudo service httpd configtest\nSyntax OK\n\n[vagrant@yuzu ~]$ sudo service httpd restart\nStopping httpd:                                            [  OK  ]\nStarting httpd:                                            [  OK  ]\n\n\n\u53c2\u8003\u3068\u6ce8\u91c8\n\n\u30af\u30a4\u30c3\u30af\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9 - django\n28.3. venv \u2014 \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210\nPython3.4 + Django\u3067\u4f5c\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(Part.1 \u74b0\u5883\u69cb\u7bc9\u7de8) - Qiita\nProblems installing python3 on RHEL - stackoverflow\nerror: command 'x86_64-linux-gnu-gcc' when installing mysqlclient - stack overflow\n\u3010\u30b7\u30f3\u30d7\u30eb\u3011CentOS6\u306bMySQL5.7\u3092yum\u3067\u7c21\u5358\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806 - \u7530\u820e\u306b\u4f4f\u307f\u305f\u3044\u30a8\u30f3\u30b8\u30cb\u30a2\u306e\u65e5\u8a18\nvagrant \u30b3\u30de\u30f3\u30c9\uff08\u8d77\u52d5\u30fb\u518d\u8d77\u52d5\u30fb\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u7b49\u3005\uff09\u5099\u5fd8\u9332 - Qiita\n\nVagrant \u3067\u958b\u767a\u74b0\u5883\u3092\u4f5c\u3063\u305f\u30e1\u30e2\u66f8\u304d\u3002\u304a\u76ee\u6c5a\u3057\u5931\u793c\u3002\n\n### Vagrant \u8a2d\u5b9a\n\n\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u3067 vagrant \u306e\u8a2d\u5b9a\n\n```bash\n$ vagrant box add centos67 https://github.com/CommanderK5/packer-centos-template/releases/download/0.6.7/vagrant-centos-6.7.box\n\n$ vagrant init\n\n$ vi Vagrantfile\n############################################\nVagrant.configure(\"2\") do |config|\n  config.vm.box = \"centos67\"\n  config.vm.network \"private_network\", ip: \"192.168.33.15\"\n\n  ## \u958b\u767a\u74b0\u5883\u306a\u306e\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u8a31\u5bb9\u3057\u3066 config.ssh.insert_key = false \u3068\u8a18\u8f09\n  config.ssh.insert_key = false\nend\n############################################\n\n# \u8d77\u52d5\n$ vagrant up\n\n# \u4f5c\u6210\u3057\u305f\u4eee\u60f3\u74b0\u5883\u306b\u30ed\u30b0\u30a4\u30f3\n$ vagrant ssh\n```\n\n```bash\n### \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u3068\u304d\n$ vagrant halt\n\n### \u4e00\u6642\u505c\u6b62\u3059\u308b\u3068\u304d\n$ vagrant suspend\n```\n\n### python3 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n# ius \u30ec\u30dd\u30b8\u30c8\u30ea\u8ffd\u52a0\n[vagrant@yuzu ~]$ yum install https://centos6.iuscommunity.org/ius-release.rpm\n\n[vagrant@yuzu ~]$ yum search python3\n\n# python3 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[vagrant@yuzu ~]$ yum install -y python35u python35u-pip python35u-devel\n```\n\u4f9d\u5b58\u306e\u95a2\u4fc2\u3067 `python35u-libs`\u3068`python35u-setuptools`\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n```bash\n[vagrant@yuzu ~]$ pip3.5 install --upgrade pip\nRequirement already up-to-date: pip in /usr/lib/python3.5/site-packages\n```\n\n\n### python\u74b0\u5883\u4f5c\u6210\n\n```bash\n[vagrant@yuzu ~]$ cd /vagrant/\n\n# \u4eee\u60f3\u74b0\u5883\u4f5c\u6210\n[vagrant@yuzu vagrant]$ pyvenv-3.5 venv_app1\n\n# \u5165\u308b\n[vagrant@yuzu vagrant]$ source venv_app1/bin/activate\n\n(venv_app1) [vagrant@yuzu vagrant]$\n\n# \u629c\u3051\u308b\n(venv_app1) [vagrant@yuzu vagrant]$ deactivate\n\n[vagrant@yuzu vagrant]$\n```\n\n```bash\n# python \u306e\u5834\u6240\n(venv_app1) [vagrant@yuzu vagrant]$ which python\n/vagrant/venv_app1/bin/python\n\n# python \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n(venv_app1) [vagrant@yuzu vagrant]$ python --version\nPython 3.5.2\n\n\n# pip \u306e\u5834\u6240\n(venv_app1) [vagrant@yuzu vagrant]$ which pip\n/vagrant/venv_app1/bin/pip\n\n# python \u306e\u5834\u6240\n(venv_app1) [vagrant@yuzu vagrant]$ pip --version\npip 8.1.2 from /vagrant/venv_app1/lib64/python3.5/site-packages (python 3.5)\n```\n\n```bash\n(venv_app1) [vagrant@yuzu vagrant]$ pip3.5 install django\n\n(venv_app1) [vagrant@yuzu vagrant]$ pip3.5 install uwsgi\n```\n\n\n### MySQL\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30d5\u30a1\u30a4\u30eb\u306e\u95a2\u9023\u3067\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306e\u3067\u3001\u4e8b\u524d\u306b\u524a\u9664\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n```bash\n[vagrant@yuzu ~]$ sudo yum remove mysql*\n```\n`mysql-libs`\u3068\u3068\u3082\u306b\u3001\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb`cronie`\u3001`cronie-anacron`\u3001`crontabs`\u3001`postfix`\u3082\u524a\u9664\u3055\u308c\u307e\u3059\u3002\u958b\u767a\u74b0\u5883\u3067\u306a\u3051\u308c\u3070\u3067\u304d\u306a\u3044\u8352\u696d\u3067\u3059\u3002\n\n\n```bash\n[vagrant@yuzu ~]$ yum search mysql57\n\n[vagrant@yuzu ~]$ sudo yum install -y mysql57u-server mysql57u-devel\n\n\n[vagrant@yuzu ~]$ sudo service mysqld start\nInitializing MySQL database\nStarting mysqld:                                           [  OK  ]\n\n# root \u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\u306a\u3069\n[vagrant@yuzu ~]$ mysql_secure_installation\n```\n\n### httpd \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n[vagrant@yuzu ~]$ sudo yum install -y httpd mod_wsgi\n```\n\n```bash\n# \u3042\u3068\u3067diff\u3092\u53d6\u308b\u305f\u3081\u306b\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30b3\u30d4\u30fc\n[vagrant@yuzu ~]$ sudo cp -i /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf_rpmnew\n\n[vagrant@yuzu ~]$ sudo vi /etc/httpd/conf/httpd.conf\n```\n\n```diff\n# \u4e0d\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9\u306a\u3069\u5168\u3066\u6d88\u3057\u3066\u3057\u307e\u3044\u305f\u3044\u304c\u3001\u307e\u305a\u306f\u9069\u5f53\u306a\u8a2d\u5b9a\n[vagrant@yuzu ~]$ diff /etc/httpd/conf/httpd.conf.rpmnew /etc/httpd/conf/httpd.conf\n44c44\n< ServerTokens OS\n---\n> ServerTokens ProductOnly\n163,164c163,164\n< LoadModule ldap_module modules/mod_ldap.so\n< LoadModule authnz_ldap_module modules/mod_authnz_ldap.so\n---\n> # LoadModule ldap_module modules/mod_ldap.so\n> # LoadModule authnz_ldap_module modules/mod_authnz_ldap.so\n167c167\n< LoadModule logio_module modules/mod_logio.so\n---\n> # LoadModule logio_module modules/mod_logio.so\n177c177\n< LoadModule dav_module modules/mod_dav.so\n---\n> # LoadModule dav_module modules/mod_dav.so\n181c181\n< LoadModule dav_fs_module modules/mod_dav_fs.so\n---\n> # LoadModule dav_fs_module modules/mod_dav_fs.so\n186,187c186,187\n< LoadModule speling_module modules/mod_speling.so\n< LoadModule userdir_module modules/mod_userdir.so\n---\n> # LoadModule speling_module modules/mod_speling.so\n> # LoadModule userdir_module modules/mod_userdir.so\n191,196c191,196\n< LoadModule proxy_module modules/mod_proxy.so\n< LoadModule proxy_balancer_module modules/mod_proxy_balancer.so\n< LoadModule proxy_ftp_module modules/mod_proxy_ftp.so\n< LoadModule proxy_http_module modules/mod_proxy_http.so\n< LoadModule proxy_ajp_module modules/mod_proxy_ajp.so\n< LoadModule proxy_connect_module modules/mod_proxy_connect.so\n---\n> # LoadModule proxy_module modules/mod_proxy.so\n> # LoadModule proxy_balancer_module modules/mod_proxy_balancer.so\n> # LoadModule proxy_ftp_module modules/mod_proxy_ftp.so\n> # LoadModule proxy_http_module modules/mod_proxy_http.so\n> # LoadModule proxy_ajp_module modules/mod_proxy_ajp.so\n> # LoadModule proxy_connect_module modules/mod_proxy_connect.so\n200c200\n< LoadModule cgi_module modules/mod_cgi.so\n---\n> # LoadModule cgi_module modules/mod_cgi.so\n276c276\n< #ServerName www.example.com:80\n---\n> ServerName *:80\n331c331\n<     Options Indexes FollowSymLinks\n---\n>     Options -Indexes FollowSymLinks\n402c402\n< DirectoryIndex index.html index.html.var\n---\n> DirectoryIndex index.html\n536c536\n< ServerSignature On\n---\n> ServerSignature Off\n```\n\n```bash\n[vagrant@yuzu ~]$ sudo service httpd configtest\nSyntax OK\n\n[vagrant@yuzu ~]$ sudo service httpd restart\nStopping httpd:                                            [  OK  ]\nStarting httpd:                                            [  OK  ]\n```\n\n\n### \u53c2\u8003\u3068\u6ce8\u91c8\n\n* [\u30af\u30a4\u30c3\u30af\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9 - django](https://docs.djangoproject.com/ja/1.10/intro/install/)\n\n* [28.3. venv \u2014 \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210](http://docs.python.jp/3/library/venv.html)\n\n* [Python3.4 + Django\u3067\u4f5c\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(Part.1 \u74b0\u5883\u69cb\u7bc9\u7de8) - Qiita](http://qiita.com/taijijiji/items/8da746e150d1e0947107)\n\n* [Problems installing python3 on RHEL - stackoverflow](http://stackoverflow.com/questions/8087184/problems-installing-python3-on-rhel)\n\n* [error: command 'x86_64-linux-gnu-gcc' when installing mysqlclient - stack overflow](http://stackoverflow.com/questions/33315210/error-command-x86-64-linux-gnu-gcc-when-installing-mysqlclient)\n\n* [\u3010\u30b7\u30f3\u30d7\u30eb\u3011CentOS6\u306bMySQL5.7\u3092yum\u3067\u7c21\u5358\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806 - \u7530\u820e\u306b\u4f4f\u307f\u305f\u3044\u30a8\u30f3\u30b8\u30cb\u30a2\u306e\u65e5\u8a18](http://blog.ybbo.net/2015/03/11/how-to-install-mysql5-7-to-centos6-using-yum/)\n\n* [vagrant \u30b3\u30de\u30f3\u30c9\uff08\u8d77\u52d5\u30fb\u518d\u8d77\u52d5\u30fb\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u7b49\u3005\uff09\u5099\u5fd8\u9332 - Qiita](http://qiita.com/htk_jp/items/929875eaa5afc71c25ed)\n\n", "tags": ["\u30e1\u30e2"]}