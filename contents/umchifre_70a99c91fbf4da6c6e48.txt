{"context": "\u7c21\u5358\u306b\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u4f5c\u6210\u3067\u304d\u308bVyOS\u3067\u3059\u3002\uff08\u5143Vyatta\u306e\u7121\u6599\u7248\uff09\n\u4ee5\u4e0b\u3001\u69cb\u7bc9\u30e1\u30e2\u3067\u3059\u3002\niso\u30a4\u30e1\u30fc\u30b8\u683c\u7d0dURL\nhttp://vyos.nervex.net/iso/release/1.1.7/\niso\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ninstall image\n\n\u7de8\u96c6\u30e2\u30fc\u30c9\nconfigure\n\n\u8a2d\u5b9a\u306e\u4fdd\u5b58\ncommit\nsave\n\n\u56fa\u5b9aIP\u306e\u4ed8\u4e0e\nset interfaces ethernet eth0 address 192.168.0.1/24\n\nSSH\u306e\u901a\u4fe1\u306e\u8a31\u53ef\nset service ssh\n\n\u8a2d\u5b9a\u78ba\u8a8d\nshow\n\nNAT\u5909\u63db\uff08eth0\u304b\u3089192.168.64.150\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304d\u305f\u3089172.16.0.10\u306b\u9001\u308b\uff09\nset nat destination rule 1 destination address 192.168.64.150\nset nat destination rule 1 translation address 172.16.0.10\nset nat destination rule 1 inbound-interface eth0\n\n\u4e0a\u8a18\u30eb\u30fc\u30eb\u524a\u9664\ndelete nat destination rule 1\n\nNAT\u5909\u63db(192.168.64.0/24\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304d\u305f\u3089172.16.0.254\u306b\u5909\u63db\u3057\u3066eth1\u306b\u9001\u308b\uff09\nset nat source rule 1 source address 192.168.64.0/24\nset nat source rule 1 translation address 172.16.0.254\nset nat source rule 1 outbound-interface eth1\n\n\u4e0a\u8a18\u30eb\u30fc\u30eb\u524a\u9664\ndelete nat source rule 1\n\n\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\uff08eth0\u304b\u3089192.168.64.150:80\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304d\u305f\u3089172.16.0.10\u306b\u9001\u308b\uff09\nset nat destination rule 1 destination address 192.168.64.150\nset nat destination rule 1 destination port 80\nset nat destination rule 1 inbound-interface eth0\nset nat destination rule 1 protocol tcp\nset nat destination rule 1 translation address 172.16.0.10\n\nDHCP\u8a2d\u5b9a\nset service dhcp-server shared-network-name dhcp1 subnet 172.16.0.0/24 start 172.16.0.11 stop 172.16.0.19\nset service dhcp-server shared-network-name dhcp1 subnet 172.16.0.0/24 default-router 172.16.0.254\nset service dhcp-server shared-network-name dhcp1 subnet 172.16.0.0/24 dns-server 192.168.64.2\n\n\n\u7c21\u5358\u306b\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u4f5c\u6210\u3067\u304d\u308bVyOS\u3067\u3059\u3002\uff08\u5143Vyatta\u306e\u7121\u6599\u7248\uff09\n\n\u4ee5\u4e0b\u3001\u69cb\u7bc9\u30e1\u30e2\u3067\u3059\u3002\n\niso\u30a4\u30e1\u30fc\u30b8\u683c\u7d0dURL\nhttp://vyos.nervex.net/iso/release/1.1.7/\n\niso\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\ninstall image\n```\n\n\u7de8\u96c6\u30e2\u30fc\u30c9\n\n```bash\nconfigure\n```\n\n\u8a2d\u5b9a\u306e\u4fdd\u5b58\n\n```bash\ncommit\nsave\n```\n\n\u56fa\u5b9aIP\u306e\u4ed8\u4e0e\n\n```bash\nset interfaces ethernet eth0 address 192.168.0.1/24\n```\n\nSSH\u306e\u901a\u4fe1\u306e\u8a31\u53ef\n\n```bash\nset service ssh\n```\n\n\u8a2d\u5b9a\u78ba\u8a8d\n\n```bash\nshow\n```\n\nNAT\u5909\u63db\uff08eth0\u304b\u3089192.168.64.150\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304d\u305f\u3089172.16.0.10\u306b\u9001\u308b\uff09\n\n```bash\nset nat destination rule 1 destination address 192.168.64.150\nset nat destination rule 1 translation address 172.16.0.10\nset nat destination rule 1 inbound-interface eth0\n```\n\n\u4e0a\u8a18\u30eb\u30fc\u30eb\u524a\u9664\n\n```bash\ndelete nat destination rule 1\n```\n\nNAT\u5909\u63db(192.168.64.0/24\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304d\u305f\u3089172.16.0.254\u306b\u5909\u63db\u3057\u3066eth1\u306b\u9001\u308b\uff09\n\n```bash\nset nat source rule 1 source address 192.168.64.0/24\nset nat source rule 1 translation address 172.16.0.254\nset nat source rule 1 outbound-interface eth1\n```\n\n\u4e0a\u8a18\u30eb\u30fc\u30eb\u524a\u9664\n\n```bash\ndelete nat source rule 1\n```\n\n\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\uff08eth0\u304b\u3089192.168.64.150:80\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304d\u305f\u3089172.16.0.10\u306b\u9001\u308b\uff09\n\n```bash\nset nat destination rule 1 destination address 192.168.64.150\nset nat destination rule 1 destination port 80\nset nat destination rule 1 inbound-interface eth0\nset nat destination rule 1 protocol tcp\nset nat destination rule 1 translation address 172.16.0.10\n```\n\nDHCP\u8a2d\u5b9a\n\n```bash\nset service dhcp-server shared-network-name dhcp1 subnet 172.16.0.0/24 start 172.16.0.11 stop 172.16.0.19\nset service dhcp-server shared-network-name dhcp1 subnet 172.16.0.0/24 default-router 172.16.0.254\nset service dhcp-server shared-network-name dhcp1 subnet 172.16.0.0/24 dns-server 192.168.64.2\n```\n\n", "tags": ["vyatta", "VyOS"]}