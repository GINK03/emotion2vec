{"context": " More than 1 year has passed since last update.\u3000\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044\u3092\u30d0\u30c3\u30c1\u3067\u88fd\u4f5c\u3002\n\u3000\u6570\u5b57\u3092\u5165\u529b\u3059\u308b\u3068\u3001\uff11\uff5e\u305d\u306e\u6570\u5b57\u307e\u3067\u306e\u7d20\u6570\u3092\u5217\u6319\u3057\u307e\u3059\u3002\n\u3000\u51e6\u7406\u6642\u9593\u3092\u512a\u5148\u3057\u305f\u306e\u3067\u3001\u591a\u5c11\u5197\u9577\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u8a31\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3000\u6570\u5b57\u306e\u4e0a\u9650\u306f65535\u3067\u3059\u3002\u304c\u3001\u5b9f\u969b\u306b65535\u3067\u3084\u308b\u3068\u4e38\uff11\u65e5\u4ee5\u4e0a\u304b\u304b\u308b\u306e\u3067\u304a\u52e7\u3081\u306f\u3057\u307e\u305b\u3093\uff08\uff09\n\n\u3000\uff08\u4e0b\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u30b3\u30fc\u30c9\u306b\u306f\u3001\u6642\u9593\u8a08\u6e2c\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3042\u308a\u307e\u305b\u3093\u3002\uff09\n\nEratosthenes.bat\n@echo off\nsetlocal enabledelayedexpansion\ntitle Eratosthenes's sieve\n:EnterNumber\n    cls\n    echo \u63a2\u7d22\u7bc4\u56f2\u306e\u4e0a\u9650\u3092\u5165\u529b\u3002\uff3a\u30ad\u30fc\u5165\u529b\u3067\u6c7a\u5b9a\u3001\uff38\u30ad\u30fc\u5165\u529b\u3067\u53d6\u6d88\n    echo \u5024\uff1a%num%\n    choice /c 0123456789zx >nul\n    set /a selected=%errorlevel%-1\n    if %selected% == 10 (\n        cls\n        echo 1~%num%\u307e\u3067\u306e\u7d20\u6570\u306f\u2026\n        echo.\n        set /a loop=0,primearray=0,prime[0]=0\n        goto Sieve1\n    )\n    if %selected% == 11 set num=& goto Enternumber\n    if \"%num%\" == \"\" if %selected% == 0 goto Enternumber\n    set num=%num%%selected%\n    goto EnterNumber\n\n:Sieve1\n    set /a loop+=1\n    if %loop% == %num% goto Sieve2\n    set /a num[%loop%]=loop+1,array=loop\n    goto Sieve1\n\n:Sieve2\n    set /a int0=base*base\n    if %int0% geq !num[%array%]! set loop=0& goto Sieve5\n    set /a base=num[1],loop=0,newarray=0,primearray+=1\n    set prime[%primearray%]=%base%\n    set /p <nul=%base%,\n\n:Sieve3\n    set /a loop+=1\n    if %loop% gtr %array% goto Sieve4\n    set /a int1=num[%loop%]%%base\n    if %int1% == 0 goto Sieve3\n    set /a newarray+=1\n    set /a newnum[%newarray%]=num[%loop%]\n    goto Sieve3\n\n:Sieve4\n    set array=%newarray%\n    for /l %%i in (1,1,%array%) do set /a num[%%i]=newnum[%%i]\n    goto Sieve2\n\n:Sieve5\n    set /a loop+=1,primearray+=1\n    set /a prime[%primearray%]=num[%loop%]\n    set /p <nul=!num[%loop%]!\n    if %loop% lss %array% set /p <nul=,& goto Sieve5\n    echo.\n    echo.\n    echo \u306e\u3001\u5168%primearray%\u500b\uff08%num%\u500b\u4e2d\uff09\u3067\u3059\u3002\n    exit\n\n\n\u3000\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044\u3092\u30d0\u30c3\u30c1\u3067\u88fd\u4f5c\u3002\n\u3000\u6570\u5b57\u3092\u5165\u529b\u3059\u308b\u3068\u3001\uff11\uff5e\u305d\u306e\u6570\u5b57\u307e\u3067\u306e\u7d20\u6570\u3092\u5217\u6319\u3057\u307e\u3059\u3002\n\n\u3000\u51e6\u7406\u6642\u9593\u3092\u512a\u5148\u3057\u305f\u306e\u3067\u3001\u591a\u5c11\u5197\u9577\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u8a31\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3000\u6570\u5b57\u306e\u4e0a\u9650\u306f65535\u3067\u3059\u3002*\u304c\u3001\u5b9f\u969b\u306b65535\u3067\u3084\u308b\u3068\u4e38\uff11\u65e5\u4ee5\u4e0a\u304b\u304b\u308b\u306e\u3067\u304a\u52e7\u3081\u306f\u3057\u307e\u305b\u3093\uff08\uff09*\n\n![\u7121\u984c.png](https://qiita-image-store.s3.amazonaws.com/0/52542/5cff7ee8-5669-af7b-28a8-1b70535a0162.png)\n\u3000\uff08\u4e0b\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u30b3\u30fc\u30c9\u306b\u306f\u3001\u6642\u9593\u8a08\u6e2c\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3042\u308a\u307e\u305b\u3093\u3002\uff09\n\n```bat:Eratosthenes.bat\n@echo off\nsetlocal enabledelayedexpansion\ntitle Eratosthenes's sieve\n:EnterNumber\n\tcls\n\techo \u63a2\u7d22\u7bc4\u56f2\u306e\u4e0a\u9650\u3092\u5165\u529b\u3002\uff3a\u30ad\u30fc\u5165\u529b\u3067\u6c7a\u5b9a\u3001\uff38\u30ad\u30fc\u5165\u529b\u3067\u53d6\u6d88\n\techo \u5024\uff1a%num%\n\tchoice /c 0123456789zx >nul\n\tset /a selected=%errorlevel%-1\n\tif %selected% == 10 (\n\t\tcls\n\t\techo 1~%num%\u307e\u3067\u306e\u7d20\u6570\u306f\u2026\n\t\techo.\n\t\tset /a loop=0,primearray=0,prime[0]=0\n\t\tgoto Sieve1\n\t)\n\tif %selected% == 11 set num=& goto Enternumber\n\tif \"%num%\" == \"\" if %selected% == 0 goto Enternumber\n\tset num=%num%%selected%\n\tgoto EnterNumber\n\n:Sieve1\n\tset /a loop+=1\n\tif %loop% == %num% goto Sieve2\n\tset /a num[%loop%]=loop+1,array=loop\n\tgoto Sieve1\n\n:Sieve2\n\tset /a int0=base*base\n\tif %int0% geq !num[%array%]! set loop=0& goto Sieve5\n\tset /a base=num[1],loop=0,newarray=0,primearray+=1\n\tset prime[%primearray%]=%base%\n\tset /p <nul=%base%,\n\n:Sieve3\n\tset /a loop+=1\n\tif %loop% gtr %array% goto Sieve4\n\tset /a int1=num[%loop%]%%base\n\tif %int1% == 0 goto Sieve3\n\tset /a newarray+=1\n\tset /a newnum[%newarray%]=num[%loop%]\n\tgoto Sieve3\n\n:Sieve4\n\tset array=%newarray%\n\tfor /l %%i in (1,1,%array%) do set /a num[%%i]=newnum[%%i]\n\tgoto Sieve2\n\n:Sieve5\n\tset /a loop+=1,primearray+=1\n\tset /a prime[%primearray%]=num[%loop%]\n\tset /p <nul=!num[%loop%]!\n\tif %loop% lss %array% set /p <nul=,& goto Sieve5\n\techo.\n\techo.\n\techo \u306e\u3001\u5168%primearray%\u500b\uff08%num%\u500b\u4e2d\uff09\u3067\u3059\u3002\n\texit\n```\n", "tags": ["bat", "batch", "\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb", "\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8", "Windows"]}