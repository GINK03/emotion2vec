{"context": " More than 1 year has passed since last update.\n\n\u3053\u3046\u3044\u3046\uff11\u500b\uff11\u500b\u306e\u5f15\u304d\u51fa\u3057\u306b\u3001\u304a\u83d3\u5b50\u5165\u3063\u3066\u308b\u306e\u3042\u308b\u3088\u306d\nknockout.js Advent Calendar 2015\u3082\u3088\u308d\u3057\u304f\u306d\uff01\n\ncode\n\nhtml\n<span>\u6570\u5b57\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u306d</span>\n\n<h1>Advent Calendar</h1>\n<div class=\"cupboard\">\n    <div class=\"backpanel\"></div>\n    <table>\n        <tbody data-bind=\"template:{foreach: weeks,as:'week'}\">\n            <tr data-bind=\"foreach:week\">\n                <td>\n                    <div class=\"cell\">\n                        <div class=\"box {{done?'done':'active'}}\">\n                            <div class=\"front\"><span data-bind=\"on.click:done=true\">{{date.format('{d}')}}</span></div>\n                            <div class=\"back\"></div>\n                            <div class=\"left\"></div>\n                            <div class=\"right\" data-bind=\"style:{'background-position':($index()*20)+'% '+($parentContext.$index()*20)+'%'}\"></div>\n                            <div class=\"bottom\"><span>{{note}}</span></div>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n\n\n\njavascript\nfunction Day(date){\n    this.note = '';\n    this.done = false;\n    this.date = date;\n    ko.track(this);\n}\nfunction AdventCalendar(){\n    var calendar = this;\n    calendar.date = new Date();\n    calendar.days = Date\n        .range(\"12/1\",\"12/25\")\n        .every('date')\n        .map(function(date){\n            return new Day(date);\n        });\n    calendar.weeks = Number\n        .range(0,24)\n        .every(5)\n        .map(function(day){\n            return calendar.days.from(day).first(5)\n        });\n    calendar.days\n        .filter(function(day){\n            return day.date.isBefore(calendar.date)\n        })\n        .forEach(function(day){\n            day.done = true;\n        });\n\n    ko.track(calendar);\n}\nvar calendar = new AdventCalendar();\nko.punches.enableAll();\nko.applyBindings(calendar);\n\n\n\nless\n*{\n    user-select:none;\n}\nh1{\n    font-family: 'Fredericka the Great', cursive;\n    margin: 0;\n    margin-top:1em;\n    width: 300px;\n    text-align: center;\n    color: green;\n    text-shadow: 2px 2px gray;\n}\n.cupboard{\n    position:absolute;\n    left:10px;\n    width: 300px;\n    transform-style: preserve-3d;\n    perspective: 1500px;\n    perspective-origin: 50% 0;\n    transform: rotateX(0deg);\n    .backpanel{\n        position:absolute;\n        height:100%;\n        width:100%;\n        left:0;right:0;\n        top:0;bottom:0;\n        transform: translateZ(-51px);\n        background: #664444;\n    }\n    .cell{\n\n    } \n    th,td{\n        border:solid 2px darkslategrey;\n    }\n}\n\n.box{\n    width: 50px;\n    height: 50px;\n    top: 0px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n    transform-style: preserve-3d;\n    transform: translateZ(100px);\n    transform-origin: 25px 0px -25px;\n    transition: transform ease-out 500ms;\n\n    //animation: rotateY 5s linear infinite;\n    transform: rotateY(180deg)\n    &.active{\n        transform: rotateY(0deg)\n        //animation: pull-push 5s ease-in infinite;\n    }\n    &.done{\n        animation: pull-push 3s ease-in 1;\n        transform: rotateY(-90deg);\n    }\n\n    .front,\n    .back,\n    .left,\n    .right,\n    .bottom{\n        width: 50px;\n        height: 50px;\n        position: absolute;\n        top: 0px;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        margin: auto;\n        text-align: center;\n        line-height: 50px;\n        opacity: 0.8;\n        border: solid 1px brown;\n        background: url(https://yabumi.cc/15142c3178cd66b98092f9a6.png);\n        &>span{\n            display:block;\n        }\n    }\n    .front{\n        transform: translateZ(0px);\n        &>span{\n            background:rgba(red,0.75);\n            cursor:pointer;\n            color: white;\n            font-size:30px;\n            font-family: 'Fredericka the Great', cursive;\n            font-weight:bold;\n        }\n    }\n    .back{\n        transform: translateZ(-50px);\n    }\n    .left{\n        transform: rotatey(-90deg) translateZ(25px) translateX(-25px);\n    }\n    .right{\n        transform: rotatey(90deg) translateZ(25px) translateX(25px);\n        background: url(https://yabumi.cc/1514f980720f6480291db5c1.png);\n        background-position: 0% 0%;\n        background-size: 300px;\n    }\n    .bottom{\n        width:50px;\n        height:50px;\n        background: url(https://yabumi.cc/15142c179f53b489f5fb929d.png);\n        transform: rotateX(90deg) translateZ(-12.5px) translateY(-25px);\n    }\n}\n\n\n@keyframes pull-push {\n    0% {transform: translateZ(0px) rotateX(0deg)}\n    10% {transform: translateZ(50px) rotateX(0deg)}\n    30% {transform: translateZ(75px) translateY(25px) rotateX(-45deg)}\n    60% {transform: translateZ(75px) translateY(25px) rotateX(-45deg) rotateY(0deg)}\n    80% {transform: translateZ(50px) rotateX(0deg) rotateY(-90deg) }\n    100% {transform: translateZ(0px) rotateX(0deg) rotateY(-90deg) }\n}\n\n\n\n\nDemo\n\n\n[![AdventCalendar.png](https://qiita-image-store.s3.amazonaws.com/0/58195/9166b10c-de36-547d-b791-f332ebaa276e.png)](http://jsfiddle.net/MKGaru/uux9twaL/)\n\n\n\n------------------------------------------------------------------------------\n\n\u3053\u3046\u3044\u3046\uff11\u500b\uff11\u500b\u306e\u5f15\u304d\u51fa\u3057\u306b\u3001\u304a\u83d3\u5b50\u5165\u3063\u3066\u308b\u306e\u3042\u308b\u3088\u306d\n\n[knockout.js Advent Calendar 2015](http://qiita.com/advent-calendar/2015/knockoutjs)\u3082\u3088\u308d\u3057\u304f\u306d\uff01\n\ncode\n----------------\n\n```html:html\n<span>\u6570\u5b57\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u306d</span>\n\n<h1>Advent Calendar</h1>\n<div class=\"cupboard\">\n    <div class=\"backpanel\"></div>\n    <table>\n        <tbody data-bind=\"template:{foreach: weeks,as:'week'}\">\n            <tr data-bind=\"foreach:week\">\n                <td>\n                    <div class=\"cell\">\n                        <div class=\"box {{done?'done':'active'}}\">\n                            <div class=\"front\"><span data-bind=\"on.click:done=true\">{{date.format('{d}')}}</span></div>\n                            <div class=\"back\"></div>\n                            <div class=\"left\"></div>\n                            <div class=\"right\" data-bind=\"style:{'background-position':($index()*20)+'% '+($parentContext.$index()*20)+'%'}\"></div>\n                            <div class=\"bottom\"><span>{{note}}</span></div>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n```\n\n```js:javascript\nfunction Day(date){\n    this.note = '';\n    this.done = false;\n    this.date = date;\n    ko.track(this);\n}\nfunction AdventCalendar(){\n    var calendar = this;\n    calendar.date = new Date();\n    calendar.days = Date\n        .range(\"12/1\",\"12/25\")\n        .every('date')\n        .map(function(date){\n        \treturn new Day(date);\n    \t});\n    calendar.weeks = Number\n        .range(0,24)\n        .every(5)\n        .map(function(day){\n        \treturn calendar.days.from(day).first(5)\n    \t});\n    calendar.days\n        .filter(function(day){\n        \treturn day.date.isBefore(calendar.date)\n    \t})\n    \t.forEach(function(day){\n        \tday.done = true;\n    \t});\n    \n    ko.track(calendar);\n}\nvar calendar = new AdventCalendar();\nko.punches.enableAll();\nko.applyBindings(calendar);\n```\n```less:less\n*{\n    user-select:none;\n}\nh1{\n    font-family: 'Fredericka the Great', cursive;\n    margin: 0;\n    margin-top:1em;\n    width: 300px;\n    text-align: center;\n    color: green;\n    text-shadow: 2px 2px gray;\n}\n.cupboard{\n    position:absolute;\n    left:10px;\n    width: 300px;\n    transform-style: preserve-3d;\n    perspective: 1500px;\n    perspective-origin: 50% 0;\n    transform: rotateX(0deg);\n    .backpanel{\n        position:absolute;\n        height:100%;\n        width:100%;\n        left:0;right:0;\n        top:0;bottom:0;\n        transform: translateZ(-51px);\n        background: #664444;\n    }\n    .cell{\n        \n    } \n    th,td{\n        border:solid 2px darkslategrey;\n    }\n}\n\n.box{\n    width: 50px;\n    height: 50px;\n    top: 0px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n    transform-style: preserve-3d;\n    transform: translateZ(100px);\n    transform-origin: 25px 0px -25px;\n    transition: transform ease-out 500ms;\n    \n    //animation: rotateY 5s linear infinite;\n    transform: rotateY(180deg)\n    &.active{\n        transform: rotateY(0deg)\n        //animation: pull-push 5s ease-in infinite;\n    }\n    &.done{\n        animation: pull-push 3s ease-in 1;\n        transform: rotateY(-90deg);\n    }\n    \n    .front,\n    .back,\n    .left,\n    .right,\n    .bottom{\n        width: 50px;\n        height: 50px;\n        position: absolute;\n        top: 0px;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        margin: auto;\n        text-align: center;\n        line-height: 50px;\n        opacity: 0.8;\n        border: solid 1px brown;\n        background: url(https://yabumi.cc/15142c3178cd66b98092f9a6.png);\n        &>span{\n            display:block;\n        }\n    }\n    .front{\n        transform: translateZ(0px);\n        &>span{\n            background:rgba(red,0.75);\n            cursor:pointer;\n            color: white;\n            font-size:30px;\n            font-family: 'Fredericka the Great', cursive;\n            font-weight:bold;\n        }\n    }\n    .back{\n        transform: translateZ(-50px);\n    }\n    .left{\n        transform: rotatey(-90deg) translateZ(25px) translateX(-25px);\n    }\n    .right{\n        transform: rotatey(90deg) translateZ(25px) translateX(25px);\n        background: url(https://yabumi.cc/1514f980720f6480291db5c1.png);\n        background-position: 0% 0%;\n        background-size: 300px;\n    }\n    .bottom{\n        width:50px;\n        height:50px;\n        background: url(https://yabumi.cc/15142c179f53b489f5fb929d.png);\n        transform: rotateX(90deg) translateZ(-12.5px) translateY(-25px);\n    }\n}\n\n\n@keyframes pull-push {\n    0% {transform: translateZ(0px) rotateX(0deg)}\n    10% {transform: translateZ(50px) rotateX(0deg)}\n    30% {transform: translateZ(75px) translateY(25px) rotateX(-45deg)}\n    60% {transform: translateZ(75px) translateY(25px) rotateX(-45deg) rotateY(0deg)}\n    80% {transform: translateZ(50px) rotateX(0deg) rotateY(-90deg) }\n    100% {transform: translateZ(0px) rotateX(0deg) rotateY(-90deg) }\n}\n\n```\n\n[Demo](http://jsfiddle.net/MKGaru/uux9twaL/)\n--------------------------------------------\n", "tags": ["knockoutjs", "JavaScript", "CSS", "CSS3"]}