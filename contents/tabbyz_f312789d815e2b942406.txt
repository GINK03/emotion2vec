{"context": " More than 1 year has passed since last update.Ad-hoc\u7528\u306b\u914d\u5e03\u3055\u308c\u305fipa\u30d5\u30a1\u30a4\u30eb\u3092\u81ea\u5206\u306e\u958b\u767a\u8005\u7f72\u540d\u3067\u518d\u7f72\u540d\u3057\u3066\u3001\nAppium\u3067\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u30e1\u30e2\u3002\n\uff08Appium\u306fDevelopment\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0 \u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30a2\u30d7\u30ea\u3057\u304b\u4f7f\u7528\u3067\u304d\u306a\u3044\u305f\u3081\uff09\n\n\u7528\u610f\u3059\u308b\u3082\u306e\n\n\nipa\u30d5\u30a1\u30a4\u30eb\nAd-hoc\u7528\u306b\u914d\u5e03\u3055\u308c\u305f\u3001\u7f72\u540d\u3092\u5dee\u3057\u66ff\u3048\u308b\u524d\u306eipa\u30d5\u30a1\u30a4\u30eb\n\nembedded.mobileprovision\n\nDevelopment\u7528\u306e iOS Provisioning Profiles\n\nApple Developer Member Center \u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308b\n\n\nentitlements.plist\n\n\u65b9\u6cd51. \u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u4f5c\u6210\u3059\u308b\uff08UTF-8\u30a8\u30f3\u30b3\u30fc\u30c9\uff09\n\nentitlements.plist\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n    <key>application-identifier</key>\n    <string>PREFIX.ID</string>\n    <key>com.apple.developer.team-identifier</key>\n    <string>TEAM-IDENTIFIER</string>\n    <key>get-task-allow</key>\n    <true/>\n    <key>keychain-access-groups</key>\n    <array>\n        <string>PREFIX.ID</string>\n    </array>\n</dict>\n</plist>\n\n\n\u203b\u4e0b\u8a18\u306e\u7b87\u6240\u306f\u81ea\u5206\u306e\u74b0\u5883\u306b\u3042\u308f\u305b\u3066\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\nTEAM-IDENTIFIER\n\u3000embedded.mobileprovision \u3092\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304d\u3001 com.apple.developer.team-identifier \u3067\u691c\u7d22\nPREFIX.ID\n\u3000Develper Member Center \u306e Identifiers > App IDs. \u3067 Prefix \u3068 ID \u3092\u8abf\u3079\u308b\n\u3000\n\n\u65b9\u6cd52. \u9069\u5f53\u306aipa\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u629c\u304d\u51fa\u3059\n\nXcode\u3067\u9069\u5f53\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304f\niOS\u5b9f\u6a5f\u7aef\u672b\u306b\u5bfe\u3057\u3066 Run \u3067\u30c7\u30d0\u30c3\u30af\u30d3\u30eb\u30c9\u3092\u5b9f\u884c\n\u4e0b\u8a18\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bapp\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n~/Library/Developer/Xcode/DerivedData/<\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217>/Build/Products/Debug-iphoneos\n\n\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u51fa\u529b\u7d50\u679c\u3092entitlements.plist\u3068\u3044\u3046\u540d\u524d\u3067\u4fdd\u5b58\u3059\u308b\uff08UTF-8\u30a8\u30f3\u30b3\u30fc\u30c9\uff09\n\ncd ~/Library/Developer/Xcode/DerivedData/<\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217>/Build/Products/Debug-iphoneos\ncodesign -d --entitlements - <\u30a2\u30d7\u30ea\u540d.app>\n\n\u3000\n\n\u7f72\u540d\u306e\u5dee\u3057\u66ff\u3048\u624b\u9806\n\n\n\u65b9\u6cd51. \u624b\u52d5\u3067\u5dee\u3057\u66ff\u3048\u308b\n\n\n1. ipa\u30d5\u30a1\u30a4\u30eb\u3092ZIP\u89e3\u51cd\u3059\u308b\nunzip -q <ipa\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9>\n\n\n2. embedded.mobileprovision \u3092\u5dee\u3057\u66ff\u3048\u308b\n\u4e0a\u8a18\u3067\u7528\u610f\u3057\u305f embedded.mobileprovision \u3067\u3001app\u5185\u306e\u540c\u540d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4e0a\u66f8\u304d\u3059\u308b\ncp embedded.mobileprovision Payload/MyApplication.app/embedded.mobileprovision\n\n\n3. app\u30d5\u30a1\u30a4\u30eb\u3092\u7f72\u540d\u3057\u76f4\u3059\nPC\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u8a3c\u660e\u66f8\u3092\u8abf\u3079\u308b\nsecurity find-identity -p codesigning -v\n\n\u7f72\u540d\u3092\u5b9f\u884c\ncodesign --force --sign 'iOS Development: your name (XXXXXXXXXX)' --resource-rules 'MyApplication.app/ResourceRules.plist' --entitlements entitlements.plist 'MyApplication.app'\n\n\u3000\n\n\u65b9\u6cd52. \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f7f\u7528\u3059\u308b\n\n\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u3059\u3079\u3066\u540c\u3058\u30d5\u30a9\u30eb\u30c0\u306b\u7f6e\u3044\u3066\u3001\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\nsh resign.sh MyApplication.ipa\n\n\u7f72\u540d\u5dee\u3057\u66ff\u3048\u524d\u306eipa\u30d5\u30a1\u30a4\u30eb\nembedded.mobileprovision\nentitlements.plist\nresign.sh\n\n\nresign.sh\n#!/bin/bash\n\n# ReSign\u3059\u308bipa\u30d5\u30a1\u30a4\u30eb\nIPA_FILE=$1\n\n# Provisioning Profile\nPROV_FILE=\"embedded.mobileprovision\"\n\n# Entitlements\nENTITLEMENTS=\"entitlements.plist\"\n\n# iPhone Developer\u8a3c\u660e\u66f8\n# \u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u5834\u5408\n# SIGN=\"iPhone Developer: Your Name (1A2B3C4D5E)\"\n# \u81ea\u52d5\u3067\u53d6\u5f97\u3059\u308b\u5834\u5408\nSIGN=`security find-identity -p codesigning -v | grep \"Developer\"`\nSIGN=`echo \"${SIGN}\" | awk 'match($0, /\\\".*\\\"/) {print substr($0, RSTART+1, RLENGTH-2)}'`\necho $SIGN\n\n\n# ipa\u30d5\u30a1\u30a4\u30eb\u3092zip\u89e3\u51cd\nmkdir -p tmp\ncp ${IPA_FILE} tmp\ncd tmp\nunzip -q ${IPA_FILE}\nAPP_FILE=Payload/`ls Payload`\n\n# \u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u3057\u3044\u3082\u306e\u306b\u7f6e\u304d\u63db\u3048\ncp ../${PROV_FILE} ${APP_FILE}/embedded.mobileprovision\n\n# .app\u3092\u7f72\u540d\u3057\u76f4\u3059\uff08entitlements\u3082\u66f8\u304d\u63db\u3048\u308b\uff09\ncodesign --force --sign \"${SIGN}\"\\\n  --resource-rules ${APP_FILE}'/ResourceRules.plist'\\\n  --entitlements ../${ENTITLEMENTS} ${APP_FILE}\n\n# \u7f72\u540d\u304c\u4e0a\u624b\u304f\u3044\u3063\u305f\u304b\u78ba\u8a8d\ncodesign -d --entitlements - ${APP_FILE}\n\n# zip\u5727\u7e2e\u3067\u65b0\u3057\u3044ipa\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\nDEST_FILE=\"${IPA_FILE%.*}_resign.ipa\"\nzip -qr ${DEST_FILE} Payload\ncp -f ${DEST_FILE} ../\ncd ../\nrm -rf tmp\n\n\n\u3000\n\n\u65b9\u6cd53. Re-sign\u30a2\u30d7\u30ea\u3092\u4f7f\u7528\u3059\u308b\n\nhttps://github.com/maciekish/iReSign\n\u3000\n\n\u53c2\u8003\nhttp://dev.mlsdigital.net/posts/how-to-resign-an-ios-app-from-external-developers/\nhttp://qiita.com/fujisan3/items/d037e3c40a0acc46f618\nhttp://qiita.com/seyself/items/8f62677547ef597cee67\nAd-hoc\u7528\u306b\u914d\u5e03\u3055\u308c\u305fipa\u30d5\u30a1\u30a4\u30eb\u3092\u81ea\u5206\u306e\u958b\u767a\u8005\u7f72\u540d\u3067\u518d\u7f72\u540d\u3057\u3066\u3001\nAppium\u3067\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u30e1\u30e2\u3002\n\uff08Appium\u306f`Development`\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0 \u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30a2\u30d7\u30ea\u3057\u304b\u4f7f\u7528\u3067\u304d\u306a\u3044\u305f\u3081\uff09\n\n# **\u7528\u610f\u3059\u308b\u3082\u306e**\n\n## ipa\u30d5\u30a1\u30a4\u30eb\nAd-hoc\u7528\u306b\u914d\u5e03\u3055\u308c\u305f\u3001\u7f72\u540d\u3092\u5dee\u3057\u66ff\u3048\u308b\u524d\u306eipa\u30d5\u30a1\u30a4\u30eb\n\n## embedded.mobileprovision\n * Development\u7528\u306e iOS Provisioning Profiles  \n * Apple Developer Member Center \u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308b\n\n## entitlements.plist\n### \u65b9\u6cd51. \u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u4f5c\u6210\u3059\u308b\uff08UTF-8\u30a8\u30f3\u30b3\u30fc\u30c9\uff09\n\n```xml:entitlements.plist\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n    <key>application-identifier</key>\n    <string>PREFIX.ID</string>\n    <key>com.apple.developer.team-identifier</key>\n    <string>TEAM-IDENTIFIER</string>\n    <key>get-task-allow</key>\n    <true/>\n    <key>keychain-access-groups</key>\n    <array>\n        <string>PREFIX.ID</string>\n    </array>\n</dict>\n</plist>\n```\n\n\u203b\u4e0b\u8a18\u306e\u7b87\u6240\u306f\u81ea\u5206\u306e\u74b0\u5883\u306b\u3042\u308f\u305b\u3066\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\n**TEAM-IDENTIFIER**\n\u3000`embedded.mobileprovision` \u3092\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304d\u3001 **com.apple.developer.team-identifier** \u3067\u691c\u7d22\n**PREFIX.ID**\n\u3000Develper Member Center \u306e Identifiers > App IDs. \u3067 Prefix \u3068 ID \u3092\u8abf\u3079\u308b\n\n\u3000\n\n### \u65b9\u6cd52. \u9069\u5f53\u306aipa\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u629c\u304d\u51fa\u3059\n\n* Xcode\u3067\u9069\u5f53\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304f\n* iOS\u5b9f\u6a5f\u7aef\u672b\u306b\u5bfe\u3057\u3066 `Run` \u3067\u30c7\u30d0\u30c3\u30af\u30d3\u30eb\u30c9\u3092\u5b9f\u884c\n* \u4e0b\u8a18\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bapp\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n`~/Library/Developer/Xcode/DerivedData/<\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217>/Build/Products/Debug-iphoneos`\n\n* \u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u51fa\u529b\u7d50\u679c\u3092`entitlements.plist`\u3068\u3044\u3046\u540d\u524d\u3067\u4fdd\u5b58\u3059\u308b\uff08UTF-8\u30a8\u30f3\u30b3\u30fc\u30c9\uff09\n\n```\ncd ~/Library/Developer/Xcode/DerivedData/<\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217>/Build/Products/Debug-iphoneos\ncodesign -d --entitlements - <\u30a2\u30d7\u30ea\u540d.app>\n```\n\u3000\n\n# **\u7f72\u540d\u306e\u5dee\u3057\u66ff\u3048\u624b\u9806**\n\n## **\u65b9\u6cd51. \u624b\u52d5\u3067\u5dee\u3057\u66ff\u3048\u308b**\n\n### 1. ipa\u30d5\u30a1\u30a4\u30eb\u3092ZIP\u89e3\u51cd\u3059\u308b\n\n```\nunzip -q <ipa\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9>\n```\n\n### 2. embedded.mobileprovision \u3092\u5dee\u3057\u66ff\u3048\u308b\n\n\u4e0a\u8a18\u3067\u7528\u610f\u3057\u305f `embedded.mobileprovision` \u3067\u3001app\u5185\u306e\u540c\u540d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4e0a\u66f8\u304d\u3059\u308b\n\n```\ncp embedded.mobileprovision Payload/MyApplication.app/embedded.mobileprovision\n```\n\n### 3. app\u30d5\u30a1\u30a4\u30eb\u3092\u7f72\u540d\u3057\u76f4\u3059\n\nPC\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u8a3c\u660e\u66f8\u3092\u8abf\u3079\u308b\n\n```\nsecurity find-identity -p codesigning -v\n```\n\n\u7f72\u540d\u3092\u5b9f\u884c\n\n```\ncodesign --force --sign 'iOS Development: your name (XXXXXXXXXX)' --resource-rules 'MyApplication.app/ResourceRules.plist' --entitlements entitlements.plist 'MyApplication.app'\n```\n\n\u3000\n\n## **\u65b9\u6cd52. \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f7f\u7528\u3059\u308b**\n\n\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u3059\u3079\u3066\u540c\u3058\u30d5\u30a9\u30eb\u30c0\u306b\u7f6e\u3044\u3066\u3001\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\n`sh resign.sh MyApplication.ipa`\n\n* \u7f72\u540d\u5dee\u3057\u66ff\u3048\u524d\u306eipa\u30d5\u30a1\u30a4\u30eb\n* embedded.mobileprovision\n* entitlements.plist\n* resign.sh\n\n```bash:resign.sh\n#!/bin/bash\n\n# ReSign\u3059\u308bipa\u30d5\u30a1\u30a4\u30eb\nIPA_FILE=$1\n\n# Provisioning Profile\nPROV_FILE=\"embedded.mobileprovision\"\n\n# Entitlements\nENTITLEMENTS=\"entitlements.plist\"\n\n# iPhone Developer\u8a3c\u660e\u66f8\n# \u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u5834\u5408\n# SIGN=\"iPhone Developer: Your Name (1A2B3C4D5E)\"\n# \u81ea\u52d5\u3067\u53d6\u5f97\u3059\u308b\u5834\u5408\nSIGN=`security find-identity -p codesigning -v | grep \"Developer\"`\nSIGN=`echo \"${SIGN}\" | awk 'match($0, /\\\".*\\\"/) {print substr($0, RSTART+1, RLENGTH-2)}'`\necho $SIGN\n\n\n# ipa\u30d5\u30a1\u30a4\u30eb\u3092zip\u89e3\u51cd\nmkdir -p tmp\ncp ${IPA_FILE} tmp\ncd tmp\nunzip -q ${IPA_FILE}\nAPP_FILE=Payload/`ls Payload`\n\n# \u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u3057\u3044\u3082\u306e\u306b\u7f6e\u304d\u63db\u3048\ncp ../${PROV_FILE} ${APP_FILE}/embedded.mobileprovision\n\n# .app\u3092\u7f72\u540d\u3057\u76f4\u3059\uff08entitlements\u3082\u66f8\u304d\u63db\u3048\u308b\uff09\ncodesign --force --sign \"${SIGN}\"\\\n  --resource-rules ${APP_FILE}'/ResourceRules.plist'\\\n  --entitlements ../${ENTITLEMENTS} ${APP_FILE}\n\n# \u7f72\u540d\u304c\u4e0a\u624b\u304f\u3044\u3063\u305f\u304b\u78ba\u8a8d\ncodesign -d --entitlements - ${APP_FILE}\n\n# zip\u5727\u7e2e\u3067\u65b0\u3057\u3044ipa\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\nDEST_FILE=\"${IPA_FILE%.*}_resign.ipa\"\nzip -qr ${DEST_FILE} Payload\ncp -f ${DEST_FILE} ../\ncd ../\nrm -rf tmp\n```\n\n\u3000\n\n## **\u65b9\u6cd53. Re-sign\u30a2\u30d7\u30ea\u3092\u4f7f\u7528\u3059\u308b**\n\nhttps://github.com/maciekish/iReSign\n\n\u3000\n# \u53c2\u8003\nhttp://dev.mlsdigital.net/posts/how-to-resign-an-ios-app-from-external-developers/\nhttp://qiita.com/fujisan3/items/d037e3c40a0acc46f618\nhttp://qiita.com/seyself/items/8f62677547ef597cee67\n", "tags": ["appium", "iOS"]}