{"tags": ["gradle", "Subversion"], "context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nGradle\u306e\u30bf\u30b9\u30af\u52d5\u7684\u5b9a\u7fa9\u3092\u8a66\u3057\u305f\u306e\u3067\u30e1\u30e2\u3002\n\u4eca\u56de\u306fSubversion\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u5bfe\u5fdc\u3059\u308b\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u307f\u308b\u3002\n\n\u3084\u308a\u65b9\n\n\u30bf\u30b9\u30af\u306e\u52d5\u7684\u751f\u6210\nGradle\u65e5\u672c\u8a9e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u8003\u306b\u6b21\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u3063\u3066\u307f\u305f\u306e\u3067\u629c\u7c8b\u3002\n\u6307\u5b9a\u3057\u305f\u540d\u524d\u306e\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u304f\u308c\u308b\u3002\n\nbuild.gradle\n// \u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\nvoid createTask( List taskNames ) {\n    for( String name : taskNames ) {\n        task \"${name}\" << {\n            println \"task[${name}]\"\n        }\n    }\n}\n\n\n\nSVN\u306e\u30d5\u30a9\u30eb\u30c0\u540d\u53d6\u5f97\nSVN\u306e\u30d5\u30a9\u30eb\u30c0\u540d\u3092\u53d6\u3063\u3066\u304f\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u6210\u3002\nSVN\u64cd\u4f5c\u306b\u306fSVNKit\u3092\u4f7f\u7528\u3002\n\u4ee5\u4e0b\u629c\u7c8b\u3002\n\nbuild.gradle\n// \u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306b\u5b58\u5728\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u540d\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\nList getSVNList( String repoUrl,\n                 String userName,\n                 String password ) {\n    def manager = SVNClientManager.newInstance(\n                        SVNWCUtil.createDefaultOptions(true),\n                        userName,\n                        password)\n    def client = manager.getLogClient();\n\n    def dirList = new ArrayList<String>();\n    def dirHandler = new ISVNDirEntryHandler() {\n        public void handleDirEntry(SVNDirEntry dirEntry) {\n            if(!dirEntry.getName().equals(\"\")) {\n                dirList.add(dirEntry.getName());\n            }\n        }\n    };\n\n    client.doList(\n        SVNURL.parseURIDecoded(repoUrl),\n        SVNRevision.HEAD,\n        SVNRevision.HEAD,\n        false,\n        dirHandler );\n\n    return dirList;\n}\n\n\n\n\u30bd\u30fc\u30b9\n\u30bd\u30fc\u30b9\u306f\u6b21\u306e\u901a\u308a\u3002\n\nbuild.gradle\nimport org.tmatesoft.svn.core.*\nimport org.tmatesoft.svn.core.wc.*\n\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'org.tmatesoft.svnkit:svnkit:1.7.8'\n    }\n\n}\n\n// \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\ndef svnList = [\"url1\",\"url2\"]\ndef userName = \"user\"\ndef password = \"password\"\n\nsetup(svnList, userName, password)\n\n// \u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306b\u5b58\u5728\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u540d\u306b\u5bfe\u5fdc\u3059\u308b\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\nprivate void setup( List<String> baseUrlList,\n                    String userName,\n                    String password ) {\n    for(String baseUrl : baseUrlList) {\n        createTask(getSVNList(baseUrl, userName, password))\n    }\n\n}\n\n// \u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306b\u5b58\u5728\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u540d\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\nList getSVNList( String repoUrl,\n                         String userName,\n                         String password ) {\n    def manager = SVNClientManager.newInstance(\n                        SVNWCUtil.createDefaultOptions(true),\n                        userName,\n                        password)\n    def client = manager.getLogClient()\n\n    def dirList = new ArrayList<String>()\n    def dirHandler = new ISVNDirEntryHandler() {\n        public void handleDirEntry(SVNDirEntry dirEntry) {\n            if(!dirEntry.getName().equals(\"\")) {\n                dirList.add(dirEntry.getName())\n            }\n        }\n    }\n\n    client.doList(\n        SVNURL.parseURIDecoded(repoUrl),\n        SVNRevision.HEAD,\n        SVNRevision.HEAD,\n        false,\n        dirHandler )\n\n    return dirList\n}\n\n// \u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\nvoid createTask( List taskNames ) {\n    for( String name : taskNames ) {\n        task \"${name}\" << {\n            println \"task[${name}]\"\n        }\n    }\n}\n\n\n\n\u307e\u3068\u3081\nSVN\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u5bfe\u5fdc\u3059\u308b\u30bf\u30b9\u30af\u3092\u52d5\u7684\u306b\u5b9a\u7fa9\u3067\u304d\u305f\u3002\n\u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u30d5\u30a9\u30eb\u30c0\u306eZIP\u5727\u7e2e\u306f\u3088\u304f\u3084\u308b\u4f5c\u696d\u306a\u306e\u3067\u3001\u30bf\u30b9\u30af\u5185\u3067\u5727\u7e2e\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3089\u697d\u3067\u304d\u305d\u3046\u3002\n\u3042\u3068\u3001Java\u306f\u77e5\u3063\u3066\u308b\u3051\u3069Groovy\u304c\u5168\u7136\u5206\u304b\u3093\u306a\u3044\u3002\n\u591a\u5206\u3082\u3063\u3068\u7c21\u6f54\u306b\u66f8\u3051\u308b\u3093\u3060\u308d\u3046\u306a\u3041\u3002\n# \u6982\u8981\nGradle\u306e\u30bf\u30b9\u30af\u52d5\u7684\u5b9a\u7fa9\u3092\u8a66\u3057\u305f\u306e\u3067\u30e1\u30e2\u3002\n\u4eca\u56de\u306fSubversion\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u5bfe\u5fdc\u3059\u308b\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u307f\u308b\u3002\n\n# \u3084\u308a\u65b9\n## \u30bf\u30b9\u30af\u306e\u52d5\u7684\u751f\u6210\nGradle\u65e5\u672c\u8a9e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u8003\u306b\u6b21\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u3063\u3066\u307f\u305f\u306e\u3067\u629c\u7c8b\u3002\n\u6307\u5b9a\u3057\u305f\u540d\u524d\u306e\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u304f\u308c\u308b\u3002\n\n```groovy:build.gradle\n// \u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\nvoid createTask( List taskNames ) {\n    for( String name : taskNames ) {\n        task \"${name}\" << {\n            println \"task[${name}]\"\n        }\n    }\n}\n```\n\n## SVN\u306e\u30d5\u30a9\u30eb\u30c0\u540d\u53d6\u5f97\nSVN\u306e\u30d5\u30a9\u30eb\u30c0\u540d\u3092\u53d6\u3063\u3066\u304f\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u6210\u3002\nSVN\u64cd\u4f5c\u306b\u306fSVNKit\u3092\u4f7f\u7528\u3002\n\u4ee5\u4e0b\u629c\u7c8b\u3002\n\n```groovy:build.gradle\n// \u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306b\u5b58\u5728\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u540d\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\nList getSVNList( String repoUrl,\n                 String userName,\n                 String password ) {\n    def manager = SVNClientManager.newInstance(\n                        SVNWCUtil.createDefaultOptions(true),\n                        userName,\n                        password)\n    def client = manager.getLogClient();\n\n    def dirList = new ArrayList<String>();\n    def dirHandler = new ISVNDirEntryHandler() {\n        public void handleDirEntry(SVNDirEntry dirEntry) {\n            if(!dirEntry.getName().equals(\"\")) {\n                dirList.add(dirEntry.getName());\n            }\n        }\n    };\n\n    client.doList(\n        SVNURL.parseURIDecoded(repoUrl),\n        SVNRevision.HEAD,\n        SVNRevision.HEAD,\n        false,\n        dirHandler );\n\n    return dirList;\n}\n```\n\n## \u30bd\u30fc\u30b9\n\u30bd\u30fc\u30b9\u306f\u6b21\u306e\u901a\u308a\u3002\n\n```groovy:build.gradle\nimport org.tmatesoft.svn.core.*\nimport org.tmatesoft.svn.core.wc.*\n\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'org.tmatesoft.svnkit:svnkit:1.7.8'\n    }\n\n}\n\n// \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\ndef svnList = [\"url1\",\"url2\"]\ndef userName = \"user\"\ndef password = \"password\"\n\nsetup(svnList, userName, password)\n\n// \u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306b\u5b58\u5728\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u540d\u306b\u5bfe\u5fdc\u3059\u308b\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\nprivate void setup( List<String> baseUrlList,\n                    String userName,\n                    String password ) {\n    for(String baseUrl : baseUrlList) {\n        createTask(getSVNList(baseUrl, userName, password))\n    }\n\n}\n\n// \u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306b\u5b58\u5728\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u540d\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\nList getSVNList( String repoUrl,\n                         String userName,\n                         String password ) {\n    def manager = SVNClientManager.newInstance(\n                        SVNWCUtil.createDefaultOptions(true),\n                        userName,\n                        password)\n    def client = manager.getLogClient()\n\n    def dirList = new ArrayList<String>()\n    def dirHandler = new ISVNDirEntryHandler() {\n        public void handleDirEntry(SVNDirEntry dirEntry) {\n            if(!dirEntry.getName().equals(\"\")) {\n                dirList.add(dirEntry.getName())\n            }\n        }\n    }\n\n    client.doList(\n        SVNURL.parseURIDecoded(repoUrl),\n        SVNRevision.HEAD,\n        SVNRevision.HEAD,\n        false,\n        dirHandler )\n\n    return dirList\n}\n\n// \u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\nvoid createTask( List taskNames ) {\n    for( String name : taskNames ) {\n        task \"${name}\" << {\n            println \"task[${name}]\"\n        }\n    }\n}\n```\n\n# \u307e\u3068\u3081\nSVN\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u5bfe\u5fdc\u3059\u308b\u30bf\u30b9\u30af\u3092\u52d5\u7684\u306b\u5b9a\u7fa9\u3067\u304d\u305f\u3002\n\u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u30d5\u30a9\u30eb\u30c0\u306eZIP\u5727\u7e2e\u306f\u3088\u304f\u3084\u308b\u4f5c\u696d\u306a\u306e\u3067\u3001\u30bf\u30b9\u30af\u5185\u3067\u5727\u7e2e\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3089\u697d\u3067\u304d\u305d\u3046\u3002\n\n\u3042\u3068\u3001Java\u306f\u77e5\u3063\u3066\u308b\u3051\u3069Groovy\u304c\u5168\u7136\u5206\u304b\u3093\u306a\u3044\u3002\n\u591a\u5206\u3082\u3063\u3068\u7c21\u6f54\u306b\u66f8\u3051\u308b\u3093\u3060\u308d\u3046\u306a\u3041\u3002"}