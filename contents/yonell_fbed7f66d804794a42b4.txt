{"tags": ["PHP", "Heroku", "slim"], "context": " More than 1 year has passed since last update.\n\n\u6700\u521d\u306b\n[\u5fd9\u3057\u3044\u4eba\u5411\u3051] PHP\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30afSlim\u3092\u4f7f\u3063\u305f\u30a2\u30d7\u30ea\u3092Heroku\u3067\u516c\u958b\u3057\u3066\u307f\u308b\n\u4ee5\u524d\u6295\u7a3f\u3057\u305f\u8a18\u4e8b\u2191\u306e\u3088\u3046\u306bheroku\u3067slim\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3001\n\u3055\u3089\u306bmysql\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3001DB\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30b3\u30fc\u30c9\u66f8\u3044\u305f\u3089\u3001\n\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u30cf\u30de\u3063\u305f\u306e\u3067\u3000\u4ed6\u306e\u4eba\u5411\u3051\u306b\u89e3\u6c7a\u7b56\u3092\u30b7\u30a7\u30a2\u3057\u307e\u3059\u3002\n\n\u72b6\u6cc1\nlluminate/Eloquent\u4f7f\u3063\u3066\u3001DB\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u2193\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\nSlim Application Error\nThe application could not run because of the following error:\n\nDetails\n\nType: ErrorException\nCode: 2\nMessage: call_user_func() expects parameter 1 to be a valid callback, function 'mb_strtolower' not found or invalid function name\nFile: /app/vendor/illuminate/support/Illuminate/Support/Pluralizer.php\nLine: 234\nTrace\n\n#0 [internal function]: Slim\\Slim::handleErrors(2, 'call_user_func(...', '/app/vendor/ill...', 234, Array)\n# \u4ee5\u4e0b\u7565\n\n\n\u3050\u3050\u3063\u3066\u307f\u305f\nphp\u3067\u306f\u3001\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u3092\u6b63\u3057\u304f\u6271\u3046\u305f\u3081\u306b\u3001php.ini\u3092\u3088\u3057\u306a\u306b\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u306f\u308f\u304b\u3063\u3066\u3044\u305f\u306e\u3067\u3001\n\u305d\u306e\u3042\u305f\u308a\u304b\u306a\u3001\u3001\u3001\u3068\u30a2\u30bf\u30ea\u3092\u3064\u3051\u3066\u3050\u3050\u3063\u3066\u308b\u3068\u3088\u3055\u3052\u306a\u8a18\u4e8b\u3092\u767a\u898b\u3002\nHeroku\u3067PHP\u3092\u4f7f\u3046\u3068\u304d\u306b\u6c17\u3092\u4ed8\u3051\u308b\u3068\u3053\u308d\n\u3092\u53c2\u8003\u306b\u3001.user.ini\u306bmbstring\u5468\u308a\u306e\u8a2d\u5b9a\u3092\u8ffd\u8a18\u3057\u305f\u304c\u3001\u89e3\u6c7a\u305b\u305a\u3002\u3002\u3002\n\u3082\u3046\u5c11\u3057\u3050\u3050\u308b\u3068\u3001\u66f4\u306b\u767a\u898b\u3002\n\nPHP Multibyte String on Heroku\nHow to use mbstring on Heroku (PHP)\n\n\u306a\u308b\u307b\u3069(^O^)\nphp.ini\u306e\u8a2d\u5b9a\u3067\u306f\u306a\u304f\u3066\u3001\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u307e\u308f\u308a\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u304b\u3002\n\n\u4fee\u6b63\u30b3\u30df\u30c3\u30c8\n\u4ee5\u4e0b\u306e\u4fee\u6b63\u3092\u3044\u308c\u3066\u3001heroku\u306bpush\u3067\u5e78\u305b\u306b\u306a\u308c\u307e\u3059\u3002\n--- a/composer.json\n+++ b/composer.json\n@@ -5,7 +5,8 @@\n                \"slim/extras\": \"2.0.*\",\n                \"twig/twig\": \"1.*\",\n                \"Respect/Validation\" : \"0.5.*\",\n-               \"illuminate/database\" : \"4.0.*\"\n+               \"illuminate/database\" : \"4.0.*\",\n+               \"ext-mbstring\": \"*\"\n        },\n        \"autoload\": {\n                \"psr-0\": {\"\":\"lib/\"}\n\n\n\u632f\u308a\u8fd4\u308b\u3068\u3001\u3001\u3001\nmb_strtolower\u3068\u3044\u3046\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u306b\u95a2\u4fc2\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u306a\u3044\u3001\u3068\u3044\u3046\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304b\u3089\n\u300c\u305d\u3046\u3044\u3048\u3070php\u3067\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u5217\u3092\u4f7f\u3046\u6642\u306f\u3046\u3093\u305f\u3089\u3001\u3001\u3001\u300d\n\u3068\u304b\u30a2\u30bf\u30ea\u304c\u4ed8\u3051\u3070\u4e00\u77ac\u3067\u89e3\u6c7a\u3059\u308b\u306e\u3067\u3059\u304c\u3001\n\u50d5\u306f\u305d\u3053\u306b\u9054\u3059\u308b\u307e\u30672\u6642\u9593\u4f4d\u306f\u3001\u3042\u3042\u3067\u3082\u306a\u3044\u3001\u3053\u3046\u3067\u3082\u306a\u3044\u3068\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\nheroku\u3067\u306f\u307e\u3060\u8272\u3005\u30cf\u30de\u308a\u305d\u3046orz\n\n## \u6700\u521d\u306b\n[[\u5fd9\u3057\u3044\u4eba\u5411\u3051] PHP\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30afSlim\u3092\u4f7f\u3063\u305f\u30a2\u30d7\u30ea\u3092Heroku\u3067\u516c\u958b\u3057\u3066\u307f\u308b](http://qiita.com/yonell/items/d9b6933cb306a684d714)\n\n\u4ee5\u524d\u6295\u7a3f\u3057\u305f\u8a18\u4e8b\u2191\u306e\u3088\u3046\u306bheroku\u3067slim\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3001\n\u3055\u3089\u306bmysql\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3001DB\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30b3\u30fc\u30c9\u66f8\u3044\u305f\u3089\u3001\n\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u30cf\u30de\u3063\u305f\u306e\u3067\u3000\u4ed6\u306e\u4eba\u5411\u3051\u306b\u89e3\u6c7a\u7b56\u3092\u30b7\u30a7\u30a2\u3057\u307e\u3059\u3002\n\n\n## \u72b6\u6cc1\n[lluminate/Eloquent](https://github.com/illuminate/database)\u4f7f\u3063\u3066\u3001DB\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u2193\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n\n````\nSlim Application Error\nThe application could not run because of the following error:\n\nDetails\n\nType: ErrorException\nCode: 2\nMessage: call_user_func() expects parameter 1 to be a valid callback, function 'mb_strtolower' not found or invalid function name\nFile: /app/vendor/illuminate/support/Illuminate/Support/Pluralizer.php\nLine: 234\nTrace\n\n#0 [internal function]: Slim\\Slim::handleErrors(2, 'call_user_func(...', '/app/vendor/ill...', 234, Array)\n# \u4ee5\u4e0b\u7565\n````\n\n## \u3050\u3050\u3063\u3066\u307f\u305f\n\nphp\u3067\u306f\u3001\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u3092\u6b63\u3057\u304f\u6271\u3046\u305f\u3081\u306b\u3001php.ini\u3092\u3088\u3057\u306a\u306b\u8a2d\u5b9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u306f\u308f\u304b\u3063\u3066\u3044\u305f\u306e\u3067\u3001\n\u305d\u306e\u3042\u305f\u308a\u304b\u306a\u3001\u3001\u3001\u3068\u30a2\u30bf\u30ea\u3092\u3064\u3051\u3066\u3050\u3050\u3063\u3066\u308b\u3068\u3088\u3055\u3052\u306a\u8a18\u4e8b\u3092\u767a\u898b\u3002\n\n[Heroku\u3067PHP\u3092\u4f7f\u3046\u3068\u304d\u306b\u6c17\u3092\u4ed8\u3051\u308b\u3068\u3053\u308d](http://qiita.com/hiro_y/items/bc631a27c9701f81a4f9)\n\n\u3092\u53c2\u8003\u306b\u3001````.user.ini````\u306bmbstring\u5468\u308a\u306e\u8a2d\u5b9a\u3092\u8ffd\u8a18\u3057\u305f\u304c\u3001\u89e3\u6c7a\u305b\u305a\u3002\u3002\u3002\n\n\n\u3082\u3046\u5c11\u3057\u3050\u3050\u308b\u3068\u3001\u66f4\u306b\u767a\u898b\u3002\n\n* [PHP Multibyte String on Heroku](http://stackoverflow.com/questions/8656247/php-multibyte-string-on-heroku)\n* [How to use mbstring on Heroku (PHP)](https://coderwall.com/p/deyqua/how-to-use-mbstring-on-heroku-php)\n\n\u306a\u308b\u307b\u3069(^O^)\nphp.ini\u306e\u8a2d\u5b9a\u3067\u306f\u306a\u304f\u3066\u3001\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u307e\u308f\u308a\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u304b\u3002\n\n## \u4fee\u6b63\u30b3\u30df\u30c3\u30c8\n\n\u4ee5\u4e0b\u306e\u4fee\u6b63\u3092\u3044\u308c\u3066\u3001heroku\u306bpush\u3067\u5e78\u305b\u306b\u306a\u308c\u307e\u3059\u3002\n\n```` Diff\n--- a/composer.json\n+++ b/composer.json\n@@ -5,7 +5,8 @@\n                \"slim/extras\": \"2.0.*\",\n                \"twig/twig\": \"1.*\",\n                \"Respect/Validation\" : \"0.5.*\",\n-               \"illuminate/database\" : \"4.0.*\"\n+               \"illuminate/database\" : \"4.0.*\",\n+               \"ext-mbstring\": \"*\"\n        },\n        \"autoload\": {\n                \"psr-0\": {\"\":\"lib/\"}\n````\n\n## \u632f\u308a\u8fd4\u308b\u3068\u3001\u3001\u3001\n\n`mb_strtolower`\u3068\u3044\u3046\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u306b\u95a2\u4fc2\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u306a\u3044\u3001\u3068\u3044\u3046\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304b\u3089\n\u300c\u305d\u3046\u3044\u3048\u3070php\u3067\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u5217\u3092\u4f7f\u3046\u6642\u306f\u3046\u3093\u305f\u3089\u3001\u3001\u3001\u300d\n\u3068\u304b\u30a2\u30bf\u30ea\u304c\u4ed8\u3051\u3070\u4e00\u77ac\u3067\u89e3\u6c7a\u3059\u308b\u306e\u3067\u3059\u304c\u3001\n\u50d5\u306f\u305d\u3053\u306b\u9054\u3059\u308b\u307e\u30672\u6642\u9593\u4f4d\u306f\u3001\u3042\u3042\u3067\u3082\u306a\u3044\u3001\u3053\u3046\u3067\u3082\u306a\u3044\u3068\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\n\nheroku\u3067\u306f\u307e\u3060\u8272\u3005\u30cf\u30de\u308a\u305d\u3046orz\n"}