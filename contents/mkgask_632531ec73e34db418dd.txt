{"context": " More than 1 year has passed since last update.laravel-5-boilerplate\u3092\u89e6\u3063\u3066\u307f\u305f\u3089\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u51e6\u7406\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u89e3\u6790\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nPHP - laravel-5-boilerplate\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - Qiita\n\nlaravel-5-boilerplate\u306e\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u51e6\u7406\nlaravel-5-boilerplate\u306eindex\u3067\u3001\u300cLanguage\u300d\u306e\u9805\u76ee\u9078\u629e\u3067\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u8a72\u5f53\u7b87\u6240\u306eHTML\u30bd\u30fc\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001\n<li class=\"dropdown\">\n    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-expanded=\"false\">Language <span class=\"caret\"></span></a>\n    <ul class=\"dropdown-menu\" role=\"menu\">\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/en\">English</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/es\">Spanish</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/fr-FR\">French</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/it\">Italian</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/pt-BR\">Portuguese (Brazil)</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/ru\">Russian</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/sv\">Swedish</a></li>\n    </ul>\n</li>\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nroutes.php\u306f\u3053\u3046\u3002\n\napp\\Http\\routes.php\n<?php\n\n/**\n * Switch between the included languages\n */\nrequire(__DIR__ . \"/Routes/Global/Lang.php\");\n\n\uff08\u5f8c\u7565\uff09\n\n\nLang.php\u306f\u3053\u3046\u3002\n\napp/Http/Routes/Global/Lang.php\n<?php\n\n/**\n * Sets the specified locale to the session\n */\nget('lang/{lang}', function($lang)\n{\n    session()->put('locale', $lang);\n    return redirect()->back();\n});\n\n\nURL\u30a2\u30af\u30bb\u30b9\u3067\u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u3078\u306e\u4fdd\u5b58\u3057\u304b\u884c\u3063\u3066\u304a\u3089\u305a\u3001\u5143\u306eURL\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u8868\u793a\u6642\u306b\u3053\u3053\u3067\u4fdd\u5b58\u3057\u305f\u30bb\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u898b\u3066\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u3092\u884c\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\u5207\u308a\u66ff\u3048\u7528\u306e\u6587\u5b57\u5217\u306fresources/lang/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u65e5\u672c\u8a9e\u3078\u306e\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u3092\u3059\u308b\u5834\u5408\u306f\u3001en\u3092\u30b3\u30d4\u3063\u3066ja\u3092\u4f5c\u308c\u3070\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\u5b9f\u969b\u306e\u6240\u306f\u3069\u3046\u3084\u3063\u3066\u5207\u308a\u66ff\u3048\u3092\u304b\u3051\u3066\u308b\u3093\u3060\u308d\u3046\uff1f\u3068\u3044\u3046\u306e\u3092\u8efd\u304f\u8abf\u3079\u3066\u307f\u308b\u3068\u3001\nKernel.php\u3067\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306bLocaleMiddleware\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u7b87\u6240\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\napp/Http/Kernel.php\n\uff08\u524d\u7565\uff09\n    protected $middleware = [\n        \\Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode::class,\n        \\App\\Http\\Middleware\\EncryptCookies::class,\n        \\Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::class,\n        \\Illuminate\\Session\\Middleware\\StartSession::class,\n        \\Illuminate\\View\\Middleware\\ShareErrorsFromSession::class,\n        \\App\\Http\\Middleware\\VerifyCsrfToken::class,\n        \\App\\Http\\Middleware\\LocaleMiddleware::class,\n    ];\n\uff08\u5f8c\u7565\uff09\n\n\napp/Http/Middleware/LocaleMiddleware.php\u306f\u3053\u3046\u3067\u3059\u3002\n\napp/Http/Middleware/LocaleMiddleware.php\n<?php namespace App\\Http\\Middleware;\n\nuse Closure;\n\n/**\n * Class LocaleMiddleware\n * @package App\\Http\\Middleware\n */\nclass LocaleMiddleware\n{\n\n    /**\n     * @var array\n     */\n    protected $languages = ['en', 'es', 'fr-FR', 'it', 'pt-BR', 'ru', 'sv'];\n\n    /**\n     * Handle an incoming request.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @param  \\Closure  $next\n     * @return mixed\n     */\n    public function handle($request, Closure $next)\n    {\n        if(session()->has('locale') && in_array(session()->get('locale'), $this->languages))\n        {\n            app()->setLocale(session()->get('locale'));\n        }\n\n        return $next($request);\n    }\n}\n\n\n\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u62fe\u3063\u3066\u304d\u305flocale\u3092app\u306bsetLocale\u3057\u3066\u3044\u307e\u3059\u3002\napp()\u95a2\u6570\u306e\u623b\u308a\u5024\u306f\u3001bootstrap/app.php\u3067new\u3055\u308c\u3066\u3044\u308bApplication\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\napp\u306esetLocale\u3001getLocale\u306f\u3053\u3046\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nvendor/laravel/framework/src/Illuminate/Foundation/Application.php\n\uff08\u524d\u7565\uff09\n    /**\n     * Get the current application locale.\n     *\n     * @return string\n     */\n    public function getLocale()\n    {\n        return $this['config']->get('app.locale');\n    }\n\n    /**\n     * Set the current application locale.\n     *\n     * @param  string  $locale\n     * @return void\n     */\n    public function setLocale($locale)\n    {\n        $this['config']->set('app.locale', $locale);\n\n        $this['translator']->setLocale($locale);\n\n        $this['events']->fire('locale.changed', [$locale]);\n    }\n\uff08\u5f8c\u7565\uff09\n\n\n\u3053\u3053\u3067setLocale\u3055\u308c\u305flocale\u306f\u3001\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3084\u30d1\u30c3\u30b1\u30fc\u30b8\u3067$app->getLocale()\u7b49\u3068\u3057\u3066\u53d6\u5f97\u3055\u308c\u3001\u3044\u308d\u3093\u306a\u6240\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\u4e2d\u3067\u3082\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u3092\u62c5\u5f53\u3057\u3066\u3044\u308b\u306e\u306fTranslation\u3067\u3059\u3002\nvendor/laravel/framework/src/Illuminate/Translation/TranslationServiceProvider.php\u3067\u3001\n\nvendor/laravel/framework/src/Illuminate/Translation/TranslationServiceProvider.php\n\uff08\u524d\u7565\uff09\n            $locale = $app['config']['app.locale'];\n\n            $trans = new Translator($loader, $locale);\n\uff08\u5f8c\u7565\uff09\n\n\n\u3068\u3057\u3066Translator\u306e\u53c2\u7167\u5148\u8a00\u8a9e\u306e\u6307\u5b9a\u306b\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\nTranslator\u306e\u672c\u4f53\u306f\u3001TranslationServiceProvider.php\u306e\u96a3\u306e\u30d5\u30a1\u30a4\u30eb\u3001Translator.php\u3067\u3059\u3002\nTranslator.php\u306b\u306fblade\u306b\u8a18\u8ff0\u3059\u308b{{trans}}\u306e\u672c\u4f53\u304c\u5c45\u3066\u3001\n\nvendor/laravel/framework/src/Illuminate/Translation/Translator.php\n\uff08\u524d\u7565\uff09\n    /**\n     * Get the translation for a given key.\n     *\n     * @param  string  $id\n     * @param  array   $parameters\n     * @param  string  $domain\n     * @param  string  $locale\n     * @return string\n     */\n    public function trans($id, array $parameters = [], $domain = 'messages', $locale = null)\n    {\n        return $this->get($id, $parameters, $locale);\n    }\n\uff08\u5f8c\u7565\uff09\n\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nget\u30e1\u30bd\u30c3\u30c9\u306f\n\nvendor/laravel/framework/src/Illuminate/Translation/Translator.php\n\uff08\u524d\u7565\uff09\n    /**\n     * Get the translation for the given key.\n     *\n     * @param  string  $key\n     * @param  array   $replace\n     * @param  string  $locale\n     * @return string\n     */\n    public function get($key, array $replace = [], $locale = null)\n    {\n        list($namespace, $group, $item) = $this->parseKey($key);\n\n        // Here we will get the locale that should be used for the language line. If one\n        // was not passed, we will use the default locales which was given to us when\n        // the translator was instantiated. Then, we can load the lines and return.\n        foreach ($this->parseLocale($locale) as $locale) {\n            $this->load($namespace, $group, $locale);\n\n            $line = $this->getLine(\n                $namespace, $group, $locale, $item, $replace\n            );\n\n            if (! is_null($line)) {\n                break;\n            }\n        }\n\uff08\u5f8c\u7565\uff09\n\n\n\u3067\u3001\u3053\u3053\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u30ed\u30fc\u30c9\u3068\u5b9f\u969b\u306b\u8868\u793a\u3059\u308b\u6587\u5b57\u5217\u306e\u53d6\u5f97\u304c\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u3002\n\u7d50\u69cb\u306a\u9577\u65c5\u3067\u3057\u305f\u304c\u3001\u3053\u3053\u307e\u3067\u5206\u304b\u308c\u3070\u8a00\u8a9e\u60c5\u5831\u306e\u8ffd\u52a0\u3067\u3069\u3053\u3092\u5909\u66f4\u3059\u308c\u3070\u826f\u3044\u306e\u304b\u4e00\u76ee\u77ad\u7136\u3067\u3059\u306d\u3002\n\n\u307e\u3068\u3081\uff1aLocaleMiddleware\u3001blade\u3001resources/lang\u306e3\u7b87\u6240\u304c\u8981\u4fee\u6b63\n\napp/Http/Middleware/LocaleMiddleware.php\u306b\u3001\u3053\u306e\u30a2\u30d7\u30ea\u3067\u4f7f\u7528\u3059\u308b\u8a00\u8a9e\u306e\u4e00\u89a7\u304c\u3042\u308b\u306e\u3067\u3053\u3053\u3092\u5909\u66f4\n\u5207\u308a\u66ff\u3048\u306e\u30c8\u30ea\u30ac\u3068\u306a\u3063\u3066\u3044\u305fHTML\u306fresources/views/frontend/includes/nav.blade.php\u306b\u8a18\u8ff0\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u308c\u3082\u5909\u66f4\nresources/lang/\u306b\u5404\u8a00\u8a9e\u306e\u6587\u5b57\u5217\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3053\u306b\u8868\u793a\u3059\u308b\u6587\u5b57\u5217\u3092\u8a18\u8ff0\u3002\n\n\u306e3\u7b87\u6240\u3092\u89e6\u308c\u3070\u3001\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u554f\u984c\u70b9\uff1a\u521d\u671f\u8868\u793a\u304c\u56fa\u5b9a\u3067\u3042\u308b\u3001\u30bb\u30c3\u30b7\u30e7\u30f3\u4fdd\u5b58\u306e\u305f\u3081\u4fdd\u6301\u671f\u9650\u304c\u77ed\u3044\nboilerplate\u306e\u3053\u306e\u5b9f\u88c5\u3067\u306f\u3001\u521d\u671f\u8868\u793a\u304cconfig/app.php\u3067\u8a2d\u5b9a\u3057\u305f\u8a00\u8a9e\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u3053\u3053\u306f\u3084\u306f\u308a\u30d6\u30e9\u30a6\u30b6\u304c\u9001\u51fa\u3057\u3066\u304f\u308bLocale\u3092\u898b\u3066\u521d\u671f\u8868\u793a\u3092\u5207\u308a\u66ff\u3048\u305f\u3044\u3067\u3059\u306d\u3002\n\u8a00\u8a9e\u8a2d\u5b9a\u3092\u899a\u3048\u308b\u51e6\u7406\u3082\u3001\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u4fdd\u5b58\u3057\u3066\u3044\u308b\u305f\u3081\u306b\u305d\u306e\u60c5\u5831\u306e\u7834\u68c4\u3082\u901f\u3044\u306e\u3067\u3001\u4e00\u5ea6\u89e6\u3063\u305f\u8a00\u8a9e\u8a2d\u5b9a\u306f\u5f53\u5206\u306f\u899a\u3048\u3066\u3044\u3066\u6b32\u3057\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\uff08\u30d6\u30e9\u30a6\u30b6Locale\u3067\u521d\u671f\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u304c\u53ef\u80fd\u306a\u3089\u3001\u305d\u3046\u3067\u3082\u306a\u3044\u304b\u3082\uff1f\uff09\n\n\u53c2\u8003\u8cc7\u6599\nPHP - laravel-5-boilerplate\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 - Qiita\nLaravel 5 \u306e\u51e6\u7406\u306e\u6d41\u308c - Web Application Security Memo\nLaravel 5 \u306e\u30bf\u30de\u30cd\u30ae\u69cb\u9020\u5b9f\u88c5\u51e6\u7406 - Web Application Security Memo\nLaravel\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u51e6\u7406\u3092\u7406\u89e3\u3059\u308b\u306e\u306b\u3059\u3054\u304f\u5f79\u7acb\u3061\u307e\u3057\u305f\u3002\n\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n\n\u304a\u307e\u3051\u30b3\u30fc\u30ca\u30fc\nTranslator\u3067\u52d5\u3044\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u30ed\u30fc\u30c0\u30fc\u306f\u3001TransratorServiceProbider\u3067\u8a2d\u5b9a\u3055\u308c\u305fClosure\u3067\u3059\u3002\nconfing/app.php\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308bproviders\u304c\u8aad\u307e\u308c\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\n\nvendor/laravel/framework/src/Illuminate/Translation/TranslationServiceProvider.php\n\uff08\u524d\u7565\uff09\n    public function register()\n    {\n        $this->registerLoader();\n\n        $this->app->singleton('translator', function ($app) {\n            $loader = $app['translation.loader'];\n\n            // When registering the translator component, we'll need to set the default\n            // locale as well as the fallback locale. So, we'll grab the application\n            // configuration so we can easily get both of these values from there.\n            $locale = $app['config']['app.locale'];\n\n            $trans = new Translator($loader, $locale);\n\n            $trans->setFallback($app['config']['app.fallback_locale']);\n\n            return $trans;\n        });\n    }\n\uff08\u4e2d\u7565\uff09\n    protected function registerLoader()\n    {\n        $this->app->singleton('translation.loader', function ($app) {\n            return new FileLoader($app['files'], $app['path.lang']);\n        });\n    }\n\n\uff08\u5f8c\u7565\uff09\n\n\n\u306eregister\u30e1\u30bd\u30c3\u30c9\u304c\u52d5\u4f5c\u3057Appliation\u306btranslation.loader\u3068\u3057\u3066\u8a2d\u5b9a\u3055\u308c\u3001\ntranslator\u306e\u52d5\u4f5c\u6642\u306bTranslator\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u6e21\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u304a\u307e\u3051\u30b3\u30fc\u30ca\u30fc2\n\u9014\u4e2d\u3067\u51fa\u3066\u304d\u305fapp()\u95a2\u6570\u3067\u3059\u304c\u3001\u5206\u304b\u308a\u3084\u3059\u3055\u91cd\u8996\u3067\u8aac\u660e\u3092\u3059\u3063\u98db\u3070\u3057\u307e\u3057\u305f\u304c\u3001\napp()\u95a2\u6570\u3067\u306fContainer\u30af\u30e9\u30b9\u306estatic\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3093\u3067\u3044\u307e\u3059\u3002\n\nvendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n\uff08\u524d\u7565\uff09\n    function app($make = null, $parameters = [])\n    {\n        if (is_null($make)) {\n            return Container::getInstance();\n        }\n\n        return Container::getInstance()->make($make, $parameters);\n    }\n\uff08\u5f8c\u7565\uff09\n\n\n\u3042\u308c\uff1f\u3053\u3053\u3067\u4f7f\u3063\u3066\u308b\u306e\u306fContainer\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306a\u306e\uff1f\u3068\u3061\u3087\u3063\u3068\u8ff7\u3063\u305f\u3093\u3067\u3059\u304c\u3001\nContainer::getInstance\u306f\u3001\n\nvendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n\uff08\u524d\u7565\uff09\n    public static function getInstance()\n    {\n        return static::$instance;\n    }\n\n\uff08\u5f8c\u7565\uff09\n\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066static::$instance\u306fsetInstance\u30e1\u30bd\u30c3\u30c9\u304b\u3089\u3057\u304b\u8a2d\u5b9a\u3055\u308c\u307e\u305b\u3093\u3002\n\nvendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n\uff08\u524d\u7565\uff09\n    public static function setInstance(ContainerContract $container)\n    {\n        static::$instance = $container;\n    }\n\uff08\u5f8c\u7565\uff09\n\n\n\u3055\u3089\u306bsetInstance\u30e1\u30bd\u30c3\u30c9\u306f\u3001Container\u30af\u30e9\u30b9\u3067\u306f\u3069\u3053\u304b\u3089\u3082\u547c\u3070\u308c\u3066\u3044\u307e\u305b\u3093\u30fb\u30fb\u30fb\uff01\n\u3067\u306f\u3069\u3053\u304b\u3089\u547c\u3070\u308c\u3066\u3044\u308b\u304b\u3068\u3044\u3046\u3068\u3053\u308c\u304cApplication\u30af\u30e9\u30b9\u3067\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u5148\u982d\u3067$this\u3092\u30bb\u30c3\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u308c\u304cContainer::getInstance\u3057\u3066\u3082Application\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304f\u308b\u304b\u3089\u304f\u308a\u3067\u3057\u305f\u3002\n\nlaravel-5-boilerplate\u3092\u89e6\u3063\u3066\u307f\u305f\u3089\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u51e6\u7406\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u89e3\u6790\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n[PHP - laravel-5-boilerplate\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - Qiita](http://qiita.com/shiichi/items/954539dcf683e335f92d)\n\n#laravel-5-boilerplate\u306e\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u51e6\u7406\nlaravel-5-boilerplate\u306eindex\u3067\u3001\u300cLanguage\u300d\u306e\u9805\u76ee\u9078\u629e\u3067\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u8a72\u5f53\u7b87\u6240\u306eHTML\u30bd\u30fc\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001\n\n```HTML\n<li class=\"dropdown\">\n    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-expanded=\"false\">Language <span class=\"caret\"></span></a>\n    <ul class=\"dropdown-menu\" role=\"menu\">\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/en\">English</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/es\">Spanish</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/fr-FR\">French</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/it\">Italian</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/pt-BR\">Portuguese (Brazil)</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/ru\">Russian</a></li>\n        <li><a href=\"http://laravel-5-boilerplate.app/lang/sv\">Swedish</a></li>\n    </ul>\n</li>\n```\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nroutes.php\u306f\u3053\u3046\u3002\n\n```php:app\\Http\\routes.php\n<?php\n\n/**\n * Switch between the included languages\n */\nrequire(__DIR__ . \"/Routes/Global/Lang.php\");\n\n\uff08\u5f8c\u7565\uff09\n```\n\nLang.php\u306f\u3053\u3046\u3002\n\n```php:app/Http/Routes/Global/Lang.php\n<?php\n\n/**\n * Sets the specified locale to the session\n */\nget('lang/{lang}', function($lang)\n{\n    session()->put('locale', $lang);\n    return redirect()->back();\n});\n```\n\nURL\u30a2\u30af\u30bb\u30b9\u3067\u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u3078\u306e\u4fdd\u5b58\u3057\u304b\u884c\u3063\u3066\u304a\u3089\u305a\u3001\u5143\u306eURL\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u8868\u793a\u6642\u306b\u3053\u3053\u3067\u4fdd\u5b58\u3057\u305f\u30bb\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u898b\u3066\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u3092\u884c\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u5207\u308a\u66ff\u3048\u7528\u306e\u6587\u5b57\u5217\u306fresources/lang/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u65e5\u672c\u8a9e\u3078\u306e\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u3092\u3059\u308b\u5834\u5408\u306f\u3001en\u3092\u30b3\u30d4\u3063\u3066ja\u3092\u4f5c\u308c\u3070\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\n\n\u5b9f\u969b\u306e\u6240\u306f\u3069\u3046\u3084\u3063\u3066\u5207\u308a\u66ff\u3048\u3092\u304b\u3051\u3066\u308b\u3093\u3060\u308d\u3046\uff1f\u3068\u3044\u3046\u306e\u3092\u8efd\u304f\u8abf\u3079\u3066\u307f\u308b\u3068\u3001\nKernel.php\u3067\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306bLocaleMiddleware\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u7b87\u6240\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n```php:app/Http/Kernel.php\n\uff08\u524d\u7565\uff09\n    protected $middleware = [\n        \\Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode::class,\n        \\App\\Http\\Middleware\\EncryptCookies::class,\n        \\Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::class,\n        \\Illuminate\\Session\\Middleware\\StartSession::class,\n        \\Illuminate\\View\\Middleware\\ShareErrorsFromSession::class,\n        \\App\\Http\\Middleware\\VerifyCsrfToken::class,\n        \\App\\Http\\Middleware\\LocaleMiddleware::class,\n    ];\n\uff08\u5f8c\u7565\uff09\n```\n\napp/Http/Middleware/LocaleMiddleware.php\u306f\u3053\u3046\u3067\u3059\u3002\n\n```php:app/Http/Middleware/LocaleMiddleware.php\n<?php namespace App\\Http\\Middleware;\n\nuse Closure;\n\n/**\n * Class LocaleMiddleware\n * @package App\\Http\\Middleware\n */\nclass LocaleMiddleware\n{\n\n    /**\n     * @var array\n     */\n    protected $languages = ['en', 'es', 'fr-FR', 'it', 'pt-BR', 'ru', 'sv'];\n\n    /**\n     * Handle an incoming request.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @param  \\Closure  $next\n     * @return mixed\n     */\n    public function handle($request, Closure $next)\n    {\n        if(session()->has('locale') && in_array(session()->get('locale'), $this->languages))\n        {\n            app()->setLocale(session()->get('locale'));\n        }\n\n        return $next($request);\n    }\n}\n```\n\n\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u62fe\u3063\u3066\u304d\u305flocale\u3092app\u306bsetLocale\u3057\u3066\u3044\u307e\u3059\u3002\napp()\u95a2\u6570\u306e\u623b\u308a\u5024\u306f\u3001bootstrap/app.php\u3067new\u3055\u308c\u3066\u3044\u308bApplication\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\n\napp\u306esetLocale\u3001getLocale\u306f\u3053\u3046\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```php:vendor/laravel/framework/src/Illuminate/Foundation/Application.php\n\uff08\u524d\u7565\uff09\n    /**\n     * Get the current application locale.\n     *\n     * @return string\n     */\n    public function getLocale()\n    {\n        return $this['config']->get('app.locale');\n    }\n\n    /**\n     * Set the current application locale.\n     *\n     * @param  string  $locale\n     * @return void\n     */\n    public function setLocale($locale)\n    {\n        $this['config']->set('app.locale', $locale);\n\n        $this['translator']->setLocale($locale);\n\n        $this['events']->fire('locale.changed', [$locale]);\n    }\n\uff08\u5f8c\u7565\uff09\n```\n\n\u3053\u3053\u3067setLocale\u3055\u308c\u305flocale\u306f\u3001\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3084\u30d1\u30c3\u30b1\u30fc\u30b8\u3067$app->getLocale()\u7b49\u3068\u3057\u3066\u53d6\u5f97\u3055\u308c\u3001\u3044\u308d\u3093\u306a\u6240\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u4e2d\u3067\u3082\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u3092\u62c5\u5f53\u3057\u3066\u3044\u308b\u306e\u306fTranslation\u3067\u3059\u3002\nvendor/laravel/framework/src/Illuminate/Translation/TranslationServiceProvider.php\u3067\u3001\n\n```php:vendor/laravel/framework/src/Illuminate/Translation/TranslationServiceProvider.php\n\uff08\u524d\u7565\uff09\n            $locale = $app['config']['app.locale'];\n\n            $trans = new Translator($loader, $locale);\n\uff08\u5f8c\u7565\uff09\n```\n\n\u3068\u3057\u3066Translator\u306e\u53c2\u7167\u5148\u8a00\u8a9e\u306e\u6307\u5b9a\u306b\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\nTranslator\u306e\u672c\u4f53\u306f\u3001TranslationServiceProvider.php\u306e\u96a3\u306e\u30d5\u30a1\u30a4\u30eb\u3001Translator.php\u3067\u3059\u3002\nTranslator.php\u306b\u306fblade\u306b\u8a18\u8ff0\u3059\u308b{{trans}}\u306e\u672c\u4f53\u304c\u5c45\u3066\u3001\n\n```php:vendor/laravel/framework/src/Illuminate/Translation/Translator.php\n\uff08\u524d\u7565\uff09\n    /**\n     * Get the translation for a given key.\n     *\n     * @param  string  $id\n     * @param  array   $parameters\n     * @param  string  $domain\n     * @param  string  $locale\n     * @return string\n     */\n    public function trans($id, array $parameters = [], $domain = 'messages', $locale = null)\n    {\n        return $this->get($id, $parameters, $locale);\n    }\n\uff08\u5f8c\u7565\uff09\n```\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nget\u30e1\u30bd\u30c3\u30c9\u306f\n\n```php:vendor/laravel/framework/src/Illuminate/Translation/Translator.php\n\uff08\u524d\u7565\uff09\n    /**\n     * Get the translation for the given key.\n     *\n     * @param  string  $key\n     * @param  array   $replace\n     * @param  string  $locale\n     * @return string\n     */\n    public function get($key, array $replace = [], $locale = null)\n    {\n        list($namespace, $group, $item) = $this->parseKey($key);\n\n        // Here we will get the locale that should be used for the language line. If one\n        // was not passed, we will use the default locales which was given to us when\n        // the translator was instantiated. Then, we can load the lines and return.\n        foreach ($this->parseLocale($locale) as $locale) {\n            $this->load($namespace, $group, $locale);\n\n            $line = $this->getLine(\n                $namespace, $group, $locale, $item, $replace\n            );\n\n            if (! is_null($line)) {\n                break;\n            }\n        }\n\uff08\u5f8c\u7565\uff09\n```\n\n\u3067\u3001\u3053\u3053\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u30ed\u30fc\u30c9\u3068\u5b9f\u969b\u306b\u8868\u793a\u3059\u308b\u6587\u5b57\u5217\u306e\u53d6\u5f97\u304c\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u7d50\u69cb\u306a\u9577\u65c5\u3067\u3057\u305f\u304c\u3001\u3053\u3053\u307e\u3067\u5206\u304b\u308c\u3070\u8a00\u8a9e\u60c5\u5831\u306e\u8ffd\u52a0\u3067\u3069\u3053\u3092\u5909\u66f4\u3059\u308c\u3070\u826f\u3044\u306e\u304b\u4e00\u76ee\u77ad\u7136\u3067\u3059\u306d\u3002\n\n#\u307e\u3068\u3081\uff1aLocaleMiddleware\u3001blade\u3001resources/lang\u306e3\u7b87\u6240\u304c\u8981\u4fee\u6b63\n- app/Http/Middleware/LocaleMiddleware.php\u306b\u3001\u3053\u306e\u30a2\u30d7\u30ea\u3067\u4f7f\u7528\u3059\u308b\u8a00\u8a9e\u306e\u4e00\u89a7\u304c\u3042\u308b\u306e\u3067\u3053\u3053\u3092\u5909\u66f4\n- \u5207\u308a\u66ff\u3048\u306e\u30c8\u30ea\u30ac\u3068\u306a\u3063\u3066\u3044\u305fHTML\u306fresources/views/frontend/includes/nav.blade.php\u306b\u8a18\u8ff0\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u308c\u3082\u5909\u66f4\n- resources/lang/\u306b\u5404\u8a00\u8a9e\u306e\u6587\u5b57\u5217\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3053\u306b\u8868\u793a\u3059\u308b\u6587\u5b57\u5217\u3092\u8a18\u8ff0\u3002\n\n\u306e3\u7b87\u6240\u3092\u89e6\u308c\u3070\u3001\u8a00\u8a9e\u5207\u308a\u66ff\u3048\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\n#\u554f\u984c\u70b9\uff1a\u521d\u671f\u8868\u793a\u304c\u56fa\u5b9a\u3067\u3042\u308b\u3001\u30bb\u30c3\u30b7\u30e7\u30f3\u4fdd\u5b58\u306e\u305f\u3081\u4fdd\u6301\u671f\u9650\u304c\u77ed\u3044\nboilerplate\u306e\u3053\u306e\u5b9f\u88c5\u3067\u306f\u3001\u521d\u671f\u8868\u793a\u304cconfig/app.php\u3067\u8a2d\u5b9a\u3057\u305f\u8a00\u8a9e\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u3053\u3053\u306f\u3084\u306f\u308a\u30d6\u30e9\u30a6\u30b6\u304c\u9001\u51fa\u3057\u3066\u304f\u308bLocale\u3092\u898b\u3066\u521d\u671f\u8868\u793a\u3092\u5207\u308a\u66ff\u3048\u305f\u3044\u3067\u3059\u306d\u3002\n\u8a00\u8a9e\u8a2d\u5b9a\u3092\u899a\u3048\u308b\u51e6\u7406\u3082\u3001\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u4fdd\u5b58\u3057\u3066\u3044\u308b\u305f\u3081\u306b\u305d\u306e\u60c5\u5831\u306e\u7834\u68c4\u3082\u901f\u3044\u306e\u3067\u3001\u4e00\u5ea6\u89e6\u3063\u305f\u8a00\u8a9e\u8a2d\u5b9a\u306f\u5f53\u5206\u306f\u899a\u3048\u3066\u3044\u3066\u6b32\u3057\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\uff08\u30d6\u30e9\u30a6\u30b6Locale\u3067\u521d\u671f\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u304c\u53ef\u80fd\u306a\u3089\u3001\u305d\u3046\u3067\u3082\u306a\u3044\u304b\u3082\uff1f\uff09\n\n#\u53c2\u8003\u8cc7\u6599\n[PHP - laravel-5-boilerplate\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 - Qiita](http://qiita.com/shiichi/items/125b4464191a4565df3f)\n[Laravel 5 \u306e\u51e6\u7406\u306e\u6d41\u308c - Web Application Security Memo](http://www.pupha.net/archives/3008/)\n[Laravel 5 \u306e\u30bf\u30de\u30cd\u30ae\u69cb\u9020\u5b9f\u88c5\u51e6\u7406 - Web Application Security Memo](http://www.pupha.net/archives/3032/)\n\nLaravel\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u51e6\u7406\u3092\u7406\u89e3\u3059\u308b\u306e\u306b\u3059\u3054\u304f\u5f79\u7acb\u3061\u307e\u3057\u305f\u3002\n\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n\n#\u304a\u307e\u3051\u30b3\u30fc\u30ca\u30fc\nTranslator\u3067\u52d5\u3044\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u30ed\u30fc\u30c0\u30fc\u306f\u3001TransratorServiceProbider\u3067\u8a2d\u5b9a\u3055\u308c\u305fClosure\u3067\u3059\u3002\nconfing/app.php\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308bproviders\u304c\u8aad\u307e\u308c\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001\n\n```php:vendor/laravel/framework/src/Illuminate/Translation/TranslationServiceProvider.php\n\uff08\u524d\u7565\uff09\n    public function register()\n    {\n        $this->registerLoader();\n\n        $this->app->singleton('translator', function ($app) {\n            $loader = $app['translation.loader'];\n\n            // When registering the translator component, we'll need to set the default\n            // locale as well as the fallback locale. So, we'll grab the application\n            // configuration so we can easily get both of these values from there.\n            $locale = $app['config']['app.locale'];\n\n            $trans = new Translator($loader, $locale);\n\n            $trans->setFallback($app['config']['app.fallback_locale']);\n\n            return $trans;\n        });\n    }\n\uff08\u4e2d\u7565\uff09\n    protected function registerLoader()\n    {\n        $this->app->singleton('translation.loader', function ($app) {\n            return new FileLoader($app['files'], $app['path.lang']);\n        });\n    }\n\n\uff08\u5f8c\u7565\uff09\n```\n\u306eregister\u30e1\u30bd\u30c3\u30c9\u304c\u52d5\u4f5c\u3057Appliation\u306btranslation.loader\u3068\u3057\u3066\u8a2d\u5b9a\u3055\u308c\u3001\ntranslator\u306e\u52d5\u4f5c\u6642\u306bTranslator\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u6e21\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n#\u304a\u307e\u3051\u30b3\u30fc\u30ca\u30fc2\n\u9014\u4e2d\u3067\u51fa\u3066\u304d\u305fapp()\u95a2\u6570\u3067\u3059\u304c\u3001\u5206\u304b\u308a\u3084\u3059\u3055\u91cd\u8996\u3067\u8aac\u660e\u3092\u3059\u3063\u98db\u3070\u3057\u307e\u3057\u305f\u304c\u3001\napp()\u95a2\u6570\u3067\u306fContainer\u30af\u30e9\u30b9\u306estatic\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3093\u3067\u3044\u307e\u3059\u3002\n\n```php:vendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n\uff08\u524d\u7565\uff09\n    function app($make = null, $parameters = [])\n    {\n        if (is_null($make)) {\n            return Container::getInstance();\n        }\n\n        return Container::getInstance()->make($make, $parameters);\n    }\n\uff08\u5f8c\u7565\uff09\n```\n\n\u3042\u308c\uff1f\u3053\u3053\u3067\u4f7f\u3063\u3066\u308b\u306e\u306fContainer\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306a\u306e\uff1f\u3068\u3061\u3087\u3063\u3068\u8ff7\u3063\u305f\u3093\u3067\u3059\u304c\u3001\nContainer::getInstance\u306f\u3001\n\n```php:vendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n\uff08\u524d\u7565\uff09\n    public static function getInstance()\n    {\n        return static::$instance;\n    }\n\n\uff08\u5f8c\u7565\uff09\n```\n\n\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066static::$instance\u306fsetInstance\u30e1\u30bd\u30c3\u30c9\u304b\u3089\u3057\u304b\u8a2d\u5b9a\u3055\u308c\u307e\u305b\u3093\u3002\n\n```php:vendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n\uff08\u524d\u7565\uff09\n    public static function setInstance(ContainerContract $container)\n    {\n        static::$instance = $container;\n    }\n\uff08\u5f8c\u7565\uff09\n```\n\n\u3055\u3089\u306bsetInstance\u30e1\u30bd\u30c3\u30c9\u306f\u3001Container\u30af\u30e9\u30b9\u3067\u306f\u3069\u3053\u304b\u3089\u3082\u547c\u3070\u308c\u3066\u3044\u307e\u305b\u3093\u30fb\u30fb\u30fb\uff01\n\u3067\u306f\u3069\u3053\u304b\u3089\u547c\u3070\u308c\u3066\u3044\u308b\u304b\u3068\u3044\u3046\u3068\u3053\u308c\u304cApplication\u30af\u30e9\u30b9\u3067\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u5148\u982d\u3067$this\u3092\u30bb\u30c3\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u308c\u304cContainer::getInstance\u3057\u3066\u3082Application\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304f\u308b\u304b\u3089\u304f\u308a\u3067\u3057\u305f\u3002\n", "tags": ["PHP", "laravel", "laravel5"]}