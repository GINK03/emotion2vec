{"context": " More than 1 year has passed since last update.\u30ed\u30fc\u30ab\u30eb\u3067redmine(1.3.0.devel.8694)\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u3002\u304b\u306a\u308a\u53e4\u304f\u306a\u3063\u305f\u306e\u3067\u8fd1\u3005\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u3044\u3002\u3044\u304d\u306a\u308a\u3001\u73fe\u7269\u3092\u3044\u3058\u308b\u306e\u306f\u6c17\u304c\u5f15\u3051\u308b\u306e\u3067\u3001virtualbox\u74b0\u5883\u4e0b\u306eCentOS\u4e0a\u3067\u78ba\u8a8d\u3057\u305f\u95a2\u9023\u66f4\u65b0\u624b\u9806\u3092\u500b\u4eba\u7684\u306a\u5099\u5fd8\u9332\u3068\u3057\u3066\u307e\u3068\u3081\u305f\u3002\n\u5927\u304d\u306a\u6d41\u308c\u306f\u4ee5\u4e0b\u3002\n\nruby 1.8.7-p352-1 \u2192 2.2.3\u306e\u66f4\u65b0\nImageMagick6.2.8.0\u21926.9.1\u306e\u66f4\u65b0\nmysql5.0.95->5.5.46\u306e\u66f4\u65b0\nredmine\u53ca\u3073rails\u95a2\u9023\npassenger\u306e\u66f4\u65b0\napache\u518d\u8d77\u52d5\n\n\u5c1a\u3001\u6700\u7d42\u7684\u306b\u306f\u3001\u4ee5\u4e0b\u306b\u306a\u308b\u3002\n\n\n\n\u4e3b\u8981\u9805\u76ee\n\u65e7\n\u65b0\n\u5099\u8003\n\n\n\n\nruby\n1.8.7-p352-1\n2.2.3-p173\n\n\n\nredmine\n1.3.0.devel.8694\n3.1.1.devel.14607\ntrunk\u3092\u5229\u7528\n\n\nrails\n2.3.14\n4.2.4\n\n\n\npassenger\n3.0.7\n5.0.20\n\n\n\nmysql\n5.0.95\n5.5.46\n\n\n\nrmagick\n--\n2.15.4\n\n\n\nimagemagick\n6.2.8.0\n6.9.1\n\n\n\napache\n2.2.3\n--\n\n\n\nCentOS\n5.11\n--\n\n\n\n\n\nruby 1.8.7-p352-1 \u2192 2.2.3-p173\u306e\u66f4\u65b0\nrbenv\u306e\u5229\u7528\u304c\u6b63\u3060\u304c\u3001\u6a2a\u7740\u3057\u3066\u30bd\u30fc\u30b9\u304b\u3089\u5b9f\u65bd\u3002\n\n1.8.7-p352-1\u306e\u524a\u9664\n1.8.7-p352-1\u306f\u3001yum\u7d4c\u7531\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u3067\u6d88\u3059\u3002\n$ sudo yum erase ruby-1.8.7-p352-1 rubygems-1.3.5-1\n\n\n2.2.3\u306e\u30d3\u30eb\u30c9\uff06\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u57fa\u672c\u3001\u5358\u306b make & make install\u3002\n$ wget --no-check-certificate https://cache.ruby-lang.org/pub/ruby/2.2/ruby-2.2.3.tar.gz\n$ cd ruby-2.2.3\n$ ./configure\n$ make\n$ sudo make install\n\n\nImageMagick6.2.8.0\u21926.9.1\u306e\u66f4\u65b0\nredmine\u306f\u3001rmagick(ImageMagick)\u3092\u4f7f\u308f\u306a\u304f\u3066\u3082\u5229\u7528\u3067\u304d\u308b\u3063\u307d\u3044\u304c\u3001\u3053\u306e\u6a5f\u4f1a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u308b\u3002\n\u5f53\u521d\u3001SRPM\u304b\u3089\u306e\u66f4\u65b0\u3092\u8a66\u307f\u305f\u304c\u3001\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306a\u3069\u304b\u306a\u308a\u9762\u5012\u3060\u3063\u305f\u306e\u3067\u3001tar.xz\u304b\u3089\u306emake & make install\u3067\u306e\u66f4\u65b0\u3092\u7528\u3044\u308b\u3002\n\u307e\u305f\u30012015/10/09\u6642\u70b9\u6700\u65b0\u306e6.9.2-3\u3060\u3068\u3001\u65b0\u3057\u3059\u304e\u3066\u5f8c\u3005\u3001\u4f9d\u5b58\u95a2\u4fc2(rmagick\u3060\u3063\u305f\u304b\u306a\uff1f)\u3067\u6012\u3089\u308c\u305f\u306e\u3067\u30016.9.1\u3092\u9078\u629e\u3002\n\u5927\u304d\u306a\u6d41\u308c\u306f\u3001\u3056\u3063\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u611f\u3058\u3002\n\n\n6.2.8.0\u306e\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n6.9.1\u306e\u30d3\u30eb\u30c9\uff06\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n6.2.8.0\u306e\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n6.2.8.0\u306f\u3001yum\u7d4c\u7531\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u3067\u6d88\u3059\u3002\n$ sudo yum erase ImageMagick-6.2.8.0-15.el5_8\n\n\n6.9.1\u306e\u30d3\u30eb\u30c9\uff06\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u57fa\u672c\u3001\u5358\u306b make & make install\u3002\n\u305f\u3060\u3001--prefix=/usr\u3060\u3051\u6307\u5b9a\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u3001rmagick\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306bPKG_CONFIG_PATH\u3068\u304b\u306e\u6307\u5b9a\u3092\u884c\u308f\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u304b\u3063\u305f\u6c17\u304c\u3059\u308b\u3002)\n$ wget http://www.imagemagick.org/download/releases/ImageMagick-6.9.1-10.tar.xz\n$ xz -dv ImageMagick-6.9.1-10.tar.xz\n$ tar -xvf ImageMagick-6.9.1-10.tar\n$ cd ImageMagick-6.9.1-10\n$ ./configure --prefix=/usr\n$ make\n$ sudo make install\n\n\n\u30d5\u30a9\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nredmine\u3067\u30ac\u30f3\u30c1\u30e3\u30fc\u30c8\u306epng\u51fa\u529b\u3059\u308b\u3068\u304d\u306a\u3069\u306b\u3001\u3053\u306e\u30d5\u30a9\u30f3\u30c8\u304c\u7121\u3044\u3068\u5316\u3051\u308b\u3002\nsudo yum install ipa-pgothic-fonts ipa-pmincho-fonts\n\nCentOS\u3060\u3068\u3001/usr/share/fonts\u914d\u4e0b\u306b\u3001\u30d5\u30a9\u30f3\u30c8\u7fa4\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002\n\nmysql5.0.95->5.5.46\u306e\u66f4\u65b0\nmysql(5.0.95->5.5.46) + mod_auth_mysql \u306e\u66f4\u65b0\u53c2\u7167\u3002\n\nredmine\u53ca\u3073rails\u95a2\u9023\n\u3053\u3053\u3067\u3001\u4e00\u6c17\u306bredmine\u3068rails\u306e\u66f4\u65b0\u3092\u884c\u3046\u3002\nredmine\u306fsvn trunk\u74b0\u5883\u3092\u7528\u3044\u3066\u304a\u308a\u3001\u4eca\u56de\u3082\u5f15\u304d\u7d9a\u304d\u3001trunk\u3092\u5229\u7528\u3059\u308b\u3002\u4f46\u3057\u3001\u30ec\u30d3\u30b8\u30e7\u30f3\u306f\u3001\u5b89\u5b9a\u5316\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u540c\u7b49\u306e\u3082\u306e\u3092\u7528\u3044\u308b\u3002\n\u5927\u304d\u306a\u6d41\u308c\u306f\u3001\u4ee5\u4e0b\u3002\n\ntrunk\u9020\u308a\u76f4\u3057\ngem update (\u3053\u3053\u3067\u3001rails\u306eupdate\u3082\u5b9f\u65bd)\nredmine\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\n\ndb:migrate\u4ed6\n\n\ntrunk\u9020\u308a\u76f4\u3057\nredmine\u306esvn\u30ec\u30dd\u30b8\u30c8\u30ea\u304c\u3001\u4ee5\u4e0b\u306e\u69d8\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u6539\u3081\u3066\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u3002r14607\u304c\u30013.1.1\u76f8\u5f53\u3002\n\u73fe\uff1ahttps://svn.redmine.org/redmine/trunk\n\u65e7\uff1ahttp://redmine.rubyforge.org/svn/trunk\n\u3042\u3068\u306f\u3001\u4ee5\u4e0b\u3092\u5b9f\u65bd\u3002\n\n\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092\u65e7trunk\u3088\u308a\u30b3\u30d4\u30fc\u3002\n\u30d7\u30e9\u30b0\u30a4\u30f3\u53d6\u308a\u8fbc\u307f\n\n$ mv trunk old_trunk\n$ svn co -r 14607 https://svn.redmine.org/redmine/trunk\n$ cd trunk\n$ cp -p ../old_trunk/filses/* filse/.\n$ cd plugins\n$ git clone git://github.com/dergachev/redmine_gist.git gist\n\n\ngem update\n\ngem\u306e\u66f4\u65b0\u3092\u884c\u3044\u3001\u5408\u308f\u305b\u3066\u4ee5\u4e0b\u3092gem\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3002\n\nbundle\n\nmysql2 \u2190 \u30a2\u30c0\u30d7\u30bf\u304cmysql\u304b\u3089\u5909\u308f\u3063\u305f\n\n\u305d\u306e\u5f8c\u3001trunk\u5185\u3067\u3001bundle install\u3092\u5b9f\u65bd\u3057\u3001trunk\u306e\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u66f4\u65b0\u3059\u308b\u3002\u3053\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067rails\u30824.2.4\u306b\u66f4\u65b0\u3055\u308c\u308b\u3002\n$ sudo gem update --system\n$ sudo gem install bundle\n$ sudo gem install mysql2\n$ cd trunk\n$ sudo bundle install --without development test\n\n\nredmine\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\n$ cd trunk\n$ cp config/database.yml.example config/database.yml\n$ cp config/configuration.yml.example config/configuration.yml\n\n\nconfig/database.yml\n--- database.yml.example        2015-10-09 13:19:46.000000000 +0900\n+++ database.yml        2015-10-09 08:29:08.000000000 +0900\n@@ -6,8 +6,8 @@\n   adapter: mysql2\n   database: redmine\n   host: localhost\n-  username: root\n-  password: \"\"\n+  username: redmineuser\n+  password: xxxxxxxxxxxx\n   encoding: utf8\n\n development:\n@@ -15,7 +15,7 @@\n   database: redmine_development\n   host: localhost\n   username: root\n-  password: \"\"\n+  password:\n   encoding: utf8\n\n\n\n\nconfig/configuration.yml\n   # Absolute path (e.g. /usr/bin/convert, c:/im/convert.exe) to\n   # the ImageMagick's `convert` binary. Used to generate attachment thumbnails.\n-  #imagemagick_convert_command:\n+  imagemagick_convert_command: /usr/bin/convert\n\n   # Configuration of RMagcik font.\n   #\n@@ -202,7 +202,7 @@\n   #   Linux:\n   #     rmagick_font_path: /usr/share/fonts/ipa-mincho/ipam.ttf\n   #\n-  rmagick_font_path:\n+  rmagick_font_path: /usr/share/fonts/ipa-pgothic/ipagp.ttf\n\n   # Maximum number of simultaneous AJAX uploads\n   #max_concurrent_ajax_uploads: 2\n\n\n\ndb:migrate\u4ed6\n\u898f\u5b9a\u306e\u304a\u307e\u3058\u306a\u3044\u3092\u5b9f\u65bd\u3002\n$ cd trunk\n$ bundle exec rake generate_secret_token\n$ bundle exec rake db:migrate RAILS_ENV=production\n$ bundle exec rake redmine:plugins:migrate RAILS_ENV=production\n$ bundle exec rake tmp:cache:clear tmp:sessions:clear RAILS_ENV=production\n\n\npassenger\u306e3.0.7\u21925.0.20\n\n\u524d\u8ff0\u306e\u66f4\u65b0\u306b\u4f34\u3044\u3001passenger\u3082\u66f4\u65b0\u3092\u884c\u308f\u306a\u3044\u3068http\u304b\u3089\u8d77\u52d5\u3057\u3066\u304f\u308c\u306a\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u3067\u66f4\u65b0\u3002\n$ sudo gem install passenger\n$ sudo passenger-install-apache2-module\n\n\u6700\u7d42\u7684(apach2/ruby)\u306b\u51fa\u529b\u3055\u308c\u305f\u4ee5\u4e0b\u3092\u3001httpd.conf(redmine.conf)\u306b\u8cbc\u308a\u3064\u3051\u308b\u3002\u65e7(3.0.7)\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u53c8\u306f\u524a\u9664\u3002\n\nhttpd.conf\n  # LoadModule passenger_module /usr/lib/ruby/gems/1.8/gems/passenger-3.0.7/ext/apache2/mod_passenger.so\n  # PassengerRoot /usr/lib/ruby/gems/1.8/gems/passenger-3.0.7\n  # PassengerRuby /usr/bin/ruby\n\n   LoadModule passenger_module /usr/local/lib/ruby/gems/2.2.0/gems/passenger-5.0.20/buildout/apache2/mod_passenger.so\n   <IfModule mod_passenger.c>\n     PassengerRoot /usr/local/lib/ruby/gems/2.2.0/gems/passenger-5.0.20\n     PassengerDefaultRuby /usr/local/bin/ruby\n   </IfModule>\n\n\n\napache\u518d\u8d77\u52d5\n# /etc/init.d/httpd restart\n\n\n\u672c\u30c1\u30e3\u30f3\u74b0\u5883\u3078\u306e\u9069\u7528\u7d50\u679c(2015/10/14)\n\u4e0a\u8a18\u306b\u307e\u3068\u3081\u305f\u624b\u9806\u3067\u3001\u6700\u7d42\u7684\u306b\u672c\u30c1\u30e3\u30f3\u74b0\u5883\u306e\u66f4\u65b0\u306f\u884c\u3048\u305f\u3002(20\u5206\u5f31\u7a0b\u5ea6)\n\u305f\u3060\u3001mysql\u306e\u66f4\u65b0\u6642\u306e\u30ea\u30b9\u30c8\u30a2\u4f5c\u696d\u3067\u3001mysql\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u304c\u6d88\u3048\u308b\u30cf\u30d7\u30cb\u30f3\u30b0\u304c\u3042\u308a\u3001\u809d\u3092\u51b7\u3084\u3057\u305f\u3002\u3002\n\u30ed\u30fc\u30ab\u30eb\u3067redmine(1.3.0.devel.8694)\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u3002\u304b\u306a\u308a\u53e4\u304f\u306a\u3063\u305f\u306e\u3067\u8fd1\u3005\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u3044\u3002\u3044\u304d\u306a\u308a\u3001\u73fe\u7269\u3092\u3044\u3058\u308b\u306e\u306f\u6c17\u304c\u5f15\u3051\u308b\u306e\u3067\u3001virtualbox\u74b0\u5883\u4e0b\u306eCentOS\u4e0a\u3067\u78ba\u8a8d\u3057\u305f\u95a2\u9023\u66f4\u65b0\u624b\u9806\u3092\u500b\u4eba\u7684\u306a\u5099\u5fd8\u9332\u3068\u3057\u3066\u307e\u3068\u3081\u305f\u3002\n\n\u5927\u304d\u306a\u6d41\u308c\u306f\u4ee5\u4e0b\u3002\n\n1. ruby `1.8.7-p352-1` \u2192 `2.2.3`\u306e\u66f4\u65b0\n2. ImageMagick`6.2.8.0`\u2192`6.9.1`\u306e\u66f4\u65b0\n3. mysql`5.0.95`->`5.5.46`\u306e\u66f4\u65b0\n4. redmine\u53ca\u3073rails\u95a2\u9023\n5. passenger\u306e\u66f4\u65b0\n6. apache\u518d\u8d77\u52d5\n\n\u5c1a\u3001\u6700\u7d42\u7684\u306b\u306f\u3001\u4ee5\u4e0b\u306b\u306a\u308b\u3002\n\n| \u4e3b\u8981\u9805\u76ee | \u65e7 | \u65b0|\u5099\u8003|\n|:-----------|:------------|:------------|:------------|\n|ruby|1.8.7-p352-1|2.2.3-p173|\n|redmine|1.3.0.devel.8694|3.1.1.devel.14607|trunk\u3092\u5229\u7528|\n|rails|2.3.14|4.2.4|\n|passenger|3.0.7|5.0.20|\n|mysql|5.0.95|5.5.46|\n|rmagick|--|2.15.4|\n|imagemagick|6.2.8.0|6.9.1|\n|apache|2.2.3|--|\n|CentOS|5.11|--|\n\n\n# ruby `1.8.7-p352-1` \u2192 `2.2.3-p173`\u306e\u66f4\u65b0\n\n[rbenv](https://www.ruby-lang.org/ja/documentation/installation/#rbenv)\u306e\u5229\u7528\u304c\u6b63\u3060\u304c\u3001\u6a2a\u7740\u3057\u3066\u30bd\u30fc\u30b9\u304b\u3089\u5b9f\u65bd\u3002\n\n## `1.8.7-p352-1`\u306e\u524a\u9664\n\n`1.8.7-p352-1`\u306f\u3001yum\u7d4c\u7531\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u3067\u6d88\u3059\u3002\n\n~~~~sh\n$ sudo yum erase ruby-1.8.7-p352-1 rubygems-1.3.5-1\n~~~~\n\n## `2.2.3`\u306e\u30d3\u30eb\u30c9\uff06\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u57fa\u672c\u3001\u5358\u306b make & make install\u3002\n\n~~~~sh\n$ wget --no-check-certificate https://cache.ruby-lang.org/pub/ruby/2.2/ruby-2.2.3.tar.gz\n$ cd ruby-2.2.3\n$ ./configure\n$ make\n$ sudo make install\n~~~~\n\n# ImageMagick`6.2.8.0`\u2192`6.9.1`\u306e\u66f4\u65b0\n\nredmine\u306f\u3001rmagick(ImageMagick)\u3092\u4f7f\u308f\u306a\u304f\u3066\u3082\u5229\u7528\u3067\u304d\u308b\u3063\u307d\u3044\u304c\u3001\u3053\u306e\u6a5f\u4f1a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u308b\u3002\n\n\u5f53\u521d\u3001SRPM\u304b\u3089\u306e\u66f4\u65b0\u3092\u8a66\u307f\u305f\u304c\u3001\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306a\u3069\u304b\u306a\u308a\u9762\u5012\u3060\u3063\u305f\u306e\u3067\u3001`tar.xz`\u304b\u3089\u306e`make` & `make install`\u3067\u306e\u66f4\u65b0\u3092\u7528\u3044\u308b\u3002\n\n\u307e\u305f\u30012015/10/09\u6642\u70b9\u6700\u65b0\u306e`6.9.2-3`\u3060\u3068\u3001\u65b0\u3057\u3059\u304e\u3066\u5f8c\u3005\u3001\u4f9d\u5b58\u95a2\u4fc2(rmagick\u3060\u3063\u305f\u304b\u306a\uff1f)\u3067\u6012\u3089\u308c\u305f\u306e\u3067\u3001`6.9.1`\u3092\u9078\u629e\u3002\n\n\u5927\u304d\u306a\u6d41\u308c\u306f\u3001\u3056\u3063\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u611f\u3058\u3002\n\n1. `6.2.8.0`\u306e\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n2. `6.9.1`\u306e\u30d3\u30eb\u30c9\uff06\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n## `6.2.8.0`\u306e\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n`6.2.8.0`\u306f\u3001yum\u7d4c\u7531\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u3067\u6d88\u3059\u3002\n\n~~~~sh\n$ sudo yum erase ImageMagick-6.2.8.0-15.el5_8\n~~~~\n\n## `6.9.1`\u306e\u30d3\u30eb\u30c9\uff06\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u57fa\u672c\u3001\u5358\u306b make & make install\u3002\n\u305f\u3060\u3001`--prefix=/usr`\u3060\u3051\u6307\u5b9a\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u3001rmagick\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b`PKG_CONFIG_PATH`\u3068\u304b\u306e\u6307\u5b9a\u3092\u884c\u308f\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u304b\u3063\u305f\u6c17\u304c\u3059\u308b\u3002)\n\n~~~~sh\n$ wget http://www.imagemagick.org/download/releases/ImageMagick-6.9.1-10.tar.xz\n$ xz -dv ImageMagick-6.9.1-10.tar.xz\n$ tar -xvf ImageMagick-6.9.1-10.tar\n$ cd ImageMagick-6.9.1-10\n$ ./configure --prefix=/usr\n$ make\n$ sudo make install\n~~~~\n\n## \u30d5\u30a9\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nredmine\u3067\u30ac\u30f3\u30c1\u30e3\u30fc\u30c8\u306epng\u51fa\u529b\u3059\u308b\u3068\u304d\u306a\u3069\u306b\u3001\u3053\u306e\u30d5\u30a9\u30f3\u30c8\u304c\u7121\u3044\u3068\u5316\u3051\u308b\u3002\n\n~~~~sh\nsudo yum install ipa-pgothic-fonts ipa-pmincho-fonts\n~~~~\n\nCentOS\u3060\u3068\u3001`/usr/share/fonts`\u914d\u4e0b\u306b\u3001\u30d5\u30a9\u30f3\u30c8\u7fa4\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002\n\n# mysql`5.0.95`->`5.5.46`\u306e\u66f4\u65b0\n\n[mysql(5.0.95->5.5.46) + mod_auth_mysql \u306e\u66f4\u65b0](http://qiita.com/gitseitanaka/items/5bcc07d9300119dc2473)\u53c2\u7167\u3002\n\n# redmine\u53ca\u3073rails\u95a2\u9023\n\n\u3053\u3053\u3067\u3001\u4e00\u6c17\u306bredmine\u3068rails\u306e\u66f4\u65b0\u3092\u884c\u3046\u3002\nredmine\u306f`svn trunk`\u74b0\u5883\u3092\u7528\u3044\u3066\u304a\u308a\u3001\u4eca\u56de\u3082\u5f15\u304d\u7d9a\u304d\u3001trunk\u3092\u5229\u7528\u3059\u308b\u3002\u4f46\u3057\u3001\u30ec\u30d3\u30b8\u30e7\u30f3\u306f\u3001\u5b89\u5b9a\u5316\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u540c\u7b49\u306e\u3082\u306e\u3092\u7528\u3044\u308b\u3002\n\u5927\u304d\u306a\u6d41\u308c\u306f\u3001\u4ee5\u4e0b\u3002\n\n1. trunk\u9020\u308a\u76f4\u3057\n2. gem update (\u3053\u3053\u3067\u3001rails\u306eupdate\u3082\u5b9f\u65bd)\n3. redmine\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\n4. `db:migrate`\u4ed6\n\n## `trunk`\u9020\u308a\u76f4\u3057\n\nredmine\u306esvn\u30ec\u30dd\u30b8\u30c8\u30ea\u304c\u3001\u4ee5\u4e0b\u306e\u69d8\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u6539\u3081\u3066\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u3002r14607\u304c\u3001`3.1.1`\u76f8\u5f53\u3002\n\u73fe\uff1ahttps://svn.redmine.org/redmine/trunk\n\u65e7\uff1ahttp://redmine.rubyforge.org/svn/trunk\n\n\n\u3042\u3068\u306f\u3001\u4ee5\u4e0b\u3092\u5b9f\u65bd\u3002\n\n* \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092\u65e7trunk\u3088\u308a\u30b3\u30d4\u30fc\u3002\n* \u30d7\u30e9\u30b0\u30a4\u30f3\u53d6\u308a\u8fbc\u307f\n\n~~~~sh\n$ mv trunk old_trunk\n$ svn co -r 14607 https://svn.redmine.org/redmine/trunk\n$ cd trunk\n$ cp -p ../old_trunk/filses/* filse/.\n$ cd plugins\n$ git clone git://github.com/dergachev/redmine_gist.git gist\n~~~~\n\n## `gem update`\n\n`gem`\u306e\u66f4\u65b0\u3092\u884c\u3044\u3001\u5408\u308f\u305b\u3066\u4ee5\u4e0b\u3092gem\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3002\n\n* `bundle`\n* `mysql2` \u2190 \u30a2\u30c0\u30d7\u30bf\u304c`mysql`\u304b\u3089\u5909\u308f\u3063\u305f\n\n\u305d\u306e\u5f8c\u3001trunk\u5185\u3067\u3001`bundle install`\u3092\u5b9f\u65bd\u3057\u3001trunk\u306e\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u66f4\u65b0\u3059\u308b\u3002\u3053\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067rails\u3082`4.2.4`\u306b\u66f4\u65b0\u3055\u308c\u308b\u3002\n\n~~~~sh\n$ sudo gem update --system\n$ sudo gem install bundle\n$ sudo gem install mysql2\n$ cd trunk\n$ sudo bundle install --without development test\n~~~~\n\n## redmine\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\n\n~~~~sh\n$ cd trunk\n$ cp config/database.yml.example config/database.yml\n$ cp config/configuration.yml.example config/configuration.yml\n~~~~\n\n~~~~diff:config/database.yml\n--- database.yml.example        2015-10-09 13:19:46.000000000 +0900\n+++ database.yml        2015-10-09 08:29:08.000000000 +0900\n@@ -6,8 +6,8 @@\n   adapter: mysql2\n   database: redmine\n   host: localhost\n-  username: root\n-  password: \"\"\n+  username: redmineuser\n+  password: xxxxxxxxxxxx\n   encoding: utf8\n\n development:\n@@ -15,7 +15,7 @@\n   database: redmine_development\n   host: localhost\n   username: root\n-  password: \"\"\n+  password:\n   encoding: utf8\n\n~~~~\n\n~~~~diff:config/configuration.yml\n   # Absolute path (e.g. /usr/bin/convert, c:/im/convert.exe) to\n   # the ImageMagick's `convert` binary. Used to generate attachment thumbnails.\n-  #imagemagick_convert_command:\n+  imagemagick_convert_command: /usr/bin/convert\n\n   # Configuration of RMagcik font.\n   #\n@@ -202,7 +202,7 @@\n   #   Linux:\n   #     rmagick_font_path: /usr/share/fonts/ipa-mincho/ipam.ttf\n   #\n-  rmagick_font_path:\n+  rmagick_font_path: /usr/share/fonts/ipa-pgothic/ipagp.ttf\n\n   # Maximum number of simultaneous AJAX uploads\n   #max_concurrent_ajax_uploads: 2\n~~~~\n\n## `db:migrate`\u4ed6\n\n\u898f\u5b9a\u306e\u304a\u307e\u3058\u306a\u3044\u3092\u5b9f\u65bd\u3002\n\n~~~~sh\n$ cd trunk\n$ bundle exec rake generate_secret_token\n$ bundle exec rake db:migrate RAILS_ENV=production\n$ bundle exec rake redmine:plugins:migrate RAILS_ENV=production\n$ bundle exec rake tmp:cache:clear tmp:sessions:clear RAILS_ENV=production\n~~~~\n\n# passenger\u306e`3.0.7`\u2192`5.0.20`\n\n\u524d\u8ff0\u306e\u66f4\u65b0\u306b\u4f34\u3044\u3001passenger\u3082\u66f4\u65b0\u3092\u884c\u308f\u306a\u3044\u3068http\u304b\u3089\u8d77\u52d5\u3057\u3066\u304f\u308c\u306a\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u3067\u66f4\u65b0\u3002\n\n~~~~sh\n$ sudo gem install passenger\n$ sudo passenger-install-apache2-module\n~~~~\n\n\u6700\u7d42\u7684(apach2/ruby)\u306b\u51fa\u529b\u3055\u308c\u305f\u4ee5\u4e0b\u3092\u3001httpd.conf(redmine.conf)\u306b\u8cbc\u308a\u3064\u3051\u308b\u3002\u65e7(`3.0.7`)\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u53c8\u306f\u524a\u9664\u3002\n\n~~~~httpd.conf\n  # LoadModule passenger_module /usr/lib/ruby/gems/1.8/gems/passenger-3.0.7/ext/apache2/mod_passenger.so\n  # PassengerRoot /usr/lib/ruby/gems/1.8/gems/passenger-3.0.7\n  # PassengerRuby /usr/bin/ruby\n\n   LoadModule passenger_module /usr/local/lib/ruby/gems/2.2.0/gems/passenger-5.0.20/buildout/apache2/mod_passenger.so\n   <IfModule mod_passenger.c>\n     PassengerRoot /usr/local/lib/ruby/gems/2.2.0/gems/passenger-5.0.20\n     PassengerDefaultRuby /usr/local/bin/ruby\n   </IfModule>\n~~~~\n\n# apache\u518d\u8d77\u52d5\n\n~~~~sh\n# /etc/init.d/httpd restart\n~~~~\n\n# \u672c\u30c1\u30e3\u30f3\u74b0\u5883\u3078\u306e\u9069\u7528\u7d50\u679c(2015/10/14)\n\n\u4e0a\u8a18\u306b\u307e\u3068\u3081\u305f\u624b\u9806\u3067\u3001\u6700\u7d42\u7684\u306b\u672c\u30c1\u30e3\u30f3\u74b0\u5883\u306e\u66f4\u65b0\u306f\u884c\u3048\u305f\u3002(20\u5206\u5f31\u7a0b\u5ea6)\n\u305f\u3060\u3001mysql\u306e\u66f4\u65b0\u6642\u306e\u30ea\u30b9\u30c8\u30a2\u4f5c\u696d\u3067\u3001mysql\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u304c\u6d88\u3048\u308b\u30cf\u30d7\u30cb\u30f3\u30b0\u304c\u3042\u308a\u3001\u809d\u3092\u51b7\u3084\u3057\u305f\u3002\u3002\n", "tags": ["Redmine", "Rails", "MySQL", "CentOS5"]}