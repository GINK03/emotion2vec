{"context": "@ryo0301\u3055\u3093\u306bEBS\u304c\u30aa\u30f3\u30e9\u30a4\u30f3\u3067\u62e1\u5f35\u3067\u304d\u308b\u3088\u3063\u3066\u6559\u3048\u3066\u3082\u3089\u3063\u305f\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nAWS\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\nEBS\u306eVolumes\u304b\u3089Modify Volume\u3092\u9078\u3093\u3067\u62e1\u5f35\u3067\u304d\u307e\u3059\u3002\n\u306a\u3093\u3068Volume Type\u3082\u5909\u3048\u3089\u308c\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\u4eca\u56de\u306f\u305d\u3053\u306f\u4e0d\u8981\u306a\u306e\u3067\u3001Size\u3060\u30518G\u304b\u3089500G\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3002\n\uff08\u5897\u3084\u3057\u305f\u3089\u6e1b\u3089\u305b\u307e\u305b\u3093\u3002\uff09\n\noptimizing\u306b\u306a\u308c\u3070\u3082\u3046resize2fs\u53ef\u80fd\u306a\u3088\u3046\u3067\u3059\u3002\u6570\u79d2\u3067optimizing\u306b\u306a\u308a\u307e\u3057\u305f\u3002\ncompleted\u307e\u3067\u306f5\u301c10\u5206\u7a0b\u5ea6\u3067\u3057\u305f\u3002\n\nresize2fs\n\u30c7\u30a3\u30b9\u30af\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ df\nFilesystem     1K-blocks    Used Available Use% Mounted on\ndevtmpfs         2014036      56   2013980   1% /dev\ntmpfs            2024908       0   2024908   0% /dev/shm\n/dev/xvda1       8123812 2962092   5061472  37% /\n\n$ lsblk\nNAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nxvda    202:0    0  500G  0 disk\n\u2514\u2500xvda1 202:1    0    8G  0 part /\n\n\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ sudo resize2fs /dev/xvda1\nresize2fs 1.42.12 (29-Aug-2014)\nThe filesystem is already 2096635 (4k) blocks long.  Nothing to do!\n\n\nNothing to do!\n\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u8abf\u3079\u305f\u3089\u3001\u3053\u3093\u306a\u8a18\u4e8b\u3092\u767a\u898b\u3057\u305f\u306e\u3067\u3001\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3063\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\nEC2\u306eCentOS6 HVM\u3067resize2fs \"Nothing to do!\"\u3068\u8a00\u308f\u308c\u305f\u3068\u304d\n\ngrowpart & resize2fs\ngrowpart\u3057\u305f\u3042\u3068\u306bresize2fs\u3059\u308c\u3070\u3044\u3044\u3088\u3046\u306a\u306e\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\u307e\u305a\u306fgrowpart\u3067\u3059\u3002\n$ sudo growpart /dev/xvda 1\nCHANGED: disk=/dev/xvda partition=1: start=4096 old: size=16773086,end=16777182 new: size=1048571870,end=1048575966\n\n\u3082\u3061\u308d\u3093\u307e\u3060\u5897\u3048\u3066\u307e\u305b\u3093\u3002\n$ df\nFilesystem     1K-blocks    Used Available Use% Mounted on\ndevtmpfs         2014036      56   2013980   1% /dev\ntmpfs            2024908       0   2024908   0% /dev/shm\n/dev/xvda1       8123812 2962092   5061472  37% /\n\nresize2fs\u3092\u5b9f\u884c\u3057\u3066\n$ sudo resize2fs /dev/xvda1\nresize2fs 1.42.12 (29-Aug-2014)\nFilesystem at /dev/xvda1 is mounted on /; on-line resizing required\nold_desc_blocks = 1, new_desc_blocks = 32\nThe filesystem on /dev/xvda1 is now 131071483 (4k) blocks long.\n\n\u5897\u3048\u307e\u3057\u305f\u3002\n$ df\nFilesystem     1K-blocks    Used Available Use% Mounted on\ndevtmpfs         2014036      56   2013980   1% /dev\ntmpfs            2024908       0   2024908   0% /dev/shm\n/dev/xvda1     515928484 2978256 512849980   1% /\n\n$ lsblk\nNAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nxvda    202:0    0  500G  0 disk\n\u2514\u2500xvda1 202:1    0  500G  0 part /\n\n\u7121\u4e8b500G\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n@ryo0301\u3055\u3093\u306bEBS\u304c\u30aa\u30f3\u30e9\u30a4\u30f3\u3067\u62e1\u5f35\u3067\u304d\u308b\u3088\u3063\u3066\u6559\u3048\u3066\u3082\u3089\u3063\u305f\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n# AWS\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u3092\u62e1\u5f35\n\nEBS\u306eVolumes\u304b\u3089Modify Volume\u3092\u9078\u3093\u3067\u62e1\u5f35\u3067\u304d\u307e\u3059\u3002\n\u306a\u3093\u3068Volume Type\u3082\u5909\u3048\u3089\u308c\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\u4eca\u56de\u306f\u305d\u3053\u306f\u4e0d\u8981\u306a\u306e\u3067\u3001Size\u3060\u30518G\u304b\u3089500G\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3002\n\uff08\u5897\u3084\u3057\u305f\u3089\u6e1b\u3089\u305b\u307e\u305b\u3093\u3002\uff09\n\n![modifyvolume.png](https://qiita-image-store.s3.amazonaws.com/0/45645/be23b089-4c42-60e7-ad9c-4bc8676bbc0e.png \"modifyvolume.png\")\n\noptimizing\u306b\u306a\u308c\u3070\u3082\u3046resize2fs\u53ef\u80fd\u306a\u3088\u3046\u3067\u3059\u3002\u6570\u79d2\u3067optimizing\u306b\u306a\u308a\u307e\u3057\u305f\u3002\ncompleted\u307e\u3067\u306f5\u301c10\u5206\u7a0b\u5ea6\u3067\u3057\u305f\u3002\n\n# resize2fs\n\n\u30c7\u30a3\u30b9\u30af\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash\n$ df\nFilesystem     1K-blocks    Used Available Use% Mounted on\ndevtmpfs         2014036      56   2013980   1% /dev\ntmpfs            2024908       0   2024908   0% /dev/shm\n/dev/xvda1       8123812 2962092   5061472  37% /\n\n$ lsblk\nNAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nxvda    202:0    0  500G  0 disk\n\u2514\u2500xvda1 202:1    0    8G  0 part /\n```\n\n\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo resize2fs /dev/xvda1\nresize2fs 1.42.12 (29-Aug-2014)\nThe filesystem is already 2096635 (4k) blocks long.  Nothing to do!\n```\n\n# Nothing to do!\n\n\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u8abf\u3079\u305f\u3089\u3001\u3053\u3093\u306a\u8a18\u4e8b\u3092\u767a\u898b\u3057\u305f\u306e\u3067\u3001\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3063\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\n[EC2\u306eCentOS6 HVM\u3067resize2fs \"Nothing to do!\"\u3068\u8a00\u308f\u308c\u305f\u3068\u304d](http://takeshiyako.blogspot.jp/2014/12/ec2centos6-hvmresize2fs-nothing-to-do.html)\n\n# growpart & resize2fs\ngrowpart\u3057\u305f\u3042\u3068\u306bresize2fs\u3059\u308c\u3070\u3044\u3044\u3088\u3046\u306a\u306e\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u307e\u305a\u306fgrowpart\u3067\u3059\u3002\n\n```bash\n$ sudo growpart /dev/xvda 1\nCHANGED: disk=/dev/xvda partition=1: start=4096 old: size=16773086,end=16777182 new: size=1048571870,end=1048575966\n```\n\n\u3082\u3061\u308d\u3093\u307e\u3060\u5897\u3048\u3066\u307e\u305b\u3093\u3002\n\n```bash\n$ df\nFilesystem     1K-blocks    Used Available Use% Mounted on\ndevtmpfs         2014036      56   2013980   1% /dev\ntmpfs            2024908       0   2024908   0% /dev/shm\n/dev/xvda1       8123812 2962092   5061472  37% /\n```\n\nresize2fs\u3092\u5b9f\u884c\u3057\u3066\n\n```bash\n$ sudo resize2fs /dev/xvda1\nresize2fs 1.42.12 (29-Aug-2014)\nFilesystem at /dev/xvda1 is mounted on /; on-line resizing required\nold_desc_blocks = 1, new_desc_blocks = 32\nThe filesystem on /dev/xvda1 is now 131071483 (4k) blocks long.\n```\n\n\u5897\u3048\u307e\u3057\u305f\u3002\n\n```bash\n$ df\nFilesystem     1K-blocks    Used Available Use% Mounted on\ndevtmpfs         2014036      56   2013980   1% /dev\ntmpfs            2024908       0   2024908   0% /dev/shm\n/dev/xvda1     515928484 2978256 512849980   1% /\n\n$ lsblk\nNAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nxvda    202:0    0  500G  0 disk\n\u2514\u2500xvda1 202:1    0  500G  0 part /\n```\n\n\u7121\u4e8b500G\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n", "tags": ["ebs", "EC2", "AWS"]}