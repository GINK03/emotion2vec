{"tags": ["JavaScript", "HTML5", "canvas", "\u753b\u50cf\u51e6\u7406"], "context": " More than 1 year has passed since last update.\n\n\u753b\u50cf\u306e\uff12\u5024\u5316\n\u753b\u50cf\u306e\u753b\u7d20\u3092\u767d\u304b\u9ed2\u304b\u306e\uff12\u968e\u8d85\u306b\u5909\u63db\u3059\u308b\u51e6\u7406\u3092\uff12\u5024\u5316\u3068\u3044\u3044\u307e\u3059\u3002\n\n\u95be\u5024\n\u753b\u50cf\u306e2\u5024\u5316\u306e\u767d\u304b\u9ed2\u304b\u3092\u5224\u5225\u3059\u308b\u305f\u3081\u306e\u95be\u5024\u3092\u304d\u3081\u306a\u304f\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\n\u95be\u5024\u306e\u8a2d\u5b9a\u306f\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u5c71\u304c\u4e8c\u3064\u3042\u308b\u5834\u5408\u305d\u306e\u5c71\u306e\u9593\u306e\u8c37\u306b\u95be\u5024\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u3046\u307e\u304f\uff12\u5024\u5316\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\u4ee5\u524d\u3064\u304f\u3063\u305f\u8f1d\u5ea6\u306e\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u3060\u3044\u305f\u304465\u3092\u5883\u306b\u8272\u3092\u5909\u3048\u3066\u307f\u305f\u3089\u3044\u3044\u611f\u3058\u306b\u306a\u3063\u305f\u306e\u3067\u3001\n65\u3092\u95be\u5024\u306b\u3057\u3066\u307f\u307e\u3059\u3002\n\n2\u5024\u5316\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\n\nbinarization.html\n<!DOCTYPE html>\n<html>\n<head>\n<title>\u753b\u50cf\u51e6\u7406</title>\n<script type=\"text/javascript\">\nconst THRESHOLD = 65;\n\nwindow.onload = function() {\n    var canvas = document.getElementById(\"c1\");\n    var ctx = canvas.getContext(\"2d\");\n    var img = new Image();\n    img.src = \"test.jpg\";\n    img.onload = function() {\n        ctx.drawImage(img, 0, 0);\n        var src = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        var dst = ctx.createImageData(canvas.width, canvas.height);\n\n        for (var i = 0; i < src.data.length; i=i+4) {\n            var y = ~~(0.299 * src.data[i] + 0.587 * src.data[i + 1] + 0.114 * src.data[i + 2]);\n            var ret = (y > THRESHOLD) ? 255 : 0;\n            dst.data[i] = dst.data[i+1] = dst.data[i+2] = ret;\n            dst.data[i+3] = src.data[i+3];\n        }\n\n        ctx.putImageData(dst, 0, 0);\n    };\n};\n</script>\n</head>\n<body>\n  <canvas id=\"c1\" width=\"300\" height=\"300\">\n</body>\n</html>\n\n\n\n\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u3061\u3087\u3063\u3068\u3044\u3044\u611f\u3058\u306b\u3067\u304d\u307e\u3057\u305f\u304b\u306d\uff1f\n\n\n\n# \u753b\u50cf\u306e\uff12\u5024\u5316\n\u753b\u50cf\u306e\u753b\u7d20\u3092\u767d\u304b\u9ed2\u304b\u306e\uff12\u968e\u8d85\u306b\u5909\u63db\u3059\u308b\u51e6\u7406\u3092\uff12\u5024\u5316\u3068\u3044\u3044\u307e\u3059\u3002\n\n# \u95be\u5024\n\u753b\u50cf\u306e2\u5024\u5316\u306e\u767d\u304b\u9ed2\u304b\u3092\u5224\u5225\u3059\u308b\u305f\u3081\u306e\u95be\u5024\u3092\u304d\u3081\u306a\u304f\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\n\u95be\u5024\u306e\u8a2d\u5b9a\u306f\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u5c71\u304c\u4e8c\u3064\u3042\u308b\u5834\u5408\u305d\u306e\u5c71\u306e\u9593\u306e\u8c37\u306b\u95be\u5024\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u3046\u307e\u304f\uff12\u5024\u5316\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\u4ee5\u524d\u3064\u304f\u3063\u305f\u8f1d\u5ea6\u306e\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n\n![binary.png](https://qiita-image-store.s3.amazonaws.com/0/4044/a2722c08-7554-fd3b-9d2b-de71941aa28c.png \"binary.png\")\n\n\u3060\u3044\u305f\u304465\u3092\u5883\u306b\u8272\u3092\u5909\u3048\u3066\u307f\u305f\u3089\u3044\u3044\u611f\u3058\u306b\u306a\u3063\u305f\u306e\u3067\u3001\n65\u3092\u95be\u5024\u306b\u3057\u3066\u307f\u307e\u3059\u3002\n\n# 2\u5024\u5316\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\n\n\n````binarization.html\n<!DOCTYPE html>\n<html>\n<head>\n<title>\u753b\u50cf\u51e6\u7406</title>\n<script type=\"text/javascript\">\nconst THRESHOLD = 65;\n\nwindow.onload = function() {\n    var canvas = document.getElementById(\"c1\");\n    var ctx = canvas.getContext(\"2d\");\n    var img = new Image();\n    img.src = \"test.jpg\";\n    img.onload = function() {\n        ctx.drawImage(img, 0, 0);\n        var src = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        var dst = ctx.createImageData(canvas.width, canvas.height);\n\n        for (var i = 0; i < src.data.length; i=i+4) {\n            var y = ~~(0.299 * src.data[i] + 0.587 * src.data[i + 1] + 0.114 * src.data[i + 2]);\n            var ret = (y > THRESHOLD) ? 255 : 0;\n            dst.data[i] = dst.data[i+1] = dst.data[i+2] = ret;\n            dst.data[i+3] = src.data[i+3];\n        }\n\n        ctx.putImageData(dst, 0, 0);\n    };\n};\n</script>\n</head>\n<body>\n  <canvas id=\"c1\" width=\"300\" height=\"300\">\n</body>\n</html>\n\n````\n\n\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u3061\u3087\u3063\u3068\u3044\u3044\u611f\u3058\u306b\u3067\u304d\u307e\u3057\u305f\u304b\u306d\uff1f\n\n![binary2.png](https://qiita-image-store.s3.amazonaws.com/0/4044/103ad253-7194-6a12-337f-be9e5bd649e3.png \"binary2.png\")\n\n\n\n"}