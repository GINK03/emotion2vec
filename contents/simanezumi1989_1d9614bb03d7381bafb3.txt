{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3092\u653b\u7565\u3059\u308b\u4eba\u5de5\u77e5\u80fd\u3092\u958b\u767a\u3057\u3066\u3044\u307e\u3059\u3002\u524d\u56de\u5ba3\u8a00\u3057\u305f\u901a\u308a\uff0c\u5404\u6642\u9593\u306e\u884c\u52d5\u3092\u907a\u4f1d\u5b50\u3068\u3059\u308b\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\n\u5927\u307e\u304b\u306a\u6d41\u308c\u306f\u524d\u56de\u306e\u8a18\u4e8b\u3068\u540c\u3058\u3067\u3059\u3002\u5927\u304d\u304f\u9055\u3046\u3068\u3053\u308d\u306f\u907a\u4f1d\u5b50\u3067\u3059\u3002\u524d\u56de\u306f\uff0c\u884c\u52d5\u3092\u6c7a\u5b9a\u3059\u308b\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u91cd\u307f\u3092\u907a\u4f1d\u5b50\u3068\u3057\u3066\u3044\u307e\u3057\u305f\u304c\uff0c\u4eca\u56de\u306f\u76f4\u63a5\u907a\u4f1d\u5b50\u304c\u884c\u52d5\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002\n\n\u521d\u671f\u8a2d\u5b9a\n\u500b\u4f53\u3092100\u500b\u4f53\u7528\u610f\u3059\u308b\u3002\n\u3053\u306e\u3068\u304d\uff0c\u500b\u4f53\u306e\u884c\u52d5\u306f\uff08-1,0,1\uff09=\uff08\u5de6,\u505c\u6b62,\u53f3\uff09\u306e\uff13\u3064\u3067\u3042\u308a\uff0c\u907a\u4f1d\u5b50\u6570\u306f10000\u3068\u3059\u308b\u3002\n\u4f8b\u3048\u3070\u907a\u4f1d\u5b50\u304c[0,0,1,0,-1,....]\u3067\u3042\u308c\u3070\uff0c\u30d0\u30fc\u306f\uff0c\u505c\u6b62\uff0c\u505c\u6b62\uff0c\u53f3\uff0c\u505c\u6b62\uff0c\u5de6\uff0c...\u3068\u3044\u3046\u52d5\u304d\u3092\u3059\u308b\u3002\n\nvar N = 100;//\u500b\u4f53\u6570\nvar individual = new Array(N);\nvar chrom = 10000;//\u907a\u4f1d\u5b50\u6570\n//\u521d\u671f\u306e\u907a\u4f1d\u5b50\u6c7a\u5b9a(\u30e9\u30f3\u30c0\u30e0)\nfor(var n=0;n<N;n++){\n    individual[n] = new Array(chrom);\n    for(var c=0;c<chrom;c++){\n        individual[n][c] = Math.floor(Math.random()*3) - 1;//-1\u304b0\u304b1\n    };\n};\n\n\n\u4e16\u4ee3\u4ea4\u4ee3\u30e2\u30c7\u30eb\nMGG\u3068\u3059\u308b\u3002\n\u500b\u4f53\u7fa4\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u306b\uff11\u7d44\u306e\u89aa\u3092\u9078\u3073\uff0cn\u500b\u4f53\u306e\u5b50\u4f9b\u3092\u4f5c\u308b\u3002\u305d\u3057\u3066\uff0c\u89aa\u3068\u5b50\u4f9b\u3092\u542b\u3081\u305fn+2\u500b\u4f53\u306e\u3046\u3061\uff0c\u3082\u3063\u3068\u3082\u8a55\u4fa1\u306e\u9ad8\u3044\u500b\u4f53\u3068\uff0c\u30eb\u30fc\u30ec\u30c3\u30c8\u9078\u629e\u306b\u3088\u3063\u3066\u9078\u3070\u308c\u305f\uff11\u500b\u4f53\u3092\u89aa\u3068\u5165\u308c\u66ff\u3048\u308b\u3002\n\n\u4ea4\u53c9\n\uff12\u70b9\u4ea4\u53c9\u3092\u884c\u3046\u3002\uff12\u70b9\u4ea4\u53c9\u306f\u4e0b\u306e\u56f3\u3092\u307f\u308c\u3070\u308f\u304b\u308b\u3088\u3046\u306b\uff0c\uff18\u500b\u4f53\u306e\u5b50\u4f9b\u3092\u4f5c\u308b\u3002\n\n\n//\u89aa\u9078\u629e\nvar r1 = Math.floor(Math.random()*N);\nvar r2 = Math.floor(Math.random()*N);\n\n//\u4e8c\u70b9\u4ea4\u53c9\n//\u4ea4\u53c9\u3059\u308b\u70b9\u3092\u9078\u629e\nvar rand1 = Math.floor(Math.random()*chrom);\nvar rand2 = rand1 + Math.floor(Math.random()*(chrom-rand1));//0<=r1<r2<\u907a\u4f1d\u5b50\u6570\n//\u89aa+\u5b50=2+8\u3000\u306e\u5b50\u4f9b\u500b\u4f53\u3092\u3064\u304f\u308b\nconst CHILDLEN = 10;\nvar child = new Array(CHILDLEN);\nfor(var n=0;n<CHILDLEN;n++){\n    child[n] = new Array(chrom);\n};\nfor(var c=0;c<chrom;c++){\n    var parent=[individual[r1][c],individual[r2][c]];\n    child[0][c] = parent[0];//\u89aa\u3092\u4ee3\u5165\n    child[1][c] = parent[1];//\u89aa\u3092\u4ee3\u5165\n\n    //\u4e0a\u306e\u56f3\u306e\u3088\u3046\u306b\u89aa\u500b\u4f53\u3092\u4ee3\u5165\n    if(c<rand1){\n        child[2][c] = parent[0];\n        child[3][c] = parent[0];\n        child[4][c] = parent[0];\n        child[5][c] = parent[0];\n        child[6][c] = parent[1];\n        child[7][c] = parent[1];\n        child[8][c] = parent[1];\n        child[9][c] = parent[1];\n    }else if(rand1<=c && c<rand2){\n        child[2][c] = parent[0];\n        child[3][c] = parent[0];\n        child[4][c] = parent[1];\n        child[5][c] = parent[1];\n        child[6][c] = parent[0];\n        child[7][c] = parent[0];\n        child[8][c] = parent[1];\n        child[9][c] = parent[1];                \n    }else{\n        child[2][c] = parent[0];\n        child[3][c] = parent[1];\n        child[4][c] = parent[0];\n        child[5][c] = parent[1];\n        child[6][c] = parent[0];\n        child[7][c] = parent[1];\n        child[8][c] = parent[0];\n        child[9][c] = parent[1];\n    };\n};\n\n\n\u7a81\u7136\u5909\u7570\n//\u5404\u500b\u4f531%\u3067\u7a81\u7136\u5909\u7570\nconst mutantrate = 0.01;\nfor(var n=0;n<N;n++){\n    if(Math.random()<mutantrate){\n          //numberOfFrames=\u500b\u4f53\u304c\u30b2\u30fc\u30e0\u3057\u305f\u6642\u9593 \u307e\u3067\u306e\u907a\u4f1d\u5b50\u3092\u7a81\u7136\u5909\u7570\u3055\u305b\u308b\n        var m = Math.floor(Math.random()*numberOfFrames);\n        individual[n][m] = Math.floor(Math.random()*3) - 1;\n    };\n};\n\n\n\u7d50\u679c\n\u52d5\u753b\uff1a\u30d6\u30ed\u30c3\u30af\u5d29\u3057 \u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\n\u3046\u307e\u304f\u52d5\u3044\u3066\u304f\u308c\u307e\u3057\u305f\u3002\u524d\u56de\u3088\u308a\u3082\u5b9f\u884c\u7d50\u679c\u304c\u901f\u304f\u3044\u308d\u3044\u308d\u8a66\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u8ab2\u984c\n\u52d5\u753b\u306e\u3088\u3046\u306a\u500b\u4f53\u306f\uff0c\u591a\u304f\u306e\u72a0\u7272\u306e\u3082\u3068\u51fa\u6765\u4e0a\u304c\u3063\u305f\u500b\u4f53\u306a\u306e\u3067\uff0c\u3082\u3063\u3068\u4e16\u4ee3\u6570\u3092\u6e1b\u3089\u3057\u305f\u3044\u3067\u3059\u3002\n\n\u6b21\u56de\u300c\u8ab2\u984c\u306f\u3084\u3089\u305a\u306b\u524d\u9032\u3060\uff01\u300d\n\u4eca\u56de\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u3046\u307e\u304f\u6a5f\u80fd\u3057\u305f\u306e\u3067\uff0c\u6b21\u56de\u306f\u3053\u306e\u884c\u52d5\u3092\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u8a18\u61b6\u3055\u305b\u307e\u3059\u3002\n\n\u53c2\u8003\u8cc7\u6599\n\uff12\u70b9\u4ea4\u53c9\u306e\u56f3\n\u69d8\u3005\u306a\u9078\u629e\u30fb\u4ea4\u53c9\u30fb\u7a81\u7136\u5909\u7570\n\u904e\u53bb\u306e\u8a18\u4e8b\n\u5b9f\u6570\u5024\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u3088\u308b\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u91cd\u307f\u6700\u9069\u5316\u3068\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3078\u306e\u5fdc\u7528\n\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u30ca\u30c3\u30d7\u30b6\u30c3\u30af\u554f\u984c\u3092\u653b\u7565\n\n\u5b9f\u88c5\u30b3\u30fc\u30c9\n\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"UTF-8\">\n<title>\u30d6\u30ed\u30c3\u30af\u5d29\u3057 - \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af - \u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0</title>\n<meta http-equiv=\"Content-Style-Type\" content=\"text/css\">\n<meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\">\n<meta name=\"robots\" content=\"noindex,nofollow\">\n<style type=\"text/css\">\n\nbody{ -moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; font-size: 20px;}\ncanvas{ border: none; position: absolute; left: 10px; top: 10px;}\n#graph2{ cursor: pointer;}\n#data{ position: relative; top: 410px;}\n#myPercent{ width: 40px; font-size: inherit;}\n#quickCalc{ font-size: inherit;}\n\n</style>\n</head>\n<body>\n\n<canvas id='graph'></canvas>\n<canvas id='graph2'></canvas>\n<p id='data'>\n    <input type='checkbox' id='resetEverytime' checked>\u843d\u3061\u305f\u3089\u30ea\u30bb\u30c3\u30c8<br>\n    <input type='text' value='100' id='myPercent'>\u3000\n    <input type='button' id='quickCalc' value='\u63cf\u753b\u305b\u305a\u306b\u8a08\u7b97'>\u3000\n    <span id='myResult'></span><br>\n    <input type=\"text\" id=\"times\" value=\"100\">\u4e16\u4ee3\n    <input type=\"button\" id=\"try\" value=\"\u8a08\u7b97\">\n</p>\n\n<script>\n(function(){\n    //\u30d0\u30fc\u3092\u52d5\u304b\u3059\u95a2\u6570\n    function moveBar(In){\n        var action = In[numberOfFrames];\n        if(action==0) reward += 10;\n        var tempX = bar.x+action*30; //\u5de6\u53f3\u306b30\u30d4\u30af\u30bb\u30eb\u307e\u305f\u306f\u52d5\u304b\u306a\u3044\n        if (tempX<p.r) tempX = p.r; //\u5de6\u306e\u58c1\u306b\u5f53\u305f\u3063\u305f\u3089\u3001\u305d\u308c\u4ee5\u4e0a\u5de6\u3078\u306f\u884c\u304b\u306a\u3044\n        else if (tempX>w-p.r) tempX = w-p.r; //\u53f3\u306e\u58c1\u306b\u5f53\u305f\u3063\u305f\u3089\u305d\u308c\u4ee5\u4e0a\u53f3\u3078\u306f\u884c\u304b\u306a\u3044\n        bar.x = tempX;\n    };\n\n    function d(ID){ return document.getElementById(ID);}\n    var timer;\n    var paused = false, gameOver = false, gameEnded = true;\n    var numberOfBalls = 0; //\u4f7f\u7528\u3057\u305f\u30dc\u30fc\u30eb\u306e\u6570\n    var numberOfFrames = 0; //\u304b\u304b\u3063\u305f\u30d5\u30ec\u30fc\u30e0\u6570\uff08\u00f733\uff1d\u6642\u9593\uff08\u79d2\uff09\uff09\n    var graph = d('graph'), graph2 = d('graph2');\n    var g = graph.getContext('2d'), g2 = graph2.getContext('2d');\n    var w = 600, h = 400;\n    graph.width = graph2.width = w; graph.height = graph2.height = h;\n    g.fillStyle = '#000';\n    g.fillRect(0,0,w,h);\n    g.save();\n    g.font = '30px Arial';\n    g.fillStyle = 'white';\n    g.fillText('Click to Start',210,220);\n    g.restore();\n\n    // p\u306f\u30dc\u30fc\u30eb\u3002\u9806\u306bx\u5ea7\u6a19\u3001y\u5ea7\u6a19\u3001\u534a\u5f84\u3001\u901f\u5ea6x\u6210\u5206\u3001\u901f\u5ea6y\u6210\u5206,\u8272\n    var p = {x: 300, y: 20, r: 10, vx: 0, vy: 0, color: '#fff'};\n\n    //bar\u306f\u68d2\u3002x\u5ea7\u6a19\u3001y\u306f\u539a\u307f\u3001L\u306f\u9577\u3055\u306e\u534a\u5206\u3001edge\u306f\u89d2\u5ea6\u304c\u4ed8\u304d\u59cb\u3081\u308b\u70b9\u306e\u7aef\u304b\u3089\u306e\u8ddd\u96e2\n    var bar = {x: 300, y: 10, L: 50, edge: 45, color: '#ff0'};\n\n    //b\u306f\u30d6\u30ed\u30c3\u30af\u3002b.x\u3068b.y\u304c\u3068\u3082\u306b\u914d\u5217\u3067\u3001xy\u5ea7\u6a19\u3092\u793a\u3059\u3002w\u306fwidth\u3067\u5e45\u3001h\u306fheight\u3067\u9ad8\u3055\u3002\u5168\u3066\u540c\u3058\u5927\u304d\u3055\u306e\u9577\u65b9\u5f62\n    var b = {x: [], y: [], w: 20, h: 10, color: '#88f'};\n\n    var score = 0;\n\n    d('graph2').addEventListener('click',function(){\n        if (gameEnded){\n            gameEnded = false;\n            reset();\n            drawBG();\n            mainLoop();\n        }\n        else if (paused){\n            paused = false;\n            drawBG();\n            mainLoop();\n        }\n        else{\n            paused = true;\n            clearTimeout(timer);\n            g2.font = '30px Arial';\n            g2.fillStyle = 'white';\n            g2.fillText('paused',250,220);\n        }\n    },false);\n\n    function reset(){\n        bar.x = 300;\n        p.x = bar.x; p.y = bar.y+p.r;\n        var angle = Math.PI*(10)/180;//Math.PI*(Math.random()*60-30)/180; //-30\uff5e30\n        p.vx = Math.sin(angle)*12; p.vy = Math.cos(angle)*12; //cos\u3068sin\u306e\u53cd\u8ee2\u306b\u6ce8\u610f\n        b.x = []; b.y = [];\n        for (var i=0; i<3; i++) for (var j=0; j<11; j++){\n            b.x.push(w/2-10*b.w+j*b.w*2);\n            b.y.push(340-i*b.h*2);\n        }\n        score = numberOfBalls = numberOfFrames = 0;\n    }\n\n    function mainLoop(){\n        g.fillStyle = '#000';\n        g.fillRect(0,0,w,h);\n        g.setTransform(1,0,0,-1,0,h);\n\n        //\u30dc\u30fc\u30eb\u306e\u63cf\u753b\n        g.beginPath();\n        g.arc(p.x,p.y,p.r,0,2*Math.PI);\n        g.fillStyle = p.color;\n        g.fill();\n        //\u30dc\u30fc\u30eb\u306e\u63cf\u753b\n\n        //\u30d0\u30fc\u306e\u63cf\u753b\n        g.fillStyle = bar.color;\n        g.fillRect(bar.x-bar.L+p.r+3,0,(bar.L-p.r-3)*2,bar.y); //\u00b13\u306f\"\u904a\u3073\"\n\n        //\u30dc\u30fc\u30eb\u3092\u73fe\u5728\u306e\u901f\u5ea6\u3092\u3082\u3068\u306b\u79fb\u52d5\u3055\u305b\u308b\n        p.x += p.vx;\n        p.y += p.vy;\n\n        //\u30d0\u30fc\u3092\u52d5\u304b\u3059\n        moveBar(individual[best[1]]);\n\n\n        //\u3053\u3053\u304b\u3089\u885d\u7a81\u5224\u5b9a\u3002\u307e\u305a\u306f\u30d6\u30ed\u30c3\u30af\n        if (p.y>=280){\n            for (var i=0,I=b.x.length,hit=false; i<I; i++){\n                if ((p.y-b.y[i])*p.vy<0 && Math.abs(p.x-b.x[i])<=b.w && Math.abs(p.y-b.y[i])<=b.h+p.r){\n                    p.vy *= -1;\n                    hit = true;\n                    break;\n                }\n                else if ((p.x-b.x[i])*p.vx<0 &&Math.abs(p.y-b.y[i])<=b.h && Math.abs(p.x-b.x[i])<=b.w+p.r){\n                    p.vx *= -1;\n                    hit = true;\n                    break;\n                }\n            }\n            if (hit){\n                score += 10;\n                b.x.splice(i,1); b.y.splice(i,1);\n                drawBG();\n                if (b.x.length<=0){\n                    gameEnded = true;\n                    d('graph2').style.cursor = 'pointer';\n                    g2.font = '40px Arial';\n                    g2.fillStyle = 'white';\n                    g2.fillText('SUCCESS !',200,200);\n                    var timeLapse = Math.floor(100*numberOfFrames/33)/100;\n                    g2.fillText(timeLapse+' sec',220,250);\n                    return;\n                }\n            }\n        }\n        //\u2193\u885d\u7a81\u5224\u5b9a\u3002\u3053\u3053\u304b\u3089\u58c1\n        if (p.x>w-p.r){ p.x = w-p.r; p.vx *= -1;} //right\n        if (p.x<p.r){   p.x = p.r; p.vx *= -1;} //left\n        if (p.y>h-p.r){ p.y = h-p.r; p.vy *= -1;} //up\n        if (p.y<p.r+bar.y){\n            var p_bar = Math.abs(p.x-bar.x);\n            if (!gameOver && p_bar<=bar.L){\n                var X = (p.x>bar.x) ? 1 : -1;\u3000//\u885d\u7a81\u70b9\u306e\u30d0\u30fc\u306e\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb(X,1);\n                if (p_bar<=bar.L-bar.edge) X = 0; //\u30d0\u30fc\u306e\u4e2d\u592e\n                else if (p_bar<=bar.L-bar.edge/3) X *= (p_bar-bar.L+bar.edge)/100; //0\uff5e0.3\uff08\u30d0\u30fc\u306e\u7aef\u306f\u7d0473\u00b0\uff09\n                else X *= 0.3;\n                var L = Math.sqrt(X*X+1); //\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u306e\u9577\u3055\n                var vec = {x: X/L, y: 1/L}; //\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u306e\u6b63\u898f\u5316\n                var dot = vec.x*p.vx+vec.y*p.vy;\n                p.y = p.r+bar.y;\n                p.vx -= 2*dot*vec.x;\n                p.vy -= 2*dot*vec.y;\n                if (Math.abs(p.vx)/p.vy>1.5){ //\u89d2\u5ea6\u304c\u4ed8\u304d\u904e\u304e\u306a\u3044\u3088\u3046\u8abf\u6574\n                    var v2 = p.vx*p.vx+p.vy*p.vy;\n                    p.vy = Math.sqrt(v2/3.25);\n                    p.vx = (p.vx<0) ? -p.vy*1.5 : p.vy*1.5;\n                }\n            }\n            else if (!gameOver && p.y<p.r) gameOver = true;\n            else if (gameOver && p.y<-p.r){\n                gameOver = false;\n                reset();\n                numberOfFrames = -1;;\n                drawBG();\n            }\n        }\n        numberOfFrames++;\n        timer = setTimeout(mainLoop,30); //30\u30df\u30ea\u79d2\u5f8c\u306bmainloop\u5b9f\u884c (-> 1\u79d2\u306b\u7d0430\u56de\u7e70\u308a\u8fd4\u3059)\n    }\n\n    //\u2193\u30d6\u30ed\u30c3\u30af\u306e\u63cf\u753b\u3002\u52d5\u304d\u304c\u306a\u3044\u306e\u306b\u6bce\u56de\u63cf\u304f\u306e\u306f\u7121\u99c4\u306a\u306e\u3067\u3001\u5225\u306b\u3057\u3066\u51e6\u7406\u3092\u7bc0\u7d04\u3002\n    function drawBG(){\n        g2.clearRect(0,0,w,h);\n        g2.font = '20px Arial';\n        g2.fillStyle = '#fff';\n        g2.fillText('Balls:\u3000'+numberOfBalls,15,25);\n        g2.fillText('Score:\u3000'+score,480,25);\n        g2.save();\n        g2.setTransform(1,0,0,-1,0,h);\n        g2.fillStyle = '#ccf';\n        for (var i=0,I=b.x.length; i<I; i++) g2.fillRect(b.x[i]-b.w,b.y[i]-b.h,2*b.w,2*b.h);\n        g2.fillStyle = b.color;\n        for (var i=0; i<I; i++) g2.fillRect(b.x[i]-b.w+1,b.y[i]-b.h+1,2*b.w-2,2*b.h-2);\n        g2.restore();\n    };\n\n    console.log(\"start\");\n    var reward;\n\n\n    //\u2193\u3053\u3053\u304b\u3089\u8a08\u7b97\u7528\n    function calculate(In){\n        while (numberOfFrames<10000){\n            p.x += p.vx;\n            p.y += p.vy;\n            moveBar(In);\n            if (p.y>=280){\n                for (var i=0,I=b.x.length,hit=false; i<I; i++){\n                    if ((p.y-b.y[i])*p.vy<0 && Math.abs(p.x-b.x[i])<=b.w && Math.abs(p.y-b.y[i])<=b.h+p.r){\n                        p.vy *= -1; hit = true; break;}\n                    else if ((p.x-b.x[i])*p.vx<0 && Math.abs(p.y-b.y[i])<=b.h && Math.abs(p.x-b.x[i])<=b.w+p.r){\n                        p.vx *= -1; hit = true; break;}\n                }\n                if (hit){\n                    score += 10;\n                    reward += 10;\n\n                    b.x.splice(i,1); b.y.splice(i,1);\n                    if (b.x.length==0) break;\n                }\n            }\n            if (p.x>w-p.r){ p.x = w-p.r; p.vx *= -1;} //right\n            if (p.x<p.r){   p.x = p.r; p.vx *= -1;} //left\n            if (p.y>h-p.r){ p.y = h-p.r; p.vy *= -1;} //up\n            if (p.y<p.r+bar.y){\n                var p_bar = Math.abs(p.x-bar.x);\n                if (p_bar<=bar.L){\n                    var X = (p.x>bar.x) ? 1 : -1;\u3000//\u885d\u7a81\u70b9\u306e\u30d0\u30fc\u306e\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb(X,1);\n                    if (p_bar<=bar.L-bar.edge) X = 0; //\u30d0\u30fc\u306e\u4e2d\u592e\n                    else if (p_bar<=bar.L-bar.edge/3) X *= (p_bar-bar.L+bar.edge)/100; //0\uff5e0.3\uff08\u30d0\u30fc\u306e\u7aef\u306f\u7d0473\u00b0\uff09\n                    else X *= 0.3;\n                    var L = Math.sqrt(X*X+1); //\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u306e\u9577\u3055\n                    var vec = {x: X/L, y: 1/L}; //\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u306e\u6b63\u898f\u5316\n                    var dot = vec.x*p.vx+vec.y*p.vy;\n                    p.y = p.r+bar.y;\n                    p.vx -= 2*dot*vec.x;\n                    p.vy -= 2*dot*vec.y;\n                    if (Math.abs(p.vx)/p.vy>1.5){ //\u89d2\u5ea6\u304c\u4ed8\u304d\u904e\u304e\u306a\u3044\u3088\u3046\u8abf\u6574\n                        var v2 = p.vx*p.vx+p.vy*p.vy;\n                        p.vy = Math.sqrt(v2/3.25);\n                        p.vx = (p.vx<0) ? -p.vy*1.5 : p.vy*1.5;\n                    }\n                }else if (p.y<p.r){\n                    break;\n                };\n            };\n            numberOfFrames++;\n        };\n    };\n\n    //\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\n\n    //\u521d\u671f\u8a2d\u5b9a\n\n    //\u5404\u6642\u9593\u3054\u3068\u306e\u884c\u52d5\u3092\u907a\u4f1d\u5b50\u3068\u3059\u308b\u500b\u4f53\u3092\u4f5c\u308b\n\n    var N = 100;//\u500b\u4f53\u6570\n    var individual = new Array(N);\n    var chrom = 1000;//\u907a\u4f1d\u5b50\u6570\n\n    //\u521d\u671f\u306e\u907a\u4f1d\u5b50\u6c7a\u5b9a(\u30e9\u30f3\u30c0\u30e0)\n    for(var n=0;n<N;n++){\n        individual[n] = new Array(chrom);\n        for(var c=0;c<chrom;c++){\n            individual[n][c] = Math.floor(Math.random()*3) - 1;\n        };\n    };\n\n    //\u6700\u3082\u826f\u3044\u500b\u4f53\u3068\u305d\u306e\u756a\u53f7\u3092\u5165\u308c\u308b\u914d\u5217\n    var best = new Array(2);\n\n    document.getElementById(\"try\").addEventListener(\"click\", function(){\n        //\u64cd\u4f5c\u3092GENERATION\u56de\u7e70\u308a\u8fd4\u3059\n        var GENERATION = document.getElementById(\"times\").value;\n        for(var ge=0;ge<GENERATION;ge++){\n\n            if (ge == GENERATION-1){\n                //\u7d50\u679c\u306e\u51fa\u529b\n                var copy_eval = new Array(N);\n                for(var n=0;n<N;n++){\n                    copy_eval[n] = evaluation(individual[n]);\n                }\n                best = [copy_eval[0],0];//evaluation(\u500b\u4f53)=\u30b2\u30fc\u30e0\u30b9\u30b3\u30a2\n                for(var n=0;n<N;n++){\n                    if(copy_eval[n]>best[0]){\n                        best[0] = copy_eval[n];\n                        best[1] = n;\n                    };\n                };\n                console.log(\"best : \", best[0], best[1]);\n                if(best[0]>1500){\n                    console.log(\"break\");\n                    break;\n                }else{\n                    console.log(\"not break\");\n                    ge = 0;\n                };\n            };\n\n            //\u9078\u629e\u3068\u4ea4\u53c9\n            //MGG\u9078\u629e\n            const crossrate = 0.8;\n            if(crossrate>Math.random()){\n                //\u89aa\u9078\u629e\n                var r1 = Math.floor(Math.random()*N);\n                var r2 = Math.floor(Math.random()*N);\n                var rand1 = Math.floor(Math.random()*chrom);\n                var rand2 = rand1 + Math.floor(Math.random()*(chrom-rand1));//0<=r1<r2<1000\n                var crossposition = Math.floor(Math.random()*3);\n                //\u4e8c\u70b9\u4ea4\u53c9\n                const CHILDLEN = 10;//2+2^3\n                var child = new Array(CHILDLEN);\n                for(var n=0;n<CHILDLEN;n++){\n                    child[n] = new Array(chrom);\n                };\n                for(var c=0;c<chrom;c++){\n                    var parent=[individual[r1][c],individual[r2][c]];\n                    child[0][c] = parent[0];\n                    child[1][c] = parent[1];\n                    if(c<rand1){\n                        child[2][c] = parent[0];\n                        child[3][c] = parent[0];\n                        child[4][c] = parent[0];\n                        child[5][c] = parent[0];\n                        child[6][c] = parent[1];\n                        child[7][c] = parent[1];\n                        child[8][c] = parent[1];\n                        child[9][c] = parent[1];\n                    }else if(rand1<=c && c<rand2){\n                        child[2][c] = parent[0];\n                        child[3][c] = parent[0];\n                        child[4][c] = parent[1];\n                        child[5][c] = parent[1];\n                        child[6][c] = parent[0];\n                        child[7][c] = parent[0];\n                        child[8][c] = parent[1];\n                        child[9][c] = parent[1];                \n                    }else{\n                        child[2][c] = parent[0];\n                        child[3][c] = parent[1];\n                        child[4][c] = parent[0];\n                        child[5][c] = parent[1];\n                        child[6][c] = parent[0];\n                        child[7][c] = parent[1];\n                        child[8][c] = parent[0];\n                        child[9][c] = parent[1];\n                    };\n                };\n\n                var child_eval = new Array(CHILDLEN);\n                for(var n=0;n<CHILDLEN;n++){\n                    child_eval[n] = evaluation(child[n])\n                };\n\n\n                //\u6700\u3082\u8a55\u4fa1\u306e\u9ad8\u3044\u500b\u4f53\u306e\u756a\u53f7\u3092\u53d6\u5f97\n                var top = [child_eval[0],0];\n                for(var n=1;n<CHILDLEN;n++){\n                    if(child_eval[n]>top[0]){\n                        top[0] = child_eval[n];\n                        top[1] = n;\n                    };\n                };\n\n                //\u30eb\u30fc\u30ec\u30c3\u30c8\u9078\u629e\u3067\u6c7a\u5b9a\u3057\u305f\u500b\u4f53\u756a\u53f7\u306e\u53d6\u5f97\n                var total = 0;\n                for(var n=0;n<CHILDLEN;n++){\n                    total += child_eval[n];\n                };\n                var arrow = Math.floor(Math.random()*total);\n                var select = 0;\n                for(var n=0,sum=0.0;n<CHILDLEN;n++){\n                    sum += child_eval[n];\n                    if(sum>arrow){\n                        select = n;\n                        break;\n                    };\n                };\n\n                for(var c=0;c<chrom;c++){\n                    individual[r1][c] = child[top[1]][c];\n                    individual[r2][c] = child[select][c];\n                };      \n            };\n            //\u7a81\u7136\u5909\u7570\n            const mutantrate = 0.01;\n            for(var n=0;n<N;n++){\n                if(Math.random()<mutantrate){\n                    var m = Math.floor(Math.random()*numberOfFrames);\n                    individual[n][m] = (individual[n][m]+2)%3 - 1;\n                };\n            };\n        };\n    },false);\n\n    //\u8aa4\u5dee\u95a2\u6570evaluation(\u500b\u4f53[\u500b\u4f53\u756a\u53f7]) = \u30b2\u30fc\u30e0\u30b9\u30b3\u30a2\n    function evaluation(In){\n        reward = 0;\n        reset();\n        calculate(In);//\u500b\u4f53\u304c\u30b2\u30fc\u30e0\u3092\u3059\u308b\n        return reward//\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u306e\u30b9\u30b3\u30a2\u3092\u4e0e\u3048\u308b\n    };\n})();\n</script>\n</body>\n</html>\n\n\u203b \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u306f\u524d\u306e\u30b3\u30fc\u30c9\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u203b \u7d50\u679c\u306f\u4e0a\u306b\u3042\u308a\u307e\u3059\u3002\n#\u306f\u3058\u3081\u306b\n\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3092\u653b\u7565\u3059\u308b\u4eba\u5de5\u77e5\u80fd\u3092\u958b\u767a\u3057\u3066\u3044\u307e\u3059\u3002\u524d\u56de\u5ba3\u8a00\u3057\u305f\u901a\u308a\uff0c\u5404\u6642\u9593\u306e\u884c\u52d5\u3092\u907a\u4f1d\u5b50\u3068\u3059\u308b\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n\n#\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\n\u5927\u307e\u304b\u306a\u6d41\u308c\u306f[\u524d\u56de\u306e\u8a18\u4e8b](http://qiita.com/simanezumi1989/items/8e81b0125e7b98708b46)\u3068\u540c\u3058\u3067\u3059\u3002\u5927\u304d\u304f\u9055\u3046\u3068\u3053\u308d\u306f\u907a\u4f1d\u5b50\u3067\u3059\u3002\u524d\u56de\u306f\uff0c\u884c\u52d5\u3092\u6c7a\u5b9a\u3059\u308b\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u91cd\u307f\u3092\u907a\u4f1d\u5b50\u3068\u3057\u3066\u3044\u307e\u3057\u305f\u304c\uff0c\u4eca\u56de\u306f\u76f4\u63a5\u907a\u4f1d\u5b50\u304c\u884c\u52d5\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002\n\n##\u521d\u671f\u8a2d\u5b9a\n\u500b\u4f53\u3092100\u500b\u4f53\u7528\u610f\u3059\u308b\u3002\n\u3053\u306e\u3068\u304d\uff0c\u500b\u4f53\u306e\u884c\u52d5\u306f\uff08-1,0,1\uff09=\uff08\u5de6,\u505c\u6b62,\u53f3\uff09\u306e\uff13\u3064\u3067\u3042\u308a\uff0c\u907a\u4f1d\u5b50\u6570\u306f10000\u3068\u3059\u308b\u3002\n\n\u4f8b\u3048\u3070\u907a\u4f1d\u5b50\u304c[0,0,1,0,-1,....]\u3067\u3042\u308c\u3070\uff0c\u30d0\u30fc\u306f\uff0c\u505c\u6b62\uff0c\u505c\u6b62\uff0c\u53f3\uff0c\u505c\u6b62\uff0c\u5de6\uff0c...\u3068\u3044\u3046\u52d5\u304d\u3092\u3059\u308b\u3002\n\n```js\n\nvar N = 100;//\u500b\u4f53\u6570\nvar individual = new Array(N);\nvar chrom = 10000;//\u907a\u4f1d\u5b50\u6570\n//\u521d\u671f\u306e\u907a\u4f1d\u5b50\u6c7a\u5b9a(\u30e9\u30f3\u30c0\u30e0)\nfor(var n=0;n<N;n++){\n\tindividual[n] = new Array(chrom);\n\tfor(var c=0;c<chrom;c++){\n\t\tindividual[n][c] = Math.floor(Math.random()*3) - 1;//-1\u304b0\u304b1\n\t};\n};\n```\n\n##\u4e16\u4ee3\u4ea4\u4ee3\u30e2\u30c7\u30eb\nMGG\u3068\u3059\u308b\u3002\n\u500b\u4f53\u7fa4\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u306b\uff11\u7d44\u306e\u89aa\u3092\u9078\u3073\uff0cn\u500b\u4f53\u306e\u5b50\u4f9b\u3092\u4f5c\u308b\u3002\u305d\u3057\u3066\uff0c\u89aa\u3068\u5b50\u4f9b\u3092\u542b\u3081\u305fn+2\u500b\u4f53\u306e\u3046\u3061\uff0c\u3082\u3063\u3068\u3082\u8a55\u4fa1\u306e\u9ad8\u3044\u500b\u4f53\u3068\uff0c\u30eb\u30fc\u30ec\u30c3\u30c8\u9078\u629e\u306b\u3088\u3063\u3066\u9078\u3070\u308c\u305f\uff11\u500b\u4f53\u3092\u89aa\u3068\u5165\u308c\u66ff\u3048\u308b\u3002\n\n##\u4ea4\u53c9\n\uff12\u70b9\u4ea4\u53c9\u3092\u884c\u3046\u3002\uff12\u70b9\u4ea4\u53c9\u306f\u4e0b\u306e\u56f3\u3092\u307f\u308c\u3070\u308f\u304b\u308b\u3088\u3046\u306b\uff0c\uff18\u500b\u4f53\u306e\u5b50\u4f9b\u3092\u4f5c\u308b\u3002\n\n[![\uff12\u70b9\u4ea4\u53c9.png](https://qiita-image-store.s3.amazonaws.com/0/67439/cae47ec4-ca8b-2fa7-76da-e1bf2b64a351.png)](http://www.sist.ac.jp/~kanakubo/research/evolutionary_computing/ga_operators.html)\n\n```js\n\n//\u89aa\u9078\u629e\nvar r1 = Math.floor(Math.random()*N);\nvar r2 = Math.floor(Math.random()*N);\n\n//\u4e8c\u70b9\u4ea4\u53c9\n//\u4ea4\u53c9\u3059\u308b\u70b9\u3092\u9078\u629e\nvar rand1 = Math.floor(Math.random()*chrom);\nvar rand2 = rand1 + Math.floor(Math.random()*(chrom-rand1));//0<=r1<r2<\u907a\u4f1d\u5b50\u6570\n//\u89aa+\u5b50=2+8\u3000\u306e\u5b50\u4f9b\u500b\u4f53\u3092\u3064\u304f\u308b\nconst CHILDLEN = 10;\nvar child = new Array(CHILDLEN);\nfor(var n=0;n<CHILDLEN;n++){\n\tchild[n] = new Array(chrom);\n};\nfor(var c=0;c<chrom;c++){\n\tvar parent=[individual[r1][c],individual[r2][c]];\n\tchild[0][c] = parent[0];//\u89aa\u3092\u4ee3\u5165\n\tchild[1][c] = parent[1];//\u89aa\u3092\u4ee3\u5165\n\n    //\u4e0a\u306e\u56f3\u306e\u3088\u3046\u306b\u89aa\u500b\u4f53\u3092\u4ee3\u5165\n\tif(c<rand1){\n\t\tchild[2][c] = parent[0];\n\t\tchild[3][c] = parent[0];\n\t\tchild[4][c] = parent[0];\n\t\tchild[5][c] = parent[0];\n\t\tchild[6][c] = parent[1];\n\t\tchild[7][c] = parent[1];\n\t\tchild[8][c] = parent[1];\n\t\tchild[9][c] = parent[1];\n\t}else if(rand1<=c && c<rand2){\n\t\tchild[2][c] = parent[0];\n\t\tchild[3][c] = parent[0];\n\t\tchild[4][c] = parent[1];\n\t\tchild[5][c] = parent[1];\n\t\tchild[6][c] = parent[0];\n\t\tchild[7][c] = parent[0];\n\t\tchild[8][c] = parent[1];\n\t\tchild[9][c] = parent[1];\t\t\t\t\n\t}else{\n\t\tchild[2][c] = parent[0];\n\t\tchild[3][c] = parent[1];\n\t\tchild[4][c] = parent[0];\n\t\tchild[5][c] = parent[1];\n\t\tchild[6][c] = parent[0];\n\t\tchild[7][c] = parent[1];\n\t\tchild[8][c] = parent[0];\n\t\tchild[9][c] = parent[1];\n\t};\n};\n```\n##\u7a81\u7136\u5909\u7570\n\n```js\n//\u5404\u500b\u4f531%\u3067\u7a81\u7136\u5909\u7570\nconst mutantrate = 0.01;\nfor(var n=0;n<N;n++){\n\tif(Math.random()<mutantrate){\n          //numberOfFrames=\u500b\u4f53\u304c\u30b2\u30fc\u30e0\u3057\u305f\u6642\u9593 \u307e\u3067\u306e\u907a\u4f1d\u5b50\u3092\u7a81\u7136\u5909\u7570\u3055\u305b\u308b\n\t\tvar m = Math.floor(Math.random()*numberOfFrames);\n\t\tindividual[n][m] = Math.floor(Math.random()*3) - 1;\n\t};\n};\n```\n#\u7d50\u679c\n\u52d5\u753b\uff1a[\u30d6\u30ed\u30c3\u30af\u5d29\u3057 \u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0](https://www.youtube.com/watch?v=J1L1ZuN8dhw&feature=youtu.be)\n\u3046\u307e\u304f\u52d5\u3044\u3066\u304f\u308c\u307e\u3057\u305f\u3002\u524d\u56de\u3088\u308a\u3082\u5b9f\u884c\u7d50\u679c\u304c\u901f\u304f\u3044\u308d\u3044\u308d\u8a66\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3057\u305f\u3002\n\n#\u8ab2\u984c\n\u52d5\u753b\u306e\u3088\u3046\u306a\u500b\u4f53\u306f\uff0c\u591a\u304f\u306e\u72a0\u7272\u306e\u3082\u3068\u51fa\u6765\u4e0a\u304c\u3063\u305f\u500b\u4f53\u306a\u306e\u3067\uff0c\u3082\u3063\u3068\u4e16\u4ee3\u6570\u3092\u6e1b\u3089\u3057\u305f\u3044\u3067\u3059\u3002\n\n#\u6b21\u56de\u300c\u8ab2\u984c\u306f\u3084\u3089\u305a\u306b\u524d\u9032\u3060\uff01\u300d\n\u4eca\u56de\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u3046\u307e\u304f\u6a5f\u80fd\u3057\u305f\u306e\u3067\uff0c\u6b21\u56de\u306f\u3053\u306e\u884c\u52d5\u3092\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u8a18\u61b6\u3055\u305b\u307e\u3059\u3002\n\n\n#\u53c2\u8003\u8cc7\u6599\n\uff12\u70b9\u4ea4\u53c9\u306e\u56f3\n[\u69d8\u3005\u306a\u9078\u629e\u30fb\u4ea4\u53c9\u30fb\u7a81\u7136\u5909\u7570](http://www.sist.ac.jp/~kanakubo/research/evolutionary_computing/ga_operators.html)\n\u904e\u53bb\u306e\u8a18\u4e8b\n[\u5b9f\u6570\u5024\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u3088\u308b\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u91cd\u307f\u6700\u9069\u5316\u3068\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u3078\u306e\u5fdc\u7528](http://qiita.com/simanezumi1989/items/8e81b0125e7b98708b46)\n[\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u30ca\u30c3\u30d7\u30b6\u30c3\u30af\u554f\u984c\u3092\u653b\u7565](http://qiita.com/simanezumi1989/items/10cfe1e8a23cd9d4c7b1)\n\n#\u5b9f\u88c5\u30b3\u30fc\u30c9\n\n```html\n\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"UTF-8\">\n<title>\u30d6\u30ed\u30c3\u30af\u5d29\u3057 - \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af - \u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0</title>\n<meta http-equiv=\"Content-Style-Type\" content=\"text/css\">\n<meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\">\n<meta name=\"robots\" content=\"noindex,nofollow\">\n<style type=\"text/css\">\n\nbody{ -moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; font-size: 20px;}\ncanvas{ border: none; position: absolute; left: 10px; top: 10px;}\n#graph2{ cursor: pointer;}\n#data{ position: relative; top: 410px;}\n#myPercent{ width: 40px; font-size: inherit;}\n#quickCalc{ font-size: inherit;}\n\n</style>\n</head>\n<body>\n\n<canvas id='graph'></canvas>\n<canvas id='graph2'></canvas>\n<p id='data'>\n\t<input type='checkbox' id='resetEverytime' checked>\u843d\u3061\u305f\u3089\u30ea\u30bb\u30c3\u30c8<br>\n\t<input type='text' value='100' id='myPercent'>\u3000\n\t<input type='button' id='quickCalc' value='\u63cf\u753b\u305b\u305a\u306b\u8a08\u7b97'>\u3000\n\t<span id='myResult'></span><br>\n\t<input type=\"text\" id=\"times\" value=\"100\">\u4e16\u4ee3\n\t<input type=\"button\" id=\"try\" value=\"\u8a08\u7b97\">\n</p>\n\n<script>\n(function(){\n\t//\u30d0\u30fc\u3092\u52d5\u304b\u3059\u95a2\u6570\n\tfunction moveBar(In){\n\t\tvar action = In[numberOfFrames];\n\t\tif(action==0) reward += 10;\n\t\tvar tempX = bar.x+action*30; //\u5de6\u53f3\u306b30\u30d4\u30af\u30bb\u30eb\u307e\u305f\u306f\u52d5\u304b\u306a\u3044\n\t\tif (tempX<p.r) tempX = p.r; //\u5de6\u306e\u58c1\u306b\u5f53\u305f\u3063\u305f\u3089\u3001\u305d\u308c\u4ee5\u4e0a\u5de6\u3078\u306f\u884c\u304b\u306a\u3044\n\t\telse if (tempX>w-p.r) tempX = w-p.r; //\u53f3\u306e\u58c1\u306b\u5f53\u305f\u3063\u305f\u3089\u305d\u308c\u4ee5\u4e0a\u53f3\u3078\u306f\u884c\u304b\u306a\u3044\n\t\tbar.x = tempX;\n\t};\n\n\tfunction d(ID){ return document.getElementById(ID);}\n\tvar timer;\n\tvar paused = false, gameOver = false, gameEnded = true;\n\tvar numberOfBalls = 0; //\u4f7f\u7528\u3057\u305f\u30dc\u30fc\u30eb\u306e\u6570\n\tvar numberOfFrames = 0; //\u304b\u304b\u3063\u305f\u30d5\u30ec\u30fc\u30e0\u6570\uff08\u00f733\uff1d\u6642\u9593\uff08\u79d2\uff09\uff09\n\tvar graph = d('graph'), graph2 = d('graph2');\n\tvar g = graph.getContext('2d'), g2 = graph2.getContext('2d');\n\tvar w = 600, h = 400;\n\tgraph.width = graph2.width = w; graph.height = graph2.height = h;\n\tg.fillStyle = '#000';\n\tg.fillRect(0,0,w,h);\n\tg.save();\n\tg.font = '30px Arial';\n\tg.fillStyle = 'white';\n\tg.fillText('Click to Start',210,220);\n\tg.restore();\n\n\t// p\u306f\u30dc\u30fc\u30eb\u3002\u9806\u306bx\u5ea7\u6a19\u3001y\u5ea7\u6a19\u3001\u534a\u5f84\u3001\u901f\u5ea6x\u6210\u5206\u3001\u901f\u5ea6y\u6210\u5206,\u8272\n\tvar p = {x: 300, y: 20, r: 10, vx: 0, vy: 0, color: '#fff'};\n\n\t//bar\u306f\u68d2\u3002x\u5ea7\u6a19\u3001y\u306f\u539a\u307f\u3001L\u306f\u9577\u3055\u306e\u534a\u5206\u3001edge\u306f\u89d2\u5ea6\u304c\u4ed8\u304d\u59cb\u3081\u308b\u70b9\u306e\u7aef\u304b\u3089\u306e\u8ddd\u96e2\n\tvar bar = {x: 300, y: 10, L: 50, edge: 45, color: '#ff0'};\n\n\t//b\u306f\u30d6\u30ed\u30c3\u30af\u3002b.x\u3068b.y\u304c\u3068\u3082\u306b\u914d\u5217\u3067\u3001xy\u5ea7\u6a19\u3092\u793a\u3059\u3002w\u306fwidth\u3067\u5e45\u3001h\u306fheight\u3067\u9ad8\u3055\u3002\u5168\u3066\u540c\u3058\u5927\u304d\u3055\u306e\u9577\u65b9\u5f62\n\tvar b = {x: [], y: [], w: 20, h: 10, color: '#88f'};\n\n\tvar score = 0;\n\n\td('graph2').addEventListener('click',function(){\n\t\tif (gameEnded){\n\t\t\tgameEnded = false;\n\t\t\treset();\n\t\t\tdrawBG();\n\t\t\tmainLoop();\n\t\t}\n\t\telse if (paused){\n\t\t\tpaused = false;\n\t\t\tdrawBG();\n\t\t\tmainLoop();\n\t\t}\n\t\telse{\n\t\t\tpaused = true;\n\t\t\tclearTimeout(timer);\n\t\t\tg2.font = '30px Arial';\n\t\t\tg2.fillStyle = 'white';\n\t\t\tg2.fillText('paused',250,220);\n\t\t}\n\t},false);\n\n\tfunction reset(){\n\t\tbar.x = 300;\n\t\tp.x = bar.x; p.y = bar.y+p.r;\n\t\tvar angle = Math.PI*(10)/180;//Math.PI*(Math.random()*60-30)/180; //-30\uff5e30\n\t\tp.vx = Math.sin(angle)*12; p.vy = Math.cos(angle)*12; //cos\u3068sin\u306e\u53cd\u8ee2\u306b\u6ce8\u610f\n\t\tb.x = []; b.y = [];\n\t\tfor (var i=0; i<3; i++) for (var j=0; j<11; j++){\n\t\t\tb.x.push(w/2-10*b.w+j*b.w*2);\n\t\t\tb.y.push(340-i*b.h*2);\n\t\t}\n\t\tscore = numberOfBalls = numberOfFrames = 0;\n\t}\n\n\tfunction mainLoop(){\n\t\tg.fillStyle = '#000';\n\t\tg.fillRect(0,0,w,h);\n\t\tg.setTransform(1,0,0,-1,0,h);\n\n\t\t//\u30dc\u30fc\u30eb\u306e\u63cf\u753b\n\t\tg.beginPath();\n\t\tg.arc(p.x,p.y,p.r,0,2*Math.PI);\n\t\tg.fillStyle = p.color;\n\t\tg.fill();\n\t\t//\u30dc\u30fc\u30eb\u306e\u63cf\u753b\n\n\t\t//\u30d0\u30fc\u306e\u63cf\u753b\n\t\tg.fillStyle = bar.color;\n\t\tg.fillRect(bar.x-bar.L+p.r+3,0,(bar.L-p.r-3)*2,bar.y); //\u00b13\u306f\"\u904a\u3073\"\n\n\t\t//\u30dc\u30fc\u30eb\u3092\u73fe\u5728\u306e\u901f\u5ea6\u3092\u3082\u3068\u306b\u79fb\u52d5\u3055\u305b\u308b\n\t\tp.x += p.vx;\n\t\tp.y += p.vy;\n\n\t\t//\u30d0\u30fc\u3092\u52d5\u304b\u3059\n\t\tmoveBar(individual[best[1]]);\n\n\n\t\t//\u3053\u3053\u304b\u3089\u885d\u7a81\u5224\u5b9a\u3002\u307e\u305a\u306f\u30d6\u30ed\u30c3\u30af\n\t\tif (p.y>=280){\n\t\t\tfor (var i=0,I=b.x.length,hit=false; i<I; i++){\n\t\t\t\tif ((p.y-b.y[i])*p.vy<0 && Math.abs(p.x-b.x[i])<=b.w && Math.abs(p.y-b.y[i])<=b.h+p.r){\n\t\t\t\t\tp.vy *= -1;\n\t\t\t\t\thit = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if ((p.x-b.x[i])*p.vx<0 &&Math.abs(p.y-b.y[i])<=b.h && Math.abs(p.x-b.x[i])<=b.w+p.r){\n\t\t\t\t\tp.vx *= -1;\n\t\t\t\t\thit = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hit){\n\t\t\t\tscore += 10;\n\t\t\t\tb.x.splice(i,1); b.y.splice(i,1);\n\t\t\t\tdrawBG();\n\t\t\t\tif (b.x.length<=0){\n\t\t\t\t\tgameEnded = true;\n\t\t\t\t\td('graph2').style.cursor = 'pointer';\n\t\t\t\t\tg2.font = '40px Arial';\n\t\t\t\t\tg2.fillStyle = 'white';\n\t\t\t\t\tg2.fillText('SUCCESS !',200,200);\n\t\t\t\t\tvar timeLapse = Math.floor(100*numberOfFrames/33)/100;\n\t\t\t\t\tg2.fillText(timeLapse+' sec',220,250);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//\u2193\u885d\u7a81\u5224\u5b9a\u3002\u3053\u3053\u304b\u3089\u58c1\n\t\tif (p.x>w-p.r){ p.x = w-p.r; p.vx *= -1;} //right\n\t\tif (p.x<p.r){\tp.x = p.r; p.vx *= -1;} //left\n\t\tif (p.y>h-p.r){\tp.y = h-p.r; p.vy *= -1;} //up\n\t\tif (p.y<p.r+bar.y){\n\t\t\tvar p_bar = Math.abs(p.x-bar.x);\n\t\t\tif (!gameOver && p_bar<=bar.L){\n\t\t\t\tvar X = (p.x>bar.x) ? 1 : -1;\u3000//\u885d\u7a81\u70b9\u306e\u30d0\u30fc\u306e\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb(X,1);\n\t\t\t\tif (p_bar<=bar.L-bar.edge) X = 0; //\u30d0\u30fc\u306e\u4e2d\u592e\n\t\t\t\telse if (p_bar<=bar.L-bar.edge/3) X *= (p_bar-bar.L+bar.edge)/100; //0\uff5e0.3\uff08\u30d0\u30fc\u306e\u7aef\u306f\u7d0473\u00b0\uff09\n\t\t\t\telse X *= 0.3;\n\t\t\t\tvar L = Math.sqrt(X*X+1); //\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u306e\u9577\u3055\n\t\t\t\tvar vec = {x: X/L, y: 1/L}; //\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u306e\u6b63\u898f\u5316\n\t\t\t\tvar dot = vec.x*p.vx+vec.y*p.vy;\n\t\t\t\tp.y = p.r+bar.y;\n\t\t\t\tp.vx -= 2*dot*vec.x;\n\t\t\t\tp.vy -= 2*dot*vec.y;\n\t\t\t\tif (Math.abs(p.vx)/p.vy>1.5){ //\u89d2\u5ea6\u304c\u4ed8\u304d\u904e\u304e\u306a\u3044\u3088\u3046\u8abf\u6574\n\t\t\t\t\tvar v2 = p.vx*p.vx+p.vy*p.vy;\n\t\t\t\t\tp.vy = Math.sqrt(v2/3.25);\n\t\t\t\t\tp.vx = (p.vx<0) ? -p.vy*1.5 : p.vy*1.5;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (!gameOver && p.y<p.r) gameOver = true;\n\t\t\telse if (gameOver && p.y<-p.r){\n\t\t\t\tgameOver = false;\n\t\t\t\treset();\n\t\t\t\tnumberOfFrames = -1;;\n\t\t\t\tdrawBG();\n\t\t\t}\n\t\t}\n\t\tnumberOfFrames++;\n\t\ttimer = setTimeout(mainLoop,30); //30\u30df\u30ea\u79d2\u5f8c\u306bmainloop\u5b9f\u884c (-> 1\u79d2\u306b\u7d0430\u56de\u7e70\u308a\u8fd4\u3059)\n\t}\n\n\t//\u2193\u30d6\u30ed\u30c3\u30af\u306e\u63cf\u753b\u3002\u52d5\u304d\u304c\u306a\u3044\u306e\u306b\u6bce\u56de\u63cf\u304f\u306e\u306f\u7121\u99c4\u306a\u306e\u3067\u3001\u5225\u306b\u3057\u3066\u51e6\u7406\u3092\u7bc0\u7d04\u3002\n\tfunction drawBG(){\n\t\tg2.clearRect(0,0,w,h);\n\t\tg2.font = '20px Arial';\n\t\tg2.fillStyle = '#fff';\n\t\tg2.fillText('Balls:\u3000'+numberOfBalls,15,25);\n\t\tg2.fillText('Score:\u3000'+score,480,25);\n\t\tg2.save();\n\t\tg2.setTransform(1,0,0,-1,0,h);\n\t\tg2.fillStyle = '#ccf';\n\t\tfor (var i=0,I=b.x.length; i<I; i++) g2.fillRect(b.x[i]-b.w,b.y[i]-b.h,2*b.w,2*b.h);\n\t\tg2.fillStyle = b.color;\n\t\tfor (var i=0; i<I; i++) g2.fillRect(b.x[i]-b.w+1,b.y[i]-b.h+1,2*b.w-2,2*b.h-2);\n\t\tg2.restore();\n\t};\n\n\tconsole.log(\"start\");\n\tvar reward;\n\n\n\t//\u2193\u3053\u3053\u304b\u3089\u8a08\u7b97\u7528\n\tfunction calculate(In){\n\t\twhile (numberOfFrames<10000){\n\t\t\tp.x += p.vx;\n\t\t\tp.y += p.vy;\n\t\t\tmoveBar(In);\n\t\t\tif (p.y>=280){\n\t\t\t\tfor (var i=0,I=b.x.length,hit=false; i<I; i++){\n\t\t\t\t\tif ((p.y-b.y[i])*p.vy<0 && Math.abs(p.x-b.x[i])<=b.w && Math.abs(p.y-b.y[i])<=b.h+p.r){\n\t\t\t\t\t\tp.vy *= -1;\thit = true;\tbreak;}\n\t\t\t\t\telse if ((p.x-b.x[i])*p.vx<0 && Math.abs(p.y-b.y[i])<=b.h && Math.abs(p.x-b.x[i])<=b.w+p.r){\n\t\t\t\t\t\tp.vx *= -1;\thit = true;\tbreak;}\n\t\t\t\t}\n\t\t\t\tif (hit){\n\t\t\t\t\tscore += 10;\n\t\t\t\t\treward += 10;\n\n\t\t\t\t\tb.x.splice(i,1); b.y.splice(i,1);\n\t\t\t\t\tif (b.x.length==0) break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (p.x>w-p.r){ p.x = w-p.r; p.vx *= -1;} //right\n\t\t\tif (p.x<p.r){\tp.x = p.r; p.vx *= -1;} //left\n\t\t\tif (p.y>h-p.r){\tp.y = h-p.r; p.vy *= -1;} //up\n\t\t\tif (p.y<p.r+bar.y){\n\t\t\t\tvar p_bar = Math.abs(p.x-bar.x);\n\t\t\t\tif (p_bar<=bar.L){\n\t\t\t\t\tvar X = (p.x>bar.x) ? 1 : -1;\u3000//\u885d\u7a81\u70b9\u306e\u30d0\u30fc\u306e\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb(X,1);\n\t\t\t\t\tif (p_bar<=bar.L-bar.edge) X = 0; //\u30d0\u30fc\u306e\u4e2d\u592e\n\t\t\t\t\telse if (p_bar<=bar.L-bar.edge/3) X *= (p_bar-bar.L+bar.edge)/100; //0\uff5e0.3\uff08\u30d0\u30fc\u306e\u7aef\u306f\u7d0473\u00b0\uff09\n\t\t\t\t\telse X *= 0.3;\n\t\t\t\t\tvar L = Math.sqrt(X*X+1); //\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u306e\u9577\u3055\n\t\t\t\t\tvar vec = {x: X/L, y: 1/L}; //\u6cd5\u7dda\u30d9\u30af\u30c8\u30eb\u306e\u6b63\u898f\u5316\n\t\t\t\t\tvar dot = vec.x*p.vx+vec.y*p.vy;\n\t\t\t\t\tp.y = p.r+bar.y;\n\t\t\t\t\tp.vx -= 2*dot*vec.x;\n\t\t\t\t\tp.vy -= 2*dot*vec.y;\n\t\t\t\t\tif (Math.abs(p.vx)/p.vy>1.5){ //\u89d2\u5ea6\u304c\u4ed8\u304d\u904e\u304e\u306a\u3044\u3088\u3046\u8abf\u6574\n\t\t\t\t\t\tvar v2 = p.vx*p.vx+p.vy*p.vy;\n\t\t\t\t\t\tp.vy = Math.sqrt(v2/3.25);\n\t\t\t\t\t\tp.vx = (p.vx<0) ? -p.vy*1.5 : p.vy*1.5;\n\t\t\t\t\t}\n\t\t\t\t}else if (p.y<p.r){\n\t\t\t\t\tbreak;\n\t\t\t\t};\n\t\t\t};\n\t\t\tnumberOfFrames++;\n\t\t};\n\t};\n\n\t//\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\n\n\t//\u521d\u671f\u8a2d\u5b9a\n\n\t//\u5404\u6642\u9593\u3054\u3068\u306e\u884c\u52d5\u3092\u907a\u4f1d\u5b50\u3068\u3059\u308b\u500b\u4f53\u3092\u4f5c\u308b\n\t\n\tvar N = 100;//\u500b\u4f53\u6570\n\tvar individual = new Array(N);\n\tvar chrom = 1000;//\u907a\u4f1d\u5b50\u6570\n\n\t//\u521d\u671f\u306e\u907a\u4f1d\u5b50\u6c7a\u5b9a(\u30e9\u30f3\u30c0\u30e0)\n\tfor(var n=0;n<N;n++){\n\t\tindividual[n] = new Array(chrom);\n\t\tfor(var c=0;c<chrom;c++){\n\t\t\tindividual[n][c] = Math.floor(Math.random()*3) - 1;\n\t\t};\n\t};\n\n\t//\u6700\u3082\u826f\u3044\u500b\u4f53\u3068\u305d\u306e\u756a\u53f7\u3092\u5165\u308c\u308b\u914d\u5217\n\tvar best = new Array(2);\n\n\tdocument.getElementById(\"try\").addEventListener(\"click\", function(){\n\t\t//\u64cd\u4f5c\u3092GENERATION\u56de\u7e70\u308a\u8fd4\u3059\n\t\tvar GENERATION = document.getElementById(\"times\").value;\n\t\tfor(var ge=0;ge<GENERATION;ge++){\n\n\t\t\tif (ge == GENERATION-1){\n\t\t\t\t//\u7d50\u679c\u306e\u51fa\u529b\n\t\t\t\tvar copy_eval = new Array(N);\n\t\t\t\tfor(var n=0;n<N;n++){\n\t\t\t\t\tcopy_eval[n] = evaluation(individual[n]);\n\t\t\t\t}\n\t\t\t\tbest = [copy_eval[0],0];//evaluation(\u500b\u4f53)=\u30b2\u30fc\u30e0\u30b9\u30b3\u30a2\n\t\t\t\tfor(var n=0;n<N;n++){\n\t\t\t\t\tif(copy_eval[n]>best[0]){\n\t\t\t\t\t\tbest[0] = copy_eval[n];\n\t\t\t\t\t\tbest[1] = n;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\tconsole.log(\"best : \", best[0], best[1]);\n\t\t\t\tif(best[0]>1500){\n\t\t\t\t\tconsole.log(\"break\");\n\t\t\t\t\tbreak;\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log(\"not break\");\n\t\t\t\t\tge = 0;\n\t\t\t\t};\n\t\t\t};\n\t\n\t\t\t//\u9078\u629e\u3068\u4ea4\u53c9\n\t\t\t//MGG\u9078\u629e\n\t\t\tconst crossrate = 0.8;\n\t\t\tif(crossrate>Math.random()){\n\t\t\t\t//\u89aa\u9078\u629e\n\t\t\t\tvar r1 = Math.floor(Math.random()*N);\n\t\t\t\tvar r2 = Math.floor(Math.random()*N);\n\t\t\t\tvar rand1 = Math.floor(Math.random()*chrom);\n\t\t\t\tvar rand2 = rand1 + Math.floor(Math.random()*(chrom-rand1));//0<=r1<r2<1000\n\t\t\t\tvar crossposition = Math.floor(Math.random()*3);\n\t\t\t\t//\u4e8c\u70b9\u4ea4\u53c9\n\t\t\t\tconst CHILDLEN = 10;//2+2^3\n\t\t\t\tvar child = new Array(CHILDLEN);\n\t\t\t\tfor(var n=0;n<CHILDLEN;n++){\n\t\t\t\t\tchild[n] = new Array(chrom);\n\t\t\t\t};\n\t\t\t\tfor(var c=0;c<chrom;c++){\n\t\t\t\t\tvar parent=[individual[r1][c],individual[r2][c]];\n\t\t\t\t\tchild[0][c] = parent[0];\n\t\t\t\t\tchild[1][c] = parent[1];\n\t\t\t\t\tif(c<rand1){\n\t\t\t\t\t\tchild[2][c] = parent[0];\n\t\t\t\t\t\tchild[3][c] = parent[0];\n\t\t\t\t\t\tchild[4][c] = parent[0];\n\t\t\t\t\t\tchild[5][c] = parent[0];\n\t\t\t\t\t\tchild[6][c] = parent[1];\n\t\t\t\t\t\tchild[7][c] = parent[1];\n\t\t\t\t\t\tchild[8][c] = parent[1];\n\t\t\t\t\t\tchild[9][c] = parent[1];\n\t\t\t\t\t}else if(rand1<=c && c<rand2){\n\t\t\t\t\t\tchild[2][c] = parent[0];\n\t\t\t\t\t\tchild[3][c] = parent[0];\n\t\t\t\t\t\tchild[4][c] = parent[1];\n\t\t\t\t\t\tchild[5][c] = parent[1];\n\t\t\t\t\t\tchild[6][c] = parent[0];\n\t\t\t\t\t\tchild[7][c] = parent[0];\n\t\t\t\t\t\tchild[8][c] = parent[1];\n\t\t\t\t\t\tchild[9][c] = parent[1];\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tchild[2][c] = parent[0];\n\t\t\t\t\t\tchild[3][c] = parent[1];\n\t\t\t\t\t\tchild[4][c] = parent[0];\n\t\t\t\t\t\tchild[5][c] = parent[1];\n\t\t\t\t\t\tchild[6][c] = parent[0];\n\t\t\t\t\t\tchild[7][c] = parent[1];\n\t\t\t\t\t\tchild[8][c] = parent[0];\n\t\t\t\t\t\tchild[9][c] = parent[1];\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\tvar\tchild_eval = new Array(CHILDLEN);\n\t\t\t\tfor(var n=0;n<CHILDLEN;n++){\n\t\t\t\t\tchild_eval[n] = evaluation(child[n])\n\t\t\t\t};\n\n\t\n\t\t\t\t//\u6700\u3082\u8a55\u4fa1\u306e\u9ad8\u3044\u500b\u4f53\u306e\u756a\u53f7\u3092\u53d6\u5f97\n\t\t\t\tvar top = [child_eval[0],0];\n\t\t\t\tfor(var n=1;n<CHILDLEN;n++){\n\t\t\t\t\tif(child_eval[n]>top[0]){\n\t\t\t\t\t\ttop[0] = child_eval[n];\n\t\t\t\t\t\ttop[1] = n;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\n\t\t\t\t//\u30eb\u30fc\u30ec\u30c3\u30c8\u9078\u629e\u3067\u6c7a\u5b9a\u3057\u305f\u500b\u4f53\u756a\u53f7\u306e\u53d6\u5f97\n\t\t\t\tvar total = 0;\n\t\t\t\tfor(var n=0;n<CHILDLEN;n++){\n\t\t\t\t\ttotal += child_eval[n];\n\t\t\t\t};\n\t\t\t\tvar arrow = Math.floor(Math.random()*total);\n\t\t\t\tvar select = 0;\n\t\t\t\tfor(var n=0,sum=0.0;n<CHILDLEN;n++){\n\t\t\t\t\tsum += child_eval[n];\n\t\t\t\t\tif(sum>arrow){\n\t\t\t\t\t\tselect = n;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\tfor(var c=0;c<chrom;c++){\n\t\t\t\t\tindividual[r1][c] = child[top[1]][c];\n\t\t\t\t\tindividual[r2][c] = child[select][c];\n\t\t\t\t};\t\t\n\t\t\t};\n\t\t\t//\u7a81\u7136\u5909\u7570\n\t\t\tconst mutantrate = 0.01;\n\t\t\tfor(var n=0;n<N;n++){\n\t\t\t\tif(Math.random()<mutantrate){\n\t\t\t\t\tvar m = Math.floor(Math.random()*numberOfFrames);\n\t\t\t\t\tindividual[n][m] = (individual[n][m]+2)%3 - 1;\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t},false);\n\n\t//\u8aa4\u5dee\u95a2\u6570evaluation(\u500b\u4f53[\u500b\u4f53\u756a\u53f7]) = \u30b2\u30fc\u30e0\u30b9\u30b3\u30a2\n\tfunction evaluation(In){\n\t\treward = 0;\n\t\treset();\n\t\tcalculate(In);//\u500b\u4f53\u304c\u30b2\u30fc\u30e0\u3092\u3059\u308b\n\t\treturn reward//\u30d6\u30ed\u30c3\u30af\u5d29\u3057\u306e\u30b9\u30b3\u30a2\u3092\u4e0e\u3048\u308b\n\t};\n})();\n</script>\n</body>\n</html>\n```\n\u203b \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u306f\u524d\u306e\u30b3\u30fc\u30c9\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u203b \u7d50\u679c\u306f\u4e0a\u306b\u3042\u308a\u307e\u3059\u3002\n", "tags": ["\u907a\u4f1d\u7684\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0", "\u30d6\u30ed\u30c3\u30af\u5d29\u3057", "\u4eba\u5de5\u77e5\u80fd", "JavaScript", "\u6a5f\u68b0\u5b66\u7fd2"]}