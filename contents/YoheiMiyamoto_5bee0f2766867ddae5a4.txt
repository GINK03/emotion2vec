{"context": " More than 1 year has passed since last update.\n\niPhone\n\nviewController.swift\n// WatchConnectivity\u30a4\u30f3\u30dd\u30fc\u30c8\nimport WatchConnectivity\n\n// WCSessionDelegate\u8ffd\u52a0\nclass ViewController: UIViewController, MCBrowserViewControllerDelegate, MCSessionDelegate, WCSessionDelegate {\n\n  // session\u4f5c\u6210\n  var wcSession = WCSession.defaultSession()\n\n  override func viewDidLoad() {\n          super.viewDidLoad()\n\n        // \u30b5\u30dd\u30fc\u30c8\u30c1\u30a7\u30c3\u30af\n        if WCSession.isSupported() {\n            // get default session\n            wcSession = WCSession.defaultSession()\n            //  set delegate\n            wcSession.delegate = self\n            //  activate session\n            wcSession.activateSession()\n        } else {\n            print(\"Not support WCSession\")\n        }\n  }\n\n  // \u30c7\u30fc\u30bf\u9001\u4fe1\u30dc\u30bf\u30f3\n  @IBAction func sendButton(sender: UIButton) {\n        let message = [ \"fromParent\": \"Hello\" ]\n        wcSession.sendMessage(message, replyHandler: { replyDict in }, errorHandler: { error in })\n\n    }\n\n\n\nWatch\n\nInterfaceController.swift\n// WatchConnectivity\u30a4\u30f3\u30dd\u30fc\u30c8\nimport WatchConnectivity\n\n// WCSessionDelegate\u8ffd\u52a0\nclass InterfaceController: WKInterfaceController, WCSessionDelegate {\n\n    @IBOutlet var myLabel: WKInterfaceLabel!\n    var wcSession = WCSession.defaultSession()\n\n    override func awakeWithContext(context: AnyObject?) {\n        super.awakeWithContext(context)\n\n        // \u30b5\u30dd\u30fc\u30c8\u30c1\u30a7\u30c3\u30af\n        if WCSession.isSupported() {\n            // get default session\n            wcSession = WCSession.defaultSession()\n            //  set delegate\n            wcSession.delegate = self\n            //  activate session\n            wcSession.activateSession()\n        } else {\n            print(\"Not support WCSession\")\n        }\n\n    }\n\n    // get message from parent\n    func session(session: WCSession, didReceiveMessage message: [String: AnyObject], replyHandler: [String: AnyObject] -> Void) {\n        guard let parentMessage = message[\"fromParent\"] as? String else { return }\n        // Watch\u306e\u30e9\u30d9\u30eb\u306b\u30c6\u30ad\u30b9\u30c8\u3092\u8868\u793a\uff08Hello\u3068\u8868\u793a\u3055\u308c\u308b\uff09\n        self.myLabel.setText(parentMessage)\n    }\n}\n\n\n## iPhone\n```swift:viewController.swift\n// WatchConnectivity\u30a4\u30f3\u30dd\u30fc\u30c8\nimport WatchConnectivity\n\n// WCSessionDelegate\u8ffd\u52a0\nclass ViewController: UIViewController, MCBrowserViewControllerDelegate, MCSessionDelegate, WCSessionDelegate {\n\n  // session\u4f5c\u6210\n  var wcSession = WCSession.defaultSession()\n\n  override func viewDidLoad() {\n          super.viewDidLoad()\n\n        // \u30b5\u30dd\u30fc\u30c8\u30c1\u30a7\u30c3\u30af\n        if WCSession.isSupported() {\n            // get default session\n            wcSession = WCSession.defaultSession()\n            //  set delegate\n            wcSession.delegate = self\n            //  activate session\n            wcSession.activateSession()\n        } else {\n            print(\"Not support WCSession\")\n        }\n  }\n\n  // \u30c7\u30fc\u30bf\u9001\u4fe1\u30dc\u30bf\u30f3\n  @IBAction func sendButton(sender: UIButton) {\n        let message = [ \"fromParent\": \"Hello\" ]\n        wcSession.sendMessage(message, replyHandler: { replyDict in }, errorHandler: { error in })\n\n    }\n```\n\n## Watch\n```swift:InterfaceController.swift\n// WatchConnectivity\u30a4\u30f3\u30dd\u30fc\u30c8\nimport WatchConnectivity\n\n// WCSessionDelegate\u8ffd\u52a0\nclass InterfaceController: WKInterfaceController, WCSessionDelegate {\n    \n    @IBOutlet var myLabel: WKInterfaceLabel!\n    var wcSession = WCSession.defaultSession()\n    \n    override func awakeWithContext(context: AnyObject?) {\n        super.awakeWithContext(context)\n\n        // \u30b5\u30dd\u30fc\u30c8\u30c1\u30a7\u30c3\u30af\n        if WCSession.isSupported() {\n            // get default session\n            wcSession = WCSession.defaultSession()\n            //  set delegate\n            wcSession.delegate = self\n            //  activate session\n            wcSession.activateSession()\n        } else {\n            print(\"Not support WCSession\")\n        }\n        \n    }\n    \n    // get message from parent\n    func session(session: WCSession, didReceiveMessage message: [String: AnyObject], replyHandler: [String: AnyObject] -> Void) {\n        guard let parentMessage = message[\"fromParent\"] as? String else { return }\n        // Watch\u306e\u30e9\u30d9\u30eb\u306b\u30c6\u30ad\u30b9\u30c8\u3092\u8868\u793a\uff08Hello\u3068\u8868\u793a\u3055\u308c\u308b\uff09\n        self.myLabel.setText(parentMessage)\n    }\n}\n```\n", "tags": ["Swift", "WatchKit"]}