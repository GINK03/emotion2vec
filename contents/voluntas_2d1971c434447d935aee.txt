{"context": " More than 1 year has passed since last update.\n\n\u76ee\u7684\n\nTerraform \u3067 GCE \u3068 Ansible \u3092\u8a66\u3057\u3066\u307f\u308b\n\n\n\u524d\u63d0\n\nTerraform \u306f 0.2.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n\n\n/path/to/terraform/version/ \u307f\u305f\u3044\u306a\u30a4\u30e1\u30fc\u30b8\n\n\nGoogle Cloud Platform \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u6301\u3063\u3066\u3044\u308b\n\n\nGoogle Cloud Platform \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u4f5c\u6210\u6e08\u307f\n\n\nAnsible \u306f 1.7.1 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n\n\n\u624b\u9806\n\nGoogle Console \u304b\u3089\u30a2\u30ab\u30a6\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3059\u308b\n\nGoogle Developers Console \u306e API \u3068\u8a8d\u8a3c\u304b\u3089\u8a8d\u8a3c\u60c5\u5831\u3092\u9078\u629e\u3059\u308b\nOAuth \u3067\u65b0\u3057\u3044\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 ID \u3092\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\n\n\u30b5\u30fc\u30d3\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u9078\u629e\u3059\u308b\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 ID \u3092\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\u3053\u308c\u304c account \u306b\u306a\u308b\n\n\nCompute Engine \u3068 App Engine \u306e JSON \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u9078\u629e\u3059\u308b\n\n\n\u3053\u308c\u304c client_secrets \u306b\u306a\u308b\n\n\n\n\ngce.tf \u3092\u7528\u610f\u3057\u3066 resource \u3067 GCE \u3092\u52d5\u304b\u3057\u3066\u307f\u308b\n\u6ce8\u610f\u70b9\u306f project \u3067\u3001\u81ea\u5206\u3067\u3064\u3051\u305f\u540d\u524d\u3067\u306f\u306a\u304f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 ID \u3092\u6307\u5b9a\u3059\u308b\u3002\nregion \u306f\u65e5\u672c\u306b\u8fd1\u3044\u65b9\u304c\u3044\u3044\u306e\u3067 asia-east1 \u3092\u9078\u3093\u3067\u304a\u3044\u305f\u3002\ngce.tf \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\u3002\u30a2\u30c9\u30ec\u30b9\u3068\u30ea\u30bd\u30fc\u30b9\u3092\u7528\u610f\u3057\u305f\u3002\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30b5\u30a4\u30ba\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u30c6\u30b9\u30c8\u3092\u3059\u308b\u306e\u3067\u7121\u99c4\u306b\u9ad8\u3081\u3002\nprovider \"google\" {\n    account_file = \"account.json\"\n    client_secrets_file = \"client_secret.json\"\n    project = \"\u3053\u3053\u306b\u306f\u81ea\u5206\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 ID\"\n    region = \"asia-east1\"\n}\n\nresource \"google_compute_address\" \"default\" {\n    name = \"egg\"\n}\n\nresource \"google_compute_instance\" \"default\" {\n    name = \"spam\"\n    machine_type = \"n1-highcpu-4\"\n    zone = \"asia-east1-b\"\n\n    disk {\n        image = \"debian-7-wheezy-v20140814\"\n    }\n\n    network {\n        source = \"default\"\n        address = \"${google_compute_address.default.address}\"\n    }\n\n    provisioner \"local-exec\" {\n        command = \"echo ${google_compute_address.default.address} >> hosts\"\n    }\n}\n\n\nplan \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n$ terraform plan\nRefreshing Terraform state prior to plan...\n\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n+ google_compute_address.default\n    address: \"\" => \"<computed>\"\n    name:    \"\" => \"egg\"\n\n+ google_compute_instance.default\n    disk.#:                     \"\" => \"1\"\n    disk.0.image:               \"\" => \"debian-7-wheezy-v20140814\"\n    machine_type:               \"\" => \"n1-highcpu-4\"\n    metadata_fingerprint:       \"\" => \"<computed>\"\n    name:                       \"\" => \"spam\"\n    network.#:                  \"\" => \"1\"\n    network.0.address:          \"\" => \"${google_compute_address.default.address}\"\n    network.0.internal_address: \"\" => \"<computed>\"\n    network.0.name:             \"\" => \"<computed>\"\n    network.0.source:           \"\" => \"default\"\n    tags_fingerprint:           \"\" => \"<computed>\"\n    zone:                       \"\" => \"asia-east1-b\"\n\n\u554f\u984c\u306a\u3055\u305d\u3046\u3002\n\napply \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n$ terraform apply\ngoogle_compute_address.default: Creating...\n  address: \"\" => \"<computed>\"\n  name:    \"\" => \"egg\"\ngoogle_compute_address.default: Creation complete\ngoogle_compute_instance.default: Creating...\n  disk.#:                     \"\" => \"1\"\n  disk.0.image:               \"\" => \"debian-7-wheezy-v20140814\"\n  machine_type:               \"\" => \"n1-highcpu-4\"\n  metadata_fingerprint:       \"\" => \"<computed>\"\n  name:                       \"\" => \"spam\"\n  network.#:                  \"\" => \"1\"\n  network.0.address:          \"\" => \"\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\"\n  network.0.internal_address: \"\" => \"<computed>\"\n  network.0.name:             \"\" => \"<computed>\"\n  network.0.source:           \"\" => \"default\"\n  tags_fingerprint:           \"\" => \"<computed>\"\n  zone:                       \"\" => \"asia-east1-b\"\ngoogle_compute_instance.default: Provisioning with 'local-exec'...\ngoogle_compute_instance.default: Creation complete\n\nApply complete! Resources: 2 added, 0 changed, 0 destroyed.\n\nThe state of your infrastructure has been saved to the path\nbelow. This state is required to modify and destroy your\ninfrastructure, so keep it safe. To inspect the complete state\nuse the `terraform show` command.\n\nState path: terraform.tfstate\n\n\u3053\u308c\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u751f\u6210\u3055\u308c\u307e\u3057\u305f\n\u3053\u3063\u305d\u308a local-exec \u3075\u3063\u304f\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n$ cat hosts\n\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\n\n\nAnsible \u3092\u5b9f\u884c\u3059\u308b\nplaybook \u306f\u9069\u5f53\u306b\u7528\u610f\u3057\u307e\u3057\u305f\u3002\u3088\u304f\u4f7f\u3063\u3066\u308b Erlang/OTP \u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3084\u3064\u3092\u3002\n\u3056\u3063\u304f\u308a\u3068\u5c65\u6b74\u3060\u3051 ...\n$ ansible-playbook -i hosts playbook.yml\n\nPLAY [all] ********************************************************************\n\nGATHERING FACTS ***************************************************************\nok: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [apt name={{ item }} state=latest] **************************************\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9] => (item=build-essential,libncurses-dev,libssl-dev)\n\nTASK: [get_url url=http://download.basho.co.jp.cs-ap-e1.ycloud.jp/otp/download/otp_src_17.1.tar.gz dest=/home/voluntas] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [command creates=/opt/erlang/17.1/bin/erl tar xvfz /home/voluntas/otp_src_17.1.tar.gz] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [command creates=/opt/erlang/17.1/bin/erl chdir=/home/voluntas/otp_src_17.1 ./configure --prefix=/opt/erlang/17.1 --enable-smp-support --enable-m64-build --enable-threads --enable-kernel-poll --enable-hipe --enable-native-libs --enable-dirty-schedulers --disable-sctp --without-javac] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [command creates=/opt/erlang/17.1/bin/erl chdir=/home/voluntas/otp_src_17.1 make -j 4] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [command creates=/opt/erlang/17.1/bin/erl chdir=/home/voluntas/otp_src_17.1 make install] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nPLAY RECAP ********************************************************************\n\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9             : ok=7    changed=6    unreachable=0    failed=0\n\n\n\u611f\u60f3\nGCE \u3092\u6c17\u8efd\u306b\u4e0a\u3052\u3089\u308c\u308b\u306e\u3067\u3068\u3066\u3082\u826f\u3044\u3067\u3059\u3002Terraform \u306f\u69d8\u3005\u306a\u74b0\u5883\u3092\u7ba1\u7406\u3059\u308b\u306e\u304c\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3042\u304f\u307e\u3067\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3042\u308b\u4ee5\u4e0a\u3001AWS \u306e\u30af\u30e9\u30a6\u30c9\u30d5\u30a9\u30fc\u30e1\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u306e\u5c02\u7528\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u30c4\u30fc\u30eb\u306b\u306f\u53ca\u3073\u307e\u305b\u3093\u3002\n\u73fe\u6642\u70b9\u3067\u306f\u3044\u308d\u3044\u308d\u306a\u74b0\u5883\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u4eba\u3084\u3001\u6c17\u8efd\u306b\u30c6\u30b9\u30c8\u74b0\u5883\u3092\u4f5c\u308c\u308b\u4fbf\u5229\u306a\u9053\u5177\u3068\u3057\u3066\u4f7f\u3063\u3066\u3044\u304f\u306e\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u307e\u305f Ansible \u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u5834\u5408\u672c\u6765\u306f local-exec \u304c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u6210\u5f8c\u306b\u5b9f\u884c\u3067\u304d\u308c\u3070\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u4ed5\u69d8\u306b\u306f\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067 Chef \u3092\u4f7f\u3063\u3066 remote-exec \u3092\u5b9f\u884c\u3057\u305f\u65b9\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002Ansible \u306b\u3082 ansible-pull \u3068\u3044\u3046\u306e\u306f\u3042\u308b\u306b\u306f\u3042\u308a\u307e\u3059\u304c ... \u3002\n\u3053\u306e\u8fba\u306f Terraform \u3068\u306e\u76f8\u6027\u306f\u4eca\u306e\u3068\u3053\u308d\u826f\u304f\u306a\u3055\u305d\u3046\u3068\u3044\u3046\u5370\u8c61\u3067\u3059\u3002\n\n## \u76ee\u7684\n\n- Terraform \u3067 GCE \u3068 Ansible \u3092\u8a66\u3057\u3066\u307f\u308b\n\n## \u524d\u63d0\n\n- Terraform \u306f 0.2.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n    - /path/to/terraform/version/ \u307f\u305f\u3044\u306a\u30a4\u30e1\u30fc\u30b8\n- Google Cloud Platform \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u6301\u3063\u3066\u3044\u308b\n    - Google Cloud Platform \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u4f5c\u6210\u6e08\u307f\n- Ansible \u306f 1.7.1 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n\n## \u624b\u9806\n\n### Google Console \u304b\u3089\u30a2\u30ab\u30a6\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3059\u308b\n\n- Google Developers Console \u306e API \u3068\u8a8d\u8a3c\u304b\u3089\u8a8d\u8a3c\u60c5\u5831\u3092\u9078\u629e\u3059\u308b\n- OAuth \u3067\u65b0\u3057\u3044\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 ID \u3092\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\t- \u30b5\u30fc\u30d3\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u9078\u629e\u3059\u308b\n\t- \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 ID \u3092\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\t- \u3053\u308c\u304c account \u306b\u306a\u308b\n- Compute Engine \u3068 App Engine \u306e JSON \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u9078\u629e\u3059\u308b\n\t- \u3053\u308c\u304c client_secrets \u306b\u306a\u308b\n\n### gce.tf \u3092\u7528\u610f\u3057\u3066 resource \u3067 GCE \u3092\u52d5\u304b\u3057\u3066\u307f\u308b\n\n\u6ce8\u610f\u70b9\u306f project \u3067\u3001\u81ea\u5206\u3067\u3064\u3051\u305f\u540d\u524d\u3067\u306f\u306a\u304f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 ID \u3092\u6307\u5b9a\u3059\u308b\u3002\n\nregion \u306f\u65e5\u672c\u306b\u8fd1\u3044\u65b9\u304c\u3044\u3044\u306e\u3067 asia-east1 \u3092\u9078\u3093\u3067\u304a\u3044\u305f\u3002\n\ngce.tf \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\u3002\u30a2\u30c9\u30ec\u30b9\u3068\u30ea\u30bd\u30fc\u30b9\u3092\u7528\u610f\u3057\u305f\u3002\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30b5\u30a4\u30ba\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u30c6\u30b9\u30c8\u3092\u3059\u308b\u306e\u3067\u7121\u99c4\u306b\u9ad8\u3081\u3002\n\n```\nprovider \"google\" {\n    account_file = \"account.json\"\n    client_secrets_file = \"client_secret.json\"\n    project = \"\u3053\u3053\u306b\u306f\u81ea\u5206\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 ID\"\n    region = \"asia-east1\"\n}\n\nresource \"google_compute_address\" \"default\" {\n    name = \"egg\"\n}\n\nresource \"google_compute_instance\" \"default\" {\n    name = \"spam\"\n    machine_type = \"n1-highcpu-4\"\n    zone = \"asia-east1-b\"\n\n    disk {\n        image = \"debian-7-wheezy-v20140814\"\n    }\n\n    network {\n        source = \"default\"\n        address = \"${google_compute_address.default.address}\"\n    }\n\n    provisioner \"local-exec\" {\n        command = \"echo ${google_compute_address.default.address} >> hosts\"\n    }\n}\n```\n\n### plan \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n\n```\n$ terraform plan\nRefreshing Terraform state prior to plan...\n\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n+ google_compute_address.default\n    address: \"\" => \"<computed>\"\n    name:    \"\" => \"egg\"\n\n+ google_compute_instance.default\n    disk.#:                     \"\" => \"1\"\n    disk.0.image:               \"\" => \"debian-7-wheezy-v20140814\"\n    machine_type:               \"\" => \"n1-highcpu-4\"\n    metadata_fingerprint:       \"\" => \"<computed>\"\n    name:                       \"\" => \"spam\"\n    network.#:                  \"\" => \"1\"\n    network.0.address:          \"\" => \"${google_compute_address.default.address}\"\n    network.0.internal_address: \"\" => \"<computed>\"\n    network.0.name:             \"\" => \"<computed>\"\n    network.0.source:           \"\" => \"default\"\n    tags_fingerprint:           \"\" => \"<computed>\"\n    zone:                       \"\" => \"asia-east1-b\"\n```\n\n\u554f\u984c\u306a\u3055\u305d\u3046\u3002\n\n### apply \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n\n```\n$ terraform apply\ngoogle_compute_address.default: Creating...\n  address: \"\" => \"<computed>\"\n  name:    \"\" => \"egg\"\ngoogle_compute_address.default: Creation complete\ngoogle_compute_instance.default: Creating...\n  disk.#:                     \"\" => \"1\"\n  disk.0.image:               \"\" => \"debian-7-wheezy-v20140814\"\n  machine_type:               \"\" => \"n1-highcpu-4\"\n  metadata_fingerprint:       \"\" => \"<computed>\"\n  name:                       \"\" => \"spam\"\n  network.#:                  \"\" => \"1\"\n  network.0.address:          \"\" => \"\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\"\n  network.0.internal_address: \"\" => \"<computed>\"\n  network.0.name:             \"\" => \"<computed>\"\n  network.0.source:           \"\" => \"default\"\n  tags_fingerprint:           \"\" => \"<computed>\"\n  zone:                       \"\" => \"asia-east1-b\"\ngoogle_compute_instance.default: Provisioning with 'local-exec'...\ngoogle_compute_instance.default: Creation complete\n\nApply complete! Resources: 2 added, 0 changed, 0 destroyed.\n\nThe state of your infrastructure has been saved to the path\nbelow. This state is required to modify and destroy your\ninfrastructure, so keep it safe. To inspect the complete state\nuse the `terraform show` command.\n\nState path: terraform.tfstate\n```\n\n\u3053\u308c\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u751f\u6210\u3055\u308c\u307e\u3057\u305f\n\n\u3053\u3063\u305d\u308a local-exec \u3075\u3063\u304f\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\n```\n$ cat hosts\n\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\n```\n### Ansible \u3092\u5b9f\u884c\u3059\u308b\n\nplaybook \u306f\u9069\u5f53\u306b\u7528\u610f\u3057\u307e\u3057\u305f\u3002\u3088\u304f\u4f7f\u3063\u3066\u308b Erlang/OTP \u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3084\u3064\u3092\u3002\n\u3056\u3063\u304f\u308a\u3068\u5c65\u6b74\u3060\u3051 ...\n\n```\n$ ansible-playbook -i hosts playbook.yml\n\nPLAY [all] ********************************************************************\n\nGATHERING FACTS ***************************************************************\nok: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [apt name={{ item }} state=latest] **************************************\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9] => (item=build-essential,libncurses-dev,libssl-dev)\n\nTASK: [get_url url=http://download.basho.co.jp.cs-ap-e1.ycloud.jp/otp/download/otp_src_17.1.tar.gz dest=/home/voluntas] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [command creates=/opt/erlang/17.1/bin/erl tar xvfz /home/voluntas/otp_src_17.1.tar.gz] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [command creates=/opt/erlang/17.1/bin/erl chdir=/home/voluntas/otp_src_17.1 ./configure --prefix=/opt/erlang/17.1 --enable-smp-support --enable-m64-build --enable-threads --enable-kernel-poll --enable-hipe --enable-native-libs --enable-dirty-schedulers --disable-sctp --without-javac] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [command creates=/opt/erlang/17.1/bin/erl chdir=/home/voluntas/otp_src_17.1 make -j 4] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nTASK: [command creates=/opt/erlang/17.1/bin/erl chdir=/home/voluntas/otp_src_17.1 make install] ***\nchanged: [\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9]\n\nPLAY RECAP ********************************************************************\n\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9             : ok=7    changed=6    unreachable=0    failed=0\n```\n\n## \u611f\u60f3\n\nGCE \u3092\u6c17\u8efd\u306b\u4e0a\u3052\u3089\u308c\u308b\u306e\u3067\u3068\u3066\u3082\u826f\u3044\u3067\u3059\u3002Terraform \u306f\u69d8\u3005\u306a\u74b0\u5883\u3092\u7ba1\u7406\u3059\u308b\u306e\u304c\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3042\u304f\u307e\u3067\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3042\u308b\u4ee5\u4e0a\u3001AWS \u306e\u30af\u30e9\u30a6\u30c9\u30d5\u30a9\u30fc\u30e1\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u306e\u5c02\u7528\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u30c4\u30fc\u30eb\u306b\u306f\u53ca\u3073\u307e\u305b\u3093\u3002\n\n\u73fe\u6642\u70b9\u3067\u306f\u3044\u308d\u3044\u308d\u306a\u74b0\u5883\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u4eba\u3084\u3001\u6c17\u8efd\u306b\u30c6\u30b9\u30c8\u74b0\u5883\u3092\u4f5c\u308c\u308b\u4fbf\u5229\u306a\u9053\u5177\u3068\u3057\u3066\u4f7f\u3063\u3066\u3044\u304f\u306e\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u307e\u305f Ansible \u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u5834\u5408\u672c\u6765\u306f local-exec \u304c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u6210\u5f8c\u306b\u5b9f\u884c\u3067\u304d\u308c\u3070\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u4ed5\u69d8\u306b\u306f\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\n\u306a\u306e\u3067 Chef \u3092\u4f7f\u3063\u3066 remote-exec \u3092\u5b9f\u884c\u3057\u305f\u65b9\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002Ansible \u306b\u3082 ansible-pull \u3068\u3044\u3046\u306e\u306f\u3042\u308b\u306b\u306f\u3042\u308a\u307e\u3059\u304c ... \u3002\n\n\u3053\u306e\u8fba\u306f Terraform \u3068\u306e\u76f8\u6027\u306f\u4eca\u306e\u3068\u3053\u308d\u826f\u304f\u306a\u3055\u305d\u3046\u3068\u3044\u3046\u5370\u8c61\u3067\u3059\u3002\n\n\n", "tags": ["Terraform", "Ansible", "gce"]}