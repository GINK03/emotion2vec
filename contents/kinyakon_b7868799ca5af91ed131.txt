{"context": "Monaca\u3067\u4f5c\u6210\u3057\u3066\u3044\u308b\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u30a2\u30d7\u30ea\u306b\u3001\u5e83\u544a\u3092\u8868\u793a\u3055\u305b\u307e\u3059\u3002\nCordova5.2.0\u3067\u3059\u3002\n\nconfig.xml\n<widget></widget>\u5185\u306b\u633f\u5165\u3057\u307e\u3059\u3002\n<access origin=\"*\"/>\n\n\n\u5e83\u544a\u7528JS\nfunction makeADGTag(adid_ios , adid_android , divid){\n    var adg = document.getElementById(divid);\n    var script = document.createElement(\"script\");\n    var adid;\n    if( monaca.isIOS ){adid = adid_ios;}\n    if( monaca.isAndroid ){adid = adid_android;}\n    script.type = 'text/javascript';\n    // async=true\u306b\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u975e\u540c\u671f\u306b\u5bfe\u5fdc\u3055\u308c\u307e\u3059\n    script.src ='http://i.socdm.com/sdk/js/adg-script-loader.js?id=' + adid + '&adType=SP&displayid=2&targetID=adg_' + adid + '&async=true';\n    if(adg != null && adg.innerHTML == ''){\n        adg.appendChild(script);\n    }\n    adg.style.display = \"none\";\n    var count = 0;\n    var timer = setInterval(function checkAd(){\n        count++;\n        if(count > 100){\n            console.log(adg.innerHTML);\n            clearInterval(timer);\n            return;\n        }\n        if(checkADGTag(adg) === true){\n            console.log('load AD');\n            clearInterval(timer);\n            adg.style.display = \"inline\";\n        }\n    },100);\n}\n\n// a\u30bf\u30b0\u3092\u63a2\u3059\nfunction checkADGTag(obj){\n    var links = obj.getElementsByTagName(\"a\");\n    var frms = obj.getElementsByTagName(\"iframe\");\n    if(links.length > 0){\n        makeADGLink(links);\n        return true;\n    }\n\n    var res = false;\n    for(var i = 0; i < frms.length; i++){\n        if(checkADGTag(frms[i].contentWindow.document) === true)res = true;\n    }\n    return res;\n}\n\n// a\u30bf\u30b0\u3092\u7f6e\u63db\u3059\u308b\nfunction makeADGLink(arr){\n    for(var i = 0; i < arr.length; i++){\n        (function(a) {\n            var href = a.href;\n            a.href = \"#\";\n            a.onclick = function(){var ref = window.open(href, '_system'); return false;}\n        })(arr[i]);\n    }\n}\n\n\n\u30da\u30fc\u30b8\u5207\u308a\u66ff\u3048\u7528JS\n\u30da\u30fc\u30b8\u3092\u5207\u308a\u66ff\u3048\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001makeADGTag()\u3092\u767a\u52d5\u3055\u305b\u307e\u3059\u3002\n\u4eca\u56de\u306fons-tabbar\u3067\u30da\u30fc\u30b8\u3092\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u4f8b\u3067\u3059\u3002\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u3059\u3002\nmakeADGTag(\"iOS\u7528\u5e83\u544aID\",\"Android\u7528\u5e83\u544aID\" , \"\u8868\u793a\u3055\u305b\u308bDIV\u306eID\");\n\u5e83\u544aID\u306f\u3001ADGeneration\u3067\u767a\u884c\u3059\u308bID\u3067\u3059\u3002\nfunction onDeviceReady() {\n    //Home\u521d\u56de\uff1a\u5e83\u544a\u8868\u793a\u95a2\u6570\n    makeADGTag(\"00000\",\"00000\" , \"top_ad_area\");\n\n    tabbar.on('postchange', function(e) {\n        var page = e.index;\n        //console.log(page);\n        if(page==0){//Home            \n            //\u5e83\u544a\u8868\u793a\u95a2\u6570\n            makeADGTag(\"00000\",\"00000\" , \"top_ad_area\");\n        }else if(page==1){\n            //console.log('page1');\n        }else if(page==2){\n            //console.log('page2');\n        }else if(page==3){\n            //console.log('page3');\n        }\n    });\n}//onDeviceReady\n\nvar event = typeof cordova === 'undefined' ? \n                              'DOMContentLoaded' : 'deviceready';\ndocument.addEventListener(event, onDeviceReady, false);\n\n\nHTML\u30d5\u30a1\u30a4\u30eb\n<ons-page></ons-page>\u5185\u3001\u4efb\u610f\u306e\u5834\u6240\u306b\u633f\u5165\u3057\u307e\u3059\u3002\ndiv\u306eID\u306f\u3001makeADGTag()\u306e\uff13\u756a\u76ee\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u540c\u3058\u306b\u3057\u307e\u3059\u3002\nheader\u5185\u306b\u3001\u4e0a\u8a18\uff12\u3064\u306eJS\u3092\u8aad\u307f\u8fbc\u307e\u305b\u3066\u304f\u3060\u3055\u3044\u3002\n<div id=\"top_ad_area\"></div>\n\n\nJS\u3067\u751f\u6210\u3059\u308bons-list\u306b\u5e83\u544a\u3092\u5165\u308c\u308b\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u611f\u3058\u3067\u3067\u304d\u307e\u3057\u305f\u3002\n\u4efb\u610f\u306e\u5834\u6240\u3067\u3001\u95a2\u6570\u3092\u767a\u52d5\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\nfunction addListAD(){\n    var sentence = '<ons-list-item><div id=\"list_ad_area\"></div></ons-list-item>';\n    var li = $(sentence);\n    li.appendTo($(\"#scheduleList\"));\n    ons.compile(li[0]);\n    li.addClass('list_ad');\n    makeADGTag(\"00000\" , \"00000\" , \"list_ad_area\");\n}\n\n\u5e83\u544a\u3092\u8868\u793a\u3059\u308bDIV\u304c\u63cf\u753b\u3055\u308c\u3066\u304b\u3089\u3001makeADGTag()\u3092\u767a\u52d5\u3055\u305b\u307e\u3059\u3002\nAdGeneration\u30b5\u30dd\u30fc\u30c8\u3055\u307e\u306e\u3054\u5354\u529b\u306e\u3082\u3068\u3001\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u6839\u6c17\u3088\u304f\u304a\u4ed8\u304d\u5408\u3044\u304f\u3060\u3055\u308a\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01\n\nMonaca\u3067\u4f5c\u6210\u3057\u3066\u3044\u308b\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u30a2\u30d7\u30ea\u306b\u3001\u5e83\u544a\u3092\u8868\u793a\u3055\u305b\u307e\u3059\u3002\nCordova5.2.0\u3067\u3059\u3002\n\n##config.xml\n`<widget></widget>`\u5185\u306b\u633f\u5165\u3057\u307e\u3059\u3002\n\n```\n<access origin=\"*\"/>\n```\n\n\n##\u5e83\u544a\u7528JS\n\n```\nfunction makeADGTag(adid_ios , adid_android , divid){\n    var adg = document.getElementById(divid);\n    var script = document.createElement(\"script\");\n    var adid;\n    if( monaca.isIOS ){adid = adid_ios;}\n    if( monaca.isAndroid ){adid = adid_android;}\n    script.type = 'text/javascript';\n    // async=true\u306b\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u975e\u540c\u671f\u306b\u5bfe\u5fdc\u3055\u308c\u307e\u3059\n    script.src ='http://i.socdm.com/sdk/js/adg-script-loader.js?id=' + adid + '&adType=SP&displayid=2&targetID=adg_' + adid + '&async=true';\n    if(adg != null && adg.innerHTML == ''){\n        adg.appendChild(script);\n    }\n    adg.style.display = \"none\";\n    var count = 0;\n    var timer = setInterval(function checkAd(){\n        count++;\n        if(count > 100){\n            console.log(adg.innerHTML);\n            clearInterval(timer);\n            return;\n        }\n        if(checkADGTag(adg) === true){\n            console.log('load AD');\n            clearInterval(timer);\n            adg.style.display = \"inline\";\n        }\n    },100);\n}\n\n// a\u30bf\u30b0\u3092\u63a2\u3059\nfunction checkADGTag(obj){\n    var links = obj.getElementsByTagName(\"a\");\n    var frms = obj.getElementsByTagName(\"iframe\");\n    if(links.length > 0){\n        makeADGLink(links);\n        return true;\n    }\n\n    var res = false;\n    for(var i = 0; i < frms.length; i++){\n        if(checkADGTag(frms[i].contentWindow.document) === true)res = true;\n    }\n    return res;\n}\n\n// a\u30bf\u30b0\u3092\u7f6e\u63db\u3059\u308b\nfunction makeADGLink(arr){\n    for(var i = 0; i < arr.length; i++){\n        (function(a) {\n            var href = a.href;\n            a.href = \"#\";\n            a.onclick = function(){var ref = window.open(href, '_system'); return false;}\n        })(arr[i]);\n    }\n}\n```\n\n##\u30da\u30fc\u30b8\u5207\u308a\u66ff\u3048\u7528JS\n\u30da\u30fc\u30b8\u3092\u5207\u308a\u66ff\u3048\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3001makeADGTag()\u3092\u767a\u52d5\u3055\u305b\u307e\u3059\u3002\n\u4eca\u56de\u306fons-tabbar\u3067\u30da\u30fc\u30b8\u3092\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u4f8b\u3067\u3059\u3002\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u3059\u3002\n`makeADGTag(\"iOS\u7528\u5e83\u544aID\",\"Android\u7528\u5e83\u544aID\" , \"\u8868\u793a\u3055\u305b\u308bDIV\u306eID\");`\n\u5e83\u544aID\u306f\u3001ADGeneration\u3067\u767a\u884c\u3059\u308bID\u3067\u3059\u3002\n\n\n```\nfunction onDeviceReady() {\n    //Home\u521d\u56de\uff1a\u5e83\u544a\u8868\u793a\u95a2\u6570\n    makeADGTag(\"00000\",\"00000\" , \"top_ad_area\");\n\n    tabbar.on('postchange', function(e) {\n        var page = e.index;\n        //console.log(page);\n        if(page==0){//Home            \n            //\u5e83\u544a\u8868\u793a\u95a2\u6570\n            makeADGTag(\"00000\",\"00000\" , \"top_ad_area\");\n        }else if(page==1){\n            //console.log('page1');\n        }else if(page==2){\n            //console.log('page2');\n        }else if(page==3){\n            //console.log('page3');\n        }\n    });\n}//onDeviceReady\n\nvar event = typeof cordova === 'undefined' ? \n                              'DOMContentLoaded' : 'deviceready';\ndocument.addEventListener(event, onDeviceReady, false);\n```\n\n##HTML\u30d5\u30a1\u30a4\u30eb\n`<ons-page></ons-page>`\u5185\u3001\u4efb\u610f\u306e\u5834\u6240\u306b\u633f\u5165\u3057\u307e\u3059\u3002\ndiv\u306eID\u306f\u3001makeADGTag()\u306e\uff13\u756a\u76ee\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u540c\u3058\u306b\u3057\u307e\u3059\u3002\nheader\u5185\u306b\u3001\u4e0a\u8a18\uff12\u3064\u306eJS\u3092\u8aad\u307f\u8fbc\u307e\u305b\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n<div id=\"top_ad_area\"></div>\n```\n\n##JS\u3067\u751f\u6210\u3059\u308bons-list\u306b\u5e83\u544a\u3092\u5165\u308c\u308b\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u611f\u3058\u3067\u3067\u304d\u307e\u3057\u305f\u3002\n\u4efb\u610f\u306e\u5834\u6240\u3067\u3001\u95a2\u6570\u3092\u767a\u52d5\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfunction addListAD(){\n    var sentence = '<ons-list-item><div id=\"list_ad_area\"></div></ons-list-item>';\n    var li = $(sentence);\n    li.appendTo($(\"#scheduleList\"));\n    ons.compile(li[0]);\n    li.addClass('list_ad');\n    makeADGTag(\"00000\" , \"00000\" , \"list_ad_area\");\n}\n```\n\u5e83\u544a\u3092\u8868\u793a\u3059\u308bDIV\u304c\u63cf\u753b\u3055\u308c\u3066\u304b\u3089\u3001makeADGTag()\u3092\u767a\u52d5\u3055\u305b\u307e\u3059\u3002\n\nAdGeneration\u30b5\u30dd\u30fc\u30c8\u3055\u307e\u306e\u3054\u5354\u529b\u306e\u3082\u3068\u3001\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u6839\u6c17\u3088\u304f\u304a\u4ed8\u304d\u5408\u3044\u304f\u3060\u3055\u308a\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01\n", "tags": ["monaca", "onsenui"]}