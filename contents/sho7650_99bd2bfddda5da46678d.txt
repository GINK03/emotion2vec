{"tags": ["wheezy", "vagrant", "Debian", "chef", "VirtualBox"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\u6700\u8fd1\u3001Vagrant+Chef+ServerSpec\u3067\u904a\u3093\u3067\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u3001\u4eca\u5e74\u306f\u3053\u308c\u3089\u3092\u3069\u3046\u3084\u3063\u3066\u5f0a\u793e\u306e\u4e8b\u696d\u3078\u751f\u304b\u3057\u3066\u3044\u304f\u304b\u3001\u8003\u3048\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u30b3\u30c8\u304c\u307b\u3068\u3093\u3069\u78ba\u5b9a\u3057\u3066\u3044\u3066\u3001\u305d\u308c\u3082\u3075\u307e\u3048\u3066\u306e\u304a\u52c9\u5f37\u3067\u3059\u3002\n\u3055\u3066\u3001\u307e\u305a\u3001\u306a\u306b\u306f\u3068\u3082\u3042\u308c chef \u3084 ServerSpec \u3067\u904a\u3076\u305f\u3081\u306e\u7bb1\u5ead\u304c\u5fc5\u8981\u3067\u3059\u3002\u3068\u8a00\u3046\u3053\u3068\u3067\u3001\u6bce\u5ea6\u6163\u308c\u89aa\u3057\u3093\u3060 Debian\u3092\u3064\u304b\u3063\u3066\u3001Vagrant\u7528\u306e BASE BOX \u3092 1\u304b\u3089\u4f5c\u308a\u307e\u3059\u3002\n\u6298\u89d2\u306a\u306e\u3067\u3001\u5148\u65e5\u3001\u767a\u8868\u3055\u308c\u305f\u3070\u304b\u308a\u306e Debian(Wheezy)7.4\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\u4eca\u56de\u4f5c\u3063\u305f box\u30d5\u30a1\u30a4\u30eb\u3092\u516c\u958b\u3057\u3066\u307e\u3059\u3002 => debian-7.4_c64.box\n\u3088\u308d\u3057\u304b\u3063\u305f\u3089\u3001\u304a\u4f7f\u3044\u304f\u3060\u3055\u3044\u3002\u4e0d\u90fd\u5408\u3042\u308c\u3070\u3001\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u307e\u305b\u3002\n\n1.\u6e96\u5099\u3059\u308b\u3082\u306e\n\u6b21\u306e\u74b0\u5883\u304c\u5fc5\u8981\u3067\u3059\u3002\u306a\u304a\u3001\u6211\u304c\u5bb6\u306f OS X Mavericks (10.9.1) \u4e0a\u3067\u3084\u3063\u3066\u307e\u3059\u3002\u9069\u5b9c\u3001\u8aad\u307f\u304b\u3048\u3089\u308c\u308b\u4eba\u304c\u4ee5\u964d\u306e\u6587\u7ae0\u3092\u8aad\u3080\u6a29\u5229\u304c\u4e0e\u3048\u3089\u308c\u307e\u3059\u3002\n\nDebian(Wheezy)\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30b9\u30c8\u30fc\u30ebCD\nVirtualBox 4.3.6\nVagrant 1.4.3\n\n\u203b\u3044\u305a\u308c\u30822014/2/11\u73fe\u5728\n\n\u6ce8\u610f\u70b9\nVagrant 1.4.2\u3067\u306f\u3001package \u30b3\u30de\u30f3\u30c9\u306bbug\u304c\u3042\u308b\u306e\u3067\u3001\u5fc5\u305a1.4.3\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n\n2.\u524d\u63d0\u6761\u4ef6\n\u3068\u3053\u308d\u3067\u3001Vagrant BASE BOX \u3092\u4f5c\u308b\u305f\u3081\u306e\u524d\u63d0\u6761\u4ef6\u3092\u3054\u5b58\u3058\u3067\u3057\u3087\u3046\u304b\u3002\u306a\u3093\u304b\u3001\u65b9\u8a00\u3082\u30a4\u30ed\u30a4\u30ed\u3042\u308b\u307f\u305f\u3044\u306a\u306e\u3067\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u306e requirement\u306b\u3064\u3044\u3066\u306f\u3001\u3061\u3083\u3093\u3068Vagrant\u306eDocument\u306b\u307e\u3068\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u308a\u3083\u305d\u3046\u3060\u3002\n\u3053\u3053\u3092\u629c\u7c8b\u3059\u308b\u3068\u3001\u6b21\u3092\u6e96\u5099\u3059\u308b\u3053\u3068\u304c\u5fc5\u9808\u306e(\u671b\u307e\u3057\u3044)\u3088\u3046\u3067\u3059\u3002\n\nVagrant BASE BOX \u306e\u639f\nVagrant Boxes\u306b\u306f\u3001Linux BOX\u3092\u4f5c\u308b\u3068\u304d\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u516c\u958b\u3055\u308c\u3066\u307e\u3059\u304c\u3001\u307e\u305a\u306f\u30b3\u30ec\u306b\u306a\u3089\u3046\u3068\u3059\u308b\u3068\u3002\n\n\u5bfe\u5fdc\u3057\u305fProvider\u3092\u4f7f\u3046\u3053\u3068\u3002(VirtualBox/VMware)\n\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u3002\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066AWS\u306eProvider\u304c\u516c\u958b\u3055\u308c\u3066\u308b\nPackage Manager\u304c\u4f7f\u3048\u308b\u3053\u3068\n\nvagrant\u30e6\u30fc\u30b6\u3067SSH\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\n\npuppetchef\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u308b\u3068(\u30fb\u2200\u30fb)\uff72\uff72\uff88!!\nDISK\u306f\u5bb9\u91cf\u304a\u304a\u304d\u3044\u3068\u56f0\u308b\u304b\u3089\u3001Dynamic\u306bResize\u3067\u304d\u308b\u3068(\u30fb\u2200\u30fb)\uff72\uff72\uff88!!\n\u30e1\u30e2\u30ea\u306f 512MB \u3067\u3044\u3044\nAUDIO\u3084USB\u306a\u3069\u4f7f\u3044\u3082\u3057\u306a\u3044\u3082\u306e\u306f disable\u306b\u3057\u3066\u304a\u304f\u3053\u3068\nvagrant \u30e6\u30fc\u30b6\u306f\u3001insecure keypair\u3092\u4f7f\u3063\u3066\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3053\u3068\nroot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306fvagrant\n\n\u4e00\u756a\u91cd\u8981\u306a\u306e\u306f\u3001vagrant\u30e6\u30fc\u30b6\u30fc\u304c\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067sudo\u3067\u304d\u308b\u3053\u3068\n\n\u4ed6\u306b\u3082\u3001\u904e\u53bb\u306e\u5236\u7d04\u306a\u306e\u304b\u3001\u65b9\u8a00\u306e\u3088\u3046\u306b\u8a00\u3044\u4f1d\u3048\u3089\u308c\u3066\u3044\u308b\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u53c2\u8003\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u624b\u52d5\u3067 Base Box \u4f5c\u6210\n\n\n3.Debian7.4\u306eBASE BOX\u3092\u4f5c\u6210\u3057\u3088\u3046\n\u3055\u3066\u3001\u639f\u306b\u306a\u3089\u3063\u3066\u3001Debian(Wheezy)7.4 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002VirtualBox\u306bCD\u30de\u30a6\u30f3\u30c8\u3057\u3066\u9069\u5f53\u306b\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4eca\u56de\u306f\u6b21\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\nVirtualBox \u306e HW\u8a2d\u5b9a\n\n\n\n\u69cb\u6210\u8981\u7d20\n\u8a2d\u5b9a\u5024\n\n\n\n\nCPU\nx2\n\n\nMemory\n2,048MB\n\n\nHDD(SATA)\n32GB\n\n\nAUDIO\ndisable\n\n\nUSB\ndisable\n\n\nPointing Device\nPS/2 Mouse\n\n\nNetwork Adapter1\nNAT\n\n\n\n\u203b\u7279\u8a18\u306a\u3044\u3082\u306e\u306fdefault\u306e\u307e\u307e\u3067\u3059\u3002\n\nDebian(Wheezy)7.4\u5c0e\u5165\u8a2d\u5b9a\n\n\n\n\u69cb\u6210\u8981\u7d20\n\u8a2d\u5b9a\u5024\n\n\n\n\nLanguage\nEnglish\n\n\nLocation\nJapan\n\n\nLocales\nUnited States-en_US.UTF8\n\n\nKeymap\nJapanese\n\n\nHostname\nvagrant-debian-wheezy\n\n\nDomain\nvagrantup.com\n\n\nPartition\nLVM\n\n\nSoftware(tasksel)\nSSH SERVER(ONLY)\n\n\n\n\nPartition\u8a2d\u5b9a\n\n\n\nmount\u5148\n\u5bb9\u91cf\n\n\n\n\n/\n348.1MB\n\n\n/home\n18.6GB\n\n\n/usr\n9.0GB\n\n\n/tmp\n398.5MB\n\n\n/var\n3.0GB\n\n\n/boot\n254.8MB\n\n\nswap\n2.7GB\n\n\n\n\nGUIDED LVM \u306e\u307e\u307e\n\n\n4.Vagrant\u7528\u306e\u69cb\u6210\u3092\u3057\u307e\u3057\u3087\u3046\n\u5c0e\u5165\u5b8c\u4e86\u3057\u3066\u3001\u8d77\u52d5\u3057\u305f\u5f8c\u3001VirtualBox\u7528\u306eAddOn\u3068Vagrant\u3078\u6700\u9069\u306a\u69cb\u6210\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002\n\u601d\u3063\u305f\u3088\u308a\u3084\u308b\u3053\u3068\u5c11\u306a\u3044\u3067\u3059\u3002\n\u3068\u3044\u3046\u304b\u3001\u591a\u5206\u6700\u4f4e\u9650\u3067\u3059\u3002\n\nVirtualbox Guest Additions\u306e\u5c0e\u5165\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u304a\u307e\u3058\u306a\u3044\u304b\u3089\u3044\u304d\u307e\u3057\u3087\u3046\u3002\nsudo\u5165\u308c\u3066\u306a\u3044\u306e\u3067\u3001\u307e\u3060 root\u30e6\u30fc\u30b6\u3067\u3084\u3063\u3068\u304d\u307e\u3059\u3002\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u6700\u65b0\u5316\u3068module\u4f5c\u6210\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5c0e\u5165\n# aptitude update ; aptitude upgarade -y\n# aptitude install sudo build-essential module-assistant\n# m-a prepare\n\n\nVirtualBox \u3067 \"Devices > Install Guest Additions\" \u3084\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\nGuest\u7528CD\u306e\u30de\u30a6\u30f3\u30c8\u3068vboxguestaddon\u306e\u5c0e\u5165\n# mount /media/cdrom0\n# bash /media/cdrom0/VBoxLinuxAdditions.run\n\n\n\u203b \u53c2\u8003 : Install virtualbox guest additions on Debian 7 wheezy\nX Window \u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5165\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u3053\u3053\u3067 X Window \u5411\u3051\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3067\u307e\u3059\u304c\u3001\u6c17\u306b\u3057\u307e\u305b\u3093\u3002\u6c17\u306b\u3057\u305f\u3089\u8ca0\u3051\u3067\u3059\u3002\n\nvagrant\u30e6\u30fc\u30b6\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067sudo\u3055\u305b\u308b\n/etc/sudoers \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u9069\u5f53\u306a\u3068\u3053\u308d\u306b\u6b21\u306e\u3082\u306e\u3092\u5165\u308c\u3066\u304a\u304d\u307e\u3057\u3087\u3046\n\n/etc/sudoers\nvagrant ALL=(ALL) NOPASSWD: ALL\n\n\n\u3053\u308c\u3067\u3001vagrant\u30e6\u30fc\u30b6\u3067 sudo\u3067\u304d\u307e\u3059\u306d(\uffe3\u30fc\uffe3)\uff86\uff94\uff98\n\u3055\u3041\u3001\u3053\u3053\u3067\u518d\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\nvagrant \u30e6\u30fc\u30b6\u3078\u3001vagrant \u3067 ssh\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\nvagrant \u30e6\u30fc\u30b6\u3092\u4f7f\u3063\u3066\u3001vagrant \u306e\u6a19\u6e96\u306e\u516c\u958b\u9375\u3092\u4f7f\u3063\u3066\u3001ssh\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u3001insecure keypair\u306a\u79d8\u5bc6\u9375\u3092\u767b\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001vagrant ssh \u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u306d! \u304b\u3063\u3053\u3044\u3044!\n\ncurl\u5c0e\u5165\nvagrant@vagrant-debian-wheezy:~$ sudo aptitude install curl\n\n\n\nssh\u79d8\u5bc6\u9375\u306e\u767b\u9332\nvagrant@vagrant-debian-wheezy:~$ mkdir .ssh\nvagrant@vagrant-debian-wheezy:~$ chmod 700 .ssh\nvagrant@vagrant-debian-wheezy:~$ cd .ssh\nvagrant@vagrant-debian-wheezy:~/.ssh$ curl -L -o authorized_keys http://raw.github.com/mitchellh/vagrant/master/keys/vagrant.pub\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:--  0:00:05 --:--:--     0\n100   409  100   409    0     0     70      0  0:00:05  0:00:05 --:--:--    70\nvagrant@vagrant-debian-wheezy:~/.ssh$ chmod 600 authorized_keys \n\n\n\nbox\u306e\u8d77\u52d5\u3092\u901f\u304f\u3059\u308b\u5c0f\u624b\u5148\u6280\n\u3053\u3053\u3067\u3001\u3061\u3087\u3044\u3068\u3057\u305f\u5c0f\u624b\u5148\u306e\u6280\u3067\u3001vagrant box\u306e\u8d77\u52d5\u3092\u5c11\u3057\u901f\u304f\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n\u5404\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u3001\u6b21\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3066\u5165\u308c\u3066\u3042\u3052\u3066\u304f\u3060\u3055\u3044\u3002\n\n/etc/ssh/sshd_config\nUseDNS NO\n\n\ngrub \u306e\u8a2d\u5b9a\u5909\u66f4\u5f8c\u306f\u3001sudo update-grub \u3067\u53cd\u6620\u3057\u307e\u3057\u3087\u3046\u3002\n\n/etc/default/grub\nGRUB_HIDDEN_TIMEOUT=0\n\n\n\nchef-solo\u3092\u5c0e\u5165\u3057\u3088\u3046!\n\u6700\u5f8c\u306bchef\u3092\u5165\u308c\u307e\u3059\u3002\n\u6211\u304c\u5bb6\u306e\u5834\u5408\u3001\u7d50\u5c40 knife solo prepare \u3059\u308b\u306e\u3067\u3001\u306a\u304f\u3066\u3082\u3044\u3044\u3093\u3067\u3059\u3051\u308c\u3069\u3082\u3001\u300cchef-solo \u5165\u3063\u3066\u307e\u3059\u300d\u3063\u3066\u8a00\u3046\u3068\u3001\u4eca\u6642\u611f!!\ncurl -L https://www.opscode.com/chef/install.sh | sudo bash \u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u304a\u624b\u8efd!\n\nchef-solo\u5c0e\u5165(debian7.x\u306e\u5834\u5408)\nvagrant@vagrant-debian-wheezy:~$ curl -L https://www.opscode.com/chef/install.sh | sudo bash\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 13347  100 13347    0     0   1108      0  0:00:12  0:00:12 --:--:--  7317\nDownloading Chef  for debian...\ndownloading https://www.opscode.com/chef/metadata?v=&prerelease=false&p=debian&pv=6&m=x86_64\n  to file /tmp/install.sh.6909/metadata.txt\ntrying wget...\nurl https://opscode-omnibus-packages.s3.amazonaws.com/debian/6/x86_64/chef_11.10.0-1.debian.6.0.5_amd64.deb\nmd5 7164567ac606dfbf620a75599b3aa6e8\nsha256  ce58b724359d2569fd61d0a8a93f80273d037faab390dcaf3da93320ed209042\ndownloaded metadata file looks valid...\ndownloading https://opscode-omnibus-packages.s3.amazonaws.com/debian/6/x86_64/chef_11.10.0-1.debian.6.0.5_amd64.deb\n  to file /tmp/install.sh.6909/chef_11.10.0-1.debian.6.0.5_amd64.deb\ntrying wget...\nChecksum compare with sha256sum succeeded.\nInstalling Chef \ninstalling with dpkg...\nSelecting previously unselected package chef.\n(Reading database ... 35468 files and directories currently installed.)\nUnpacking chef (from .../chef_11.10.0-1.debian.6.0.5_amd64.deb) ...\nSetting up chef (11.10.0-1.debian.6.0.5) ...\nThank you for installing Chef!\n\n\n\u203b chef \u306e\u5c0e\u5165\u30b3\u30fc\u30c9\u306f\u3001getchef.com \u3092\u78ba\u8a8d\u3057\u3066\u3044\u305f\u3060\u304f\u306e\u304c\u5b89\u5168\u3067\u3059\n\n4.Vagrant\u7528\u306e BASE BOX \u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0\u3057\u3088\u3046\n\u3053\u3053\u307e\u3067\u304d\u305f\u3089\u5f8c\u3059\u3050\u3067\u3059\u3002\u3061\u3087\u3044\u3061\u3087\u3044\u3068\u30b3\u30de\u30f3\u30c9\u6253\u3063\u305f\u3089\u7d42\u308f\u308a\u3067\u3059\u3002\n\u7d42\u308f\u308a\u3059\u304e\u3066\u5bc2\u3057\u3044\u3067\u3059\u3002\nvagrant package --base <vms\u540d>\n\u306a\u3093\u3068\u3053\u308c\u3060\u3051\u3067\u3001vagrant \u3067\u4f7f\u3046\u305f\u3081\u306e\u3001box\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u3061\u3083\u3044\u307e\u3059\u3002\u5bc2\u3057\u3044\u3067\u3059\u306d\u3002\nvms\u540d\u306b\u306f\u3001VirtualBox\u3067\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3001virtualmachine \u306e\u540d\u524d\u3067\u3059\u306d\u3002virtualbox \u3092\u8d77\u52d5\u3057\u305f\u3068\u304d\u306b\u8868\u793a\u3055\u308c\u3066\u308b\u30a2\u30ec\u3067\u3059\u3002\n\u3088\u304f\u5206\u304b\u3089\u306a\u3044\u4eba\u306fVBoxManage list vms\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u3066\u307f\u308c\u3070\u5206\u304b\u308a\u307e\u3059\n\u306a\u304a\u6211\u304c\u5bb6\u3067\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u305f\n\nvms\u30ea\u30b9\u30c8\u8868\u793a\n$ VBoxManage list vms\n\"Debian Wheezy\" {37e03644-3540-4831-ad39-ab4c8114cec1}\n\"debian-7.4_c64\" {5bb8d549-e721-4cde-a363-04c581f877b6}\n\"temp_default_1392080742549_89863\" {8e410833-bd8c-4d7d-8685-8d6e666affe7}\n\n\n\u306a\u304a\u3001\u3053\u306e\u6642\u306b\u4f5c\u3063\u3066\u3044\u305f vms \u306f \"temp_default_1392080742549_89863\" \u3067\u3057\u305f(\u5b9f\u306f\u9014\u4e2d\u3067vagrant box\u5316\u3057\u3066\u305f)\n\u3068\u3044\u3046\u308f\u3051\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3001\u3053\u3046\n\nvagrant\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210\n$ vagrant package --base temp_default_1392080742549_89863\n[temp_default_1392080742549_89863] Clearing any previously set forwarded ports...\n[temp_default_1392080742549_89863] Exporting VM...\n[temp_default_1392080742549_89863] Compressing package to: /xxxxxx/package.box\n\n\n\u3067\u304d\u307e\u3057\u305f\u30fd(\u00b4\u30fc\uff40)\u30ce\n\u5f8c\u306f\u3001\u3053\u306e package.box \u3092\u4f7f\u3063\u3066\u3001vagrant \u3078\u767b\u9332\u3059\u308b\u307e\u3067\u3067\u3059\u3002\n\u306a\u304a\u3001\u3053\u306e box \u306f\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u4e0a\u306e\u624b\u9806\u306f\u4e00\u5207\u5408\u5207\u7701\u3044\u3066\u3001\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3001\u3053\u306e vagrant box \u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u30fd(\u00b4\u30fc\uff40)\u30ce\u30b9\u30c6\u30ad\n\u6b21\u306e3\u5de5\u7a0b\u3067\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\n\nvagrant box \u3078\u767b\u9332 vagrant box add <vms\u540d> [box\u30d5\u30a1\u30a4\u30ebURL]\n\nvagrant \u521d\u671f\u5316 vagrant init <vms\u540d\n\nvagrant \u3067\u5bfe\u8c61\u306e\u8d77\u52d5 vagrant up\n\n\n\nvagrant\u3078\u306e\u767b\u9332\n$ vagrant box add debian-7.4-c64 https://dl.dropboxusercontent.com/u/8506456/debian-7.4_c64.box \nDownloading box from URL: file:/Volumes/WORKs/Vagrant/debian-7.4_c64/package.box\nExtracting box...te: 137M/s, Estimated time remaining: --:--:--)\nSuccessfully added box 'debian-7.4_c64' with provider 'virtualbox'!\n\n\n\nvagrant\u306e\u521d\u671f\u5316\u3068\u8d77\u52d5\n$ vagrant init debian-7.4_c64\nA `Vagrantfile` has been placed in this directory. You are now\nready to `vagrant up` your first virtual environment! Please read\nthe comments in the Vagrantfile as well as documentation on\n`vagrantup.com` for more information on using Vagrant.\n\n$ vagrant up\nBringing machine 'default' up with 'virtualbox' provider...\n[default] Importing base box 'debian-7.4_c64'...\n[default] Matching MAC address for NAT networking...\n[default] Setting the name of the VM...\n[default] Clearing any previously set forwarded ports...\n[default] Clearing any previously set network interfaces...\n[default] Preparing network interfaces based on configuration...\n[default] Forwarding ports...\n[default] -- 22 => 2222 (adapter 1)\n[default] Booting VM...\n[default] Waiting for machine to boot. This may take a few minutes...\n[default] Machine booted and ready!\n[default] Mounting shared folders...\n[default] -- /vagrant\n\n\n\u3084\u3063\u307b\u3044\u30fd(\u00b4\u30fc\uff40)\u30ce\n\u6700\u8fd1\u3001Vagrant+Chef+ServerSpec\u3067\u904a\u3093\u3067\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u3001\u4eca\u5e74\u306f\u3053\u308c\u3089\u3092\u3069\u3046\u3084\u3063\u3066\u5f0a\u793e\u306e\u4e8b\u696d\u3078\u751f\u304b\u3057\u3066\u3044\u304f\u304b\u3001\u8003\u3048\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u30b3\u30c8\u304c\u307b\u3068\u3093\u3069\u78ba\u5b9a\u3057\u3066\u3044\u3066\u3001\u305d\u308c\u3082\u3075\u307e\u3048\u3066\u306e\u304a\u52c9\u5f37\u3067\u3059\u3002\n\n\u3055\u3066\u3001\u307e\u305a\u3001\u306a\u306b\u306f\u3068\u3082\u3042\u308c chef \u3084 ServerSpec \u3067\u904a\u3076\u305f\u3081\u306e\u7bb1\u5ead\u304c\u5fc5\u8981\u3067\u3059\u3002\u3068\u8a00\u3046\u3053\u3068\u3067\u3001\u6bce\u5ea6\u6163\u308c\u89aa\u3057\u3093\u3060 Debian\u3092\u3064\u304b\u3063\u3066\u3001Vagrant\u7528\u306e BASE BOX \u3092 1\u304b\u3089\u4f5c\u308a\u307e\u3059\u3002\n\u6298\u89d2\u306a\u306e\u3067\u3001\u5148\u65e5\u3001\u767a\u8868\u3055\u308c\u305f\u3070\u304b\u308a\u306e Debian(Wheezy)7.4\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u4eca\u56de\u4f5c\u3063\u305f box\u30d5\u30a1\u30a4\u30eb\u3092\u516c\u958b\u3057\u3066\u307e\u3059\u3002 => [debian-7.4_c64.box](https://dl.dropboxusercontent.com/u/8506456/debian-7.4_c64.box)\n\u3088\u308d\u3057\u304b\u3063\u305f\u3089\u3001\u304a\u4f7f\u3044\u304f\u3060\u3055\u3044\u3002\u4e0d\u90fd\u5408\u3042\u308c\u3070\u3001\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u307e\u305b\u3002\n\n\n# 1.\u6e96\u5099\u3059\u308b\u3082\u306e\n\u6b21\u306e\u74b0\u5883\u304c\u5fc5\u8981\u3067\u3059\u3002\u306a\u304a\u3001\u6211\u304c\u5bb6\u306f OS X Mavericks (10.9.1) \u4e0a\u3067\u3084\u3063\u3066\u307e\u3059\u3002\u9069\u5b9c\u3001\u8aad\u307f\u304b\u3048\u3089\u308c\u308b\u4eba\u304c\u4ee5\u964d\u306e\u6587\u7ae0\u3092\u8aad\u3080\u6a29\u5229\u304c\u4e0e\u3048\u3089\u308c\u307e\u3059\u3002\n\n* [Debian(Wheezy)\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30b9\u30c8\u30fc\u30ebCD](http://www.debian.org/CD/netinst/index.ja.html \"Netinst.iso\")\n* [VirtualBox 4.3.6](https://www.virtualbox.org/wiki/Downloads \"vbox4.3.6\")\n* [Vagrant 1.4.3](https://www.vagrantup.com/downloads.html \"vagrant1.4.3\")\n\n\u203b\u3044\u305a\u308c\u30822014/2/11\u73fe\u5728\n\n## \u6ce8\u610f\u70b9\nVagrant 1.4.2\u3067\u306f\u3001package \u30b3\u30de\u30f3\u30c9\u306b[bug](http://qiita.com/DQNEO/items/184c2a2560eb3d283ac5)\u304c\u3042\u308b\u306e\u3067\u3001\u5fc5\u305a1.4.3\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n\n# 2.\u524d\u63d0\u6761\u4ef6\n\u3068\u3053\u308d\u3067\u3001Vagrant BASE BOX \u3092\u4f5c\u308b\u305f\u3081\u306e\u524d\u63d0\u6761\u4ef6\u3092\u3054\u5b58\u3058\u3067\u3057\u3087\u3046\u304b\u3002\u306a\u3093\u304b\u3001\u65b9\u8a00\u3082\u30a4\u30ed\u30a4\u30ed\u3042\u308b\u307f\u305f\u3044\u306a\u306e\u3067\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u306e requirement\u306b\u3064\u3044\u3066\u306f\u3001\u3061\u3083\u3093\u3068[Vagrant\u306eDocument](http://docs.vagrantup.com/v2/boxes/base.html \"Vagrant Boxes\")\u306b\u307e\u3068\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u308a\u3083\u305d\u3046\u3060\u3002\n\u3053\u3053\u3092\u629c\u7c8b\u3059\u308b\u3068\u3001\u6b21\u3092\u6e96\u5099\u3059\u308b\u3053\u3068\u304c\u5fc5\u9808\u306e(\u671b\u307e\u3057\u3044)\u3088\u3046\u3067\u3059\u3002\n## Vagrant BASE BOX \u306e\u639f\n[Vagrant Boxes](http://docs.vagrantup.com/v2/boxes/base.html)\u306b\u306f\u3001Linux BOX\u3092\u4f5c\u308b\u3068\u304d\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u516c\u958b\u3055\u308c\u3066\u307e\u3059\u304c\u3001\u307e\u305a\u306f\u30b3\u30ec\u306b\u306a\u3089\u3046\u3068\u3059\u308b\u3068\u3002\n\n* \u5bfe\u5fdc\u3057\u305f`Provider`\u3092\u4f7f\u3046\u3053\u3068\u3002(VirtualBox/VMware)\n\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u3002\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066[AWS](http://docs.vagrantup.com/v2/plugins/providers.html)\u306e`Provider`\u304c\u516c\u958b\u3055\u308c\u3066\u308b\n* Package Manager\u304c\u4f7f\u3048\u308b\u3053\u3068\n* `vagrant`\u30e6\u30fc\u30b6\u3067SSH\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\n* `puppet``chef`\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u308b\u3068(\u30fb\u2200\u30fb)\uff72\uff72\uff88!!\n* DISK\u306f\u5bb9\u91cf\u304a\u304a\u304d\u3044\u3068\u56f0\u308b\u304b\u3089\u3001Dynamic\u306bResize\u3067\u304d\u308b\u3068(\u30fb\u2200\u30fb)\uff72\uff72\uff88!!\n* \u30e1\u30e2\u30ea\u306f 512MB \u3067\u3044\u3044\n* AUDIO\u3084USB\u306a\u3069\u4f7f\u3044\u3082\u3057\u306a\u3044\u3082\u306e\u306f disable\u306b\u3057\u3066\u304a\u304f\u3053\u3068\n* vagrant \u30e6\u30fc\u30b6\u306f\u3001[insecure keypair](https://github.com/mitchellh/vagrant/tree/master/keys)\u3092\u4f7f\u3063\u3066\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3053\u3068\n* root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306f`vagrant`\n* \u4e00\u756a\u91cd\u8981\u306a\u306e\u306f\u3001`vagrant`\u30e6\u30fc\u30b6\u30fc\u304c\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067`sudo`\u3067\u304d\u308b\u3053\u3068\n\n\u4ed6\u306b\u3082\u3001\u904e\u53bb\u306e\u5236\u7d04\u306a\u306e\u304b\u3001\u65b9\u8a00\u306e\u3088\u3046\u306b\u8a00\u3044\u4f1d\u3048\u3089\u308c\u3066\u3044\u308b\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u53c2\u8003\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n* [\u624b\u52d5\u3067 Base Box \u4f5c\u6210](http://www1205uf.sakura.ne.jp/wp/world/?tag=knife-solo)\n\n#3.Debian7.4\u306eBASE BOX\u3092\u4f5c\u6210\u3057\u3088\u3046\n\u3055\u3066\u3001\u639f\u306b\u306a\u3089\u3063\u3066\u3001Debian(Wheezy)7.4 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002VirtualBox\u306bCD\u30de\u30a6\u30f3\u30c8\u3057\u3066\u9069\u5f53\u306b\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u4eca\u56de\u306f\u6b21\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n##VirtualBox \u306e HW\u8a2d\u5b9a\n| \u69cb\u6210\u8981\u7d20 | \u8a2d\u5b9a\u5024 |\n|----------:|:----:|\n|CPU|x2|\n|Memory|2,048MB|\n|HDD(SATA)|32GB|\n|AUDIO|disable|\n|USB|disable|\n|Pointing Device|PS/2 Mouse|\n|Network Adapter1|NAT|\n\u203b\u7279\u8a18\u306a\u3044\u3082\u306e\u306fdefault\u306e\u307e\u307e\u3067\u3059\u3002\n\n##Debian(Wheezy)7.4\u5c0e\u5165\u8a2d\u5b9a\n| \u69cb\u6210\u8981\u7d20 | \u8a2d\u5b9a\u5024 |\n|---:|:---:|\n|Language|English|\n|Location|Japan|\n|Locales|United States-en_US.UTF8|\n|Keymap|Japanese|\n|Hostname|vagrant-debian-wheezy|\n|Domain|vagrantup.com|\n|Partition|LVM|\n|Software(tasksel)|SSH SERVER(ONLY)|\n\n##Partition\u8a2d\u5b9a\n| mount\u5148 | \u5bb9\u91cf |\n|---:|---:|\n|/|348.1MB|\n|/home|18.6GB|\n|/usr|9.0GB|\n|/tmp|398.5MB|\n|/var|3.0GB|\n|/boot|254.8MB|\n|swap|2.7GB|\n\n* GUIDED LVM \u306e\u307e\u307e\n\n#4.Vagrant\u7528\u306e\u69cb\u6210\u3092\u3057\u307e\u3057\u3087\u3046\n\u5c0e\u5165\u5b8c\u4e86\u3057\u3066\u3001\u8d77\u52d5\u3057\u305f\u5f8c\u3001VirtualBox\u7528\u306eAddOn\u3068Vagrant\u3078\u6700\u9069\u306a\u69cb\u6210\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002\n\u601d\u3063\u305f\u3088\u308a\u3084\u308b\u3053\u3068\u5c11\u306a\u3044\u3067\u3059\u3002\n\u3068\u3044\u3046\u304b\u3001\u591a\u5206\u6700\u4f4e\u9650\u3067\u3059\u3002\n\n##Virtualbox Guest Additions\u306e\u5c0e\u5165\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u304a\u307e\u3058\u306a\u3044\u304b\u3089\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n`sudo`\u5165\u308c\u3066\u306a\u3044\u306e\u3067\u3001\u307e\u3060 root\u30e6\u30fc\u30b6\u3067\u3084\u3063\u3068\u304d\u307e\u3059\u3002\n\n\n```Bash:\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u6700\u65b0\u5316\u3068module\u4f5c\u6210\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5c0e\u5165\n# aptitude update ; aptitude upgarade -y\n# aptitude install sudo build-essential module-assistant\n# m-a prepare\n```\n\nVirtualBox \u3067 \"Devices > Install Guest Additions\" \u3084\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\n```Bash:Guest\u7528CD\u306e\u30de\u30a6\u30f3\u30c8\u3068vboxguestaddon\u306e\u5c0e\u5165\n# mount /media/cdrom0\n# bash /media/cdrom0/VBoxLinuxAdditions.run\n```\n\n\u203b \u53c2\u8003 : [Install virtualbox guest additions on Debian 7 wheezy](http://www.binarytides.com/virtualbox-guest-additions-debian-wheezy/)\n\nX Window \u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5165\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u3053\u3053\u3067 X Window \u5411\u3051\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3067\u307e\u3059\u304c\u3001\u6c17\u306b\u3057\u307e\u305b\u3093\u3002\u6c17\u306b\u3057\u305f\u3089\u8ca0\u3051\u3067\u3059\u3002\n\n##vagrant\u30e6\u30fc\u30b6\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067sudo\u3055\u305b\u308b\n`/etc/sudoers` \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u9069\u5f53\u306a\u3068\u3053\u308d\u306b\u6b21\u306e\u3082\u306e\u3092\u5165\u308c\u3066\u304a\u304d\u307e\u3057\u3087\u3046\n\n```Bash:/etc/sudoers\nvagrant ALL=(ALL) NOPASSWD: ALL\n```\n\u3053\u308c\u3067\u3001vagrant\u30e6\u30fc\u30b6\u3067 `sudo`\u3067\u304d\u307e\u3059\u306d(\uffe3\u30fc\uffe3)\uff86\uff94\uff98\n\n\u3055\u3041\u3001\u3053\u3053\u3067\u518d\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n##vagrant \u30e6\u30fc\u30b6\u3078\u3001vagrant \u3067 ssh\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\nvagrant \u30e6\u30fc\u30b6\u3092\u4f7f\u3063\u3066\u3001vagrant \u306e\u6a19\u6e96\u306e\u516c\u958b\u9375\u3092\u4f7f\u3063\u3066\u3001ssh\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u3001`insecure keypair`\u306a\u79d8\u5bc6\u9375\u3092\u767b\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001`vagrant ssh` \u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u306d! \u304b\u3063\u3053\u3044\u3044!\n\n```bash:curl\u5c0e\u5165\nvagrant@vagrant-debian-wheezy:~$ sudo aptitude install curl\n```\n\n```bash:ssh\u79d8\u5bc6\u9375\u306e\u767b\u9332\nvagrant@vagrant-debian-wheezy:~$ mkdir .ssh\nvagrant@vagrant-debian-wheezy:~$ chmod 700 .ssh\nvagrant@vagrant-debian-wheezy:~$ cd .ssh\nvagrant@vagrant-debian-wheezy:~/.ssh$ curl -L -o authorized_keys http://raw.github.com/mitchellh/vagrant/master/keys/vagrant.pub\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:--  0:00:05 --:--:--     0\n100   409  100   409    0     0     70      0  0:00:05  0:00:05 --:--:--    70\nvagrant@vagrant-debian-wheezy:~/.ssh$ chmod 600 authorized_keys \n```\n\n##box\u306e\u8d77\u52d5\u3092\u901f\u304f\u3059\u308b\u5c0f\u624b\u5148\u6280\n\u3053\u3053\u3067\u3001\u3061\u3087\u3044\u3068\u3057\u305f\u5c0f\u624b\u5148\u306e\u6280\u3067\u3001vagrant box\u306e\u8d77\u52d5\u3092\u5c11\u3057\u901f\u304f\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n\n\u5404\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u3001\u6b21\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3066\u5165\u308c\u3066\u3042\u3052\u3066\u304f\u3060\u3055\u3044\u3002\n\n```bash:/etc/ssh/sshd_config\nUseDNS NO\n```\n\ngrub \u306e\u8a2d\u5b9a\u5909\u66f4\u5f8c\u306f\u3001`sudo update-grub` \u3067\u53cd\u6620\u3057\u307e\u3057\u3087\u3046\u3002\n\n```bash:/etc/default/grub \nGRUB_HIDDEN_TIMEOUT=0\n```\n\n##chef-solo\u3092\u5c0e\u5165\u3057\u3088\u3046!\n\u6700\u5f8c\u306bchef\u3092\u5165\u308c\u307e\u3059\u3002\n\n\u6211\u304c\u5bb6\u306e\u5834\u5408\u3001\u7d50\u5c40 knife solo prepare \u3059\u308b\u306e\u3067\u3001\u306a\u304f\u3066\u3082\u3044\u3044\u3093\u3067\u3059\u3051\u308c\u3069\u3082\u3001\u300c`chef-solo` \u5165\u3063\u3066\u307e\u3059\u300d\u3063\u3066\u8a00\u3046\u3068\u3001\u4eca\u6642\u611f!!\n`curl -L https://www.opscode.com/chef/install.sh | sudo bash` \u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u304a\u624b\u8efd!\n\n```bash:chef-solo\u5c0e\u5165(debian7.x\u306e\u5834\u5408)\nvagrant@vagrant-debian-wheezy:~$ curl -L https://www.opscode.com/chef/install.sh | sudo bash\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 13347  100 13347    0     0   1108      0  0:00:12  0:00:12 --:--:--  7317\nDownloading Chef  for debian...\ndownloading https://www.opscode.com/chef/metadata?v=&prerelease=false&p=debian&pv=6&m=x86_64\n  to file /tmp/install.sh.6909/metadata.txt\ntrying wget...\nurl\thttps://opscode-omnibus-packages.s3.amazonaws.com/debian/6/x86_64/chef_11.10.0-1.debian.6.0.5_amd64.deb\nmd5\t7164567ac606dfbf620a75599b3aa6e8\nsha256\tce58b724359d2569fd61d0a8a93f80273d037faab390dcaf3da93320ed209042\ndownloaded metadata file looks valid...\ndownloading https://opscode-omnibus-packages.s3.amazonaws.com/debian/6/x86_64/chef_11.10.0-1.debian.6.0.5_amd64.deb\n  to file /tmp/install.sh.6909/chef_11.10.0-1.debian.6.0.5_amd64.deb\ntrying wget...\nChecksum compare with sha256sum succeeded.\nInstalling Chef \ninstalling with dpkg...\nSelecting previously unselected package chef.\n(Reading database ... 35468 files and directories currently installed.)\nUnpacking chef (from .../chef_11.10.0-1.debian.6.0.5_amd64.deb) ...\nSetting up chef (11.10.0-1.debian.6.0.5) ...\nThank you for installing Chef!\n```\n\n\u203b chef \u306e\u5c0e\u5165\u30b3\u30fc\u30c9\u306f\u3001[getchef.com](http://www.getchef.com/chef/install/) \u3092\u78ba\u8a8d\u3057\u3066\u3044\u305f\u3060\u304f\u306e\u304c\u5b89\u5168\u3067\u3059\n\n#4.Vagrant\u7528\u306e BASE BOX \u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0\u3057\u3088\u3046\n\u3053\u3053\u307e\u3067\u304d\u305f\u3089\u5f8c\u3059\u3050\u3067\u3059\u3002\u3061\u3087\u3044\u3061\u3087\u3044\u3068\u30b3\u30de\u30f3\u30c9\u6253\u3063\u305f\u3089\u7d42\u308f\u308a\u3067\u3059\u3002\n\u7d42\u308f\u308a\u3059\u304e\u3066\u5bc2\u3057\u3044\u3067\u3059\u3002\n\n`vagrant package --base <vms\u540d>`\n\n\u306a\u3093\u3068\u3053\u308c\u3060\u3051\u3067\u3001vagrant \u3067\u4f7f\u3046\u305f\u3081\u306e\u3001`box`\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u3061\u3083\u3044\u307e\u3059\u3002\u5bc2\u3057\u3044\u3067\u3059\u306d\u3002\n`vms\u540d`\u306b\u306f\u3001VirtualBox\u3067\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3001virtualmachine \u306e\u540d\u524d\u3067\u3059\u306d\u3002virtualbox \u3092\u8d77\u52d5\u3057\u305f\u3068\u304d\u306b\u8868\u793a\u3055\u308c\u3066\u308b\u30a2\u30ec\u3067\u3059\u3002\n\n\u3088\u304f\u5206\u304b\u3089\u306a\u3044\u4eba\u306f`VBoxManage list vms`\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u3066\u307f\u308c\u3070\u5206\u304b\u308a\u307e\u3059\n\n\u306a\u304a\u6211\u304c\u5bb6\u3067\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u305f\n\n```bash:vms\u30ea\u30b9\u30c8\u8868\u793a\n$ VBoxManage list vms\n\"Debian Wheezy\" {37e03644-3540-4831-ad39-ab4c8114cec1}\n\"debian-7.4_c64\" {5bb8d549-e721-4cde-a363-04c581f877b6}\n\"temp_default_1392080742549_89863\" {8e410833-bd8c-4d7d-8685-8d6e666affe7}\n```\n\u306a\u304a\u3001\u3053\u306e\u6642\u306b\u4f5c\u3063\u3066\u3044\u305f `vms` \u306f *\"temp_default_1392080742549_89863\"* \u3067\u3057\u305f(\u5b9f\u306f\u9014\u4e2d\u3067vagrant box\u5316\u3057\u3066\u305f)\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3001\u3053\u3046\n\n```bash:vagrant\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210\n$ vagrant package --base temp_default_1392080742549_89863\n[temp_default_1392080742549_89863] Clearing any previously set forwarded ports...\n[temp_default_1392080742549_89863] Exporting VM...\n[temp_default_1392080742549_89863] Compressing package to: /xxxxxx/package.box\n```\n\n\u3067\u304d\u307e\u3057\u305f\u30fd(\u00b4\u30fc\uff40)\u30ce\n\n\u5f8c\u306f\u3001\u3053\u306e `package.box` \u3092\u4f7f\u3063\u3066\u3001vagrant \u3078\u767b\u9332\u3059\u308b\u307e\u3067\u3067\u3059\u3002\n\u306a\u304a\u3001\u3053\u306e `box` \u306f\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u4e0a\u306e\u624b\u9806\u306f\u4e00\u5207\u5408\u5207\u7701\u3044\u3066\u3001\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3001\u3053\u306e `vagrant box` \u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u30fd(\u00b4\u30fc\uff40)\u30ce\u30b9\u30c6\u30ad\n\n\u6b21\u306e3\u5de5\u7a0b\u3067\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\n\n1. vagrant box \u3078\u767b\u9332 `vagrant box add <vms\u540d> [box\u30d5\u30a1\u30a4\u30ebURL]`\n* vagrant \u521d\u671f\u5316 `vagrant init <vms\u540d`\n* vagrant \u3067\u5bfe\u8c61\u306e\u8d77\u52d5 `vagrant up`\n\n```bash:vagrant\u3078\u306e\u767b\u9332\n$ vagrant box add debian-7.4-c64 https://dl.dropboxusercontent.com/u/8506456/debian-7.4_c64.box \nDownloading box from URL: file:/Volumes/WORKs/Vagrant/debian-7.4_c64/package.box\nExtracting box...te: 137M/s, Estimated time remaining: --:--:--)\nSuccessfully added box 'debian-7.4_c64' with provider 'virtualbox'!\n```\n\n```bash:vagrant\u306e\u521d\u671f\u5316\u3068\u8d77\u52d5\n$ vagrant init debian-7.4_c64\nA `Vagrantfile` has been placed in this directory. You are now\nready to `vagrant up` your first virtual environment! Please read\nthe comments in the Vagrantfile as well as documentation on\n`vagrantup.com` for more information on using Vagrant.\n\n$ vagrant up\nBringing machine 'default' up with 'virtualbox' provider...\n[default] Importing base box 'debian-7.4_c64'...\n[default] Matching MAC address for NAT networking...\n[default] Setting the name of the VM...\n[default] Clearing any previously set forwarded ports...\n[default] Clearing any previously set network interfaces...\n[default] Preparing network interfaces based on configuration...\n[default] Forwarding ports...\n[default] -- 22 => 2222 (adapter 1)\n[default] Booting VM...\n[default] Waiting for machine to boot. This may take a few minutes...\n[default] Machine booted and ready!\n[default] Mounting shared folders...\n[default] -- /vagrant\n```\n\n\u3084\u3063\u307b\u3044\u30fd(\u00b4\u30fc\uff40)\u30ce"}