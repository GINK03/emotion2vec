{"context": "\u65e2\u306bPostfix\u306f\u6b63\u5e38\u306b\u30e1\u30fc\u30eb\u306e\u9001\u53d7\u4fe1\u304c\u3067\u304d\u308b\u72b6\u614b\u304b\u3089\u59cb\u3081\u307e\u3059\u3002\nyum install pypolicyd-spf\n\u3067pypolicyd-spf\u3092\u5c0e\u5165\n\u3044\u304d\u306a\u308aSPF\u8a8d\u8a3c\u3055\u308c\u3066\u306a\u3044\u30e1\u30fc\u30eb\u3092\u5f3e\u304f\u306e\u3082\u30a2\u30ec\u306a\u3093\u3067\n\u8a8d\u8a3c\u7d50\u679c\u3092\u30e1\u30fc\u30eb\u30d8\u30c3\u30c0\u306b\u8ffd\u52a0\u3059\u308b\u3060\u3051\u306e\u8a2d\u5b9a\u306b\u3059\u308b\u3002\n\n/etc/python-policyd-spf/policyd-spf.conf\nMail_From_reject = False\n\n\n\u3042\u3068\u306fPostfix\u306emain.cf\u3084master.cf\u3092\u9069\u5b9c\u7de8\u96c6\nhttp://qiita.com/dumpty-alma@github/items/b89ef0ca4801034558b3\n\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\u305d\u3057\u3066Postfix\u3092\u518d\u8d77\u52d5\u3057\u3001\u5916\u90e8\u304b\u3089\u30e1\u30fc\u30eb\u3092\u9001\u3063\u3066\u307f\u308b\u3002\n\u3001\u3001\u3001\u3001\u3053\u306a\u3044\u3002\n\u5225\u306e\u30e1\u30fc\u30eb\u30a2\u30ab\u30a6\u30f3\u30c8\u304b\u3089\u3082\u9001\u3063\u3066\u307f\u308b\u3002\n\u3001\u3001\u3001\u3001\u3001\u3001\u3053\u306a\u3044\u3002\nSPF\u8a8d\u8a3c\u3067\u304d\u306a\u3044\u30e1\u30fc\u30eb\u3092\u5f3e\u304f\u3088\u3046\u306a\u8a2d\u5b9a\u3082\u3057\u3066\u3044\u306a\u3044\u3057\n\u305d\u3082\u305d\u3082\u9001\u4fe1\u306b\u4f7f\u3063\u305f\u30e1\u30fc\u30eb\u30a2\u30ab\u30a6\u30f3\u30c8\u306fSPF\u8a8d\u8a3c\u5bfe\u5fdc\u6e08\u307f\u3060\u3057\n\u306a\u3093\u3067\uff1f\u3063\u3066\u3053\u3068\u3067Postfix\u306eSPF\u9023\u643a\u3092\u89e3\u9664\u3057\u3066\u540c\u3058\u304f\u30e1\u30fc\u30eb\u9001\u4fe1\u3002\n\u3001\u3001\u3001\u5c4a\u3044\u305f\u3002\n\u3068\u308a\u3042\u3048\u305a\u30ed\u30b0\u3092\u898b\u3066\u307f\u308b\u3002\n\nFeb 11 17:36:39 www policyd-spf6490: Traceback (most recent call last):\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/libexec/postfix/policyd-spf\", line 700, in <module>\nFeb 11 17:36:39 www policyd-spf6490: instance_dict, configData, peruser)\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/libexec/postfix/policyd-spf\", line 412, in _spfcheck\nFeb 11 17:36:39 www policyd-spf6490: res = spf.check2(ip, helo_fake_sender, helo, querytime=configData.get('Lookup_Time'))\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/lib/python2.7/site-packages/spf.py\", line 297, in check2\nFeb 11 17:36:39 www policyd-spf6490: receiver=receiver,timeout=timeout,verbose=verbose,querytime=querytime).check()\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/lib/python2.7/site-packages/spf.py\", line 378, in init\nFeb 11 17:36:39 www policyd-spf6490: self.set_ip(i)\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/lib/python2.7/site-packages/spf.py\", line 405, in set_ip\nFeb 11 17:36:39 www policyd-spf6490: self.ipaddr = ipaddress.ip_address(i)\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/lib/python2.7/site-packages/ipaddress.py\", line 163, in ip_address\nFeb 11 17:36:39 www policyd-spf6490: ' a unicode object?' % address)\nFeb 11 17:36:39 www policyd-spf6490: AddressValueError: 'xxx.xxx.xxx.xxx' does not appear to be an IPv4 or IPv6 address. Did you pass in a bytes (str in Python 2) instead of a unicode object?\nFeb 11 17:36:39 www postfix/spawn6488: warning: command /usr/bin/python exit status 1\n\n\n\u306a\u3093\u304b\u30a8\u30e9\u30fc\u304c\u51fa\u3068\u308b\u3002\nhttps://bugs.centos.org/view.php?id=12393&nbn=2\nCentOS7\u306e\u30d0\u30b0\u3063\u307d\u3044\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u898b\u308b\u3068\u307e\u3060\u6cbb\u3063\u3066\u7121\u3055\u305d\u3046\u3002\n\n\u65e2\u306bPostfix\u306f\u6b63\u5e38\u306b\u30e1\u30fc\u30eb\u306e\u9001\u53d7\u4fe1\u304c\u3067\u304d\u308b\u72b6\u614b\u304b\u3089\u59cb\u3081\u307e\u3059\u3002\n\nyum install pypolicyd-spf\n\u3067pypolicyd-spf\u3092\u5c0e\u5165\n\n\u3044\u304d\u306a\u308aSPF\u8a8d\u8a3c\u3055\u308c\u3066\u306a\u3044\u30e1\u30fc\u30eb\u3092\u5f3e\u304f\u306e\u3082\u30a2\u30ec\u306a\u3093\u3067\n\u8a8d\u8a3c\u7d50\u679c\u3092\u30e1\u30fc\u30eb\u30d8\u30c3\u30c0\u306b\u8ffd\u52a0\u3059\u308b\u3060\u3051\u306e\u8a2d\u5b9a\u306b\u3059\u308b\u3002\n\n```/etc/python-policyd-spf/policyd-spf.conf\nMail_From_reject = False\n```\n\n\u3042\u3068\u306fPostfix\u306emain.cf\u3084master.cf\u3092\u9069\u5b9c\u7de8\u96c6\nhttp://qiita.com/dumpty-alma@github/items/b89ef0ca4801034558b3\n\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\n\u305d\u3057\u3066Postfix\u3092\u518d\u8d77\u52d5\u3057\u3001\u5916\u90e8\u304b\u3089\u30e1\u30fc\u30eb\u3092\u9001\u3063\u3066\u307f\u308b\u3002\n\u3001\u3001\u3001\u3001\u3053\u306a\u3044\u3002\n\u5225\u306e\u30e1\u30fc\u30eb\u30a2\u30ab\u30a6\u30f3\u30c8\u304b\u3089\u3082\u9001\u3063\u3066\u307f\u308b\u3002\n\u3001\u3001\u3001\u3001\u3001\u3001\u3053\u306a\u3044\u3002\n\nSPF\u8a8d\u8a3c\u3067\u304d\u306a\u3044\u30e1\u30fc\u30eb\u3092\u5f3e\u304f\u3088\u3046\u306a\u8a2d\u5b9a\u3082\u3057\u3066\u3044\u306a\u3044\u3057\n\u305d\u3082\u305d\u3082\u9001\u4fe1\u306b\u4f7f\u3063\u305f\u30e1\u30fc\u30eb\u30a2\u30ab\u30a6\u30f3\u30c8\u306fSPF\u8a8d\u8a3c\u5bfe\u5fdc\u6e08\u307f\u3060\u3057\n\u306a\u3093\u3067\uff1f\u3063\u3066\u3053\u3068\u3067Postfix\u306eSPF\u9023\u643a\u3092\u89e3\u9664\u3057\u3066\u540c\u3058\u304f\u30e1\u30fc\u30eb\u9001\u4fe1\u3002\n\u3001\u3001\u3001\u5c4a\u3044\u305f\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u30ed\u30b0\u3092\u898b\u3066\u307f\u308b\u3002\n\n```\n\nFeb 11 17:36:39 www policyd-spf6490: Traceback (most recent call last):\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/libexec/postfix/policyd-spf\", line 700, in <module>\nFeb 11 17:36:39 www policyd-spf6490: instance_dict, configData, peruser)\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/libexec/postfix/policyd-spf\", line 412, in _spfcheck\nFeb 11 17:36:39 www policyd-spf6490: res = spf.check2(ip, helo_fake_sender, helo, querytime=configData.get('Lookup_Time'))\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/lib/python2.7/site-packages/spf.py\", line 297, in check2\nFeb 11 17:36:39 www policyd-spf6490: receiver=receiver,timeout=timeout,verbose=verbose,querytime=querytime).check()\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/lib/python2.7/site-packages/spf.py\", line 378, in init\nFeb 11 17:36:39 www policyd-spf6490: self.set_ip(i)\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/lib/python2.7/site-packages/spf.py\", line 405, in set_ip\nFeb 11 17:36:39 www policyd-spf6490: self.ipaddr = ipaddress.ip_address(i)\nFeb 11 17:36:39 www policyd-spf6490: File \"/usr/lib/python2.7/site-packages/ipaddress.py\", line 163, in ip_address\nFeb 11 17:36:39 www policyd-spf6490: ' a unicode object?' % address)\nFeb 11 17:36:39 www policyd-spf6490: AddressValueError: 'xxx.xxx.xxx.xxx' does not appear to be an IPv4 or IPv6 address. Did you pass in a bytes (str in Python 2) instead of a unicode object?\nFeb 11 17:36:39 www postfix/spawn6488: warning: command /usr/bin/python exit status 1\n\n```\n\n\u306a\u3093\u304b\u30a8\u30e9\u30fc\u304c\u51fa\u3068\u308b\u3002\n\nhttps://bugs.centos.org/view.php?id=12393&nbn=2\n\n\nCentOS7\u306e\u30d0\u30b0\u3063\u307d\u3044\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u898b\u308b\u3068\u307e\u3060\u6cbb\u3063\u3066\u7121\u3055\u305d\u3046\u3002\n", "tags": ["centos7", "spf", "postfix"]}