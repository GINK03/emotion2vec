{"context": " More than 1 year has passed since last update.\u672c\u8a18\u4e8b\u306fphina.js Advent Calendar 2015\u306e18\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\u2190 17\u65e5\u76ee phina.js \u3092\u4f7f\u3063\u3066\u69d8\u3005\u306a\u56f3\u5f62\u3092\u8868\u793a\u3057\u3066\u307f\u3088\u3046  ---   \u56fd\u7523\u30b2\u30fc\u30e0\u30e9\u30a4\u30d6\u30e9\u30ea\u300cphina.js\u300d\u30673D\u30b2\u30fc\u30e0\u4f5c\u308d\u3046\u305c! 19\u65e5\u76ee \u2192\n2\u65e5\u9045\u308c\u3067\u3059\u3044\u307e\u305b\u3093\u2026(18\u65e5\u304c\u7d42\u308f\u308b2\u6642\u9593\u524d\u306b\u30a8\u30f3\u30c8\u30ea\u30fc\u3057\u305f\u306e\u3067\u8a31\u3057\u3066\u304f\u3060\u3055\u3044\u2026)\n\n\u6982\u8981\ntmlib.js\u306e\u5f8c\u7d99\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308bphina.js\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u3068\u3044\u3046\u3053\u3068\u3067\u6614\u66f8\u3044\u305f\u30b2\u30fc\u30e0\u3092phina.js\u3067\u66f8\u304d\u76f4\u3057\u3066\u307f\u307e\u3057\u305f(\u66f8\u304d\u76f4\u3059\u3068\u3044\u3063\u3066\u3082\u305d\u3053\u307e\u3067\u5927\u304d\u304f\u5909\u3048\u308b\u5fc5\u8981\u306f\u306a\u3044\u3067\u3059)\n\u81ea\u5206\u306ftmlib\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6c17\u306b\u305b\u305a\u306b\u8abf\u3079\u307e\u304f\u3063\u3066\u4f5c\u3063\u305f\u306e\u3067\u53e4\u3044\u3082\u306e\u3068\u65b0\u3057\u3044\u3082\u306e\u304c\u6df7\u3056\u3063\u3066\u305f\u308a\u3057\u307e\u3059\u2026\uff08\u65b0\u3057\u3044tmlib.js\u306fphina.js\u306b\u304b\u306a\u308a\u8fd1\u3044\u3068\u601d\u3044\u307e\u3059\uff09\ntmlib.js\u306b\u306f\u306a\u304b\u3063\u305f\u3068\u304b\u8a00\u3044\u306a\u304c\u3089\u3042\u3063\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\u304c\u3001\u305d\u3053\u306f\u3054\u611b\u656c\u3068\u3044\u3046\u3053\u3068\u3067\u2026\n\n\u8d77\u52d5\u51e6\u7406(tm.main -> phina.main)\ntmlib.js\u3067\u306f(tm.game\u5185\u306etmlib.globalize()\u3067)\u4e00\u90e8\u306e\u5909\u6570\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u5c55\u958b\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u304c\u3001phina.js\u3067\u306f\u5c55\u958b\u3059\u308b\u305f\u3081\u306bphina.globalize()\u3092\u4f7f\u7528\u3057\u307e\u3059\n\ntm.main -> phina.main\ntm.main\u3067\u306f\n  app = tm.display.CanvasApp(\"#app\")\n  app.resize(width, height)\n  app.fitWindow()\n  app.background = \"#DDDDDD\"\n  app.fps = 60\n\n  loadScene = LoadScene({\n    assets: ASSETS\n    # \uff5e\u7565\uff5e\n  })\n  loadScene.onload = ->\n    app.replaceScene(TitleScene())\n    return\n  app.run()\n\n\u3068\u633f\u5165\u4f4d\u7f6e\u306a\u3069\u306e\u8a2d\u5b9a\u3001\u30ed\u30fc\u30c9\u30b7\u30fc\u30f3\u306b\u8a18\u8ff0\u306a\u3069\u3092\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001phina.main\u3067\u306f\u3001GameApp()\u3092\u4f7f\u7528\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u8a2d\u5b9a\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff08tmlib\u306etm.game\u3042\u305f\u308a\u3067\u65e2\u306b\u3067\u304d\u3066\u305f\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\uff09\n\u307e\u305f\u3001GameApp\u3067\u306fTitleScene\u3084LoadScene\u3082\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u72ec\u81ea\u306e\u3082\u306e\u3092\u4f7f\u308f\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u5b9f\u88c5\u304c\u4e0d\u8981\u3067\u3059\n\ncore.coffee#17-42\n  app = GameApp({\n    assets: ASSETS\n    startLabel: \"title\"\n    # \uff5e\u7565\uff5e\n  })\n  app.backgroundColor = \"#DDDDDD\"\n  app.fps = 60\n  app.run()\n\n\n\u305f\u3060backgroundColor\u3084fps\u306a\u3069\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u6e21\u305b\u306a\u3044\u307f\u305f\u3044\u3067\u3059\n\n\u30af\u30e9\u30b9 (tm.define -> phina.define)\ntmlib.js\u3067\u306f\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u306b\u5fc5\u8981\u306f\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001phina.js\u3067\u306f\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u306b\u306fthis.superInit()\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3057\u305ftmlib.js\u3068\u540c\u69d8\u306b\u7d99\u627f\u3059\u308b\u30af\u30e9\u30b9\u306b\u95a2\u3057\u3066\u306fthis.superInit()\u304c\u5fc5\u8981\u3067\u3059(12/20 16:19\u4fee\u6b63)\n\nAssets\n{\n  \"shooter\": \"img/shooter.png\"\n}\n\n\u3068\u6307\u5b9a\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u305d\u308c\u305e\u308c\u7a2e\u985e\u3092\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\n\ncore.coffee#23-37\n  sound: {\n    \"start\": \"sound/btn09.#{SUPPORT_EXT}\"\n  }\n  image: {\n    \"shooter\": \"img/shooter.png\"\n  }\n\n\n\u203bSUPPORT_EXT\u306e\u8a71\u306f\u3059\u3050\u3057\u305f\u306eSound\u306b\n\nSound\nSound.SUPPORT_EXT\u304c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\n\u81ea\u5206\u306fChromium\u7cfb\u30d6\u30e9\u30a6\u30b6\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067.mp3\u6307\u5b9a\u3060\u3051\u3067\u306f\u97f3\u697d\u304c\u6d41\u308c\u306a\u3044\u306e\u3067\u3001\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3057\u3066\u307e\u3059\n\nutil.coffee\nSUPPORT_EXT = do ->\n ext = \"\"\n  audio = new Audio()\n\n  if audio.canPlayType(\"audio/mp3\") is \"maybe\"\n    ext = \"mp3\"\n  else if audio.canPlayType(\"audio/ogg\") is \"maybe\"\n    ext = \"ogg\"\n  else if audio.canPlayType(\"audio/wav\") is \"maybe\"\n    ext = \"wav\"\n  return ext\n\n\nmp3 -> ogg -> wav\u3068\u3044\u3046\u9806\u756a\u306a\u306e\u306f\u30b5\u30a4\u30ba\u306e\u5c0f\u3055\u3044\u306e\u3092\u512a\u5148\u3055\u305b\u305f\u3044\u304b\u3089\u3067\u3059(tmlib.js\u3060\u3068wav -> mp3 -> ogg\u3067\u3057\u305f\u304c\u2026)\n\nSoundManager\nmute()\u304c\u30c8\u30b0\u30eb\u3067\u306f\u306a\u304f\u30df\u30e5\u30fc\u30c8\u306b\u3059\u308b\u306b\u306a\u308a\u307e\u3057\u305f\n\u3088\u3063\u3066\u3053\u308c\u307e\u3067\u306e\u30c8\u30b0\u30eb\u3092\u3059\u308b\u306b\u306f\n  if SoundManager.isMute()\n    SoundManager.unmute()\n  else\n    SoundManager.mute()\n\n\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\n\u307e\u305f\u3001tmlib.js\u3067\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u305fSoundManager.play()\u306fSound.play()\u3078\u79fb\u52d5\u3055\u308c\u307e\u3057\u305f(SoundManager.playMusic()\u306b\u95a2\u3057\u3066\u306f\u5229\u7528\u3067\u304d\u307e\u3059)\nAssetsManager.get(\"sound\", \"\").play()\u3068\u4f7f\u7528\u3067\u304d\u307e\u3059\nSoundManager.pause()\u306f\u4e00\u90e8\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u4eca\u306e\u3068\u3053\u308d\u52d5\u304d\u307e\u305b\u3093\n\nScene (Scene -> CanvasScene)\nScene\u3068\u3044\u3046\u540d\u524d\u304b\u3089CanvasScene\u3068\u3044\u3046\u540d\u524d\u306b\u306a\u3063\u3066Canvas\u306b\u7279\u5316\u3057\u305f\u30b7\u30fc\u30f3\u306b\u306a\u308a\u307e\u3057\u305f\n\nfromJSON()\n\u3053\u308c\u306b\u6e21\u3059children\u304c\u914d\u5217\u3067\u6e21\u305b\u306a\u304f\u306a\u308a\u307e\u3057\u305f\n\u3053\u308c\u307e\u3067\u306f\n  children: [\n    {\n      type: \"Label\"\n      name: \"titleLabel\"\n      text: \"Shooting\"\n    }\n  ]\n\n\u306e\u3088\u3046\u306b\u6307\u5b9a\u3067\u304d\u305f\u306e\u3067\u3059\u304c\nphina.js\u3067\u306f\n\nscene.coffee#48-51\n  children: {\n    \"titleLabel\": {\n      className: \"Label\"\n      text: \"Shooting!\"\n    }\n  }\n\n\n\u3068\u6307\u5b9a\u3057\u307e\u3059\n\u3053\u308c\u307e\u3067\u306ename\u304c\u30ad\u30fc\u540d\u306b\u3001type\u304cclassName\u306b\u5909\u308f\u308a\u307e\u3057\u305f\n\u307e\u305f\u3001init: []\u306farguments: []\u306b\u5909\u66f4\u3055\u308c\u307e\u3057\u305f(12/20 16:35\u4fee\u6b63)\n\u307e\u305f\u3001\u4e00\u90e8\u3067init: []\u3068\u6307\u5b9a\u3057\u3066\u3044\u305f\u5834\u6240\u3082init: []\u306b\u5165\u308c\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u308a\u305d\u306e\u307e\u307e\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f(FlatButton\u306eLabel\u304cButton\u81ea\u4f53\u306b\u306a\u3063\u305f\u304b\u3089\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059)\n  {\n    type: \"FlatButton\"\n    name: \"muteButton\"\n    init: [\n      {\n        text: \"\"\n      }\n    ]\n  }\n\n\nscene.coffee#91-93\n  \"muteButton\": {\n     className: \"Button\"\n     text: \"\"\n  }\n\n\n\n\u885d\u7a81\u5224\u5b9a\nisHitElement()\u304chitTestElement()\u306b\u5909\u308f\u308a\u307e\u3057\u305f\n\nSprite (Sprite/AnimationSprite -> Sprite/FrameAnimation)\n\u307e\u305f\u3001AnimationSprite\u304c\u306a\u304f\u306a\u308a\u3001Sprite\u3092\u7d99\u627f\u3057\u3066FrameAnimation\u3092attachTo(this)\u3059\u308b\u3053\u3068\u3067SpriteSheet\u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\nSprite(\"\u53c2\u7167\u540d\", width, height)\u3067\u30b5\u30a4\u30ba\u304c\u5909\u66f4\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u81ea\u5206\u306e\u307b\u3046\u3067\u306f\u3046\u307e\u304f\u5909\u66f4\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\nsetImage()\u304c\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u4e0b\u306e\u3088\u3046\u306b\u753b\u50cf\u3092\u5909\u66f4\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3057\u305f\na = Sprite()\na.setImage()\n\n\u5909\u66f4\u3092\u3059\u308b\u306b\u306fFrameAnimation\u3092\u4f7f\u3063\u3066gotoAndPlay()\u3067\u5207\u308a\u66ff\u3048\u308b\u3068\u3044\u3046\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\n\ndisplay\nCircleShape\u3084Label\u306a\u3069\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u304c\u3001\n\u3053\u308c\u307e\u3067\u8272\u3092\u5909\u66f4\u3059\u308b\u306e\u306bfillStyle\u3092\u4f7f\u3063\u3066\u3044\u307e\u3057\u305f\u304cfill\u306b\u306a\u308a\u307e\u3057\u305f\n\u305d\u308c\u3068rgba(,,,)\u306ftmlib.js\u3067\u306f\u3064\u304b\u3048\u305f\u306e\u3067\u3059\u304c\u3001phina.js\u3067\u306f\u4eca\u306e\u3068\u3053\u308d\u3064\u304b\u3048\u306a\u3044\u307f\u305f\u3044\u3067\u3059\n\u81ea\u5206\u306etypo\u3060\u3063\u305f\u307f\u305f\u3044\u3067\u3059\u2026\u3059\u3044\u307e\u305b\u3093(12/20 16:39\u4fee\u6b63)\ntmlib.js\u3067\u306f\u4f55\u3082\u305b\u305a\u3068\u3082\u30af\u30ea\u30c3\u30af\u3092\u611f\u77e5\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001phina.js\u3067\u306f\u30af\u30ea\u30c3\u30af\u3092\u611f\u77e5\u3059\u308b\u305f\u3081\u306b.setInteractive(true)\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\n\u306a\u3044\u3068onpointstart()\u306a\u3069\u304c\u304d\u304b\u306a\u3044\u3067\u3059\n\u307e\u305f\u3001onpointingstart()\u304conpointstart()\u306b\u5909\u308f\u308a\u307e\u3057\u305f\ntmlib.js\u3067\u306fposition.set()\u3067\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3057\u305f\u304c\u3001phina.js\u3067\u306fsetPosition()\u3092\u4f7f\u3044\u307e\u3059\n\u3053\u3063\u3061\u3082\u81ea\u5206\u306etypo\u3060\u3063\u305f\u307f\u305f\u3044\u3067\u3059\u2026(12/20 16:41\u4fee\u6b63)\n\nCircleShape\n\u30b5\u30a4\u30ba\u306e\u6307\u5b9a\u304cwidth\u3001height\u304b\u3089radius\u306b\u5909\u308f\u308a\u307e\u3057\u305f\n\u3053\u3053\u3067\u305d\u306e\u307e\u307e\u3055\u3089\u3063\u3068width\u306e\u5024\u3092radius\u306b\u3059\u308b\u3068\u500d\u306e\u5927\u304d\u3055\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067(\u5f53\u305f\u308a\u524d\u3067\u3059\u304c)\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\n\nFlatButton\n\u304a\u305d\u3089\u304f\u4eca\u307e\u3067\u306eFlatButton\u304cButton\u3092\u4e57\u3063\u53d6\u308a\u307e\u3057\u305f\n\u307e\u305f\u3001Button\u5185\u306bLabel\u304c\u5165\u3063\u3066\u3044\u308b\u69cb\u9020\u3067\u306f\u306a\u304f\u305d\u306e\u307e\u307eButton\u306bLabel\u304c\u3042\u308b\u306e\u3067button.label.tweener\u306a\u3069\u306e\u3088\u3046\u306b\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3057\u305f(\u65b9\u6cd5\u304c\u3042\u308c\u3070\u6559\u3048\u3066\u304f\u3060\u3055\u3044)\n\nInput (Accelerometer -> \u00d7)\nAccelerometer\u304c\u306a\u304f\u306a\u308a\u307e\u3057\u305f(\u4eca\u5f8c\u5b9f\u88c5\u4e88\u5b9a?)\n\u3068\u3044\u3063\u3066\u3082\u5b9f\u88c5\u306fevent\u3064\u3051\u308c\u3070\u3044\u3044\u3060\u3051\u306a\u306e\u3067\u3055\u3089\u3063\u3068\n\nentity.coffee#16-21\n  @rotate = {}\n  window.addEventListener(\"deviceorientation\", @catchOrientation, false\n  )\n\n\n\nentity.coffee#20-22\n  catchOrientation: (e) ->\n    @rotate.beta = e.beta\n    @rotate.gamma = e.gamma\n    return\n\n\nScene\u3084Entity\u306a\u3069\u306e\u4e2d\u3067event\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306f\u305d\u306eScene\u3084Entity\u304c\u306a\u304f\u306a\u308b\u3068\u304d\u306bremove\u3057\u307e\u3057\u3087\u3046\u2026\uff08\u3053\u3053\u3067\u5c11\u3057\u5f15\u3063\u304b\u304b\u308a\u307e\u3057\u305f\uff09\n\nscene.coffee#106-108\n  onDied: ->\n    window.removeEventListener(\"deviceorientation\", @catchOrientation, false)\n    return\n\n\nv2.0\u3067\u5b9f\u88c5\u4e88\u5b9a\u3060\u305d\u3046\u3067\u3059\uff01(12/20 16:41\u4fee\u6b63)\n\nGeom\n\nVector2\nrandom(min, max, len)\u304c\u3046\u307e\u304f\u52d5\u3044\u3066\u307e\u305b\u3093\nv2\u3067\u4fee\u6b63\u4e88\u5b9a\u3067\u3059\n\u3068\u308a\u3042\u3048\u305a\u306e\u3068\u3053\u308d\u306f\nrandom(min, max).mul(len)\n\u3068\u66f8\u304f\u3068\u52d5\u304d\u307e\u3059\n\nMath\nMath.rand()\u304cMath.randint()\u306b\nMath.randf()\u304cMath.randfloat()\u306b\u5909\u308f\u308a\u307e\u3057\u305f\n\n\u6700\u5f8c\u306b\n\u81ea\u5206\u304c\u95a2\u4fc2\u3057\u305f\u5909\u66f4\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n\u5b9f\u969b\u306e\u4eca\u56de\u66f8\u304d\u76f4\u3057\u305f\u30b2\u30fc\u30e0\u306f\u3053\u3061\u3089\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089(\u6c5a\u3044\u3067\u3059\u304c\u2026)\n\u5fa1\u89a7\u3044\u305f\u3060\u304d\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\n\u3044\u308d\u3044\u308d\u3068\u8e93\u3044\u305f\u969b\u306b\u52a9\u3051\u3066\u3044\u305f\u3060\u3044\u305fphi\u3055\u3093\u3084simiraaaa\u3055\u3093\u3084daishi\u3055\u3093\u306b\u3082\u611f\u8b1d\u306e\u610f\u3092\u2026\n\u672c\u8a18\u4e8b\u306f[phina.js Advent Calendar 2015](http://qiita.com/advent-calendar/2015/phinajs)\u306e18\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u2190 17\u65e5\u76ee [phina.js \u3092\u4f7f\u3063\u3066\u69d8\u3005\u306a\u56f3\u5f62\u3092\u8868\u793a\u3057\u3066\u307f\u3088\u3046](http://phiary.me/phinajs-shape-collection/)  ---   [\u56fd\u7523\u30b2\u30fc\u30e0\u30e9\u30a4\u30d6\u30e9\u30ea\u300cphina.js\u300d\u30673D\u30b2\u30fc\u30e0\u4f5c\u308d\u3046\u305c!](http://qiita.com/emadurandal/items/93223877936b5dc767f5) 19\u65e5\u76ee \u2192\n\n2\u65e5\u9045\u308c\u3067\u3059\u3044\u307e\u305b\u3093\u2026(18\u65e5\u304c\u7d42\u308f\u308b2\u6642\u9593\u524d\u306b\u30a8\u30f3\u30c8\u30ea\u30fc\u3057\u305f\u306e\u3067\u8a31\u3057\u3066\u304f\u3060\u3055\u3044\u2026)\n\n# \u6982\u8981\ntmlib.js\u306e\u5f8c\u7d99\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308b[phina.js\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f](http://phiary.me/phinajs-release/)\u3068\u3044\u3046\u3053\u3068\u3067\u6614\u66f8\u3044\u305f\u30b2\u30fc\u30e0\u3092phina.js\u3067\u66f8\u304d\u76f4\u3057\u3066\u307f\u307e\u3057\u305f(\u66f8\u304d\u76f4\u3059\u3068\u3044\u3063\u3066\u3082\u305d\u3053\u307e\u3067\u5927\u304d\u304f\u5909\u3048\u308b\u5fc5\u8981\u306f\u306a\u3044\u3067\u3059)\n\u81ea\u5206\u306ftmlib\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6c17\u306b\u305b\u305a\u306b\u8abf\u3079\u307e\u304f\u3063\u3066\u4f5c\u3063\u305f\u306e\u3067\u53e4\u3044\u3082\u306e\u3068\u65b0\u3057\u3044\u3082\u306e\u304c\u6df7\u3056\u3063\u3066\u305f\u308a\u3057\u307e\u3059\u2026\uff08\u65b0\u3057\u3044tmlib.js\u306fphina.js\u306b\u304b\u306a\u308a\u8fd1\u3044\u3068\u601d\u3044\u307e\u3059\uff09\ntmlib.js\u306b\u306f\u306a\u304b\u3063\u305f\u3068\u304b\u8a00\u3044\u306a\u304c\u3089\u3042\u3063\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\u304c\u3001\u305d\u3053\u306f\u3054\u611b\u656c\u3068\u3044\u3046\u3053\u3068\u3067\u2026\n\n# \u8d77\u52d5\u51e6\u7406(tm.main -> phina.main)\ntmlib.js\u3067\u306f(tm.game\u5185\u306e`tmlib.globalize()`\u3067)\u4e00\u90e8\u306e\u5909\u6570\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u5c55\u958b\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u304c\u3001phina.js\u3067\u306f\u5c55\u958b\u3059\u308b\u305f\u3081\u306b`phina.globalize()`\u3092\u4f7f\u7528\u3057\u307e\u3059\n\n## tm.main -> phina.main\ntm.main\u3067\u306f\n\n```coffeescript\n  app = tm.display.CanvasApp(\"#app\")\n  app.resize(width, height)\n  app.fitWindow()\n  app.background = \"#DDDDDD\"\n  app.fps = 60\n\n  loadScene = LoadScene({\n    assets: ASSETS\n    # \uff5e\u7565\uff5e\n  })\n  loadScene.onload = ->\n    app.replaceScene(TitleScene())\n    return\n  app.run()\n```\n\n\u3068\u633f\u5165\u4f4d\u7f6e\u306a\u3069\u306e\u8a2d\u5b9a\u3001\u30ed\u30fc\u30c9\u30b7\u30fc\u30f3\u306b\u8a18\u8ff0\u306a\u3069\u3092\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001phina.main\u3067\u306f\u3001GameApp()\u3092\u4f7f\u7528\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u8a2d\u5b9a\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff08tmlib\u306etm.game\u3042\u305f\u308a\u3067\u65e2\u306b\u3067\u304d\u3066\u305f\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\uff09  \n\u307e\u305f\u3001GameApp\u3067\u306fTitleScene\u3084LoadScene\u3082\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u72ec\u81ea\u306e\u3082\u306e\u3092\u4f7f\u308f\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u5b9f\u88c5\u304c\u4e0d\u8981\u3067\u3059\n\n```coffeescript:core.coffee#17-42\n  app = GameApp({\n    assets: ASSETS\n    startLabel: \"title\"\n    # \uff5e\u7565\uff5e\n  })\n  app.backgroundColor = \"#DDDDDD\"\n  app.fps = 60\n  app.run()\n```\n\n\u305f\u3060backgroundColor\u3084fps\u306a\u3069\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u6e21\u305b\u306a\u3044\u307f\u305f\u3044\u3067\u3059\n\n# \u30af\u30e9\u30b9 (tm.define -> phina.define)\n~~tmlib.js\u3067\u306f\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u306b\u5fc5\u8981\u306f\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001phina.js\u3067\u306f\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u306b\u306f`this.superInit()`\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3057\u305f~~**tmlib.js\u3068\u540c\u69d8\u306b\u7d99\u627f\u3059\u308b\u30af\u30e9\u30b9\u306b\u95a2\u3057\u3066\u306f`this.superInit()`\u304c\u5fc5\u8981\u3067\u3059**(12/20 16:19\u4fee\u6b63)\n\n# Assets\n```coffeescript\n{\n  \"shooter\": \"img/shooter.png\"\n}\n```\n\n\u3068\u6307\u5b9a\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u305d\u308c\u305e\u308c\u7a2e\u985e\u3092\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\n\n```coffeescript:core.coffee#23-37\n  sound: {\n    \"start\": \"sound/btn09.#{SUPPORT_EXT}\"\n  }\n  image: {\n    \"shooter\": \"img/shooter.png\"\n  }\n```\n\n\u203bSUPPORT_EXT\u306e\u8a71\u306f\u3059\u3050\u3057\u305f\u306eSound\u306b\n\n## Sound\n`Sound.SUPPORT_EXT`\u304c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\n\u81ea\u5206\u306fChromium\u7cfb\u30d6\u30e9\u30a6\u30b6\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067`.mp3`\u6307\u5b9a\u3060\u3051\u3067\u306f\u97f3\u697d\u304c\u6d41\u308c\u306a\u3044\u306e\u3067\u3001\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3057\u3066\u307e\u3059\n\n```coffeescript:util.coffee\nSUPPORT_EXT = do ->\n ext = \"\"\n  audio = new Audio()\n\n  if audio.canPlayType(\"audio/mp3\") is \"maybe\"\n    ext = \"mp3\"\n  else if audio.canPlayType(\"audio/ogg\") is \"maybe\"\n    ext = \"ogg\"\n  else if audio.canPlayType(\"audio/wav\") is \"maybe\"\n    ext = \"wav\"\n  return ext\n```\n\nmp3 -> ogg -> wav\u3068\u3044\u3046\u9806\u756a\u306a\u306e\u306f\u30b5\u30a4\u30ba\u306e\u5c0f\u3055\u3044\u306e\u3092\u512a\u5148\u3055\u305b\u305f\u3044\u304b\u3089\u3067\u3059(tmlib.js\u3060\u3068wav -> mp3 -> ogg\u3067\u3057\u305f\u304c\u2026)\n\n\n## SoundManager\n`mute()`\u304c\u30c8\u30b0\u30eb\u3067\u306f\u306a\u304f\u30df\u30e5\u30fc\u30c8\u306b\u3059\u308b\u306b\u306a\u308a\u307e\u3057\u305f\n\u3088\u3063\u3066\u3053\u308c\u307e\u3067\u306e\u30c8\u30b0\u30eb\u3092\u3059\u308b\u306b\u306f\n\n```coffeescript\n  if SoundManager.isMute()\n    SoundManager.unmute()\n  else\n    SoundManager.mute()\n```\n\n\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\n\u307e\u305f\u3001tmlib.js\u3067\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u305f`SoundManager.play()`\u306f`Sound.play()`\u3078\u79fb\u52d5\u3055\u308c\u307e\u3057\u305f(`SoundManager.playMusic()`\u306b\u95a2\u3057\u3066\u306f\u5229\u7528\u3067\u304d\u307e\u3059)\n`AssetsManager.get(\"sound\", \"\").play()`\u3068\u4f7f\u7528\u3067\u304d\u307e\u3059\n`SoundManager.pause()`\u306f\u4e00\u90e8\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u4eca\u306e\u3068\u3053\u308d\u52d5\u304d\u307e\u305b\u3093\n\n# Scene (Scene -> CanvasScene)\n`Scene`\u3068\u3044\u3046\u540d\u524d\u304b\u3089`CanvasScene`\u3068\u3044\u3046\u540d\u524d\u306b\u306a\u3063\u3066Canvas\u306b\u7279\u5316\u3057\u305f\u30b7\u30fc\u30f3\u306b\u306a\u308a\u307e\u3057\u305f\n\n## fromJSON()\n\u3053\u308c\u306b\u6e21\u3059children\u304c\u914d\u5217\u3067\u6e21\u305b\u306a\u304f\u306a\u308a\u307e\u3057\u305f\n\u3053\u308c\u307e\u3067\u306f\n\n```coffeescript\n  children: [\n    {\n      type: \"Label\"\n      name: \"titleLabel\"\n      text: \"Shooting\"\n    }\n  ]\n```\n\n\u306e\u3088\u3046\u306b\u6307\u5b9a\u3067\u304d\u305f\u306e\u3067\u3059\u304c\nphina.js\u3067\u306f\n\n```coffeescript:scene.coffee#48-51\n  children: {\n    \"titleLabel\": {\n      className: \"Label\"\n      text: \"Shooting!\"\n    }\n  }\n```\n\n\u3068\u6307\u5b9a\u3057\u307e\u3059\n\u3053\u308c\u307e\u3067\u306e`name`\u304c\u30ad\u30fc\u540d\u306b\u3001`type`\u304c`className`\u306b\u5909\u308f\u308a\u307e\u3057\u305f\n**\u307e\u305f\u3001`init: []`\u306f`arguments: []`\u306b\u5909\u66f4\u3055\u308c\u307e\u3057\u305f**(12/20 16:35\u4fee\u6b63)\n\u307e\u305f\u3001\u4e00\u90e8\u3067`init: []`\u3068\u6307\u5b9a\u3057\u3066\u3044\u305f\u5834\u6240\u3082`init: []`\u306b\u5165\u308c\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u308a\u305d\u306e\u307e\u307e\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f(FlatButton\u306eLabel\u304cButton\u81ea\u4f53\u306b\u306a\u3063\u305f\u304b\u3089\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059)\n\n```coffeescript\n  {\n    type: \"FlatButton\"\n    name: \"muteButton\"\n    init: [\n      {\n        text: \"\"\n      }\n    ]\n  }\n```\n\n```coffeescript:scene.coffee#91-93\n  \"muteButton\": {\n     className: \"Button\"\n     text: \"\"\n  }\n```\n\n## \u885d\u7a81\u5224\u5b9a\n`isHitElement()`\u304c`hitTestElement()`\u306b\u5909\u308f\u308a\u307e\u3057\u305f\n\n# Sprite (Sprite/AnimationSprite -> Sprite/FrameAnimation)\n\u307e\u305f\u3001`AnimationSprite`\u304c\u306a\u304f\u306a\u308a\u3001`Sprite`\u3092\u7d99\u627f\u3057\u3066`FrameAnimation`\u3092`attachTo(this)`\u3059\u308b\u3053\u3068\u3067SpriteSheet\u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\n\n`Sprite(\"\u53c2\u7167\u540d\", width, height)`\u3067\u30b5\u30a4\u30ba\u304c\u5909\u66f4\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u81ea\u5206\u306e\u307b\u3046\u3067\u306f\u3046\u307e\u304f\u5909\u66f4\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\n\nsetImage()\u304c\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u4e0b\u306e\u3088\u3046\u306b\u753b\u50cf\u3092\u5909\u66f4\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3057\u305f\n\n```coffeescript\na = Sprite()\na.setImage()\n```\n\u5909\u66f4\u3092\u3059\u308b\u306b\u306f`FrameAnimation`\u3092\u4f7f\u3063\u3066`gotoAndPlay()`\u3067\u5207\u308a\u66ff\u3048\u308b\u3068\u3044\u3046\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\n\n# display\nCircleShape\u3084Label\u306a\u3069\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u304c\u3001\n\u3053\u308c\u307e\u3067\u8272\u3092\u5909\u66f4\u3059\u308b\u306e\u306b`fillStyle`\u3092\u4f7f\u3063\u3066\u3044\u307e\u3057\u305f\u304c`fill`\u306b\u306a\u308a\u307e\u3057\u305f\n~~\u305d\u308c\u3068`rgba(,,,)`\u306ftmlib.js\u3067\u306f\u3064\u304b\u3048\u305f\u306e\u3067\u3059\u304c\u3001phina.js\u3067\u306f\u4eca\u306e\u3068\u3053\u308d\u3064\u304b\u3048\u306a\u3044\u307f\u305f\u3044\u3067\u3059~~\n**\u81ea\u5206\u306etypo\u3060\u3063\u305f\u307f\u305f\u3044\u3067\u3059\u2026\u3059\u3044\u307e\u305b\u3093**(12/20 16:39\u4fee\u6b63)\n\ntmlib.js\u3067\u306f\u4f55\u3082\u305b\u305a\u3068\u3082\u30af\u30ea\u30c3\u30af\u3092\u611f\u77e5\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001phina.js\u3067\u306f\u30af\u30ea\u30c3\u30af\u3092\u611f\u77e5\u3059\u308b\u305f\u3081\u306b`.setInteractive(true)`\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\n\u306a\u3044\u3068`onpointstart()`\u306a\u3069\u304c\u304d\u304b\u306a\u3044\u3067\u3059\n\u307e\u305f\u3001`onpointingstart()`\u304c`onpointstart()`\u306b\u5909\u308f\u308a\u307e\u3057\u305f\n\n~~tmlib.js\u3067\u306f`position.set()`\u3067\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3057\u305f\u304c\u3001phina.js\u3067\u306f`setPosition()`\u3092\u4f7f\u3044\u307e\u3059~~\n**\u3053\u3063\u3061\u3082\u81ea\u5206\u306etypo\u3060\u3063\u305f\u307f\u305f\u3044\u3067\u3059\u2026**(12/20 16:41\u4fee\u6b63)\n\n## CircleShape\n\u30b5\u30a4\u30ba\u306e\u6307\u5b9a\u304c`width`\u3001`height`\u304b\u3089`radius`\u306b\u5909\u308f\u308a\u307e\u3057\u305f\n\u3053\u3053\u3067\u305d\u306e\u307e\u307e\u3055\u3089\u3063\u3068`width`\u306e\u5024\u3092`radius`\u306b\u3059\u308b\u3068\u500d\u306e\u5927\u304d\u3055\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067(\u5f53\u305f\u308a\u524d\u3067\u3059\u304c)\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\n\n## FlatButton\n\u304a\u305d\u3089\u304f\u4eca\u307e\u3067\u306e`FlatButton`\u304c`Button`\u3092\u4e57\u3063\u53d6\u308a\u307e\u3057\u305f\n\u307e\u305f\u3001`Button`\u5185\u306b`Label`\u304c\u5165\u3063\u3066\u3044\u308b\u69cb\u9020\u3067\u306f\u306a\u304f\u305d\u306e\u307e\u307e`Button`\u306b`Label`\u304c\u3042\u308b\u306e\u3067`button.label.tweener`\u306a\u3069\u306e\u3088\u3046\u306b\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3057\u305f(\u65b9\u6cd5\u304c\u3042\u308c\u3070\u6559\u3048\u3066\u304f\u3060\u3055\u3044)\n\n# Input (Accelerometer -> \u00d7)\n`Accelerometer`\u304c\u306a\u304f\u306a\u308a\u307e\u3057\u305f(\u4eca\u5f8c\u5b9f\u88c5\u4e88\u5b9a?)\n\u3068\u3044\u3063\u3066\u3082\u5b9f\u88c5\u306fevent\u3064\u3051\u308c\u3070\u3044\u3044\u3060\u3051\u306a\u306e\u3067\u3055\u3089\u3063\u3068\n\n```coffeescript:entity.coffee#16-21\n  @rotate = {}\n  window.addEventListener(\"deviceorientation\", @catchOrientation, false\n  )\n```\n\n```coffeescript:entity.coffee#20-22\n  catchOrientation: (e) ->\n    @rotate.beta = e.beta\n    @rotate.gamma = e.gamma\n    return\n```\n\nScene\u3084Entity\u306a\u3069\u306e\u4e2d\u3067event\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306f\u305d\u306eScene\u3084Entity\u304c\u306a\u304f\u306a\u308b\u3068\u304d\u306bremove\u3057\u307e\u3057\u3087\u3046\u2026\uff08\u3053\u3053\u3067\u5c11\u3057\u5f15\u3063\u304b\u304b\u308a\u307e\u3057\u305f\uff09\n\n```coffeescript:scene.coffee#106-108\n  onDied: ->\n    window.removeEventListener(\"deviceorientation\", @catchOrientation, false)\n    return\n```\n\n**v2.0\u3067\u5b9f\u88c5\u4e88\u5b9a\u3060\u305d\u3046\u3067\u3059\uff01**(12/20 16:41\u4fee\u6b63)\n\n# Geom\n## Vector2\n`random(min, max, len)`\u304c\u3046\u307e\u304f\u52d5\u3044\u3066\u307e\u305b\u3093\nv2\u3067\u4fee\u6b63\u4e88\u5b9a\u3067\u3059\n\u3068\u308a\u3042\u3048\u305a\u306e\u3068\u3053\u308d\u306f\n`random(min, max).mul(len)`\n\u3068\u66f8\u304f\u3068\u52d5\u304d\u307e\u3059\n\n# Math\n`Math.rand()`\u304c`Math.randint()`\u306b\n`Math.randf()`\u304c`Math.randfloat()`\u306b\u5909\u308f\u308a\u307e\u3057\u305f\n\n# \u6700\u5f8c\u306b\n\u81ea\u5206\u304c\u95a2\u4fc2\u3057\u305f\u5909\u66f4\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\n\n[\u5b9f\u969b\u306e\u4eca\u56de\u66f8\u304d\u76f4\u3057\u305f\u30b2\u30fc\u30e0\u306f\u3053\u3061\u3089](http://s--minecraft.github.io/shooting/)\n[\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089](https://github.com/S--Minecraft/shooting)(\u6c5a\u3044\u3067\u3059\u304c\u2026)\n\n\u5fa1\u89a7\u3044\u305f\u3060\u304d\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\n\n\u3044\u308d\u3044\u308d\u3068\u8e93\u3044\u305f\u969b\u306b\u52a9\u3051\u3066\u3044\u305f\u3060\u3044\u305fphi\u3055\u3093\u3084simiraaaa\u3055\u3093\u3084daishi\u3055\u3093\u306b\u3082\u611f\u8b1d\u306e\u610f\u3092\u2026\n", "tags": ["tmlib.js", "phina.js", "JavaScript", "shooting", "CoffeeScript"]}