{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\nApache\u3068mod_ssl\u3092\u3064\u304b\u3063\u3066\u3001https\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n\n\n\u74b0\u5883\n\nOS\uff1aCentSO /Redhat 6.x\nhttpd/mod_ssl\uff1a2.2.x\n\n\n\u624b\u9806\n\nApache\u3068mod_ssl\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install -y httpd mod_ssl\n# chkconfig httpd on\n\n\n\u30d6\u30e9\u30a6\u30b6\u30a2\u30af\u30bb\u30b9\u3057\u3001Apache\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\nhttp://hogehoge.com\n\n\n\u79d8\u5bc6\u9375 (Private Key)\u3001\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8(CRT)\u3092\u914d\u7f6e\u3059\u308b\n\n\u79d8\u5bc6\u9375 (Private Key):server.key\n\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8(CRT):server.crt\n\n# ls /etc/httpd/conf/ssl.key/\nserver.key\n# ls /etc/httpd/conf/ssl.crt/\nserver.crt\n\n\nssl.conf\u3092\u7de8\u96c6\u3059\u308b\n\n\u79d8\u5bc6\u9375\u3001\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3001\u914d\u7f6e\u5834\u6240\u3092\u4fee\u6b63\u3059\u308b\n\n\n/etc/httpd/conf.d/ssl.conf\n# SSLCertificateFile\u3092\u5b9f\u969b\u306e\u914d\u7f6e\u5834\u6240\u306b\u3042\u308f\u305b\u308b\nSSLCertificateFile /etc/httpd/conf/ssl.crt/server.crt\n\n# SSLCertificateKeyFile\u3092\u5b9f\u969b\u306e\u914d\u7f6e\u5834\u6240\u306b\u3042\u308f\u305b\u308b\nSSLCertificateKeyFile /etc/httpd/conf/ssl.key/server.key\n\n\n\nrewrite.conf\u3092\u7de8\u96c6\u3059\u308b\n\nhttp\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u6765\u305f\u969b\u3001https\u30ea\u30af\u30a8\u30b9\u30c8\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u305b\u308b\n\n\n/etc/httpd/conf.d/rewrite.conf\n<ifModule mod_rewrite.c>\n      RewriteEngine On\n      RewriteCond %{HTTPS} off\n      RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R,L]\n</ifModule>\n\n\n\nApache\u518d\u8d77\u52d5\n# service httpd restart\nStopping httpd:                                            [  OK  ]\nStarting httpd:                                            [  OK  ]\n\n\n\u30d6\u30e9\u30a6\u30b6\u30a2\u30af\u30bb\u30b9\u3057\u3001https\u901a\u4fe1\u3067Apache\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n# \u6982\u8981\n* Apache\u3068mod_ssl\u3092\u3064\u304b\u3063\u3066\u3001https\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n\n# \u74b0\u5883\n* OS\uff1aCentSO /Redhat 6.x\n* httpd/mod_ssl\uff1a2.2.x\n\n# \u624b\u9806\n## Apache\u3068mod_ssl\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n<pre>\n# yum install -y httpd mod_ssl\n# chkconfig httpd on\n</pre>\n\n### \u30d6\u30e9\u30a6\u30b6\u30a2\u30af\u30bb\u30b9\u3057\u3001Apache\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\nhttp://hogehoge.com\n![\u30ad\u30e3\u30d7\u30c1\u30e33.JPG](https://qiita-image-store.s3.amazonaws.com/0/60933/5cd35122-f586-7014-7eca-5c0a33dfd4ea.jpeg)\n\n### \u79d8\u5bc6\u9375 (Private Key)\u3001\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8(CRT)\u3092\u914d\u7f6e\u3059\u308b\n- \u79d8\u5bc6\u9375 (Private Key):server.key\n- \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8(CRT):server.crt\n\n<pre>\n# ls /etc/httpd/conf/ssl.key/\nserver.key\n# ls /etc/httpd/conf/ssl.crt/\nserver.crt\n</pre>\n\n### ssl.conf\u3092\u7de8\u96c6\u3059\u308b\n* \u79d8\u5bc6\u9375\u3001\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3001\u914d\u7f6e\u5834\u6240\u3092\u4fee\u6b63\u3059\u308b\n\n````bash:/etc/httpd/conf.d/ssl.conf\n# SSLCertificateFile\u3092\u5b9f\u969b\u306e\u914d\u7f6e\u5834\u6240\u306b\u3042\u308f\u305b\u308b\nSSLCertificateFile /etc/httpd/conf/ssl.crt/server.crt\n\n# SSLCertificateKeyFile\u3092\u5b9f\u969b\u306e\u914d\u7f6e\u5834\u6240\u306b\u3042\u308f\u305b\u308b\nSSLCertificateKeyFile /etc/httpd/conf/ssl.key/server.key\n```\n\n### rewrite.conf\u3092\u7de8\u96c6\u3059\u308b\n* http\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u6765\u305f\u969b\u3001https\u30ea\u30af\u30a8\u30b9\u30c8\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u305b\u308b\n\n````bash:/etc/httpd/conf.d/rewrite.conf\n<ifModule mod_rewrite.c>\n      RewriteEngine On\n      RewriteCond %{HTTPS} off\n      RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R,L]\n</ifModule>\n```\n\n### Apache\u518d\u8d77\u52d5\n<pre>\n# service httpd restart\nStopping httpd:                                            [  OK  ]\nStarting httpd:                                            [  OK  ]\n</pre>\n\n### \u30d6\u30e9\u30a6\u30b6\u30a2\u30af\u30bb\u30b9\u3057\u3001https\u901a\u4fe1\u3067Apache\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\n![\u7121\u984c4.jpg](https://qiita-image-store.s3.amazonaws.com/0/60933/449b9d17-14b0-f452-92de-06285e3b8731.jpeg)\n\n\n", "tags": ["CentOS", "RHEL", "Apache", "mod_ssl", "rewrite"]}