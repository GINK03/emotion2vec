{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\n\u524d\u63d0\n\n\u5c0f\u898f\u6a21\u74b0\u5883\u3067\u306e\u5229\u7528\u3057\u304b\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u8907\u6570\u306eWEB\u30b5\u30fc\u30d3\u30b9\u3092\u4e00\u3064\u306e\u30b5\u30fc\u30d0\u4e0a\u3067\u52d5\u304b\u3059\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e00\u3064\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u4e00\u3064\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u5b9f\u884c\u3057\u3001\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306f\u5b9f\u884c\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3060\u3051\u3067\u6e08\u3080\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\n\u69cb\u6210\n\n\u30e6\u30fc\u30b6\u74b0\u5883\n/var/lib/git/\n\u251c\u2500etc/\n\u2502  \u251c\u2500httpd.conf          => apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u2502  \u251c\u2500logrotate.conf      => \u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30c8\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u2502  \u251c\u2500init.conf           => upstart\u8d77\u52d5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u2502  \u2514\u2500service.conf        => systemd\u8d77\u52d5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u2514\u2500gitbucket/\n    \u251c\u2500gitbucket-3.X.war   => gitbucket\u30d7\u30ed\u30b0\u30e9\u30e0\n    \u251c\u2500gitbucket.war       => ~git/gitbucket/gitbucket-3.X.war \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n    \u2514\u2500startup.sh          => gitbucket\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\n\n\n\u30b7\u30b9\u30c6\u30e0\u74b0\u5883\n/etc/\n\u251c\u2500apache2/sites-available/\n\u2502  \u2514\u2500gitbucket.conf      => ~git/etc/httpd.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\u251c\u2500httpd/conf.d/\n\u2502  \u2514\u2500gitbucket.conf      => ~git/etc/httpd.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\u251c\u2500logrotate.d/\n\u2502  \u2514\u2500gitbucket           => ~git/etc/logrotate.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\u251c\u2500init/\n\u2502  \u2514\u2500gitbucket.conf      => ~git/etc/init.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\u2514\u2500systemd/system/\n    \u2514\u2500gitbucket.service   => ~git/etc/service.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\n/var/log/git/\n    \u2514\u2500gitbucket.log       => \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\n\n/var/run/git/\n    \u2514\u2500gitbucket.pid       => PID\u30d5\u30a1\u30a4\u30eb\n\n\n\u6e96\u5099\n\n\u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08CentoOS 7\uff09\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\n\n$ sudo yum -y install java-1.8.0-openjdk java-1.8.0-openjdk-devel\n\n\n\u30e6\u30fc\u30b6\u8ffd\u52a0\n\n$ sudo useradd --system -g apache -c \"Git repository\" -m -d /var/lib/git -s /bin/bash git\n\n\n\u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08Ubuntu 14.04\uff09\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\n\n$ sudo add-apt-repository ppa:webupd8team/java\n$ sudo apt-get update\n$ sudo apt-get install oracle-java8-installer\n$ sudo apt-get install oracle-java8-set-default\n\n\n\u30e6\u30fc\u30b6\u8ffd\u52a0\n\n$ sudo mkdir -p /var/lib\n$ sudo useradd --system -g www-data -c \"Git repository\" -m -d /var/lib/git -s /bin/bash git\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30e6\u30fc\u30b6\u74b0\u5883\n\ngitbucket\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\n\n$ sudo su - git\n$ mkdir ~/{etc,gitbucket}\n\n\n\u30ea\u30ea\u30fc\u30b9\u7248\u306e\u30d5\u30a1\u30a4\u30eb\u53d6\u5f97\n\n$ wget -O ~/gitbucket/gitbucket-3.11.war https://github.com/takezoe/gitbucket/releases/download/3.11/gitbucket.war\n$ ln -sf ~/gitbucket/gitbucket-3.11.war ~/gitbucket/gitbucket.war\n\n\ngitbucket\u8d77\u52d5\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n$ cat <<'EOS' | tee ~/gitbucket/startup.sh\n#!/bin/bash\n\nPORT=9080\nAPPHOME=/var/lib/git/gitbucket\nAPPFILE=$APPHOME/gitbucket.war\nLOGFILE=/var/log/git/gitbucket.log\n\ncd $APPHOME\njava -jar $APPFILE --port=$PORT --prefix=/gitbucket --gitbucket.home=$APPHOME >> $LOGFILE 2>&1\nEOS\n\n$ chmod a+x ~/gitbucket/startup.sh\n\n\napache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n$ cat <<EOS | tee ~/etc/httpd.conf\n<Location /gitbucket>\n    Options -MultiViews\n    BrowserMatch \"MSIE\" AuthDigestEnableQueryStringHack=On\n\n    ProxyPass        http://127.0.0.1:9080/gitbucket\n    ProxyPassReverse http://127.0.0.1:9080/gitbucket\n\n    Require all granted\n</Location>\nEOS\n\n\n\u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30c8\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n$ cat <<EOS | tee ~/etc/logrotate.conf\n/var/log/git/gitbucket.log {\n    weekly\n    coppytruncate\n    rotate 52\n    ocmpress\n    delaycompress\n    notifempty\n}\nEOS\n\n\n\u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08CentOS 7\uff09\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\n\n$ sudo mkdir /var/{log,run}/git\n$ sudo chown git:apache /var/{log,run}/git\n\n\nsystemd\u8d77\u52d5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n$ cat <<EOS | sudo tee /etc/service.conf\n[Unit]\nDescription=GitBucket service\nAfter=syslog.target\nAfter=network.target\n\n[Service]\nType=simple\nPIDFile=/var/run/git/gitbucket.pid\nUser=git\nGroup=apache\nWorkingDirectory=$HOME/gitbucket\nExecStart=$HOME/gitbucket/startup.sh\n\n[Install]\nWantedBy=multi-user.target\nEOS\n\n\nsystemd\u8d77\u52d5\u8a2d\u5b9a\n\n$ sudo systemctl enable gitbucket.service\n\n# \u78ba\u8a8d\n$ sudo journalctl -xn\n$ systemctl list-unit-files | grep gitbucket\n\n\ngitbucket\u8d77\u52d5\n\n$ sudo systemctl start gitbucket.service\n\n# \u78ba\u8a8d\n$ systemctl status -l gitbucket.service\n\n\napache\u9023\u643a\u8a2d\u5b9a\n\n$ sudo ln -sf ~git/etc/httpd.conf /etc/httpd/conf.d/gitbucket.conf\n$ sudo systemctl reload httpd.service\n\n# \u78ba\u8a8d\n$ systemctl status httpd.service\n$ sudo journalctl -xn\n\n\n\u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08Ubuntu 14.04\uff09\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\n\n$ sudo mkdir /var/{log,run}/git\n$ sudo chown git:www-data /var/{log,run}/git\n\n\nupsatart\u8d77\u52d5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n$ cat <<EOS | sudo tee /etc/init.conf\ndescription \"GitBucket service\"\n\nstart on runlevel [2345]\nstop on runlevel [!2345]\nrespawn\nrespawn limit 10 5\n\nsetuid git\nsetgid www-data\n\nexec $HOME/gitbucket/startup.sh\nEOS\n\n\nupstart\u8d77\u52d5\u8a2d\u5b9a\n\n$ sudo initctl reload-configuration\n\n# \u78ba\u8a8d\n$ initctl list | grep gitbucket\n\n\ngitbucket\u8d77\u52d5\n\n$ sudo start gitbucket\n\n# \u78ba\u8a8d\n$ service gitbucket status\n\n\napache\u9023\u643a\u8a2d\u5b9a\n\n$ sudo ln -sf ~git/etc/httpd.conf /etc/apache2/sites-available/gitbucket.conf\n$ sudo a2ensite gitbucket\n$ sudo a2enmod proxy_http\n$ sudo service apache2 reload\n\n\n\u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08\u5171\u901a\uff09\n\n\u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30c8\u8a2d\u5b9a\n\n$ sudo ln -sf ~git/etc/logrotate.conf /etc/logrotate.d/gitbucket\n\n# \u78ba\u8a8d\n$ sudo cat /etc/logrotate.d/gitbucket\n\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u7121\u52b9\u5316\n\nhttp://\u30b5\u30fc\u30d0/gitbucket \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u8a8d\u8a3c\uff08root/root\uff09\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3002\nroot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u3002\n\n\n\u53f3\u4e0a\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cAccount Settings\u300d\u3092\u9078\u629e\u3059\u308b\u3002 \n\n\n\u65b0\u898f\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n\n\u53f3\u4e0a\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cSystem administration\u300d\u3092\u9078\u629e\u3059\u308b\u3002\nUser Management\u300d\u3067\u300cNew User\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\n\u300cUser Type\u300d\u3092\u300cAdministrator\u300d\u306b\u3057\u3066\u3001\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n\n\u65b0\u3057\u3044\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u76f4\u3057\u3066root\u30e6\u30fc\u30b6\u3092disable\u306b\u3059\u308b\u3002\n\n\nSSH\u30a2\u30af\u30bb\u30b9\n\ngit\u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u306eSSH\u30a2\u30af\u30bb\u30b9\u3092\u6709\u52b9\u5316\u3059\u308b\u3002\n\n\n\u53f3\u4e0a\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cSystem Settings\u300d\u3092\u9078\u629e\u3059\u308b\u3002\n\u300cBase URL\u300d\u306b\u30b5\u30a4\u30c8URL\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\u300cEnable SSH access to git repository\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u4ed8\u3051\u308b\u3002\n\n\n\n\u6982\u8981\n----\n\n### \u524d\u63d0\n\n* \u5c0f\u898f\u6a21\u74b0\u5883\u3067\u306e\u5229\u7528\u3057\u304b\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u8907\u6570\u306eWEB\u30b5\u30fc\u30d3\u30b9\u3092\u4e00\u3064\u306e\u30b5\u30fc\u30d0\u4e0a\u3067\u52d5\u304b\u3059\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n* \u4e00\u3064\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u4e00\u3064\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u5b9f\u884c\u3057\u3001\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306f\u5b9f\u884c\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3060\u3051\u3067\u6e08\u3080\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\n### \u69cb\u6210\n\n#### \u30e6\u30fc\u30b6\u74b0\u5883\n\n```text\n/var/lib/git/\n\u251c\u2500etc/\n\u2502  \u251c\u2500httpd.conf          => apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u2502  \u251c\u2500logrotate.conf      => \u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30c8\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u2502  \u251c\u2500init.conf           => upstart\u8d77\u52d5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u2502  \u2514\u2500service.conf        => systemd\u8d77\u52d5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u2514\u2500gitbucket/\n    \u251c\u2500gitbucket-3.X.war   => gitbucket\u30d7\u30ed\u30b0\u30e9\u30e0\n    \u251c\u2500gitbucket.war       => ~git/gitbucket/gitbucket-3.X.war \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n    \u2514\u2500startup.sh          => gitbucket\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\n```\n\n#### \u30b7\u30b9\u30c6\u30e0\u74b0\u5883\n\n```text\n/etc/\n\u251c\u2500apache2/sites-available/\n\u2502  \u2514\u2500gitbucket.conf      => ~git/etc/httpd.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\u251c\u2500httpd/conf.d/\n\u2502  \u2514\u2500gitbucket.conf      => ~git/etc/httpd.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\u251c\u2500logrotate.d/\n\u2502  \u2514\u2500gitbucket           => ~git/etc/logrotate.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\u251c\u2500init/\n\u2502  \u2514\u2500gitbucket.conf      => ~git/etc/init.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\u2514\u2500systemd/system/\n    \u2514\u2500gitbucket.service   => ~git/etc/service.conf \u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\n\n/var/log/git/\n    \u2514\u2500gitbucket.log       => \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\n\n/var/run/git/\n    \u2514\u2500gitbucket.pid       => PID\u30d5\u30a1\u30a4\u30eb\n```\n\n\n\u6e96\u5099\n----\n\n### \u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08CentoOS 7\uff09\n\n* \u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\n\n```sh\n$ sudo yum -y install java-1.8.0-openjdk java-1.8.0-openjdk-devel\n```\n\n* \u30e6\u30fc\u30b6\u8ffd\u52a0\n\n```sh\n$ sudo useradd --system -g apache -c \"Git repository\" -m -d /var/lib/git -s /bin/bash git\n```\n\n\n### \u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08Ubuntu 14.04\uff09\n\n* \u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\n\n```sh\n$ sudo add-apt-repository ppa:webupd8team/java\n$ sudo apt-get update\n$ sudo apt-get install oracle-java8-installer\n$ sudo apt-get install oracle-java8-set-default\n```\n\n* \u30e6\u30fc\u30b6\u8ffd\u52a0\n\n```sh\n$ sudo mkdir -p /var/lib\n$ sudo useradd --system -g www-data -c \"Git repository\" -m -d /var/lib/git -s /bin/bash git\n```\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n------------\n\n### \u30e6\u30fc\u30b6\u74b0\u5883\n\n#### gitbucket\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n* \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\n\n```sh\n$ sudo su - git\n$ mkdir ~/{etc,gitbucket}\n```\n\n* \u30ea\u30ea\u30fc\u30b9\u7248\u306e\u30d5\u30a1\u30a4\u30eb\u53d6\u5f97\n\n```sh\n$ wget -O ~/gitbucket/gitbucket-3.11.war https://github.com/takezoe/gitbucket/releases/download/3.11/gitbucket.war\n$ ln -sf ~/gitbucket/gitbucket-3.11.war ~/gitbucket/gitbucket.war\n```\n\n\n#### gitbucket\u8d77\u52d5\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n```sh\n$ cat <<'EOS' | tee ~/gitbucket/startup.sh\n#!/bin/bash\n\nPORT=9080\nAPPHOME=/var/lib/git/gitbucket\nAPPFILE=$APPHOME/gitbucket.war\nLOGFILE=/var/log/git/gitbucket.log\n\ncd $APPHOME\njava -jar $APPFILE --port=$PORT --prefix=/gitbucket --gitbucket.home=$APPHOME >> $LOGFILE 2>&1\nEOS\n```\n```sh\n$ chmod a+x ~/gitbucket/startup.sh\n```\n\n#### apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n```sh\n$ cat <<EOS | tee ~/etc/httpd.conf\n<Location /gitbucket>\n    Options -MultiViews\n    BrowserMatch \"MSIE\" AuthDigestEnableQueryStringHack=On\n\n    ProxyPass        http://127.0.0.1:9080/gitbucket\n    ProxyPassReverse http://127.0.0.1:9080/gitbucket\n\n    Require all granted\n</Location>\nEOS\n```\n\n#### \u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30c8\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n```sh\n$ cat <<EOS | tee ~/etc/logrotate.conf\n/var/log/git/gitbucket.log {\n\tweekly\n\tcoppytruncate\n\trotate 52\n\tocmpress\n\tdelaycompress\n\tnotifempty\n}\nEOS\n```\n\n\n### \u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08CentOS 7\uff09\n\n* \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\n\n```sh\n$ sudo mkdir /var/{log,run}/git\n$ sudo chown git:apache /var/{log,run}/git\n```\n\n* systemd\u8d77\u52d5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n```sh\n$ cat <<EOS | sudo tee /etc/service.conf\n[Unit]\nDescription=GitBucket service\nAfter=syslog.target\nAfter=network.target\n\n[Service]\nType=simple\nPIDFile=/var/run/git/gitbucket.pid\nUser=git\nGroup=apache\nWorkingDirectory=$HOME/gitbucket\nExecStart=$HOME/gitbucket/startup.sh\n\n[Install]\nWantedBy=multi-user.target\nEOS\n```\n\n* systemd\u8d77\u52d5\u8a2d\u5b9a\n\n```sh\n$ sudo systemctl enable gitbucket.service\n\n# \u78ba\u8a8d\n$ sudo journalctl -xn\n$ systemctl list-unit-files | grep gitbucket\n```\n\n* gitbucket\u8d77\u52d5\n\n```sh\n$ sudo systemctl start gitbucket.service\n\n# \u78ba\u8a8d\n$ systemctl status -l gitbucket.service\n```\n\n* apache\u9023\u643a\u8a2d\u5b9a\n\n```sh\n$ sudo ln -sf ~git/etc/httpd.conf /etc/httpd/conf.d/gitbucket.conf\n$ sudo systemctl reload httpd.service\n\n# \u78ba\u8a8d\n$ systemctl status httpd.service\n$ sudo journalctl -xn\n```\n\n\n### \u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08Ubuntu 14.04\uff09\n\n* \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\n\n```sh\n$ sudo mkdir /var/{log,run}/git\n$ sudo chown git:www-data /var/{log,run}/git\n```\n\n* upsatart\u8d77\u52d5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n```sh\n$ cat <<EOS | sudo tee /etc/init.conf\ndescription \"GitBucket service\"\n\nstart on runlevel [2345]\nstop on runlevel [!2345]\nrespawn\nrespawn limit 10 5\n\nsetuid git\nsetgid www-data\n\nexec $HOME/gitbucket/startup.sh\nEOS\n```\n\n* upstart\u8d77\u52d5\u8a2d\u5b9a\n\n```sh\n$ sudo initctl reload-configuration\n\n# \u78ba\u8a8d\n$ initctl list | grep gitbucket\n```\n\n* gitbucket\u8d77\u52d5\n\n```sh\n$ sudo start gitbucket\n\n# \u78ba\u8a8d\n$ service gitbucket status\n```\n\n* apache\u9023\u643a\u8a2d\u5b9a\n\n```sh\n$ sudo ln -sf ~git/etc/httpd.conf /etc/apache2/sites-available/gitbucket.conf\n$ sudo a2ensite gitbucket\n$ sudo a2enmod proxy_http\n$ sudo service apache2 reload\n```\n\n\n### \u30b7\u30b9\u30c6\u30e0\u74b0\u5883\uff08\u5171\u901a\uff09\n\n* \u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30c8\u8a2d\u5b9a\n\n```sh\n$ sudo ln -sf ~git/etc/logrotate.conf /etc/logrotate.d/gitbucket\n\n# \u78ba\u8a8d\n$ sudo cat /etc/logrotate.d/gitbucket\n```\n\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n------------\n\n### \u30c7\u30d5\u30a9\u30eb\u30c8\u30a2\u30ab\u30a6\u30f3\u30c8\u7121\u52b9\u5316\n\n* http://\u30b5\u30fc\u30d0/gitbucket \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u8a8d\u8a3c\uff08root/root\uff09\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3002\n* root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u3002\n  * \u53f3\u4e0a\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cAccount Settings\u300d\u3092\u9078\u629e\u3059\u308b\u3002 \n* \u65b0\u898f\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002\n  * \u53f3\u4e0a\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cSystem administration\u300d\u3092\u9078\u629e\u3059\u308b\u3002\n  * User Management\u300d\u3067\u300cNew User\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\n  * \u300cUser Type\u300d\u3092\u300cAdministrator\u300d\u306b\u3057\u3066\u3001\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002\n* \u65b0\u3057\u3044\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u76f4\u3057\u3066root\u30e6\u30fc\u30b6\u3092disable\u306b\u3059\u308b\u3002\n\n\n### SSH\u30a2\u30af\u30bb\u30b9\n\n* git\u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u306eSSH\u30a2\u30af\u30bb\u30b9\u3092\u6709\u52b9\u5316\u3059\u308b\u3002\n  * \u53f3\u4e0a\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cSystem Settings\u300d\u3092\u9078\u629e\u3059\u308b\u3002\n  * \u300cBase URL\u300d\u306b\u30b5\u30a4\u30c8URL\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n  * \u300cEnable SSH access to git repository\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u4ed8\u3051\u308b\u3002\n", "tags": ["GitBucket", "systemd", "upstart", "Ubuntu14.04", "centos7"]}