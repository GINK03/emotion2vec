{"context": "\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u9078\u629e\u3057\u305f\u30a8\u30f3\u30c8\u30ea\u30fc\u3078Linux\u30b3\u30de\u30f3\u30c9\u306efind\u3092\u4f7f\u3063\u3066\u691c\u7d22\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u4e0a\u306efind\u3068\u306e\u9055\u3044\n\nPros \n\n\u9078\u629e\u3057\u305f\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u691c\u7d22\u304c\u3067\u304d\u308b\n\n\n\u691c\u7d22\u7d50\u679c\u3092\u304b\u3089\u3055\u3089\u306b\u9078\u629e\u3092\u3057\u3066\u3001\u3068\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30bf\u30eb\u306a\u691c\u7d22\n\n\nfind\u7d50\u679c\u306e\u5c65\u6b74\u304c\u4f5c\u308c\u308b(\u65b9\u6cd5\u306f\u5f8c\u65e5\u306e\u8a18\u4e8b\u3067)\n\u30d5\u30a1\u30a4\u30eb\u540d\u4e00\u89a7\u306bgrep\u304c\u4f7f\u3048\u308b(\u3053\u308c\u3082\u5f8c\u65e5\u306e\u8a18\u4e8b\u3067)\n\n\nListFile\u3078\u306egrep\u306a\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u304c\u767a\u751f\u3057\u306a\u3044\n\n\nag\u306e\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3\u3084ripgrep\u306e--type-list\u306e\u3088\u3046\u306b\u3001\u62e1\u5f35\u5b50\u30d1\u30bf\u30fc\u30f3\u3092\u6307\u5b9a\u3067\u304d\u308b\n\n\n\u300ccpp:\u300d\u3067C++\u30bd\u30fc\u30b9\u306e\u307f\u3092\u7d5e\u308a\u8fbc\u307f\u3001\u7b49\n\nfindargparser.js\u306b\u5b9f\u88c5\n\n\n.git\u3084.svn\u7b49\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u9664\u5916\u3067\u304d\u308b\n\n\n\u30b3\u30de\u30f3\u30c9\u7fa4\u306b\u5b9f\u88c5\u3057\u3066\u307e\u3059\n\n\n\n\nCons \n\nPPx\u4e0a\u3067\u52d5\u304f\u306e\u3067\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u306f\u4f7f\u3048\u306a\u3044\n\u5f53\u7136\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3082\u7d44\u307f\u8fbc\u3081\u306a\u3044\n\n\n\n\u305f\u3060\u3001\u6700\u8fd1\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u691c\u7d22\u30b3\u30de\u30f3\u30c9\u306f.gitignore\u3082\u53c2\u7167\u3057\u3066\u304f\u308c\u305f\u308a\u3068\u3082\u3063\u3068\u5f37\u529b\u306a\u9664\u5916\u3092\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001find\u3067\u9664\u5916\u3067\u304d\u3066\u3082\u30e1\u30ea\u30c3\u30c8\u3068\u3057\u3066\u306f\u8584\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u6b20\u70b9\u306f\u30b3\u30de\u30f3\u30c9\u7fa4\u304c\u30b9\u30af\u30ea\u30d7\u30c8\u4ee3\u308f\u308a\u306b\u306a\u308b\u306e\u3067\u4f55\u3068\u304b\u88dc\u3048\u308b\u3068\u601d\u3044\u307e\u3059\u3001\u305d\u308c\u3088\u308a\u306ffind\u7d50\u679c\u306b\u5bfe\u3057\u3066\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u64cd\u4f5c\u304cpeco\u3088\u308a\u3082\u4f7f\u3044\u52dd\u624b\u304c\u3088\u304f\u306a\u308b\u306e\u304c\u5b09\u3057\u3044\u3067\u3059\u3002\n\n\u30c7\u30e2\n\n\u300c.\u300d\u3067\u3059\u3079\u3066\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5bfe\u8c61\u306b\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u9078\u629e\u3067\u305d\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u307f\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3067\u304d\u307e\u3059\u3002\n-SEPiname\u3068\u3044\u3046\u306e\u306f\u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3001-iname\u3092\u6bce\u56de\u76f4\u63a5\u66f8\u304f\u306e\u306f\u9762\u5012\u306a\u306e\u3067\u3001\u30d1\u30fc\u30b5\u7528\u30b9\u30af\u30ea\u30d7\u30c8(findargparser.js)\u3092\u901a\u3057\u3066\u3044\u307e\u3059\u3002\n\u300c-SEPiname \"*.cpp;*.c\"\u300d\u306f\u300c\\( -iname \"*.cpp\" -o -iname \"*.c\" \\)\u300d\u3078\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\u305d\u308c\u3068\u3001ripgrep\u306e--type-list\u306e\u3088\u3046\u306b\u62e1\u5f35\u5b50\u30d1\u30bf\u30fc\u30f3\u3082\u6307\u5b9a\u3067\u304d\u307e\u3059\u3001\u30d1\u30bf\u30fc\u30f3\u540d\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u3067\u304d\u306a\u3044\u300c:\u300d\u3092\u672b\u5c3e\u306b\u4ed8\u3051\u308b\u30eb\u30fc\u30eb\u306b\u3057\u3066\u3044\u307e\u3059\u3001\u300c;\u300d\u3067\u533a\u5207\u3063\u3066\u975e\u30d1\u30bf\u30fc\u30f3\u3068\u6df7\u305c\u308b\u4e8b\u3082\u51fa\u6765\u307e\u3059\u3002\n\u300c-SEPiname \"js:\"\u300d\u306f\u300c-SEPiname \"*.js;*.jsx;*.vue\"\u300d\u3068\u5909\u63db\u3055\u308c\u3001\u305d\u3053\u304b\u3089\u300c\\( -iname \"*.js\" -o -iname \"*.js\" -o -iname \"*.vue\" \\)\u300d\u3078\u3068\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\nfindx\u30b3\u30de\u30f3\u30c9\u306fGNU find\u306e\u6539\u9020\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3001GNU find\u30aa\u30ea\u30b8\u30ca\u30eb\u3060\u3068\u8907\u6570\u30a8\u30f3\u30c8\u30ea\u30fc\u3092xargs\u3092\u4f7f\u3063\u3066\u5f15\u6570\u3068\u3057\u3066\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u6570\u304c\u5897\u3048\u308b\u3068\u691c\u7d22\u304c\u76ee\u306b\u898b\u3048\u3066\u9045\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3001find\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u3093\u3067\u307f\u307e\u3057\u305f\u304c\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u4e00\u3064\u6bce\u306b\u691c\u7d22\u3059\u308b\u30ed\u30b8\u30c3\u30af\u306b\u306a\u3063\u3066\u307e\u3057\u305f\u3001\u7d041000\u500b\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u691c\u7d22\u3067\u7d0410\u79d2\u304b\u304b\u308a\u307e\u3059\u3001\u3046\u30fc\u3093\u9045\u3044\u3002\n\u305d\u306e\u70ba\u3001\u6a19\u6e96\u51fa\u529b\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b'-'\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u3001\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3092\u691c\u7d22\u51e6\u7406\u306b\u6e21\u3059\u3088\u3046\u306b\u52b9\u7387\u5316\u3057\u3066\u3044\u307e\u3059\u3001\u3053\u308c\u306b\u3088\u308a\u7d041000\u500b\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u7d040.2\u79d2\u307b\u3069\u3067\u5b8c\u4e86\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f(\u305d\u308c\u4ee5\u4e0a\u306f\u672a\u6e2c\u5b9a\u3067\u3059)\u3002\n\n\u30c4\u30fc\u30eb\u69cb\u6210\n\nfindx\n\u3053\u3061\u3089\u3067\u914d\u5e03\u3057\u3066\u3044\u307e\u3059\u3001\u30d0\u30a4\u30ca\u30ea\u306fcygwin\u7248\u3057\u304b\u7528\u610f\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nfindutils\u6539\u9020\u54c1\u306e\u305f\u3081GPL\u3067\u3059\u3002\nwordijp/findutils-x - Binary\n\ntolistfile.rb\n\u6a19\u6e96\u51fa\u529b\u306eListFile\u5316\u3067\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3001Ruby\u3067\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\ntolistfile.rb\n# coding: utf-8\nrequire 'kconv'\n\ndef putsUtf8(str)\n  puts NKF.nkf('-w', str)\nend\n\nputsUtf8 \";ListFile\"\nputsUtf8 \";Base=\" + `cwd`\n# Windows\u7528\u30d0\u30a4\u30ca\u30ea\u306eRuby\u306a\u3089\u3053\u3061\u3089\u3067\u3082\u826f\u3044\n#putsUtf8 \";Base=\" + Dir.pwd.gsub(/\\//, '\\\\')\n\nARGV.each{|arg|\n  putsUtf8 arg\n}\n\nwhile STDIN.gets\n  putsUtf8 $_\nend\n\n\ncygwin\u7b49\u306eLinux\u7248Ruby\u3067\u3082Windows\u5f62\u5f0f\u306e\u30d1\u30b9\u304c\u53d6\u5f97\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u72ec\u81ea\u30b3\u30de\u30f3\u30c9\u306ecwd\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3001Windows\u7248\u306eRuby\u306a\u3089Dir.pwd\u3092\u4f7f\u3063\u3066\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\n\ncwd\n\u3053\u3061\u3089\u3067\u914d\u5e03\u3057\u3066\u3044\u307e\u3059\u3002\nwordijp/cwd - Binary\n\nfindargparser.js\n-SEPiname\u7b49\u306e\u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u30d1\u30fc\u30b5\u3067\u3059\u3001PPx Script Module\u7528\u3067\u3059\u3002\n\nfindargparser.js\n//! script\n\n//\n// find\u7528\u306e\u5f15\u6570\u3092\u5c55\u958b\u3059\u308b\n// \u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u30d8\u30eb\u30d1\u30b9\u30af\u30ea\u30d7\u30c8\n//\n// PPx.Arguments.item(0) : \u691c\u7d22\u30aa\u30d7\u30b7\u30e7\u30f3\n//\n// usage)\n//   -SEPname \"*.cpp;*.h\" ->\n//     \\( -name \"*.cpp\" -o -name \"*.h\" \\)\n//\n//   -SEPname \"cc:\" ->\n//     -SEPname \"*.H;*.c;*.h\" ->\n//     \\( -name \"*.H\" -o -name \"*.c\" -o -name \"*.h\" \\)\n//\n//   -SEPname \"cc:;h:\" ->\n//     -SEPname \"*.H;*.c;*.h;*.h;*.hpp\" ->\n//     \\( -name \"*.H\" -o -name \"*.c\" -o -name \"*.h\" -o -name \"*.h\" -o -name \"*.hpp\" \\)\n\n\nfunction argsJoin(args) {\n    if (args.length == 0) return \"\";\n    if (args.length == 1) return args[0];\n\n    return '\\\\( ' + args.join(' -o ') + ' \\\\)';\n}\n\n///\n\n// \u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u5185\u306e\u3001\u30d5\u30a1\u30a4\u30eb\u30d1\u30bf\u30fc\u30f3\u3092\u5c55\u958b\u3059\u308b\n// NOTE : ripgrep\u306e--type-list\u3092\u771f\u4f3c\u3066\u3044\u308b\nfunction preReplacePattern(pattern) {\n    pattern = ';' + pattern; // \u5148\u982d\u3092\u306a\u304f\u3057\u3001\u5e38\u306b/\\Wxxx:/\u3067\u5358\u8a9e\u5358\u4f4d\u691c\u7d22\u306b\u306a\u308b\u3088\u3046\u306b\n    // C/C++\n    pattern = pattern.replace(/\\Wcpp:/, ';*.C;*.H;*.cc;*.cpp;*.cxx;*.h;*.hh;*.hpp');\n    pattern = pattern.replace(/\\Wcc:/, ';*.H;*.c;*.h');\n    pattern = pattern.replace(/\\Wh:/, ';*.h;*.hpp');\n    // JavaScript\n    pattern = pattern.replace(/\\Wjs:/, ';*.js;*.jsx;*.vue');\n    // \u305d\u306e\u4ed6\n    // ...\n\n    pattern = pattern.substring(1); // ';'\u3092\u53d6\u308a\u9664\u304f\n    //PPx.Echo(pattern);\n\n    var m = pattern.match(/\\w+:/);\n    if (m) {\n        PPx.Echo('\u672a\u5b9f\u88c5\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30bf\u30fc\u30f3\u304c\u3042\u308a\u307e\u3059\\n>' + pattern.substring(m.index, m.lastIndex));\n    }\n\n    return pattern;\n}\n\n// \u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u30aa\u30ea\u30b8\u30ca\u30eb\u3078\u7f6e\u63db\u3059\u308b\nfunction sepReplaceInternal(str, sepstr, restr, origname) {\n    var m2 = sepstr.match(/\"[^\\\"]*\"/);\n    if (!m2) return str;\n\n    var pattern = sepstr.substring(m2.index + 1, m2.lastIndex - 1);\n    pattern = preReplacePattern(pattern);\n    var patterns = pattern.split(';');\n\n    var origs = [];\n    for (var i = 0; i < patterns.length; i++) {\n        if (patterns[i] != \"\") origs.push(origname +' \"' + patterns[i] + '\"');\n    }\n    return str.replace(new RegExp(restr), argsJoin(origs));\n}\nfunction sepReplace(str, sepname, origname) {\n    var restr = sepname + ' \"[^\\\"]*\"';\n    while (true) {\n        var m = str.match(new RegExp(restr));\n        if (!m) break;\n\n        var sepstr = str.substring(m.index, m.lastIndex);\n        str = sepReplaceInternal(str, sepstr, restr, origname);\n    }\n\n    return str;\n}\n\n///\n\nvar result;\nvar arg = PPx.Arguments.item(0);\nif (arg == \"\") {\n    result = \"\";\n} else {\n    // \u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u5c55\u958b\n    arg = sepReplace(arg, '-SEPiname', '-iname');\n    arg = sepReplace(arg, '-SEPname', '-name');\n    //PPx.Echo(arg);\n\n    result = arg;\n}\n\nPPx.Result = result;\n\n\n\nPPx\u8a2d\u5b9a\n\u3044\u3064\u3082\u306e\u3088\u3046\u306b\u5dee\u5206\u306e\u307f\u3067\u3059\u3002\n\u203b\u81ea\u8eab\u306e\u8a2d\u5b9a\u304c\u6d88\u3048\u306a\u3044\u3088\u3046\u306b\u3001\u9069\u7528\u524d\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u308b\u304b\u3001\u8ffd\u52a0\u53d6\u308a\u8fbc\u307f\u3092\u3057\u3066\u304f\u3060\u3055\u3044\n\u203b\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30d1\u30b9\u306f\u81ea\u8eab\u306e\u74b0\u5883\u3078\u3068\u5408\u308f\u305b\u3066\u4e0b\u3055\u3044\nKC_main = { ; PPc\u30e1\u30a4\u30f3\u7a93\n^F  ,\n    *set dummy='\u30a8\u30f3\u30c8\u30ea\u3078\u306efind'\n    *set ENTRY_FILE=%'temp'\\entryfile.tmp\n    *set CIN_LSTFILE=%'temp'\\cin2listfile.tmp\n    *set dummy='---\u691c\u7d22\u5185\u5bb9\u306e\u5165\u529b-------------'\n    *set ARG=%\"xargs findx entry... [\u30aa\u30d7\u30b7\u30e7\u30f3](-SEPname:;\u533a\u5207\u308a\u3001i\u4ed8\u304d\u3067\u5927\u5c0f\u7121\u8996)\"%{-SEPiname \"%|*%|\"%}\n    *set EXTRACT_ARG=%*script(%0\\script\\findargparser.js, %'ARG')\n    *set dummy='---\u30b3\u30de\u30f3\u30c9\u5185\u5bb9---------------'\n    *set OPT=\\( -type d \\( -name .git -o -name .svn \\) -prune \\( -wholename .git -wholename .svn \\) -o -type f \\)\n    *set CMD_BAK=xargs -P4 -I'{}' find {} %'OPT' %'EXTRACT_ARG'\n    *set CMD=findx - %'OPT' %'EXTRACT_ARG'\n    *set dummy='---\u5b9f\u884c-----------------------'\n    *script %0\\script\\entry2file.js, %'ENTRY_FILE'\n    %Obsq cat %'ENTRY_FILE' | nkf -Lu -w | %'CMD' | ruby %0\\script\\shell\\tolistfile.rb ';MySearch=xargs findx entry... %'ARG'' | nkf -Lw -s > %'CIN_LSTFILE'\n    *jumppath %'CIN_LSTFILE'\n}\n\nListFile\u306e\u300c;MySearch ...\u300d\u3068\u3044\u3046\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u5f8c\u306e\u8a18\u4e8b\u3067\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u307e\u3068\u3081\n\u6a19\u6e96\u306ewhere is\u3067\u7269\u8db3\u308a\u306a\u3044\u65b9\u306f\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u9078\u629e\u3057\u305f\u30a8\u30f3\u30c8\u30ea\u30fc\u3078Linux\u30b3\u30de\u30f3\u30c9\u306efind\u3092\u4f7f\u3063\u3066\u691c\u7d22\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n# \u30bf\u30fc\u30df\u30ca\u30eb\u4e0a\u306efind\u3068\u306e\u9055\u3044\n\n- Pros :+1:\n    - \u9078\u629e\u3057\u305f\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u691c\u7d22\u304c\u3067\u304d\u308b\n        - \u691c\u7d22\u7d50\u679c\u3092\u304b\u3089\u3055\u3089\u306b\u9078\u629e\u3092\u3057\u3066\u3001\u3068\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30bf\u30eb\u306a\u691c\u7d22\n    - find\u7d50\u679c\u306e\u5c65\u6b74\u304c\u4f5c\u308c\u308b(\u65b9\u6cd5\u306f\u5f8c\u65e5\u306e\u8a18\u4e8b\u3067)\n    - \u30d5\u30a1\u30a4\u30eb\u540d\u4e00\u89a7\u306bgrep\u304c\u4f7f\u3048\u308b(\u3053\u308c\u3082\u5f8c\u65e5\u306e\u8a18\u4e8b\u3067)\n        - ListFile\u3078\u306egrep\u306a\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u304c\u767a\u751f\u3057\u306a\u3044\n    - ag\u306e\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3\u3084ripgrep\u306e--type-list\u306e\u3088\u3046\u306b\u3001\u62e1\u5f35\u5b50\u30d1\u30bf\u30fc\u30f3\u3092\u6307\u5b9a\u3067\u304d\u308b\n        - \u300ccpp:\u300d\u3067C++\u30bd\u30fc\u30b9\u306e\u307f\u3092\u7d5e\u308a\u8fbc\u307f\u3001\u7b49\n        - [findargparser.js](#findargparserjs)\u306b\u5b9f\u88c5\n    - .git\u3084.svn\u7b49\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u9664\u5916\u3067\u304d\u308b\n        - \u30b3\u30de\u30f3\u30c9\u7fa4\u306b\u5b9f\u88c5\u3057\u3066\u307e\u3059\n- Cons :-1_tone3:\n    - PPx\u4e0a\u3067\u52d5\u304f\u306e\u3067\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u306f\u4f7f\u3048\u306a\u3044\n    - \u5f53\u7136\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3082\u7d44\u307f\u8fbc\u3081\u306a\u3044\n\n\u305f\u3060\u3001\u6700\u8fd1\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u691c\u7d22\u30b3\u30de\u30f3\u30c9\u306f.gitignore\u3082\u53c2\u7167\u3057\u3066\u304f\u308c\u305f\u308a\u3068\u3082\u3063\u3068\u5f37\u529b\u306a\u9664\u5916\u3092\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001find\u3067\u9664\u5916\u3067\u304d\u3066\u3082\u30e1\u30ea\u30c3\u30c8\u3068\u3057\u3066\u306f\u8584\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u6b20\u70b9\u306f\u30b3\u30de\u30f3\u30c9\u7fa4\u304c\u30b9\u30af\u30ea\u30d7\u30c8\u4ee3\u308f\u308a\u306b\u306a\u308b\u306e\u3067\u4f55\u3068\u304b\u88dc\u3048\u308b\u3068\u601d\u3044\u307e\u3059\u3001\u305d\u308c\u3088\u308a\u306ffind\u7d50\u679c\u306b\u5bfe\u3057\u3066\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u64cd\u4f5c\u304cpeco\u3088\u308a\u3082\u4f7f\u3044\u52dd\u624b\u304c\u3088\u304f\u306a\u308b\u306e\u304c\u5b09\u3057\u3044\u3067\u3059\u3002\n\n\n# \u30c7\u30e2\n\n![findtest.gif](https://qiita-image-store.s3.amazonaws.com/0/51728/27d9cdb1-3a6d-afcd-0dc1-22a53384c80e.gif)\n \n\u300c.\u300d\u3067\u3059\u3079\u3066\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5bfe\u8c61\u306b\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u9078\u629e\u3067\u305d\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u307f\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3067\u304d\u307e\u3059\u3002\n\n-SEPiname\u3068\u3044\u3046\u306e\u306f\u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3001-iname\u3092\u6bce\u56de\u76f4\u63a5\u66f8\u304f\u306e\u306f\u9762\u5012\u306a\u306e\u3067\u3001\u30d1\u30fc\u30b5\u7528\u30b9\u30af\u30ea\u30d7\u30c8([findargparser.js](#findargparserjs))\u3092\u901a\u3057\u3066\u3044\u307e\u3059\u3002\n\u300c-SEPiname \"\\*.cpp;\\*.c\"\u300d\u306f\u300c\\\\( -iname \"\\*.cpp\" -o -iname \"\\*.c\" \\\\)\u300d\u3078\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\u305d\u308c\u3068\u3001ripgrep\u306e--type-list\u306e\u3088\u3046\u306b\u62e1\u5f35\u5b50\u30d1\u30bf\u30fc\u30f3\u3082\u6307\u5b9a\u3067\u304d\u307e\u3059\u3001\u30d1\u30bf\u30fc\u30f3\u540d\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u3067\u304d\u306a\u3044\u300c:\u300d\u3092\u672b\u5c3e\u306b\u4ed8\u3051\u308b\u30eb\u30fc\u30eb\u306b\u3057\u3066\u3044\u307e\u3059\u3001\u300c;\u300d\u3067\u533a\u5207\u3063\u3066\u975e\u30d1\u30bf\u30fc\u30f3\u3068\u6df7\u305c\u308b\u4e8b\u3082\u51fa\u6765\u307e\u3059\u3002\n\u300c-SEPiname \"js:\"\u300d\u306f\u300c-SEPiname \"\\*.js;\\*.jsx;\\*.vue\"\u300d\u3068\u5909\u63db\u3055\u308c\u3001\u305d\u3053\u304b\u3089\u300c\\\\( -iname \"\\*.js\" -o -iname \"\\*.js\" -o -iname \"\\*.vue\" \\\\)\u300d\u3078\u3068\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\n[findx\u30b3\u30de\u30f3\u30c9](#findx)\u306fGNU find\u306e\u6539\u9020\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3001GNU find\u30aa\u30ea\u30b8\u30ca\u30eb\u3060\u3068\u8907\u6570\u30a8\u30f3\u30c8\u30ea\u30fc\u3092xargs\u3092\u4f7f\u3063\u3066\u5f15\u6570\u3068\u3057\u3066\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u6570\u304c\u5897\u3048\u308b\u3068\u691c\u7d22\u304c\u76ee\u306b\u898b\u3048\u3066\u9045\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3001find\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u3093\u3067\u307f\u307e\u3057\u305f\u304c\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u4e00\u3064\u6bce\u306b\u691c\u7d22\u3059\u308b\u30ed\u30b8\u30c3\u30af\u306b\u306a\u3063\u3066\u307e\u3057\u305f\u3001\u7d041000\u500b\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u691c\u7d22\u3067\u7d0410\u79d2\u304b\u304b\u308a\u307e\u3059\u3001\u3046\u30fc\u3093\u9045\u3044\u3002\n\u305d\u306e\u70ba\u3001\u6a19\u6e96\u51fa\u529b\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b'-'\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u3001\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3092\u691c\u7d22\u51e6\u7406\u306b\u6e21\u3059\u3088\u3046\u306b\u52b9\u7387\u5316\u3057\u3066\u3044\u307e\u3059\u3001\u3053\u308c\u306b\u3088\u308a\u7d041000\u500b\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u7d040.2\u79d2\u307b\u3069\u3067\u5b8c\u4e86\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f(\u305d\u308c\u4ee5\u4e0a\u306f\u672a\u6e2c\u5b9a\u3067\u3059)\u3002\n\n# \u30c4\u30fc\u30eb\u69cb\u6210\n\n## findx\n\n\u3053\u3061\u3089\u3067\u914d\u5e03\u3057\u3066\u3044\u307e\u3059\u3001\u30d0\u30a4\u30ca\u30ea\u306fcygwin\u7248\u3057\u304b\u7528\u610f\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nfindutils\u6539\u9020\u54c1\u306e\u305f\u3081GPL\u3067\u3059\u3002\n[wordijp/findutils-x](https://github.com/wordijp/findutils-x) - [Binary](https://github.com/wordijp/findutils-x/releases)\n\n## tolistfile.rb\n\n\u6a19\u6e96\u51fa\u529b\u306eListFile\u5316\u3067\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3001Ruby\u3067\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\n```rb:tolistfile.rb\n# coding: utf-8\nrequire 'kconv'\n\ndef putsUtf8(str)\n  puts NKF.nkf('-w', str)\nend\n\nputsUtf8 \";ListFile\"\nputsUtf8 \";Base=\" + `cwd`\n# Windows\u7528\u30d0\u30a4\u30ca\u30ea\u306eRuby\u306a\u3089\u3053\u3061\u3089\u3067\u3082\u826f\u3044\n#putsUtf8 \";Base=\" + Dir.pwd.gsub(/\\//, '\\\\')\n\nARGV.each{|arg|\n  putsUtf8 arg\n}\n\nwhile STDIN.gets\n  putsUtf8 $_\nend\n```\n\ncygwin\u7b49\u306eLinux\u7248Ruby\u3067\u3082Windows\u5f62\u5f0f\u306e\u30d1\u30b9\u304c\u53d6\u5f97\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u72ec\u81ea\u30b3\u30de\u30f3\u30c9\u306ecwd\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3001Windows\u7248\u306eRuby\u306a\u3089Dir.pwd\u3092\u4f7f\u3063\u3066\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\n\n## cwd\n\n\u3053\u3061\u3089\u3067\u914d\u5e03\u3057\u3066\u3044\u307e\u3059\u3002\n[wordijp/cwd](https://github.com/wordijp/cwd) - [Binary](https://github.com/wordijp/cwd/releases)\n\n## findargparser.js\n\n-SEPiname\u7b49\u306e\u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u30d1\u30fc\u30b5\u3067\u3059\u3001PPx Script Module\u7528\u3067\u3059\u3002\n\n```js:findargparser.js\n//! script\n\n//\n// find\u7528\u306e\u5f15\u6570\u3092\u5c55\u958b\u3059\u308b\n// \u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u30d8\u30eb\u30d1\u30b9\u30af\u30ea\u30d7\u30c8\n//\n// PPx.Arguments.item(0) : \u691c\u7d22\u30aa\u30d7\u30b7\u30e7\u30f3\n//\n// usage)\n//   -SEPname \"*.cpp;*.h\" ->\n//     \\( -name \"*.cpp\" -o -name \"*.h\" \\)\n//\n//   -SEPname \"cc:\" ->\n//     -SEPname \"*.H;*.c;*.h\" ->\n//     \\( -name \"*.H\" -o -name \"*.c\" -o -name \"*.h\" \\)\n//\n//   -SEPname \"cc:;h:\" ->\n//     -SEPname \"*.H;*.c;*.h;*.h;*.hpp\" ->\n//     \\( -name \"*.H\" -o -name \"*.c\" -o -name \"*.h\" -o -name \"*.h\" -o -name \"*.hpp\" \\)\n\n\nfunction argsJoin(args) {\n\tif (args.length == 0) return \"\";\n\tif (args.length == 1) return args[0];\n\n\treturn '\\\\( ' + args.join(' -o ') + ' \\\\)';\n}\n\n///\n\n// \u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u5185\u306e\u3001\u30d5\u30a1\u30a4\u30eb\u30d1\u30bf\u30fc\u30f3\u3092\u5c55\u958b\u3059\u308b\n// NOTE : ripgrep\u306e--type-list\u3092\u771f\u4f3c\u3066\u3044\u308b\nfunction preReplacePattern(pattern) {\n\tpattern = ';' + pattern; // \u5148\u982d\u3092\u306a\u304f\u3057\u3001\u5e38\u306b/\\Wxxx:/\u3067\u5358\u8a9e\u5358\u4f4d\u691c\u7d22\u306b\u306a\u308b\u3088\u3046\u306b\n\t// C/C++\n\tpattern = pattern.replace(/\\Wcpp:/, ';*.C;*.H;*.cc;*.cpp;*.cxx;*.h;*.hh;*.hpp');\n\tpattern = pattern.replace(/\\Wcc:/, ';*.H;*.c;*.h');\n\tpattern = pattern.replace(/\\Wh:/, ';*.h;*.hpp');\n\t// JavaScript\n\tpattern = pattern.replace(/\\Wjs:/, ';*.js;*.jsx;*.vue');\n\t// \u305d\u306e\u4ed6\n\t// ...\n\n\tpattern = pattern.substring(1); // ';'\u3092\u53d6\u308a\u9664\u304f\n\t//PPx.Echo(pattern);\n\n\tvar m = pattern.match(/\\w+:/);\n\tif (m) {\n\t\tPPx.Echo('\u672a\u5b9f\u88c5\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30bf\u30fc\u30f3\u304c\u3042\u308a\u307e\u3059\\n>' + pattern.substring(m.index, m.lastIndex));\n\t}\n\n\treturn pattern;\n}\n\n// \u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u30aa\u30ea\u30b8\u30ca\u30eb\u3078\u7f6e\u63db\u3059\u308b\nfunction sepReplaceInternal(str, sepstr, restr, origname) {\n\tvar m2 = sepstr.match(/\"[^\\\"]*\"/);\n\tif (!m2) return str;\n\n\tvar pattern = sepstr.substring(m2.index + 1, m2.lastIndex - 1);\n\tpattern = preReplacePattern(pattern);\n\tvar patterns = pattern.split(';');\n\n\tvar origs = [];\n\tfor (var i = 0; i < patterns.length; i++) {\n\t\tif (patterns[i] != \"\") origs.push(origname +' \"' + patterns[i] + '\"');\n\t}\n\treturn str.replace(new RegExp(restr), argsJoin(origs));\n}\nfunction sepReplace(str, sepname, origname) {\n\tvar restr = sepname + ' \"[^\\\"]*\"';\n\twhile (true) {\n\t\tvar m = str.match(new RegExp(restr));\n\t\tif (!m) break;\n\n\t\tvar sepstr = str.substring(m.index, m.lastIndex);\n\t\tstr = sepReplaceInternal(str, sepstr, restr, origname);\n\t}\n\n\treturn str;\n}\n\n///\n\nvar result;\nvar arg = PPx.Arguments.item(0);\nif (arg == \"\") {\n\tresult = \"\";\n} else {\n\t// \u72ec\u81ea\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u5c55\u958b\n\targ = sepReplace(arg, '-SEPiname', '-iname');\n\targ = sepReplace(arg, '-SEPname', '-name');\n\t//PPx.Echo(arg);\n\n\tresult = arg;\n}\n\nPPx.Result = result;\n```\n\n## PPx\u8a2d\u5b9a\n\n\u3044\u3064\u3082\u306e\u3088\u3046\u306b\u5dee\u5206\u306e\u307f\u3067\u3059\u3002\n**\u203b\u81ea\u8eab\u306e\u8a2d\u5b9a\u304c\u6d88\u3048\u306a\u3044\u3088\u3046\u306b\u3001\u9069\u7528\u524d\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u308b\u304b\u3001\u8ffd\u52a0\u53d6\u308a\u8fbc\u307f\u3092\u3057\u3066\u304f\u3060\u3055\u3044**\n**\u203b\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30d1\u30b9\u306f\u81ea\u8eab\u306e\u74b0\u5883\u3078\u3068\u5408\u308f\u305b\u3066\u4e0b\u3055\u3044**\n\n```\nKC_main\t= {\t; PPc\u30e1\u30a4\u30f3\u7a93\n^F\t,\n\t*set dummy='\u30a8\u30f3\u30c8\u30ea\u3078\u306efind'\n\t*set ENTRY_FILE=%'temp'\\entryfile.tmp\n\t*set CIN_LSTFILE=%'temp'\\cin2listfile.tmp\n\t*set dummy='---\u691c\u7d22\u5185\u5bb9\u306e\u5165\u529b-------------'\n\t*set ARG=%\"xargs findx entry... [\u30aa\u30d7\u30b7\u30e7\u30f3](-SEPname:;\u533a\u5207\u308a\u3001i\u4ed8\u304d\u3067\u5927\u5c0f\u7121\u8996)\"%{-SEPiname \"%|*%|\"%}\n\t*set EXTRACT_ARG=%*script(%0\\script\\findargparser.js, %'ARG')\n\t*set dummy='---\u30b3\u30de\u30f3\u30c9\u5185\u5bb9---------------'\n\t*set OPT=\\( -type d \\( -name .git -o -name .svn \\) -prune \\( -wholename .git -wholename .svn \\) -o -type f \\)\n\t*set CMD_BAK=xargs -P4 -I'{}' find {} %'OPT' %'EXTRACT_ARG'\n\t*set CMD=findx - %'OPT' %'EXTRACT_ARG'\n\t*set dummy='---\u5b9f\u884c-----------------------'\n\t*script %0\\script\\entry2file.js, %'ENTRY_FILE'\n\t%Obsq cat %'ENTRY_FILE' | nkf -Lu -w | %'CMD' | ruby %0\\script\\shell\\tolistfile.rb ';MySearch=xargs findx entry... %'ARG'' | nkf -Lw -s > %'CIN_LSTFILE'\n\t*jumppath %'CIN_LSTFILE'\n}\n```\n\nListFile\u306e\u300c;MySearch ...\u300d\u3068\u3044\u3046\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u5f8c\u306e\u8a18\u4e8b\u3067\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n# \u307e\u3068\u3081\n\n\u6a19\u6e96\u306ewhere is\u3067\u7269\u8db3\u308a\u306a\u3044\u65b9\u306f\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002\n", "tags": ["PPx", "Linux"]}