{"context": " More than 1 year has passed since last update.systemd\u306eunit\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u3044\u3066\u305f\u306e\u3067\u3059\u304c\u3001\u3069\u3046\u306b\u3082\u3046\u307e\u304f\u52d5\u304b\u306a\u3044\u3002\n\n/etc/systemd/system/consul-template.service\n[Unit]\nDescription=consul-template\nAfter=consul.service haproxy.service\n\n[Service]\nExecStart=/usr/local/bin/consul-template -consul=127.0.0.1:8500 -template=/etc/haproxy/haproxy.cfg.ctmpl:/etc/haproxy/haproxy.cfg:\"/bin/systemctl reload haproxy.service\"\nKillMode=process\nType=simple\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n\n\n\u30ed\u30b0\u3092\u898b\u308b\u3068\u3069\u3046\u3082\u5f8c\u534a\u306ehaproxy\u306ereload\u306e\u3042\u305f\u308a\u3067\u30b3\u30de\u30f3\u30c9\u304c\u3076\u3063\u305f\u5207\u3089\u308c\u3066\u3044\u308b\u6a21\u69d8\u3002\nJun 15 18:09:51 hogehoge systemd[1]: Starting consul-template...\nJun 15 18:09:51 hogehoge systemd[1]: Started consul-template.\nJun 15 18:09:51 hogehoge consul-template[19818]: Consul Template returned errors:\nJun 15 18:09:51 hogehoge consul-template[19818]: cli: extra argument(s): [\"reload\" \"haproxy.service\\\"\"]\nJun 15 18:09:51 hogehoge systemd[1]: consul-template.service: main process exited, code=exited, status=14/n/a\nJun 15 18:09:51 hogehoge systemd[1]: Unit consul-template.service entered failed state.\n\n\u30b9\u30da\u30fc\u30b9\u306e\u524d\u306b\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5\u5165\u308c\u305f\u3089\u3046\u307e\u304f\u52d5\u304d\u307e\u3057\u305f\u3002\n\n/etc/systemd/system/consul-template.service\n[Unit]\nDescription=consul-template\nAfter=consul.service haproxy.service\n\n[Service]\nExecStart=/usr/local/bin/consul-template -consul=127.0.0.1:8500 -template=/etc/haproxy/haproxy.cfg.ctmpl:/etc/haproxy/haproxy.cfg:\"/bin/systemctl\\ reload\\ haproxy.service\"\nKillMode=process\nType=simple\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n\n\nsystemd\u306eunit\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u3044\u3066\u305f\u306e\u3067\u3059\u304c\u3001\u3069\u3046\u306b\u3082\u3046\u307e\u304f\u52d5\u304b\u306a\u3044\u3002\n\n``` /etc/systemd/system/consul-template.service\n[Unit]\nDescription=consul-template\nAfter=consul.service haproxy.service\n\n[Service]\nExecStart=/usr/local/bin/consul-template -consul=127.0.0.1:8500 -template=/etc/haproxy/haproxy.cfg.ctmpl:/etc/haproxy/haproxy.cfg:\"/bin/systemctl reload haproxy.service\"\nKillMode=process\nType=simple\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n```\n\n\u30ed\u30b0\u3092\u898b\u308b\u3068\u3069\u3046\u3082\u5f8c\u534a\u306ehaproxy\u306ereload\u306e\u3042\u305f\u308a\u3067\u30b3\u30de\u30f3\u30c9\u304c\u3076\u3063\u305f\u5207\u3089\u308c\u3066\u3044\u308b\u6a21\u69d8\u3002\n\n```\nJun 15 18:09:51 hogehoge systemd[1]: Starting consul-template...\nJun 15 18:09:51 hogehoge systemd[1]: Started consul-template.\nJun 15 18:09:51 hogehoge consul-template[19818]: Consul Template returned errors:\nJun 15 18:09:51 hogehoge consul-template[19818]: cli: extra argument(s): [\"reload\" \"haproxy.service\\\"\"]\nJun 15 18:09:51 hogehoge systemd[1]: consul-template.service: main process exited, code=exited, status=14/n/a\nJun 15 18:09:51 hogehoge systemd[1]: Unit consul-template.service entered failed state.\n```\n\n\u30b9\u30da\u30fc\u30b9\u306e\u524d\u306b\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5\u5165\u308c\u305f\u3089\u3046\u307e\u304f\u52d5\u304d\u307e\u3057\u305f\u3002\n\n``` /etc/systemd/system/consul-template.service\n[Unit]\nDescription=consul-template\nAfter=consul.service haproxy.service\n\n[Service]\nExecStart=/usr/local/bin/consul-template -consul=127.0.0.1:8500 -template=/etc/haproxy/haproxy.cfg.ctmpl:/etc/haproxy/haproxy.cfg:\"/bin/systemctl\\ reload\\ haproxy.service\"\nKillMode=process\nType=simple\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n```\n", "tags": ["systemd"]}