{"context": " More than 1 year has passed since last update.Groovy\u3067\u3001\u6708\u66dc\u65e5\u304b\u3089\u59cb\u307e\u308b\u5834\u5408\u3084\u3001\u65e5\u66dc\u65e5\u304b\u3089\u59cb\u307e\u308b\u5834\u5408\u306a\u3069\u306b\u5bfe\u5fdc\u3057\u305f\u30ab\u30ec\u30f3\u30c0\u30fc\u751f\u6210\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u3053\u306e\u6295\u7a3f\u306b\u89e6\u767a\u3055\u308c\u305f\u3093\u3067\u3059\u304c\u3001\u7d20\u306eGroovy\u3067\u66f8\u304f\u3068\u7d50\u69cb\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u3082\u3063\u3068\u826f\u3044\u65b9\u6cd5\u3042\u308b\u3093\u3060\u308d\u3046\u306a\u30fb\u30fb\u30fb\n\nreal_calendar.groovy\nclass OneMonthCalendar {\n\n    def beginningOfWeek = \"Sun\"\n    def year = new Date().year + 1900\n    def month = new Date().month + 1\n    def weekSequence = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n\n    def List<Date> getCalendar() {\n\n        // Java\u306f\u65e5\u66dc\u65e5\u30920\u3068\u3057\u30666\u307e\u3067\u306e\u6570\u5024\u3092\u8fd4\u3057\u3066\u304f\u308b\u3002\n        // \u305d\u308c\u306b\u5bfe\u5fdc\u3059\u308b\u9031\u306e\u9805\u76ee\n        def week = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n\n        // \u8868\u793a\u3059\u308b\u9031\u306e\u9806\u756a\u306e\u6307\u5b9a\u3002\n        weekSequence = week.drop(week.indexOf(beginningOfWeek)) + week.take(week.indexOf(beginningOfWeek))\n\n        // \u57fa\u672c\u3068\u306a\u308b\u5e74\u6708\n        def baseDate = new Date(\"$year/$month/1\")\n        // Date\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u672b\u65e5\u3092\u6c42\u3081\u308b\n        def getLastDay = {Date date -> date.toCalendar().getActualMaximum(Calendar.DATE)}\n\n        def thisMonth= (1..getLastDay(baseDate)).step(1).collect{new Date(\"$year/$month/$it\")}\n        def daysRequiredLastMonth = weekSequence.indexOf(week[thisMonth.head().day])\n        def lastMonth = (0 ..< daysRequiredLastMonth).collect{ thisMonth.head() - (it+1) }.reverse()\n\n        // \u65e2\u306b\u4e00\u30f6\u6708\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u3068\u3057\u3066\u30d5\u30eb\u306e\u5834\u5408\n        if((lastMonth + thisMonth).size() % 7 == 0) {\n            lastMonth + thisMonth\n        } else {\n            def daysRequiredNextMonth = 7 - ((lastMonth + thisMonth).size() % 7)\n            def nextMonth = (0 ..< daysRequiredNextMonth).collect{ thisMonth.last() + (it+1) }\n            lastMonth + thisMonth + nextMonth\n        }\n    }\n}\n\n// \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u751f\u6210\ndef calendar = new OneMonthCalendar(year:2013, month:2, beginningOfWeek:\"Sun\")\n// \u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u751f\u6210&\u53d6\u5f97\uff01\ndef result = calendar.getCalendar()\n\n\n/**********************************************************\n * \u4ee5\u964d\u306f\u8868\u793a\u3059\u308b\u969b\u306b\u3069\u3046\u3059\u308b\u304b\u306a\u306e\u3067\u3001\u30b1\u30fc\u30b9\u30d0\u30a4\u30b1\u30fc\u30b9\u3067\u305d\u308c\u306a\u308a\u306b\u3002\n *********************************************************/\n\n// List\u306e\u4e2d\u8eab\u306fDate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u9069\u5f53\u306b\u307b\u3057\u3044\u5024\u306b\u5909\u63db\nperfectOne = result.collect{\"${(it.date).toString().padLeft(2,'0')}\"}\n\n// \u3068\u308a\u3042\u3048\u305a\u9031\u306e\u60c5\u5831\u3092\u8868\u793a\u3057\u3066\u307f\u308b\nprintln \"${calendar.year}/${calendar.month}\".center(35)\ncalendar.weekSequence.each{print it.center(5, \" \")}\nprintln \"\"\n\n// list(1\u304b\u6708\u5206\u306eDate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08\u30ab\u30ec\u30f3\u30c0\u30fc\uff09)\u30921\u9031\u9593\u3054\u3068\u306b\u5206\u3051\u308b\u30af\u30ed\u30fc\u30b8\u30e3\n// \u672c\u5f53\u306f\u672b\u5c3e\u518d\u5e30\u3092\u6700\u9069\u5316\u3059\u308b\u3088\u3046\u306btrampoline\u3092\u4f7f\u3063\u3066\u65b9\u304c\u826f\u3044\u3051\u3069\u3001\n// \u4eca\u56de\u306f5\u56de\u3060\u3051\u306e\u518d\u5e30\u3068\u5206\u304b\u308a\u304d\u3063\u3066\u3044\u308b\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u7121\u8996\n// \u3055\u3089\u306b\u8a00\u3046\u3068trampoline\u306e\u4f7f\u3044\u65b9\u3092\u826f\u304f\u77e5\u3089\u306a\u3044\u306e\u3067\u5225\u9014\u8abf\u3079\u308b\uff01\ndef spliter = { List list ->\n    !list ? [] : [list.take(7)] + call(list.drop(7))\n}\n\n// \u7528\u610f\u3057\u305f\u30af\u30ed\u30fc\u30b8\u30e3\u3067\u4e00\u9031\u9593\u5f8c\u3068\u306b\u5206\u3051\u3089\u308c\u305flist\u3092\u8868\u793a\u3002\nspliter(perfectOne).each{ weeks ->\n    weeks.each{ week ->\n        print week.center(5, \" \")\n    }\n    println \"\"\n}\n\n\n2013\u5e7412\u6708\u3067\u65e5\u66dc\u65e5\u304b\u3089\u59cb\u307e\u308b\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u51fa\u529b\u3057\u305f\u7d50\u679c\nnew OneMonthCalendar(year:2013, month:12, beginningOfWeek:\"Sun\")\n              2013/12              \n Sun  Mon  Tue  Wed  Thu  Fri  Sat \n 01   02   03   04   05   06   07  \n 08   09   10   11   12   13   14  \n 15   16   17   18   19   20   21  \n 22   23   24   25   26   27   28  \n 29   30   31   01   02   03   04 \n\n2013\u5e7412\u6708\u3067\u6708\u66dc\u65e5\u304b\u3089\u59cb\u307e\u308b\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u51fa\u529b\u3057\u305f\u7d50\u679c\nnew OneMonthCalendar(year:2013, month:12, beginningOfWeek:\"Mon\")\n              2013/12              \n Mon  Tue  Wed  Thu  Fri  Sat  Sun \n 25   26   27   28   29   30   01  \n 02   03   04   05   06   07   08  \n 09   10   11   12   13   14   15  \n 16   17   18   19   20   21   22  \n 23   24   25   26   27   28   29  \n 30   31   01   02   03   04   05 \n\nGroovy\u3067\u3001\u6708\u66dc\u65e5\u304b\u3089\u59cb\u307e\u308b\u5834\u5408\u3084\u3001\u65e5\u66dc\u65e5\u304b\u3089\u59cb\u307e\u308b\u5834\u5408\u306a\u3069\u306b\u5bfe\u5fdc\u3057\u305f\u30ab\u30ec\u30f3\u30c0\u30fc\u751f\u6210\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n[\u3053\u306e\u6295\u7a3f](http://qiita.com/kony/items/85f9ca794411a830ad93)\u306b\u89e6\u767a\u3055\u308c\u305f\u3093\u3067\u3059\u304c\u3001\u7d20\u306eGroovy\u3067\u66f8\u304f\u3068\u7d50\u69cb\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u3082\u3063\u3068\u826f\u3044\u65b9\u6cd5\u3042\u308b\u3093\u3060\u308d\u3046\u306a\u30fb\u30fb\u30fb\n\n```groovy:real_calendar.groovy\nclass OneMonthCalendar {\n\n    def beginningOfWeek = \"Sun\"\n    def year = new Date().year + 1900\n    def month = new Date().month + 1\n    def weekSequence = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n    \n    def List<Date> getCalendar() {\n\n        // Java\u306f\u65e5\u66dc\u65e5\u30920\u3068\u3057\u30666\u307e\u3067\u306e\u6570\u5024\u3092\u8fd4\u3057\u3066\u304f\u308b\u3002\n        // \u305d\u308c\u306b\u5bfe\u5fdc\u3059\u308b\u9031\u306e\u9805\u76ee\n        def week = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n    \n        // \u8868\u793a\u3059\u308b\u9031\u306e\u9806\u756a\u306e\u6307\u5b9a\u3002\n        weekSequence = week.drop(week.indexOf(beginningOfWeek)) + week.take(week.indexOf(beginningOfWeek))\n\n        // \u57fa\u672c\u3068\u306a\u308b\u5e74\u6708\n        def baseDate = new Date(\"$year/$month/1\")\n        // Date\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u672b\u65e5\u3092\u6c42\u3081\u308b\n        def getLastDay = {Date date -> date.toCalendar().getActualMaximum(Calendar.DATE)}\n\n        def thisMonth= (1..getLastDay(baseDate)).step(1).collect{new Date(\"$year/$month/$it\")}\n        def daysRequiredLastMonth = weekSequence.indexOf(week[thisMonth.head().day])\n        def lastMonth = (0 ..< daysRequiredLastMonth).collect{ thisMonth.head() - (it+1) }.reverse()\n        \n        // \u65e2\u306b\u4e00\u30f6\u6708\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u3068\u3057\u3066\u30d5\u30eb\u306e\u5834\u5408\n        if((lastMonth + thisMonth).size() % 7 == 0) {\n            lastMonth + thisMonth\n        } else {\n            def daysRequiredNextMonth = 7 - ((lastMonth + thisMonth).size() % 7)\n            def nextMonth = (0 ..< daysRequiredNextMonth).collect{ thisMonth.last() + (it+1) }\n            lastMonth + thisMonth + nextMonth\n        }\n    }\n}\n\n// \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u751f\u6210\ndef calendar = new OneMonthCalendar(year:2013, month:2, beginningOfWeek:\"Sun\")\n// \u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u751f\u6210&\u53d6\u5f97\uff01\ndef result = calendar.getCalendar()\n\n\n/**********************************************************\n * \u4ee5\u964d\u306f\u8868\u793a\u3059\u308b\u969b\u306b\u3069\u3046\u3059\u308b\u304b\u306a\u306e\u3067\u3001\u30b1\u30fc\u30b9\u30d0\u30a4\u30b1\u30fc\u30b9\u3067\u305d\u308c\u306a\u308a\u306b\u3002\n *********************************************************/\n \n// List\u306e\u4e2d\u8eab\u306fDate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u9069\u5f53\u306b\u307b\u3057\u3044\u5024\u306b\u5909\u63db\nperfectOne = result.collect{\"${(it.date).toString().padLeft(2,'0')}\"}\n\n// \u3068\u308a\u3042\u3048\u305a\u9031\u306e\u60c5\u5831\u3092\u8868\u793a\u3057\u3066\u307f\u308b\nprintln \"${calendar.year}/${calendar.month}\".center(35)\ncalendar.weekSequence.each{print it.center(5, \" \")}\nprintln \"\"\n\n// list(1\u304b\u6708\u5206\u306eDate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08\u30ab\u30ec\u30f3\u30c0\u30fc\uff09)\u30921\u9031\u9593\u3054\u3068\u306b\u5206\u3051\u308b\u30af\u30ed\u30fc\u30b8\u30e3\n// \u672c\u5f53\u306f\u672b\u5c3e\u518d\u5e30\u3092\u6700\u9069\u5316\u3059\u308b\u3088\u3046\u306btrampoline\u3092\u4f7f\u3063\u3066\u65b9\u304c\u826f\u3044\u3051\u3069\u3001\n// \u4eca\u56de\u306f5\u56de\u3060\u3051\u306e\u518d\u5e30\u3068\u5206\u304b\u308a\u304d\u3063\u3066\u3044\u308b\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u7121\u8996\n// \u3055\u3089\u306b\u8a00\u3046\u3068trampoline\u306e\u4f7f\u3044\u65b9\u3092\u826f\u304f\u77e5\u3089\u306a\u3044\u306e\u3067\u5225\u9014\u8abf\u3079\u308b\uff01\ndef spliter = { List list ->\n    !list ? [] : [list.take(7)] + call(list.drop(7))\n}\n\n// \u7528\u610f\u3057\u305f\u30af\u30ed\u30fc\u30b8\u30e3\u3067\u4e00\u9031\u9593\u5f8c\u3068\u306b\u5206\u3051\u3089\u308c\u305flist\u3092\u8868\u793a\u3002\nspliter(perfectOne).each{ weeks ->\n    weeks.each{ week ->\n        print week.center(5, \" \")\n    }\n    println \"\"\n}\n```\n\n2013\u5e7412\u6708\u3067\u65e5\u66dc\u65e5\u304b\u3089\u59cb\u307e\u308b\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u51fa\u529b\u3057\u305f\u7d50\u679c\n`new OneMonthCalendar(year:2013, month:12, beginningOfWeek:\"Sun\")`\n\n```\n              2013/12              \n Sun  Mon  Tue  Wed  Thu  Fri  Sat \n 01   02   03   04   05   06   07  \n 08   09   10   11   12   13   14  \n 15   16   17   18   19   20   21  \n 22   23   24   25   26   27   28  \n 29   30   31   01   02   03   04 \n```\n\n2013\u5e7412\u6708\u3067\u6708\u66dc\u65e5\u304b\u3089\u59cb\u307e\u308b\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u51fa\u529b\u3057\u305f\u7d50\u679c\n`new OneMonthCalendar(year:2013, month:12, beginningOfWeek:\"Mon\")`\n\n```\n              2013/12              \n Mon  Tue  Wed  Thu  Fri  Sat  Sun \n 25   26   27   28   29   30   01  \n 02   03   04   05   06   07   08  \n 09   10   11   12   13   14   15  \n 16   17   18   19   20   21   22  \n 23   24   25   26   27   28   29  \n 30   31   01   02   03   04   05 \n```", "tags": ["Groovy2.1.4"]}