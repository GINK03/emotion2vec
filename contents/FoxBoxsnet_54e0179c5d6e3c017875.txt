{"context": "\n\nRancher Meetup #2\n\u53c2\u52a0\u3057\u307e\u3059!\n\u307e\u3060\u5e2d\u306b\u4f59\u88d5\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u3069\u3046\u305e\u30fc\uff01\nRancher Meetup Tokyo #2 - connpass\n\n\u524d\u66f8\u304d\n\u3084\u3063\u3068\u91cd\u3044\u8170\u3092\u4e0a\u3052\u3066 Elasticsearch 5.0\u3092\u4f7f\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u305f\u306e\u3067 docker run \u3057\u305f\u3089\nmax file descriptors [4096] for elasticsearch process is too low, increase to at least [65536]\n\n\n\u666e\u6bb5\u306a\u3089\nRancherOS \u3092\u518d\u69cb\u6210\u3067\u3059\u306d...\n$ sudo ros install -d /dev/sda -c cloud-config.yml\n\n\n\u4eca\u56de\n$ sudo vim cloud-config.yml\n#cloud-config\nrancher:\n  sysctl:\n    vm.max_map_count: 262144\n\n$ sudo cp cloud-config.yml /var/lib/rancher/conf/cloud-config.d/user_config.yml\n$ sudo reboot\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u5909\u66f4\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u53c2\u8003\nsysctl Settings in RancherOS\n# Rancher Meetup #2\n\u53c2\u52a0\u3057\u307e\u3059!\n\u307e\u3060\u5e2d\u306b\u4f59\u88d5\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u3069\u3046\u305e\u30fc\uff01\n[Rancher Meetup Tokyo #2 - connpass](https://connpass.com/event/44092/ \"Rancher Meetup Tokyo #2 - connpass\")\n\n# \u524d\u66f8\u304d\n\u3084\u3063\u3068\u91cd\u3044\u8170\u3092\u4e0a\u3052\u3066 Elasticsearch 5.0\u3092\u4f7f\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u305f\u306e\u3067 `docker run` \u3057\u305f\u3089\n\n```\nmax file descriptors [4096] for elasticsearch process is too low, increase to at least [65536]\n```\n\n## \u666e\u6bb5\u306a\u3089\nRancherOS \u3092\u518d\u69cb\u6210\u3067\u3059\u306d...\n\n```shell-session\n$ sudo ros install -d /dev/sda -c cloud-config.yml\n```\n\n## \u4eca\u56de\n\n```shell-session\n$ sudo vim cloud-config.yml\n#cloud-config\nrancher:\n  sysctl:\n    vm.max_map_count: 262144\n\n$ sudo cp cloud-config.yml /var/lib/rancher/conf/cloud-config.d/user_config.yml\n$ sudo reboot\n```\n\u3053\u3093\u306a\u611f\u3058\u3067\u5909\u66f4\u3067\u304d\u307e\u3057\u305f\u3002\n\n# \u53c2\u8003\n[sysctl Settings in RancherOS](http://docs.rancher.com/os/configuration/sysctl/ \"sysctl Settings in RancherOS\")\n", "tags": ["rancher"]}