{"tags": ["golang", "reactjs", "React", "gin", "Go"], "context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nGo\u8a00\u8a9e\u3068\u8a00\u3048\u3070\u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u304c\u9b45\u529b\u306e\u4e00\u3064\u3067\u3059\u304c\u3001Web\u30b5\u30fc\u30d0\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u969b\u306eHTML/JS/CSS\u3068\u3044\u3063\u305f\u30ea\u30bd\u30fc\u30b9\u306f\u81ea\u52d5\u7684\u306b\u306f\u57cb\u3081\u8fbc\u3081\u3089\u308c\u307e\u305b\u3093\u3002\u3084\u308a\u305f\u3051\u308c\u3070\u5225\u9014\u3001go-bindata\u306a\u3069\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306b\u57cb\u3081\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4eca\u56de\u3001Go\u8a00\u8a9e\u306eGin\u3092\u4f7f\u3063\u305fWeb\u30a2\u30d7\u30ea\u306e\u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u5316\u3092\u8a66\u3057\u3066\u307f\u305f\u306e\u3067\u7c21\u5358\u306b\u7d39\u4ecb\u3059\u308b\u3002\n\u306a\u304a\u3001\u57cb\u3081\u8fbc\u3080\u30ea\u30bd\u30fc\u30b9\u3068\u306a\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306fFacebook React\u3092\u4f7f\u3063\u305f\u30a2\u30d7\u30ea\u306b\u306a\u3063\u3066\u3044\u307e\u3059(\u304a\u8a66\u3057\u306a\u306e\u3067Hello World\u3068\u8868\u793a\u3059\u308b\u3060\u3051\u3067\u3059\u304c...)\u3002React\u306e\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306f\u4eca\u56de\u306f\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001go-duktape\u3092\u4f7f\u3048\u3070Go\u8a00\u8a9e\u3067\u3082\u3067\u304d\u305d\u3046\u306a\u306e\u3067\u5225\u9014\u8a66\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4f5c\u3063\u305f\u3082\u306e\nhttps://github.com/wadahiro/gin-react-boilerplate \u306b\u3042\u308a\u307e\u3059\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u3057\u305f\u3002\n\n\nassets: \u6700\u7d42\u7684\u306bGo\u8a00\u8a9e\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306b\u57cb\u3081\u8fbc\u3080\u30ea\u30bd\u30fc\u30b9\u7fa4\u3002go-bindata\u3092\u4f7f\u3063\u3066\u3053\u3053\u304b\u3089Go\u8a00\u8a9e\u306e\u30bd\u30fc\u30b9\u3092\u751f\u6210\u3059\u308b\u3002\n\nclient: React\u3092\u4f7f\u3063\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u3002webpack\u3067\u30d3\u30eb\u30c9\u3057\u3001bundle.js\u3092\u751f\u6210\u3059\u308b\u3002bundle.js\u306fassets/js\u306b\u51fa\u529b\u3059\u308b\u3002\n\nserver: Go\u8a00\u8a9e\u3067\u66f8\u3044\u305f\u30b5\u30fc\u30d0\u30a2\u30d7\u30ea\u3002Gin\u3092\u5229\u7528\u3002\n\ndist: \u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u3092\u3059\u308b\u3068\u3053\u3053\u306b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\ngin-react-boilerplate\n\u251c\u2500assets\n\u2502  \u251c\u2500css\n\u2502  \u2502  \u2514\u2500main.css\n\u2502  \u251c\u2500index.html\n\u2502  \u2514\u2500js\n\u2502      \u2514\u2500bundle.js\n\u251c\u2500client\n\u2502  \u251c\u2500app\n\u2502  \u2502  \u2514\u2500App.jsx\n\u2502  \u251c\u2500index.jsx\n\u2502  \u2514\u2500webpack\n\u2502      \u251c\u2500webpack.base.config.js\n\u2502      \u251c\u2500webpack.config.js\n\u2502      \u251c\u2500webpack.dev.config.js\n\u2502      \u251c\u2500webpack.prod.config.js\n\u2502      \u2514\u2500webpack.server.js\n\u251c\u2500dist\n\u251c\u2500.gitignore\n\u251c\u2500package.json\n\u251c\u2500runner.conf\n\u2514\u2500server\n   \u251c\u2500controllers\n   \u2502  \u2514\u2500home.go\n   \u2514\u2500main.go\n\n\n\u88dc\u8db3\n\n\nrunner.conf: Fresh\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3002Fresh\u306fGo\u8a00\u8a9e\u306e\u30bd\u30fc\u30b9\u4fee\u6b63\u6642\u306b\u81ea\u52d5\u7684\u306b\u30b3\u30f3\u30d1\u30a4\u30eb&Web\u30b5\u30fc\u30d0\u3092\u518d\u8d77\u52d5\u3057\u3066\u304f\u308c\u308b\u3002\u958b\u767a\u6642\u306b\u306f\u3053\u308c\u3092\u4f7f\u3046\u3002\n\npackage.json: \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u5404\u7a2e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f9d\u5b58\u95a2\u4fc2\u5b9a\u7fa9\u3084\u3001npm run ...\u3067\u5b9f\u884c\u53ef\u80fd\u306a\u30bf\u30b9\u30af\u3082\u5c11\u3057\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3002\n\n.gitignore: \u30d3\u30eb\u30c9\u3067\u751f\u6210\u3055\u308c\u308b\u3082\u306e\u306f\u30bd\u30fc\u30b9\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u30b3\u30df\u30c3\u30c8\u3057\u306a\u3044\u65b9\u91dd\u3068\u3057\u3001dist\u3001bundle.js\u3001bindata.go\u306f\u9664\u5916\u5bfe\u8c61\u306b\u3057\u3066\u3044\u308b\u3002\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n\u6700\u7d42\u7684\u306bassets\u306b\u57cb\u3081\u8fbc\u307f\u305f\u3044\u30ea\u30bd\u30fc\u30b9\u3092\u7f6e\u304f\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3002client\u4ee5\u4e0b\u306b\u3042\u308bReact\u3092\u4f7f\u3063\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3064\u3044\u3066\u306f\u3001\u4eca\u56de\u306fwebpack\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067webpack\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u3057\u3066bundle.js\u3092assets/js\u306b\u751f\u6210\u3059\u308b\u3060\u3051\u3002\u7279\u306b\u6ce8\u610f\u70b9\u306f\u306a\u3057\u3002\n\n\u30b5\u30fc\u30d0\ngin + bindata\u306e\u3084\u308a\u65b9\u3092\u8abf\u3079\u305f\u306e\u3067\u305d\u3053\u3092\u30e1\u30a4\u30f3\u306b\u7d39\u4ecb\u3002\n\u6700\u521d\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002Web\u30b5\u30fc\u30d0\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u6271\u3046\u305f\u3081\u3001http.FileSystem\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30bd\u30fc\u30b9\u3092\u751f\u6210\u3057\u3066\u304f\u308c\u308bgo-bindata-assetfs\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\ngo get -u github.com/gin-gonic/gin\ngo get -u github.com/jteeuwen/go-bindata/...\ngo get -u github.com/elazarl/go-bindata-assetfs/...\n\n\u57cb\u3081\u8fbc\u3080\u30ea\u30bd\u30fc\u30b9\u30d5\u30a9\u30eb\u30c0\u3092\u6307\u5b9a\u3057\u3066go-bindata-assetfs\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\u3053\u308c\u3067bindata_assetfs.go\u304c\u751f\u6210\u3055\u308c\u308b\u3002\u307e\u305f\u3001-o\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u751f\u6210\u5148\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002\ngo-bindata-assetfs -o ./server/bindata_assetfs.go assets/...\n\n\u751f\u6210\u3055\u308c\u305fbindata_assetfs.go\u3092\u4f7f\u3044\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3053\u3068\u3067\u3001\u57cb\u3081\u8fbc\u3093\u3060\u30ea\u30bd\u30fc\u30b9\u3092HTTP\u3067\u8fd4\u3059\u3088\u3046\u306b\u3067\u304d\u308b\u3002Gin\u306eStaticFS\u30e1\u30bd\u30c3\u30c9\u3068bindata_assetfs.go\u306eassetFS()\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3060\u3051\u3068\u7c21\u5358\u3002\n\nmain.go\npackage main\n\nimport (\n    \"github.com/gin-gonic/gin\"\n)\n\nfunc main() {\n    r := gin.Default()\n\n    r.StaticFS(\"/assets\", assetFS())\n\n    r.Run()\n}\n\n\n\u751f\u6210\u3057\u305fbindata_assetfs.go\u3068main.go\u3092go run\u3067\u30d3\u30eb\u30c9&\u5b9f\u884c\u3059\u308b\u3002\n$ go run server/bindata_asssetfs.go server/main.go\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /assets/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)\n[GIN-debug] HEAD   /assets/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n\ncurl\u3067\u53e9\u304f\u3068\u57cb\u3081\u8fbc\u3093\u3060index.html\u304c\u3061\u3083\u3093\u3068\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002\n$ curl http://localhost:8080/assets/\n<!doctype html>\n<html lang=\"ja\">\n    <head>\n        <meta charset=\"utf-8\">\n        <title></title>\n        <link rel=\"stylesheet\" href=\"./css/main.css\">\n    </head>\n    <body>\n        <div id=\"app\"></div>\n\n        <script src=\"js/bundle.js\"></script>\n    </body>\n</html>\n\n\u7c21\u5358\u3067\u3059\u306d\uff01\uff01 \u3068\u8a00\u3044\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3001\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u3092/\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u5834\u5408\u306b\u6b8b\u5ff5\u306a\u304c\u3089\u56f0\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b/\u306b\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u3001/api/home\u306bJSON\u3092\u8fd4\u3059\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u305f\u3068\u3059\u308b\u3068\u3001\u3001\u3001\n\nmain.go\npackage main\n\nimport (\n    \"github.com/gin-gonic/gin\"\n)\n\nfunc main() {\n    r := gin.Default()\n\n    r.StaticFS(\"/\", assetFS())\n\n    r.GET(\"/api/home\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"home\",\n        })\n    })\n\n    r.Run()\n}\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u901a\u308b\u3051\u3069\u5b9f\u884c\u6642\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306aconflicts\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n$ go run server/bindata_assetfs.go server/main.go\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /*filepath                --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)\n[GIN-debug] HEAD   /*filepath                --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)\n[GIN-debug] GET    /api/home                 --> main.main.func1 (3 handlers)\npanic: path segment '/api/home' conflicts with existing wildcard '/*filepath' in path '/api/home'\n...\n\nGin\u306eIssue\u3092\u6f01\u308b\u3068 Inability to use '/' for static files \u3092\u767a\u898b\u3002\u3053\u3053\u3092\u898b\u308b\u3068\u3001static middleware\u3092\u4f7f\u3048\u3070\u826f\u3055\u305d\u3046\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067static middleware\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\ngo get github.com/gin-gonic/contrib/static\n\nstatic middleware + go-bindata\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u53c2\u8003\u306b\u3057\u3066\u3001main.go\u3092\u66f8\u304d\u63db\u3048\u308b\u3002\u6b8b\u5ff5\u306a\u304c\u3089\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u5408\u308f\u305b\u308b\u305f\u3081\u306b\u3061\u3087\u3063\u3068\u8907\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\u306a\u304a\u3001static middleware + go-bindata\u306e\u30b5\u30f3\u30d7\u30eb\u305d\u306e\u307e\u307e\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u3089\u306a\u3044\u306e\u3067\u6ce8\u610f\u3002assetfs.AssetFS\u306bAssetInfo\u3082\u6e21\u3055\u306a\u3044\u3068\u99c4\u76ee\u3067\u3059\u3002\n\nmain.go\npackage main\n\nimport (\n    \"net/http\"\n    \"strings\"\n\n    \"github.com/elazarl/go-bindata-assetfs\"\n    \"github.com/gin-gonic/contrib/static\"\n    \"github.com/gin-gonic/gin\"\n)\n\ntype binaryFileSystem struct {\n    fs http.FileSystem\n}\n\nfunc (b *binaryFileSystem) Open(name string) (http.File, error) {\n    return b.fs.Open(name)\n}\n\nfunc (b *binaryFileSystem) Exists(prefix string, filepath string) bool {\n    if p := strings.TrimPrefix(filepath, prefix); len(p) < len(filepath) {\n        if _, err := b.fs.Open(p); err != nil {\n            return false\n        }\n        return true\n    }\n    return false\n}\n\nfunc BinaryFileSystem(root string) *binaryFileSystem {\n    fs := &assetfs.AssetFS{Asset, AssetDir, AssetInfo, root}\n    return &binaryFileSystem{\n        fs,\n    }\n}\n\nfunc main() {\n    r := gin.Default()\n\n    r.Use(static.Serve(\"/\", BinaryFileSystem(\"assets\")))\n\n    r.GET(\"/api/home\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"Hello World\",\n        })\n    })\n\n    r.Run()\n}\n\n\n\u307e\u305f\u3001bindata\u306fgo-bindata\u3092\u4f7f\u3063\u3066\u751f\u6210\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\ngo-bindata -o ./server/bindata.go assets/...\n\n\u3053\u308c\u3067/\u306bassets\u914d\u4e0b\u306e\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u3092\u5272\u308a\u5f53\u3066\u3064\u3064\u3001/api/home\u306e\u51e6\u7406\u3082\u5b9f\u88c5\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002go run\u3059\u308b\u3068\u4eca\u5ea6\u306f\u8d77\u52d5\u6210\u529f\u3059\u308b(bindata_assetfs.go\u306f\u3082\u3046\u4e0d\u8981\u306a\u306e\u3067\u6d88\u3057\u3066\u304a\u304f)\u3002\n$ go run server/bindata.go server/main.go\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /api/home                 --> main.main.func1 (4 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n\ncurl\u3067/\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u57cb\u3081\u8fbc\u3093\u3060index.html\u304c\u3061\u3083\u3093\u3068\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002\n$ curl http://localhost:8080/\n<!doctype html>\n<html lang=\"ja\">\n    <head>\n        <meta charset=\"utf-8\">\n        <title></title>\n        <link rel=\"stylesheet\" href=\"./css/main.css\">\n    </head>\n    <body>\n        <div id=\"app\"></div>\n\n        <script src=\"js/bundle.js\"></script>\n    </body>\n</html>\n\nGo\u8a00\u8a9e\u3067\u5b9f\u88c5\u3057\u305fREST API\u3082OK\u3002\n$ curl http://localhost:8080/api/home\n{\"message\":\"Hello World\"}\n\n\n\u958b\u767a\u30e2\u30fc\u30c9\u3067\u52b9\u7387\u5316\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u306e\u958b\u767a\u30e2\u30fc\u30c9\nclient\u4ee5\u4e0b\u306eReact\u3067\u4f5c\u3063\u3066\u3044\u308b\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u3001webpack\u30b3\u30de\u30f3\u30c9\u3092watch\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u30bd\u30fc\u30b9\u306e\u5909\u66f4\u6642\u306b\u81ea\u52d5\u7684\u306b\u30d3\u30eb\u30c9\u3057\u3066assets/js/bundle.js\u306b\u53cd\u6620\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002npm run dev\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306bpackage.json\u306b\u30bf\u30b9\u30af\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3053\u308c\u3092\u53e9\u3044\u3066\u30d3\u30eb\u30c9\u3059\u308b\u3002\n$ npm run dev\n\n> golang-web-boilerplate@0.1.0 dev c:\\Users\\wadahiro\\src\\github.com\\wadahiro\\gin-react-boilerplate\n> webpack -w --config ./client/webpack/webpack.config.js\n\nNODE_ENV: undefined\nHash: a307cf2e4d362646c0a4\nVersion: webpack 1.12.12\nTime: 1867ms\n    Asset    Size  Chunks             Chunk Names\nbundle.js  851 kB       0  [emitted]  main\n   [0] multi main 28 bytes {0} [built]\n    + 350 hidden modules\n\n\u3053\u308c\u3067client\u4ee5\u4e0b\u306e\u30bd\u30fc\u30b9\u306b\u624b\u3092\u5165\u308c\u305f\u969b\u306fwebpack\u304c\u81ea\u52d5\u7684\u306bassets/js/bundle.js\u3092\u30d3\u30eb\u30c9\u3057\u3066\u304f\u308c\u308b\u3002\n\nbindata\u306e\u751f\u6210\ngo-bindata -o ./server/bindata.go assets/...\u3067\u751f\u6210\u3057\u305fbindata.go\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u30bd\u30fc\u30b9\u4fee\u6b63\u306e\u305f\u3073\u306bgo-bindata\u306e\u518d\u5b9f\u884c\u304c\u5fc5\u8981\u306b\u306a\u308b\u3002\u3053\u308c\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u304cgo-bindata\u306b\u3042\u308b\u3002\u4f7f\u3044\u65b9\u306f\u7c21\u5358\u3067\u3001-debug\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u3066\u5b9f\u884c\u3057\u3066\u30bd\u30fc\u30b9\u3092\u751f\u6210\u3059\u308b\u3060\u3051\u3002\ngo-bindata -debug -o ./server/bindata.go assets/...\n\n\u305d\u3046\u3059\u308b\u3068\u3001\u751f\u6210\u3055\u308c\u308bbindata.go\u306b\u306f\u30ea\u30bd\u30fc\u30b9\u306f\u76f4\u63a5\u57cb\u3081\u8fbc\u307e\u308c\u305a\u3001assets\u4ee5\u4e0b\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u90fd\u5ea6\u8aad\u3080\u3088\u3046\u306a\u5b9f\u88c5\u3068\u306a\u308b\u3002\u958b\u767a\u6642\u306f\u3053\u306e\u30bd\u30fc\u30b9\u3092\u7d44\u307f\u8fbc\u3093\u3067Web\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3059\u308c\u3070OK\u3002\u3053\u308c\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u5909\u66f4\u3055\u308c\u3066\u3082\u3059\u3050\u306b\u53cd\u6620\u3055\u308c\u308b\u3002\n\n\u30b5\u30fc\u30d0\u30a2\u30d7\u30ea\u306e\u958b\u767a\u30e2\u30fc\u30c9\n\u5192\u982d\u3067\u5c11\u3057\u7d39\u4ecb\u3057\u305fFresh\u3092\u4f7f\u3046\u3002\u5148\u7a0b\u306fgo run\u3067Web\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u3066\u3044\u305f\u304c\u3001\u4ee3\u308f\u308a\u306bfresh\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u3002runner.conf\u306b\u9069\u5207\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308c\u3070\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306bfresh\u30b3\u30de\u30f3\u30c9\u3060\u3051\u3067\u8d77\u52d5\u3059\u308b\u3002\n$ fresh\nLoading settings from ./runner.conf\n13:21:19 runner      | InitFolders\n13:21:19 runner      | mkdir ./tmp\n13:21:19 runner      | mkdir ./tmp: Cannot create a file when that file already exists.\n13:21:19 watcher     | Watching ./server\n13:21:19 watcher     | Watching server\\controllers\n13:21:19 main        | Waiting (loop 1)...\n13:21:19 main        | receiving first event /\n13:21:19 main        | sleeping for 600 milliseconds\n13:21:19 main        | flushing events\n13:21:19 main        | Started! (12 Goroutines)\n13:21:19 main        | remove tmp\\runner-build-errors.log: The system cannot find the file specified.\n13:21:19 build       | Building...\n13:21:22 runner      | Running...\n13:21:22 main        | --------------------\n13:21:22 main        | Waiting (loop 2)...\n13:21:22 app         | [GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n13:21:22 app         | [GIN-debug] GET    /api/home                 --> main.main.func1 (4 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n\n\u8a66\u3057\u306bGo\u8a00\u8a9e\u306e\u30bd\u30fc\u30b9\u3092\u4fee\u6b63\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u81ea\u52d5\u7684\u306b\u691c\u77e5\u3057\u3066\u518d\u8d77\u52d5\u304c\u884c\u308f\u308c\u308b\u3002\n13:22:08 watcher     | sending event \"server\\\\controllers\\\\home.go\": MODIFY\n13:22:08 watcher     | sending event \"server\\\\controllers\\\\home.go\": MODIFY\n13:22:08 main        | receiving first event \"server\\\\controllers\\\\home.go\": MODIFY\n13:22:08 main        | sleeping for 600 milliseconds\n13:22:09 main        | flushing events\n13:22:09 main        | receiving event \"server\\\\controllers\\\\home.go\": MODIFY\n13:22:09 main        | Started! (15 Goroutines)\n13:22:09 main        | remove tmp\\runner-build-errors.log: The system cannot find the file specified.\n13:22:09 build       | Building...\n13:22:11 runner      | Running...\n13:22:11 runner      | Killing PID 7532\n13:22:12 main        | --------------------\n13:22:12 main        | Waiting (loop 3)...\n13:22:12 app         | [GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n13:22:12 app         | [GIN-debug] GET    /api/home                 --> main.main.func1 (4 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30b5\u30fc\u30d0\u5074\u306e\u958b\u767a\u30e2\u30fc\u30c9\u3092\u307e\u3068\u3081\u3066\u5b9f\u884c\u3057\u305f\u3051\u308c\u3070\u3001\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308c\u3070\u826f\u3044\u3002\nnpm run dev & fresh\n\n\n\u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\n\u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u306e\u6642\u306b\u306f\u3001\u4eca\u5ea6\u306fgo-bindata\u3092-debug\u30aa\u30d7\u30b7\u30e7\u30f3\u306a\u3057\u3067\u5b9f\u884c\u3057\u3066\u30bd\u30fc\u30b9\u3092\u751f\u6210\u3057\u3001\u305d\u308c\u3092\u7d44\u307f\u8fbc\u3093\u3067\u30d3\u30eb\u30c9\u3059\u308c\u3070\u826f\u3044\u3002\u30d5\u30eb\u30d3\u30eb\u30c9\u306e\u624b\u9806\u3068\u3057\u3066\u306f\u3001\n\n\nwebpack -p\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u3092\u30ea\u30ea\u30fc\u30b9\u7528\u306b\u30d3\u30eb\u30c9\u3057\u3066assets/js/bundle.js\u3092\u751f\u6210\n\ngo-bindata\u3067assets\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304b\u3089bindata.go\u3092\u751f\u6210\n\ngo build\u3067\u30d3\u30eb\u30c9\u3057\u3066\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092dist\u306b\u751f\u6210\n\n\u3068\u3044\u3046\u6d41\u308c\u306b\u306a\u308b\u3002\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u66f8\u304f\u3068\u4ee5\u4e0b\u3002\nNODE_ENV=production && webpack -p --config ./client/webpack/webpack.config.js && go-bindata -o ./server/bindata.go assets/... && go build -o ./dist/web server/bindata.go server/main.go\n\n\u203bWindows\u3060\u3068\u3001set NODE_ENV=production\u306b\u3059\u308b\u5fc5\u8981\u3042\u308a\u3002\n\u3053\u308c\u3092npm run build\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306bpackage.json\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\nnpm run build\n\n\u3068\u5b9f\u884c\u3059\u308c\u3070\u3001\u5b9f\u884c\u53ef\u80fd\u306a\u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u3068\u3057\u3066./dist/web \u304c\u751f\u6210\u3055\u308c\u308b\u3002\u3061\u306a\u307f\u306b\u4eca\u56de\u4f5c\u3063\u305f\u304a\u8a66\u3057\u30a2\u30d7\u30ea\u306e\u30b5\u30a4\u30ba\u306f10MB\u307b\u3069\u3067\u3057\u305f\u3002\n\n\u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u3067\u52d5\u304b\u3057\u3066\u307f\u308b\ndist\u4ee5\u4e0b\u306b\u3067\u304d\u305f\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\u3059\u308b\u3060\u3051\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb1\u3064\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3060\u3051\u3067\u826f\u3044\u306e\u3067\u914d\u5e03&\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u8d85\u697d\u3061\u3093\u3067\u3059\u306d\uff01\n$ ./dist/web\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /api/home                 --> main.main.func1 (4 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n\n\n\u307e\u3068\u3081\n\n\u3061\u3087\u3063\u3068\u9762\u5012\u306a\u3068\u3053\u308d\u306f\u3042\u3063\u305f\u304c\u3001Gin + bindata\u3067\u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u305f\nwatch\u30e2\u30fc\u30c9\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3001\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e\u4e21\u65b9\u306b\u3042\u308b\u306e\u3067\u3001\u9ad8\u901f\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3067\u958b\u767a\u3067\u304d\u305d\u3046\n\u305b\u3063\u304b\u304fReact\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u4eca\u5ea6\u306f\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n\n# \u306f\u3058\u3081\u306b\n\nGo\u8a00\u8a9e\u3068\u8a00\u3048\u3070\u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u304c\u9b45\u529b\u306e\u4e00\u3064\u3067\u3059\u304c\u3001Web\u30b5\u30fc\u30d0\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u969b\u306eHTML/JS/CSS\u3068\u3044\u3063\u305f\u30ea\u30bd\u30fc\u30b9\u306f\u81ea\u52d5\u7684\u306b\u306f\u57cb\u3081\u8fbc\u3081\u3089\u308c\u307e\u305b\u3093\u3002\u3084\u308a\u305f\u3051\u308c\u3070\u5225\u9014\u3001[go-bindata](https://github.com/jteeuwen/go-bindata)\u306a\u3069\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306b\u57cb\u3081\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4eca\u56de\u3001Go\u8a00\u8a9e\u306e[Gin](https://github.com/gin-gonic/gin)\u3092\u4f7f\u3063\u305fWeb\u30a2\u30d7\u30ea\u306e\u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u5316\u3092\u8a66\u3057\u3066\u307f\u305f\u306e\u3067\u7c21\u5358\u306b\u7d39\u4ecb\u3059\u308b\u3002\n\n\u306a\u304a\u3001\u57cb\u3081\u8fbc\u3080\u30ea\u30bd\u30fc\u30b9\u3068\u306a\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306f[Facebook React](https://facebook.github.io/react/)\u3092\u4f7f\u3063\u305f\u30a2\u30d7\u30ea\u306b\u306a\u3063\u3066\u3044\u307e\u3059(\u304a\u8a66\u3057\u306a\u306e\u3067Hello World\u3068\u8868\u793a\u3059\u308b\u3060\u3051\u3067\u3059\u304c...)\u3002React\u306e\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306f\u4eca\u56de\u306f\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001[go-duktape](https://github.com/olebedev/go-duktape)\u3092\u4f7f\u3048\u3070Go\u8a00\u8a9e\u3067\u3082\u3067\u304d\u305d\u3046\u306a\u306e\u3067\u5225\u9014\u8a66\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n# \u4f5c\u3063\u305f\u3082\u306e\n\nhttps://github.com/wadahiro/gin-react-boilerplate \u306b\u3042\u308a\u307e\u3059\u3002\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u3057\u305f\u3002\n\n* `assets`: \u6700\u7d42\u7684\u306bGo\u8a00\u8a9e\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306b\u57cb\u3081\u8fbc\u3080\u30ea\u30bd\u30fc\u30b9\u7fa4\u3002`go-bindata`\u3092\u4f7f\u3063\u3066\u3053\u3053\u304b\u3089Go\u8a00\u8a9e\u306e\u30bd\u30fc\u30b9\u3092\u751f\u6210\u3059\u308b\u3002\n* `client`: React\u3092\u4f7f\u3063\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u3002[webpack](http://webpack.github.io/)\u3067\u30d3\u30eb\u30c9\u3057\u3001`bundle.js`\u3092\u751f\u6210\u3059\u308b\u3002`bundle.js`\u306f`assets/js`\u306b\u51fa\u529b\u3059\u308b\u3002\n* `server`: Go\u8a00\u8a9e\u3067\u66f8\u3044\u305f\u30b5\u30fc\u30d0\u30a2\u30d7\u30ea\u3002Gin\u3092\u5229\u7528\u3002\n* `dist`: \u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u3092\u3059\u308b\u3068\u3053\u3053\u306b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n```\ngin-react-boilerplate\n\u251c\u2500assets\n\u2502  \u251c\u2500css\n\u2502  \u2502  \u2514\u2500main.css\n\u2502  \u251c\u2500index.html\n\u2502  \u2514\u2500js\n\u2502      \u2514\u2500bundle.js\n\u251c\u2500client\n\u2502  \u251c\u2500app\n\u2502  \u2502  \u2514\u2500App.jsx\n\u2502  \u251c\u2500index.jsx\n\u2502  \u2514\u2500webpack\n\u2502      \u251c\u2500webpack.base.config.js\n\u2502      \u251c\u2500webpack.config.js\n\u2502      \u251c\u2500webpack.dev.config.js\n\u2502      \u251c\u2500webpack.prod.config.js\n\u2502      \u2514\u2500webpack.server.js\n\u251c\u2500dist\n\u251c\u2500.gitignore\n\u251c\u2500package.json\n\u251c\u2500runner.conf\n\u2514\u2500server\n   \u251c\u2500controllers\n   \u2502  \u2514\u2500home.go\n   \u2514\u2500main.go\n```\n\n### \u88dc\u8db3\n* `runner.conf`: [Fresh](https://github.com/pilu/fresh)\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3002Fresh\u306fGo\u8a00\u8a9e\u306e\u30bd\u30fc\u30b9\u4fee\u6b63\u6642\u306b\u81ea\u52d5\u7684\u306b\u30b3\u30f3\u30d1\u30a4\u30eb&Web\u30b5\u30fc\u30d0\u3092\u518d\u8d77\u52d5\u3057\u3066\u304f\u308c\u308b\u3002\u958b\u767a\u6642\u306b\u306f\u3053\u308c\u3092\u4f7f\u3046\u3002\n* `package.json`: \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u5404\u7a2e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f9d\u5b58\u95a2\u4fc2\u5b9a\u7fa9\u3084\u3001`npm run ...`\u3067[\u5b9f\u884c\u53ef\u80fd\u306a\u30bf\u30b9\u30af\u3082\u5c11\u3057\u5b9a\u7fa9](https://github.com/wadahiro/gin-react-boilerplate/blob/master/package.json#L9-L12)\u3057\u3066\u3044\u308b\u3002\n* `.gitignore`: \u30d3\u30eb\u30c9\u3067\u751f\u6210\u3055\u308c\u308b\u3082\u306e\u306f\u30bd\u30fc\u30b9\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u30b3\u30df\u30c3\u30c8\u3057\u306a\u3044\u65b9\u91dd\u3068\u3057\u3001`dist`\u3001`bundle.js`\u3001`bindata.go`\u306f\u9664\u5916\u5bfe\u8c61\u306b\u3057\u3066\u3044\u308b\u3002\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n\u6700\u7d42\u7684\u306b`assets`\u306b\u57cb\u3081\u8fbc\u307f\u305f\u3044\u30ea\u30bd\u30fc\u30b9\u3092\u7f6e\u304f\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3002`client`\u4ee5\u4e0b\u306b\u3042\u308bReact\u3092\u4f7f\u3063\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3064\u3044\u3066\u306f\u3001\u4eca\u56de\u306fwebpack\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067`webpack`\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u3057\u3066`bundle.js`\u3092`assets/js`\u306b\u751f\u6210\u3059\u308b\u3060\u3051\u3002\u7279\u306b\u6ce8\u610f\u70b9\u306f\u306a\u3057\u3002\n\n# \u30b5\u30fc\u30d0\ngin + bindata\u306e\u3084\u308a\u65b9\u3092\u8abf\u3079\u305f\u306e\u3067\u305d\u3053\u3092\u30e1\u30a4\u30f3\u306b\u7d39\u4ecb\u3002\n\n\u6700\u521d\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002Web\u30b5\u30fc\u30d0\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u6271\u3046\u305f\u3081\u3001`http.FileSystem`\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30bd\u30fc\u30b9\u3092\u751f\u6210\u3057\u3066\u304f\u308c\u308b[go-bindata-assetfs](https://github.com/elazarl/go-bindata-assetfs)\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```bash\ngo get -u github.com/gin-gonic/gin\ngo get -u github.com/jteeuwen/go-bindata/...\ngo get -u github.com/elazarl/go-bindata-assetfs/...\n```\n\n\u57cb\u3081\u8fbc\u3080\u30ea\u30bd\u30fc\u30b9\u30d5\u30a9\u30eb\u30c0\u3092\u6307\u5b9a\u3057\u3066`go-bindata-assetfs`\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\u3053\u308c\u3067`bindata_assetfs.go`\u304c\u751f\u6210\u3055\u308c\u308b\u3002\u307e\u305f\u3001`-o`\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u751f\u6210\u5148\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002\n\n```bash\ngo-bindata-assetfs -o ./server/bindata_assetfs.go assets/...\n```\n\n\u751f\u6210\u3055\u308c\u305f`bindata_assetfs.go`\u3092\u4f7f\u3044\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3053\u3068\u3067\u3001\u57cb\u3081\u8fbc\u3093\u3060\u30ea\u30bd\u30fc\u30b9\u3092HTTP\u3067\u8fd4\u3059\u3088\u3046\u306b\u3067\u304d\u308b\u3002Gin\u306e[StaticFS\u30e1\u30bd\u30c3\u30c9](https://godoc.org/github.com/gin-gonic/gin#RouterGroup.StaticFS)\u3068`bindata_assetfs.go`\u306e`assetFS()`\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3060\u3051\u3068\u7c21\u5358\u3002\n\n```go:main.go\npackage main\n\nimport (\n\t\"github.com/gin-gonic/gin\"\n)\n\nfunc main() {\n\tr := gin.Default()\n\n\tr.StaticFS(\"/assets\", assetFS())\n\n\tr.Run()\n}\n```\n\n\u751f\u6210\u3057\u305f`bindata_assetfs.go`\u3068`main.go`\u3092`go run`\u3067\u30d3\u30eb\u30c9&\u5b9f\u884c\u3059\u308b\u3002\n\n```bash\n$ go run server/bindata_asssetfs.go server/main.go\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /assets/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)\n[GIN-debug] HEAD   /assets/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n```\n\ncurl\u3067\u53e9\u304f\u3068\u57cb\u3081\u8fbc\u3093\u3060`index.html`\u304c\u3061\u3083\u3093\u3068\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n```bash\n$ curl http://localhost:8080/assets/\n<!doctype html>\n<html lang=\"ja\">\n    <head>\n        <meta charset=\"utf-8\">\n        <title></title>\n        <link rel=\"stylesheet\" href=\"./css/main.css\">\n    </head>\n    <body>\n        <div id=\"app\"></div>\n\n        <script src=\"js/bundle.js\"></script>\n    </body>\n</html>\n```\n\n\u7c21\u5358\u3067\u3059\u306d\uff01\uff01 \u3068\u8a00\u3044\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3001\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u3092`/`\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u5834\u5408\u306b\u6b8b\u5ff5\u306a\u304c\u3089\u56f0\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b`/`\u306b\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u3001`/api/home`\u306bJSON\u3092\u8fd4\u3059\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u305f\u3068\u3059\u308b\u3068\u3001\u3001\u3001\n\n```go:main.go\npackage main\n\nimport (\n\t\"github.com/gin-gonic/gin\"\n)\n\nfunc main() {\n\tr := gin.Default()\n\n\tr.StaticFS(\"/\", assetFS())\n\n\tr.GET(\"/api/home\", func(c *gin.Context) {\n\t\tc.JSON(200, gin.H{\n\t\t\t\"message\": \"home\",\n\t\t})\n\t})\n\n\tr.Run()\n}\n```\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u901a\u308b\u3051\u3069\u5b9f\u884c\u6642\u306b\u4e0b\u8a18\u306e\u3088\u3046\u306aconflicts\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n\n```bash\n$ go run server/bindata_assetfs.go server/main.go\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /*filepath                --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)\n[GIN-debug] HEAD   /*filepath                --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)\n[GIN-debug] GET    /api/home                 --> main.main.func1 (3 handlers)\npanic: path segment '/api/home' conflicts with existing wildcard '/*filepath' in path '/api/home'\n...\n```\n\nGin\u306eIssue\u3092\u6f01\u308b\u3068 [Inability to use '/' for static files](https://github.com/gin-gonic/gin/issues/75) \u3092\u767a\u898b\u3002\u3053\u3053\u3092\u898b\u308b\u3068\u3001[static middleware](https://github.com/gin-gonic/contrib/tree/master/static)\u3092\u4f7f\u3048\u3070\u826f\u3055\u305d\u3046\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067static middleware\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```bash\ngo get github.com/gin-gonic/contrib/static\n```\n\n[static middleware + go-bindata\u306e\u30b5\u30f3\u30d7\u30eb](https://github.com/gin-gonic/contrib/blob/master/static/example/bindata/example.go)\u3092\u53c2\u8003\u306b\u3057\u3066\u3001`main.go`\u3092\u66f8\u304d\u63db\u3048\u308b\u3002\u6b8b\u5ff5\u306a\u304c\u3089\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u5408\u308f\u305b\u308b\u305f\u3081\u306b\u3061\u3087\u3063\u3068\u8907\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\u306a\u304a\u3001[static middleware + go-bindata\u306e\u30b5\u30f3\u30d7\u30eb](https://github.com/gin-gonic/contrib/blob/master/static/example/bindata/example.go)\u305d\u306e\u307e\u307e\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u3089\u306a\u3044\u306e\u3067\u6ce8\u610f\u3002`assetfs.AssetFS`\u306b`AssetInfo`\u3082\u6e21\u3055\u306a\u3044\u3068\u99c4\u76ee\u3067\u3059\u3002\n\n```go:main.go\npackage main\n\nimport (\n\t\"net/http\"\n\t\"strings\"\n\n\t\"github.com/elazarl/go-bindata-assetfs\"\n\t\"github.com/gin-gonic/contrib/static\"\n\t\"github.com/gin-gonic/gin\"\n)\n\ntype binaryFileSystem struct {\n\tfs http.FileSystem\n}\n\nfunc (b *binaryFileSystem) Open(name string) (http.File, error) {\n\treturn b.fs.Open(name)\n}\n\nfunc (b *binaryFileSystem) Exists(prefix string, filepath string) bool {\n\tif p := strings.TrimPrefix(filepath, prefix); len(p) < len(filepath) {\n\t\tif _, err := b.fs.Open(p); err != nil {\n\t\t\treturn false\n\t\t}\n\t\treturn true\n\t}\n\treturn false\n}\n\nfunc BinaryFileSystem(root string) *binaryFileSystem {\n\tfs := &assetfs.AssetFS{Asset, AssetDir, AssetInfo, root}\n\treturn &binaryFileSystem{\n\t\tfs,\n\t}\n}\n\nfunc main() {\n\tr := gin.Default()\n\n\tr.Use(static.Serve(\"/\", BinaryFileSystem(\"assets\")))\n\n\tr.GET(\"/api/home\", func(c *gin.Context) {\n\t\tc.JSON(200, gin.H{\n\t\t\t\"message\": \"Hello World\",\n\t\t})\n\t})\n\n\tr.Run()\n}\n```\n\n\u307e\u305f\u3001bindata\u306f`go-bindata`\u3092\u4f7f\u3063\u3066\u751f\u6210\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\n\n```bash\ngo-bindata -o ./server/bindata.go assets/...\n```\n\n\u3053\u308c\u3067`/`\u306b`assets`\u914d\u4e0b\u306e\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u3092\u5272\u308a\u5f53\u3066\u3064\u3064\u3001`/api/home`\u306e\u51e6\u7406\u3082\u5b9f\u88c5\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002`go run`\u3059\u308b\u3068\u4eca\u5ea6\u306f\u8d77\u52d5\u6210\u529f\u3059\u308b(`bindata_assetfs.go`\u306f\u3082\u3046\u4e0d\u8981\u306a\u306e\u3067\u6d88\u3057\u3066\u304a\u304f)\u3002\n\n```bash\n$ go run server/bindata.go server/main.go\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /api/home                 --> main.main.func1 (4 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n```\n\ncurl\u3067`/`\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u57cb\u3081\u8fbc\u3093\u3060index.html\u304c\u3061\u3083\u3093\u3068\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n```bash\n$ curl http://localhost:8080/\n<!doctype html>\n<html lang=\"ja\">\n    <head>\n        <meta charset=\"utf-8\">\n        <title></title>\n        <link rel=\"stylesheet\" href=\"./css/main.css\">\n    </head>\n    <body>\n        <div id=\"app\"></div>\n\n        <script src=\"js/bundle.js\"></script>\n    </body>\n</html>\n```\n\nGo\u8a00\u8a9e\u3067\u5b9f\u88c5\u3057\u305fREST API\u3082OK\u3002\n\n```bash\n$ curl http://localhost:8080/api/home\n{\"message\":\"Hello World\"}\n```\n\n\n# \u958b\u767a\u30e2\u30fc\u30c9\u3067\u52b9\u7387\u5316\n\n## \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u306e\u958b\u767a\u30e2\u30fc\u30c9\n`client`\u4ee5\u4e0b\u306eReact\u3067\u4f5c\u3063\u3066\u3044\u308b\u90e8\u5206\u306b\u95a2\u3057\u3066\u306f\u3001`webpack`\u30b3\u30de\u30f3\u30c9\u3092watch\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u30bd\u30fc\u30b9\u306e\u5909\u66f4\u6642\u306b\u81ea\u52d5\u7684\u306b\u30d3\u30eb\u30c9\u3057\u3066`assets/js/bundle.js`\u306b\u53cd\u6620\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002`npm run dev`\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b`package.json`\u306b\u30bf\u30b9\u30af\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3053\u308c\u3092\u53e9\u3044\u3066\u30d3\u30eb\u30c9\u3059\u308b\u3002\n\n```bash\n$ npm run dev\n\n> golang-web-boilerplate@0.1.0 dev c:\\Users\\wadahiro\\src\\github.com\\wadahiro\\gin-react-boilerplate\n> webpack -w --config ./client/webpack/webpack.config.js\n\nNODE_ENV: undefined\nHash: a307cf2e4d362646c0a4\nVersion: webpack 1.12.12\nTime: 1867ms\n    Asset    Size  Chunks             Chunk Names\nbundle.js  851 kB       0  [emitted]  main\n   [0] multi main 28 bytes {0} [built]\n    + 350 hidden modules\n```\n\n\u3053\u308c\u3067`client`\u4ee5\u4e0b\u306e\u30bd\u30fc\u30b9\u306b\u624b\u3092\u5165\u308c\u305f\u969b\u306fwebpack\u304c\u81ea\u52d5\u7684\u306b`assets/js/bundle.js`\u3092\u30d3\u30eb\u30c9\u3057\u3066\u304f\u308c\u308b\u3002\n\n## bindata\u306e\u751f\u6210\n`go-bindata -o ./server/bindata.go assets/...`\u3067\u751f\u6210\u3057\u305f`bindata.go`\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u30bd\u30fc\u30b9\u4fee\u6b63\u306e\u305f\u3073\u306b`go-bindata`\u306e\u518d\u5b9f\u884c\u304c\u5fc5\u8981\u306b\u306a\u308b\u3002\u3053\u308c\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u304c`go-bindata`\u306b\u3042\u308b\u3002\u4f7f\u3044\u65b9\u306f\u7c21\u5358\u3067\u3001`-debug`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u3066\u5b9f\u884c\u3057\u3066\u30bd\u30fc\u30b9\u3092\u751f\u6210\u3059\u308b\u3060\u3051\u3002\n\n```bash\ngo-bindata -debug -o ./server/bindata.go assets/...\n```\n\n\u305d\u3046\u3059\u308b\u3068\u3001\u751f\u6210\u3055\u308c\u308b`bindata.go`\u306b\u306f\u30ea\u30bd\u30fc\u30b9\u306f\u76f4\u63a5\u57cb\u3081\u8fbc\u307e\u308c\u305a\u3001`assets`\u4ee5\u4e0b\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u90fd\u5ea6\u8aad\u3080\u3088\u3046\u306a\u5b9f\u88c5\u3068\u306a\u308b\u3002\u958b\u767a\u6642\u306f\u3053\u306e\u30bd\u30fc\u30b9\u3092\u7d44\u307f\u8fbc\u3093\u3067Web\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3059\u308c\u3070OK\u3002\u3053\u308c\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u5909\u66f4\u3055\u308c\u3066\u3082\u3059\u3050\u306b\u53cd\u6620\u3055\u308c\u308b\u3002\n\n## \u30b5\u30fc\u30d0\u30a2\u30d7\u30ea\u306e\u958b\u767a\u30e2\u30fc\u30c9\n\u5192\u982d\u3067\u5c11\u3057\u7d39\u4ecb\u3057\u305fFresh\u3092\u4f7f\u3046\u3002\u5148\u7a0b\u306f`go run`\u3067Web\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u3066\u3044\u305f\u304c\u3001\u4ee3\u308f\u308a\u306b`fresh`\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u3002`runner.conf`\u306b\u9069\u5207\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308c\u3070\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b`fresh`\u30b3\u30de\u30f3\u30c9\u3060\u3051\u3067\u8d77\u52d5\u3059\u308b\u3002\n\n```bash\n$ fresh\nLoading settings from ./runner.conf\n13:21:19 runner      | InitFolders\n13:21:19 runner      | mkdir ./tmp\n13:21:19 runner      | mkdir ./tmp: Cannot create a file when that file already exists.\n13:21:19 watcher     | Watching ./server\n13:21:19 watcher     | Watching server\\controllers\n13:21:19 main        | Waiting (loop 1)...\n13:21:19 main        | receiving first event /\n13:21:19 main        | sleeping for 600 milliseconds\n13:21:19 main        | flushing events\n13:21:19 main        | Started! (12 Goroutines)\n13:21:19 main        | remove tmp\\runner-build-errors.log: The system cannot find the file specified.\n13:21:19 build       | Building...\n13:21:22 runner      | Running...\n13:21:22 main        | --------------------\n13:21:22 main        | Waiting (loop 2)...\n13:21:22 app         | [GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n13:21:22 app         | [GIN-debug] GET    /api/home                 --> main.main.func1 (4 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n```\n\n\u8a66\u3057\u306bGo\u8a00\u8a9e\u306e\u30bd\u30fc\u30b9\u3092\u4fee\u6b63\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u81ea\u52d5\u7684\u306b\u691c\u77e5\u3057\u3066\u518d\u8d77\u52d5\u304c\u884c\u308f\u308c\u308b\u3002\n\n```bash\n13:22:08 watcher     | sending event \"server\\\\controllers\\\\home.go\": MODIFY\n13:22:08 watcher     | sending event \"server\\\\controllers\\\\home.go\": MODIFY\n13:22:08 main        | receiving first event \"server\\\\controllers\\\\home.go\": MODIFY\n13:22:08 main        | sleeping for 600 milliseconds\n13:22:09 main        | flushing events\n13:22:09 main        | receiving event \"server\\\\controllers\\\\home.go\": MODIFY\n13:22:09 main        | Started! (15 Goroutines)\n13:22:09 main        | remove tmp\\runner-build-errors.log: The system cannot find the file specified.\n13:22:09 build       | Building...\n13:22:11 runner      | Running...\n13:22:11 runner      | Killing PID 7532\n13:22:12 main        | --------------------\n13:22:12 main        | Waiting (loop 3)...\n13:22:12 app         | [GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n13:22:12 app         | [GIN-debug] GET    /api/home                 --> main.main.func1 (4 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30b5\u30fc\u30d0\u5074\u306e\u958b\u767a\u30e2\u30fc\u30c9\u3092\u307e\u3068\u3081\u3066\u5b9f\u884c\u3057\u305f\u3051\u308c\u3070\u3001\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308c\u3070\u826f\u3044\u3002\n\n```bash\nnpm run dev & fresh\n```\n\n# \u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\n\n\u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u306e\u6642\u306b\u306f\u3001\u4eca\u5ea6\u306f`go-bindata`\u3092`-debug`\u30aa\u30d7\u30b7\u30e7\u30f3\u306a\u3057\u3067\u5b9f\u884c\u3057\u3066\u30bd\u30fc\u30b9\u3092\u751f\u6210\u3057\u3001\u305d\u308c\u3092\u7d44\u307f\u8fbc\u3093\u3067\u30d3\u30eb\u30c9\u3059\u308c\u3070\u826f\u3044\u3002\u30d5\u30eb\u30d3\u30eb\u30c9\u306e\u624b\u9806\u3068\u3057\u3066\u306f\u3001\n\n1. `webpack -p`\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u3092\u30ea\u30ea\u30fc\u30b9\u7528\u306b\u30d3\u30eb\u30c9\u3057\u3066`assets/js/bundle.js`\u3092\u751f\u6210\n2. `go-bindata`\u3067`assets`\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304b\u3089`bindata.go`\u3092\u751f\u6210\n3. `go build`\u3067\u30d3\u30eb\u30c9\u3057\u3066\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092`dist`\u306b\u751f\u6210\n\n\u3068\u3044\u3046\u6d41\u308c\u306b\u306a\u308b\u3002\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u66f8\u304f\u3068\u4ee5\u4e0b\u3002\n\n```bash\nNODE_ENV=production && webpack -p --config ./client/webpack/webpack.config.js && go-bindata -o ./server/bindata.go assets/... && go build -o ./dist/web server/bindata.go server/main.go\n```\n\n\u203bWindows\u3060\u3068\u3001`set NODE_ENV=production`\u306b\u3059\u308b\u5fc5\u8981\u3042\u308a\u3002\n\n\u3053\u308c\u3092`npm run build`\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b`package.json`\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n\n```bash\nnpm run build\n```\n\n\u3068\u5b9f\u884c\u3059\u308c\u3070\u3001\u5b9f\u884c\u53ef\u80fd\u306a\u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u3068\u3057\u3066`./dist/web` \u304c\u751f\u6210\u3055\u308c\u308b\u3002\u3061\u306a\u307f\u306b\u4eca\u56de\u4f5c\u3063\u305f\u304a\u8a66\u3057\u30a2\u30d7\u30ea\u306e\u30b5\u30a4\u30ba\u306f10MB\u307b\u3069\u3067\u3057\u305f\u3002\n\n# \u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u3067\u52d5\u304b\u3057\u3066\u307f\u308b\n\n`dist`\u4ee5\u4e0b\u306b\u3067\u304d\u305f\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\u3059\u308b\u3060\u3051\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb1\u3064\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3060\u3051\u3067\u826f\u3044\u306e\u3067\u914d\u5e03&\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u8d85\u697d\u3061\u3093\u3067\u3059\u306d\uff01\n\n```bash\n$ ./dist/web\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /api/home                 --> main.main.func1 (4 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n```\n\n# \u307e\u3068\u3081\n* \u3061\u3087\u3063\u3068\u9762\u5012\u306a\u3068\u3053\u308d\u306f\u3042\u3063\u305f\u304c\u3001Gin + bindata\u3067\u30b7\u30f3\u30b0\u30eb\u30d0\u30a4\u30ca\u30ea\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u305f\n* watch\u30e2\u30fc\u30c9\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3001\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e\u4e21\u65b9\u306b\u3042\u308b\u306e\u3067\u3001\u9ad8\u901f\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3067\u958b\u767a\u3067\u304d\u305d\u3046\n* \u305b\u3063\u304b\u304fReact\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u4eca\u5ea6\u306f\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n"}