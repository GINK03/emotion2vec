{"tags": ["vue.js"], "context": "vue2.0\u3067\u306fv-html\u306b\u5bfe\u3057\u3066filter\u304c\u4f7f\u3048\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u308c\u307e\u3067\u6539\u884c\u542b\u3080\u30c6\u30ad\u30b9\u30c8\u306b\u5bfe\u3057\u3066<p v-html=\"message | nl2br\"></p>\u3068\u3084\u3063\u3066\u3044\u305f\u3082\u306e\u3092\u3001\n\u3069\u3046\u4fee\u6b63\u3059\u308b\u304b\u8a66\u3057\u305f\u30e1\u30e2\u3067\u3059\u3002\n\nv-html\u3068replace\n\u30c7\u30e2\n\nhtml\n<p v-html=\"message.replace(/\\n/g,'<br/>')\"></p>\n\n\n\n\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u308f\u304b\u308a\u3084\u3059\u3044\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u306a\u3044\u3002\n\nv-for\u3068split\n\u30c7\u30e2\n\nhtml\n  <div v-for=\"str of message.split('\\n')\">{{str}}</div>\n\n\n\n\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u6539\u884c\u304c\u7d9a\u304f\u3068\u7a7a\u306ediv\u304c\u51fa\u305f\u308a\u3068\u3001\u51fa\u529b\u3055\u308c\u308bhtml\u304c\u5fae\u5999\u3002\n\n\u95a2\u6570\u578b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n\u30c7\u30e2\n\nhtml\n  <nl2br tag=\"p\" :text=\"message\"></nl2br>\n\n\n\njs\nVue.component('nl2br', {\n  functional: true,\n  props: ['tag','text'],\n  render: function (createElement, context) {\n    return createElement(context.props.tag,\n      context.props.text.split(\"\\n\").reduce(function(x,y){\n          if (!Array.isArray(x)){\n            return [x,createElement('br'),y];\n          }\n          return x.concat([createElement('br'),y]);\n      }));\n  }\n});\n\n\n\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u3002render\u304c\u4f7f\u3048\u3066\u5c11\u3057\u697d\u3057\u3044\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3000:\u3000render\u3081\u3093\u3069\u3044\n\ncss\n\u30c7\u30e2\n\nhtml\n<p style=\"white-space: pre;\" v-text=\"message\"></p>\n\n\n(\u6298\u308a\u8fd4\u3059\u6642\u306fwhite-space: pre-wrap;\u306a\u3069\u3092\u4f7f\u3046)\n\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u697d\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u306a\u3044\u3002\n\n\u307e\u3068\u3081\ncss\u3067\u3044\u3044\u306e\u304b\u2026\u2026\uff1f\u3000css\u3067\u3044\u3044\u306a\u2026\u2026\u3002\nvue2.0\u3067\u306f`v-html`\u306b\u5bfe\u3057\u3066filter\u304c\u4f7f\u3048\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u308c\u307e\u3067\u6539\u884c\u542b\u3080\u30c6\u30ad\u30b9\u30c8\u306b\u5bfe\u3057\u3066`<p v-html=\"message | nl2br\"></p>`\u3068\u3084\u3063\u3066\u3044\u305f\u3082\u306e\u3092\u3001\n\u3069\u3046\u4fee\u6b63\u3059\u308b\u304b\u8a66\u3057\u305f\u30e1\u30e2\u3067\u3059\u3002\n\n##v-html\u3068replace\n[\u30c7\u30e2](https://jsfiddle.net/huigo/5qnqkjr1/)\n\n```html:html\n<p v-html=\"message.replace(/\\n/g,'<br/>')\"></p>\n\n```\n\n\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u308f\u304b\u308a\u3084\u3059\u3044\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u306a\u3044\u3002\n\n##v-for\u3068split\n[\u30c7\u30e2](https://jsfiddle.net/huigo/72zah021/1/)\n\n```html:html\n  <div v-for=\"str of message.split('\\n')\">{{str}}</div>\n\n```\n\n\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u6539\u884c\u304c\u7d9a\u304f\u3068\u7a7a\u306ediv\u304c\u51fa\u305f\u308a\u3068\u3001\u51fa\u529b\u3055\u308c\u308bhtml\u304c\u5fae\u5999\u3002\n\n##\u95a2\u6570\u578b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n[\u30c7\u30e2](https://jsfiddle.net/huigo/7obwujdo/1/)\n\n```html:html\n  <nl2br tag=\"p\" :text=\"message\"></nl2br>\n```\n\n```js:js\nVue.component('nl2br', {\n  functional: true,\n  props: ['tag','text'],\n  render: function (createElement, context) {\n  \treturn createElement(context.props.tag,\n      context.props.text.split(\"\\n\").reduce(function(x,y){\n    \t  if (!Array.isArray(x)){\n      \t    return [x,createElement('br'),y];\n          }\n    \t  return x.concat([createElement('br'),y]);\n      }));\n  }\n});\n```\n\n\n\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u3002render\u304c\u4f7f\u3048\u3066\u5c11\u3057\u697d\u3057\u3044\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3000:\u3000render\u3081\u3093\u3069\u3044\n\n\n##css\n[\u30c7\u30e2](https://jsfiddle.net/huigo/6m5q0xxr/)\n\n```html:html\n<p style=\"white-space: pre;\" v-text=\"message\"></p>\n```\n(\u6298\u308a\u8fd4\u3059\u6642\u306f`white-space: pre-wrap;`\u306a\u3069\u3092\u4f7f\u3046)\n\n\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u697d\u3002\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u3002\n\u30c7\u30e1\u30ea\u30c3\u30c8\u3000:\u3000\u306a\u3044\u3002\n#\u307e\u3068\u3081\ncss\u3067\u3044\u3044\u306e\u304b\u2026\u2026\uff1f\u3000css\u3067\u3044\u3044\u306a\u2026\u2026\u3002\n"}