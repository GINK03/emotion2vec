{"context": " More than 1 year has passed since last update.YouTubeAPI\u3092\u4f7f\u7528\u3057\u3066\u3001YouTube\u306e\u518d\u751f\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3001\u518d\u751f\u30ea\u30b9\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u52d5\u753b\u3092\u9806\u756a\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\nAPI\u30ad\u30fc\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u4e0b\u8a18\u30ea\u30f3\u30af\u3092\u53c2\u8003\u306b\u3001API\u30ad\u30fc\u3092\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nYouTube API API\u30ad\u30fc\u306e\u53d6\u5f97\u65b9\u6cd5\n\n\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\n\u30c7\u30e2\n\u30c7\u30e2\u30d5\u30a1\u30a4\u30ebDL\n\nyoutube_playlist\n\n\nsample1\n\n\ncss\u3000\uff1aCSS\u30d5\u30a1\u30a4\u30eb\nimg\u3000\uff1a\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\njs\u3000\uff1ajs\u30d5\u30a1\u30a4\u30eb\n\n\nlib\u3000\uff1ajs\u30e9\u30a4\u30d6\u30e9\u30ea\uff08jQuery\u306a\u3069\uff09\nindex.js\nyoutube_api_info.json\n\n\nindex.html\n\n\n\n\n\n\n\u89e3\u8aac\n\nDOM\u69cb\u7bc9\u5f8c\u306e\u51e6\u7406\njs\u30d5\u30a1\u30a4\u30eb\u5185\u306bAPI\u30ad\u30fc\u7b49\u306e\u60c5\u5831\u3092\u6301\u305f\u305b\u305f\u304f\u306a\u304b\u3063\u305f\uff08\u30bd\u30fc\u30b9\u3067\u4e38\u898b\u3048\u306a\u306e\u3092\u9632\u304e\u305f\u3044\uff09\u306e\u3067\u3001\u305d\u308c\u3089\u306e\u60c5\u5831\u306f\u300cyoutube_api_info.json\u300d\u306b\u6301\u305f\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\nindex.js\n$(function(){\n    //API\u95a2\u9023\u306ejson\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\n    getJsonData(YT_API_JSON_INFO_URL)\n      .then(function(_jsonData){\n      ytApiKey = _jsonData.apiKey;\n      ytApiUrl = _jsonData.reqUrl;\n      ytPlaylistId = _jsonData.listId;\n\n      //\u30b3\u30f3\u30c6\u30f3\u30c4\u3092DOM\u306b\u8ffd\u52a0\n      addContent();\n    });\n  });\n\n\n   /**\n   * json\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n   * @param {String} JSON\u30c7\u30fc\u30bf\u306eURL\n   * @return {$.Defferd}\n   */\n  function getJsonData(_url){\n    //console.log('getJsonData()\u958b\u59cb\uff1a'+_url);\n    var $dfd = $.Deferred();\n    $.ajax({\n      url:_url,\n      dataType:'json',\n      cache:false,\n      timeout:15000\n    })\n      .done(function(_data){\n      //console.log('json\u53d6\u5f97\u6210\u529f\uff1a'+_url);\n      $dfd.resolve(_data);\n    })\n      .fail(function(_data){\n      console.log('json\u53d6\u5f97error\uff1a'+_url);\n      $dfd.reject(_data);\n    })\n      .always(function(_data){\n      //console.log('getJsonData()\u7d42\u4e86\uff1a'+_url);\n    });\n    return $dfd.promise();\n  }\n\n\n\n\nDOM\u69cb\u7bc9\u5f8c\u306bgetJsonData(url)\u547c\u3073\u51fa\u3057\u3001API\u95a2\u9023\u306e\u60c5\u5831\u304c\u8a18\u8f09\u3055\u308c\u305fJSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\u8aad\u307f\u8fbc\u307f\u5b8c\u4e86\u5f8c\u306f\u305d\u308c\u305e\u308c\u306e\u5024\u3092\u5909\u6570\u306b\u683c\u7d0d\u3057\u3001\n\naddContent()\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066HTML\u306eDOM\u306b\u60c5\u5831\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n\naddContent()\u95a2\u6570\u5185\u306e\u51e6\u7406\n\nindex.js\n\n  /**\n   * \u518d\u751f\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3066\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8ffd\u52a0\u3059\u308b\n   */\n  function addContent(){\n    loadingFlg = true;\n    getPlayList()\n      .then(function(_resData){\n      nextPageToken = _resData.nextPageToken != undefined ? _resData.nextPageToken : '';\n      totalResults = _resData.pageInfo.totalResults;\n      totalPage = Math.ceil(totalResults / REQ_QTY);\n\n      insertVideo(_resData);\n      loadingFlg = false;\n    });\n  }\n\n\n  /**\n   * youtube\u306e\u518d\u751f\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n   * @return {$.Defferd}\n   */\n  function getPlayList(){\n    //console.log('getPlayList()\u958b\u59cb\uff1a'+ytApiUrl);\n    var $dfd = $.Deferred();\n\n    $.ajax({\n      type: 'get',\n      url: ytApiUrl,\n      dataType:'json',\n      data: {\n        part: 'snippet',\n        playlistId : ytPlaylistId,  //\u518d\u751f\u30ea\u30b9\u30c8\u306eID\n        maxResults : REQ_QTY,   //\u53d6\u5f97\u4ef6\u6570\n        pageToken : nextPageToken,  //\u7dcf\u4ef6\u6570\u304c\u53d6\u5f97\u4ef6\u6570\u4ee5\u4e0a\u306e\u6642\u306b\u7d9a\u304d\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\n        key: ytApiKey       //API\u30ad\u30fc\n      },\n      dataType: 'json',\n      cache: false,\n      timeout: 15000\n    })\n      .done(function(_data) {\n      //console.log('\u518d\u751f\u30ea\u30b9\u30c8\u53d6\u5f97\u6210\u529f\uff1a' + ytApiUrl);\n      $dfd.resolve(_data);\n    })\n      .fail(function(_data) {\n      console.log('\u518d\u751f\u30ea\u30b9\u30c8\u53d6\u5f97error\uff1a' + ytApiUrl);\n      $dfd.reject(_data);\n    })\n      .always(function(_data) {\n      //console.log('getPlayList()\u7d42\u4e86\uff1a' + ytApiUrl);\n    });\n\n    return $dfd.promise();\n  }\n\n\n\n\n\n\nloadingFlg\u3067\u73fe\u5728API\u30ea\u30af\u30a8\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u4e2d\u304b\u3069\u3046\u304b\u306e\u30d5\u30e9\u30b0\u3092\u7acb\u3066\u307e\u3059\u3002\u3053\u308c\u306f\u5f8c\u307b\u3069\u8aac\u660e\u3059\u308b\u30b9\u30af\u30ed\u30fc\u30eb\u30a4\u30d9\u30f3\u30c8\u306e\u51e6\u7406\u3067\u4f7f\u3044\u307e\u3059\u3002\n\ngetPlayList()\u95a2\u6570\u5185\u3067YouTubeAPI\u3092\u4f7f\u3063\u3066\u518d\u751f\u30ea\u30b9\u30c8\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u3088\u3046\u306a\u5185\u5bb9\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306ajson\u30c7\u30fc\u30bf\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\u53d6\u5f97\u3057\u305fjson\u306e\u5024\u304b\u3089nextPageToken\u3068totalResults\u3092\u53d6\u5f97\u3057\u3066\u5909\u6570\u3078\u30bb\u30c3\u30c8\u3002\n\ninsertVideo()\u95a2\u6570\u3067\u53d6\u5f97\u3057\u305fjson\u3092\u89e3\u6790\u3057\u3066\u3001DOM\u306b\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n{\n  \"kind\": \"youtube#playlistItemListResponse\",\n  \"etag\": \"\\\"oqbvhYxBE6fAbRk6m7aLlHf5s1I/nYqIbgUq7tWbu539fSVHZI9z7hI\\\"\",\n  \"nextPageToken\": \"CAMQAA\",\n  \"pageInfo\": {\n    \"totalResults\": 20,\n    \"resultsPerPage\": 3\n  },\n  \"items\": [\n    {\n      \"kind\": \"youtube#playlistItem\",\n      \"etag\": \"\\\"oqbvhYxBE6fAbRk6m7aLlHf5s1I/3ArqdiAXaxdE2rkMYioNa8Blzlw\\\"\",\n      \"id\": \"PLQn23NEIwkU3eLnew2igtf4HRoXtnPKbw\",\n      \"snippet\": {\n        \"publishedAt\": \"2012-04-25T13:49:04.000Z\",\n        \"channelId\": \"UCiIhyfVWGSJLHMqnZMJX2hA\",\n        \"title\": \"\u732b\u3000\u6d17\u9854\u4e2d\u3000\u30cd\u30b3\",\n        \"description\": \"\u6c17\u6301\u3061\u3088\u3055\u305d\u3046\u3067\u3059\u306d\u3002\\r\\n\u3044\u308d\u3093\u306a\u732b\u518d\u751f\u30ea\u30b9\u30c8\\r\\nhttp://www.youtube.com/playlist?list=PL0701DD1EA18F89C6&feature=view_all\",\n        \"thumbnails\": {\n          \"default\": {\n            \"url\": \"https://i.ytimg.com/vi/Z3r8V-S2B38/default.jpg\",\n            \"width\": 120,\n            \"height\": 90\n          },\n          \"medium\": {\n            \"url\": \"https://i.ytimg.com/vi/Z3r8V-S2B38/mqdefault.jpg\",\n            \"width\": 320,\n            \"height\": 180\n          },\n          \"high\": {\n            \"url\": \"https://i.ytimg.com/vi/Z3r8V-S2B38/hqdefault.jpg\",\n            \"width\": 480,\n            \"height\": 360\n          },\n          \"standard\": {\n            \"url\": \"https://i.ytimg.com/vi/Z3r8V-S2B38/sddefault.jpg\",\n            \"width\": 640,\n            \"height\": 480\n          }\n        },\n        \"channelTitle\": \"Urara1966 ASMR\",\n        \"playlistId\": \"PL0701DD1EA18F89C6\",\n        \"position\": 0,\n        \"resourceId\": {\n          \"kind\": \"youtube#video\",\n          \"videoId\": \"Z3r8V-S2B38\"\n        }\n      }\n    }\n  ]\n}\n\n\n\u7121\u9650\u30b9\u30af\u30ed\u30fc\u30eb\u51e6\u7406\n\nindex.js\n$(function(){\n\n    $(window).bind('scroll', function(e) {\n      if(currentPage == totalPage){\n        $(window).unbind('scroll');\n        return;\n      }\n      scrollHeight = $(document).height();\n      scrollPosition = $(window).height() + $(window).scrollTop();\n      if ((scrollHeight - scrollPosition) / scrollHeight <= 0.05){\n        //\u30b9\u30af\u30ed\u30fc\u30eb\u306e\u4f4d\u7f6e\u304c\u4e0b\u90e85%\u306e\u7bc4\u56f2\u306b\u6765\u305f\u5834\u5408\n        if(!loadingFlg){\n          addContent();\n        }\n      }\n    });\n\n  });\n\n\n\n\n\u30b9\u30af\u30ed\u30fc\u30eb\u3092\u3057\u3066\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u4f4d\u7f6e\u304c\u4e0b\u90e85\uff05\u306e\u4f4d\u7f6e\u306b\u6765\u305f\u6642\u306b\u3001\u518d\u3073addContent()\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3001DOM\u306e\u8ffd\u52a0\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u6642\u3001loadingFlg=true\u306e\u6642\u306fDOM\u3078\u8ffd\u52a0\u3059\u308b\u51e6\u7406\u3092\u884c\u3044\u307e\u305b\u3093\u3002\n\u30da\u30fc\u30b8\u306e\u8aad\u307f\u8fbc\u307f\u3092\u9032\u3081\u3066\u3001\u73fe\u5728\u306e\u30da\u30fc\u30b8\u304c\u6700\u5f8c\u306e\u30da\u30fc\u30b8\u306b\u306a\u3063\u305f\u6642\u306f\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u51e6\u7406\u3092unbind\u3057\u307e\u3059\u3002\n\n\n\u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\n\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\n\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30ebDL\n\n\u5099\u8003\n\u300cYouTube IFrame API\u300d\u3068\u300cAPI Client Library for JavaScript (Beta)\u300d\u3092\u4f7f\u7528\u3057\u305f\u5225\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b5\u30f3\u30d7\u30eb\u3082\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\nYouTube\u306e\u518d\u751f\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3066js\u3067\u51fa\u529b\u3059\u308b\u30b5\u30f3\u30d7\u30eb(YouTube API\u6d3b\u7528\u7de8)\n\nYouTubeAPI\u3092\u4f7f\u7528\u3057\u3066\u3001YouTube\u306e\u518d\u751f\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3001\u518d\u751f\u30ea\u30b9\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u52d5\u753b\u3092\u9806\u756a\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\n\nAPI\u30ad\u30fc\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u4e0b\u8a18\u30ea\u30f3\u30af\u3092\u53c2\u8003\u306b\u3001API\u30ad\u30fc\u3092\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n[YouTube API API\u30ad\u30fc\u306e\u53d6\u5f97\u65b9\u6cd5](http://qiita.com/chieeeeno/items/ba0d2fb0a45db786746f)\n\n##\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\n[\u30c7\u30e2](http://chieeeeno.github.io/youtube_playlist_sample/sample1)\n[\u30c7\u30e2\u30d5\u30a1\u30a4\u30ebDL](https://github.com/chieeeeno/youtube_playlist_sample)\n\n- youtube_playlist\n    + sample1\n\t    - css\u3000\uff1aCSS\u30d5\u30a1\u30a4\u30eb\n\t    - img\u3000\uff1a\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\n\t    + js\u3000\uff1ajs\u30d5\u30a1\u30a4\u30eb\n\t\t    - lib\u3000\uff1ajs\u30e9\u30a4\u30d6\u30e9\u30ea\uff08jQuery\u306a\u3069\uff09\n\t\t    - [index.js](https://github.com/chieeeeno/youtube_playlist_sample/blob/master/sample1/js/index.js)\n\t\t    - [youtube_api_info.json](https://github.com/chieeeeno/youtube_playlist_sample/blob/master/sample1/js/youtube_api_info.json)\n\t    + [index.html](https://github.com/chieeeeno/youtube_playlist_sample/blob/master/sample1/index.html)\n\n\n\n\n##\u89e3\u8aac\n###DOM\u69cb\u7bc9\u5f8c\u306e\u51e6\u7406\njs\u30d5\u30a1\u30a4\u30eb\u5185\u306bAPI\u30ad\u30fc\u7b49\u306e\u60c5\u5831\u3092\u6301\u305f\u305b\u305f\u304f\u306a\u304b\u3063\u305f\uff08\u30bd\u30fc\u30b9\u3067\u4e38\u898b\u3048\u306a\u306e\u3092\u9632\u304e\u305f\u3044\uff09\u306e\u3067\u3001\u305d\u308c\u3089\u306e\u60c5\u5831\u306f\u300cyoutube_api_info.json\u300d\u306b\u6301\u305f\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n```javascript:index.js\n$(function(){\n\t//API\u95a2\u9023\u306ejson\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\n    getJsonData(YT_API_JSON_INFO_URL)\n      .then(function(_jsonData){\n      ytApiKey = _jsonData.apiKey;\n      ytApiUrl = _jsonData.reqUrl;\n      ytPlaylistId = _jsonData.listId;\n\t\t\n      //\u30b3\u30f3\u30c6\u30f3\u30c4\u3092DOM\u306b\u8ffd\u52a0\n      addContent();\n    });\n  });\n  \n  \n   /**\n   * json\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n   * @param {String} JSON\u30c7\u30fc\u30bf\u306eURL\n   * @return {$.Defferd}\n   */\n  function getJsonData(_url){\n    //console.log('getJsonData()\u958b\u59cb\uff1a'+_url);\n    var $dfd = $.Deferred();\n    $.ajax({\n      url:_url,\n      dataType:'json',\n      cache:false,\n      timeout:15000\n    })\n      .done(function(_data){\n      //console.log('json\u53d6\u5f97\u6210\u529f\uff1a'+_url);\n      $dfd.resolve(_data);\n    })\n      .fail(function(_data){\n      console.log('json\u53d6\u5f97error\uff1a'+_url);\n      $dfd.reject(_data);\n    })\n      .always(function(_data){\n      //console.log('getJsonData()\u7d42\u4e86\uff1a'+_url);\n    });\n    return $dfd.promise();\n  }\n  \n```\n\n1. DOM\u69cb\u7bc9\u5f8c\u306b`getJsonData(url)`\u547c\u3073\u51fa\u3057\u3001API\u95a2\u9023\u306e\u60c5\u5831\u304c\u8a18\u8f09\u3055\u308c\u305fJSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n2. \u8aad\u307f\u8fbc\u307f\u5b8c\u4e86\u5f8c\u306f\u305d\u308c\u305e\u308c\u306e\u5024\u3092\u5909\u6570\u306b\u683c\u7d0d\u3057\u3001\n3. `addContent()`\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066HTML\u306eDOM\u306b\u60c5\u5831\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n###addContent()\u95a2\u6570\u5185\u306e\u51e6\u7406\n```javascript:index.js\n  \n  /**\n   * \u518d\u751f\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3066\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8ffd\u52a0\u3059\u308b\n   */\n  function addContent(){\n    loadingFlg = true;\n    getPlayList()\n      .then(function(_resData){\n      nextPageToken = _resData.nextPageToken != undefined ? _resData.nextPageToken : '';\n      totalResults = _resData.pageInfo.totalResults;\n      totalPage = Math.ceil(totalResults / REQ_QTY);\n      \n      insertVideo(_resData);\n      loadingFlg = false;\n    });\n  }\n  \n  \n  /**\n   * youtube\u306e\u518d\u751f\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n   * @return {$.Defferd}\n   */\n  function getPlayList(){\n    //console.log('getPlayList()\u958b\u59cb\uff1a'+ytApiUrl);\n    var $dfd = $.Deferred();\n\n    $.ajax({\n      type: 'get',\n      url: ytApiUrl,\n      dataType:'json',\n      data: {\n        part: 'snippet',\n        playlistId : ytPlaylistId,\t//\u518d\u751f\u30ea\u30b9\u30c8\u306eID\n        maxResults : REQ_QTY,\t//\u53d6\u5f97\u4ef6\u6570\n        pageToken : nextPageToken,\t//\u7dcf\u4ef6\u6570\u304c\u53d6\u5f97\u4ef6\u6570\u4ee5\u4e0a\u306e\u6642\u306b\u7d9a\u304d\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\n        key: ytApiKey\t\t//API\u30ad\u30fc\n      },\n      dataType: 'json',\n      cache: false,\n      timeout: 15000\n    })\n      .done(function(_data) {\n      //console.log('\u518d\u751f\u30ea\u30b9\u30c8\u53d6\u5f97\u6210\u529f\uff1a' + ytApiUrl);\n      $dfd.resolve(_data);\n    })\n      .fail(function(_data) {\n      console.log('\u518d\u751f\u30ea\u30b9\u30c8\u53d6\u5f97error\uff1a' + ytApiUrl);\n      $dfd.reject(_data);\n    })\n      .always(function(_data) {\n      //console.log('getPlayList()\u7d42\u4e86\uff1a' + ytApiUrl);\n    });\n\n    return $dfd.promise();\n  }\n\n\n```\n1. `loadingFlg`\u3067\u73fe\u5728API\u30ea\u30af\u30a8\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u4e2d\u304b\u3069\u3046\u304b\u306e\u30d5\u30e9\u30b0\u3092\u7acb\u3066\u307e\u3059\u3002\u3053\u308c\u306f\u5f8c\u307b\u3069\u8aac\u660e\u3059\u308b\u30b9\u30af\u30ed\u30fc\u30eb\u30a4\u30d9\u30f3\u30c8\u306e\u51e6\u7406\u3067\u4f7f\u3044\u307e\u3059\u3002\n2. `getPlayList()`\u95a2\u6570\u5185\u3067YouTubeAPI\u3092\u4f7f\u3063\u3066\u518d\u751f\u30ea\u30b9\u30c8\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u3088\u3046\u306a\u5185\u5bb9\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306ajson\u30c7\u30fc\u30bf\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n3. \u53d6\u5f97\u3057\u305fjson\u306e\u5024\u304b\u3089`nextPageToken`\u3068`totalResults`\u3092\u53d6\u5f97\u3057\u3066\u5909\u6570\u3078\u30bb\u30c3\u30c8\u3002\n4. `insertVideo()`\u95a2\u6570\u3067\u53d6\u5f97\u3057\u305fjson\u3092\u89e3\u6790\u3057\u3066\u3001DOM\u306b\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\u53d6\u5f97\u3057\u305fjson\u306e\u5024\n{\n  \"kind\": \"youtube#playlistItemListResponse\",\n  \"etag\": \"\\\"oqbvhYxBE6fAbRk6m7aLlHf5s1I/nYqIbgUq7tWbu539fSVHZI9z7hI\\\"\",\n  \"nextPageToken\": \"CAMQAA\",\n  \"pageInfo\": {\n    \"totalResults\": 20,\n    \"resultsPerPage\": 3\n  },\n  \"items\": [\n    {\n      \"kind\": \"youtube#playlistItem\",\n      \"etag\": \"\\\"oqbvhYxBE6fAbRk6m7aLlHf5s1I/3ArqdiAXaxdE2rkMYioNa8Blzlw\\\"\",\n      \"id\": \"PLQn23NEIwkU3eLnew2igtf4HRoXtnPKbw\",\n      \"snippet\": {\n        \"publishedAt\": \"2012-04-25T13:49:04.000Z\",\n        \"channelId\": \"UCiIhyfVWGSJLHMqnZMJX2hA\",\n        \"title\": \"\u732b\u3000\u6d17\u9854\u4e2d\u3000\u30cd\u30b3\",\n        \"description\": \"\u6c17\u6301\u3061\u3088\u3055\u305d\u3046\u3067\u3059\u306d\u3002\\r\\n\u3044\u308d\u3093\u306a\u732b\u518d\u751f\u30ea\u30b9\u30c8\\r\\nhttp://www.youtube.com/playlist?list=PL0701DD1EA18F89C6&feature=view_all\",\n        \"thumbnails\": {\n          \"default\": {\n            \"url\": \"https://i.ytimg.com/vi/Z3r8V-S2B38/default.jpg\",\n            \"width\": 120,\n            \"height\": 90\n          },\n          \"medium\": {\n            \"url\": \"https://i.ytimg.com/vi/Z3r8V-S2B38/mqdefault.jpg\",\n            \"width\": 320,\n            \"height\": 180\n          },\n          \"high\": {\n            \"url\": \"https://i.ytimg.com/vi/Z3r8V-S2B38/hqdefault.jpg\",\n            \"width\": 480,\n            \"height\": 360\n          },\n          \"standard\": {\n            \"url\": \"https://i.ytimg.com/vi/Z3r8V-S2B38/sddefault.jpg\",\n            \"width\": 640,\n            \"height\": 480\n          }\n        },\n        \"channelTitle\": \"Urara1966 ASMR\",\n        \"playlistId\": \"PL0701DD1EA18F89C6\",\n        \"position\": 0,\n        \"resourceId\": {\n          \"kind\": \"youtube#video\",\n          \"videoId\": \"Z3r8V-S2B38\"\n        }\n      }\n    }\n  ]\n}\n```\n###\u7121\u9650\u30b9\u30af\u30ed\u30fc\u30eb\u51e6\u7406\n\n```javascript:index.js\n$(function(){\n\n    $(window).bind('scroll', function(e) {\n      if(currentPage == totalPage){\n        $(window).unbind('scroll');\n        return;\n      }\n      scrollHeight = $(document).height();\n      scrollPosition = $(window).height() + $(window).scrollTop();\n      if ((scrollHeight - scrollPosition) / scrollHeight <= 0.05){\n        //\u30b9\u30af\u30ed\u30fc\u30eb\u306e\u4f4d\u7f6e\u304c\u4e0b\u90e85%\u306e\u7bc4\u56f2\u306b\u6765\u305f\u5834\u5408\n        if(!loadingFlg){\n          addContent();\n        }\n      }\n    });\n\n  });\n\n```\n1. \u30b9\u30af\u30ed\u30fc\u30eb\u3092\u3057\u3066\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u4f4d\u7f6e\u304c\u4e0b\u90e85\uff05\u306e\u4f4d\u7f6e\u306b\u6765\u305f\u6642\u306b\u3001\u518d\u3073`addContent()`\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3001DOM\u306e\u8ffd\u52a0\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u6642\u3001`loadingFlg=true`\u306e\u6642\u306fDOM\u3078\u8ffd\u52a0\u3059\u308b\u51e6\u7406\u3092\u884c\u3044\u307e\u305b\u3093\u3002\n2. \u30da\u30fc\u30b8\u306e\u8aad\u307f\u8fbc\u307f\u3092\u9032\u3081\u3066\u3001\u73fe\u5728\u306e\u30da\u30fc\u30b8\u304c\u6700\u5f8c\u306e\u30da\u30fc\u30b8\u306b\u306a\u3063\u305f\u6642\u306f\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u51e6\u7406\u3092unbind\u3057\u307e\u3059\u3002\n\n###\u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\n[\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb](http://chieeeeno.github.io/youtube_playlist_sample/sample1)\n[\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30ebDL](https://github.com/chieeeeno/youtube_playlist_sample)\n\n\n###\u5099\u8003\n\u300cYouTube IFrame API\u300d\u3068\u300cAPI Client Library for JavaScript (Beta)\u300d\u3092\u4f7f\u7528\u3057\u305f\u5225\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b5\u30f3\u30d7\u30eb\u3082\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n[YouTube\u306e\u518d\u751f\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u3066js\u3067\u51fa\u529b\u3059\u308b\u30b5\u30f3\u30d7\u30eb(YouTube API\u6d3b\u7528\u7de8)](http://qiita.com/chieeeeno/items/da22301be96602662484)\n\n\n", "tags": ["JavaScript", "jQuery", "YouTube"]}