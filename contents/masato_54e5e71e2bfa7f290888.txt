{"tags": ["reactjs0.12.2", "browserify", "gulp"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002React\u306f\u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b5\u30a4\u30c8\u304c\u4e01\u5be7\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3001Tutorial\u306b\u7fd2\u3044\u306a\u304c\u3089\u52c9\u5f37\u3059\u308b\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\u624b\u9806\u306fTutorial\u306b\u5f93\u3044\u307e\u3059\u304c\u3001JSX\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306fGulp\u3068Browserify\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\u30aa\u30ea\u30b8\u30ca\u30eb\u306eTutorial\u306eGitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306freactjs/react-tutorial\u3067\u3059\u3001\u4eca\u56de\u4fee\u6b63\u3057\u306a\u304c\u3089\u4f5c\u6210\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\u6700\u521d\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\u3092\u3057\u307e\u3059\u3002\n$ mkdir -p ~/react_apps/react-tutorial\n$ cd !$\n$ mkdir -p public/{javascripts,stylesheets} src\n\n\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ npm init\n$ npm install -g gulp\n$ npm install --save-dev gulp react browserify reactify vinyl-source-stream vinyl-buffer gulp-uglify\n\npackage.json\u306edevDependencies\u306b\u958b\u767a\u7528\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a2d\u5b9a\u304c\u5165\u308a\u307e\u3057\u305f\u3002\n\n~/react_apps/react-tutorial/package.json\n{\n  \"name\": \"tutorial\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"gulpfile.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"Masato Shimizu\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"body-parser\": \"^1.10.0\",\n    \"browserify\": \"^8.0.2\",\n    \"express\": \"^4.10.6\",\n    \"gulp\": \"^3.8.10\",\n    \"gulp-uglify\": \"^1.0.2\",\n    \"react\": \"^0.12.2\",\n    \"reactify\": \"^0.17.1\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.0.0\"\n  }\n}\n\n\n\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 1 - \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30921\u3064\u4f5c\u6210\n\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306freactjs/react-tutorial\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n$ wget -P public/stylesheets https://raw.githubusercontent.com/reactjs/react-tutorial/master/public/css/base.css\n\nindex.html\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002js\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305fapp.js\u30d5\u30a1\u30a4\u30eb\u306fbody\u8981\u7d20\u306e\u4e2d\u3067\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/public/index.html\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Hello React</title>\n    <link rel=\"stylesheet\" href=\"stylesheets/base.css\" />\n    <script src=\"http://code.jquery.com/jquery-1.10.0.min.js\"></script>\n  </head>\n  <body>\n    <div id=\"content\"></div>\n    <script src=\"javascripts/app.js\"></script>\n  </body>\n</html>\n\n\nTutorial\u3067\u306f\u4e00\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u304c\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8a18\u8ff0\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3001component.jsx\u3068\u3057\u3066\u5206\u5272\u3057\u307e\u3057\u305f\u3002CommentBox\u306fexport\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/src/comment.jsx\nvar React = require('react');\nvar CommentBox = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        Hello, world! I am a CommentBox.\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n\n\nReact\u306e\u30e1\u30a4\u30f3\u3068\u306a\u308bmain.js\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002ComponentBox\u306frequire\u3057\u3066JSX\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u3057\u3066\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/src/main.js\nvar React = require('react');\nvar CommentBox = require('./comment.jsx');\nReact.renderComponent(\n  <CommentBox />,\n  document.getElementById('content')\n);\n\n\ngulpfile.js\u306fbrowserify\u3067JSX\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001JS\u30d5\u30a1\u30a4\u30eb\u3092uglify\u3059\u308b\u3060\u3051\u306e\u6700\u4f4e\u9650\u306e\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/gulpfile.js\nvar gulp = require('gulp');\nvar buffer = require('vinyl-buffer');\nvar source = require(\"vinyl-source-stream\");\nvar browserify = require('browserify');\nvar reactify = require('reactify');\nvar uglify = require('gulp-uglify');\ngulp.task('browserify', function(){\n  var bundler = browserify('./src/main.js',{ debug: true });\n  return bundler\n    .transform(reactify)\n    .bundle()\n    .pipe(source('app.js'))\n    .pipe(buffer())\n    .pipe(uglify())\n    .pipe(gulp.dest('./public/javascripts'));\n});\n\n\ngulp browserify\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3066JSX\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n$ gulp browserify\n[16:58:03] Using gulpfile ~/react_apps/tutorial/gulpfile.js\n[16:58:03] Starting 'browserify'...\n[16:58:05] Finished 'browserify' after 1.98 s\n\n\u4e00\u5ea6\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u308b\u305f\u3081\u3001Python\u306eSimpleHTTPServer\u3092public\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u304b\u3089\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ cd ~/react_apps/react-tutorial/public\n$ python -m SimpleHTTPServer 3000\n\nDocker\u30db\u30b9\u30c8\u304b\u3089\u958b\u767a\u7528\u306e\u30b3\u30f3\u30c6\u30ca\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u304b\u3089\u3001ngrok\u3092\u8d77\u52d5\u3057\u3066\u30c8\u30f3\u30cd\u30eb\u3055\u305b\u307e\u3059\u3002\n$ docker inspect --format=\"&#123;&#123; .NetworkSettings.IPAddress }}\" dev\n172.17.1.157\n$ docker run -it --rm wizardapps/ngrok:latest ngrok 172.17.1.157:3000\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\nhttp://684baaf0.ngrok.com/\n\n\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 2-5 - \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8907\u6570\u3067\u69cb\u6210\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e2\u304b\u30895\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f5c\u6210\u3068\u69cb\u6210\u3092\u884c\u3044\u307e\u3059\u3002\n- CommentBox\n  - CommentList\n    - Comment\n  - CommentForm\n\ncomment.jsx\u306e\u4e2d\u306b\u3001CommentList\u3001Comment\u3001CommentForm\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/src/comment.jsx\nvar React = require('react');\nvar Comment = React.createClass({\n  render: function() {\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        {this.props.children}\n      </div>\n    );\n  }\n});\nvar CommentList = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentList\">\n        <Comment author=\"Pete Hunt\">This is one comment</Comment>\n        <Comment author=\"Jordan Walke\">This is *another* comment</Comment>\n      </div>\n    );\n  }\n});\nvar CommentForm = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentForm\">\n        Hello, world! I am a CommentForm.\n      </div>\n    );\n  }\n});\nvar CommentBox = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList />\n        <CommentForm />\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n\n\ngulp browserify\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3066JSX\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n$ gulp browserify\n[18:37:06] Using gulpfile ~/react_apps/react-tutorial/gulpfile.js\n[18:37:06] Starting 'browserify'...\n[18:37:10] Finished 'browserify' after 3.93 s\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 6-13 - \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u5f15\u6570\u3092\u6e21\u3059\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb6\u304b\u3089\u306f\u3001Markdown\u3092\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u5909\u63db\u3059\u308b\u305f\u3081\u306bShowdown\u3092\u4f7f\u3044\u307e\u3059\u3002require\u3067\u306a\u304fscript\u8981\u7d20\u304b\u3089\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/public/index.html\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Hello React</title>\n    <link rel=\"stylesheet\" href=\"stylesheets/base.css\" />\n    <script src=\"http://code.jquery.com/jquery-1.10.0.min.js\"></script>\n    <script src=\"http://cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js\"></script>\n  </head>\n  <body>\n    <div id=\"content\"></div>\n    <script src=\"javascripts/app.js\"></script>\n  </body>\n</html>\n\n\nmain.js\u3067\u306fJSON\u306e\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3057\u3001CommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3078\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/src/main.js\nvar React = require('react');\nvar CommentBox = require('./comment.jsx');\nvar data = [\n  {author: \"Pete Hunt\", text: \"(tutorial 13) This is one comment\"},\n  {author: \"Jordan Walke\", text: \"(tutorial 13) This is *another* comment\"}\n];\nReact.renderComponent(\n  <CommentBox data={data} />,\n  document.getElementById('content')\n);\n\n\nmain.js\u304b\u3089CommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3078\u5f15\u6570\u3068\u3057\u3066\u6e21\u3055\u308c\u305fdata\u306fthis.props.data\u3068\u3057\u3066\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002<CommentList data={this.props.data} />\u306e\u3088\u3046\u306bCommentList\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/src/comment.jsx\nvar React = require('react');\nvar converter = new Showdown.converter();\nvar Comment = React.createClass({\n  render: function() {\n    var rawMarkup = converter.makeHtml(this.props.children.toString());\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        <span dangerouslySetInnerHTML=&#123;&#123;__html: rawMarkup}} />\n      </div>\n    );\n  }\n});\nvar CommentList = React.createClass({\n  render: function() {\n    var commentNodes = this.props.data.map(function (comment) {\n      return (\n        <Comment author={comment.author}>\n          {comment.text}\n        </Comment>\n      );\n    });\n    return (\n      <div className=\"commentList\">\n        {commentNodes}\n      </div>\n    );\n  }\n});\nvar CommentForm = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentForm\">\n        Hello, world! I am a CommentForm.\n      </div>\n    );\n  }\n});\nvar CommentBox = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm />\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n\n\ngulp browserify\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u305f\u3042\u3068\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ gulp browserify\n\n\n\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 14-19 - Ajax\nmain.js\u3067\u4f5c\u6210\u3057\u3066\u3044\u305fJSON\u30c7\u30fc\u30bf\u3092\u3001url\u3092\u6307\u5b9a\u3057\u3066Ajax\u3067\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002pollInterval\u3082CommentBox\u306e\u5f15\u6570\u3068\u3057\u3066Ajax\u306e\u30dd\u30fc\u30ea\u30f3\u30b0\u9593\u9694\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/src/main.js\nvar React = require('react');\nvar CommentBox = require('./comment.jsx');\nReact.renderComponent(\n  <CommentBox url=\"comments.json\" pollInterval={2000} />,\n  document.getElementById('content')\n);\n\n\ncomment.jsx\u306fCommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3060\u3051\u4fee\u6b63\u3057\u307e\u3059\u3002getInitialState\u306estate\u3067\u521d\u671f\u5316\u3059\u308bdata\u306fmutable\u306a\u5909\u6570\u3068\u3057\u3066\u3001this.state.data\u306e\u3088\u3046\u306b\u53c2\u7167\u3068\u3001this.setState({data: data})\u306e\u3088\u3046\u306b\u4ee3\u5165\u304c\u3067\u304d\u307e\u3059\u3002\u4e00\u65b9immutable\u306a\u5909\u6570\u306f\u3001this.props.pollInterval\u3068\u3057\u3066\u53c2\u7167\u306e\u307f\u53ef\u80fd\u3067\u3059\u3002\n\n~/react_apps/react-tutorial/src/comment.jsx\n...\nvar CommentBox = React.createClass({\n  loadCommentsFromServer: function() {\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      success: function(data) {\n        this.setState({data: data});\n      }.bind(this),\n      error: function(xhr, status, err) {\n        console.error(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  getInitialState: function() {\n    return {data: []};\n  },\n  componentDidMount: function() {\n    this.loadCommentsFromServer();\n    setInterval(this.loadCommentsFromServer, this.props.pollInterval);\n  },\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.state.data} />\n        <CommentForm />\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n\n\ncomments.json\u3092public\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002main.js\u306e\u3068\u304d\u306f\u30ad\u30fc\u306f\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001JSON\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u30ed\u30fc\u30c9\u3059\u308b\u6642\u306f\u30ad\u30fc\u3082\"author\"\u306e\u3088\u3046\u306b\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u3057\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/public/comments.json\n[\n  {\"author\": \"Pete Hunt\", \"text\": \"(tutorial 19) This is one comment\"},\n  {\"author\": \"Jordan Walke\", \"text\": \"(tutorial 19) This is *another* comment\"}\n]\n\n\ngulp browserify\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u305f\u3042\u3068\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ gulp browserify\n\n\n\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 20 - \u30d5\u30a9\u30fc\u30e0\u306esubmit\u3068Express\ncomment.jsx\u306eCommentForm\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4fee\u6b63\u3057\u3066\u3001Ajax\u3067\u30d5\u30a9\u30fc\u30e0\u306esubmit\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u5b9f\u969b\u306bPOST\u3059\u308b\u306e\u306fCommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\u3002CommentForm\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u30d5\u30a9\u30fc\u30e0\u306esubmit\u30a4\u30d9\u30f3\u30c8\u3067onSubmit={this.handleSubmit}\u3068\u3057\u3066handleSubmit\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002handleSubmit\u95a2\u6570\u306e\u4e2d\u3067onCommentSubmit\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3055\u305b\u3066\u3001CommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u3044\u308bhandleCommentSubmit\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/src/comment.jsx\n...\nvar CommentForm = React.createClass({\n  handleSubmit: function(e) {\n    e.preventDefault();\n    var author = this.refs.author.getDOMNode().value.trim();\n    var text = this.refs.text.getDOMNode().value.trim();\n    if (!text || !author) {\n      return;\n    }\n    this.props.onCommentSubmit({author: author, text: text});\n    this.refs.author.getDOMNode().value = '';\n    this.refs.text.getDOMNode().value = '';\n    return;\n  },\n  render: function() {\n    return (\n      <form className=\"commentForm\" onSubmit={this.handleSubmit}>\n        <input type=\"text\" placeholder=\"Your name\" ref=\"author\" />\n        <input type=\"text\" placeholder=\"Say something...\" ref=\"text\" />\n        <input type=\"submit\" value=\"Post\" />\n      </form>\n    );\n  }\n});\nvar CommentBox = React.createClass({\n  loadCommentsFromServer: function() {\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      success: function(data) {\n        this.setState({data: data});\n      }.bind(this),\n      error: function(xhr, status, err) {\n        console.error(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  handleCommentSubmit: function(comment) {\n    var comments = this.state.data;\n    var newComments = comments.concat([comment]);\n    this.setState({data: newComments});\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      type: 'POST',\n      success: function(data) {\n        this.setState({data: data});\n      }.bind(this),\n      error: function(xhr, status, err) {\n        console.error(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  getInitialState: function() {\n    return {data: []};\n  },\n  componentDidMount: function() {\n    this.loadCommentsFromServer();\n    setInterval(this.loadCommentsFromServer, this.props.pollInterval);\n  },\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.state.data} />\n        <CommentForm onCommentSubmit={this.handleCommentSubmit} />\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n\n\nCommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306eAjax\u304b\u3089\u30dd\u30b9\u30c8\u3055\u308c\u308bJSON\u3092\u53d7\u3051\u4ed8\u3051\u308b\u305f\u3081\u3001Express\u30b5\u30fc\u30d0\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002server.js\u306freactjs/react-tutorial\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n$ cd ~/react_apps/react-tutorial\n$ wget https://raw.githubusercontent.com/reactjs/react-tutorial/master/server.js\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fExpress\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n~/react_apps/react-tutorial/server.js\nvar fs = require('fs');\nvar path = require('path');\nvar express = require('express');\nvar bodyParser = require('body-parser');\nvar app = express();\nvar comments = JSON.parse(fs.readFileSync('_comments.json'));\napp.use('/', express.static(path.join(__dirname, 'public')));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({extended: true}));\napp.get('/comments.json', function(req, res) {\n  res.setHeader('Content-Type', 'application/json');\n  res.send(JSON.stringify(comments));\n});\napp.post('/comments.json', function(req, res) {\n  comments.push(req.body);\n  res.setHeader('Content-Type', 'application/json');\n  res.send(JSON.stringify(comments));\n});\napp.listen(3000);\nconsole.log('Server started: http://localhost:3000/');\n\n\nfs.readFileSync('_comments.json')\u306e\u7b87\u6240\u3067\u30ed\u30fc\u30c9\u3057\u3066\u3044\u308bJSON\u30d5\u30a1\u30a4\u30eb\u3092\u79fb\u52d5\u3057\u307e\u3059\u3002\n$ cd ~/react_apps/react-tutorial\n$ mv public/comments.json ./_comments.json\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30ed\u30fc\u30ab\u30eb\u306bExpress\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ npm install --save-dev express body-parser\n\nPython\u306eSimpleHTTPServer\u3092\u505c\u6b62\u3057\u307e\u3059\u3002gulp browserify\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u5f8c\u3001Express\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ gulp browserify\n$ node server.js\nServer started: http://localhost:3000/\n\n\u30d6\u30e9\u30a6\u30b6\u3067URL\u3092\u5b9f\u884c\u3059\u308b\u3068\u30d5\u30a9\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u9069\u5f53\u306bYour name\u3068Say something\u3092\u5165\u529b\u3057\u3066\u307f\u307e\u3059\u3002\n\nReact\u306f\u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b5\u30a4\u30c8\u304c\u4e01\u5be7\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3001[Tutorial](http://facebook.github.io/react/docs/tutorial.html)\u306b\u7fd2\u3044\u306a\u304c\u3089\u52c9\u5f37\u3059\u308b\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\u624b\u9806\u306fTutorial\u306b\u5f93\u3044\u307e\u3059\u304c\u3001JSX\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306fGulp\u3068Browserify\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\u30aa\u30ea\u30b8\u30ca\u30eb\u306eTutorial\u306eGitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306f[reactjs/react-tutorial](https://github.com/reactjs/react-tutorial)\u3067\u3059\u3001\u4eca\u56de\u4fee\u6b63\u3057\u306a\u304c\u3089\u4f5c\u6210\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306f[\u3053\u3061\u3089](https://github.com/masato/react-tutorial)\u3067\u3059\u3002\n\n\n## \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\n\u6700\u521d\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\u3092\u3057\u307e\u3059\u3002\n\n``` bash\n$ mkdir -p ~/react_apps/react-tutorial\n$ cd !$\n$ mkdir -p public/{javascripts,stylesheets} src\n```\n\n\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n``` bash\n$ npm init\n$ npm install -g gulp\n$ npm install --save-dev gulp react browserify reactify vinyl-source-stream vinyl-buffer gulp-uglify\n```\n\npackage.json\u306edevDependencies\u306b\u958b\u767a\u7528\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a2d\u5b9a\u304c\u5165\u308a\u307e\u3057\u305f\u3002\n\n``` json:~/react_apps/react-tutorial/package.json\n{\n  \"name\": \"tutorial\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"gulpfile.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"Masato Shimizu\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"body-parser\": \"^1.10.0\",\n    \"browserify\": \"^8.0.2\",\n    \"express\": \"^4.10.6\",\n    \"gulp\": \"^3.8.10\",\n    \"gulp-uglify\": \"^1.0.2\",\n    \"react\": \"^0.12.2\",\n    \"reactify\": \"^0.17.1\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.0.0\"\n  }\n}\n```\n\n## \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 1 - \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30921\u3064\u4f5c\u6210\n\n\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306f[reactjs/react-tutorial](https://github.com/reactjs/react-tutorial)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n``` bash\n$ wget -P public/stylesheets https://raw.githubusercontent.com/reactjs/react-tutorial/master/public/css/base.css\n```\n\nindex.html\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002js\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305fapp.js\u30d5\u30a1\u30a4\u30eb\u306fbody\u8981\u7d20\u306e\u4e2d\u3067\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n``` html:~/react_apps/react-tutorial/public/index.html\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Hello React</title>\n    <link rel=\"stylesheet\" href=\"stylesheets/base.css\" />\n    <script src=\"http://code.jquery.com/jquery-1.10.0.min.js\"></script>\n  </head>\n  <body>\n    <div id=\"content\"></div>\n    <script src=\"javascripts/app.js\"></script>\n  </body>\n</html>\n```\n\nTutorial\u3067\u306f\u4e00\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u304c\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8a18\u8ff0\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3001component.jsx\u3068\u3057\u3066\u5206\u5272\u3057\u307e\u3057\u305f\u3002CommentBox\u306fexport\u3057\u307e\u3059\u3002\n\n``` js:~/react_apps/react-tutorial/src/comment.jsx\nvar React = require('react');\nvar CommentBox = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        Hello, world! I am a CommentBox.\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n```\n\nReact\u306e\u30e1\u30a4\u30f3\u3068\u306a\u308bmain.js\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002ComponentBox\u306frequire\u3057\u3066JSX\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u3057\u3066\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n``` js:~/react_apps/react-tutorial/src/main.js\nvar React = require('react');\nvar CommentBox = require('./comment.jsx');\nReact.renderComponent(\n  <CommentBox />,\n  document.getElementById('content')\n);\n```\n\ngulpfile.js\u306fbrowserify\u3067JSX\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001JS\u30d5\u30a1\u30a4\u30eb\u3092uglify\u3059\u308b\u3060\u3051\u306e\u6700\u4f4e\u9650\u306e\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n``` js:~/react_apps/react-tutorial/gulpfile.js\nvar gulp = require('gulp');\nvar buffer = require('vinyl-buffer');\nvar source = require(\"vinyl-source-stream\");\nvar browserify = require('browserify');\nvar reactify = require('reactify');\nvar uglify = require('gulp-uglify');\ngulp.task('browserify', function(){\n  var bundler = browserify('./src/main.js',{ debug: true });\n  return bundler\n    .transform(reactify)\n    .bundle()\n    .pipe(source('app.js'))\n    .pipe(buffer())\n    .pipe(uglify())\n    .pipe(gulp.dest('./public/javascripts'));\n});\n```\n\n`gulp browserify`\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3066JSX\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n\n``` bash\n$ gulp browserify\n[16:58:03] Using gulpfile ~/react_apps/tutorial/gulpfile.js\n[16:58:03] Starting 'browserify'...\n[16:58:05] Finished 'browserify' after 1.98 s\n```\n\n\u4e00\u5ea6\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u308b\u305f\u3081\u3001Python\u306eSimpleHTTPServer\u3092public\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u304b\u3089\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n``` bash\n$ cd ~/react_apps/react-tutorial/public\n$ python -m SimpleHTTPServer 3000\n```\n\nDocker\u30db\u30b9\u30c8\u304b\u3089\u958b\u767a\u7528\u306e\u30b3\u30f3\u30c6\u30ca\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u304b\u3089\u3001ngrok\u3092\u8d77\u52d5\u3057\u3066\u30c8\u30f3\u30cd\u30eb\u3055\u305b\u307e\u3059\u3002\n\n``` bash\n$ docker inspect --format=\"&#123;&#123; .NetworkSettings.IPAddress }}\" dev\n172.17.1.157\n$ docker run -it --rm wizardapps/ngrok:latest ngrok 172.17.1.157:3000\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\nhttp://684baaf0.ngrok.com/\n\n![hello-react.png](https://qiita-image-store.s3.amazonaws.com/0/43745/c2bdd0c0-867c-4582-d58b-68bb46a62943.png)\n\n\n## \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 2-5 - \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8907\u6570\u3067\u69cb\u6210\n\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e2\u304b\u30895\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f5c\u6210\u3068\u69cb\u6210\u3092\u884c\u3044\u307e\u3059\u3002\n\n```\n- CommentBox\n  - CommentList\n    - Comment\n  - CommentForm\n```\n\ncomment.jsx\u306e\u4e2d\u306b\u3001CommentList\u3001Comment\u3001CommentForm\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n``` js:~/react_apps/react-tutorial/src/comment.jsx\nvar React = require('react');\nvar Comment = React.createClass({\n  render: function() {\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        {this.props.children}\n      </div>\n    );\n  }\n});\nvar CommentList = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentList\">\n        <Comment author=\"Pete Hunt\">This is one comment</Comment>\n        <Comment author=\"Jordan Walke\">This is *another* comment</Comment>\n      </div>\n    );\n  }\n});\nvar CommentForm = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentForm\">\n        Hello, world! I am a CommentForm.\n      </div>\n    );\n  }\n});\nvar CommentBox = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList />\n        <CommentForm />\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n```\n\n`gulp browserify`\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3066JSX\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n\n``` bash\n$ gulp browserify\n[18:37:06] Using gulpfile ~/react_apps/react-tutorial/gulpfile.js\n[18:37:06] Starting 'browserify'...\n[18:37:10] Finished 'browserify' after 3.93 s\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n![hello-react-comments.png](https://qiita-image-store.s3.amazonaws.com/0/43745/74167b39-5e66-ae68-89b6-3cd85f339ecb.png)\n\n## \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 6-13 - \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u5f15\u6570\u3092\u6e21\u3059\n\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb6\u304b\u3089\u306f\u3001Markdown\u3092\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u5909\u63db\u3059\u308b\u305f\u3081\u306b[Showdown](https://github.com/showdownjs/showdown)\u3092\u4f7f\u3044\u307e\u3059\u3002require\u3067\u306a\u304fscript\u8981\u7d20\u304b\u3089\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n``` html:~/react_apps/react-tutorial/public/index.html\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Hello React</title>\n    <link rel=\"stylesheet\" href=\"stylesheets/base.css\" />\n    <script src=\"http://code.jquery.com/jquery-1.10.0.min.js\"></script>\n    <script src=\"http://cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js\"></script>\n  </head>\n  <body>\n    <div id=\"content\"></div>\n    <script src=\"javascripts/app.js\"></script>\n  </body>\n</html>\n```\n\nmain.js\u3067\u306fJSON\u306e\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3057\u3001CommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3078\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u307e\u3059\u3002\n\n``` js:~/react_apps/react-tutorial/src/main.js\nvar React = require('react');\nvar CommentBox = require('./comment.jsx');\nvar data = [\n  {author: \"Pete Hunt\", text: \"(tutorial 13) This is one comment\"},\n  {author: \"Jordan Walke\", text: \"(tutorial 13) This is *another* comment\"}\n];\nReact.renderComponent(\n  <CommentBox data={data} />,\n  document.getElementById('content')\n);\n```\n\nmain.js\u304b\u3089CommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3078\u5f15\u6570\u3068\u3057\u3066\u6e21\u3055\u308c\u305f`data`\u306f`this.props.data`\u3068\u3057\u3066\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002`<CommentList data={this.props.data} />`\u306e\u3088\u3046\u306bCommentList\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u307e\u3059\u3002\n\n\n``` js:~/react_apps/react-tutorial/src/comment.jsx\nvar React = require('react');\nvar converter = new Showdown.converter();\nvar Comment = React.createClass({\n  render: function() {\n    var rawMarkup = converter.makeHtml(this.props.children.toString());\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        <span dangerouslySetInnerHTML=&#123;&#123;__html: rawMarkup}} />\n      </div>\n    );\n  }\n});\nvar CommentList = React.createClass({\n  render: function() {\n    var commentNodes = this.props.data.map(function (comment) {\n      return (\n        <Comment author={comment.author}>\n          {comment.text}\n        </Comment>\n      );\n    });\n    return (\n      <div className=\"commentList\">\n        {commentNodes}\n      </div>\n    );\n  }\n});\nvar CommentForm = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentForm\">\n        Hello, world! I am a CommentForm.\n      </div>\n    );\n  }\n});\nvar CommentBox = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm />\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n```\n\n`gulp browserify`\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u305f\u3042\u3068\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n``` bash\n$ gulp browserify\n```\n\n![hello-react-comments-13.png](https://qiita-image-store.s3.amazonaws.com/0/43745/ba3e4d6f-0e3f-2a2f-a99d-bf79b392a464.png)\n\n\n## \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 14-19 - Ajax\n\nmain.js\u3067\u4f5c\u6210\u3057\u3066\u3044\u305fJSON\u30c7\u30fc\u30bf\u3092\u3001url\u3092\u6307\u5b9a\u3057\u3066Ajax\u3067\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002pollInterval\u3082CommentBox\u306e\u5f15\u6570\u3068\u3057\u3066Ajax\u306e\u30dd\u30fc\u30ea\u30f3\u30b0\u9593\u9694\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n``` js:~/react_apps/react-tutorial/src/main.js\nvar React = require('react');\nvar CommentBox = require('./comment.jsx');\nReact.renderComponent(\n  <CommentBox url=\"comments.json\" pollInterval={2000} />,\n  document.getElementById('content')\n);\n```\n\ncomment.jsx\u306fCommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3060\u3051\u4fee\u6b63\u3057\u307e\u3059\u3002getInitialState\u306estate\u3067\u521d\u671f\u5316\u3059\u308b`data`\u306fmutable\u306a\u5909\u6570\u3068\u3057\u3066\u3001`this.state.data`\u306e\u3088\u3046\u306b\u53c2\u7167\u3068\u3001`this.setState({data: data})`\u306e\u3088\u3046\u306b\u4ee3\u5165\u304c\u3067\u304d\u307e\u3059\u3002\u4e00\u65b9immutable\u306a\u5909\u6570\u306f\u3001`this.props.pollInterval`\u3068\u3057\u3066\u53c2\u7167\u306e\u307f\u53ef\u80fd\u3067\u3059\u3002\n\n``` js:~/react_apps/react-tutorial/src/comment.jsx\n...\nvar CommentBox = React.createClass({\n  loadCommentsFromServer: function() {\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      success: function(data) {\n        this.setState({data: data});\n      }.bind(this),\n      error: function(xhr, status, err) {\n        console.error(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  getInitialState: function() {\n    return {data: []};\n  },\n  componentDidMount: function() {\n    this.loadCommentsFromServer();\n    setInterval(this.loadCommentsFromServer, this.props.pollInterval);\n  },\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.state.data} />\n        <CommentForm />\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n```\n\ncomments.json\u3092public\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002main.js\u306e\u3068\u304d\u306f\u30ad\u30fc\u306f\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001JSON\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u30ed\u30fc\u30c9\u3059\u308b\u6642\u306f\u30ad\u30fc\u3082`\"author\"`\u306e\u3088\u3046\u306b\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u3057\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\n``` json:~/react_apps/react-tutorial/public/comments.json\n[\n  {\"author\": \"Pete Hunt\", \"text\": \"(tutorial 19) This is one comment\"},\n  {\"author\": \"Jordan Walke\", \"text\": \"(tutorial 19) This is *another* comment\"}\n]\n```\n\n`gulp browserify`\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u305f\u3042\u3068\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n``` bash\n$ gulp browserify\n```\n\n![hello-react-comments-19.png](https://qiita-image-store.s3.amazonaws.com/0/43745/85474dc7-330f-0aa5-3e4f-f9075a744907.png)\n\n## \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb 20 - \u30d5\u30a9\u30fc\u30e0\u306esubmit\u3068Express\n\ncomment.jsx\u306eCommentForm\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4fee\u6b63\u3057\u3066\u3001Ajax\u3067\u30d5\u30a9\u30fc\u30e0\u306esubmit\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u5b9f\u969b\u306bPOST\u3059\u308b\u306e\u306fCommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\u3002CommentForm\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u30d5\u30a9\u30fc\u30e0\u306esubmit\u30a4\u30d9\u30f3\u30c8\u3067`onSubmit={this.handleSubmit}`\u3068\u3057\u3066`handleSubmit`\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002`handleSubmit`\u95a2\u6570\u306e\u4e2d\u3067`onCommentSubmit`\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3055\u305b\u3066\u3001CommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u3044\u308b`handleCommentSubmit`\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n``` js:~/react_apps/react-tutorial/src/comment.jsx\n...\nvar CommentForm = React.createClass({\n  handleSubmit: function(e) {\n    e.preventDefault();\n    var author = this.refs.author.getDOMNode().value.trim();\n    var text = this.refs.text.getDOMNode().value.trim();\n    if (!text || !author) {\n      return;\n    }\n    this.props.onCommentSubmit({author: author, text: text});\n    this.refs.author.getDOMNode().value = '';\n    this.refs.text.getDOMNode().value = '';\n    return;\n  },\n  render: function() {\n    return (\n      <form className=\"commentForm\" onSubmit={this.handleSubmit}>\n        <input type=\"text\" placeholder=\"Your name\" ref=\"author\" />\n        <input type=\"text\" placeholder=\"Say something...\" ref=\"text\" />\n        <input type=\"submit\" value=\"Post\" />\n      </form>\n    );\n  }\n});\nvar CommentBox = React.createClass({\n  loadCommentsFromServer: function() {\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      success: function(data) {\n        this.setState({data: data});\n      }.bind(this),\n      error: function(xhr, status, err) {\n        console.error(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  handleCommentSubmit: function(comment) {\n    var comments = this.state.data;\n    var newComments = comments.concat([comment]);\n    this.setState({data: newComments});\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      type: 'POST',\n      success: function(data) {\n        this.setState({data: data});\n      }.bind(this),\n      error: function(xhr, status, err) {\n        console.error(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  getInitialState: function() {\n    return {data: []};\n  },\n  componentDidMount: function() {\n    this.loadCommentsFromServer();\n    setInterval(this.loadCommentsFromServer, this.props.pollInterval);\n  },\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.state.data} />\n        <CommentForm onCommentSubmit={this.handleCommentSubmit} />\n      </div>\n    );\n  }\n});\nmodule.exports = CommentBox;\n```\n\nCommentBox\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306eAjax\u304b\u3089\u30dd\u30b9\u30c8\u3055\u308c\u308bJSON\u3092\u53d7\u3051\u4ed8\u3051\u308b\u305f\u3081\u3001Express\u30b5\u30fc\u30d0\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002server.js\u306f[reactjs/react-tutorial](https://github.com/reactjs/react-tutorial)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n``` bash\n$ cd ~/react_apps/react-tutorial\n$ wget https://raw.githubusercontent.com/reactjs/react-tutorial/master/server.js\n```\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fExpress\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n``` js:~/react_apps/react-tutorial/server.js\nvar fs = require('fs');\nvar path = require('path');\nvar express = require('express');\nvar bodyParser = require('body-parser');\nvar app = express();\nvar comments = JSON.parse(fs.readFileSync('_comments.json'));\napp.use('/', express.static(path.join(__dirname, 'public')));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({extended: true}));\napp.get('/comments.json', function(req, res) {\n  res.setHeader('Content-Type', 'application/json');\n  res.send(JSON.stringify(comments));\n});\napp.post('/comments.json', function(req, res) {\n  comments.push(req.body);\n  res.setHeader('Content-Type', 'application/json');\n  res.send(JSON.stringify(comments));\n});\napp.listen(3000);\nconsole.log('Server started: http://localhost:3000/');\n```\n\n`fs.readFileSync('_comments.json')`\u306e\u7b87\u6240\u3067\u30ed\u30fc\u30c9\u3057\u3066\u3044\u308bJSON\u30d5\u30a1\u30a4\u30eb\u3092\u79fb\u52d5\u3057\u307e\u3059\u3002\n\n``` bash\n$ cd ~/react_apps/react-tutorial\n$ mv public/comments.json ./_comments.json\n```\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30ed\u30fc\u30ab\u30eb\u306bExpress\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n``` bash\n$ npm install --save-dev express body-parser\n```\n\nPython\u306eSimpleHTTPServer\u3092\u505c\u6b62\u3057\u307e\u3059\u3002`gulp browserify`\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u5f8c\u3001Express\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n``` bash\n$ gulp browserify\n$ node server.js\nServer started: http://localhost:3000/\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067URL\u3092\u5b9f\u884c\u3059\u308b\u3068\u30d5\u30a9\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u9069\u5f53\u306b`Your name`\u3068`Say something`\u3092\u5165\u529b\u3057\u3066\u307f\u307e\u3059\u3002\n\n\n\n![hello-react-comments-20.png](https://qiita-image-store.s3.amazonaws.com/0/43745/d88bcbbd-5507-f6d0-b2dd-232aae96d61c.png)\n\n"}