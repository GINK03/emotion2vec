{"context": " More than 1 year has passed since last update.\n3.0\u30ea\u30ea\u30fc\u30b9\u306b\u4f34\u3044\u4fee\u6b63\n\n\u57fa\u672c\u8a2d\u5b9a\n\u3053\u3053\u3067\u306f\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fzip\u30d5\u30a1\u30a4\u30eb\u3092\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u89e3\u51cd\u3057\u305f\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\u3055\u3089\u306b\u5229\u4fbf\u6027\u306e\u305f\u3081\u3001\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u5f35\u3063\u3066\u4f7f\u3044\u307e\u3059\u3002\n$ ln -s cocos2d-x-3.0 cocos2d-x\n$ cd cocos2d-x\n$ ./setup.py \n\n\nAndroid\u7528\u306e\u8a2d\u5b9a\n\u81ea\u52d5\u7684\u306b\u51fa\u6765\u4e0a\u304c\u3063\u305f .bash_profile\u306bAndroid\u7528\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n# Add environment variable COCOS_CONSOLE_ROOT for cocos2d-x\nexport COCOS_CONSOLE_ROOT=$HOME/cocos2d-x/tools/cocos2d-console/bin\nexport PATH=$COCOS_CONSOLE_ROOT:$PATH\n\nexport NDK_ROOT=$HOME/AndroidDev/android-ndk-r9d\nexport ANDROID_SDK_ROOT=$HOME/drjiro/AndroidDev/sdk\nexport ANT_ROOT=$HOME/AndroidDev/sdk/tools/ant\n\n\n\u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u7528\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\ncocos-console\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n-p: \u30d1\u30c3\u30b1\u30fc\u30b8\u540d\n-l: \u8a00\u8a9e(cpp,jua,js)\n-d: \u4f5c\u6210\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n-t: \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\n-h: \u30d8\u30eb\u30d7\n\n\u3053\u3053\u3067\u306f\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b ccprojects\u3068\u3044\u3046\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u6210\u3057\u3066\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u683c\u7d0d\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n$ cd ccprojects\n$ cocos new SampleGame1 -p com.drjiro.sample -l cpp\n\n\n\u3053\u308c\u3067\u3001 SampleGame1\u30d5\u30a1\u30a4\u30eb\u3060\u304c\u4f5c\u6210\u3055\u308c\u3001\u305d\u306e\u4e2d\u306e\u30d5\u30a9\u30eb\u30c0\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\nCMakeLists.txt\nClasses/\nResources/\ncocos2d/\nproj.android/\nproj.ios_mac/\nproj.linux/\nproj.win32/\nproj.wp8-xaml/\n\n\nMac/iOS\u7248(proj.ios_mac/SampleGame1.xcodeproj)\u3092Xcode\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002 \n\n\u4f5c\u6210\u3055\u308c\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30b3\u30e1\u30f3\u30c8\u306f\u65e5\u672c\u8a9e\u306b\u7ffb\u8a33\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\nHelloWorldScene.cpp\n#include \"HelloWorldScene.h\"\n\nUSING_NS_CC;\n\n/**\n *  \u30b7\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002\n *\n *  @return \u30b7\u30fc\u30f3\n */\nScene* HelloWorld::createScene()\n{\n    // 'scene' \u306f autorelease \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n    auto scene = Scene::create();\n\n    // 'layer' \u306f autorelease \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n    auto layer = HelloWorld::create();\n\n    // \u30ec\u30a4\u30e4\u30fc\u3092\u30b7\u30fc\u30f3\u306e\u5b50\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\u3002\n    scene->addChild(layer);\n\n    // \u30b7\u30fc\u30f3\u3092\u8fd4\u3059\u3002\n    return scene;\n}\n\n/**\n *  \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u521d\u671f\u5316\u3059\u308b\u3002\n *\n *  @return \u6210\u529f\u3057\u305f\u3089true\n */\nbool HelloWorld::init()\n{\n    //////////////////////////////\n    // 1. \u89aa\u30af\u30e9\u30b9\u3092\u521d\u671f\u5316\u3059\u308b\u3002\n    if ( !Layer::init() )\n    {\n        return false;\n    }\n\n    Size visibleSize = Director::getInstance()->getVisibleSize();\n    Point origin = Director::getInstance()->getVisibleOrigin();\n\n    /////////////////////////////\n    // 2. \u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u7d42\u4e86\u3059\u308b\u201dX\u201d\u753b\u50cf\u4ed8\u304d\u306e\u30e1\u30cb\u30e5\u30fc\u9805\u76ee\u3092\u8ffd\u52a0\u3059\u308b\u3002\u3053\u308c\u306f\u5909\u66f4\u3057\u3066\u3082\u3088\u3044\u3002\n\n    // \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7d42\u4e86\u3059\u308b\"close\"\u30a2\u30a4\u30b3\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3002\u3053\u308c\u306f autorelease \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3002\n    auto closeItem = MenuItemImage::create(\n                                           \"CloseNormal.png\",\n                                           \"CloseSelected.png\",\n                                           CC_CALLBACK_1(HelloWorld::menuCloseCallback, this));\n\n    closeItem->setPosition(Point(origin.x + visibleSize.width - closeItem->getContentSize().width/2 ,\n                                origin.y + closeItem->getContentSize().height/2));\n\n    // \u30e1\u30cb\u30e5\u30fc\u3092\u4f5c\u6210\u3059\u308b\u3002\u3053\u308c\u306f autorelease \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3002\n    auto menu = Menu::create(closeItem, NULL);\n    menu->setPosition(Point::ZERO);\n    this->addChild(menu, 1);\n\n    /////////////////////////////\n    // 3. \u72ec\u81ea\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\n    // \u30e9\u30d9\u30eb\u3092\u4f5c\u6210\u3057\u3001\u521d\u671f\u5316\u3059\u308b\u3002\n    auto label = LabelTTF::create(\"Hello World\", \"Arial\", 24);\n\n    // \u753b\u9762\u306e\u4e2d\u592e\u306b\u30e9\u30d9\u30eb\u3092\u4f4d\u7f6e\u3065\u3051\u308b\u3002\n    label->setPosition(Point(origin.x + visibleSize.width/2,\n                            origin.y + visibleSize.height - label->getContentSize().height));\n\n    // \u30e9\u30d9\u30eb\u3092\u30ec\u30a4\u30e4\u30fc\u306e\u5b50\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\u3002\n    this->addChild(label, 1);\n\n    // \"HelloWorld\"\u30b9\u30d7\u30e9\u30c3\u30b7\u30e5\u30b9\u30af\u30ea\u30fc\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3002\n    auto sprite = Sprite::create(\"HelloWorld.png\");\n\n    // \u30b9\u30d7\u30e9\u30a4\u30c8\u3092\u753b\u9762\u306e\u4e2d\u592e\u306b\u4f4d\u7f6e\u3065\u3051\u308b\u3002\n    sprite->setPosition(Point(visibleSize.width/2 + origin.x, visibleSize.height/2 + origin.y));\n\n    // \u30b9\u30d7\u30e9\u30a4\u30c8\u3092\u30ec\u30a4\u30e4\u30fc\u306e\u5b50\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\u3002\n    this->addChild(sprite, 0);\n\n    return true;\n}\n\n/**\n *  \u30e1\u30cb\u30e5\u30fc\u306e\"Close\"\u304c\u9078\u629e\u3055\u308c\u305f\u5834\u5408\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3002\n *\n *  @param pSender \u9001\u4fe1\u5143\n */\nvoid HelloWorld::menuCloseCallback(Object* pSender)\n{\n#if (CC_TARGET_PLATFORM == CC_PLATFORM_WP8) || (CC_TARGET_PLATFORM == CC_PLATFORM_WINRT)\n    MessageBox(\"You pressed the close button. Windows Store Apps do not implement a close button.\",\"Alert\");\n    return;\n#endif\n\n    // \u30c7\u30a3\u30ec\u30af\u30bf\u3092\u7d42\u4e86\u3059\u308b\u3002\n    Director::getInstance()->end();\n\n#if (CC_TARGET_PLATFORM == CC_PLATFORM_IOS)\n    exit(0);\n#endif\n}\n\n\n\n- - -\n3.0\u30ea\u30ea\u30fc\u30b9\u306b\u4f34\u3044\u4fee\u6b63\n\n## \u57fa\u672c\u8a2d\u5b9a\n\u3053\u3053\u3067\u306f\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fzip\u30d5\u30a1\u30a4\u30eb\u3092\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u89e3\u51cd\u3057\u305f\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\u3055\u3089\u306b\u5229\u4fbf\u6027\u306e\u305f\u3081\u3001\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u5f35\u3063\u3066\u4f7f\u3044\u307e\u3059\u3002\n\n```bash\n$ ln -s cocos2d-x-3.0 cocos2d-x\n$ cd cocos2d-x\n$ ./setup.py \n```\n\n### Android\u7528\u306e\u8a2d\u5b9a\n\u81ea\u52d5\u7684\u306b\u51fa\u6765\u4e0a\u304c\u3063\u305f **.bash_profile**\u306bAndroid\u7528\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```bash\n# Add environment variable COCOS_CONSOLE_ROOT for cocos2d-x\nexport COCOS_CONSOLE_ROOT=$HOME/cocos2d-x/tools/cocos2d-console/bin\nexport PATH=$COCOS_CONSOLE_ROOT:$PATH\n\nexport NDK_ROOT=$HOME/AndroidDev/android-ndk-r9d\nexport ANDROID_SDK_ROOT=$HOME/drjiro/AndroidDev/sdk\nexport ANT_ROOT=$HOME/AndroidDev/sdk/tools/ant\n```\n\n## \u30de\u30eb\u30c1\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u7528\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\ncocos-console\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n- -p: \u30d1\u30c3\u30b1\u30fc\u30b8\u540d\n- -l: \u8a00\u8a9e(cpp,jua,js)\n- -d: \u4f5c\u6210\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n- -t: \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\n- -h: \u30d8\u30eb\u30d7\n\n\u3053\u3053\u3067\u306f\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b **ccprojects**\u3068\u3044\u3046\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u6210\u3057\u3066\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u683c\u7d0d\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n```bash\n$ cd ccprojects\n$ cocos new SampleGame1 -p com.drjiro.sample -l cpp\n```\n\n- \u3053\u308c\u3067\u3001 **SampleGame1**\u30d5\u30a1\u30a4\u30eb\u3060\u304c\u4f5c\u6210\u3055\u308c\u3001\u305d\u306e\u4e2d\u306e\u30d5\u30a9\u30eb\u30c0\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\n```\nCMakeLists.txt\nClasses/\nResources/\ncocos2d/\nproj.android/\nproj.ios_mac/\nproj.linux/\nproj.win32/\nproj.wp8-xaml/\n```\n\n- Mac/iOS\u7248(proj.ios_mac/SampleGame1.xcodeproj)\u3092Xcode\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002 \n\n\u4f5c\u6210\u3055\u308c\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30b3\u30e1\u30f3\u30c8\u306f\u65e5\u672c\u8a9e\u306b\u7ffb\u8a33\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\n```HelloWorldScene.cpp\n#include \"HelloWorldScene.h\"\n\nUSING_NS_CC;\n\n/**\n *  \u30b7\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002\n *\n *  @return \u30b7\u30fc\u30f3\n */\nScene* HelloWorld::createScene()\n{\n    // 'scene' \u306f autorelease \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n    auto scene = Scene::create();\n    \n    // 'layer' \u306f autorelease \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n    auto layer = HelloWorld::create();\n\n    // \u30ec\u30a4\u30e4\u30fc\u3092\u30b7\u30fc\u30f3\u306e\u5b50\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\u3002\n    scene->addChild(layer);\n\n    // \u30b7\u30fc\u30f3\u3092\u8fd4\u3059\u3002\n    return scene;\n}\n\n/**\n *  \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u521d\u671f\u5316\u3059\u308b\u3002\n *\n *  @return \u6210\u529f\u3057\u305f\u3089true\n */\nbool HelloWorld::init()\n{\n    //////////////////////////////\n    // 1. \u89aa\u30af\u30e9\u30b9\u3092\u521d\u671f\u5316\u3059\u308b\u3002\n    if ( !Layer::init() )\n    {\n        return false;\n    }\n    \n    Size visibleSize = Director::getInstance()->getVisibleSize();\n    Point origin = Director::getInstance()->getVisibleOrigin();\n\n    /////////////////////////////\n    // 2. \u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u7d42\u4e86\u3059\u308b\u201dX\u201d\u753b\u50cf\u4ed8\u304d\u306e\u30e1\u30cb\u30e5\u30fc\u9805\u76ee\u3092\u8ffd\u52a0\u3059\u308b\u3002\u3053\u308c\u306f\u5909\u66f4\u3057\u3066\u3082\u3088\u3044\u3002\n\n    // \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7d42\u4e86\u3059\u308b\"close\"\u30a2\u30a4\u30b3\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3002\u3053\u308c\u306f autorelease \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3002\n    auto closeItem = MenuItemImage::create(\n                                           \"CloseNormal.png\",\n                                           \"CloseSelected.png\",\n                                           CC_CALLBACK_1(HelloWorld::menuCloseCallback, this));\n    \n\tcloseItem->setPosition(Point(origin.x + visibleSize.width - closeItem->getContentSize().width/2 ,\n                                origin.y + closeItem->getContentSize().height/2));\n\n    // \u30e1\u30cb\u30e5\u30fc\u3092\u4f5c\u6210\u3059\u308b\u3002\u3053\u308c\u306f autorelease \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3002\n    auto menu = Menu::create(closeItem, NULL);\n    menu->setPosition(Point::ZERO);\n    this->addChild(menu, 1);\n\n    /////////////////////////////\n    // 3. \u72ec\u81ea\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\n    // \u30e9\u30d9\u30eb\u3092\u4f5c\u6210\u3057\u3001\u521d\u671f\u5316\u3059\u308b\u3002\n    auto label = LabelTTF::create(\"Hello World\", \"Arial\", 24);\n    \n    // \u753b\u9762\u306e\u4e2d\u592e\u306b\u30e9\u30d9\u30eb\u3092\u4f4d\u7f6e\u3065\u3051\u308b\u3002\n    label->setPosition(Point(origin.x + visibleSize.width/2,\n                            origin.y + visibleSize.height - label->getContentSize().height));\n\n    // \u30e9\u30d9\u30eb\u3092\u30ec\u30a4\u30e4\u30fc\u306e\u5b50\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\u3002\n    this->addChild(label, 1);\n\n    // \"HelloWorld\"\u30b9\u30d7\u30e9\u30c3\u30b7\u30e5\u30b9\u30af\u30ea\u30fc\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3002\n    auto sprite = Sprite::create(\"HelloWorld.png\");\n\n    // \u30b9\u30d7\u30e9\u30a4\u30c8\u3092\u753b\u9762\u306e\u4e2d\u592e\u306b\u4f4d\u7f6e\u3065\u3051\u308b\u3002\n    sprite->setPosition(Point(visibleSize.width/2 + origin.x, visibleSize.height/2 + origin.y));\n\n    // \u30b9\u30d7\u30e9\u30a4\u30c8\u3092\u30ec\u30a4\u30e4\u30fc\u306e\u5b50\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\u3002\n    this->addChild(sprite, 0);\n    \n    return true;\n}\n\n/**\n *  \u30e1\u30cb\u30e5\u30fc\u306e\"Close\"\u304c\u9078\u629e\u3055\u308c\u305f\u5834\u5408\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3002\n *\n *  @param pSender \u9001\u4fe1\u5143\n */\nvoid HelloWorld::menuCloseCallback(Object* pSender)\n{\n#if (CC_TARGET_PLATFORM == CC_PLATFORM_WP8) || (CC_TARGET_PLATFORM == CC_PLATFORM_WINRT)\n\tMessageBox(\"You pressed the close button. Windows Store Apps do not implement a close button.\",\"Alert\");\n    return;\n#endif\n\n    // \u30c7\u30a3\u30ec\u30af\u30bf\u3092\u7d42\u4e86\u3059\u308b\u3002\n    Director::getInstance()->end();\n\n#if (CC_TARGET_PLATFORM == CC_PLATFORM_IOS)\n    exit(0);\n#endif\n}\n\n```\n", "tags": ["game", "cocos2d-x"]}