{"context": " More than 1 year has passed since last update.\n\n\uff1c\u3084\u308a\u305f\u3044\u3053\u3068\uff1e\n\nheroku\u30b5\u30fc\u30d0\u306bredis\u3092\u5c0e\u5165\u3059\u308b\u3002\uff08\u203bnode.js\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u63a5\u7d9a\u3059\u308b\uff09\n\n\n\n\uff1c\u89e3\u6c7a\u65b9\u6cd5\uff1e\n\u53c2\u8003\uff1ahttps://devcenter.heroku.com/articles/redistogo#using-with-node-js\n\uff08\u672c\u5bb6\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3088\u308a\uff09\n\u203b\u203b\u3084\u308b\u3053\u3068\u306f2\u3064\u203b\u203b\n1. Addon\u3092\u5c0e\u5165\uff08redistogo\u3000\u203bnano\u307e\u3067\u306f\u7121\u6599\uff09\n2. node.js\u304b\u3089\u63a5\u7d9a\u3059\u308b\n\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\n\uff11. Addon\u3092\u5c0e\u5165\uff08redistogo\u3000\u203bnano\u307e\u3067\u306f\u7121\u6599\uff09\n\nterminal\n$ heroku addons:add redistogo\n\n\n\uff12. node.js\u304b\u3089\u63a5\u7d9a\u3059\u308b\n\u3000\u63a5\u7d9a\u3059\u308b\u3068\u306a\u308b\u3068redis\u306eURL, port\u306a\u3069\u306a\u3069\u77e5\u308a\u305f\u3044\u60c5\u5831\u304c\u5c71\u306e\u3088\u3046\u3060\u304c\u3001\n\u3000\u305d\u306e\u3042\u305f\u308a\u3082heroku config\u3067\u78ba\u8a8d\u3059\u308c\u3070OK\n\nterminal\n$ heroku config\n=== hogeApp Config Vars\nREDISTOGO_URL: redis://redistogo:--------/\n\n\n\u3000\u3053\u3093\u306a\u611f\u3058\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\u3000\u3044\u3088\u3044\u3088\u63a5\u7d9a\u3059\u308b\u3002\n\nnode-sample.js\nvar redis = require(\"redis\"),\n    url   = require(\"url\")\n\n\n// REDISTOGO_URL\u3092heroku\u4e0a\u3067\u3057\u304b\u8a2d\u5b9a\u3057\u3066\u306a\u3044\u3053\u3068\u3092\u60f3\u5b9a\u3057\u305f\u5206\u5c90\nif (process.env.REDISTOGO_URL) {\n    var rtg    = url.parse(process.env.REDISTOGO_URL);\n    var client = redis.createClient(rtg.port, rtg.hostname);\n\n    client.auth(rtg.auth.split(\":\")[1]);\n} else {\n    var client = redis.createClient();\n}\n\n    // redis setver \u63a5\u7d9a\u3059\u308b\u3088\n    client.on(\"error\", function (err) {\n        console.log(\"Error \" + err);\n    });\n    // \u3053\u3053\u304b\u3089\u306fnode-redis\u3092\u30ac\u30b7\u30ac\u30b7\u99c6\u4f7f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u3068\u3066\u3082\u7c21\u5358\u306bredis\u74b0\u5883\u304c\u3067\u304d\u307e\u3057\u305f\u266a\n### \uff1c\u3084\u308a\u305f\u3044\u3053\u3068\uff1e\n* heroku\u30b5\u30fc\u30d0\u306bredis\u3092\u5c0e\u5165\u3059\u308b\u3002\uff08\u203bnode.js\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u63a5\u7d9a\u3059\u308b\uff09\n\n\n\n* * *\n### \uff1c\u89e3\u6c7a\u65b9\u6cd5\uff1e\n\u53c2\u8003\uff1ahttps://devcenter.heroku.com/articles/redistogo#using-with-node-js\n\uff08\u672c\u5bb6\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3088\u308a\uff09\n\n\n\u203b\u203b\u3084\u308b\u3053\u3068\u306f2\u3064\u203b\u203b\n1. Addon\u3092\u5c0e\u5165\uff08redistogo\u3000\u203bnano\u307e\u3067\u306f\u7121\u6599\uff09\n2. node.js\u304b\u3089\u63a5\u7d9a\u3059\u308b\n\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\u203b\n\n\uff11. Addon\u3092\u5c0e\u5165\uff08redistogo\u3000\u203bnano\u307e\u3067\u306f\u7121\u6599\uff09\n\n```lang:terminal\n$ heroku addons:add redistogo\n```\n\n\uff12. node.js\u304b\u3089\u63a5\u7d9a\u3059\u308b\n\u3000\u63a5\u7d9a\u3059\u308b\u3068\u306a\u308b\u3068redis\u306eURL, port\u306a\u3069\u306a\u3069\u77e5\u308a\u305f\u3044\u60c5\u5831\u304c\u5c71\u306e\u3088\u3046\u3060\u304c\u3001\n\u3000\u305d\u306e\u3042\u305f\u308a\u3082heroku config\u3067\u78ba\u8a8d\u3059\u308c\u3070OK\n\n```lang:terminal\n$ heroku config\n=== hogeApp Config Vars\nREDISTOGO_URL: redis://redistogo:--------/\n```\n\u3000\u3053\u3093\u306a\u611f\u3058\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n\n\u3000\u3044\u3088\u3044\u3088\u63a5\u7d9a\u3059\u308b\u3002\n\n```lang:node-sample.js\nvar redis = require(\"redis\"),\n    url   = require(\"url\")\n\n\n// REDISTOGO_URL\u3092heroku\u4e0a\u3067\u3057\u304b\u8a2d\u5b9a\u3057\u3066\u306a\u3044\u3053\u3068\u3092\u60f3\u5b9a\u3057\u305f\u5206\u5c90\nif (process.env.REDISTOGO_URL) {\n    var rtg    = url.parse(process.env.REDISTOGO_URL);\n    var client = redis.createClient(rtg.port, rtg.hostname);\n\n    client.auth(rtg.auth.split(\":\")[1]);\n} else {\n    var client = redis.createClient();\n}\n\n    // redis setver \u63a5\u7d9a\u3059\u308b\u3088\n    client.on(\"error\", function (err) {\n        console.log(\"Error \" + err);\n    });\n    // \u3053\u3053\u304b\u3089\u306fnode-redis\u3092\u30ac\u30b7\u30ac\u30b7\u99c6\u4f7f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n```\n\n\u3068\u3066\u3082\u7c21\u5358\u306bredis\u74b0\u5883\u304c\u3067\u304d\u307e\u3057\u305f\u266a\n", "tags": ["Redis", "Node.js", "Heroku"]}