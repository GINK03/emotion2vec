{"tags": ["GoogleCloudPlatform", "googlecomputeengine", "GoogleCloudSQL", "tt-rss"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002Google Compute Engine (GCE)\u4e0a\u3067Tiny Tiny RSS\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u306e\u7d9a\u304d\u3067\u3059\u3002\u524d\u56de\u306fCompute Engine\u306eVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u3067Lighttpd\u3068MySQL\u3092\u52d5\u304b\u3057\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306fMySQL\u306e\u4ee3\u308f\u308a\u306bCloud SQL\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\u57fa\u672c\u7684\u306b\u81ea\u5206\u7528\u306e\u5099\u5fd8\u9332\u3067\u3059\u3002\n\nCloud SQL\u3068\u306f\n\u8981\u306fMySQL\u3092Google Cloud Platform\u7528\u306b\u8d85\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305fVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3044\u3046\u3053\u3068\u306e\u3088\u3046\u3067\u3059\u3002\n\nCloud SQL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\n2016\u5e741\u6708\u306e\u6642\u70b9\u3067\u306fCloud SQL Second Generation (beta)\u304c\u304a\u52e7\u3081\u306e\u3088\u3046\u3067\u3059\u3002\u307e\u3060\u30d9\u30fc\u30bf\u7248\u3067\u3059\u304c\u3001SLA(Service Level Agreement)\u3082\u5fc5\u8981\u306a\u3044\u3057\u3001\u5024\u6bb5\u3082\u3053\u3061\u3089\u306e\u65b9\u304c\u5b89\u3044\u3088\u3046\u306a\u306e\u3067\u3001\u3053\u3061\u3089\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\nMachine type\u306f\u3068\u308a\u3042\u3048\u305adb-f1-micro\u3092\u9078\u629e\u3002Enable daily backups\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u6642\u9593\u3092\u9069\u5f53\u306b\u8a2d\u5b9a\u3002Advanced options\u306eMySQL flags\u3067character_set_server\u3092utf8mb4\u306b\u3001default_time_zone\u3092-08:00(America/Los_Angeles\u306e\u51ac\u6642\u9593\u306e\u5834\u5408)\u306b\u30bb\u30c3\u30c8\u3057\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u8d77\u52d5\u76f4\u5f8c\u306e\u521d\u671f\u72b6\u614b\u3067\u3001Storage usage\u304c\u7d041GB\u3001CPU usage\u304c\u307b\u307c0\u3001Memory usage\u304c\u7d04550MB\u3067\u3057\u305f\u3002db-f1-micro\u306e\u30e1\u30e2\u30ea\u304c614.4MB\u306a\u306e\u3067\u3001\u7d50\u69cb\u304e\u308a\u304e\u308a\u306a\u611f\u3058\u3067\u3059\u3002\n\nCloud SQL\u306e\u8a2d\u5b9a\n\u307e\u305a\u306fWeb\u304b\u3089Access Control\u306eUser\u306e\u3068\u3053\u308d\u3067'root'@'%'\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u305d\u308c\u304b\u3089\u3001Access Control\u306eAuthorization\u306e\u3068\u3053\u308d\u3067Tiny Tiny RSS\u7528\u306b\u8d77\u52d5\u3057\u305fVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002IP\u30a2\u30c9\u30ec\u30b9\u306fVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eExternal IP\u3092\u4f7f\u3048\u3070\u3044\u3044\u3088\u3046\u3067\u3059\u3002\n\u8a66\u3057\u306bVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089mysql\u30b3\u30de\u30f3\u30c9\u3067\u63a5\u7d9a\u3057\u3066\u307f\u307e\u3059\u3002\n$ mysql -h (Cloud SQL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9) -u root -p\nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\n...\nmysql> select now();\n+---------------------+\n| now()               |\n+---------------------+\n| 2016-01-22 20:20:20 |\n+---------------------+\n1 row in set (0.00 sec)\n\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n+--------------------+\n3 rows in set (0.00 sec)\n\n\n\u73fe\u5728\u6642\u523b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u304c\u3067\u304d\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nCreating Databases\u3084Creating Users\u3092\u898b\u308b\u3068Web\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3084\u30e6\u30fc\u30b6\u3092\u4f5c\u308c\u305d\u3046\u3067\u3059\u304c\u3001\u3069\u3046\u3084\u3089Second Generation (beta)\u3067\u306f\u307e\u3060\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u3067\u3001mysql\u30b3\u30de\u30f3\u30c9\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nmysql> CREATE DATABASE ttrss_db CHARACTER SET utf8mb4;\nQuery OK, 1 row affected (0.00 sec)\n\nmysql> CREATE USER 'ttrss_user'@'%' IDENTIFIED BY 'password';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> GRANT ALL ON ttrss_db.* TO 'ttrss_user'@'%';\nQuery OK, 0 rows affected (0.00 sec)\n\n\n\n\u30c7\u30fc\u30bf\u306e\u79fb\u884c\nImporting and Exporting Data\u3092\u53c2\u8003\u306b\u3001VM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306ettrss_db\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c7\u30fc\u30bf\u3092\u30c0\u30f3\u30d7\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n$ sudo service tt-rss stop\n$ mysqldump --databases ttrss_db -u ttrss_user -p --hex-blob --default-character-set=ut\nf8 > ttrss_db.sql\nEnter password: \n$ ls -l\ntotal 504\n-rw-rw-r-- 1 z80 z80 513801 Jan 22 22:22 ttrss_db.sql\n$ gcloud auth login\n...\n$ gsutil cp ttrss_db.sql gs://mybucket\nCopying file://ttrss_db.sql [Content-Type=application/x-sql]...\nUploading   gs://mybucket/ttrss_db.sql:                              501.76 KiB/501.76 KiB    \n$ gsutil ls -l gs://mybucket\n    513801  2016-01-22T22:22:22Z  gs://mybucket/ttrss_db.sql\nTOTAL: 1 objects, 513801 bytes (501.76 KiB)\n$ gcloud sql instances import ttrss-db gs://mybucket/ttrss_db.sql\nImporting Cloud SQL instance...-ERROR: (gcloud.sql.instances.import) UNKNOWN\n\n\u3080\u3080\u3001UNKNOWN\u306a\u7406\u7531\u3067\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\u8a66\u3057\u306bFirst Generation\u306eCloud SQL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u307f\u305f\u3089\u554f\u984c\u306a\u304f\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u305f\u306e\u3067\u3001Second Generation (beta)\u3067\u306f\u307e\u3060\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3057\u3087\u3046\u3002\n\u666e\u901a\u306bmysql\u30b3\u30de\u30f3\u30c9\u304b\u3089\u30ea\u30b9\u30c8\u30a2\u3057\u307e\u3059\u3002\n$ mysql -h (Cloud SQL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9) -u root -p < ttrss_db.sql \nEnter password: \n\n\u554f\u984c\u306a\u304f\u30ea\u30b9\u30c8\u30a2\u3067\u304d\u307e\u3057\u305f\u3002\n\nTiny Tiny RSS\u306e\u8a2d\u5b9a\nTiny Tiny RSS\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n$ sudo service tt-rss stop\n$ sudo service mysql stop\n$ cd /var/www/tt-rss\n$ sudo mv config.php config.php.backup\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://(IP\u30a2\u30c9\u30ec\u30b9)/tt-rss/install/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ diff -u config.php.backup config.php\n...\n$ sudo vi config.php\n# DAEMON_SLEEP_INTERVAL\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\n$ sudo service tt-rss start\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://(IP\u30a2\u30c9\u30ec\u30b9)/tt-rss/\u306b\u30a2\u30af\u30bb\u30b9\u307e\u3059\u3002\n\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u30ea\u30b9\u30c8\u30a2\n\u4e00\u65e5\u7d4c\u3063\u305f\u3089\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u3068\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\u8a66\u3057\u306b\u30ea\u30b9\u30c8\u30a2\u3057\u3066\u307f\u308b\u3068\u3001\u30c7\u30fc\u30bf\u306f\u5143\u306b\u623b\u3063\u3066Tiny Tiny RSS\u3082\u666e\u901a\u306b\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\n\n\u307e\u3068\u3081\nTiny Tiny RSS\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u3001Compute Engine\u306eVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u306eMySQL\u304b\u3089Cloud SQL\u306b\u79fb\u884c\u3057\u3066\u3001\u554f\u984c\u306a\u304f\u52d5\u304f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002Cloud SQL\u306eSecond Generation (beta)\u306f\u3001MySQL\u672c\u4f53\u306f\u554f\u984c\u306a\u304f\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u304c\u3001Web\u304b\u3089\u306e\u8a2d\u5b9a\u3084gcloud\u30b3\u30de\u30f3\u30c9\u304b\u3089\u306e\u64cd\u4f5c\u306f\u3082\u3046\u3061\u3087\u3063\u3068\u306e\u3088\u3046\u3067\u3059\u30022016\u5e741\u6708\u306e\u6642\u70b9\u3067\u306f\u3001Cloud SQL\u306e\u6a5f\u80fd\u3092\u6d3b\u7528\u3059\u308b\u306a\u3089First Generation\u306e\u65b9\u304c\u304a\u624b\u8efd\u305d\u3046\u3067\u3059\u3002\n\nToDo\nMySQL\u306echaracter set\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u3044\u305f\u3089\u3001utf8\u3068utf8mb4\u3068\u3044\u3046\u306e\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002schema/ttrss_schema_mysql.sql\u3067\u306fDEFAULT CHARSET=UTF8\u3068\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u7d75\u6587\u5b57\u306a\u3069\u3092\u6271\u3046\u306b\u306futf8mb4\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\u8ffd\u8a18: Google Compute Engine (GCE)\u4e0a\u3067Tiny Tiny RSS\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002\n\n\u53c2\u8003\n\nConfiguring MySQL Flags\nRe: Errors updating Reddit/Apple feed\nHow do I see what character set a MySQL database / table / column is?\nMySQL 5.6 Reference Manual / Globalization / MySQL Server Time Zone Support\nHow to set time zone of mysql?\n\n[Google Compute Engine (GCE)\u4e0a\u3067Tiny Tiny RSS\u3092\u52d5\u304b\u3057\u3066\u307f\u308b](http://qiita.com/z80/items/0e81655e08a469ee8567)\u306e\u7d9a\u304d\u3067\u3059\u3002\u524d\u56de\u306fCompute Engine\u306eVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u3067Lighttpd\u3068MySQL\u3092\u52d5\u304b\u3057\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306fMySQL\u306e\u4ee3\u308f\u308a\u306b[Cloud SQL](https://cloud.google.com/sql/)\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\u57fa\u672c\u7684\u306b\u81ea\u5206\u7528\u306e\u5099\u5fd8\u9332\u3067\u3059\u3002\n\n# Cloud SQL\u3068\u306f\n\n\u8981\u306fMySQL\u3092[Google Cloud Platform](https://cloud.google.com/)\u7528\u306b\u8d85\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305fVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3044\u3046\u3053\u3068\u306e\u3088\u3046\u3067\u3059\u3002\n\n# Cloud SQL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\n\n2016\u5e741\u6708\u306e\u6642\u70b9\u3067\u306f[Cloud SQL Second Generation (beta)](https://cloud.google.com/sql/docs/introduction#v2)\u304c\u304a\u52e7\u3081\u306e\u3088\u3046\u3067\u3059\u3002\u307e\u3060\u30d9\u30fc\u30bf\u7248\u3067\u3059\u304c\u3001SLA(Service Level Agreement)\u3082\u5fc5\u8981\u306a\u3044\u3057\u3001\u5024\u6bb5\u3082\u3053\u3061\u3089\u306e\u65b9\u304c\u5b89\u3044\u3088\u3046\u306a\u306e\u3067\u3001\u3053\u3061\u3089\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\nMachine type\u306f\u3068\u308a\u3042\u3048\u305a`db-f1-micro`\u3092\u9078\u629e\u3002Enable daily backups\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u6642\u9593\u3092\u9069\u5f53\u306b\u8a2d\u5b9a\u3002Advanced options\u306e[MySQL flags](https://cloud.google.com/sql/docs/mysql-flags)\u3067`character_set_server`\u3092`utf8mb4`\u306b\u3001`default_time_zone`\u3092`-08:00`(`America/Los_Angeles`\u306e\u51ac\u6642\u9593\u306e\u5834\u5408)\u306b\u30bb\u30c3\u30c8\u3057\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\u8d77\u52d5\u76f4\u5f8c\u306e\u521d\u671f\u72b6\u614b\u3067\u3001Storage usage\u304c\u7d041GB\u3001CPU usage\u304c\u307b\u307c0\u3001Memory usage\u304c\u7d04550MB\u3067\u3057\u305f\u3002`db-f1-micro`\u306e\u30e1\u30e2\u30ea\u304c614.4MB\u306a\u306e\u3067\u3001\u7d50\u69cb\u304e\u308a\u304e\u308a\u306a\u611f\u3058\u3067\u3059\u3002\n\n# Cloud SQL\u306e\u8a2d\u5b9a\n\n\u307e\u305a\u306fWeb\u304b\u3089Access Control\u306eUser\u306e\u3068\u3053\u308d\u3067`'root'@'%'`\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u305d\u308c\u304b\u3089\u3001Access Control\u306eAuthorization\u306e\u3068\u3053\u308d\u3067Tiny Tiny RSS\u7528\u306b\u8d77\u52d5\u3057\u305fVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002IP\u30a2\u30c9\u30ec\u30b9\u306fVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eExternal IP\u3092\u4f7f\u3048\u3070\u3044\u3044\u3088\u3046\u3067\u3059\u3002\n\u8a66\u3057\u306bVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089`mysql`\u30b3\u30de\u30f3\u30c9\u3067\u63a5\u7d9a\u3057\u3066\u307f\u307e\u3059\u3002\n\n```bash\n$ mysql -h (Cloud SQL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9) -u root -p\nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\n...\nmysql> select now();\n+---------------------+\n| now()               |\n+---------------------+\n| 2016-01-22 20:20:20 |\n+---------------------+\n1 row in set (0.00 sec)\n\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n+--------------------+\n3 rows in set (0.00 sec)\n\n```\n\u73fe\u5728\u6642\u523b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u304c\u3067\u304d\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n[Creating Databases](https://cloud.google.com/sql/docs/create-database)\u3084[Creating Users](https://cloud.google.com/sql/docs/create-user)\u3092\u898b\u308b\u3068Web\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3084\u30e6\u30fc\u30b6\u3092\u4f5c\u308c\u305d\u3046\u3067\u3059\u304c\u3001\u3069\u3046\u3084\u3089Second Generation (beta)\u3067\u306f\u307e\u3060\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u3067\u3001`mysql`\u30b3\u30de\u30f3\u30c9\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```bash\nmysql> CREATE DATABASE ttrss_db CHARACTER SET utf8mb4;\nQuery OK, 1 row affected (0.00 sec)\n\nmysql> CREATE USER 'ttrss_user'@'%' IDENTIFIED BY 'password';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> GRANT ALL ON ttrss_db.* TO 'ttrss_user'@'%';\nQuery OK, 0 rows affected (0.00 sec)\n\n```\n\n# \u30c7\u30fc\u30bf\u306e\u79fb\u884c\n\n[Importing and Exporting Data](https://cloud.google.com/sql/docs/import-export)\u3092\u53c2\u8003\u306b\u3001VM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e`ttrss_db`\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c7\u30fc\u30bf\u3092\u30c0\u30f3\u30d7\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo service tt-rss stop\n$ mysqldump --databases ttrss_db -u ttrss_user -p --hex-blob --default-character-set=ut\nf8 > ttrss_db.sql\nEnter password: \n$ ls -l\ntotal 504\n-rw-rw-r-- 1 z80 z80 513801 Jan 22 22:22 ttrss_db.sql\n$ gcloud auth login\n...\n$ gsutil cp ttrss_db.sql gs://mybucket\nCopying file://ttrss_db.sql [Content-Type=application/x-sql]...\nUploading   gs://mybucket/ttrss_db.sql:                              501.76 KiB/501.76 KiB    \n$ gsutil ls -l gs://mybucket\n    513801  2016-01-22T22:22:22Z  gs://mybucket/ttrss_db.sql\nTOTAL: 1 objects, 513801 bytes (501.76 KiB)\n$ gcloud sql instances import ttrss-db gs://mybucket/ttrss_db.sql\nImporting Cloud SQL instance...-ERROR: (gcloud.sql.instances.import) UNKNOWN\n```\n\u3080\u3080\u3001UNKNOWN\u306a\u7406\u7531\u3067\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\u8a66\u3057\u306bFirst Generation\u306eCloud SQL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\u3057\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u307f\u305f\u3089\u554f\u984c\u306a\u304f\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u305f\u306e\u3067\u3001Second Generation (beta)\u3067\u306f\u307e\u3060\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3057\u3087\u3046\u3002\n\u666e\u901a\u306b`mysql`\u30b3\u30de\u30f3\u30c9\u304b\u3089\u30ea\u30b9\u30c8\u30a2\u3057\u307e\u3059\u3002\n\n```bash\n$ mysql -h (Cloud SQL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9) -u root -p < ttrss_db.sql \nEnter password: \n```\n\n\u554f\u984c\u306a\u304f\u30ea\u30b9\u30c8\u30a2\u3067\u304d\u307e\u3057\u305f\u3002\n\n# Tiny Tiny RSS\u306e\u8a2d\u5b9a\n\nTiny Tiny RSS\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo service tt-rss stop\n$ sudo service mysql stop\n$ cd /var/www/tt-rss\n$ sudo mv config.php config.php.backup\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://(IP\u30a2\u30c9\u30ec\u30b9)/tt-rss/install/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash\n$ diff -u config.php.backup config.php\n...\n$ sudo vi config.php\n# DAEMON_SLEEP_INTERVAL\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\n$ sudo service tt-rss start\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://(IP\u30a2\u30c9\u30ec\u30b9)/tt-rss/\u306b\u30a2\u30af\u30bb\u30b9\u307e\u3059\u3002\n\n# \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u30ea\u30b9\u30c8\u30a2\n\n\u4e00\u65e5\u7d4c\u3063\u305f\u3089\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u3068\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\u8a66\u3057\u306b\u30ea\u30b9\u30c8\u30a2\u3057\u3066\u307f\u308b\u3068\u3001\u30c7\u30fc\u30bf\u306f\u5143\u306b\u623b\u3063\u3066Tiny Tiny RSS\u3082\u666e\u901a\u306b\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\n\n# \u307e\u3068\u3081\n\nTiny Tiny RSS\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u3001Compute Engine\u306eVM\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u306eMySQL\u304b\u3089Cloud SQL\u306b\u79fb\u884c\u3057\u3066\u3001\u554f\u984c\u306a\u304f\u52d5\u304f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002Cloud SQL\u306eSecond Generation (beta)\u306f\u3001MySQL\u672c\u4f53\u306f\u554f\u984c\u306a\u304f\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u304c\u3001Web\u304b\u3089\u306e\u8a2d\u5b9a\u3084`gcloud`\u30b3\u30de\u30f3\u30c9\u304b\u3089\u306e\u64cd\u4f5c\u306f\u3082\u3046\u3061\u3087\u3063\u3068\u306e\u3088\u3046\u3067\u3059\u30022016\u5e741\u6708\u306e\u6642\u70b9\u3067\u306f\u3001Cloud SQL\u306e\u6a5f\u80fd\u3092\u6d3b\u7528\u3059\u308b\u306a\u3089First Generation\u306e\u65b9\u304c\u304a\u624b\u8efd\u305d\u3046\u3067\u3059\u3002\n\n# ToDo\n\nMySQL\u306echaracter set\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u3044\u305f\u3089\u3001`utf8`\u3068[`utf8mb4`](https://dev.mysql.com/doc/refman/5.6/en/charset-unicode-utf8mb4.html)\u3068\u3044\u3046\u306e\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002[`schema/ttrss_schema_mysql.sql`](https://tt-rss.org/gitlab/fox/tt-rss/blob/master/schema/ttrss_schema_mysql.sql)\u3067\u306f`DEFAULT CHARSET=UTF8`\u3068\u3057\u3066\u3044\u307e\u3059\u304c\u3001[\u7d75\u6587\u5b57\u306a\u3069\u3092\u6271\u3046\u306b\u306f`utf8mb4`\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b](https://tt-rss.org/forum/viewtopic.php?t=2716#p15953)\u3088\u3046\u3067\u3059\u3002\n\u8ffd\u8a18: [Google Compute Engine (GCE)\u4e0a\u3067Tiny Tiny RSS\u3092\u52d5\u304b\u3057\u3066\u307f\u308b](http://qiita.com/z80/items/0e81655e08a469ee8567)\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002\n\n# \u53c2\u8003\n\n- [Configuring MySQL Flags](https://cloud.google.com/sql/docs/mysql-flags)\n- [Re: Errors updating Reddit/Apple feed](https://tt-rss.org/forum/viewtopic.php?t=2716#p15953)\n- [How do I see what character set a MySQL database / table / column is?](http://stackoverflow.com/questions/1049728)\n- [MySQL 5.6 Reference Manual / Globalization / MySQL Server Time Zone Support](https://dev.mysql.com/doc/refman/5.6/en/time-zone-support.html)\n- [How to set time zone of mysql?](http://stackoverflow.com/questions/930900/how-to-set-time-zone-of-mysql)\n"}