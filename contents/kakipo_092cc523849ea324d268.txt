{"context": " More than 1 year has passed since last update.\n\n\u80cc\u666f\nRails 4.1 \u3088\u308a ActiveRecord::Enum \u304c\u5229\u7528\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u308c\u306b\u3088\u308a\u4ee5\u4e0b\u306e\u69d8\u306a\u8a18\u8ff0\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\nclass User < ActiveRecord::Base\n\n  enum role: [:general, :admin]\n\n  ...\nend\n\n# role \u304c admin \u306a\u30e6\u30fc\u30b6\u3092\u53d6\u5f97\u3059\u308b\nuser = User.admin.first!\n\n# admin \u304b\u3069\u3046\u304b\nuser.admin?\n\n# role \u3092\u78ba\u8a8d\nuser.role # => \"general\"\n\n# role \u3092 admin \u306b\u5909\u66f4\nuser.admin!\n\n# role \u306e\u53d6\u308a\u3046\u308b\u5024\u3092\u78ba\u8a8d\nUser.roles # => {\"general\"=>0, \"admin\"=>1}\n\n\u3053\u308c\u307e\u3067\u533a\u5206\u5024\u3068\u3057\u3066\u4fdd\u6301\u3057\u3066\u3044\u305f\u5024\u304c\u7c21\u5358\u306b\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u30cf\u30c3\u30d4\u30fc\u3067\u3059\u3002\n\n\u6ce8\u610f\u70b9\n\u3068\u3063\u3066\u3082\u4fbf\u5229\u306a Active::Enum \u3067\u3059\u304c\u3044\u304f\u3064\u304b\u6ce8\u610f\u70b9\u304c\u3042\u308a\u307e\u3059\n\n1. \u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306f\u672b\u5c3e\u306b\u30a2\u30da\u30f3\u30c9\u3059\u308b\u3053\u3068\nActiveRecord::Enum \u306b\u3088\u308a\u5b9a\u7fa9\u3055\u308c\u305f\u5024\u306f\u3001\u5185\u90e8\u7684\u306b\u306f 0, 1, 2, 3... \u3068\u3044\u3046\u6570\u5024\u578b\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\u65b0\u3057\u304f\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306b\u306f\u672b\u5c3e\u306b\u30a2\u30da\u30f3\u30c9\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\u5909\u66f4\u524d\nstatus \u306b \u65b0\u3057\u304f :in_review \u3092\u8ffd\u52a0\u3057\u305f\u3044\nclass Article < ActiveRecord::Base\n\n  # => 0-:new, 1-:approved, 2-:rejected 3-:in_review\n  enum status: [:new, :approved, :rejected] \n  ...\nend\n\n\u60aa\u3044\u4f8b\n\u914d\u5217\u306e\u9014\u4e2d\u306b\u65b0\u3057\u3044\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3001\u4ee5\u964d\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u304c\u5909\u308f\u3063\u3066\u3057\u307e\u3044\u3001\u65e2\u5b58\u30c7\u30fc\u30bf\u3068\u306e\u6574\u5408\u6027\u304c\u53d6\u308c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\nclass Article < ActiveRecord::Base\n\n  # \u65e2\u5b58\u30c7\u30fc\u30bf\u3068\u306e\u6574\u5408\u6027\u304c\u53d6\u308c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\uff01\uff01\n  # => 0-:new, 1-:approved, 2-:in_review, 3-:rejected 4-:in_review\n  enum status: [:new, :in_review, :approved, :rejected] \n  ...\nend\n\n\u826f\u3044\u4f8b\n\u65b0\u3057\u304f\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304d\u306f\u914d\u5217\u306e\u672b\u5c3e\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u65e2\u5b58\u30c7\u30fc\u30bf\u3068\u306e\u6574\u5408\u6027\u304c\u53d6\u308c\u307e\u3059\u3002\nclass Article < ActiveRecord::Base\n\n  # => 0-:new, 1-:approved, 2-:rejected, 3-:in_review, 4-:in_review\n  enum status: [:new, :approved, :rejected, :in_review] \n  ...\nend\n\n\n2. \u540c\u3058\u540d\u524d\u3092\u540c\u3058\u30af\u30e9\u30b9\u5185\u3067\u5229\u7528\u3057\u306a\u3044\u3053\u3068\n\u8907\u6570\u306e enum \u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u540c\u3058\u540d\u524d\u3092\u4f7f\u308f\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\nclass Article < ActiveRecord::Base\n  enum status: [:new, :approved, :rejected] \n  enum category: [:lifehack, :biz, :animals, :new] # :new \u304c\u91cd\u8907\uff01\n  ...\nend\n\n\n3. scope \u3067\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u6570\u5024\u3092\u5229\u7528\u3059\u308b\u3053\u3068\nscope \u5185\u306b\u3066\u691c\u7d22\u6761\u4ef6\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u30b7\u30f3\u30dc\u30eb\u3067\u306f\u306a\u304f\u6570\u5024\u3092\u5229\u7528\u3057\u307e\u3057\u3087\u3046\u3002\nclass Article < ActiveRecord::Base\n  enum status: [:new, :approved, :rejected] \n\n  scope :hidden, -> { where('status <> ? AND status <> ?', STATUS[:new], STATUS[:rejected]) }\nend\n\n\n(\u756a\u5916)\u30e6\u30fc\u30b6\u5411\u3051\u306e\u5165\u51fa\u529b\u9805\u76ee\u3068\u3057\u3066\u306f\u5229\u7528\u3057\u306a\u3044\u3053\u3068\n\u73fe\u5728\u306e\u3068\u3053\u308d ActiveRecord::Enum \u306f\u5185\u90e8\u51e6\u7406\u306e\u307f\u3067\u5229\u7528\u3057\u3001form \u3067\u306e\u5165\u529b\u9805\u76ee\u3084\u753b\u9762\u3067\u306e\u51fa\u529b\u9805\u76ee\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u610f\u56f3\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u53c2\u8003: Rails4 - ActiveRecord::Enum \u306e\u4f7f\u3044\u30c9\u30b3\u30ed - Qiita\n\u56de\u907f\u65b9\u6cd5\u306f\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u304c\u3001\u982d\u306e\u7247\u9685\u306b\u304a\u3044\u3066\u304a\u304f\u3068\u3088\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u80cc\u666f\n=====\n\nRails 4.1 \u3088\u308a `ActiveRecord::Enum` \u304c\u5229\u7528\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u308c\u306b\u3088\u308a\u4ee5\u4e0b\u306e\u69d8\u306a\u8a18\u8ff0\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\n```\nclass User < ActiveRecord::Base\n\n  enum role: [:general, :admin]\n\n  ...\nend\n\n# role \u304c admin \u306a\u30e6\u30fc\u30b6\u3092\u53d6\u5f97\u3059\u308b\nuser = User.admin.first!\n \n# admin \u304b\u3069\u3046\u304b\nuser.admin?\n \n# role \u3092\u78ba\u8a8d\nuser.role # => \"general\"\n \n# role \u3092 admin \u306b\u5909\u66f4\nuser.admin!\n \n# role \u306e\u53d6\u308a\u3046\u308b\u5024\u3092\u78ba\u8a8d\nUser.roles # => {\"general\"=>0, \"admin\"=>1}\n```\n\n\u3053\u308c\u307e\u3067\u533a\u5206\u5024\u3068\u3057\u3066\u4fdd\u6301\u3057\u3066\u3044\u305f\u5024\u304c\u7c21\u5358\u306b\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u30cf\u30c3\u30d4\u30fc\u3067\u3059\u3002\n\n\u6ce8\u610f\u70b9\n=====\n\n\u3068\u3063\u3066\u3082\u4fbf\u5229\u306a Active::Enum \u3067\u3059\u304c\u3044\u304f\u3064\u304b\u6ce8\u610f\u70b9\u304c\u3042\u308a\u307e\u3059\n\n1. \u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306f\u672b\u5c3e\u306b\u30a2\u30da\u30f3\u30c9\u3059\u308b\u3053\u3068\n-----\n\nActiveRecord::Enum \u306b\u3088\u308a\u5b9a\u7fa9\u3055\u308c\u305f\u5024\u306f\u3001\u5185\u90e8\u7684\u306b\u306f 0, 1, 2, 3... \u3068\u3044\u3046\u6570\u5024\u578b\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\u65b0\u3057\u304f\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306b\u306f\u672b\u5c3e\u306b\u30a2\u30da\u30f3\u30c9\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n__\u5909\u66f4\u524d__\n\n`status` \u306b \u65b0\u3057\u304f `:in_review` \u3092\u8ffd\u52a0\u3057\u305f\u3044\n\n```rb\nclass Article < ActiveRecord::Base\n\n  # => 0-:new, 1-:approved, 2-:rejected 3-:in_review\n  enum status: [:new, :approved, :rejected] \n  ...\nend\n```\n\n\n\n__\u60aa\u3044\u4f8b__\n\n\u914d\u5217\u306e\u9014\u4e2d\u306b\u65b0\u3057\u3044\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3001\u4ee5\u964d\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u304c\u5909\u308f\u3063\u3066\u3057\u307e\u3044\u3001\u65e2\u5b58\u30c7\u30fc\u30bf\u3068\u306e\u6574\u5408\u6027\u304c\u53d6\u308c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n```rb\nclass Article < ActiveRecord::Base\n\n  # \u65e2\u5b58\u30c7\u30fc\u30bf\u3068\u306e\u6574\u5408\u6027\u304c\u53d6\u308c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\uff01\uff01\n  # => 0-:new, 1-:approved, 2-:in_review, 3-:rejected 4-:in_review\n  enum status: [:new, :in_review, :approved, :rejected] \n  ...\nend\n```\n\n__\u826f\u3044\u4f8b__\n\n\u65b0\u3057\u304f\u8981\u7d20\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304d\u306f\u914d\u5217\u306e\u672b\u5c3e\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u65e2\u5b58\u30c7\u30fc\u30bf\u3068\u306e\u6574\u5408\u6027\u304c\u53d6\u308c\u307e\u3059\u3002\n\n```rb\nclass Article < ActiveRecord::Base\n\n  # => 0-:new, 1-:approved, 2-:rejected, 3-:in_review, 4-:in_review\n  enum status: [:new, :approved, :rejected, :in_review] \n  ...\nend\n```\n\n\n2. \u540c\u3058\u540d\u524d\u3092\u540c\u3058\u30af\u30e9\u30b9\u5185\u3067\u5229\u7528\u3057\u306a\u3044\u3053\u3068\n-----\n\n\u8907\u6570\u306e enum \u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u540c\u3058\u540d\u524d\u3092\u4f7f\u308f\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n```rb\nclass Article < ActiveRecord::Base\n  enum status: [:new, :approved, :rejected] \n  enum category: [:lifehack, :biz, :animals, :new] # :new \u304c\u91cd\u8907\uff01\n  ...\nend\n```\n \n3. scope \u3067\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u6570\u5024\u3092\u5229\u7528\u3059\u308b\u3053\u3068\n-----\n\nscope \u5185\u306b\u3066\u691c\u7d22\u6761\u4ef6\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u30b7\u30f3\u30dc\u30eb\u3067\u306f\u306a\u304f\u6570\u5024\u3092\u5229\u7528\u3057\u307e\u3057\u3087\u3046\u3002\n\n```rb\nclass Article < ActiveRecord::Base\n  enum status: [:new, :approved, :rejected] \n\n  scope :hidden, -> { where('status <> ? AND status <> ?', STATUS[:new], STATUS[:rejected]) }\nend\n```\n\n(\u756a\u5916)\u30e6\u30fc\u30b6\u5411\u3051\u306e\u5165\u51fa\u529b\u9805\u76ee\u3068\u3057\u3066\u306f\u5229\u7528\u3057\u306a\u3044\u3053\u3068\n-----\n\n\u73fe\u5728\u306e\u3068\u3053\u308d ActiveRecord::Enum \u306f\u5185\u90e8\u51e6\u7406\u306e\u307f\u3067\u5229\u7528\u3057\u3001form \u3067\u306e\u5165\u529b\u9805\u76ee\u3084\u753b\u9762\u3067\u306e\u51fa\u529b\u9805\u76ee\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u610f\u56f3\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\u53c2\u8003: [Rails4 - ActiveRecord::Enum \u306e\u4f7f\u3044\u30c9\u30b3\u30ed - Qiita](http://qiita.com/kakipo/items/4b6d0c70ca4f41fb6090)\n\n\u56de\u907f\u65b9\u6cd5\u306f\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u304c\u3001\u982d\u306e\u7247\u9685\u306b\u304a\u3044\u3066\u304a\u304f\u3068\u3088\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["Rails4", "ActiveRecord"]}