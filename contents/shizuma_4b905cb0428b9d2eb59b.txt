{"context": "Rails ver5.0.0 \u304c2016.6.30\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002\n\u3072\u3068\u307e\u305a\u89e6\u3063\u3066\u307f\u3088\u3046\u3068\u3044\u3046\u3053\u3068\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u30b9\u30bf\u30fc\u30c8\u6642\u306e\u74b0\u5883 \n\nRuby: 2.2.0 \nRails: 4.2.5 \nrbenv: 0.4.0 \nOSX: El Capitan\n\n\n\u4f55\u3082\u8003\u3048\u305a\u306brails\u3092update\n$ gem update rails\n\nUpdating installed gems\nUpdating rails\nFetching: rack-2.0.1.gem (100%)\nERROR:  Error installing rails:\n    rack requires Ruby version >= 2.2.2.\nGems updated: rack\nGems already up-to-date: rails\n\n\u3042\u3001Ruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f2.2.2\u4ee5\u4e0a\u304c\u8981\u6c42\u3055\u308c\u307e\u3057\u305f\u3002\n\u306a\u308b\u307b\u3069\u3002\u305b\u3063\u304b\u304f\u306a\u306e\u30672.3.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\u3002\n\nRuby 2.3.0\u306e\u6e96\u5099\n$ rbenv install 2.3.0\nDownloading ruby-2.3.0.tar.bz2...\n-> https://cache.ruby-lang.org/pub/ruby/2.3/ruby-2.3.0.tar.bz2\nInstalling ruby-2.3.0...\nInstalled ruby-2.3.0 to /Users/seishin/.rbenv/versions/2.3.0\n$ rbenv global 2.3.0\n$ gem install bundler\n$ rbenv rehash\n\nruby 2.3.0\u306e\u6e96\u5099\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\nRails\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ gem install rails\n\nFetching: i18n-0.7.0.gem (100%)\nSuccessfully installed i18n-0.7.0\nFetching: thread_safe-0.3.5.gem (100%)\nSuccessfully installed thread_safe-0.3.5\nFetching: tzinfo-1.2.2.gem (100%)\nSuccessfully installed tzinfo-1.2.2\nFetching: concurrent-ruby-1.0.2.gem (100%)\nSuccessfully installed concurrent-ruby-1.0.2\nFetching: activesupport-5.0.0.gem (100%)\nSuccessfully installed activesupport-5.0.0\nFetching: rack-2.0.1.gem (100%)\nSuccessfully installed rack-2.0.1\nFetching: rack-test-0.6.3.gem (100%)\nSuccessfully installed rack-test-0.6.3\nFetching: mini_portile2-2.1.0.gem (100%)\nSuccessfully installed mini_portile2-2.1.0\nFetching: pkg-config-1.1.7.gem (100%)\nSuccessfully installed pkg-config-1.1.7\nFetching: nokogiri-1.6.8.gem (100%)\nBuilding native extensions.  This could take a while...\nERROR:  Error installing rails:\n    ERROR: Failed to build gem native extension.\n\n    current directory: /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8/ext/nokogiri\n/Users/seishin/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160707-7578-19i55du.rb extconf.rb\nUsing pkg-config version 1.1.7\nchecking if the C compiler accepts ... yes\nchecking if the C compiler accepts -Wno-error=unused-command-line-argument-hard-error-in-future... no\nBuilding nokogiri using packaged libraries.\nUsing mini_portile version 2.1.0\nchecking for iconv.h... yes\nchecking for gzdopen() in -lz... yes\nchecking for iconv... yes\n************************************************************************\nIMPORTANT NOTICE:\n\nBuilding Nokogiri with a packaged version of libxml2-2.9.4.\n\nTeam Nokogiri will keep on doing their best to provide security\nupdates in a timely manner, but if this is a concern for you and want\nto use the system library instead; abort this installation process and\nreinstall nokogiri as follows:\n\n    gem install nokogiri -- --use-system-libraries\n        [--with-xml2-config=/path/to/xml2-config]\n        [--with-xslt-config=/path/to/xslt-config]\n\nIf you are using Bundler, tell it to use the option:\n\n    bundle config build.nokogiri --use-system-libraries\n    bundle install\n\nNote, however, that nokogiri is not fully compatible with arbitrary\nversions of libxml2 provided by OS/package vendors.\n************************************************************************\nExtracting libxml2-2.9.4.tar.gz into tmp/x86_64-apple-darwin15.4.0/ports/libxml2/2.9.4... OK\nRunning 'configure' for libxml2 2.9.4... OK\nRunning 'compile' for libxml2 2.9.4... ERROR, review '/Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8/ext/nokogiri/tmp/x86_64-apple-darwin15.4.0/ports/libxml2/2.9.4/compile.log' to see what happened. Last lines are:\n========================================================================\n    unsigned short* in = (unsigned short*) inb;\n                         ^~~~~~~~~~~~~~~~~~~~~\nencoding.c:815:27: warning: cast from 'unsigned char *' to 'unsigned short *' increases required alignment from 1 to 2 [-Wcast-align]\n    unsigned short* out = (unsigned short*) outb;\n                          ^~~~~~~~~~~~~~~~~~~~~~\n4 warnings generated.\n  CC       error.lo\n  CC       parserInternals.lo\n  CC       parser.lo\n  CC       tree.lo\n  CC       hash.lo\n  CC       list.lo\n  CC       xmlIO.lo\nxmlIO.c:1450:52: error: use of undeclared identifier 'LZMA_OK'\n    ret =  (__libxml2_xzclose((xzFile) context) == LZMA_OK ) ? 0 : -1;\n                                                   ^\n1 error generated.\nmake[2]: *** [xmlIO.lo] Error 1\nmake[1]: *** [all-recursive] Error 1\nmake: *** [all] Error 2\n========================================================================\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n    --with-opt-dir\n    --without-opt-dir\n    --with-opt-include\n    --without-opt-include=${opt-dir}/include\n    --with-opt-lib\n    --without-opt-lib=${opt-dir}/lib\n    --with-make-prog\n    --without-make-prog\n    --srcdir=.\n    --curdir\n    --ruby=/Users/seishin/.rbenv/versions/2.3.0/bin/$(RUBY_BASE_NAME)\n    --help\n    --clean\n    --use-system-libraries\n    --enable-static\n    --disable-static\n    --with-zlib-dir\n    --without-zlib-dir\n    --with-zlib-include\n    --without-zlib-include=${zlib-dir}/include\n    --with-zlib-lib\n    --without-zlib-lib=${zlib-dir}/lib\n    --enable-cross-build\n    --disable-cross-build\n/Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:366:in `block in execute': Failed to complete compile task (RuntimeError)\n    from /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:337:in `chdir'\n    from /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:337:in `execute'\n    from /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:111:in `compile'\n    from /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:150:in `cook'\n    from extconf.rb:364:in `block (2 levels) in process_recipe'\n    from extconf.rb:257:in `block in chdir_for_build'\n    from extconf.rb:256:in `chdir'\n    from extconf.rb:256:in `chdir_for_build'\n    from extconf.rb:363:in `block in process_recipe'\n    from extconf.rb:262:in `tap'\n    from extconf.rb:262:in `process_recipe'\n    from extconf.rb:555:in `<main>'\n\nTo see why this extension failed to compile, please check the mkmf.log which can be found here:\n\n  /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8 for inspection.\nResults logged to /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/gem_make.out\n\n\u6b8b\u5ff5\u306a\u6c17\u6301\u3061\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3002\n\u306a\u305c\u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u3002\u3002\nnokogiri\u95a2\u9023\u3067\u4f55\u304b\u8a00\u308f\u308c\u3066\u308b\u306e\u3067\u3001\n$ gem uninstall nokogiri\n$ gem install nokogiri -- --use-system-libraries\n\nBuilding native extensions with: '--use-system-libraries'\nThis could take a while...\nERROR:  Error installing nokogiri:\n    ERROR: Failed to build gem native extension.\n\n    current directory: /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8/ext/nokogiri\n/Users/seishin/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160707-12077-15fjqco.rb extconf.rb --use-system-libraries\nUsing pkg-config version 1.1.7\nchecking if the C compiler accepts ... yes\nchecking if the C compiler accepts -Wno-error=unused-command-line-argument-hard-error-in-future... no\nBuilding nokogiri using system libraries.\nERROR: cannot discover where libxml2 is located on your system. please make sure `pkg-config` is installed.\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n    --with-opt-dir\n    --without-opt-dir\n    --with-opt-include\n    --without-opt-include=${opt-dir}/include\n    --with-opt-lib\n    --without-opt-lib=${opt-dir}/lib\n    --with-make-prog\n    --without-make-prog\n    --srcdir=.\n    --curdir\n    --ruby=/Users/seishin/.rbenv/versions/2.3.0/bin/$(RUBY_BASE_NAME)\n    --help\n    --clean\n    --use-system-libraries\n    --with-zlib-dir\n    --without-zlib-dir\n    --with-zlib-include\n    --without-zlib-include=${zlib-dir}/include\n    --with-zlib-lib\n    --without-zlib-lib=${zlib-dir}/lib\n    --with-xml2-dir\n    --without-xml2-dir\n    --with-xml2-include\n    --without-xml2-include=${xml2-dir}/include\n    --with-xml2-lib\n    --without-xml2-lib=${xml2-dir}/lib\n    --with-libxml-2.0-config\n    --without-libxml-2.0-config\n    --with-pkg-config\n    --without-pkg-config\n    --with-xslt-dir\n    --without-xslt-dir\n    --with-xslt-include\n    --without-xslt-include=${xslt-dir}/include\n    --with-xslt-lib\n    --without-xslt-lib=${xslt-dir}/lib\n    --with-libxslt-config\n    --without-libxslt-config\n    --with-exslt-dir\n    --without-exslt-dir\n    --with-exslt-include\n    --without-exslt-include=${exslt-dir}/include\n    --with-exslt-lib\n    --without-exslt-lib=${exslt-dir}/lib\n    --with-libexslt-config\n    --without-libexslt-config\n\nTo see why this extension failed to compile, please check the mkmf.log which can be found here:\n\n  /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8 for inspection.\nResults logged to /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/gem_make.out\n\nlibxml2 \u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3063\u307d\u3044\u306e\u3067\n$ brew list | grep libxml2\n\n\u3068\u3057\u305f\u3089\u3044\u306a\u3044\u3002\u3002\n$ brew install libxml2\n\n$ brew list | grep libxml2                                                                                                                                                          \n34:libxml2\n\n\u3053\u308c\u3067\u3044\u3051\u305d\u3046\n$ gem install nokogiri -- --use-system-libraries\n\nBuilding native extensions with: '--use-system-libraries'\nThis could take a while...\nERROR:  Error installing nokogiri:\n    ERROR: Failed to build gem native extension.\n\n    current directory: /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8/ext/nokogiri\n/Users/seishin/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160707-14749-1h35en5.rb extconf.rb --use-system-libraries\nUsing pkg-config version 1.1.7\nchecking if the C compiler accepts ... yes\nchecking if the C compiler accepts -Wno-error=unused-command-line-argument-hard-error-in-future... no\nBuilding nokogiri using system libraries.\nERROR: cannot discover where libxml2 is located on your system. please make sure `pkg-config` is installed.\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n    --with-opt-dir\n    --without-opt-dir\n    --with-opt-include\n    --without-opt-include=${opt-dir}/include\n    --with-opt-lib\n    --without-opt-lib=${opt-dir}/lib\n    --with-make-prog\n    --without-make-prog\n    --srcdir=.\n    --curdir\n    --ruby=/Users/seishin/.rbenv/versions/2.3.0/bin/$(RUBY_BASE_NAME)\n    --help\n    --clean\n    --use-system-libraries\n    --with-zlib-dir\n    --without-zlib-dir\n    --with-zlib-include\n    --without-zlib-include=${zlib-dir}/include\n    --with-zlib-lib\n    --without-zlib-lib=${zlib-dir}/lib\n    --with-xml2-dir\n    --without-xml2-dir\n    --with-xml2-include\n    --without-xml2-include=${xml2-dir}/include\n    --with-xml2-lib\n    --without-xml2-lib=${xml2-dir}/lib\n    --with-libxml-2.0-config\n    --without-libxml-2.0-config\n    --with-pkg-config\n    --without-pkg-config\n    --with-xslt-dir\n    --without-xslt-dir\n    --with-xslt-include\n    --without-xslt-include=${xslt-dir}/include\n    --with-xslt-lib\n    --without-xslt-lib=${xslt-dir}/lib\n    --with-libxslt-config\n    --without-libxslt-config\n    --with-exslt-dir\n    --without-exslt-dir\n    --with-exslt-include\n    --without-exslt-include=${exslt-dir}/include\n    --with-exslt-lib\n    --without-exslt-lib=${exslt-dir}/lib\n    --with-libexslt-config\n    --without-libexslt-config\n\nTo see why this extension failed to compile, please check the mkmf.log which can be found here:\n\n  /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8 for inspection.\nResults logged to /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/gem_make.out\n\n\u3044\u3051\u306a\u3044\u3002\u3002\n$ brew link --force libxml2\n\nbrew link\u3092\u3064\u3051\u308b\n$ gem install nokogiri -- --use-system-libraries\n\nBuilding native extensions with: '--use-system-libraries'\nThis could take a while...\nSuccessfully installed nokogiri-1.6.8\nParsing documentation for nokogiri-1.6.8\nInstalling ri documentation for nokogiri-1.6.8\nDone installing documentation for nokogiri after 4 seconds\n1 gem installed\n\n\u3044\u3051\u305f\uff01\n$ gem install rails\n\n\u3053\u308c\u3067rails\u3082install done!\n$ rails -v\n\nRails 5.0.0\n\n(\u2229\u00b4\u2200\uff40)\u2229\uff9c\uff70\uff72\n\n\u8ffd\u8a18\nMac (El Capitan) \u3067 nokogiri \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb @Ruby 2.3.1 \u3067\u30cf\u30de\u3063\u305f\n\u540c\u3058\u3088\u3046\u306a\u554f\u984c\u306b\u5bfe\u51e6\u3057\u3066\u3044\u308b\u8a18\u4e8b\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002\n\u7d50\u69cb\u591a\u304f\u306e\u4eba\u304c\u306a\u3063\u3066\u3044\u305f\u308a\u3059\u308b\u306e\u304b\u3082\u3002\u3002\nRails ver5.0.0 \u304c2016.6.30\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002\n\u3072\u3068\u307e\u305a\u89e6\u3063\u3066\u307f\u3088\u3046\u3068\u3044\u3046\u3053\u3068\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u30b9\u30bf\u30fc\u30c8\u6642\u306e\u74b0\u5883 \n\n- Ruby: 2.2.0 \n- Rails: 4.2.5 \n- rbenv: 0.4.0 \n- OSX: El Capitan\n\n# \u4f55\u3082\u8003\u3048\u305a\u306brails\u3092update\n\n```\n$ gem update rails\n```\n\n```\nUpdating installed gems\nUpdating rails\nFetching: rack-2.0.1.gem (100%)\nERROR:  Error installing rails:\n\track requires Ruby version >= 2.2.2.\nGems updated: rack\nGems already up-to-date: rails\n```\n\n\u3042\u3001Ruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f2.2.2\u4ee5\u4e0a\u304c\u8981\u6c42\u3055\u308c\u307e\u3057\u305f\u3002\n\u306a\u308b\u307b\u3069\u3002\u305b\u3063\u304b\u304f\u306a\u306e\u30672.3.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\u3002\n\n# Ruby 2.3.0\u306e\u6e96\u5099\n\n```\n$ rbenv install 2.3.0\nDownloading ruby-2.3.0.tar.bz2...\n-> https://cache.ruby-lang.org/pub/ruby/2.3/ruby-2.3.0.tar.bz2\nInstalling ruby-2.3.0...\nInstalled ruby-2.3.0 to /Users/seishin/.rbenv/versions/2.3.0\n$ rbenv global 2.3.0\n$ gem install bundler\n$ rbenv rehash\n```\n\nruby 2.3.0\u306e\u6e96\u5099\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\n# Rails\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ gem install rails\n```\n\n```\nFetching: i18n-0.7.0.gem (100%)\nSuccessfully installed i18n-0.7.0\nFetching: thread_safe-0.3.5.gem (100%)\nSuccessfully installed thread_safe-0.3.5\nFetching: tzinfo-1.2.2.gem (100%)\nSuccessfully installed tzinfo-1.2.2\nFetching: concurrent-ruby-1.0.2.gem (100%)\nSuccessfully installed concurrent-ruby-1.0.2\nFetching: activesupport-5.0.0.gem (100%)\nSuccessfully installed activesupport-5.0.0\nFetching: rack-2.0.1.gem (100%)\nSuccessfully installed rack-2.0.1\nFetching: rack-test-0.6.3.gem (100%)\nSuccessfully installed rack-test-0.6.3\nFetching: mini_portile2-2.1.0.gem (100%)\nSuccessfully installed mini_portile2-2.1.0\nFetching: pkg-config-1.1.7.gem (100%)\nSuccessfully installed pkg-config-1.1.7\nFetching: nokogiri-1.6.8.gem (100%)\nBuilding native extensions.  This could take a while...\nERROR:  Error installing rails:\n\tERROR: Failed to build gem native extension.\n\n    current directory: /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8/ext/nokogiri\n/Users/seishin/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160707-7578-19i55du.rb extconf.rb\nUsing pkg-config version 1.1.7\nchecking if the C compiler accepts ... yes\nchecking if the C compiler accepts -Wno-error=unused-command-line-argument-hard-error-in-future... no\nBuilding nokogiri using packaged libraries.\nUsing mini_portile version 2.1.0\nchecking for iconv.h... yes\nchecking for gzdopen() in -lz... yes\nchecking for iconv... yes\n************************************************************************\nIMPORTANT NOTICE:\n\nBuilding Nokogiri with a packaged version of libxml2-2.9.4.\n\nTeam Nokogiri will keep on doing their best to provide security\nupdates in a timely manner, but if this is a concern for you and want\nto use the system library instead; abort this installation process and\nreinstall nokogiri as follows:\n\n    gem install nokogiri -- --use-system-libraries\n        [--with-xml2-config=/path/to/xml2-config]\n        [--with-xslt-config=/path/to/xslt-config]\n\nIf you are using Bundler, tell it to use the option:\n\n    bundle config build.nokogiri --use-system-libraries\n    bundle install\n\nNote, however, that nokogiri is not fully compatible with arbitrary\nversions of libxml2 provided by OS/package vendors.\n************************************************************************\nExtracting libxml2-2.9.4.tar.gz into tmp/x86_64-apple-darwin15.4.0/ports/libxml2/2.9.4... OK\nRunning 'configure' for libxml2 2.9.4... OK\nRunning 'compile' for libxml2 2.9.4... ERROR, review '/Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8/ext/nokogiri/tmp/x86_64-apple-darwin15.4.0/ports/libxml2/2.9.4/compile.log' to see what happened. Last lines are:\n========================================================================\n    unsigned short* in = (unsigned short*) inb;\n                         ^~~~~~~~~~~~~~~~~~~~~\nencoding.c:815:27: warning: cast from 'unsigned char *' to 'unsigned short *' increases required alignment from 1 to 2 [-Wcast-align]\n    unsigned short* out = (unsigned short*) outb;\n                          ^~~~~~~~~~~~~~~~~~~~~~\n4 warnings generated.\n  CC       error.lo\n  CC       parserInternals.lo\n  CC       parser.lo\n  CC       tree.lo\n  CC       hash.lo\n  CC       list.lo\n  CC       xmlIO.lo\nxmlIO.c:1450:52: error: use of undeclared identifier 'LZMA_OK'\n    ret =  (__libxml2_xzclose((xzFile) context) == LZMA_OK ) ? 0 : -1;\n                                                   ^\n1 error generated.\nmake[2]: *** [xmlIO.lo] Error 1\nmake[1]: *** [all-recursive] Error 1\nmake: *** [all] Error 2\n========================================================================\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n\t--with-opt-dir\n\t--without-opt-dir\n\t--with-opt-include\n\t--without-opt-include=${opt-dir}/include\n\t--with-opt-lib\n\t--without-opt-lib=${opt-dir}/lib\n\t--with-make-prog\n\t--without-make-prog\n\t--srcdir=.\n\t--curdir\n\t--ruby=/Users/seishin/.rbenv/versions/2.3.0/bin/$(RUBY_BASE_NAME)\n\t--help\n\t--clean\n\t--use-system-libraries\n\t--enable-static\n\t--disable-static\n\t--with-zlib-dir\n\t--without-zlib-dir\n\t--with-zlib-include\n\t--without-zlib-include=${zlib-dir}/include\n\t--with-zlib-lib\n\t--without-zlib-lib=${zlib-dir}/lib\n\t--enable-cross-build\n\t--disable-cross-build\n/Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:366:in `block in execute': Failed to complete compile task (RuntimeError)\n\tfrom /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:337:in `chdir'\n\tfrom /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:337:in `execute'\n\tfrom /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:111:in `compile'\n\tfrom /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mini_portile2-2.1.0/lib/mini_portile2/mini_portile.rb:150:in `cook'\n\tfrom extconf.rb:364:in `block (2 levels) in process_recipe'\n\tfrom extconf.rb:257:in `block in chdir_for_build'\n\tfrom extconf.rb:256:in `chdir'\n\tfrom extconf.rb:256:in `chdir_for_build'\n\tfrom extconf.rb:363:in `block in process_recipe'\n\tfrom extconf.rb:262:in `tap'\n\tfrom extconf.rb:262:in `process_recipe'\n\tfrom extconf.rb:555:in `<main>'\n\nTo see why this extension failed to compile, please check the mkmf.log which can be found here:\n\n  /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8 for inspection.\nResults logged to /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/gem_make.out\n```\n\n\u6b8b\u5ff5\u306a\u6c17\u6301\u3061\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3002\n\u306a\u305c\u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u3002\u3002\n\nnokogiri\u95a2\u9023\u3067\u4f55\u304b\u8a00\u308f\u308c\u3066\u308b\u306e\u3067\u3001\n\n```\n$ gem uninstall nokogiri\n$ gem install nokogiri -- --use-system-libraries\n```\n\n```\nBuilding native extensions with: '--use-system-libraries'\nThis could take a while...\nERROR:  Error installing nokogiri:\n\tERROR: Failed to build gem native extension.\n\n    current directory: /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8/ext/nokogiri\n/Users/seishin/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160707-12077-15fjqco.rb extconf.rb --use-system-libraries\nUsing pkg-config version 1.1.7\nchecking if the C compiler accepts ... yes\nchecking if the C compiler accepts -Wno-error=unused-command-line-argument-hard-error-in-future... no\nBuilding nokogiri using system libraries.\nERROR: cannot discover where libxml2 is located on your system. please make sure `pkg-config` is installed.\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n\t--with-opt-dir\n\t--without-opt-dir\n\t--with-opt-include\n\t--without-opt-include=${opt-dir}/include\n\t--with-opt-lib\n\t--without-opt-lib=${opt-dir}/lib\n\t--with-make-prog\n\t--without-make-prog\n\t--srcdir=.\n\t--curdir\n\t--ruby=/Users/seishin/.rbenv/versions/2.3.0/bin/$(RUBY_BASE_NAME)\n\t--help\n\t--clean\n\t--use-system-libraries\n\t--with-zlib-dir\n\t--without-zlib-dir\n\t--with-zlib-include\n\t--without-zlib-include=${zlib-dir}/include\n\t--with-zlib-lib\n\t--without-zlib-lib=${zlib-dir}/lib\n\t--with-xml2-dir\n\t--without-xml2-dir\n\t--with-xml2-include\n\t--without-xml2-include=${xml2-dir}/include\n\t--with-xml2-lib\n\t--without-xml2-lib=${xml2-dir}/lib\n\t--with-libxml-2.0-config\n\t--without-libxml-2.0-config\n\t--with-pkg-config\n\t--without-pkg-config\n\t--with-xslt-dir\n\t--without-xslt-dir\n\t--with-xslt-include\n\t--without-xslt-include=${xslt-dir}/include\n\t--with-xslt-lib\n\t--without-xslt-lib=${xslt-dir}/lib\n\t--with-libxslt-config\n\t--without-libxslt-config\n\t--with-exslt-dir\n\t--without-exslt-dir\n\t--with-exslt-include\n\t--without-exslt-include=${exslt-dir}/include\n\t--with-exslt-lib\n\t--without-exslt-lib=${exslt-dir}/lib\n\t--with-libexslt-config\n\t--without-libexslt-config\n\nTo see why this extension failed to compile, please check the mkmf.log which can be found here:\n\n  /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8 for inspection.\nResults logged to /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/gem_make.out\n```\n\n`libxml2` \u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3063\u307d\u3044\u306e\u3067\n\n```\n$ brew list | grep libxml2\n```\n\n\u3068\u3057\u305f\u3089\u3044\u306a\u3044\u3002\u3002\n\n```\n$ brew install libxml2\n```\n\n```\n$ brew list | grep libxml2                                                                                                                                                          \n34:libxml2\n```\n\n\u3053\u308c\u3067\u3044\u3051\u305d\u3046\n\n```\n$ gem install nokogiri -- --use-system-libraries\n```\n\n```\nBuilding native extensions with: '--use-system-libraries'\nThis could take a while...\nERROR:  Error installing nokogiri:\n\tERROR: Failed to build gem native extension.\n\n    current directory: /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8/ext/nokogiri\n/Users/seishin/.rbenv/versions/2.3.0/bin/ruby -r ./siteconf20160707-14749-1h35en5.rb extconf.rb --use-system-libraries\nUsing pkg-config version 1.1.7\nchecking if the C compiler accepts ... yes\nchecking if the C compiler accepts -Wno-error=unused-command-line-argument-hard-error-in-future... no\nBuilding nokogiri using system libraries.\nERROR: cannot discover where libxml2 is located on your system. please make sure `pkg-config` is installed.\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n\t--with-opt-dir\n\t--without-opt-dir\n\t--with-opt-include\n\t--without-opt-include=${opt-dir}/include\n\t--with-opt-lib\n\t--without-opt-lib=${opt-dir}/lib\n\t--with-make-prog\n\t--without-make-prog\n\t--srcdir=.\n\t--curdir\n\t--ruby=/Users/seishin/.rbenv/versions/2.3.0/bin/$(RUBY_BASE_NAME)\n\t--help\n\t--clean\n\t--use-system-libraries\n\t--with-zlib-dir\n\t--without-zlib-dir\n\t--with-zlib-include\n\t--without-zlib-include=${zlib-dir}/include\n\t--with-zlib-lib\n\t--without-zlib-lib=${zlib-dir}/lib\n\t--with-xml2-dir\n\t--without-xml2-dir\n\t--with-xml2-include\n\t--without-xml2-include=${xml2-dir}/include\n\t--with-xml2-lib\n\t--without-xml2-lib=${xml2-dir}/lib\n\t--with-libxml-2.0-config\n\t--without-libxml-2.0-config\n\t--with-pkg-config\n\t--without-pkg-config\n\t--with-xslt-dir\n\t--without-xslt-dir\n\t--with-xslt-include\n\t--without-xslt-include=${xslt-dir}/include\n\t--with-xslt-lib\n\t--without-xslt-lib=${xslt-dir}/lib\n\t--with-libxslt-config\n\t--without-libxslt-config\n\t--with-exslt-dir\n\t--without-exslt-dir\n\t--with-exslt-include\n\t--without-exslt-include=${exslt-dir}/include\n\t--with-exslt-lib\n\t--without-exslt-lib=${exslt-dir}/lib\n\t--with-libexslt-config\n\t--without-libexslt-config\n\nTo see why this extension failed to compile, please check the mkmf.log which can be found here:\n\n  /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/nokogiri-1.6.8 for inspection.\nResults logged to /Users/seishin/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/extensions/x86_64-darwin-15/2.3.0-static/nokogiri-1.6.8/gem_make.out\n```\n\n\u3044\u3051\u306a\u3044\u3002\u3002\n\n```\n$ brew link --force libxml2\n```\n\nbrew link\u3092\u3064\u3051\u308b\n\n```\n$ gem install nokogiri -- --use-system-libraries\n```\n\n```\nBuilding native extensions with: '--use-system-libraries'\nThis could take a while...\nSuccessfully installed nokogiri-1.6.8\nParsing documentation for nokogiri-1.6.8\nInstalling ri documentation for nokogiri-1.6.8\nDone installing documentation for nokogiri after 4 seconds\n1 gem installed\n```\n\n\u3044\u3051\u305f\uff01\n\n```\n$ gem install rails\n```\n\n\u3053\u308c\u3067rails\u3082install done!\n\n\n```\n$ rails -v\n```\n\n```\nRails 5.0.0\n```\n\n(\u2229\u00b4\u2200\uff40)\u2229\uff9c\uff70\uff72\n\n# \u8ffd\u8a18\n\n[Mac (El Capitan) \u3067 nokogiri \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb @Ruby 2.3.1 \u3067\u30cf\u30de\u3063\u305f](http://nyangryy.hatenablog.com/entry/2016/05/13/163205)\n\u540c\u3058\u3088\u3046\u306a\u554f\u984c\u306b\u5bfe\u51e6\u3057\u3066\u3044\u308b\u8a18\u4e8b\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002\n\n\u7d50\u69cb\u591a\u304f\u306e\u4eba\u304c\u306a\u3063\u3066\u3044\u305f\u308a\u3059\u308b\u306e\u304b\u3082\u3002\u3002\n\n\n\n", "tags": ["rbenv", "Rails", "Ruby", "Rails5"]}