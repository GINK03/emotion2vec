{"context": "\n\n\u3053\u306e\u8a18\u4e8b\u306b\u3064\u3044\u3066\nJulia Advent Calendar 2016 24\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\u79c1\u306f\u751f\u7269\u7cfb\u30c7\u30fc\u30bf\u306e\u89e3\u6790\u624b\u6cd5\u958b\u767a\u3084\u30c7\u30fc\u30bf\u89e3\u6790\u3092\u304a\u3053\u306a\u3046\u30d0\u30a4\u30aa\u30a4\u30f3\u30d5\u30a9\u30de\u30c6\u30a3\u30af\u30b9\u306e\u7814\u7a76\u8005\u3067\u3059\u3002\u666e\u6bb5\u306fJulia\u3092\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304f\u306e\u306b\u4f7f\u3046\u30e9\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u3067\u3059\u3002\n\u4eca\u56de\u306fCompose.jl\u3068\u3044\u3046\u4f5c\u56f3\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3064\u3044\u3066\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u7c21\u5358\u306b\u30d7\u30ed\u30c3\u30c8\u3092\u4f5c\u308b\u305f\u3081\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u306a\u304f\u3001\u4f5c\u56f3\u95a2\u6570\u3092\u4f5c\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3044\u3046\u30a4\u30e1\u30fc\u30b8\u304c\u8fd1\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nJulia \u306e\u4f5c\u56f3\u7528\u30d1\u30c3\u30b1\u30fc\u30b8\nJulia \u306b\u306f\u4f5c\u56f3\u306e\u305f\u3081\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u3002\u6709\u540d\u306a\u3082\u306e\u3092\u6319\u3052\u307e\u3059\u3002\n\nGadfly\n\n\nhttp://gadflyjl.org/stable/\n\n\nCompose\n\n\nhttp://giovineitalia.github.io/Compose.jl/latest/#Compose-1\nIJulia \u3067\u8868\u793a\u3055\u308c\u308b\n\n\nhttp://julia-programming-language.2336112.n4.nabble.com/Compose-jl-drawing-in-IJulia-td40227.html\n\n\n\n\nPyplot\n\n\nhttps://gist.github.com/gizmaa/7214002\n\n\nCario\n\n\nhttps://github.com/JuliaGraphics/Cairo.jl\n\n\nLuxor\n\n\nhttps://github.com/cormullion/Luxor.jl\n\n\nWinston\n\n\nhttps://github.com/nolta/Winston.jl\n\n\n\n\nCompose \u3068\u306f\uff1f\nCompose \u306f Gadfly \u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u958b\u767a\u3055\u308c\u307e\u3057\u305f\u3002\nCompose\u306fR\u3067\u3044\u3046\u3068\u3053\u308d\u306eGrid\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u76f8\u5f53\u3059\u308b\u3082\u306e\u3068\u3057\u3066\u8a2d\u8a08\u3055\u308c\u3066\u304a\u308a\u3001\u5b9f\u969bR\u306eGrid\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u304f\u4f3c\u3066\u3044\u307e\u3059\u3002\n\nGadfly uses a custom graphics library called Compose, which is an attempt at a more elegant, purely functional take on the R grid package.\nhttp://gadflyjl.org/stable/tutorial.html\n\nCompose \u3067\u56f3\u3092\u4f5c\u308b\u306e\u306f\u306f\u3063\u304d\u308a\u8a00\u3063\u3066\u5c11\u3057\u9762\u5012\u3067\u3059\u304c\u3001\u601d\u3063\u305f\u901a\u308a\u306e\u56f3\u3092\u4f5c\u308c\u308b\u306e\u304c\u30aa\u30b9\u30b9\u30e1\u3067\u3059\u3002\n\nCompose\u3092\u9078\u3076\u7406\u7531\n\u5358\u306b\u30c7\u30fc\u30bf\u3092\u30d7\u30ed\u30c3\u30c8\u3059\u308b\u306a\u3089\u3070PyPlot\u3084Gadfly\u3068\u3044\u3063\u305f\u512a\u308c\u305f\u30e6\u30fc\u30b6\u30d5\u30ec\u30f3\u30c9\u30ea\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\nCompose\u306f\u5186\u3084\u7dda\u3068\u3044\u3063\u305f\u57fa\u672c\u7684\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\n\u5b9f\u969b\u3001Compose\u3092\u4f7f\u304a\u3046\u3068\u601d\u3063\u305f\u306e\u306f\u3001\u4f5c\u56f3\u95a2\u6570\u3092\u81ea\u5206\u4f5c\u308a\u305f\u3044\u7528\u9014\u304c\u3042\u3063\u305f\u305f\u3081\u3067\u3059\u3002\n\n\u4f7f\u3044\u59cb\u3081\u308b\u524d\u306b\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u672a\u5b8c\u6210\n\u73fe\u72b6\u3067\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u307f\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\nhttp://giovineitalia.github.io/Compose.jl/latest/\n\u3053\u308c\u306f\u958b\u767a\u8005\u306eGiovineItalia\u3055\u3093\u304c\u540c\u3058\u304f\u958b\u767a\u3057\u3066\u3044\u308bGadfly\u306e\u65b9\u306b\u96c6\u4e2d\u3055\u308c\u3066\u3044\u308b\u304b\u3089\u306a\u306e\u304b\u306a\u3068\u63a8\u5bdf\u3057\u3066\u3044\u307e\u3059\uff08\u4f59\u88d5\u304c\u3042\u308c\u3070\u81ea\u5206\u3082\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3065\u304f\u308a\u3092\u304a\u624b\u4f1d\u3044\u3057\u305f\u3044\u3068\u3053\u308d\u3067\u3059\uff09\u3002\n\nJupyter notebook\u3067\u3084\u308b\u3068\u3044\u3044\u3088\nJulia\u306eREPL\u3067\u306f\uff08\u5c11\u306a\u304f\u3068\u3082\u73fe\u5728\u306e\u79c1\u306e\u74b0\u5883\u3067\u306f\uff09\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u56f3\u3092\u8868\u793a\u3067\u304d\u307e\u305b\u3093\u3002Compose\u306e\u623b\u308a\u5024\u306f\u305d\u306e\u307e\u307etype\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u4e00\u65b9\u3067\u3001Jupyter notebook\u3067Compose\u3092\u4f7f\u3046\u3068\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u56f3\u3092\u8868\u793a\u3067\u304d\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067Jupyter notebook\u4e0a\u3067\u306e\u56f3\u306e\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3067\u304d\u307e\u3059\u3002\nCompose.set_default_graphic_size(5inch, 5inch)\n\n\u53c2\u8003: http://julia-programming-language.2336112.n4.nabble.com/Compose-jl-drawing-in-IJulia-td40227.html\n\nCompose \u306e\u57fa\u672c\nCompose\u3067\u306f\u56f3\u3092\u6728\u69cb\u9020\u3068\u3057\u3066\u8868\u73fe\u3057\u307e\u3059\u3002\n\u305d\u3053\u3067\u91cd\u8981\u306a\u306e\u304c\uff13\u7a2e\u985e\u306e\u30ce\u30fc\u30c9\uff08Context, Form, Property\uff09\u3068compose()\u95a2\u6570\u3067\u3059\u3002\n\n\uff13\u7a2e\u985e\u306e\u30ce\u30fc\u30c9: Context, Form, Property\nCompose\u306b\u304a\u3051\u308b\u6728\u306f\u3001\u4ee5\u4e0b\u306e\uff13\u7a2e\u985e\u306e\u30ce\u30fc\u30c9\u304b\u3089\u6210\u308a\u307e\u3059\u3002\n\nContext: \u5185\u90e8\u30ce\u30fc\u30c9\u306b\u306a\u308b\nForm: \u5f62\u3092\u5b9a\u7fa9\u3059\u308b\u8449\uff08\u4f8b: line, polygon\uff09\nProperty: \u8449\u30ce\u30fc\u30c9\u3067\u3042\u308a\u3001\u304b\u3064\u3001\u89aa\u30ce\u30fc\u30c9\u306e\u90e8\u5206\u6728\u306e\u898b\u305f\u76ee\u3092\u6307\u5b9a\u3059\u308b\uff08\u4f8b\uff1a\u8272\u3001\u30d5\u30a9\u30f3\u30c8\u3001\u7dda\u306e\u592a\u3055\uff09\n\n\ncompose()\u306b\u3088\u308b\u6728\u69cb\u9020\u306e\u6307\u5b9a\uff08\u57fa\u672c\uff09\n\uff13\u7a2e\u985e\u306e\u30ce\u30fc\u30c9\u306e\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u304ccompose()\u95a2\u6570\u3067\u3059\u3002\ncompose(a, b) \u3068\u3044\u3046\u66f8\u304d\u65b9\u3067\u3001 a \u304c\u6839\u3067b\u304c\u305d\u306e\u5b50\u30ce\u30fc\u30c9\u3068\u306a\u308b\u6728\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u308f\u304b\u308a\u3065\u3089\u3044\u3068\u601d\u3046\u306e\u3067\u5177\u4f53\u4f8b\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\n\u307e\u305a\u3001\u4e00\u3064\u306eContext\u306e\u5b50\u30ce\u30fc\u30c9\u3068\u3057\u3066Form\u306e\u4e00\u7a2e\u3067\u3042\u308b rectangle \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002context()\u306fContext\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u3001rectangle()\u306fForm\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n# typeof(context())\nCompose.Context\n\n# typeof(rectangle())\nCompose.Form{Compose.RectanglePrimitive{Tuple{Measures.Length{:w,Float64},Measures.Length{:h,Float64}},Measures.Length{:w,Float64},Measures.Length{:h,Float64}}}\n\ncompose(a, b)\u3068\u3059\u308b\u3053\u3068\u3067 context()\u306b\u9577\u65b9\u5f62\u3092\u8868\u793a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u3001\u9577\u65b9\u5f62\u306e\u5927\u304d\u3055\u306fContext\u3068\u540c\u3058\u3067\u3001\u304b\u3064\u8272\u304c\u9ed2\u306e\u305f\u3081\u3001\u5358\u306b\u9ed2\u3044\u753b\u9762\u306b\u306a\u308a\u307e\u3059\uff09\u3002\nc1 = compose(context(), rectangle())\n\n\n\u307e\u305f\u3001compose()\u306e\u623b\u308a\u5024\u3082 Context \u3067\u3059\u3002\n# typeof(c1)\nCompose.Context\n\nintrospect()\u95a2\u6570\u3092\u4f7f\u3046\u3053\u3068\u3067\u6728\u69cb\u9020\u3092\u53ef\u8996\u5316\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4e38\u304cContext\u3067\u56db\u89d2\u304cForm\u3067\u3059\u3002\nintrospect(c1)\n\n\n\u6b21\u306b\u3001Property\u3082\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002fill()\u306fPropoperty\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002\nc2 = compose(c1, fill(\"tomato\"))\n\n\nfill()\u306fPropoperty\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002\n# typeof(fill(\"tomato\"))\nCompose.Property{Compose.FillPrimitive}\n\n\u6728\u69cb\u9020\u3092\u307f\u308b\u3068\u3001\u7b2c\u4e8c\u5f15\u6570\u304c\u7b2c\u4e00\u5f15\u6570\u306e\u6839\u306e\u5b50\u30ce\u30fc\u30c9\u306b\u306a\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\nintrospect(c2)\n\n\n\u307e\u305f\u3001compose!()\u3068\u3044\u3046\u95a2\u6570\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\uff08!\u304c\u3064\u3044\u3066\u3044\u308b\u3053\u3068\u304b\u3089\u308f\u304b\u308b\u3088\u3046\u306b\uff09\u7b2c\u4e00\u5f15\u6570\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002\n\ncompose()\u306b\u3088\u308b\u6728\u69cb\u9020\u306e\u6307\u5b9a\uff08S\u5f0f\uff09\n\u5148\u307b\u3069\u306e\u4f8b\u3067\u306f\u5408\u8a08\uff12\u56decompose()\u3092\u5b9f\u884c\u3057\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u306f\uff11\u56de\u3067\u6e08\u3080\u66f8\u304d\u65b9\u3082\u3042\u308a\u307e\u3059\u3002\ncompose() \u306f\n\uff08Lisp\u30e6\u30fc\u30b6\u30fc\u3084\u7cfb\u7d71\u9032\u5316\u5b66\u3092\u3084\u3063\u3066\u3044\u308b\u65b9\u306b\u306f\u99b4\u67d3\u307f\u6df1\u3044\u8a18\u6cd5\u304b\u3068\u601d\u3044\u307e\u3059\uff09\u3002\n\u5148\u307b\u3069\u3068\u540c\u3058\u56f3\u3092 compose(a, b, c) \u3068\u3044\u3046\u66f8\u304d\u65b9\u3067\u3082\u3067\u304d\u307e\u3059\u3002\nc3 = compose(context(), rectangle(), fill(\"tomato\"))\n\n\nintrospect(c3)\n\n\n\n\u90e8\u5206\u6728\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\ncompose()\u95a2\u6570\u3067\u306f\u3001\u90e8\u5206\u6728\u3092\u62ec\u5f27\u3067\u304f\u304f\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u591a\u304f\u306e\u90e8\u5206\u6728\u3092\u3044\u3063\u307a\u3093\u306b\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nc4 = compose(context(),\n        (context(), circle(), fill(\"bisque\")),\n        (context(), rectangle(), fill(\"tomato\")))\n\n\nintrospect(c4)\n\n\n\nContext\u306b\u3088\u308b\u5b50\u30ce\u30fc\u30c9\u306e\u5ea7\u6a19\u7cfb\u306e\u6307\u5b9a\nContext\u3067\u306f\u5b50\u30ce\u30fc\u30c9\uff08\u304a\u3088\u3073\u305d\u306e\u4e0b\u306e\u30ce\u30fc\u30c9\uff09\u306e\u5ea7\u6a19\u7cfb\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\ncontext(x0, y0, width, height)\u3068\u3044\u3046\u5f62\u3067x\u5ea7\u6a19\u306e\u59cb\u307e\u308a\u3001y\u5ea7\u6a19\u306e\u59cb\u307e\u308a\u3001x\u5ea7\u6a19\u306e\u5e45\u3001y\u5ea7\u6a19\u306e\u5e45\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f(0, 0, 1, 1)\u3067\u3042\u308a\u3001x\u3001y\u5ea7\u6a19\u3068\u3082\u306b[0,1]\u3067\u3042\u308b\u5e73\u9762\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u4f8b\u3092\u307f\u3066\u307f\u307e\u3057\u3087\u3046\u3002\uff11\u3064\u76ee\u306e\u5186\u306fcontext(0.0, 0.0, 0.5, 0.5)\u3067\u6307\u5b9a\u3055\u308c\u308b\u90e8\u5206\u5e73\u9762\u306b(0, 0, 1, 1)\u3068\u3044\u3046\u5ea7\u6a19\u7cfb\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u3002\uff12\u3064\u76ee\u306e\u5186\u306fcontext(0.5, 0.5, 0.5, 0.5)\u3067\u6307\u5b9a\u3055\u308c\u308b\u90e8\u5206\u5e73\u9762\u306b(0, 0, 1, 1)\u3068\u3044\u3046\u5ea7\u6a19\u7cfb\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u3002\ncompose(context(), fill(\"tomato\"),\n        (context(0.0, 0.0, 0.5, 0.5), circle()),\n        (context(0.5, 0.5, 0.5, 0.5), circle()))\n\n\n\u90e8\u5206\u5e73\u9762\u3068\u5ea7\u6a19\u7cfb\u306e\u9055\u3044\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u3001\u5de6\u4e0a\u306e\u5186\u306e\u5927\u304d\u3055\u3092\u5909\u3048\u3066\u307f\u307e\u3059\u3002\u5186\u306fcircle(\u4e2d\u5fc3\u306ex\u5ea7\u6a19, \u4e2d\u5fc3\u306ey\u5ea7\u6a19, \u534a\u5f84)\u3068\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u3053\u308c\u3092\u307f\u308b\u3068 context(0.0, 0.0, 0.5, 0.5) \u3067\u6307\u5b9a\u3055\u308c\u305f\u90e8\u5206\u5e73\u9762\u306b\u53ce\u307e\u308b\u3088\u3046\u306b\u3001\u3082\u3068\u306eContext\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5ea7\u6a19\u7cfb(0, 0, 1, 1)\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\ncompose(context(), fill(\"tomato\"),\n        (context(0.0, 0.0, 0.5, 0.5), circle(0.5, 0.5, 0.25)),\n        (context(0.5, 0.5, 0.5, 0.5), circle()))\n\n\n\u3055\u3089\u306bcontext()\u306bunits\u3068\u3044\u3046\u5f15\u6570\u3092\u4e0e\u3048\u308b\u3053\u3068\u3067\u3001\u5ea7\u6a19\u7cfb\u3082\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u5de6\u4e0b\u306e\u5186\u306econtext()\u3067\u5ea7\u6a19\u7cfb\u3092\u5909\u66f4\u3057\u3001\u3055\u3089\u306bcircle()\u3067\u6307\u5b9a\u3059\u308bxy\u5ea7\u6a19\u3068\u534a\u5f84\u306e\u30b9\u30b1\u30fc\u30eb\u3082\u3053\u308c\u307e\u3067\u3068\u9055\u3046\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\ncompose(context(), fill(\"tomato\"),\n        (context(0.0, 0.0, 0.5, 0.5), circle(0.5, 0.5, 0.25)),\n        (context(0.5, 0.5, 0.5, 0.5, units = UnitBox(0, 0, 100, 100)), circle(50, 50, 25)))\n\n\n\u3055\u3089\u306b\u56f3\u3092\u3069\u3093\u3069\u3093\u5165\u308c\u5b50\u306b\u3057\u3066\u3044\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\nc5 = compose(context(), fill(\"tomato\"),\n        (context(0.0, 0.0, 0.5, 0.5), circle(0.5, 0.5, 0.25)),\n        (context(0.5, 0.5, 0.5, 0.5, units = UnitBox(0, 0, 100, 100)), circle(50, 50, 20)))\n\nc6 = compose(context(),\n        (context(units=UnitBox(0, 0, 1000, 1000)),\n         polygon([(0, 1000), (500, 1000), (500, 0)]),\n         fill(\"tomato\")),\n        (context(),\n         polygon([(1, 1), (0.5, 1), (0.5, 0)]),\n         fill(\"bisque\")))\n\nc7 = compose(context(),\n(context(0,0.5,0.5,0.5), c5),\n(context(0.5,0,0.5,0.5), c6)\n)\n\n\n\nForm \u3068 Property\u306e\u30d9\u30af\u30c8\u30eb\u5316\nForm\u3084Property\u3092\u751f\u6210\u3059\u308b\u95a2\u6570\u306b\u4e0e\u3048\u308b\u5f15\u6570\u306b\u306f\u30d9\u30af\u30c8\u30eb\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u306fcircle()\u3068fill()\u3067\u306e\u4f8b\u3067\u3059\u3002\nusing Colors\ncompose(context(),\n        circle([0.25, 0.5, 0.75], [0.25, 0.5, 0.75], [0.1]),\n        fill([LCHab(92, 10, 77), LCHab(68, 74, 192), LCHab(78, 84, 29)]))\n\n\n\n\u95a2\u6570\u306e\u7a2e\u985e\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u6574\u5099\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30bd\u30fc\u30b9\u3092\u8aad\u3093\u3067\u5224\u65ad\u3057\u307e\u3059\u3002\u95a2\u6570\u540d\u304b\u3089\u4e3b\u8981\u306a\u3082\u306e\u3068\u5224\u65ad\u3057\u305f\u3082\u306e\u3092\u6319\u3052\u3066\u3044\u307e\u3059\u3002\n\nForm\nhttps://github.com/GiovineItalia/Compose.jl/blob/master/src/form.jl\n\nrectangle()\npolygon()\ncircle()\nellipse()\ntext()\nline()\ncurve()\nbitmap()\npath()\n\n\nProperty\nhttps://github.com/GiovineItalia/Compose.jl/blob/master/src/property.jl\n\nfill()\nfillopacity()\nstroke()\nstrokedash()\nstrokelinecap()\nstrokelinejoin()\nstrokeopacity()\nlinewidth()\nclip()\nfont()\nfontsize()\nvisible()\n\n\n\u56f3\u306e\u4fdd\u5b58\ndraw(SVG(\"tomato.svg\", 4cm, 4cm), composition)\n\n\u307e\u305fCairo\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070PNG\u3084PDF\u3067\u3082\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u56f3\u306b\u6587\u5b57\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u52a0\u3048\u3066Pango\u3068Fontconfig\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u5fdc\u7528\u4f8b\n\nSierpinski triangle\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u8f09\u3063\u3066\u3044\u305f\u4f8b\u3067\u3059\u3002\nfunction sierpinski(n)\n    if n == 0\n        compose(context(), polygon([(1,1), (0,1), (1/2, 0)]))\n    else\n        t = sierpinski(n - 1)\n        compose(context(),\n                (context(1/4,   0, 1/2, 1/2), t),\n                (context(  0, 1/2, 1/2, 1/2), t),\n                (context(1/2, 1/2, 1/2, 1/2), t))\n    end\nend\n\ncomposition = compose(sierpinski(6), fill(\"grey\"))\n\n\n\n\u30b2\u30ce\u30e0\u30d6\u30e9\u30a6\u30b6\n\u5206\u5b50\u751f\u7269\u5b66\u3084\u30b2\u30ce\u30e0\u751f\u7269\u5b66\u3001\u30aa\u30df\u30c3\u30af\u30b9\u751f\u7269\u5b66\u3067\u3088\u304f\u4f7f\u308f\u308c\u308b\u30c4\u30fc\u30eb\u306b\u30b2\u30ce\u30e0\u30d6\u30e9\u30a6\u30b6 (Genome browser) \u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u6a2a\u8ef8\u306b\u30b2\u30ce\u30e0\u4e0a\u306e\u5ea7\u6a19\u3001\u7e26\u306b\u30b2\u30ce\u30e0\u4e0a\u306b\u5b9a\u7fa9\u3055\u308c\u308b\u69d8\u3005\u306a\u30c7\u30fc\u30bf\u3092\u8868\u73fe\u3059\u308b\u30c8\u30e9\u30c3\u30af\u3092\u4e26\u3079\u305f\u3082\u306e\u3067\u3059\u3002\n\u30c7\u30fc\u30bf\u306e\u7a2e\u985e\u306b\u306f\u6570\u5024\u30c7\u30fc\u30bf\uff08\u4f8b\uff1a\u4f4d\u7f6e\u3054\u3068\u306eRNA\u5408\u6210\u91cf\uff09\u3084\u533a\u9593\u30c7\u30fc\u30bf\uff08\u4f8b\uff1a\u907a\u4f1d\u5b50\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\uff09\u304c\u3042\u308a\u307e\u3059\u3002\n\u3082\u3068\u3082\u3068R\u306eGrid\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u30b2\u30ce\u30e0\u30d6\u30e9\u30a6\u30b6\u3084\u305d\u308c\u306b\u985e\u3059\u308b\u56f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u308c\u3092\u79fb\u690d\u3059\u308b\u306b\u3042\u305f\u308aCompose\u306e\u52c9\u5f37\u3092\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u307e\u3060\u958b\u767a\u9014\u4e2d\u3067\u3059\u304c\u3001\u3053\u3093\u306a\u56f3\u304c\u30b5\u30af\u30b5\u30af\u63cf\u3051\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u76ee\u6307\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u307e\u3068\u3081\nCompose\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u56f3\u3092\u3069\u3093\u3069\u3093\u5165\u308c\u5b50\u306b\u3057\u3066\u3044\u3051\u308b\u306e\u304c\u9762\u767d\u3044\u3067\u3059\u3002\n\u307f\u306a\u3055\u3093\u3082\u300c\u3053\u3093\u306a\u56f3\u304c\u4f5c\u308a\u305f\u3044\u300d\u3068\u3044\u3046\u306e\u304c\u3042\u308c\u3070Compose\u3067\u4f5c\u56f3\u95a2\u6570\u304b\u3089\u4f5c\u3063\u3066\u307f\u3066\u306f\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u30aa\u30de\u30b1\uff08\u914d\u616e\u6e08\u307f\uff09\n\nusing Compose, Colors, Measures \n\n\na = 1\nx = 18\nnSnow = 2000\nxrand = rand(nSnow) .* 20 - 10\nyrand = abs(randn(nSnow) .* 5)\nstartT = 5/8\nshiftT = 5/8\nheighT = 1.5\nfac = 3/2\n\ncoordStar = [\n(0,0),\n(-a*sin(x/180*pi), a*cos(x/180*pi)),\n(1/2*a, 1/2*a * tan(2*x/180*pi)),\n(-1/2*a, 1/2*a * tan(2*x/180*pi)),\n(a*sin(x/180*pi), a*cos(x/180*pi)),\n(0,0)\n]\n\ns = compose(context(units=UnitBox(-1/2,0,1,1)), polygon(coordStar), fill(\"yellow\"))\n\nt = compose(context(units=UnitBox(0,0,1,1)), polygon([(1,1), (0,1), (1/2, 0)]))\n\ncompose(context(units=UnitBox(-5,0,10,10)), \n                (context(-5, 8.5, 5, 1), text(5, 0, \"Merry Christmas and Happy Holidays!\", hcenter, vcenter), fontsize(20pt), fill(\"white\")),\n                (context(-1/2, 0, 1, 1), s),\n                (context(-1, startT, 2, heighT), t, fill(\"green\")),\n                (context(-1*fac, startT+shiftT, 2*fac ,heighT*fac), t, fill(\"green\")),\n                (context(-1*fac^2, startT+shiftT*2, 2*fac^2 ,heighT*fac^2), t, fill(\"green\")),\n                (context(-1*fac^3, startT+shiftT*3, 2*fac^3 ,heighT*fac^3), t, fill(\"green\")),\n                (context(-1/2, 2+1*3/2*3/2*3/2, 1 ,7), rectangle(), fill(\"brown\")),\n                (context(), circle(xrand, yrand, fill(0.05, nSnow)), fill(\"white\")),\n(context(-5,0,10,10), rectangle(), fill(LCHab(40,50,-70))),\n\n\n)\n\n\n## \u3053\u306e\u8a18\u4e8b\u306b\u3064\u3044\u3066\n\n[Julia Advent Calendar 2016](http://qiita.com/advent-calendar/2016/julialang) 24\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u79c1\u306f\u751f\u7269\u7cfb\u30c7\u30fc\u30bf\u306e\u89e3\u6790\u624b\u6cd5\u958b\u767a\u3084\u30c7\u30fc\u30bf\u89e3\u6790\u3092\u304a\u3053\u306a\u3046\u30d0\u30a4\u30aa\u30a4\u30f3\u30d5\u30a9\u30de\u30c6\u30a3\u30af\u30b9\u306e\u7814\u7a76\u8005\u3067\u3059\u3002\u666e\u6bb5\u306fJulia\u3092\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304f\u306e\u306b\u4f7f\u3046\u30e9\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u3067\u3059\u3002\n\n\u4eca\u56de\u306f[Compose.jl]()\u3068\u3044\u3046\u4f5c\u56f3\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3064\u3044\u3066\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u7c21\u5358\u306b\u30d7\u30ed\u30c3\u30c8\u3092\u4f5c\u308b\u305f\u3081\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u306a\u304f\u3001\u4f5c\u56f3\u95a2\u6570\u3092\u4f5c\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3044\u3046\u30a4\u30e1\u30fc\u30b8\u304c\u8fd1\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n## Julia \u306e\u4f5c\u56f3\u7528\u30d1\u30c3\u30b1\u30fc\u30b8\n\nJulia \u306b\u306f\u4f5c\u56f3\u306e\u305f\u3081\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u3002\u6709\u540d\u306a\u3082\u306e\u3092\u6319\u3052\u307e\u3059\u3002\n\n* Gadfly\n\t* http://gadflyjl.org/stable/\n* Compose\n    * http://giovineitalia.github.io/Compose.jl/latest/#Compose-1\n    * IJulia \u3067\u8868\u793a\u3055\u308c\u308b\n        * http://julia-programming-language.2336112.n4.nabble.com/Compose-jl-drawing-in-IJulia-td40227.html\n* Pyplot\n    * https://gist.github.com/gizmaa/7214002\n* Cario\n\t* https://github.com/JuliaGraphics/Cairo.jl\n* Luxor\n\t* https://github.com/cormullion/Luxor.jl\n* Winston\n\t* https://github.com/nolta/Winston.jl\n\n\n## Compose \u3068\u306f\uff1f\n\nCompose \u306f Gadfly \u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u958b\u767a\u3055\u308c\u307e\u3057\u305f\u3002\n\nCompose\u306fR\u3067\u3044\u3046\u3068\u3053\u308d\u306eGrid\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u76f8\u5f53\u3059\u308b\u3082\u306e\u3068\u3057\u3066\u8a2d\u8a08\u3055\u308c\u3066\u304a\u308a\u3001\u5b9f\u969bR\u306eGrid\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u304f\u4f3c\u3066\u3044\u307e\u3059\u3002\n\n> Gadfly uses a custom graphics library called Compose, which is an attempt at a more elegant, purely functional take on the R grid package.\nhttp://gadflyjl.org/stable/tutorial.html\n\nCompose \u3067\u56f3\u3092\u4f5c\u308b\u306e\u306f\u306f\u3063\u304d\u308a\u8a00\u3063\u3066\u5c11\u3057\u9762\u5012\u3067\u3059\u304c\u3001\u601d\u3063\u305f\u901a\u308a\u306e\u56f3\u3092\u4f5c\u308c\u308b\u306e\u304c\u30aa\u30b9\u30b9\u30e1\u3067\u3059\u3002\n\n## Compose\u3092\u9078\u3076\u7406\u7531\n\n\u5358\u306b\u30c7\u30fc\u30bf\u3092\u30d7\u30ed\u30c3\u30c8\u3059\u308b\u306a\u3089\u3070PyPlot\u3084Gadfly\u3068\u3044\u3063\u305f\u512a\u308c\u305f\u30e6\u30fc\u30b6\u30d5\u30ec\u30f3\u30c9\u30ea\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\n\nCompose\u306f\u5186\u3084\u7dda\u3068\u3044\u3063\u305f\u57fa\u672c\u7684\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\n\n\u5b9f\u969b\u3001Compose\u3092\u4f7f\u304a\u3046\u3068\u601d\u3063\u305f\u306e\u306f\u3001\u4f5c\u56f3\u95a2\u6570\u3092\u81ea\u5206\u4f5c\u308a\u305f\u3044\u7528\u9014\u304c\u3042\u3063\u305f\u305f\u3081\u3067\u3059\u3002\n## \u4f7f\u3044\u59cb\u3081\u308b\u524d\u306b\n\n### \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u672a\u5b8c\u6210\n\n\u73fe\u72b6\u3067\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u307f\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\n\nhttp://giovineitalia.github.io/Compose.jl/latest/\n\n\n\u3053\u308c\u306f\u958b\u767a\u8005\u306e[GiovineItalia](https://github.com/GiovineItalia)\u3055\u3093\u304c\u540c\u3058\u304f\u958b\u767a\u3057\u3066\u3044\u308bGadfly\u306e\u65b9\u306b\u96c6\u4e2d\u3055\u308c\u3066\u3044\u308b\u304b\u3089\u306a\u306e\u304b\u306a\u3068\u63a8\u5bdf\u3057\u3066\u3044\u307e\u3059\uff08\u4f59\u88d5\u304c\u3042\u308c\u3070\u81ea\u5206\u3082\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3065\u304f\u308a\u3092\u304a\u624b\u4f1d\u3044\u3057\u305f\u3044\u3068\u3053\u308d\u3067\u3059\uff09\u3002\n\n\n### Jupyter notebook\u3067\u3084\u308b\u3068\u3044\u3044\u3088\n\nJulia\u306eREPL\u3067\u306f\uff08\u5c11\u306a\u304f\u3068\u3082\u73fe\u5728\u306e\u79c1\u306e\u74b0\u5883\u3067\u306f\uff09\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u56f3\u3092\u8868\u793a\u3067\u304d\u307e\u305b\u3093\u3002Compose\u306e\u623b\u308a\u5024\u306f\u305d\u306e\u307e\u307etype\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u4e00\u65b9\u3067\u3001Jupyter notebook\u3067Compose\u3092\u4f7f\u3046\u3068\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u56f3\u3092\u8868\u793a\u3067\u304d\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067Jupyter notebook\u4e0a\u3067\u306e\u56f3\u306e\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3067\u304d\u307e\u3059\u3002\n\n\n```julia\nCompose.set_default_graphic_size(5inch, 5inch)\n```\n\n\u53c2\u8003: http://julia-programming-language.2336112.n4.nabble.com/Compose-jl-drawing-in-IJulia-td40227.html\n\n\n## Compose \u306e\u57fa\u672c\nCompose\u3067\u306f\u56f3\u3092\u6728\u69cb\u9020\u3068\u3057\u3066\u8868\u73fe\u3057\u307e\u3059\u3002\n\n\u305d\u3053\u3067\u91cd\u8981\u306a\u306e\u304c\uff13\u7a2e\u985e\u306e\u30ce\u30fc\u30c9\uff08Context, Form, Property\uff09\u3068`compose()`\u95a2\u6570\u3067\u3059\u3002\n\n### \uff13\u7a2e\u985e\u306e\u30ce\u30fc\u30c9: Context, Form, Property\nCompose\u306b\u304a\u3051\u308b\u6728\u306f\u3001\u4ee5\u4e0b\u306e\uff13\u7a2e\u985e\u306e\u30ce\u30fc\u30c9\u304b\u3089\u6210\u308a\u307e\u3059\u3002\n\n* Context: \u5185\u90e8\u30ce\u30fc\u30c9\u306b\u306a\u308b\n\n* Form: \u5f62\u3092\u5b9a\u7fa9\u3059\u308b\u8449\uff08\u4f8b: line, polygon\uff09\n\n* Property: \u8449\u30ce\u30fc\u30c9\u3067\u3042\u308a\u3001\u304b\u3064\u3001\u89aa\u30ce\u30fc\u30c9\u306e\u90e8\u5206\u6728\u306e\u898b\u305f\u76ee\u3092\u6307\u5b9a\u3059\u308b\uff08\u4f8b\uff1a\u8272\u3001\u30d5\u30a9\u30f3\u30c8\u3001\u7dda\u306e\u592a\u3055\uff09\n\n### `compose()`\u306b\u3088\u308b\u6728\u69cb\u9020\u306e\u6307\u5b9a\uff08\u57fa\u672c\uff09\n\n\uff13\u7a2e\u985e\u306e\u30ce\u30fc\u30c9\u306e\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u304c`compose()`\u95a2\u6570\u3067\u3059\u3002\n`compose(a, b)` \u3068\u3044\u3046\u66f8\u304d\u65b9\u3067\u3001 `a` \u304c\u6839\u3067`b`\u304c\u305d\u306e\u5b50\u30ce\u30fc\u30c9\u3068\u306a\u308b\u6728\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n\n\u308f\u304b\u308a\u3065\u3089\u3044\u3068\u601d\u3046\u306e\u3067\u5177\u4f53\u4f8b\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u3001\u4e00\u3064\u306eContext\u306e\u5b50\u30ce\u30fc\u30c9\u3068\u3057\u3066Form\u306e\u4e00\u7a2e\u3067\u3042\u308b `rectangle` \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002`context()`\u306fContext\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u3001`rectangle()`\u306fForm\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\n```julia\n# typeof(context())\nCompose.Context\n\n# typeof(rectangle())\nCompose.Form{Compose.RectanglePrimitive{Tuple{Measures.Length{:w,Float64},Measures.Length{:h,Float64}},Measures.Length{:w,Float64},Measures.Length{:h,Float64}}}\n```\n\n`compose(a, b)`\u3068\u3059\u308b\u3053\u3068\u3067 `context()`\u306b\u9577\u65b9\u5f62\u3092\u8868\u793a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u3001\u9577\u65b9\u5f62\u306e\u5927\u304d\u3055\u306fContext\u3068\u540c\u3058\u3067\u3001\u304b\u3064\u8272\u304c\u9ed2\u306e\u305f\u3081\u3001\u5358\u306b\u9ed2\u3044\u753b\u9762\u306b\u306a\u308a\u307e\u3059\uff09\u3002\n\n```julia\nc1 = compose(context(), rectangle())\n```\n\n![Kobito.aLRvSF.png](https://qiita-image-store.s3.amazonaws.com/0/18504/e96e9fed-ab5e-9e2e-ca9e-2c428b983a98.png \"Kobito.aLRvSF.png\")\n\n\u307e\u305f\u3001`compose()`\u306e\u623b\u308a\u5024\u3082 Context \u3067\u3059\u3002\n\n```julia\n# typeof(c1)\nCompose.Context\n```\n\n`introspect()`\u95a2\u6570\u3092\u4f7f\u3046\u3053\u3068\u3067\u6728\u69cb\u9020\u3092\u53ef\u8996\u5316\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4e38\u304cContext\u3067\u56db\u89d2\u304cForm\u3067\u3059\u3002\n\n```julia\nintrospect(c1)\n```\n\n![Kobito.ydyM3Z.png](https://qiita-image-store.s3.amazonaws.com/0/18504/bcb8d19b-aac7-831d-a599-e772202c2af0.png \"Kobito.ydyM3Z.png\")\n\n\n\u6b21\u306b\u3001Property\u3082\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002`fill()`\u306fPropoperty\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n```julia\nc2 = compose(c1, fill(\"tomato\"))\n```\n\n![Kobito.CpGA6p.png](https://qiita-image-store.s3.amazonaws.com/0/18504/b829429d-7861-4f8b-a877-7e032419e8c9.png \"Kobito.CpGA6p.png\")\n\n\n`fill()`\u306fPropoperty\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n```julia\n# typeof(fill(\"tomato\"))\nCompose.Property{Compose.FillPrimitive}\n```\n\n\u6728\u69cb\u9020\u3092\u307f\u308b\u3068\u3001\u7b2c\u4e8c\u5f15\u6570\u304c\u7b2c\u4e00\u5f15\u6570\u306e\u6839\u306e\u5b50\u30ce\u30fc\u30c9\u306b\u306a\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n```julia\nintrospect(c2)\n```\n\n![Kobito.BEesor.png](https://qiita-image-store.s3.amazonaws.com/0/18504/12387703-4982-f50d-1b78-b2bc352d9b36.png \"Kobito.BEesor.png\")\n\n\n\u307e\u305f\u3001`compose!()`\u3068\u3044\u3046\u95a2\u6570\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\uff08`!`\u304c\u3064\u3044\u3066\u3044\u308b\u3053\u3068\u304b\u3089\u308f\u304b\u308b\u3088\u3046\u306b\uff09\u7b2c\u4e00\u5f15\u6570\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002\n\n### `compose()`\u306b\u3088\u308b\u6728\u69cb\u9020\u306e\u6307\u5b9a\uff08S\u5f0f\uff09\n\u5148\u307b\u3069\u306e\u4f8b\u3067\u306f\u5408\u8a08\uff12\u56de`compose()`\u3092\u5b9f\u884c\u3057\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u306f\uff11\u56de\u3067\u6e08\u3080\u66f8\u304d\u65b9\u3082\u3042\u308a\u307e\u3059\u3002\n`compose()` \u306f\n\uff08Lisp\u30e6\u30fc\u30b6\u30fc\u3084\u7cfb\u7d71\u9032\u5316\u5b66\u3092\u3084\u3063\u3066\u3044\u308b\u65b9\u306b\u306f\u99b4\u67d3\u307f\u6df1\u3044\u8a18\u6cd5\u304b\u3068\u601d\u3044\u307e\u3059\uff09\u3002\n\n\u5148\u307b\u3069\u3068\u540c\u3058\u56f3\u3092 `compose(a, b, c)` \u3068\u3044\u3046\u66f8\u304d\u65b9\u3067\u3082\u3067\u304d\u307e\u3059\u3002\n\n```julia\nc3 = compose(context(), rectangle(), fill(\"tomato\"))\n```\n\n![Kobito.HlJwxu.png](https://qiita-image-store.s3.amazonaws.com/0/18504/41b14313-c9d3-c600-7db6-66ba8f2841a4.png \"Kobito.HlJwxu.png\")\n\n```julia\nintrospect(c3)\n```\n\n![Kobito.t7G0vW.png](https://qiita-image-store.s3.amazonaws.com/0/18504/8386ce1d-0c27-59cb-8fbd-60b7015c2f1c.png \"Kobito.t7G0vW.png\")\n\n\n### \u90e8\u5206\u6728\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\n\n`compose()`\u95a2\u6570\u3067\u306f\u3001\u90e8\u5206\u6728\u3092\u62ec\u5f27\u3067\u304f\u304f\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u591a\u304f\u306e\u90e8\u5206\u6728\u3092\u3044\u3063\u307a\u3093\u306b\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```julia\nc4 = compose(context(),\n        (context(), circle(), fill(\"bisque\")),\n        (context(), rectangle(), fill(\"tomato\")))\n```\n\n![Kobito.PVEKwl.png](https://qiita-image-store.s3.amazonaws.com/0/18504/97364d94-a4f8-e185-3217-1d3ddd713be9.png \"Kobito.PVEKwl.png\")\n\n\n```julia\nintrospect(c4)\n```\n\n![Kobito.sStG4I.png](https://qiita-image-store.s3.amazonaws.com/0/18504/b97f4888-d96f-1fac-eda6-ad917fbe877f.png \"Kobito.sStG4I.png\")\n\n\n### Context\u306b\u3088\u308b\u5b50\u30ce\u30fc\u30c9\u306e\u5ea7\u6a19\u7cfb\u306e\b\u6307\u5b9a\n\nContext\u3067\u306f\u5b50\u30ce\u30fc\u30c9\uff08\u304a\u3088\u3073\u305d\u306e\u4e0b\u306e\u30ce\u30fc\u30c9\uff09\u306e\u5ea7\u6a19\u7cfb\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n`context(x0, y0, width, height)`\u3068\u3044\u3046\u5f62\u3067x\u5ea7\u6a19\u306e\u59cb\u307e\u308a\u3001y\u5ea7\u6a19\u306e\u59cb\u307e\u308a\u3001x\u5ea7\u6a19\u306e\u5e45\u3001y\u5ea7\u6a19\u306e\u5e45\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f`(0, 0, 1, 1)`\u3067\u3042\u308a\u3001x\u3001y\u5ea7\u6a19\u3068\u3082\u306b[0,1]\u3067\u3042\u308b\u5e73\u9762\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u4f8b\u3092\u307f\u3066\u307f\u307e\u3057\u3087\u3046\u3002\uff11\u3064\u76ee\u306e\u5186\u306f`context(0.0, 0.0, 0.5, 0.5)`\u3067\u6307\u5b9a\u3055\u308c\u308b\u90e8\u5206\u5e73\u9762\u306b`(0, 0, 1, 1)`\u3068\u3044\u3046\u5ea7\u6a19\u7cfb\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u3002\uff12\u3064\u76ee\u306e\u5186\u306f`context(0.5, 0.5, 0.5, 0.5)`\u3067\u6307\u5b9a\u3055\u308c\u308b\u90e8\u5206\u5e73\u9762\u306b`(0, 0, 1, 1)`\u3068\u3044\u3046\u5ea7\u6a19\u7cfb\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\n\n```julia\ncompose(context(), fill(\"tomato\"),\n        (context(0.0, 0.0, 0.5, 0.5), circle()),\n        (context(0.5, 0.5, 0.5, 0.5), circle()))\n```\n\n\n![ComposeTest.png](https://qiita-image-store.s3.amazonaws.com/0/18504/3db1c317-8847-8f17-33bb-54cf330b088f.png \"ComposeTest.png\")\n\n\n\u90e8\u5206\u5e73\u9762\u3068\u5ea7\u6a19\u7cfb\u306e\u9055\u3044\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u3001\u5de6\u4e0a\u306e\u5186\u306e\u5927\u304d\u3055\u3092\u5909\u3048\u3066\u307f\u307e\u3059\u3002\u5186\u306f`circle(\u4e2d\u5fc3\u306ex\u5ea7\u6a19, \u4e2d\u5fc3\u306ey\u5ea7\u6a19, \u534a\u5f84)`\u3068\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3092\u307f\u308b\u3068 `context(0.0, 0.0, 0.5, 0.5)` \u3067\u6307\u5b9a\u3055\u308c\u305f\u90e8\u5206\u5e73\u9762\u306b\u53ce\u307e\u308b\u3088\u3046\u306b\u3001\u3082\u3068\u306eContext\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5ea7\u6a19\u7cfb`(0, 0, 1, 1)`\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```julia\ncompose(context(), fill(\"tomato\"),\n        (context(0.0, 0.0, 0.5, 0.5), circle(0.5, 0.5, 0.25)),\n        (context(0.5, 0.5, 0.5, 0.5), circle()))\n```\n\n![ComposeTest.png](https://qiita-image-store.s3.amazonaws.com/0/18504/48361918-f6cb-7be4-da0a-07ed4abf5fe1.png \"ComposeTest.png\")\n\n\n\u3055\u3089\u306b`context()`\u306b`units`\u3068\u3044\u3046\u5f15\u6570\u3092\u4e0e\u3048\u308b\u3053\u3068\u3067\u3001\u5ea7\u6a19\u7cfb\u3082\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u5de6\u4e0b\u306e\u5186\u306e`context()`\u3067\u5ea7\u6a19\u7cfb\u3092\u5909\u66f4\u3057\u3001\u3055\u3089\u306b`circle()`\u3067\u6307\u5b9a\u3059\u308bxy\u5ea7\u6a19\u3068\u534a\u5f84\u306e\u30b9\u30b1\u30fc\u30eb\u3082\u3053\u308c\u307e\u3067\u3068\u9055\u3046\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n```julia\ncompose(context(), fill(\"tomato\"),\n        (context(0.0, 0.0, 0.5, 0.5), circle(0.5, 0.5, 0.25)),\n        (context(0.5, 0.5, 0.5, 0.5, units = UnitBox(0, 0, 100, 100)), circle(50, 50, 25)))\n```\n\n![Kobito.zmvwfY.png](https://qiita-image-store.s3.amazonaws.com/0/18504/32dd72c2-2570-61f6-47a1-1a5f03dea0e3.png \"Kobito.zmvwfY.png\")\n\n\n\u3055\u3089\u306b\u56f3\u3092\u3069\u3093\u3069\u3093\u5165\u308c\u5b50\u306b\u3057\u3066\u3044\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n```julia\nc5 = compose(context(), fill(\"tomato\"),\n        (context(0.0, 0.0, 0.5, 0.5), circle(0.5, 0.5, 0.25)),\n        (context(0.5, 0.5, 0.5, 0.5, units = UnitBox(0, 0, 100, 100)), circle(50, 50, 20)))\n\nc6 = compose(context(),\n        (context(units=UnitBox(0, 0, 1000, 1000)),\n         polygon([(0, 1000), (500, 1000), (500, 0)]),\n         fill(\"tomato\")),\n        (context(),\n         polygon([(1, 1), (0.5, 1), (0.5, 0)]),\n         fill(\"bisque\")))\n\nc7 = compose(context(),\n(context(0,0.5,0.5,0.5), c5),\n(context(0.5,0,0.5,0.5), c6)\n)\n```\n\n![ComposeTest.png](https://qiita-image-store.s3.amazonaws.com/0/18504/e305784e-3277-f625-4105-9ca5434da785.png \"ComposeTest.png\")\n\n\n\n### Form \u3068 Property\u306e\u30d9\u30af\u30c8\u30eb\u5316\n\nForm\u3084Property\u3092\u751f\u6210\u3059\u308b\u95a2\u6570\u306b\u4e0e\u3048\u308b\u5f15\u6570\u306b\u306f\u30d9\u30af\u30c8\u30eb\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u306f`circle()`\u3068`fill()`\u3067\u306e\u4f8b\u3067\u3059\u3002\n\n```julia\nusing Colors\ncompose(context(),\n        circle([0.25, 0.5, 0.75], [0.25, 0.5, 0.75], [0.1]),\n        fill([LCHab(92, 10, 77), LCHab(68, 74, 192), LCHab(78, 84, 29)]))\n```\n\n![Kobito.sHvw7N.png](https://qiita-image-store.s3.amazonaws.com/0/18504/7c2c4acf-cee8-7297-8b69-dd10a2d50fe8.png \"Kobito.sHvw7N.png\")\n\n\n### \u95a2\u6570\u306e\u7a2e\u985e\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u6574\u5099\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30bd\u30fc\u30b9\u3092\u8aad\u3093\u3067\u5224\u65ad\u3057\u307e\u3059\u3002\u95a2\u6570\u540d\u304b\u3089\u4e3b\u8981\u306a\u3082\u306e\u3068\u5224\u65ad\u3057\u305f\u3082\u306e\u3092\u6319\u3052\u3066\u3044\u307e\u3059\u3002\n\n#### Form\nhttps://github.com/GiovineItalia/Compose.jl/blob/master/src/form.jl\n\n- `rectangle()`\n- `polygon()`\n- `circle()`\n- `ellipse()`\n- `text()`\n- `line()`\n- `curve()`\n- `bitmap()`\n- `path()`\n\n#### Property\n\nhttps://github.com/GiovineItalia/Compose.jl/blob/master/src/property.jl\n\n- `fill()`\n- `fillopacity()`\n- `stroke()`\n- `strokedash()`\n- `strokelinecap()`\n- `strokelinejoin()`\n- `strokeopacity()`\n- `linewidth()`\n- `clip()`\n- `font()`\n- `fontsize()`\n- `visible()`\n\n\n### \u56f3\u306e\u4fdd\u5b58\n\n```julia\ndraw(SVG(\"tomato.svg\", 4cm, 4cm), composition)\n```\n\n\u307e\u305f[Cairo](https://github.com/JuliaGraphics/Cairo.jl)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070PNG\u3084PDF\u3067\u3082\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u56f3\u306b\u6587\u5b57\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u52a0\u3048\u3066Pango\u3068Fontconfig\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n## \u5fdc\u7528\u4f8b\n### Sierpinski triangle\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u8f09\u3063\u3066\u3044\u305f\u4f8b\u3067\u3059\u3002\n\n```julia\nfunction sierpinski(n)\n    if n == 0\n        compose(context(), polygon([(1,1), (0,1), (1/2, 0)]))\n    else\n        t = sierpinski(n - 1)\n        compose(context(),\n                (context(1/4,   0, 1/2, 1/2), t),\n                (context(  0, 1/2, 1/2, 1/2), t),\n                (context(1/2, 1/2, 1/2, 1/2), t))\n    end\nend\n\ncomposition = compose(sierpinski(6), fill(\"grey\"))\n```\n\n![Kobito.r1kyTH.png](https://qiita-image-store.s3.amazonaws.com/0/18504/c346979d-56ef-b763-9399-bbd70f4544eb.png \"Kobito.r1kyTH.png\")\n\n### \u30b2\u30ce\u30e0\u30d6\u30e9\u30a6\u30b6\n\n\u5206\u5b50\u751f\u7269\u5b66\u3084\u30b2\u30ce\u30e0\u751f\u7269\u5b66\u3001\u30aa\u30df\u30c3\u30af\u30b9\u751f\u7269\u5b66\u3067\u3088\u304f\u4f7f\u308f\u308c\u308b\u30c4\u30fc\u30eb\u306b\u30b2\u30ce\u30e0\u30d6\u30e9\u30a6\u30b6 (Genome browser) \u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u6a2a\u8ef8\u306b\u30b2\u30ce\u30e0\u4e0a\u306e\u5ea7\u6a19\u3001\u7e26\u306b\u30b2\u30ce\u30e0\u4e0a\u306b\u5b9a\u7fa9\u3055\u308c\u308b\u69d8\u3005\u306a\u30c7\u30fc\u30bf\u3092\u8868\u73fe\u3059\u308b\u30c8\u30e9\u30c3\u30af\u3092\u4e26\u3079\u305f\u3082\u306e\u3067\u3059\u3002\n\u30c7\u30fc\u30bf\u306e\u7a2e\u985e\u306b\u306f\u6570\u5024\u30c7\u30fc\u30bf\uff08\u4f8b\uff1a\u4f4d\u7f6e\u3054\u3068\u306eRNA\u5408\u6210\u91cf\uff09\u3084\u533a\u9593\u30c7\u30fc\u30bf\uff08\u4f8b\uff1a\u907a\u4f1d\u5b50\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\uff09\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3082\u3068\u3082\u3068R\u306eGrid\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u30b2\u30ce\u30e0\u30d6\u30e9\u30a6\u30b6\u3084\u305d\u308c\u306b\u985e\u3059\u308b\u56f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u308c\u3092\u79fb\u690d\u3059\u308b\u306b\u3042\u305f\u308aCompose\u306e\u52c9\u5f37\u3092\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u307e\u3060\u958b\u767a\u9014\u4e2d\u3067\u3059\u304c\u3001\u3053\u3093\u306a\u56f3\u304c\u30b5\u30af\u30b5\u30af\u63cf\u3051\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u76ee\u6307\u3057\u3066\u3044\u307e\u3059\u3002\n\n![Kobito.ks2VxP.png](https://qiita-image-store.s3.amazonaws.com/0/18504/9ac591f8-ade4-8113-afab-800775d30cdd.png \"Kobito.ks2VxP.png\")\n\n\n\n## \u307e\u3068\u3081\n\nCompose\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u56f3\u3092\u3069\u3093\u3069\u3093\u5165\u308c\u5b50\u306b\u3057\u3066\u3044\u3051\u308b\u306e\u304c\u9762\u767d\u3044\u3067\u3059\u3002\n\u307f\u306a\u3055\u3093\u3082\u300c\u3053\u3093\u306a\u56f3\u304c\u4f5c\u308a\u305f\u3044\u300d\u3068\u3044\u3046\u306e\u304c\u3042\u308c\u3070Compose\u3067\u4f5c\u56f3\u95a2\u6570\u304b\u3089\u4f5c\u3063\u3066\u307f\u3066\u306f\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\n\n### \u30aa\u30de\u30b1\uff08\u914d\u616e\u6e08\u307f\uff09\n![ComposeTest.png](https://qiita-image-store.s3.amazonaws.com/0/18504/20a62757-39a6-4f37-661f-b73a3250cc36.png \"ComposeTest.png\")\n\n\n```julia\nusing Compose, Colors, Measures \n\n\na = 1\nx = 18\nnSnow = 2000\nxrand = rand(nSnow) .* 20 - 10\nyrand = abs(randn(nSnow) .* 5)\nstartT = 5/8\nshiftT = 5/8\nheighT = 1.5\nfac = 3/2\n\ncoordStar = [\n(0,0),\n(-a*sin(x/180*pi), a*cos(x/180*pi)),\n(1/2*a, 1/2*a * tan(2*x/180*pi)),\n(-1/2*a, 1/2*a * tan(2*x/180*pi)),\n(a*sin(x/180*pi), a*cos(x/180*pi)),\n(0,0)\n]\n\ns = compose(context(units=UnitBox(-1/2,0,1,1)), polygon(coordStar), fill(\"yellow\"))\n\nt = compose(context(units=UnitBox(0,0,1,1)), polygon([(1,1), (0,1), (1/2, 0)]))\n\ncompose(context(units=UnitBox(-5,0,10,10)), \n                (context(-5, 8.5, 5, 1), text(5, 0, \"Merry Christmas and Happy Holidays!\", hcenter, vcenter), fontsize(20pt), fill(\"white\")),\n                (context(-1/2, 0, 1, 1), s),\n                (context(-1, startT, 2, heighT), t, fill(\"green\")),\n                (context(-1*fac, startT+shiftT, 2*fac ,heighT*fac), t, fill(\"green\")),\n                (context(-1*fac^2, startT+shiftT*2, 2*fac^2 ,heighT*fac^2), t, fill(\"green\")),\n                (context(-1*fac^3, startT+shiftT*3, 2*fac^3 ,heighT*fac^3), t, fill(\"green\")),\n                (context(-1/2, 2+1*3/2*3/2*3/2, 1 ,7), rectangle(), fill(\"brown\")),\n                (context(), circle(xrand, yrand, fill(0.05, nSnow)), fill(\"white\")),\n(context(-5,0,10,10), rectangle(), fill(LCHab(40,50,-70))),\n\n\n)\n```\n\n\n\n\n\n\n\n\n\n\n\n\n", "tags": ["bioinformatics", "Julia"]}