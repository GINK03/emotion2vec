{"tags": ["reactjs", "redux", "Node.js"], "context": "\u9805\u76ee\u304c\u591a\u3044\u306e\u3067\u3000React tutorial example series \u306b\u5206\u3051\u307e\u3057\u305f\u3002\n\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d0\u30fc\u30c3\u30b7\u30e7\u30f3\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u3001\u5185\u5bb9\u3082\u5c11\u3057\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\nReact Tutorial Example (Express)\nReact Tutorial Example (Hot Module Replacement)\nReact Tutorial Example (Redux)\nReact Tutorial Example (ECMAScript 2015)\nReact Tutorial Example (Convention)\nReact Tutorial Example (PostCSS)\nReact Tutorial Example (Package)\nReact Tutorial Example (Jest)\nReact Tutorial Example (Electron)\n\n\n\u3053\u3061\u3089\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u8a18\u4e8b\u3067\u3059\u3002\nReact \u306f \u30e6\u30fc\u30b6\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u3092\u4f5c\u6210\u3059\u308b JavaScript \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\nVirtual DOM \u3084 Data Flow \u304c\u7279\u5fb4\u3067\u4e3b\u306b Facebook \u3067\u958b\u767a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nv0.14 \u304b\u3089 React \u3068 ReactDOM \u306e\uff12\u3064\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5206\u5272\u3055\u308c\u307e\u3057\u305f\u3002\nReact Tutorial \u3082 ReactDOM \u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304c\u3055\u308c\u3066\u3044\u308b\u306e\u3067 Redux \u3084 Socket.IO \u3092\u5229\u7528\u3057\u3066\u30b5\u30f3\u30d7\u30eb\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u5b9f\u88c5\u3057\u305f React Tutorial Example \u306b\u306f6\u3064\u306e Tag \u3067\u30b3\u30fc\u30c9\u306e\u5dee\u5206\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\nv0.0.1: React Tutorial\n\nv0.0.2: Webpack\n\nv0.0.3: Redux Tutorial 1st\n\nv0.0.4: Redux Tutorial 2nd\n\nv0.0.5: WebSocket\n\nv0.0.6: PropTypes\n\n\nEnvironment\n\u74b0\u5883\u306f React v0.14 \u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u6642\u70b9\u306e\u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u958b\u767a\u3057\u3066\u3044\u307e\u3059\u3002\n\nnode: v4.1.2\nnpm: v2.14.4\nexpress: v4.13.1\nreact: v0.14.0\nredux: v3.0.2\nsocket.io: v1.3.7\n\n\n\nExpress\nWeb\u30b5\u30fc\u30d0\u30fc\u306b\u306f Express \u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\nExpress Generator \u3067\u7c21\u5358\u306bWeb\u30b5\u30fc\u30d0\u30fc\u304c\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\n$ npm install express-generator -g\n$ express react-tutorial-example\n$ cd react-tutorial-example && npm install\n$ DEBUG=react-tutorial-example:* npm start\n\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://localhost:3000/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3057\u3087\u3046\u3002\nWelcome to Express \u304c\u8868\u793a\u3055\u308c\u305f\u3089 OK \u3067\u3059\u3002\n\u6b21\u306b\u9032\u307f\u307e\u3057\u3087\u3046\u3002\n\n\nGit\nSCM \u306f Tutorial \u306e\u9032\u307f\u306e\u5dee\u5206\u3092\u898b\u76f4\u3059\u3053\u3068\u304c\u51fa\u6765\u3066\u4fbf\u5229\u3067\u3059\u3002\n\u4eca\u56de\u306f 20 \u7a0b\u5ea6\u306e Commit \u3067\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n$ echo node_modules/ > .gitignore\n$ git init\n$ git add --all\n$ git commit -m \"Initial commit\"\n\n\u7279\u306b Git \u306f Tutorial \u306b\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\n\n\nReact\n\n\nTutorial\nReact \u3067\u5b9f\u969b\u306b Comments Box \u3092\u4f5c\u6210\u3057\u306a\u304c\u3089 Virtual DOM \u3084 Data Flow \u3092\u4f53\u9a13\u3057\u307e\u3057\u3087\u3046\u3002\n\uff08\u3053\u3061\u3089\u306b Tutorial \u306e Source \u304c\u3042\u308a\u307e\u3059\u3002\uff09\n\nStyle\n\n\u307e\u305a\u306f Express Generator \u3067\u4f5c\u6210\u3057\u305f Express \u306e Stylesheet \u3092 Tutorial \u306e Source \u304b\u3089\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n$ curl https://raw.githubusercontent.com/reactjs/react-tutorial/master/public/css/base.css -o ./public/stylesheets/style.css\n\n\nLayout\n\n\nExpress \u306e Layout \u3082 Tutorial \u306e Source \u304b\u3089\u30b3\u30d4\u30fc\u3057\u305f\u3044\u6240\u3067\u3059\u304c\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b Jade \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u306e\u3067HTML\u3092\u5909\u63db\u3057\u307e\u3057\u305f\u3002\n\nmarked.min.js \u306f Tutorial \u306e Adding Markdown \u3067\u5229\u7528\u3057\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\nviews/layout.jade:\ndoctype html\nhtml\n  head\n    meta(charset='utf-8')\n    title React Tutorial\n    link(rel='stylesheet', href='/stylesheets/style.css')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js')\n  body\n    block content\n\n\n\nExpress \u3067\u306f\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092 index.jade \u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001 React \u306f Virtual DOM \u306a\u306e\u3067\u30ec\u30a4\u30a2\u30a6\u30c8\u306b ID (#content) \u4ee5\u5916\u306e\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u307e\u305b\u3093\u3002\n\nviews/index.jade:\nextends layout\n\nblock content\n  #content\n  script(type='text/babel', src='/javascripts/example.js')\n  script(type='text/babel').\n\n\nScript\n\n\nTutorial \u306e tutorial1.js \u304b\u3089 tutorial20.js \u3092 example.js \u306b\u8a18\u8ff0\u3057\u306a\u304c\u3089\u9032\u307f\u307e\u3059\u3002\n\npublic/javascripts/example.js:\nvar CommentBox = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        Hello, world! I am a CommentBox.\n      </div>\n    );\n  }\n});\n\nReactDOM.render(\n  <CommentBox />,\n  document.getElementById('content')\n);\n\n\u305d\u308c\u3067\u306f Tutorial \u3092\u59cb\u3081\u307e\u3057\u3087\u3046\u3002\n\nTutorial 1\n\n\nyour-first-component \u3067\u306f CommentBox \u306e Component \u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n\n\u3044\u3064\u3082\u306e Hello, world! \u3067\u59cb\u307e\u308a\u307e\u3059\u3002\n\nTutorial 2,3\n\n\ncomposing-components \u3067\u306f CommentList \u3068 CommentForm \u304c\u69cb\u9020\u3067\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n\n\u3075\u305f\u3064\u306e Hello, world! \u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u3046\u3057\u3066 Component \u3054\u3068\u306b\u5206\u5272\u3057\u3066\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\nTutorial 4,5\n\n\nusing-props \u3067\u306f CommentList \u306b Comment \u304c\u69cb\u9020\u3067\u8ffd\u52a0\u3055\u308c\u3066\u3001props \u3067\u5024\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u30c7\u30fc\u30bf\u306f\u4e0a\u4f4d\u306e Component \u304b\u3089\u4e0b\u4f4d\u306e Component \u306b\u6d41\u308c\u307e\u3059\u3002\n\nTutorial 6,7\n\n\nadding-markdown \u3067\u306f Comment \u304c Markdown \u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\n\nanother \u304c another \u306b\u5909\u63db\u3055\u308c\u3066\u3044\u307e\u3059\u306d\u3002\n\nTutorial 8,9,10\n\n\nhook-up-the-data-model \u3067\u306f CommentList \u306b\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u304b\u3089\u5024\u304c\u6e21\u3055\u308c\u3066\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u8868\u793a\u306f\u5909\u308f\u3063\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u6027\u80fd\u304c\u5927\u304d\u304f\u5411\u4e0a\u3057\u307e\u3057\u305f\u3002\n\nSearch Comments API\n\u6b21\u306e Tutorial \u304b\u3089 \u30b5\u30fc\u30d0\u30fc\u306b API \u304c\u5fc5\u8981\u306a\u306e\u3067\nExpress \u306b Comments \u3092\u53d6\u5f97\u3059\u308b API \u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n\nExpress \u306e\u4fbf\u5229\u306a Router \u3067 Comments \u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\napp.js:\nvar comments = require('./routes/api/comments');\napp.use('/api/comments', comments);\n\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nroutes/api/comments.js:\nvar fs = require('fs');\nvar express = require('express');\nvar router = express.Router();\n\n/* GET comments listing. */\nrouter.get('/', function(req, res, next) {\n  fs.readFile('db/comments.json', function(err, data) {\n    res.setHeader('Cache-Control', 'no-cache');\n    res.json(JSON.parse(data));\n  });\n});\n\nmodule.exports = router;\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3082\u3069\u304d\u306f JSON \u306b\u3057\u307e\u3059\u3002\n\ndb/comments.json:\n[\n  {\"author\": \"Pete Hunt\", \"text\": \"This is one comment\"},\n  {\"author\": \"Jordan Walke\", \"text\": \"This is *another* comment\"}\n]\n\nJavaScript Only \u306f\u7d20\u6575\uff01\n\nTutorial 11 - 14\n\n\nfetching-from-the-server \u3067\u306f CommentList \u306b GET /api/comments \u304b\u3089\u5024\u304c\u53d6\u5f97\u3055\u308c\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\ndb/comments.json \u306e\u5024\u3092\u5909\u66f4\u3059\u308b\u3068\u6570\u79d2\u5f8c\u306b\u5024\u306e\u8868\u793a\u304c\u5909\u308f\u308a\u307e\u3059\u3002\n\nCreate Comment API\n\u4eca\u5ea6\u306f Express \u306b Comment \u3092\u767b\u9332\u3059\u308b API \u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n\u5148\u307b\u3069\u306e Router \u306b router.post \u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u5b8c\u6210\u3067\u3059\u3002\n\nroutes/api/comments.js:\n/* POST comment creating. */\nrouter.post('/', function(req, res) {\n  fs.readFile('db/comments.json', function(err, data) {\n    var comments = JSON.parse(data);\n    comments.push(req.body);\n    fs.writeFile('db/comments.json', JSON.stringify(comments, null, 4), function(err) {\n      res.setHeader('Cache-Control', 'no-cache');\n      res.json(comments);\n    });\n  });\n});\n\n\nTutorial 15 - 20\n\n\nadding-new-comments \u3067\u306f CommentForm \u304b\u3089 Comment \u3092 Post \u3057\u307e\u3059\u3002\n\n\n\u9001\u4fe1\u3059\u308b\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3082\u3069\u304d\u306b author \u3068 text \u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3067 React \u306e Comments Box \u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\nWebpack\n\nWebpack \u306f\u4f9d\u5b58\u95a2\u4fc2\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u53d6\u8fbc\u307f\u3001\u9759\u7684\u306a Assets \u3092\u751f\u6210\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\n\u4eca\u56de\u306f\u5148\u307b\u3069\u306e Tutorial \u3067\u5229\u7528\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092 Webpack \u304b\u3089\u751f\u6210\u3057\u307e\u3057\u3087\u3046\u3002\n$ npm install webpack --save-dev\n$ npm install webpack-dev-middleware --save-dev\n$ npm install babel-loader --save-dev\n$ npm install jquery --save\n$ npm install react --save\n$ npm install react-dom --save\n\n\n\nExpress \u306b Webpack \u306e\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\napp.js:\nvar webpack = require('webpack');\nvar webpackDevMiddleware = require('webpack-dev-middleware');\nvar webpackConfig = require('./config/webpack.config');\n\n// webpack setup\nvar compiler = webpack(webpackConfig);\napp.use(webpackDevMiddleware(compiler, {\n  noInfo: true, publicPath: webpackConfig.output.publicPath\n}));\n\n\n\nTutorial \u3067\u8a18\u8ff0\u3057\u305f example.js \u3092 entry \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nconfig/webpack.config.js:\nmodule.exports = {\n  entry: [\n    './public/javascripts/example.js'\n  ],\n  output: {\n    path: __dirname + '/static/',\n    filename: 'bundle.js',\n    publicPath: '/static/'\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.js$/,\n        loaders: ['babel'],\n        exclude: /node_modules/\n      }\n    ]\n  },\n  resolve: {\n    extensions: ['', '.js']\n  }\n};\n\n\n\nmarked \u4ee5\u5916\u306f Webpack \u3067\u751f\u6210\u3059\u308b\u306e\u3067\u3001layout.jade \u304b\u3089\u9664\u5916\u3057\u307e\u3059\u3002\n\nviews/layout.jade:\ndoctype html\nhtml\n  head\n    meta(charset='utf-8')\n    title React Tutorial\n    link(rel='stylesheet', href='/stylesheets/style.css')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js')\n  body\n    block content\n\n\n\nWebpack \u304c\u751f\u6210\u3059\u308b bundle.js \u3092 script \u3067\u53c2\u7167\u3059\u308b\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\n\nviews/index.jade:\nextends layout\n\nblock content\n  #content\n  script(src='static/bundle.js')\n\n\n\nJQuery \u3084 React \u3092 import \u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\npublic/javascripts/example.js:\nimport $ from 'jquery';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n\u6b21\u306e Redux \u306e Tutorial \u306f ECMAScript 6 \u3067\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nRedux\n\nRedux \u306f Flux \u306e Framework \u3067\u4e3b\u306b Action, Reducer, Store \u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002\n\nYeoman\nRedux \u306e examples \u3092\u53c2\u7167\u3059\u308b\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u69cb\u9020\u306b\u30eb\u30fc\u30eb\u304c\u3042\u308b\u306e\u304c\u89e3\u308a\u307e\u3059\u3002\n\u3053\u306e Redux Tutorial \u306f Yeoman \u306e Redux Generator \u3067\u51fa\u529b\u3055\u308c\u305f\u69cb\u9020\u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u6700\u521d\u304b\u3089 React Tutorial \u3092 Redux \u3067\u9806\u306b\u9032\u3081\u3066\u884c\u304f\u306e\u3067 yo redux \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306f\u4e0d\u8981\u3067\u3059\uff01\n$ npm install --global yo\n$ npm install --global generator-redux\n$ yo redux\n\n\nactions\n\n\n\nStore \u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3059\u308b\u60c5\u5831\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n\n\ncomponents\n\n\n\nComponent(\u69cb\u6210\u90e8\u54c1) \u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n\n\nconstants\n\n\n\nAction \u3068 Reducer \u306e const \u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n\n\ncontainers\n\n\n\nApp.js \u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8d77\u70b9\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n\n\nreducers\n\n\n\nAction \u306b\u5fdc\u3058\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u72b6\u614b\u3092\u5909\u66f4\u3059\u308b\u6a5f\u69cb\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n\n\nstore\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u72b6\u614b\u3092\u4fdd\u6301\u3059\u308b\u6a5f\u69cb\u3068\u72b6\u614b\u3092\u66f4\u65b0\u3059\u308b\u6a5f\u69cb\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n\n\nutils\n\n\n\nDevTools \u306a\u3069\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n\n\n\n\nTutorial\n\nTutorial 1\n\n\napp \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5404\u5f79\u5272\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8a2d\u7f6e\u3057\u307e\u3057\u305f\u3002\n\napp/index.js:\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('content')\n);\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8d77\u70b9\u306e App.js \u3092\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\napp/containers/App.js:\nimport React from 'react';\nimport Home from '../components/Home';\n\nexport default React.createClass({\n  render() {\n    return (\n      <div>\n        <Home />\n      </div>\n    );\n  }\n});\n\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u8d77\u70b9\u306e Home.js \u3092\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\napp/components/Home.js:\nimport React, {Component} from 'react';\nimport CommentBox from './CommentBox';\n\nclass Home extends Component {\n  render() {\n    return (\n      <div>\n        <CommentBox />\n      </div>\n    );\n  }\n}\n\nexport default Home\n\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b CommentBox.js \u3092\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\napp/components/CommentBox.js:\nimport React, {Component} from 'react';\n\nclass CommentBox extends Component {\n  render() {\n    return (\n      <div className=\"commentBox\">\n        Hello, world! I am a CommentBox.\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n\n\n\nWebpack \u306e entry \u3092 index.js \u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\nconfig/webpack.config.js:\nmodule.exports = {\n  entry: [\n    './app/index.js'\n  ],\n\n\n\u518d\u3073 Hello, world! \u304c\u6765\u307e\u3057\u305f\u3002\n\u307e\u3060\u3001Redux \u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\nTutorial 2,3\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u305d\u308c\u305e\u308c\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\napp/components/CommentBox.js:\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\n\nclass CommentBox extends Component {\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList />\n        <CommentForm />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u304c Fat \u306b\u306a\u308b\u306e\u3092\u6291\u6b62\u3055\u308c\u307e\u3059\u3002\n\napp/components/CommentList.js:\nimport React, {Component} from 'react';\n\nclass CommentList extends Component {\n  render() {\n    return (\n      <div className=\"commentList\">\n        Hello, world! I am a CommentList.\n      </div>\n    );\n  }\n}\n\nexport default CommentList;\n\n\n\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u500b\u3005\u306b\u3067\u304d\u308b\u306e\u3067\u3001\u30c6\u30b9\u30c8\u3082\u5c0f\u3055\u304f\u3067\u304d\u307e\u3059\u3002\n\napp/components/CommentForm.js:\nimport React, {Component} from 'react';\n\nclass CommentForm extends Component {\n  render() {\n    return (\n      <div className=\"commentForm\">\n        Hello, world! I am a CommentForm.\n      </div>\n    );\n  }\n}\n\nexport default CommentForm;\n\n\n\u3075\u305f\u3064\u306e Hello, world! \u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u306d\u3002\n\u3057\u304b\u3057\u307e\u3060\u3001Redux \u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\nTutorial 4,5\n\n\u4e0a\u4f4d\u306e CommentList \u304b\u3089 Comment \u306b\u30c7\u30fc\u30bf\u3092\u6d41\u3057\u307e\u3059\u3002\n\napp/components/CommentList.js:\nimport React, {Component} from 'react';\nimport Comment from './Comment';\n\nclass CommentList extends Component {\n  render() {\n    return (\n      <div className=\"commentList\">\n        <Comment author=\"Pete Hunt\">This is one comment</Comment>\n        <Comment author=\"Jordan Walke\">This is *another* comment</Comment>\n      </div>\n    );\n  }\n}\n\nexport default CommentList;\n\n\n\u4e0b\u4f4d\u306e props \u3067\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\napp/components/Comment.js:\nimport React, {Component} from 'react';\n\nclass Comment extends Component {\n  render() {\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default Comment;\n\n\n\u3053\u3053\u3067\u3082\u307e\u3060\u3001Redux \u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\nTutorial 6,7\n\n\nECMAScript 6 \u306a\u306e\u3067 function \u306e\u8a18\u8ff0\u304c\u4e0d\u8981\u3067\u3059\u3002\n\napp/components/Comment.js:\nimport React, {Component} from 'react';\n\nclass Comment extends Component {\n  rawMarkup() {\n    let rawMarkup = marked(this.props.children.toString(), {sanitize: true});\n    return { __html: rawMarkup };\n  }\n\n  render() {\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        <span dangerouslySetInnerHTML={this.rawMarkup()} />\n      </div>\n    );\n  }\n}\n\nexport default Comment;\n\n\n\u3082\u3061\u308d\u3093 Redux \u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\nTutorial 8,9,10\n\n\u30c7\u30fc\u30bf\u3092 Home \u304b\u3089\u4e0b\u4f4d\u306b\u6d41\u3057\u307e\u3059\u3002\n\napp/components/Home.js:\nimport React, {Component} from 'react';\nimport CommentBox from './CommentBox';\n\nconst data = [\n  {author: \"Pete Hunt\", text: \"This is one comment\"},\n  {author: \"Jordan Walke\", text: \"This is *another* comment\"}\n];\n\nclass Home extends Component {\n  render() {\n    return (\n      <div>\n        <CommentBox data={data} />\n      </div>\n    );\n  }\n}\n\nexport default Home\n\n\n\u30c7\u30fc\u30bf\u3092 CommentBox \u304b\u3089\u4e0b\u4f4d\u306b\u6d41\u3057\u307e\u3059\u3002\n\napp/components/CommentBox.js:\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\n\nclass CommentBox extends Component {\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n\n\n\u30c7\u30fc\u30bf\u3092 CommentList \u304b\u3089\u4e0b\u4f4d\u306b\u6d41\u3057\u307e\u3059\u3002\n\napp/components/CommentList.js:\nimport React, {Component} from 'react';\nimport Comment from './Comment';\n\nclass CommentList extends Component {\n  render() {\n    const commentNodes = this.props.data.map((comment, index) => {\n      return (\n        <Comment author={comment.author} key={index}>\n          {comment.text}\n        </Comment>\n      );\n    });\n\n    return (\n      <div className=\"commentList\">\n        {commentNodes}\n      </div>\n    );\n  }\n}\n\nexport default CommentList;\n\n\nRedux \u3092\u5229\u7528\u3057\u306a\u304f\u3068\u3082\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u69cb\u9020\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3067\n\u30d5\u30a1\u30a4\u30eb\u3092\u5c0f\u3055\u304f\u4fdd\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nTutorial 11 - 14\nGET /api/comments \u304b\u3089\u5024\u304c\u53d6\u5f97\u3059\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u767a\u751f\u3059\u308b\u306e\u3067\u3001\u3053\u3053\u3067 Redux \u304c\u767b\u5834\u3057\u307e\u3059\u3002\n\u4ed6\u306b React \u3068 Redux \u3092\u3064\u306a\u3050 React Redux \u3084 \u975e\u540c\u671f\u3092\u8abf\u6574\u3059\u308b Redux Thunk \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n$ npm install redux --save\n$ npm install react-redux --save\n$ npm install redux-thunk --save\n\n\n\u307e\u305a\u3001\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002\n\napp/constants/ActionTypes.js:\nexport const RECEIVE_COMMENTS = 'RECEIVE_COMMENTS';\n\n\nComment \u306e Search \u3068 Recieve \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u975e\u540c\u671f\u306f ECMAScript 6 \u304b\u3089\u5229\u7528\u3067\u304d\u308b Promise \u3067\u5ba3\u8a00\u3057\u3066\u3044\u307e\u3059\u3002\n\napp/actions/CommentActions.js:\nimport * as ActionTypes from '../constants/ActionTypes';\nimport $ from 'jquery';\n\nexport function recieveComments(comments) {\n  return {\n    type: ActionTypes.RECEIVE_COMMENTS,\n    comments\n  };\n}\n\nexport function searchComments() {\n  return dispatch => {\n    let promise = new Promise((resolve, reject) => {\n      $.ajax({\n        url: '/api/comments',\n        dataType: 'json',\n        cache: false,\n        success(data) {\n          resolve(data);\n        },\n        error(xhr, status, err) {\n          reject(err);\n        }\n      });\n    });\n\n    promise.then((data) => {\n      dispatch(recieveComments(data));\n    }).catch((err) => {\n      console.error(err);\n    });\n  };\n}\n\n\n\u8907\u6570\u306e Reducer \u306f index.js \u3067\u5ba3\u8a00\u3057\u307e\u3059\u3002\n\napp/reducers/index.js:\nexport {default as Comment} from './Comment';\n\n\nComment \u306e Recieve \u30a2\u30af\u30b7\u30e7\u30f3\u304b\u3089\u72b6\u614b\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\napp/reducers/Comment.js:\nimport * as ActionTypes from '../constants/ActionTypes';\n\nconst initialState = {comments: []};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n  case ActionTypes.RECEIVE_COMMENTS:\n    return {comments: action.comments};\n  default:\n    return state;\n  }\n}\n\n\n\nStore \u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306b Middleware \u3084 Reducer \u3092\u53d6\u308a\u5165\u308c\u307e\u3059\u3002\n\napp/store/configureStore.js:\nimport {createStore, applyMiddleware, combineReducers} from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport * as reducers from '../reducers/index';\n\nlet createStoreWithMiddleware = applyMiddleware(thunkMiddleware)(createStore);\nconst rootReducer = combineReducers(reducers);\n\nexport default function configureStore(initialState) {\n  return createStoreWithMiddleware(rootReducer, initialState);\n}\n\n\n\nReact Redux \u3067 Provider \u3092\u5ba3\u8a00\u3092\u3057\u3066 Store \u3092\u6d41\u3057\u307e\u3059\u3002\n\napp/containers/App.js:\nimport React from 'react';\nimport {Provider} from 'react-redux';\nimport configureStore from '../store/configureStore';\nimport Home from '../components/Home';\n\nconst store = configureStore();\n\nexport default React.createClass({\n  render() {\n    return (\n      <div>\n        <Provider store={store}>\n          <Home />\n        </Provider>\n      </div>\n    );\n  }\n});\n\n\n\nAction \u3092 dispatch \u306b\u767b\u9332\u3059\u308b\u3002\n\napp/components/Home.js:\nimport React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport * as CommentActions from '../actions/CommentActions';\nimport CommentBox from './CommentBox';\n\nclass Home extends Component {\n  render() {\n    const {dispatch, comments} = this.props;\n    const actions = bindActionCreators(CommentActions, dispatch);\n    return (\n      <div>\n        <CommentBox actions={actions} data={comments} />\n      </div>\n    );\n  }\n}\n\nexport default connect(state => state.Comment)(Home)\n\n\nSearch Comments \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002\n\napp/components/CommentBox.js:\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\n\nclass CommentBox extends Component {\n  componentDidMount() {\n    this.props.actions.searchComments();\n    setInterval(this.props.actions.searchComments, 2000);\n  }\n\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n\n\n\u69cb\u9020\u7684\u306b\u5c0f\u3055\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7e4b\u3052\u308b\u3053\u3068\u306f\u5f37\u3044\u30b7\u30b9\u30c6\u30e0\u306b\u306a\u308b\u306e\u3067\u3001Redux \u306e\u8003\u3048\u306f\u597d\u307e\u3057\u3044\u3067\u3059\u3002\n\nTutorial 15 - 20\n\n\u30b3\u30e1\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002\n\napp/constants/ActionTypes.js:\nexport const ADD_COMMENT = 'ADD_COMMENT';\n\n\nComment \u306e Create \u3068 Add \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\napp/actions/CommentActions.js:\nexport function addComment(comment) {\n  return {\n    type: ActionTypes.ADD_COMMENT,\n    comment\n  };\n}\n\nexport function createComment(comment) {\n  return dispatch => {\n    dispatch(addComment(comment));\n    let promise = new Promise((resolve, reject) => {\n      $.ajax({\n        url: '/api/comments',\n        dataType: 'json',\n        type: 'POST',\n        data: comment,\n        success(data) {\n          resolve(data);\n        },\n        error(xhr, status, err) {\n          reject(err);\n        }\n      });\n    });\n\n    promise.then((data) => {\n      dispatch(recieveComments(data));\n    }).catch((err) => {\n      console.error(err);\n    });\n  };\n}\n\n\n\nADD_COMMENT \u3067\u30b3\u30e1\u30f3\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\napp/reducers/Comment.js:\nimport * as ActionTypes from '../constants/ActionTypes';\n\nconst initialState = {comments: []};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n  case ActionTypes.RECEIVE_COMMENTS:\n    return {comments: action.comments};\n  case ActionTypes.ADD_COMMENT:\n    return {comments: state.comments.concat([action.comment])};\n  default:\n    return state;\n  }\n}\n\n\n\nonCommentSubmit \u306b createComment \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\napp/components/CommentBox.js:\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\n\nclass CommentBox extends Component {\n  componentDidMount() {\n    this.props.actions.searchComments();\n    setInterval(this.props.actions.searchComments, 2000);\n  }\n\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm onCommentSubmit={this.props.actions.createComment} />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n\n\n\nReactDOM.findDOMNode \u3067 refs \u306e DOM \u3092\u64cd\u4f5c\u3057\u307e\u3059\u3002\n\napp/components/CommentForm.js:\nimport React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\n\nclass CommentForm extends Component {\n  handleSubmit(e) {\n    e.preventDefault();\n    const author = ReactDOM.findDOMNode(this.refs.author).value.trim();\n    const text = ReactDOM.findDOMNode(this.refs.text).value.trim();\n    if (!text || !author) {\n      return;\n    }\n    this.props.onCommentSubmit({author: author, text: text});\n    ReactDOM.findDOMNode(this.refs.author).value = '';\n    ReactDOM.findDOMNode(this.refs.text).value = '';\n    return;\n  }\n\n  render() {\n    return (\n      <form className=\"commentForm\" onSubmit={this.handleSubmit.bind(this)}>\n        <input type=\"text\" placeholder=\"Your name\" ref=\"author\" />\n        <input type=\"text\" placeholder=\"Say something...\" ref=\"text\" />\n        <input type=\"submit\" value=\"Post\" />\n      </form>\n    );\n  }\n}\n\nexport default CommentForm;\n\n\n\u3053\u308c\u3067 Redux \u306e Comments Box \u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\nRedux \u3082 Tutorial \u304c\u5fc5\u8981\u304b\u306a\u3068\u601d\u3063\u3066\u3001React Tutorial \u3092\u984c\u6750\u306b\u3057\u307e\u3057\u305f\u304c\u3001Redux \u306f\u3082\u3063\u3068\u591a\u6a5f\u80fd\u306a\u306e\u3067\u5b66\u7fd2\u3092\u6df1\u3081\u305f\u3044\u3002\n\n\nTips\n\nWebSocket\n\u30b5\u30fc\u30d0\u30fc\u3068\u306e\u901a\u4fe1\u306b Ajax \u3067\u306a\u304f WebSocket \u3092\u5229\u7528\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nWebSocket \u306f Socket.IO \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n$ npm install socket.io --save\n$ npm install socket.io-client --save\n\n\nServer\n\n\nExpress \u306e \u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u6700\u5f8c\u306b socket.io \u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nbin/www:\nvar io = require('socket.io')(server);\nrequire('../channels/channel.js')(io);\n\n\n\u30b5\u30fc\u30d0\u30fc\u306b search comments \u3068 recieve comments \u3068 create comment \u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001setInterval \u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u30b5\u30fc\u30d0\u30fc\u306b\u79fb\u8a2d\u3057\u307e\u3059\u3002\n\nchannels/channel.js:\nvar fs = require('fs');\n\nvar channel = function(io) {\n  io.on('connection', function(socket) {\n    socket.on('search comments', function(){\n      fs.readFile('db/comments.json', function(err, data) {\n        socket.emit('recieve comments', JSON.parse(data));\n      });\n    });\n\n    socket.on('create comment', function(comment){\n      fs.readFile('db/comments.json', function(err, data) {\n        var comments = JSON.parse(data);\n        comments.push(comment);\n        fs.writeFile('db/comments.json', JSON.stringify(comments, null, 4), function(err) {\n          socket.emit('recieve comments', comments);\n        });\n      });\n    });\n\n    setInterval(function(){\n      fs.readFile('db/comments.json', function(err, data) {\n        socket.emit('recieve comments', JSON.parse(data));\n      });\n    }, 2000);\n  })\n};\n\nmodule.exports = channel;\n\n\nClient\n\n\n$.ajax(jQuery) \u3092 socket.emit \u306b\u7f6e\u63db\u3048\u307e\u3059\u3002\n\napp/actions/CommentActions.js:\nimport * as ActionTypes from '../constants/ActionTypes';\nimport io from 'socket.io-client';\nexport const socket = io('http://localhost:3000');\n\nexport function recieveComments(comments) {\n  return {\n    type: ActionTypes.RECEIVE_COMMENTS,\n    comments\n  };\n}\n\nexport function addComment(comment) {\n  return {\n    type: ActionTypes.ADD_COMMENT,\n    comment\n  };\n}\n\nexport function searchComments() {\n  return dispatch => {\n    socket.emit('search comments');\n  };\n}\n\nexport function createComment(comment) {\n  return dispatch => {\n    socket.emit('create comment', comment);\n  };\n}\n\n\n\ncomponentWillMount \u306b recieve comments \u306e Subscription \u3092\u8a2d\u7f6e\u3059\u308b\u3002\n\napp/components/CommentBox.js:\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\nimport io from 'socket.io-client';\nexport const socket = io('http://localhost:3000');\n\nclass CommentBox extends Component {\n  componentWillMount() {\n    const {actions} = this.props;\n    socket.on('recieve comments', function(comments) {\n      actions.recieveComments(comments);\n    });\n  }\n\n  componentDidMount() {\n    this.props.actions.searchComments();\n  }\n\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm onCommentSubmit={this.props.actions.createComment} />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n\n\u30b5\u30fc\u30d0\u30fc\u306b socket.broadcast.emit \u3092\u8ffd\u52a0\u3059\u308b\u3068 setInterval \u306f\u4e0d\u8981\u3067\u3059\u3002\nComment Box \u306f Socket.IO \u306e Rooms \u6a5f\u80fd\u3067\u5c11\u3057\u624b\u3092\u5165\u308c\u308b\u3068\u30c1\u30e3\u30c3\u30c8\u30eb\u30fc\u30e0\u304c\u4f5c\u308c\u307e\u3059\u306d\u3002\n\n\nPropTypes\nPropTypes\u306f Component \u306e\u5f15\u6570(props) \u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u53ef\u8aad\u6027\u304c\u5411\u4e0a\u3059\u308b\u306e\u3067\u5229\u7528\u3057\u307e\u3057\u3087\u3046\u3002\uff08\u578b\u3082\u8c4a\u5bcc\u306b\u3042\u308a\u307e\u3059\u3002\uff09\n\nPropTypes.array\nPropTypes.bool\nPropTypes.func\nPropTypes.number\nPropTypes.object\nPropTypes.string\nPropTypes.node\nPropTypes.element\nPropTypes.instanceOf(Message)\nPropTypes.oneOf(['News', 'Photos'])\nPropTypes.oneOfType([PropTypes.string, PropTypes.number)\nPropTypes.arrayOf(PropTypes.number)\nPropTypes.objectOf(PropTypes.number)\nPropTypes.shape({color: PropTypes.string, fontSize: PropTypes.number})\nPropTypes.any.isRequired\n\n\nExample\n\n\n{Component, PropTypes} \u3067\u5ba3\u8a00\u3092\u3057\u3066\u3001propTypes = {} \u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\napp/components/Comment.js:\nimport React, {Component, PropTypes} from 'react';\n\nclass Comment extends Component {\n  rawMarkup() {\n    let rawMarkup = marked(this.props.children.toString(), {sanitize: true});\n    return { __html: rawMarkup };\n  }\n\n  render() {\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        <span dangerouslySetInnerHTML={this.rawMarkup()} />\n      </div>\n    );\n  }\n}\n\nComment.propTypes = {\n  author: PropTypes.string.isRequired,\n  children: PropTypes.string.isRequired\n};\n\nexport default Comment;\n\nEnjoy React\n\u9805\u76ee\u304c\u591a\u3044\u306e\u3067\u3000*React tutorial example series* \u306b\u5206\u3051\u307e\u3057\u305f\u3002\n\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d0\u30fc\u30c3\u30b7\u30e7\u30f3\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u3001\u5185\u5bb9\u3082\u5c11\u3057\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\n1. [React Tutorial Example (Express)](http://qiita.com/ogomr/items/b90c68764c3c75cf501e)\n* [React Tutorial Example (Hot Module Replacement)](http://qiita.com/ogomr/items/9eb64ff5f7d4fcd08514)\n* [React Tutorial Example (Redux)](http://qiita.com/ogomr/items/64aae7c8d6a113608230)\n* [React Tutorial Example (ECMAScript 2015)](http://qiita.com/ogomr/items/3f0d7a35d5d0184db019)\n* [React Tutorial Example (Convention)](http://qiita.com/ogomr/items/e6e702633c4f49a1893a)\n* [React Tutorial Example (PostCSS)](http://qiita.com/ogomr/items/1f8f18a18ac9c2e79179)\n* [React Tutorial Example (Package)](http://qiita.com/ogomr/items/224a1355078ea1a809a5)\n* [React Tutorial Example (Jest)](http://qiita.com/ogomr/items/e0001c2744781f004873)\n* [React Tutorial Example (Electron)](http://qiita.com/ogomr/items/681f5bffe9908e24469a)\n\n----\n\n**\u3053\u3061\u3089\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u8a18\u4e8b\u3067\u3059\u3002**\n\n[React](https://facebook.github.io/react/) \u306f \u30e6\u30fc\u30b6\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u3092\u4f5c\u6210\u3059\u308b **JavaScript** \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\n*Virtual DOM* \u3084 *Data Flow* \u304c\u7279\u5fb4\u3067\u4e3b\u306b [Facebook](https://code.facebook.com/) \u3067\u958b\u767a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n`v0.14` \u304b\u3089 **React** \u3068 **ReactDOM** \u306e\uff12\u3064\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5206\u5272\u3055\u308c\u307e\u3057\u305f\u3002\n[React Tutorial](https://facebook.github.io/react/docs/tutorial.html) \u3082 ReactDOM \u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304c\u3055\u308c\u3066\u3044\u308b\u306e\u3067 [Redux](http://rackt.github.io/redux/) \u3084 [Socket.IO](http://socket.io/) \u3092\u5229\u7528\u3057\u3066\u30b5\u30f3\u30d7\u30eb\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n\u5b9f\u88c5\u3057\u305f [React Tutorial Example](https://github.com/dddrb/react-tutorial-example) \u306b\u306f6\u3064\u306e *Tag* \u3067\u30b3\u30fc\u30c9\u306e\u5dee\u5206\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n* [v0.0.1](https://github.com/dddrb/react-tutorial-example/tree/v0.0.1): React Tutorial\n* [v0.0.2](https://github.com/dddrb/react-tutorial-example/tree/v0.0.2): Webpack\n* [v0.0.3](https://github.com/dddrb/react-tutorial-example/tree/v0.0.3): Redux Tutorial 1st\n* [v0.0.4](https://github.com/dddrb/react-tutorial-example/tree/v0.0.4): Redux Tutorial 2nd\n* [v0.0.5](https://github.com/dddrb/react-tutorial-example/tree/v0.0.5): WebSocket\n* [v0.0.6](https://github.com/dddrb/react-tutorial-example/tree/v0.0.6): PropTypes\n\n## Environment\n\n\u74b0\u5883\u306f React `v0.14` \u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u6642\u70b9\u306e\u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u958b\u767a\u3057\u3066\u3044\u307e\u3059\u3002\n\n* node: v4.1.2\n* npm: v2.14.4\n* express: v4.13.1\n* react: v0.14.0\n* redux: v3.0.2\n* socket.io: v1.3.7\n\n----\n\n## Express\n\nWeb\u30b5\u30fc\u30d0\u30fc\u306b\u306f [Express](http://expressjs.com/) \u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\n**Express Generator** \u3067\u7c21\u5358\u306bWeb\u30b5\u30fc\u30d0\u30fc\u304c\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\n\n```bash\n$ npm install express-generator -g\n$ express react-tutorial-example\n$ cd react-tutorial-example && npm install\n$ DEBUG=react-tutorial-example:* npm start\n```\n\n![express](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/express.png)\n\n\u30d6\u30e9\u30a6\u30b6\u3067 `http://localhost:3000/` \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3057\u3087\u3046\u3002\n*Welcome to Express* \u304c\u8868\u793a\u3055\u308c\u305f\u3089 OK \u3067\u3059\u3002\n\u6b21\u306b\u9032\u307f\u307e\u3057\u3087\u3046\u3002\n\n----\n\n## Git\n\n**SCM** \u306f **Tutorial** \u306e\u9032\u307f\u306e\u5dee\u5206\u3092\u898b\u76f4\u3059\u3053\u3068\u304c\u51fa\u6765\u3066\u4fbf\u5229\u3067\u3059\u3002\n\u4eca\u56de\u306f [20](https://github.com/dddrb/react-tutorial-example/commits/master) \u7a0b\u5ea6\u306e *Commit* \u3067\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n```bash\n$ echo node_modules/ > .gitignore\n$ git init\n$ git add --all\n$ git commit -m \"Initial commit\"\n```\n\n\u7279\u306b **Git** \u306f **Tutorial** \u306b\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\n\n----\n\n## React\n\n![react](https://raw.githubusercontent.com/facebook/react/gh-pages/img/logo_small_2x.png)\n\n### Tutorial\n\n**React** \u3067\u5b9f\u969b\u306b *Comments Box* \u3092\u4f5c\u6210\u3057\u306a\u304c\u3089 *Virtual DOM* \u3084 *Data Flow* \u3092\u4f53\u9a13\u3057\u307e\u3057\u3087\u3046\u3002\n\uff08[\u3053\u3061\u3089](https://github.com/reactjs/react-tutorial)\u306b Tutorial \u306e Source \u304c\u3042\u308a\u307e\u3059\u3002\uff09\n\n#### Style\n\n* \u307e\u305a\u306f **Express Generator** \u3067\u4f5c\u6210\u3057\u305f **Express** \u306e *Stylesheet* \u3092 **Tutorial** \u306e [Source](https://raw.githubusercontent.com/reactjs/react-tutorial/master/public/css/base.css) \u304b\u3089\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```bash\n$ curl https://raw.githubusercontent.com/reactjs/react-tutorial/master/public/css/base.css -o ./public/stylesheets/style.css\n```\n\n#### Layout\n\n* **Express** \u306e *Layout* \u3082 **Tutorial** \u306e [Source](https://raw.githubusercontent.com/reactjs/react-tutorial/master/public/index.html) \u304b\u3089\u30b3\u30d4\u30fc\u3057\u305f\u3044\u6240\u3067\u3059\u304c\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b [Jade](http://jade-lang.com/) \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u306e\u3067HTML\u3092\u5909\u63db\u3057\u307e\u3057\u305f\u3002\n* `marked.min.js` \u306f **Tutorial** \u306e *Adding Markdown* \u3067\u5229\u7528\u3057\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n`views/layout.jade`:\n\n```\ndoctype html\nhtml\n  head\n    meta(charset='utf-8')\n    title React Tutorial\n    link(rel='stylesheet', href='/stylesheets/style.css')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js')\n  body\n    block content\n```\n\n* **Express** \u3067\u306f\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092 `index.jade` \u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n* \u3057\u304b\u3057\u3001 **React** \u306f *Virtual DOM* \u306a\u306e\u3067\u30ec\u30a4\u30a2\u30a6\u30c8\u306b *ID* (`#content`) \u4ee5\u5916\u306e\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u307e\u305b\u3093\u3002\n\n`views/index.jade`:\n\n```\nextends layout\n\nblock content\n  #content\n  script(type='text/babel', src='/javascripts/example.js')\n  script(type='text/babel').\n```\n\n#### Script\n\n* **Tutorial** \u306e `tutorial1.js` \u304b\u3089 `tutorial20.js` \u3092 `example.js` \u306b\u8a18\u8ff0\u3057\u306a\u304c\u3089\u9032\u307f\u307e\u3059\u3002\n\n`public/javascripts/example.js`:\n\n```\nvar CommentBox = React.createClass({\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        Hello, world! I am a CommentBox.\n      </div>\n    );\n  }\n});\n\nReactDOM.render(\n  <CommentBox />,\n  document.getElementById('content')\n);\n```\n\n\u305d\u308c\u3067\u306f **Tutorial** \u3092\u59cb\u3081\u307e\u3057\u3087\u3046\u3002\n\n#### Tutorial 1\n\n* [your-first-component](https://facebook.github.io/react/docs/tutorial.html#your-first-component) \u3067\u306f *CommentBox* \u306e **Component** \u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n![tutorial_0-1](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_0-1.png)\n\n\u3044\u3064\u3082\u306e *Hello, world!* \u3067\u59cb\u307e\u308a\u307e\u3059\u3002\n\n#### Tutorial 2,3\n\n* [composing-components](https://facebook.github.io/react/docs/tutorial.html#composing-components) \u3067\u306f *CommentList* \u3068 *CommentForm* \u304c\u69cb\u9020\u3067\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n![tutorial_2-3](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_2-3.png)\n\n\u3075\u305f\u3064\u306e *Hello, world!* \u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u3046\u3057\u3066 **Component** \u3054\u3068\u306b\u5206\u5272\u3057\u3066\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n#### Tutorial 4,5\n\n* [using-props](https://facebook.github.io/react/docs/tutorial.html#using-props) \u3067\u306f *CommentList* \u306b *Comment* \u304c\u69cb\u9020\u3067\u8ffd\u52a0\u3055\u308c\u3066\u3001`props` \u3067\u5024\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n![tutorial_4-5](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_4-5.png)\n\n\u30c7\u30fc\u30bf\u306f\u4e0a\u4f4d\u306e **Component** \u304b\u3089\u4e0b\u4f4d\u306e **Component** \u306b\u6d41\u308c\u307e\u3059\u3002\n\n#### Tutorial 6,7\n\n* [adding-markdown](https://facebook.github.io/react/docs/tutorial.html#adding-markdown) \u3067\u306f *Comment* \u304c Markdown \u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\n![tutorial_6-7](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_6-7.png)\n\n`another` \u304c *another* \u306b\u5909\u63db\u3055\u308c\u3066\u3044\u307e\u3059\u306d\u3002\n\n#### Tutorial 8,9,10\n\n* [hook-up-the-data-model](https://facebook.github.io/react/docs/tutorial.html#hook-up-the-data-model) \u3067\u306f *CommentList* \u306b\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u304b\u3089\u5024\u304c\u6e21\u3055\u308c\u3066\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n![tutorial_8-10](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_8-10.png)\n\n\u8868\u793a\u306f\u5909\u308f\u3063\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u6027\u80fd\u304c\u5927\u304d\u304f\u5411\u4e0a\u3057\u307e\u3057\u305f\u3002\n\n#### Search Comments API\n\n\u6b21\u306e Tutorial \u304b\u3089 \u30b5\u30fc\u30d0\u30fc\u306b API \u304c\u5fc5\u8981\u306a\u306e\u3067\n**Express** \u306b `Comments` \u3092\u53d6\u5f97\u3059\u308b API \u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n* **Express** \u306e\u4fbf\u5229\u306a *Router* \u3067 `Comments` \u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n`app.js`:\n\n```\nvar comments = require('./routes/api/comments');\napp.use('/api/comments', comments);\n```\n\n* \u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n`routes/api/comments.js`:\n\n```\nvar fs = require('fs');\nvar express = require('express');\nvar router = express.Router();\n\n/* GET comments listing. */\nrouter.get('/', function(req, res, next) {\n  fs.readFile('db/comments.json', function(err, data) {\n    res.setHeader('Cache-Control', 'no-cache');\n    res.json(JSON.parse(data));\n  });\n});\n\nmodule.exports = router;\n```\n\n* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3082\u3069\u304d\u306f **JSON** \u306b\u3057\u307e\u3059\u3002\n\n`db/comments.json`:\n\n```\n[\n  {\"author\": \"Pete Hunt\", \"text\": \"This is one comment\"},\n  {\"author\": \"Jordan Walke\", \"text\": \"This is *another* comment\"}\n]\n```\n\nJavaScript Only \u306f\u7d20\u6575\uff01\n\n#### Tutorial 11 - 14\n\n* [fetching-from-the-server](https://facebook.github.io/react/docs/tutorial.html#fetching-from-the-server) \u3067\u306f *CommentList* \u306b `GET /api/comments` \u304b\u3089\u5024\u304c\u53d6\u5f97\u3055\u308c\u3066\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n![tutorial_11-14](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_11-14.png)\n\n`db/comments.json` \u306e\u5024\u3092\u5909\u66f4\u3059\u308b\u3068\u6570\u79d2\u5f8c\u306b\u5024\u306e\u8868\u793a\u304c\u5909\u308f\u308a\u307e\u3059\u3002\n\n#### Create Comment API\n\n\u4eca\u5ea6\u306f Express \u306b *Comment* \u3092\u767b\u9332\u3059\u308b API \u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n* \u5148\u307b\u3069\u306e Router \u306b `router.post` \u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u5b8c\u6210\u3067\u3059\u3002\n\n`routes/api/comments.js`:\n\n```\n/* POST comment creating. */\nrouter.post('/', function(req, res) {\n  fs.readFile('db/comments.json', function(err, data) {\n    var comments = JSON.parse(data);\n    comments.push(req.body);\n    fs.writeFile('db/comments.json', JSON.stringify(comments, null, 4), function(err) {\n      res.setHeader('Cache-Control', 'no-cache');\n      res.json(comments);\n    });\n  });\n});\n```\n\n#### Tutorial 15 - 20\n\n* [adding-new-comments](https://facebook.github.io/react/docs/tutorial.html#adding-new-comments) \u3067\u306f *CommentForm* \u304b\u3089 *Comment* \u3092 Post \u3057\u307e\u3059\u3002\n\n![tutorial_15-20](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_15-20.png)\n\n\u9001\u4fe1\u3059\u308b\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3082\u3069\u304d\u306b `author` \u3068 `text` \u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3067 **React** \u306e *Comments Box* \u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n\n----\n\n## Webpack\n\n<img src='https://raw.githubusercontent.com/webpack/webpack.github.com/master/assets/logo.png' alt='webpack logo' width='300'>\n\n[Webpack](https://webpack.github.io/) \u306f\u4f9d\u5b58\u95a2\u4fc2\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u53d6\u8fbc\u307f\u3001\u9759\u7684\u306a *Assets* \u3092\u751f\u6210\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\n\u4eca\u56de\u306f\u5148\u307b\u3069\u306e Tutorial \u3067\u5229\u7528\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092 Webpack \u304b\u3089\u751f\u6210\u3057\u307e\u3057\u3087\u3046\u3002\n\n```bash\n$ npm install webpack --save-dev\n$ npm install webpack-dev-middleware --save-dev\n$ npm install babel-loader --save-dev\n$ npm install jquery --save\n$ npm install react --save\n$ npm install react-dom --save\n```\n\n* **Express** \u306b **Webpack** \u306e\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n`app.js`:\n\n```\nvar webpack = require('webpack');\nvar webpackDevMiddleware = require('webpack-dev-middleware');\nvar webpackConfig = require('./config/webpack.config');\n\n// webpack setup\nvar compiler = webpack(webpackConfig);\napp.use(webpackDevMiddleware(compiler, {\n  noInfo: true, publicPath: webpackConfig.output.publicPath\n}));\n```\n\n* **Tutorial** \u3067\u8a18\u8ff0\u3057\u305f `example.js` \u3092 `entry` \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n`config/webpack.config.js`:\n\n```\nmodule.exports = {\n  entry: [\n    './public/javascripts/example.js'\n  ],\n  output: {\n    path: __dirname + '/static/',\n    filename: 'bundle.js',\n    publicPath: '/static/'\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.js$/,\n        loaders: ['babel'],\n        exclude: /node_modules/\n      }\n    ]\n  },\n  resolve: {\n    extensions: ['', '.js']\n  }\n};\n```\n\n* `marked` \u4ee5\u5916\u306f **Webpack** \u3067\u751f\u6210\u3059\u308b\u306e\u3067\u3001`layout.jade` \u304b\u3089\u9664\u5916\u3057\u307e\u3059\u3002\n\n`views/layout.jade`:\n\n```\ndoctype html\nhtml\n  head\n    meta(charset='utf-8')\n    title React Tutorial\n    link(rel='stylesheet', href='/stylesheets/style.css')\n    script(src='https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js')\n  body\n    block content\n```\n\n* **Webpack** \u304c\u751f\u6210\u3059\u308b `bundle.js` \u3092 `script` \u3067\u53c2\u7167\u3059\u308b\u3088\u3046\u306b\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n`views/index.jade`:\n\n```\nextends layout\n\nblock content\n  #content\n  script(src='static/bundle.js')\n```\n\n* **JQuery** \u3084 **React** \u3092 `import` \u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n`public/javascripts/example.js`:\n\n```\nimport $ from 'jquery';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n```\n\n\u6b21\u306e **Redux** \u306e **Tutorial** \u306f **ECMAScript 6** \u3067\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002\n\n----\n\n## Redux\n\n<img src='https://raw.githubusercontent.com/reactjs/redux/master/logo/logo.png' alt='redux logo' width='100'>\n\n[Redux](http://redux.js.org/) \u306f [Flux](https://facebook.github.io/flux/) \u306e Framework \u3067\u4e3b\u306b *Action*, *Reducer*, *Store* \u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002\n\n### Yeoman\n\nRedux \u306e [examples](https://github.com/rackt/redux/tree/master/examples) \u3092\u53c2\u7167\u3059\u308b\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u69cb\u9020\u306b\u30eb\u30fc\u30eb\u304c\u3042\u308b\u306e\u304c\u89e3\u308a\u307e\u3059\u3002\n\n\u3053\u306e **Redux Tutorial** \u306f [Yeoman](http://yeoman.io/) \u306e **Redux Generator** \u3067\u51fa\u529b\u3055\u308c\u305f\u69cb\u9020\u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u6700\u521d\u304b\u3089 **React Tutorial** \u3092 **Redux** \u3067\u9806\u306b\u9032\u3081\u3066\u884c\u304f\u306e\u3067 `yo redux` \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306f\u4e0d\u8981\u3067\u3059\uff01\n\n```bash\n$ npm install --global yo\n$ npm install --global generator-redux\n$ yo redux\n```\n\n* actions\n    * *Store* \u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3059\u308b\u60c5\u5831\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n* components\n    * *Component*(\u69cb\u6210\u90e8\u54c1) \u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n* constants\n    * *Action* \u3068 *Reducer* \u306e `const` \u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n* containers\n    * `App.js` \u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8d77\u70b9\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n* reducers\n    * *Action* \u306b\u5fdc\u3058\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u72b6\u614b\u3092\u5909\u66f4\u3059\u308b\u6a5f\u69cb\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n* store\n    * \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u72b6\u614b\u3092\u4fdd\u6301\u3059\u308b\u6a5f\u69cb\u3068\u72b6\u614b\u3092\u66f4\u65b0\u3059\u308b\u6a5f\u69cb\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n* utils\n    * *DevTools* \u306a\u3069\u304c\u8a2d\u7f6e\u3055\u308c\u308b\u3002\n\n### Tutorial\n\n#### Tutorial 1\n\n* `app` \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5404\u5f79\u5272\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8a2d\u7f6e\u3057\u307e\u3057\u305f\u3002\n\n`app/index.js`:\n\n```\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('content')\n);\n```\n\n* \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8d77\u70b9\u306e `App.js` \u3092\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\n`app/containers/App.js`:\n\n```\nimport React from 'react';\nimport Home from '../components/Home';\n\nexport default React.createClass({\n  render() {\n    return (\n      <div>\n        <Home />\n      </div>\n    );\n  }\n});\n```\n\n* \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u8d77\u70b9\u306e `Home.js` \u3092\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\n`app/components/Home.js`:\n\n```\nimport React, {Component} from 'react';\nimport CommentBox from './CommentBox';\n\nclass Home extends Component {\n  render() {\n    return (\n      <div>\n        <CommentBox />\n      </div>\n    );\n  }\n}\n\nexport default Home\n```\n\n* \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b `CommentBox.js` \u3092\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\n`app/components/CommentBox.js`:\n\n```\nimport React, {Component} from 'react';\n\nclass CommentBox extends Component {\n  render() {\n    return (\n      <div className=\"commentBox\">\n        Hello, world! I am a CommentBox.\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n```\n\n* **Webpack** \u306e `entry` \u3092 `index.js` \u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n`config/webpack.config.js`:\n\n```\nmodule.exports = {\n  entry: [\n    './app/index.js'\n  ],\n```\n\n![tutorial_0-1](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_0-1.png)\n\n\u518d\u3073 *Hello, world!* \u304c\u6765\u307e\u3057\u305f\u3002\n\u307e\u3060\u3001**Redux** \u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n#### Tutorial 2,3\n\n* \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u305d\u308c\u305e\u308c\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\n`app/components/CommentBox.js`:\n\n```\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\n\nclass CommentBox extends Component {\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList />\n        <CommentForm />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n```\n\n* \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u304c Fat \u306b\u306a\u308b\u306e\u3092\u6291\u6b62\u3055\u308c\u307e\u3059\u3002\n\n`app/components/CommentList.js`:\n\n```\nimport React, {Component} from 'react';\n\nclass CommentList extends Component {\n  render() {\n    return (\n      <div className=\"commentList\">\n        Hello, world! I am a CommentList.\n      </div>\n    );\n  }\n}\n\nexport default CommentList;\n```\n\n* \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u500b\u3005\u306b\u3067\u304d\u308b\u306e\u3067\u3001\u30c6\u30b9\u30c8\u3082\u5c0f\u3055\u304f\u3067\u304d\u307e\u3059\u3002\n\n`app/components/CommentForm.js`:\n\n```\nimport React, {Component} from 'react';\n\nclass CommentForm extends Component {\n  render() {\n    return (\n      <div className=\"commentForm\">\n        Hello, world! I am a CommentForm.\n      </div>\n    );\n  }\n}\n\nexport default CommentForm;\n```\n\n![tutorial_2-3](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_2-3.png)\n\n\u3075\u305f\u3064\u306e *Hello, world!* \u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u306d\u3002\n\u3057\u304b\u3057\u307e\u3060\u3001**Redux** \u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n#### Tutorial 4,5\n\n* \u4e0a\u4f4d\u306e *CommentList* \u304b\u3089 *Comment* \u306b\u30c7\u30fc\u30bf\u3092\u6d41\u3057\u307e\u3059\u3002\n\n`app/components/CommentList.js`:\n\n```\nimport React, {Component} from 'react';\nimport Comment from './Comment';\n\nclass CommentList extends Component {\n  render() {\n    return (\n      <div className=\"commentList\">\n        <Comment author=\"Pete Hunt\">This is one comment</Comment>\n        <Comment author=\"Jordan Walke\">This is *another* comment</Comment>\n      </div>\n    );\n  }\n}\n\nexport default CommentList;\n```\n\n* \u4e0b\u4f4d\u306e `props` \u3067\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n`app/components/Comment.js`:\n\n```\nimport React, {Component} from 'react';\n\nclass Comment extends Component {\n  render() {\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default Comment;\n```\n\n![tutorial_4-5](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_4-5.png)\n\n\u3053\u3053\u3067\u3082\u307e\u3060\u3001**Redux** \u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n#### Tutorial 6,7\n\n* **ECMAScript 6** \u306a\u306e\u3067 `function` \u306e\u8a18\u8ff0\u304c\u4e0d\u8981\u3067\u3059\u3002\n\n`app/components/Comment.js`:\n\n```\nimport React, {Component} from 'react';\n\nclass Comment extends Component {\n  rawMarkup() {\n    let rawMarkup = marked(this.props.children.toString(), {sanitize: true});\n    return { __html: rawMarkup };\n  }\n\n  render() {\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        <span dangerouslySetInnerHTML={this.rawMarkup()} />\n      </div>\n    );\n  }\n}\n\nexport default Comment;\n```\n\n![tutorial_6-7](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_6-7.png)\n\n\u3082\u3061\u308d\u3093 **Redux** \u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n#### Tutorial 8,9,10\n\n* \u30c7\u30fc\u30bf\u3092 *Home* \u304b\u3089\u4e0b\u4f4d\u306b\u6d41\u3057\u307e\u3059\u3002\n\n`app/components/Home.js`:\n\n```\nimport React, {Component} from 'react';\nimport CommentBox from './CommentBox';\n\nconst data = [\n  {author: \"Pete Hunt\", text: \"This is one comment\"},\n  {author: \"Jordan Walke\", text: \"This is *another* comment\"}\n];\n\nclass Home extends Component {\n  render() {\n    return (\n      <div>\n        <CommentBox data={data} />\n      </div>\n    );\n  }\n}\n\nexport default Home\n```\n\n* \u30c7\u30fc\u30bf\u3092 *CommentBox* \u304b\u3089\u4e0b\u4f4d\u306b\u6d41\u3057\u307e\u3059\u3002\n\n`app/components/CommentBox.js`:\n\n```\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\n\nclass CommentBox extends Component {\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n```\n\n* \u30c7\u30fc\u30bf\u3092 *CommentList* \u304b\u3089\u4e0b\u4f4d\u306b\u6d41\u3057\u307e\u3059\u3002\n\n`app/components/CommentList.js`:\n\n```\nimport React, {Component} from 'react';\nimport Comment from './Comment';\n\nclass CommentList extends Component {\n  render() {\n    const commentNodes = this.props.data.map((comment, index) => {\n      return (\n        <Comment author={comment.author} key={index}>\n          {comment.text}\n        </Comment>\n      );\n    });\n\n    return (\n      <div className=\"commentList\">\n        {commentNodes}\n      </div>\n    );\n  }\n}\n\nexport default CommentList;\n```\n\n![tutorial_8-10](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_8-10.png)\n\n**Redux** \u3092\u5229\u7528\u3057\u306a\u304f\u3068\u3082\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u69cb\u9020\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3067\n\u30d5\u30a1\u30a4\u30eb\u3092\u5c0f\u3055\u304f\u4fdd\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n#### Tutorial 11 - 14\n\n`GET /api/comments` \u304b\u3089\u5024\u304c\u53d6\u5f97\u3059\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u767a\u751f\u3059\u308b\u306e\u3067\u3001\u3053\u3053\u3067 **Redux** \u304c\u767b\u5834\u3057\u307e\u3059\u3002\n\u4ed6\u306b **React** \u3068 **Redux** \u3092\u3064\u306a\u3050 **React Redux** \u3084 \u975e\u540c\u671f\u3092\u8abf\u6574\u3059\u308b **Redux Thunk** \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n```bash\n$ npm install redux --save\n$ npm install react-redux --save\n$ npm install redux-thunk --save\n```\n\n* \u307e\u305a\u3001\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002\n\n`app/constants/ActionTypes.js`:\n\n```\nexport const RECEIVE_COMMENTS = 'RECEIVE_COMMENTS';\n```\n\n* Comment \u306e Search \u3068 Recieve \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n* \u975e\u540c\u671f\u306f **ECMAScript 6** \u304b\u3089\u5229\u7528\u3067\u304d\u308b Promise \u3067\u5ba3\u8a00\u3057\u3066\u3044\u307e\u3059\u3002\n\n`app/actions/CommentActions.js`:\n\n```\nimport * as ActionTypes from '../constants/ActionTypes';\nimport $ from 'jquery';\n\nexport function recieveComments(comments) {\n  return {\n    type: ActionTypes.RECEIVE_COMMENTS,\n    comments\n  };\n}\n\nexport function searchComments() {\n  return dispatch => {\n    let promise = new Promise((resolve, reject) => {\n      $.ajax({\n        url: '/api/comments',\n        dataType: 'json',\n        cache: false,\n        success(data) {\n          resolve(data);\n        },\n        error(xhr, status, err) {\n          reject(err);\n        }\n      });\n    });\n\n    promise.then((data) => {\n      dispatch(recieveComments(data));\n    }).catch((err) => {\n      console.error(err);\n    });\n  };\n}\n```\n\n* \u8907\u6570\u306e Reducer \u306f `index.js` \u3067\u5ba3\u8a00\u3057\u307e\u3059\u3002\n\n`app/reducers/index.js`:\n\n```\nexport {default as Comment} from './Comment';\n```\n\n* Comment \u306e Recieve \u30a2\u30af\u30b7\u30e7\u30f3\u304b\u3089\u72b6\u614b\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n`app/reducers/Comment.js`:\n\n```\nimport * as ActionTypes from '../constants/ActionTypes';\n\nconst initialState = {comments: []};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n  case ActionTypes.RECEIVE_COMMENTS:\n    return {comments: action.comments};\n  default:\n    return state;\n  }\n}\n```\n\n* *Store* \u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306b Middleware \u3084 *Reducer* \u3092\u53d6\u308a\u5165\u308c\u307e\u3059\u3002\n\n`app/store/configureStore.js`:\n\n```\nimport {createStore, applyMiddleware, combineReducers} from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport * as reducers from '../reducers/index';\n\nlet createStoreWithMiddleware = applyMiddleware(thunkMiddleware)(createStore);\nconst rootReducer = combineReducers(reducers);\n\nexport default function configureStore(initialState) {\n  return createStoreWithMiddleware(rootReducer, initialState);\n}\n```\n\n* **React Redux** \u3067 Provider \u3092\u5ba3\u8a00\u3092\u3057\u3066 *Store* \u3092\u6d41\u3057\u307e\u3059\u3002\n\n`app/containers/App.js`:\n\n```\nimport React from 'react';\nimport {Provider} from 'react-redux';\nimport configureStore from '../store/configureStore';\nimport Home from '../components/Home';\n\nconst store = configureStore();\n\nexport default React.createClass({\n  render() {\n    return (\n      <div>\n        <Provider store={store}>\n          <Home />\n        </Provider>\n      </div>\n    );\n  }\n});\n```\n\n* *Action* \u3092 `dispatch` \u306b\u767b\u9332\u3059\u308b\u3002\n\n`app/components/Home.js`:\n\n```\nimport React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport * as CommentActions from '../actions/CommentActions';\nimport CommentBox from './CommentBox';\n\nclass Home extends Component {\n  render() {\n    const {dispatch, comments} = this.props;\n    const actions = bindActionCreators(CommentActions, dispatch);\n    return (\n      <div>\n        <CommentBox actions={actions} data={comments} />\n      </div>\n    );\n  }\n}\n\nexport default connect(state => state.Comment)(Home)\n```\n\n* Search Comments \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002\n\n`app/components/CommentBox.js`:\n\n```\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\n\nclass CommentBox extends Component {\n  componentDidMount() {\n    this.props.actions.searchComments();\n    setInterval(this.props.actions.searchComments, 2000);\n  }\n\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n```\n\n![tutorial_11-14](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_11-14.png)\n\n\u69cb\u9020\u7684\u306b\u5c0f\u3055\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7e4b\u3052\u308b\u3053\u3068\u306f\u5f37\u3044\u30b7\u30b9\u30c6\u30e0\u306b\u306a\u308b\u306e\u3067\u3001**Redux** \u306e\u8003\u3048\u306f\u597d\u307e\u3057\u3044\u3067\u3059\u3002\n\n#### Tutorial 15 - 20\n\n* \u30b3\u30e1\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002\n\n`app/constants/ActionTypes.js`:\n\n```\nexport const ADD_COMMENT = 'ADD_COMMENT';\n```\n\n* Comment \u306e Create \u3068 Add \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n`app/actions/CommentActions.js`:\n\n```\nexport function addComment(comment) {\n  return {\n    type: ActionTypes.ADD_COMMENT,\n    comment\n  };\n}\n\nexport function createComment(comment) {\n  return dispatch => {\n    dispatch(addComment(comment));\n    let promise = new Promise((resolve, reject) => {\n      $.ajax({\n        url: '/api/comments',\n        dataType: 'json',\n        type: 'POST',\n        data: comment,\n        success(data) {\n          resolve(data);\n        },\n        error(xhr, status, err) {\n          reject(err);\n        }\n      });\n    });\n\n    promise.then((data) => {\n      dispatch(recieveComments(data));\n    }).catch((err) => {\n      console.error(err);\n    });\n  };\n}\n```\n\n* *ADD_COMMENT* \u3067\u30b3\u30e1\u30f3\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n`app/reducers/Comment.js`:\n\n```\nimport * as ActionTypes from '../constants/ActionTypes';\n\nconst initialState = {comments: []};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n  case ActionTypes.RECEIVE_COMMENTS:\n    return {comments: action.comments};\n  case ActionTypes.ADD_COMMENT:\n    return {comments: state.comments.concat([action.comment])};\n  default:\n    return state;\n  }\n}\n```\n\n* `onCommentSubmit` \u306b `createComment` \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n`app/components/CommentBox.js`:\n\n```\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\n\nclass CommentBox extends Component {\n  componentDidMount() {\n    this.props.actions.searchComments();\n    setInterval(this.props.actions.searchComments, 2000);\n  }\n\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm onCommentSubmit={this.props.actions.createComment} />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n```\n\n* `ReactDOM.findDOMNode` \u3067 `refs` \u306e DOM \u3092\u64cd\u4f5c\u3057\u307e\u3059\u3002\n\n`app/components/CommentForm.js`:\n\n```\nimport React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\n\nclass CommentForm extends Component {\n  handleSubmit(e) {\n    e.preventDefault();\n    const author = ReactDOM.findDOMNode(this.refs.author).value.trim();\n    const text = ReactDOM.findDOMNode(this.refs.text).value.trim();\n    if (!text || !author) {\n      return;\n    }\n    this.props.onCommentSubmit({author: author, text: text});\n    ReactDOM.findDOMNode(this.refs.author).value = '';\n    ReactDOM.findDOMNode(this.refs.text).value = '';\n    return;\n  }\n\n  render() {\n    return (\n      <form className=\"commentForm\" onSubmit={this.handleSubmit.bind(this)}>\n        <input type=\"text\" placeholder=\"Your name\" ref=\"author\" />\n        <input type=\"text\" placeholder=\"Say something...\" ref=\"text\" />\n        <input type=\"submit\" value=\"Post\" />\n      </form>\n    );\n  }\n}\n\nexport default CommentForm;\n```\n\n![tutorial_15-20](https://dl.dropboxusercontent.com/u/14690051/images/notes/flux/react-tutorial/tutorial_15-20.png)\n\n\u3053\u308c\u3067 **Redux** \u306e *Comments Box* \u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n**Redux** \u3082 **Tutorial** \u304c\u5fc5\u8981\u304b\u306a\u3068\u601d\u3063\u3066\u3001**React Tutorial** \u3092\u984c\u6750\u306b\u3057\u307e\u3057\u305f\u304c\u3001**Redux** \u306f\u3082\u3063\u3068\u591a\u6a5f\u80fd\u306a\u306e\u3067\u5b66\u7fd2\u3092\u6df1\u3081\u305f\u3044\u3002\n\n----\n\n## Tips\n\n### WebSocket\n\n\u30b5\u30fc\u30d0\u30fc\u3068\u306e\u901a\u4fe1\u306b **Ajax** \u3067\u306a\u304f **WebSocket** \u3092\u5229\u7528\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n**WebSocket** \u306f [Socket.IO](http://socket.io/) \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n```\n$ npm install socket.io --save\n$ npm install socket.io-client --save\n```\n\n#### Server\n\n* **Express** \u306e \u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u6700\u5f8c\u306b *socket.io* \u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n`bin/www`:\n\n```\nvar io = require('socket.io')(server);\nrequire('../channels/channel.js')(io);\n```\n\n* \u30b5\u30fc\u30d0\u30fc\u306b `search comments` \u3068 `recieve comments` \u3068 `create comment` \u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n* \u307e\u305f\u3001`setInterval` \u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u30b5\u30fc\u30d0\u30fc\u306b\u79fb\u8a2d\u3057\u307e\u3059\u3002\n\n`channels/channel.js`:\n\n```\nvar fs = require('fs');\n\nvar channel = function(io) {\n  io.on('connection', function(socket) {\n    socket.on('search comments', function(){\n      fs.readFile('db/comments.json', function(err, data) {\n        socket.emit('recieve comments', JSON.parse(data));\n      });\n    });\n\n    socket.on('create comment', function(comment){\n      fs.readFile('db/comments.json', function(err, data) {\n        var comments = JSON.parse(data);\n        comments.push(comment);\n        fs.writeFile('db/comments.json', JSON.stringify(comments, null, 4), function(err) {\n          socket.emit('recieve comments', comments);\n        });\n      });\n    });\n\n    setInterval(function(){\n      fs.readFile('db/comments.json', function(err, data) {\n        socket.emit('recieve comments', JSON.parse(data));\n      });\n    }, 2000);\n  })\n};\n\nmodule.exports = channel;\n```\n\n#### Client\n\n* `$.ajax`(**jQuery**) \u3092 `socket.emit` \u306b\u7f6e\u63db\u3048\u307e\u3059\u3002\n\n`app/actions/CommentActions.js`:\n\n```\nimport * as ActionTypes from '../constants/ActionTypes';\nimport io from 'socket.io-client';\nexport const socket = io('http://localhost:3000');\n\nexport function recieveComments(comments) {\n  return {\n    type: ActionTypes.RECEIVE_COMMENTS,\n    comments\n  };\n}\n\nexport function addComment(comment) {\n  return {\n    type: ActionTypes.ADD_COMMENT,\n    comment\n  };\n}\n\nexport function searchComments() {\n  return dispatch => {\n    socket.emit('search comments');\n  };\n}\n\nexport function createComment(comment) {\n  return dispatch => {\n    socket.emit('create comment', comment);\n  };\n}\n```\n\n* `componentWillMount` \u306b `recieve comments` \u306e *Subscription* \u3092\u8a2d\u7f6e\u3059\u308b\u3002\n\n`app/components/CommentBox.js`:\n\n```\nimport React, {Component} from 'react';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\nimport io from 'socket.io-client';\nexport const socket = io('http://localhost:3000');\n\nclass CommentBox extends Component {\n  componentWillMount() {\n    const {actions} = this.props;\n    socket.on('recieve comments', function(comments) {\n      actions.recieveComments(comments);\n    });\n  }\n\n  componentDidMount() {\n    this.props.actions.searchComments();\n  }\n\n  render() {\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.props.data} />\n        <CommentForm onCommentSubmit={this.props.actions.createComment} />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n```\n\n\u30b5\u30fc\u30d0\u30fc\u306b `socket.broadcast.emit` \u3092\u8ffd\u52a0\u3059\u308b\u3068 `setInterval` \u306f\u4e0d\u8981\u3067\u3059\u3002\n*Comment Box* \u306f **Socket.IO** \u306e *Rooms* \u6a5f\u80fd\u3067\u5c11\u3057\u624b\u3092\u5165\u308c\u308b\u3068\u30c1\u30e3\u30c3\u30c8\u30eb\u30fc\u30e0\u304c\u4f5c\u308c\u307e\u3059\u306d\u3002\n\n----\n\n### PropTypes\n\n[PropTypes](https://facebook.github.io/react/docs/reusable-components.html)\u306f *Component* \u306e\u5f15\u6570(`props`) \u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u53ef\u8aad\u6027\u304c\u5411\u4e0a\u3059\u308b\u306e\u3067\u5229\u7528\u3057\u307e\u3057\u3087\u3046\u3002\uff08\u578b\u3082\u8c4a\u5bcc\u306b\u3042\u308a\u307e\u3059\u3002\uff09\n\n* PropTypes.array\n* PropTypes.bool\n* PropTypes.func\n* PropTypes.number\n* PropTypes.object\n* PropTypes.string\n* PropTypes.node\n* PropTypes.element\n* PropTypes.instanceOf(Message)\n* PropTypes.oneOf(['News', 'Photos'])\n* PropTypes.oneOfType([PropTypes.string, PropTypes.number)\n* PropTypes.arrayOf(PropTypes.number)\n* PropTypes.objectOf(PropTypes.number)\n* PropTypes.shape({color: PropTypes.string, fontSize: PropTypes.number})\n* PropTypes.any.isRequired\n\n#### Example\n\n* `{Component, PropTypes}` \u3067\u5ba3\u8a00\u3092\u3057\u3066\u3001`propTypes = {}` \u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n`app/components/Comment.js`:\n\n```\nimport React, {Component, PropTypes} from 'react';\n\nclass Comment extends Component {\n  rawMarkup() {\n    let rawMarkup = marked(this.props.children.toString(), {sanitize: true});\n    return { __html: rawMarkup };\n  }\n\n  render() {\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">\n          {this.props.author}\n        </h2>\n        <span dangerouslySetInnerHTML={this.rawMarkup()} />\n      </div>\n    );\n  }\n}\n\nComment.propTypes = {\n  author: PropTypes.string.isRequired,\n  children: PropTypes.string.isRequired\n};\n\nexport default Comment;\n```\n\n**Enjoy React**\n"}