{"context": "\u81ea\u5206\u7528\u306e\u5099\u5fd8\u9332\uff0e\nAnsible\u3067Ubuntu16.04\u3092\u5bfe\u8c61\u306b\u3059\u308b\u3068\u304d\u306e\u624b\u9806\uff0e\n\npython2 \u304c\u306a\u3044\nUbuntu 16.04\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067python3\u306a\u306e\u3067python2\u304c\u3042\u308a\u307e\u305b\u3093\uff0e\u3064\u307e\u308a\uff0e\u3042\u3089\u3086\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u52d5\u304d\u307e\u305b\u3093\uff0e\n\n\u7121\u7406\u3084\u308a python2 \u3092\u5165\u308c\u308b\n\u30bf\u30fc\u30b2\u30c3\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9\u306f\u4eee\u3067\u3059\uff0e\nuser@ubuntu$ cat >> hosts <<__EOT__\n[targets]\n172.16.130.41\n172.16.129.118\n__EOT__\n\nuser@ubuntu$ ansible -v all -i hosts -m raw -a \"sudo apt -y install python\"\nNo config file found; using defaults\n172.16.129.118 | SUCCESS | rc=0 >>\nsudo: unable to resolve host test.xff: Connection timed out\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nThe following packages were automatically installed and are no longer required:\n  linux-headers-4.4.0-36 linux-headers-4.4.0-36-generic\n  linux-image-4.4.0-36-generic\nUse 'sudo apt autoremove' to remove them.\nThe following additional packages will be installed:\n  libpython-stdlib libpython2.7-minimal libpython2.7-stdlib python-minimal\n  python2.7 python2.7-minimal\nSuggested packages:\n  python-doc python-tk python2.7-doc binfmt-support\nThe following NEW packages will be installed:\n  libpython-stdlib libpython2.7-minimal libpython2.7-stdlib python\n  python-minimal python2.7 python2.7-minimal\n0 upgraded, 7 newly installed, 0 to remove and 16 not upgraded.\nNeed to get 3,907 kB of archives.\nAfter this operation, 16.6 MB of additional disk space will be used.\nGet:1 http://172.16.128.11/ubuntu xenial-updates/main amd64 libpython2.7-minimal amd64 2.7.12-1~16.04 [339 kB]\nGet:2 http://172.16.128.11/ubuntu xenial-updates/main amd64 python2.7-minimal amd64 2.7.12-1~16.04 [1,294 kB]\nGet:3 http://172.16.128.11/ubuntu xenial/main amd64 python-minimal amd64 2.7.11-1 [28.2 kB]\nGet:4 http://172.16.128.11/ubuntu xenial-updates/main amd64 libpython2.7-stdlib amd64 2.7.12-1~16.04 [1,877 kB]\nGet:5 http://172.16.128.11/ubuntu xenial-updates/main amd64 python2.7 amd64 2.7.12-1~16.04 [224 kB]\nGet:6 http://172.16.128.11/ubuntu xenial/main amd64 libpython-stdlib amd64 2.7.11-1 [7,656 B]\nGet:7 http://172.16.128.11/ubuntu xenial/main amd64 python amd64 2.7.11-1 [137 kB]\nFetched 3,907 kB in 0s (13.5 MB/s)\nSelecting previously unselected package libpython2.7-minimal:amd64.\n(Reading database ... 114255 files and directories currently installed.)\nPreparing to unpack .../libpython2.7-minimal_2.7.12-1~16.04_amd64.deb ...\nUnpacking libpython2.7-minimal:amd64 (2.7.12-1~16.04) ...\nSelecting previously unselected package python2.7-minimal.\nPreparing to unpack .../python2.7-minimal_2.7.12-1~16.04_amd64.deb ...\nUnpacking python2.7-minimal (2.7.12-1~16.04) ...\nSelecting previously unselected package python-minimal.\nPreparing to unpack .../python-minimal_2.7.11-1_amd64.deb ...\nUnpacking python-minimal (2.7.11-1) ...\nSelecting previously unselected package libpython2.7-stdlib:amd64.\nPreparing to unpack .../libpython2.7-stdlib_2.7.12-1~16.04_amd64.deb ...\nUnpacking libpython2.7-stdlib:amd64 (2.7.12-1~16.04) ...\nSelecting previously unselected package python2.7.\nPreparing to unpack .../python2.7_2.7.12-1~16.04_amd64.deb ...\nUnpacking python2.7 (2.7.12-1~16.04) ...\nSelecting previously unselected package libpython-stdlib:amd64.\nPreparing to unpack .../libpython-stdlib_2.7.11-1_amd64.deb ...\nUnpacking libpython-stdlib:amd64 (2.7.11-1) ...\nProcessing triggers for man-db (2.7.5-1) ...\nProcessing triggers for mime-support (3.59ubuntu1) ...\nSetting up libpython2.7-minimal:amd64 (2.7.12-1~16.04) ...\nSetting up python2.7-minimal (2.7.12-1~16.04) ...\nLinking and byte-compiling packages for runtime python2.7...\nSetting up python-minimal (2.7.11-1) ...\nSelecting previously unselected package python.\n(Reading database ... 115001 files and directories currently installed.)\nPreparing to unpack .../python_2.7.11-1_amd64.deb ...\nUnpacking python (2.7.11-1) ...\nProcessing triggers for man-db (2.7.5-1) ...\nSetting up libpython2.7-stdlib:amd64 (2.7.12-1~16.04) ...\nSetting up python2.7 (2.7.12-1~16.04) ...\nSetting up libpython-stdlib:amd64 (2.7.11-1) ...\nSetting up python (2.7.11-1) ...\nShared connection to 172.16.129.118 closed.\n\n\n172.16.130.41 | SUCCESS | rc=0 >>\nsudo: unable to resolve host test2: Connection timed out\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nThe following additional packages will be installed:\n  libpython-stdlib libpython2.7-minimal libpython2.7-stdlib python-minimal\n  python2.7 python2.7-minimal\nSuggested packages:\n  python-doc python-tk python2.7-doc binutils binfmt-support\nThe following NEW packages will be installed:\n  libpython-stdlib libpython2.7-minimal libpython2.7-stdlib python\n  python-minimal python2.7 python2.7-minimal\n0 upgraded, 7 newly installed, 0 to remove and 4 not upgraded.\nNeed to get 3,907 kB of archives.\nAfter this operation, 16.6 MB of additional disk space will be used.\nGet:1 http://172.16.128.11/ubuntu xenial-updates/main amd64 libpython2.7-minimal amd64 2.7.12-1~16.04 [339 kB]\nGet:2 http://172.16.128.11/ubuntu xenial-updates/main amd64 python2.7-minimal amd64 2.7.12-1~16.04 [1,294 kB]\nGet:3 http://172.16.128.11/ubuntu xenial/main amd64 python-minimal amd64 2.7.11-1 [28.2 kB]\nGet:4 http://172.16.128.11/ubuntu xenial-updates/main amd64 libpython2.7-stdlib amd64 2.7.12-1~16.04 [1,877 kB]\nGet:5 http://172.16.128.11/ubuntu xenial-updates/main amd64 python2.7 amd64 2.7.12-1~16.04 [224 kB]\nGet:6 http://172.16.128.11/ubuntu xenial/main amd64 libpython-stdlib amd64 2.7.11-1 [7,656 B]\nGet:7 http://172.16.128.11/ubuntu xenial/main amd64 python amd64 2.7.11-1 [137 kB]\nFetched 3,907 kB in 0s (34.9 MB/s)\nSelecting previously unselected package libpython2.7-minimal:amd64.\n(Reading database ... 53631 files and directories currently installed.)\nPreparing to unpack .../libpython2.7-minimal_2.7.12-1~16.04_amd64.deb ...\nUnpacking libpython2.7-minimal:amd64 (2.7.12-1~16.04) ...\nSelecting previously unselected package python2.7-minimal.\nPreparing to unpack .../python2.7-minimal_2.7.12-1~16.04_amd64.deb ...\nUnpacking python2.7-minimal (2.7.12-1~16.04) ...\nSelecting previously unselected package python-minimal.\nPreparing to unpack .../python-minimal_2.7.11-1_amd64.deb ...\nUnpacking python-minimal (2.7.11-1) ...\nSelecting previously unselected package libpython2.7-stdlib:amd64.\nPreparing to unpack .../libpython2.7-stdlib_2.7.12-1~16.04_amd64.deb ...\nUnpacking libpython2.7-stdlib:amd64 (2.7.12-1~16.04) ...\nSelecting previously unselected package python2.7.\nPreparing to unpack .../python2.7_2.7.12-1~16.04_amd64.deb ...\nUnpacking python2.7 (2.7.12-1~16.04) ...\nSelecting previously unselected package libpython-stdlib:amd64.\nPreparing to unpack .../libpython-stdlib_2.7.11-1_amd64.deb ...\nUnpacking libpython-stdlib:amd64 (2.7.11-1) ...\nProcessing triggers for man-db (2.7.5-1) ...\nProcessing triggers for mime-support (3.59ubuntu1) ...\nSetting up libpython2.7-minimal:amd64 (2.7.12-1~16.04) ...\nSetting up python2.7-minimal (2.7.12-1~16.04) ...\nLinking and byte-compiling packages for runtime python2.7...\nSetting up python-minimal (2.7.11-1) ...\nSelecting previously unselected package python.\n(Reading database ... 54377 files and directories currently installed.)\nPreparing to unpack .../python_2.7.11-1_amd64.deb ...\nUnpacking python (2.7.11-1) ...\nProcessing triggers for man-db (2.7.5-1) ...\nSetting up libpython2.7-stdlib:amd64 (2.7.12-1~16.04) ...\nSetting up python2.7 (2.7.12-1~16.04) ...\nSetting up libpython-stdlib:amd64 (2.7.11-1) ...\nSetting up python (2.7.11-1) ...\nShared connection to 172.16.130.41 closed.\n\nuser@ubuntu$ ansible -v all -i hosts -m ping\n172.16.129.118 | SUCCESS => {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\n172.16.130.41 | SUCCESS => {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\nuser@ubuntu$ ansible -v all -i hosts -m command -a uptime\n172.16.129.118 | SUCCESS | rc=0 >>\n 10:43:40 up  1:52,  2 users,  load average: 0.00, 0.02, 0.00\n\n172.16.130.41 | SUCCESS | rc=0 >>\n 19:43:40 up  1:52,  1 user,  load average: 0.12, 0.10, 0.05\n\n\nplaybook\u3067\u3084\u308b\u3068\u304d\n- hosts: all\n  gather_facts: no\n  remote_user: ubuntu\n  become: yes\n  become_user: root\n  become_method: sudo\n\n  pre_tasks:\n    - raw: apt -y install python\n\n\u81ea\u5206\u7528\u306e\u5099\u5fd8\u9332\uff0e\nAnsible\u3067Ubuntu16.04\u3092\u5bfe\u8c61\u306b\u3059\u308b\u3068\u304d\u306e\u624b\u9806\uff0e\n\n# `python2` \u304c\u306a\u3044\nUbuntu 16.04\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067python3\u306a\u306e\u3067python2\u304c\u3042\u308a\u307e\u305b\u3093\uff0e\u3064\u307e\u308a\uff0e\u3042\u3089\u3086\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u52d5\u304d\u307e\u305b\u3093\uff0e\n\n# \u7121\u7406\u3084\u308a `python2` \u3092\u5165\u308c\u308b\n\u30bf\u30fc\u30b2\u30c3\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9\u306f\u4eee\u3067\u3059\uff0e\n\n```shell-session\nuser@ubuntu$ cat >> hosts <<__EOT__\n[targets]\n172.16.130.41\n172.16.129.118\n__EOT__\n\nuser@ubuntu$ ansible -v all -i hosts -m raw -a \"sudo apt -y install python\"\nNo config file found; using defaults\n172.16.129.118 | SUCCESS | rc=0 >>\nsudo: unable to resolve host test.xff: Connection timed out\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nThe following packages were automatically installed and are no longer required:\n  linux-headers-4.4.0-36 linux-headers-4.4.0-36-generic\n  linux-image-4.4.0-36-generic\nUse 'sudo apt autoremove' to remove them.\nThe following additional packages will be installed:\n  libpython-stdlib libpython2.7-minimal libpython2.7-stdlib python-minimal\n  python2.7 python2.7-minimal\nSuggested packages:\n  python-doc python-tk python2.7-doc binfmt-support\nThe following NEW packages will be installed:\n  libpython-stdlib libpython2.7-minimal libpython2.7-stdlib python\n  python-minimal python2.7 python2.7-minimal\n0 upgraded, 7 newly installed, 0 to remove and 16 not upgraded.\nNeed to get 3,907 kB of archives.\nAfter this operation, 16.6 MB of additional disk space will be used.\nGet:1 http://172.16.128.11/ubuntu xenial-updates/main amd64 libpython2.7-minimal amd64 2.7.12-1~16.04 [339 kB]\nGet:2 http://172.16.128.11/ubuntu xenial-updates/main amd64 python2.7-minimal amd64 2.7.12-1~16.04 [1,294 kB]\nGet:3 http://172.16.128.11/ubuntu xenial/main amd64 python-minimal amd64 2.7.11-1 [28.2 kB]\nGet:4 http://172.16.128.11/ubuntu xenial-updates/main amd64 libpython2.7-stdlib amd64 2.7.12-1~16.04 [1,877 kB]\nGet:5 http://172.16.128.11/ubuntu xenial-updates/main amd64 python2.7 amd64 2.7.12-1~16.04 [224 kB]\nGet:6 http://172.16.128.11/ubuntu xenial/main amd64 libpython-stdlib amd64 2.7.11-1 [7,656 B]\nGet:7 http://172.16.128.11/ubuntu xenial/main amd64 python amd64 2.7.11-1 [137 kB]\nFetched 3,907 kB in 0s (13.5 MB/s)\nSelecting previously unselected package libpython2.7-minimal:amd64.\n(Reading database ... 114255 files and directories currently installed.)\nPreparing to unpack .../libpython2.7-minimal_2.7.12-1~16.04_amd64.deb ...\nUnpacking libpython2.7-minimal:amd64 (2.7.12-1~16.04) ...\nSelecting previously unselected package python2.7-minimal.\nPreparing to unpack .../python2.7-minimal_2.7.12-1~16.04_amd64.deb ...\nUnpacking python2.7-minimal (2.7.12-1~16.04) ...\nSelecting previously unselected package python-minimal.\nPreparing to unpack .../python-minimal_2.7.11-1_amd64.deb ...\nUnpacking python-minimal (2.7.11-1) ...\nSelecting previously unselected package libpython2.7-stdlib:amd64.\nPreparing to unpack .../libpython2.7-stdlib_2.7.12-1~16.04_amd64.deb ...\nUnpacking libpython2.7-stdlib:amd64 (2.7.12-1~16.04) ...\nSelecting previously unselected package python2.7.\nPreparing to unpack .../python2.7_2.7.12-1~16.04_amd64.deb ...\nUnpacking python2.7 (2.7.12-1~16.04) ...\nSelecting previously unselected package libpython-stdlib:amd64.\nPreparing to unpack .../libpython-stdlib_2.7.11-1_amd64.deb ...\nUnpacking libpython-stdlib:amd64 (2.7.11-1) ...\nProcessing triggers for man-db (2.7.5-1) ...\nProcessing triggers for mime-support (3.59ubuntu1) ...\nSetting up libpython2.7-minimal:amd64 (2.7.12-1~16.04) ...\nSetting up python2.7-minimal (2.7.12-1~16.04) ...\nLinking and byte-compiling packages for runtime python2.7...\nSetting up python-minimal (2.7.11-1) ...\nSelecting previously unselected package python.\n(Reading database ... 115001 files and directories currently installed.)\nPreparing to unpack .../python_2.7.11-1_amd64.deb ...\nUnpacking python (2.7.11-1) ...\nProcessing triggers for man-db (2.7.5-1) ...\nSetting up libpython2.7-stdlib:amd64 (2.7.12-1~16.04) ...\nSetting up python2.7 (2.7.12-1~16.04) ...\nSetting up libpython-stdlib:amd64 (2.7.11-1) ...\nSetting up python (2.7.11-1) ...\nShared connection to 172.16.129.118 closed.\n\n\n172.16.130.41 | SUCCESS | rc=0 >>\nsudo: unable to resolve host test2: Connection timed out\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nThe following additional packages will be installed:\n  libpython-stdlib libpython2.7-minimal libpython2.7-stdlib python-minimal\n  python2.7 python2.7-minimal\nSuggested packages:\n  python-doc python-tk python2.7-doc binutils binfmt-support\nThe following NEW packages will be installed:\n  libpython-stdlib libpython2.7-minimal libpython2.7-stdlib python\n  python-minimal python2.7 python2.7-minimal\n0 upgraded, 7 newly installed, 0 to remove and 4 not upgraded.\nNeed to get 3,907 kB of archives.\nAfter this operation, 16.6 MB of additional disk space will be used.\nGet:1 http://172.16.128.11/ubuntu xenial-updates/main amd64 libpython2.7-minimal amd64 2.7.12-1~16.04 [339 kB]\nGet:2 http://172.16.128.11/ubuntu xenial-updates/main amd64 python2.7-minimal amd64 2.7.12-1~16.04 [1,294 kB]\nGet:3 http://172.16.128.11/ubuntu xenial/main amd64 python-minimal amd64 2.7.11-1 [28.2 kB]\nGet:4 http://172.16.128.11/ubuntu xenial-updates/main amd64 libpython2.7-stdlib amd64 2.7.12-1~16.04 [1,877 kB]\nGet:5 http://172.16.128.11/ubuntu xenial-updates/main amd64 python2.7 amd64 2.7.12-1~16.04 [224 kB]\nGet:6 http://172.16.128.11/ubuntu xenial/main amd64 libpython-stdlib amd64 2.7.11-1 [7,656 B]\nGet:7 http://172.16.128.11/ubuntu xenial/main amd64 python amd64 2.7.11-1 [137 kB]\nFetched 3,907 kB in 0s (34.9 MB/s)\nSelecting previously unselected package libpython2.7-minimal:amd64.\n(Reading database ... 53631 files and directories currently installed.)\nPreparing to unpack .../libpython2.7-minimal_2.7.12-1~16.04_amd64.deb ...\nUnpacking libpython2.7-minimal:amd64 (2.7.12-1~16.04) ...\nSelecting previously unselected package python2.7-minimal.\nPreparing to unpack .../python2.7-minimal_2.7.12-1~16.04_amd64.deb ...\nUnpacking python2.7-minimal (2.7.12-1~16.04) ...\nSelecting previously unselected package python-minimal.\nPreparing to unpack .../python-minimal_2.7.11-1_amd64.deb ...\nUnpacking python-minimal (2.7.11-1) ...\nSelecting previously unselected package libpython2.7-stdlib:amd64.\nPreparing to unpack .../libpython2.7-stdlib_2.7.12-1~16.04_amd64.deb ...\nUnpacking libpython2.7-stdlib:amd64 (2.7.12-1~16.04) ...\nSelecting previously unselected package python2.7.\nPreparing to unpack .../python2.7_2.7.12-1~16.04_amd64.deb ...\nUnpacking python2.7 (2.7.12-1~16.04) ...\nSelecting previously unselected package libpython-stdlib:amd64.\nPreparing to unpack .../libpython-stdlib_2.7.11-1_amd64.deb ...\nUnpacking libpython-stdlib:amd64 (2.7.11-1) ...\nProcessing triggers for man-db (2.7.5-1) ...\nProcessing triggers for mime-support (3.59ubuntu1) ...\nSetting up libpython2.7-minimal:amd64 (2.7.12-1~16.04) ...\nSetting up python2.7-minimal (2.7.12-1~16.04) ...\nLinking and byte-compiling packages for runtime python2.7...\nSetting up python-minimal (2.7.11-1) ...\nSelecting previously unselected package python.\n(Reading database ... 54377 files and directories currently installed.)\nPreparing to unpack .../python_2.7.11-1_amd64.deb ...\nUnpacking python (2.7.11-1) ...\nProcessing triggers for man-db (2.7.5-1) ...\nSetting up libpython2.7-stdlib:amd64 (2.7.12-1~16.04) ...\nSetting up python2.7 (2.7.12-1~16.04) ...\nSetting up libpython-stdlib:amd64 (2.7.11-1) ...\nSetting up python (2.7.11-1) ...\nShared connection to 172.16.130.41 closed.\n\nuser@ubuntu$ ansible -v all -i hosts -m ping\n172.16.129.118 | SUCCESS => {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\n172.16.130.41 | SUCCESS => {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\nuser@ubuntu$ ansible -v all -i hosts -m command -a uptime\n172.16.129.118 | SUCCESS | rc=0 >>\n 10:43:40 up  1:52,  2 users,  load average: 0.00, 0.02, 0.00\n\n172.16.130.41 | SUCCESS | rc=0 >>\n 19:43:40 up  1:52,  1 user,  load average: 0.12, 0.10, 0.05\n```\n\n# playbook\u3067\u3084\u308b\u3068\u304d\n\n```yaml\n- hosts: all\n  gather_facts: no\n  remote_user: ubuntu\n  become: yes\n  become_user: root\n  become_method: sudo\n  \n  pre_tasks:\n    - raw: apt -y install python\n```\n", "tags": ["Ansible", "Python", "ubuntu16.04", "Ubuntu16.04LTS"]}