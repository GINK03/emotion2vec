{"context": "Python\u3067\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\u306e\u8868\u793a\uff08matplotlib\u7de8\uff09\n\u306e\u7d9a\u304d\u3067\u3059\u3002\nPlotly\u306f\u3001Python\u5c02\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u304f\u3001R\u3084Matlab\u3001JavaScript\u306a\u3069\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\u30aa\u30f3\u30e9\u30a4\u30f3\u30e2\u30fc\u30c9\u3060\u3068\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u4f7f\u3046\u5834\u5408\u3001\u7279\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306f\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u306e\u8aac\u660e\u3067\u3059\u3002\n\n\u6e96\u5099\nPlotly\u306ePython\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001\u3053\u306e\u30da\u30fc\u30b8\u306b\u3042\u308b\u3088\u3046\u306b\n$ pip install plotly\n\n\u3067OK\u3067\u3059\u3002\n\u3067\u306f\u3001\u524d\u56de\u306e\u8a18\u4e8b\u3068\u540c\u69d8\u3001\u67b6\u7a7a\u306e\uff14\u672c\u5024\u30c7\u30fc\u30bf\u3092\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u4eca\u56de\u306f\uff11\u5e74\u5206\u306e\u30c7\u30fc\u30bf\u3068\u3057\u307e\u3059\u3002\nimport numpy as np\nimport pandas as pd\n\nidx = pd.date_range('2015/01/01', '2015/12/31 23:59', freq='T')\ndn = np.random.randint(2, size=len(idx))*2-1\nrnd_walk = np.cumprod(np.exp(dn*0.0002))*100\ndf = pd.Series(rnd_walk, index=idx).resample('B').ohlc()\n\n\nPlotly\u3092\u4f7f\u3063\u305f\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\n\u53c2\u8003\u306b\u3057\u305f\u30da\u30fc\u30b8\u306f\u3053\u3061\u3089\u3067\u3059\u3002\nCandlestick Charts in Python\n\u307e\u305a\u306f\u3001\u6a19\u6e96\u306e\u8a2d\u5b9a\u306e\u307e\u307e\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\u3092\u8868\u793a\u3055\u305b\u307e\u3059\u3002\nfrom plotly.offline import init_notebook_mode, iplot\nfrom plotly.tools import FigureFactory as FF\n\ninit_notebook_mode(connected=True) # Jupyter notebook\u7528\u8a2d\u5b9a\n\nfig = FF.create_candlestick(df.open, df.high, df.low, df.close, dates=df.index)\n\niplot(fig)\n\ncreate_candlestick\u306e\u5f15\u6570\u306bOpen\u30c7\u30fc\u30bf\u3001High\u30c7\u30fc\u30bf\u3001Low\u30c7\u30fc\u30bf\u3001Close\u30c7\u30fc\u30bf\u3001\u65e5\u6642\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u3060\u3051\u3067\u3059\u3002\n\u3053\u3093\u306a\u611f\u3058\u306e\u30c1\u30e3\u30fc\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u5b9f\u969b\u306b\u306f\u30c1\u30e3\u30fc\u30c8\u306e\u30ba\u30fc\u30e0\u3084\u30d1\u30f3\u304c\u81ea\u7531\u306b\u3067\u304d\u308b\u306e\u3067\u3001\u4e0b\u306e\u3088\u3046\u306b\u62e1\u5927\u8868\u793a\u3055\u305b\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n\n\u55b6\u696d\u65e5\u306e\u307f\u306e\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\nPlotly\u306e\u30c1\u30e3\u30fc\u30c8\u306f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30c1\u30e3\u30fc\u30c8\u3067\u3068\u3066\u3082\u4fbf\u5229\u306a\u306e\u3067\u3059\u304c\u3001\u3084\u306f\u308a\u3001\u305d\u306e\u307e\u307e\u3067\u306f\u571f\u65e5\u306e\u30b9\u30da\u30fc\u30b9\u304c\u3067\u304d\u3066\u3057\u307e\u3044\u3001\u55b6\u696d\u65e5\u3067\u9023\u7d9a\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\u305d\u3053\u3067\u3001\u55b6\u696d\u65e5\u306e\u307f\u304c\u9023\u7d9a\u3059\u308b\u3088\u3046\u306bx\u8ef8\u30c7\u30fc\u30bf\u3092\u7d30\u5de5\u3057\u307e\u3059\u3002\u3084\u308a\u65b9\u306fmatplotlib\u306e\u5834\u5408\u3068\u540c\u3058\u3067\u3059\u3002create_candlestick\u306e\u5f15\u6570dates\u3092\u7701\u7565\u3059\u308b\u3068\u3001x\u8ef8\u306e\u30c7\u30fc\u30bf\u306f\u6574\u6570\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u306a\u308a\u307e\u3059\u3002\u306a\u306e\u3067\u3001x\u8ef8\u306e\u76ee\u76db\u3068\u3057\u3066\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u5bfe\u5fdc\u3059\u308b\u65e5\u6642\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u307e\u3059\u3002\nfig = FF.create_candlestick(df.open, df.high, df.low, df.close)\n\nxtick0 = (5-df.index[0].weekday())%5 #\u6700\u521d\u306e\u6708\u66dc\u65e5\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\nfig['layout'].update({\n    'xaxis':{\n        'showgrid': True,\n        'ticktext': [x.strftime('%Y-%m-%d') for x in df.index][xtick0::5],\n        'tickvals': np.arange(xtick0,len(df),5)\n    }\n})\n\niplot(fig)\n\n\u3053\u308c\u3067\u8868\u793a\u3055\u305b\u305f\u30c1\u30e3\u30fc\u30c8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nx\u8ef8\u306e\u76ee\u76db\u304c\uff11\u9031\u9593\u9593\u9694\u3067\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3061\u3087\u3063\u3068\u7d30\u304b\u3044\u3067\u3059\u304c\u3001\u62e1\u5927\u3059\u308b\u3068\u898b\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u55b6\u696d\u65e5\u306e\u307f\u306e\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\u3068\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n[Python\u3067\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\u306e\u8868\u793a\uff08matplotlib\u7de8\uff09](http://qiita.com/toyolab/items/1b5d11b5d376bd542022)\n\u306e\u7d9a\u304d\u3067\u3059\u3002\n\n[Plotly](https://plot.ly/)\u306f\u3001Python\u5c02\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u304f\u3001R\u3084Matlab\u3001JavaScript\u306a\u3069\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\u30aa\u30f3\u30e9\u30a4\u30f3\u30e2\u30fc\u30c9\u3060\u3068\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u4f7f\u3046\u5834\u5408\u3001\u7279\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306f\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u306e\u8aac\u660e\u3067\u3059\u3002\n\n# \u6e96\u5099\n\nPlotly\u306ePython\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001[\u3053\u306e\u30da\u30fc\u30b8](https://plot.ly/python/getting-started/)\u306b\u3042\u308b\u3088\u3046\u306b\n\n````bash\n$ pip install plotly\n````\n\u3067OK\u3067\u3059\u3002\n\n\u3067\u306f\u3001[\u524d\u56de\u306e\u8a18\u4e8b](http://qiita.com/toyolab/items/1b5d11b5d376bd542022)\u3068\u540c\u69d8\u3001\u67b6\u7a7a\u306e\uff14\u672c\u5024\u30c7\u30fc\u30bf\u3092\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u4eca\u56de\u306f\uff11\u5e74\u5206\u306e\u30c7\u30fc\u30bf\u3068\u3057\u307e\u3059\u3002\n\n````py\nimport numpy as np\nimport pandas as pd\n\nidx = pd.date_range('2015/01/01', '2015/12/31 23:59', freq='T')\ndn = np.random.randint(2, size=len(idx))*2-1\nrnd_walk = np.cumprod(np.exp(dn*0.0002))*100\ndf = pd.Series(rnd_walk, index=idx).resample('B').ohlc()\n````\n\n# Plotly\u3092\u4f7f\u3063\u305f\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\n\n\u53c2\u8003\u306b\u3057\u305f\u30da\u30fc\u30b8\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n[Candlestick Charts in Python](https://plot.ly/python/candlestick-charts/)\n\n\u307e\u305a\u306f\u3001\u6a19\u6e96\u306e\u8a2d\u5b9a\u306e\u307e\u307e\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\u3092\u8868\u793a\u3055\u305b\u307e\u3059\u3002\n\n````py\nfrom plotly.offline import init_notebook_mode, iplot\nfrom plotly.tools import FigureFactory as FF\n\ninit_notebook_mode(connected=True) # Jupyter notebook\u7528\u8a2d\u5b9a\n\nfig = FF.create_candlestick(df.open, df.high, df.low, df.close, dates=df.index)\n\niplot(fig)\n````\n`create_candlestick`\u306e\u5f15\u6570\u306bOpen\u30c7\u30fc\u30bf\u3001High\u30c7\u30fc\u30bf\u3001Low\u30c7\u30fc\u30bf\u3001Close\u30c7\u30fc\u30bf\u3001\u65e5\u6642\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u3060\u3051\u3067\u3059\u3002\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30c1\u30e3\u30fc\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\n![newplot.png](https://qiita-image-store.s3.amazonaws.com/0/131169/368371e4-d448-9dab-5e4b-c3068c3be529.png)\n\n\u5b9f\u969b\u306b\u306f\u30c1\u30e3\u30fc\u30c8\u306e\u30ba\u30fc\u30e0\u3084\u30d1\u30f3\u304c\u81ea\u7531\u306b\u3067\u304d\u308b\u306e\u3067\u3001\u4e0b\u306e\u3088\u3046\u306b\u62e1\u5927\u8868\u793a\u3055\u305b\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n![newplot.png](https://qiita-image-store.s3.amazonaws.com/0/131169/a2b440a5-2466-ceca-f8e2-e7a9b6e7b49e.png)\n\n# \u55b6\u696d\u65e5\u306e\u307f\u306e\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\n\nPlotly\u306e\u30c1\u30e3\u30fc\u30c8\u306f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30c1\u30e3\u30fc\u30c8\u3067\u3068\u3066\u3082\u4fbf\u5229\u306a\u306e\u3067\u3059\u304c\u3001\u3084\u306f\u308a\u3001\u305d\u306e\u307e\u307e\u3067\u306f\u571f\u65e5\u306e\u30b9\u30da\u30fc\u30b9\u304c\u3067\u304d\u3066\u3057\u307e\u3044\u3001\u55b6\u696d\u65e5\u3067\u9023\u7d9a\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\u305d\u3053\u3067\u3001\u55b6\u696d\u65e5\u306e\u307f\u304c\u9023\u7d9a\u3059\u308b\u3088\u3046\u306bx\u8ef8\u30c7\u30fc\u30bf\u3092\u7d30\u5de5\u3057\u307e\u3059\u3002\u3084\u308a\u65b9\u306fmatplotlib\u306e\u5834\u5408\u3068\u540c\u3058\u3067\u3059\u3002`create_candlestick`\u306e\u5f15\u6570`dates`\u3092\u7701\u7565\u3059\u308b\u3068\u3001x\u8ef8\u306e\u30c7\u30fc\u30bf\u306f\u6574\u6570\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u306a\u308a\u307e\u3059\u3002\u306a\u306e\u3067\u3001x\u8ef8\u306e\u76ee\u76db\u3068\u3057\u3066\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u5bfe\u5fdc\u3059\u308b\u65e5\u6642\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u307e\u3059\u3002\n\n````py\nfig = FF.create_candlestick(df.open, df.high, df.low, df.close)\n\nxtick0 = (5-df.index[0].weekday())%5 #\u6700\u521d\u306e\u6708\u66dc\u65e5\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\nfig['layout'].update({\n    'xaxis':{\n        'showgrid': True,\n        'ticktext': [x.strftime('%Y-%m-%d') for x in df.index][xtick0::5],\n        'tickvals': np.arange(xtick0,len(df),5)\n    }\n})\n\niplot(fig)\n````\n\n\u3053\u308c\u3067\u8868\u793a\u3055\u305b\u305f\u30c1\u30e3\u30fc\u30c8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n![newplot.png](https://qiita-image-store.s3.amazonaws.com/0/131169/58f9a5d9-e13c-c675-3cb6-1fe1d1878612.png)\n\nx\u8ef8\u306e\u76ee\u76db\u304c\uff11\u9031\u9593\u9593\u9694\u3067\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3061\u3087\u3063\u3068\u7d30\u304b\u3044\u3067\u3059\u304c\u3001\u62e1\u5927\u3059\u308b\u3068\u898b\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\n\n![newplot.png](https://qiita-image-store.s3.amazonaws.com/0/131169/481d8d60-1011-be3d-cebb-1405043c458d.png)\n\n\u3053\u308c\u3067\u55b6\u696d\u65e5\u306e\u307f\u306e\u30ed\u30fc\u30bd\u30af\u8db3\u30c1\u30e3\u30fc\u30c8\u3068\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\n", "tags": ["Python", "pandas", "plotly", "Finance", "\u30ed\u30fc\u30bd\u30af\u8db3"]}