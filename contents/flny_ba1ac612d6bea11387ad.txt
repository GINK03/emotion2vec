{"context": " More than 1 year has passed since last update.\n\n\u52d5\u6a5f\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6d41\u308c\u3067\u3001docker\u4e0a\u306eKVM\u3067\u3001Xubuntu\u3092\u52d5\u304b\u305d\u3046\u3068\u8a66\u307f\u307e\u3057\u305f\u3002\n1. docker\u4e0a\u3067\u52d5\u304fxfce\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3088\u3046\u3068\u3059\u308b\n2. gauthierc/dockerspicexfce4\u306a\u3069\u3092\u8a66\u3059\u3082\u3001\u6052\u5e38\u7684\u306b\u4f7f\u3046\u306e\u306f\u8f9b\u305d\u3046 1\n3. \u3084\u3063\u3071\u308a\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306f\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u3059\u308b\u304b\uff01\n4. \u5931\u6557\u3057\u3066\u3082\u3044\u3044\u3088\u3046\u306b\u3001docker\u4e0a\u3067KVM\u3092\u8a66\u305d\u3046\n\n\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u6e96\u5099\u3059\u308b\n\u307e\u305a\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u5229\u7528\u3059\u308b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092 \u30db\u30b9\u30c8\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\u30b5\u30a4\u30ba\u306f100GB\u3067\u3059\u3002\n$ dd if=/dev/zero of=/mnt/vm/xubuntu/primary.raw bs=10M count=10k\n$ ll -h /mnt/vm/xubuntu/primary.raw\n-rw-rw-r-- 1 foo bar 100G Feb 14 20:16 /mnt/vm/xubuntu/primary.raw\n\n\u6b21\u306b\u3001Xubuntu\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u304d\u307e\u3059\u3002\n$ wget http://ubuntutym2.u-toyama.ac.jp/xubuntu/14.04/release/xubuntu-14.04.3-desktop-amd64.iso\n$ mv xubuntu-14.04.3-desktop-amd64.iso /mnt/vm/xubuntu/\n\n\ndocker-compose.yml \u3092\u8a18\u8ff0\u3059\u308b\nDocker Hub\u306b\u3066\u65e2\u5b58\u30a4\u30e1\u30fc\u30b8\u3092\u63a2\u3057\u305f\u3068\u3053\u308d\u3001ianblenke/kvm \u304c\u826f\u3055\u305d\u3046\u3067\u3057\u305f\u306e\u3067\u3053\u308c\u3092\u4f7f\u308f\u305b\u3066\u3082\u3089\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3059\u308b\u3060\u3051\u3067KVM\u306e\u5b9f\u884c\u74b0\u5883\u304c\u6574\u3044\u3001\n\u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u6642\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u3068 \u305d\u308c\u304cKVM\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u5b9f\u884c\u3055\u308c\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u4f5c\u6210\u3055\u308c\u308b\n\n\u3068\u3044\u3046\u4ee3\u7269\u3067\u3059\u3002\u3042\u308a\u304c\u305f\u3044\u3002\n\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u591a\u3044\u306e\u3067\u3001docker run \u3067\u306f\u306a\u304f \u6700\u521d\u304b\u3089docker-compose\u3092\u4f7f\u3044\u307e\u3059\u3002\n\ndocker-compose.yml\nxubuntu:\n  image: ianblenke/kvm\n  container_name: xubuntu\n  tty: true\n  privileged: true\n  mem_limit: 600000000\n  ports:\n    - \"5900:5900\"\n  volumes:\n    - /mnt/vm/xubuntu:/mnt/vm/xubuntu\n  command: \"/run.sh  \\\n    -name xubuntu -smp 2 -m 512  \\\n    -vnc :0  \\\n    -k ja \\\n    -cdrom /mnt/vm/xubuntu/xubuntu-14.04.3-desktop-amd64.iso  \\\n    /mnt/vm/xubuntu/primary.raw\"\n\n\n\u30b3\u30f3\u30c6\u30ca\u304c /dev/kvm \u3068 /dev/net/tun \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u3001\u7279\u6a29\u30e2\u30fc\u30c9(privileged)\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u306fVNC\u3092\u4f7f\u3063\u3066\u64cd\u4f5c\u3059\u308b\u305f\u3081\u30015900\u756a\u30dd\u30fc\u30c8\u3092\u958b\u3051\u307e\u3059\u3002\nrun.sh \u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c \u305d\u306e\u307e\u307eqemu-kvm \u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u6e21\u308a\u307e\u3059\u3002\u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u610f\u5473\u306f\u3053\u3061\u3089\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u306bxubuntu\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\ndocker-compose up \u3067\u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u3057\u3001\u7d50\u679c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ docker-compose up -d xubuntu\nCreating xubuntu\n$ docker-compose ps xubuntu\n      Name             Command             State              Ports\n-------------------------------------------------------------------------\nxubuntu            /run.sh -name      Up                 3389/tcp, 0.0.0.\n                   xubuntu -smp ...                      0:5900->5900/tcp\n\n\u30b3\u30f3\u30c6\u30ca\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002\u540c\u6642\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u3082\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001\u5225\u306e\u30db\u30b9\u30c8\u304b\u3089VNC\u3067\u7e4b\u3044\u3067\u307f\u307e\u3059\u3002VNC\u306e\u63a5\u7d9a\u5148\u3068\u3057\u3066\u6307\u5b9a\u3059\u308b\u306e\u306f\u30db\u30b9\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n\nXubuntu\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30a4\u30e1\u30fc\u30b8\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\uff01 \u3053\u306e\u307e\u307e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306bXubuntu\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n(\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f5c\u696d\u306f \u4ed6\u306e\u74b0\u5883\u3068\u540c\u3058\u306a\u306e\u3067\u5272\u611b)\n\n\u7121\u4e8bXubuntu\u304c\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002Docker\u3001KVM\u3001Xubuntu\u306e\u3046\u3061\u3069\u308c\u304c\u5bc4\u4e0e\u3057\u3066\u3044\u308b\u306e\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u3001\u3068\u306b\u304b\u304f\u8d77\u52d5\u304c\u65e9\u3044\u3067\u3059\u3002\nXubuntu\u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u3068\u30b3\u30f3\u30c6\u30ca\u3082\u505c\u6b62\u3057\u307e\u3059\u3002Xubuntu\u3092\u30ea\u30d6\u30fc\u30c8\u3057\u305f\u3068\u304d\u306f\u30b3\u30f3\u30c6\u30ca\u306f\u52d5\u4f5c\u3057\u305f\u307e\u307e\u3067\u3059\u3002\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u69cb\u6210\u3092\u5909\u66f4\u3059\u308b\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30a4\u30e1\u30fc\u30b8\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u307e\u307e\u306a\u306e\u3067\u3001\u3053\u308c\u3092\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u69cb\u6210\u304b\u3089\u5916\u3057\u307e\u3059\u3002\u307e\u305f\u3001(\u500b\u4eba\u7684\u306b)WAN\u8d8a\u3057\u306b\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u4f7f\u3046\u3053\u3068\u304c\u591a\u3044\u305f\u3081\u3001VNC\u3067\u306a\u304fSPICE\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u64cd\u4f5c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\ndocker-compose.yml\nxubuntu:\n  image: ianblenke/kvm\n  container_name: xubuntu\n  tty: true\n  privileged: true\n  mem_limit: 600000000\n  ports:\n    - \"5900:5900\"\n  volumes:\n    - /mnt/vm/xubuntu:/mnt/vm/xubuntu\n  command: \"/run.sh  \\\n    -name xubuntu -smp 2 -m 512  \\\n    -spice port=5900,disable-ticketing \\\n    -vga qxl \\\n    -k ja \\\n    /mnt/vm/xubuntu/primary.raw\"\n\n\n-vnc\u30aa\u30d7\u30b7\u30e7\u30f3\u3092-spice\u306b\u5909\u66f4\u3057\u3001-cdrom\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001-vga\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306estd\u304b\u3089qxl\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u30022\n\u4e00\u65e6\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3057\u3001docker-compose up -d xubuntu \u3067\u518d\u8d77\u52d5\u3059\u308b\u3068SPICE\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u4ee5\u4e0a\n\n\n\n\n\u305d\u3082\u305d\u3082 \"\u6052\u5e38\u7684\u306b\u4f7f\u3046\" \"\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\"\u3092 docker\u4e0a\u3067\u52d5\u304b\u3059\u306e\u304c\u5c11\u3057\u30ba\u30ec\u3066\u308b\u3093\u3060\u3068\u89e3\u91c8\u3057\u3066\u3044\u307e\u3059\u3002\u00a0\u21a9\n\n\nstd\u306e\u307e\u307e\u3060\u3068\u3001Windows\u306eSPICE\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(virt-viewer)\u3067\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u304c\u8868\u793a\u3055\u308c\u306a\u304b\u3063\u305f\u305f\u3081 qxl\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u00a0\u21a9\n\n\n\n# \u52d5\u6a5f\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6d41\u308c\u3067\u3001docker\u4e0a\u306eKVM\u3067\u3001Xubuntu\u3092\u52d5\u304b\u305d\u3046\u3068\u8a66\u307f\u307e\u3057\u305f\u3002\n1. docker\u4e0a\u3067\u52d5\u304f[xfce](http://www.xfce.org/?lang=ja)\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3088\u3046\u3068\u3059\u308b\n2. [gauthierc/dockerspicexfce4](https://hub.docker.com/r/gauthierc/dockerspicexfce4/)\u306a\u3069\u3092\u8a66\u3059\u3082\u3001\u6052\u5e38\u7684\u306b\u4f7f\u3046\u306e\u306f\u8f9b\u305d\u3046 [^1]\n3. \u3084\u3063\u3071\u308a\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306f\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u3059\u308b\u304b\uff01\n4. \u5931\u6557\u3057\u3066\u3082\u3044\u3044\u3088\u3046\u306b\u3001docker\u4e0a\u3067KVM\u3092\u8a66\u305d\u3046\n\n\n# \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u6e96\u5099\u3059\u308b\n\n\u307e\u305a\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u5229\u7528\u3059\u308b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3092 \u30db\u30b9\u30c8\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\u30b5\u30a4\u30ba\u306f100GB\u3067\u3059\u3002\n\n```sh\n$ dd if=/dev/zero of=/mnt/vm/xubuntu/primary.raw bs=10M count=10k\n$ ll -h /mnt/vm/xubuntu/primary.raw\n-rw-rw-r-- 1 foo bar 100G Feb 14 20:16 /mnt/vm/xubuntu/primary.raw\n```\n\n\u6b21\u306b\u3001[Xubuntu\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30a4\u30e1\u30fc\u30b8](http://xubuntu.org/getxubuntu/)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066 \u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u304d\u307e\u3059\u3002\n\n\n```sh\n$ wget http://ubuntutym2.u-toyama.ac.jp/xubuntu/14.04/release/xubuntu-14.04.3-desktop-amd64.iso\n$ mv xubuntu-14.04.3-desktop-amd64.iso /mnt/vm/xubuntu/\n```\n\n# docker-compose.yml \u3092\u8a18\u8ff0\u3059\u308b\n\n[Docker Hub](https://hub.docker.com/)\u306b\u3066\u65e2\u5b58\u30a4\u30e1\u30fc\u30b8\u3092\u63a2\u3057\u305f\u3068\u3053\u308d\u3001[ianblenke/kvm](https://github.com/ianblenke/docker-kvm) \u304c\u826f\u3055\u305d\u3046\u3067\u3057\u305f\u306e\u3067\u3053\u308c\u3092\u4f7f\u308f\u305b\u3066\u3082\u3089\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n- \u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3059\u308b\u3060\u3051\u3067KVM\u306e\u5b9f\u884c\u74b0\u5883\u304c\u6574\u3044\u3001\n- \u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u6642\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u3068 \u305d\u308c\u304cKVM\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u5b9f\u884c\u3055\u308c\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u4f5c\u6210\u3055\u308c\u308b\n\n\u3068\u3044\u3046\u4ee3\u7269\u3067\u3059\u3002\u3042\u308a\u304c\u305f\u3044\u3002\n\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u591a\u3044\u306e\u3067\u3001docker run \u3067\u306f\u306a\u304f \u6700\u521d\u304b\u3089docker-compose\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```yaml:docker-compose.yml\nxubuntu:\n  image: ianblenke/kvm\n  container_name: xubuntu\n  tty: true\n  privileged: true\n  mem_limit: 600000000\n  ports:\n    - \"5900:5900\"\n  volumes:\n    - /mnt/vm/xubuntu:/mnt/vm/xubuntu\n  command: \"/run.sh  \\\n    -name xubuntu -smp 2 -m 512  \\\n    -vnc :0  \\\n    -k ja \\\n    -cdrom /mnt/vm/xubuntu/xubuntu-14.04.3-desktop-amd64.iso  \\\n    /mnt/vm/xubuntu/primary.raw\"\n```\n\u30b3\u30f3\u30c6\u30ca\u304c ```/dev/kvm``` \u3068 ```/dev/net/tun``` \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u3001\u7279\u6a29\u30e2\u30fc\u30c9(privileged)\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u306fVNC\u3092\u4f7f\u3063\u3066\u64cd\u4f5c\u3059\u308b\u305f\u3081\u30015900\u756a\u30dd\u30fc\u30c8\u3092\u958b\u3051\u307e\u3059\u3002\n\nrun.sh \u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c \u305d\u306e\u307e\u307eqemu-kvm \u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u6e21\u308a\u307e\u3059\u3002\u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u610f\u5473\u306f[\u3053\u3061\u3089](http://manual.geeko.cpon.org/ja/cha.qemu.running.html)\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\n# \u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u306bxubuntu\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```docker-compose up``` \u3067\u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u3057\u3001\u7d50\u679c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```sh\n$ docker-compose up -d xubuntu\nCreating xubuntu\n$ docker-compose ps xubuntu\n      Name             Command             State              Ports\n-------------------------------------------------------------------------\nxubuntu            /run.sh -name      Up                 3389/tcp, 0.0.0.\n                   xubuntu -smp ...                      0:5900->5900/tcp\n```\n\n\u30b3\u30f3\u30c6\u30ca\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002\u540c\u6642\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u3082\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001\u5225\u306e\u30db\u30b9\u30c8\u304b\u3089VNC\u3067\u7e4b\u3044\u3067\u307f\u307e\u3059\u3002VNC\u306e\u63a5\u7d9a\u5148\u3068\u3057\u3066\u6307\u5b9a\u3059\u308b\u306e\u306f\u30db\u30b9\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n![Install.png](https://qiita-image-store.s3.amazonaws.com/0/87156/84401be7-d0e0-78af-8bc1-c95ec7b8d11a.png)\n\nXubuntu\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30a4\u30e1\u30fc\u30b8\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\uff01 \u3053\u306e\u307e\u307e\u4eee\u60f3\u30c7\u30a3\u30b9\u30af\u306bXubuntu\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n(\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f5c\u696d\u306f \u4ed6\u306e\u74b0\u5883\u3068\u540c\u3058\u306a\u306e\u3067\u5272\u611b)\n![vnc.png](https://qiita-image-store.s3.amazonaws.com/0/87156/f0da6ed0-6922-44bc-0278-2dbeecb41ff4.png)\n\n\u7121\u4e8bXubuntu\u304c\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002Docker\u3001KVM\u3001Xubuntu\u306e\u3046\u3061\u3069\u308c\u304c\u5bc4\u4e0e\u3057\u3066\u3044\u308b\u306e\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u3001\u3068\u306b\u304b\u304f\u8d77\u52d5\u304c\u65e9\u3044\u3067\u3059\u3002\nXubuntu\u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u3068\u30b3\u30f3\u30c6\u30ca\u3082\u505c\u6b62\u3057\u307e\u3059\u3002Xubuntu\u3092\u30ea\u30d6\u30fc\u30c8\u3057\u305f\u3068\u304d\u306f\u30b3\u30f3\u30c6\u30ca\u306f\u52d5\u4f5c\u3057\u305f\u307e\u307e\u3067\u3059\u3002\n\n# \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u69cb\u6210\u3092\u5909\u66f4\u3059\u308b\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30a4\u30e1\u30fc\u30b8\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u307e\u307e\u306a\u306e\u3067\u3001\u3053\u308c\u3092\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u69cb\u6210\u304b\u3089\u5916\u3057\u307e\u3059\u3002\u307e\u305f\u3001(\u500b\u4eba\u7684\u306b)WAN\u8d8a\u3057\u306b\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u4f7f\u3046\u3053\u3068\u304c\u591a\u3044\u305f\u3081\u3001VNC\u3067\u306a\u304f[SPICE](http://www.spice-space.org/)\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u64cd\u4f5c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```yaml:docker-compose.yml\nxubuntu:\n  image: ianblenke/kvm\n  container_name: xubuntu\n  tty: true\n  privileged: true\n  mem_limit: 600000000\n  ports:\n    - \"5900:5900\"\n  volumes:\n    - /mnt/vm/xubuntu:/mnt/vm/xubuntu\n  command: \"/run.sh  \\\n    -name xubuntu -smp 2 -m 512  \\\n    -spice port=5900,disable-ticketing \\\n    -vga qxl \\\n    -k ja \\\n    /mnt/vm/xubuntu/primary.raw\"\n```\n-vnc\u30aa\u30d7\u30b7\u30e7\u30f3\u3092-spice\u306b\u5909\u66f4\u3057\u3001-cdrom\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001-vga\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306estd\u304b\u3089qxl\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002[^2]\n\u4e00\u65e6\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3057\u3001```docker-compose up -d xubuntu``` \u3067\u518d\u8d77\u52d5\u3059\u308b\u3068SPICE\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n![spice.png](https://qiita-image-store.s3.amazonaws.com/0/87156/3f46a4a6-d65d-baf5-eda3-34e8ef38eb53.png)\n\n\u4ee5\u4e0a\n\n[^1]: \u305d\u3082\u305d\u3082 \"\u6052\u5e38\u7684\u306b\u4f7f\u3046\" \"\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\"\u3092 docker\u4e0a\u3067\u52d5\u304b\u3059\u306e\u304c\u5c11\u3057\u30ba\u30ec\u3066\u308b\u3093\u3060\u3068\u89e3\u91c8\u3057\u3066\u3044\u307e\u3059\u3002\n[^2]: std\u306e\u307e\u307e\u3060\u3068\u3001Windows\u306eSPICE\u30af\u30e9\u30a4\u30a2\u30f3\u30c8([virt-viewer](https://virt-manager.org/download/))\u3067\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u304c\u8868\u793a\u3055\u308c\u306a\u304b\u3063\u305f\u305f\u3081 qxl\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\n", "tags": ["docker", "KVM", "xubuntu", "Xfce", "spice"]}