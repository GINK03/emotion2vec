{"context": " More than 1 year has passed since last update.\u5206\u6563\u4e26\u5217\u51e6\u7406\u306e\u57fa\u672c\u304b\u3064\u5f37\u529b\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u3057\u3066\uff0cSingle Program Multiple Data (SPMD) \u304c\u3042\u308a\u307e\u3059\uff0e\u3053\u308c\u306f\uff0c\u8907\u6570\u306e\u30d7\u30ed\u30bb\u30c3\u30b5\u304c\u540c\u4e00\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\uff0c\u305d\u306e\u969b\u306b\u5404\u30d7\u30ed\u30bb\u30c3\u30b5\u306f\u5225\u3005\u306e\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\uff0c\u3068\u3044\u3046\u30e2\u30c7\u30eb\u3067\u3059\uff0e\u5927\u898f\u6a21\u306a\u30c7\u30fc\u30bf\u3092\u72ec\u7acb\u3067\u51e6\u7406\u3067\u304d\u308b\u5358\u4f4d\u306b\u5206\u5272\u3057\uff0c\u5c0f\u5206\u3051\u306e\u30c7\u30fc\u30bf\u3092\u8907\u6570\u306e\u30d7\u30ed\u30bb\u30c3\u30b5\u3067\u4e26\u5217\u306b\u51e6\u7406\u3059\u308b\u3053\u3068\u3067\uff0c\u30c7\u30fc\u30bf\u5168\u4f53\u306e\u51e6\u7406\u6642\u9593\u3092\u5927\u5e45\u306b\u77ed\u7e2e\u3067\u304d\u307e\u3059\uff0e\n\u4f8b\u3048\u3070\uff0ca01.txt, a02.txt, a03.txt, a04.txt\u3092\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066job\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\uff0c\u5b9f\u884c\u7d50\u679c\uff08\u51fa\u529b\uff09\u3092\u305d\u308c\u305e\u308c\uff0cb01.txt, b02.txt, b03txt, b04.txt\u306b\u683c\u7d0d\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3059\uff0e\u6b21\u306e\u30b3\u30fc\u30c9\u306f\uff0c\u3053\u306e\u51e6\u7406\u3092bash\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\uff0e\n#!/bin/bash\nfor src in $@\ndo\n   job < $src > ${src/a/b}\ndone\n\n\u3053\u306efor\u30eb\u30fc\u30d7\u5185\u306e\u51e6\u7406\u5185\u5bb9\u306f\u4e92\u3044\u306b\u72ec\u7acb\u3067\u3059\u306e\u3067\uff0c\u5bb9\u6613\u306b\u4e26\u5217\u5316\u3067\u304d\u307e\u3059\u3057\uff0c\u5168\u4f53\u306b\u8981\u3059\u308b\u51e6\u7406\u6642\u9593\u3092\u77ed\u7e2e\u3067\u304d\u307e\u3059\uff0e\n\n\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u3084\u6a5f\u68b0\u5b66\u7fd2\u3067\u306f\uff0c\u5f62\u614b\u7d20\u89e3\u6790\u3084\u7d20\u6027\u62bd\u51fa\u306a\u3069\uff0c\u30c7\u30fc\u30bf\u5206\u5272\u306b\u3088\u308b\u4e26\u5217\u5316\u304c\u5bb9\u6613\u306a\u51e6\u7406\u304c\u6ca2\u5c71\u3042\u308a\u307e\u3059\uff0e\u3053\u306e\u3088\u3046\u306a\uff08\u5206\u6563\uff09\u4e26\u5217\u51e6\u7406\u306e\u3053\u3068\u3092\uff08\u65e5\u672c\u3067\u306f\uff09\u30d0\u30ab\u30d1\u30e9\u3068\u547c\u3076\u3088\u3046\u3067\u3059\uff0e\u3053\u306e\u8a18\u4e8b\u3067\u306f\uff0c\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306b\u3088\u308b\u30d0\u30ab\u30d1\u30e9\u3092IPython cluster\u3067\u5b9f\u73fe\u3059\u308b\u65b9\u6cd5\uff0c\u30d0\u30ab\u30d1\u30e9\u306b\u7279\u5316\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30eaBakapara\u3092\u7d39\u4ecb\u3057\u307e\u3059\uff0e\n\n\u306f\u3058\u3081\u306b\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306eArchitecture overview\u306b\u3088\u308b\u3068\uff0cIPython cluster\u306f\u4ee5\u4e0b\u306e4\u3064\u306e\u8981\u7d20\u304b\u3089\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\uff0e\n\n\n\u30a8\u30f3\u30b8\u30f3: \u4e26\u5217\u306b\u5b9f\u884c\u3059\u308bPython\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3059IPython\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\uff0e\u5b9f\u884c\u3057\u305f\u3044\u30db\u30b9\u30c8\u306e\u4e0a\u3067\u4e26\u5217\u306b\u5b9f\u884c\u3057\u305f\u3044\u6570\u3060\u3051\u8d77\u52d5\u3055\u308c\u307e\u3059\uff0e\u30e6\u30fc\u30b6\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u9593\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u306f\u4ed6\u306e\u64cd\u4f5c\u3092\u30d6\u30ed\u30c3\u30af\u3057\u307e\u3059\uff0e\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9: \u30a8\u30f3\u30b8\u30f3\u7fa4\u3092\u64cd\u4f5c\u3059\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\uff0e\u30e6\u30fc\u30b6\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u64cd\u4f5c\u3059\u308b\u3053\u3068\u3067\uff0c\u30a8\u30f3\u30b8\u30f3\u306e\u52d5\u4f5c\u3092\u7ba1\u7406\u3057\u307e\u3059\uff0e\u5185\u90e8\u7684\u306b\uff0c\uff11\u3064\u306e\u30cf\u30d6\u3068\u8907\u6570\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u304b\u3089\u69cb\u6210\u3055\u308c\u307e\u3059\uff0e\n\n\u30cf\u30d6: \u30af\u30e9\u30b9\u30bf\u5b9f\u884c\u74b0\u5883\u306e\u5fc3\u81d3\u90e8\uff0e\u30a8\u30f3\u30b8\u30f3\u3078\u306e\u63a5\u7d9a\uff0c\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\uff0c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff0c\u5b9f\u884c\u7d50\u679c\u306a\u3069\u3092\u96c6\u4e2d\u7ba1\u7406\u3057\u307e\u3059\uff0e\n\n\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9: \u30a8\u30f3\u30b8\u30f3\u306e\u30b8\u30e7\u30d6\u3092\u7ba1\u7406\uff0e\n\nIPython\u3067\u4e26\u5217\u5b9f\u884c\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\uff0c\uff11\u3064\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u8907\u6570\u306e\u30a8\u30f3\u30b8\u30f3\u3092\u8d77\u52d5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u306e\u8d77\u52d5\u65b9\u6cd5\u306f\uff12\u3064\u3042\u308a\u307e\u3059\uff0e\n1. ipcluster\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u3092\u81ea\u52d5\u7684\u306b\u7acb\u3061\u4e0a\u3052\u308b\n2. ipcontroller\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\uff0cipengine\u30b3\u30de\u30f3\u30c9\u3067\u30a8\u30f3\u30b8\u30f3\u3092\u624b\u52d5\u3067\u7acb\u3061\u4e0a\u3052\u308b\n\u4eca\u56de\u306f\uff0cipcluster\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u304a\u624b\u8efd\u306b\u30af\u30e9\u30b9\u30bf\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\n\u672c\u8a18\u4e8b\u3067\u306f\u30b5\u30fc\u30d0\u7fa4\u306e\u74b0\u5883\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u4e8b\u9805\u3092\u4eee\u5b9a\u3057\u307e\u3059\uff0e\n* \u5404\u30b5\u30fc\u30d0\u306b\u306fssh\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067\uff08ssh-agent\u306a\u3069\u3092\u7528\u3044\u3066\uff09\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\n* \u5404\u30b5\u30fc\u30d0\u306fNFS\u7b49\u3067\u5171\u6709\u3055\u308c\u305fhome\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\n* \u5404\u30b5\u30fc\u30d0\u306bIPython\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\n\u5177\u4f53\u7684\u306a\u8aac\u660e\u3092\u5fc3\u304c\u3051\u308b\u305f\u3081\uff0c\u3053\u306e\u8a18\u4e8b\u3067\u306f\u4ee5\u4e0b\u306e\u30b5\u30fc\u30d0\u69cb\u6210\u3092\u4f8b\u306b\u8aac\u660e\u3057\u307e\u3059\uff0e\n* \u30a8\u30f3\u30b8\u30f3\u7528\u306e\u30b5\u30fc\u30d0\u3068\u3057\u3066\uff0cmezcal01.cl.ecei.tohoku.ac.jp\u304b\u3089mezcal12.cl.ecei.tohoku.ac.jp\u306e12\u53f0\u3092\u5229\u7528\u3059\u308b\uff0e\n* \u5404\u30ce\u30fc\u30c9\u30674\u3064\u306e\u30a8\u30f3\u30b8\u30f3\u3092\u8d77\u52d5\u3059\u308b\uff084\u4e26\u5217/\u30ce\u30fc\u30c9\uff09\n\nIPython cluster\u306e\u8a2d\u5b9a\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306eUsing ipcluster in SSH mode\u3092\u53c2\u8003\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u30fb\u7de8\u96c6\u3057\u307e\u3059\uff0eIPython cluster\u306f\u30af\u30e9\u30b9\u30bf\u5b9f\u884c\u74b0\u5883\u3092\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3068\u3044\u3046\u5358\u4f4d\u3067\u7ba1\u7406\u3059\u308b\u3068\u4fbf\u5229\u3067\u3059\uff0e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d\u306f\u4efb\u610f\u3067\u3059\u304c\uff0c\u3053\u3053\u3067\u306f\u30a8\u30f3\u30b8\u30f3\u306e\u30b5\u30fc\u30d0\u7fa4\u306e\u540d\u524d\u306b\u57fa\u3044\u3066\"mezcal\"\u3068\u3044\u3046\u540d\u524d\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0e\n$ ipython profile create --parallel --profile=mezcal\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipython_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipython_notebook_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipython_nbconvert_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipcontroller_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipengine_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipcluster_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/iplogger_config.py'\n\n$HOME/.ipython/profile_{\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d}\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\uff0cIPython cluster\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30ebipcluster_config.py\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\uff0e\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304d\uff0c\u5404\u30ce\u30fc\u30c9\u306e\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3\u3092SSH\u7d4c\u7531\u3067\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\uff0e\u8a2d\u5b9a\u7b87\u6240\u3092\u30b3\u30e1\u30f3\u30c8\u3092\u6b8b\u3057\u305f\u307e\u307e\u793a\u3057\u307e\u3059\uff0ec.IPClusterStart.engine_launcher_class\u3092'SSH'\u3068\u3057\u307e\u3059\uff0e\n\nipcluster_config.py\n# The class for launching a set of Engines. Change this value to use various\n# batch systems to launch your engines, such as PBS,SGE,MPI,etc. Each launcher\n# class has its own set of configuration options, for making sure it will work\n# in your environment.\n#\n# You can also write your own launcher, and specify it's absolute import path,\n# as in 'mymodule.launcher.FTLEnginesLauncher`.\n#\n# IPython's bundled examples include:\n#\n#     Local : start engines locally as subprocesses [default]\n#     MPI : use mpiexec to launch engines in an MPI environment\n#     PBS : use PBS (qsub) to submit engines to a batch queue\n#     SGE : use SGE (qsub) to submit engines to a batch queue\n#     LSF : use LSF (bsub) to submit engines to a batch queue\n#     SSH : use SSH to start the controller\n#                 Note that SSH does *not* move the connection files\n#                 around, so you will likely have to do this manually\n#                 unless the machines are on a shared file system.\n#     HTCondor : use HTCondor to submit engines to a batch queue\n#     WindowsHPC : use Windows HPC\n#\n# If you are using one of IPython's builtin launchers, you can specify just the\n# prefix, e.g:\n#\n#     c.IPClusterEngines.engine_launcher_class = 'SSH'\n#\n# or:\n#\n#     ipcluster start --engines=MPI\nc.IPClusterStart.engine_launcher_class = 'SSH'\n\n\n\u5148\u307b\u3069\u8a2d\u5b9a\u3057\u305fc.IPClusterStart.engine_launcher_class\u3068\u306e\u5dee\u7570\u304c\u4e0d\u660e\u3067\u3059\u304c\uff0cc.IPClusterEngines.engine_launcher_class\u3082'SSH'\u3068\u3057\u307e\u3059\uff0e\u3055\u3089\u306b\uff0cc.SSHEngineSetLauncher.engines\u3068\u3044\u3046\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u884c\u3046\u30db\u30b9\u30c8\u540d\u3068\u30a8\u30f3\u30b8\u30f3\u306e\u6570\uff08\u4e26\u5217\u5b9f\u884c\u6570\uff09\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0eengines\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ad\u30fc\u306b\u30db\u30b9\u30c8\u540d\uff0c\u5024\u306b\u30a8\u30f3\u30b8\u30f3\u6570\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\uff0emezcal[[01-12]].cl.ecei.tohoku.ac.jp\u3067\u54044\u500b\u306e\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3\u3092\u8d77\u52d5\u3057\uff0c\u6700\u5927\u306748\u4e26\u5217\u51e6\u7406\u3092\u884c\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u4f8b\u3092\u793a\u3057\u307e\u3059\uff0e\n\nipcluster_config.py\n# The class for launching a set of Engines. Change this value to use various\n# batch systems to launch your engines, such as PBS,SGE,MPI,etc. Each launcher\n# class has its own set of configuration options, for making sure it will work\n# in your environment.\n#\n# You can also write your own launcher, and specify it's absolute import path,\n# as in 'mymodule.launcher.FTLEnginesLauncher`.\n#\n# IPython's bundled examples include:\n#\n#     Local : start engines locally as subprocesses [default]\n#     MPI : use mpiexec to launch engines in an MPI environment\n#     PBS : use PBS (qsub) to submit engines to a batch queue\n#     SGE : use SGE (qsub) to submit engines to a batch queue\n#     LSF : use LSF (bsub) to submit engines to a batch queue\n#     SSH : use SSH to start the controller\n#                 Note that SSH does *not* move the connection files\n#                 around, so you will likely have to do this manually\n#                 unless the machines are on a shared file system.\n#     HTCondor : use HTCondor to submit engines to a batch queue\n#     WindowsHPC : use Windows HPC\n#\n# If you are using one of IPython's builtin launchers, you can specify just the\n# prefix, e.g:\n#\n#     c.IPClusterEngines.engine_launcher_class = 'SSH'\n#\n# or:\n#\n#     ipcluster start --engines=MPI\nc.IPClusterEngines.engine_launcher_class = 'SSH'\n\nc.SSHEngineSetLauncher.engines = {\n    'mezcal01.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal02.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal03.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal04.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal05.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal06.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal07.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal08.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal09.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal10.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal11.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal12.cl.ecei.tohoku.ac.jp': 4,\n}\n\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u3084IPython notebook\u3092\u5b9f\u884c\u3059\u308b\u30b5\u30fc\u30d0\u3068\uff0c\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30b5\u30fc\u30d0\u304c\u7570\u306a\u308b\u5834\u5408\u306f\uff0c\u4ed6\u306e\u30b5\u30fc\u30d0\u304b\u3089\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u30b5\u30fc\u30d0\u7fa4\u304c\u4fe1\u983c\u3067\u304d\u308bLAN\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\uff0c\u3059\u3079\u3066\u306e\u30db\u30b9\u30c8\u304b\u3089\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\uff0eipcontroller\u306e\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\"--ip='*'\"\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u306e\u307f\u63a5\u7d9a\u53ef\uff09\uff0e\n\nipcluster_config.py\n#------------------------------------------------------------------------------\n# LocalControllerLauncher configuration\n#------------------------------------------------------------------------------\n\n# Launch a controller as a regular external process.\n\n# command-line args to pass to ipcontroller\nc.LocalControllerLauncher.controller_args = [\"--ip='*'\", '--log-to-file', '--log-level=20']\n\n\n\u4eca\u56de\u306f\uff0c\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u306e\u30db\u30b9\u30c8\u3067home\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5171\u6709\u3055\u308c\u3066\u3044\u308b\u306e\u3067\uff0c\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff0e\n\nipcluster_config.py\n#------------------------------------------------------------------------------\n# SSHLauncher configuration\n#------------------------------------------------------------------------------\n\n# A minimal launcher for ssh.\n#\n# To be useful this will probably have to be extended to use the ``sshx`` idea\n# for environment variables.  There could be other things this needs as well.\n\n# hostname on which to launch the program\n# c.SSHLauncher.hostname = ''\n\n# command for starting ssh\n# c.SSHLauncher.ssh_cmd = ['ssh']\n\n# user@hostname location for ssh in one setting\n# c.SSHLauncher.location = ''\n\n# List of (local, remote) files to send before starting\nc.SSHLauncher.to_send = []\n\n# command for sending files\n# c.SSHLauncher.scp_cmd = ['scp']\n\n# List of (remote, local) files to fetch after starting\nc.SSHLauncher.to_fetch = []\n\n# args to pass to ssh\n# c.SSHLauncher.ssh_args = ['-tt']\n\n# username for ssh\n# c.SSHLauncher.user = ''\n\n\n\u3053\u306e\u8a2d\u5b9a\u306e\u610f\u5473\u3092\u7406\u89e3\u3059\u308b\u306b\u306f\uff0cIPython cluster\u304c\u958b\u59cb\u3055\u308c\u308b\u307e\u3067\u306e\u6d41\u308c\u3092\u7406\u89e3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0eIPython cluster\u304c\u8d77\u52d5\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3092\u793a\u3057\u307e\u3059\uff0e\n1. \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u8d77\u52d5\u3059\u308b\n2. \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u4f5c\u6210\u3057\u305fipcontroller-engine.json\u3092\u30a8\u30f3\u30b8\u30f3\u306e\u30db\u30b9\u30c8\u306bscp\u3067\u8ee2\u9001\u3059\u308b\n3. \u5404\u30a8\u30f3\u30b8\u30f3\u3092\u8d77\u52d5\u3059\u308b\n\u3053\u3053\u3067\uff0c\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5171\u6709\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\uff0c\u624b\u98062\u304c\u4e0d\u8981\u306b\u306a\u308b\u308f\u3051\u3067\u3059\uff0e\n\n\u30af\u30e9\u30b9\u30bf\u306e\u958b\u59cb\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u52d5\u304b\u3057\u305f\u3044\u30db\u30b9\u30c8\u4e0a\u3067ipcluster\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\uff0c\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u3092\u307e\u3068\u3081\u3066\u8d77\u52d5\u3057\u307e\u3059\uff0e\u3053\u306e\u3068\u304d\uff0c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u3092--profile\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u307e\u3059\uff0e\n$ ipcluster start --profile=mezcal\n2014-12-11 14:15:49.891 [IPClusterStart] Using existing profile dir: u'/home/okazaki/.ipython/profile_mezcal'\n2014-12-11 14:15:50.023 [IPClusterStart] Starting ipcluster with [daemon=False]\n2014-12-11 14:15:50.025 [IPClusterStart] Creating pid file: /home/okazaki/.ipython/profile_mezcal/pid/ipcluster.pid\n2014-12-11 14:15:50.025 [IPClusterStart] Starting Controller with LocalControllerLauncher\n2014-12-11 14:15:51.024 [IPClusterStart] Starting 48 Engines with SSH\n2014-12-11 14:16:25.117 [IPClusterStart] Engines appear to have started successfully\n\n\"Engines appear to have started successfully\"\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\uff0e\"Starting 48 Engines with SSH\"\u3068\u3044\u3046\u8868\u793a\u304b\u3089\uff0c12\u00d74=4812\u00d74=4812 \\times 4 = 48\u500b\u306e\u30a8\u30f3\u30b8\u30f3\u3092\u59cb\u52d5\u3057\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\n\n\u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\nIPython.parallel\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\uff0e\nIn [1]: from IPython.parallel import Client\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306eClient\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0eprofile\u5f15\u6570\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0e\nIn [2]: rc = Client(profile='mezcal')\n\nClient\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u63a5\u7d9a\u3057\u3066\u3044\u308b\u30a8\u30f3\u30b8\u30f3\u306eID\u3092\u78ba\u8a8d\u3059\u308b\u3068\uff0c48\u53f0\u306e\u30a8\u30f3\u30b8\u30f3\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\nIn [3]: rc.ids\nOut[3]:\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,\n 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47]\n\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u306f\u30d0\u30ab\u30d1\u30e9\u3068\u306f\u95a2\u4fc2\u304c\u3042\u308a\u307e\u305b\u3093\u304c\uff0cIPython cluster\u306e\u4e00\u822c\u7684\u306a\u5229\u7528\u65b9\u6cd5\u3068\u3057\u3066\u89e3\u8aac\u3057\u307e\u3059\uff0e\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3092\u4ecb\u3055\u305a\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u3067\u76f4\u63a5\u7684\u306b\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fDirectView\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u7528\u3044\u307e\u3059\uff0e\nIn [4]: dview = rc[:]\n\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306fx2x2x^2\u3092x\u2208{0,1,...,49}x\u2208{0,1,...,49}x \\in \\{0, 1, ..., 49\\}\u306b\u5bfe\u3057\u3066\uff08\u4e26\u5217\u5316\u306a\u3057\u3067\uff09\u8a08\u7b97\u3057\u307e\u3059\uff0e\nIn [5]: serial_result =  map(lambda x: x**2, range(50))\n\n\u3053\u306e\u8a08\u7b97\u3092\u5404\u8981\u7d20x\u2208{0,1,...,49}x\u2208{0,1,...,49}x \\in \\{0, 1, ..., 49\\}\u3054\u3068\u306b\u4e26\u5217\u5316\u3057\u3066\u307f\u307e\u3059\uff0e\nIn [6]: parallel_result = dview.map_sync(lambda x: x**2, range(50))\n\nparallel_result\u306b\u306f\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u304c\u96c6\u7d04\u30fb\u683c\u7d0d\u3055\u308c\u307e\u3059\uff0e\nIn [7]: parallel_result\nOut[7]:\n[0,\n 1,\n 4,\n 9,\n ...\n 2401]\n\n\u5f53\u7136\u306e\u3053\u3068\u306a\u304c\u3089\uff0c\u4e26\u5217\u5316\u306e\u6709\u7121\u306b\u95a2\u4fc2\u306a\u304f\uff0c\u8a08\u7b97\u7d50\u679c\u306f\u540c\u3058\u3067\u3059\uff0e\nIn [8]: serial_result == parallel_result\nOut[8]: True\n\nremote\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u4f7f\u3048\u3070\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u3055\u308c\u308b\u95a2\u6570\uff08remote function\uff09\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\uff0e\u4ee5\u4e0b\u306egethostname\u95a2\u6570\u306f\uff0c\u30db\u30b9\u30c8\u540d\u3092socket.getfqdn()\u3067\u53d6\u5f97\u3057\u3066\u8fd4\u3059\u95a2\u6570\u3067\u3059\u304c\uff0c\u95a2\u6570\u5185\u3067socket\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3082\uff0c\u30a8\u30f3\u30b8\u30f3\u4e0a\u306eIPython\u30d7\u30ed\u30bb\u30b9\u3067\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u3053\u3068\u306b\u306a\u3089\u306a\u3044\u305f\u3081\uff0c\u95a2\u6570\u5185\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u751f\u3058\u307e\u3059\uff0e\nIn [9]: @dview.remote(block=True)\n   ...: def gethostname():\n   ...:     import socket\n   ...:     return socket.getfqdn()\n   ...:\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067gethostname\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u306e\u30db\u30b9\u30c8\u540d\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\uff0e\u9806\u756a\u306f\u30d0\u30e9\u30d0\u30e9\u3067\u3059\u304c\uff0cmezcal01\u304b\u3089mezcal12\u307e\u3067\u306e\u30db\u30b9\u30c8\u3067\uff0c\u54044\u3064\u306e\u30a8\u30f3\u30b8\u30f3\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\nIn [10]: gethostname()\nOut[10]: \n['mezcal06.cl.ecei.tohoku.ac.jp',\n 'mezcal06.cl.ecei.tohoku.ac.jp',\n 'mezcal06.cl.ecei.tohoku.ac.jp',\n 'mezcal06.cl.ecei.tohoku.ac.jp',\n 'mezcal09.cl.ecei.tohoku.ac.jp',\n 'mezcal09.cl.ecei.tohoku.ac.jp',\n 'mezcal09.cl.ecei.tohoku.ac.jp',\n 'mezcal09.cl.ecei.tohoku.ac.jp',\n 'mezcal04.cl.ecei.tohoku.ac.jp',\n 'mezcal04.cl.ecei.tohoku.ac.jp',\n 'mezcal04.cl.ecei.tohoku.ac.jp',\n 'mezcal04.cl.ecei.tohoku.ac.jp',\n ...\n 'mezcal01.cl.ecei.tohoku.ac.jp',\n 'mezcal03.cl.ecei.tohoku.ac.jp',\n 'mezcal03.cl.ecei.tohoku.ac.jp',\n 'mezcal03.cl.ecei.tohoku.ac.jp',\n 'mezcal03.cl.ecei.tohoku.ac.jp']\n\n\u4ed6\u306b\u3082\uff0c\u4e26\u5217\u306b\u5b9f\u884c\u3059\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308bparallel\u30c7\u30b3\u30ec\u30fc\u30bf\u3082\u3042\u308a\u307e\u3059\uff0e\u8a73\u3057\u304f\u306f\uff0cIPython's Direct interface\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\n\n\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3092\u4ecb\u3057\u305f\u5b9f\u884c\nLoadBalancedView\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\uff0c\u52d5\u7684\u306a\u8ca0\u8377\u5206\u6563\u3092\u7528\u3044\u3066\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u307e\u3059\uff0e\u500b\u5225\u306e\u30a8\u30f3\u30b8\u30f3\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u306a\u304f\u306a\u308a\u307e\u3059\u304c\uff0cmultiprocessing.Pool\u306e\u30b8\u30e7\u30d6\u30fb\u30ad\u30e5\u30fc\u306e\u3088\u3046\u306b\uff0c\u30af\u30e9\u30b9\u30bf\u306e\u30a8\u30f3\u30b8\u30f3\u3067\u30b8\u30e7\u30d6\u30fb\u30ad\u30e5\u30fc\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\uff0e\n\u5358\u7d14\u306a\u4f8b\u3068\u3057\u3066\uff0csleep 10\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5404\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff0e\u5b9f\u884c\u3057\u305f\u3044\u30b8\u30e7\u30d6\u3092\u683c\u7d0d\u3057\u305f\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0e\nIn [11]: jobs = [dict(cmd='sleep 10') for i in range(100)]\n\n\u3053\u306e\u30ea\u30b9\u30c8\u306e\u5404\u8981\u7d20\u306f\u8f9e\u66f8\u578b\u3067\uff0ccmd\u30ad\u30fc\u306e\u5024\u306b\u5b9f\u884c\u3057\u305f\u3044\u30b3\u30de\u30f3\u30c9\u3092\u683c\u7d0d\u3057\u307e\u3059\uff0e\u4eca\u56de\u306f\u3059\u3079\u3066\u306e\u30b8\u30e7\u30d6\u3067sleep 10\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u304c\uff0c\u5b9f\u969b\u306b\u30d0\u30ab\u30d1\u30e9\u3092\u884c\u3046\u3068\u304d\u306f\uff0c\u5165\u529b\u30c7\u30fc\u30bf\u306b\u5fdc\u3058\u3066\u30b3\u30de\u30f3\u30c9\u306e\u5185\u5bb9\u304c\u5909\u308f\u308b\u306f\u305a\u3067\u3059\uff0e\u5148\u982d\u306e5\u500b\u306e\u30b8\u30e7\u30d6\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\uff0e\nIn [12]: jobs[:5]\nOut[12]:\n[{'cmd': 'sleep 10'},\n {'cmd': 'sleep 10'},\n {'cmd': 'sleep 10'},\n {'cmd': 'sleep 10'},\n {'cmd': 'sleep 10'}]\n\n\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u8868\u73fe\u3055\u308c\u305f\u30b8\u30e7\u30d6\uff08\u30b3\u30de\u30f3\u30c9\uff09\u3092\u5b9f\u884c\u3059\u308b\u95a2\u6570runjob\u3092\u5b9f\u88c5\u3057\u307e\u3059\uff0e\u53d7\u3051\u53d6\u3063\u305f\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306ecmd\u30ad\u30fc\u306e\u5024\u3092\u30b7\u30a7\u30eb\u4e0a\u3067\u5b9f\u884c\u3057\uff0c\u305d\u306e\u623b\u308a\u5024\u3092\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u683c\u7d0d\u3057\u3066\u8fd4\u3057\u307e\u3059\uff0e\nIn [13]: def runjob(job):\n   ....:     import subprocess\n   ....:     try:\n   ....:         returncode = subprocess.call(job['cmd'], shell=True)\n   ....:         return dict(code=returncode)\n   ....:     except OSError, e:\n   ....:         return dict(error=str(e))\n   ....:\n\n\u3053\u306erunjob\u95a2\u6570\u3092\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u3067\u9806\u3005\u306b\u5b9f\u884c\u3059\u308b\u305f\u3081\uff0c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089LoadBalancedView\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\uff0e\nIn [14]: lview = rc.load_balanced_view()\n\n\u305d\u3057\u3066\uff0cjobs\u30ea\u30b9\u30c8\u306e\u5404\u8981\u7d20\u306b\u5bfe\u3057\u3066runjob\u95a2\u6570\u3092\u975e\u540c\u671f\u3067\u5b9f\u884c\u3057\u307e\u3059\uff0e\nIn [15]: ar = lview.map_async(runjob, jobs)\n\n\u3053\u306e\u30b3\u30fc\u30c9\u306e\u5b9f\u884c\u306f\u30d6\u30ed\u30c3\u30af\u3055\u308c\u305a\uff0c\u76f4\u3061\u306bAsyncResult\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u3055\u308c\u307e\u3059\uff0e\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3084\u9032\u6357\u72b6\u6cc1\u306f\uff0c\u3053\u306eAsyncResult\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4ecb\u3057\u3066\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\u4f8b\u3048\u3070\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u72b6\u6cc1\u3092\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b7\u30a7\u30eb\u4e0a\u306b\u8868\u793a\u3057\u3066\u307f\u307e\u3059\uff08IPython notebook\u4e0a\u3067\u3082\u5229\u7528\u3067\u304d\u307e\u3059\uff09\uff0e\nIn [16]: ar.wait_interactive()\n  48/100 tasks finished after   15 s\n\n\u3053\u306ewait_interactive\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\uff0c1\u79d2\u6bce\u306b\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u72b6\u6cc1\u304c\u30b7\u30a7\u30eb\u4e0a\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff0e\u4e0a\u306e\u8868\u793a\u306f\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u958b\u59cb\u304b\u308915\u79d2\u7d4c\u904e\u3057\u305f\u6642\u70b9\u306e\u3082\u306e\u3067\uff0c100\u500b\u4e2d48\u500b\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3057\u305f\u3053\u3068\u3092\u8868\u3057\u3066\u3044\u307e\u3059\uff0e1\u3064\u306e\u30b8\u30e7\u30d6\u306e\u6240\u8981\u6642\u9593\u304c10\u79d2\u3067\uff0c48\u500b\u306e\u30a8\u30f3\u30b8\u30f3\u3092\u540c\u6642\u306b\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\uff0c\u5b9f\u884c\u958b\u59cb\u304b\u308910\u79d2\u306748\u500b\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3057\uff0c10\u79d2\u304b\u308920\u79d2\u306e\u9593\u3067\u3055\u3089\u306b48\u500b\u306e\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3059\u3079\u3066\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u3068\uff0c\u4ee5\u4e0b\u306e\u69d8\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff0e\nIn [16]: ar.wait_interactive()\n 100/100 tasks finished after   30 s\ndone\n\n\u5404\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306f\u975e\u540c\u671f\u3067\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u304c\uff0cwait_interactive\u95a2\u6570\u306f\u3059\u3079\u3066\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u7d42\u4e86\u3057\u307e\u305b\u3093\uff0e\u30b8\u30e7\u30d6\u306e\u9032\u6357\u72b6\u6cc1\u306e\u8868\u793a\u3092\u6b62\u3081\u305f\u3044\u3068\u304d\u306f\uff0c[Ctrl]+[c]\uff08IPython notebook\u306a\u3089\u3070\"Kernel\"-\"Interrupt\"\uff09\u3067\u4e2d\u65ad\u3059\u308c\u3070OK\u3067\u3059\uff0e\u8868\u793a\u3092\u4e2d\u65ad\u3057\u3066\u3082\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306f\u7d99\u7d9a\u3055\u308c\u307e\u3059\uff0e\n\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u306f\uff0cAsyncResult\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\u5148\u982d\u304b\u30895\u500b\u306e\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\uff0e\nIn [17]: ar[:5]\nOut[17]: [{'code': 0}, {'code': 0}, {'code': 0}, {'code': 0}, {'code': 0}]\n\ncode\u304c0\u3068\u306f\uff0csleep\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u30b7\u30a7\u30eb\uff08/bin/sh\uff09\u306e\u8fd4\u308a\u5024\u304c0\u3067\u3042\u3063\u305f\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\uff0e\n\nBakapara\u30e2\u30b8\u30e5\u30fc\u30eb\n\u30b7\u30a7\u30eb\u4e0a\u306e\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308b\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u3092IPython cluster\u4e0a\u3067\u30d0\u30ab\u30d1\u30e9\u5b9f\u884c\u3059\u308b\u51e6\u7406\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3057\u305f\u3082\u306e\u304c\uff0cBakapara\u3067\u3059\uff0ePython\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b7\u30a7\u30eb\u3084IPython notebook\u304b\u3089\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\uff0e\u307e\u305f\uff0c\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u5358\u4f53\u3067\u52d5\u304b\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\uff0e\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408\u306f\uff0cbakapara.py\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\uff0cPYTHONPATH\u306e\u901a\u3063\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\uff0cPATH\u306e\u901a\u3063\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\uff0e\n\n\u30b8\u30e7\u30d6\u306e\u4ed5\u69d8\nBakapara\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\uff0c\u30b8\u30e7\u30d6\u306e\u30ea\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308a\uff0c\u30af\u30e9\u30b9\u30bf\u306e\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u3057\u307e\u3059\uff0e\u5404\u30b8\u30e7\u30d6\u306f\u4ee5\u4e0b\u306e\u4ed5\u69d8\u3092\u6e80\u305f\u3059\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308c\u3070\uff0c\u3069\u306e\u3088\u3046\u306a\u5f62\u5f0f\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff0e\n\n\n\n\u30ad\u30fc\n\u5024\n\u4f8b\n\n\n\n\ncmd\n\u30a8\u30f3\u30b8\u30f3\u4e0a\u3067\u5b9f\u884c\u3057\u305f\u3044\u30b3\u30de\u30f3\u30c9\uff0e\u5b9f\u969b\u306b\u306f\u30b7\u30a7\u30eb\u3092\u4ecb\u3057\u3066\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u306e\u3067\uff0c\u30d1\u30a4\u30d7\u3084\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3082\u5229\u7528\u53ef\u80fd\uff0e\nwc -l /work/001.txt\n\n\ncd\n\uff08\u7701\u7565\u53ef\uff09\u30a8\u30f3\u30b8\u30f3\u304c\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff0e\u3053\u306e\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\uff0c\u30a8\u30f3\u30b8\u30f3\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5909\u66f4\u3057\u307e\u305b\u3093\uff0e\u306a\u304a\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\uff0cBakapara\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u69cb\u7bc9\u6642\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u521d\u671f\u5316\u3055\u308c\u307e\u3059\uff0e\n/home/okazaki/projects/bakapara\n\n\nout\n\uff08\u7701\u7565\u53ef\uff09\u3053\u306e\u5024\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\uff0c\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306e\u6a19\u6e96\u51fa\u529b\u304c\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\uff0e\u3053\u306e\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\uff0c\u6a19\u6e96\u51fa\u529b\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u307e\u305b\u3093\uff0e\n/work/001.txt.out\n\n\nerr\n\uff08\u7701\u7565\u53ef\uff09\u3053\u306e\u5024\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\uff0c\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306e\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u304c\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\uff0e\u3053\u306e\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\uff0c\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u307e\u305b\u3093\uff0e\n/work/001.txt.err\n\n\nhost\n\uff08\u7701\u7565\u53ef\uff09\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u30db\u30b9\u30c8\uff08\u30a8\u30f3\u30b8\u30f3\uff09\u306e\u30ea\u30b9\u30c8\uff0e\u3053\u306e\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\uff0c\u3053\u306e\u30b8\u30e7\u30d6\u306f\u3059\u3079\u3066\u306e\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u53ef\u80fd\u3067\u3042\u308b\u3068\u307f\u306a\u3057\u307e\u3059\uff0e\n['mezcal03.cl.ecei.tohoku.ac.jp',]\n\n\n\nhost\u306f\uff0c\u7279\u5b9a\u306e\u30b8\u30e7\u30d6\u3092\u7279\u5b9a\u306e\u30db\u30b9\u30c8\u3067\u5b9f\u884c\u3057\u305f\u3044\u3068\u304d\u306b\u4f7f\u3044\u307e\u3059\uff0e\u4f8b\u3048\u3070\uff0c\u51e6\u7406\u3057\u305f\u3044\u30c7\u30fc\u30bf\u3092\u5404\u30b5\u30fc\u30d0\u306e\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30b9\u30af\u306b\u5206\u6563\u914d\u7f6e\u3057\u305f\u5834\u5408\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30db\u30b9\u30c8\u3092host\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\uff0e\u307e\u305f\uff0c\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0GFarm\u3067\u306f\uff0c\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u5404\u30d5\u30a1\u30a4\u30eb\u304c\u3069\u306e\u30db\u30b9\u30c8\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u304b\u8abf\u3079\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u306e\u3067\uff0c\u51e6\u7406\u30c7\u30fc\u30bf\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30db\u30b9\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\uff0cHDFS+Hadoop\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u5c40\u6240\u6027\u3092\u8003\u616e\u3057\u305f\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\uff0e\n\u5404\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u306f\uff0c\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eresult\u30ad\u30fc\u306e\u5024\u3068\u3057\u3066\u683c\u7d0d\uff08\u4e0a\u66f8\u304d\uff09\u3055\u308c\u307e\u3059\uff0eresult\u306e\u5024\u306f\u4ee5\u4e0b\u306e\u4ed5\u69d8\u306e\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\uff0e\n\n\n\n\u30ad\u30fc\n\u5024\n\u4f8b\n\n\n\n\ncode\n\u7d42\u4e86\u30b3\u30fc\u30c9\n0\n\n\nsubmitted\n\u30b8\u30e7\u30d6\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u767a\u884c\u3055\u308c\u305f\u65e5\u6642\n'2014-12-13T01:17:05.593718'\n\n\nstarted\n\u30a8\u30f3\u30b8\u30f3\u4e0a\u3067\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u304c\u958b\u59cb\u3055\u308c\u305f\u65e5\u6642\n'2014-12-13T01:17:04.559970'\n\n\ncompleted\n\u30a8\u30f3\u30b8\u30f3\u4e0a\u3067\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3057\u305f\u65e5\u6642\n'2014-12-13T01:17:14.566251'\n\n\nreceived\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3092\u53d7\u3051\u53d6\u3063\u305f\u65e5\u6642\n'2014-12-13T01:17:15.614301'\n\n\nelapsed\n\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306b\u8981\u3057\u305f\u6642\u9593\uff08completed-started\uff09\n'0:00:10.006281'\n\n\nengine_id\n\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u305f\u30a8\u30f3\u30b8\u30f3\u306eID\uff08\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\uff09\n3\n\n\nhost\n\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u305f\u30a8\u30f3\u30b8\u30f3\u306e\u30db\u30b9\u30c8\u540d\n'mezcal06.cl.ecei.tohoku.ac.jp'\n\n\npyerr\nPython\u306e\u4f8b\u5916\uff08\u3042\u308c\u3070\uff09\uff0e\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u30db\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3057\u305f\u6642\u306bUnmetDependency\u3068\u3044\u3046\u4f8b\u5916\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\u3053\u308c\u306f\u6b63\u5e38\u3067\u3059\uff0e\nNone\n\n\npyout\nPython\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u306e\u51fa\u529b\uff08\u3042\u308c\u3070\uff09\nNone\n\n\nstatus\n\n'ok'\u3082\u3057\u304f\u306f'error'\n\n'ok'\n\n\nmsg_id\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30a8\u30f3\u30b8\u30f3\u304c\u3084\u308a\u3068\u308a\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306eUUID\nu'48fbc58b-ef73-4815-9f32-1932c01421ad'\n\n\nerror\n\uff08\u81f4\u547d\u7684\u306a\u30a8\u30e9\u30fc\u767a\u751f\u6642\u306e\u307f\u5b58\u5728\uff09\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\n''\n\n\n\nstatus\u304c'ok'\u3067\u3082\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306b\u5931\u6557\u3057\u3066\u3044\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u306e\u3067\uff0c\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\uff0e\u4f8b\u3048\u3070\uff0ccmd\u306e\u30b3\u30de\u30f3\u30c9\u3092\u66f8\u304d\u9593\u9055\u3048\u3066\u5b9f\u884c\u51fa\u6765\u306a\u304b\u3063\u305f\u5834\u5408\u3067\u3082\uff0cstatus\u306f'ok'\u306b\u306a\u308a\u307e\u3059\u304c\uff0c\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306b\u306f'/bin/bash: 1: hoge: not found\\n'\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6b8b\u308a\u307e\u3059\uff0e\u306a\u304a\uff0c\u30b8\u30e7\u30d6\u306e\u30b3\u30de\u30f3\u30c9\u306f/bin/bash -o pipefail\u7d4c\u7531\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\uff0e\u3057\u305f\u304c\u3063\u3066\uff0c\u30d1\u30a4\u30d7\u3067\u7d50\u3070\u308c\u305f\u30b3\u30de\u30f3\u30c9\u306e\u3044\u305a\u308c\u304b\u304c0\u4ee5\u5916\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u3092\u8fd4\u3057\u305f\u5834\u5408\u306f\uff0c\u305d\u306e\u623b\u308a\u5024\u304ccode\u306b\u683c\u7d0d\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3057\u305f\u304c\u3063\u3066\uff0c\u623b\u308a\u5024code\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u306f\u91cd\u8981\u3067\u3059\uff0e\n\nPython\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b7\u30a7\u30eb\u4e0a\u3067\u306e\u5229\u7528\n\u307e\u305a\uff0cbakapara\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\uff0cBakapara\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0eBakapara\u30af\u30e9\u30b9\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u4ed5\u69d8\u306fIPython.parallel.Client\u3068\u540c\u4e00\u3067\u3059\uff0e\u901a\u5e38\u306f\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\uff0e\nIn [1]: from bakapara import Bakapara\n\nIn [2]: bp = Bakapara(profile='mezcal')\n\n\n\u5b9f\u884c\u3057\u305f\u3044\u30b8\u30e7\u30d6\u306e\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0e\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306f\uff0csleep 10\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092100\u56de\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\uff0e\nIn [3]: jobs = [dict(cmd='sleep 10') for i in range(100)]\n\n\n\u8aac\u660e\u306e\u305f\u3081\uff0c\u5148\u982d\u306e\u30b8\u30e7\u30d6\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\uff0e\nIn [4]: jobs[0]\nOut[4]: {'cmd': 'sleep 10'}\n\n\u30b8\u30e7\u30d6\u3092\u958b\u59cb\u3059\u308b\u306b\u306frun\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u3044\u307e\u3059\uff0e\u8fd4\u308a\u5024True\u306f\u30b8\u30e7\u30d6\u306e\u767b\u9332\u306b\u6210\u529f\u3057\u305f\u3053\u3068\u3092\u8868\u3057\u307e\u3059\uff0e\nIn [5]: bp.run(jobs)\nOut[5]: True\n\n\u30b8\u30e7\u30d6\u306e\u9032\u6357\u72b6\u6cc1\u306fstatus\u30e1\u30bd\u30c3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\u30b8\u30e7\u30d6\u306e\u9032\u6357\u72b6\u6cc1\u304c\uff11\u79d2\u304a\u304d\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff0e\nIn [6]: bp.status()\n48/100 tasks finished after 0:00:12.554905\n\n\u3053\u306estatus\u30e1\u30bd\u30c3\u30c9\u306f\u3059\u3079\u3066\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u5b9f\u884c\u304c\u7d42\u4e86\u3057\u307e\u305b\u3093\uff0e\u4ed6\u306e\u4f5c\u696d\u3092\u3057\u305f\u304f\u306a\u3063\u305f\u3089\uff0c[Ctrl]+[c]\u30ad\u30fc\uff08IPython notebook\u3067\u306f\u201dKernel\"-\"Interrupt\"\uff09\u3092\u62bc\u3057\u3066\u4e2d\u65ad\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\n\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3059\u308b\u3068\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff0e\nIn [7]: bp.status()\n100/100 tasks finished after 0:00:30.137117\n100 tasks completed in 0:00:30.137117\n\n\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u3068\uff0c\u30b8\u30e7\u30d6\u30ea\u30b9\u30c8\uff08Bakapara\u30af\u30e9\u30b9\u306erun\u30e1\u30bd\u30c3\u30c9\u306b\u4e0e\u3048\u305f\u30b8\u30e7\u30d6\u30ea\u30b9\u30c8\uff09\u306b\u7d50\u679c\u304c\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\uff0e\u6b63\u78ba\u306b\u306f\uff0c\u30b8\u30e7\u30d6\u306e\u5b8c\u4e86\u5f8c\u306bstatus\u30e1\u30bd\u30c3\u30c9\u3082\u3057\u304f\u306fwait\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u5b9f\u884c\u7d50\u679c\u304cjobs\u30ea\u30b9\u30c8\u306b\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\uff0e\u5168\u4f53\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3057\u3066\u3044\u306a\u304f\u3066\u3082\uff0cstatus\u30e1\u30bd\u30c3\u30c9\u3082\u3057\u304f\u306fwait\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u305f\u6642\u70b9\u307e\u3067\u306e\u7d50\u679c\u304c\u30b8\u30e7\u30d6\u30ea\u30b9\u30c8\u306b\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\uff0e\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u3082\uff0cstatus\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\uff0c\"xx/xxx tasks finished\"\u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\uff0e\n\u5b9f\u884c\u7d50\u679c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff0e\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u305f\u30db\u30b9\u30c8\u540d\uff0c\u6240\u8981\u6642\u9593\uff0c\u7d42\u4e86\u30b3\u30fc\u30c9\u306a\u3069\u306e\u60c5\u5831\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\uff0e\nIn [8]: jobs[0]\nOut[8]:\n{'cmd': 'sleep 10',\n 'result': {'code': 0,\n  'completed': '2014-12-13T12:26:12.665525',\n  'elapsed': '0:00:10.005647',\n  'engine_id': 11,\n  'host': 'mezcal11.cl.ecei.tohoku.ac.jp',\n  'msg_id': u'72666439-9364-4a37-9dfb-8a04921d9a0c',\n  'pyerr': None,\n  'pyout': None,\n  'received': '2014-12-13T12:24:38.638917',\n  'started': '2014-12-13T12:26:02.659878',\n  'status': u'ok',\n  'submitted': '2014-12-13T12:23:58.320781'}}\n\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u306e\u5229\u7528\n\u4eca\u307e\u3067\u898b\u3066\u304d\u305f\u3088\u3046\u306b\uff0cBakapara\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3046\u306e\u306f\u7c21\u5358\u3067\u3059\uff0e\u305f\u3060\uff0c\u4e2d\u306b\u306fPython\u306f\u5168\u304f\u5206\u304b\u3089\u306a\u3044\u3051\u3069\uff0c\u30d0\u30ab\u30d1\u30e9\u306e\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u884c\u3044\u305f\u3044\u4eba\u3082\u3044\u308b\u304b\u3068\u601d\u3044\u307e\u3059\uff0e\u305d\u3093\u306a\u65b9\u306e\u305f\u3081\u306b\uff0c\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30fb\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3082\u6e96\u5099\u3057\u307e\u3057\u305f\uff0ebakapara.py\u3092\u5358\u4f53\u3067\u5b9f\u884c\u3059\u308b\u3068\uff0c\u30b8\u30e7\u30d6\u306eJSON\u3092\u6a19\u6e96\u5165\u529b\u304b\u3089\u8aad\u307f\u8fbc\u307f\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u306eJSON\u3092\u6a19\u6e96\u51fa\u529b\u306b\u66f8\u304d\u51fa\u3057\u307e\u3059\uff0e\u5165\u529b\u3068\u51fa\u529b\u306eJSON\u306f\uff0c1\u884c1\u30b8\u30e7\u30d6\u3067\uff0c\u5404\u884c\u306b\u30b8\u30e7\u30d6\u306e\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092JSON\u3067\u8a18\u8ff0\u3057\u305f\u5f62\u5f0f\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\uff0e\u5168\u4f53\u306e\u30b8\u30e7\u30d6\u3092\u30ea\u30b9\u30c8\u5f62\u5f0f\u3067\u683c\u7d0d\u3057\u306a\u3044\u306e\u306f\uff0c\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u3068\u76f4\u3061\u306b\u305d\u306e\u5b9f\u884c\u7d50\u679c\u3092\u66f8\u304d\u51fa\u305b\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3067\u3059\uff0e\n\u4f8b\u3048\u3070\uff0csleep 10\u3092100\u4ef6\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u306eJSON\u30d5\u30a1\u30a4\u30eb\u306f\uff0c\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\n$ head -n5 sleep.task.json\n{\"cmd\": \"sleep 10\"}\n{\"cmd\": \"sleep 10\"}\n{\"cmd\": \"sleep 10\"}\n{\"cmd\": \"sleep 10\"}\n{\"cmd\": \"sleep 10\"}\n\n\u3053\u306e\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\uff0c\u305d\u306e\u5b9f\u884c\u7d50\u679c\u3092sleep.result.json\u306b\u66f8\u304d\u51fa\u3059\u306b\u306f\uff0c\u6b21\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\uff0eIPython cluster\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u306f-p\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u307e\u3059\uff0e\n$ python bakapara.py -p mezcal < sleep.task.json > sleep.result.json\n2014-12-21 10:39:49,231 total 100 jobs on 48 engines\n2014-12-21 10:39:59,288 [1/100] returned 0 in 0:00:10.007444 sec on mezcal06.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:39:59,289 [2/100] returned 0 in 0:00:10.005645 sec on mezcal06.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:39:59,289 [3/100] returned 0 in 0:00:10.005994 sec on mezcal06.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:39:59,289 [4/100] returned 0 in 0:00:10.006593 sec on mezcal01.cl.ecei.tohoku.ac.jp: sleep 10\n...\n2014-12-21 10:40:19,282 [97/100] returned 0 in 0:00:10.005299 sec on mezcal08.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:40:19,283 [98/100] returned 0 in 0:00:10.005097 sec on mezcal08.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:40:19,283 [99/100] returned 0 in 0:00:10.005758 sec on mezcal02.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:40:19,283 [100/100] returned 0 in 0:00:10.004995 sec on mezcal02.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:40:19,283 completed\n\n\u6a19\u6e96\u51fa\u529b\u304b\u3089\uff0c\u5b9f\u884c\u3057\u305f\u30b8\u30e7\u30d6\u304c\uff08JSON\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\uff09\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u8fd4\u3063\u3066\u304d\u307e\u3059\uff0eresult\u30ad\u30fc\u306b\u5b9f\u884c\u7d50\u679c\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\uff0e\n$ head -n5 sleep.result.json\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.262566\", \"code\": 0, \"engine_id\": 9, \"started\": \"2014-12-21T10:40:46.649199\", \"completed\": \"2014-12-21T10:40:56.656643\", \"msg_id\": \"22d664c5-793a-44f1-b29d-c74f2aa434c1\", \"submitted\": \"2014-12-21T10:39:49.235879\", \"pyerr\": null, \"host\": \"mezcal06.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.007444\", \"pyout\": null}}\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.262205\", \"code\": 0, \"engine_id\": 11, \"started\": \"2014-12-21T10:40:46.650998\", \"completed\": \"2014-12-21T10:40:56.656643\", \"msg_id\": \"e8eb5db2-ac9b-481b-b0a4-fdb2ef15be62\", \"submitted\": \"2014-12-21T10:39:49.236327\", \"pyerr\": null, \"host\": \"mezcal06.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.005645\", \"pyout\": null}}\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.287773\", \"code\": 0, \"engine_id\": 8, \"started\": \"2014-12-21T10:40:46.679033\", \"completed\": \"2014-12-21T10:40:56.685027\", \"msg_id\": \"8a7e6fe0-482a-4ae0-a2ff-8321849aa8b0\", \"submitted\": \"2014-12-21T10:39:49.244347\", \"pyerr\": null, \"host\": \"mezcal06.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.005994\", \"pyout\": null}}\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.284039\", \"code\": 0, \"engine_id\": 46, \"started\": \"2014-12-21T10:40:46.698136\", \"completed\": \"2014-12-21T10:40:56.704729\", \"msg_id\": \"f03f9b93-4a60-494b-9a21-625cdcac252e\", \"submitted\": \"2014-12-21T10:39:49.242042\", \"pyerr\": null, \"host\": \"mezcal01.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.006593\", \"pyout\": null}}\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.259553\", \"code\": 0, \"engine_id\": 28, \"started\": \"2014-12-21T10:40:46.889807\", \"completed\": \"2014-12-21T10:40:56.895995\", \"msg_id\": \"bc9e7b74-64ba-45f4-ac0e-31b27db5d862\", \"submitted\": \"2014-12-21T10:39:49.234939\", \"pyerr\": null, \"host\": \"mezcal07.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.006188\", \"pyout\": null}}\n\n\n\u30b8\u30e7\u30d6\u306e\u4e2d\u65ad\u306b\u3064\u3044\u3066\n\u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3092\u773a\u3081\u3066\u3044\u308b\u3046\u3061\u306b\uff0c\u30b8\u30e7\u30d6\u306e\u5185\u5bb9\u304c\u9593\u9055\u3063\u3066\u3044\u305f\u3053\u3068\uff0c\u3082\u3057\u304f\u306f\u30b8\u30e7\u30d6\u304c\u66b4\u8d70\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6c17\u3065\u304f\u3053\u3068\u304c\u3042\u308a\u307e\u3059\uff0e\u3053\u306e\u5834\u5408\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0eBakapara\u3067\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b\u65b9\u6cd5\u306f2\u3064\u3042\u308a\u307e\u3059\uff0e\n\n\nabort()\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\uff0e\n\nipcluster\u30d7\u30ed\u30bb\u30b9\u3092\u505c\u6b62\u3057\uff0c\u3059\u3079\u3066\u306e\u30a8\u30f3\u30b8\u30f3\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u5f37\u5236\u7d42\u4e86\u3059\u308b\uff0e\n\n\u65b9\u6cd51\u306e\u5834\u5408\uff0c\u5b9f\u884c\u4e2d\u306e\u30b8\u30e7\u30d6\u306f\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u305a\uff0c\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u306b\u5165\u3063\u3066\u3044\u308b\u30b8\u30e7\u30d6\u306e\u307f\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3057\u305f\u304c\u3063\u3066\uff0c\u975e\u5e38\u306b\u6642\u9593\u306e\u304b\u304b\u308b\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u5834\u5408\u3084\uff0c\u30b8\u30e7\u30d6\u304c\u66b4\u8d70\u3057\u305f\u5834\u5408\u306b\u306f\u4f7f\u3048\u307e\u305b\u3093\uff0e\n\u65b9\u6cd52\u306f\uff0c\u30af\u30e9\u30b9\u30bf\u5b9f\u884c\u74b0\u5883\u306e\u30a8\u30f3\u30b8\u30f3\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u7d42\u4e86\u3059\u308b\u3053\u3068\u3067\uff0c\u5b9f\u884c\u4e2d\u306e\u30b8\u30e7\u30d6\u3082\u5f37\u5236\u7d42\u4e86\u3055\u305b\u308b\u65b9\u6cd5\u3067\u3059\uff0e\u5177\u4f53\u7684\u306b\u306f\uff0cipcluster\u3092\u5b9f\u884c\u3057\u305f\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u3067[Ctrl]+[c]\u30ad\u30fc\u3092\u62bc\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\n^C2014-12-14 17:16:40.729 [IPClusterStart] ERROR | IPython cluster: stopping\n2014-12-14 17:16:40.730 [IPClusterStart] Stopping Engines...\n2014-12-14 17:16:43.734 [IPClusterStart] Removing pid file: /home/okazaki/.ipython/profile_mezcal/pid/ipcluster.pid\n\n\u6b8b\u5ff5\u306a\u304c\u3089\uff0c\u73fe\u30d0\u30fc\u30b7\u30e7\u30f3\u306eLoadBalancedView\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306b\u306f\uff0c\u5b9f\u884c\u4e2d\u306e\u30b8\u30e7\u30d6\u3092\u505c\u6b62\u3059\u308b\u65b9\u6cd5\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u305b\u3093\uff08\u53c2\u8003\u6587\u732e: [IPython-dev] Fwd: interrupt/abort parallel jobs\uff09\uff0e\u7dca\u6025\u306e\u5834\u5408\u306f\u65b9\u6cd52\u306e\u3088\u3046\u306bipcluster\u305d\u306e\u3082\u306e\u3092\u518d\u8d77\u52d5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\n\n\u304a\u308f\u308a\u306b\n\u79c1\u304c\u30af\u30e9\u30b9\u30bf\u74b0\u5883\u3067\u306e\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u59cb\u3081\u305f\u9803\uff082005\u5e74\u9803\uff09\u306fGXP Grid & Cluster Shell\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3057\u305f\uff0eGXP\u306b\u306fmake\u306e\u3088\u3046\u306a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u5b9f\u884c\u3059\u308b\u6a5f\u80fd\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\u79c1\u306f\u3082\u3063\u3071\u3089\u30d0\u30ab\u30d1\u30e9\u306e\u7528\u9014\u3067\u4f7f\u3063\u3066\u3044\u307e\u3057\u305f\uff0e\u4fbf\u5229\u306a\u30c4\u30fc\u30eb\u3067\u3059\u304c\uff0c\u73fe\u5728\u306f\u958b\u767a\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\uff0e\u3053\u306e\u7a0b\u5ea6\u306e\u7528\u9014\u3067\u3042\u308c\u3070\uff0cGNU Parallal\u3067\u3082\u5341\u5206\u3060\u3063\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\uff0e\n2011\u5e74\u9803\uff0cHadoop\u306e\u5229\u7528\u3092\u771f\u5263\u306b\u691c\u8a0e\u3057\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\u5927\u5b66\u306e\u7814\u7a76\u5ba4\u30ec\u30d9\u30eb\u3067Hadoop\u3092\u7ba1\u7406\u30fb\u904b\u7528\u3059\u308b\u306e\u306f\u5927\u5909\u3067\u3057\u305f\uff0e\u307e\u305f\uff0cPython\u3067\u5b9f\u88c5\u3057\u305f\u5c0f\u898f\u6a21\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30d0\u30ab\u30d1\u30e9\u3067\u4e26\u5217\u5316\u3059\u308b\u306b\u306f\uff0cHadoop\u5411\u3051\u306e\u8ffd\u52a0\u4f5c\u696d\u304c\u8981\u308b\u305f\u3081\uff0c\u5b66\u751f\u3055\u3093\u306b\u306f\u30cf\u30fc\u30c9\u30eb\u304c\u9ad8\u3044\u3088\u3046\u306b\u611f\u3058\u307e\u3057\u305f\uff0e\u305f\u3060\uff0c\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\uff08HDFS\uff09\u306f\u975e\u5e38\u306b\u4fbf\u5229\u306b\u611f\u3058\u307e\u3057\u305f\uff0e\u305d\u3053\u3067\uff0c\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3068\u3057\u3066GFarm\u3092\u4f7f\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff0e\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306b\u7f6e\u3044\u305f\u30c7\u30fc\u30bf\u3092\u5c40\u6240\u6027\u3092\u8003\u616e\u3057\u3066\u51e6\u7406\u3059\u308b\u305f\u3081\uff0c\u72ec\u81ea\u306e\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u30b7\u30b9\u30c6\u30e0\u3092Paramiko\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3057\u307e\u3057\u305f\uff0e\u305d\u306e\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u30b7\u30b9\u30c6\u30e0\u306e\u6b8b\u9ab8\u304cgfqsub\u3067\u3059\uff0e\n\u3068\u3053\u308d\u304c\u6700\u8fd1\uff0c\u5b9f\u9a13\u3084\u30c7\u30fc\u30bf\u5206\u6790\u4f5c\u696d\u3092IPython notebook\u4e0a\u3067\u884c\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff0eIPython notebook\u306f\u5927\u5909\u4fbf\u5229\u306a\u306e\u3067\u3059\u304c\uff0c\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3068\u306e\u89aa\u548c\u6027\u306f\u30a4\u30de\u30a4\u30c1\u3067\uff0c\u30d0\u30ab\u30d1\u30e9\u3092\u5b9f\u73fe\u3059\u308bPython\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u63a2\u3057\u307e\u3057\u305f\uff0e\u8abf\u3079\u3066\u307f\u308b\u3068\uff0cIPython cluster\u3067\u5206\u6563\u4e26\u5217\u51e6\u7406\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306e\uff0c\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4ee5\u5916\u306e\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u305f\u3081\uff0c\u81ea\u5206\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u307f\u306a\u304c\u3089Bakapara\u3092\u4f5c\u308a\u307e\u3057\u305f\uff0e\n\u4eca\u56de\u306fSSH\u3092\u4f7f\u3063\u3066\u30d0\u30ab\u30d1\u30e9\u3092\u5b9f\u73fe\u3057\u307e\u3057\u305f\u304c\uff0cIPython cluster\u306fipcluster_config.py\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\uff0cMPI, PBS (qsub) , Windows HPC Server, Amazon EC2\u3092\u7d71\u4e00\u7684\u306b\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u3067\u3059\uff0e\u304a\u305d\u3089\u304f\uff0cBakapara\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3053\u308c\u3089\u306e\u74b0\u5883\u3067\u3082\u305d\u306e\u307e\u307e\u52d5\u4f5c\u3059\u308b\u3068\u601d\u3044\u307e\u3059\uff08\u79c1\u81ea\u8eab\u306f\u30c6\u30b9\u30c8\u3092\u3057\u3066\u304a\u308a\u307e\u305b\u3093\uff09\uff0e\u307e\u305f\uff0cIPython cluster\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u9593\u306e\u30b3\u30fc\u30c9\u30fb\u30c7\u30fc\u30bf\u306e\u3084\u308a\u53d6\u308a\u306a\u3069\uff0c\u304b\u306a\u308a\u9ad8\u5ea6\u306a\u5206\u6563\u4e26\u5217\u51e6\u7406\u304c\u5b9f\u73fe\u3067\u304d\u307e\u3059\uff0e\u3053\u308c\u3089\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3069\u306e\u3088\u3046\u306a\u9762\u767d\u3044\u3053\u3068\u304c\u3067\u304d\u308b\u304b\uff0c\u4eca\u5f8c\u3082\u63a2\u6c42\u3092\u7d9a\u3051\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\n\u5206\u6563\u4e26\u5217\u51e6\u7406\u306e\u57fa\u672c\u304b\u3064\u5f37\u529b\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u3057\u3066\uff0c[Single Program Multiple Data (SPMD)](http://en.wikipedia.org/wiki/SPMD) \u304c\u3042\u308a\u307e\u3059\uff0e\u3053\u308c\u306f\uff0c\u8907\u6570\u306e\u30d7\u30ed\u30bb\u30c3\u30b5\u304c\u540c\u4e00\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\uff0c\u305d\u306e\u969b\u306b\u5404\u30d7\u30ed\u30bb\u30c3\u30b5\u306f\u5225\u3005\u306e\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\uff0c\u3068\u3044\u3046\u30e2\u30c7\u30eb\u3067\u3059\uff0e\u5927\u898f\u6a21\u306a\u30c7\u30fc\u30bf\u3092\u72ec\u7acb\u3067\u51e6\u7406\u3067\u304d\u308b\u5358\u4f4d\u306b\u5206\u5272\u3057\uff0c\u5c0f\u5206\u3051\u306e\u30c7\u30fc\u30bf\u3092\u8907\u6570\u306e\u30d7\u30ed\u30bb\u30c3\u30b5\u3067\u4e26\u5217\u306b\u51e6\u7406\u3059\u308b\u3053\u3068\u3067\uff0c\u30c7\u30fc\u30bf\u5168\u4f53\u306e\u51e6\u7406\u6642\u9593\u3092\u5927\u5e45\u306b\u77ed\u7e2e\u3067\u304d\u307e\u3059\uff0e\n\n\u4f8b\u3048\u3070\uff0c`a01.txt`, `a02.txt`, `a03.txt`, `a04.txt`\u3092\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066`job`\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\uff0c\u5b9f\u884c\u7d50\u679c\uff08\u51fa\u529b\uff09\u3092\u305d\u308c\u305e\u308c\uff0c`b01.txt`, `b02.txt`, `b03txt`, `b04.txt`\u306b\u683c\u7d0d\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3059\uff0e\u6b21\u306e\u30b3\u30fc\u30c9\u306f\uff0c\u3053\u306e\u51e6\u7406\u3092bash\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\uff0e\n\n```bash\n#!/bin/bash\nfor src in $@\ndo\n   job < $src > ${src/a/b}\ndone\n```\n\n\u3053\u306efor\u30eb\u30fc\u30d7\u5185\u306e\u51e6\u7406\u5185\u5bb9\u306f\u4e92\u3044\u306b\u72ec\u7acb\u3067\u3059\u306e\u3067\uff0c\u5bb9\u6613\u306b\u4e26\u5217\u5316\u3067\u304d\u307e\u3059\u3057\uff0c\u5168\u4f53\u306b\u8981\u3059\u308b\u51e6\u7406\u6642\u9593\u3092\u77ed\u7e2e\u3067\u304d\u307e\u3059\uff0e\n\n![bakapara.png](https://qiita-image-store.s3.amazonaws.com/0/62338/3ff37384-378f-da4c-2fbf-ae4653eb2130.png)\n\n\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u3084\u6a5f\u68b0\u5b66\u7fd2\u3067\u306f\uff0c\u5f62\u614b\u7d20\u89e3\u6790\u3084\u7d20\u6027\u62bd\u51fa\u306a\u3069\uff0c\u30c7\u30fc\u30bf\u5206\u5272\u306b\u3088\u308b\u4e26\u5217\u5316\u304c\u5bb9\u6613\u306a\u51e6\u7406\u304c\u6ca2\u5c71\u3042\u308a\u307e\u3059\uff0e\u3053\u306e\u3088\u3046\u306a\uff08\u5206\u6563\uff09\u4e26\u5217\u51e6\u7406\u306e\u3053\u3068\u3092\uff08\u65e5\u672c\u3067\u306f\uff09**\u30d0\u30ab\u30d1\u30e9**\u3068\u547c\u3076\u3088\u3046\u3067\u3059\uff0e\u3053\u306e\u8a18\u4e8b\u3067\u306f\uff0c\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306b\u3088\u308b\u30d0\u30ab\u30d1\u30e9\u3092[IPython cluster](http://ipython.org/ipython-doc/dev/parallel/index.html)\u3067\u5b9f\u73fe\u3059\u308b\u65b9\u6cd5\uff0c\u30d0\u30ab\u30d1\u30e9\u306b\u7279\u5316\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea[Bakapara](https://github.com/chokkan/bakapara)\u3092\u7d39\u4ecb\u3057\u307e\u3059\uff0e\n\n# \u306f\u3058\u3081\u306b\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e[Architecture overview](http://ipython.org/ipython-doc/dev/parallel/parallel_intro.html#architecture-overview)\u306b\u3088\u308b\u3068\uff0cIPython cluster\u306f\u4ee5\u4e0b\u306e4\u3064\u306e\u8981\u7d20\u304b\u3089\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\uff0e\n\n1. **\u30a8\u30f3\u30b8\u30f3**: \u4e26\u5217\u306b\u5b9f\u884c\u3059\u308bPython\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3059IPython\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\uff0e\u5b9f\u884c\u3057\u305f\u3044\u30db\u30b9\u30c8\u306e\u4e0a\u3067\u4e26\u5217\u306b\u5b9f\u884c\u3057\u305f\u3044\u6570\u3060\u3051\u8d77\u52d5\u3055\u308c\u307e\u3059\uff0e\u30e6\u30fc\u30b6\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u9593\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u306f\u4ed6\u306e\u64cd\u4f5c\u3092\u30d6\u30ed\u30c3\u30af\u3057\u307e\u3059\uff0e\n2. **\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9**: \u30a8\u30f3\u30b8\u30f3\u7fa4\u3092\u64cd\u4f5c\u3059\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\uff0e\u30e6\u30fc\u30b6\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u64cd\u4f5c\u3059\u308b\u3053\u3068\u3067\uff0c\u30a8\u30f3\u30b8\u30f3\u306e\u52d5\u4f5c\u3092\u7ba1\u7406\u3057\u307e\u3059\uff0e\u5185\u90e8\u7684\u306b\uff0c\uff11\u3064\u306e\u30cf\u30d6\u3068\u8907\u6570\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u304b\u3089\u69cb\u6210\u3055\u308c\u307e\u3059\uff0e\n3. **\u30cf\u30d6**: \u30af\u30e9\u30b9\u30bf\u5b9f\u884c\u74b0\u5883\u306e\u5fc3\u81d3\u90e8\uff0e\u30a8\u30f3\u30b8\u30f3\u3078\u306e\u63a5\u7d9a\uff0c\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\uff0c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff0c\u5b9f\u884c\u7d50\u679c\u306a\u3069\u3092\u96c6\u4e2d\u7ba1\u7406\u3057\u307e\u3059\uff0e\n4. **\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9**: \u30a8\u30f3\u30b8\u30f3\u306e\u30b8\u30e7\u30d6\u3092\u7ba1\u7406\uff0e\n\nIPython\u3067\u4e26\u5217\u5b9f\u884c\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\uff0c\uff11\u3064\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u8907\u6570\u306e\u30a8\u30f3\u30b8\u30f3\u3092\u8d77\u52d5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u306e\u8d77\u52d5\u65b9\u6cd5\u306f\uff12\u3064\u3042\u308a\u307e\u3059\uff0e\n1. `ipcluster`\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u3092\u81ea\u52d5\u7684\u306b\u7acb\u3061\u4e0a\u3052\u308b\n2. `ipcontroller`\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\uff0c`ipengine`\u30b3\u30de\u30f3\u30c9\u3067\u30a8\u30f3\u30b8\u30f3\u3092\u624b\u52d5\u3067\u7acb\u3061\u4e0a\u3052\u308b\n\u4eca\u56de\u306f\uff0c`ipcluster`\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u304a\u624b\u8efd\u306b\u30af\u30e9\u30b9\u30bf\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\n\n\u672c\u8a18\u4e8b\u3067\u306f\u30b5\u30fc\u30d0\u7fa4\u306e\u74b0\u5883\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u4e8b\u9805\u3092\u4eee\u5b9a\u3057\u307e\u3059\uff0e\n* \u5404\u30b5\u30fc\u30d0\u306b\u306f`ssh`\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067\uff08`ssh-agent`\u306a\u3069\u3092\u7528\u3044\u3066\uff09\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\n* \u5404\u30b5\u30fc\u30d0\u306fNFS\u7b49\u3067\u5171\u6709\u3055\u308c\u305fhome\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\n* \u5404\u30b5\u30fc\u30d0\u306bIPython\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\n\n\u5177\u4f53\u7684\u306a\u8aac\u660e\u3092\u5fc3\u304c\u3051\u308b\u305f\u3081\uff0c\u3053\u306e\u8a18\u4e8b\u3067\u306f\u4ee5\u4e0b\u306e\u30b5\u30fc\u30d0\u69cb\u6210\u3092\u4f8b\u306b\u8aac\u660e\u3057\u307e\u3059\uff0e\n* \u30a8\u30f3\u30b8\u30f3\u7528\u306e\u30b5\u30fc\u30d0\u3068\u3057\u3066\uff0cmezcal01.cl.ecei.tohoku.ac.jp\u304b\u3089mezcal12.cl.ecei.tohoku.ac.jp\u306e12\u53f0\u3092\u5229\u7528\u3059\u308b\uff0e\n* \u5404\u30ce\u30fc\u30c9\u30674\u3064\u306e\u30a8\u30f3\u30b8\u30f3\u3092\u8d77\u52d5\u3059\u308b\uff084\u4e26\u5217/\u30ce\u30fc\u30c9\uff09\n\n# IPython cluster\u306e\u8a2d\u5b9a\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e[Using ipcluster in SSH mode](http://ipython.org/ipython-doc/dev/parallel/parallel_process.html#using-ipcluster-in-ssh-mode)\u3092\u53c2\u8003\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u30fb\u7de8\u96c6\u3057\u307e\u3059\uff0eIPython cluster\u306f\u30af\u30e9\u30b9\u30bf\u5b9f\u884c\u74b0\u5883\u3092**\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb**\u3068\u3044\u3046\u5358\u4f4d\u3067\u7ba1\u7406\u3059\u308b\u3068\u4fbf\u5229\u3067\u3059\uff0e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d\u306f\u4efb\u610f\u3067\u3059\u304c\uff0c\u3053\u3053\u3067\u306f\u30a8\u30f3\u30b8\u30f3\u306e\u30b5\u30fc\u30d0\u7fa4\u306e\u540d\u524d\u306b\u57fa\u3044\u3066\"mezcal\"\u3068\u3044\u3046\u540d\u524d\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0e\n\n```\n$ ipython profile create --parallel --profile=mezcal\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipython_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipython_notebook_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipython_nbconvert_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipcontroller_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipengine_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/ipcluster_config.py'\n[ProfileCreate] Generating default config file: u'/home/okazaki/.ipython/profile_mezcal/iplogger_config.py'\n```\n\n`$HOME/.ipython/profile_{\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d}`\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\uff0cIPython cluster\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb`ipcluster_config.py`\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\uff0e\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304d\uff0c\u5404\u30ce\u30fc\u30c9\u306e\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3\u3092SSH\u7d4c\u7531\u3067\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\uff0e\u8a2d\u5b9a\u7b87\u6240\u3092\u30b3\u30e1\u30f3\u30c8\u3092\u6b8b\u3057\u305f\u307e\u307e\u793a\u3057\u307e\u3059\uff0e`c.IPClusterStart.engine_launcher_class`\u3092`'SSH'`\u3068\u3057\u307e\u3059\uff0e\n\n```py:ipcluster_config.py\n# The class for launching a set of Engines. Change this value to use various\n# batch systems to launch your engines, such as PBS,SGE,MPI,etc. Each launcher\n# class has its own set of configuration options, for making sure it will work\n# in your environment.\n#\n# You can also write your own launcher, and specify it's absolute import path,\n# as in 'mymodule.launcher.FTLEnginesLauncher`.\n#\n# IPython's bundled examples include:\n#\n#     Local : start engines locally as subprocesses [default]\n#     MPI : use mpiexec to launch engines in an MPI environment\n#     PBS : use PBS (qsub) to submit engines to a batch queue\n#     SGE : use SGE (qsub) to submit engines to a batch queue\n#     LSF : use LSF (bsub) to submit engines to a batch queue\n#     SSH : use SSH to start the controller\n#                 Note that SSH does *not* move the connection files\n#                 around, so you will likely have to do this manually\n#                 unless the machines are on a shared file system.\n#     HTCondor : use HTCondor to submit engines to a batch queue\n#     WindowsHPC : use Windows HPC\n#\n# If you are using one of IPython's builtin launchers, you can specify just the\n# prefix, e.g:\n#\n#     c.IPClusterEngines.engine_launcher_class = 'SSH'\n#\n# or:\n#\n#     ipcluster start --engines=MPI\nc.IPClusterStart.engine_launcher_class = 'SSH'\n```\n\n\u5148\u307b\u3069\u8a2d\u5b9a\u3057\u305f`c.IPClusterStart.engine_launcher_class`\u3068\u306e\u5dee\u7570\u304c\u4e0d\u660e\u3067\u3059\u304c\uff0c`c.IPClusterEngines.engine_launcher_class`\u3082`'SSH'`\u3068\u3057\u307e\u3059\uff0e\u3055\u3089\u306b\uff0c`c.SSHEngineSetLauncher.engines`\u3068\u3044\u3046\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u884c\u3046\u30db\u30b9\u30c8\u540d\u3068\u30a8\u30f3\u30b8\u30f3\u306e\u6570\uff08\u4e26\u5217\u5b9f\u884c\u6570\uff09\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0e`engines`\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ad\u30fc\u306b\u30db\u30b9\u30c8\u540d\uff0c\u5024\u306b\u30a8\u30f3\u30b8\u30f3\u6570\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\uff0e`mezcal[[01-12]].cl.ecei.tohoku.ac.jp`\u3067\u54044\u500b\u306e\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3\u3092\u8d77\u52d5\u3057\uff0c\u6700\u5927\u306748\u4e26\u5217\u51e6\u7406\u3092\u884c\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u4f8b\u3092\u793a\u3057\u307e\u3059\uff0e\n\n```py:ipcluster_config.py\n# The class for launching a set of Engines. Change this value to use various\n# batch systems to launch your engines, such as PBS,SGE,MPI,etc. Each launcher\n# class has its own set of configuration options, for making sure it will work\n# in your environment.\n#\n# You can also write your own launcher, and specify it's absolute import path,\n# as in 'mymodule.launcher.FTLEnginesLauncher`.\n#\n# IPython's bundled examples include:\n#\n#     Local : start engines locally as subprocesses [default]\n#     MPI : use mpiexec to launch engines in an MPI environment\n#     PBS : use PBS (qsub) to submit engines to a batch queue\n#     SGE : use SGE (qsub) to submit engines to a batch queue\n#     LSF : use LSF (bsub) to submit engines to a batch queue\n#     SSH : use SSH to start the controller\n#                 Note that SSH does *not* move the connection files\n#                 around, so you will likely have to do this manually\n#                 unless the machines are on a shared file system.\n#     HTCondor : use HTCondor to submit engines to a batch queue\n#     WindowsHPC : use Windows HPC\n#\n# If you are using one of IPython's builtin launchers, you can specify just the\n# prefix, e.g:\n#\n#     c.IPClusterEngines.engine_launcher_class = 'SSH'\n#\n# or:\n#\n#     ipcluster start --engines=MPI\nc.IPClusterEngines.engine_launcher_class = 'SSH'\n\nc.SSHEngineSetLauncher.engines = {\n    'mezcal01.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal02.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal03.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal04.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal05.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal06.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal07.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal08.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal09.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal10.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal11.cl.ecei.tohoku.ac.jp': 4,\n    'mezcal12.cl.ecei.tohoku.ac.jp': 4,\n}\n```\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u3084IPython notebook\u3092\u5b9f\u884c\u3059\u308b\u30b5\u30fc\u30d0\u3068\uff0c\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30b5\u30fc\u30d0\u304c\u7570\u306a\u308b\u5834\u5408\u306f\uff0c\u4ed6\u306e\u30b5\u30fc\u30d0\u304b\u3089\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\u30b5\u30fc\u30d0\u7fa4\u304c\u4fe1\u983c\u3067\u304d\u308bLAN\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\uff0c\u3059\u3079\u3066\u306e\u30db\u30b9\u30c8\u304b\u3089\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\uff0e`ipcontroller`\u306e\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u306b`\"--ip='*'\"`\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u306e\u307f\u63a5\u7d9a\u53ef\uff09\uff0e\n\n```py:ipcluster_config.py\n#------------------------------------------------------------------------------\n# LocalControllerLauncher configuration\n#------------------------------------------------------------------------------\n\n# Launch a controller as a regular external process.\n\n# command-line args to pass to ipcontroller\nc.LocalControllerLauncher.controller_args = [\"--ip='*'\", '--log-to-file', '--log-level=20']\n```\n\n\u4eca\u56de\u306f\uff0c\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u306e\u30db\u30b9\u30c8\u3067home\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5171\u6709\u3055\u308c\u3066\u3044\u308b\u306e\u3067\uff0c\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff0e\n\n```py:ipcluster_config.py\n#------------------------------------------------------------------------------\n# SSHLauncher configuration\n#------------------------------------------------------------------------------\n\n# A minimal launcher for ssh.\n#\n# To be useful this will probably have to be extended to use the ``sshx`` idea\n# for environment variables.  There could be other things this needs as well.\n\n# hostname on which to launch the program\n# c.SSHLauncher.hostname = ''\n\n# command for starting ssh\n# c.SSHLauncher.ssh_cmd = ['ssh']\n\n# user@hostname location for ssh in one setting\n# c.SSHLauncher.location = ''\n\n# List of (local, remote) files to send before starting\nc.SSHLauncher.to_send = []\n\n# command for sending files\n# c.SSHLauncher.scp_cmd = ['scp']\n\n# List of (remote, local) files to fetch after starting\nc.SSHLauncher.to_fetch = []\n\n# args to pass to ssh\n# c.SSHLauncher.ssh_args = ['-tt']\n\n# username for ssh\n# c.SSHLauncher.user = ''\n```\n\n\u3053\u306e\u8a2d\u5b9a\u306e\u610f\u5473\u3092\u7406\u89e3\u3059\u308b\u306b\u306f\uff0cIPython cluster\u304c\u958b\u59cb\u3055\u308c\u308b\u307e\u3067\u306e\u6d41\u308c\u3092\u7406\u89e3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0eIPython cluster\u304c\u8d77\u52d5\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3092\u793a\u3057\u307e\u3059\uff0e\n1. \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u8d77\u52d5\u3059\u308b\n2. \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u4f5c\u6210\u3057\u305f`ipcontroller-engine.json`\u3092\u30a8\u30f3\u30b8\u30f3\u306e\u30db\u30b9\u30c8\u306bscp\u3067\u8ee2\u9001\u3059\u308b\n3. \u5404\u30a8\u30f3\u30b8\u30f3\u3092\u8d77\u52d5\u3059\u308b\n\u3053\u3053\u3067\uff0c\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5171\u6709\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\uff0c\u624b\u98062\u304c\u4e0d\u8981\u306b\u306a\u308b\u308f\u3051\u3067\u3059\uff0e\n\n# \u30af\u30e9\u30b9\u30bf\u306e\u958b\u59cb\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u52d5\u304b\u3057\u305f\u3044\u30db\u30b9\u30c8\u4e0a\u3067`ipcluster`\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\uff0c\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u3092\u307e\u3068\u3081\u3066\u8d77\u52d5\u3057\u307e\u3059\uff0e\u3053\u306e\u3068\u304d\uff0c\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u3092``--profile``\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u307e\u3059\uff0e\n\n```\n$ ipcluster start --profile=mezcal\n2014-12-11 14:15:49.891 [IPClusterStart] Using existing profile dir: u'/home/okazaki/.ipython/profile_mezcal'\n2014-12-11 14:15:50.023 [IPClusterStart] Starting ipcluster with [daemon=False]\n2014-12-11 14:15:50.025 [IPClusterStart] Creating pid file: /home/okazaki/.ipython/profile_mezcal/pid/ipcluster.pid\n2014-12-11 14:15:50.025 [IPClusterStart] Starting Controller with LocalControllerLauncher\n2014-12-11 14:15:51.024 [IPClusterStart] Starting 48 Engines with SSH\n2014-12-11 14:16:25.117 [IPClusterStart] Engines appear to have started successfully\n```\n\n\"Engines appear to have started successfully\"\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\uff0e\"Starting 48 Engines with SSH\"\u3068\u3044\u3046\u8868\u793a\u304b\u3089\uff0c$12 \\times 4 = 48$\u500b\u306e\u30a8\u30f3\u30b8\u30f3\u3092\u59cb\u52d5\u3057\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\n\n# \u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\n\n`IPython.parallel`\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\uff0e\n\n```py\nIn [1]: from IPython.parallel import Client\n```\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e`Client`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0e`profile`\u5f15\u6570\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0e\n\n```py\nIn [2]: rc = Client(profile='mezcal')\n```\n\n`Client`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u63a5\u7d9a\u3057\u3066\u3044\u308b\u30a8\u30f3\u30b8\u30f3\u306eID\u3092\u78ba\u8a8d\u3059\u308b\u3068\uff0c48\u53f0\u306e\u30a8\u30f3\u30b8\u30f3\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\n\n```py\nIn [3]: rc.ids\nOut[3]:\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,\n 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47]\n\n```\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u306f\u30d0\u30ab\u30d1\u30e9\u3068\u306f\u95a2\u4fc2\u304c\u3042\u308a\u307e\u305b\u3093\u304c\uff0cIPython cluster\u306e\u4e00\u822c\u7684\u306a\u5229\u7528\u65b9\u6cd5\u3068\u3057\u3066\u89e3\u8aac\u3057\u307e\u3059\uff0e\u30bf\u30b9\u30af\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3092\u4ecb\u3055\u305a\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u3067\u76f4\u63a5\u7684\u306b\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f`DirectView`\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u7528\u3044\u307e\u3059\uff0e\n\n```py\nIn [4]: dview = rc[:]\n```\n\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306f$x^2$\u3092$x \\in \\\\{0, 1, ..., 49\\\\}$\u306b\u5bfe\u3057\u3066\uff08\u4e26\u5217\u5316\u306a\u3057\u3067\uff09\u8a08\u7b97\u3057\u307e\u3059\uff0e\n\n```py\nIn [5]: serial_result =  map(lambda x: x**2, range(50))\n```\n\n\u3053\u306e\u8a08\u7b97\u3092\u5404\u8981\u7d20$x \\in \\\\{0, 1, ..., 49\\\\}$\u3054\u3068\u306b\u4e26\u5217\u5316\u3057\u3066\u307f\u307e\u3059\uff0e\n\n```py\nIn [6]: parallel_result = dview.map_sync(lambda x: x**2, range(50))\n```\n\n`parallel_result`\u306b\u306f\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u304c\u96c6\u7d04\u30fb\u683c\u7d0d\u3055\u308c\u307e\u3059\uff0e\n\n```py\nIn [7]: parallel_result\nOut[7]:\n[0,\n 1,\n 4,\n 9,\n ...\n 2401]\n```\n\n\u5f53\u7136\u306e\u3053\u3068\u306a\u304c\u3089\uff0c\u4e26\u5217\u5316\u306e\u6709\u7121\u306b\u95a2\u4fc2\u306a\u304f\uff0c\u8a08\u7b97\u7d50\u679c\u306f\u540c\u3058\u3067\u3059\uff0e\n\n```py\nIn [8]: serial_result == parallel_result\nOut[8]: True\n```\n\n`remote`\u30c7\u30b3\u30ec\u30fc\u30bf\u3092\u4f7f\u3048\u3070\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u3055\u308c\u308b\u95a2\u6570\uff08remote function\uff09\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\uff0e\u4ee5\u4e0b\u306e`gethostname`\u95a2\u6570\u306f\uff0c\u30db\u30b9\u30c8\u540d\u3092`socket.getfqdn()`\u3067\u53d6\u5f97\u3057\u3066\u8fd4\u3059\u95a2\u6570\u3067\u3059\u304c\uff0c\u95a2\u6570\u5185\u3067`socket`\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3082\uff0c\u30a8\u30f3\u30b8\u30f3\u4e0a\u306eIPython\u30d7\u30ed\u30bb\u30b9\u3067\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u3053\u3068\u306b\u306a\u3089\u306a\u3044\u305f\u3081\uff0c\u95a2\u6570\u5185\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u751f\u3058\u307e\u3059\uff0e\n\n```py\nIn [9]: @dview.remote(block=True)\n   ...: def gethostname():\n   ...:     import socket\n   ...:     return socket.getfqdn()\n   ...:\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067`gethostname`\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u306e\u30db\u30b9\u30c8\u540d\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\uff0e\u9806\u756a\u306f\u30d0\u30e9\u30d0\u30e9\u3067\u3059\u304c\uff0cmezcal01\u304b\u3089mezcal12\u307e\u3067\u306e\u30db\u30b9\u30c8\u3067\uff0c\u54044\u3064\u306e\u30a8\u30f3\u30b8\u30f3\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\n\n```py\nIn [10]: gethostname()\nOut[10]: \n['mezcal06.cl.ecei.tohoku.ac.jp',\n 'mezcal06.cl.ecei.tohoku.ac.jp',\n 'mezcal06.cl.ecei.tohoku.ac.jp',\n 'mezcal06.cl.ecei.tohoku.ac.jp',\n 'mezcal09.cl.ecei.tohoku.ac.jp',\n 'mezcal09.cl.ecei.tohoku.ac.jp',\n 'mezcal09.cl.ecei.tohoku.ac.jp',\n 'mezcal09.cl.ecei.tohoku.ac.jp',\n 'mezcal04.cl.ecei.tohoku.ac.jp',\n 'mezcal04.cl.ecei.tohoku.ac.jp',\n 'mezcal04.cl.ecei.tohoku.ac.jp',\n 'mezcal04.cl.ecei.tohoku.ac.jp',\n ...\n 'mezcal01.cl.ecei.tohoku.ac.jp',\n 'mezcal03.cl.ecei.tohoku.ac.jp',\n 'mezcal03.cl.ecei.tohoku.ac.jp',\n 'mezcal03.cl.ecei.tohoku.ac.jp',\n 'mezcal03.cl.ecei.tohoku.ac.jp']\n```\n\n\u4ed6\u306b\u3082\uff0c\u4e26\u5217\u306b\u5b9f\u884c\u3059\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b`parallel`\u30c7\u30b3\u30ec\u30fc\u30bf\u3082\u3042\u308a\u307e\u3059\uff0e\u8a73\u3057\u304f\u306f\uff0c[IPython's Direct interface](http://ipython.org/ipython-doc/dev/parallel/parallel_multiengine.html)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\n\n# \u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u3092\u4ecb\u3057\u305f\u5b9f\u884c\n`LoadBalancedView`\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\uff0c\u52d5\u7684\u306a\u8ca0\u8377\u5206\u6563\u3092\u7528\u3044\u3066\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u307e\u3059\uff0e\u500b\u5225\u306e\u30a8\u30f3\u30b8\u30f3\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u306a\u304f\u306a\u308a\u307e\u3059\u304c\uff0c`multiprocessing.Pool`\u306e\u30b8\u30e7\u30d6\u30fb\u30ad\u30e5\u30fc\u306e\u3088\u3046\u306b\uff0c\u30af\u30e9\u30b9\u30bf\u306e\u30a8\u30f3\u30b8\u30f3\u3067\u30b8\u30e7\u30d6\u30fb\u30ad\u30e5\u30fc\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\uff0e\n\n\u5358\u7d14\u306a\u4f8b\u3068\u3057\u3066\uff0c`sleep 10`\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5404\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff0e\u5b9f\u884c\u3057\u305f\u3044\u30b8\u30e7\u30d6\u3092\u683c\u7d0d\u3057\u305f\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0e\n\n```py\nIn [11]: jobs = [dict(cmd='sleep 10') for i in range(100)]\n```\n\n\u3053\u306e\u30ea\u30b9\u30c8\u306e\u5404\u8981\u7d20\u306f\u8f9e\u66f8\u578b\u3067\uff0c`cmd`\u30ad\u30fc\u306e\u5024\u306b\u5b9f\u884c\u3057\u305f\u3044\u30b3\u30de\u30f3\u30c9\u3092\u683c\u7d0d\u3057\u307e\u3059\uff0e\u4eca\u56de\u306f\u3059\u3079\u3066\u306e\u30b8\u30e7\u30d6\u3067`sleep 10`\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u304c\uff0c\u5b9f\u969b\u306b\u30d0\u30ab\u30d1\u30e9\u3092\u884c\u3046\u3068\u304d\u306f\uff0c\u5165\u529b\u30c7\u30fc\u30bf\u306b\u5fdc\u3058\u3066\u30b3\u30de\u30f3\u30c9\u306e\u5185\u5bb9\u304c\u5909\u308f\u308b\u306f\u305a\u3067\u3059\uff0e\u5148\u982d\u306e5\u500b\u306e\u30b8\u30e7\u30d6\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\uff0e\n\n```py\nIn [12]: jobs[:5]\nOut[12]:\n[{'cmd': 'sleep 10'},\n {'cmd': 'sleep 10'},\n {'cmd': 'sleep 10'},\n {'cmd': 'sleep 10'},\n {'cmd': 'sleep 10'}]\n```\n\n\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u8868\u73fe\u3055\u308c\u305f\u30b8\u30e7\u30d6\uff08\u30b3\u30de\u30f3\u30c9\uff09\u3092\u5b9f\u884c\u3059\u308b\u95a2\u6570`runjob`\u3092\u5b9f\u88c5\u3057\u307e\u3059\uff0e\u53d7\u3051\u53d6\u3063\u305f\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e`cmd`\u30ad\u30fc\u306e\u5024\u3092\u30b7\u30a7\u30eb\u4e0a\u3067\u5b9f\u884c\u3057\uff0c\u305d\u306e\u623b\u308a\u5024\u3092\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u683c\u7d0d\u3057\u3066\u8fd4\u3057\u307e\u3059\uff0e\n\n```py\nIn [13]: def runjob(job):\n   ....:     import subprocess\n   ....:     try:\n   ....:         returncode = subprocess.call(job['cmd'], shell=True)\n   ....:         return dict(code=returncode)\n   ....:     except OSError, e:\n   ....:         return dict(error=str(e))\n   ....:\n```\n\n\u3053\u306e`runjob`\u95a2\u6570\u3092\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u3067\u9806\u3005\u306b\u5b9f\u884c\u3059\u308b\u305f\u3081\uff0c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089`LoadBalancedView`\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\uff0e\n\n```py\nIn [14]: lview = rc.load_balanced_view()\n```\n\n\u305d\u3057\u3066\uff0c`jobs`\u30ea\u30b9\u30c8\u306e\u5404\u8981\u7d20\u306b\u5bfe\u3057\u3066`runjob`\u95a2\u6570\u3092\u975e\u540c\u671f\u3067\u5b9f\u884c\u3057\u307e\u3059\uff0e\n\n```py\nIn [15]: ar = lview.map_async(runjob, jobs)\n```\n\n\u3053\u306e\u30b3\u30fc\u30c9\u306e\u5b9f\u884c\u306f\u30d6\u30ed\u30c3\u30af\u3055\u308c\u305a\uff0c\u76f4\u3061\u306b`AsyncResult`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u3055\u308c\u307e\u3059\uff0e\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3084\u9032\u6357\u72b6\u6cc1\u306f\uff0c\u3053\u306e`AsyncResult`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4ecb\u3057\u3066\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\u4f8b\u3048\u3070\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u72b6\u6cc1\u3092\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b7\u30a7\u30eb\u4e0a\u306b\u8868\u793a\u3057\u3066\u307f\u307e\u3059\uff08IPython notebook\u4e0a\u3067\u3082\u5229\u7528\u3067\u304d\u307e\u3059\uff09\uff0e\n\n```py\nIn [16]: ar.wait_interactive()\n  48/100 tasks finished after   15 s\n```\n\n\u3053\u306e`wait_interactive`\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\uff0c1\u79d2\u6bce\u306b\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u72b6\u6cc1\u304c\u30b7\u30a7\u30eb\u4e0a\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff0e\u4e0a\u306e\u8868\u793a\u306f\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u958b\u59cb\u304b\u308915\u79d2\u7d4c\u904e\u3057\u305f\u6642\u70b9\u306e\u3082\u306e\u3067\uff0c100\u500b\u4e2d48\u500b\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3057\u305f\u3053\u3068\u3092\u8868\u3057\u3066\u3044\u307e\u3059\uff0e1\u3064\u306e\u30b8\u30e7\u30d6\u306e\u6240\u8981\u6642\u9593\u304c10\u79d2\u3067\uff0c48\u500b\u306e\u30a8\u30f3\u30b8\u30f3\u3092\u540c\u6642\u306b\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\uff0c\u5b9f\u884c\u958b\u59cb\u304b\u308910\u79d2\u306748\u500b\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3057\uff0c10\u79d2\u304b\u308920\u79d2\u306e\u9593\u3067\u3055\u3089\u306b48\u500b\u306e\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3059\u3079\u3066\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u3068\uff0c\u4ee5\u4e0b\u306e\u69d8\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff0e\n\n```py\nIn [16]: ar.wait_interactive()\n 100/100 tasks finished after   30 s\ndone\n```\n\n\u5404\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306f\u975e\u540c\u671f\u3067\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u304c\uff0c`wait_interactive`\u95a2\u6570\u306f\u3059\u3079\u3066\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u7d42\u4e86\u3057\u307e\u305b\u3093\uff0e\u30b8\u30e7\u30d6\u306e\u9032\u6357\u72b6\u6cc1\u306e\u8868\u793a\u3092\u6b62\u3081\u305f\u3044\u3068\u304d\u306f\uff0c[Ctrl]+[c]\uff08IPython notebook\u306a\u3089\u3070\"Kernel\"-\"Interrupt\"\uff09\u3067\u4e2d\u65ad\u3059\u308c\u3070OK\u3067\u3059\uff0e\u8868\u793a\u3092\u4e2d\u65ad\u3057\u3066\u3082\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306f\u7d99\u7d9a\u3055\u308c\u307e\u3059\uff0e\n\n\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u306f\uff0c`AsyncResult`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\u5148\u982d\u304b\u30895\u500b\u306e\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\uff0e\n\n```py\nIn [17]: ar[:5]\nOut[17]: [{'code': 0}, {'code': 0}, {'code': 0}, {'code': 0}, {'code': 0}]\n```\n\n`code`\u304c`0`\u3068\u306f\uff0c`sleep`\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u30b7\u30a7\u30eb\uff08`/bin/sh`\uff09\u306e\u8fd4\u308a\u5024\u304c`0`\u3067\u3042\u3063\u305f\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\uff0e\n\n# Bakapara\u30e2\u30b8\u30e5\u30fc\u30eb\n\n\u30b7\u30a7\u30eb\u4e0a\u306e\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308b\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u3092IPython cluster\u4e0a\u3067\u30d0\u30ab\u30d1\u30e9\u5b9f\u884c\u3059\u308b\u51e6\u7406\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3057\u305f\u3082\u306e\u304c\uff0c[Bakapara](https://github.com/chokkan/bakapara)\u3067\u3059\uff0ePython\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b7\u30a7\u30eb\u3084IPython notebook\u304b\u3089\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\uff0e\u307e\u305f\uff0c\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u5358\u4f53\u3067\u52d5\u304b\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\uff0e\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408\u306f\uff0c[bakapara.py](https://raw.githubusercontent.com/chokkan/bakapara/master/bakapara.py)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\uff0c`PYTHONPATH`\u306e\u901a\u3063\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\uff0c`PATH`\u306e\u901a\u3063\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\uff0e\n\n## \u30b8\u30e7\u30d6\u306e\u4ed5\u69d8\nBakapara\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\uff0c\u30b8\u30e7\u30d6\u306e\u30ea\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308a\uff0c\u30af\u30e9\u30b9\u30bf\u306e\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u3057\u307e\u3059\uff0e\u5404\u30b8\u30e7\u30d6\u306f\u4ee5\u4e0b\u306e\u4ed5\u69d8\u3092\u6e80\u305f\u3059\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308c\u3070\uff0c\u3069\u306e\u3088\u3046\u306a\u5f62\u5f0f\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff0e\n\n|\u30ad\u30fc|\u5024|\u4f8b|\n|:--|:--|:--|\n|`cmd`|\u30a8\u30f3\u30b8\u30f3\u4e0a\u3067\u5b9f\u884c\u3057\u305f\u3044\u30b3\u30de\u30f3\u30c9\uff0e\u5b9f\u969b\u306b\u306f\u30b7\u30a7\u30eb\u3092\u4ecb\u3057\u3066\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u306e\u3067\uff0c\u30d1\u30a4\u30d7\u3084\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3082\u5229\u7528\u53ef\u80fd\uff0e|`wc -l /work/001.txt`|\n|`cd`|\uff08\u7701\u7565\u53ef\uff09\u30a8\u30f3\u30b8\u30f3\u304c\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff0e\u3053\u306e\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\uff0c\u30a8\u30f3\u30b8\u30f3\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5909\u66f4\u3057\u307e\u305b\u3093\uff0e\u306a\u304a\uff0c\u5404\u30a8\u30f3\u30b8\u30f3\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\uff0cBakapara\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u69cb\u7bc9\u6642\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u521d\u671f\u5316\u3055\u308c\u307e\u3059\uff0e|`/home/okazaki/projects/bakapara`|\n|`out`|\uff08\u7701\u7565\u53ef\uff09\u3053\u306e\u5024\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\uff0c\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306e\u6a19\u6e96\u51fa\u529b\u304c\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\uff0e\u3053\u306e\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\uff0c\u6a19\u6e96\u51fa\u529b\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u307e\u305b\u3093\uff0e|`/work/001.txt.out`|\n|`err`|\uff08\u7701\u7565\u53ef\uff09\u3053\u306e\u5024\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\uff0c\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306e\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u304c\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\uff0e\u3053\u306e\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\uff0c\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306e\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u307e\u305b\u3093\uff0e|`/work/001.txt.err`|\n|`host`|\uff08\u7701\u7565\u53ef\uff09\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u30db\u30b9\u30c8\uff08\u30a8\u30f3\u30b8\u30f3\uff09\u306e\u30ea\u30b9\u30c8\uff0e\u3053\u306e\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\uff0c\u3053\u306e\u30b8\u30e7\u30d6\u306f\u3059\u3079\u3066\u306e\u30a8\u30f3\u30b8\u30f3\u3067\u5b9f\u884c\u53ef\u80fd\u3067\u3042\u308b\u3068\u307f\u306a\u3057\u307e\u3059\uff0e|`['mezcal03.cl.ecei.tohoku.ac.jp',]`|\n\n`host`\u306f\uff0c\u7279\u5b9a\u306e\u30b8\u30e7\u30d6\u3092\u7279\u5b9a\u306e\u30db\u30b9\u30c8\u3067\u5b9f\u884c\u3057\u305f\u3044\u3068\u304d\u306b\u4f7f\u3044\u307e\u3059\uff0e\u4f8b\u3048\u3070\uff0c\u51e6\u7406\u3057\u305f\u3044\u30c7\u30fc\u30bf\u3092\u5404\u30b5\u30fc\u30d0\u306e\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30b9\u30af\u306b\u5206\u6563\u914d\u7f6e\u3057\u305f\u5834\u5408\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30db\u30b9\u30c8\u3092`host`\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\uff0e\u307e\u305f\uff0c\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0[GFarm](http://datafarm.apgrid.org/index.ja.html)\u3067\u306f\uff0c\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u5404\u30d5\u30a1\u30a4\u30eb\u304c\u3069\u306e\u30db\u30b9\u30c8\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u304b\u8abf\u3079\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u306e\u3067\uff0c\u51e6\u7406\u30c7\u30fc\u30bf\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30db\u30b9\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\uff0cHDFS+Hadoop\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u5c40\u6240\u6027\u3092\u8003\u616e\u3057\u305f\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\uff0e\n\n\u5404\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u306f\uff0c\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e`result`\u30ad\u30fc\u306e\u5024\u3068\u3057\u3066\u683c\u7d0d\uff08\u4e0a\u66f8\u304d\uff09\u3055\u308c\u307e\u3059\uff0e`result`\u306e\u5024\u306f\u4ee5\u4e0b\u306e\u4ed5\u69d8\u306e\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\uff0e\n\n|\u30ad\u30fc|\u5024|\u4f8b|\n|:--|:--|:--|\n|`code`|\u7d42\u4e86\u30b3\u30fc\u30c9|`0`|\n|`submitted`|\u30b8\u30e7\u30d6\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u767a\u884c\u3055\u308c\u305f\u65e5\u6642|`'2014-12-13T01:17:05.593718'`|\n|`started`|\u30a8\u30f3\u30b8\u30f3\u4e0a\u3067\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u304c\u958b\u59cb\u3055\u308c\u305f\u65e5\u6642|`'2014-12-13T01:17:04.559970'`|\n|`completed`|\u30a8\u30f3\u30b8\u30f3\u4e0a\u3067\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3057\u305f\u65e5\u6642|`'2014-12-13T01:17:14.566251'`|\n|`received`|\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3092\u53d7\u3051\u53d6\u3063\u305f\u65e5\u6642|`'2014-12-13T01:17:15.614301'`|\n|`elapsed`|\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306b\u8981\u3057\u305f\u6642\u9593\uff08`completed`-`started`\uff09|`'0:00:10.006281'`|\n|`engine_id`|\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u305f\u30a8\u30f3\u30b8\u30f3\u306eID\uff08\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\uff09|`3`|\n|`host`|\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u305f\u30a8\u30f3\u30b8\u30f3\u306e\u30db\u30b9\u30c8\u540d|`'mezcal06.cl.ecei.tohoku.ac.jp'`|\n|`pyerr`|Python\u306e\u4f8b\u5916\uff08\u3042\u308c\u3070\uff09\uff0e\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u30db\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3057\u305f\u6642\u306b`UnmetDependency`\u3068\u3044\u3046\u4f8b\u5916\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\u3053\u308c\u306f\u6b63\u5e38\u3067\u3059\uff0e|`None`|\n|`pyout`|Python\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u306e\u51fa\u529b\uff08\u3042\u308c\u3070\uff09|`None`|\n|`status`|`'ok'`\u3082\u3057\u304f\u306f`'error'`|`'ok'`|\n|`msg_id`|\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30a8\u30f3\u30b8\u30f3\u304c\u3084\u308a\u3068\u308a\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306eUUID|`u'48fbc58b-ef73-4815-9f32-1932c01421ad'`|\n|`error`|\uff08\u81f4\u547d\u7684\u306a\u30a8\u30e9\u30fc\u767a\u751f\u6642\u306e\u307f\u5b58\u5728\uff09\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8|`''`|\n\n`status`\u304c`'ok'`\u3067\u3082\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306b\u5931\u6557\u3057\u3066\u3044\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u306e\u3067\uff0c\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\uff0e\u4f8b\u3048\u3070\uff0c`cmd`\u306e\u30b3\u30de\u30f3\u30c9\u3092\u66f8\u304d\u9593\u9055\u3048\u3066\u5b9f\u884c\u51fa\u6765\u306a\u304b\u3063\u305f\u5834\u5408\u3067\u3082\uff0c`status`\u306f`'ok'`\u306b\u306a\u308a\u307e\u3059\u304c\uff0c\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306b\u306f`'/bin/bash: 1: hoge: not found\\n'`\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6b8b\u308a\u307e\u3059\uff0e\u306a\u304a\uff0c\u30b8\u30e7\u30d6\u306e\u30b3\u30de\u30f3\u30c9\u306f`/bin/bash -o pipefail`\u7d4c\u7531\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\uff0e\u3057\u305f\u304c\u3063\u3066\uff0c\u30d1\u30a4\u30d7\u3067\u7d50\u3070\u308c\u305f\u30b3\u30de\u30f3\u30c9\u306e\u3044\u305a\u308c\u304b\u304c`0`\u4ee5\u5916\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u3092\u8fd4\u3057\u305f\u5834\u5408\u306f\uff0c\u305d\u306e\u623b\u308a\u5024\u304c`code`\u306b\u683c\u7d0d\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3057\u305f\u304c\u3063\u3066\uff0c\u623b\u308a\u5024`code`\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u306f\u91cd\u8981\u3067\u3059\uff0e\n\n## Python\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b7\u30a7\u30eb\u4e0a\u3067\u306e\u5229\u7528\n\n\u307e\u305a\uff0cbakapara\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\uff0c`Bakapara`\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0e`Bakapara`\u30af\u30e9\u30b9\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u4ed5\u69d8\u306f[IPython.parallel.Client](http://ipython.org/ipython-doc/dev/api/generated/IPython.parallel.client.client.html#IPython.parallel.client.client.Client)\u3068\u540c\u4e00\u3067\u3059\uff0e\u901a\u5e38\u306f\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\uff0e\n\n```py\nIn [1]: from bakapara import Bakapara\n\nIn [2]: bp = Bakapara(profile='mezcal')\n\n```\n\n\u5b9f\u884c\u3057\u305f\u3044\u30b8\u30e7\u30d6\u306e\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\uff0e\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306f\uff0c`sleep 10`\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092100\u56de\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\uff0e\n\n```py\nIn [3]: jobs = [dict(cmd='sleep 10') for i in range(100)]\n\n```\n\n\u8aac\u660e\u306e\u305f\u3081\uff0c\u5148\u982d\u306e\u30b8\u30e7\u30d6\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\uff0e\n\n```py\nIn [4]: jobs[0]\nOut[4]: {'cmd': 'sleep 10'}\n```\n\n\u30b8\u30e7\u30d6\u3092\u958b\u59cb\u3059\u308b\u306b\u306f`run`\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u3044\u307e\u3059\uff0e\u8fd4\u308a\u5024`True`\u306f\u30b8\u30e7\u30d6\u306e\u767b\u9332\u306b\u6210\u529f\u3057\u305f\u3053\u3068\u3092\u8868\u3057\u307e\u3059\uff0e\n\n```py\nIn [5]: bp.run(jobs)\nOut[5]: True\n```\n\n\u30b8\u30e7\u30d6\u306e\u9032\u6357\u72b6\u6cc1\u306f`status`\u30e1\u30bd\u30c3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff0e\u30b8\u30e7\u30d6\u306e\u9032\u6357\u72b6\u6cc1\u304c\uff11\u79d2\u304a\u304d\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff0e\n\n```py\nIn [6]: bp.status()\n48/100 tasks finished after 0:00:12.554905\n```\n\n\u3053\u306e`status`\u30e1\u30bd\u30c3\u30c9\u306f\u3059\u3079\u3066\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u5b9f\u884c\u304c\u7d42\u4e86\u3057\u307e\u305b\u3093\uff0e\u4ed6\u306e\u4f5c\u696d\u3092\u3057\u305f\u304f\u306a\u3063\u305f\u3089\uff0c[Ctrl]+[c]\u30ad\u30fc\uff08IPython notebook\u3067\u306f\u201dKernel\"-\"Interrupt\"\uff09\u3092\u62bc\u3057\u3066\u4e2d\u65ad\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\n\n\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3059\u308b\u3068\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff0e\n\n```py\nIn [7]: bp.status()\n100/100 tasks finished after 0:00:30.137117\n100 tasks completed in 0:00:30.137117\n```\n\n\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u3068\uff0c\u30b8\u30e7\u30d6\u30ea\u30b9\u30c8\uff08`Bakapara`\u30af\u30e9\u30b9\u306e`run`\u30e1\u30bd\u30c3\u30c9\u306b\u4e0e\u3048\u305f\u30b8\u30e7\u30d6\u30ea\u30b9\u30c8\uff09\u306b\u7d50\u679c\u304c\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\uff0e\u6b63\u78ba\u306b\u306f\uff0c\u30b8\u30e7\u30d6\u306e\u5b8c\u4e86\u5f8c\u306b`status`\u30e1\u30bd\u30c3\u30c9\u3082\u3057\u304f\u306f`wait`\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u5b9f\u884c\u7d50\u679c\u304c`jobs`\u30ea\u30b9\u30c8\u306b\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\uff0e\u5168\u4f53\u306e\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3057\u3066\u3044\u306a\u304f\u3066\u3082\uff0c`status`\u30e1\u30bd\u30c3\u30c9\u3082\u3057\u304f\u306f`wait`\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u305f\u6642\u70b9\u307e\u3067\u306e\u7d50\u679c\u304c\u30b8\u30e7\u30d6\u30ea\u30b9\u30c8\u306b\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\uff0e\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u3082\uff0c`status`\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\uff0c\"xx/xxx tasks finished\"\u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\uff0e\n\n\u5b9f\u884c\u7d50\u679c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff0e\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u305f\u30db\u30b9\u30c8\u540d\uff0c\u6240\u8981\u6642\u9593\uff0c\u7d42\u4e86\u30b3\u30fc\u30c9\u306a\u3069\u306e\u60c5\u5831\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\uff0e\n\n```py\nIn [8]: jobs[0]\nOut[8]:\n{'cmd': 'sleep 10',\n 'result': {'code': 0,\n  'completed': '2014-12-13T12:26:12.665525',\n  'elapsed': '0:00:10.005647',\n  'engine_id': 11,\n  'host': 'mezcal11.cl.ecei.tohoku.ac.jp',\n  'msg_id': u'72666439-9364-4a37-9dfb-8a04921d9a0c',\n  'pyerr': None,\n  'pyout': None,\n  'received': '2014-12-13T12:24:38.638917',\n  'started': '2014-12-13T12:26:02.659878',\n  'status': u'ok',\n  'submitted': '2014-12-13T12:23:58.320781'}}\n```\n\n## \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u306e\u5229\u7528\n\n\u4eca\u307e\u3067\u898b\u3066\u304d\u305f\u3088\u3046\u306b\uff0c`Bakapara`\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3046\u306e\u306f\u7c21\u5358\u3067\u3059\uff0e\u305f\u3060\uff0c\u4e2d\u306b\u306fPython\u306f\u5168\u304f\u5206\u304b\u3089\u306a\u3044\u3051\u3069\uff0c\u30d0\u30ab\u30d1\u30e9\u306e\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u884c\u3044\u305f\u3044\u4eba\u3082\u3044\u308b\u304b\u3068\u601d\u3044\u307e\u3059\uff0e\u305d\u3093\u306a\u65b9\u306e\u305f\u3081\u306b\uff0c\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30fb\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3082\u6e96\u5099\u3057\u307e\u3057\u305f\uff0e`bakapara.py`\u3092\u5358\u4f53\u3067\u5b9f\u884c\u3059\u308b\u3068\uff0c\u30b8\u30e7\u30d6\u306eJSON\u3092\u6a19\u6e96\u5165\u529b\u304b\u3089\u8aad\u307f\u8fbc\u307f\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u306eJSON\u3092\u6a19\u6e96\u51fa\u529b\u306b\u66f8\u304d\u51fa\u3057\u307e\u3059\uff0e\u5165\u529b\u3068\u51fa\u529b\u306eJSON\u306f\uff0c1\u884c1\u30b8\u30e7\u30d6\u3067\uff0c\u5404\u884c\u306b\u30b8\u30e7\u30d6\u306e\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092JSON\u3067\u8a18\u8ff0\u3057\u305f\u5f62\u5f0f\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\uff0e\u5168\u4f53\u306e\u30b8\u30e7\u30d6\u3092\u30ea\u30b9\u30c8\u5f62\u5f0f\u3067\u683c\u7d0d\u3057\u306a\u3044\u306e\u306f\uff0c\u30b8\u30e7\u30d6\u304c\u5b8c\u4e86\u3059\u308b\u3068\u76f4\u3061\u306b\u305d\u306e\u5b9f\u884c\u7d50\u679c\u3092\u66f8\u304d\u51fa\u305b\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3067\u3059\uff0e\n\n\u4f8b\u3048\u3070\uff0c`sleep 10`\u3092100\u4ef6\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u306eJSON\u30d5\u30a1\u30a4\u30eb\u306f\uff0c\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e\n\n```bash\n$ head -n5 sleep.task.json\n{\"cmd\": \"sleep 10\"}\n{\"cmd\": \"sleep 10\"}\n{\"cmd\": \"sleep 10\"}\n{\"cmd\": \"sleep 10\"}\n{\"cmd\": \"sleep 10\"}\n```\n\n\u3053\u306e\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\uff0c\u305d\u306e\u5b9f\u884c\u7d50\u679c\u3092`sleep.result.json`\u306b\u66f8\u304d\u51fa\u3059\u306b\u306f\uff0c\u6b21\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\uff0eIPython cluster\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u306f`-p`\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u307e\u3059\uff0e\n\n```bash\n$ python bakapara.py -p mezcal < sleep.task.json > sleep.result.json\n2014-12-21 10:39:49,231 total 100 jobs on 48 engines\n2014-12-21 10:39:59,288 [1/100] returned 0 in 0:00:10.007444 sec on mezcal06.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:39:59,289 [2/100] returned 0 in 0:00:10.005645 sec on mezcal06.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:39:59,289 [3/100] returned 0 in 0:00:10.005994 sec on mezcal06.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:39:59,289 [4/100] returned 0 in 0:00:10.006593 sec on mezcal01.cl.ecei.tohoku.ac.jp: sleep 10\n...\n2014-12-21 10:40:19,282 [97/100] returned 0 in 0:00:10.005299 sec on mezcal08.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:40:19,283 [98/100] returned 0 in 0:00:10.005097 sec on mezcal08.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:40:19,283 [99/100] returned 0 in 0:00:10.005758 sec on mezcal02.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:40:19,283 [100/100] returned 0 in 0:00:10.004995 sec on mezcal02.cl.ecei.tohoku.ac.jp: sleep 10\n2014-12-21 10:40:19,283 completed\n```\n\n\u6a19\u6e96\u51fa\u529b\u304b\u3089\uff0c\u5b9f\u884c\u3057\u305f\u30b8\u30e7\u30d6\u304c\uff08JSON\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\uff09\u8f9e\u66f8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u8fd4\u3063\u3066\u304d\u307e\u3059\uff0e`result`\u30ad\u30fc\u306b\u5b9f\u884c\u7d50\u679c\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\uff0e\n\n```bash\n$ head -n5 sleep.result.json\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.262566\", \"code\": 0, \"engine_id\": 9, \"started\": \"2014-12-21T10:40:46.649199\", \"completed\": \"2014-12-21T10:40:56.656643\", \"msg_id\": \"22d664c5-793a-44f1-b29d-c74f2aa434c1\", \"submitted\": \"2014-12-21T10:39:49.235879\", \"pyerr\": null, \"host\": \"mezcal06.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.007444\", \"pyout\": null}}\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.262205\", \"code\": 0, \"engine_id\": 11, \"started\": \"2014-12-21T10:40:46.650998\", \"completed\": \"2014-12-21T10:40:56.656643\", \"msg_id\": \"e8eb5db2-ac9b-481b-b0a4-fdb2ef15be62\", \"submitted\": \"2014-12-21T10:39:49.236327\", \"pyerr\": null, \"host\": \"mezcal06.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.005645\", \"pyout\": null}}\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.287773\", \"code\": 0, \"engine_id\": 8, \"started\": \"2014-12-21T10:40:46.679033\", \"completed\": \"2014-12-21T10:40:56.685027\", \"msg_id\": \"8a7e6fe0-482a-4ae0-a2ff-8321849aa8b0\", \"submitted\": \"2014-12-21T10:39:49.244347\", \"pyerr\": null, \"host\": \"mezcal06.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.005994\", \"pyout\": null}}\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.284039\", \"code\": 0, \"engine_id\": 46, \"started\": \"2014-12-21T10:40:46.698136\", \"completed\": \"2014-12-21T10:40:56.704729\", \"msg_id\": \"f03f9b93-4a60-494b-9a21-625cdcac252e\", \"submitted\": \"2014-12-21T10:39:49.242042\", \"pyerr\": null, \"host\": \"mezcal01.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.006593\", \"pyout\": null}}\n{\"cmd\": \"sleep 10\", \"result\": {\"status\": \"ok\", \"received\": \"2014-12-21T10:39:59.259553\", \"code\": 0, \"engine_id\": 28, \"started\": \"2014-12-21T10:40:46.889807\", \"completed\": \"2014-12-21T10:40:56.895995\", \"msg_id\": \"bc9e7b74-64ba-45f4-ac0e-31b27db5d862\", \"submitted\": \"2014-12-21T10:39:49.234939\", \"pyerr\": null, \"host\": \"mezcal07.cl.ecei.tohoku.ac.jp\", \"elapsed\": \"0:00:10.006188\", \"pyout\": null}}\n```\n\n## \u30b8\u30e7\u30d6\u306e\u4e2d\u65ad\u306b\u3064\u3044\u3066\n\n\u30af\u30e9\u30b9\u30bf\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d50\u679c\u3092\u773a\u3081\u3066\u3044\u308b\u3046\u3061\u306b\uff0c\u30b8\u30e7\u30d6\u306e\u5185\u5bb9\u304c\u9593\u9055\u3063\u3066\u3044\u305f\u3053\u3068\uff0c\u3082\u3057\u304f\u306f\u30b8\u30e7\u30d6\u304c\u66b4\u8d70\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6c17\u3065\u304f\u3053\u3068\u304c\u3042\u308a\u307e\u3059\uff0e\u3053\u306e\u5834\u5408\uff0c\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0eBakapara\u3067\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b\u65b9\u6cd5\u306f2\u3064\u3042\u308a\u307e\u3059\uff0e\n\n1. `abort()`\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\uff0e\n2. `ipcluster`\u30d7\u30ed\u30bb\u30b9\u3092\u505c\u6b62\u3057\uff0c\u3059\u3079\u3066\u306e\u30a8\u30f3\u30b8\u30f3\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u5f37\u5236\u7d42\u4e86\u3059\u308b\uff0e\n\n\u65b9\u6cd51\u306e\u5834\u5408\uff0c\u5b9f\u884c\u4e2d\u306e\u30b8\u30e7\u30d6\u306f\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u305a\uff0c\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u306b\u5165\u3063\u3066\u3044\u308b\u30b8\u30e7\u30d6\u306e\u307f\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\u3057\u305f\u304c\u3063\u3066\uff0c\u975e\u5e38\u306b\u6642\u9593\u306e\u304b\u304b\u308b\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u5834\u5408\u3084\uff0c\u30b8\u30e7\u30d6\u304c\u66b4\u8d70\u3057\u305f\u5834\u5408\u306b\u306f\u4f7f\u3048\u307e\u305b\u3093\uff0e\n\n\u65b9\u6cd52\u306f\uff0c\u30af\u30e9\u30b9\u30bf\u5b9f\u884c\u74b0\u5883\u306e\u30a8\u30f3\u30b8\u30f3\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u7d42\u4e86\u3059\u308b\u3053\u3068\u3067\uff0c\u5b9f\u884c\u4e2d\u306e\u30b8\u30e7\u30d6\u3082\u5f37\u5236\u7d42\u4e86\u3055\u305b\u308b\u65b9\u6cd5\u3067\u3059\uff0e\u5177\u4f53\u7684\u306b\u306f\uff0c`ipcluster`\u3092\u5b9f\u884c\u3057\u305f\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u3067[Ctrl]+[c]\u30ad\u30fc\u3092\u62bc\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\uff0e\n\n```\n^C2014-12-14 17:16:40.729 [IPClusterStart] ERROR | IPython cluster: stopping\n2014-12-14 17:16:40.730 [IPClusterStart] Stopping Engines...\n2014-12-14 17:16:43.734 [IPClusterStart] Removing pid file: /home/okazaki/.ipython/profile_mezcal/pid/ipcluster.pid\n```\n\n\u6b8b\u5ff5\u306a\u304c\u3089\uff0c\u73fe\u30d0\u30fc\u30b7\u30e7\u30f3\u306e`LoadBalancedView`\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306b\u306f\uff0c\u5b9f\u884c\u4e2d\u306e\u30b8\u30e7\u30d6\u3092\u505c\u6b62\u3059\u308b\u65b9\u6cd5\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u305b\u3093\uff08\u53c2\u8003\u6587\u732e: [[IPython-dev] Fwd: interrupt/abort parallel jobs](http://mail.scipy.org/pipermail/ipython-dev/2014-March/013426.html)\uff09\uff0e\u7dca\u6025\u306e\u5834\u5408\u306f\u65b9\u6cd52\u306e\u3088\u3046\u306b`ipcluster`\u305d\u306e\u3082\u306e\u3092\u518d\u8d77\u52d5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\n\n# \u304a\u308f\u308a\u306b\n\n\u79c1\u304c\u30af\u30e9\u30b9\u30bf\u74b0\u5883\u3067\u306e\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u59cb\u3081\u305f\u9803\uff082005\u5e74\u9803\uff09\u306f[GXP Grid & Cluster Shell](http://www.logos.ic.i.u-tokyo.ac.jp/gxp/)\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3057\u305f\uff0eGXP\u306b\u306fmake\u306e\u3088\u3046\u306a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u5b9f\u884c\u3059\u308b\u6a5f\u80fd\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\u79c1\u306f\u3082\u3063\u3071\u3089\u30d0\u30ab\u30d1\u30e9\u306e\u7528\u9014\u3067\u4f7f\u3063\u3066\u3044\u307e\u3057\u305f\uff0e\u4fbf\u5229\u306a\u30c4\u30fc\u30eb\u3067\u3059\u304c\uff0c\u73fe\u5728\u306f\u958b\u767a\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\uff0e\u3053\u306e\u7a0b\u5ea6\u306e\u7528\u9014\u3067\u3042\u308c\u3070\uff0c[GNU Parallal](http://www.gnu.org/software/parallel/)\u3067\u3082\u5341\u5206\u3060\u3063\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\uff0e\n\n2011\u5e74\u9803\uff0c[Hadoop](http://hadoop.apache.org/)\u306e\u5229\u7528\u3092\u771f\u5263\u306b\u691c\u8a0e\u3057\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\u5927\u5b66\u306e\u7814\u7a76\u5ba4\u30ec\u30d9\u30eb\u3067Hadoop\u3092\u7ba1\u7406\u30fb\u904b\u7528\u3059\u308b\u306e\u306f\u5927\u5909\u3067\u3057\u305f\uff0e\u307e\u305f\uff0cPython\u3067\u5b9f\u88c5\u3057\u305f\u5c0f\u898f\u6a21\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30d0\u30ab\u30d1\u30e9\u3067\u4e26\u5217\u5316\u3059\u308b\u306b\u306f\uff0cHadoop\u5411\u3051\u306e\u8ffd\u52a0\u4f5c\u696d\u304c\u8981\u308b\u305f\u3081\uff0c\u5b66\u751f\u3055\u3093\u306b\u306f\u30cf\u30fc\u30c9\u30eb\u304c\u9ad8\u3044\u3088\u3046\u306b\u611f\u3058\u307e\u3057\u305f\uff0e\u305f\u3060\uff0c\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\uff08HDFS\uff09\u306f\u975e\u5e38\u306b\u4fbf\u5229\u306b\u611f\u3058\u307e\u3057\u305f\uff0e\u305d\u3053\u3067\uff0c\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3068\u3057\u3066[GFarm](http://datafarm.apgrid.org/index.ja.html)\u3092\u4f7f\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff0e\u5206\u6563\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306b\u7f6e\u3044\u305f\u30c7\u30fc\u30bf\u3092\u5c40\u6240\u6027\u3092\u8003\u616e\u3057\u3066\u51e6\u7406\u3059\u308b\u305f\u3081\uff0c\u72ec\u81ea\u306e\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u30b7\u30b9\u30c6\u30e0\u3092[Paramiko](http://www.paramiko.org/)\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3057\u307e\u3057\u305f\uff0e\u305d\u306e\u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\u30b7\u30b9\u30c6\u30e0\u306e\u6b8b\u9ab8\u304c[gfqsub](https://github.com/chokkan/gfqsub)\u3067\u3059\uff0e\n\n\u3068\u3053\u308d\u304c\u6700\u8fd1\uff0c\u5b9f\u9a13\u3084\u30c7\u30fc\u30bf\u5206\u6790\u4f5c\u696d\u3092[IPython notebook](http://ipython.org/notebook.html)\u4e0a\u3067\u884c\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff0eIPython notebook\u306f\u5927\u5909\u4fbf\u5229\u306a\u306e\u3067\u3059\u304c\uff0c\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3068\u306e\u89aa\u548c\u6027\u306f\u30a4\u30de\u30a4\u30c1\u3067\uff0c\u30d0\u30ab\u30d1\u30e9\u3092\u5b9f\u73fe\u3059\u308bPython\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u63a2\u3057\u307e\u3057\u305f\uff0e\u8abf\u3079\u3066\u307f\u308b\u3068\uff0cIPython cluster\u3067\u5206\u6563\u4e26\u5217\u51e6\u7406\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306e\uff0c\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4ee5\u5916\u306e\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u305f\u3081\uff0c\u81ea\u5206\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u307f\u306a\u304c\u3089Bakapara\u3092\u4f5c\u308a\u307e\u3057\u305f\uff0e\n\n\u4eca\u56de\u306fSSH\u3092\u4f7f\u3063\u3066\u30d0\u30ab\u30d1\u30e9\u3092\u5b9f\u73fe\u3057\u307e\u3057\u305f\u304c\uff0cIPython cluster\u306f`ipcluster_config.py`\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\uff0cMPI, PBS (qsub) , Windows HPC Server, Amazon EC2\u3092\u7d71\u4e00\u7684\u306b\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u3067\u3059\uff0e\u304a\u305d\u3089\u304f\uff0cBakapara\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3053\u308c\u3089\u306e\u74b0\u5883\u3067\u3082\u305d\u306e\u307e\u307e\u52d5\u4f5c\u3059\u308b\u3068\u601d\u3044\u307e\u3059\uff08\u79c1\u81ea\u8eab\u306f\u30c6\u30b9\u30c8\u3092\u3057\u3066\u304a\u308a\u307e\u305b\u3093\uff09\uff0e\u307e\u305f\uff0cIPython cluster\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a8\u30f3\u30b8\u30f3\u9593\u306e\u30b3\u30fc\u30c9\u30fb\u30c7\u30fc\u30bf\u306e\u3084\u308a\u53d6\u308a\u306a\u3069\uff0c\u304b\u306a\u308a\u9ad8\u5ea6\u306a\u5206\u6563\u4e26\u5217\u51e6\u7406\u304c\u5b9f\u73fe\u3067\u304d\u307e\u3059\uff0e\u3053\u308c\u3089\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3069\u306e\u3088\u3046\u306a\u9762\u767d\u3044\u3053\u3068\u304c\u3067\u304d\u308b\u304b\uff0c\u4eca\u5f8c\u3082\u63a2\u6c42\u3092\u7d9a\u3051\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\n", "tags": ["Python", "IPython", "\u4e26\u5217\u51e6\u7406"]}