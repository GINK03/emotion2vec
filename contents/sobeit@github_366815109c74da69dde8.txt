{"context": " More than 1 year has passed since last update.Sails\u3067\u306epubsub\u306fsocket.io\u3092\u5229\u7528\u3057\u305f\u3082\u306e\u306a\u306e\u3067\u3001client\u5074\uff08\u30d6\u30e9\u30a6\u30b6\u5074\uff09\u3067\u306fmessage\u30a4\u30d9\u30f3\u30c8\u3092\u62fe\u3063\u3066\u3042\u3052\u308c\u3070publish\u3055\u308c\u305f\u4e2d\u8eab\u3092\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\u4f8b\u3048\u3070\u30e6\u30fc\u30b6\u304c\u65b0\u305f\u306b\u8ffd\u52a0\u3055\u308c\u305f\u901a\u77e5\u3092\u3059\u308b\u5834\u5408\u306b\u306f\u3001User\u30af\u30e9\u30b9\u306esubscribe\u3068publishCreate\u3092\u5229\u7528\u3057\u3066\u3001client\u3067\u306fsocket\u306eon\u30e1\u30bd\u30c3\u30c9\u3067message\u30a4\u30d9\u30f3\u30c8\u3092\u62fe\u3063\u3066User\u30af\u30e9\u30b9\u306ecreate\u6642\u306bpublish\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u308a\u51fa\u3059\u3002\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u611f\u3058\u3002\n\nUserController.js\n\ncreateUser: function(req,res) {\n  User.subscribe(req.socket);\n  User.publishCreate({id:req.param('userID')});\n}\n\n\n\nuser_id_list.ejs\n<div id='user_id_list'>\n  <ul id='id_list'>\n  </ul>\n</div>\n<script type=\"text/javascript\">\n$(function(){\n  socket.on('message',function(msg){\n    var model = msg['model'];\n    if(model=='user') {\n      var userId = '<li>'+msg['id']+'</li>';\n      $('#id_list').append(userId);\n    }\n  });\n});\n</script>\n\n\nSails\u3067\u306epubsub\u306fsocket.io\u3092\u5229\u7528\u3057\u305f\u3082\u306e\u306a\u306e\u3067\u3001client\u5074\uff08\u30d6\u30e9\u30a6\u30b6\u5074\uff09\u3067\u306fmessage\u30a4\u30d9\u30f3\u30c8\u3092\u62fe\u3063\u3066\u3042\u3052\u308c\u3070publish\u3055\u308c\u305f\u4e2d\u8eab\u3092\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\u4f8b\u3048\u3070\u30e6\u30fc\u30b6\u304c\u65b0\u305f\u306b\u8ffd\u52a0\u3055\u308c\u305f\u901a\u77e5\u3092\u3059\u308b\u5834\u5408\u306b\u306f\u3001User\u30af\u30e9\u30b9\u306esubscribe\u3068publishCreate\u3092\u5229\u7528\u3057\u3066\u3001client\u3067\u306fsocket\u306eon\u30e1\u30bd\u30c3\u30c9\u3067message\u30a4\u30d9\u30f3\u30c8\u3092\u62fe\u3063\u3066User\u30af\u30e9\u30b9\u306ecreate\u6642\u306bpublish\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u308a\u51fa\u3059\u3002\n\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u611f\u3058\u3002\n\n```js:UserController.js\n\ncreateUser: function(req,res) {\n  User.subscribe(req.socket);\n  User.publishCreate({id:req.param('userID')});\n}\n```\n\n```html:user_id_list.ejs\n<div id='user_id_list'>\n  <ul id='id_list'>\n  </ul>\n</div>\n<script type=\"text/javascript\">\n$(function(){\n  socket.on('message',function(msg){\n    var model = msg['model'];\n    if(model=='user') {\n      var userId = '<li>'+msg['id']+'</li>';\n      $('#id_list').append(userId);\n    }\n  });\n});\n</script>\n```\n", "tags": ["JavaScript", "Node.js", "Sails.js"]}