{"context": " More than 1 year has passed since last update.\n\nvyatta\u306e\u8a2d\u5b9a\n### snmp\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\n$ conf\n$ set service snmp community \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d\n$ commit\n$ save\n\n### munin\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059\n$ sudo vim /etc/munin/munin-node.conf\ncidr_allow 192.168.0.0/16\ncidr_allow 172.16.0.0/8\ncidr_allow 10.0.0.0/8\n\n### locale\u304c\u306a\u3044\u306e\u3067\u8ffd\u52a0+\u8a2d\u5b9a\u3059\u308b\u3002\u3053\u308c\u3057\u306a\u3044\u3068restart\u306e\u3068\u304d\u3001\u4e0b\u8a18\u30a8\u30e9\u30fc\u304c\u51fa\u308b\n# Stopping Munin-Node: done.\n# Starting Munin-Node:perl: warning: Setting locale failed.\n# perl: warning: Please check that your locale settings:\n#   LANGUAGE = (unset),\n#   LC_ALL = (unset),\n#   LANG = \"en_US.UTF-8\"\n#     are supported and installed on your system.\n# perl: warning: Falling back to the standard locale (\"C\").\n#  done.\n\n### en_US.UTF-8\u3092\u5165\u308c\u3066\u304a\u304d\u307e\u3057\u3087\u3046\n$ sudo dpkg-reconfigure locales\n\n### \u30b5\u30fc\u30d3\u30b9\u518d\u8d77\u52d5\n$ apt-get install chkconfig\n$ sudo chkconfig munin-node on\n$ sudo service munin-node restart\n\n\nmunin\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\n$ sudo yum install -y net-snmp-utils\n\n### \u5b9f\u969b\u306b\u52d5\u304f\u304b\u78ba\u304b\u3081\u3066\u307f\u3088\u3046\uff01\n$ snmpwalk -v 2c -c \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d 192.168.1.100\n\n### munin\u3067\u76e3\u8996\u51fa\u6765\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n$ su -\n\n### \u3053\u3053\u304b\u3089\u5168\u3066root\u4f5c\u696d\n### /etc/munin/plugins/\u306b\u3042\u308bsnmp_\u30d5\u30a1\u30a4\u30eb\u306b\u5411\u3051\u3066\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\n$ vim /etc/munin/plugin-conf.d/munin-node\n[snmp_*]\nenv.version 2\nenv.community \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d\n\n$ vim /etc/munin/munin.conf\n### \u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\u306f\u30c0\u30e1\u307f\u305f\u3044\u3067\u3059\u3002\u306a\u306e\u3067snmp-\u306b\u3057\u3066\u307e\u3059\n[192.168.1.100]\n  address 192.168.1.100\n  use_node_name yes\n\n### \u7372\u308c\u308b\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\n$ munin-node-configure --snmp 192.168.1.100 --snmpversion 2 --snmpcommunity \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d\n\n### \u78ba\u8a8d\u3057\u305f\u3089\u53cd\u6620\u3002\u30ea\u30f3\u30af\u304c\u8cbc\u3089\u308c\u307e\u3059\u3002\n### \u5fc5\u8981\u306a\u7269\u3060\u3051\u30ea\u30f3\u30af\u3092\u8cbc\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n$ munin-node-configure --snmp 192.168.1.100 --snmpversion 2 --snmpcommunity \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d --shell sh\nln -s '/usr/share/munin/plugins/snmp__cpuload' '/etc/munin/plugins/snmp_192.168.1.100_cpuload'\nln -s '/usr/share/munin/plugins/snmp__df' '/etc/munin/plugins/snmp_192.168.1.100_df'\nln -s '/usr/share/munin/plugins/snmp__df_ram' '/etc/munin/plugins/snmp_192.168.1.100_df_ram'\nln -s '/usr/share/munin/plugins/snmp__if_' '/etc/munin/plugins/snmp_192.168.1.100_if_1'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_1'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_2'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_3'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_4'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_5'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_7'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_8'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_9'\nln -s '/usr/share/munin/plugins/snmp__if_multi' '/etc/munin/plugins/snmp_192.168.1.100_if_multi'\nln -s '/usr/share/munin/plugins/snmp__load' '/etc/munin/plugins/snmp_192.168.1.100_load'\nln -s '/usr/share/munin/plugins/snmp__memory' '/etc/munin/plugins/snmp_192.168.1.100_memory'\nln -s '/usr/share/munin/plugins/snmp__netstat' '/etc/munin/plugins/snmp_192.168.1.100_netstat'\nln -s '/usr/share/munin/plugins/snmp__processes' '/etc/munin/plugins/snmp_192.168.1.100_processes'\nln -s '/usr/share/munin/plugins/snmp__swap' '/etc/munin/plugins/snmp_192.168.1.100_swap'\nln -s '/usr/share/munin/plugins/snmp__uptime' '/etc/munin/plugins/snmp_192.168.1.100_uptime'\nln -s '/usr/share/munin/plugins/snmp__users' '/etc/munin/plugins/snmp_192.168.1.100_users'\nln -s '/usr/share/munin/plugins/snmp__winload' '/etc/munin/plugins/snmp_192.168.1.100_winload'\nln -s '/usr/share/munin/plugins/snmp__winmem' '/etc/munin/plugins/snmp_192.168.1.100_winmem'\n\n### munin restart\n$ service munin-node restart\n\n\n\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\n$ telnet localhost 4949\nnodes\nlist [\u4e0a\u8a18\u3067\u51fa\u305fSNMP\u3067\u7ba1\u7406\u3057\u305f\u3044IP]\n\n\u3042\u3068\u306fmunin\u306e\u753b\u9762\u4e0a\u3067\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\n#vyatta\u306e\u8a2d\u5b9a\n```bash\n### snmp\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\n$ conf\n$ set service snmp community \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d\n$ commit\n$ save\n\n### munin\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059\n$ sudo vim /etc/munin/munin-node.conf\ncidr_allow 192.168.0.0/16\ncidr_allow 172.16.0.0/8\ncidr_allow 10.0.0.0/8\n\n### locale\u304c\u306a\u3044\u306e\u3067\u8ffd\u52a0+\u8a2d\u5b9a\u3059\u308b\u3002\u3053\u308c\u3057\u306a\u3044\u3068restart\u306e\u3068\u304d\u3001\u4e0b\u8a18\u30a8\u30e9\u30fc\u304c\u51fa\u308b\n# Stopping Munin-Node: done.\n# Starting Munin-Node:perl: warning: Setting locale failed.\n# perl: warning: Please check that your locale settings:\n# \tLANGUAGE = (unset),\n# \tLC_ALL = (unset),\n# \tLANG = \"en_US.UTF-8\"\n#     are supported and installed on your system.\n# perl: warning: Falling back to the standard locale (\"C\").\n#  done.\n\n### en_US.UTF-8\u3092\u5165\u308c\u3066\u304a\u304d\u307e\u3057\u3087\u3046\n$ sudo dpkg-reconfigure locales\n\n### \u30b5\u30fc\u30d3\u30b9\u518d\u8d77\u52d5\n$ apt-get install chkconfig\n$ sudo chkconfig munin-node on\n$ sudo service munin-node restart\n```\n\n#munin\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\n```bash\n$ sudo yum install -y net-snmp-utils\n\n### \u5b9f\u969b\u306b\u52d5\u304f\u304b\u78ba\u304b\u3081\u3066\u307f\u3088\u3046\uff01\n$ snmpwalk -v 2c -c \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d 192.168.1.100\n\n### munin\u3067\u76e3\u8996\u51fa\u6765\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n$ su -\n\n### \u3053\u3053\u304b\u3089\u5168\u3066root\u4f5c\u696d\n### /etc/munin/plugins/\u306b\u3042\u308bsnmp_\u30d5\u30a1\u30a4\u30eb\u306b\u5411\u3051\u3066\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\n$ vim /etc/munin/plugin-conf.d/munin-node\n[snmp_*]\nenv.version 2\nenv.community \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d\n\n$ vim /etc/munin/munin.conf\n### \u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\u306f\u30c0\u30e1\u307f\u305f\u3044\u3067\u3059\u3002\u306a\u306e\u3067snmp-\u306b\u3057\u3066\u307e\u3059\n[192.168.1.100]\n  address 192.168.1.100\n  use_node_name yes\n\n### \u7372\u308c\u308b\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\n$ munin-node-configure --snmp 192.168.1.100 --snmpversion 2 --snmpcommunity \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d\n\n### \u78ba\u8a8d\u3057\u305f\u3089\u53cd\u6620\u3002\u30ea\u30f3\u30af\u304c\u8cbc\u3089\u308c\u307e\u3059\u3002\n### \u5fc5\u8981\u306a\u7269\u3060\u3051\u30ea\u30f3\u30af\u3092\u8cbc\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n$ munin-node-configure --snmp 192.168.1.100 --snmpversion 2 --snmpcommunity \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u540d --shell sh\nln -s '/usr/share/munin/plugins/snmp__cpuload' '/etc/munin/plugins/snmp_192.168.1.100_cpuload'\nln -s '/usr/share/munin/plugins/snmp__df' '/etc/munin/plugins/snmp_192.168.1.100_df'\nln -s '/usr/share/munin/plugins/snmp__df_ram' '/etc/munin/plugins/snmp_192.168.1.100_df_ram'\nln -s '/usr/share/munin/plugins/snmp__if_' '/etc/munin/plugins/snmp_192.168.1.100_if_1'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_1'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_2'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_3'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_4'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_5'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_7'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_8'\nln -s '/usr/share/munin/plugins/snmp__if_err_' '/etc/munin/plugins/snmp_192.168.1.100_if_err_9'\nln -s '/usr/share/munin/plugins/snmp__if_multi' '/etc/munin/plugins/snmp_192.168.1.100_if_multi'\nln -s '/usr/share/munin/plugins/snmp__load' '/etc/munin/plugins/snmp_192.168.1.100_load'\nln -s '/usr/share/munin/plugins/snmp__memory' '/etc/munin/plugins/snmp_192.168.1.100_memory'\nln -s '/usr/share/munin/plugins/snmp__netstat' '/etc/munin/plugins/snmp_192.168.1.100_netstat'\nln -s '/usr/share/munin/plugins/snmp__processes' '/etc/munin/plugins/snmp_192.168.1.100_processes'\nln -s '/usr/share/munin/plugins/snmp__swap' '/etc/munin/plugins/snmp_192.168.1.100_swap'\nln -s '/usr/share/munin/plugins/snmp__uptime' '/etc/munin/plugins/snmp_192.168.1.100_uptime'\nln -s '/usr/share/munin/plugins/snmp__users' '/etc/munin/plugins/snmp_192.168.1.100_users'\nln -s '/usr/share/munin/plugins/snmp__winload' '/etc/munin/plugins/snmp_192.168.1.100_winload'\nln -s '/usr/share/munin/plugins/snmp__winmem' '/etc/munin/plugins/snmp_192.168.1.100_winmem'\n\n### munin restart\n$ service munin-node restart\n```\n\n#\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\n```bash\n$ telnet localhost 4949\nnodes\nlist [\u4e0a\u8a18\u3067\u51fa\u305fSNMP\u3067\u7ba1\u7406\u3057\u305f\u3044IP]\n```\n\u3042\u3068\u306fmunin\u306e\u753b\u9762\u4e0a\u3067\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\n", "tags": ["VyOS", "Munin", "snmp"]}