{"context": "\u30c7\u30e2\uff1ahttp://codepen.io/mo4_9/pen/LkqJZJ\n\n\u6700\u4e0b\u5c64\u306bdiv3\u306eDOM\u69cb\u9020\n<div id=\"div1\">#div1\n  <div id=\"div2\">#div2\n    <div id=\"div3\">#div3</div>\n  </div>\n</div>\n\n\nvar div1 = document.getElementById('div1');\nvar div2 = document.getElementById('div2');\nvar div3 = document.getElementById('div3');\n\ndiv1.addEventListener('click', () => {\n  console.log('#div1.');\n});\ndiv2.addEventListener('click', () => {\n  console.log('#div2. stopPropagation()\u3057\u3066\u306a\u3044');\n});\ndiv3.addEventListener('click', e => {\n  console.log('#div3. stopPropagation()\u3057\u3066\u308b');\n  e.stopPropagation(); // \u30a4\u30d9\u30f3\u30c8\u306e\u4f1d\u64ad\u3092\u6b62\u3081\u308b\n});\n\n\n\u30a4\u30d9\u30f3\u30c8\u4f1d\u64ad\u306e3\u30d5\u30a7\u30fc\u30ba\n\u6d77\u306b\u6f5c\u3063\u3066\u6d6e\u4e0a\u3057\u3066\u304f\u308b\u30a4\u30e1\u30fc\u30b8\n\n1.capture phase\n\u4e0a\u5c64\u304b\u3089\u4e0b\u5c64\u3078\u30a4\u30d9\u30f3\u30c8\u3092\u4f1d\u64ad\u3055\u305b\u3066\u3044\u304f\nwindow -> document -> ... -> div3\n\n2.target phase\n\u30a4\u30d9\u30f3\u30c8\u30bf\u30fc\u30b2\u30c3\u30c8\uff1d\u3082\u3063\u3068\u3082\u4e0b\u5c64\u306b\u3042\u308b\u8981\u7d20 \u306b\u5230\u9054\ndiv3\n\n3.bubbling phase\n\u4e0b\u5c64\u304b\u3089\u4e0a\u5c64\u3078\u30a4\u30d9\u30f3\u30c8\u3092\u8a55\u4fa1\u3057\u3066\u3044\u304f\ndiv3 -> div2 -> ... window\n\nuseCapture\naddEventListener()\u306e\u7b2c\u4e09\u5f15\u6570\ncapture phase\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u8a55\u4fa1\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u8a2d\u5b9a\n\nfalse\nbubbling phase\uff08\u30d5\u30a7\u30fc\u30ba3\uff09\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u8a55\u4fa1\u3055\u308c\u308b\uff08\uff1d\u30a4\u30d9\u30f3\u30c8\u767a\u706b\u304c\u9045\u3044\uff09\ndiv3 -> div2 -> div1\n\u3053\u308c\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\n\ntrue\ncapture phase\uff08\u30d5\u30a7\u30fc\u30ba1\uff09\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u8a55\u4fa1\u3055\u308c\u308b\uff08\uff1d\u30a4\u30d9\u30f3\u30c8\u767a\u706b\u304c\u65e9\u3044\uff09\ndiv1.addEventListener('click', () => {\n    // ...\n}, true);\n\n\u306a\u3089 div1 -> div3 -> div2 \u306b\u306a\u308b\n\ne.stopPropagation();\ncapture phase\u3067\u30a4\u30d9\u30f3\u30c8\u4f1d\u64ad\u3092\u6b62\u3081\u308b\n\n\u53c2\u8003\nJavaScript\u518d\u5165\u9580\nUI Events W3C Working Draft, 26 July 2016\n\n\n\u30c7\u30e2\uff1ahttp://codepen.io/mo4_9/pen/LkqJZJ\n\n```html:\u6700\u4e0b\u5c64\u306bdiv3\u306eDOM\u69cb\u9020\n<div id=\"div1\">#div1\n  <div id=\"div2\">#div2\n    <div id=\"div3\">#div3</div>\n  </div>\n</div>\n```\n\n```javascript\nvar div1 = document.getElementById('div1');\nvar div2 = document.getElementById('div2');\nvar div3 = document.getElementById('div3');\n\ndiv1.addEventListener('click', () => {\n  console.log('#div1.');\n});\ndiv2.addEventListener('click', () => {\n  console.log('#div2. stopPropagation()\u3057\u3066\u306a\u3044');\n});\ndiv3.addEventListener('click', e => {\n  console.log('#div3. stopPropagation()\u3057\u3066\u308b');\n  e.stopPropagation(); // \u30a4\u30d9\u30f3\u30c8\u306e\u4f1d\u64ad\u3092\u6b62\u3081\u308b\n});\n```\n\n\n## \u30a4\u30d9\u30f3\u30c8\u4f1d\u64ad\u306e3\u30d5\u30a7\u30fc\u30ba\n\n\u6d77\u306b\u6f5c\u3063\u3066\u6d6e\u4e0a\u3057\u3066\u304f\u308b\u30a4\u30e1\u30fc\u30b8\n\n### 1.capture phase\n\n\u4e0a\u5c64\u304b\u3089\u4e0b\u5c64\u3078\u30a4\u30d9\u30f3\u30c8\u3092\u4f1d\u64ad\u3055\u305b\u3066\u3044\u304f\n\n`window -> document -> ... -> div3`\n\n### 2.target phase\n\n\u30a4\u30d9\u30f3\u30c8\u30bf\u30fc\u30b2\u30c3\u30c8\uff1d\u3082\u3063\u3068\u3082\u4e0b\u5c64\u306b\u3042\u308b\u8981\u7d20 \u306b\u5230\u9054\n\n`div3`\n\n### 3.bubbling phase\n\n\u4e0b\u5c64\u304b\u3089\u4e0a\u5c64\u3078\u30a4\u30d9\u30f3\u30c8\u3092\u8a55\u4fa1\u3057\u3066\u3044\u304f\n\n`div3 -> div2 -> ... window`\n\n\n## useCapture\n\naddEventListener()\u306e\u7b2c\u4e09\u5f15\u6570\ncapture phase\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u8a55\u4fa1\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u8a2d\u5b9a\n\n### false\n\n**bubbling phase**\uff08\u30d5\u30a7\u30fc\u30ba3\uff09\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u8a55\u4fa1\u3055\u308c\u308b\uff08\uff1d\u30a4\u30d9\u30f3\u30c8\u767a\u706b\u304c\u9045\u3044\uff09\n\n`div3 -> div2 -> div1`\n\n\u3053\u308c\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\n\n### true\n\n**capture phase**\uff08\u30d5\u30a7\u30fc\u30ba1\uff09\u3067\u30a4\u30d9\u30f3\u30c8\u304c\u8a55\u4fa1\u3055\u308c\u308b\uff08\uff1d\u30a4\u30d9\u30f3\u30c8\u767a\u706b\u304c\u65e9\u3044\uff09\n\n```javascript\ndiv1.addEventListener('click', () => {\n    // ...\n}, true);\n```\n\u306a\u3089 `div1 -> div3 -> div2` \u306b\u306a\u308b\n\n\n## e.stopPropagation();\n\ncapture phase\u3067\u30a4\u30d9\u30f3\u30c8\u4f1d\u64ad\u3092\u6b62\u3081\u308b\n\n\n> \u53c2\u8003\n[JavaScript\u518d\u5165\u9580](https://app.codegrid.net/series/mastering-javascript)\n[UI Events W3C Working Draft, 26 July 2016](https://w3c.github.io/uievents/)\n", "tags": ["JavaScript", "es6"]}