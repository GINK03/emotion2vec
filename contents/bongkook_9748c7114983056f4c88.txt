{"context": " More than 1 year has passed since last update.CSV\u5f62\u5f0f\u30d5\u30a1\u30a4\u30eb\u306b\u5217(Column)\u3092\u8ffd\u52a0\u3059\u308bAWK\u30b9\u30af\u30ea\u30d7\u30c8\n\nadd_column.awk\n#!/bin/gawk -f\n#./add_column.awk col=[num] val=[value] quot=[true] [filename] > [new filename]\n\nBEGIN{\n    FS=\",\"\n}\n{\n    split($0,cols,\",\");\n    rec = \"\"\n    for (i=0;i<length(cols);i++) {\n        colno = (i+1)\n        if(colno==col) {\n            if(quot==\"true\") {\n                rec = rec \",\u00a5\"\" val \"\u00a5\"\"\n            } else {\n                rec = rec \",\" val\n            }\n        }\n        if (i==0) {\n            rec = $ + colno\n        } else {\n            rec = rec \",\" $ + colno\n        }\n    }\n    print rec\n}\n\n\n\"\u3046\"\u3068\"\u304f\"\u306e\u6b21\u306e\"\u3068\"\u3092\u633f\u5165\u3057\u3066\u307f\u308b\u3002\n\ntest.csv\n\u3042,\u3044,\u3046,\u3048,\u304a\n\u304b,\u304d,\u304f,\u3051,\u3053\n\n\n[\u5b9f\u884c\u65b9\u6cd5]\n./add_column.awk col=4 val=\u3068 quot=false test.csv > new_test.csv\n\nnew_test.csv\n\u3042,\u3044,\u3046,\u3068,\u3048,\u304a\n\u304b,\u304d,\u304f,\u3068,\u3051,\u3053\n\n\n**CSV\u5f62\u5f0f\u30d5\u30a1\u30a4\u30eb\u306b\u5217(Column)\u3092\u8ffd\u52a0\u3059\u308bAWK\u30b9\u30af\u30ea\u30d7\u30c8**\n\n```lang:add_column.awk\n#!/bin/gawk -f\n#./add_column.awk col=[num] val=[value] quot=[true] [filename] > [new filename]\n\nBEGIN{\n    FS=\",\"\n}\n{\n    split($0,cols,\",\");\n    rec = \"\"\n    for (i=0;i<length(cols);i++) {\n        colno = (i+1)\n        if(colno==col) {\n            if(quot==\"true\") {\n                rec = rec \",\u00a5\"\" val \"\u00a5\"\"\n            } else {\n                rec = rec \",\" val\n            }\n        }\n        if (i==0) {\n            rec = $ + colno\n        } else {\n            rec = rec \",\" $ + colno\n        }\n    }\n    print rec\n}\n```\n\n\"\u3046\"\u3068\"\u304f\"\u306e\u6b21\u306e\"\u3068\"\u3092\u633f\u5165\u3057\u3066\u307f\u308b\u3002\n\n```lang:test.csv\n\u3042,\u3044,\u3046,\u3048,\u304a\n\u304b,\u304d,\u304f,\u3051,\u3053\n```\n[\u5b9f\u884c\u65b9\u6cd5]\n`./add_column.awk col=4 val=\u3068 quot=false test.csv > new_test.csv`\n\n```lang:new_test.csv\n\u3042,\u3044,\u3046,\u3068,\u3048,\u304a\n\u304b,\u304d,\u304f,\u3068,\u3051,\u3053\n```\n\n", "tags": ["awk"]}