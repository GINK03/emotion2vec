{"context": " More than 1 year has passed since last update.\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7d44\u3093\u3060\u3068\u3057\u3066\n\ncron_task.coffee\ncronJob = require('cron').CronJob\n\nmodule.export = (robot) ->\n  task1 = new cronJob('00 00 00 * * 1-5', () ->\n    # \u767a\u8a00\u3057\u305f\u3044\n\n\nrobot \u3057\u304b\u7121\u3044\u306e\u3067\u3001robot.send \u3067\u767a\u8a00\u3055\u305b\u307e\u3059\u3002\n\u3053\u306e\u6642\n\ncron_task.coffee\ncronJob = require('cron').CronJob\n\nmodule.export = (robot) ->\n  task1 = new cronJob('00 00 00 * * 1-5', () ->\n    envelope = room: \"#channel\"\n    robot.send envelope, \"\u307b\u3052\u3089\"\n\n\n\u3068\u304b\u3059\u308b\u3068\u3001\n\n[Mon Mar 02 2015 00:00:00 GMT+0000 (UTC)] ERROR TypeError: Cannot call method 'send' of undefined\n  at SlackBot.send (/path/to/hubot/node_modules/hubot-slack/src/slack.coffee:181:16, <js>:216:33)\n  at Robot.send (/path/to/hubot/node_modules/hubot/src/robot.coffee:395:19, <js>:365:42)\n  at Object.cronJob.onTick (/path/to/hubot/scripts/cron_task.coffee:8:7, <js>:15:15)\n  at Object.CronJob._callback (/path/to/hubot/node_modules/cron/lib/cron.js:343:26)\n  at [object Object].callbackWrapper [as _onTimeout] (/path/to/hubot/node_modules/cron/lib/cron.js:405:14)\n  at Timer.listOnTimeout [as ontimeout] (timers.js:110:15)\n\n\u3068\u304b\u8a00\u308f\u308c\u307e\u3059\u3002\u4e00\u4ef6 robot \u304c\u5b58\u5728\u3057\u306a\u304f\u3066 send \u547c\u3093\u3058\u3083\u3063\u305f\u3063\u307d\u304f\u898b\u3048\u307e\u3059\u304c\u3001hubot-slack v3 \u304b\u3089\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u304c\u5909\u66f4\u3055\u308c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u306a\u3044\u3068\u52d5\u304d\u307e\u305b\u3093\u3002\n\ncron_task.coffee\n\ncronJob = require('cron').CronJob\n\nmodule.export = (robot) ->\n  task1 = new cronJob('00 00 00 * * 1-5', () ->\n    envelope = room: \"channel\"\n    robot.send envelope, \"\u307b\u3052\u3089\"\n\n\n\u30c1\u30e3\u30f3\u30cd\u30eb\u540d\u306e\u30b7\u30e3\u30fc\u30d7\u306f\u53d6\u308a\u307e\u3057\u3087\u3046\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7d44\u3093\u3060\u3068\u3057\u3066\n\n```coffeescript:cron_task.coffee\ncronJob = require('cron').CronJob\n\nmodule.export = (robot) ->\n  task1 = new cronJob('00 00 00 * * 1-5', () ->\n    # \u767a\u8a00\u3057\u305f\u3044\n```\n\nrobot \u3057\u304b\u7121\u3044\u306e\u3067\u3001robot.send \u3067\u767a\u8a00\u3055\u305b\u307e\u3059\u3002\n\u3053\u306e\u6642\n\n```coffeescript:cron_task.coffee\ncronJob = require('cron').CronJob\n\nmodule.export = (robot) ->\n  task1 = new cronJob('00 00 00 * * 1-5', () ->\n    envelope = room: \"#channel\"\n    robot.send envelope, \"\u307b\u3052\u3089\"\n```\n\n\u3068\u304b\u3059\u308b\u3068\u3001\n\n```\n\n[Mon Mar 02 2015 00:00:00 GMT+0000 (UTC)] ERROR TypeError: Cannot call method 'send' of undefined\n  at SlackBot.send (/path/to/hubot/node_modules/hubot-slack/src/slack.coffee:181:16, <js>:216:33)\n  at Robot.send (/path/to/hubot/node_modules/hubot/src/robot.coffee:395:19, <js>:365:42)\n  at Object.cronJob.onTick (/path/to/hubot/scripts/cron_task.coffee:8:7, <js>:15:15)\n  at Object.CronJob._callback (/path/to/hubot/node_modules/cron/lib/cron.js:343:26)\n  at [object Object].callbackWrapper [as _onTimeout] (/path/to/hubot/node_modules/cron/lib/cron.js:405:14)\n  at Timer.listOnTimeout [as ontimeout] (timers.js:110:15)\n```\n\n\u3068\u304b\u8a00\u308f\u308c\u307e\u3059\u3002\u4e00\u4ef6 robot \u304c\u5b58\u5728\u3057\u306a\u304f\u3066 send \u547c\u3093\u3058\u3083\u3063\u305f\u3063\u307d\u304f\u898b\u3048\u307e\u3059\u304c\u3001hubot-slack v3 \u304b\u3089\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u304c\u5909\u66f4\u3055\u308c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u306a\u3044\u3068\u52d5\u304d\u307e\u305b\u3093\u3002\n\n```coffeescript:cron_task.coffee\n\ncronJob = require('cron').CronJob\n\nmodule.export = (robot) ->\n  task1 = new cronJob('00 00 00 * * 1-5', () ->\n    envelope = room: \"channel\"\n    robot.send envelope, \"\u307b\u3052\u3089\"\n```\n\n\u30c1\u30e3\u30f3\u30cd\u30eb\u540d\u306e\u30b7\u30e3\u30fc\u30d7\u306f\u53d6\u308a\u307e\u3057\u3087\u3046\u3002\n", "tags": ["Hubot", "Slack"]}