{"context": "Google Cloud Platform \u306f\u3044\u308d\u3044\u308d\u306a API \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u3093\u306a\u4e2d \u30e6\u30fc\u30b6\u30d3\u30ea\u30c6\u30a3\u304c\u5411\u4e0a\u3057\u305f\u65b0\u3057\u3044 Cloud Client Libraries \u3068\u3044\u3046\u8a18\u4e8b\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u5f93\u6765\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u3001REST JSON API \u3092\u305d\u306e\u307e\u307e\u8584\u304f\u30e9\u30c3\u30d7\u3057\u305f\u3082\u306e\u3067\u3057\u305f\u304c\u3001\u65b0\u3057\u3044\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u3082\u3046\u3061\u3087\u3063\u3068\u9ad8\u30ec\u30d9\u30eb\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\u4eca\u56de\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u3092 Google Cloud Storage \u306b\u4e00\u822c\u516c\u958b\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u95b2\u89a7\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u307e\u3067 Go \u8a00\u8a9e\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\nGo \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u3053\u3061\u3089:\ngithub.com/GoogleCloudPlatform/google-cloud-go\n\nStorage\u306e\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\nWeb\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u4f5c\u308a\u307e\u3059\u3002\n\nasia-northeast1 \u304c\u3042\u308a\u307e\u3059\u306d\uff01\n\nCloud Tools\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCloud Tools \u306f\u306a\u304f\u3068\u3082\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u4f7f\u3048\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u8a8d\u53ef\u306e\u60c5\u5831\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3001Cloud Tools\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nhttps://cloud.google.com/sdk/docs/\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e init \u3067\u30d6\u30e9\u30a6\u30b6\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u81ea\u5206\u81ea\u8eab\u306eGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u8a8d\u53ef\u3057\u307e\u3059\u3002\n\n\u8a31\u53ef\u3059\u308b\u3068\u30de\u30b7\u30f3\u306b\u8a8d\u53ef\u306e\u60c5\u5831\u304c\u4fdd\u5b58\u3055\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3092\u66f8\u3044\u3066\u3044\u308b\u6642\u70b9\u3067\u306e\u30c4\u30fc\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n> google-cloud-sdk/bin/gcloud -v\nGoogle Cloud SDK 138.0.0\nbq 2.0.24\nbq-nix 2.0.24\ncore 2016.12.09\ncore-nix 2016.11.07\ngcloud\ngsutil 4.22\ngsutil-nix 4.20\n\n\n\u8a8d\u53ef\ngcloud \u30b3\u30de\u30f3\u30c9\u3067\u306e\u8a8d\u53ef\u304c\u3067\u304d\u3066\u3044\u308c\u3070\u3001\u305d\u306e\u30de\u30b7\u30f3\u5185\u306e\u6240\u5b9a\u306e\u4f4d\u7f6e\u306b\u8a8d\u53ef\u306e\u60c5\u5831\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002(\u304a\u305d\u3089\u304f $HOME/.config/gcloud \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u3042\u308b)\n\nClient\n\u30b3\u30fc\u30c9\u4e0a\u3067\u8a8d\u53ef\u306b\u95a2\u3057\u3066\u7279\u306b\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u30de\u30b7\u30f3\u4e0a\u306e\u8a8d\u53ef\u306e\u60c5\u5831\u3092\u4f7f\u3063\u3066\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u5358\u7d14\u306bClient\u3092\u4f5c\u308c\u3070OK\u3002\nctx := context.Background()\nclient, err := storage.NewClient(ctx)\n\n\nWriter\n\u4eca\u56de\u306f\u66f8\u304d\u8fbc\u307f\u306a\u306e\u3067\u3001Bucket > Object > Writer \u3068\u3044\u3046\u6d41\u308c\u3067Writer\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\nbucket := client.Bucket(your_bucket_name)\nobject := bucket.Object(your_file_name)\nwriter := object.NewWriter(ctx)\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u3001ContentType: text/plain \u306b\u3001\u307e\u305fACL\u3092\u300c\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u300d\u304c\u300c\u8aad\u307f\u53d6\u308a\u300d\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u3064\u3044\u3067\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u306a\u3057\u306b\u3057\u3066\u3044\u307e\u3059\u3002\nwriter.ObjectAttrs.ContentType = \"text/plain\"\nwriter.ObjectAttrs.CacheControl = \"no-cache\"\nwriter.ObjectAttrs.ACL = []storage.ACLRule{\n    storage.ACLRule{\n        Entity: storage.AllUsers,\n        Role:   storage.RoleReader,\n    },\n}\n\n\n\u66f8\u304d\u8fbc\u3080\n\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u305d\u308c\u3092 Writer \u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u6a19\u6e96\u306e io.Writer \u306a\u306e\u3067\u3001\u666e\u901a\u306b\u66f8\u304d\u8fbc\u3080\u3060\u3051\u3067\u3059\u3002\u3053\u3053\u3067\u306f io.Copy \u3067\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u305d\u306e\u307e\u307e\u30b3\u30d4\u30fc\u3057\u3066\u3044\u307e\u3059\u3002\n// \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\nf, err := os.Open(\"main.go\") // \u4eca\u56de\u306f\u81ea\u5206\u81ea\u8eab\nif err != nil {\n    return err\n}\ndefer f.Close()\n\n// \u30b3\u30d4\u30fc\u3067 writer \u306b\u5bfe\u3057\u3066\u66f8\u304d\u8fbc\u3080\nif _, err = io.Copy(writer, f); err != nil {\n    return err\n}\n\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\nWrite\u4e2d\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306f\u958b\u59cb\u3055\u308c\u3066\u304a\u308a\u3001\u7279\u306b\u4f55\u304b\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002Close\u3059\u308b\u3068\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3059\u3002\nif err := writer.Close(); err != nil {\n    return err\n}\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5185\u90e8\u3092\u898b\u308b\u3068\u3001\u521d\u56de\u306e Write \u6642\u306b API \u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3092\u5225\u306e goroutine \u3067\u958b\u59cb\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u6642 io.Pipe \u304c\u4f7f\u308f\u308c\u3066\u3044\u3066\u3001\u30a2\u30d7\u30ea\u5074\u306e Writer \u304c API \u30a2\u30c3\u30d7\u30ed\u30fc\u30c0\u30fc \u306e Reader \u3078\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u3066\u307f\u308b\nhttps://storage.googleapis.com/{yoru-bucket-name}/{yoru-file-name} \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u95b2\u89a7\u3067\u304d\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u5168\u4f53\npackage main\n\nimport (\n    \"io\"\n    \"log\"\n    \"os\"\n\n    \"cloud.google.com/go/storage\"\n    \"golang.org/x/net/context\"\n)\n\nfunc main() {\n    ctx := context.Background()\n    client, err := storage.NewClient(ctx)\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    f, err := os.Open(\"main.go\")\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer f.Close()\n\n    bucket := client.Bucket(\"najeira-test\")\n    object := bucket.Object(\"cloud_storage_test.go\")\n    writer := object.NewWriter(ctx)\n\n    writer.ObjectAttrs.ContentType = \"text/plain\"\n    writer.ObjectAttrs.CacheControl = \"no-cache\"\n    writer.ObjectAttrs.ACL = []storage.ACLRule{\n        storage.ACLRule{\n            Entity: storage.AllUsers,\n            Role:   storage.RoleReader,\n        },\n    }\n\n    if _, err = io.Copy(writer, f); err != nil {\n        log.Fatal(err)\n    }\n\n    if err := writer.Close(); err != nil {\n        log.Fatal(err)\n    }\n\n    attr := writer.Attrs()\n    log.Printf(\"https://storage.googleapis.com/%s/%s\", attr.Bucket, attr.Name)\n}\n\nGoogle Cloud Platform \u306f\u3044\u308d\u3044\u308d\u306a API \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u3093\u306a\u4e2d [\u30e6\u30fc\u30b6\u30d3\u30ea\u30c6\u30a3\u304c\u5411\u4e0a\u3057\u305f\u65b0\u3057\u3044 Cloud Client Libraries](https://cloudplatform-jp.googleblog.com/2016/12/cloud-client-libraries.html) \u3068\u3044\u3046\u8a18\u4e8b\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n\u5f93\u6765\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u3001REST JSON API \u3092\u305d\u306e\u307e\u307e\u8584\u304f\u30e9\u30c3\u30d7\u3057\u305f\u3082\u306e\u3067\u3057\u305f\u304c\u3001\u65b0\u3057\u3044\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u3082\u3046\u3061\u3087\u3063\u3068\u9ad8\u30ec\u30d9\u30eb\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u4eca\u56de\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u3092 Google Cloud Storage \u306b\u4e00\u822c\u516c\u958b\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u95b2\u89a7\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u307e\u3067 Go \u8a00\u8a9e\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\nGo \u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u3053\u3061\u3089:\n[github.com/GoogleCloudPlatform/google-cloud-go](https://github.com/GoogleCloudPlatform/google-cloud-go)\n\n## Storage\u306e\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\n\nWeb\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u4f5c\u308a\u307e\u3059\u3002\n\n<img width=\"593\" src=\"https://qiita-image-store.s3.amazonaws.com/0/21341/b5bc92f5-5441-69e9-b441-173a115e35dd.png\">\n\nasia-northeast1 \u304c\u3042\u308a\u307e\u3059\u306d\uff01\n\n## Cloud Tools\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nCloud Tools \u306f\u306a\u304f\u3068\u3082\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u4f7f\u3048\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u8a8d\u53ef\u306e\u60c5\u5831\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002\n\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3001Cloud Tools\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nhttps://cloud.google.com/sdk/docs/\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e `init` \u3067\u30d6\u30e9\u30a6\u30b6\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u81ea\u5206\u81ea\u8eab\u306eGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u8a8d\u53ef\u3057\u307e\u3059\u3002\n\n<img width=\"526\" src=\"https://qiita-image-store.s3.amazonaws.com/0/21341/d8a21155-8236-997d-18f5-e2b9ec8243b8.png\">\n\n\u8a31\u53ef\u3059\u308b\u3068\u30de\u30b7\u30f3\u306b\u8a8d\u53ef\u306e\u60c5\u5831\u304c\u4fdd\u5b58\u3055\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u3092\u66f8\u3044\u3066\u3044\u308b\u6642\u70b9\u3067\u306e\u30c4\u30fc\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\n```\n> google-cloud-sdk/bin/gcloud -v\nGoogle Cloud SDK 138.0.0\nbq 2.0.24\nbq-nix 2.0.24\ncore 2016.12.09\ncore-nix 2016.11.07\ngcloud\ngsutil 4.22\ngsutil-nix 4.20\n```\n\n## \u8a8d\u53ef\n\n`gcloud` \u30b3\u30de\u30f3\u30c9\u3067\u306e\u8a8d\u53ef\u304c\u3067\u304d\u3066\u3044\u308c\u3070\u3001\u305d\u306e\u30de\u30b7\u30f3\u5185\u306e\u6240\u5b9a\u306e\u4f4d\u7f6e\u306b\u8a8d\u53ef\u306e\u60c5\u5831\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002(\u304a\u305d\u3089\u304f `$HOME/.config/gcloud` \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u3042\u308b)\n\n## Client\n\n\u30b3\u30fc\u30c9\u4e0a\u3067\u8a8d\u53ef\u306b\u95a2\u3057\u3066\u7279\u306b\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u30de\u30b7\u30f3\u4e0a\u306e\u8a8d\u53ef\u306e\u60c5\u5831\u3092\u4f7f\u3063\u3066\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u5358\u7d14\u306bClient\u3092\u4f5c\u308c\u3070OK\u3002\n\n```go\nctx := context.Background()\nclient, err := storage.NewClient(ctx)\n```\n\n## Writer\n\n\u4eca\u56de\u306f\u66f8\u304d\u8fbc\u307f\u306a\u306e\u3067\u3001Bucket > Object > Writer \u3068\u3044\u3046\u6d41\u308c\u3067Writer\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n```go\nbucket := client.Bucket(your_bucket_name)\nobject := bucket.Object(your_file_name)\nwriter := object.NewWriter(ctx)\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u3001`ContentType: text/plain` \u306b\u3001\u307e\u305fACL\u3092\u300c\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u300d\u304c\u300c\u8aad\u307f\u53d6\u308a\u300d\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u3064\u3044\u3067\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u306a\u3057\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```go\nwriter.ObjectAttrs.ContentType = \"text/plain\"\nwriter.ObjectAttrs.CacheControl = \"no-cache\"\nwriter.ObjectAttrs.ACL = []storage.ACLRule{\n\tstorage.ACLRule{\n\t\tEntity: storage.AllUsers,\n\t\tRole:   storage.RoleReader,\n\t},\n}\n```\n\n## \u66f8\u304d\u8fbc\u3080\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u305d\u308c\u3092 `Writer` \u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u6a19\u6e96\u306e `io.Writer` \u306a\u306e\u3067\u3001\u666e\u901a\u306b\u66f8\u304d\u8fbc\u3080\u3060\u3051\u3067\u3059\u3002\u3053\u3053\u3067\u306f `io.Copy` \u3067\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u305d\u306e\u307e\u307e\u30b3\u30d4\u30fc\u3057\u3066\u3044\u307e\u3059\u3002\n\n```go\n// \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\nf, err := os.Open(\"main.go\") // \u4eca\u56de\u306f\u81ea\u5206\u81ea\u8eab\nif err != nil {\n\treturn err\n}\ndefer f.Close()\n\n// \u30b3\u30d4\u30fc\u3067 writer \u306b\u5bfe\u3057\u3066\u66f8\u304d\u8fbc\u3080\nif _, err = io.Copy(writer, f); err != nil {\n\treturn err\n}\n```\n\n## \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\nWrite\u4e2d\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306f\u958b\u59cb\u3055\u308c\u3066\u304a\u308a\u3001\u7279\u306b\u4f55\u304b\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002Close\u3059\u308b\u3068\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3059\u3002\n\n```go\nif err := writer.Close(); err != nil {\n\treturn err\n}\n```\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5185\u90e8\u3092\u898b\u308b\u3068\u3001\u521d\u56de\u306e `Write` \u6642\u306b API \u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3092\u5225\u306e goroutine \u3067\u958b\u59cb\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u6642 `io.Pipe` \u304c\u4f7f\u308f\u308c\u3066\u3044\u3066\u3001\u30a2\u30d7\u30ea\u5074\u306e Writer \u304c API \u30a2\u30c3\u30d7\u30ed\u30fc\u30c0\u30fc \u306e Reader \u3078\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n## \u30d6\u30e9\u30a6\u30b6\u3067\u898b\u3066\u307f\u308b\n\n`https://storage.googleapis.com/{yoru-bucket-name}/{yoru-file-name}` \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u95b2\u89a7\u3067\u304d\u307e\u3059\u3002\n\n## \u30b3\u30fc\u30c9\u5168\u4f53\n\n```go\npackage main\n\nimport (\n\t\"io\"\n\t\"log\"\n\t\"os\"\n\n\t\"cloud.google.com/go/storage\"\n\t\"golang.org/x/net/context\"\n)\n\nfunc main() {\n\tctx := context.Background()\n\tclient, err := storage.NewClient(ctx)\n\tif err != nil {\n\t\tlog.Fatal(err)\n\t}\n\n\tf, err := os.Open(\"main.go\")\n\tif err != nil {\n\t\tlog.Fatal(err)\n\t}\n\tdefer f.Close()\n\n\tbucket := client.Bucket(\"najeira-test\")\n\tobject := bucket.Object(\"cloud_storage_test.go\")\n\twriter := object.NewWriter(ctx)\n\n\twriter.ObjectAttrs.ContentType = \"text/plain\"\n\twriter.ObjectAttrs.CacheControl = \"no-cache\"\n\twriter.ObjectAttrs.ACL = []storage.ACLRule{\n\t\tstorage.ACLRule{\n\t\t\tEntity: storage.AllUsers,\n\t\t\tRole:   storage.RoleReader,\n\t\t},\n\t}\n\n\tif _, err = io.Copy(writer, f); err != nil {\n\t\tlog.Fatal(err)\n\t}\n\n\tif err := writer.Close(); err != nil {\n\t\tlog.Fatal(err)\n\t}\n\n\tattr := writer.Attrs()\n\tlog.Printf(\"https://storage.googleapis.com/%s/%s\", attr.Bucket, attr.Name)\n}\n```\n", "tags": ["GoogleCloudPlatform", "GoogleCloudStorage", "Go"]}