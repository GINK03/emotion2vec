{"context": " More than 1 year has passed since last update.\n\nD\u8a00\u8a9e\u306e\u7279\u5fb4\u7684\u306a\u6a5f\u80fd\u3068\u3057\u3066UFCS\u304c\u3042\u308b\n\n\u4ed6\u306e\u8a00\u8a9e\u306b\u3082\u540c\u69d8\u306e\u6a5f\u80fd\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u304c\u3001D\u8a00\u8a9e\u306e\u305d\u308c\u306b\u306f\u4f7f\u3063\u3066\u3044\u3066\u697d\u3057\u3044\u3068\u601d\u3048\u308b\u3044\u304f\u3064\u304b\u306e\u7279\u5fb4\u304c\u3042\u308a\u3001\u597d\u3093\u3067\u4f7f\u3046D\u8a00\u8a9eer\u3082\u591a\u3044\u3088\u3046\u3067\u3059\u3002(\u79c1\u3082\u3088\u304f\u4f7f\u3063\u3066\u307e\u3059\uff01)\n\u79c1\u304cUFCS\u3059\u308b\u3068\u304d\u306b\u611f\u3058\u305f\u3001\u5229\u70b9\u306a\u3069\u3092\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n[dmd2.068.2\u306b\u3066\u52d5\u4f5c\u78ba\u8a8d]\n\nUFCS\u3068\u306f\n\nUFCS (Unified Function Call Syntax)\u3068\u306f\u3001\u95a2\u6570\u547c\u3073\u51fa\u3057\u306b\u3064\u3044\u3066\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30b7\u30e5\u30ac\u30fc\u3067\u3001\u307b\u3068\u3093\u3069\u306e\u95a2\u6570\u306b\u3064\u3044\u3066\u3001func(obj, ...)\u3092obj.func(...)\u3068\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3092\u8a31\u3059\u3068\u3044\u3046\u30b7\u30f3\u30d7\u30eb\u306a\u6a5f\u80fd\u3067\u3059\u3002\n\u6319\u52d5\u3068\u3057\u3066\u306f\u3001obj\u306b.func(...)\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3001func(obj, ...)\u306e\u547c\u3073\u51fa\u3057\u3092\u8a66\u307f\u308b\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n\u203b\u9006\u306b\u3001obj.func(...)\u3092func(obj, ...)\u3068\u8a18\u8ff0\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\nD\n// \u3053\u308c\u304c\nwriteln(\"hello,world!\");\n\n// \u3053\u3046\u306a\u308b\n\"hello,world!\".writeln;\n\n\n\n\u4f55\u304c\u3046\u308c\u3057\u3044\u306e\u304b\n\n\n\u7591\u4f3c\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u578b\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u8a18\u8ff0\u3067\u304d\u3066\u3046\u308c\u3057\u3044\uff01\nUFCS\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7591\u4f3c\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u306e\u3088\u3046\u306a\u898b\u305f\u76ee\u306a\u306e\u3067\n\nD\nimport std.stdio;\n\n/**\n * \u5927\u91cf\u306e\u30d8\u30eb\u30d1\u30fc\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u3067\u3001\u30af\u30e9\u30b9\u306e\u69cb\u9020\u304c\u308f\u304b\u308a\u3065\u3089\u304f\u306a\u308b\n * \u307e\u305f\u3001\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u3068\u30d8\u30eb\u30d1\u30fc\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u306e\u9593\u306b\u3001\u4f9d\u5b58\u95a2\u4fc2\u304c\u3067\u304d\u3066\u3057\u307e\u3046\n * \u304b\u3068\u3044\u3063\u3066\u30d8\u30eb\u30d1\u30fc\u95a2\u6570\u3068\u3057\u3066\u30af\u30e9\u30b9\u5916\u306b\u51fa\u3059\u3068\u3001\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u304c\u4f7f\u3044\u3065\u3089\u3044\n */\nclass C1\n{\n    // \u578b\u5b9a\u7fa9\u304c\u3054\u3061\u3083\u3054\u3061\u3083\n    private int n_;\n    this()          { }\n    void helper1()  { \"\u3042\u3093\u306a\u3053\u3068\".writeln; }\n    void helper2()  { \"\u3053\u3093\u306a\u3053\u3068\".writeln; }\n    void set(int n) { n_ = n; }\n    void helper3()  { \"\u305d\u3093\u306a\u3053\u3068\".writeln; }\n    int  get()      { return n_; }\n    void helper4()  { \"\u3069\u3093\u306a\u3053\u3068\".writeln; }\n}\n// C1\u578b\u306b\u4f9d\u5b58\nvoid helper5(C1 x)  { \"\u308f\u3044\u308f\u3044\".writeln; }\nvoid helper6(C1 x)  { \"\u304c\u3084\u304c\u3084\".writeln; }\n\n/// \u305d\u3053\u3067UFCS!!\nclass C2\n{\n    // \u578b\u5b9a\u7fa9\u306f\u30b7\u30f3\u30d7\u30eb\u306b\n    private int n_;\n    this()          { }\n    void set(int n) { n_ = n; }\n    int  get()      { return n_; }\n}\n// \u4f9d\u5b58\u6027\u306f\u6291\u3048\u3081\u306b\nvoid helper1(T)(T x) if (is(T : C2)) { \"\u3042\u3093\u306a\u3053\u3068\".writeln; }\nvoid helper2(T)(T x) if (is(T : C2)) { \"\u3053\u3093\u306a\u3053\u3068\".writeln; }\nvoid helper3(T)(T x) if (is(T : C2)) { \"\u305d\u3093\u306a\u3053\u3068\".writeln; }\nvoid helper4(T)(T x) if (is(T : C2)) { \"\u3069\u3093\u306a\u3053\u3068\".writeln; }\nvoid helper5(T)(T x) if (is(T : C2)) { \"\u308f\u3044\u308f\u3044\".writeln;   }\nvoid helper6(T)(T x) if (is(T : C2)) { \"\u304c\u3084\u304c\u3084\".writeln;   }\n\nvoid main()\n{\n    // \u901a\u5e38\n    auto c1 = new C1;\n    c1.set(42);\n    writeln(c1.get);\n    c1.helper1;   // \u578b\u5b9a\u7fa9\u306b\u3053\u308c\u5fc5\u8981\uff1f\n    c1.helper2;   // \u3000\u3003\n    c1.helper3;   // \u3000\u3003\n    c1.helper4;   // \u3000\u3003\n    helper5(c1);  // \u4ef2\u9593\u5916\u308c\u3067\u3064\u3089\u3044\n    helper6(c1);  // \u3000\u3003\n\n    // UFCS!!\n    auto c2 = new C2;\n    c2.set(42);\n    c2.get.writeln;\n    c2.helper1;   // \u307e\u308b\u3067\u30e1\u30f3\u30d0\u95a2\u6570!!\n    c2.helper2;   //   \u3003\n    c2.helper3;   //   \u3003\n    c2.helper4;   //   \u3003\n    c2.helper5;   //   \u3003\n    c2.helper6;   //   \u3003\n}\n\n\n\u578b\u5b9a\u7fa9\u306e\u672c\u4f53\u306f\u30b7\u30f3\u30d7\u30eb\u306a\u5185\u5bb9\u306b\u7559\u3081\u3001\u304b\u3064\u7591\u4f3c\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u3068\u3057\u3066\u540c\u69d8\u306e\u51e6\u7406\u3092\u63d0\u4f9b\u3067\u304d\u307e\u3059\uff01\n(\u304a\u305d\u3089\u304f\u3053\u308c\u304c\u672c\u6765\u306eUFCS\u306e\u76ee\u7684\uff1f)\n\n\u95a2\u6570\u3092\u3069\u3093\u3069\u3093\u3064\u306a\u3052\u3066\u8a18\u8ff0\u3067\u304d\u308b\u30c1\u30a7\u30a4\u30f3\u8a18\u6cd5\u304c\u3046\u308c\u3057\u3044\uff01\nUFCS\u3068\u3001\u5f15\u6570\u306e\u306a\u3044\u95a2\u6570\u306f\u3001\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e()\u3092\u7701\u7565\u3067\u304d\u308b\u3068\u3044\u3046D\u8a00\u8a9e\u306e\u4ed5\u69d8\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3068\n\nD\nint hoge(int n) { return n + 2; }\nint fuga(int n) { return n * 3; }\nint piyo(int n) { return n / 5; }\n\nvoid main()\n{\n    // \u5909\u6570x\u306e\u5024\u3092hoge\u3057\u305f\u5f8c\u3001fuga\u3057\u3066\u3001piyo\u3057\u305f\u7d50\u679c\u3092\u8868\u793a\u3057\u305f\u3044\n    auto x = 68;\n\n    // \u901a\u5e38\u306e\u8a18\u8ff0\n    import std.stdio;\n    writeln(piyo(fuga(hoge(x))));\n\n    // \u2193\n    writeln(piyo(fuga(x.hoge)));\n    // \u2193\n    writeln(piyo(x.hoge.fuga));\n    // \u2193\n    writeln(x.hoge.fuga.piyo);\n    // UFCS !!\n    x.hoge.fuga.piyo.writeln;\n}\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001UFCS\u30c1\u30a7\u30a4\u30f3\u3057\u3066\u6c17\u6301\u3061\u3088\u304f\u8a18\u8ff0\u3067\u304d\u307e\u3059\uff01\n(\u3053\u308c\u304c\u3057\u305f\u304f\u3066\u4f7f\u3063\u3066\u3044\u308b\u3068\u601d\u3046\uff01)\n\n\u305d\u306e\u4ed6\u306e\u52b9\u80fd\n\nTODO: \u9069\u5f53\u306a\u30b3\u30fc\u30c9\u7247\u3092\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u66f8\u304d\u8db3\u3059\n[2015.10.17\u30b5\u30f3\u30d7\u30eb\u8ffd\u8a18]\n\n\u3042\u308b\u7a0b\u5ea6\u8907\u96d1\u306a\u51e6\u7406\u3092\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u8a18\u8ff0\u3067\u304d\u308b\uff01\n\n\u30cd\u30b9\u30c8\u3055\u308c\u305f()\u304c\u6e1b\u308b\u3053\u3068\u3067\u3001\u5165\u529b\u304c\u697d\u3067\u9593\u9055\u3048\u306b\u304f\u3044\uff01\n\n\u8996\u7dda\u306e\u65b9\u5411(\u5de6\u304b\u3089\u53f3)\u306b\u8a18\u8ff0\u3067\u304d\u3001\u51e6\u7406\u306e\u6d41\u308c\u304c\u8ffd\u3044\u3084\u3059\u3044\uff01\n\n\u5143\u30cd\u30bf:\u300c1\u6642\u9593\u4ee5\u5185\u306b\u89e3\u3051\u306a\u3051\u308c\u3070\u30d7\u30ed\u30b0\u30e9\u30de\u5931\u683c\u3068\u306a\u3063\u3066\u3057\u307e\u30465\u3064\u306e\u554f\u984c\u304c\u8a71\u984c\u306b\u300d\n\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u2192\u300cJava8\u3067\u300c\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30a8\u30f3\u30b8\u30cb\u30a2\u306a\u3089\u30701\u6642\u9593\u4ee5\u5185\u306b\u89e3\u3051\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u30445\u3064\u306e\u554f\u984c\u300d\u306e5\u554f\u76ee\u3092\u89e3\u3044\u3066\u307f\u305f\u300d\n\nD\nimport std.range     : iota, array;\nimport std.conv      : to;\nimport std.algorithm : map, filter, sum, each;\nimport std.array     : join, split;\nimport std.stdio     : writeln;\n\nR combination(R, R sep = [\" +\", \" -\", \"\"])(R elem)\n{\n    return elem.length < 2\n        ? elem\n        : sep\n            .map!(op => combination(elem[1 .. $])\n                  .map!(x => elem[0] ~ op ~ x))\n            .join;\n}\n\nvoid main()\n{\n    iota(1, 10).array\n        .to!(string[])\n        .combination\n        .filter!(a => a.split(\" \").to!(int[]).sum == 100)\n        .each!(a => a.writeln);\n}\n\n\n\n\u95a2\u6570\u8a2d\u8a08\u6642\u306e\u5f15\u6570\u9806\u5e8f\u306e\u3086\u308b\u3044\u6307\u91dd: \u3068\u308a\u3042\u3048\u305aUFCS\u3067\u3064\u306a\u304c\u308b\u3088\u3046\u306b\uff01\n\n\n\n\u306f\u307e\u308a\u6240\n\n\n\u30e1\u30f3\u30d0\u95a2\u6570\u3001\u30cd\u30b9\u30c8\u95a2\u6570\u3001\u30e9\u30e0\u30c0\u5f0f\u306fUFCS\u3067\u304d\u306a\u3044\n\n\nD\nclass C\n{\n    // \u30e1\u30f3\u30d0\u95a2\u6570\n    static int sfoo(int n) { return n * 2; }\n           int nfoo(int n) { return n * 2; }\n}\n\nvoid main()\n{\n    // \u30cd\u30b9\u30c8\u95a2\u6570\n    static int sbar(int n) { return n * 2; }\n           int nbar(int n) { return n * 2; }\n    // \u30e9\u30e0\u30c0\u5f0f\n    static auto sbaz = (int n) => n * 2;\n           auto nbaz = (int n) => n * 2;\n\n    import std.stdio;\n    //1.C.sfoo.writeln;        // NG\n    //1.(new C).nfoo.writeln;  // NG\n    //1.sbar.writeln;          // NG\n    //1.nbar.writeln;          // NG\n    //1.sbaz.writeln;          // NG\n    //1.nbaz.writeln;          // NG\n}\n\n\n[2015.10.17\u8ffd\u8a18]\n\u2192UFCS\u3067\u304d\u306a\u3044\u5834\u5408\u3001std.functional\u306epipe\u3084compose\u3067\u3064\u306a\u3052\u308b\u65b9\u6cd5\u3082\u3042\u308b\u305d\u3046\u3067\u3059\n\n\u591a\u6bb5\u968e\u306b\u306fUFCS\u3067\u304d\u306a\u3044 (\u5f53\u305f\u308a\u524d)\n\n\nD\nint foo(int a, int b, int c) { return a + b + c; }\n\nvoid main()\n{\n    import std.stdio;\n    auto a = 1, b = 2, c = 3;\n    a.foo(b, c).writeln;    // OK\n    //b.a.foo(c).writeln;   // NG\n    //c.b.a.foo.writeln;    // NG\n}\n\n\n# __D\u8a00\u8a9e\u306e\u7279\u5fb4\u7684\u306a\u6a5f\u80fd\u3068\u3057\u3066UFCS\u304c\u3042\u308b__\n\n\u4ed6\u306e\u8a00\u8a9e\u306b\u3082\u540c\u69d8\u306e\u6a5f\u80fd\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u304c\u3001D\u8a00\u8a9e\u306e\u305d\u308c\u306b\u306f\u4f7f\u3063\u3066\u3044\u3066\u697d\u3057\u3044\u3068\u601d\u3048\u308b\u3044\u304f\u3064\u304b\u306e\u7279\u5fb4\u304c\u3042\u308a\u3001\u597d\u3093\u3067\u4f7f\u3046D\u8a00\u8a9eer\u3082\u591a\u3044\u3088\u3046\u3067\u3059\u3002(\u79c1\u3082\u3088\u304f\u4f7f\u3063\u3066\u307e\u3059\uff01)\n\u79c1\u304cUFCS\u3059\u308b\u3068\u304d\u306b\u611f\u3058\u305f\u3001\u5229\u70b9\u306a\u3069\u3092\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n[dmd2.068.2\u306b\u3066\u52d5\u4f5c\u78ba\u8a8d]\n\n# __UFCS\u3068\u306f__\n\n__UFCS (Unified Function Call Syntax)__\u3068\u306f\u3001\u95a2\u6570\u547c\u3073\u51fa\u3057\u306b\u3064\u3044\u3066\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30b7\u30e5\u30ac\u30fc\u3067\u3001\u307b\u3068\u3093\u3069\u306e\u95a2\u6570\u306b\u3064\u3044\u3066\u3001`func(obj, ...)`\u3092`obj.func(...)`\u3068\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3092\u8a31\u3059\u3068\u3044\u3046\u30b7\u30f3\u30d7\u30eb\u306a\u6a5f\u80fd\u3067\u3059\u3002\n\u6319\u52d5\u3068\u3057\u3066\u306f\u3001`obj`\u306b`.func(...)`\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3001`func(obj, ...)`\u306e\u547c\u3073\u51fa\u3057\u3092\u8a66\u307f\u308b\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n\u203b\u9006\u306b\u3001`obj.func(...)`\u3092`func(obj, ...)`\u3068\u8a18\u8ff0\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\n```d:D\n// \u3053\u308c\u304c\nwriteln(\"hello,world!\");\n\n// \u3053\u3046\u306a\u308b\n\"hello,world!\".writeln;\n```\n\n# __\u4f55\u304c\u3046\u308c\u3057\u3044\u306e\u304b__\n\n## \u7591\u4f3c\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u578b\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u8a18\u8ff0\u3067\u304d\u3066\u3046\u308c\u3057\u3044\uff01\n\nUFCS\u306f\u3001__\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7591\u4f3c\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u306e\u3088\u3046\u306a\u898b\u305f\u76ee__\u306a\u306e\u3067\n\n```d:D\nimport std.stdio;\n\n/**\n * \u5927\u91cf\u306e\u30d8\u30eb\u30d1\u30fc\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u3067\u3001\u30af\u30e9\u30b9\u306e\u69cb\u9020\u304c\u308f\u304b\u308a\u3065\u3089\u304f\u306a\u308b\n * \u307e\u305f\u3001\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u3068\u30d8\u30eb\u30d1\u30fc\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u306e\u9593\u306b\u3001\u4f9d\u5b58\u95a2\u4fc2\u304c\u3067\u304d\u3066\u3057\u307e\u3046\n * \u304b\u3068\u3044\u3063\u3066\u30d8\u30eb\u30d1\u30fc\u95a2\u6570\u3068\u3057\u3066\u30af\u30e9\u30b9\u5916\u306b\u51fa\u3059\u3068\u3001\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u304c\u4f7f\u3044\u3065\u3089\u3044\n */\nclass C1\n{\n    // \u578b\u5b9a\u7fa9\u304c\u3054\u3061\u3083\u3054\u3061\u3083\n    private int n_;\n    this()          { }\n    void helper1()  { \"\u3042\u3093\u306a\u3053\u3068\".writeln; }\n    void helper2()  { \"\u3053\u3093\u306a\u3053\u3068\".writeln; }\n    void set(int n) { n_ = n; }\n    void helper3()  { \"\u305d\u3093\u306a\u3053\u3068\".writeln; }\n    int  get()      { return n_; }\n    void helper4()  { \"\u3069\u3093\u306a\u3053\u3068\".writeln; }\n}\n// C1\u578b\u306b\u4f9d\u5b58\nvoid helper5(C1 x)  { \"\u308f\u3044\u308f\u3044\".writeln; }\nvoid helper6(C1 x)  { \"\u304c\u3084\u304c\u3084\".writeln; }\n\n/// \u305d\u3053\u3067UFCS!!\nclass C2\n{\n    // \u578b\u5b9a\u7fa9\u306f\u30b7\u30f3\u30d7\u30eb\u306b\n    private int n_;\n    this()          { }\n    void set(int n) { n_ = n; }\n    int  get()      { return n_; }\n}\n// \u4f9d\u5b58\u6027\u306f\u6291\u3048\u3081\u306b\nvoid helper1(T)(T x) if (is(T : C2)) { \"\u3042\u3093\u306a\u3053\u3068\".writeln; }\nvoid helper2(T)(T x) if (is(T : C2)) { \"\u3053\u3093\u306a\u3053\u3068\".writeln; }\nvoid helper3(T)(T x) if (is(T : C2)) { \"\u305d\u3093\u306a\u3053\u3068\".writeln; }\nvoid helper4(T)(T x) if (is(T : C2)) { \"\u3069\u3093\u306a\u3053\u3068\".writeln; }\nvoid helper5(T)(T x) if (is(T : C2)) { \"\u308f\u3044\u308f\u3044\".writeln;   }\nvoid helper6(T)(T x) if (is(T : C2)) { \"\u304c\u3084\u304c\u3084\".writeln;   }\n\nvoid main()\n{\n    // \u901a\u5e38\n    auto c1 = new C1;\n    c1.set(42);\n    writeln(c1.get);\n    c1.helper1;   // \u578b\u5b9a\u7fa9\u306b\u3053\u308c\u5fc5\u8981\uff1f\n    c1.helper2;   // \u3000\u3003\n    c1.helper3;   // \u3000\u3003\n    c1.helper4;   // \u3000\u3003\n    helper5(c1);  // \u4ef2\u9593\u5916\u308c\u3067\u3064\u3089\u3044\n    helper6(c1);  // \u3000\u3003\n\n    // UFCS!!\n    auto c2 = new C2;\n    c2.set(42);\n    c2.get.writeln;\n    c2.helper1;   // \u307e\u308b\u3067\u30e1\u30f3\u30d0\u95a2\u6570!!\n    c2.helper2;   //   \u3003\n    c2.helper3;   //   \u3003\n    c2.helper4;   //   \u3003\n    c2.helper5;   //   \u3003\n    c2.helper6;   //   \u3003\n}\n```\n\n\u578b\u5b9a\u7fa9\u306e\u672c\u4f53\u306f\u30b7\u30f3\u30d7\u30eb\u306a\u5185\u5bb9\u306b\u7559\u3081\u3001\u304b\u3064\u7591\u4f3c\u7684\u306a\u30e1\u30f3\u30d0\u95a2\u6570\u3068\u3057\u3066\u540c\u69d8\u306e\u51e6\u7406\u3092\u63d0\u4f9b\u3067\u304d\u307e\u3059\uff01\n(\u304a\u305d\u3089\u304f\u3053\u308c\u304c\u672c\u6765\u306eUFCS\u306e\u76ee\u7684\uff1f)\n\n## \u95a2\u6570\u3092\u3069\u3093\u3069\u3093\u3064\u306a\u3052\u3066\u8a18\u8ff0\u3067\u304d\u308b\u30c1\u30a7\u30a4\u30f3\u8a18\u6cd5\u304c\u3046\u308c\u3057\u3044\uff01\n\nUFCS\u3068\u3001__\u5f15\u6570\u306e\u306a\u3044\u95a2\u6570\u306f\u3001\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e`()`\u3092\u7701\u7565\u3067\u304d\u308b__\u3068\u3044\u3046D\u8a00\u8a9e\u306e\u4ed5\u69d8\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3068\n\n```d:D\nint hoge(int n) { return n + 2; }\nint fuga(int n) { return n * 3; }\nint piyo(int n) { return n / 5; }\n\nvoid main()\n{\n    // \u5909\u6570x\u306e\u5024\u3092hoge\u3057\u305f\u5f8c\u3001fuga\u3057\u3066\u3001piyo\u3057\u305f\u7d50\u679c\u3092\u8868\u793a\u3057\u305f\u3044\n    auto x = 68;\n\n    // \u901a\u5e38\u306e\u8a18\u8ff0\n    import std.stdio;\n    writeln(piyo(fuga(hoge(x))));\n\n    // \u2193\n    writeln(piyo(fuga(x.hoge)));\n    // \u2193\n    writeln(piyo(x.hoge.fuga));\n    // \u2193\n    writeln(x.hoge.fuga.piyo);\n    // UFCS !!\n    x.hoge.fuga.piyo.writeln;\n}\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001UFCS\u30c1\u30a7\u30a4\u30f3\u3057\u3066__\u6c17\u6301\u3061\u3088\u304f__\u8a18\u8ff0\u3067\u304d\u307e\u3059\uff01\n(\u3053\u308c\u304c\u3057\u305f\u304f\u3066\u4f7f\u3063\u3066\u3044\u308b\u3068\u601d\u3046\uff01)\n\n# __\u305d\u306e\u4ed6\u306e\u52b9\u80fd__\n\n~~TODO: \u9069\u5f53\u306a\u30b3\u30fc\u30c9\u7247\u3092\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u66f8\u304d\u8db3\u3059~~\n[2015.10.17\u30b5\u30f3\u30d7\u30eb\u8ffd\u8a18]\n\n* \u3042\u308b\u7a0b\u5ea6\u8907\u96d1\u306a\u51e6\u7406\u3092__\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc__\u3067\u8a18\u8ff0\u3067\u304d\u308b\uff01\n* __\u30cd\u30b9\u30c8\u3055\u308c\u305f`()`\u304c\u6e1b\u308b__\u3053\u3068\u3067\u3001\u5165\u529b\u304c\u697d\u3067\u9593\u9055\u3048\u306b\u304f\u3044\uff01\n* __\u8996\u7dda\u306e\u65b9\u5411(\u5de6\u304b\u3089\u53f3)\u306b\u8a18\u8ff0__\u3067\u304d\u3001\u51e6\u7406\u306e\u6d41\u308c\u304c\u8ffd\u3044\u3084\u3059\u3044\uff01\n\n\u5143\u30cd\u30bf:\u300c[1\u6642\u9593\u4ee5\u5185\u306b\u89e3\u3051\u306a\u3051\u308c\u3070\u30d7\u30ed\u30b0\u30e9\u30de\u5931\u683c\u3068\u306a\u3063\u3066\u3057\u307e\u30465\u3064\u306e\u554f\u984c\u304c\u8a71\u984c\u306b](http://www.softantenna.com/wp/software/5-programming-problems/)\u300d\n\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u2192\u300c[Java8\u3067\u300c\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30a8\u30f3\u30b8\u30cb\u30a2\u306a\u3089\u30701\u6642\u9593\u4ee5\u5185\u306b\u89e3\u3051\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u30445\u3064\u306e\u554f\u984c\u300d\u306e5\u554f\u76ee\u3092\u89e3\u3044\u3066\u307f\u305f](http://qiita.com/tag1216/items/25ff0f957340c54ae73c)\u300d\n\n```d:D\nimport std.range     : iota, array;\nimport std.conv      : to;\nimport std.algorithm : map, filter, sum, each;\nimport std.array     : join, split;\nimport std.stdio     : writeln;\n\nR combination(R, R sep = [\" +\", \" -\", \"\"])(R elem)\n{\n    return elem.length < 2\n        ? elem\n        : sep\n            .map!(op => combination(elem[1 .. $])\n                  .map!(x => elem[0] ~ op ~ x))\n            .join;\n}\n\nvoid main()\n{\n    iota(1, 10).array\n        .to!(string[])\n        .combination\n        .filter!(a => a.split(\" \").to!(int[]).sum == 100)\n        .each!(a => a.writeln);\n}\n```\n\n* \u95a2\u6570\u8a2d\u8a08\u6642\u306e\u5f15\u6570\u9806\u5e8f\u306e\u3086\u308b\u3044\u6307\u91dd: __\u3068\u308a\u3042\u3048\u305aUFCS\u3067\u3064\u306a\u304c\u308b\u3088\u3046\u306b\uff01__\n\n# __\u306f\u307e\u308a\u6240__\n\n* \u30e1\u30f3\u30d0\u95a2\u6570\u3001\u30cd\u30b9\u30c8\u95a2\u6570\u3001\u30e9\u30e0\u30c0\u5f0f\u306fUFCS\u3067\u304d\u306a\u3044\n\n```d:D\nclass C\n{\n    // \u30e1\u30f3\u30d0\u95a2\u6570\n    static int sfoo(int n) { return n * 2; }\n           int nfoo(int n) { return n * 2; }\n}\n\nvoid main()\n{\n    // \u30cd\u30b9\u30c8\u95a2\u6570\n    static int sbar(int n) { return n * 2; }\n           int nbar(int n) { return n * 2; }\n    // \u30e9\u30e0\u30c0\u5f0f\n    static auto sbaz = (int n) => n * 2;\n           auto nbaz = (int n) => n * 2;\n\n    import std.stdio;\n    //1.C.sfoo.writeln;        // NG\n    //1.(new C).nfoo.writeln;  // NG\n    //1.sbar.writeln;          // NG\n    //1.nbar.writeln;          // NG\n    //1.sbaz.writeln;          // NG\n    //1.nbaz.writeln;          // NG\n}\n```\n\n[2015.10.17\u8ffd\u8a18]\n  __\u2192UFCS\u3067\u304d\u306a\u3044\u5834\u5408\u3001`std.functional`\u306e`pipe`\u3084`compose`\u3067\u3064\u306a\u3052\u308b\u65b9\u6cd5\u3082\u3042\u308b\u305d\u3046\u3067\u3059__\n\n* \u591a\u6bb5\u968e\u306b\u306fUFCS\u3067\u304d\u306a\u3044 (\u5f53\u305f\u308a\u524d)\n\n```d:D\nint foo(int a, int b, int c) { return a + b + c; }\n\nvoid main()\n{\n    import std.stdio;\n    auto a = 1, b = 2, c = 3;\n    a.foo(b, c).writeln;    // OK\n    //b.a.foo(c).writeln;   // NG\n    //c.b.a.foo.writeln;    // NG\n}\n```\n", "tags": ["dlang", "Dlanguage", "D\u8a00\u8a9e"]}