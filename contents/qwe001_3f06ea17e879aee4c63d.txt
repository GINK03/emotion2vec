{"context": "\u4f55\u3089\u96e3\u3057\u3044\u3053\u3068\u306f\u3057\u3066\u3044\u306a\u3044\u3067\u3059\u3002\u7d50\u69cb\u3084\u308b\u983b\u5ea6\u304c\u591a\u304b\u3063\u305f\u306e\u3067\u81ea\u5206\u3067\u4f7f\u3044\u307e\u308f\u305b\u308b\u3088\u3046\u306b\u3002\n\n\u306f\u3058\u3081\u306b\n\u90fd\u9053\u5e9c\u770c\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u3063\u3066\u3001HTML\u3060\u3068\u3053\u3093\u306a\u98a8\u306b\u4f5c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n<select name=\"pref_id\">\n    <option selected=\"selected\" value=\"\">\u90fd\u9053\u5e9c\u770c</option>\n    <option value=\"1\">\u5317\u6d77\u9053</option>\n    ...\n    <option value=\"47\">\u6c96\u7e04\u770c</option>\n</select>\n\n\u6b21\u306b\u3001Laravel Collective\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30d7\u30eb\u30c0\u30a6\u30f3\u306f\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\n{{ Form::select('pref_id', ['' => '\u90fd\u9053\u5e9c\u770c', '1' => '\u5317\u6d77\u9053', ... '47' => '\u6c96\u7e04\u770c'], null, ['class' => 'form', 'id' => 'pref_id']) }}\n\n\u3057\u304b\u3057\u3001\u914d\u5217\u306e\u4e2d\u8eab\u3092\u5168\u90e8\u66f8\u304f\u4eba\u306f\u3044\u306a\u3044\u3068\u601d\u3046\u306e\u3067\u3001\n\u90fd\u9053\u5e9c\u770c\u306e\u90e8\u5206\u3092\u6b21\u306e\u3088\u3046\u306b\u5909\u6570\u306b\u683c\u7d0d\u3057\u3066\u90fd\u9053\u5e9c\u770c\u306eHTML\u30bf\u30b0\u3092\u751f\u6210\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n{{ Form::select('pref_id', $prefectures, null, ['class' => 'form', 'id' => 'pref_id']) }}\n\n\n\u5b9f\u88c5\n\n\u5fc5\u8981\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\nphp artisan make:model Prefecture\nphp artisan make:migration create_prefectures\nphp artisan make:seeder PrefecturesSeeder\n\n\nModel\napp/Prefecture.php\n\u4f5c\u3063\u305f\u5f8c\u306f\u4f55\u3082\u3057\u306a\u3044\n\nMigration\nDB\u306b\u767b\u9332\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\n\ndatabase/migrations/2016_11_04_000000_create_prefectures.php\n\n<?php\n\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Database\\Migrations\\Migration;\n\nclass CreatePrefectures extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::create('prefectures', function (Blueprint $table) {\n            $table->increments('id');\n            $table->integer('code')->default(0); // \u90fd\u9053\u5e9c\u770c\u756a\u53f7(value)\n            $table->text('name'); // \u90fd\u9053\u5e9c\u770c\u540d(name)\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::drop('prefectures');\n    }\n}\n\n\n\n\nSeeder\n\u30c6\u30fc\u30d6\u30eb\u306e\u4e2d\u306b\u5165\u308c\u308b\u521d\u671f\u30c7\u30fc\u30bf\u3092\u767b\u9332\u3057\u307e\u3059\n\ndatabase/seeds/PrefecturesSeeder.php\n\n<?php\n\nuse Illuminate\\Database\\Seeder;\n\nclass PrefecturesSeeder extends Seeder\n{\n    /**\n     * Run the database seeds.\n     *\n     * @return void\n     */\n    public function run()\n    {\n        $prefectures = [\n            ['code' => 1, 'name' => '\u5317\u6d77\u9053'],\n            ['code' => 2, 'name' => '\u9752\u68ee\u770c'],\n            ['code' => 3, 'name' => '\u5ca9\u624b\u770c'],\n            ['code' => 4, 'name' => '\u5bae\u57ce\u770c'],\n            ['code' => 5, 'name' => '\u79cb\u7530\u770c'],\n            ['code' => 6, 'name' => '\u5c71\u5f62\u770c'],\n            ['code' => 7, 'name' => '\u798f\u5cf6\u770c'],\n            ['code' => 8, 'name' => '\u8328\u57ce\u770c'],\n            ['code' => 9, 'name' => '\u6803\u6728\u770c'],\n            ['code' => 10, 'name' => '\u7fa4\u99ac\u770c'],\n            ['code' => 11, 'name' => '\u57fc\u7389\u770c'],\n            ['code' => 12, 'name' => '\u5343\u8449\u770c'],\n            ['code' => 13, 'name' => '\u6771\u4eac\u90fd'],\n            ['code' => 14, 'name' => '\u795e\u5948\u5ddd\u770c'],\n            ['code' => 15, 'name' => '\u65b0\u6f5f\u770c'],\n            ['code' => 16, 'name' => '\u5bcc\u5c71\u770c'],\n            ['code' => 17, 'name' => '\u77f3\u5ddd\u770c'],\n            ['code' => 18, 'name' => '\u798f\u4e95\u770c'],\n            ['code' => 19, 'name' => '\u5c71\u68a8\u770c'],\n            ['code' => 20, 'name' => '\u9577\u91ce\u770c'],\n            ['code' => 21, 'name' => '\u5c90\u961c\u770c'],\n            ['code' => 22, 'name' => '\u9759\u5ca1\u770c'],\n            ['code' => 23, 'name' => '\u611b\u77e5\u770c'],\n            ['code' => 24, 'name' => '\u4e09\u91cd\u770c'],\n            ['code' => 25, 'name' => '\u6ecb\u8cc0\u770c'],\n            ['code' => 26, 'name' => '\u4eac\u90fd\u5e9c'],\n            ['code' => 27, 'name' => '\u5927\u962a\u5e9c'],\n            ['code' => 28, 'name' => '\u5175\u5eab\u770c'],\n            ['code' => 29, 'name' => '\u5948\u826f\u770c'],\n            ['code' => 30, 'name' => '\u548c\u6b4c\u5c71\u770c'],\n            ['code' => 31, 'name' => '\u9ce5\u53d6\u770c'],\n            ['code' => 32, 'name' => '\u5cf6\u6839\u770c'],\n            ['code' => 33, 'name' => '\u5ca1\u5c71\u770c'],\n            ['code' => 34, 'name' => '\u5e83\u5cf6\u770c'],\n            ['code' => 35, 'name' => '\u5c71\u53e3\u770c'],\n            ['code' => 36, 'name' => '\u5fb3\u5cf6\u770c'],\n            ['code' => 37, 'name' => '\u9999\u5ddd\u770c'],\n            ['code' => 38, 'name' => '\u611b\u5a9b\u770c'],\n            ['code' => 39, 'name' => '\u9ad8\u77e5\u770c'],\n            ['code' => 40, 'name' => '\u798f\u5ca1\u770c'],\n            ['code' => 41, 'name' => '\u4f50\u8cc0\u770c'],\n            ['code' => 42, 'name' => '\u9577\u5d0e\u770c'],\n            ['code' => 43, 'name' => '\u718a\u672c\u770c'],\n            ['code' => 44, 'name' => '\u5927\u5206\u770c'],\n            ['code' => 45, 'name' => '\u5bae\u5d0e\u770c'],\n            ['code' => 46, 'name' => '\u9e7f\u5150\u5cf6\u770c'],\n            ['code' => 47, 'name' => '\u6c96\u7e04\u770c'],\n        ];\n        DB::table('prefectures')->insert($prefectures);\n    }\n}\n\n\n\n\u4f5c\u3063\u305f\u5f8c\u3001db:seed\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u767b\u9332\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n\ndatabase/seeds/DatabaseSeeder.php\n\n<?php\n\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Illuminate\\Database\\Seeder;\n\nclass DatabaseSeeder extends Seeder\n{\n    /**\n     * Run the database seeds.\n     *\n     * @return void\n     */\n    public function run()\n    {\n        $this->call('PrefecturesSeeder');\n    }\n}\n\n\n\n\nDB\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u767b\u9332\nphp artisan migrate\nphp artisan db:seed\n\n\nController\u3067\u5909\u6570\u5b9a\u7fa9\n\u90fd\u9053\u5e9c\u770c\u306e\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u3066View\u3067\u547c\u3073\u51fa\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n\napp/Http/Controllers/ItemsController.php\n\n    public function create(){\n        $prefectures = \\App\\Prefecture::orderBy('code','asc')->pluck('name', 'code');\n        $prefectures = $prefectures -> prepend('\u90fd\u9053\u5e9c\u770c', '');\n\n        return view('items.create')->with(['prefectures' => $prefectures]);\n    }\n\n\n\n\nView\u3067\u547c\u3073\u51fa\u3057\n\nresources/views/index.blade.php\n{{ Form::select('pref_id', $prefectures, null, ['class' => 'form', 'id' => 'pref_id']) }}\n\n\n\nNHK\n\u5b8c\n\n\u8ffd\u8a18\n\u3053\u3061\u3089\u306b\u3082\u3063\u3068\u7d20\u6575\u306a\u3084\u308a\u65b9\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u79c1\u306f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u521d\u5fc3\u8005\u306a\u306e\u3067\u591a\u5206\u4e0b\u306e\u3084\u3064\u306b\u5f93\u3046\u307b\u3046\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nhttp://qiita.com/sakuraya/items/42fffe0f171d49ee74a0#_reference-634af529c0214d77de0b\n\u4e0a\u8a18\u306e\u8a18\u4e8b\u3067\u3001\u90fd\u9053\u5e9c\u770c\u306eID\u3092\u3082\u3068\u306b\u6587\u5b57\u5217\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3082\u66f8\u3044\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\napp/Item.php\n<?php\n\nnamespace App;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass Item extends Model\n{\n    public function getPrefNameAttribute() {\n        return \\App\\Prefecture::where('code', $this -> pref) -> first() -> name;\n    }\n}\n\n\n\nresources/views/index.blade.php\n<p>\u51fa\u8eab\u5730\uff1a{{ $item -> prefName }}</p>\n\n\n\u4f55\u3089\u96e3\u3057\u3044\u3053\u3068\u306f\u3057\u3066\u3044\u306a\u3044\u3067\u3059\u3002\u7d50\u69cb\u3084\u308b\u983b\u5ea6\u304c\u591a\u304b\u3063\u305f\u306e\u3067\u81ea\u5206\u3067\u4f7f\u3044\u307e\u308f\u305b\u308b\u3088\u3046\u306b\u3002\n\n### \u306f\u3058\u3081\u306b\n\n\u90fd\u9053\u5e9c\u770c\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u3063\u3066\u3001HTML\u3060\u3068\u3053\u3093\u306a\u98a8\u306b\u4f5c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```html\n<select name=\"pref_id\">\n\t<option selected=\"selected\" value=\"\">\u90fd\u9053\u5e9c\u770c</option>\n\t<option value=\"1\">\u5317\u6d77\u9053</option>\n\t...\n\t<option value=\"47\">\u6c96\u7e04\u770c</option>\n</select>\n```\n\n\u6b21\u306b\u3001Laravel Collective\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30d7\u30eb\u30c0\u30a6\u30f3\u306f\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\n\n```php\n{{ Form::select('pref_id', ['' => '\u90fd\u9053\u5e9c\u770c', '1' => '\u5317\u6d77\u9053', ... '47' => '\u6c96\u7e04\u770c'], null, ['class' => 'form', 'id' => 'pref_id']) }}\n```\n\n\u3057\u304b\u3057\u3001\u914d\u5217\u306e\u4e2d\u8eab\u3092\u5168\u90e8\u66f8\u304f\u4eba\u306f\u3044\u306a\u3044\u3068\u601d\u3046\u306e\u3067\u3001\n\u90fd\u9053\u5e9c\u770c\u306e\u90e8\u5206\u3092\u6b21\u306e\u3088\u3046\u306b\u5909\u6570\u306b\u683c\u7d0d\u3057\u3066\u90fd\u9053\u5e9c\u770c\u306eHTML\u30bf\u30b0\u3092\u751f\u6210\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n```php\n{{ Form::select('pref_id', $prefectures, null, ['class' => 'form', 'id' => 'pref_id']) }}\n```\n\n### \u5b9f\u88c5\n\n##### \u5fc5\u8981\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\n```php\nphp artisan make:model Prefecture\nphp artisan make:migration create_prefectures\nphp artisan make:seeder PrefecturesSeeder\n```\n\n##### Model\n\napp/Prefecture.php\n\u4f5c\u3063\u305f\u5f8c\u306f\u4f55\u3082\u3057\u306a\u3044\n\n##### Migration\n\nDB\u306b\u767b\u9332\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\n\n```php:database/migrations/2016_11_04_000000_create_prefectures.php\n\n<?php\n\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Database\\Migrations\\Migration;\n\nclass CreatePrefectures extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::create('prefectures', function (Blueprint $table) {\n            $table->increments('id');\n            $table->integer('code')->default(0); // \u90fd\u9053\u5e9c\u770c\u756a\u53f7(value)\n            $table->text('name'); // \u90fd\u9053\u5e9c\u770c\u540d(name)\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::drop('prefectures');\n    }\n}\n\n```\n\n##### Seeder\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u4e2d\u306b\u5165\u308c\u308b\u521d\u671f\u30c7\u30fc\u30bf\u3092\u767b\u9332\u3057\u307e\u3059\n\n```php:database/seeds/PrefecturesSeeder.php\n\n<?php\n\nuse Illuminate\\Database\\Seeder;\n\nclass PrefecturesSeeder extends Seeder\n{\n    /**\n     * Run the database seeds.\n     *\n     * @return void\n     */\n    public function run()\n    {\n        $prefectures = [\n            ['code' => 1, 'name' => '\u5317\u6d77\u9053'],\n            ['code' => 2, 'name' => '\u9752\u68ee\u770c'],\n            ['code' => 3, 'name' => '\u5ca9\u624b\u770c'],\n            ['code' => 4, 'name' => '\u5bae\u57ce\u770c'],\n            ['code' => 5, 'name' => '\u79cb\u7530\u770c'],\n            ['code' => 6, 'name' => '\u5c71\u5f62\u770c'],\n            ['code' => 7, 'name' => '\u798f\u5cf6\u770c'],\n            ['code' => 8, 'name' => '\u8328\u57ce\u770c'],\n            ['code' => 9, 'name' => '\u6803\u6728\u770c'],\n            ['code' => 10, 'name' => '\u7fa4\u99ac\u770c'],\n            ['code' => 11, 'name' => '\u57fc\u7389\u770c'],\n            ['code' => 12, 'name' => '\u5343\u8449\u770c'],\n            ['code' => 13, 'name' => '\u6771\u4eac\u90fd'],\n            ['code' => 14, 'name' => '\u795e\u5948\u5ddd\u770c'],\n            ['code' => 15, 'name' => '\u65b0\u6f5f\u770c'],\n            ['code' => 16, 'name' => '\u5bcc\u5c71\u770c'],\n            ['code' => 17, 'name' => '\u77f3\u5ddd\u770c'],\n            ['code' => 18, 'name' => '\u798f\u4e95\u770c'],\n            ['code' => 19, 'name' => '\u5c71\u68a8\u770c'],\n            ['code' => 20, 'name' => '\u9577\u91ce\u770c'],\n            ['code' => 21, 'name' => '\u5c90\u961c\u770c'],\n            ['code' => 22, 'name' => '\u9759\u5ca1\u770c'],\n            ['code' => 23, 'name' => '\u611b\u77e5\u770c'],\n            ['code' => 24, 'name' => '\u4e09\u91cd\u770c'],\n            ['code' => 25, 'name' => '\u6ecb\u8cc0\u770c'],\n            ['code' => 26, 'name' => '\u4eac\u90fd\u5e9c'],\n            ['code' => 27, 'name' => '\u5927\u962a\u5e9c'],\n            ['code' => 28, 'name' => '\u5175\u5eab\u770c'],\n            ['code' => 29, 'name' => '\u5948\u826f\u770c'],\n            ['code' => 30, 'name' => '\u548c\u6b4c\u5c71\u770c'],\n            ['code' => 31, 'name' => '\u9ce5\u53d6\u770c'],\n            ['code' => 32, 'name' => '\u5cf6\u6839\u770c'],\n            ['code' => 33, 'name' => '\u5ca1\u5c71\u770c'],\n            ['code' => 34, 'name' => '\u5e83\u5cf6\u770c'],\n            ['code' => 35, 'name' => '\u5c71\u53e3\u770c'],\n            ['code' => 36, 'name' => '\u5fb3\u5cf6\u770c'],\n            ['code' => 37, 'name' => '\u9999\u5ddd\u770c'],\n            ['code' => 38, 'name' => '\u611b\u5a9b\u770c'],\n            ['code' => 39, 'name' => '\u9ad8\u77e5\u770c'],\n            ['code' => 40, 'name' => '\u798f\u5ca1\u770c'],\n            ['code' => 41, 'name' => '\u4f50\u8cc0\u770c'],\n            ['code' => 42, 'name' => '\u9577\u5d0e\u770c'],\n            ['code' => 43, 'name' => '\u718a\u672c\u770c'],\n            ['code' => 44, 'name' => '\u5927\u5206\u770c'],\n            ['code' => 45, 'name' => '\u5bae\u5d0e\u770c'],\n            ['code' => 46, 'name' => '\u9e7f\u5150\u5cf6\u770c'],\n            ['code' => 47, 'name' => '\u6c96\u7e04\u770c'],\n        ];\n        DB::table('prefectures')->insert($prefectures);\n    }\n}\n\n```\n\n\u4f5c\u3063\u305f\u5f8c\u3001db:seed\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u767b\u9332\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n\n```php:database/seeds/DatabaseSeeder.php\n\n<?php\n\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Illuminate\\Database\\Seeder;\n\nclass DatabaseSeeder extends Seeder\n{\n    /**\n     * Run the database seeds.\n     *\n     * @return void\n     */\n    public function run()\n    {\n        $this->call('PrefecturesSeeder');\n    }\n}\n\n```\n\n### DB\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u767b\u9332\n\n```\nphp artisan migrate\nphp artisan db:seed\n```\n\n### Controller\u3067\u5909\u6570\u5b9a\u7fa9\n\n\u90fd\u9053\u5e9c\u770c\u306e\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u3066View\u3067\u547c\u3073\u51fa\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n\n```php:app/Http/Controllers/ItemsController.php\n\n    public function create(){\n        $prefectures = \\App\\Prefecture::orderBy('code','asc')->pluck('name', 'code');\n        $prefectures = $prefectures -> prepend('\u90fd\u9053\u5e9c\u770c', '');\n\n        return view('items.create')->with(['prefectures' => $prefectures]);\n    }\n\n```\n\n### View\u3067\u547c\u3073\u51fa\u3057\n\n```php:resources/views/index.blade.php\n{{ Form::select('pref_id', $prefectures, null, ['class' => 'form', 'id' => 'pref_id']) }}\n```\n\n### NHK\n\n\u5b8c\n\n### \u8ffd\u8a18\n\n\u3053\u3061\u3089\u306b\u3082\u3063\u3068\u7d20\u6575\u306a\u3084\u308a\u65b9\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u79c1\u306f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u521d\u5fc3\u8005\u306a\u306e\u3067\u591a\u5206\u4e0b\u306e\u3084\u3064\u306b\u5f93\u3046\u307b\u3046\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nhttp://qiita.com/sakuraya/items/42fffe0f171d49ee74a0#_reference-634af529c0214d77de0b\n\n\u4e0a\u8a18\u306e\u8a18\u4e8b\u3067\u3001\u90fd\u9053\u5e9c\u770c\u306eID\u3092\u3082\u3068\u306b\u6587\u5b57\u5217\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3082\u66f8\u3044\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n```php:app/Item.php\n<?php\n\nnamespace App;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass Item extends Model\n{\n    public function getPrefNameAttribute() {\n        return \\App\\Prefecture::where('code', $this -> pref) -> first() -> name;\n    }\n}\n```\n\n```php:resources/views/index.blade.php\n<p>\u51fa\u8eab\u5730\uff1a{{ $item -> prefName }}</p>\n```\n", "tags": ["laravel", "laravel5", "PHP", "PostgreSQL", "CentOS"]}