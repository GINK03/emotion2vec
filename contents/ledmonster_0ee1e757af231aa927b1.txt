{"context": " More than 1 year has passed since last update.\u307f\u3093\u306a\u3084\u3063\u3066\u308b\u306f\u305a\u306a\u3093\u3060\u3051\u3069\u3001\u3042\u307e\u308a\u307e\u3068\u307e\u3063\u305f\u60c5\u5831\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\u8a8d\u8a3c\u5468\u308a\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u6c17\u306b\u3057\u3066\u3001\u307f\u3093\u306a\u66f8\u304d\u305f\u304c\u3089\u306a\u3044\u306e\u304b\u306a\uff1f\u305d\u308c\u3068\u3082\u79c1\u306e\u8abf\u3079\u65b9\u304c\u60aa\u304b\u3063\u305f\u3060\u3051\uff1f\u30de\u30b5\u30ab\u30ea\u304a\u5f85\u3061\u3057\u3066\u307e\u3059\u3002\n\n\u8a8d\u8a3c\u306e\u57fa\u672c\u65b9\u91dd\n+--------+                                +--------+\n|        |                                |        |\n|        |----(1) Credential ------------>|        |\n|        |                                |        |\n|        |<---(2) Access Token -----------|        |\n|        |                                |        |\n| Client |                                | Server |\n|        |                                |        |\n|        |----(3) API Call with Token --->|        |\n|        |                                |        |\n|        |<---(4) API Response -----------|        |\n|        |                                |        |\n+--------+                                +--------+\n\n\n\u3056\u3063\u304f\u308a\u8a00\u3046\u3068\u3001\n\u20281. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u30b5\u30fc\u30d0\u306b\u8a8d\u8a3c\u60c5\u5831\u3092\u6e21\u3057\u3066\u3001\n2. \u30b5\u30fc\u30d0\u3067\u8a8d\u8a3c\u60c5\u5831\u3092\u691c\u8a3c\u3057\u3066\u3001Access Token \u3092\u767a\u884c\u3057\u3001\n3. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f API Call \u3067 Access Token \u3092\u5229\u7528\u3001\n4. \u30b5\u30fc\u30d0\u306f Access Token \u3092\u691c\u8a3c\u3057\u3066\u3001API \u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\n\u3068\u306a\u308a\u307e\u3059\u3002\nCookie \u3092\u4f7f\u3046\u65b9\u6cd5\u3082\u3042\u308b\u3051\u3069\u3001\u30b5\u30fc\u30d0\u3067\u8a8d\u8a3c\u7528\u306e Access Token \u3092\u767a\u884c\u3059\u308b\u306e\u304c\u57fa\u672c\u3067\u3059\u3002\u4ee5\u4e0b\u3001\u305d\u308c\u305e\u308c\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u4f55\u3092 credential \u3068\u3059\u308b\u304b\n\u3088\u304f\u3042\u308b credential \uff08\u8a8d\u8a3c\u60c5\u5831\uff09\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\nusername, password\n\u5916\u90e8\u306e ID Provider (Facebook, Twitter \u306a\u3069)\u3067\u306e\u8a8d\u8a3c\u306b\u983c\u3089\u306a\u3044\u5834\u5408\u306b\u5229\u7528\u3057\u307e\u3059\u3002Legacy \u306a\u8a8d\u8a3c\u65b9\u5f0f\u3067\u3059\u304c\u3001OAuth 2.0 \u3067\u3082 Resource Owner Password Credentials Grant \u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3067\u3059\u3002\n\u30b5\u30fc\u30d0\u306f username, password \u3092\u691c\u8a3c\u3057\u3001\u6709\u52b9\u3067\u3042\u308c\u3070\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b Access Token \u3092\u8fd4\u3057\u307e\u3059\u3002\uff08\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30e6\u30fc\u30b6\u3092\u65b0\u898f\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\u4ee5\u964d\u306e\u9805\u3067\u306f\u7701\u7565\u3002\uff09\n\n\u5916\u90e8\u306e ID Provider \u306e Access Token\n\u4f55\u304b\u3057\u3089\u306e\u65b9\u6cd5(OAuth2\u7b49)\u3067\u5916\u90e8\u306e IdP \u304b\u3089\u30e6\u30fc\u30b6\u306e Access Token \u3092\u53d6\u5f97\u3057\u3001\u305d\u308c\u3092 credential \u3068\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002\uff08\u4e0a\u306e\u56f3\u3067\u306f Client \u304b\u3089 Server \u306b Credential \u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u304c\u3001OAuth2 \u306e Authorization Code Grant \u3067\u306f\u30b5\u30fc\u30d0\u304c IdP \u304b\u3089\u76f4\u63a5 Access Token \u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\uff09\n\u30b5\u30fc\u30d0\u306f\uff08\u5916\u90e8 IdP \u306e\uff09 Access Token \u3092\u691c\u8a3c\u3057\u3001\u6709\u52b9\u3067\u3042\u308c\u3070\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\uff08\u81ea\u5206\u306e\u30b5\u30fc\u30d3\u30b9\u306e\uff09 Access Token \u3092\u8fd4\u3057\u307e\u3059\u3002\n\u3053\u306e\u3068\u304d\u3001\uff08\u5916\u90e8 IdP \u306e\uff09 Access Token \u304c\u5358\u306b\u4f7f\u3048\u308b\u3068\u3044\u3046\u3053\u3068\u3060\u3051\u3067\u306a\u304f\u3001\u30c8\u30fc\u30af\u30f3\u306e\u767a\u884c\u5148\u304c\u81ea\u8eab\u306e\u30a2\u30d7\u30ea\u3067\u3042\u308b\u3053\u3068\u3082\u78ba\u8a8d\u304c\u5fc5\u8981\u3067\u3059\uff08token \u7f6e\u63db\u653b\u6483\u5bfe\u7b56\uff09\u3002Facebook \u3067\u3042\u308c\u3070 App API\u304c\u4f7f\u3048\u307e\u3059\u3057\u3001Google \u306a\u3089 tokeninfo API\u304c\u4f7f\u3048\u307e\u3059\u3002\n\n\u5916\u90e8\u306e ID Provider \u306e ID Token\nOpenID Connect \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b IdP (Google, mixi, Yahoo \u306a\u3069)\u3067\u3042\u308c\u3070\u3001ID Token \u3092 credential \u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u8a73\u7d30\u306f mixi \u306e\u8a8d\u8a3c\u8cc7\u6599\u306a\u3069\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u30b5\u30fc\u30d0\u306f ID Token \u3092\u691c\u8a3c\u3057\u3001\u6709\u52b9\u3067\u3042\u308c\u3070\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b Access Token \u3092\u8fd4\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001 OpenID Connect \u306e\u4ed5\u69d8\u3092\u3082\u3046\u5c11\u3057\u3057\u3063\u304b\u308a\u5229\u7528\u3059\u308b\u3068\u3001\u4efb\u610f\u306e IdP \u3092\u5229\u7528\u3057\u3066\u8a8d\u8a3c\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002(OpenID Connect Discovery \u3067 IdP \u3092\u63a2\u3057\u3066\u3001OpenID Connect Dynamic Client Registration \u3067\u30b5\u30fc\u30d3\u30b9\u7528\u306e client_id \u3092\u53d6\u5f97\u3057\u3001\u8a8d\u8a3c\u3002)\n\n\u3069\u306e\u3088\u3046\u306a Token \u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u8fd4\u3059\u304b\n\u5916\u90e8\u306e IdP \u306e\u8a71\u304c\u51fa\u3066\u304d\u305f\u306e\u3067\u3061\u3087\u3063\u3068\u6df7\u4e71\u3057\u3061\u3083\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u3044\u3063\u305f\u3093 Credential \u306e\u691c\u8a3c\u304c\u3067\u304d\u305f\u3089\u3001\u4eca\u5ea6\u306f \u30b5\u30fc\u30d0\u81ea\u8eab\u304c IdP \u3068\u3057\u3066 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b Access Token \u3092\u6255\u3044\u51fa\u3057\u307e\u3059\u3002\nAccess Token \u306e\u6255\u3044\u51fa\u3057\u65b9\u6cd5\u3068\u3057\u3066\u306f\u3001\u5927\u304d\u304f\u4ee5\u4e0b\u306e2\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3067\u3057\u3087\u3046\u304b\u3002\n\nToken \u306e\u7a2e\u985e\n\n\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217\u3092 DB \u306b\u4fdd\u5b58\u3059\u308b\n\u30b5\u30fc\u30d0\u3067\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217\u3092\u767a\u884c\u3057\u3066\u3001DB \u306b\u4fdd\u5b58\u3057\u3001Access Token \u3068\u3057\u3066\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002\n\u6700\u4f4e\u9650\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9805\u76ee\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\nUser ID\nAccess Token\n\u6709\u52b9\u671f\u9650\n\n\nJWT \u3092\u5229\u7528\u3059\u308b\nOAuth 2.0 \u306e\u6587\u8108\u3067\u4ed5\u69d8\u7b56\u5b9a\u3055\u308c\u305f\u3001JWT (JSON Web Token)\u3068\u3044\u3046\u4ed5\u69d8\u304c\u3042\u308a\u307e\u3059\u3002\u5148\u307b\u3069\u51fa\u3066\u304d\u305f ID Token \u3082 JWT \u306e\u4e00\u7a2e\u306a\u306e\u3067\u3059\u304c\u3001JWT \u306f Access Token \u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\nJWT (\u3068\u3044\u3046\u304b Signed JWT\u3002\u8a73\u3057\u304f\u306f nov \u3055\u3093\u306e\u8a18\u4e8b\u53c2\u7167) \u306b\u306f\u7f72\u540d\u304c\u3064\u3044\u3066\u3044\u308b\u306e\u3067\u3001\u5171\u901a\u9375\uff08HMAC\u306b\u3088\u308b\u7f72\u540d\u306e\u5834\u5408)\u3084\u516c\u958b\u9375\uff08RSA\u7f72\u540d\u306e\u5834\u5408\uff09\u304c\u3042\u308c\u3070\u3001Token \u306e\u691c\u8a3c\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001Token \u306e\u4e2d\u306b user_id \u3084 expiration time \u306a\u3069\u306e\u60c5\u5831\u3092\u57cb\u3081\u8fbc\u3081\u308b\u306e\u3067\u3001DB \u306b\u3088\u308b Token \u306e\u7ba1\u7406\u304c\u4e0d\u8981\u3067\u3059\u3002\n\u3053\u306e\u8fba\u308a\u306e\u8a71\u306f\u3001\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\n- 10 Things You Should Know about Tokens\n\u307e\u305f\u3001Django \u3067\u306f\u305d\u306e\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5b9f\u88c5\u3055\u308c\u3066\u307e\u3059\u3002\n- Django REST framework JWT Auth\n\n\u6709\u52b9\u671f\u9650\u306e\u7ba1\u7406\nToken \u306e\u6709\u52b9\u671f\u9650\u304c\u5207\u308c\u308b\u524d\u306e\u65e9\u3044\u6bb5\u968e\u3067\u3001\u65b0\u3057\u3044Token\u3092\u53d6\u5f97\u3057\u306a\u304a\u3057\u3066\u3082\u3089\u3044\u307e\u3057\u3087\u3046\u3002JWT\u306e\u5834\u5408\u306f\u3001\u305d\u306e\u60c5\u5831\u3092 Token \u306b\u5165\u308c\u3089\u308c\u308b\u306e\u3067\u3059\u304c\u3001\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217\u3092 Access Token \u3068\u3057\u3066\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001Access Token \u767a\u884c\u6642\u306b\u77e5\u3089\u3055\u308c\u305f\u6709\u52b9\u671f\u9650\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u4fdd\u6301\u3057\u3066\u304a\u304f\u3053\u3068\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u3069\u306e\u3088\u3046\u306b API Call \u3059\u308b\u304b\n\u7d20\u76f4\u306b OAuth 2.0 \u306e\u4ed5\u69d8\u306b\u5f93\u3063\u3066\u3001Authorization Header \u3092\u3064\u3051\u307e\u3057\u3087\u3046\u3002\n\u4fbf\u5229\u306a\u306e\u3067 Bearer token type \u3057\u304b\u4f7f\u3063\u305f\u3053\u3068\u304c\u7121\u3044\u3067\u3059\u304c\u3001 mac token type \u306e\u65b9\u304c\u3001\u3088\u308a\u5b89\u5168\u3063\u307d\u3044\u3067\u3059\u3002\n\n\u307e\u3068\u3081\n\u3044\u308d\u3044\u308d\u8abf\u3079\u3066\u308b\u4e2d\u3067\u3001OAuth 2.0 \u4ed5\u69d8\u306e Editor \u3067\u3042\u308b Dick Hardt \u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8ff0\u3079\u3066\u3044\u308b\u306e\u304c\u5370\u8c61\u7684\u3067\u3057\u305f\u3002\n\nOAuth 2.0 is commonly used by a mobile app to obtain an access token that is then used for subsequent API calls by the mobile app. Sorry the RFC does not make that as clear as it should.\n\nBest practices for token-based authentication in REST API\n\nOAuth 2.0 \u3068\u3044\u3046\u3068\u3001\u5916\u90e8\u306e IdP \u3068\u306e\u9023\u643a\u3060\u3051\u306b\u5229\u7528\u3059\u308b\u3068\u601d\u308f\u308c\u304c\u3061\u3067\u3059\u304c\u3001\u666e\u901a\u306e Mobile App - Server \u9593\u306e\u8a8d\u8a3c\u306b\u3082\u4f7f\u3048\u308b\u3093\u3067\u3059\u3088\u306d\u3002\n\n\u307f\u3093\u306a\u3084\u3063\u3066\u308b\u306f\u305a\u306a\u3093\u3060\u3051\u3069\u3001\u3042\u307e\u308a\u307e\u3068\u307e\u3063\u305f\u60c5\u5831\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\u8a8d\u8a3c\u5468\u308a\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u6c17\u306b\u3057\u3066\u3001\u307f\u3093\u306a\u66f8\u304d\u305f\u304c\u3089\u306a\u3044\u306e\u304b\u306a\uff1f\u305d\u308c\u3068\u3082\u79c1\u306e\u8abf\u3079\u65b9\u304c\u60aa\u304b\u3063\u305f\u3060\u3051\uff1f\u30de\u30b5\u30ab\u30ea\u304a\u5f85\u3061\u3057\u3066\u307e\u3059\u3002\n\n# \u8a8d\u8a3c\u306e\u57fa\u672c\u65b9\u91dd\n\n```\n+--------+                                +--------+\n|        |                                |        |\n|        |----(1) Credential ------------>|        |\n|        |                                |        |\n|        |<---(2) Access Token -----------|        |\n|        |                                |        |\n| Client |                                | Server |\n|        |                                |        |\n|        |----(3) API Call with Token --->|        |\n|        |                                |        |\n|        |<---(4) API Response -----------|        |\n|        |                                |        |\n+--------+                                +--------+\n\n```\n\u3056\u3063\u304f\u308a\u8a00\u3046\u3068\u3001\n\u20281. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u30b5\u30fc\u30d0\u306b\u8a8d\u8a3c\u60c5\u5831\u3092\u6e21\u3057\u3066\u3001\n2. \u30b5\u30fc\u30d0\u3067\u8a8d\u8a3c\u60c5\u5831\u3092\u691c\u8a3c\u3057\u3066\u3001Access Token \u3092\u767a\u884c\u3057\u3001\n3. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f API Call \u3067 Access Token \u3092\u5229\u7528\u3001\n4. \u30b5\u30fc\u30d0\u306f Access Token \u3092\u691c\u8a3c\u3057\u3066\u3001API \u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\n\n\u3068\u306a\u308a\u307e\u3059\u3002\n\nCookie \u3092\u4f7f\u3046\u65b9\u6cd5\u3082\u3042\u308b\u3051\u3069\u3001\u30b5\u30fc\u30d0\u3067\u8a8d\u8a3c\u7528\u306e Access Token \u3092\u767a\u884c\u3059\u308b\u306e\u304c\u57fa\u672c\u3067\u3059\u3002\u4ee5\u4e0b\u3001\u305d\u308c\u305e\u308c\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n# \u4f55\u3092 credential \u3068\u3059\u308b\u304b\n\u3088\u304f\u3042\u308b credential \uff08\u8a8d\u8a3c\u60c5\u5831\uff09\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\n## username, password\n\n\u5916\u90e8\u306e ID Provider (Facebook, Twitter \u306a\u3069)\u3067\u306e\u8a8d\u8a3c\u306b\u983c\u3089\u306a\u3044\u5834\u5408\u306b\u5229\u7528\u3057\u307e\u3059\u3002Legacy \u306a\u8a8d\u8a3c\u65b9\u5f0f\u3067\u3059\u304c\u3001OAuth 2.0 \u3067\u3082 Resource Owner Password Credentials Grant \u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3067\u3059\u3002\n\n\u30b5\u30fc\u30d0\u306f username, password \u3092\u691c\u8a3c\u3057\u3001\u6709\u52b9\u3067\u3042\u308c\u3070\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b Access Token \u3092\u8fd4\u3057\u307e\u3059\u3002\uff08\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30e6\u30fc\u30b6\u3092\u65b0\u898f\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\u4ee5\u964d\u306e\u9805\u3067\u306f\u7701\u7565\u3002\uff09\n\n## \u5916\u90e8\u306e ID Provider \u306e Access Token\n\n\u4f55\u304b\u3057\u3089\u306e\u65b9\u6cd5(OAuth2\u7b49)\u3067\u5916\u90e8\u306e IdP \u304b\u3089\u30e6\u30fc\u30b6\u306e Access Token \u3092\u53d6\u5f97\u3057\u3001\u305d\u308c\u3092 credential \u3068\u3057\u3066\u5229\u7528\u3057\u307e\u3059\u3002\uff08\u4e0a\u306e\u56f3\u3067\u306f Client \u304b\u3089 Server \u306b Credential \u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u304c\u3001OAuth2 \u306e Authorization Code Grant \u3067\u306f\u30b5\u30fc\u30d0\u304c IdP \u304b\u3089\u76f4\u63a5 Access Token \u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\uff09\n\n\u30b5\u30fc\u30d0\u306f\uff08\u5916\u90e8 IdP \u306e\uff09 Access Token \u3092\u691c\u8a3c\u3057\u3001\u6709\u52b9\u3067\u3042\u308c\u3070\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\uff08\u81ea\u5206\u306e\u30b5\u30fc\u30d3\u30b9\u306e\uff09 Access Token \u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u3068\u304d\u3001\uff08\u5916\u90e8 IdP \u306e\uff09 Access Token \u304c\u5358\u306b\u4f7f\u3048\u308b\u3068\u3044\u3046\u3053\u3068\u3060\u3051\u3067\u306a\u304f\u3001\u30c8\u30fc\u30af\u30f3\u306e\u767a\u884c\u5148\u304c\u81ea\u8eab\u306e\u30a2\u30d7\u30ea\u3067\u3042\u308b\u3053\u3068\u3082\u78ba\u8a8d\u304c\u5fc5\u8981\u3067\u3059\uff08[token \u7f6e\u63db\u653b\u6483\u5bfe\u7b56](http://oauth.jp/blog/2012/02/08/ios-sdk/)\uff09\u3002Facebook \u3067\u3042\u308c\u3070 [App API](https://developers.facebook.com/docs/graph-api/reference/v2.0/app)\u304c\u4f7f\u3048\u307e\u3059\u3057\u3001Google \u306a\u3089 [tokeninfo API](https://developers.google.com/accounts/docs/OAuth2UserAgent#validatetoken)\u304c\u4f7f\u3048\u307e\u3059\u3002\n\n\n## \u5916\u90e8\u306e ID Provider \u306e ID Token\n\nOpenID Connect \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b IdP (Google, mixi, Yahoo \u306a\u3069)\u3067\u3042\u308c\u3070\u3001ID Token \u3092 credential \u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n\u8a73\u7d30\u306f [mixi \u306e\u8a8d\u8a3c\u8cc7\u6599](http://developer.mixi.co.jp/connect/mixi_graph_api/api_auth/)\u306a\u3069\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u30b5\u30fc\u30d0\u306f ID Token \u3092\u691c\u8a3c\u3057\u3001\u6709\u52b9\u3067\u3042\u308c\u3070\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b Access Token \u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001 OpenID Connect \u306e\u4ed5\u69d8\u3092\u3082\u3046\u5c11\u3057\u3057\u3063\u304b\u308a\u5229\u7528\u3059\u308b\u3068\u3001\u4efb\u610f\u306e IdP \u3092\u5229\u7528\u3057\u3066\u8a8d\u8a3c\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002([OpenID Connect Discovery](http://openid.net/specs/openid-connect-discovery-1_0.html) \u3067 IdP \u3092\u63a2\u3057\u3066\u3001[OpenID Connect Dynamic Client Registration](http://openid.net/specs/openid-connect-registration-1_0.html) \u3067\u30b5\u30fc\u30d3\u30b9\u7528\u306e client_id \u3092\u53d6\u5f97\u3057\u3001\u8a8d\u8a3c\u3002)\n\n# \u3069\u306e\u3088\u3046\u306a Token \u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u8fd4\u3059\u304b\n\n\u5916\u90e8\u306e IdP \u306e\u8a71\u304c\u51fa\u3066\u304d\u305f\u306e\u3067\u3061\u3087\u3063\u3068\u6df7\u4e71\u3057\u3061\u3083\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u3044\u3063\u305f\u3093 Credential \u306e\u691c\u8a3c\u304c\u3067\u304d\u305f\u3089\u3001\u4eca\u5ea6\u306f **\u30b5\u30fc\u30d0\u81ea\u8eab\u304c IdP \u3068\u3057\u3066** \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b Access Token \u3092\u6255\u3044\u51fa\u3057\u307e\u3059\u3002\n\nAccess Token \u306e\u6255\u3044\u51fa\u3057\u65b9\u6cd5\u3068\u3057\u3066\u306f\u3001\u5927\u304d\u304f\u4ee5\u4e0b\u306e2\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3067\u3057\u3087\u3046\u304b\u3002\n\n## Token \u306e\u7a2e\u985e\n### \u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217\u3092 DB \u306b\u4fdd\u5b58\u3059\u308b\n\n\u30b5\u30fc\u30d0\u3067\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217\u3092\u767a\u884c\u3057\u3066\u3001DB \u306b\u4fdd\u5b58\u3057\u3001Access Token \u3068\u3057\u3066\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002\n\u6700\u4f4e\u9650\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9805\u76ee\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n- User ID\n- Access Token\n- \u6709\u52b9\u671f\u9650\n\n### JWT \u3092\u5229\u7528\u3059\u308b\n\nOAuth 2.0 \u306e\u6587\u8108\u3067\u4ed5\u69d8\u7b56\u5b9a\u3055\u308c\u305f\u3001[JWT (JSON Web Token)](http://tools.ietf.org/html/draft-ietf-oauth-json-web-token-23)\u3068\u3044\u3046\u4ed5\u69d8\u304c\u3042\u308a\u307e\u3059\u3002\u5148\u307b\u3069\u51fa\u3066\u304d\u305f ID Token \u3082 JWT \u306e\u4e00\u7a2e\u306a\u306e\u3067\u3059\u304c\u3001JWT \u306f Access Token \u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\nJWT (\u3068\u3044\u3046\u304b Signed JWT\u3002\u8a73\u3057\u304f\u306f [nov \u3055\u3093\u306e\u8a18\u4e8b](http://oauth.jp/blog/2012/10/26/json-web-token-jwt/)\u53c2\u7167) \u306b\u306f\u7f72\u540d\u304c\u3064\u3044\u3066\u3044\u308b\u306e\u3067\u3001\u5171\u901a\u9375\uff08HMAC\u306b\u3088\u308b\u7f72\u540d\u306e\u5834\u5408)\u3084\u516c\u958b\u9375\uff08RSA\u7f72\u540d\u306e\u5834\u5408\uff09\u304c\u3042\u308c\u3070\u3001Token \u306e\u691c\u8a3c\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001Token \u306e\u4e2d\u306b user_id \u3084 expiration time \u306a\u3069\u306e\u60c5\u5831\u3092\u57cb\u3081\u8fbc\u3081\u308b\u306e\u3067\u3001DB \u306b\u3088\u308b Token \u306e\u7ba1\u7406\u304c\u4e0d\u8981\u3067\u3059\u3002\n\n\u3053\u306e\u8fba\u308a\u306e\u8a71\u306f\u3001\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\n- [10 Things You Should Know about Tokens](https://auth0.com/blog/2014/01/27/ten-things-you-should-know-about-tokens-and-cookies/)\n\n\u307e\u305f\u3001Django \u3067\u306f\u305d\u306e\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5b9f\u88c5\u3055\u308c\u3066\u307e\u3059\u3002\n- [Django REST framework JWT Auth](https://github.com/GetBlimp/django-rest-framework-jwt)\n\n## \u6709\u52b9\u671f\u9650\u306e\u7ba1\u7406\n\nToken \u306e\u6709\u52b9\u671f\u9650\u304c\u5207\u308c\u308b\u524d\u306e\u65e9\u3044\u6bb5\u968e\u3067\u3001\u65b0\u3057\u3044Token\u3092\u53d6\u5f97\u3057\u306a\u304a\u3057\u3066\u3082\u3089\u3044\u307e\u3057\u3087\u3046\u3002JWT\u306e\u5834\u5408\u306f\u3001\u305d\u306e\u60c5\u5831\u3092 Token \u306b\u5165\u308c\u3089\u308c\u308b\u306e\u3067\u3059\u304c\u3001\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217\u3092 Access Token \u3068\u3057\u3066\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001Access Token \u767a\u884c\u6642\u306b\u77e5\u3089\u3055\u308c\u305f\u6709\u52b9\u671f\u9650\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u4fdd\u6301\u3057\u3066\u304a\u304f\u3053\u3068\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u3069\u306e\u3088\u3046\u306b API Call \u3059\u308b\u304b\n\n\u7d20\u76f4\u306b [OAuth 2.0 \u306e\u4ed5\u69d8](http://tools.ietf.org/html/draft-ietf-oauth-v2-31#section-7)\u306b\u5f93\u3063\u3066\u3001Authorization Header \u3092\u3064\u3051\u307e\u3057\u3087\u3046\u3002\n\n\u4fbf\u5229\u306a\u306e\u3067 Bearer token type \u3057\u304b\u4f7f\u3063\u305f\u3053\u3068\u304c\u7121\u3044\u3067\u3059\u304c\u3001 mac token type \u306e\u65b9\u304c\u3001\u3088\u308a\u5b89\u5168\u3063\u307d\u3044\u3067\u3059\u3002\n\n# \u307e\u3068\u3081\n\u3044\u308d\u3044\u308d\u8abf\u3079\u3066\u308b\u4e2d\u3067\u3001OAuth 2.0 \u4ed5\u69d8\u306e Editor \u3067\u3042\u308b Dick Hardt \u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8ff0\u3079\u3066\u3044\u308b\u306e\u304c\u5370\u8c61\u7684\u3067\u3057\u305f\u3002\n\n> OAuth 2.0 is commonly used by a mobile app to obtain an access token that is then used for subsequent API calls by the mobile app. Sorry the RFC does not make that as clear as it should.\n\n[Best practices for token-based authentication in REST API\n](https://groups.google.com/forum/m/#!topic/nodejs/2zCXZ10jFbg)\n\nOAuth 2.0 \u3068\u3044\u3046\u3068\u3001\u5916\u90e8\u306e IdP \u3068\u306e\u9023\u643a\u3060\u3051\u306b\u5229\u7528\u3059\u308b\u3068\u601d\u308f\u308c\u304c\u3061\u3067\u3059\u304c\u3001\u666e\u901a\u306e Mobile App - Server \u9593\u306e\u8a8d\u8a3c\u306b\u3082\u4f7f\u3048\u308b\u3093\u3067\u3059\u3088\u306d\u3002\n\n", "tags": ["\u8a8d\u8a3c", "OAuth", "oauth2", "JWT"]}