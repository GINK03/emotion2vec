{"tags": ["spring-boot", "Thymeleaf", "jpa"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u76ee\u7684\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304b\u3089View\u306e\u8868\u793a\u3092\u884c\u3046\u3060\u3051\u306e\u72b6\u614b\u304b\u3089\u3001\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304b\u3089\u30b5\u30fc\u30d3\u30b9\u3092\u547c\u3073\u51fa\u3057\u3001\nDB\u64cd\u4f5c\u3092\u884c\u3044\u3001\n\u7d50\u679c\u3092View\u306b\u8fd4\u3059\u307e\u3067\u306e\u6d41\u308c\u3092\u5b9f\u73fe\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u6210\u3059\u308b\n\n\u74b0\u5883\nIDE STS\nSpring Boot 1.3.0\nJava 8\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3 Thymeleaf\nSpring Data JPA\nO/R\u30de\u30c3\u30d1\u30fc\u3000Hibernate\n\n\u624b\u9806\n\n\u524d\u56de\u306e\u72b6\u614b\n\n\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\ncustomers\u3078\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u305flist\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u610f\ncustomers\u3078\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u308b\u3068\u3001\naddAttribute\u30e1\u30bd\u30c3\u30c9\u306b\u3066\"msg\"\u306b\u201d\u30b5\u30f3\u30d7\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\uff01\u201d\u3068\u3044\u3046\u6587\u5b57\u5217\u304c\u3072\u3082\u4ed8\u3051\u3089\u308c\u3001View\u306b\u6e21\u3055\u308c\u308b\u3002\nview\u306f\u3001resources/templates\u4ee5\u4e0b\u306e\u3001\ntest/test.html\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\n\nCustomerController.java\npackage com.example.web;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.example.domain.Customer;\nimport com.example.service.CustomerService;\n\n@Controller\n@RequestMapping(\"customers\")\npublic class CustomerController {\n    @RequestMapping(method = RequestMethod.GET)\n    public String list(Model model) {\n        model.addAttribute(\"msg\",\"\u30b5\u30f3\u30d7\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\uff01\");\n        return \"test/test\";\n    }\n}\n\n\n\n\u30fb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\nhtml xmlns:th=\"http://www.thymeleaf.org\"\u3092\u30d8\u30c3\u30c0\u306b\u3066\u547c\u3073\u51fa\u3057\nth\u5c5e\u6027\u3092\u4f7f\u3046\u305f\u3081\u306e\u540d\u524d\u7a7a\u9593\u3092\u6307\u5b9a\u3059\u308b\nth:text=\"${msg}\"\u3067\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3001text\u578b\u3067\u30bb\u30c3\u30c8\u3059\u308b\u3000\u6587\u5b57\u5217\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u308b\n\ntest.html\n<!DOCTYPE HTML>\n<html xmlns:th=\"http://www.thymeleaf.org\">\n<head>\n<title>top page</title>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n</head>\n<body>\ntest\n<p th:text=\"${msg}\" /> \n</body>\n</html>\n\n\n\n\u30fbpom\n\npom.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.example</groupId>\n    <artifactId>demo</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <packaging>jar</packaging>\n\n    <name>webAppTest_version1.3</name>\n    <description>Demo project for Spring Boot</description>\n\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>1.3.0.RELEASE</version>\n        <relativePath/> <!-- lookup parent from repository -->\n    </parent>\n\n    <properties>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <java.version>1.8</java.version>\n    </properties>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-thymeleaf</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n\n\n\n\n\n\u4eca\u56de\u306e\u4f5c\u696d\n\n\npom\u306b\u4ee5\u4e0b\u306e\u4f9d\u5b58\u6027\u3092\u8ffd\u52a0\n\npom.xml\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-data-jpa</artifactId>\n</dependency>\n<dependency>\n  <groupId>com.h2database</groupId>\n  <artifactId>h2</artifactId>\n</dependency>\n<dependency>\n  <groupId>org.lazyluke</groupId>\n  <artifactId>log4jdbc-remix</artifactId>\n  <version>0.2.7</version>\n</dependency>\n<dependency>\n  <groupId>org.projectlombok</groupId>\n  <artifactId>lombok</artifactId>\n  <version>1.14.0</version>\n  <scope>provided</scope>\n</dependency>\n\n\n\n\u30b5\u30fc\u30d3\u30b9\u306e\u8ffd\u52a0\nJPA\u30af\u30e9\u30b9\u306b\u3088\u308bCLUD\u64cd\u4f5c\u3092customerRepository.findAll()\u7b49\u3067\u5b9f\u884c\u3057\u3066\u3044\u308b\n\u3053\u306eCLUD\u64cd\u4f5c\u306b\u95a2\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u3001customerRepository\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u305d\u306e\u7d99\u627f\u5143\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3002\n\nCustomerService.java\npackage com.example.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.example.domain.Customer;\nimport com.example.repository.CustomerRepository;\n\n@Service\n@Transactional\npublic class CustomerService {\n    @Autowired\n    CustomerRepository customerRepository;\n\n    public Customer save(Customer customer){\n        return customerRepository.save(customer);\n    }\n    public List<Customer> findAll(){\n        return customerRepository.findAll();\n    }\n    public Page<Customer> findAll(Pageable pageable){\n        return customerRepository.findAllOrderByName(pageable);\n    }\n    public Customer findOne(Integer id){\n        return customerRepository.findOne(id);\n    }\n    public Customer create(Customer custmer){\n        return customerRepository.save(custmer);\n    }\n    public Customer update(Customer customer){\n        return customerRepository.save(customer);\n    }\n    public void delete(Integer id){\n        customerRepository.delete(id);\n    }\n\n}\n\n\n\n\nDB\u64cd\u4f5c\n\n\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\n\uff20Entity\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3067JPA\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3067\u3042\u308b\u3053\u3068\u3092\u5b9a\u7fa9\n\uff20Table\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3067Table\u540d\u3068\u306e\u3072\u3082\u4ed8\u3051\n\uff20Data\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u3066\u3001\u5404\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30af\u30bb\u30c3\u30b5\u3001toString equals hashCode\u30e1\u30bd\u30c3\u30c9\u3092\u751f\u6210\u3059\u308b\u3002\uff08Lombok\uff09\n@NoArgsConstructor @AllArngConstructor \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u751f\u6210\n@Id\u4e3b\u30ad\u30fc\u3092\u6307\u5b9a\n@GeneratedValue \u4e3b\u30ad\u30fc\u3092DB\u3067\u81ea\u52d5\u63a1\u756a\u3059\u308b\n\nCustomer.java\npackage com.example.domain;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Table(name = \"customers\")\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Customer {\n    @Id\n    @GeneratedValue\n    private Integer id;\n    @Column(nullable = false)\n    private String firstName;\n    @Column(nullable = false)\n    private String lastName;\n}\n\n\n\n\nrepository\nRDBMS\u64cd\u4f5c\u3092\u884c\u3046\nJpaRepository\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u305fInterface\u3092\u4f5c\u6210\u3059\u308b\nCLUD\u306e\u57fa\u672c\u7684\u306a\u64cd\u4f5c\u306f\u3059\u3067\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001Interface\u3092\u5b9a\u7fa9\u3059\u308b\u3060\u3051\u3067\nfindOne\nfindAll\nsave\ndelete\n\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u3048\u308b\n\uff20Query\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308a\u3001JPQL\u306b\u3088\u308b\u51e6\u7406\u3082\u53ef\u80fd\n\nCustomerRepository.java\npackage com.example.repository;\n\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.example.domain.Customer;\n\n@Repository\n@Transactional\npublic interface CustomerRepository extends JpaRepository<Customer, Integer>{\n\n    @Query(\"SELECT x FROM Customer x ORDER BY x.firstName, x.lastName\")\n    Page<Customer> findAllOrderByName(Pageable pageable);\n\n}\n\n\n\n\n\u521d\u671f\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u8fbc\u307f\nresource\u306bsql\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3059\u308b\u3068\u3001\u5b9f\u884c\u524d\u306b\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u3002\nDB\u306e\n\ndata.sql\nINSERT INTO customers(first_name, last_name) VALUES('\u4e2d\u91ce', '\u897f\u53e3');\nINSERT INTO customers(first_name, last_name) VALUES('\u4e2d\u91ce', '\u5742\u4e0a');\nINSERT INTO customers(first_name, last_name) VALUES('\u6771', '\u4e2d\u91ce');\nINSERT INTO customers(first_name, last_name) VALUES('\u4e2d\u91ce', '\u5bcc\u58eb\u898b\u753a');\n\n\n\u203b\u305d\u3082\u305d\u3082DB\u306e\u8a2d\u5b9a\u306f\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u306e\u304b\nh2\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u3067\u30a4\u30f3\u30e1\u30e2\u30ea\u3067\u52d5\u3044\u3066\u3044\u308b\u3002mysql\u3068\u304b\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u5225\u9014\u5fc5\u8981\nTable\u5b9a\u7fa9\u306f@Data\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u304b\u3089\u81ea\u52d5\u7684\u306b\u751f\u6210\u3055\u308c\u3066\u3044\u308b(\nJPA\u306b\u3088\u3063\u3066\uff09\u30fb\u30fb\u30fb\u306e\u306f\u305a\n\u4e0a\u8a18\u306e\u30b5\u30fc\u30d3\u30b9\u3092Controller\u304b\u3089\u547c\u3073\u51fa\u3059\n\nController\u304b\u3089\u30b5\u30fc\u30d3\u30b9\u3092\u547c\u3073\u51fa\u3057\u3001\u7d50\u679c\u3092View\u3078\u6e21\u3059\ncustomerService\u306efindAll()\u30e1\u30bd\u30c3\u30c9\u304b\u3089\u3001\u691c\u7d22\u3092\u884c\u3046\naddAttribute\u3067\"customers\"\u3068\u3044\u3046\u30ad\u30fc\u306bcustomers\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3072\u3082\u3065\u3051\u308b\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8customers/list\u3092\u8868\u793a\u3059\u308b\n\nCustomerController.java\npackage com.example.web;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.example.domain.Customer;\nimport com.example.service.CustomerService;\n\n@Controller\n@RequestMapping(\"customers\")\npublic class CustomerController {\n\n    @Autowired\n    CustomerService customerService;\n\n    @RequestMapping(method = RequestMethod.GET)\n    String list(Model model) {\n        List<Customer> customers = customerService.findAll();\n        model.addAttribute(\"customers\", customers);\n        return \"customers/list\";\n    }\n\n    /*\n    @RequestMapping(method = RequestMethod.GET)\n    public String list(Model model) {\n        model.addAttribute(\"msg\",\"\u30b5\u30f3\u30d7\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\uff01\");\n        return \"customers/list\";\n    }\n    */\n\n}\n\n\n\n\nView\u306e\u8868\u793a\naddAttrivute\u3067\u6e21\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3058\u3083${customer}\u3067\u53d6\u308a\u51fa\u305b\u308b\n\u3082\u3068\u3082\u3068customer\u306fList\u578b\u3067\u6e21\u3055\u308c\u3066\u3044\u305f\u305f\u3081\u3001\nth:each \u306b\u3066\u7e70\u308a\u8fd4\u3057\u53d6\u5f97\u3067\u304d\u308b\ncustomer:${customers}\n\u306b\u3066\u3001\u53f3\u306e\u308a\u3059\u3068\u304b\u3089\u3072\u3068\u3064\u3065\u3064customer\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8aad\u307f\u51fa\u3057\u3001\u5217\u8a18\u3067\u304d\u308b\n\u203bForm\u306e\u65b9\u306f\u4e00\u65e6\u8868\u793a\u3060\u3051\u307e\u3067\n\nlist.html\n<!DOCTYPE HTML>\n<html xmlns:th=\"http://www.thymeleaf.org\">\n<head>\n<title>top page</title>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n</head>\n<body>\n<table>\n    <tr th:each=\"customer : ${customers}\">\n        <td th:text=\"${customer.id}\"></td>\n        <td th:text=\"${customer.lastName}\"></td>\n        <td th:text=\"${customer.firstName}\"></td>\n        <td>\n            <from method=\"get\">\n                <input type=\"submit\" name=\"from\" value=\"\u7de8\u96c6\" />\n                <input type=\"hidden\" name=\"id\" th:value=\"${customer.id}\" />\n            </from>\n        </td>\n        <td>\n            <from method=\"post\">\n                <input type=\"submit\" value=\"\u524a\u9664\" />\n                <input type=\"hidden\" value=\"id\" th:value=\"${customer.id}\" />\n            </from>\n        </td>\n    </tr>\n</table>\n\n</body>\n</html>\n\n\n\n\n\n\u8868\u793a\u3092\u78ba\u8a8d\nhttp://localhost:8080/test\n\u3088\u308a\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\n\n\u30c7\u30fc\u30bf\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\n\n\u53c2\u8003\u6587\u732e\n\u30fb[\u5de5\u5b66\u793e\u306f\u3058\u3081\u3066\u306eSpring Boot \u7b2c\uff11\u7248:\u69d9\u4fca\u660e\uff08\u5e73\u6210\uff12\uff17\u5e74\uff11\u6708\uff11\uff10\u65e5\uff09]\n\u672c\u66f8\u306eSpring Boot\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u304c1.1.8.RELEASE\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u305f\u305f\u3081\u3001\n\u6700\u65b0\uff08\u50d5\u306e\u5834\u5408\u306f1.3.0.RELEASE\uff09\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u305d\u306e\u307e\u307e\u30b5\u30f3\u30d7\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3068\u6b63\u5e38\u306b\u52d5\u304b\u306a\u304b\u3063\u305f\u3002\n\u4e00\u65e6\u3001\u5225\u306e\u60c5\u5831\u3092\u3082\u3068\u306b1.3.0\u3067Thymeleaf\u306b\u3088\u308bView\u8868\u793a\u3092\u5b9f\u73fe\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u3084\u3063\u305f\u4e0a\u3067\u3001\u30b5\u30fc\u30d3\u30b9\u3092\uff11\u500b\u3065\u3064\u8ffd\u8a18\u3057\u3001\u3068\u308a\u3042\u3048\u305a\u3053\u306e\u3088\u3046\u306b\u3057\u305f\u3089\u554f\u984c\u306a\u304f\u52d5\u3044\u305f\u3002\n\uff08\u305f\u3060\u3001DB\u306e\u30ed\u30b0\u304c\u51fa\u305b\u3066\u3044\u306a\u3044\u3002\uff09\n\u30fbSpring Boot\u3067\u306f\u3058\u3081\u308bSpring MVC\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u9ad8\u901f\u958b\u767a\u5165\u9580:http://libro.tuyano.com/index3?id=8486003&page=2\n#\u76ee\u7684\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304b\u3089View\u306e\u8868\u793a\u3092\u884c\u3046\u3060\u3051\u306e\u72b6\u614b\u304b\u3089\u3001\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304b\u3089\u30b5\u30fc\u30d3\u30b9\u3092\u547c\u3073\u51fa\u3057\u3001\nDB\u64cd\u4f5c\u3092\u884c\u3044\u3001\n\u7d50\u679c\u3092View\u306b\u8fd4\u3059\u307e\u3067\u306e\u6d41\u308c\u3092\u5b9f\u73fe\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u6210\u3059\u308b\n\n#\u74b0\u5883\nIDE STS\nSpring Boot 1.3.0\nJava 8\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3 Thymeleaf\nSpring Data JPA\nO/R\u30de\u30c3\u30d1\u30fc\u3000Hibernate\n\n#\u624b\u9806\n##\u524d\u56de\u306e\u72b6\u614b\n![\u524d\u56de\u306eSpringBoot.png](https://qiita-image-store.s3.amazonaws.com/0/57455/9a17ee6a-6401-49dc-e86a-20119e43cb31.png)\n\n\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\ncustomers\u3078\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u305flist\u30e1\u30bd\u30c3\u30c9\u3092\u7528\u610f\ncustomers\u3078\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u308b\u3068\u3001\naddAttribute\u30e1\u30bd\u30c3\u30c9\u306b\u3066\"msg\"\u306b\u201d\u30b5\u30f3\u30d7\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\uff01\u201d\u3068\u3044\u3046\u6587\u5b57\u5217\u304c\u3072\u3082\u4ed8\u3051\u3089\u308c\u3001View\u306b\u6e21\u3055\u308c\u308b\u3002\nview\u306f\u3001resources/templates\u4ee5\u4e0b\u306e\u3001\ntest/test.html\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\n\n```Java:CustomerController.java\npackage com.example.web;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.example.domain.Customer;\nimport com.example.service.CustomerService;\n\n@Controller\n@RequestMapping(\"customers\")\npublic class CustomerController {\n\t@RequestMapping(method = RequestMethod.GET)\n\tpublic String list(Model model) {\n        model.addAttribute(\"msg\",\"\u30b5\u30f3\u30d7\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\uff01\");\n        return \"test/test\";\n    }\n}\n\n```\n\u30fb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\nhtml xmlns:th=\"http://www.thymeleaf.org\"\u3092\u30d8\u30c3\u30c0\u306b\u3066\u547c\u3073\u51fa\u3057\nth\u5c5e\u6027\u3092\u4f7f\u3046\u305f\u3081\u306e\u540d\u524d\u7a7a\u9593\u3092\u6307\u5b9a\u3059\u308b\nth:text=\"${msg}\"\u3067\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3001text\u578b\u3067\u30bb\u30c3\u30c8\u3059\u308b\u3000\u6587\u5b57\u5217\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u308b\n\n```HTML:test.html\n<!DOCTYPE HTML>\n<html xmlns:th=\"http://www.thymeleaf.org\">\n<head>\n<title>top page</title>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n</head>\n<body>\ntest\n<p th:text=\"${msg}\" /> \n</body>\n</html>\n\n```\n\u30fbpom\n\n```xml:pom.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n\t<modelVersion>4.0.0</modelVersion>\n\n\t<groupId>com.example</groupId>\n\t<artifactId>demo</artifactId>\n\t<version>0.0.1-SNAPSHOT</version>\n\t<packaging>jar</packaging>\n\n\t<name>webAppTest_version1.3</name>\n\t<description>Demo project for Spring Boot</description>\n\n\t<parent>\n\t\t<groupId>org.springframework.boot</groupId>\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\n\t\t<version>1.3.0.RELEASE</version>\n\t\t<relativePath/> <!-- lookup parent from repository -->\n\t</parent>\n\n\t<properties>\n\t\t<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n\t\t<java.version>1.8</java.version>\n\t</properties>\n\n\t<dependencies>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-thymeleaf</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-test</artifactId>\n\t\t\t<scope>test</scope>\n\t\t</dependency>\n\t</dependencies>\n\t\n\t<build>\n\t\t<plugins>\n\t\t\t<plugin>\n\t\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\n\t\t\t</plugin>\n\t\t</plugins>\n\t</build>\n</project>\n\n\n```\n\n##\u4eca\u56de\u306e\u4f5c\u696d\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-11-28 9.03.56.png](https://qiita-image-store.s3.amazonaws.com/0/57455/1e49a5c8-0f62-5ccb-abef-5f6f45ae25d4.png)\n###pom\u306b\u4ee5\u4e0b\u306e\u4f9d\u5b58\u6027\u3092\u8ffd\u52a0\n```xml:pom.xml\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-data-jpa</artifactId>\n</dependency>\n<dependency>\n  <groupId>com.h2database</groupId>\n  <artifactId>h2</artifactId>\n</dependency>\n<dependency>\n  <groupId>org.lazyluke</groupId>\n  <artifactId>log4jdbc-remix</artifactId>\n  <version>0.2.7</version>\n</dependency>\n<dependency>\n  <groupId>org.projectlombok</groupId>\n  <artifactId>lombok</artifactId>\n  <version>1.14.0</version>\n  <scope>provided</scope>\n</dependency>\n```\n\n\n##\u30b5\u30fc\u30d3\u30b9\u306e\u8ffd\u52a0\nJPA\u30af\u30e9\u30b9\u306b\u3088\u308bCLUD\u64cd\u4f5c\u3092customerRepository.findAll()\u7b49\u3067\u5b9f\u884c\u3057\u3066\u3044\u308b\n\u3053\u306eCLUD\u64cd\u4f5c\u306b\u95a2\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u3001customerRepository\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u305d\u306e\u7d99\u627f\u5143\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3002\n\n```Java:CustomerService.java\npackage com.example.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.example.domain.Customer;\nimport com.example.repository.CustomerRepository;\n\n@Service\n@Transactional\npublic class CustomerService {\n\t@Autowired\n\tCustomerRepository customerRepository;\n\t\n\tpublic Customer save(Customer customer){\n\t\treturn customerRepository.save(customer);\n\t}\n\tpublic List<Customer> findAll(){\n\t\treturn customerRepository.findAll();\n\t}\n\tpublic Page<Customer> findAll(Pageable pageable){\n\t\treturn customerRepository.findAllOrderByName(pageable);\n\t}\n\tpublic Customer findOne(Integer id){\n\t\treturn customerRepository.findOne(id);\n\t}\n\tpublic Customer create(Customer custmer){\n\t\treturn customerRepository.save(custmer);\n\t}\n\tpublic Customer update(Customer customer){\n\t\treturn customerRepository.save(customer);\n\t}\n\tpublic void delete(Integer id){\n\t\tcustomerRepository.delete(id);\n\t}\n\n}\n\n```\n##DB\u64cd\u4f5c\n###\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\n\uff20Entity\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3067JPA\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3067\u3042\u308b\u3053\u3068\u3092\u5b9a\u7fa9\n\uff20Table\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3067Table\u540d\u3068\u306e\u3072\u3082\u4ed8\u3051\n\uff20Data\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u3066\u3001\u5404\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30af\u30bb\u30c3\u30b5\u3001toString equals hashCode\u30e1\u30bd\u30c3\u30c9\u3092\u751f\u6210\u3059\u308b\u3002\uff08Lombok\uff09\n@NoArgsConstructor @AllArngConstructor \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u751f\u6210\n@Id\u4e3b\u30ad\u30fc\u3092\u6307\u5b9a\n@GeneratedValue \u4e3b\u30ad\u30fc\u3092DB\u3067\u81ea\u52d5\u63a1\u756a\u3059\u308b\n\n```Java:Customer.java\npackage com.example.domain;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Table(name = \"customers\")\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Customer {\n\t@Id\n\t@GeneratedValue\n\tprivate Integer id;\n\t@Column(nullable = false)\n\tprivate String firstName;\n\t@Column(nullable = false)\n\tprivate String lastName;\n}\n\n```\n\n####repository\nRDBMS\u64cd\u4f5c\u3092\u884c\u3046\nJpaRepository\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u305fInterface\u3092\u4f5c\u6210\u3059\u308b\nCLUD\u306e\u57fa\u672c\u7684\u306a\u64cd\u4f5c\u306f\u3059\u3067\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001Interface\u3092\u5b9a\u7fa9\u3059\u308b\u3060\u3051\u3067\nfindOne\nfindAll\nsave\ndelete\n\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u3048\u308b\n\n\uff20Query\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308a\u3001JPQL\u306b\u3088\u308b\u51e6\u7406\u3082\u53ef\u80fd\n\n```Java:CustomerRepository.java\npackage com.example.repository;\n\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.example.domain.Customer;\n\n@Repository\n@Transactional\npublic interface CustomerRepository extends JpaRepository<Customer, Integer>{\n\t\n\t@Query(\"SELECT x FROM Customer x ORDER BY x.firstName, x.lastName\")\n\tPage<Customer> findAllOrderByName(Pageable pageable);\n\n}\n\n```\n\n\n\n\n####\u521d\u671f\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u8fbc\u307f\nresource\u306bsql\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3059\u308b\u3068\u3001\u5b9f\u884c\u524d\u306b\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u3002\nDB\u306e\n\n```sql:data.sql\nINSERT INTO customers(first_name, last_name) VALUES('\u4e2d\u91ce', '\u897f\u53e3');\nINSERT INTO customers(first_name, last_name) VALUES('\u4e2d\u91ce', '\u5742\u4e0a');\nINSERT INTO customers(first_name, last_name) VALUES('\u6771', '\u4e2d\u91ce');\nINSERT INTO customers(first_name, last_name) VALUES('\u4e2d\u91ce', '\u5bcc\u58eb\u898b\u753a');\n```\n\u203b\u305d\u3082\u305d\u3082DB\u306e\u8a2d\u5b9a\u306f\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u306e\u304b\nh2\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u3067\u30a4\u30f3\u30e1\u30e2\u30ea\u3067\u52d5\u3044\u3066\u3044\u308b\u3002mysql\u3068\u304b\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u5225\u9014\u5fc5\u8981\n\nTable\u5b9a\u7fa9\u306f@Data\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u304b\u3089\u81ea\u52d5\u7684\u306b\u751f\u6210\u3055\u308c\u3066\u3044\u308b(\nJPA\u306b\u3088\u3063\u3066\uff09\u30fb\u30fb\u30fb\u306e\u306f\u305a\n\n\n\u4e0a\u8a18\u306e\u30b5\u30fc\u30d3\u30b9\u3092Controller\u304b\u3089\u547c\u3073\u51fa\u3059\n##Controller\u304b\u3089\u30b5\u30fc\u30d3\u30b9\u3092\u547c\u3073\u51fa\u3057\u3001\u7d50\u679c\u3092View\u3078\u6e21\u3059\ncustomerService\u306efindAll()\u30e1\u30bd\u30c3\u30c9\u304b\u3089\u3001\u691c\u7d22\u3092\u884c\u3046\naddAttribute\u3067\"customers\"\u3068\u3044\u3046\u30ad\u30fc\u306bcustomers\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3072\u3082\u3065\u3051\u308b\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8customers/list\u3092\u8868\u793a\u3059\u308b\n\n```Java:CustomerController.java\npackage com.example.web;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.example.domain.Customer;\nimport com.example.service.CustomerService;\n\n@Controller\n@RequestMapping(\"customers\")\npublic class CustomerController {\n\t\n    @Autowired\n    CustomerService customerService;\n\n    @RequestMapping(method = RequestMethod.GET)\n    String list(Model model) {\n        List<Customer> customers = customerService.findAll();\n        model.addAttribute(\"customers\", customers);\n        return \"customers/list\";\n    }\n    \n\t/*\n\t@RequestMapping(method = RequestMethod.GET)\n\tpublic String list(Model model) {\n        model.addAttribute(\"msg\",\"\u30b5\u30f3\u30d7\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\uff01\");\n        return \"customers/list\";\n    }\n    */\n\n}\n\n```\n##View\u306e\u8868\u793a\naddAttrivute\u3067\u6e21\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3058\u3083${customer}\u3067\u53d6\u308a\u51fa\u305b\u308b\n\u3082\u3068\u3082\u3068customer\u306fList\u578b\u3067\u6e21\u3055\u308c\u3066\u3044\u305f\u305f\u3081\u3001\nth:each \u306b\u3066\u7e70\u308a\u8fd4\u3057\u53d6\u5f97\u3067\u304d\u308b\ncustomer:${customers}\n\u306b\u3066\u3001\u53f3\u306e\u308a\u3059\u3068\u304b\u3089\u3072\u3068\u3064\u3065\u3064customer\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8aad\u307f\u51fa\u3057\u3001\u5217\u8a18\u3067\u304d\u308b\n\n\u203bForm\u306e\u65b9\u306f\u4e00\u65e6\u8868\u793a\u3060\u3051\u307e\u3067\n\n```HTML:list.html\n<!DOCTYPE HTML>\n<html xmlns:th=\"http://www.thymeleaf.org\">\n<head>\n<title>top page</title>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n</head>\n<body>\n<table>\n\t<tr th:each=\"customer : ${customers}\">\n\t\t<td th:text=\"${customer.id}\"></td>\n\t\t<td th:text=\"${customer.lastName}\"></td>\n\t\t<td th:text=\"${customer.firstName}\"></td>\n\t\t<td>\n\t\t\t<from method=\"get\">\n\t\t\t\t<input type=\"submit\" name=\"from\" value=\"\u7de8\u96c6\" />\n\t\t\t\t<input type=\"hidden\" name=\"id\" th:value=\"${customer.id}\" />\n\t\t\t</from>\n\t\t</td>\n\t\t<td>\n\t\t\t<from method=\"post\">\n\t\t\t\t<input type=\"submit\" value=\"\u524a\u9664\" />\n\t\t\t\t<input type=\"hidden\" value=\"id\" th:value=\"${customer.id}\" />\n\t\t\t</from>\n\t\t</td>\n\t</tr>\n</table>\n\n</body>\n</html>\n\n\n```\n##\u8868\u793a\u3092\u78ba\u8a8d\n\nhttp://localhost:8080/test\n\u3088\u308a\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-11-28 10.27.41.png](https://qiita-image-store.s3.amazonaws.com/0/57455/582fc557-057e-3620-00bc-d0b3489b52ba.png)\n\n\u30c7\u30fc\u30bf\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\n\n\n###\n#\u53c2\u8003\u6587\u732e\n\u30fb[\u5de5\u5b66\u793e\u306f\u3058\u3081\u3066\u306eSpring Boot \u7b2c\uff11\u7248:\u69d9\u4fca\u660e\uff08\u5e73\u6210\uff12\uff17\u5e74\uff11\u6708\uff11\uff10\u65e5\uff09]\n\u672c\u66f8\u306eSpring Boot\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u304c1.1.8.RELEASE\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u305f\u305f\u3081\u3001\n\u6700\u65b0\uff08\u50d5\u306e\u5834\u5408\u306f1.3.0.RELEASE\uff09\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u305d\u306e\u307e\u307e\u30b5\u30f3\u30d7\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3068\u6b63\u5e38\u306b\u52d5\u304b\u306a\u304b\u3063\u305f\u3002\n\n\u4e00\u65e6\u3001\u5225\u306e\u60c5\u5831\u3092\u3082\u3068\u306b1.3.0\u3067Thymeleaf\u306b\u3088\u308bView\u8868\u793a\u3092\u5b9f\u73fe\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u3084\u3063\u305f\u4e0a\u3067\u3001\u30b5\u30fc\u30d3\u30b9\u3092\uff11\u500b\u3065\u3064\u8ffd\u8a18\u3057\u3001\u3068\u308a\u3042\u3048\u305a\u3053\u306e\u3088\u3046\u306b\u3057\u305f\u3089\u554f\u984c\u306a\u304f\u52d5\u3044\u305f\u3002\n\uff08\u305f\u3060\u3001DB\u306e\u30ed\u30b0\u304c\u51fa\u305b\u3066\u3044\u306a\u3044\u3002\uff09\n\u30fbSpring Boot\u3067\u306f\u3058\u3081\u308bSpring MVC\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u9ad8\u901f\u958b\u767a\u5165\u9580:http://libro.tuyano.com/index3?id=8486003&page=2\n"}