{"context": "Linux\u306e Broadcom BCM43430 \u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u8aad\u3093\u3067\u307f\u307e\u3057\u305f\u3002\n\n\u6e96\u5099\n\n\nhttps://wireless.wiki.kernel.org/en/users/drivers/brcm80211 \u306b\u3042\u308b\u5185\u5bb9\u3092\u8aad\u3093\u3067\u307f\u307e\u3057\u305f\u3002\nBroadcom\u306eWi-FI\u30c9\u30e9\u30a4\u30d0\u306fsoftmac\u7528\u306ebrcmsmac \u3068 fullmac\u7528\u306ebrcmfmac\u306e\uff12\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002\nBCM43430\u306fbrcmfmac\u306a\u306e\u3067FullMAC\u306a\u30c9\u30e9\u30a4\u30d0\u3067\u3059\u3002\nBCM43430\u306f Linux 4.1 \u4ee5\u964d\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nSDIO\u306e\u5834\u5408NVRAM\u30d5\u30a1\u30a4\u30eb\u3068\u547c\u3070\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u30ed\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nfullmac\u30c9\u30e9\u30a4\u30d0\u306e\u6a5f\u80fd\n\nIntegrated with cfg80211\nMost of Mac functionality is performed on chip\nsupport for SDIO, USB and PCIe\nSoftAP\nP2P\nTDLS\n\n\nBCM43430\u3092\u8ffd\u52a0\u3057\u305f\u6642\u306ecommit\u3092\u898b\u308b\u3068\u3001\u4ee5\u524d\u306e\u30c1\u30c3\u30d7\u3068\u540c\u3058\u69d8\u306b\u52d5\u304f\u306e\u3067\u3001BCM4343\u7279\u6709\u306e\u5909\u66f4\u306f\u3042\u307e\u308a\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\nhttps://github.com/Broadcom/brcm80211/commit/25911556283e5093fca235d7ba03faae7ed5dbf2\n\n\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nhttps://github.com/torvalds/linux/tree/master/drivers/net/wireless/broadcom/brcm80211/brcmfmac\n\n\nSDIO\u306e\u521d\u671f\u5316\u304b\u3089\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u307e\u3067\n\nprobe\u304b\u3089\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u307e\u3067\u3092\u8ffd\u3063\u3066\u307f\u305f\u3002\n\u4e0b\u8a18\u306eSDIO\u306e\u60c5\u5831\u3092\u767b\u9332\u3059\u308b\u3001\n\n\ndrivers/net/wireless/broadcom/brcm80211/brcmfmac/bcmsdh.c\n/* devices we support, null terminated */\nstatic const struct sdio_device_id brcmf_sdmmc_ids[] = {\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43143),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43241),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4329),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4330),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4334),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43340),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43341),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43362),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4335_4339),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4339),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43430),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4345),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4354),\n    BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4356),\n    { /* end: all zeroes */ }\n};\nMODULE_DEVICE_TABLE(sdio, brcmf_sdmmc_ids);\n\n\n\ndrivers/net/wireless/broadcom/brcm80211/brcmfmac/bcmsdh.c\nstatic struct sdio_driver brcmf_sdmmc_driver = {\n    .probe = brcmf_ops_sdio_probe,\n    .remove = brcmf_ops_sdio_remove,\n    .name = KBUILD_MODNAME,\n    .id_table = brcmf_sdmmc_ids,\n    .drv = {\n        .owner = THIS_MODULE,\n#ifdef CONFIG_PM_SLEEP\n        .pm = &brcmf_sdio_pm_ops,\n#endif  /* CONFIG_PM_SLEEP */\n    },\n};\n\n\n\nkernel\u306eSD\u30db\u30b9\u30c8\u30c9\u30e9\u30a4\u30d0\u3067\u3001SDIO\u3068\u5224\u65ad\u3057\u3001brcmf_sdmmc_ids\u306eID\u3068\u4e00\u81f4\u3059\u308bID\u3092\u6301\u3064SDIO\u3067\u30d0\u30a4\u30b9\u3067\u3042\u308b\u306a\u3089\u3001brcmf_ops_sdio_probe()\u3092\u5b9f\u884c\u3059\u308b\u3002\nbrcmf_ops_sdio_probe\uff08\uff09\u304b\u3089brcmf_sdiod_probe\uff08\uff09\u3092\u547c\u3076\u3002\nbrcmf_sdiod_probe\uff08\uff09\u3067SDIO\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u306e\u8a2d\u5b9a\u3001SDIO\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f30\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3001brcmf_sdio_probe\uff08\uff09\u3092\u547c\u3076\nbrcmf_sdio_probe\uff08\uff09\u304b\u3089\u3001brcmf_fw_get_firmwares()\u3092\u547c\u3073\u3001\u305d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30afbrcmf_sdio_firmware_callback\uff08\uff09\u306e\u4e2d\u3067\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\nLinux\u306e Broadcom BCM43430 \u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u8aad\u3093\u3067\u307f\u307e\u3057\u305f\u3002\n\n# \u6e96\u5099\n* https://wireless.wiki.kernel.org/en/users/drivers/brcm80211 \u306b\u3042\u308b\u5185\u5bb9\u3092\u8aad\u3093\u3067\u307f\u307e\u3057\u305f\u3002\n* Broadcom\u306eWi-FI\u30c9\u30e9\u30a4\u30d0\u306fsoftmac\u7528\u306ebrcmsmac \u3068 fullmac\u7528\u306ebrcmfmac\u306e\uff12\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002\n* BCM43430\u306fbrcmfmac\u306a\u306e\u3067FullMAC\u306a\u30c9\u30e9\u30a4\u30d0\u3067\u3059\u3002\n* BCM43430\u306f Linux 4.1 \u4ee5\u964d\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n* SDIO\u306e\u5834\u5408NVRAM\u30d5\u30a1\u30a4\u30eb\u3068\u547c\u3070\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u30ed\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n* fullmac\u30c9\u30e9\u30a4\u30d0\u306e\u6a5f\u80fd\n\n```\nIntegrated with cfg80211\nMost of Mac functionality is performed on chip\nsupport for SDIO, USB and PCIe\nSoftAP\nP2P\nTDLS\n```\n\n* BCM43430\u3092\u8ffd\u52a0\u3057\u305f\u6642\u306ecommit\u3092\u898b\u308b\u3068\u3001\u4ee5\u524d\u306e\u30c1\u30c3\u30d7\u3068\u540c\u3058\u69d8\u306b\u52d5\u304f\u306e\u3067\u3001BCM4343\u7279\u6709\u306e\u5909\u66f4\u306f\u3042\u307e\u308a\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n * https://github.com/Broadcom/brcm80211/commit/25911556283e5093fca235d7ba03faae7ed5dbf2\n\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n* https://github.com/torvalds/linux/tree/master/drivers/net/wireless/broadcom/brcm80211/brcmfmac\n\n# SDIO\u306e\u521d\u671f\u5316\u304b\u3089\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u307e\u3067\n* probe\u304b\u3089\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u307e\u3067\u3092\u8ffd\u3063\u3066\u307f\u305f\u3002\n\n* \u4e0b\u8a18\u306eSDIO\u306e\u60c5\u5831\u3092\u767b\u9332\u3059\u308b\u3001\n\n```c:drivers/net/wireless/broadcom/brcm80211/brcmfmac/bcmsdh.c\n/* devices we support, null terminated */\nstatic const struct sdio_device_id brcmf_sdmmc_ids[] = {\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43143),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43241),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4329),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4330),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4334),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43340),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43341),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43362),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4335_4339),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4339),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43430),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4345),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4354),\n\tBRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4356),\n\t{ /* end: all zeroes */ }\n};\nMODULE_DEVICE_TABLE(sdio, brcmf_sdmmc_ids);\n```\n\n```c:drivers/net/wireless/broadcom/brcm80211/brcmfmac/bcmsdh.c\nstatic struct sdio_driver brcmf_sdmmc_driver = {\n\t.probe = brcmf_ops_sdio_probe,\n\t.remove = brcmf_ops_sdio_remove,\n\t.name = KBUILD_MODNAME,\n\t.id_table = brcmf_sdmmc_ids,\n\t.drv = {\n\t\t.owner = THIS_MODULE,\n#ifdef CONFIG_PM_SLEEP\n\t\t.pm = &brcmf_sdio_pm_ops,\n#endif\t/* CONFIG_PM_SLEEP */\n\t},\n};\n```\n\n* kernel\u306eSD\u30db\u30b9\u30c8\u30c9\u30e9\u30a4\u30d0\u3067\u3001SDIO\u3068\u5224\u65ad\u3057\u3001brcmf_sdmmc_ids\u306eID\u3068\u4e00\u81f4\u3059\u308bID\u3092\u6301\u3064SDIO\u3067\u30d0\u30a4\u30b9\u3067\u3042\u308b\u306a\u3089\u3001brcmf_ops_sdio_probe()\u3092\u5b9f\u884c\u3059\u308b\u3002\n* brcmf_ops_sdio_probe\uff08\uff09\u304b\u3089brcmf_sdiod_probe\uff08\uff09\u3092\u547c\u3076\u3002\n* brcmf_sdiod_probe\uff08\uff09\u3067SDIO\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u306e\u8a2d\u5b9a\u3001SDIO\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f30\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3001brcmf_sdio_probe\uff08\uff09\u3092\u547c\u3076\n* brcmf_sdio_probe\uff08\uff09\u304b\u3089\u3001brcmf_fw_get_firmwares()\u3092\u547c\u3073\u3001\u305d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30afbrcmf_sdio_firmware_callback\uff08\uff09\u306e\u4e2d\u3067\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\n\n", "tags": ["Linux", "WiFi"]}