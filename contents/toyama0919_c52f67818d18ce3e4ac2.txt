{"context": " More than 1 year has passed since last update.\n\n\u4e8b\u524d\u4f5c\u696d\nyum install python-setuptools\nyum install python-devel\nyum --enablerepo=epel install libyaml-devel\neasy_install pip\n\n\nnewrelic_plugin_agent \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npip install newrelic_plugin_agent\n\n\n\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u914d\u7f6e\nmkdir -p /var/log/newrelic/\nmkdir -p /var/run/newrelic/\nmkdir -p /etc/newrelic/\ncp -p /opt/newrelic_plugin_agent/newrelic_plugin_agent.rhel /etc/init.d/newrelic_plugin_agent\nchmod +x /etc/init.d/newrelic_plugin_agent\ncp -p /opt/newrelic_plugin_agent/newrelic_plugin_agent.cfg /etc/newrelic/\n\n\n\u8a2d\u5b9a\n\n/etc/newrelic/newrelic_plugin_agent.cfg\nApplication:\n  license_key: ${newrelic_key}\n  wake_interval: 60\n  #proxy: http://localhost:8080\n\n\n  elasticsearch:\n    name: ${cluster_name}\n    host: localhost\n    port: 9200\n    scheme: http\n\nDaemon:\n  user: root\n  pidfile: /var/run/newrelic/newrelic_plugin_agent.pid\n\nLogging:\n  formatters:\n    verbose:\n      format: '%(levelname) -10s %(asctime)s %(process)-6d %(processName) -15s %(threadName)-10s %(name) -45s %(funcName) -25s L%(lineno)-6d: %(message)s'\n  handlers:\n    file:\n      class : logging.handlers.RotatingFileHandler\n      formatter: verbose\n      filename: /var/log/newrelic/newrelic_plugin_agent.log\n      maxBytes: 10485760\n      backupCount: 3\n  loggers:\n    newrelic_plugin_agent:\n      level: INFO\n      propagate: True\n      handlers: [console, file]\n    requests:\n      level: ERROR\n      propagate: True\n      handlers: [console, file]\n\n\n\n\n\u30de\u30b7\u30f3\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\nchkconfig --add newrelic_plugin_agent\n\n\n\u8d77\u52d5\n/etc/init.d/newrelic_plugin_agent start\n\n\n\u52d5\u4f5c\u78ba\u8a8d\ntail -f /var/log/newrelic/newrelic_plugin_agent.log\n\n\n### \u4e8b\u524d\u4f5c\u696d\n```\nyum install python-setuptools\nyum install python-devel\nyum --enablerepo=epel install libyaml-devel\neasy_install pip\n```\n\n### newrelic_plugin_agent \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\npip install newrelic_plugin_agent\n```\n\n### \u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u914d\u7f6e\t\n```\nmkdir -p /var/log/newrelic/\nmkdir -p /var/run/newrelic/\nmkdir -p /etc/newrelic/\ncp -p /opt/newrelic_plugin_agent/newrelic_plugin_agent.rhel /etc/init.d/newrelic_plugin_agent\nchmod +x /etc/init.d/newrelic_plugin_agent\ncp -p /opt/newrelic_plugin_agent/newrelic_plugin_agent.cfg /etc/newrelic/\n```\n\n\n### \u8a2d\u5b9a\n```yaml:/etc/newrelic/newrelic_plugin_agent.cfg\nApplication:\n  license_key: ${newrelic_key}\n  wake_interval: 60\n  #proxy: http://localhost:8080\n\n\n  elasticsearch:\n    name: ${cluster_name}\n    host: localhost\n    port: 9200\n    scheme: http\n\nDaemon:\n  user: root\n  pidfile: /var/run/newrelic/newrelic_plugin_agent.pid\n\nLogging:\n  formatters:\n    verbose:\n      format: '%(levelname) -10s %(asctime)s %(process)-6d %(processName) -15s %(threadName)-10s %(name) -45s %(funcName) -25s L%(lineno)-6d: %(message)s'\n  handlers:\n    file:\n      class : logging.handlers.RotatingFileHandler\n      formatter: verbose\n      filename: /var/log/newrelic/newrelic_plugin_agent.log\n      maxBytes: 10485760\n      backupCount: 3\n  loggers:\n    newrelic_plugin_agent:\n      level: INFO\n      propagate: True\n      handlers: [console, file]\n    requests:\n      level: ERROR\n      propagate: True\n      handlers: [console, file]\n\n```\n\n### \u30de\u30b7\u30f3\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n```\nchkconfig --add newrelic_plugin_agent\n```\n\n### \u8d77\u52d5\n```\n/etc/init.d/newrelic_plugin_agent start\n```\n\n### \u52d5\u4f5c\u78ba\u8a8d\n```\ntail -f /var/log/newrelic/newrelic_plugin_agent.log\n```\n", "tags": ["Elasticsearch", "newrelic"]}