{"context": "Color difference\uff08wikipedia\uff09\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bCIE94\u306e\u8272\u5dee\u8a08\u7b97\u5f0f\u3092JavaScript\u3067\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\nwikipedia\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u8a08\u7b97\u5f0f\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002\n\n\n\uff08\u300cColor difference\u300d\uff085 Feb 2017, at 02:30. UTC\uff09\u300e\u30a6\u30a3\u30ad\u30da\u30c7\u30a3\u30a2\u300f\u3088\u308a\u5f15\u7528\uff09\n\nCIE76\u3084\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u3068\u6bd4\u8f03\u3059\u308b\u3068\u8907\u96d1\u306a\u3082\u306e\u3068\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001CIE76\u3084\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u3001CIE2000\u3067\u306fL1a1b1\u3068L2b2a2\u306e\u5024\u304c\u5165\u308c\u66ff\u308f\u3063\u305f\u3068\u3057\u3066\u3082\u540c\u3058\u7d50\u679c\u306b\u306a\u308b\u306e\u306b\u5bfe\u3057\u3066\u3001CIE94\u3067\u306f\u9055\u3046\u5024\u3092\u8fd4\u3059\u305f\u3081\u3001\u3061\u3087\u3063\u3068\u6271\u3044\u306b\u304f\u3044\u5370\u8c61\u304c\u3042\u308a\u307e\u3059\u3002\u8a08\u7b97\u5f0f\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u3060\u3051\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u2026\n\ncie94\nfunction cie94(L1,a1,b1, L2,a2,b2, kL=1,kC=1,kH=1) {\n    //https://en.wikipedia.org/wiki/Color_difference#CIE94\n\n    var K1;\n    var K2;\n    if (kL == 1) {\n        K1 = 0.045;\n        K2 = 0.015;\n    } else {\n        K1 = 0.048;\n        K2 = 0.014;\n    }\n    var deltaL = L1 - L2;\n    var C1 = Math.sqrt(Math.pow(a1, 2) + Math.pow(b1, 2));\n    var C2 = Math.sqrt(Math.pow(a2, 2) + Math.pow(b2, 2));\n    var deltaCab = C1 - C2;\n    var deltaa = a1 - a2;\n    var deltab = b1 - b2;\n    var deltaHab = Math.sqrt(\n            Math.pow(deltaa, 2) +\n            Math.pow(deltab, 2) -\n            Math.pow(deltaCab, 2)\n        );\n    var SL = 1;\n    var SC = 1 + (K1 * C1);\n    var SH = 1 + (K2 * C1);\n\n    return Math.sqrt(\n            Math.pow((deltaL/(kL*SL)), 2) +\n            Math.pow((deltaCab/(kC*SC)), 2) +\n            Math.pow((deltaHab/(kH*SH)), 2)\n        );\n};\n\n\nCIE94\u306fRGB\u3067\u306f\u306a\u304fLab\u306e\u5024\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u5b9f\u969b\u306b\u4f7f\u3046\u306b\u306fJavaScript\u3067CIE76\u8272\u5dee\u8a08\u7b97\u3068\u540c\u69d8\u306bJavaScript\u3067RGB\u304b\u3089Lab\u8272\u7a7a\u9593\u3078\u306e\u5909\u63db\u3092\u4f7f\u3063\u3066RGB\u304b\u3089Lab\u3078\u306e\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\nvar [L1, a1, b1] = rgbToLab(r1, g1, b1);\nvar [L2, a2, b2] = rgbToLab(r2, g2, b2);\ndistance = cie94(L1,a1,b1, L2,a2,b2);\n\n\u307e\u305f\u306f\ndistance = cie94.apply(this, \n        rgbToLab(r1,g1,b1).concat(rgbToLab(r2,g2,b2))\n        )\n\n[Color difference\uff08wikipedia\uff09](https://en.wikipedia.org/wiki/Color_difference#CIE94)\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bCIE94\u306e\u8272\u5dee\u8a08\u7b97\u5f0f\u3092JavaScript\u3067\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\n\nwikipedia\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u8a08\u7b97\u5f0f\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002\n> ![CIE94](https://wikimedia.org/api/rest_v1/media/math/render/svg/3d211e32392967ee23e92b1e3cdc0fe2e0ef4061)\n\uff08\u300c[Color difference](https://en.wikipedia.org/wiki/Color_difference#CIE94)\u300d\uff085 Feb 2017, at 02:30. UTC\uff09\u300e\u30a6\u30a3\u30ad\u30da\u30c7\u30a3\u30a2\u300f\u3088\u308a\u5f15\u7528\uff09\n\nCIE76\u3084\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u3068\u6bd4\u8f03\u3059\u308b\u3068\u8907\u96d1\u306a\u3082\u306e\u3068\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001CIE76\u3084\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u3001CIE2000\u3067\u306fL1a1b1\u3068L2b2a2\u306e\u5024\u304c\u5165\u308c\u66ff\u308f\u3063\u305f\u3068\u3057\u3066\u3082\u540c\u3058\u7d50\u679c\u306b\u306a\u308b\u306e\u306b\u5bfe\u3057\u3066\u3001CIE94\u3067\u306f\u9055\u3046\u5024\u3092\u8fd4\u3059\u305f\u3081\u3001\u3061\u3087\u3063\u3068\u6271\u3044\u306b\u304f\u3044\u5370\u8c61\u304c\u3042\u308a\u307e\u3059\u3002\u8a08\u7b97\u5f0f\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u3060\u3051\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u2026\n\n```js:cie94\nfunction cie94(L1,a1,b1, L2,a2,b2, kL=1,kC=1,kH=1) {\n\t//https://en.wikipedia.org/wiki/Color_difference#CIE94\n\n\tvar K1;\n\tvar K2;\n\tif (kL == 1) {\n\t\tK1 = 0.045;\n\t\tK2 = 0.015;\n\t} else {\n\t\tK1 = 0.048;\n\t\tK2 = 0.014;\n\t}\n\tvar deltaL = L1 - L2;\n\tvar C1 = Math.sqrt(Math.pow(a1, 2) + Math.pow(b1, 2));\n\tvar C2 = Math.sqrt(Math.pow(a2, 2) + Math.pow(b2, 2));\n\tvar deltaCab = C1 - C2;\n\tvar deltaa = a1 - a2;\n\tvar deltab = b1 - b2;\n\tvar deltaHab = Math.sqrt(\n\t\t\tMath.pow(deltaa, 2) +\n\t\t\tMath.pow(deltab, 2) -\n\t\t\tMath.pow(deltaCab, 2)\n\t\t);\n\tvar SL = 1;\n\tvar SC = 1 + (K1 * C1);\n\tvar SH = 1 + (K2 * C1);\n\n\treturn Math.sqrt(\n\t\t\tMath.pow((deltaL/(kL*SL)), 2) +\n\t\t\tMath.pow((deltaCab/(kC*SC)), 2) +\n\t\t\tMath.pow((deltaHab/(kH*SH)), 2)\n\t\t);\n};\n```\n\nCIE94\u306fRGB\u3067\u306f\u306a\u304fLab\u306e\u5024\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u5b9f\u969b\u306b\u4f7f\u3046\u306b\u306f[JavaScript\u3067CIE76\u8272\u5dee\u8a08\u7b97](http://qiita.com/hachisuka_nsw/items/cda9b95395468ee7e0f8)\u3068\u540c\u69d8\u306b[JavaScript\u3067RGB\u304b\u3089Lab\u8272\u7a7a\u9593\u3078\u306e\u5909\u63db](http://qiita.com/hachisuka_nsw/items/09caabe6bec46a2a0858)\u3092\u4f7f\u3063\u3066RGB\u304b\u3089Lab\u3078\u306e\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```js\nvar [L1, a1, b1] = rgbToLab(r1, g1, b1);\nvar [L2, a2, b2] = rgbToLab(r2, g2, b2);\ndistance = cie94(L1,a1,b1, L2,a2,b2);\n```\n\n\u307e\u305f\u306f\n\n```js\ndistance = cie94.apply(this, \n\t\trgbToLab(r1,g1,b1).concat(rgbToLab(r2,g2,b2))\n\t\t)\n```\n", "tags": ["JavaScript", "color", "\u8272", "\u8272\u7a7a\u9593"]}