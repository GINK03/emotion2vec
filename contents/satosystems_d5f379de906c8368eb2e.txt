{"context": "\u3053\u306e\u6587\u7ae0\u306f Raspberry Pi \u4e0a\u306b Haskell \u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306e\u30e1\u30e2\u3067\u3059\u3002\u5185\u5bb9\u3068\u3057\u3066\u306f OS \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089 stack new \u3057\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d3\u30eb\u30c9\u3001\u5b9f\u884c\u3067\u304d\u308b\u3068\u3053\u308d\u307e\u3067\u306e\u6700\u5c0f\u69cb\u6210\u3067\u3059\u3002Mac \u3092\u4f7f\u7528\u3057\u3066\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u304c\u3001PC \u304c Windows \u3084 Linux \u306e\u5834\u5408\u306f\u8a72\u5f53\u7b87\u6240\u3092\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\nTL;DR\nMac \u4e0a\u3067\u306e\u4f5c\u696d\uff1a\n$ curl -LO https://downloads.raspberrypi.org/raspbian_lite_latest\n$ unzip raspbian_lite_latest\n$ diskutil list  # SD \u30ab\u30fc\u30c9\u304c\u3069\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3092\u76ee\u8996\u78ba\u8a8d\u3059\u308b\uff08\u3053\u3053\u3067\u306f /dev/disk3 \u3068\u3057\u3066\u9032\u3081\u308b\uff09\n$ diskutil unmountDisk /dev/disk3  # \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30b3\u30d4\u30da\u3057\u3061\u3083\u30c0\u30e1\n$ sudo ddrescue 2017-03-02-raspbian-jessie-lite.img /dev/disk3 --force  # \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30b3\u30d4\u30da\u3057\u3061\u3083\u30c0\u30e1\n$ touch /Volumes/boot/ssh\n$ diskutil eject disk3  # \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30b3\u30d4\u30da\u3057\u3061\u3083\u30c0\u30e1\n$ ssh pi@raspberrypi.local  # Raspbery \u8d77\u52d5\u5f8c\u3001\u3057\u3070\u3089\u304f\u3057\u3066\u304b\u3089\u5b9f\u884c\n\nRaspberry Pi \u4e0a\u3067\u306e\u4f5c\u696d\uff1a\n$ sudo apt-get update\n$ sudo apt-get -y upgrade\n$ sudo apt-get -y install llvm-3.7\n$ sudo ln -s /usr/bin/opt-3.7 /usr/bin/opt\n$ sudo ln -s /usr/bin/llc-3.7 /usr/bin/llc\n$ mkdir -p ~/.local/bin\n$ echo 'export PATH=$HOME/.local/bin:$PATH' >> ~/.profile\n$ echo 'export PATH=$PATH:$HOME/.stack/programs/arm-linux/ghc-8.0.2/bin' >> ~/.profile\n$ source ~/.profile\n$ curl -sSL https://get.haskellstack.org/ | sh\n$ stack setup\n$ stack new sample\n$ cd sample\n$ stack build\n$ stack exec sample-exe  # someFunc \u3068\u8868\u793a\u3055\u308c\u308b\n$ cd ..\n$ sudo dd if=/dev/zero of=/var/swap.extended bs=1M count=2048\n$ sudo mkswap /var/swap.extended\n$ sudo swapon /var/swap.extended\n$ sudo sh -c 'echo \"/var/swap.extended swap         swap    defaults          0       0\" >> /etc/fstab'\n$ stack install cabal-install\n$ cabal update\n$ stack --version\nVersion 1.3.2, Git revision 3f675146590da4f3edf768b89355f798229da2a5 (4395 commits) arm hpack-0.15.0\n$ ghc --version\nThe Glorious Glasgow Haskell Compilation System, version 8.0.2\n$ cabal --version\ncabal-install version 1.24.0.2\ncompiled using version 1.24.2.0 of the Cabal library\n\n\u6700\u65b0\u306e Stack\u3001\u6700\u65b0\u306e GHC\u3001\u6700\u65b0\u306e Cabal \u304c Raspberry Pi \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3057\u305f \ud83c\udf89\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n\n\nRasberry Pi3 (ARMv7)\u306bhaskell-stack\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b - Qiita\n\nRaspberry Pi \u306b Stack \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3053\u3068\u3092\u6c17\u304c\u4ed8\u304b\u305b\u3066\u304f\u308c\u305f\u30a8\u30f3\u30c8\u30ea\u3067\u3059\u3002\u3082\u3068\u3082\u3068\u672c\u30a8\u30f3\u30c8\u30ea\u306f\u4e0a\u8a18\u30a8\u30f3\u30c8\u30ea\u306e\u8ffd\u8a66\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u6700\u65b0\u306e Stack \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067 stack setup \u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u305f\u3081\u3001\u884c\u3063\u3066\u3044\u308b\u5185\u5bb9\u306f\u304b\u306a\u308a\u9055\u3044\u307e\u3059\n\n\n\nRaspberry Pi 3\u3092\u8cb7\u3063\u3066Mac\u3092\u4f7f\u3063\u3066WiFi\u63a5\u7d9a\u3068SSH\u306e\u63a5\u7d9a\u3059\u308b\u307e\u3067 - Qiita\n\nWi-Fi \u8a2d\u5b9a\u3092\u884c\u3046\u5834\u5408\u306b\u53c2\u8003\u306b\u306a\u308b\u30a8\u30f3\u30c8\u30ea\u3067\u3059\n\n\n\nhaskell - cabal update failed due to out of memory - Stack Overflow\n\nRaspberry Pi \u4e0a\u3067\u30e1\u30ac\u30c8\u30f3\u7d1a\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\uff08cabal \u3084 ghc-mod \u306a\u3069\uff09\u3092\u30d3\u30eb\u30c9\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u30e1\u30e2\u30ea\u3068\u30b9\u30ef\u30c3\u30d7\u3092\u3059\u3079\u3066\u4f7f\u3044\u3064\u304f\u3057\u3066 OS \u304c\u843d\u3061\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u306e\u554f\u984c\u306f\u30b9\u30ef\u30c3\u30d7\u3092\u5897\u3084\u3059\u3053\u3068\u3067\u56de\u907f\u3067\u304d\u307e\u3059\n\n\n\n\u3053\u306e\u6587\u7ae0\u306f Raspberry Pi \u4e0a\u306b Haskell \u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306e\u30e1\u30e2\u3067\u3059\u3002\u5185\u5bb9\u3068\u3057\u3066\u306f OS \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089 `stack new` \u3057\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d3\u30eb\u30c9\u3001\u5b9f\u884c\u3067\u304d\u308b\u3068\u3053\u308d\u307e\u3067\u306e\u6700\u5c0f\u69cb\u6210\u3067\u3059\u3002Mac \u3092\u4f7f\u7528\u3057\u3066\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u304c\u3001PC \u304c Windows \u3084 Linux \u306e\u5834\u5408\u306f\u8a72\u5f53\u7b87\u6240\u3092\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n## TL;DR\n\nMac \u4e0a\u3067\u306e\u4f5c\u696d\uff1a\n\n```bash\n$ curl -LO https://downloads.raspberrypi.org/raspbian_lite_latest\n$ unzip raspbian_lite_latest\n$ diskutil list  # SD \u30ab\u30fc\u30c9\u304c\u3069\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3092\u76ee\u8996\u78ba\u8a8d\u3059\u308b\uff08\u3053\u3053\u3067\u306f /dev/disk3 \u3068\u3057\u3066\u9032\u3081\u308b\uff09\n$ diskutil unmountDisk /dev/disk3  # \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30b3\u30d4\u30da\u3057\u3061\u3083\u30c0\u30e1\n$ sudo ddrescue 2017-03-02-raspbian-jessie-lite.img /dev/disk3 --force  # \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30b3\u30d4\u30da\u3057\u3061\u3083\u30c0\u30e1\n$ touch /Volumes/boot/ssh\n$ diskutil eject disk3  # \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30b3\u30d4\u30da\u3057\u3061\u3083\u30c0\u30e1\n$ ssh pi@raspberrypi.local  # Raspbery \u8d77\u52d5\u5f8c\u3001\u3057\u3070\u3089\u304f\u3057\u3066\u304b\u3089\u5b9f\u884c\n```\n\nRaspberry Pi \u4e0a\u3067\u306e\u4f5c\u696d\uff1a\n\n```bash\n$ sudo apt-get update\n$ sudo apt-get -y upgrade\n$ sudo apt-get -y install llvm-3.7\n$ sudo ln -s /usr/bin/opt-3.7 /usr/bin/opt\n$ sudo ln -s /usr/bin/llc-3.7 /usr/bin/llc\n$ mkdir -p ~/.local/bin\n$ echo 'export PATH=$HOME/.local/bin:$PATH' >> ~/.profile\n$ echo 'export PATH=$PATH:$HOME/.stack/programs/arm-linux/ghc-8.0.2/bin' >> ~/.profile\n$ source ~/.profile\n$ curl -sSL https://get.haskellstack.org/ | sh\n$ stack setup\n$ stack new sample\n$ cd sample\n$ stack build\n$ stack exec sample-exe  # someFunc \u3068\u8868\u793a\u3055\u308c\u308b\n$ cd ..\n$ sudo dd if=/dev/zero of=/var/swap.extended bs=1M count=2048\n$ sudo mkswap /var/swap.extended\n$ sudo swapon /var/swap.extended\n$ sudo sh -c 'echo \"/var/swap.extended swap         swap    defaults          0       0\" >> /etc/fstab'\n$ stack install cabal-install\n$ cabal update\n$ stack --version\nVersion 1.3.2, Git revision 3f675146590da4f3edf768b89355f798229da2a5 (4395 commits) arm hpack-0.15.0\n$ ghc --version\nThe Glorious Glasgow Haskell Compilation System, version 8.0.2\n$ cabal --version\ncabal-install version 1.24.0.2\ncompiled using version 1.24.2.0 of the Cabal library\n```\n\n\u6700\u65b0\u306e Stack\u3001\u6700\u65b0\u306e GHC\u3001\u6700\u65b0\u306e Cabal \u304c Raspberry Pi \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3057\u305f \ud83c\udf89\n\n## \u53c2\u8003\u30b5\u30a4\u30c8\n\n* [Rasberry Pi3 (ARMv7)\u306bhaskell-stack\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b - Qiita](http://qiita.com/aiya000/items/fe45952da33ddc99d4be)\n    * Raspberry Pi \u306b Stack \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3053\u3068\u3092\u6c17\u304c\u4ed8\u304b\u305b\u3066\u304f\u308c\u305f\u30a8\u30f3\u30c8\u30ea\u3067\u3059\u3002\u3082\u3068\u3082\u3068\u672c\u30a8\u30f3\u30c8\u30ea\u306f\u4e0a\u8a18\u30a8\u30f3\u30c8\u30ea\u306e\u8ffd\u8a66\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u6700\u65b0\u306e Stack \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067 `stack setup` \u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u305f\u3081\u3001\u884c\u3063\u3066\u3044\u308b\u5185\u5bb9\u306f\u304b\u306a\u308a\u9055\u3044\u307e\u3059\n* [Raspberry Pi 3\u3092\u8cb7\u3063\u3066Mac\u3092\u4f7f\u3063\u3066WiFi\u63a5\u7d9a\u3068SSH\u306e\u63a5\u7d9a\u3059\u308b\u307e\u3067 - Qiita](http://qiita.com/toshihirock/items/8e7f0887b565defe7989)\n    * Wi-Fi \u8a2d\u5b9a\u3092\u884c\u3046\u5834\u5408\u306b\u53c2\u8003\u306b\u306a\u308b\u30a8\u30f3\u30c8\u30ea\u3067\u3059\n* [haskell - `cabal update` failed due to `out of memory` - Stack Overflow](http://stackoverflow.com/questions/20769183/cabal-update-failed-due-to-out-of-memory)\n    * Raspberry Pi \u4e0a\u3067\u30e1\u30ac\u30c8\u30f3\u7d1a\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\uff08cabal \u3084 ghc-mod \u306a\u3069\uff09\u3092\u30d3\u30eb\u30c9\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u30e1\u30e2\u30ea\u3068\u30b9\u30ef\u30c3\u30d7\u3092\u3059\u3079\u3066\u4f7f\u3044\u3064\u304f\u3057\u3066 OS \u304c\u843d\u3061\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u306e\u554f\u984c\u306f\u30b9\u30ef\u30c3\u30d7\u3092\u5897\u3084\u3059\u3053\u3068\u3067\u56de\u907f\u3067\u304d\u307e\u3059\n", "tags": ["Haskell", "stack", "RaspberryPi", "raspbian"]}