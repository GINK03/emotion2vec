{"tags": ["sed", "\u74b0\u5883\u69cb\u7bc9"], "context": "\u79c1\u306e\u3088\u3046\u306b\u74b0\u5883\u69cb\u7bc9\u4e8b\u614b\u3092\u30b7\u30a7\u30eb\u3067\u884c\u3046\u3082\u306e\u306b\u3068\u3063\u3066\u306f\u6b20\u304b\u305b\u306a\u3044\u9053\u5177\n\u305d\u308c\u304csed\u3067\u3059\u3002\u304b\u306a\u308a\u7e01\u306e\u4e0b\u306e\u529b\u6301\u3061\u7684\u306a\u5b58\u5728\u3067\u3059\u304c\u3001\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3066\u304f\u308c\u308b\u6a5f\u80fd\u306f\u3084\u306f\u308a\u74b0\u5883\u69cb\u7bc9\u306b\u306f\u6b20\u304b\u305b\u307e\u305b\u3093\u3002\n\u3044\u3064\u3082\u4f7f\u3063\u3066\u308b\u74b0\u5883\u69cb\u7bc9\u7528\u30b7\u30a7\u30eb\u304b\u3089sed\u90e8\u5206\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u3069\u308c\u304b\u4e00\u3064\u3067\u3082\u8ab0\u304b\u306e\u5f79\u306b\u7acb\u3066\u308c\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\nMac \u3067Vagrantfile\u306e\u7de8\u96c6\u3059\u308b\u3068\u304d\nsed -i -e \"s/.*192.168.33.10.*/  config.vm.network \\\"private_network\\\", ip: \\\"192.168.33.10\\\"/\" Vagrantfile\n\nsed -i -e 's/# config.vm.network \"forwarded_port\", guest: 80, host: 8080/config.vm.network \"forwarded_port\", guest: 80, host: 8080/g' Vagrantfile\n\n\n/etc/sudoers\u306e\u8a2d\u5b9a\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3068\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3001\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3068\u7f6e\u63db\nsed -i 's/Defaults.*requiretty/#Default\\trequiretty/g' /etc/sudoers\nsed -i 's/^#\\s%wheel\\s*ALL=(ALL)\\s*ALL$/%wheel\\tALL=(ALL)\\tALL/g' /etc/sudoers\nsed -i 's/^#\\s%wheel\\s*ALL=(ALL)\\s*NOPASSWD: ALL$/vagrant\\tALL=(ALL)\\tNOPASSWD: ALL/g' /etc/sudoers\n\n\n/etc/resolv.conf\u306e\u8a2d\u5b9a\n\u884c\u6307\u5b9a\u3067\u8ffd\u52a0\u30d1\u30bf\u30fc\u30f3\nsed -i -e \"1i options single-request-reopen\" /etc/resolv.conf\n\n\n\u6642\u523b\u5909\u66f4\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\nsed -i \"s/UTC/Asia\\/Tokyo/g\" /etc/sysconfig/clock\n\n\nSELinux\u7121\u52b9\u8a2d\u5b9a\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\nsed -i \"s/\\(^SELINUX=\\).*/\\1disabled/\" /etc/selinux/config\n\n\n/etc/my.cnf\u306e\u8a2d\u5b9a\n\u884c\u6307\u5b9a\u3067\u8ffd\u52a0\u30d1\u30bf\u30fc\u30f3\nsed -i -e \"28i character_set_server=utf8\" /etc/my.cnf\nsed -i -e \"29i # \u30a8\u30e9\u30fc\u30ed\u30b0\u306e\u78ba\u8a8d\" /etc/my.cnf\nsed -i -e \"30i general_log=1\" /etc/my.cnf\nsed -i -e \"31i general_log_file=/var/log/mysql/query.log\" /etc/my.cnf\nsed -i -e \"32i # slow\u30af\u30a8\u30ea\u30ed\u30b0\u3092\u8868\u793a\" /etc/my.cnf\nsed -i -e \"33i slow_query_log = 1\" /etc/my.cnf\nsed -i -e \"34i long_query_time = 2\" /etc/my.cnf\nsed -i -e \"35i slow_query_log_file = /var/log/mysql/slow.log\" /etc/my.cnf\nsed -i -e \"36i [client]\" /etc/my.cnf\nsed -i -e \"37i default-character-set = utf8\" /etc/my.cnf\nsed -i -e \"38i [mysqldump]\" /etc/my.cnf\nsed -i -e \"39i default-character-set = utf8\" /etc/my.cnf\nsed -i -e \"40i [mysql]\" /etc/my.cnf\nsed -i -e \"41i default-character-set = utf8\" /etc/my.cnf\n\n\n/etc/php.ini\u306e\u8a2d\u5b9a\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\nsed -i -e \"s|;error_log = syslog|error_log = /var/log/php.log|\" /etc/php.ini\nsed -i -e \"s|;mbstring.language = Japanese|mbstring.language = Japanese|\" /etc/php.ini\nsed -i -e \"s|;mbstring.internal_encoding = EUC-JP|mbstring.internal_encoding = UTF-8|\" /etc/php.ini\nsed -i -e \"s|;mbstring.http_input = auto|mbstring.http_input = auto|\" /etc/php.ini\nsed -i -e \"s|;mbstring.detect_order = auto|mbstring.detect_order = auto|\" /etc/php.ini\nsed -i -e \"s|expose_php = On|expose_php = Off|\" /etc/php.ini\nsed -i -e \"s|;date.timezone =|date.timezone = Asia/Tokyo|\" /etc/php.ini\n\n\n/etc/httpd/conf/httpd.conf\u306e\u8a2d\u5b9a\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\nsed -i    \"/^#NameVirtualHost \\*:80$/ s/#NameVirtualHost \\*:80/NameVirtualHost \\*:80/\" /etc/httpd/conf/httpd.conf\nsed -i -e \"s/KeepAlive Off/KeepAlive On/g\" /etc/httpd/conf/httpd.conf\nsed -i -e \"s/AllowOverride None/AllowOverride All/g\" /etc/httpd/conf/httpd.conf\nsed -i -e \"s/DirectoryIndex index.html index.html.var/DirectoryIndex index.html index.php/g\" /etc/httpd/conf/httpd.conf\n\n\u6700\u7d42\u884c\u306b\u8ffd\u52a0\u30d1\u30bf\u30fc\u30f3\nsed -i '$a\\<VirtualHost *:80>' /etc/httpd/conf/httpd.conf\nsed -i '$a\\DocumentRoot /home/vagrant/fuelphp/public/' /etc/httpd/conf/httpd.conf\nsed -i '$a\\<Directory /home/vagrant/fuelphp/public/>' /etc/httpd/conf/httpd.conf\nsed -i '$a\\DirectoryIndex index.php' /etc/httpd/conf/httpd.conf\nsed -i '$a\\AllowOverride All' /etc/httpd/conf/httpd.conf\nsed -i '$a\\Order allow,deny' /etc/httpd/conf/httpd.conf\nsed -i '$a\\Allow from all' /etc/httpd/conf/httpd.conf\nsed -i '$a\\EnableMMAP Off' /etc/httpd/conf/httpd.conf\nsed -i '$a\\EnableSendfile Off' /etc/httpd/conf/httpd.conf\nsed -i '$a\\</Directory>' /etc/httpd/conf/httpd.conf\nsed -i '$a\\</VirtualHost>' /etc/httpd/conf/httpd.conf\n\n\u79c1\u306e\u3088\u3046\u306b\u74b0\u5883\u69cb\u7bc9\u4e8b\u614b\u3092\u30b7\u30a7\u30eb\u3067\u884c\u3046\u3082\u306e\u306b\u3068\u3063\u3066\u306f\u6b20\u304b\u305b\u306a\u3044\u9053\u5177\n\u305d\u308c\u304csed\u3067\u3059\u3002\u304b\u306a\u308a\u7e01\u306e\u4e0b\u306e\u529b\u6301\u3061\u7684\u306a\u5b58\u5728\u3067\u3059\u304c\u3001\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3066\u304f\u308c\u308b\u6a5f\u80fd\u306f\u3084\u306f\u308a\u74b0\u5883\u69cb\u7bc9\u306b\u306f\u6b20\u304b\u305b\u307e\u305b\u3093\u3002\n\n\u3044\u3064\u3082\u4f7f\u3063\u3066\u308b\u74b0\u5883\u69cb\u7bc9\u7528\u30b7\u30a7\u30eb\u304b\u3089sed\u90e8\u5206\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u3069\u308c\u304b\u4e00\u3064\u3067\u3082\u8ab0\u304b\u306e\u5f79\u306b\u7acb\u3066\u308c\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n# Mac \u3067Vagrantfile\u306e\u7de8\u96c6\u3059\u308b\u3068\u304d\n```\nsed -i -e \"s/.*192.168.33.10.*/  config.vm.network \\\"private_network\\\", ip: \\\"192.168.33.10\\\"/\" Vagrantfile\n\nsed -i -e 's/# config.vm.network \"forwarded_port\", guest: 80, host: 8080/config.vm.network \"forwarded_port\", guest: 80, host: 8080/g' Vagrantfile\n```\n\n# /etc/sudoers\u306e\u8a2d\u5b9a\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3068\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3001\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3068\u7f6e\u63db\n\n```\nsed -i 's/Defaults.*requiretty/#Default\\trequiretty/g' /etc/sudoers\nsed -i 's/^#\\s%wheel\\s*ALL=(ALL)\\s*ALL$/%wheel\\tALL=(ALL)\\tALL/g' /etc/sudoers\nsed -i 's/^#\\s%wheel\\s*ALL=(ALL)\\s*NOPASSWD: ALL$/vagrant\\tALL=(ALL)\\tNOPASSWD: ALL/g' /etc/sudoers\n```\n\n# /etc/resolv.conf\u306e\u8a2d\u5b9a\n\u884c\u6307\u5b9a\u3067\u8ffd\u52a0\u30d1\u30bf\u30fc\u30f3\n\n```\nsed -i -e \"1i options single-request-reopen\" /etc/resolv.conf\n```\n\n# \u6642\u523b\u5909\u66f4\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\n\n```\nsed -i \"s/UTC/Asia\\/Tokyo/g\" /etc/sysconfig/clock\n```\n\n\n# SELinux\u7121\u52b9\u8a2d\u5b9a\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\n\n```\nsed -i \"s/\\(^SELINUX=\\).*/\\1disabled/\" /etc/selinux/config\n```\n\n# /etc/my.cnf\u306e\u8a2d\u5b9a\n\u884c\u6307\u5b9a\u3067\u8ffd\u52a0\u30d1\u30bf\u30fc\u30f3\n\n```\nsed -i -e \"28i character_set_server=utf8\" /etc/my.cnf\nsed -i -e \"29i # \u30a8\u30e9\u30fc\u30ed\u30b0\u306e\u78ba\u8a8d\" /etc/my.cnf\nsed -i -e \"30i general_log=1\" /etc/my.cnf\nsed -i -e \"31i general_log_file=/var/log/mysql/query.log\" /etc/my.cnf\nsed -i -e \"32i # slow\u30af\u30a8\u30ea\u30ed\u30b0\u3092\u8868\u793a\" /etc/my.cnf\nsed -i -e \"33i slow_query_log = 1\" /etc/my.cnf\nsed -i -e \"34i long_query_time = 2\" /etc/my.cnf\nsed -i -e \"35i slow_query_log_file = /var/log/mysql/slow.log\" /etc/my.cnf\nsed -i -e \"36i [client]\" /etc/my.cnf\nsed -i -e \"37i default-character-set = utf8\" /etc/my.cnf\nsed -i -e \"38i [mysqldump]\" /etc/my.cnf\nsed -i -e \"39i default-character-set = utf8\" /etc/my.cnf\nsed -i -e \"40i [mysql]\" /etc/my.cnf\nsed -i -e \"41i default-character-set = utf8\" /etc/my.cnf\n```\n\n# /etc/php.ini\u306e\u8a2d\u5b9a\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\n\n```\nsed -i -e \"s|;error_log = syslog|error_log = /var/log/php.log|\" /etc/php.ini\nsed -i -e \"s|;mbstring.language = Japanese|mbstring.language = Japanese|\" /etc/php.ini\nsed -i -e \"s|;mbstring.internal_encoding = EUC-JP|mbstring.internal_encoding = UTF-8|\" /etc/php.ini\nsed -i -e \"s|;mbstring.http_input = auto|mbstring.http_input = auto|\" /etc/php.ini\nsed -i -e \"s|;mbstring.detect_order = auto|mbstring.detect_order = auto|\" /etc/php.ini\nsed -i -e \"s|expose_php = On|expose_php = Off|\" /etc/php.ini\nsed -i -e \"s|;date.timezone =|date.timezone = Asia/Tokyo|\" /etc/php.ini\n```\n\n# /etc/httpd/conf/httpd.conf\u306e\u8a2d\u5b9a\n\n\u7f6e\u63db\u30d1\u30bf\u30fc\u30f3\n\n```\nsed -i    \"/^#NameVirtualHost \\*:80$/ s/#NameVirtualHost \\*:80/NameVirtualHost \\*:80/\" /etc/httpd/conf/httpd.conf\nsed -i -e \"s/KeepAlive Off/KeepAlive On/g\" /etc/httpd/conf/httpd.conf\nsed -i -e \"s/AllowOverride None/AllowOverride All/g\" /etc/httpd/conf/httpd.conf\nsed -i -e \"s/DirectoryIndex index.html index.html.var/DirectoryIndex index.html index.php/g\" /etc/httpd/conf/httpd.conf\n```\n\n\u6700\u7d42\u884c\u306b\u8ffd\u52a0\u30d1\u30bf\u30fc\u30f3\n\n```\nsed -i '$a\\<VirtualHost *:80>' /etc/httpd/conf/httpd.conf\nsed -i '$a\\DocumentRoot /home/vagrant/fuelphp/public/' /etc/httpd/conf/httpd.conf\nsed -i '$a\\<Directory /home/vagrant/fuelphp/public/>' /etc/httpd/conf/httpd.conf\nsed -i '$a\\DirectoryIndex index.php' /etc/httpd/conf/httpd.conf\nsed -i '$a\\AllowOverride All' /etc/httpd/conf/httpd.conf\nsed -i '$a\\Order allow,deny' /etc/httpd/conf/httpd.conf\nsed -i '$a\\Allow from all' /etc/httpd/conf/httpd.conf\nsed -i '$a\\EnableMMAP Off' /etc/httpd/conf/httpd.conf\nsed -i '$a\\EnableSendfile Off' /etc/httpd/conf/httpd.conf\nsed -i '$a\\</Directory>' /etc/httpd/conf/httpd.conf\nsed -i '$a\\</VirtualHost>' /etc/httpd/conf/httpd.conf\n```\n"}