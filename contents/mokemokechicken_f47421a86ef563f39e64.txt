{"context": "\n\n\u306f\u3058\u3081\u306b\njq \u3068\u3044\u3046 JSON\u3092\u6574\u5f62\u3057\u3066\u304f\u308c\u308b\u30c4\u30fc\u30eb\u306f\u4fbf\u5229\u306a\u306e\u3067\u3059\u304c\u3001\u3044\u3064\u3082 JSON\u306ekey\u304c\u4e0d\u5b9a\u306e\u5834\u5408(\u4f8b\u3048\u3070key\u304c\u65e5\u4ed8)\u306b\u60a9\u3093\u3067\u3057\u307e\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u89e3\u6cd5\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u30e1\u30e2\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\n{\"\u65e5\u4ed8\": {\"number\": XX}} \u3092 {\"date\": \"\u65e5\u4ed8\", \"number\": xx} \u306b\u6574\u5f62\u3059\u308b\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306aJSON\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3059\u3002\n\nsample.json\n{\n  \"2016-11-01\": {\"number\": 100},\n  \"2016-11-02\": {\"number\": 110},\n  \"2016-11-03\": {\"number\": 120},\n  \"2016-11-04\": {\"number\": 130}\n}\n\n\n\u3053\u308c\u3092\n{\n  \"date\": \"2016-11-01\",\n  \"number\": 100\n}\n{\n  \"date\": \"2016-11-02\",\n  \"number\": 110\n}\n{\n  \"date\": \"2016-11-03\",\n  \"number\": 120\n}\n{\n  \"date\": \"2016-11-04\",\n  \"number\": 130\n}\n\n\u306b\u3057\u305f\u3044\u3068\u304d\u306f\u3001\n\nexample\njq 'to_entries[] | {date: .key, number: .value.number}' < sample.json\n\n\n\u3067\u3044\u3051\u307e\u3059\u3002\n\n\u3061\u3087\u3063\u3068\u8aac\u660e\n\u30dd\u30a4\u30f3\u30c8\u306f to_entries \u3067\u3001\n\nexample\njq 'to_entries' < sample.json\n\n\n\u306f \u2193 \u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\noutput\n[\n  {\n    \"key\": \"2016-11-01\",\n    \"value\": {\n      \"number\": 100\n    }\n  },\n  {\n    \"key\": \"2016-11-02\",\n    \"value\": {\n      \"number\": 110\n    }\n  },\n  {\n    \"key\": \"2016-11-03\",\n    \"value\": {\n      \"number\": 120\n    }\n  },\n  {\n    \"key\": \"2016-11-04\",\n    \"value\": {\n      \"number\": 130\n    }\n  }\n]\n\n\n\u3042\u3068\u306f\u666e\u901a\u306b\u6574\u5f62\u3057\u3066\u3044\u3051\u3070\u826f\u3044\u3068\u3044\u3046\u308f\u3051\u3067\u3059\u3002\n\n\u304a\u307e\u3051\uff1a CSV\u3084TSV\u306b\u3057\u305f\u3044\u3068\u304d\n\u3061\u306a\u307f\u306b csv \u3084 tsv \u3068\u3057\u3066\u51fa\u529b\u3057\u305f\u3044\u5834\u5408\u306f -r \u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u6700\u5f8c\u306b@csv \u3084 @tsv \u3092\u4ed8\u3051\u308b\u3068\u826f\u3044\u3067\u3059\u3002\n\nexample\n% jq -r 'to_entries[] | [ .key,  .value.number ] | @tsv ' < sample.json\n2016-11-01      100\n2016-11-02      110\n2016-11-03      120\n2016-11-04      130\n\n\n\n\u3055\u3044\u3054\u306b\n\u5fae\u5999\u306a\u60a9\u307f\u304c\u89e3\u6c7a\u3057\u3066\u30b9\u30c3\u30ad\u30ea\u3057\u307e\u3057\u305f...\n\n\u306f\u3058\u3081\u306b\n=======\n\njq \u3068\u3044\u3046 JSON\u3092\u6574\u5f62\u3057\u3066\u304f\u308c\u308b\u30c4\u30fc\u30eb\u306f\u4fbf\u5229\u306a\u306e\u3067\u3059\u304c\u3001\u3044\u3064\u3082 JSON\u306ekey\u304c\u4e0d\u5b9a\u306e\u5834\u5408(\u4f8b\u3048\u3070key\u304c\u65e5\u4ed8)\u306b\u60a9\u3093\u3067\u3057\u307e\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u89e3\u6cd5\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u30e1\u30e2\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\n`{\"\u65e5\u4ed8\": {\"number\": XX}}` \u3092 `{\"date\": \"\u65e5\u4ed8\", \"number\": xx}` \u306b\u6574\u5f62\u3059\u308b\n=========\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306aJSON\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3059\u3002\n\n```json:sample.json\n{\n  \"2016-11-01\": {\"number\": 100},\n  \"2016-11-02\": {\"number\": 110},\n  \"2016-11-03\": {\"number\": 120},\n  \"2016-11-04\": {\"number\": 130}\n}\n```\n\n\u3053\u308c\u3092\n\n```\n{\n  \"date\": \"2016-11-01\",\n  \"number\": 100\n}\n{\n  \"date\": \"2016-11-02\",\n  \"number\": 110\n}\n{\n  \"date\": \"2016-11-03\",\n  \"number\": 120\n}\n{\n  \"date\": \"2016-11-04\",\n  \"number\": 130\n}\n```\n\n\u306b\u3057\u305f\u3044\u3068\u304d\u306f\u3001\n\n```bash:example\njq 'to_entries[] | {date: .key, number: .value.number}' < sample.json\n```\n\n\u3067\u3044\u3051\u307e\u3059\u3002\n\n\u3061\u3087\u3063\u3068\u8aac\u660e\n---------\n\u30dd\u30a4\u30f3\u30c8\u306f `to_entries` \u3067\u3001\n\n```bash:example\njq 'to_entries' < sample.json\n```\n\n\u306f \u2193 \u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```json:output\n[\n  {\n    \"key\": \"2016-11-01\",\n    \"value\": {\n      \"number\": 100\n    }\n  },\n  {\n    \"key\": \"2016-11-02\",\n    \"value\": {\n      \"number\": 110\n    }\n  },\n  {\n    \"key\": \"2016-11-03\",\n    \"value\": {\n      \"number\": 120\n    }\n  },\n  {\n    \"key\": \"2016-11-04\",\n    \"value\": {\n      \"number\": 130\n    }\n  }\n]\n```\n\n\u3042\u3068\u306f\u666e\u901a\u306b\u6574\u5f62\u3057\u3066\u3044\u3051\u3070\u826f\u3044\u3068\u3044\u3046\u308f\u3051\u3067\u3059\u3002\n\n\u304a\u307e\u3051\uff1a CSV\u3084TSV\u306b\u3057\u305f\u3044\u3068\u304d\n------\n\n\u3061\u306a\u307f\u306b csv \u3084 tsv \u3068\u3057\u3066\u51fa\u529b\u3057\u305f\u3044\u5834\u5408\u306f `-r` \u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u6700\u5f8c\u306b`@csv` \u3084 `@tsv` \u3092\u4ed8\u3051\u308b\u3068\u826f\u3044\u3067\u3059\u3002\n\n```bash:example\n% jq -r 'to_entries[] | [ .key,  .value.number ] | @tsv ' < sample.json\n2016-11-01      100\n2016-11-02      110\n2016-11-03      120\n2016-11-04      130\n```\n\n\u3055\u3044\u3054\u306b\n=======\n\n\u5fae\u5999\u306a\u60a9\u307f\u304c\u89e3\u6c7a\u3057\u3066\u30b9\u30c3\u30ad\u30ea\u3057\u307e\u3057\u305f...\n\n\n", "tags": ["jq", "JSON"]}