{"context": "\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u3092FPGA\u3067\u66f8\u3044\u3066\u307f\u305f\nhttp://qiita.com/kazunori279/items/70030eaa08fe632b6b49\n\u3053\u3061\u3089\u65b9\u306e\u8a18\u4e8b\u3092\u307f\u3066\u3001\u9ad8\u4f4d\u5408\u6210\u3067\u306f\u306a\u304f\u3001\u30ac\u30c1\u306eRTL\u3067\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u3092\u8a08\u7b97\u3057\u305f\u3089\u3069\u308c\u3050\u3089\u3044\u306e\u901f\u3055\u3067\u3067\u304d\u308b\u306e\u304b\u3084\u3063\u3066\u307f\u305f\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\u3068\u308a\u3042\u3048\u305a\u3053\u3093\u306a\u611f\u3058\uff1f\nn_in\u306b0\uff5e127\u3092\u30bb\u30c3\u30c8\u3057\u3066start\u3092'1'\u306b\u3059\u308b\u3068\u8a08\u7b97\u3092\u958b\u59cb\u3057\u3066\u3001\n\u8a08\u7b97\u304c\u7d42\u308f\u308b\u3068end_flg\u304c\u20191\u2019\u306b\u306a\u3063\u3066result\u306b\u8a08\u7b97\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n\nfib.vhd\nLIBRARY ieee;\nuse ieee.std_logic_1164.all; \nuse ieee.std_logic_unsigned.all;\nuse ieee.std_logic_arith.all;\n\nentity fib is\n\n    port(\n        clk : in std_logic;                 \n        rst   : in std_logic;\n\n        n_in  : in std_logic_vector(6 downto 0);\n        start : in std_logic;\n\n        end_flg : out std_logic;\n        result : out std_logic_vector(88 downto 0)\n        );  \n\nend fib;\n\narchitecture RTL of fib is\n\n    signal n_m1 : std_logic_vector(88 downto 0);\n    signal n_m2 : std_logic_vector(88 downto 0);\n    signal counter : std_logic_vector(6 downto 0);\n    signal end_flg_buff : std_logic;\n\nbegin\n\n    process(clk,rst)begin\n        if(rst = '0')then\n            n_m1 <= CONV_STD_LOGIC_VECTOR(1,89);\n            n_m2 <= CONV_STD_LOGIC_VECTOR(1,89);\n            counter <= \"0000010\";\n        elsif(clk'event and clk = '1')then\n            if(start = '0')then\n                n_m1 <= CONV_STD_LOGIC_VECTOR(1,89);\n                n_m2 <= CONV_STD_LOGIC_VECTOR(1,89);\n                counter <= \"0000010\";\n                end_flg_buff <= '0';    \n            else\n                if(counter < n_in)then\n                    n_m1 <= n_m1 + n_m2;\n                    n_m2 <= n_m1;\n                    counter <= counter +1;\n                else\n                    end_flg_buff <= '1';\n                end if;\n            end if;\n        end if;\n    end process;\n\n    result <= n_m1;\n    end_flg <= end_flg_buff;\n\nend RTL;\n\n\n\n\u8ad6\u7406\u5408\u6210\niCE40-HX8K Breakout Board\nhttp://www.latticesemi.com/Products/DevelopmentBoardsAndKits/iCE40HX8KBreakoutBoard.aspx\n\n\u624b\u6301\u3061\u3067\u6301\u3063\u3066\u308b\u3053\u308c\u3092\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u8ad6\u7406\u5408\u6210\u3057\u3066\u307f\u308b\u3002\n\u3068\u308a\u3042\u3048\u305a\u3001\u30d4\u30f3\u30a2\u30b5\u30a4\u30f3\u3068\u304b\u5236\u7d04\u3068\u304b\u306f\u5168\u304f\u305b\u305a\u306b\u3002\n\u30bd\u30d5\u30c8\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3002\n\n\n\u7d50\u679c\n\n\u30ea\u30bd\u30fc\u30b9\nTotal Logic Cells: 399/7680\n    Combinational Logic Cells: 213      out of   7680      2.77344%\n    Sequential Logic Cells:    186      out of   7680      2.42188%\n    Logic Tiles:               65       out of   960       6.77083%\n\n\u307b\u307csignal\u5ba3\u8a00\u3057\u305fDFF\u3063\u3066\u611f\u3058\u3002\n\n\u52d5\u4f5c\u5468\u6ce2\u6570\nClock Summary \nNumber of clocks: 1\nClock: fib|clk | Frequency: 77.61 MHz | Target: 100.00 MHz\n77MHz\u307e\u3067\u52d5\u304f\u3063\u307d\u3044\u3002\u610f\u5916\u3068\u306f\u3084\u3044\u305e\u3002\n\n\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\n\u9069\u5f53\u306b\u30c6\u30b9\u30c8\u30d9\u30f3\u30c1\u4f5c\u3063\u3066\u4ed8\u5c5e\u306eActive-HDL\u3067RTL\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u307f\u308b\u3002\n\u30af\u30ed\u30c3\u30af\u5468\u6ce2\u6570\u306f50MH\uff5a\n\nn=65\u306727777890035288\n\uff11\u305a\u308c\u3066\u3044\u308b\u304b\u3089\u4fee\u6b63\u304b\u306a\u3053\u308c\u3002\n\u8a08\u7b97\u306f63\u30af\u30ed\u30c3\u30af\u306e1.26us\u3067\u5b8c\u4e86\u3057\u3066\u3044\u308b\u3002\n\n\u3053\u306e\u3042\u3068\n\u3068\u308a\u3042\u3048\u305a\u3001\u30bd\u30fc\u30b9\u306e\u4fee\u6b63\u3068\u304b\u3001\u5b9f\u969b\u306bFPGA\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u8a66\u3057\u3066\u307f\u305f\u3044\u3068\u3053\u308d\u3002\n\u3042\u3068\u306f\u3001\u56de\u8def\u306e\u6700\u9069\u5316\u3082\u3084\u308d\u3046\u304b\u3068\u3002\n\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\n\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u3092FPGA\u3067\u66f8\u3044\u3066\u307f\u305f\nhttp://qiita.com/kazunori279/items/70030eaa08fe632b6b49\n\u3053\u3061\u3089\u65b9\u306e\u8a18\u4e8b\u3092\u307f\u3066\u3001\u9ad8\u4f4d\u5408\u6210\u3067\u306f\u306a\u304f\u3001\u30ac\u30c1\u306eRTL\u3067\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u3092\u8a08\u7b97\u3057\u305f\u3089\u3069\u308c\u3050\u3089\u3044\u306e\u901f\u3055\u3067\u3067\u304d\u308b\u306e\u304b\u3084\u3063\u3066\u307f\u305f\u3002\n\n#\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\u3068\u308a\u3042\u3048\u305a\u3053\u3093\u306a\u611f\u3058\uff1f\nn_in\u306b0\uff5e127\u3092\u30bb\u30c3\u30c8\u3057\u3066start\u3092'1'\u306b\u3059\u308b\u3068\u8a08\u7b97\u3092\u958b\u59cb\u3057\u3066\u3001\n\u8a08\u7b97\u304c\u7d42\u308f\u308b\u3068end_flg\u304c\u20191\u2019\u306b\u306a\u3063\u3066result\u306b\u8a08\u7b97\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n\n\n```VHDL:fib.vhd\nLIBRARY ieee;\nuse ieee.std_logic_1164.all; \nuse ieee.std_logic_unsigned.all;\nuse ieee.std_logic_arith.all;\n\nentity fib is\n\n\tport(\n\t\tclk : in std_logic;\t\t\t\t\t\n\t\trst   : in std_logic;\n\n\t\tn_in  : in std_logic_vector(6 downto 0);\n\t\tstart : in std_logic;\n\t\t\n\t\tend_flg : out std_logic;\n\t\tresult : out std_logic_vector(88 downto 0)\n\t\t);\t\n\nend fib;\n\narchitecture RTL of fib is\n\n\tsignal n_m1\t: std_logic_vector(88 downto 0);\n\tsignal n_m2\t: std_logic_vector(88 downto 0);\n\tsignal counter : std_logic_vector(6 downto 0);\n\tsignal end_flg_buff : std_logic;\n\t\nbegin\n\n\tprocess(clk,rst)begin\n\t\tif(rst = '0')then\n\t\t\tn_m1 <= CONV_STD_LOGIC_VECTOR(1,89);\n\t\t\tn_m2 <= CONV_STD_LOGIC_VECTOR(1,89);\n\t\t\tcounter <= \"0000010\";\n\t\telsif(clk'event and clk = '1')then\n\t\t\tif(start = '0')then\n\t\t\t\tn_m1 <= CONV_STD_LOGIC_VECTOR(1,89);\n\t\t\t\tn_m2 <= CONV_STD_LOGIC_VECTOR(1,89);\n\t\t\t\tcounter <= \"0000010\";\n\t\t\t\tend_flg_buff <= '0';\t\n\t\t\telse\n\t\t\t\tif(counter < n_in)then\n\t\t\t\t\tn_m1 <= n_m1 + n_m2;\n\t\t\t\t\tn_m2 <= n_m1;\n\t\t\t\t\tcounter <= counter +1;\n\t\t\t\telse\n\t\t\t\t\tend_flg_buff <= '1';\n\t\t\t\tend if;\n\t\t\tend if;\n\t\tend if;\n\tend process;\n\t\n\tresult <= n_m1;\n\tend_flg <= end_flg_buff;\n\nend RTL;\n```\n\n#\u8ad6\u7406\u5408\u6210\n\niCE40-HX8K Breakout Board\nhttp://www.latticesemi.com/Products/DevelopmentBoardsAndKits/iCE40HX8KBreakoutBoard.aspx\n![sntPl5us.jpg](https://qiita-image-store.s3.amazonaws.com/0/162570/4ca94e5a-edd6-a06b-cd44-b63ef05517f0.jpeg)\n\n\u624b\u6301\u3061\u3067\u6301\u3063\u3066\u308b\u3053\u308c\u3092\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u8ad6\u7406\u5408\u6210\u3057\u3066\u307f\u308b\u3002\n\u3068\u308a\u3042\u3048\u305a\u3001\u30d4\u30f3\u30a2\u30b5\u30a4\u30f3\u3068\u304b\u5236\u7d04\u3068\u304b\u306f\u5168\u304f\u305b\u305a\u306b\u3002\n\u30bd\u30d5\u30c8\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3002\n![puro.png](https://qiita-image-store.s3.amazonaws.com/0/162570/4ac996ae-f187-062f-95ad-495ea0180d86.png)\n\n##\u7d50\u679c\n###\u30ea\u30bd\u30fc\u30b9\n    Total Logic Cells: 399/7680\n        Combinational Logic Cells: 213      out of   7680      2.77344%\n        Sequential Logic Cells:    186      out of   7680      2.42188%\n        Logic Tiles:               65       out of   960       6.77083%\n\n\u307b\u307csignal\u5ba3\u8a00\u3057\u305fDFF\u3063\u3066\u611f\u3058\u3002\n\n###\u52d5\u4f5c\u5468\u6ce2\u6570\nClock Summary \nNumber of clocks: 1\nClock: fib|clk | Frequency: 77.61 MHz | Target: 100.00 MHz\n\n77MHz\u307e\u3067\u52d5\u304f\u3063\u307d\u3044\u3002\u610f\u5916\u3068\u306f\u3084\u3044\u305e\u3002\n\n#\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\n\u9069\u5f53\u306b\u30c6\u30b9\u30c8\u30d9\u30f3\u30c1\u4f5c\u3063\u3066\u4ed8\u5c5e\u306eActive-HDL\u3067RTL\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u307f\u308b\u3002\n\u30af\u30ed\u30c3\u30af\u5468\u6ce2\u6570\u306f50MH\uff5a\n![sim.png](https://qiita-image-store.s3.amazonaws.com/0/162570/278f8696-f171-d0ff-d542-f2e2455b713f.png)\nn=65\u306727777890035288\n\uff11\u305a\u308c\u3066\u3044\u308b\u304b\u3089\u4fee\u6b63\u304b\u306a\u3053\u308c\u3002\n\u8a08\u7b97\u306f63\u30af\u30ed\u30c3\u30af\u306e1.26us\u3067\u5b8c\u4e86\u3057\u3066\u3044\u308b\u3002\n\n#\u3053\u306e\u3042\u3068\n\u3068\u308a\u3042\u3048\u305a\u3001\u30bd\u30fc\u30b9\u306e\u4fee\u6b63\u3068\u304b\u3001\u5b9f\u969b\u306bFPGA\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u8a66\u3057\u3066\u307f\u305f\u3044\u3068\u3053\u308d\u3002\n\u3042\u3068\u306f\u3001\u56de\u8def\u306e\u6700\u9069\u5316\u3082\u3084\u308d\u3046\u304b\u3068\u3002\n\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\n", "tags": ["VHDL", "FPGA"]}