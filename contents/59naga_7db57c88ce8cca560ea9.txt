{"context": " More than 1 year has passed since last update.nyc\u306f\u666e\u6bb5npm test\u3067\u5b9f\u884c\u3057\u3066\u3044\u308b\u30c6\u30b9\u30c8\u306b\u3001\u8ffd\u5f93\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u7c21\u5358\u306b\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\u3092\u53d6\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\npackage.json\u7247\n{\n  \"scripts\": {\n    \"test\": \"mocha --compilers js:espower-babel/guess\",\n    \"cover\": \"nyc --reporter=lcov --reporter=text npm run test\"\n  }\n}\n\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306acover\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001lcov\u30ec\u30dd\u30fc\u30bf\u304ccoverage/lcov.info\u306e\u751f\u6210\u3092\u3001text\u30ec\u30dd\u30fc\u30bf\u304c\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u306e\u96c6\u8a08\u753b\u9762\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n\u3042\u306a\u305f\u304c isparta \u306e\u4ee3\u66ff\u624b\u6bb5\u3092\u63a2\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u5fc5\u8981\u306a\u306e\u306fnpm install nyc --save-dev\u3068cover\u306e\u8ffd\u8a18\u3060\u3051\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\npower-assert\u3092\u4f7f\u7528\u3057\u306a\u3044\u5834\u5408\u306ftest\u306fmocha --require babel-register\u3068\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nnyc\u306e\u52d5\u4f5c\u78ba\u8a8d\u7528\u306e\u74b0\u5883\u8a2d\u5b9a\n\u524d\u8ff0\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3067\u306f\u3001src/index.js\u306bFoo\u30af\u30e9\u30b9\u306ebaz\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3001test/index.js\u304b\u3089async/await\u3067\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u3068\u8a00\u3046\u5185\u5bb9\u3067\u3001\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\u3092\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\uff13\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u78ba\u8a8d\ntree .\n# .\n# \u251c\u2500\u2500 package.json\n# \u251c\u2500\u2500 src\n# \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.js\n# \u2514\u2500\u2500 test\n#     \u2514\u2500\u2500 index.js\n\n\n\npackage.json\n{\n  \"name\": \"nyc-example\",\n  \"scripts\": {\n    \"test\": \"mocha --compilers js:espower-babel/guess\",\n    \"cover\": \"nyc --reporter=lcov --reporter=text npm run test\"\n  },\n  \"devDependencies\": {\n    \"babel-polyfill\": \"^6.3.14\",\n    \"babel-preset-es2015\": \"^6.3.13\",\n    \"babel-preset-stage-2\": \"^6.3.13\",\n    \"espower-babel\": \"^4.0.1\",\n    \"mocha\": \"^2.4.5\",\n    \"nyc\": \"^5.5.0\",\n    \"power-assert\": \"^1.2.0\"\n  },\n  \"babel\": {\n    \"presets\": [\n      \"es2015\",\n      \"stage-2\"\n    ]\n  }\n}\n\n\n\nsrc/index.js\nexport default class Foo {\n  bar() {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve('baz');\n      }, 0);\n    });\n  }\n}\n\n\n\ntest/index.js\nimport Foo from '../src';\nimport { equal } from 'power-assert';\nimport 'babel-polyfill';\n\ndescribe('Foo\u30af\u30e9\u30b9', () => {\n  it('bar\u30e1\u30bd\u30c3\u30c9\u306f\u975e\u540c\u671f\u306bbaz\u3092\u8fd4\u3059', async () => {\n    const foo = new Foo;\n    equal(await foo.bar(), 'baz');\n  });\n});\n\n\n\u30c6\u30b9\u30c8\u3067async/await\u3092\u4f7f\u308f\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u3001babel-polyfill\u306f\u4e0d\u8981\u3067\u3059\u3002\u304a\u597d\u307f\u3067\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4ed8\u3051\u66ff\u3048\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nava\u3092\u4f7f\u3046\npower-assert\u3084babel-polyfill\u3092\u5185\u8535\u3057\u3066\u3044\u308b\u30c6\u30b9\u30c8\u30e9\u30f3\u30ca\u30fcava\u3067\u3042\u308c\u3070\u3001package.json\u304c\u3082\u3046\u5c11\u3057\u30b7\u30f3\u30d7\u30eb\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u78ba\u8a8d\ntree .\n# .\n# \u251c\u2500\u2500 package.json\n# \u251c\u2500\u2500 src\n# \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.js\n# \u2514\u2500\u2500 test\n#     \u2514\u2500\u2500 index.js\n\n\n\npackage.json\n{\n  \"name\": \"nyc-example\",\n  \"scripts\": {\n    \"test\": \"ava --require babel-register\",\n    \"cover\": \"nyc --reporter=lcov --reporter=text npm run test\"\n  },\n  \"devDependencies\": {\n    \"ava\": \"^0.11.0\",\n    \"babel-preset-es2015\": \"^6.3.13\",\n    \"babel-preset-stage-2\": \"^6.3.13\",\n    \"babel-register\": \"^6.4.3\",\n    \"nyc\": \"^5.5.0\"\n  },\n  \"babel\": {\n    \"presets\": [\n      \"es2015\",\n      \"stage-2\"\n    ]\n  }\n}\n\n\n\nsrc/index.js\nexport default class Foo {\n  bar() {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve('baz');\n      }, 0);\n    });\n  }\n}\n\n\n\ntest/index.js\nimport Foo from '../src';\nimport test from 'ava';\n\ntest('bar\u30e1\u30bd\u30c3\u30c9\u306f\u975e\u540c\u671f\u306bbaz\u3092\u8fd4\u3059', async t => {\n  const foo = new Foo;\n  t.is(await foo.bar(), 'baz');\n});\n\n\n\n\n\u6210\u679c\u7269\nava+nyc+travisCI\u3092\u4f7f\u3063\u3066npmjs\u3078\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u516c\u958b\u3057\u305f\u30ec\u30dd\u30b8\u30c8\u30ea\u304c\u3042\u308b\u306e\u3067\u3001\u3088\u3051\u308c\u3070\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n59naga/cyrano - github\n\n[nyc](https://github.com/bcoe/nyc)\u306f\u666e\u6bb5`npm test`\u3067\u5b9f\u884c\u3057\u3066\u3044\u308b\u30c6\u30b9\u30c8\u306b\u3001\u8ffd\u5f93\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u7c21\u5358\u306b\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\u3092\u53d6\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n```json:package.json\u7247\n{\n  \"scripts\": {\n    \"test\": \"mocha --compilers js:espower-babel/guess\",\n    \"cover\": \"nyc --reporter=lcov --reporter=text npm run test\"\n  }\n}\n```\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306a`cover`\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001`lcov`\u30ec\u30dd\u30fc\u30bf\u304c`coverage/lcov.info`\u306e\u751f\u6210\u3092\u3001`text`\u30ec\u30dd\u30fc\u30bf\u304c\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u306e\u96c6\u8a08\u753b\u9762\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-03 20.05.23.png](https://qiita-image-store.s3.amazonaws.com/0/28576/087c6858-43d3-e794-9f4b-9d688b53f25d.png)\n\n\u3042\u306a\u305f\u304c [isparta](https://github.com/douglasduteil/isparta) \u306e\u4ee3\u66ff\u624b\u6bb5\u3092\u63a2\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u5fc5\u8981\u306a\u306e\u306f`npm install nyc --save-dev`\u3068`cover`\u306e\u8ffd\u8a18\u3060\u3051\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n> [power-assert](http://efcl.info/2014/0406/res3809/)\u3092\u4f7f\u7528\u3057\u306a\u3044\u5834\u5408\u306f`test`\u306f`mocha --require babel-register`\u3068\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n# nyc\u306e\u52d5\u4f5c\u78ba\u8a8d\u7528\u306e\u74b0\u5883\u8a2d\u5b9a\n\n\u524d\u8ff0\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3067\u306f\u3001`src/index.js`\u306bFoo\u30af\u30e9\u30b9\u306ebaz\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3001`test/index.js`\u304b\u3089`async/await`\u3067\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u3068\u8a00\u3046\u5185\u5bb9\u3067\u3001\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\u3092\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u5177\u4f53\u7684\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\uff13\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\n```bash:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u78ba\u8a8d\ntree .\n# .\n# \u251c\u2500\u2500 package.json\n# \u251c\u2500\u2500 src\n# \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.js\n# \u2514\u2500\u2500 test\n#     \u2514\u2500\u2500 index.js\n```\n\n```json:package.json\n{\n  \"name\": \"nyc-example\",\n  \"scripts\": {\n    \"test\": \"mocha --compilers js:espower-babel/guess\",\n    \"cover\": \"nyc --reporter=lcov --reporter=text npm run test\"\n  },\n  \"devDependencies\": {\n    \"babel-polyfill\": \"^6.3.14\",\n    \"babel-preset-es2015\": \"^6.3.13\",\n    \"babel-preset-stage-2\": \"^6.3.13\",\n    \"espower-babel\": \"^4.0.1\",\n    \"mocha\": \"^2.4.5\",\n    \"nyc\": \"^5.5.0\",\n    \"power-assert\": \"^1.2.0\"\n  },\n  \"babel\": {\n    \"presets\": [\n      \"es2015\",\n      \"stage-2\"\n    ]\n  }\n}\n```\n\n```js:src/index.js\nexport default class Foo {\n  bar() {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve('baz');\n      }, 0);\n    });\n  }\n}\n```\n\n```js:test/index.js\nimport Foo from '../src';\nimport { equal } from 'power-assert';\nimport 'babel-polyfill';\n\ndescribe('Foo\u30af\u30e9\u30b9', () => {\n  it('bar\u30e1\u30bd\u30c3\u30c9\u306f\u975e\u540c\u671f\u306bbaz\u3092\u8fd4\u3059', async () => {\n    const foo = new Foo;\n    equal(await foo.bar(), 'baz');\n  });\n});\n```\n\n\u30c6\u30b9\u30c8\u3067`async/await`\u3092\u4f7f\u308f\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u3001`babel-polyfill`\u306f\u4e0d\u8981\u3067\u3059\u3002\u304a\u597d\u307f\u3067\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4ed8\u3051\u66ff\u3048\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n# ava\u3092\u4f7f\u3046\n\n`power-assert`\u3084`babel-polyfill`\u3092\u5185\u8535\u3057\u3066\u3044\u308b[\u30c6\u30b9\u30c8\u30e9\u30f3\u30ca\u30fcava](https://github.com/sindresorhus/ava-docs/tree/master/ja_JP#\u306a\u305cava\u306a\u306e\u304b)\u3067\u3042\u308c\u3070\u3001`package.json`\u304c\u3082\u3046\u5c11\u3057\u30b7\u30f3\u30d7\u30eb\u306b\u306a\u308a\u307e\u3059\u3002\n\n```bash:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u78ba\u8a8d\ntree .\n# .\n# \u251c\u2500\u2500 package.json\n# \u251c\u2500\u2500 src\n# \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.js\n# \u2514\u2500\u2500 test\n#     \u2514\u2500\u2500 index.js\n```\n\n```json:package.json\n{\n  \"name\": \"nyc-example\",\n  \"scripts\": {\n    \"test\": \"ava --require babel-register\",\n    \"cover\": \"nyc --reporter=lcov --reporter=text npm run test\"\n  },\n  \"devDependencies\": {\n    \"ava\": \"^0.11.0\",\n    \"babel-preset-es2015\": \"^6.3.13\",\n    \"babel-preset-stage-2\": \"^6.3.13\",\n    \"babel-register\": \"^6.4.3\",\n    \"nyc\": \"^5.5.0\"\n  },\n  \"babel\": {\n    \"presets\": [\n      \"es2015\",\n      \"stage-2\"\n    ]\n  }\n}\n```\n\n```js:src/index.js\nexport default class Foo {\n  bar() {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve('baz');\n      }, 0);\n    });\n  }\n}\n```\n\n```js:test/index.js\nimport Foo from '../src';\nimport test from 'ava';\n\ntest('bar\u30e1\u30bd\u30c3\u30c9\u306f\u975e\u540c\u671f\u306bbaz\u3092\u8fd4\u3059', async t => {\n  const foo = new Foo;\n  t.is(await foo.bar(), 'baz');\n});\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-03 20.30.12.png](https://qiita-image-store.s3.amazonaws.com/0/28576/5e3726d0-aee4-6cfd-de01-55a2079a44dd.png)\n\n# \u6210\u679c\u7269\n\n[ava+nyc+travisCI\u3092\u4f7f\u3063\u3066npmjs\u3078\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u516c\u958b](https://www.npmjs.com/package/cyrano)\u3057\u305f\u30ec\u30dd\u30b8\u30c8\u30ea\u304c\u3042\u308b\u306e\u3067\u3001\u3088\u3051\u308c\u3070\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n* [59naga/cyrano - github](https://github.com/59naga/cyrano)\n", "tags": ["JavaScript", "Node.js", "babel", "mocha", "ava"]}