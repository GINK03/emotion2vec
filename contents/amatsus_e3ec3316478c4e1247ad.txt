{"tags": ["centos7", "kernel"], "context": "\u3057\u3070\u3089\u304f\u3076\u308a\u306bLinux\u30ab\u30fc\u30cd\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068 --without\u4e91\u3005\u3092\u3064\u3051\u308b\u306e\u3092\u5fd8\u308c\u308b\u306e\u3067\n\n\u30bd\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u53d6\u5f97\nSRPM\u3092\u53d6\u5f97\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ cd ~/rpmbuild\n$ sudo yumdownloader --destdir=SRPMS --source kernel-3.10.0-327.18.2.el7\n$ sudo chown $USER. SRPMS/kernel-3.10.0-327.18.2.el7.src.rpm\n$ rpm -ivh SRPMS/kernel-3.10.0-327.18.2.el7.src.rpm\n\n\n\u30d3\u30eb\u30c9\n\u30d1\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u4f5c\u3063\u305f\u308aspec\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\u3057\u305f\u306e\u3061\u306b\n\nmock\n$ rpmbuild -bs SPECS/kernel.spec\n$ mock --rebuild --target=`uname -m` --with kdump --without debug --without tools --without perf SRPMS/kernel-3.10.0-327.18.2.el7.bit.src.rpm\n\n\nrpmbuild\n$ sudo yum-builddep SPECS/kernel.spec\n$ rpmbuild -bb --target=`uname -m` --with kdump --without debug --without tools --without perf SPECS/kernel.spec\n\n\u3057\u3070\u3089\u304f\u3076\u308a\u306bLinux\u30ab\u30fc\u30cd\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u3068 `--without`\u4e91\u3005\u3092\u3064\u3051\u308b\u306e\u3092\u5fd8\u308c\u308b\u306e\u3067\n\n## \u30bd\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u53d6\u5f97\nSRPM\u3092\u53d6\u5f97\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell-session\n$ cd ~/rpmbuild\n$ sudo yumdownloader --destdir=SRPMS --source kernel-3.10.0-327.18.2.el7\n$ sudo chown $USER. SRPMS/kernel-3.10.0-327.18.2.el7.src.rpm\n$ rpm -ivh SRPMS/kernel-3.10.0-327.18.2.el7.src.rpm\n```\n## \u30d3\u30eb\u30c9\n\u30d1\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u4f5c\u3063\u305f\u308aspec\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\u3057\u305f\u306e\u3061\u306b\n#### mock\n```shell-session\n$ rpmbuild -bs SPECS/kernel.spec\n$ mock --rebuild --target=`uname -m` --with kdump --without debug --without tools --without perf SRPMS/kernel-3.10.0-327.18.2.el7.bit.src.rpm\n```\n#### rpmbuild\n```shell-session\n$ sudo yum-builddep SPECS/kernel.spec\n$ rpmbuild -bb --target=`uname -m` --with kdump --without debug --without tools --without perf SPECS/kernel.spec\n```\n"}