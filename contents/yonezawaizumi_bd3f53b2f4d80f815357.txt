{"context": "\u3061\u3087\u3063\u3068\u5fc5\u8981\u306b\u8feb\u3089\u308c\u30661\u3001\u5e38\u306b\u540c\u3058\u753b\u50cf\u3092\u8d77\u52d5\u3068\u540c\u6642\u306b\u8868\u793a\u3057\u3066\u3001\u30d4\u30f3\u30c1\u3067\u62e1\u5927\uff0f\u7e2e\u5c0f\u3001\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u3067\u62e1\u5927\u3001\u3068\u3044\u3046\u30a2\u30d7\u30ea\u3092\u3001\u4e00\u6669\u3067\u4f5c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u8abf\u3079\u3066\u307f\u308b\u3068\u3001\u307e\u3055\u306b\u3046\u3063\u3066\u3064\u3051\u306e\u30da\u30fc\u30b8\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u6b63\u76f4Swift3\u3067\u306f\u307e\u3063\u305f\u304f\u52d5\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u624b\u76f4\u3057\u3092\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u8cbc\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\n\nViewController.swift\nclass ViewController: UIViewController, UIScrollViewDelegate {\n\n    @IBOutlet var myImageView: UIImageView!\n    @IBOutlet var myScrollView: UIScrollView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        self.myScrollView.delegate = self\n\n        let doubleTapGesture = UITapGestureRecognizer(target: self, action:#selector(self.doubleTap))\n        doubleTapGesture.numberOfTapsRequired = 2\n        self.myImageView.addGestureRecognizer(doubleTapGesture)\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n    }\n\n    func viewForZooming(in scrollView: UIScrollView) -> UIView? {\n        //print(\"pinch\")\n        return self.myImageView\n    }\n\n    func doubleTap(gesture: UITapGestureRecognizer) -> Void {\n        //print(self.myScrollView.zoomScale)\n        if (self.myScrollView.zoomScale < self.myScrollView.maximumZoomScale) {\n            let newScale = self.myScrollView.zoomScale * 3\n            let zoomRect = self.zoomRectForScale(scale: newScale, center: gesture.location(in: gesture.view))\n            self.myScrollView.zoom(to: zoomRect, animated: true)\n        } else {\n            self.myScrollView.setZoomScale(1.0, animated: true)\n        }\n    }\n\n    func zoomRectForScale(scale:CGFloat, center: CGPoint) -> CGRect{\n        let size = CGSize(\n            width: self.myScrollView.frame.size.width / scale,\n            height: self.myScrollView.frame.size.height / scale\n        )\n        return CGRect(\n            origin: CGPoint(\n                x: center.x - size.width / 2.0,\n                y: center.y - size.height / 2.0\n            ),\n            size: size\n        )\n    }\n}\n\n\n\n\u5909\u66f4\u70b9\n\n\nUIScrollView\u3084UIImageView\u3092StoryBoard\u304b\u3089\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3067\u8a2d\u5b9a\u3067\u304d\u308b\u9805\u76ee\u306f\u6975\u529b\u305d\u3061\u3089\u306b\u307e\u304b\u305b\u307e\u3059\n\nvar\u3088\u308a\u3082let\u3067\u3059\n\u578b\u63a8\u8ad6\u3092\u6d3b\u7528\u3057\u307e\u3059\n\u6700\u521d\u306e\u5f15\u6570\u306b\u3082\u30e9\u30d9\u30eb\u304c\u5fc5\u8981\u306b\u306a\u3063\u3066\u3044\u307e\u3059\nselector\u306e\u6307\u5b9a\u65b9\u6cd5\u304c#selector()\u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\n\n\n\u811a\u6ce8\n\n\n\n\n\u5cf6\u5185\u306b\u5ca1\u5c71\u770c-\u9999\u5ddd\u770c\u306e\u770c\u5883\u304c\u3042\u308b\u77f3\u5cf6\u306b\u884c\u304f\u3053\u3068\u306b\u306a\u308a\u3001\u5b9f\u969b\u306b\u770c\u5883\u30de\u30cb\u30a2\u306e\u307f\u306a\u3055\u3093\u304c\u4e0a\u9678\u3057\u305f\u969b\u306e\u5730\u56f3\u753b\u50cf\u3092\u3001\u9053\u306a\u304d\u9053\u3092\u9032\u307f\u3064\u3064\u968f\u6642\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306b\u306a\u308a\u307e\u3057\u305f\u3002iPhone\u4ed8\u5c5e\u306e\u5199\u771f\u30a2\u30d7\u30ea\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u305f\u3089\u307e\u305f\u753b\u50cf\u3092\u9078\u3073\u76f4\u3055\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u3001\u305d\u308c\u306f\u7363\u9053\u3092\u9032\u3080\u6700\u4e2d\u306e\u5927\u304d\u306a\u30b3\u30b9\u30c8\u3067\u3059\u3002\u306e\u3067\u3001\u30bf\u30b9\u30af\u30ea\u30b9\u30c8\u304b\u3089\u3082\u30a2\u30d7\u30ea\u30a2\u30a4\u30b3\u30f3\u30bf\u30c3\u30d7\u304b\u3089\u3082\u30a4\u30c3\u30d1\u30c4\u3067\u753b\u50cf\u8868\u793a\u304c\u3067\u304d\u308b\u3082\u306e\u3092\u6b32\u3057\u305f\u308f\u3051\u3067\u3059\u3002\u00a0\u21a9\n\n\n\n\u3061\u3087\u3063\u3068\u5fc5\u8981\u306b\u8feb\u3089\u308c\u3066[^1]\u3001\u5e38\u306b\u540c\u3058\u753b\u50cf\u3092\u8d77\u52d5\u3068\u540c\u6642\u306b\u8868\u793a\u3057\u3066\u3001\u30d4\u30f3\u30c1\u3067\u62e1\u5927\uff0f\u7e2e\u5c0f\u3001\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u3067\u62e1\u5927\u3001\u3068\u3044\u3046\u30a2\u30d7\u30ea\u3092\u3001\u4e00\u6669\u3067\u4f5c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u8abf\u3079\u3066\u307f\u308b\u3068\u3001[\u307e\u3055\u306b\u3046\u3063\u3066\u3064\u3051\u306e\u30da\u30fc\u30b8\u304c\u3042\u308a\u307e\u3057\u305f](http://qiita.com/hanoopy/items/7a2c582cd9758e7a3076)\u304c\u3001\u6b63\u76f4Swift3\u3067\u306f\u307e\u3063\u305f\u304f\u52d5\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u624b\u76f4\u3057\u3092\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u306e\u3067\u3001\u8cbc\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\n### \u30b3\u30fc\u30c9\n\n```swift:ViewController.swift\nclass ViewController: UIViewController, UIScrollViewDelegate {\n\n    @IBOutlet var myImageView: UIImageView!\n    @IBOutlet var myScrollView: UIScrollView!\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        self.myScrollView.delegate = self\n        \n        let doubleTapGesture = UITapGestureRecognizer(target: self, action:#selector(self.doubleTap))\n        doubleTapGesture.numberOfTapsRequired = 2\n        self.myImageView.addGestureRecognizer(doubleTapGesture)\n    }\n    \n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n    }\n    \n    func viewForZooming(in scrollView: UIScrollView) -> UIView? {\n        //print(\"pinch\")\n        return self.myImageView\n    }\n    \n    func doubleTap(gesture: UITapGestureRecognizer) -> Void {\n        //print(self.myScrollView.zoomScale)\n        if (self.myScrollView.zoomScale < self.myScrollView.maximumZoomScale) {\n            let newScale = self.myScrollView.zoomScale * 3\n            let zoomRect = self.zoomRectForScale(scale: newScale, center: gesture.location(in: gesture.view))\n            self.myScrollView.zoom(to: zoomRect, animated: true)\n        } else {\n            self.myScrollView.setZoomScale(1.0, animated: true)\n        }\n    }\n\n    func zoomRectForScale(scale:CGFloat, center: CGPoint) -> CGRect{\n        let size = CGSize(\n            width: self.myScrollView.frame.size.width / scale,\n            height: self.myScrollView.frame.size.height / scale\n        )\n        return CGRect(\n            origin: CGPoint(\n                x: center.x - size.width / 2.0,\n                y: center.y - size.height / 2.0\n            ),\n            size: size\n        )\n    }\n}\n```\n\n### \u5909\u66f4\u70b9\n\n* `UIScrollView`\u3084`UIImageView`\u3092StoryBoard\u304b\u3089\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3067\u8a2d\u5b9a\u3067\u304d\u308b\u9805\u76ee\u306f\u6975\u529b\u305d\u3061\u3089\u306b\u307e\u304b\u305b\u307e\u3059\n* `var`\u3088\u308a\u3082`let`\u3067\u3059\n* \u578b\u63a8\u8ad6\u3092\u6d3b\u7528\u3057\u307e\u3059\n* \u6700\u521d\u306e\u5f15\u6570\u306b\u3082\u30e9\u30d9\u30eb\u304c\u5fc5\u8981\u306b\u306a\u3063\u3066\u3044\u307e\u3059\n* selector\u306e\u6307\u5b9a\u65b9\u6cd5\u304c`#selector()`\u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\n\n### \u811a\u6ce8\n\n[^1]: [\u5cf6\u5185\u306b\u5ca1\u5c71\u770c-\u9999\u5ddd\u770c\u306e\u770c\u5883\u304c\u3042\u308b\u77f3\u5cf6\u306b\u884c\u304f](http://feelfine.blog.izumichan.com/article.php?id=52765)\u3053\u3068\u306b\u306a\u308a\u3001[\u5b9f\u969b\u306b\u770c\u5883\u30de\u30cb\u30a2\u306e\u307f\u306a\u3055\u3093\u304c\u4e0a\u9678\u3057\u305f\u969b\u306e\u5730\u56f3\u753b\u50cf](http://uub.jp/frm/member/off6/ishima.html)\u3092\u3001\u9053\u306a\u304d\u9053\u3092\u9032\u307f\u3064\u3064\u968f\u6642\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306b\u306a\u308a\u307e\u3057\u305f\u3002iPhone\u4ed8\u5c5e\u306e\u5199\u771f\u30a2\u30d7\u30ea\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u305f\u3089\u307e\u305f\u753b\u50cf\u3092\u9078\u3073\u76f4\u3055\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u3001\u305d\u308c\u306f\u7363\u9053\u3092\u9032\u3080\u6700\u4e2d\u306e\u5927\u304d\u306a\u30b3\u30b9\u30c8\u3067\u3059\u3002\u306e\u3067\u3001\u30bf\u30b9\u30af\u30ea\u30b9\u30c8\u304b\u3089\u3082\u30a2\u30d7\u30ea\u30a2\u30a4\u30b3\u30f3\u30bf\u30c3\u30d7\u304b\u3089\u3082\u30a4\u30c3\u30d1\u30c4\u3067\u753b\u50cf\u8868\u793a\u304c\u3067\u304d\u308b\u3082\u306e\u3092\u6b32\u3057\u305f\u308f\u3051\u3067\u3059\u3002\n", "tags": ["Swift", "swift3", "UIGestureRecognizer", "UIScrollView"]}