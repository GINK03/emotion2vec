{"context": "\n\n\u76ee\u7684\u3068\u3057\u3066\u3001active_flag\u304c\u300cactive\u300d\u3067\u306a\u3044\u306a\u3089\u30ed\u30b0\u30a4\u30f3\u51fa\u6765\u306a\u3044\u3088\u3046\u306b\u3057\u305f\u3044\u3002\n\n1)devise\u306e\u30ed\u30b0\u30a2\u30a6\u30c8\u7528\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8ffd\u52a0\u3059\u308b\u3002\ndestroy_user_session\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u305b\u308b\u3068\u3001\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\n\u305d\u3053\u3067\u300cdevise/sessions#destroy\u300d\u3078\u5225\u540d\u3092\u4ed8\u3051\u308b\u3002\n  devise_scope :user do\n    get '/logout', to: 'devise/sessions#destroy', as: :logout\n  end\n\n\n2)\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306ebefor_filter\u306b\u51e6\u7406\u3092\u8ffd\u52a0\nclass HogehogeController < ApplicationController\n  before_filter :check_login\n\n  def check_login\n    redirect_to logout_path if current_user && current_user.active_flag != 'active'\n  end\n\n##\u76ee\u7684\u3068\u3057\u3066\u3001active_flag\u304c\u300cactive\u300d\u3067\u306a\u3044\u306a\u3089\u30ed\u30b0\u30a4\u30f3\u51fa\u6765\u306a\u3044\u3088\u3046\u306b\u3057\u305f\u3044\u3002\n\n###1)devise\u306e\u30ed\u30b0\u30a2\u30a6\u30c8\u7528\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\ndestroy_user_session\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u305b\u308b\u3068\u3001\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\n\u305d\u3053\u3067\u300cdevise/sessions#destroy\u300d\u3078\u5225\u540d\u3092\u4ed8\u3051\u308b\u3002\n\n```\n  devise_scope :user do\n    get '/logout', to: 'devise/sessions#destroy', as: :logout\n  end\n```\n\n###2)\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306ebefor_filter\u306b\u51e6\u7406\u3092\u8ffd\u52a0\n\n```\nclass HogehogeController < ApplicationController\n  before_filter :check_login\n\n  def check_login\n    redirect_to logout_path if current_user && current_user.active_flag != 'active'\n  end\n```\n", "tags": ["Rails", "devise"]}