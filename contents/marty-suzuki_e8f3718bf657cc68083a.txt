{"tags": ["iOS", "Swift", "Protocol"], "context": " More than 1 year has passed since last update.\n\n\u307e\u305a\u59cb\u3081\u306b\nprotocol extension\u5185\u3067\u9069\u5408\u5148\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5168\u304f\u540c\u3058\u3082\u306e\u304b\u3092generics\u3092\u4f7f\u7528\u305b\u305a\u306bprotocol\u81ea\u8eab\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u3063\u3066\u6bd4\u8f03\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u969b\u306b\u5c11\u3005\u8e93\u3044\u305f\u306e\u3067\u3001\u5099\u5fd8\u9332\u3068\u3057\u30662\u30d1\u30bf\u30fc\u30f3\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u6b8b\u305d\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30d1\u30bf\u30fc\u30f31\nprotocol\u306e\u9069\u5408\u5148\u304cSwift\u30af\u30e9\u30b9\u307e\u305f\u306fNSObject\u3092\u7d99\u627f\u3057\u3066\u3044\u308b\u30af\u30e9\u30b9\u3067\u3042\u308b\u5834\u5408\u306b\u9650\u308a\u3001protocol\u306b\u5bfe\u3057\u3066class\u3092\u9069\u5408\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001===\u3067\u306e\u6bd4\u8f03\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\u203bNSObject\u306e\u30af\u30e9\u30b9\u306b\u9650\u308b\u5834\u5408\u306b\u306f\u3001class\u3067\u306f\u306a\u304fNSObjectProtocol\u3067\u3082\u540c\u69d8\u306b\u53ef\u80fd\u3067\u3059\u3002\nprotocol HogeProtocol: class {\n    func execute(hp: HogeProtocol) -> String\n}\n\nextension HogeProtocol {\n    func execute(hp: HogeProtocol) -> String {\n        if self === hp {\n            return \"executed\"\n        }\n        return \"not executed\"\n    }\n}\n\nclass HogeObject: HogeProtocol {}\n\nlet ho = HogeObject()\nho.execute(ho) //executed\nho.execute(HogeObject()) //not executed\n\n\n\u30d1\u30bf\u30fc\u30f32\nprotocol\u306e\u9069\u5408\u5148\u304cstruct\u307e\u305f\u306fenum\u3067\u3042\u308b\u5834\u5408\u306b\u306f\u3001protocol\u306buuid\u3092\u8981\u6c42\u3059\u308b\u5236\u7d04\u3092\u5b9a\u7fa9\u3057\u3001protocol extension\u5185\u3067uuid\u306e\u6bd4\u8f03\u3092\u3059\u308b\u3053\u3068\u3067\u540c\u3058\u3082\u306e\u304b\u3069\u3046\u304b\u306e\u5224\u65ad\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u203bclass\u3084NSObjectProtocol\u3092\u4ed8\u4e0e\u3057\u306a\u3044\u9650\u308aself\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u306e\u3067\u3059\u304c\u3001struct\u3084enum\u3067\u306fclass\u3084NSObjectProtocol\u304c\u4f7f\u7528\u3067\u304d\u306a\u3044(NSObjectProtocol\u306b\u95a2\u3057\u3066\u306f\u3001\u9069\u5408\u5148\u306e\u30af\u30e9\u30b9\u3067\u5236\u7d04\u3092\u5b9f\u88c5\u3059\u308c\u3070\u4f7f\u7528\u53ef\u80fd)\u306e\u3067\u3001uuid\u6bd4\u8f03\u304c\u826f\u3044\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u8003\u3048\u3066\u304a\u308a\u307e\u3059\u3002\nprotocol HogeProtocol {\n    var uuid: String { get set }\n    func execute(hp: HogeProtocol) -> String\n}\n\nextension HogeProtocol {\n    func execute(hp: HogeProtocol) -> String {\n        if uuid == hp.uuid {\n            return \"executed\"\n        }\n        return \"not executed\"\n    }\n}\n\nstruct HogeStruct: HogeProtocol {\n    var uuid = NSUUID().UUIDString\n}\n\nlet hs = HogeStruct()\nhs.execute(hs) //executed\nhs.execute(HogeStruct()) //not executed\n\n## \u307e\u305a\u59cb\u3081\u306b\n\n`protocol extension`\u5185\u3067\u9069\u5408\u5148\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5168\u304f\u540c\u3058\u3082\u306e\u304b\u3092`generics`\u3092\u4f7f\u7528\u305b\u305a\u306b`protocol`\u81ea\u8eab\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u3063\u3066\u6bd4\u8f03\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u969b\u306b\u5c11\u3005\u8e93\u3044\u305f\u306e\u3067\u3001\u5099\u5fd8\u9332\u3068\u3057\u30662\u30d1\u30bf\u30fc\u30f3\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u6b8b\u305d\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n### \u30d1\u30bf\u30fc\u30f31\n\n`protocol`\u306e\u9069\u5408\u5148\u304c**Swift\u30af\u30e9\u30b9**\u307e\u305f\u306f**`NSObject`\u3092\u7d99\u627f\u3057\u3066\u3044\u308b\u30af\u30e9\u30b9**\u3067\u3042\u308b\u5834\u5408\u306b\u9650\u308a\u3001`protocol`\u306b\u5bfe\u3057\u3066`class`\u3092\u9069\u5408\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001`===`\u3067\u306e\u6bd4\u8f03\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\u203b`NSObject`\u306e\u30af\u30e9\u30b9\u306b\u9650\u308b\u5834\u5408\u306b\u306f\u3001`class`\u3067\u306f\u306a\u304f`NSObjectProtocol`\u3067\u3082\u540c\u69d8\u306b\u53ef\u80fd\u3067\u3059\u3002\n\n```swift\nprotocol HogeProtocol: class {\n    func execute(hp: HogeProtocol) -> String\n}\n\nextension HogeProtocol {\n    func execute(hp: HogeProtocol) -> String {\n        if self === hp {\n            return \"executed\"\n        }\n        return \"not executed\"\n    }\n}\n\nclass HogeObject: HogeProtocol {}\n\nlet ho = HogeObject()\nho.execute(ho) //executed\nho.execute(HogeObject()) //not executed\n```\n\n### \u30d1\u30bf\u30fc\u30f32\n\n`protocol`\u306e\u9069\u5408\u5148\u304c**`struct`**\u307e\u305f\u306f**`enum`**\u3067\u3042\u308b\u5834\u5408\u306b\u306f\u3001`protocol`\u306b`uuid`\u3092\u8981\u6c42\u3059\u308b\u5236\u7d04\u3092\u5b9a\u7fa9\u3057\u3001`protocol extension`\u5185\u3067`uuid`\u306e\u6bd4\u8f03\u3092\u3059\u308b\u3053\u3068\u3067\u540c\u3058\u3082\u306e\u304b\u3069\u3046\u304b\u306e\u5224\u65ad\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u203b`class`\u3084`NSObjectProtocol`\u3092\u4ed8\u4e0e\u3057\u306a\u3044\u9650\u308a`self`\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u306e\u3067\u3059\u304c\u3001`struct`\u3084`enum`\u3067\u306f`class`\u3084`NSObjectProtocol`\u304c\u4f7f\u7528\u3067\u304d\u306a\u3044(`NSObjectProtocol`\u306b\u95a2\u3057\u3066\u306f\u3001\u9069\u5408\u5148\u306e\u30af\u30e9\u30b9\u3067\u5236\u7d04\u3092\u5b9f\u88c5\u3059\u308c\u3070\u4f7f\u7528\u53ef\u80fd)\u306e\u3067\u3001`uuid`\u6bd4\u8f03\u304c\u826f\u3044\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u8003\u3048\u3066\u304a\u308a\u307e\u3059\u3002\n\n```swift\nprotocol HogeProtocol {\n    var uuid: String { get set }\n    func execute(hp: HogeProtocol) -> String\n}\n\nextension HogeProtocol {\n    func execute(hp: HogeProtocol) -> String {\n        if uuid == hp.uuid {\n            return \"executed\"\n        }\n        return \"not executed\"\n    }\n}\n\nstruct HogeStruct: HogeProtocol {\n    var uuid = NSUUID().UUIDString\n}\n\nlet hs = HogeStruct()\nhs.execute(hs) //executed\nhs.execute(HogeStruct()) //not executed\n```\n"}