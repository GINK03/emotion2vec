{"context": " More than 1 year has passed since last update.\n\n[\u8ffd\u8a18]\u30b3\u30e1\u30f3\u30c8\u3067\u7d20\u76f4\u306a\u5bfe\u51e6\u6cd5\u3092\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\u7d20\u76f4\u306a\u5bfe\u51e6\u6cd5\n\u3068\u3066\u3082\u3046\u308c\u3057\u3044\u3002\n\n\u6700\u9ad8\u306b\u306a\u3063\u305f\u3089\u3057\u3044\u306e\u3067\u3059\u304c\u3001\u305d\u308c\u306f\u3068\u3082\u304b\u304frails\u8005\u306e\u308f\u305f\u3057\u306fslim\u3067\u66f8\u304d\u305f\u3044\u306e\u3067\uff08\u4eca\u5f8creact-slim\u3068\u304b\u51fa\u3066\u304f\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\uff09\u3068\u308a\u3042\u3048\u305a\u66f8\u3051\u308b\u307f\u305f\u3044\u306a\u30ec\u30d9\u30eb\u3067\u4e71\u66b4\u306a\u89e3\u6c7a\u3092\u8a66\u307f\u305f\u3002\n\n\u3057\u3042\u304c\u308a\n\napp/assets/javascripts/components/HelloMessage.jsx.coffee.erb\n<%\n  def brutal_slim_jsx(src)\n    clean_brutally(Slim::Template.new(pretty: false) { src }.render).tap{|r| p r}\n  end\n\n  def brutal_slim_jsx_file(file)\n    clean_brutally(Slim::Template.new(file, {}).render).tap{|r| p r}\n  end\n\n  def clean_brutally(rendered)\n    rendered.gsub(\"\\\"{{\", '{').gsub(\"}}\\\"\", '}')\n  end\n%>\n\n@HelloMessage = React.createClass(\n  render: ->\n    `<%= brutal_slim_jsx <<-EOS\n        div[className=\"message\"]\n            NamePlate[name=\"{{this.props.name}}\"]\n        EOS\n      %>`\n    )\n\n@NamePlate = React.createClass(\n  render: ->\n    `<%= brutal_slim_jsx_file(\"#{Rails.root}/app/assets/jsx/name_plate.html.slim\") %>`\n    )\n\n\n\napp/assets/jsx/name_plate.html.slim\np[className=\"name-plate\"]= \"{this.props.name}\"\n\n\n<div data-react-class=\"HelloMessage\" data-react-props=\"{&quot;name&quot;:&quot;John&quot;,&quot;gender&quot;:&quot;male&quot;}\">\n  <div class=\"message\" data-reactid=\".1fnjtypkz5s\" data-react-checksum=\"294791015\">\n    <p class=\"name-plate\" data-reactid=\".1fnjtypkz5s.0\">John</p>\n  </div>\n</div>\n\n\n\u6e96\u5099\nhttps://github.com/reactjs/react-rails\u306eServer rendering\u307e\u3067\u3084\u308b\u3002\n\n\u3057\u3042\u3052\ncoffee\u5074\u306e\u62e1\u5f35\u5b50\u306f.jsx.coffee.erb\u3001slim\u306fjsx\u3063\u307d\u304frender\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u3002\nslim->html\u306erender\u3067\u306fattributes\u304b\u3089\u30c0\u30d6\u30eb\u30af\u30aa\u30fc\u30c8\u3092\u306f\u304c\u305b\u306a\u3044\u306e\u3067\u7f6e\u63db\u3067\u306a\u3093\u3068\u304b\u3059\u308b\u3002\ntap\u3067p\u3057\u3066\u308b\u306e\u306f\u4f55\u5ea6\u3082render\u3055\u308c\u3066\u306a\u3044\u304b\u78ba\u8a8d\u7528\u3002\n\n\u4fbf\u5229\u8a18\u6cd5\u306f\u4f7f\u3048\u306a\u3044\nJSX\u306e\u4fbf\u5229\u8a18\u6cd5\u304c\u3044\u308d\u3044\u308d\u3042\u308b\u3068\u601d\u3046\u3093\u3067\u3059\u304c\u3001\u305d\u3046\u3044\u3046\u306e\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u751f\u5c55\u958b\u3067\u3002\n@HelloMessage = React.createClass(\n  render: ->\n    `<%= brutal_slim_jsx <<-EOS\n        div[className=\"message\"]\n          | <NamePlate {...this.props} />\n        EOS\n      %>`\n    )\n\n\n\u307e\u3068\u3081\n\u3053\u306e\u3084\u308a\u304b\u305f\u3067\u306f\u52b4\u3068\u5b89\u5168\u6027\u306e\u306a\u3055\u306b\u5bfe\u3057\u3066\u5f97\u308b\u3082\u306e\u304c\u5c11\u306a\u305d\u3046\u3002\n# [\u8ffd\u8a18]\u30b3\u30e1\u30f3\u30c8\u3067\u7d20\u76f4\u306a\u5bfe\u51e6\u6cd5\u3092\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\n[\u7d20\u76f4\u306a\u5bfe\u51e6\u6cd5](http://qiita.com/mmmpa/items/b991c446b0eec39ec122#comment-75ccf14b90af0c4610b1)\n\n\u3068\u3066\u3082\u3046\u308c\u3057\u3044\u3002\n\n---\n\n[\u6700\u9ad8\u306b\u306a\u3063\u305f](http://qiita.com/mizchi/items/c34c3ff88d73a7bd2c88)\u3089\u3057\u3044\u306e\u3067\u3059\u304c\u3001\u305d\u308c\u306f\u3068\u3082\u304b\u304frails\u8005\u306e\u308f\u305f\u3057\u306fslim\u3067\u66f8\u304d\u305f\u3044\u306e\u3067\uff08\u4eca\u5f8creact-slim\u3068\u304b\u51fa\u3066\u304f\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\uff09\u3068\u308a\u3042\u3048\u305a\u66f8\u3051\u308b\u307f\u305f\u3044\u306a\u30ec\u30d9\u30eb\u3067\u4e71\u66b4\u306a\u89e3\u6c7a\u3092\u8a66\u307f\u305f\u3002\n\n# \u3057\u3042\u304c\u308a\n\n```coffee:app/assets/javascripts/components/HelloMessage.jsx.coffee.erb\n<%\n  def brutal_slim_jsx(src)\n    clean_brutally(Slim::Template.new(pretty: false) { src }.render).tap{|r| p r}\n  end\n\n  def brutal_slim_jsx_file(file)\n    clean_brutally(Slim::Template.new(file, {}).render).tap{|r| p r}\n  end\n\n  def clean_brutally(rendered)\n    rendered.gsub(\"\\\"{{\", '{').gsub(\"}}\\\"\", '}')\n  end\n%>\n\n@HelloMessage = React.createClass(\n  render: ->\n    `<%= brutal_slim_jsx <<-EOS\n        div[className=\"message\"]\n            NamePlate[name=\"{{this.props.name}}\"]\n        EOS\n      %>`\n    )\n\n@NamePlate = React.createClass(\n  render: ->\n    `<%= brutal_slim_jsx_file(\"#{Rails.root}/app/assets/jsx/name_plate.html.slim\") %>`\n    )\n```\n\n```jade:app/assets/jsx/name_plate.html.slim\np[className=\"name-plate\"]= \"{this.props.name}\"\n```\n\n```html\n<div data-react-class=\"HelloMessage\" data-react-props=\"{&quot;name&quot;:&quot;John&quot;,&quot;gender&quot;:&quot;male&quot;}\">\n  <div class=\"message\" data-reactid=\".1fnjtypkz5s\" data-react-checksum=\"294791015\">\n    <p class=\"name-plate\" data-reactid=\".1fnjtypkz5s.0\">John</p>\n  </div>\n</div>\n```\n\n# \u6e96\u5099\n\n[https://github.com/reactjs/react-rails](https://github.com/reactjs/react-rails)\u306e[Server rendering](https://github.com/reactjs/react-rails#server-rendering)\u307e\u3067\u3084\u308b\u3002\n\n# \u3057\u3042\u3052\n\ncoffee\u5074\u306e\u62e1\u5f35\u5b50\u306f`.jsx.coffee.erb`\u3001slim\u306fjsx\u3063\u307d\u304frender\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\nslim->html\u306erender\u3067\u306fattributes\u304b\u3089\u30c0\u30d6\u30eb\u30af\u30aa\u30fc\u30c8\u3092\u306f\u304c\u305b\u306a\u3044\u306e\u3067\u7f6e\u63db\u3067\u306a\u3093\u3068\u304b\u3059\u308b\u3002\n\n`tap`\u3067`p`\u3057\u3066\u308b\u306e\u306f\u4f55\u5ea6\u3082render\u3055\u308c\u3066\u306a\u3044\u304b\u78ba\u8a8d\u7528\u3002\n\n# \u4fbf\u5229\u8a18\u6cd5\u306f\u4f7f\u3048\u306a\u3044\n\nJSX\u306e\u4fbf\u5229\u8a18\u6cd5\u304c\u3044\u308d\u3044\u308d\u3042\u308b\u3068\u601d\u3046\u3093\u3067\u3059\u304c\u3001\u305d\u3046\u3044\u3046\u306e\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u751f\u5c55\u958b\u3067\u3002\n\n```coffee\n@HelloMessage = React.createClass(\n  render: ->\n    `<%= brutal_slim_jsx <<-EOS\n        div[className=\"message\"]\n          | <NamePlate {...this.props} />\n        EOS\n      %>`\n    )\n```\n\n# \u307e\u3068\u3081\n\n\u3053\u306e\u3084\u308a\u304b\u305f\u3067\u306f\u52b4\u3068\u5b89\u5168\u6027\u306e\u306a\u3055\u306b\u5bfe\u3057\u3066\u5f97\u308b\u3082\u306e\u304c\u5c11\u306a\u305d\u3046\u3002\n", "tags": ["React", "Rails"]}