{"tags": ["sota", "Robot"], "context": "Sota\u3067VstoneMagic\u3092\u4f7f\u3063\u3066HTTP\u901a\u4fe1\u3092\u3059\u308b\u5834\u5408\u3001HTTP\u901a\u4fe1\u30d6\u30ed\u30c3\u30af\u3068\u3044\u3046\u3082\u306e\u306f\u7121\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e2\u3064\u65b9\u6cd5\u304c\u8003\u3048\u3089\u308c\u308b\u3002\n\nVstoneMagic\u3067sota\u30e9\u30a4\u30d6\u30e9\u30ea\u306eHttpHelper\u30af\u30e9\u30b9\u306eHttpProc\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\nJava\u3067HTTP\u901a\u4fe1\u51e6\u7406\u3092\u66f8\u3044\u3066jar\u306b\u3057\u3001VstoneMagic\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u547c\u3073\u51fa\u3059\n\n2\u306e\u65b9\u306f\u81ea\u5206\u3067\u597d\u304d\u306a\u30e9\u30a4\u30d6\u30e9\u30ea(\u50d5\u306e\u5834\u5408\u306fOkHttp3)\u3092\u4f7f\u3048\u3070\u3044\u3044\u3068\u601d\u3046\u3002\n1\u306e\u65b9\u306f\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u3060\u304c\u3001\u3042\u307e\u308a\u60c5\u5831\u304c\u306a\u3044\u306e\u3067\u3001\u3069\u3046\u4f7f\u3046\u306e\u304b\u3092\u7d39\u4ecb\u3057\u3088\u3046\u3068\u601d\u3046\u3002\n\u8aac\u660e\u7528\u306bGoogle Translate API\u3092\u4f7f\u7528\u3057\u305f\u304c\u3001Google Translate API\u306e\u4ed5\u69d8\u306b\u3064\u3044\u3066\u306f\u3001\u4eca\u56de\u306f\u8aac\u660e\u3057\u306a\u3044\u3002\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53c2\u7167\u3002\n\u74b0\u5883\u306f\u3044\u3064\u3082\u901a\u308a\u3002\n\n\n\n\u5bfe\u8c61\nOS\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nPC\nWindows10 x64\n\n\nSota\n1.6.0\n\n\nVstoneMagic\n1.0.6156.22367(VstoneMagic_update20170126)\n\n\nVstoneMagic\u306eSota\u30e9\u30a4\u30d6\u30e9\u30ea\n1.6.0\n\n\n\n\nVstoneMagic\u3067\u306e\u4eca\u56de\u306e\u69cb\u6210\n\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u3068\u767a\u8a71\u7528\u30c6\u30ad\u30b9\u30c8\u306e\u5909\u6570\u30d6\u30ed\u30c3\u30af\u3068\u3001HTTP\u901a\u4fe1\u51e6\u7406\u3092\u8a18\u8ff0\u3059\u308b\u81ea\u7531\u8a18\u8ff0\u30d6\u30ed\u30c3\u30af\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u3092\u898b\u3066\u51e6\u7406\u3092\u5206\u3051\u308b\u305f\u3081\u306eif\u30d6\u30ed\u30c3\u30af\u3001\u767a\u8a71\u7528\u30c6\u30ad\u30b9\u30c8\u3092\u767a\u8a71\u3059\u308b\u767a\u8a71\u30d6\u30ed\u30c3\u30af\u306e\u69cb\u6210\u306b\u3057\u305f\u3002\n\n\nHTTP\u901a\u4fe1\u51e6\u7406\n\u6700\u521d\u306b\u3082\u66f8\u3044\u305f\u304c\u3001HTTP\u901a\u4fe1\u30d6\u30ed\u30c3\u30af\u3068\u3044\u3046\u3082\u306e\u306f\u7121\u3044\u305f\u3081\u3001HTTP\u901a\u4fe1\u51e6\u7406\u306f\u81ea\u7531\u8a18\u8ff0\u30d6\u30ed\u30c3\u30af\u306b\u66f8\u3044\u3066\u3044\u304f\u3002\nGoogle Translate API\u3092\u4f7f\u3063\u3066\u3001get\u3059\u308b\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\nTranslated\u30af\u30e9\u30b9\u306fAPI\u4ed5\u69d8\u306b\u57fa\u3065\u3044\u3066\u81ea\u5206\u3067\u4f5c\u6210\u3057\u305f\u3001\u30d1\u30fc\u30b9\u7528\u30af\u30e9\u30b9\u306b\u306a\u308b\u3002\n\n// \u65e5\u672c\u8a9e\u304b\u3089\u82f1\u8a9e\u306b\u7ffb\u8a33\u3059\u308bURL\nString baseUrl = \"https://www.googleapis.com/language/translate/v2?key=(\u30ad\u30fc)&source=ja&target=en&q=\";\n\n// \u7ffb\u8a33\u3059\u308b\u5358\u8a9e\u3092\u8db3\u3057\u8fbc\u3080\nString url = baseUrl  + \"\u3053\u3093\u306b\u3061\u306f\u3002\u3088\u308d\u3057\u304f\u306d\u3002\";\n// SSL\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\nboolean isSsl = true;\n\n// get\u7528\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b\nHttpRequest request = HttpRequest.createGet(url, isSsl);\n// \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\nHttpResponse response = HttpHelper.HttpProc(request);\n\n// \u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u306fresponseCode\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\ncode = response.responseCode;\nif(response.responseBody != null){\n    // \u30dc\u30c7\u30a3\u306fresponseBody\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3002\u30d0\u30a4\u30c8\u914d\u5217\u306a\u306e\u3067String\u306b\u5909\u63db\n    String body = new String(response.responseBody);\n\n    // json\u3092\u30d1\u30fc\u30b9\n    Gson gson = new Gson();\n    Translated trans = gson.fromJson(body, Translated.class);\n    text = trans.data.translations[0].translatedText;\n}\n\n\u3082\u3057\u3001\u4f55\u304b\u306ejson\u3092post\u3059\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n// post\u3059\u308bURL\nString url = \"https://xxx\";\n// SSL\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\nboolean isSsl = true;\n// \u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u53d7\u3051\u308b\u304b\u3069\u3046\u304b\nboolean receivedResponse = true;\n// \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8(ms)\nint timeoutMs = 30000;\n// post\u3059\u308bjson\u6587\u5b57\u5217\nString postJson = \"{\\\"value\\\":\\\"sample value\\\"}\";\n\n// post\u7528\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b\nHttpRequest request = HttpRequest.createPostJson(url, isSsl, receivedResponse, timeoutMs, postJson);\n// \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\nHttpResponse response = HttpHelper.HttpProc(request);\n\n\n\u30a4\u30f3\u30dd\u30fc\u30c8\u6587\u306e\u8ffd\u52a0\nHTTP\u901a\u4fe1\u51e6\u7406\u3092\u81ea\u7531\u8a18\u8ff0\u30d6\u30ed\u30c3\u30af\u306b\u66f8\u304d\u3001\u305d\u306e\u307e\u307e\u30d3\u30eb\u30c9\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3002\n\n\u539f\u56e0\u306f\u3001HttpRequest\u30af\u30e9\u30b9\u3084Gson\u30af\u30e9\u30b9\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u304cimport\u6587\u3067\u8ffd\u52a0\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3002\nVstoneMagic\u3067import\u6587\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\u3001\u8ffd\u52a0\u3059\u308b\u30af\u30e9\u30b9\u3092\u9078\u629e\u3057\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u300cImport\u300d\u9805\u76ee\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\n\n\u958b\u3044\u305f\u30c0\u30a4\u30a2\u30ed\u30b0\u306b\u8ffd\u52a0\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3092\u8a18\u8f09\u3057\u3001OK\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3002\n\n\u3053\u308c\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u89e3\u6d88\u3055\u308c\u3066\u3044\u308b\u3068\u601d\u3046\u3002\n\u4eca\u56de\u4f5c\u6210\u3057\u305fHTTP\u901a\u4fe1\u7528\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306fGitHub\u306b\u3042\u3052\u305f\u3002\nSota\u3067VstoneMagic\u3092\u4f7f\u3063\u3066HTTP\u901a\u4fe1\u3092\u3059\u308b\u5834\u5408\u3001HTTP\u901a\u4fe1\u30d6\u30ed\u30c3\u30af\u3068\u3044\u3046\u3082\u306e\u306f\u7121\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e2\u3064\u65b9\u6cd5\u304c\u8003\u3048\u3089\u308c\u308b\u3002\n\n1. VstoneMagic\u3067sota\u30e9\u30a4\u30d6\u30e9\u30ea\u306eHttpHelper\u30af\u30e9\u30b9\u306eHttpProc\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\n1. Java\u3067HTTP\u901a\u4fe1\u51e6\u7406\u3092\u66f8\u3044\u3066jar\u306b\u3057\u3001VstoneMagic\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u547c\u3073\u51fa\u3059\n\n2\u306e\u65b9\u306f\u81ea\u5206\u3067\u597d\u304d\u306a\u30e9\u30a4\u30d6\u30e9\u30ea(\u50d5\u306e\u5834\u5408\u306fOkHttp3)\u3092\u4f7f\u3048\u3070\u3044\u3044\u3068\u601d\u3046\u3002\n1\u306e\u65b9\u306f\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u3060\u304c\u3001\u3042\u307e\u308a\u60c5\u5831\u304c\u306a\u3044\u306e\u3067\u3001\u3069\u3046\u4f7f\u3046\u306e\u304b\u3092\u7d39\u4ecb\u3057\u3088\u3046\u3068\u601d\u3046\u3002\n\n\u8aac\u660e\u7528\u306bGoogle Translate API\u3092\u4f7f\u7528\u3057\u305f\u304c\u3001Google Translate API\u306e\u4ed5\u69d8\u306b\u3064\u3044\u3066\u306f\u3001\u4eca\u56de\u306f\u8aac\u660e\u3057\u306a\u3044\u3002\n[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://cloud.google.com/translate/docs/getting-started?hl=ja)\u53c2\u7167\u3002\n\n\u74b0\u5883\u306f\u3044\u3064\u3082\u901a\u308a\u3002\n\n|\u5bfe\u8c61|OS\u3001\u30d0\u30fc\u30b8\u30e7\u30f3|\n|:--|:--|\n|PC|Windows10 x64|\n|Sota|1.6.0|\n|VstoneMagic|1.0.6156.22367(VstoneMagic_update20170126)|\n|VstoneMagic\u306eSota\u30e9\u30a4\u30d6\u30e9\u30ea|1.6.0|\n\n# VstoneMagic\u3067\u306e\u4eca\u56de\u306e\u69cb\u6210\n\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u3068\u767a\u8a71\u7528\u30c6\u30ad\u30b9\u30c8\u306e\u5909\u6570\u30d6\u30ed\u30c3\u30af\u3068\u3001HTTP\u901a\u4fe1\u51e6\u7406\u3092\u8a18\u8ff0\u3059\u308b\u81ea\u7531\u8a18\u8ff0\u30d6\u30ed\u30c3\u30af\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u3092\u898b\u3066\u51e6\u7406\u3092\u5206\u3051\u308b\u305f\u3081\u306eif\u30d6\u30ed\u30c3\u30af\u3001\u767a\u8a71\u7528\u30c6\u30ad\u30b9\u30c8\u3092\u767a\u8a71\u3059\u308b\u767a\u8a71\u30d6\u30ed\u30c3\u30af\u306e\u69cb\u6210\u306b\u3057\u305f\u3002\n![000.PNG](https://qiita-image-store.s3.amazonaws.com/0/141310/9c8d23c0-e6ab-7bcc-13de-6feb2a2dd829.png)\n\n\n# HTTP\u901a\u4fe1\u51e6\u7406\n\u6700\u521d\u306b\u3082\u66f8\u3044\u305f\u304c\u3001HTTP\u901a\u4fe1\u30d6\u30ed\u30c3\u30af\u3068\u3044\u3046\u3082\u306e\u306f\u7121\u3044\u305f\u3081\u3001HTTP\u901a\u4fe1\u51e6\u7406\u306f\u81ea\u7531\u8a18\u8ff0\u30d6\u30ed\u30c3\u30af\u306b\u66f8\u3044\u3066\u3044\u304f\u3002\nGoogle Translate API\u3092\u4f7f\u3063\u3066\u3001get\u3059\u308b\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\nTranslated\u30af\u30e9\u30b9\u306fAPI\u4ed5\u69d8\u306b\u57fa\u3065\u3044\u3066\u81ea\u5206\u3067\u4f5c\u6210\u3057\u305f\u3001\u30d1\u30fc\u30b9\u7528\u30af\u30e9\u30b9\u306b\u306a\u308b\u3002\n![001.PNG](https://qiita-image-store.s3.amazonaws.com/0/141310/6ae98db1-71d7-b39f-b0e4-8fc94218085b.png)\n\n\n```java\n// \u65e5\u672c\u8a9e\u304b\u3089\u82f1\u8a9e\u306b\u7ffb\u8a33\u3059\u308bURL\nString baseUrl = \"https://www.googleapis.com/language/translate/v2?key=(\u30ad\u30fc)&source=ja&target=en&q=\";\n\n// \u7ffb\u8a33\u3059\u308b\u5358\u8a9e\u3092\u8db3\u3057\u8fbc\u3080\nString url = baseUrl  + \"\u3053\u3093\u306b\u3061\u306f\u3002\u3088\u308d\u3057\u304f\u306d\u3002\";\n// SSL\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\nboolean isSsl = true;\n\n// get\u7528\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b\nHttpRequest request = HttpRequest.createGet(url, isSsl);\n// \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\nHttpResponse response = HttpHelper.HttpProc(request);\n\n// \u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u306fresponseCode\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\ncode = response.responseCode;\nif(response.responseBody != null){\n    // \u30dc\u30c7\u30a3\u306fresponseBody\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3002\u30d0\u30a4\u30c8\u914d\u5217\u306a\u306e\u3067String\u306b\u5909\u63db\n    String body = new String(response.responseBody);\n\n    // json\u3092\u30d1\u30fc\u30b9\n    Gson gson = new Gson();\n    Translated trans = gson.fromJson(body, Translated.class);\n    text = trans.data.translations[0].translatedText;\n}\n```\n\n\n\u3082\u3057\u3001\u4f55\u304b\u306ejson\u3092post\u3059\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n```java\n// post\u3059\u308bURL\nString url = \"https://xxx\";\n// SSL\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\nboolean isSsl = true;\n// \u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u53d7\u3051\u308b\u304b\u3069\u3046\u304b\nboolean receivedResponse = true;\n// \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8(ms)\nint timeoutMs = 30000;\n// post\u3059\u308bjson\u6587\u5b57\u5217\nString postJson = \"{\\\"value\\\":\\\"sample value\\\"}\";\n\n// post\u7528\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b\nHttpRequest request = HttpRequest.createPostJson(url, isSsl, receivedResponse, timeoutMs, postJson);\n// \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\nHttpResponse response = HttpHelper.HttpProc(request);\n```\n\n# \u30a4\u30f3\u30dd\u30fc\u30c8\u6587\u306e\u8ffd\u52a0\nHTTP\u901a\u4fe1\u51e6\u7406\u3092\u81ea\u7531\u8a18\u8ff0\u30d6\u30ed\u30c3\u30af\u306b\u66f8\u304d\u3001\u305d\u306e\u307e\u307e\u30d3\u30eb\u30c9\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3002\n![002.PNG](https://qiita-image-store.s3.amazonaws.com/0/141310/9c382b77-38fc-5b28-14d5-6d37b1458739.png)\n\n\u539f\u56e0\u306f\u3001HttpRequest\u30af\u30e9\u30b9\u3084Gson\u30af\u30e9\u30b9\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u304cimport\u6587\u3067\u8ffd\u52a0\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3002\nVstoneMagic\u3067import\u6587\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\u3001\u8ffd\u52a0\u3059\u308b\u30af\u30e9\u30b9\u3092\u9078\u629e\u3057\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u300cImport\u300d\u9805\u76ee\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\n![003_2.PNG](https://qiita-image-store.s3.amazonaws.com/0/141310/0023a21e-fcdc-96cc-5558-f5a20eec8189.png)\n\n\u958b\u3044\u305f\u30c0\u30a4\u30a2\u30ed\u30b0\u306b\u8ffd\u52a0\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3092\u8a18\u8f09\u3057\u3001OK\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3002\n![004.PNG](https://qiita-image-store.s3.amazonaws.com/0/141310/5af2282a-77d2-3ed0-f103-c86f708e62f3.png)\n\n\u3053\u308c\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u89e3\u6d88\u3055\u308c\u3066\u3044\u308b\u3068\u601d\u3046\u3002\n\n\n\u4eca\u56de\u4f5c\u6210\u3057\u305fHTTP\u901a\u4fe1\u7528\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306f[GitHub](https://github.com/scarviz/HttpRequestSample)\u306b\u3042\u3052\u305f\u3002\n"}