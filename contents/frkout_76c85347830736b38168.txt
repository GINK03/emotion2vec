{"context": " More than 1 year has passed since last update.OSX\u3067\u64ec\u4f3c\u5206\u6563\u30e2\u30fc\u30c9\u306eApacheHadoop2.7.0\u3092\u52d5\u304b\u3059 \u3067\u69cb\u7bc9\u3057\u305fHadoop\u3067\u3001Apache Flink \u3092\u52d5\u4f5c\u3055\u305b\u305f\u30e1\u30e2\n\nFlink\u3063\u3066\u306a\u306b\uff1f\n\nApache Flink 0.8.0\u30ea\u30ea\u30fc\u30b9\uff0c2015\u5e74\u306e\u30ed\u30fc\u30c9\u30de\u30c3\u30d7\u3092\u516c\u958b\n\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 & \u5c55\u958b\nhttps://flink.apache.org/downloads.html\n\nFlink 0.9.0 for Hadoop2 \u3092\u9078\u629e\n\n\n/usr/local2/\u4ee5\u4e0b\u306b\u5c55\u958b\n$ tar zxvf ~/Download/flink-0.9.0-bin-hadoop2.tgz -C /usr/local2/\n\n\nFlink\u8d77\u52d5\u3059\u308b\n\u8d77\u52d5\u6642\u3001\u74b0\u5883\u5909\u6570\u306bHADOOP_CONF_DIR\u3092\u30bb\u30c3\u30c8\u3059\u308b\n$ HADOOP_CONF_DIR=/usr/local2/hadoop-2.7.0/etc/hadoop /usr/local2/flink-0.9.0/bin/yarn-session.sh -n 1 -jm 1024 -tm 1024 \n\n\u30ba\u30e9\u30ba\u30e9\u3068\u51fa\u529b\u3055\u308c\u308b\n20:15:47,636 WARN  org.apache.hadoop.util.NativeCodeLoader                       - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n20:15:47,739 INFO  org.apache.hadoop.yarn.client.RMProxy                         - Connecting to ResourceManager at /0.0.0.0:8032\n20:15:47,759 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Using values:\n20:15:47,760 INFO  org.apache.flink.yarn.FlinkYarnClient                         -  TaskManager count = 1\n20:15:47,760 INFO  org.apache.flink.yarn.FlinkYarnClient                         -  JobManager memory = 1024\n20:15:47,760 INFO  org.apache.flink.yarn.FlinkYarnClient                         -  TaskManager memory = 1024\n20:15:48,040 INFO  org.apache.flink.yarn.Utils                                   - Copying from file:/usr/local2/flink-0.9.0/lib/flink-dist-0.9.0.jar to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/flink-dist-0.9.0.jar\n20:15:48,966 INFO  org.apache.flink.yarn.Utils                                   - Copying from /usr/local2/flink-0.9.0/conf/flink-conf.yaml to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/flink-conf.yaml\n20:15:48,980 INFO  org.apache.flink.yarn.Utils                                   - Copying from file:/usr/local2/flink-0.9.0/lib/flink-python-0.9.0.jar to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/flink-python-0.9.0.jar\n20:15:48,990 INFO  org.apache.flink.yarn.Utils                                   - Copying from file:/usr/local2/flink-0.9.0/conf/logback.xml to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/logback.xml\n20:15:49,000 INFO  org.apache.flink.yarn.Utils                                   - Copying from file:/usr/local2/flink-0.9.0/conf/log4j.properties to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/log4j.properties\n20:15:49,018 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Submitting application master application_1435403663845_0002\n20:15:49,036 INFO  org.apache.hadoop.yarn.client.api.impl.YarnClientImpl         - Submitted application application_1435403663845_0002 to ResourceManager at /0.0.0.0:8032\n20:15:49,036 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Waiting for the cluster to be allocated\n20:15:49,038 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Deploying cluster, current state ACCEPTED\n20:15:50,042 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Deploying cluster, current state ACCEPTED\n20:15:51,047 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Deploying cluster, current state ACCEPTED\n20:15:52,051 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Deploying cluster, current state ACCEPTED\n20:15:53,055 INFO  org.apache.flink.yarn.FlinkYarnClient                         - YARN application has been deployed successfully.\n20:15:53,232 INFO  org.apache.flink.yarn.FlinkYarnCluster                        - Start actor system.\n20:15:53,236 INFO  org.apache.flink.runtime.net.NetUtils                         - Determined /192.168.100.101 as the machine's own IP address\n20:15:53,465 INFO  akka.event.slf4j.Slf4jLogger                                  - Slf4jLogger started\n20:15:53,495 INFO  Remoting                                                      - Starting remoting\n20:15:53,606 INFO  Remoting                                                      - Remoting started; listening on addresses :[akka.tcp://flink@192.168.100.101:62167]\n20:15:53,610 INFO  org.apache.flink.yarn.FlinkYarnCluster                        - Start application client.\nFlink JobManager is now running on 192.168.100.101:62160\nJobManager Web Interface: http://frkout-mbp15-l13.local:8088/proxy/application_1435403663845_0002/\nNumber of connected TaskManagers changed to 1. Slots available: 1\n\n\u51fa\u529b\u306e\u4e2d\u306b\u3042\u308bFlink JobManager WebInterface\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\nJobManager Web Interface: http://frkout-mbp15-l13.local:8088/proxy/application_1435403663845_0002/\n\n\n\nFlink\u30b8\u30e7\u30d6\u6295\u3052\u3066\u307f\u308b\nHDFS\u4e0a\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u306bExample\u306b\u3042\u308bWordCount\u3092\u304b\u3051\u3066\u307f\u308b\n$ /usr/local2/flink-0.9.0/bin/flink run /usr/local2/flink-0.9.0/examples/flink-java-examples-0.9.0-WordCount.jar hdfs://localhost:9000/user/kodai_abe/hadoop-env.sh hdfs://localhost:9000/user/kodai_abe/flink_wordcount_out\n\nJobManage WebInterface \u3067\u5b9f\u884c\u8a08\u753b\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n[OSX\u3067\u64ec\u4f3c\u5206\u6563\u30e2\u30fc\u30c9\u306eApacheHadoop2.7.0\u3092\u52d5\u304b\u3059](http://qiita.com/frkout/items/f965e166d0af529b5ce8) \u3067\u69cb\u7bc9\u3057\u305fHadoop\u3067\u3001[Apache Flink](https://flink.apache.org/) \u3092\u52d5\u4f5c\u3055\u305b\u305f\u30e1\u30e2\n\n\n## Flink\u3063\u3066\u306a\u306b\uff1f\n\n* [Apache Flink 0.8.0\u30ea\u30ea\u30fc\u30b9\uff0c2015\u5e74\u306e\u30ed\u30fc\u30c9\u30de\u30c3\u30d7\u3092\u516c\u958b](http://www.infoq.com/jp/news/2015/02/apache-flink-0.8.0-released)\n\n## \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 & \u5c55\u958b\nhttps://flink.apache.org/downloads.html\n\n* Flink 0.9.0 for Hadoop2 \u3092\u9078\u629e\n\n![](http://gyazo.com/305c13a5e703e35890fd7d3b5623bcb1.png)\n\n`/usr/local2/`\u4ee5\u4e0b\u306b\u5c55\u958b\n\n```bash\n$ tar zxvf ~/Download/flink-0.9.0-bin-hadoop2.tgz -C /usr/local2/\n```\n\n## Flink\u8d77\u52d5\u3059\u308b\n\u8d77\u52d5\u6642\u3001\u74b0\u5883\u5909\u6570\u306bHADOOP_CONF_DIR\u3092\u30bb\u30c3\u30c8\u3059\u308b\n\n```bash\n$ HADOOP_CONF_DIR=/usr/local2/hadoop-2.7.0/etc/hadoop /usr/local2/flink-0.9.0/bin/yarn-session.sh -n 1 -jm 1024 -tm 1024 \n```\n\n\u30ba\u30e9\u30ba\u30e9\u3068\u51fa\u529b\u3055\u308c\u308b\n\n```\n20:15:47,636 WARN  org.apache.hadoop.util.NativeCodeLoader                       - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n20:15:47,739 INFO  org.apache.hadoop.yarn.client.RMProxy                         - Connecting to ResourceManager at /0.0.0.0:8032\n20:15:47,759 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Using values:\n20:15:47,760 INFO  org.apache.flink.yarn.FlinkYarnClient                         - \tTaskManager count = 1\n20:15:47,760 INFO  org.apache.flink.yarn.FlinkYarnClient                         - \tJobManager memory = 1024\n20:15:47,760 INFO  org.apache.flink.yarn.FlinkYarnClient                         - \tTaskManager memory = 1024\n20:15:48,040 INFO  org.apache.flink.yarn.Utils                                   - Copying from file:/usr/local2/flink-0.9.0/lib/flink-dist-0.9.0.jar to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/flink-dist-0.9.0.jar\n20:15:48,966 INFO  org.apache.flink.yarn.Utils                                   - Copying from /usr/local2/flink-0.9.0/conf/flink-conf.yaml to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/flink-conf.yaml\n20:15:48,980 INFO  org.apache.flink.yarn.Utils                                   - Copying from file:/usr/local2/flink-0.9.0/lib/flink-python-0.9.0.jar to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/flink-python-0.9.0.jar\n20:15:48,990 INFO  org.apache.flink.yarn.Utils                                   - Copying from file:/usr/local2/flink-0.9.0/conf/logback.xml to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/logback.xml\n20:15:49,000 INFO  org.apache.flink.yarn.Utils                                   - Copying from file:/usr/local2/flink-0.9.0/conf/log4j.properties to hdfs://localhost:9000/user/kodai_abe/.flink/application_1435403663845_0002/log4j.properties\n20:15:49,018 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Submitting application master application_1435403663845_0002\n20:15:49,036 INFO  org.apache.hadoop.yarn.client.api.impl.YarnClientImpl         - Submitted application application_1435403663845_0002 to ResourceManager at /0.0.0.0:8032\n20:15:49,036 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Waiting for the cluster to be allocated\n20:15:49,038 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Deploying cluster, current state ACCEPTED\n20:15:50,042 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Deploying cluster, current state ACCEPTED\n20:15:51,047 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Deploying cluster, current state ACCEPTED\n20:15:52,051 INFO  org.apache.flink.yarn.FlinkYarnClient                         - Deploying cluster, current state ACCEPTED\n20:15:53,055 INFO  org.apache.flink.yarn.FlinkYarnClient                         - YARN application has been deployed successfully.\n20:15:53,232 INFO  org.apache.flink.yarn.FlinkYarnCluster                        - Start actor system.\n20:15:53,236 INFO  org.apache.flink.runtime.net.NetUtils                         - Determined /192.168.100.101 as the machine's own IP address\n20:15:53,465 INFO  akka.event.slf4j.Slf4jLogger                                  - Slf4jLogger started\n20:15:53,495 INFO  Remoting                                                      - Starting remoting\n20:15:53,606 INFO  Remoting                                                      - Remoting started; listening on addresses :[akka.tcp://flink@192.168.100.101:62167]\n20:15:53,610 INFO  org.apache.flink.yarn.FlinkYarnCluster                        - Start application client.\nFlink JobManager is now running on 192.168.100.101:62160\nJobManager Web Interface: http://frkout-mbp15-l13.local:8088/proxy/application_1435403663845_0002/\nNumber of connected TaskManagers changed to 1. Slots available: 1\n```\n\n\u51fa\u529b\u306e\u4e2d\u306b\u3042\u308bFlink JobManager WebInterface\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\n```\nJobManager Web Interface: http://frkout-mbp15-l13.local:8088/proxy/application_1435403663845_0002/\n```\n\n![](http://gyazo.com/b261503792f5e4bb357fdc84c6849265.png)\n\n## Flink\u30b8\u30e7\u30d6\u6295\u3052\u3066\u307f\u308b\nHDFS\u4e0a\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u306bExample\u306b\u3042\u308bWordCount\u3092\u304b\u3051\u3066\u307f\u308b\n\n```bash\n$ /usr/local2/flink-0.9.0/bin/flink run /usr/local2/flink-0.9.0/examples/flink-java-examples-0.9.0-WordCount.jar hdfs://localhost:9000/user/kodai_abe/hadoop-env.sh hdfs://localhost:9000/user/kodai_abe/flink_wordcount_out\n```\n\nJobManage WebInterface \u3067\u5b9f\u884c\u8a08\u753b\u78ba\u8a8d\u3067\u304d\u308b\u3002\n![](http://i.gyazo.com/a734034b808302b0824c2a7eecc429e4.png)\n", "tags": ["Flink", "hadoop", "YARN"]}