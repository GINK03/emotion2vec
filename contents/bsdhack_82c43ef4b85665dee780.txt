{"context": " More than 1 year has passed since last update.rpm \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u624b\u8efd\u306b\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b checkinstall \u306f\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u304c\u3001\u73fe\u884c\u306e checkinstall \u306b\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5bfe\u8c61\u306b\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3059\u308b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c\u542b\u307e\u308c\u308b\u3068rpm\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u4f5c\u6210\u3067\u304d\u306a\u304f\u306a\u308b\u4e0d\u5177\u5408\u304c\u3042\u308b\u69d8\u3067\u3059\u3002\n\u3053\u306e\u4e0d\u5177\u5408\u306f rpm \u30d1\u30c3\u30b1\u30fc\u30b8\u7528\u306e spec \u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3059\u308b\u969b\u306b\u30bf\u30fc\u30b2\u30c3\u30c8\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306a\u3089 %dir \u3068\u51fa\u529b\u3057\u3066\u3044\u308b\u305f\u3081\u306b\u767a\u751f\u3057\u3066\u3044\u307e\u3059\u3002\n\u4f8b\u3048\u3070 libhoge.so.X.Y \u3092 libhoge.so \u306b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3057\u305f\u5834\u5408\u306a\u3069\u3067 libhoge.so \u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6271\u3044\u3068\u306a\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u306b rpm \u306e\u4f5c\u6210\u3067\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u305d\u3053\u3067 /usr/sbin/checkinstall \u306b\u4ee5\u4e0b\u306e\u30d1\u30c3\u30c1\u3092\u9069\u7528\u3059\u308b\u4e8b\u3067\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u5148\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u5408\u306e\u307f %dir \u3092\u51fa\u529b\u3059\u308b\u69d8\u306b\u3057\u307e\u3059\u3002\n*** /usr/sbin/checkinstall  2014-05-21 12:29:30.000000000 +0900\n--- /tmp/checkinstall   2014-05-22 10:52:39.060456955 +0900\n***************\n*** 2428,2434 ****\n  # Prepare directories to be included in the .spec file\n  mv ${TMP_DIR}/newfiles ${TMP_DIR}/newfiles.tmp\n  cat ${TMP_DIR}/newfiles.tmp | while read line; do\n!    [ -d \"${BUILD_DIR}/${line}\" -o -L \"${BUILD_DIR}/${line}\" ] && echo -n \"%dir \" >> ${TMP_DIR}/newfiles\n     echo \"\\\"/${line}\\\"\" >> ${TMP_DIR}/newfiles\n  done\n\n--- 2428,2435 ----\n  # Prepare directories to be included in the .spec file\n  mv ${TMP_DIR}/newfiles ${TMP_DIR}/newfiles.tmp\n  cat ${TMP_DIR}/newfiles.tmp | while read line; do\n!    [ -d \"${BUILD_DIR}/${line}\" ] && echo -n \"%dir \" >> ${TMP_DIR}/newfiles\n!    [ -L \"${BUILD_DIR}/${line} -a -d `ls -l ${BUILD_DIR}/${line} | awk '$0=$NF'` ] && echo -n \"%dir\" >> ${TMP_DIR}/newfiles\n     echo \"\\\"/${line}\\\"\" >> ${TMP_DIR}/newfiles\n  done\n\n\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c\u30cd\u30b9\u30c8\u3057\u3066\u3044\u308b\u5834\u5408\u306a\u3069\u3067\u306f\u6b63\u3057\u304f\u52d5\u4f5c\u3057\u306a\u3044\u306e\u3067\u3042\u304f\u307e\u3067\u3082\u66ab\u5b9a\u7684\u306a\u30d1\u30c3\u30c1\u3068\u306a\u308a\u307e\u3059\u304c\u3001\u53d6\u308a\u3042\u3048\u305a rpm \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u305f\u3044\u5834\u5408\u306f\u6709\u7528\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\nrpm \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u624b\u8efd\u306b\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b *checkinstall* \u306f\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u304c\u3001\u73fe\u884c\u306e *checkinstall* \u306b\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5bfe\u8c61\u306b\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3059\u308b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c\u542b\u307e\u308c\u308b\u3068rpm\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u4f5c\u6210\u3067\u304d\u306a\u304f\u306a\u308b\u4e0d\u5177\u5408\u304c\u3042\u308b\u69d8\u3067\u3059\u3002\n\n\u3053\u306e\u4e0d\u5177\u5408\u306f rpm \u30d1\u30c3\u30b1\u30fc\u30b8\u7528\u306e spec \u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3059\u308b\u969b\u306b\u30bf\u30fc\u30b2\u30c3\u30c8\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306a\u3089 **%dir** \u3068\u51fa\u529b\u3057\u3066\u3044\u308b\u305f\u3081\u306b\u767a\u751f\u3057\u3066\u3044\u307e\u3059\u3002\n\u4f8b\u3048\u3070 **libhoge.so.X.Y** \u3092 **libhoge.so** \u306b\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3057\u305f\u5834\u5408\u306a\u3069\u3067 libhoge.so \u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6271\u3044\u3068\u306a\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u306b rpm \u306e\u4f5c\u6210\u3067\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\u305d\u3053\u3067 */usr/sbin/checkinstall* \u306b\u4ee5\u4e0b\u306e\u30d1\u30c3\u30c1\u3092\u9069\u7528\u3059\u308b\u4e8b\u3067\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u5148\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u5408\u306e\u307f **%dir** \u3092\u51fa\u529b\u3059\u308b\u69d8\u306b\u3057\u307e\u3059\u3002\n\n```\n*** /usr/sbin/checkinstall\t2014-05-21 12:29:30.000000000 +0900\n--- /tmp/checkinstall\t2014-05-22 10:52:39.060456955 +0900\n***************\n*** 2428,2434 ****\n  # Prepare directories to be included in the .spec file\n  mv ${TMP_DIR}/newfiles ${TMP_DIR}/newfiles.tmp\n  cat ${TMP_DIR}/newfiles.tmp | while read line; do\n!    [ -d \"${BUILD_DIR}/${line}\" -o -L \"${BUILD_DIR}/${line}\" ] && echo -n \"%dir \" >> ${TMP_DIR}/newfiles\n     echo \"\\\"/${line}\\\"\" >> ${TMP_DIR}/newfiles\n  done\n  \n--- 2428,2435 ----\n  # Prepare directories to be included in the .spec file\n  mv ${TMP_DIR}/newfiles ${TMP_DIR}/newfiles.tmp\n  cat ${TMP_DIR}/newfiles.tmp | while read line; do\n!    [ -d \"${BUILD_DIR}/${line}\" ] && echo -n \"%dir \" >> ${TMP_DIR}/newfiles\n!    [ -L \"${BUILD_DIR}/${line} -a -d `ls -l ${BUILD_DIR}/${line} | awk '$0=$NF'` ] && echo -n \"%dir\" >> ${TMP_DIR}/newfiles\n     echo \"\\\"/${line}\\\"\" >> ${TMP_DIR}/newfiles\n  done\n```\n\n\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c\u30cd\u30b9\u30c8\u3057\u3066\u3044\u308b\u5834\u5408\u306a\u3069\u3067\u306f\u6b63\u3057\u304f\u52d5\u4f5c\u3057\u306a\u3044\u306e\u3067\u3042\u304f\u307e\u3067\u3082\u66ab\u5b9a\u7684\u306a\u30d1\u30c3\u30c1\u3068\u306a\u308a\u307e\u3059\u304c\u3001\u53d6\u308a\u3042\u3048\u305a rpm \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u305f\u3044\u5834\u5408\u306f\u6709\u7528\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["rpm", "CentOS"]}