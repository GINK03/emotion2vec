{"context": " More than 1 year has passed since last update.Mac OS 10.7.5 (Lion)\nHomebrew \u3001 git \u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u524d\u63d0\u3067\u3059\u3002\n\nScala \u3068 SBT \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nScala\u3068SBT\u3092brew\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ brew scala\n$ brew sbt\n\n\nScala.js \u306e\u30b5\u30f3\u30d7\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\ngithub\u304b\u3089\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n$ git clone git@github.com:sjrd/scala-js-example-app.git\n\n\npackageJS \u5b9f\u884c\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u79fb\u52d5\u3057\u3066\u3001sbt packageJS \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ cd scala-js-example-app/\n$ sbt packageJS\n\nindex-dev.html\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3057\u307e\u3059\u3002 it works! \u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n$ open index-dev.html \n\n\noptimizeJS \u5b9f\u884c\n\u6b21\u306b sbt optimizeJS \u3067\u5727\u7e2e\u3055\u308c\u305fJS\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n$ sbt optimizeJS\n\n\u6210\u529f\u3057\u305f\u3089 index.html \u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3057\u307e\u3059\u3002 it works! \u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n$ open index.html \n\n\nOutOfMemoryError \u304c\u767a\u751f\u3057\u305f\u5834\u5408\n\u81ea\u5206\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u5834\u5408\u306f\u6b21\u306e\u64cd\u4f5c\u3092\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n[info] Optimizing /git/scala-js-example-app/target/scala-2.10/example-opt.js ...\njava.lang.RuntimeException: java.lang.OutOfMemoryError: Java heap space\n\u30fb\u30fb\u30fb\n\nsbt \u306e\u30b3\u30de\u30f3\u30c9\u3092\u8abf\u3079\u307e\u3059\u3002java\u30b3\u30de\u30f3\u30c9\u306e\u5f15\u6570\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n$ cat `which sbt`\n\n#!/bin/sh\ntest -f ~/.sbtconfig && . ~/.sbtconfig\nexec java -Xmx512M ${SBT_OPTS} -jar /usr/local/Cellar/sbt/0.13.1/libexec/sbt-launch.jar \"$@\"\n\n-Xmx512\u306e\u5024\u3092\u5909\u66f4\u3057\u305f\u3044\u306e\u3067sbt\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\nsbt\u306f\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306a\u306e\u3067\u5143\u306esbt\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u3092\u52a0\u3048\u3066\u7de8\u96c6\u3057\u307e\u3059\u3002\n\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c\u6307\u3059\u5143\u30d5\u30a1\u30a4\u30eb\u3092\u8abf\u3079\u308b\n$ ls -al /usr/local/bin/ | grep sat\n\n\nlrwxr-xr-x    1 user  admin        28  2 12 12:36 sbt -> ../Cellar/sbt/0.13.1/bin/sbt\n\n\u5143\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u304c\u3042\u308b\u304b\u8abf\u3079\u308b\n$ ls -al  /usr/local/Cellar/sbt/0.13.1/bin/sbt\n\n\n-r-xr-xr-x  1 user  admin  142  2 12 12:36 /usr/local/Cellar/sbt/0.13.1/bin/sbt\n\n\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u3092\u3064\u3051\u308b\n$ chmod 755 /usr/local/Cellar/sbt/0.13.1/bin/sbt\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b  -Xmx1024M \u3068\u4fee\u6b63\u3059\u308b\n$ sudo vi /usr/local/Cellar/sbt/0.13.1/bin/sbt\n\nexec java -Xmx1024M ${SBT_OPTS} -jar /usr/local/Cellar/sbt/0.13.1/libexec/sbt-launch.jar \"$@\"\n\n\u3064\u3044\u3067\u306b SBT_OPTS \u3067Permanent \u9818\u57df\u30b5\u30a4\u30ba\u306a\u3069\u306e\u6307\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n$ export SBT_OPTS=\"-XX:+CMSClassUnloadingEnabled -XX:PermSize=256M -XX:MaxPermSize=512M\" \n\n\u3053\u308c\u3067 $ sbt optimizeJS \u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nMac OS 10.7.5 (Lion)\nHomebrew \u3001 git \u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u524d\u63d0\u3067\u3059\u3002\n\n## Scala \u3068 SBT \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nScala\u3068SBT\u3092brew\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n$ brew scala\n$ brew sbt\n```\n\n## Scala.js \u306e\u30b5\u30f3\u30d7\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\ngithub\u304b\u3089\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```\n$ git clone git@github.com:sjrd/scala-js-example-app.git\n```\n\n## packageJS \u5b9f\u884c\n\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u79fb\u52d5\u3057\u3066\u3001sbt packageJS \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n$ cd scala-js-example-app/\n$ sbt packageJS\n```\n\nindex-dev.html\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3057\u307e\u3059\u3002 it works! \u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n\n```\n$ open index-dev.html \n```\n\n## optimizeJS \u5b9f\u884c\n\n\u6b21\u306b sbt optimizeJS \u3067\u5727\u7e2e\u3055\u308c\u305fJS\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```\n$ sbt optimizeJS\n```\n\n\u6210\u529f\u3057\u305f\u3089 index.html \u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3057\u307e\u3059\u3002 it works! \u3068\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n\n```\n$ open index.html \n```\n\n## OutOfMemoryError \u304c\u767a\u751f\u3057\u305f\u5834\u5408\n\n\u81ea\u5206\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u5834\u5408\u306f\u6b21\u306e\u64cd\u4f5c\u3092\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n>\n[info] Optimizing /git/scala-js-example-app/target/scala-2.10/example-opt.js ...\njava.lang.RuntimeException: java.lang.OutOfMemoryError: Java heap space\n\u30fb\u30fb\u30fb\n\n\nsbt \u306e\u30b3\u30de\u30f3\u30c9\u3092\u8abf\u3079\u307e\u3059\u3002java\u30b3\u30de\u30f3\u30c9\u306e\u5f15\u6570\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n```\n$ cat `which sbt`\n```\n\n```\n#!/bin/sh\ntest -f ~/.sbtconfig && . ~/.sbtconfig\nexec java -Xmx512M ${SBT_OPTS} -jar /usr/local/Cellar/sbt/0.13.1/libexec/sbt-launch.jar \"$@\"\n```\n\n-Xmx512\u306e\u5024\u3092\u5909\u66f4\u3057\u305f\u3044\u306e\u3067sbt\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\nsbt\u306f\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306a\u306e\u3067\u5143\u306esbt\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u3092\u52a0\u3048\u3066\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n\n\n\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c\u6307\u3059\u5143\u30d5\u30a1\u30a4\u30eb\u3092\u8abf\u3079\u308b\n\n```\n$ ls -al /usr/local/bin/ | grep sat\n```\n\n>\nlrwxr-xr-x    1 user  admin        28  2 12 12:36 sbt -> ../Cellar/sbt/0.13.1/bin/sbt\n\n\u5143\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u304c\u3042\u308b\u304b\u8abf\u3079\u308b\n\n\n```\n$ ls -al  /usr/local/Cellar/sbt/0.13.1/bin/sbt\n```\n\n>\n-r-xr-xr-x  1 user  admin  142  2 12 12:36 /usr/local/Cellar/sbt/0.13.1/bin/sbt\n\n\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u3092\u3064\u3051\u308b\n\n```\n$ chmod 755 /usr/local/Cellar/sbt/0.13.1/bin/sbt\n```\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b  -Xmx1024M \u3068\u4fee\u6b63\u3059\u308b\n\n```\n$ sudo vi /usr/local/Cellar/sbt/0.13.1/bin/sbt\n```\n\n```\nexec java -Xmx1024M ${SBT_OPTS} -jar /usr/local/Cellar/sbt/0.13.1/libexec/sbt-launch.jar \"$@\"\n```\n\n\n\u3064\u3044\u3067\u306b SBT_OPTS \u3067Permanent \u9818\u57df\u30b5\u30a4\u30ba\u306a\u3069\u306e\u6307\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n```\n$ export SBT_OPTS=\"-XX:+CMSClassUnloadingEnabled -XX:PermSize=256M -XX:MaxPermSize=512M\" \n```\n\n\u3053\u308c\u3067 `$ sbt optimizeJS` \u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\n\n\n", "tags": ["Scala.js", "altjs", "Scala"]}