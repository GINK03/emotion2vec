{"context": " More than 1 year has passed since last update.\u5b9f\u73fe\u3057\u305f\u3044\u3053\u3068\u306f\u30bf\u30a4\u30c8\u30eb\u306e\u901a\u308a\u3067\u3059\u3002\u4f7f\u3044\u3069\u3053\u308d\u3068\u3057\u3066\u306f\u3001\u4f8b\u3048\u3070\u304a\u663c\u3084\u5c31\u696d\u6642\u9593\u306e\u5b9a\u6642\u306b\u306a\u3063\u305f\u3089\u30c1\u30e3\u30c3\u30c8\u30eb\u30fc\u30e0\u306b\u901a\u77e5\u3001\u3068\u304b\u3067\u3057\u3087\u3046\u304b\u3002\n\u3082\u3057\u304f\u306f\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u306b\u304a\u3044\u3066\u3001\u3082\u3057\u5b9a\u671f\u7684\u306b\u5b9f\u65bd\u3059\u308b\u30bf\u30b9\u30af\u304c\u3042\u308c\u3070\u901a\u77e5\u3059\u308b\u3068\u304b\u3002\u30bf\u30b9\u30af\u81ea\u4f53\u3092 Hubot \u306b\u3084\u3089\u305b\u3066\u3082\u3044\u3044\u3067\u3059\u306d\u3002\n\u3053\u308c\u3089\u306f Node.js \u306e node-cron \u3092\u5229\u7528\u3059\u308c\u3070\u7c21\u5358\u306b\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\nHubot \u306e\u4f5c\u308a\u65b9\u3084\u74b0\u5883\u307e\u308f\u308a(Heroku \u3084 Yeoman)\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u524d\u306b\u66f8\u3044\u305f\u6295\u7a3f\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u21d2 Hubot \u3092 Twitter \u306e\u516c\u958b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306b\u4f4f\u307e\u308f\u305b\u308b\n\u21d2 Yoeman \u3067 Hubot \u3092\u4f5c\u6210\u3057\u3066 Heroku \u3078\u30c7\u30d7\u30ed\u30a4\u3057 Slack \u3068\u9023\u643a\u3059\u308b\ncron \u306f\u3001Node.js \u7528\u306e\u3053\u308c\u3092\u4f7f\u3044\u307e\u3059\u3002\u73fe\u6642\u70b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 1.0.5 \u3067\u3059\u3002\n\u21d2 https://github.com/ncb000gt/node-cron\n\n\u624b\u9806\n\nnode-cron \u306e npm \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5c0e\u5165\nYoeman \u3067 \u96db\u5f62\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001package.json \u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\npackage.json\n{\n  \"name\": \"hubot-twibot\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"author\": \"Hiroyuki Kusu <kusu0806@gmail.com>\",\n  \"description\": \"A simple helpful robot for your Company\",\n  \"dependencies\": {\n    \"hubot\": \"^2.9.3\",\n    \"hubot-diagnostics\": \"0.0.1\",\n    \"hubot-google-images\": \"^0.1.0\",\n    \"hubot-google-translate\": \"^0.1.0\",\n    \"hubot-help\": \"^0.1.1\",\n    \"hubot-heroku-keepalive\": \"0.0.4\",\n    \"hubot-maps\": \"0.0.0\",\n    \"hubot-pugme\": \"^0.1.0\",\n    \"hubot-redis-brain\": \"0.0.2\",\n    \"hubot-rules\": \"^0.1.0\",\n    \"hubot-scripts\": \"^2.5.16\",\n    \"hubot-shipit\": \"^0.1.1\",\n    \"hubot-youtube\": \"^0.1.2\",\n+    \"cron\": \"^1.0.5\"\n  },\n  \"engines\": {\n    \"node\": \"0.10.x\"\n  }\n}\n\n\n\u8ffd\u8a18\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u305f\u3089\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u3067 $ npm install \u3057\u307e\u3059\u3002\n\ncron \u306e\u30b8\u30e7\u30d6\u3068\u3001\u5b9f\u884c\u3055\u305b\u305f\u3044\u30bf\u30b9\u30af\u3092\u8a18\u8f09\u3059\u308b\nCronJob \u30af\u30e9\u30b9\u3092\u5192\u982d\u3067 require \u3057\u3001\u3053\u308c\u3092 new \u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u969b\u306b\u5f15\u6570\u3067\u3001\u30b8\u30e7\u30d6\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\nscripts/cron_tweet.coffee\nCronJob = require(\"cron\").CronJob\n\ntaskA = ->\n  console.log \"This is task A\"\n  # ..\n\ntaskB = ->\n  console.log \"This is task B\"\n  #..\n\ntaskC = ->\n  console.log \"This is task C\"\n  #..\n\njob = new CronJob(\n  cronTime: \"*/10 * * * * *\"\n  onTick: ->\n    taskA()\n    taskB()\n    taskC()\n    return\n  start: false\n)\n\n\ncronTime \u30ad\u30fc\u306e\u5024\u306b\u3001\u30b9\u30da\u30fc\u30b9\u533a\u5207\u308a\u3067\u300c\u79d2\u300d\u300c\u5206\u300d\u300c\u6642\u300d\u300c\u65e5\u300d\u300c\u6708\u300d\u300c\u9031\u300d\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\n\n\u8a73\u3057\u304f\u306f node-cron \u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\u21d2 https://github.com/ncb000gt/node-cron\n\nonTick \u30ad\u30fc\u306e\u5024(function)\u3067\u3001\u5b9f\u884c\u3057\u305f\u3044\u30bf\u30b9\u30af\u3092\u7f85\u5217\u3059\u308c\u3070OK\u3067\u3059\u3002\n\u3082\u3057\u30c1\u30e3\u30c3\u30c8\u7d4c\u7531\u3067 cron \u30b8\u30e7\u30d6\u306e\u958b\u59cb/\u505c\u6b62\u3092\u6307\u793a\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b robot.respond \u3092\u5951\u6a5f\u3068\u3057\u3066 job.start() job.stop() \u3092\u3059\u308c\u3070\u3044\u3044\u3067\u3059\u3002\n\nscripts/cron_tweet.coffee\n\u301c\n\nmodule.exports = (robot) ->\n\n  robot.respond /start job/i, (msg) ->\n    msg.send \"Start job..\"\n    job.start()\n\n  robot.respond /stop job/i, (msg) ->\n    msg.send \"Stop job..\"\n    job.stop()\n\n\n\u3082\u3057\u81ea\u52d5\u3067 \u30b8\u30e7\u30d6\u3092\u958b\u59cb\u3057\u305f\u3044\u5834\u5408\u306f\u3001CronJob \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u306e\u5f15\u6570\u3067\u3001start \u30ad\u30fc\u306e\u5024\u306b true \u3092\u6307\u5b9a\u3057\u3066\u304a\u3051\u3070OK\u3067\u3059\u3002\n\u301c\u304a\u3057\u307e\u3044\u301c\n\n\u5b9f\u73fe\u3057\u305f\u3044\u3053\u3068\u306f\u30bf\u30a4\u30c8\u30eb\u306e\u901a\u308a\u3067\u3059\u3002\u4f7f\u3044\u3069\u3053\u308d\u3068\u3057\u3066\u306f\u3001\u4f8b\u3048\u3070\u304a\u663c\u3084\u5c31\u696d\u6642\u9593\u306e\u5b9a\u6642\u306b\u306a\u3063\u305f\u3089\u30c1\u30e3\u30c3\u30c8\u30eb\u30fc\u30e0\u306b\u901a\u77e5\u3001\u3068\u304b\u3067\u3057\u3087\u3046\u304b\u3002\n\u3082\u3057\u304f\u306f\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u306b\u304a\u3044\u3066\u3001\u3082\u3057\u5b9a\u671f\u7684\u306b\u5b9f\u65bd\u3059\u308b\u30bf\u30b9\u30af\u304c\u3042\u308c\u3070\u901a\u77e5\u3059\u308b\u3068\u304b\u3002\u30bf\u30b9\u30af\u81ea\u4f53\u3092 Hubot \u306b\u3084\u3089\u305b\u3066\u3082\u3044\u3044\u3067\u3059\u306d\u3002\n\n\u3053\u308c\u3089\u306f Node.js \u306e node-cron \u3092\u5229\u7528\u3059\u308c\u3070\u7c21\u5358\u306b\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n\nHubot \u306e\u4f5c\u308a\u65b9\u3084\u74b0\u5883\u307e\u308f\u308a(Heroku \u3084 Yeoman)\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u524d\u306b\u66f8\u3044\u305f\u6295\u7a3f\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u21d2 [Hubot \u3092 Twitter \u306e\u516c\u958b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306b\u4f4f\u307e\u308f\u305b\u308b](http://qiita.com/hkusu/items/36ce56f3df4e7a0937cb)\n\u21d2 [Yoeman \u3067 Hubot \u3092\u4f5c\u6210\u3057\u3066 Heroku \u3078\u30c7\u30d7\u30ed\u30a4\u3057 Slack \u3068\u9023\u643a\u3059\u308b](http://qiita.com/hkusu/items/1dc7db9607ab8cb35150)\n\ncron \u306f\u3001Node.js \u7528\u306e\u3053\u308c\u3092\u4f7f\u3044\u307e\u3059\u3002\u73fe\u6642\u70b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f `1.0.5` \u3067\u3059\u3002\n\u21d2 https://github.com/ncb000gt/node-cron\n\n# \u624b\u9806\n\n## node-cron \u306e npm \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5c0e\u5165\n\nYoeman \u3067 \u96db\u5f62\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001`package.json` \u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```diff:package.json\n{\n  \"name\": \"hubot-twibot\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"author\": \"Hiroyuki Kusu <kusu0806@gmail.com>\",\n  \"description\": \"A simple helpful robot for your Company\",\n  \"dependencies\": {\n    \"hubot\": \"^2.9.3\",\n    \"hubot-diagnostics\": \"0.0.1\",\n    \"hubot-google-images\": \"^0.1.0\",\n    \"hubot-google-translate\": \"^0.1.0\",\n    \"hubot-help\": \"^0.1.1\",\n    \"hubot-heroku-keepalive\": \"0.0.4\",\n    \"hubot-maps\": \"0.0.0\",\n    \"hubot-pugme\": \"^0.1.0\",\n    \"hubot-redis-brain\": \"0.0.2\",\n    \"hubot-rules\": \"^0.1.0\",\n    \"hubot-scripts\": \"^2.5.16\",\n    \"hubot-shipit\": \"^0.1.1\",\n    \"hubot-youtube\": \"^0.1.2\",\n+    \"cron\": \"^1.0.5\"\n  },\n  \"engines\": {\n    \"node\": \"0.10.x\"\n  }\n}\n```\n\n\u8ffd\u8a18\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u305f\u3089\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u3067 `$ npm install` \u3057\u307e\u3059\u3002\n\n## cron \u306e\u30b8\u30e7\u30d6\u3068\u3001\u5b9f\u884c\u3055\u305b\u305f\u3044\u30bf\u30b9\u30af\u3092\u8a18\u8f09\u3059\u308b\n\n`CronJob` \u30af\u30e9\u30b9\u3092\u5192\u982d\u3067 require \u3057\u3001\u3053\u308c\u3092 new \u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u969b\u306b\u5f15\u6570\u3067\u3001\u30b8\u30e7\u30d6\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n```scripts/cron_tweet.coffee\nCronJob = require(\"cron\").CronJob\n\ntaskA = ->\n  console.log \"This is task A\"\n  # ..\n\ntaskB = ->\n  console.log \"This is task B\"\n  #..\n\ntaskC = ->\n  console.log \"This is task C\"\n  #..\n\njob = new CronJob(\n  cronTime: \"*/10 * * * * *\"\n  onTick: ->\n    taskA()\n    taskB()\n    taskC()\n    return\n  start: false\n)\n```\n\n`cronTime` \u30ad\u30fc\u306e\u5024\u306b\u3001\u30b9\u30da\u30fc\u30b9\u533a\u5207\u308a\u3067\u300c\u79d2\u300d\u300c\u5206\u300d\u300c\u6642\u300d\u300c\u65e5\u300d\u300c\u6708\u300d\u300c\u9031\u300d\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\n\n> \u8a73\u3057\u304f\u306f node-cron \u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n> \u21d2 https://github.com/ncb000gt/node-cron\n\n`onTick` \u30ad\u30fc\u306e\u5024(function)\u3067\u3001\u5b9f\u884c\u3057\u305f\u3044\u30bf\u30b9\u30af\u3092\u7f85\u5217\u3059\u308c\u3070OK\u3067\u3059\u3002\n\n\n\u3082\u3057\u30c1\u30e3\u30c3\u30c8\u7d4c\u7531\u3067 cron \u30b8\u30e7\u30d6\u306e\u958b\u59cb/\u505c\u6b62\u3092\u6307\u793a\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b `robot.respond` \u3092\u5951\u6a5f\u3068\u3057\u3066 `job.start()` `job.stop()` \u3092\u3059\u308c\u3070\u3044\u3044\u3067\u3059\u3002\n\n```scripts/cron_tweet.coffee\n\u301c\n\nmodule.exports = (robot) ->\n\n  robot.respond /start job/i, (msg) ->\n    msg.send \"Start job..\"\n    job.start()\n\n  robot.respond /stop job/i, (msg) ->\n    msg.send \"Stop job..\"\n    job.stop()\n```\n\n\u3082\u3057\u81ea\u52d5\u3067 \u30b8\u30e7\u30d6\u3092\u958b\u59cb\u3057\u305f\u3044\u5834\u5408\u306f\u3001`CronJob` \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u306e\u5f15\u6570\u3067\u3001`start` \u30ad\u30fc\u306e\u5024\u306b `true` \u3092\u6307\u5b9a\u3057\u3066\u304a\u3051\u3070OK\u3067\u3059\u3002\n\n\u301c\u304a\u3057\u307e\u3044\u301c\n", "tags": ["Node.js", "Hubot"]}