{"context": " More than 1 year has passed since last update.\u305d\u306e2\u307e\u3067\u306fDB\u3068\u306e\u3084\u308a\u53d6\u308a\u304c\u4e2d\u5fc3\u3060\u3063\u305f\u306e\u3067\u3001\u5b9f\u969b\u306b\u53d6\u308a\u51fa\u3057\u305f\u5024\u3092\u52a0\u5de5\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u5b9f\u88c5\u3057\u3066\u304a\u304d\u307e\u3059\u3002MongoDB\u306b\u304a\u3044\u3066\u3001\u5024\u3092\u5b9f\u969b\u306b\u53d6\u308a\u51fa\u3059\u3068bson\u5f62\u6210\u306b\u306a\u308b\u306e\u3067\u3053\u308c\u3092\u52a0\u5de5\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u5143\u306e\u69cb\u9020\u4f53\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u76f4\u3059\u307e\u3059\u3002\u5b9f\u969b\u306bDB\u306b\u767b\u9332\u3059\u308b\u69cb\u9020\u4f53\u306f\u4eca\u307e\u3067\u306e\u3088\u3046\u306b\u4ee5\u4e0b\u3068\u306a\u308a\u307e\u3059\u3002\n\nperson.go\nackage models\n\nimport (\n    \"labix.org/v2/mgo/bson\"\n)\n\nvar (\n    err error\n)\n\ntype Person struct {\n    PersonID     bson.ObjectId `bson:\"_id,omitempty\" json:\"-\"`\n    FirstName    string        `bson:\"firstName\" json:\"firstName\"`\n    LastName     string        `bson:\"lastName\" json:\"lastName\"`\n    Nickname     string        `bson:\"nickname\" json:\"nickname\"`\n    Email        string        `bson:\"email\" json:\"email\"`\n    SecurityCode int           `bson:\"securityCode\" json:\"securityCode\"`\n}\n\n\n\u3000\u6b21\u306b\u53d6\u308a\u51fa\u3057\u305fbson\u30c7\u30fc\u30bf\u3092Person\u69cb\u9020\u4f53\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002\u65b9\u6cd5\u3068\u3057\u3066\u306fbson\u30c7\u30fc\u30bf\u3092json\u306b\u5909\u63db\u3057\u3001\u305d\u306e\u5f8cPerson\u69cb\u9020\u4f53\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002\n\nsession.go\n\npackage controllers\n\nimport (\n    \"github.com/robfig/revel\"\n    \"encoding/json\"\n    \"labix.org/v2/mgo/bson\"\n    \"testApp/app/models\"\n)\n\nfunc DecordingBSONtoJSON(bsonData interface{}) models.Person {\n    rawJsonData, err := json.Marshal(bsonData)\n    if err != nil {\n        panic(err)\n    }\n\n    var person models.Person\n    err = json.Unmarshal(rawJsonData, &person)\n    if err != err {\n        panic(err)\n    }\n\n    return person\n}\n\n\nbsonData\u306fDB\u304b\u3089\u6301\u3063\u3066\u304d\u305fbson\u30c7\u30fc\u30bf\u3067\u3059\u3002\u305d\u308c\u3092json.Marshal(xxx)\u3067[]byte\u306b\u5909\u63db\u3057\u3001\u305d\u306e\u5f8cjson.Unmarshal(yyy)\u3067Person\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u3066\u5b8c\u4e86\u3067\u3059\u3002\u5c11\u3057\u56de\u308a\u304f\u3069\u3044\u3067\u3059\u304c\u4e00\u5fdc\u6a5f\u80fd\u3068\u3057\u3066\u306f\u554f\u984c\u306a\u304f\u52d5\u4f5c\u3057\u307e\u3057\u305f\u3002\n \u305d\u306e2\u307e\u3067\u306fDB\u3068\u306e\u3084\u308a\u53d6\u308a\u304c\u4e2d\u5fc3\u3060\u3063\u305f\u306e\u3067\u3001\u5b9f\u969b\u306b\u53d6\u308a\u51fa\u3057\u305f\u5024\u3092\u52a0\u5de5\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u5b9f\u88c5\u3057\u3066\u304a\u304d\u307e\u3059\u3002MongoDB\u306b\u304a\u3044\u3066\u3001\u5024\u3092\u5b9f\u969b\u306b\u53d6\u308a\u51fa\u3059\u3068bson\u5f62\u6210\u306b\u306a\u308b\u306e\u3067\u3053\u308c\u3092\u52a0\u5de5\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u5143\u306e\u69cb\u9020\u4f53\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u76f4\u3059\u307e\u3059\u3002\u5b9f\u969b\u306bDB\u306b\u767b\u9332\u3059\u308b\u69cb\u9020\u4f53\u306f\u4eca\u307e\u3067\u306e\u3088\u3046\u306b\u4ee5\u4e0b\u3068\u306a\u308a\u307e\u3059\u3002\n\n```Go:person.go\nackage models\n\nimport (\n\t\"labix.org/v2/mgo/bson\"\n)\n\nvar (\n\terr error\n)\n\ntype Person struct {\n\tPersonID     bson.ObjectId `bson:\"_id,omitempty\" json:\"-\"`\n\tFirstName    string        `bson:\"firstName\" json:\"firstName\"`\n\tLastName     string        `bson:\"lastName\" json:\"lastName\"`\n\tNickname     string        `bson:\"nickname\" json:\"nickname\"`\n\tEmail        string        `bson:\"email\" json:\"email\"`\n\tSecurityCode int           `bson:\"securityCode\" json:\"securityCode\"`\n}\n```\n\u3000\u6b21\u306b\u53d6\u308a\u51fa\u3057\u305fbson\u30c7\u30fc\u30bf\u3092Person\u69cb\u9020\u4f53\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002\u65b9\u6cd5\u3068\u3057\u3066\u306fbson\u30c7\u30fc\u30bf\u3092json\u306b\u5909\u63db\u3057\u3001\u305d\u306e\u5f8cPerson\u69cb\u9020\u4f53\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002\n\n```Go:session.go\n\npackage controllers\n\nimport (\n\t\"github.com/robfig/revel\"\n\t\"encoding/json\"\n\t\"labix.org/v2/mgo/bson\"\n\t\"testApp/app/models\"\n)\n\nfunc DecordingBSONtoJSON(bsonData interface{}) models.Person {\n\trawJsonData, err := json.Marshal(bsonData)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tvar person models.Person\n\terr = json.Unmarshal(rawJsonData, &person)\n\tif err != err {\n\t\tpanic(err)\n\t}\n\n\treturn person\n}\n```\n bsonData\u306fDB\u304b\u3089\u6301\u3063\u3066\u304d\u305fbson\u30c7\u30fc\u30bf\u3067\u3059\u3002\u305d\u308c\u3092json.Marshal(xxx)\u3067[]byte\u306b\u5909\u63db\u3057\u3001\u305d\u306e\u5f8cjson.Unmarshal(yyy)\u3067Person\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u3066\u5b8c\u4e86\u3067\u3059\u3002\u5c11\u3057\u56de\u308a\u304f\u3069\u3044\u3067\u3059\u304c\u4e00\u5fdc\u6a5f\u80fd\u3068\u3057\u3066\u306f\u554f\u984c\u306a\u304f\u52d5\u4f5c\u3057\u307e\u3057\u305f\u3002\n", "tags": ["Go", "Revel", "MongoDB"]}