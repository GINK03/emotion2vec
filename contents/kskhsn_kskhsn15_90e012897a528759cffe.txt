{"context": "\n\nWriteableBitmap\u3092\u66f4\u65b0\u3059\u308b\u65b9\u6cd5\nWPF\u3067Livet\u3068\u304b\u3067WriteableBitmap\u3092\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u3044\u308b\u3068\u304d\u306b\n\u8868\u793a\u753b\u50cf\u3092\u66f8\u304d\u63db\u3048\u308b\u65b9\u6cd5\n\u624b\u9806\u3068\u3057\u3066\u306f\n1. \u753b\u50cf\u3092\u4f5c\u6210\n\u3000\u3000\u65e2\u5b58\u3092\u66f4\u65b0\u3059\u308b\u5834\u5408\u306f\u7701\u7565\u53ef\n2. \u753b\u50cf\u30c7\u30fc\u30bf\u3092\u66f4\u65b0\n\u3000\u3000BackBuffer\u3067\u30dd\u30a4\u30f3\u30bf\u30fc\u3092\u53d7\u3051\u53d6\u3063\u3066\u4e2d\u8eab\u3092\u76f4\u63a5\u66f4\u65b0\n3. \u66f4\u65b0\u7b87\u6240\u306e\u901a\u77e5\n\u3000\u3000AddDirtyRect\u3092\u547c\u3093\u3067\u66f4\u65b0\u7b87\u6240\u3092\u8a2d\u5b9a\n   \u30b5\u30f3\u30d7\u30eb\u306f\u753b\u9762\u5168\u4f53\u3092\u66f4\u65b0\n\u30b5\u30f3\u30d7\u30eb\n\n//1.\u9069\u5f53\u306b\u753b\u50cf\u3092\u4f5c\u6210\nvar image= new WriteableBitmap(width, height, 96, 96, PixelFormats.Gray8, BitmapPalettes.Gray256);            \nimage.Lock();\nunsafe\n{\n    //2.\u3053\u306e\u8fba\u3067\u753b\u50cf\u3092\u3044\u3058\u308b\n    byte* dp = (byte*)image.BackBuffer;\n  \u3000\u7701\u7565\n}\n//3.\u3053\u3053\u3067\u5165\u308c\u305f\u30b5\u30a4\u30ba\u306e\u9818\u57df\u304c\u66f4\u65b0\u3055\u308c\u308b\u3002\u3053\u3053\u304c\u306a\u3044\u3068\u771f\u3063\u9ed2\u3002\nimage.AddDirtyRect(new System.Windows.Int32Rect(0, 0, image.PixelWidth, image.PixelHeight));\nimage.Unlock();\n\n# WriteableBitmap\u3092\u66f4\u65b0\u3059\u308b\u65b9\u6cd5\n\nWPF\u3067Livet\u3068\u304b\u3067WriteableBitmap\u3092\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u3044\u308b\u3068\u304d\u306b\n\u8868\u793a\u753b\u50cf\u3092\u66f8\u304d\u63db\u3048\u308b\u65b9\u6cd5\n\n\u624b\u9806\u3068\u3057\u3066\u306f\n1. \u753b\u50cf\u3092\u4f5c\u6210\n\u3000\u3000\u65e2\u5b58\u3092\u66f4\u65b0\u3059\u308b\u5834\u5408\u306f\u7701\u7565\u53ef\n2. \u753b\u50cf\u30c7\u30fc\u30bf\u3092\u66f4\u65b0\n\u3000\u3000BackBuffer\u3067\u30dd\u30a4\u30f3\u30bf\u30fc\u3092\u53d7\u3051\u53d6\u3063\u3066\u4e2d\u8eab\u3092\u76f4\u63a5\u66f4\u65b0\n3. \u66f4\u65b0\u7b87\u6240\u306e\u901a\u77e5\n\u3000\u3000AddDirtyRect\u3092\u547c\u3093\u3067\u66f4\u65b0\u7b87\u6240\u3092\u8a2d\u5b9a  \n   \u30b5\u30f3\u30d7\u30eb\u306f\u753b\u9762\u5168\u4f53\u3092\u66f4\u65b0\n\n\n\u30b5\u30f3\u30d7\u30eb\n\n```csharp\n\n//1.\u9069\u5f53\u306b\u753b\u50cf\u3092\u4f5c\u6210\nvar image= new WriteableBitmap(width, height, 96, 96, PixelFormats.Gray8, BitmapPalettes.Gray256);            \nimage.Lock();\nunsafe\n{\n    //2.\u3053\u306e\u8fba\u3067\u753b\u50cf\u3092\u3044\u3058\u308b\n    byte* dp = (byte*)image.BackBuffer;\n  \u3000\u7701\u7565\n}\n//3.\u3053\u3053\u3067\u5165\u308c\u305f\u30b5\u30a4\u30ba\u306e\u9818\u57df\u304c\u66f4\u65b0\u3055\u308c\u308b\u3002\u3053\u3053\u304c\u306a\u3044\u3068\u771f\u3063\u9ed2\u3002\nimage.AddDirtyRect(new System.Windows.Int32Rect(0, 0, image.PixelWidth, image.PixelHeight));\nimage.Unlock();\n```\n\n\n\n", "tags": ["C#", "WPF"]}