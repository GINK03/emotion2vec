{"context": " More than 1 year has passed since last update.\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30eb\u306fModel\u3067\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306e\u306b\u5fc5\u9808\u9805\u76ee\u306fView\u306b\u76f4\u63a5\u203b\u3092\u3064\u3051\u3066\u3044\u308b\u306a\u3093\u3066\u3044\u3046\u3068\u304d\u306b\u306f\u3082\u3063\u3068\u81ea\u52d5\u7684\u306b\u3084\u3063\u3061\u3083\u304a\u3046\u3088\u3063\u3066\u3044\u3046\u611f\u3058\u306e\u3084\u3064\n\nValidation\u30af\u30e9\u30b9\u3092\u62e1\u5f35\n\nfuel/app/classes/validation.php\n<?php\n\nclass Validation extends \\Fuel\\Core\\Validation {\n\n    /**\n     * If $field has 'required' rule, It will return true\n     */\n    public function is_required( $field ) {\n        $fields = $this->fieldset()->field();\n        if( isset($fields[$field]) ){\n            foreach( $fields[$field]->rules as $r ){\n                if( $r[0] == 'required' ){\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n}\n\n\n\nfuel/app/bootstrap.php\nAutoloader::add_classes(array(\n    'Validation' => APPPATH.'classes/validation.php',\n));\n\n\n\nController\u304b\u3089Validation\u3092\u6e21\u3059\npublic function action_create(){\n...\n    $val = Model_Item::validation('create')\n    if( $val->run() ){\n    }\n    $this->template->content = View::forge('item/create',array('val'=>$val));\n...\n\n\nView\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u6bce\u306bclass\u3092\u51fa\u529b\n        <div class=\"form-group<?php echo ($errors && $val->error('title'))?\" has-error\":\"\"; ?><?php echo ($val->is_required('title'))?' required':'';?>\">\n            <?php echo Form::label(__('model.topic.title'), 'title', array('class'=>'control-label')); ?>\n\n            <?php echo Form::input('title', Input::post('title', isset($item) ? $item->title : ''), array('class' => 'form-control', 'placeholder'=>'')); ?>\n\n        </div>\n\n\nCSS\u3067\u4fee\u98fe\n.form-group.required label:after{\n  content:'*';\n  color:#a94442;\n  font-weight:bold;\n  display:inline-block;\n  margin-left:0.5em;\n}\n\n\n\u7d50\u679c\u30b5\u30f3\u30d7\u30eb\n\n\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30eb\u306fModel\u3067\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306e\u306b\u5fc5\u9808\u9805\u76ee\u306fView\u306b\u76f4\u63a5\u203b\u3092\u3064\u3051\u3066\u3044\u308b\u306a\u3093\u3066\u3044\u3046\u3068\u304d\u306b\u306f\u3082\u3063\u3068\u81ea\u52d5\u7684\u306b\u3084\u3063\u3061\u3083\u304a\u3046\u3088\u3063\u3066\u3044\u3046\u611f\u3058\u306e\u3084\u3064\n\n## Validation\u30af\u30e9\u30b9\u3092\u62e1\u5f35\n\n```php:fuel/app/classes/validation.php\n<?php\n\nclass Validation extends \\Fuel\\Core\\Validation {\n\n\t/**\n\t * If $field has 'required' rule, It will return true\n\t */\n\tpublic function is_required( $field ) {\n\t\t$fields = $this->fieldset()->field();\n\t\tif( isset($fields[$field]) ){\n\t\t\tforeach( $fields[$field]->rules as $r ){\n\t\t\t\tif( $r[0] == 'required' ){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n```\n\n```php:fuel/app/bootstrap.php\nAutoloader::add_classes(array(\n\t'Validation' => APPPATH.'classes/validation.php',\n));\n```\n\n## Controller\u304b\u3089Validation\u3092\u6e21\u3059\n\n```php\npublic function action_create(){\n...\n    $val = Model_Item::validation('create')\n    if( $val->run() ){\n    }\n    $this->template->content = View::forge('item/create',array('val'=>$val));\n...\n```\n\n## View\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u6bce\u306bclass\u3092\u51fa\u529b\n\n```php\n\t\t<div class=\"form-group<?php echo ($errors && $val->error('title'))?\" has-error\":\"\"; ?><?php echo ($val->is_required('title'))?' required':'';?>\">\n\t\t\t<?php echo Form::label(__('model.topic.title'), 'title', array('class'=>'control-label')); ?>\n\n\t\t\t<?php echo Form::input('title', Input::post('title', isset($item) ? $item->title : ''), array('class' => 'form-control', 'placeholder'=>'')); ?>\n\n\t\t</div>\n```\n\n## CSS\u3067\u4fee\u98fe\n\n```css\n.form-group.required label:after{\n  content:'*';\n  color:#a94442;\n  font-weight:bold;\n  display:inline-block;\n  margin-left:0.5em;\n}\n```\n\n## \u7d50\u679c\u30b5\u30f3\u30d7\u30eb\n\n![1.PNG](https://qiita-image-store.s3.amazonaws.com/0/64098/20a0b96e-abb7-89f0-ee8f-45888b182b14.png)\n\n", "tags": ["FuelPHP1.7.2"]}