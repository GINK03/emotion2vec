{"context": " More than 1 year has passed since last update.\n\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u306f\u30d6\u30ed\u30b0\u306b\u3042\u308a\u307e\u3059\u3002\n\n\nApple TV\u5411\u3051\u306e\u30a2\u30d7\u30ea\u306f\u3001iOS\u30cd\u30a4\u30c6\u30a3\u30d6\u958b\u767a\u3067\u4f7f\u308f\u308c\u308bView Controller\u306a\u3069\u3092\u4f7f\u308f\u305a\u3001js\u3068TVML\u3068\u3044\u3046\u8b0e\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3067\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nApple\u5927\u5148\u751f\u3082\u30d0\u30a4\u30ca\u30ea\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u306a\u304f\u3066\u3044\u3044\u304b\u3089\u8fc5\u901f\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u304d\u308b\u3088\u7684\u306a\u3053\u3068\u3092\u8a00\u3063\u3066\u308b\u306e\u3067\u3001\u3053\u308c\u306fWeb\u6280\u8853\u8005\u306e\u51fa\u756a\u306a\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\ntvOS\u3067Web View\u304c\u5229\u7528\u4e0d\u53ef\u3089\u3057\u3044\u3053\u3068\u304b\u3089\u8003\u3048\u3066\u3001\u304a\u305d\u3089\u304ftv\u3067web\u7684\u306a\u3053\u3068\u3092\u3059\u308b\u306a\u3089TVML\u4f7f\u3063\u3066UI\u3092\u7d71\u4e00\u3057\u308d\u3088\uff01\u3063\u3066\u4e8b\u306a\u306e\u3060\u3068\u79c1\u306f\u7406\u89e3\u3057\u307e\u3057\u305f\u3002\n\u30b3\u30fc\u30c9\u3068\u3057\u3066\u306f\u3001Apple\u304c\u7528\u610f\u3057\u305fTVML\u3092\u4f7f\u7528\u3057\u305fUI Catalog\u3092\u5927\u3044\u306b\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\u3053\u3061\u3089\u306fclient\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u3092\u6398\u3063\u3066\u3001js\u3068template\u3068\u306a\u308bxml.js\u3092\u9759\u7684\u306b\u304a\u3044\u3066\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u3053\u306exml.js\u3092\u52d5\u7684\u306b\u751f\u6210\u51fa\u6765\u306a\u3044\u304b\u3068\u3044\u3046\u3053\u3068\u3092\u5b9f\u9a13\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u4f5c\u308b\u30a2\u30d7\u30ea\u306fDribbble\u306e\u6700\u65b0\u4eba\u6c17\u6295\u7a3f\u3092\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\u524d\u56de\u306eReact Native\u306e\u30cd\u30bf\u3068\u5168\u304f\u540c\u3058\u3067\u3059\u3002\u3054\u3081\u3093\u306a\u3055\u3044\u3002Dribbble\u306f\u7d20\u6674\u3089\u3057\u3044\u3067\u3059\u306d\u3002\u79c1\u3082\u3044\u3064\u304bDribbbler\u306b\u306a\u308a\u305f\u3044\u3082\u306e\u3067\u3059\u3002\n\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u958b\u767a\u6e96\u5099\n\nXcode7.1beta\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u96db\u5f62\u3092\u4f5c\u6210\u3002\n\u307e\u3060beta\u3067\u3059\u3002tvOS\u306eSingleViewApplication\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nAppDelegate.swift\u306bjs/TVML\u306e\u30a2\u30d7\u30ea\u3092\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u914d\u4fe1\u3059\u308b\u305c\u3063\u3066\u3001\u3054\u306b\u3087\u3054\u306b\u3087\u8a18\u8f09\u3002\n\nTVMLKit\u3092import\u3057\u3066\u3001UIApplicationDelegate,TVApplicationControllerDelegate\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nappControllerContext.javaScriptApplicationURL\u306b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306ejs\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u8a73\u7d30\u306f\u4e0b\u306b\u7d9a\u304d\u307e\u3059\u304c\u3001\u3053\u306ejs\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306e\u51e6\u7406(App.onLaunch)\u304c\u66f8\u304b\u308c\u307e\u3059\u3002\n\u307e\u305f\u3001appControllerContext.launchOptions[\"BASEURL\"]\u00a0\u306e\u3088\u3046\u306blaunchOptions\u306b\u5024\u3092\u6e21\u3057\u3066\u304a\u304f\u3068\u3001js\u30d5\u30a1\u30a4\u30eb\u306e\u65b9\u3067options\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3076\u3089\u4e0b\u304c\u3063\u305f\u72b6\u614b\u3067\u53d7\u3051\u53d6\u308c\u307e\u3059\u3002\nimport UIKit\nimport TVMLKit\n\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate, TVApplicationControllerDelegate {\n\n    // MARK: Properties\n\n    var window: UIWindow?\n\n    var appController: TVApplicationController?\n\n    static let TVBaseURL = \"http://localhost:3000/\"\n\n    static let TVBootURL = \"\\(AppDelegate.TVBaseURL)js/application.js\"\n\n    // MARK: UIApplication Overrides\n\n    func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {\n        window = UIWindow(frame: UIScreen.mainScreen().bounds)\n\n        let appControllerContext = TVApplicationControllerContext()\n\n        if let javaScriptURL = NSURL(string: AppDelegate.TVBootURL) {\n            appControllerContext.javaScriptApplicationURL = javaScriptURL\n        }\n\n        appControllerContext.launchOptions[\"BASEURL\"] = AppDelegate.TVBaseURL\n\n        if let launchOptions = launchOptions as? [String: AnyObject] {\n            for (kind, value) in launchOptions {\n                appControllerContext.launchOptions[kind] = value\n            }\n        }\n\n        appController = TVApplicationController(context: appControllerContext, window: window, delegate: self)\n\n        return true\n    }\n...\n\n}\n\n\u305d\u3057\u3066\u3001rails new client\u3057\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u304a\u8a66\u3057\u306a\u306e\u3067\u3001\u540c\u3058\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u3044\u3044\u3058\u3083\u3093\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u65e2\u306bRails\u3092\u4f7f\u3063\u3066\u30b5\u30fc\u30d3\u30b9\u3092\u904b\u55b6\u3057\u3066\u3044\u308b\u306a\u3089tvos\u306a\u3069namespace\u3092\u5207\u3063\u3066\u304a\u624b\u8efd\u306b\u914d\u4fe1\u51fa\u6765\u308b\u304b\u3082\u3067\u3059\u306d\u3002\n\nRails\u4e0b\u6e96\u5099\n\u901a\u5e38\u306eweb\u3084api\u30b5\u30fc\u30d3\u30b9\u3092\u4f5c\u308b\u308f\u3051\u3058\u3083\u306a\u3044\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u4e0b\u6e96\u5099\u3057\u307e\u3059\u3002\n\u57fa\u672c\u7684\u306b\u958b\u304d\u76f4\u3063\u305f\u611f\u3058\u306e\u3053\u3068\u3057\u304b\u3057\u306a\u3044\u3067\u3059\u3002\n\n.xml.js\u3092\u8fd4\u3059\u3088\u3046\u306b\u3059\u308b\u3002\n\u4eca\u56de\u306fhtml\u3067\u3082\u306a\u304f\u3001json\u3067\u3082\u306a\u304fjs\u3092\u8fd4\u3057\u307e\u3059\u3002\n\u3053\u306e\u8fba\u306frails\u30b5\u30a4\u30c9\u3067\u3082\u3046\u5c11\u3057\u30b9\u30de\u30fc\u30c8\u306b\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u6307\u5b9a\u3067\u7a81\u304d\u9032\u307f\u307e\u3059\u3002xml\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066application.js\u5074\u3067\u306e\u5bfe\u5fdc\u3082\u53ef\u80fd\u306a\u3089\u7dba\u9e97\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\ndef index\n render \"index.xml.js\"\nend\n\n\n/app/controllers/application_controller.rb\u3067CSRF \u5bfe\u7b56\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u795e\u306b\u4e00\u793c\u3057\u3001\u304a\u3082\u3080\u308d\u306b\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u307e\u3057\u3087\u3046\u3002\nclass ApplicationController < ActionController::Base\n  # Prevent CSRF attacks by raising an exception.\n  # For APIs, you may want to use :null_session instead.\n  # protect_from_forgery with: :exception\nend\n\n\npublic/js\u4ee5\u4e0b\u306btwos\u30a2\u30d7\u30ea\u304b\u3089\u6700\u521d\u306b\u547c\u3073\u51fa\u3059js\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3002\nUI Catalog\u306eclient/js\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u8003\u306bapplication.js\u3092\u8a2d\u7f6e\u3057\u307e\u3059\u3002\u81ea\u5206\u306f\u5c11\u3057\u3044\u3089\u306a\u3044\u6a5f\u80fd\u3092\u6d88\u3057\u305f\u308a\u3057\u307e\u3057\u305f\u3002\n\u5404\u30d5\u30a1\u30a4\u30eb\u306e\u5f79\u5272\u306f\u4ee5\u4e0b\u306e\u69d8\u306a\u611f\u3058\u3067\u3059\u3002\n\nResourceLoader.js\n\n\u30ea\u30e2\u30fc\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3057\u3066\u3001\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002js\u3092\u8a55\u4fa1\u3057\u3066xml\u3067\u66f8\u304b\u308c\u305f\u6587\u5b57\u5217\u304c\u4ee3\u5165\u3055\u308c\u305f\u5909\u6570\u3092\u53d6\u5f97\u3057\u3066\u307e\u3059\u3002\n\nPresenter.js\n\n\u753b\u9762\u8868\u793a\u5468\u308a\u3092\u62c5\u3063\u3066\u307e\u3059\u3002tvos\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308bapi\u3001\u753b\u9762\u8868\u793a(navigationDocument.pushDocument)\u3068\u3001\u30e2\u30c0\u30eb\u8868\u793a(navigationDocument.presentModal)\u3092\u6271\u3044\u3084\u3059\u304f\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u304c\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001\u753b\u9762\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u3057\u305f\u6642\u306b\u753b\u9762\u9077\u79fb\u3059\u308b\u305f\u3081\u306eevent binding(doc.addEventListener(\"select\" function\u2026))\u3082\u62c5\u5f53\u3057\u307e\u3059\u3002\n\napplication.js\n\ntvos\u306e\u30a2\u30d7\u30ea\u304b\u3089\u6700\u521d\u306b\u8aad\u307f\u8fbc\u3080\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u95a2\u6570App.onLaunch\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002onLaunch\u306e\u4e2d\u3067ResouceLoader\u3092\u4f7f\u3063\u3066\u6700\u521d\u306b\u8868\u793a\u3059\u308b\u30da\u30fc\u30b8\u3092\u8aad\u307f\u8fbc\u307f\u3001Presenter\u3067\u8868\u793a\u3057\u3066\u307e\u3059\u3002\n\nrails generate scaffold shots\u3059\u308b\n\u4eca\u56de\u306fdribble\u306e\u4eba\u6c17shot\u3092\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\u306e\u3067\u3001shots controller\u306a\u3069\u7528\u610f\u3057\u307e\u3059\u3002\n\n\u4e00\u89a7\u753b\u9762\u3092\u4f5c\u308b\nshots#index\u3067\u3059\u3002TVML\u306f\u57fa\u672c\u7684\u306bApple\u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f7f\u3063\u3066\u7d44\u307f\u7acb\u3066\u3066\u3044\u304d\u307e\u3059\u3002index\u30da\u30fc\u30b8\u306e\u5927\u67a0\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u306fstackTemplate\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u5199\u771f\u542b\u3093\u3060\u8981\u7d20\u3092\u4e00\u89a7\u6027\u3092\u3082\u305f\u305b\u3066\u7a4d\u307f\u91cd\u306d\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067\u6700\u65b0\u306e\u4eba\u6c17\u6295\u7a3f\u30925\u30da\u30fc\u30b8\u5206\u3068\u3063\u3066\u304d\u307e\u3059\u3002\napp/controllers/shots_controller.rb#index\ndef index\n    @shot_shelfs = []\n    (1..5).each do |page|\n      res = open(\"http://api.dribbble.com/shots/popular?page=#{page}\")\n      code, message = res.status # res.status => [\"200\", \"OK\"]\n\n      if code == '200'\n        result = ActiveSupport::JSON.decode res.read\n        @shot_shelfs << result[\"shots\"]\n      else\n        puts \"#{code} #{message}\"\n      end\n    end\n\n    render \"index.xml.js\"\n  end\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306ferb\u3067\u5f37\u5f15\u306b\u51fa\u529b\u3057\u3066\u307e\u3059\u3002img\u306b\u306f\u9ad8\u3055\u3068\u5e45\u3092\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u305f\u3060\u3057\u3001\u30b0\u30ea\u30c3\u30c9\u306e\u8981\u7d20\u5168\u3066\u3067\u540c\u3058\u9ad8\u3055\u3068\u5e45\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u304b\u3063\u305f\u3067\u3059\u3002\u307e\u305f\u3001template\u3068\u3044\u3046attribute\u304c\u3042\u308b\u8981\u7d20\u3067selectevent\u304c\u767a\u706b\u3059\u308b\u3068template\u306e\u5024\u306e\u30da\u30fc\u30b8\u306b\u9077\u79fb\u3057\u307e\u3059\u3002\u3053\u308c\u306fPresenter\u304c\u62c5\u3046\u5f79\u5272\u3067\u3059\u3002\napp/views/shots/index.xml.js.erb\nvar Template = function() { return `<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n  <document>\n    <stackTemplate>\n      <banner>\n        <title>Dribbble Popular Shots</title>\n      </banner>\n      <collectionList>\n        <% @shot_shelfs.each do |shots| %>\n          <shelf>\n            <section>\n                <% shots.each do |shot| %>\n                <lockup template=\"${this.BASEURL}shots/<%= shot[\"id\"] %>\">\n                  <img src=\"<%= shot[\"image_url\"] %>\" height=\"200\" width=\"200\"/>\n                  <title><%= shot[\"title\"] %></title>\n                </lockup>\n              <% end %>\n            </section>\n          </shelf>\n        <% end %>\n      </collectionList>\n    </stackTemplate>\n  </document>`\n}\n\n\u3042\u3068\u306f\u3001application.js\u306eApp.onLaunch\u3067shots#index\u3092\u958b\u304f\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\u4eca\u66f4\u3067\u3059\u304c\u3001Rails\u306eassets\u4ee5\u4e0b\u306eapplication.js\u306f\u4f7f\u3063\u3066\u306a\u3044\u3067\u3059\u3002\u7d1b\u3089\u308f\u3057\u304b\u3063\u305f\u3067\u3059\u306d\u3002\nevaluateScripts\u306b\u306f\u914d\u5217\u304c\u6e21\u305b\u308b\u3089\u3057\u3044\u306e\u3067\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8a55\u4fa1\u3057\u7d42\u308f\u3063\u305f\u5f8c\u306b\u3001shots#index\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u8868\u793a\u3057\u307e\u3059\u3002\n/public/js/application.js\nApp.onLaunch = function(options) {\n    var javascriptFiles = [\n     `${options.BASEURL}js/ResourceLoader.js`,\n     `${options.BASEURL}js/Presenter.js`\n    ];\n\n    evaluateScripts(javascriptFiles, function(success) {\n        if(success) {\n            resourceLoader = new ResourceLoader(options.BASEURL);\n            resourceLoader.loadResource(`${options.BASEURL}shots`, function(resource) {\n                var doc = Presenter.makeDocument(resource);\n                doc.addEventListener(\"select\", Presenter.load.bind(Presenter));\n                Presenter.defaultPresenter(doc);\n            })\n        } else {\n            var errorDoc = createAlert(\"Evaluate Scripts Error\", \"Error attempting to evaluate external JavaScript files.\");\n            navigationDocument.presentModal(errorDoc);\n        }\n    });\n}\n\n\n\u8a73\u7d30\u753b\u9762\u3092\u4f5c\u308b\nshots#show\u3067\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306foneupTemplate\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u5927\u304d\u304f\u753b\u50cf\u3092\u8868\u793a\u3067\u304d\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u3059\u3002\n\u3084\u308b\u3053\u3068\u306f\u3055\u3063\u304d\u3068\u540c\u3058\u3067\u3059\u3002oneupTemplate\u306f\u30ea\u30e2\u30b3\u30f3\u306e\u4e0a\u4e0b\u30ad\u30fc\u3067\u30bf\u30a4\u30c8\u30eb\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n/app/controllers/shots_controller.rb\ndef show\n    res = open(\"http://api.dribbble.com/shots/#{params[:id]}\")\n    code, message = res.status # res.status => [\"200\", \"OK\"]\n\n    if code == '200'\n      result = ActiveSupport::JSON.decode res.read\n      @shot = result\n    else\n      puts \"#{code} #{message}\"\n    end\n\n    render \"show.xml.js\"\n  end\n\n/app/views/shots/show.xml.js.erb\nvar Template = function() { return `<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n  <document>\n    <oneupTemplate mode=\"oneup caption\" allowsZooming=\"false\">\n      <section>\n        <lockup>\n          <img src=\"<%= @shot[\"image_url\"] %>\" />\n          <title><%= @shot[\"title\"] %></title>\n          <row>\n            <subtitle><%= @shot[\"player\"][\"name\"] %></subtitle>\n          </row>\n        </lockup>\n      </section>\n    </oneupTemplate>\n  </document>`\n}\n\n\n\u6700\u5f8c\u306b\n\u4ee5\u4e0a\u3067\u3001\u4eba\u6c17\u6295\u7a3f\u3092\u4e00\u89a7\u3057\u3066\u3001\u62e1\u5927\u3057\u3066\u307f\u308b\u30a2\u30d7\u30ea\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u7c21\u5358\u3067\u3057\u305f\u306d\u3002\n\u304d\u3063\u3068Apple TV\u306f\u3053\u3046\u3044\u3046\u3063\u305f\u30a2\u30d7\u30ea\u304c\u30c6\u30ec\u30d3\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u3088\u3046\u306b\u4e26\u3076\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u3002\u305d\u3057\u3066\u3001\u305d\u3046\u3044\u3063\u305f\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\u306e\u306f\u30c6\u30ec\u30d3\u306e\u524d\u306e\u3042\u306a\u305f\u305f\u3061\u3067\u3059\uff01\uff01\uff08\u30aa\u30f3\u30a8\u30a2\u30d0\u30c8\u30eb\u98a8\uff09\n\u4eca\u56de\u306e\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089\n> \u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u8a18\u4e8b\u306f[\u30d6\u30ed\u30b0](http://www.imaimiami.com/tvml-rails-app/)\u306b\u3042\u308a\u307e\u3059\u3002\n\n![\u5168\u753b\u9762_2015_10_04_20_01.c93b265dd0e84da4a00d8b106aac050d.png](https://qiita-image-store.s3.amazonaws.com/0/29793/4856cd88-4241-01ed-ddaa-915b4992422b.png)\n\nApple TV\u5411\u3051\u306e\u30a2\u30d7\u30ea\u306f\u3001iOS\u30cd\u30a4\u30c6\u30a3\u30d6\u958b\u767a\u3067\u4f7f\u308f\u308c\u308bView Controller\u306a\u3069\u3092\u4f7f\u308f\u305a\u3001js\u3068TVML\u3068\u3044\u3046\u8b0e\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3067\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nApple\u5927\u5148\u751f\u3082\u30d0\u30a4\u30ca\u30ea\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u306a\u304f\u3066\u3044\u3044\u304b\u3089\u8fc5\u901f\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u304d\u308b\u3088\u7684\u306a\u3053\u3068\u3092[\u8a00\u3063\u3066\u308b\u306e\u3067](https://forums.developer.apple.com/thread/17707)\u3001\u3053\u308c\u306fWeb\u6280\u8853\u8005\u306e\u51fa\u756a\u306a\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\ntvOS\u3067Web View\u304c\u5229\u7528\u4e0d\u53ef\u3089\u3057\u3044\u3053\u3068\u304b\u3089\u8003\u3048\u3066\u3001\u304a\u305d\u3089\u304ftv\u3067web\u7684\u306a\u3053\u3068\u3092\u3059\u308b\u306a\u3089TVML\u4f7f\u3063\u3066UI\u3092\u7d71\u4e00\u3057\u308d\u3088\uff01\u3063\u3066\u4e8b\u306a\u306e\u3060\u3068\u79c1\u306f\u7406\u89e3\u3057\u307e\u3057\u305f\u3002\n\n\u30b3\u30fc\u30c9\u3068\u3057\u3066\u306f\u3001Apple\u304c\u7528\u610f\u3057\u305fTVML\u3092\u4f7f\u7528\u3057\u305f[UI Catalog](https://developer.apple.com/library/prerelease/tvos/samplecode/TVMLCatalog/Introduction/Intro.html#//apple_ref/doc/uid/TP40016505-Intro-DontLinkElementID_2)\u3092\u5927\u3044\u306b\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\u3053\u3061\u3089\u306f`client`\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u3092\u6398\u3063\u3066\u3001js\u3068template\u3068\u306a\u308b`xml.js`\u3092\u9759\u7684\u306b\u304a\u3044\u3066\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u3053\u306e`xml.js`\u3092\u52d5\u7684\u306b\u751f\u6210\u51fa\u6765\u306a\u3044\u304b\u3068\u3044\u3046\u3053\u3068\u3092\u5b9f\u9a13\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u4f5c\u308b\u30a2\u30d7\u30ea\u306fDribbble\u306e\u6700\u65b0\u4eba\u6c17\u6295\u7a3f\u3092\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\u524d\u56de\u306eReact Native\u306e\u30cd\u30bf\u3068\u5168\u304f\u540c\u3058\u3067\u3059\u3002\u3054\u3081\u3093\u306a\u3055\u3044\u3002Dribbble\u306f\u7d20\u6674\u3089\u3057\u3044\u3067\u3059\u306d\u3002\u79c1\u3082\u3044\u3064\u304bDribbbler\u306b\u306a\u308a\u305f\u3044\u3082\u306e\u3067\u3059\u3002\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n![2015-10-04 20_08_08.25c53cd43dba4472bba10f4bc087d0f5.gif](https://qiita-image-store.s3.amazonaws.com/0/29793/e3426f76-299a-fe09-6786-e1fe68ee3f11.gif)\n\n\n### \u958b\u767a\u6e96\u5099\n1. Xcode7.1beta\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u96db\u5f62\u3092\u4f5c\u6210\u3002\n\u307e\u3060beta\u3067\u3059\u3002tvOS\u306eSingleViewApplication\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n2. AppDelegate.swift\u306bjs/TVML\u306e\u30a2\u30d7\u30ea\u3092\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u914d\u4fe1\u3059\u308b\u305c\u3063\u3066\u3001\u3054\u306b\u3087\u3054\u306b\u3087\u8a18\u8f09\u3002\n\nTVMLKit\u3092import\u3057\u3066\u3001UIApplicationDelegate,TVApplicationControllerDelegate\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n`appControllerContext.javaScriptApplicationURL`\u306b\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306ejs\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u8a73\u7d30\u306f\u4e0b\u306b\u7d9a\u304d\u307e\u3059\u304c\u3001\u3053\u306ejs\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306e\u51e6\u7406(`App.onLaunch`)\u304c\u66f8\u304b\u308c\u307e\u3059\u3002\n\n\u307e\u305f\u3001`appControllerContext.launchOptions[\"BASEURL\"]\u00a0`\u306e\u3088\u3046\u306b`launchOptions`\u306b\u5024\u3092\u6e21\u3057\u3066\u304a\u304f\u3068\u3001js\u30d5\u30a1\u30a4\u30eb\u306e\u65b9\u3067`options`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3076\u3089\u4e0b\u304c\u3063\u305f\u72b6\u614b\u3067\u53d7\u3051\u53d6\u308c\u307e\u3059\u3002\n\n\timport UIKit\n\timport TVMLKit\n\t\n\t@UIApplicationMain\n\tclass AppDelegate: UIResponder, UIApplicationDelegate, TVApplicationControllerDelegate {\n\t\n\t    // MARK: Properties\n\t    \n\t    var window: UIWindow?\n\t    \n\t    var appController: TVApplicationController?\n\t    \n\t    static let TVBaseURL = \"http://localhost:3000/\"\n\t    \n\t    static let TVBootURL = \"\\(AppDelegate.TVBaseURL)js/application.js\"\n\t    \n\t    // MARK: UIApplication Overrides\n\t    \n\t    func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {\n\t        window = UIWindow(frame: UIScreen.mainScreen().bounds)\n\t        \n\t        let appControllerContext = TVApplicationControllerContext()\n\t        \n\t        if let javaScriptURL = NSURL(string: AppDelegate.TVBootURL) {\n\t            appControllerContext.javaScriptApplicationURL = javaScriptURL\n\t        }\n\t        \n\t        appControllerContext.launchOptions[\"BASEURL\"] = AppDelegate.TVBaseURL\n\t        \n\t        if let launchOptions = launchOptions as? [String: AnyObject] {\n\t            for (kind, value) in launchOptions {\n\t                appControllerContext.launchOptions[kind] = value\n\t            }\n\t        }\n\t        \n\t        appController = TVApplicationController(context: appControllerContext, window: window, delegate: self)\n\t        \n\t        return true\n\t    }\n\t...\n\t\n\t}\n\n\u305d\u3057\u3066\u3001`rails new client`\u3057\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u304a\u8a66\u3057\u306a\u306e\u3067\u3001\u540c\u3058\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u3044\u3044\u3058\u3083\u3093\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u65e2\u306bRails\u3092\u4f7f\u3063\u3066\u30b5\u30fc\u30d3\u30b9\u3092\u904b\u55b6\u3057\u3066\u3044\u308b\u306a\u3089tvos\u306a\u3069namespace\u3092\u5207\u3063\u3066\u304a\u624b\u8efd\u306b\u914d\u4fe1\u51fa\u6765\u308b\u304b\u3082\u3067\u3059\u306d\u3002\n\n### Rails\u4e0b\u6e96\u5099\n\u901a\u5e38\u306eweb\u3084api\u30b5\u30fc\u30d3\u30b9\u3092\u4f5c\u308b\u308f\u3051\u3058\u3083\u306a\u3044\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u4e0b\u6e96\u5099\u3057\u307e\u3059\u3002  \n\u57fa\u672c\u7684\u306b\u958b\u304d\u76f4\u3063\u305f\u611f\u3058\u306e\u3053\u3068\u3057\u304b\u3057\u306a\u3044\u3067\u3059\u3002\n\n#### `.xml.js`\u3092\u8fd4\u3059\u3088\u3046\u306b\u3059\u308b\u3002\n\n\u4eca\u56de\u306fhtml\u3067\u3082\u306a\u304f\u3001json\u3067\u3082\u306a\u304fjs\u3092\u8fd4\u3057\u307e\u3059\u3002\n\u3053\u306e\u8fba\u306frails\u30b5\u30a4\u30c9\u3067\u3082\u3046\u5c11\u3057\u30b9\u30de\u30fc\u30c8\u306b\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u6307\u5b9a\u3067\u7a81\u304d\u9032\u307f\u307e\u3059\u3002xml\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066application.js\u5074\u3067\u306e\u5bfe\u5fdc\u3082\u53ef\u80fd\u306a\u3089\u7dba\u9e97\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\tdef index\n\t render \"index.xml.js\"\n\tend\n\n\n#### `/app/controllers/application_controller.rb`\u3067CSRF \u5bfe\u7b56\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\n\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u795e\u306b\u4e00\u793c\u3057\u3001\u304a\u3082\u3080\u308d\u306b\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u307e\u3057\u3087\u3046\u3002\n\n\tclass ApplicationController < ActionController::Base\n\t  # Prevent CSRF attacks by raising an exception.\n\t  # For APIs, you may want to use :null_session instead.\n\t  # protect_from_forgery with: :exception\n\tend\n\n#### `public/js`\u4ee5\u4e0b\u306btwos\u30a2\u30d7\u30ea\u304b\u3089\u6700\u521d\u306b\u547c\u3073\u51fa\u3059js\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3002\n[UI Catalog](https://developer.apple.com/library/prerelease/tvos/samplecode/TVMLCatalog/Introduction/Intro.html#//apple_ref/doc/uid/TP40016505-Intro-DontLinkElementID_2)\u306e`client/js`\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u8003\u306b`application.js`\u3092\u8a2d\u7f6e\u3057\u307e\u3059\u3002\u81ea\u5206\u306f\u5c11\u3057\u3044\u3089\u306a\u3044\u6a5f\u80fd\u3092\u6d88\u3057\u305f\u308a\u3057\u307e\u3057\u305f\u3002\n\u5404\u30d5\u30a1\u30a4\u30eb\u306e\u5f79\u5272\u306f\u4ee5\u4e0b\u306e\u69d8\u306a\u611f\u3058\u3067\u3059\u3002\n##### `ResourceLoader.js`\n\u30ea\u30e2\u30fc\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3057\u3066\u3001\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002js\u3092\u8a55\u4fa1\u3057\u3066xml\u3067\u66f8\u304b\u308c\u305f\u6587\u5b57\u5217\u304c\u4ee3\u5165\u3055\u308c\u305f\u5909\u6570\u3092\u53d6\u5f97\u3057\u3066\u307e\u3059\u3002\n##### `Presenter.js`\n\u753b\u9762\u8868\u793a\u5468\u308a\u3092\u62c5\u3063\u3066\u307e\u3059\u3002tvos\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308bapi\u3001\u753b\u9762\u8868\u793a(`navigationDocument.pushDocument`)\u3068\u3001\u30e2\u30c0\u30eb\u8868\u793a(`navigationDocument.presentModal`)\u3092\u6271\u3044\u3084\u3059\u304f\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u304c\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001\u753b\u9762\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u3057\u305f\u6642\u306b\u753b\u9762\u9077\u79fb\u3059\u308b\u305f\u3081\u306eevent binding(`doc.addEventListener(\"select\" function\u2026)`)\u3082\u62c5\u5f53\u3057\u307e\u3059\u3002\n\n##### `application.js`\ntvos\u306e\u30a2\u30d7\u30ea\u304b\u3089\u6700\u521d\u306b\u8aad\u307f\u8fbc\u3080\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u95a2\u6570`App.onLaunch`\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002onLaunch\u306e\u4e2d\u3067`ResouceLoader`\u3092\u4f7f\u3063\u3066\u6700\u521d\u306b\u8868\u793a\u3059\u308b\u30da\u30fc\u30b8\u3092\u8aad\u307f\u8fbc\u307f\u3001`Presenter`\u3067\u8868\u793a\u3057\u3066\u307e\u3059\u3002\n\n#### `rails generate scaffold shots`\u3059\u308b\n\u4eca\u56de\u306fdribble\u306e\u4eba\u6c17shot\u3092\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\u306e\u3067\u3001shots controller\u306a\u3069\u7528\u610f\u3057\u307e\u3059\u3002\n\n#### \u4e00\u89a7\u753b\u9762\u3092\u4f5c\u308b\n`shots#index`\u3067\u3059\u3002TVML\u306f\u57fa\u672c\u7684\u306bApple\u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f7f\u3063\u3066\u7d44\u307f\u7acb\u3066\u3066\u3044\u304d\u307e\u3059\u3002index\u30da\u30fc\u30b8\u306e\u5927\u67a0\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u306f[`stackTemplate`](https://developer.apple.com/library/prerelease/tvos/documentation/LanguagesUtilities/Conceptual/ATV_Template_Guide/StackTemplate.html#//apple_ref/doc/uid/TP40015064-CH21-SW4)\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u5199\u771f\u542b\u3093\u3060\u8981\u7d20\u3092\u4e00\u89a7\u6027\u3092\u3082\u305f\u305b\u3066\u7a4d\u307f\u91cd\u306d\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-10-04 20.02.54.f47c4805419b4ff1b84e25ef860acaef.png](https://qiita-image-store.s3.amazonaws.com/0/29793/ac325fdd-2e4a-2733-c69b-cca834d3d455.png)\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067\u6700\u65b0\u306e\u4eba\u6c17\u6295\u7a3f\u30925\u30da\u30fc\u30b8\u5206\u3068\u3063\u3066\u304d\u307e\u3059\u3002\n`app/controllers/shots_controller.rb#index`\n\n\tdef index\n\t    @shot_shelfs = []\n\t    (1..5).each do |page|\n\t      res = open(\"http://api.dribbble.com/shots/popular?page=#{page}\")\n\t      code, message = res.status # res.status => [\"200\", \"OK\"]\n\t\n\t      if code == '200'\n\t        result = ActiveSupport::JSON.decode res.read\n\t        @shot_shelfs << result[\"shots\"]\n\t      else\n\t        puts \"#{code} #{message}\"\n\t      end\n\t    end\n\t\n\t    render \"index.xml.js\"\n\t  end\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306ferb\u3067\u5f37\u5f15\u306b\u51fa\u529b\u3057\u3066\u307e\u3059\u3002img\u306b\u306f\u9ad8\u3055\u3068\u5e45\u3092\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u305f\u3060\u3057\u3001\u30b0\u30ea\u30c3\u30c9\u306e\u8981\u7d20\u5168\u3066\u3067\u540c\u3058\u9ad8\u3055\u3068\u5e45\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u304b\u3063\u305f\u3067\u3059\u3002\u307e\u305f\u3001template\u3068\u3044\u3046attribute\u304c\u3042\u308b\u8981\u7d20\u3067`select`event\u304c\u767a\u706b\u3059\u308b\u3068template\u306e\u5024\u306e\u30da\u30fc\u30b8\u306b\u9077\u79fb\u3057\u307e\u3059\u3002\u3053\u308c\u306f`Presenter`\u304c\u62c5\u3046\u5f79\u5272\u3067\u3059\u3002\n\n`app/views/shots/index.xml.js.erb`\n\n\tvar Template = function() { return `<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\t  <document>\n\t    <stackTemplate>\n\t      <banner>\n\t        <title>Dribbble Popular Shots</title>\n\t      </banner>\n\t      <collectionList>\n\t        <% @shot_shelfs.each do |shots| %>\n\t          <shelf>\n\t            <section>\n\t                <% shots.each do |shot| %>\n\t                <lockup template=\"${this.BASEURL}shots/<%= shot[\"id\"] %>\">\n\t                  <img src=\"<%= shot[\"image_url\"] %>\" height=\"200\" width=\"200\"/>\n\t                  <title><%= shot[\"title\"] %></title>\n\t                </lockup>\n\t              <% end %>\n\t            </section>\n\t          </shelf>\n\t        <% end %>\n\t      </collectionList>\n\t    </stackTemplate>\n\t  </document>`\n\t}\n\n\u3042\u3068\u306f\u3001`application.js`\u306e`App.onLaunch`\u3067shots#index\u3092\u958b\u304f\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\u4eca\u66f4\u3067\u3059\u304c\u3001Rails\u306eassets\u4ee5\u4e0b\u306e`application.js`\u306f\u4f7f\u3063\u3066\u306a\u3044\u3067\u3059\u3002\u7d1b\u3089\u308f\u3057\u304b\u3063\u305f\u3067\u3059\u306d\u3002\n`evaluateScripts`\u306b\u306f\u914d\u5217\u304c\u6e21\u305b\u308b\u3089\u3057\u3044\u306e\u3067\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8a55\u4fa1\u3057\u7d42\u308f\u3063\u305f\u5f8c\u306b\u3001shots#index\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u8868\u793a\u3057\u307e\u3059\u3002\n`/public/js/application.js`\n\n\tApp.onLaunch = function(options) {\n\t\tvar javascriptFiles = [\n\t\t `${options.BASEURL}js/ResourceLoader.js`,\n\t\t `${options.BASEURL}js/Presenter.js`\n\t\t];\n\t\n\t\tevaluateScripts(javascriptFiles, function(success) {\n\t\t\tif(success) {\n\t\t\t\tresourceLoader = new ResourceLoader(options.BASEURL);\n\t\t\t\tresourceLoader.loadResource(`${options.BASEURL}shots`, function(resource) {\n\t\t\t\t\tvar doc = Presenter.makeDocument(resource);\n\t\t\t\t\tdoc.addEventListener(\"select\", Presenter.load.bind(Presenter));\n\t\t\t\t\tPresenter.defaultPresenter(doc);\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tvar errorDoc = createAlert(\"Evaluate Scripts Error\", \"Error attempting to evaluate external JavaScript files.\");\n\t\t\t\tnavigationDocument.presentModal(errorDoc);\n\t\t\t}\n\t\t});\n\t}\n\n#### \u8a73\u7d30\u753b\u9762\u3092\u4f5c\u308b\n`shots#show`\u3067\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f[`oneupTemplate`](https://developer.apple.com/library/prerelease/tvos/documentation/LanguagesUtilities/Conceptual/ATV_Template_Guide/OneupTemplate.html#//apple_ref/doc/uid/TP40015064-CH26-SW1)\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u5927\u304d\u304f\u753b\u50cf\u3092\u8868\u793a\u3067\u304d\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u3059\u3002\n\u3084\u308b\u3053\u3068\u306f\u3055\u3063\u304d\u3068\u540c\u3058\u3067\u3059\u3002oneupTemplate\u306f\u30ea\u30e2\u30b3\u30f3\u306e\u4e0a\u4e0b\u30ad\u30fc\u3067\u30bf\u30a4\u30c8\u30eb\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-10-04 20.03.16.6cdb20c41fa6463aa3ab151d5eb0b173.png](https://qiita-image-store.s3.amazonaws.com/0/29793/dbe1cfc2-ec1d-ba37-6ca9-65ee97e7fda0.png)\n\n`/app/controllers/shots_controller.rb`\n\n\tdef show\n\t    res = open(\"http://api.dribbble.com/shots/#{params[:id]}\")\n\t    code, message = res.status # res.status => [\"200\", \"OK\"]\n\t\n\t    if code == '200'\n\t      result = ActiveSupport::JSON.decode res.read\n\t      @shot = result\n\t    else\n\t      puts \"#{code} #{message}\"\n\t    end\n\t\n\t    render \"show.xml.js\"\n\t  end\n\n`/app/views/shots/show.xml.js.erb`\n\n\tvar Template = function() { return `<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\t  <document>\n\t    <oneupTemplate mode=\"oneup caption\" allowsZooming=\"false\">\n\t      <section>\n\t        <lockup>\n\t          <img src=\"<%= @shot[\"image_url\"] %>\" />\n\t          <title><%= @shot[\"title\"] %></title>\n\t          <row>\n\t            <subtitle><%= @shot[\"player\"][\"name\"] %></subtitle>\n\t          </row>\n\t        </lockup>\n\t      </section>\n\t    </oneupTemplate>\n\t  </document>`\n\t}\n\n#### \u6700\u5f8c\u306b\n\u4ee5\u4e0a\u3067\u3001\u4eba\u6c17\u6295\u7a3f\u3092\u4e00\u89a7\u3057\u3066\u3001\u62e1\u5927\u3057\u3066\u307f\u308b\u30a2\u30d7\u30ea\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u7c21\u5358\u3067\u3057\u305f\u306d\u3002\n\u304d\u3063\u3068Apple TV\u306f\u3053\u3046\u3044\u3046\u3063\u305f\u30a2\u30d7\u30ea\u304c\u30c6\u30ec\u30d3\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u3088\u3046\u306b\u4e26\u3076\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u3002\u305d\u3057\u3066\u3001\u305d\u3046\u3044\u3063\u305f\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\u306e\u306f\u30c6\u30ec\u30d3\u306e\u524d\u306e\u3042\u306a\u305f\u305f\u3061\u3067\u3059\uff01\uff01\uff08\u30aa\u30f3\u30a8\u30a2\u30d0\u30c8\u30eb\u98a8\uff09\n\n\u4eca\u56de\u306e\u30b3\u30fc\u30c9\u306f[\u3053\u3061\u3089](https://github.com/imaimiami/tvos_rails_tvml_dribbble_reader_sample)\n", "tags": ["Rails", "tvOS", "TVML", "JavaScript"]}