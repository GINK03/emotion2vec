{"tags": ["carrierwave"], "context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\n\n\u753b\u50cf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u6642\u306b\u6642\u7cfb\u5217\u3067\u904e\u53bb\u5206\u5c65\u6b74\u3092\u6b8b\u3057\u305f\u3044\u306e\u3067filename\u306b\u65e5\u6642\u3092\u3044\u308c\u305f\u3044\n\u7279\u5b9a\u89e3\u50cf\u5ea6\u306bresize\u3057\u305f\u3082\u306e\u3082\u7528\u610f\u3057\u305f\u3044\n\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\nfilename\u3092override\u3057\u3066original_filename\u306b\u65e5\u6642\u3092\u8ffd\u52a0\u3059\u308b\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u5316\u3057\u3066store\u6642\u3068upload\u6642\u306efilename\u3092\u4e00\u81f4\u3055\u305b\u308b\nsmall\u3068large\u3068\u3044\u3046version\u3067resize\u3059\u308b\n\n class ImageUploader < CarrierWave::Uploader::Base\n   include CarrierWave::MiniMagick\n\n   def filename\n     @name ||= \"#{Time.zone.now.strftime(\"%Y-%m-%d-%H-%M-%S\")}-#{super}\" if super\n   end\n\n   version :small do\n     process resize_to_fill: [100, 100]\n   end\n\n   version :large do\n     process resize_to_fill: [800, 600]\n   end\n end\n\n\n\u767a\u751f\u3057\u305f\u554f\u984c\n\nstore\u3057\u305ffilename\u3068upload\u3055\u308c\u305ffilename\u304c1\u79d2\u305a\u308c\u308b\nresize\u3057\u305ffile\u306b\u304a\u3044\u3066\u3060\u3051\u7a00\u306b\u767a\u751f\u3059\u308b\n\n\n\u539f\u56e0\n   def filename\n     @name ||= \"#{Time.zone.now.strftime(\"%Y-%m-%d-%H-%M-%S\")}-#{super}\" if super\n   end\n\n\u3053\u3053\u3067name\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u5316\u3059\u308b\u3053\u3068\u3067\u3001resize\u6642\u306b\u3082filename\u304c\u540c\u4e00\u306b\u306a\u308b\u3060\u308d\u3046\u3068\u8003\u3048\u3066\u3044\u305f\u3002\n\u3057\u304b\u3057\u5b9f\u969bresize\u6642\u306e\u51e6\u7406\u306fCarrierwave\u5185\u90e8\u3067callback\u3068\u3057\u3066\u547c\u3073\u3060\u3055\u308c\u3001\u540c\u30af\u30e9\u30b9\u306e\u5225\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u3066\u884c\u308f\u308c\u308b\u3002\n\u305d\u306e\u7d50\u679cresize\u6642\u306b\u306f\u5225\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3053\u306efilename\u304c\u547c\u3070\u308c\u308b\u305f\u3081\u3001name\u306fnil\u3068\u306a\u308a\u51e6\u7406\u6642\u523b\u3067\u751f\u6210\u3055\u308c\u308b\u305f\u3081\u3060\u3063\u305f\u3002\n\n\u89e3\u6c7a\u65b9\u6cd5\nrezise\u6642\u306efilename\u3068\u3057\u3066\u3001\u539f\u5bf8\u753b\u50cfUpload\u6642\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u3082\u306e\u3092\u4f7f\u3046\u3088\u3046\u306b\u6307\u5b9a\u3057\u305f\u3002\n\n\u30b3\u30fc\u30c9\u5909\u66f4\u70b9\n   version :small do\n     process resize_to_fill: [100, 100]\n+\n+    def filename\n+      model.send(mounted_as).filename\n+    end\n   end\n\n   version :large do\n     process resize_to_fill: [800, 600]\n+\n+    def filename\n+      model.send(mounted_as).filename\n+    end\n   end\n\nmodel.send(mounted_as)\u306f\u3001\u30de\u30a6\u30f3\u30c8\u3057\u3066\u308bmodel\u306eattribute\u3067\u3059\u3002\nVersion\u306e\u51e6\u7406\u5185\u3067\u3053\u308c\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u539f\u5bf8\u753b\u50cfUpload\u6642\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u89e3\u6c7a\u4e00\u5fdc\u3057\u305f\u3051\u3069version\u6bce\u306b\u6bce\u56de\u3053\u308c\u6307\u5b9a\u3059\u308b\u306e\u9762\u5012\u306a\u306e\u3067\u3001\u3082\u3063\u3068\u3044\u3044\u89e3\u6c7a\u65b9\u6cd5\u3042\u308b\u3093\u3058\u3083\u306a\u3044\u306e\u304b\uff1f\u3068\u3082\u601d\u3046\u306e\u3067\u3001\u3082\u3063\u3068\u3044\u3044\u65b9\u6cd5\u3042\u3063\u305f\u3089\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n\u53c2\u8003\n\nHow to: Use a timestamp in file names \u00b7 carrierwaveuploader/carrierwave Wiki \nHow to: Customize your version file names \u00b7 carrierwaveuploader/carrierwave Wiki\n\n# \u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\n* \u753b\u50cf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u6642\u306b\u6642\u7cfb\u5217\u3067\u904e\u53bb\u5206\u5c65\u6b74\u3092\u6b8b\u3057\u305f\u3044\u306e\u3067filename\u306b\u65e5\u6642\u3092\u3044\u308c\u305f\u3044\n* \u7279\u5b9a\u89e3\u50cf\u5ea6\u306bresize\u3057\u305f\u3082\u306e\u3082\u7528\u610f\u3057\u305f\u3044\n\n# \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n1. filename\u3092override\u3057\u3066original_filename\u306b\u65e5\u6642\u3092\u8ffd\u52a0\u3059\u308b\n1. \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u5316\u3057\u3066store\u6642\u3068upload\u6642\u306efilename\u3092\u4e00\u81f4\u3055\u305b\u308b\n1. small\u3068large\u3068\u3044\u3046version\u3067resize\u3059\u308b\n\n```\n class ImageUploader < CarrierWave::Uploader::Base\n   include CarrierWave::MiniMagick\n    \n   def filename\n     @name ||= \"#{Time.zone.now.strftime(\"%Y-%m-%d-%H-%M-%S\")}-#{super}\" if super\n   end\n    \n   version :small do\n     process resize_to_fill: [100, 100]\n   end\n                                                                                                                                                                                                                                  \n   version :large do\n     process resize_to_fill: [800, 600]\n   end\n end\n```\n\n# \u767a\u751f\u3057\u305f\u554f\u984c\n* store\u3057\u305ffilename\u3068upload\u3055\u308c\u305ffilename\u304c1\u79d2\u305a\u308c\u308b\n* resize\u3057\u305ffile\u306b\u304a\u3044\u3066\u3060\u3051\u7a00\u306b\u767a\u751f\u3059\u308b\n\n# \u539f\u56e0\n\n```\n   def filename\n     @name ||= \"#{Time.zone.now.strftime(\"%Y-%m-%d-%H-%M-%S\")}-#{super}\" if super\n   end\n```\n\n\u3053\u3053\u3067name\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u5316\u3059\u308b\u3053\u3068\u3067\u3001resize\u6642\u306b\u3082filename\u304c\u540c\u4e00\u306b\u306a\u308b\u3060\u308d\u3046\u3068\u8003\u3048\u3066\u3044\u305f\u3002\n\u3057\u304b\u3057\u5b9f\u969bresize\u6642\u306e\u51e6\u7406\u306fCarrierwave\u5185\u90e8\u3067callback\u3068\u3057\u3066\u547c\u3073\u3060\u3055\u308c\u3001\u540c\u30af\u30e9\u30b9\u306e\u5225\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u3066\u884c\u308f\u308c\u308b\u3002\n\u305d\u306e\u7d50\u679cresize\u6642\u306b\u306f\u5225\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3053\u306efilename\u304c\u547c\u3070\u308c\u308b\u305f\u3081\u3001name\u306fnil\u3068\u306a\u308a\u51e6\u7406\u6642\u523b\u3067\u751f\u6210\u3055\u308c\u308b\u305f\u3081\u3060\u3063\u305f\u3002\n\n# \u89e3\u6c7a\u65b9\u6cd5\nrezise\u6642\u306efilename\u3068\u3057\u3066\u3001\u539f\u5bf8\u753b\u50cfUpload\u6642\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u3082\u306e\u3092\u4f7f\u3046\u3088\u3046\u306b\u6307\u5b9a\u3057\u305f\u3002\n\n#### \u30b3\u30fc\u30c9\u5909\u66f4\u70b9\n\n```\n   version :small do\n     process resize_to_fill: [100, 100]\n+\n+    def filename\n+      model.send(mounted_as).filename\n+    end\n   end\n                                                                                                                                                                                                                                  \n   version :large do\n     process resize_to_fill: [800, 600]\n+\n+    def filename\n+      model.send(mounted_as).filename\n+    end\n   end\n```\n\nmodel.send(mounted_as)\u306f\u3001\u30de\u30a6\u30f3\u30c8\u3057\u3066\u308bmodel\u306eattribute\u3067\u3059\u3002\nVersion\u306e\u51e6\u7406\u5185\u3067\u3053\u308c\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u539f\u5bf8\u753b\u50cfUpload\u6642\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u308c\u89e3\u6c7a\u4e00\u5fdc\u3057\u305f\u3051\u3069version\u6bce\u306b\u6bce\u56de\u3053\u308c\u6307\u5b9a\u3059\u308b\u306e\u9762\u5012\u306a\u306e\u3067\u3001\u3082\u3063\u3068\u3044\u3044\u89e3\u6c7a\u65b9\u6cd5\u3042\u308b\u3093\u3058\u3083\u306a\u3044\u306e\u304b\uff1f\u3068\u3082\u601d\u3046\u306e\u3067\u3001\u3082\u3063\u3068\u3044\u3044\u65b9\u6cd5\u3042\u3063\u305f\u3089\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n# \u53c2\u8003\n* [How to: Use a timestamp in file names \u00b7 carrierwaveuploader/carrierwave Wiki ](https://github.com/carrierwaveuploader/carrierwave/wiki/How-to:-Use-a-timestamp-in-file-names)\n* [How to: Customize your version file names \u00b7 carrierwaveuploader/carrierwave Wiki](https://github.com/carrierwaveuploader/carrierwave/wiki/How-to:-Customize-your-version-file-names)\n"}