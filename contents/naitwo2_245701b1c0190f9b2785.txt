{"tags": ["Security", "paloalto", "Firewall", "Network", "rsyslog"], "context": "\u203b\u8a18\u4e8b\u306e\u5185\u5bb9\u306fPAN-OS6.1.x\u304c\u5bfe\u8c61\u3067\u3059 \n\u30d1\u30ed\u30a2\u30eb\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b9\u6b21\u4e16\u4ee3\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u304b\u3089\u9001\u4fe1\u3055\u308c\u308bSYSLOG\u901a\u4fe1\u3092SSL\u5316\u3059\u308b\u624b\u9806\u3067\u3059\u3002 \n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7d4c\u7531\u3067SYSLOG\u3092\u9001\u4fe1\u3059\u308b\u5834\u5408\u306a\u3069\u306b\u6709\u52b9\u3067\u3059\u3002\n\u203b\u5fc5\u8981\u6700\u4f4e\u9650\u306e\u624b\u9806\u306e\u307f\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\n\u3000\u74b0\u5883\u306b\u5fdc\u3058\u3066\u3001\u8a2d\u5b9a\u306a\u3069\u306e\u8ffd\u52a0\u30fb\u5909\u66f4\u3092\u884c\u3063\u3066\u4e0b\u3055\u3044\n\n\u74b0\u5883\n\n\u25a0\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\uff08SYSLOG\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff09\uff1a\nH/W\uff1a\u30d1\u30ed\u30a2\u30eb\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b9\u793e \u6b21\u4e16\u4ee3\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\uff08PA-200\uff09\nS/W\uff1aPAN-OS 6.1.11\n\u25a0SYSLOG\u30b5\u30fc\u30d0\nH/W\uff1a\u4eee\u60f3\u57fa\u76e4\u30b5\u30fc\u30d0\nS/W\uff1aCentOS Linux release 7.2.1511 (Core)\n\u3000\u3000\u3000rsyslogd 7.4.7\n\nCA\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n\u4eca\u56de\u306f\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3067CA\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n[Device] > [ \u8a3c\u660e\u66f8\u306e\u7ba1\u7406] > [ \u8a3c\u660e\u66f8] > [ \u30c7\u30d0\u30a4\u30b9\u8a3c\u660e\u66f8] \u306e\u9806\u306b\u9078\u629e\u3002\n\u753b\u9762\u4e0b\u306e[\u751f\u6210]\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u8a3c\u660e\u66f8\u4f5c\u6210\u753b\u9762\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n \u8a3c\u660e\u66f8\u540d\u3092\u5165\u529b\n \u5171\u901a\u540d\u3092\u5165\u529b\n \u8a8d\u8a3c\u5c40\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\n [\u751f\u6210]\u3092\u30af\u30ea\u30c3\u30af\n\n\n\u8a3c\u660e\u66f8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\u4f5c\u6210\u5f8c\u306b\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u540d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u4fe1\u983c\u3055\u308c\u305f\u30eb\u30fc\u30c8CA\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\n[OK]\u3092\u30af\u30ea\u30c3\u30af\n[\u30b3\u30df\u30c3\u30c8]\u3092\u5b9f\u65bd\n\n\n\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u3092\u9078\u629e\u3057\u3001\u753b\u9762\u4e0b\u306e\u300c\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u79d8\u5bc6\u9375\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\n\u79d8\u5bc6\u9375\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\n[OK]\u3092\u30af\u30ea\u30c3\u30af\n\n\n\nSYSLOG\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\n\u7d9a\u3044\u3066\u3001SYSLOG\u30b5\u30fc\u30d0\uff08rsyslog\uff09\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u4e8b\u524d\u6e96\u5099\n\uff11\uff0e\u8a3c\u660e\u66f8\u683c\u7d0d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n# mkdir /etc/rsyslog.cert/\n\n\uff12\uff0e\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# yum install gnutls-utils\n# yum install rsyslog-gnutls\n\n\uff13\uff0e\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3067\u4f5c\u6210\u3057\u305fCA\u8a3c\u660e\u66f8\u3092SCP\u7b49\u3067SYSLOG\u30b5\u30fc\u30d0\u306b\u8ee2\u9001\u3057\u307e\u3059\u3002\n\u3000\uff11\u3067\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bCA\u8a3c\u660e\u66f8\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n\u300c\u4e8b\u524d\u6e96\u5099\u300d\u3067\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u4f5c\u696d\u3092\u884c\u3044\u307e\u3059\u3002\n\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u203b\u4eca\u56de\u306eCA\u8a3c\u660e\u66f8\u540d\u306f\u300ccert_paloalto.pem\u300d\u3067\u3059\n# certtool --generate-privkey --outfile key.pem\nGenerating a 2048 bit RSA private key...\n\n# certtool --generate-request --load-privkey key.pem --outfile request.pem\n\nGenerating a PKCS #10 certificate request...\nCommon name: 192.168.1.100\nOrganizational unit name:\nOrganization name:\nLocality name:\nState or province name:\nCountry name (2 chars):\nEnter the subject's domain component (DC):\nUID:\nEnter a dnsName of the subject of the certificate:\nEnter a URI of the subject of the certificate:\nEnter the IP address of the subject of the certificate:\nEnter the e-mail of the subject of the certificate:\nEnter a challenge password:\nDoes the certificate belong to an authority? (y/N): N\nWill the certificate be used for signing (DHE and RSA-EXPORT ciphersuites)? (Y/n): n\nWill the certificate be used for encryption (RSA ciphersuites)? (Y/n): n\nIs this a TLS web client certificate? (y/N): n\nIs this a TLS web server certificate? (y/N): y\n\n# certtool --generate-certificate --load-request request.pem --load-ca-certificate cert_paloalto.pem --load-ca-privkey cert_paloalto.pem --outfile cert.pem\n\nGenerating a signed certificate...\nEnter password:\u3000\u2605\u79d8\u5bc6\u9375\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\nEnter the certificate's serial number in decimal (default: 6322336484918993431):\n\n\nActivation/Expiration time.\nThe certificate will expire in (days): 1825\n\n\nExtensions.\nDo you want to honour the extensions from the request? (y/N): n\nDoes the certificate belong to an authority? (y/N): n\nIs this a TLS web client certificate? (y/N): y\nWill the certificate be used for IPsec IKE operations? (y/N): n\nIs this a TLS web server certificate? (y/N): y\nEnter a dnsName of the subject of the certificate:\nEnter a URI of the subject of the certificate:\nEnter the IP address of the subject of the certificate:\nEnter the e-mail of the subject of the certificate:\nWill the certificate be used for signing (required for TLS)? (Y/n): n\nWill the certificate be used for encryption (not required for TLS)? (Y/n): y\nX.509 Certificate Information:\n\n\uff1c\u7565\uff1e\n\nIs the above information ok? (y/N): y\n\n\nrsyslog\u306e\u8a2d\u5b9a\nrsyslog\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nSSL\u5316\u306b\u95a2\u4fc2\u304c\u3042\u308b\u7b87\u6240\u3092\"###\u2605\"\u3067\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n/etc/rsyslog.conf\n\n\n# rsyslog configuration file\n\n# For more information see /usr/share/doc/rsyslog-*/rsyslog_conf.html\n# If you experience problems, see http://www.rsyslog.com/doc/troubleshoot.html\n\n#### MODULES ####\n\n# The imjournal module bellow is now used as a message source instead of imuxsock.\n$ModLoad imuxsock # provides support for local system logging (e.g. via logger command)\n$ModLoad imjournal # provides access to the systemd journal\n#$ModLoad imklog # reads kernel messages (the same are read from journald)\n#$ModLoad immark  # provides --MARK-- message capability\n\n# Provides UDP syslog reception\n#$ModLoad imudp\n#$UDPServerRun 514\n\n# Provides TCP syslog reception\n$ModLoad imtcp\u3000###\u2605\n#$InputTCPServerRun 514\n\n### SSL ###\n\n$DefaultNetstreamDriver gtls\u3000###\u2605\n\n$DefaultNetstreamDriverCAFile /etc/rsyslog.cert/cert_paloalto.pem\u3000###\u2605\n$DefaultNetstreamDriverCertFile /etc/rsyslog.cert/cert.pem\u3000###\u2605\n$DefaultNetstreamDriverKeyFile /etc/rsyslog.cert/key.pem\u3000###\u2605\n\n$InputTCPServerStreamDriverMode 1\u3000###\u2605\n$InputTCPServerStreamDriverAuthMode anon\u3000###\u2605\n\n$InputTCPServerRun 6514\u3000###\u2605\n\n\n#### GLOBAL DIRECTIVES ####\n\uff1c\u7565\uff1e\n\n\u8a2d\u5b9a\u5f8c\u3001rsyslog\u306e\u518d\u8d77\u52d5\u3092\u884c\u3044\u307e\u3059\u3002\n# systemctl restart rsyslog\n\n\n\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u8a2d\u5b9a\n\nSYSLOG\u30b5\u30fc\u30d0\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n[Device] > [\u30b5\u30fc\u30d0\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb] > [syslog] \u306e\u9806\u306b\u9078\u629e\u3002\n\u753b\u9762\u4e0b\u306e[\u8ffd\u52a0]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nSYSLOG\u30b5\u30fc\u30d0\u306e\u60c5\u5831\u3092\u5165\u529b\n\u201d\u8ee2\u9001\u201d\u9805\u76ee\u3067\u300cSSL\u300d\u3092\u6307\u5b9a\n[OK]\u3092\u30af\u30ea\u30c3\u30af\n[\u30b3\u30df\u30c3\u30c8]\u3092\u5b9f\u65bd\n\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30ed\u30b0\u306b\u4ee5\u4e0b\u306e\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070\u3001SYSLOG\u30b5\u30fc\u30d0\u3068\u306e\u63a5\u7d9a\u304c\u5b8c\u4e86\u3057\u3066\u3044\u307e\u3059\u3002\nSyslog connection established to server[\\'AF_INET.192.168.1.100:6514.\\']\n\n\n\n\u6b21\u4e16\u4ee3\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u30ed\u30b0\u89e3\u6790\u30c4\u30fc\u30eb\u3092OSS\u3067\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u203b\u8a18\u4e8b\u306e\u5185\u5bb9\u306fPAN-OS6.1.x\u304c\u5bfe\u8c61\u3067\u3059 <br>\n\u30d1\u30ed\u30a2\u30eb\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b9\u6b21\u4e16\u4ee3\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u304b\u3089\u9001\u4fe1\u3055\u308c\u308bSYSLOG\u901a\u4fe1\u3092SSL\u5316\u3059\u308b\u624b\u9806\u3067\u3059\u3002 \n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7d4c\u7531\u3067SYSLOG\u3092\u9001\u4fe1\u3059\u308b\u5834\u5408\u306a\u3069\u306b\u6709\u52b9\u3067\u3059\u3002\n\n\u203b\u5fc5\u8981\u6700\u4f4e\u9650\u306e\u624b\u9806\u306e\u307f\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\n\u3000\u74b0\u5883\u306b\u5fdc\u3058\u3066\u3001\u8a2d\u5b9a\u306a\u3069\u306e\u8ffd\u52a0\u30fb\u5909\u66f4\u3092\u884c\u3063\u3066\u4e0b\u3055\u3044\n\n# \u74b0\u5883\n\n![\u7d20\u6750.png](https://qiita-image-store.s3.amazonaws.com/0/34809/cda07129-1648-c21c-47f3-80489f578da1.png)\n\n\n\n\u25a0\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\uff08SYSLOG\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff09\uff1a\nH/W\uff1a\u30d1\u30ed\u30a2\u30eb\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30b9\u793e \u6b21\u4e16\u4ee3\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\uff08PA-200\uff09\nS/W\uff1aPAN-OS 6.1.11\n\n\u25a0SYSLOG\u30b5\u30fc\u30d0\nH/W\uff1a\u4eee\u60f3\u57fa\u76e4\u30b5\u30fc\u30d0\nS/W\uff1aCentOS Linux release 7.2.1511 (Core)\n\u3000\u3000\u3000rsyslogd 7.4.7\n\n# CA\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n\n\u4eca\u56de\u306f\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3067CA\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n[Device] > [ \u8a3c\u660e\u66f8\u306e\u7ba1\u7406] > [ \u8a3c\u660e\u66f8] > [ \u30c7\u30d0\u30a4\u30b9\u8a3c\u660e\u66f8] \u306e\u9806\u306b\u9078\u629e\u3002\n\u753b\u9762\u4e0b\u306e[\u751f\u6210]\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u8a3c\u660e\u66f8\u4f5c\u6210\u753b\u9762\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n1.  \u8a3c\u660e\u66f8\u540d\u3092\u5165\u529b\n2.  \u5171\u901a\u540d\u3092\u5165\u529b\n3.  \u8a8d\u8a3c\u5c40\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\n4.  [\u751f\u6210]\u3092\u30af\u30ea\u30c3\u30af\n\n \n![PaloAlto_FW_SYSLOG-SSL_001.png](https://qiita-image-store.s3.amazonaws.com/0/34809/f094321f-4d9f-fac7-9bf9-5a77389a49d0.png)\n\n\u8a3c\u660e\u66f8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\u4f5c\u6210\u5f8c\u306b\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u540d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n1. \u4fe1\u983c\u3055\u308c\u305f\u30eb\u30fc\u30c8CA\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\n2. [OK]\u3092\u30af\u30ea\u30c3\u30af\n3. [\u30b3\u30df\u30c3\u30c8]\u3092\u5b9f\u65bd\n\n![PaloAlto_FW_SYSLOG-SSL_002.png](https://qiita-image-store.s3.amazonaws.com/0/34809/c0e4f34f-6b24-edd9-d0bb-b63b8e117958.png)\n\n\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u3092\u9078\u629e\u3057\u3001\u753b\u9762\u4e0b\u306e\u300c\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n![PaloAlto_FW_SYSLOG-SSL_004.png](https://qiita-image-store.s3.amazonaws.com/0/34809/759d2e9b-8a10-a08a-4f3b-172e6c36e724.png)\n\n\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n1. \u79d8\u5bc6\u9375\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\n2. \u79d8\u5bc6\u9375\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\n3. [OK]\u3092\u30af\u30ea\u30c3\u30af\n\n![PaloAlto_FW_SYSLOG-SSL_003.png](https://qiita-image-store.s3.amazonaws.com/0/34809/96e85522-58e1-4411-f68a-9582c3c1d358.png)\n\n# SYSLOG\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\n\u7d9a\u3044\u3066\u3001SYSLOG\u30b5\u30fc\u30d0\uff08rsyslog\uff09\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n## \u4e8b\u524d\u6e96\u5099\n\n\uff11\uff0e\u8a3c\u660e\u66f8\u683c\u7d0d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n# mkdir /etc/rsyslog.cert/\n```\n\n\uff12\uff0e\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n``` \n# yum install gnutls-utils\n# yum install rsyslog-gnutls\n```\n\n\uff13\uff0e\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3067\u4f5c\u6210\u3057\u305fCA\u8a3c\u660e\u66f8\u3092SCP\u7b49\u3067SYSLOG\u30b5\u30fc\u30d0\u306b\u8ee2\u9001\u3057\u307e\u3059\u3002\n\u3000\uff11\u3067\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bCA\u8a3c\u660e\u66f8\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n\n\n\n## \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n\n\n\u300c\u4e8b\u524d\u6e96\u5099\u300d\u3067\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u4f5c\u696d\u3092\u884c\u3044\u307e\u3059\u3002<br>\n\n\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u203b\u4eca\u56de\u306eCA\u8a3c\u660e\u66f8\u540d\u306f\u300ccert_paloalto.pem\u300d\u3067\u3059\n\n\n``` \n# certtool --generate-privkey --outfile key.pem\nGenerating a 2048 bit RSA private key...\n\n# certtool --generate-request --load-privkey key.pem --outfile request.pem\n\nGenerating a PKCS #10 certificate request...\nCommon name: 192.168.1.100\nOrganizational unit name:\nOrganization name:\nLocality name:\nState or province name:\nCountry name (2 chars):\nEnter the subject's domain component (DC):\nUID:\nEnter a dnsName of the subject of the certificate:\nEnter a URI of the subject of the certificate:\nEnter the IP address of the subject of the certificate:\nEnter the e-mail of the subject of the certificate:\nEnter a challenge password:\nDoes the certificate belong to an authority? (y/N): N\nWill the certificate be used for signing (DHE and RSA-EXPORT ciphersuites)? (Y/n): n\nWill the certificate be used for encryption (RSA ciphersuites)? (Y/n): n\nIs this a TLS web client certificate? (y/N): n\nIs this a TLS web server certificate? (y/N): y\n```\n```\n# certtool --generate-certificate --load-request request.pem --load-ca-certificate cert_paloalto.pem --load-ca-privkey cert_paloalto.pem --outfile cert.pem\n\nGenerating a signed certificate...\nEnter password:\u3000\u2605\u79d8\u5bc6\u9375\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\nEnter the certificate's serial number in decimal (default: 6322336484918993431):\n\n\nActivation/Expiration time.\nThe certificate will expire in (days): 1825\n\n\nExtensions.\nDo you want to honour the extensions from the request? (y/N): n\nDoes the certificate belong to an authority? (y/N): n\nIs this a TLS web client certificate? (y/N): y\nWill the certificate be used for IPsec IKE operations? (y/N): n\nIs this a TLS web server certificate? (y/N): y\nEnter a dnsName of the subject of the certificate:\nEnter a URI of the subject of the certificate:\nEnter the IP address of the subject of the certificate:\nEnter the e-mail of the subject of the certificate:\nWill the certificate be used for signing (required for TLS)? (Y/n): n\nWill the certificate be used for encryption (not required for TLS)? (Y/n): y\nX.509 Certificate Information:\n\n\uff1c\u7565\uff1e\n\nIs the above information ok? (y/N): y\n```\n\n## rsyslog\u306e\u8a2d\u5b9a\n\nrsyslog\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nSSL\u5316\u306b\u95a2\u4fc2\u304c\u3042\u308b\u7b87\u6240\u3092\"###\u2605\"\u3067\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u3002\n\n``` :\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n/etc/rsyslog.conf\n```\n```\n# rsyslog configuration file\n\n# For more information see /usr/share/doc/rsyslog-*/rsyslog_conf.html\n# If you experience problems, see http://www.rsyslog.com/doc/troubleshoot.html\n\n#### MODULES ####\n\n# The imjournal module bellow is now used as a message source instead of imuxsock.\n$ModLoad imuxsock # provides support for local system logging (e.g. via logger command)\n$ModLoad imjournal # provides access to the systemd journal\n#$ModLoad imklog # reads kernel messages (the same are read from journald)\n#$ModLoad immark  # provides --MARK-- message capability\n\n# Provides UDP syslog reception\n#$ModLoad imudp\n#$UDPServerRun 514\n\n# Provides TCP syslog reception\n$ModLoad imtcp\u3000###\u2605\n#$InputTCPServerRun 514\n\n### SSL ###\n\n$DefaultNetstreamDriver gtls\u3000###\u2605\n\n$DefaultNetstreamDriverCAFile /etc/rsyslog.cert/cert_paloalto.pem\u3000###\u2605\n$DefaultNetstreamDriverCertFile /etc/rsyslog.cert/cert.pem\u3000###\u2605\n$DefaultNetstreamDriverKeyFile /etc/rsyslog.cert/key.pem\u3000###\u2605\n\n$InputTCPServerStreamDriverMode 1\u3000###\u2605\n$InputTCPServerStreamDriverAuthMode anon\u3000###\u2605\n\n$InputTCPServerRun 6514\u3000###\u2605\n\n\n#### GLOBAL DIRECTIVES ####\n\uff1c\u7565\uff1e\n```\n\n\u8a2d\u5b9a\u5f8c\u3001rsyslog\u306e\u518d\u8d77\u52d5\u3092\u884c\u3044\u307e\u3059\u3002\n\n```\n# systemctl restart rsyslog\n```\n\n# \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u8a2d\u5b9a\n\n## SYSLOG\u30b5\u30fc\u30d0\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\n[Device] > [\u30b5\u30fc\u30d0\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb] > [syslog] \u306e\u9806\u306b\u9078\u629e\u3002\n\u753b\u9762\u4e0b\u306e[\u8ffd\u52a0]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n1. SYSLOG\u30b5\u30fc\u30d0\u306e\u60c5\u5831\u3092\u5165\u529b\n2. \u201d\u8ee2\u9001\u201d\u9805\u76ee\u3067\u300cSSL\u300d\u3092\u6307\u5b9a\n3. [OK]\u3092\u30af\u30ea\u30c3\u30af\n4. [\u30b3\u30df\u30c3\u30c8]\u3092\u5b9f\u65bd\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8_082516_120353_PM.jpg](https://qiita-image-store.s3.amazonaws.com/0/34809/43c03437-63c3-a02e-d95c-dd27e6c8f692.jpeg)\n \n# \u52d5\u4f5c\u78ba\u8a8d\n\n\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u30b7\u30b9\u30c6\u30e0\u30ed\u30b0\u306b\u4ee5\u4e0b\u306e\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070\u3001SYSLOG\u30b5\u30fc\u30d0\u3068\u306e\u63a5\u7d9a\u304c\u5b8c\u4e86\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\nSyslog connection established to server[\\'AF_INET.192.168.1.100:6514.\\']\n```\n\n<br>\n\n-----\n\u6b21\u4e16\u4ee3\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u30ed\u30b0\u89e3\u6790\u30c4\u30fc\u30eb\u3092OSS\u3067\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\n[![PALallax_banner.jpg](https://qiita-image-store.s3.amazonaws.com/0/34809/3675ccfe-c474-cd9d-8cbc-a192dfd1cadc.jpeg)](http://www.ap-com.co.jp/ja/paloalto/palallax/)\n\n[![blog_banner.png](https://qiita-image-store.s3.amazonaws.com/0/34809/c6f58816-5031-e0d2-0be4-bca386ced06a.png)](http://apc-sieg.hateblo.jp/)\n\n\n"}