{"tags": ["Python", "PySide", "PyQt", "PyQtGraph"], "context": "\n\n\u305d\u306e5 Y\u8ef8\u3092\u5897\u3084\u3059\n\n\u305d\u306e4\u307e\u3067\u306e\u30b3\u30e1\u30f3\u30c8\u306f\u524a\u9664\nimport sys\nfrom PySide.QtCore import *\nfrom PySide.QtGui import *\nimport pyqtgraph as pg\n\n\nclass GraphWindow(QMainWindow):\n\n    def __init__(self, parent = None):\n\n        super(GraphWindow, self).__init__(parent)\n\n        pw = pg.PlotWidget(viewBox = pg.ViewBox(border = pg.mkPen(color='#000000'),\n                                                invertX = False, invertY = False))\n\n        self.setCentralWidget(pw)\n\n        pw.setBackground(\"#FFFFFF00\")\n\n        pw.setMinimumSize(500, 400)\n        pw.setMaximumSize(500, 400)\n\n        ## 5 plotItem\u3068ViewBox\u30923\u500b\u304a\u3088\u30733\u3064\u76ee\u306eY\u8ef8\u3092\u4f5c\u6210\u3059\u308b\n        ##   GraphFrame\u3092\u8a2d\u5b9a\u3059\u308b\n        ##   plotItem\u3068ViewBox3\u500b\u304a\u3088\u30733\u3064\u76ee\u306eY\u8ef8\u30921\u3064\u306e\u30b0\u30e9\u30d5\u306b\u5408\u6210\u3059\u308b\n        p1 = pw.plotItem\n        p2 = pg.ViewBox()\n        p3 = pg.ViewBox()\n        ax3 = pg.AxisItem(orientation = 'right')\n        self.setGraphFrameFont(p1, p2, p3, ax3)\n        self.setGraphMultipleAxis(p1, p2, p3, ax3)\n\n        ## 5 \u8ef8\u30e9\u30d9\u30eb\u3092\u8a2d\u5b9a\u3059\u308b\n        p1.setLabels(bottom = \"X Axis\uff08\u3048\u3063\u304f\u3059\u8ef8\uff09\", \n                     left = \"Y1 Axis\uff08\u308f\u30441\u8ef8\uff09\", \n                     right = \"Y2 Axis\uff08\u308f\u30442\u8ef8\uff09\")\n        ax3.setLabel(\"Y3 Axis\uff08\u308f\u30443\u8ef8\uff09\")\n\n        ## 5 \u8ef8\u30e9\u30d9\u30eb\u306e\u30d5\u30a9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\n        fontCss = {'font-family': \"Times New Roman, \u30e1\u30a4\u30ea\u30aa\", 'font-size': '10.5pt', \"color\": \"black\"}\n        p1.getAxis('bottom').setLabel(**fontCss)\n        fontCss[\"color\"] = \"red\"\n        p1.getAxis('left').setLabel(**fontCss)\n        fontCss[\"color\"] = \"blue\"\n        p1.getAxis('right').setLabel(**fontCss)\n        fontCss[\"color\"] = \"green\"\n        ax3.setLabel(**fontCss)\n\n        ## 5 \u30ec\u30f3\u30b8\u3092\u8a2d\u5b9a\u3059\u308b\n        p1.setRange(xRange = (-2, 6), yRange = (-2, 6), padding = 0)\n        p2.setRange(yRange = (-1, 5), padding = 0)\n        p3.setRange(yRange = (0, 4), padding = 0)\n\n        ## 5 \u76ee\u76db\u308a\u3092\u8a2d\u5b9a\u3059\u308b\n        p1.getAxis('bottom').setTickSpacing(major = 2.5, minor = 1)\n        p1.getAxis('left').setTickSpacing(major = 2.5, minor = 1)\n        p1.getAxis('right').setTickSpacing(major = 2.5, minor = 1)\n        ax3.setTickSpacing(major = 2.5, minor = 1)\n\n        ## 5 \u30b0\u30e9\u30d5\u3092\u63cf\u5199\u3059\u308b\n        p1.addItem(pg.PlotCurveItem(x = [0, 1, 2, 3 ,4], \n                                    y = [0, 1, 2, 3 ,4], \n                                    pen = pg.mkPen(color = \"r\", style = Qt.SolidLine), \n                                    name = \"plot1\", \n                                    antialias = True))\n        p2.addItem(pg.ScatterPlotItem(x = [0, 1, 2, 3 ,4], \n                                      y = [4, 3, 2, 1, 0], \n                                      symbol = \"x\", \n                                      pen = pg.mkPen(None), \n                                      brush = pg.mkBrush(\"b\"),\n                                      size = 7.5,\n                                      name = \"plot2\", \n                                      antialias = True))\n        p3.addItem(pg.PlotCurveItem(x = [0, 1, 2, 3 ,4], \n                                    y = [0, 4, 0, 4, 0], \n                                    pen = pg.mkPen(color = \"g\", style = Qt.DashLine),\n                                    name = \"plot3\", \n                                    antialias = True))\n\n\n    def setGraphFrameFont(self, p1, p2 = None, p3 = None, ax3 = None):\n        font = QFont(\"Times New Roman\", 7)\n\n        p1.getAxis('bottom').setPen(pg.mkPen(color='#000000'))\n        p1.getAxis('left').setPen(pg.mkPen(color='#000000'))\n        p1.getAxis('bottom').setHeight(3.5 * 10.5)\n        p1.getAxis('left').setWidth(4 * 10.5)\n\n        #p1.getAxis('bottom').setLabel(**self.fontCss)\n        p1.getAxis('bottom').tickFont = font\n        #p1.getAxis('left').setLabel(**self.fontCss)\n        p1.getAxis('left').tickFont = font\n\n        if p2 != None:\n            p1.getAxis('right').setPen(pg.mkPen(color='#000000'))\n            p1.getAxis('right').setWidth(4 * 10.5)\n\n            #p1.getAxis('right').setLabel(**self.fontCss)\n            p1.getAxis('right').tickFont = font\n\n        if p3 != None and ax3 != None:\n            ax3.setPen(pg.mkPen(color='#000000'))\n            ax3.setWidth(4 * 10.5)\n\n            #ax3.setLabel(**self.fontCss)\n            ax3.tickFont = font\n\n    ## 5 \u8907\u6570Y\u8ef8\u30b0\u30e9\u30d5\u5316\u3059\u308b\n    def setGraphMultipleAxis(self, p1, p2, p3 = None, ax3 = None):\n        p1.showAxis('right')\n        p1.scene().addItem(p2)\n        p1.getAxis('right').linkToView(p2)\n        p2.setXLink(p1)\n\n        p2.sigRangeChanged.connect(lambda: p2.setGeometry(p1.vb.sceneBoundingRect()))\n\n        if p3 != None and ax3 != None:\n            spacer = QGraphicsWidget()\n            spacer.setMaximumSize(15,15)\n            p1.layout.addItem(spacer, 2, 3)\n\n            p1.layout.addItem(ax3, 2, 4)\n            p1.scene().addItem(p3)\n            ax3.linkToView(p3)\n            p3.setXLink(p1)\n\n            p3.sigRangeChanged.connect(lambda: p3.setGeometry(p1.vb.sceneBoundingRect()))\n\n# \u305d\u306e5 Y\u8ef8\u3092\u5897\u3084\u3059\n\n![5.png](https://qiita-image-store.s3.amazonaws.com/0/55744/75c0a1cd-e85a-fcb0-09b2-498c331f6077.png)\n\n\n\u305d\u306e4\u307e\u3067\u306e\u30b3\u30e1\u30f3\u30c8\u306f\u524a\u9664\n\n```py3\nimport sys\nfrom PySide.QtCore import *\nfrom PySide.QtGui import *\nimport pyqtgraph as pg\n\n\nclass GraphWindow(QMainWindow):\n\n    def __init__(self, parent = None):\n        \n        super(GraphWindow, self).__init__(parent)\n        \n        pw = pg.PlotWidget(viewBox = pg.ViewBox(border = pg.mkPen(color='#000000'),\n                                                invertX = False, invertY = False))\n\n        self.setCentralWidget(pw)\n\n        pw.setBackground(\"#FFFFFF00\")\n\n        pw.setMinimumSize(500, 400)\n        pw.setMaximumSize(500, 400)\n\n        ## 5 plotItem\u3068ViewBox\u30923\u500b\u304a\u3088\u30733\u3064\u76ee\u306eY\u8ef8\u3092\u4f5c\u6210\u3059\u308b\n        ##   GraphFrame\u3092\u8a2d\u5b9a\u3059\u308b\n        ##   plotItem\u3068ViewBox3\u500b\u304a\u3088\u30733\u3064\u76ee\u306eY\u8ef8\u30921\u3064\u306e\u30b0\u30e9\u30d5\u306b\u5408\u6210\u3059\u308b\n        p1 = pw.plotItem\n        p2 = pg.ViewBox()\n        p3 = pg.ViewBox()\n        ax3 = pg.AxisItem(orientation = 'right')\n        self.setGraphFrameFont(p1, p2, p3, ax3)\n        self.setGraphMultipleAxis(p1, p2, p3, ax3)\n\n        ## 5 \u8ef8\u30e9\u30d9\u30eb\u3092\u8a2d\u5b9a\u3059\u308b\n        p1.setLabels(bottom = \"X Axis\uff08\u3048\u3063\u304f\u3059\u8ef8\uff09\", \n                     left = \"Y1 Axis\uff08\u308f\u30441\u8ef8\uff09\", \n                     right = \"Y2 Axis\uff08\u308f\u30442\u8ef8\uff09\")\n        ax3.setLabel(\"Y3 Axis\uff08\u308f\u30443\u8ef8\uff09\")\n\n        ## 5 \u8ef8\u30e9\u30d9\u30eb\u306e\u30d5\u30a9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\n        fontCss = {'font-family': \"Times New Roman, \u30e1\u30a4\u30ea\u30aa\", 'font-size': '10.5pt', \"color\": \"black\"}\n        p1.getAxis('bottom').setLabel(**fontCss)\n        fontCss[\"color\"] = \"red\"\n        p1.getAxis('left').setLabel(**fontCss)\n        fontCss[\"color\"] = \"blue\"\n        p1.getAxis('right').setLabel(**fontCss)\n        fontCss[\"color\"] = \"green\"\n        ax3.setLabel(**fontCss)\n\n        ## 5 \u30ec\u30f3\u30b8\u3092\u8a2d\u5b9a\u3059\u308b\n        p1.setRange(xRange = (-2, 6), yRange = (-2, 6), padding = 0)\n        p2.setRange(yRange = (-1, 5), padding = 0)\n        p3.setRange(yRange = (0, 4), padding = 0)\n\n        ## 5 \u76ee\u76db\u308a\u3092\u8a2d\u5b9a\u3059\u308b\n        p1.getAxis('bottom').setTickSpacing(major = 2.5, minor = 1)\n        p1.getAxis('left').setTickSpacing(major = 2.5, minor = 1)\n        p1.getAxis('right').setTickSpacing(major = 2.5, minor = 1)\n        ax3.setTickSpacing(major = 2.5, minor = 1)\n        \n        ## 5 \u30b0\u30e9\u30d5\u3092\u63cf\u5199\u3059\u308b\n        p1.addItem(pg.PlotCurveItem(x = [0, 1, 2, 3 ,4], \n                                    y = [0, 1, 2, 3 ,4], \n                                    pen = pg.mkPen(color = \"r\", style = Qt.SolidLine), \n                                    name = \"plot1\", \n                                    antialias = True))\n        p2.addItem(pg.ScatterPlotItem(x = [0, 1, 2, 3 ,4], \n                                      y = [4, 3, 2, 1, 0], \n                                      symbol = \"x\", \n                                      pen = pg.mkPen(None), \n                                      brush = pg.mkBrush(\"b\"),\n                                      size = 7.5,\n                                      name = \"plot2\", \n                                      antialias = True))\n        p3.addItem(pg.PlotCurveItem(x = [0, 1, 2, 3 ,4], \n                                    y = [0, 4, 0, 4, 0], \n                                    pen = pg.mkPen(color = \"g\", style = Qt.DashLine),\n                                    name = \"plot3\", \n                                    antialias = True))\n\n\n    def setGraphFrameFont(self, p1, p2 = None, p3 = None, ax3 = None):\n        font = QFont(\"Times New Roman\", 7)\n\n        p1.getAxis('bottom').setPen(pg.mkPen(color='#000000'))\n        p1.getAxis('left').setPen(pg.mkPen(color='#000000'))\n        p1.getAxis('bottom').setHeight(3.5 * 10.5)\n        p1.getAxis('left').setWidth(4 * 10.5)\n\n        #p1.getAxis('bottom').setLabel(**self.fontCss)\n        p1.getAxis('bottom').tickFont = font\n        #p1.getAxis('left').setLabel(**self.fontCss)\n        p1.getAxis('left').tickFont = font\n\n        if p2 != None:\n            p1.getAxis('right').setPen(pg.mkPen(color='#000000'))\n            p1.getAxis('right').setWidth(4 * 10.5)\n\n            #p1.getAxis('right').setLabel(**self.fontCss)\n            p1.getAxis('right').tickFont = font\n\n        if p3 != None and ax3 != None:\n            ax3.setPen(pg.mkPen(color='#000000'))\n            ax3.setWidth(4 * 10.5)\n\n            #ax3.setLabel(**self.fontCss)\n            ax3.tickFont = font\n\n    ## 5 \u8907\u6570Y\u8ef8\u30b0\u30e9\u30d5\u5316\u3059\u308b\n    def setGraphMultipleAxis(self, p1, p2, p3 = None, ax3 = None):\n        p1.showAxis('right')\n        p1.scene().addItem(p2)\n        p1.getAxis('right').linkToView(p2)\n        p2.setXLink(p1)\n\n        p2.sigRangeChanged.connect(lambda: p2.setGeometry(p1.vb.sceneBoundingRect()))\n        \n        if p3 != None and ax3 != None:\n            spacer = QGraphicsWidget()\n            spacer.setMaximumSize(15,15)\n            p1.layout.addItem(spacer, 2, 3)\n\n            p1.layout.addItem(ax3, 2, 4)\n            p1.scene().addItem(p3)\n            ax3.linkToView(p3)\n            p3.setXLink(p1)\n            \n            p3.sigRangeChanged.connect(lambda: p3.setGeometry(p1.vb.sceneBoundingRect()))\n```\n"}