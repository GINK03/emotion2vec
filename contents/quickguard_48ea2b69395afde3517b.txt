{"context": "\n\n\u6982\u8981\nDeis \u304c\u958b\u767a\u3057\u305f Kubernetes \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u30c4\u30fc\u30eb Helm \u3092\u4f7f\u3063\u3066\u307f\u308b\nhelm \u306e\u7279\u5fb4\u306f\u4ee5\u4e0b\u306e\u901a\u308a\n\nkubernetes \u306e\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u7fa4(RC, Service, Pod)\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3057\u305f\u3082\u306e chart \u3068\u547c\u3093\u3067\u3044\u308b\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066 kubernetes \u4e0a\u306b\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3067\u304d\u308b\nReplicationController, Service \u3092\u4e00\u62ec\u3067\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u304f\u308c\u308b\n\n\nhelm \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067 helm \u30d0\u30a4\u30ca\u30ea \u304c\u3067\u304d\u308b\u306e\u3067\u3001\u9069\u5f53\u306b PATH \u3092\u901a\u3059\n$ curl -s https://get.helm.sh | bash\n\n\n\u521d\u671f\u8a2d\u5b9a\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067 $HOME/.helm \u306b\u30ec\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\u3084 charts (\u30de\u30cb\u30d5\u30a7\u30b9\u30c8)\u304c\u4fdd\u5b58\u3055\u308c\u308b\n$ helm update\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u767b\u9332\u3055\u308c\u308b\u30ec\u30dd\u30b8\u30c8\u30ea\u306f\u4ee5\u4e0b\nhttps://github.com/helm/charts\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\n/home/*****/.helm/\n|\n|--config.yaml             #\u30ec\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\n|\n|--cache\n|\n|--charts                  #helm update \u3067\u53d6\u5f97\u3057\u305f kubernetes \u30de\u30cb\u30d5\u30a7\u30b9\u30c8\n|    |--alpine\n|         |--Chart.yaml    \n|         |--manifests\n|               |--alpine-pod.yaml\n|         \n|    |--cassandra\n|         |--Chart.yaml\n|         |--manifests\n...snip...\n|\n|--- workspace             #\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(helm fetch \u3067\u30b3\u30d4\u30fc\u3055\u308c\u308b)\n\ncharts \u4e00\u89a7\u53d6\u5f97\n$ helm search\n\n2016/01/15\u6642\u70b9\u306e\u30ea\u30b9\u30c8\nalpine - Simple pod running Alpine Linux.\ncassandra - The Apache Cassandra Project.\ndocker-registry - The Docker toolset to pack, ship, store, and deliver content.\nelasticsearch - Elasticsearch Restful Search Engine\nexample-nginx - An example nginx + git-sync application\nexample-todo - Example Todo application backed by Redis\njenkins - The leading open-source continuous integration server.\nmemcached - A simple Memcached cluster\nmysql - Chart running MySQL.\nnginx - Nginx http service\nnginx-alpine - Nginx http service\nowncloud - a self-hosted file sync and share server.\npostgresql - The world's most advanced open source database.\nproxy-2-service - Proxy a pod port or host port to a kubernetes Service\nrabbitmq - Chart running RabbitMQ.\nredis-cluster - Highly available Redis cluster with multiple sentinels and standbys.\nredis-standalone - Standalone Redis Master\nredmine - A flexible project management web application.\nriak - A distributed NoSQL database.\nselenium - Selenium is a suite of tools to automate web browsers across many platforms.\nubuntu-debootstrap - Simple pod running minimal Ubuntu\n\n\nkubernetes \u306b\u30c7\u30d7\u30ed\u30a4\n\u30ea\u30b9\u30c8\u306b\u3042\u3063\u305f redmine \u3092\u69cb\u7bc9\u3057\u3066\u307f\u308b\n\u4e8b\u524d\u306b kubectl \u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\n$ helm install redmine\n---> Running `kubectl create -f` ...\nservice \"redmine\" created\n\nreplicationcontroller \"redmine\" created\n\n---> Done\n========================================\n# Redmine\n\nRedmine is a flexible project management web application written using Ruby on Rails framework.\n========================================\n\n\u78ba\u8a8d\n$ kubectl get pod\nNAME            READY     STATUS    RESTARTS   AGE\nredmine-zdetd   1/1       Running   0          1m\n\n$ kubectl get svc\nNAME         CLUSTER_IP     EXTERNAL_IP   PORT(S)   SELECTOR      AGE\nredmine      10.55.241.60   <none>        80/TCP    app=redmine   1m\n\n\u524a\u9664\n$ helm uninstall redmine\nService/redmine\nReplicationController/redmine\nUninstall the listed objects? (y/N) y\n---> Running `kubectl delete` ...\n---> service \"redmine\" deleted\n\n---> replicationcontroller \"redmine\" deleted\n\n---> Done\n\n\n\u81ea\u524d\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u3063\u3066 helm \u3067 Wordpress \u3092\u69cb\u7bc9\n\u4e8b\u524d\u6e96\u5099\n\nGithub \u306b\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\ncharts \u3092\u4f5c\u6210\u3057\u3066\u30ec\u30dd\u30b8\u30c8\u30ea\u306b push \u3057\u3066\u304a\u304f\uff08\u4f5c\u6210\u3057\u305f charts \u306f\u3053\u3061\u3089\uff09\n\n\u4ee5\u524d\u4f5c\u6210\u3057\u305f Wordpress \u306e\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u3092\u30d9\u30fc\u30b9\u306b\u4f5c\u6210\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u524a\u9664\n$ helm repo rm charts\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\n$ helm repo add charts https://github.com/quickguard/charts\n---> Cloning into '/home/******/.helm/cache/charts'...\n---> Hooray! Successfully added the repo.\n\n\u78ba\u8a8d\n$ helm search wordpress\nwordpress - The WordPress rich content management system can utilize plugins, widgets, and themes.\n\ncharts \u3092\u7de8\u96c6\n\u30ec\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u53d6\u5f97\u3057\u305f charts \u3092\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\n$ helm fetch wordpress\n---> Fetched chart into workspace /home/******/.helm/workspace/charts/wordpress\n---> Done\n\ncharts \u7de8\u96c6\uff08\u4e8b\u524d\u306b $EDITOR \u3092 export \u3057\u3066\u304a\u304f\uff09\n$ helm edit wordpress\n\n\u30c7\u30fc\u30bf\u6c38\u7d9a\u7528\u306e pd \u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\ngcloud compute disks create --size=10GB --zone=asia-east1-b mysql-data-disk\ngcloud compute disks create --size=10GB --zone=asia-east1-b wordpress-data-disk\n\nkubernetes \u306b\u30c7\u30d7\u30ed\u30a4\n$ helm install wordpress\n---> Running `kubectl create -f` ...\nservice \"mysql\" created\n\nservice \"wpfrontend\" created\n\nreplicationcontroller \"mysql\" created\n\nreplicationcontroller \"wordpress\" created\n\n---> Done\n========================================\n# Wordpress\n\nRedmine is a free and open source, web-based project management and issue tracking tool. It allows users to manage multiple projects and associated subprojects. It features per project wikis and forums, time tracking, and flexible role based access control. It includes a calendar and Gantt charts to aid visual representation of projects and their deadlines. Redmine integrates with various version control systems and includes a repository browser and diff viewer.\n========================================\n\n\u78ba\u8a8d\n$ kubectl get rc\nCONTROLLER   CONTAINER(S)   IMAGE(S)    SELECTOR         REPLICAS   AGE\nmysql        mysql          mysql:5.6   name=mysql       1          5m\nwordpress    wordpress      wordpress   name=wordpress   1          5m\n\n$ kubectl get svc\nNAME         CLUSTER_IP      EXTERNAL_IP       PORT(S)    SELECTOR         AGE\nkubernetes   10.55.240.1     <none>            443/TCP    <none>           5h\nmysql        10.55.245.221   <none>            3306/TCP   name=mysql       5m\nwpfrontend   10.55.248.68    xxx.xxx.xxx.xxx   80/TCP     name=wordpress   5m\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://\uff5bEXTERNAL_IP\uff5d/ \u306b\u30a2\u30af\u30bb\u30b9\n\n# \u6982\u8981\n[Deis](http://deis.io/) \u304c\u958b\u767a\u3057\u305f Kubernetes \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u30c4\u30fc\u30eb [Helm](https://helm.sh/) \u3092\u4f7f\u3063\u3066\u307f\u308b\n\nhelm \u306e\u7279\u5fb4\u306f\u4ee5\u4e0b\u306e\u901a\u308a\n\n- kubernetes \u306e\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u7fa4(RC, Service, Pod)\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3057\u305f\u3082\u306e chart \u3068\u547c\u3093\u3067\u3044\u308b\n- \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066 kubernetes \u4e0a\u306b\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3067\u304d\u308b\n- ReplicationController, Service \u3092\u4e00\u62ec\u3067\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u304f\u308c\u308b\n\n\n#helm \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067 helm \u30d0\u30a4\u30ca\u30ea \u304c\u3067\u304d\u308b\u306e\u3067\u3001\u9069\u5f53\u306b PATH \u3092\u901a\u3059\n\n```\n$ curl -s https://get.helm.sh | bash\n```\n\n\n#\u521d\u671f\u8a2d\u5b9a\n\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067 $HOME/.helm \u306b\u30ec\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\u3084 charts (\u30de\u30cb\u30d5\u30a7\u30b9\u30c8)\u304c\u4fdd\u5b58\u3055\u308c\u308b\n\n```\n$ helm update\n```\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u767b\u9332\u3055\u308c\u308b\u30ec\u30dd\u30b8\u30c8\u30ea\u306f\u4ee5\u4e0b\nhttps://github.com/helm/charts\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\n\n```bash\n/home/*****/.helm/\n|\n|--config.yaml             #\u30ec\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\n|\n|--cache\n|\n|--charts                  #helm update \u3067\u53d6\u5f97\u3057\u305f kubernetes \u30de\u30cb\u30d5\u30a7\u30b9\u30c8\n|    |--alpine\n|         |--Chart.yaml    \n|         |--manifests\n|               |--alpine-pod.yaml\n|         \n|    |--cassandra\n|         |--Chart.yaml\n|         |--manifests\n...snip...\n|\n|--- workspace             #\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(helm fetch \u3067\u30b3\u30d4\u30fc\u3055\u308c\u308b)\n```\n\n**charts \u4e00\u89a7\u53d6\u5f97**\n\n```\n$ helm search\n```\n\n2016/01/15\u6642\u70b9\u306e\u30ea\u30b9\u30c8\n\n```\nalpine - Simple pod running Alpine Linux.\ncassandra - The Apache Cassandra Project.\ndocker-registry - The Docker toolset to pack, ship, store, and deliver content.\nelasticsearch - Elasticsearch Restful Search Engine\nexample-nginx - An example nginx + git-sync application\nexample-todo - Example Todo application backed by Redis\njenkins - The leading open-source continuous integration server.\nmemcached - A simple Memcached cluster\nmysql - Chart running MySQL.\nnginx - Nginx http service\nnginx-alpine - Nginx http service\nowncloud - a self-hosted file sync and share server.\npostgresql - The world's most advanced open source database.\nproxy-2-service - Proxy a pod port or host port to a kubernetes Service\nrabbitmq - Chart running RabbitMQ.\nredis-cluster - Highly available Redis cluster with multiple sentinels and standbys.\nredis-standalone - Standalone Redis Master\nredmine - A flexible project management web application.\nriak - A distributed NoSQL database.\nselenium - Selenium is a suite of tools to automate web browsers across many platforms.\nubuntu-debootstrap - Simple pod running minimal Ubuntu\n```\n\n#kubernetes \u306b\u30c7\u30d7\u30ed\u30a4\n\n\u30ea\u30b9\u30c8\u306b\u3042\u3063\u305f redmine \u3092\u69cb\u7bc9\u3057\u3066\u307f\u308b\n\n\u4e8b\u524d\u306b kubectl \u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\n\n```\n$ helm install redmine\n---> Running `kubectl create -f` ...\nservice \"redmine\" created\n\nreplicationcontroller \"redmine\" created\n\n---> Done\n========================================\n# Redmine\n\nRedmine is a flexible project management web application written using Ruby on Rails framework.\n========================================\n```\n\n\u78ba\u8a8d\n\n```\n$ kubectl get pod\nNAME            READY     STATUS    RESTARTS   AGE\nredmine-zdetd   1/1       Running   0          1m\n\n$ kubectl get svc\nNAME         CLUSTER_IP     EXTERNAL_IP   PORT(S)   SELECTOR      AGE\nredmine      10.55.241.60   <none>        80/TCP    app=redmine   1m\n```\n\n\n\n**\u524a\u9664**\n\n```\n$ helm uninstall redmine\nService/redmine\nReplicationController/redmine\nUninstall the listed objects? (y/N) y\n---> Running `kubectl delete` ...\n---> service \"redmine\" deleted\n\n---> replicationcontroller \"redmine\" deleted\n\n---> Done\n```\n\n#\u81ea\u524d\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u3063\u3066 helm \u3067 Wordpress \u3092\u69cb\u7bc9\n\n**\u4e8b\u524d\u6e96\u5099**\n\n- Github \u306b\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\n- charts \u3092\u4f5c\u6210\u3057\u3066\u30ec\u30dd\u30b8\u30c8\u30ea\u306b push \u3057\u3066\u304a\u304f\uff08\u4f5c\u6210\u3057\u305f charts \u306f[\u3053\u3061\u3089](https://github.com/quickguard/charts)\uff09\n- [\u4ee5\u524d](http://qiita.com/quickguard/items/3b82ab17e4ab768fff37)\u4f5c\u6210\u3057\u305f Wordpress \u306e\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u3092\u30d9\u30fc\u30b9\u306b\u4f5c\u6210\n\n\n**\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u524a\u9664**\n\n```\n$ helm repo rm charts\n```\n\n**\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332**\n\n```\n$ helm repo add charts https://github.com/quickguard/charts\n---> Cloning into '/home/******/.helm/cache/charts'...\n---> Hooray! Successfully added the repo.\n```\n\n\u78ba\u8a8d\n\n```\n$ helm search wordpress\nwordpress - The WordPress rich content management system can utilize plugins, widgets, and themes.\n```\n\n**charts \u3092\u7de8\u96c6**\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u53d6\u5f97\u3057\u305f charts \u3092\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\n\n```\n$ helm fetch wordpress\n---> Fetched chart into workspace /home/******/.helm/workspace/charts/wordpress\n---> Done\n```\n\ncharts \u7de8\u96c6\uff08\u4e8b\u524d\u306b $EDITOR \u3092 export \u3057\u3066\u304a\u304f\uff09\n\n```\n$ helm edit wordpress\n```\n\n\u30c7\u30fc\u30bf\u6c38\u7d9a\u7528\u306e pd \u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\n\n```\ngcloud compute disks create --size=10GB --zone=asia-east1-b mysql-data-disk\ngcloud compute disks create --size=10GB --zone=asia-east1-b wordpress-data-disk\n```\n\n**kubernetes \u306b\u30c7\u30d7\u30ed\u30a4**\n\n```\n$ helm install wordpress\n---> Running `kubectl create -f` ...\nservice \"mysql\" created\n\nservice \"wpfrontend\" created\n\nreplicationcontroller \"mysql\" created\n\nreplicationcontroller \"wordpress\" created\n\n---> Done\n========================================\n# Wordpress\n\nRedmine is a free and open source, web-based project management and issue tracking tool. It allows users to manage multiple projects and associated subprojects. It features per project wikis and forums, time tracking, and flexible role based access control. It includes a calendar and Gantt charts to aid visual representation of projects and their deadlines. Redmine integrates with various version control systems and includes a repository browser and diff viewer.\n========================================\n```\n\n\u78ba\u8a8d\n\n```\n$ kubectl get rc\nCONTROLLER   CONTAINER(S)   IMAGE(S)    SELECTOR         REPLICAS   AGE\nmysql        mysql          mysql:5.6   name=mysql       1          5m\nwordpress    wordpress      wordpress   name=wordpress   1          5m\n\n$ kubectl get svc\nNAME         CLUSTER_IP      EXTERNAL_IP       PORT(S)    SELECTOR         AGE\nkubernetes   10.55.240.1     <none>            443/TCP    <none>           5h\nmysql        10.55.245.221   <none>            3306/TCP   name=mysql       5m\nwpfrontend   10.55.248.68    xxx.xxx.xxx.xxx   80/TCP     name=wordpress   5m\n```\n\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://\uff5bEXTERNAL_IP\uff5d/ \u306b\u30a2\u30af\u30bb\u30b9\n\n![01.png](https://qiita-image-store.s3.amazonaws.com/0/105824/6432870d-2612-9177-03ee-4e7d71b60819.png)\n\n\n\n", "tags": ["kubernetes", "GoogleCloudPlatform", "docker"]}