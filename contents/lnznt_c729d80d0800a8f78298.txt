{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nmono \u306f CLI(\u5171\u901a\u8a00\u8a9e\u57fa\u76e4)\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u5b9f\u88c5\u3067\u3059\u3002\nCLI \u306f Microsoft \u304c\u4f5c\u3063\u305f\u4ed5\u69d8\u3067\u3001\u672c\u5bb6\u672c\u5143\u306e\u5b9f\u88c5\u304c CLR \u3067 .NET framework \u306e\u57fa\u76e4\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3002\u3002\u3002\u3067\u3042\u3063\u3066\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3054\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u8abf\u3079\u3066\u304f\u3060\u3055\u3044\u3002\n\u8981\u306f\u3001mono \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068 Linux \u3067\u3082 C# \u3068\u304b F# \u3068\u304b\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u307e\u3059\u3002\nUbuntu 14.04 \u3067 C# \u3068 F# \u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n$ sudo apt-get install mono-dmcs fsharp\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308c\u3070\u3001hello.cs \u3068\u304b\u4f5c\u3063\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u307e\u3059\u3002\n\nhello.cs\ncusing System;\n\nclass Hello\n{\n        public static void Main()\n        {\n            Console.WriteLine(\"hello, world\");\n        }\n}\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3002\n$ dmcs hello.cs      # \u79c1\u306e\u74b0\u5883\u3067\u306f Warning \u304c\u3067\u307e\u3057\u305f\u304c\u3001\u672c\u984c\u3067\u306a\u3044\u306e\u3067\u6c17\u306b\u3057\u306a\u3044(^_^;\n\nhello.exe \u304c\u3067\u304d\u3042\u304c\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f PE32 \u5f62\u5f0f\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f Windows \u306e .NET \u74b0\u5883\u3067\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n$ file hello.exe \nhello.exe: PE32 executable (console) Intel 80386 Mono/.Net assembly, for MS Windows\n\nLinux \u30cd\u30a4\u30c6\u30a3\u30d6\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3068\u6bd4\u8f03\u3057\u307e\u3057\u3087\u3046\u3002\nLinux \u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306f ELF \u5f62\u5f0f\u3067\u3059\u3002\n$ file /bin/ls\n/bin/ls: ELF 64-bit LSB  executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.24, BuildID[sha1]=64d095bc6589dd4bfbf1c6d62ae985385965461b, stripped\n\nhello.exe \u306f cli \u30b3\u30de\u30f3\u30c9\u306b\u6e21\u3059\u3068\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n$ cli hello.exe \nhello, world\n\n\nmono \u30d0\u30a4\u30ca\u30ea\u3092\u5b9f\u884c\u3059\u308b\n\u3053\u3053\u304b\u3089\u3001\u672c\u984c\u3067\u3059\u3002\nWindows .NET \u74b0\u5883\u306e\u5b9f\u884c\u5f62\u5f0f\u3067\u3042\u308b hello.exe \u3067\u3059\u304c\u3001\u5b9f\u306f Linux \u3067\u3082\u305d\u306e\u307e\u307e\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n$ ./hello.exe\nhello, world\n\n\u3053\u306e\u3053\u3068\u3092\u5b9f\u73fe\u3057\u3066\u3044\u308b\u306e\u304c\u3001\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb binfmt_misc \u3067\u3059\u3002\nmono-dmcs \u30d1\u30c3\u30b1\u30fc\u30b8(\u3068\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8)\u304c binfmt_misc \u3092\u5229\u7528\u3057\u3066 mono \u30d0\u30a4\u30ca\u30ea\u3092\u5b9f\u884c\u3067\u304d\u308b\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002(\u3069\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u306f\u7279\u5b9a\u3067\u304d\u3066\u307e\u305b\u3093\u3002\u3059\u307f\u307e\u305b\u3093)\n\u8a2d\u5b9a\u306f update-binfmts \u30b3\u30de\u30f3\u30c9\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002cli \u306f\u3053\u306e\u8a2d\u5b9a\u306e\u540d\u524d\u3067\u3059\u3002\n$ update-binfmts --display cli\ncli (enabled):\n     package = mono-runtime\n        type = magic\n      offset = 0\n       magic = MZ\n        mask = \n interpreter = /usr/bin/cli\n    detector = /usr/lib/cli/binfmt-detector-cli\n\n\nbinfmt_misc \u306f shebang \u3092\u6c4e\u7528\u7684\u306b\u3057\u305f\u3088\u3046\u306a\u611f\u3058\u306e\u3082\u306e\u3067\u3059\u3002\nbash \u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ bash myscript.sh\n\n\u3067\u3059\u304c\u30011\u884c\u76ee\u306b shebang \u3092\u8a18\u8ff0\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u5b9f\u884c\u6a29\u3092\u4e0e\u3048\u3066\u5b9f\u884c\u3059\u308b\u3068 bash \u306b\u6e21\u3055\u305a\u306b\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n(\u4ee5\u4e0b\u304c shebang\u3002\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf(\u3053\u3053\u3067\u306f bash)\u3092\u6307\u5b9a\u3059\u308b)\n#!/bin/bash\n\n$ chmod +x myscript.sh      # \u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3059\u308b\n$ ./myscript.sh             # bash \u306b\u6e21\u3055\u306a\u304f\u3066\u3082\u5b9f\u884c\u3067\u304d\u308b\n\n\nARM \u30d0\u30a4\u30ca\u30ea\u3092\u5b9f\u884c\u3059\u308b\nARM Linux \u306e\u30d0\u30a4\u30ca\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002(\u79c1\u306e\u74b0\u5883\u306f x64 \u3067\u3059)\nARM \u7528 C/C++ \u30b3\u30f3\u30d1\u30a4\u30e9\u3068 qemu (\u30a8\u30df\u30e5\u30ec\u30fc\u30bf) \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ suto apt-get install g++-arm-linux-gnueabihf \\\n                       qemu-user               \\\n                       qemu-user-static\n\nhello.c \u3092\u4f5c\u308a\u307e\u3059\u3002\n\nhello.c\n#include <stdio.h>\n#include <stdlib.h>\n\nint main(void)\n{\n    printf(\"hello, world\\n\");\n\n    return EXIT_SUCCESS;\n}\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002(static \u3067\u30ea\u30f3\u30af\u3057\u307e\u3059)\n$ make CC=arm-linux-gnueabihf-gcc CFLAGS=-static hello\n\n\u3067\u304d\u305f hello \u306f ARM \u306e ELF\u5f62\u5f0f\u3067\u3059\u304c\u3001\u305d\u306e\u307e\u307e\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n$ file hello\nhello: ELF 32-bit LSB  executable, ARM, EABI5 version 1 (SYSV), statically linked, for GNU/Linux 2.6.32, BuildID[sha1]=37bb4dd6d030787ec273d16ec54665a1c3fc9526, not stripped\n\n$ ./hello\nhello, world\n\n\u3053\u308c\u3082\u3001binfmt_misc \u306e\u8a2d\u5b9a\u304c\u3055\u308c\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002(qemu-user-static \u304c\u8a2d\u5b9a\u3057\u3066\u3044\u308b)\n$ update-binfmts --display qemu-arm\nqemu-arm (enabled):\n     package = qemu-user-static\n        type = magic\n      offset = 0\n       magic = \\x7fELF\\x01\\x01\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x28\\x00\n        mask = \\xff\\xff\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xfe\\xff\\xff\\xff\n interpreter = /usr/bin/qemu-arm-static\n    detector = \n\n\n\u4e0a\u3067\u306f\u3001static \u30ea\u30f3\u30af\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3057\u305f\u304c\u3001dynamic \u30ea\u30f3\u30af\u3067\u4f5c\u3063\u305f\u30d0\u30a4\u30ca\u30ea\u3082\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\nmake CC=arm-linux-gnueabihf-gcc hello   # hello \u3092 dynamic \u30ea\u30f3\u30af\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\n\n\u305f\u3060\u3057\u3001\u79c1\u304c\u4f7f\u7528\u3057\u3066\u3044\u308b Ubuntu \u3067\u306f\u3001hello \u306e\u5b9f\u884c\u6642\u306b ARM \u306e\u30ed\u30fc\u30c0\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u898b\u3064\u3051\u3089\u308c\u305a\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u305d\u308c\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u5bfe\u51e6\u3067\u304d\u307e\u3059\u3002\n# /lib \u306b \u30ed\u30fc\u30c0\u3068\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u5f35\u308b\n$ cd /lib/\n$ sudo ln -s /usr/arm-linux-gnueabihf/lib/ld-linux-armhf.so.3 .\n$ sudo ln -s /usr/arm-linux-gnueabihf/lib arm-linux-gnueabihf\n\n\nJPEG \u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u300c\u5b9f\u884c\u300d\u3059\u308b\n\u904a\u3073\u307e\u3059\u3002\nbinfmt_misc \u306b JPEG \u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u300c\u5b9f\u884c\u300d\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ sudo update-binfmts --install jpeg /usr/bin/eog --magic \"JFIF\" --offset 6\n\n\u8a2d\u5b9a\u3055\u308c\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ sudo update-binfmts --display jpeg\njpeg (enabled):\n     package = <local>\n        type = magic\n      offset = 6\n       magic = JFIF\n        mask = \n interpreter = /usr/bin/eog\n    detector = \n\n\u3053\u308c\u3067\u3001JPEG \u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u884c\u6a29\u3092\u4e0e\u3048\u3066\u5b9f\u884c\u3059\u308b\u3068\u753b\u50cf\u30d3\u30e5\u30fc\u30a2 eog \u3067\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \n$ chmod +x hoge.jpg       # \u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3059\u308b\n$ ./hoge.jpg              # JPEG \u753b\u50cf\u3092\u300c\u5b9f\u884c\u300d\u3059\u308b\n\n\u4f55\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u306f\u3001\u3042\u306a\u305f\u6b21\u7b2c!\n\n\u5927\u96d1\u628a\u306b\u8a00\u3063\u3066\u3001binfmt_misc \u306e\u8a2d\u5b9a\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u304c\u8a72\u5f53\u3059\u308b\u304b\u306e\u5224\u65ad\u6761\u4ef6\u3068\u8a72\u5f53\u3057\u305f\u6642\u306b\u6e21\u3059\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u306e\u6307\u5b9a\u3067\u3059\u3002\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001\u5224\u65ad\u6761\u4ef6\u3068\u3057\u3066\u30de\u30b8\u30c3\u30af\u30b3\u30fc\u30c9(--magic \"JFIF\" --offset 6)\u3092\u6307\u5b9a\u3057\u307e\u3057\u305f\u304c\u3001\u4ed6\u306e\u30bf\u30a4\u30d7\u3067\u3082\u6761\u4ef6\u8a2d\u5b9a\u306f\u3067\u304d\u307e\u3059\u3002\n\u62e1\u5f35\u5b50\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ sudo update-binfmts --remove jpeg /usr/bin/eog                   # \u4e00\u65e6\u8a2d\u5b9a\u3092\u6d88\u3057\u3066\u3001\n$ sudo update-binfmts --install jpeg /usr/bin/eog --extension jpg  # \u62e1\u5f35\u5b50\u3067\u8a2d\u5b9a\n$ sudo update-binfmts --display jpeg                               # \u78ba\u8a8d\njpeg (enabled):\n     package = <local>\n        type = extension\n      offset = 0\n       magic = jpg\n        mask = \n interpreter = /usr/bin/eog\n    detector = \n\n\u3053\u308c\u3067\u3082\u3001JPEG \u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u304c\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n$ chmod +x hoge.jpg       # \u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3059\u308b\n$ ./hoge.jpg              # JPEG \u753b\u50cf\u3092\u300c\u5b9f\u884c\u300d\u3059\u308b\n\n\u4f55\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u306f\u3001(\u7565)\n\n\u304a\u308f\u308a\u306b\n\u52d5\u4f5c\u78ba\u8a8d\u306f\u4ee5\u4e0b\u306e\u74b0\u5883\u3067\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\nUbuntu Linux 14.04\n\n# \u306f\u3058\u3081\u306b\nmono \u306f CLI(\u5171\u901a\u8a00\u8a9e\u57fa\u76e4)\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u5b9f\u88c5\u3067\u3059\u3002\nCLI \u306f Microsoft \u304c\u4f5c\u3063\u305f\u4ed5\u69d8\u3067\u3001\u672c\u5bb6\u672c\u5143\u306e\u5b9f\u88c5\u304c CLR \u3067 .NET framework \u306e\u57fa\u76e4\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3002\u3002\u3002\u3067\u3042\u3063\u3066\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3054\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u8abf\u3079\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u8981\u306f\u3001mono \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068 Linux \u3067\u3082 C# \u3068\u304b F# \u3068\u304b\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u307e\u3059\u3002\nUbuntu 14.04 \u3067 C# \u3068 F# \u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```shell-session\n$ sudo apt-get install mono-dmcs fsharp\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308c\u3070\u3001hello.cs \u3068\u304b\u4f5c\u3063\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u307e\u3059\u3002\n\n```csharp:hello.cs\ncusing System;\n\nclass Hello\n{\n        public static void Main()\n        {\n            Console.WriteLine(\"hello, world\");\n        }\n}\n```\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3002\n\n```shell-session\n$ dmcs hello.cs      # \u79c1\u306e\u74b0\u5883\u3067\u306f Warning \u304c\u3067\u307e\u3057\u305f\u304c\u3001\u672c\u984c\u3067\u306a\u3044\u306e\u3067\u6c17\u306b\u3057\u306a\u3044(^_^;\n```\n\nhello.exe \u304c\u3067\u304d\u3042\u304c\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f PE32 \u5f62\u5f0f\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f Windows \u306e .NET \u74b0\u5883\u3067\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\n```shell-session\n$ file hello.exe \nhello.exe: PE32 executable (console) Intel 80386 Mono/.Net assembly, for MS Windows\n```\n\nLinux \u30cd\u30a4\u30c6\u30a3\u30d6\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3068\u6bd4\u8f03\u3057\u307e\u3057\u3087\u3046\u3002\nLinux \u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306f ELF \u5f62\u5f0f\u3067\u3059\u3002\n\n```shell-session\n$ file /bin/ls\n/bin/ls: ELF 64-bit LSB  executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.24, BuildID[sha1]=64d095bc6589dd4bfbf1c6d62ae985385965461b, stripped\n```\n\nhello.exe \u306f cli \u30b3\u30de\u30f3\u30c9\u306b\u6e21\u3059\u3068\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n```shell-session\n$ cli hello.exe \nhello, world\n```\n\n# mono \u30d0\u30a4\u30ca\u30ea\u3092\u5b9f\u884c\u3059\u308b\n\u3053\u3053\u304b\u3089\u3001\u672c\u984c\u3067\u3059\u3002\n\nWindows .NET \u74b0\u5883\u306e\u5b9f\u884c\u5f62\u5f0f\u3067\u3042\u308b hello.exe \u3067\u3059\u304c\u3001\u5b9f\u306f Linux \u3067\u3082\u305d\u306e\u307e\u307e\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n```shell-session\n$ ./hello.exe\nhello, world\n```\n\n\u3053\u306e\u3053\u3068\u3092\u5b9f\u73fe\u3057\u3066\u3044\u308b\u306e\u304c\u3001\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb binfmt_misc \u3067\u3059\u3002\nmono-dmcs \u30d1\u30c3\u30b1\u30fc\u30b8(\u3068\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8)\u304c binfmt_misc \u3092\u5229\u7528\u3057\u3066 mono \u30d0\u30a4\u30ca\u30ea\u3092\u5b9f\u884c\u3067\u304d\u308b\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002(\u3069\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u306f\u7279\u5b9a\u3067\u304d\u3066\u307e\u305b\u3093\u3002\u3059\u307f\u307e\u305b\u3093)\n\n\u8a2d\u5b9a\u306f update-binfmts \u30b3\u30de\u30f3\u30c9\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002cli \u306f\u3053\u306e\u8a2d\u5b9a\u306e\u540d\u524d\u3067\u3059\u3002\n\n```shell-session\n$ update-binfmts --display cli\ncli (enabled):\n     package = mono-runtime\n        type = magic\n      offset = 0\n       magic = MZ\n        mask = \n interpreter = /usr/bin/cli\n    detector = /usr/lib/cli/binfmt-detector-cli\n```\n---\nbinfmt_misc \u306f shebang \u3092\u6c4e\u7528\u7684\u306b\u3057\u305f\u3088\u3046\u306a\u611f\u3058\u306e\u3082\u306e\u3067\u3059\u3002\nbash \u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```shell-session\n$ bash myscript.sh\n```\n\n\u3067\u3059\u304c\u30011\u884c\u76ee\u306b shebang \u3092\u8a18\u8ff0\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u5b9f\u884c\u6a29\u3092\u4e0e\u3048\u3066\u5b9f\u884c\u3059\u308b\u3068 bash \u306b\u6e21\u3055\u305a\u306b\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n(\u4ee5\u4e0b\u304c shebang\u3002\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf(\u3053\u3053\u3067\u306f bash)\u3092\u6307\u5b9a\u3059\u308b)\n\n```bash\n#!/bin/bash\n```\n```shell-session\n$ chmod +x myscript.sh      # \u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3059\u308b\n$ ./myscript.sh             # bash \u306b\u6e21\u3055\u306a\u304f\u3066\u3082\u5b9f\u884c\u3067\u304d\u308b\n```\n\n# ARM \u30d0\u30a4\u30ca\u30ea\u3092\u5b9f\u884c\u3059\u308b\nARM Linux \u306e\u30d0\u30a4\u30ca\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002(\u79c1\u306e\u74b0\u5883\u306f x64 \u3067\u3059)\n\nARM \u7528 C/C++ \u30b3\u30f3\u30d1\u30a4\u30e9\u3068 qemu (\u30a8\u30df\u30e5\u30ec\u30fc\u30bf) \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```shell-session\n$ suto apt-get install g++-arm-linux-gnueabihf \\\n                       qemu-user               \\\n                       qemu-user-static\n```\n \nhello.c \u3092\u4f5c\u308a\u307e\u3059\u3002\n\n```c:hello.c\n#include <stdio.h>\n#include <stdlib.h>\n\nint main(void)\n{\n    printf(\"hello, world\\n\");\n\n    return EXIT_SUCCESS;\n}\n```\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002(static \u3067\u30ea\u30f3\u30af\u3057\u307e\u3059)\n\n```shell-scssion\n$ make CC=arm-linux-gnueabihf-gcc CFLAGS=-static hello\n```\n\n\u3067\u304d\u305f hello \u306f ARM \u306e ELF\u5f62\u5f0f\u3067\u3059\u304c\u3001\u305d\u306e\u307e\u307e\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n```shell-session\n$ file hello\nhello: ELF 32-bit LSB  executable, ARM, EABI5 version 1 (SYSV), statically linked, for GNU/Linux 2.6.32, BuildID[sha1]=37bb4dd6d030787ec273d16ec54665a1c3fc9526, not stripped\n\n$ ./hello\nhello, world\n```\n\n\u3053\u308c\u3082\u3001binfmt_misc \u306e\u8a2d\u5b9a\u304c\u3055\u308c\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002(qemu-user-static \u304c\u8a2d\u5b9a\u3057\u3066\u3044\u308b)\n\n```shell-session\n$ update-binfmts --display qemu-arm\nqemu-arm (enabled):\n     package = qemu-user-static\n        type = magic\n      offset = 0\n       magic = \\x7fELF\\x01\\x01\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x28\\x00\n        mask = \\xff\\xff\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xfe\\xff\\xff\\xff\n interpreter = /usr/bin/qemu-arm-static\n    detector = \n```\n---\n\u4e0a\u3067\u306f\u3001static \u30ea\u30f3\u30af\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3057\u305f\u304c\u3001dynamic \u30ea\u30f3\u30af\u3067\u4f5c\u3063\u305f\u30d0\u30a4\u30ca\u30ea\u3082\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n```shell-session\nmake CC=arm-linux-gnueabihf-gcc hello   # hello \u3092 dynamic \u30ea\u30f3\u30af\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\n```\n\n\u305f\u3060\u3057\u3001\u79c1\u304c\u4f7f\u7528\u3057\u3066\u3044\u308b Ubuntu \u3067\u306f\u3001hello \u306e\u5b9f\u884c\u6642\u306b ARM \u306e\u30ed\u30fc\u30c0\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u898b\u3064\u3051\u3089\u308c\u305a\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u305d\u308c\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u5bfe\u51e6\u3067\u304d\u307e\u3059\u3002\n\n```shell-session\n# /lib \u306b \u30ed\u30fc\u30c0\u3068\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u5f35\u308b\n$ cd /lib/\n$ sudo ln -s /usr/arm-linux-gnueabihf/lib/ld-linux-armhf.so.3 .\n$ sudo ln -s /usr/arm-linux-gnueabihf/lib arm-linux-gnueabihf\n```\n\n\n# JPEG \u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u300c\u5b9f\u884c\u300d\u3059\u308b\n\u904a\u3073\u307e\u3059\u3002\nbinfmt_misc \u306b JPEG \u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u300c\u5b9f\u884c\u300d\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```shell-session\n$ sudo update-binfmts --install jpeg /usr/bin/eog --magic \"JFIF\" --offset 6\n```\n\n\u8a2d\u5b9a\u3055\u308c\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```shell-session\n$ sudo update-binfmts --display jpeg\njpeg (enabled):\n     package = <local>\n        type = magic\n      offset = 6\n       magic = JFIF\n        mask = \n interpreter = /usr/bin/eog\n    detector = \n```\n\n\u3053\u308c\u3067\u3001JPEG \u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u884c\u6a29\u3092\u4e0e\u3048\u3066\u5b9f\u884c\u3059\u308b\u3068\u753b\u50cf\u30d3\u30e5\u30fc\u30a2 eog \u3067\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \n\n```shell-session\n$ chmod +x hoge.jpg       # \u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3059\u308b\n$ ./hoge.jpg              # JPEG \u753b\u50cf\u3092\u300c\u5b9f\u884c\u300d\u3059\u308b\n```\n\n\u4f55\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u306f\u3001\u3042\u306a\u305f\u6b21\u7b2c!\n\n----\n\u5927\u96d1\u628a\u306b\u8a00\u3063\u3066\u3001binfmt_misc \u306e\u8a2d\u5b9a\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u304c\u8a72\u5f53\u3059\u308b\u304b\u306e\u5224\u65ad\u6761\u4ef6\u3068\u8a72\u5f53\u3057\u305f\u6642\u306b\u6e21\u3059\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u306e\u6307\u5b9a\u3067\u3059\u3002\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001\u5224\u65ad\u6761\u4ef6\u3068\u3057\u3066\u30de\u30b8\u30c3\u30af\u30b3\u30fc\u30c9(--magic \"JFIF\" --offset 6)\u3092\u6307\u5b9a\u3057\u307e\u3057\u305f\u304c\u3001\u4ed6\u306e\u30bf\u30a4\u30d7\u3067\u3082\u6761\u4ef6\u8a2d\u5b9a\u306f\u3067\u304d\u307e\u3059\u3002\n\u62e1\u5f35\u5b50\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```shell-session\n$ sudo update-binfmts --remove jpeg /usr/bin/eog                   # \u4e00\u65e6\u8a2d\u5b9a\u3092\u6d88\u3057\u3066\u3001\n$ sudo update-binfmts --install jpeg /usr/bin/eog --extension jpg  # \u62e1\u5f35\u5b50\u3067\u8a2d\u5b9a\n$ sudo update-binfmts --display jpeg                               # \u78ba\u8a8d\njpeg (enabled):\n     package = <local>\n        type = extension\n      offset = 0\n       magic = jpg\n        mask = \n interpreter = /usr/bin/eog\n    detector = \n```\n\n\u3053\u308c\u3067\u3082\u3001JPEG \u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u304c\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n\n```shell-session\n$ chmod +x hoge.jpg       # \u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3059\u308b\n$ ./hoge.jpg              # JPEG \u753b\u50cf\u3092\u300c\u5b9f\u884c\u300d\u3059\u308b\n```\n\n\u4f55\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u306f\u3001(\u7565)\n\n\n# \u304a\u308f\u308a\u306b\n\u52d5\u4f5c\u78ba\u8a8d\u306f\u4ee5\u4e0b\u306e\u74b0\u5883\u3067\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\n- Ubuntu Linux 14.04\n", "tags": ["Linux", "mono", "ARM", "Ubuntu"]}