{"context": " More than 1 year has passed since last update.acts_as_paranoid \u7cfb\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u304d joins \u3057\u3066\u3082\u76f8\u624b\u65b9\u306e deleted_at \u3092\u8003\u616e\u3057\u305f\u30b9\u30b3\u30fc\u30d7\u304c\u542b\u307e\u308c\u3066\u306a\u3044\u306e\u3067\u3001\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b merge(\u76f8\u624b\u65b9\u30e2\u30c7\u30eb.scope) \u3057\u3068\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u304b\u3063\u305f\u3002\u3067\u3082\u3001Rails 4.0.1 \u304b\u3089\u306f\u52dd\u624b\u306b\u3064\u3051\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f\u3002\u4ed8\u3051\u306a\u3044\u30e1\u30ea\u30c3\u30c8\u3088\u308a\u3001\u4ed8\u3051\u5fd8\u308c\u308b\u30c7\u30e1\u30ea\u30c3\u30c8\u306e\u65b9\u304c\u591a\u304b\u3063\u305f\u306e\u3067\u3053\u306e\u4ed5\u69d8\u306e\u65b9\u304c\u3042\u308a\u304c\u305f\u3044\u3002\ngem \"activerecord\", \"4.0.1.rc1\"\nrequire \"active_record\"\nrequire \"paranoid2\"\n\nActiveRecord::Base.establish_connection(:adapter => \"sqlite3\", :database => \":memory:\")\nActiveRecord::Migration.verbose = false\nActiveRecord::Schema.define do\n  create_table :users do |t|\n  end\n  create_table :items do |t|\n  end\nend\n\nclass User < ActiveRecord::Base\n  has_many :items\nend\n\nclass Item < ActiveRecord::Base\n  acts_as_paranoid\nend\n\nputs User.joins(:items).to_sql\n# >> SELECT \"users\".* FROM \"users\" INNER JOIN \"items\" ON \"items\".\"user_id\" = \"users\".\"id\" AND \"items\".\"deleted_at\" IS NULL\n\ngem \"activerecord\", \"4.0.0\" \u306e\u5834\u5408\n# >> SELECT \"users\".* FROM \"users\" INNER JOIN \"items\" ON \"items\".\"user_id\" = \"users\".\"id\"\n\nacts_as_paranoid \u7cfb\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u304d joins \u3057\u3066\u3082\u76f8\u624b\u65b9\u306e deleted_at \u3092\u8003\u616e\u3057\u305f\u30b9\u30b3\u30fc\u30d7\u304c\u542b\u307e\u308c\u3066\u306a\u3044\u306e\u3067\u3001\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b merge(\u76f8\u624b\u65b9\u30e2\u30c7\u30eb.scope) \u3057\u3068\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u304b\u3063\u305f\u3002\u3067\u3082\u3001Rails 4.0.1 \u304b\u3089\u306f\u52dd\u624b\u306b\u3064\u3051\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f\u3002\u4ed8\u3051\u306a\u3044\u30e1\u30ea\u30c3\u30c8\u3088\u308a\u3001\u4ed8\u3051\u5fd8\u308c\u308b\u30c7\u30e1\u30ea\u30c3\u30c8\u306e\u65b9\u304c\u591a\u304b\u3063\u305f\u306e\u3067\u3053\u306e\u4ed5\u69d8\u306e\u65b9\u304c\u3042\u308a\u304c\u305f\u3044\u3002\n\n```ruby\ngem \"activerecord\", \"4.0.1.rc1\"\nrequire \"active_record\"\nrequire \"paranoid2\"\n\nActiveRecord::Base.establish_connection(:adapter => \"sqlite3\", :database => \":memory:\")\nActiveRecord::Migration.verbose = false\nActiveRecord::Schema.define do\n  create_table :users do |t|\n  end\n  create_table :items do |t|\n  end\nend\n\nclass User < ActiveRecord::Base\n  has_many :items\nend\n\nclass Item < ActiveRecord::Base\n  acts_as_paranoid\nend\n\nputs User.joins(:items).to_sql\n# >> SELECT \"users\".* FROM \"users\" INNER JOIN \"items\" ON \"items\".\"user_id\" = \"users\".\"id\" AND \"items\".\"deleted_at\" IS NULL\n```\n\ngem \"activerecord\", \"4.0.0\" \u306e\u5834\u5408\n\n```ruby\n# >> SELECT \"users\".* FROM \"users\" INNER JOIN \"items\" ON \"items\".\"user_id\" = \"users\".\"id\"\n```\n", "tags": ["Rails", "ActiveRecord"]}