{"tags": ["Erlang", "Elixir", "Phoenix", "JavaScript", "Ember.js"], "context": "https://resolve.digital/blog/posts/creating-a-todo-application-using-the-phoenix-framework-and-ember-js/\n\u3092\u7ffb\u8a33\u3057\u307e\u3057\u305f\u3002\n\u7ffb\u8a33\u306e\u8aa4\u308a\u306a\u3069\u3042\u308c\u3070\u3054\u6307\u6458\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\n\u6211\u3005\u306f\u5e38\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u95a2\u9023\u3059\u308b\u6280\u8853\u306b\u76ee\u3092\u5149\u3089\u305b\u3066\u3044\u307e\u3059\u3002\u672c\u65e5\u306f Phoenix \u3068\u547c\u3070\u308c\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30fb\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002 Phoenix \u306f Elixir \uff08\u3042\u306a\u305f\u304c Ruby \u3092\u66f8\u3044\u3066\u3044\u305f\u306a\u3089\u3070\u3001\u3044\u304f\u3064\u304b\u306e\u70b9\u3067\u304a\u99b4\u67d3\u307f\u3068\u611f\u3058\u308b\u3001\u71c3\u3048\u308b\u3088\u3046\u306a\u65e9\u3044\u95a2\u6570\u578b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\uff09\u306e\u4e0a\u306b\u69cb\u7bc9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3001\u30b5\u30fc\u30d0\u4e0a\u3067 Phoenix \u3068 Elixir \u3092\u4f7f\u7528\u3057\u3066\u3001\u5358\u7d14\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8-\u30b5\u30fc\u30d0 Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u3068\u3057\u3066 PostgreSQL \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u306f\u3001Ember Javascript \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u304c\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3057\u3001\u30b5\u30fc\u30d0\u3078\u5909\u66f4\u3092\u4f1d\u3048\u307e\u3059\u3002\u3053\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u7d44\u307f\u5408\u308f\u305b\u306f\u3001PEEP\uff08Postgres, Elixir, Ember, Phoenix\uff09\u30b9\u30bf\u30c3\u30af\u3068\u3057\u3066\u77e5\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u69cb\u7bc9\u3059\u308b Todo \u30a2\u30d7\u30ea\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3059\uff1a\n\n\nPhoenix \u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\u59cb\u3081\u308b\u524d\u306b\u3001Phoenix \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u30ac\u30a4\u30c9\u306b\u5f93\u3063\u3066\u3001\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u4f9d\u5b58\u95a2\u4fc2\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n1) \u30b9\u30b1\u30eb\u30c8\u30f3\u30fb\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\u6700\u521d\u306b\u3001\u65b0\u3057\u3044 Phoenix \u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\uff1a\n$ mix phoenix.new phoenix_todos_api --no-brunch\n$ cd phoenix_todos_api\n\nAPI \u306e\u307f\u306e\u30a2\u30d7\u30ea\u306f\u30a2\u30bb\u30c3\u30c8\u7ba1\u7406\u3092\u5fc5\u8981\u3068\u3057\u307e\u305b\u3093\u306e\u3067\u3001Brunch.io \u3092\u9664\u3044\u3066\u3044\u307e\u3059\u3002\u300cFetch and install dependencies?\u300d\uff08\u4f9d\u5b58\u95a2\u4fc2\u3092\u30d5\u30a7\u30c3\u30c1\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff09\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u306f\u3001 Y \u3068\u7b54\u3048\u307e\u3059\u3002\n\n2) \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\u6b21\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 config/dev.exs \u3068 config/test.exs \u3092\u78ba\u8a8d\u3057\u3066 PostgreSQL \u30b5\u30fc\u30d0\u306e\u6b63\u3057\u3044\u8cc7\u683c\u60c5\u5831\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8cc7\u683c\u60c5\u5831\u306f\u3001\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\uff1a\n# ...\nusername: \"postgres\",\npassword: \"postgres\",\n# ...\n\n\u4ee3\u308f\u308a\u306b\u3001\u6b63\u3057\u3044\u8cc7\u683c\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\uff1a\n$ mix ecto.create\n\n\u300crebar\u300d\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3055\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3001\u7d99\u7d9a\u3057\u3066\u3053\u308c\u3092\u53d7\u3051\u5165\u308c\u307e\u3059\u3002\u30a2\u30d7\u30ea\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u5f8c\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff1a\n$ The database for PhoenixTodosApi.Repo has been created.\n\n\n3) \u30b5\u30fc\u30d0\u306e\u8d77\u52d5\n\u6b21\u306b\u3001Phoenix \u306e Web \u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u307e\u3057\u3087\u3046\uff1a\n$ mix phoenix.server\n\n\u3053\u308c\u3067\u3001\u30a2\u30d7\u30ea\u306b http://localhost:4000 \u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u306f\u305a\u3067\u3001Phoenix \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e9\u30f3\u30c7\u30a3\u30f3\u30b0\u30fb\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\nCtrl + C \u30922\u56de\u62bc\u3059\u3053\u3068\u3067\u30b5\u30fc\u30d0\u304c\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n4) Todo\u30ea\u30bd\u30fc\u30b9\u306e\u751f\u6210\n\u79c1\u305f\u3061\u306e API \u306e\u5358\u4e00\u306e\u30ea\u30bd\u30fc\u30b9\u306f\u3001Todo \u9805\u76ee\u3067\u3059\u3002\u5404 Todo \u9805\u76ee\u306f title \u6587\u5b57\u5217\u3068 is_completed \u30d6\u30fc\u30eb\u5024\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002Phoenix \u306f\u3001JSON \u30ea\u30bd\u30fc\u30b9\u306e\u305f\u3081\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u63d0\u4f9b\u3057\u3001\u305d\u308c\u306f\u4ee5\u4e0b\u3067\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a\n$ mix phoenix.gen.json Todo todos title:string is_completed:boolean\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u304b\u3089\u306e\u51fa\u529b\u306f\u3001\u4f5c\u6210\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30ea\u30b9\u30c8\u3057\u307e\u3059\uff1a\n* creating web/controllers/todo_controller.ex\n* creating web/views/todo_view.ex\n* creating test/controllers/todo_controller_test.exs\n* creating web/views/changeset_view.ex\n* creating priv/repo/migrations/20150929044516_create_todo.exs\n* creating web/models/todo.ex\n* creating test/models/todo_test.exs\n\n\u3054\u89a7\u306e\u3068\u304a\u308a\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3001\u30e2\u30c7\u30eb\u3001\u305d\u308c\u3089\u306b\u5bfe\u5fdc\u3059\u308b\u30c6\u30b9\u30c8\u30fb\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u66f4\u65b0\u3059\u308b\u305f\u3081\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u53d6\u5f97\u3057\u3001\u6700\u7d42\u7684\u306b\u30012\u3064\u306e\u30d3\u30e5\u30fc\u3082\u4f5c\u6210\u3055\u308c\u307e\u3059\uff1a1\u3064\u306f\u65b0\u3057\u3044\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u7528\u306e TodoView \u3067\u3042\u308a\u3001\u3082\u30461\u3064\u306f\u30e2\u30c7\u30eb\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30fb\u30a8\u30e9\u30fc\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306b\u3059\u3079\u3066\u306e JSON \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u3088\u3063\u3066\u4f7f\u7528\u3055\u308c\u308b\u3001\u3088\u308a\u4e00\u822c\u7684\u306a ChangesetView \u3067\u3059\u3002\n\n5) \u30eb\u30fc\u30c8\u306e\u8ffd\u52a0\n\u6b21\u306b\u3001\u5165\u3063\u3066\u304f\u308b\u8981\u6c42\u3092\u65b0\u3057\u304f\u751f\u6210\u3055\u308c\u305f TodoController \u306b\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5\u3092 Phoenix \u306b\u4f1d\u3048\u308b\u305f\u3081\u306b\u3001\u30eb\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nweb/router.ex \u3092\u958b\u304d\u307e\u3059\u3002\u4e00\u756a\u4e0b\u306b\u65b0\u3057\u3044\u30b9\u30b3\u30fc\u30d7\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff1a\ndefmodule PhoenixTodosApi.Router do\n  # ...\n  scope \"/\", PhoenixTodosApi do\n    pipe_through :api\n    resources \"/todos\", TodoController, except: [:new, :edit]\n  end\nend\n\n\n6) \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\n\u6b21\u306b\u3001Todos \u3092\u683c\u7d0d\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n$ mix ecto.migrate\n\u2026\n17:55:14.586 [info]  == Running PhoenixTodosApi.Repo.Migrations.CreateTodo.change/0 forward\n17:55:14.586 [info]  create table todos\n17:55:14.617 [info]  == Migrated in 0.2s\n\n\n7) \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u521d\u671f\u30c7\u30fc\u30bf\u5c0e\u5165\n\u518d\u3073\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u307e\u3059\uff1a\n$ mix phoenix.server\n\nhttp://localhost:4000/todos \u3067 Todo \u30ea\u30b9\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u307e\u3060\u4f55\u3082\u6301\u3063\u3066\u3044\u306a\u3044\u3053\u3068\u306b\u6c17\u3065\u304f\u3067\u3057\u3087\u3046\u3002\n\u305d\u308c\u3067\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u521d\u671f\u30c7\u30fc\u30bf\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5c0e\u5165\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001\u3053\u306e\u554f\u984c\u3092\u4fee\u6b63\u3057\u307e\u3057\u3087\u3046\u3002priv/repo/seeds.exs \u306b\u6b21\u306e\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff1a\nalias PhoenixTodosApi.Repo\nalias PhoenixTodosApi.Todo\n\nRepo.insert!(%Todo{title: \"Create the Phoenix App\", is_completed: true})\nRepo.insert!(%Todo{title: \"Prepare the Ember App\", is_completed: false})\nRepo.insert!(%Todo{title: \"Ensure the Apps Work Together\", is_completed: false})\n\n\u30c7\u30fc\u30bf\u3092\u5c0e\u5165\u3059\u308b\u305f\u3081\u306b\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\uff1a\n$ mix run priv/repo/seeds.exs\n\n\u3053\u308c\u3067\u3001http://localhost:4000/todos \u304b\u3089\u3001\u3044\u304f\u3064\u304b\u306e Todo \u304c\u898b\u3089\u308c\u307e\u3059\u3002\n{\n  \"data\": [{\n    \"title\": \"Create the Phoenix App\",\n    \"is_completed\": true,\n    \"id\": 1\n  }, {\n    \"title\": \"Prepare the Ember App\",\n    \"is_completed\": false,\n    \"id\": 2\n  }, {\n    \"title\": \"Ensure the Apps Work Together\",\n    \"is_completed\": false,\n    \"id\": 3\n  }]\n}\n\n\u4ee5\u4e0a\u306b\u3088\u308a\u3001\u57fa\u672c\u7684\u306a API \u304c\u7a3c\u50cd\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u6b21\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306b\u53d6\u308a\u304b\u304b\u308a\u307e\u3059\u3002\n\nEmber\u30a2\u30d7\u30ea\u306e\u6e96\u5099\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u305f\u3081\u306b\u3001TodoMVC.com \u306e Ember CLI \u5b9f\u88c5\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u9032\u3081\u308b\u524d\u306b\u3001Ember CLI \u306e Getting Started \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u90e8\u5206\u306b\u5f93\u3046\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n1) \u30af\u30ed\u30fc\u30f3\u3068\u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nEmber \u30a2\u30d7\u30ea\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n$ git clone https://github.com/ember-cli/ember-cli-todos.git\n$ cd ember-cli-todos\n\nnpm \u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff1a\n$ npm install\n\n\u305d\u3057\u3066\u3001bower \u4f9d\u5b58\u95a2\u4fc2\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff1a\n$ bower install\n\n\n2) Ember \u30b5\u30fc\u30d0\u306e\u8d77\u52d5\n\u5fc5\u8981\u306a\u3082\u306e\u304c\u3059\u3079\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u307e\u3059\uff1a\n$ ember server\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://localhost:4200 \u3092\u958b\u304d\u307e\u3059\u30021\u3053\u306e\u6642\u70b9\u3067 Todo \u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u30e1\u30e2\u30ea\u5185\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\u30da\u30fc\u30b8\u3092\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3057\u305f\u5834\u5408 Todo \u306f\u6c38\u7d9a\u5316\u3055\u308c\u307e\u305b\u3093\u3002\n\nEmber \u3092 Phoenix \u3078\u63a5\u7d9a\n\u3053\u3053\u307e\u3067\u3067\u3001Phoenix \u3067\u66f8\u304b\u308c\u305f\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e API \u30a2\u30d7\u30ea\u3068\u3001Ember \u3067\u66f8\u304b\u308c\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u30a2\u30d7\u30ea\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u30012\u3064\u306e\u30a2\u30d7\u30ea\u306f\u4e92\u3044\u306b\u4f1a\u8a71\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u6b21\u306b\u30012\u3064\u306e\u30a2\u30d7\u30ea\u3092\u4e92\u3044\u306b\u63a5\u7d9a\u3057\u3001Todo \u3092\u6c38\u7d9a\u5316\u3057\u307e\u3059\u3002\n\nEmber \u30a2\u30d7\u30ea\u3078\u306e\u5909\u66f4\n\n1) Phoenix \u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b Ember Data \u3092\u8a2d\u5b9a\n\u30e1\u30e2\u30ea\u5185\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u4f7f\u7528\u3059\u308b\u4ee3\u308f\u308a\u306b\u3001Ember Data \u304c Phoenix API \u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001 app/adapters/application.js \u306e\u5185\u5bb9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\uff1a\nimport config from '../config/environment';\nimport FixtureAdapter from 'ember-data-fixture-adapter';\nimport DS from 'ember-data';\n\nvar adapter;\nif (config.environment === 'test') {\n  adapter = FixtureAdapter.extend({});\n} else {\n  adapter = DS.RESTAdapter.extend({\n    host: 'http://localhost:4000'\n  });\n}\n\nexport default adapter;\n\n\u30a2\u30d7\u30ea\u3092\u30c6\u30b9\u30c8\u74b0\u5883\u3067\u8d77\u52d5\u3059\u308b\u5834\u5408\u3001\u5143\u306e FixtureAdapter \u3092\u4f7f\u7528\u3057\u7d9a\u3051\u307e\u3059\u304c\u3001\u4ed6\u306e\u3059\u3079\u3066\u306e\u74b0\u5883\u3067\u306f RESTAdapter \u3092\u4f7f\u7528\u3057\u3066 http://localhost:4000 \u3067 Phoenix API \u3092\u53c2\u7167\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n2) \u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306e\u8a2d\u5b9a\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Ember Data \u306f\u3001JSON \u306e\u30ad\u30fc\u540d\u306b\u30ad\u30e3\u30e1\u30eb\u30fb\u30b1\u30fc\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u307e\u3059\u304c\u3001\u79c1\u305f\u3061\u306e Phoenix API \u3067\u306f\u30b9\u30cd\u30fc\u30af\u30fb\u30b1\u30fc\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u554f\u984c\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u3001\u307e\u305f\u3001Ember \u304c\u4f7f\u7528\u3059\u308b\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u307e\u305a serializers \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\uff1a\n$ mkdir -p app/serializers/\n\n\u305d\u3057\u3066\u305d\u306e\u5f8c\u3001app/serializers/application.js \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\uff1a\nimport config from '../config/environment';\nimport DS from 'ember-data';\nimport Ember from 'ember';\n\nvar serializer;\nif (config.environment === 'test') {\n  serializer = DS.JSONSerializer.extend({});\n} else {\n  serializer = DS.RESTSerializer.extend({\n    keyForAttribute(attr) {\n      return Ember.String.decamelize(attr);\n    }\n  });\n}\n\nexport default serializer;\n\n\u3053\u3053\u3067\u3082\u30c6\u30b9\u30c8\u74b0\u5883\u3067\u306f\u7570\u306a\u308b\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3001Ember Data \u30e2\u30c7\u30eb\u306e\u5c5e\u6027\u3092\u30b9\u30cd\u30fc\u30af\u30fb\u30b1\u30fc\u30b9\u306b\u5909\u63db\u3059\u308b\u305f\u3081\u306b\u3001Ember \u306e\u30d3\u30eb\u30c8\u30a4\u30f3 decamelize \u30a2\u30c0\u30d7\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u305f\u3001\u30ab\u30b9\u30bf\u30e0 RESTSerializer \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u304b\u306a\u308a\u5358\u7d14\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3059\u304c\u3001\u79c1\u305f\u3061\u306e\u76ee\u7684\u306e\u305f\u3081\u306b\u306f\u6a5f\u80fd\u3057\u307e\u3059\u3002\n\n3) CORS\u306e\u8a2d\u5b9a\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30b5\u30fc\u30d0\u3092\u7570\u306a\u308b\u30dd\u30fc\u30c8\u304b\u3089\u30db\u30b9\u30c8\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3089\u304c\u901a\u4fe1\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u5207\u306b\u914d\u7f6e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001Ember \u30b5\u30fc\u30d0\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b CSP \u30d8\u30c3\u30c0 \u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u958b\u767a\u74b0\u5883\u306e\u305f\u3081\u306b\u3001config/environment.js \u306e ENV.contentSecurityPolicy \u306e\u5185\u5bb9\u3092\u5909\u66f4\u3057\u307e\u3059\uff1a\nENV.contentSecurityPolicy = {\n  // ...\n  'connect-src': \"'self' http://localhost:*\",\n  // ...\n}\n\n\u3053\u3053\u3067\u884c\u3063\u305f\u5909\u66f4\u306f\u3001connect-src \u30eb\u30fc\u30eb\u306b\u3001\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u4e0a\u306e\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b http://localhost:* \u3092\u8ffd\u52a0\u3057\u305f\u3053\u3068\u3067\u3059\u3002\n\u307e\u305f\u3001Phoenix \u30a2\u30d7\u30ea\u306b CORS \u30d8\u30c3\u30c0\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u305d\u306e\u305f\u3081\u306b\u306fEmber \u30a2\u30d7\u30ea\u304c\u5b9f\u884c\u3055\u308c\u308b\u30dd\u30fc\u30c8\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u3067\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e .ember-cli \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff08Ember \u30a2\u30d7\u30ea\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308a\u307e\u3059\uff09\u3067\u30dd\u30fc\u30c8\u30929000\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\uff1a\n{\n  // ...\n  \"port\": 9000\n}\n\n\nPhoenix \u30a2\u30d7\u30ea\u3078\u306e\u5909\u66f4\n\u30a2\u30d7\u30ea\u306b CORS \u30d8\u30c3\u30c0\u3092\u8ffd\u52a0\u3057\u3066\u3001Ember \u304c\u30a2\u30d7\u30ea\u306b\u5bfe\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3053\u3068\u3092\u30d6\u30e9\u30a6\u30b6\u304c\u8a31\u53ef\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n1) cors_plug \u306e\u8a2d\u5b9a\ncors_plug \u3068\u547c\u3070\u308c\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e plug \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3053\u308c\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001mix.exs \u3067\u4f9d\u5b58\u95a2\u4fc2\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a\ndef deps do\n  # ...\n  {:cors_plug, \"~> 0.1.3\"},\n  # ...\nend\n\n\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff1a\n$ mix deps.get\n\n\u4e00\u65e6\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308c\u3070\u3001\u30a2\u30d7\u30ea\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\uff08lib/phoenix_todos_api/endpoint.ex \u306b\u3042\u308a\u307e\u3059\uff09\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a\ndefmodule PhoenixTodosApi.Endpoint do\n  # ...\n  plug CORSPlug, [origin: \"http://localhost:9000\"] # add this line\n  plug PhoenixTodosApi.Router\nend\n\n\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067 PhoenixTodosApi.Router \u306e\u4e0a\u306b\u7f6e\u304d\u3001Ember \u30a2\u30d7\u30ea\u304c\u52d5\u304f\u3088\u3046\u306b\u69cb\u6210\u3057\u305f\u30dd\u30fc\u30c8\u4f7f\u7528\u3057\u3066\u3001origin \u3068\u3057\u3066 http://localhost:9000 \u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\n2) JSON \u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u306e\u8a2d\u5b9a\nEmber \u3067 RESTAdapter \u306f\u3001JSON\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u305d\u308c\u304c\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u308b\u3079\u304d Ember Data \u30e2\u30c7\u30eb\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u305f\u3081\u306e\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002Todo \u30e2\u30c7\u30eb\u3067\u306f\u3001Todo \u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306f todos \u3001\u5358\u4e00\u306e Todo \u306f todo \u3067\u3059\u3002\u3057\u304b\u3057\u3001mix phoenix.gen.json Todo \u3092\u5b9f\u884c\u3057\u305f\u3068\u304d\u3001\u5e38\u306b data \u3092\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3068\u3057\u3066\u5fdc\u7b54\u3059\u308b TodoView \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3067\u306f\u3001Todo \u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3068\u3057\u3066 todos \u3092\u3001\u5358\u4e00\u306e Todo \u306e\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3068\u3057\u3066 todo \u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3001JSON \u51fa\u529b\u3092\u5909\u66f4\u3057\u307e\u3057\u3087\u3046\u3002\u307e\u305a\u3001\u3053\u306e\u5909\u66f4\u3092\u5fc5\u8981\u3068\u3059\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002test/controllers/todo_controller_test.exs \u3092\u958b\u304d\u3001[\"data\"] \u306e\u3059\u3079\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092 [\"todo\"] \u3067\u7f6e\u304d\u63db\u3048\u307e\u3059\uff084\u3064\u306e\u7f6e\u304d\u63db\u3048\u304c\u3042\u308b\u306f\u305a\u3067\u3059\uff09\u3002\u305d\u3057\u3066\u3001 :index \u30a2\u30af\u30b7\u30e7\u30f3\u306e\u305f\u3081\u306e\u30c6\u30b9\u30c8\u3092\u898b\u3064\u3051\u3001\u671f\u5f85\u3055\u308c\u308b\u30eb\u30fc\u30c8\u3092 [\"todo\"] \u304b\u3089 [todos] \u306b\u5909\u66f4\u3057\u307e\u3059\uff1a\ntest \"lists all entries on index\", %{conn: conn} do\n  conn = get conn, todo_path(conn, :index)\n  assert json_response(conn, 200)[\"todos\"] == []\nend\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u30014\u3064\u306e\u5931\u6557\u304c\u8868\u793a\u3055\u308c\u307e\u3059\uff1a\n$ mix test test/controllers/todo_controller_test.exs\n...\nFinished in 0.4 seconds (0.3s on load, 0.1s on tests)\n8 tests, 4 failures\n\n\u30c6\u30b9\u30c8\u3092\u30d1\u30b9\u3059\u308b\u306b\u306f\u3001index.json \u3068 show.json \u30d3\u30e5\u30fc\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306f web/views/todo_view.ex \u306b\u3042\u308a\u307e\u3059\uff1a\ndef render(\"index.json\", %{todos: todos}) do\n  # '%{data:' replaced with '%{todos:':\n  %{todos: render_many(todos, PhoenixTodosApi.TodoView, \"todo.json\")}\nend\n\ndef render(\"show.json\", %{todo: todo}) do\n  # '%{data:' replaced with '%{todo:':\n  %{todo: render_one(todo, PhoenixTodosApi.TodoView, \"todo.json\")}\nend\n\n\u518d\u5ea6\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3001\u3059\u3079\u3066\u30d1\u30b9\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\uff1a\n$ mix test test/controllers/todo_controller_test.exs\n...\nFinished in 0.4 seconds (0.3s on load, 0.1s on tests)\n8 tests, 0 failures\n\n\u3053\u308c\u3067 Phoenix \u30a2\u30d7\u30ea\u306f Ember \u30a2\u30d7\u30ea\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u5bb9\u308c\u308b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u4e00\u7dd2\u306b\u30a2\u30d7\u30ea\u3092\u30c6\u30b9\u30c8\n\u5404\u3005\u3092\u8d77\u52d5\u3059\u308b\u3053\u3068\u3067\u30a2\u30d7\u30ea\u304c\u4e00\u7dd2\u306b\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002Phoenix \u3092\u8d77\u52d5\u3057\u307e\u3059\uff1a\n$ mix phoenix.server\n\n\u3064\u3065\u3051\u3066 Ember \u3092\u8d77\u52d5\u3057\u307e\u3059\uff1a\n$ ember server\n\n\u305d\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3067 http://localhost:9000 \u3092\u958b\u304d\u307e\u3059\u3002\nEmber \u30a2\u30d7\u30ea\u306b\u3001\u5148\u307b\u3069 Phoenix \u30a2\u30d7\u30ea\u3067\u8ffd\u52a0\u3057\u305f\u30c7\u30fc\u30bf\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u3002Ember \u30a2\u30d7\u30ea\u3067\u52a0\u3048\u305f\u5909\u66f4\u306f Phoenix \u30a2\u30d7\u30ea\u306b\u6c38\u7d9a\u5316\u3055\u308c\u307e\u3059\u3002mix phoenix.server \u304b\u3089\u306e\u30ed\u30b0\u51fa\u529b\u3092\u898b\u308b\u3053\u3068\u3067\u3053\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u30da\u30fc\u30b8\u3092\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3057\u3066\u3082\u3001\u5909\u66f4\u306f\u6c38\u7d9a\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\n\u79c1\uff08\u7ffb\u8a33\u8005\uff09\u306e\u74b0\u5883\u3067\u306f\u3053\u3053\u3067 Ember \u306e\u30d3\u30eb\u30c9\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 bower \u3067\u6b63\u3057\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u306a\u304b\u3063\u305f moment \u3092\u624b\u52d5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3067\u3001\u30a8\u30e9\u30fc\u304c\u89e3\u6d88\u3057\u307e\u3057\u305f\u3002$ bower install moment\u00a0\u21a9\n\n\n\nhttps://resolve.digital/blog/posts/creating-a-todo-application-using-the-phoenix-framework-and-ember-js/\n\u3092\u7ffb\u8a33\u3057\u307e\u3057\u305f\u3002\n\u7ffb\u8a33\u306e\u8aa4\u308a\u306a\u3069\u3042\u308c\u3070\u3054\u6307\u6458\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\n---\n\n\u6211\u3005\u306f\u5e38\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u95a2\u9023\u3059\u308b\u6280\u8853\u306b\u76ee\u3092\u5149\u3089\u305b\u3066\u3044\u307e\u3059\u3002\u672c\u65e5\u306f [Phoenix](http://www.phoenixframework.org/) \u3068\u547c\u3070\u308c\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30fb\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002 Phoenix \u306f Elixir \uff08\u3042\u306a\u305f\u304c Ruby \u3092\u66f8\u3044\u3066\u3044\u305f\u306a\u3089\u3070\u3001\u3044\u304f\u3064\u304b\u306e\u70b9\u3067\u304a\u99b4\u67d3\u307f\u3068\u611f\u3058\u308b\u3001\u71c3\u3048\u308b\u3088\u3046\u306a\u65e9\u3044\u95a2\u6570\u578b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\uff09\u306e\u4e0a\u306b\u69cb\u7bc9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3001\u30b5\u30fc\u30d0\u4e0a\u3067 Phoenix \u3068 Elixir \u3092\u4f7f\u7528\u3057\u3066\u3001\u5358\u7d14\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8-\u30b5\u30fc\u30d0 Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u3068\u3057\u3066 PostgreSQL \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u306f\u3001Ember Javascript \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u304c\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3057\u3001\u30b5\u30fc\u30d0\u3078\u5909\u66f4\u3092\u4f1d\u3048\u307e\u3059\u3002\u3053\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u7d44\u307f\u5408\u308f\u305b\u306f\u3001[PEEP\uff08Postgres, Elixir, Ember, Phoenix\uff09\u30b9\u30bf\u30c3\u30af](https://medium.com/@j_mcnally/the-peep-stack-b7ba5afdd055)\u3068\u3057\u3066\u77e5\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\n\u69cb\u7bc9\u3059\u308b Todo \u30a2\u30d7\u30ea\u306f\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3059\uff1a\n\n![\u56f3](https://resolve.digital/images/large/To%20Do%20application%20screenshot.png)\n\n##Phoenix \u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\u59cb\u3081\u308b\u524d\u306b\u3001[Phoenix \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u30ac\u30a4\u30c9](http://www.phoenixframework.org/docs/installation)\u306b\u5f93\u3063\u3066\u3001\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u4f9d\u5b58\u95a2\u4fc2\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n####1) \u30b9\u30b1\u30eb\u30c8\u30f3\u30fb\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\u6700\u521d\u306b\u3001\u65b0\u3057\u3044 Phoenix \u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\uff1a\n\n```shell-session\n$ mix phoenix.new phoenix_todos_api --no-brunch\n$ cd phoenix_todos_api\n```\n\nAPI \u306e\u307f\u306e\u30a2\u30d7\u30ea\u306f\u30a2\u30bb\u30c3\u30c8\u7ba1\u7406\u3092\u5fc5\u8981\u3068\u3057\u307e\u305b\u3093\u306e\u3067\u3001[Brunch.io](http://brunch.io/) \u3092\u9664\u3044\u3066\u3044\u307e\u3059\u3002\u300cFetch and install dependencies?\u300d\uff08\u4f9d\u5b58\u95a2\u4fc2\u3092\u30d5\u30a7\u30c3\u30c1\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff09\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u306f\u3001 `Y` \u3068\u7b54\u3048\u307e\u3059\u3002\n\n####2) \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\u6b21\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 `config/dev.exs` \u3068 `config/test.exs` \u3092\u78ba\u8a8d\u3057\u3066 PostgreSQL \u30b5\u30fc\u30d0\u306e\u6b63\u3057\u3044\u8cc7\u683c\u60c5\u5831\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8cc7\u683c\u60c5\u5831\u306f\u3001\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\uff1a\n\n```\n# ...\nusername: \"postgres\",\npassword: \"postgres\",\n# ...\n```\n\n\u4ee3\u308f\u308a\u306b\u3001\u6b63\u3057\u3044\u8cc7\u683c\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ mix ecto.create\n```\n\n\u300crebar\u300d\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3055\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3001\u7d99\u7d9a\u3057\u3066\u3053\u308c\u3092\u53d7\u3051\u5165\u308c\u307e\u3059\u3002\u30a2\u30d7\u30ea\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u5f8c\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff1a\n\n```shell-session\n$ The database for PhoenixTodosApi.Repo has been created.\n```\n\n####3) \u30b5\u30fc\u30d0\u306e\u8d77\u52d5\n\u6b21\u306b\u3001Phoenix \u306e Web \u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u307e\u3057\u3087\u3046\uff1a\n\n```shell-session\n$ mix phoenix.server\n```\n\n\u3053\u308c\u3067\u3001\u30a2\u30d7\u30ea\u306b http://localhost:4000 \u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u306f\u305a\u3067\u3001Phoenix \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e9\u30f3\u30c7\u30a3\u30f3\u30b0\u30fb\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n`Ctrl + C` \u30922\u56de\u62bc\u3059\u3053\u3068\u3067\u30b5\u30fc\u30d0\u304c\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n####4) Todo\u30ea\u30bd\u30fc\u30b9\u306e\u751f\u6210\n\u79c1\u305f\u3061\u306e API \u306e\u5358\u4e00\u306e\u30ea\u30bd\u30fc\u30b9\u306f\u3001Todo \u9805\u76ee\u3067\u3059\u3002\u5404 Todo \u9805\u76ee\u306f `title` \u6587\u5b57\u5217\u3068 `is_completed` \u30d6\u30fc\u30eb\u5024\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002Phoenix \u306f\u3001JSON \u30ea\u30bd\u30fc\u30b9\u306e\u305f\u3081\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u63d0\u4f9b\u3057\u3001\u305d\u308c\u306f\u4ee5\u4e0b\u3067\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a\n\n```shell-session\n$ mix phoenix.gen.json Todo todos title:string is_completed:boolean\n```\n\n\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u304b\u3089\u306e\u51fa\u529b\u306f\u3001\u4f5c\u6210\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30ea\u30b9\u30c8\u3057\u307e\u3059\uff1a\n\n```shell-session\n* creating web/controllers/todo_controller.ex\n* creating web/views/todo_view.ex\n* creating test/controllers/todo_controller_test.exs\n* creating web/views/changeset_view.ex\n* creating priv/repo/migrations/20150929044516_create_todo.exs\n* creating web/models/todo.ex\n* creating test/models/todo_test.exs\n```\n\n\u3054\u89a7\u306e\u3068\u304a\u308a\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3001\u30e2\u30c7\u30eb\u3001\u305d\u308c\u3089\u306b\u5bfe\u5fdc\u3059\u308b\u30c6\u30b9\u30c8\u30fb\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u66f4\u65b0\u3059\u308b\u305f\u3081\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u53d6\u5f97\u3057\u3001\u6700\u7d42\u7684\u306b\u30012\u3064\u306e\u30d3\u30e5\u30fc\u3082\u4f5c\u6210\u3055\u308c\u307e\u3059\uff1a1\u3064\u306f\u65b0\u3057\u3044\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u7528\u306e `TodoView` \u3067\u3042\u308a\u3001\u3082\u30461\u3064\u306f\u30e2\u30c7\u30eb\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30fb\u30a8\u30e9\u30fc\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306b\u3059\u3079\u3066\u306e JSON \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u3088\u3063\u3066\u4f7f\u7528\u3055\u308c\u308b\u3001\u3088\u308a\u4e00\u822c\u7684\u306a `ChangesetView` \u3067\u3059\u3002\n\n####5) \u30eb\u30fc\u30c8\u306e\u8ffd\u52a0\n\u6b21\u306b\u3001\u5165\u3063\u3066\u304f\u308b\u8981\u6c42\u3092\u65b0\u3057\u304f\u751f\u6210\u3055\u308c\u305f `TodoController` \u306b\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5\u3092 Phoenix \u306b\u4f1d\u3048\u308b\u305f\u3081\u306b\u3001\u30eb\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n`web/router.ex` \u3092\u958b\u304d\u307e\u3059\u3002\u4e00\u756a\u4e0b\u306b\u65b0\u3057\u3044\u30b9\u30b3\u30fc\u30d7\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff1a\n\n```\ndefmodule PhoenixTodosApi.Router do\n  # ...\n  scope \"/\", PhoenixTodosApi do\n    pipe_through :api\n    resources \"/todos\", TodoController, except: [:new, :edit]\n  end\nend\n```\n\n####6) \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\n\u6b21\u306b\u3001`Todos` \u3092\u683c\u7d0d\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```shell-session\n$ mix ecto.migrate\n\u2026\n17:55:14.586 [info]  == Running PhoenixTodosApi.Repo.Migrations.CreateTodo.change/0 forward\n17:55:14.586 [info]  create table todos\n17:55:14.617 [info]  == Migrated in 0.2s\n```\n\n####7) \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u521d\u671f\u30c7\u30fc\u30bf\u5c0e\u5165\n\u518d\u3073\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ mix phoenix.server\n```\n\nhttp://localhost:4000/todos \u3067 Todo \u30ea\u30b9\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u307e\u3060\u4f55\u3082\u6301\u3063\u3066\u3044\u306a\u3044\u3053\u3068\u306b\u6c17\u3065\u304f\u3067\u3057\u3087\u3046\u3002\n\n\u305d\u308c\u3067\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u521d\u671f\u30c7\u30fc\u30bf\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5c0e\u5165\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001\u3053\u306e\u554f\u984c\u3092\u4fee\u6b63\u3057\u307e\u3057\u3087\u3046\u3002`priv/repo/seeds.exs` \u306b\u6b21\u306e\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff1a\n\n```\nalias PhoenixTodosApi.Repo\nalias PhoenixTodosApi.Todo\n\nRepo.insert!(%Todo{title: \"Create the Phoenix App\", is_completed: true})\nRepo.insert!(%Todo{title: \"Prepare the Ember App\", is_completed: false})\nRepo.insert!(%Todo{title: \"Ensure the Apps Work Together\", is_completed: false})\n```\n\n\u30c7\u30fc\u30bf\u3092\u5c0e\u5165\u3059\u308b\u305f\u3081\u306b\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ mix run priv/repo/seeds.exs\n```\n\n\u3053\u308c\u3067\u3001http://localhost:4000/todos \u304b\u3089\u3001\u3044\u304f\u3064\u304b\u306e Todo \u304c\u898b\u3089\u308c\u307e\u3059\u3002\n\n```json\n{\n  \"data\": [{\n    \"title\": \"Create the Phoenix App\",\n    \"is_completed\": true,\n    \"id\": 1\n  }, {\n    \"title\": \"Prepare the Ember App\",\n    \"is_completed\": false,\n    \"id\": 2\n  }, {\n    \"title\": \"Ensure the Apps Work Together\",\n    \"is_completed\": false,\n    \"id\": 3\n  }]\n}\n```\n\n\u4ee5\u4e0a\u306b\u3088\u308a\u3001\u57fa\u672c\u7684\u306a API \u304c\u7a3c\u50cd\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u6b21\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306b\u53d6\u308a\u304b\u304b\u308a\u307e\u3059\u3002\n\n##Ember\u30a2\u30d7\u30ea\u306e\u6e96\u5099\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u305f\u3081\u306b\u3001[TodoMVC.com](http://todomvc.com/) \u306e [Ember CLI](http://www.ember-cli.com/) \u5b9f\u88c5\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u9032\u3081\u308b\u524d\u306b\u3001Ember CLI \u306e [Getting Started](http://www.ember-cli.com/user-guide/#getting-started) \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u90e8\u5206\u306b\u5f93\u3046\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n####1) \u30af\u30ed\u30fc\u30f3\u3068\u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nEmber \u30a2\u30d7\u30ea\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n\n```shell-session\n$ git clone https://github.com/ember-cli/ember-cli-todos.git\n$ cd ember-cli-todos\n```\n\nnpm \u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ npm install\n```\n\n\u305d\u3057\u3066\u3001bower \u4f9d\u5b58\u95a2\u4fc2\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ bower install\n```\n\n####2) Ember \u30b5\u30fc\u30d0\u306e\u8d77\u52d5\n\u5fc5\u8981\u306a\u3082\u306e\u304c\u3059\u3079\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ ember server\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://localhost:4200 \u3092\u958b\u304d\u307e\u3059\u3002[^1]\u3053\u306e\u6642\u70b9\u3067 Todo \u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u30e1\u30e2\u30ea\u5185\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\u30da\u30fc\u30b8\u3092\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3057\u305f\u5834\u5408 Todo \u306f\u6c38\u7d9a\u5316\u3055\u308c\u307e\u305b\u3093\u3002\n\n####Ember \u3092 Phoenix \u3078\u63a5\u7d9a\n\u3053\u3053\u307e\u3067\u3067\u3001Phoenix \u3067\u66f8\u304b\u308c\u305f\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e API \u30a2\u30d7\u30ea\u3068\u3001Ember \u3067\u66f8\u304b\u308c\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u30a2\u30d7\u30ea\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u30012\u3064\u306e\u30a2\u30d7\u30ea\u306f\u4e92\u3044\u306b\u4f1a\u8a71\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u6b21\u306b\u30012\u3064\u306e\u30a2\u30d7\u30ea\u3092\u4e92\u3044\u306b\u63a5\u7d9a\u3057\u3001Todo \u3092\u6c38\u7d9a\u5316\u3057\u307e\u3059\u3002\n\n####Ember \u30a2\u30d7\u30ea\u3078\u306e\u5909\u66f4\n#####1) Phoenix \u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b Ember Data \u3092\u8a2d\u5b9a\n\u30e1\u30e2\u30ea\u5185\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u4f7f\u7528\u3059\u308b\u4ee3\u308f\u308a\u306b\u3001[Ember Data](https://github.com/emberjs/data) \u304c Phoenix API \u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001 `app/adapters/application.js` \u306e\u5185\u5bb9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\uff1a\n\n```js\nimport config from '../config/environment';\nimport FixtureAdapter from 'ember-data-fixture-adapter';\nimport DS from 'ember-data';\n\nvar adapter;\nif (config.environment === 'test') {\n  adapter = FixtureAdapter.extend({});\n} else {\n  adapter = DS.RESTAdapter.extend({\n    host: 'http://localhost:4000'\n  });\n}\n\nexport default adapter;\n```\n\n\u30a2\u30d7\u30ea\u3092\u30c6\u30b9\u30c8\u74b0\u5883\u3067\u8d77\u52d5\u3059\u308b\u5834\u5408\u3001\u5143\u306e `FixtureAdapter` \u3092\u4f7f\u7528\u3057\u7d9a\u3051\u307e\u3059\u304c\u3001\u4ed6\u306e\u3059\u3079\u3066\u306e\u74b0\u5883\u3067\u306f `RESTAdapter` \u3092\u4f7f\u7528\u3057\u3066 http://localhost:4000 \u3067 Phoenix API \u3092\u53c2\u7167\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n#####2) \u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306e\u8a2d\u5b9a\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Ember Data \u306f\u3001JSON \u306e\u30ad\u30fc\u540d\u306b\u30ad\u30e3\u30e1\u30eb\u30fb\u30b1\u30fc\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u307e\u3059\u304c\u3001\u79c1\u305f\u3061\u306e Phoenix API \u3067\u306f\u30b9\u30cd\u30fc\u30af\u30fb\u30b1\u30fc\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u554f\u984c\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u3001\u307e\u305f\u3001Ember \u304c\u4f7f\u7528\u3059\u308b\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u307e\u305a `serializers` \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ mkdir -p app/serializers/\n```\n\n\u305d\u3057\u3066\u305d\u306e\u5f8c\u3001`app/serializers/application.js` \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\uff1a\n\n```js\nimport config from '../config/environment';\nimport DS from 'ember-data';\nimport Ember from 'ember';\n\nvar serializer;\nif (config.environment === 'test') {\n  serializer = DS.JSONSerializer.extend({});\n} else {\n  serializer = DS.RESTSerializer.extend({\n    keyForAttribute(attr) {\n      return Ember.String.decamelize(attr);\n    }\n  });\n}\n\nexport default serializer;\n```\n\n\u3053\u3053\u3067\u3082\u30c6\u30b9\u30c8\u74b0\u5883\u3067\u306f\u7570\u306a\u308b\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3001Ember Data \u30e2\u30c7\u30eb\u306e\u5c5e\u6027\u3092\u30b9\u30cd\u30fc\u30af\u30fb\u30b1\u30fc\u30b9\u306b\u5909\u63db\u3059\u308b\u305f\u3081\u306b\u3001Ember \u306e\u30d3\u30eb\u30c8\u30a4\u30f3 `decamelize` \u30a2\u30c0\u30d7\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u305f\u3001\u30ab\u30b9\u30bf\u30e0 `RESTSerializer` \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u304b\u306a\u308a\u5358\u7d14\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3059\u304c\u3001\u79c1\u305f\u3061\u306e\u76ee\u7684\u306e\u305f\u3081\u306b\u306f\u6a5f\u80fd\u3057\u307e\u3059\u3002\n\n#####3) CORS\u306e\u8a2d\u5b9a\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30b5\u30fc\u30d0\u3092\u7570\u306a\u308b\u30dd\u30fc\u30c8\u304b\u3089\u30db\u30b9\u30c8\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3089\u304c\u901a\u4fe1\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u5207\u306b\u914d\u7f6e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001Ember \u30b5\u30fc\u30d0\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b [CSP \u30d8\u30c3\u30c0](https://en.wikipedia.org/wiki/Content_Security_Policy) \u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u958b\u767a\u74b0\u5883\u306e\u305f\u3081\u306b\u3001`config/environment.js` \u306e `ENV.contentSecurityPolicy` \u306e\u5185\u5bb9\u3092\u5909\u66f4\u3057\u307e\u3059\uff1a\n\n```js\nENV.contentSecurityPolicy = {\n  // ...\n  'connect-src': \"'self' http://localhost:*\",\n  // ...\n}\n```\n\n\u3053\u3053\u3067\u884c\u3063\u305f\u5909\u66f4\u306f\u3001`connect-src` \u30eb\u30fc\u30eb\u306b\u3001\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u4e0a\u306e\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b `http://localhost:*` \u3092\u8ffd\u52a0\u3057\u305f\u3053\u3068\u3067\u3059\u3002\n\n\u307e\u305f\u3001Phoenix \u30a2\u30d7\u30ea\u306b [CORS \u30d8\u30c3\u30c0](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing)\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u305d\u306e\u305f\u3081\u306b\u306fEmber \u30a2\u30d7\u30ea\u304c\u5b9f\u884c\u3055\u308c\u308b\u30dd\u30fc\u30c8\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u3067\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e `.ember-cli` \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff08Ember \u30a2\u30d7\u30ea\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308a\u307e\u3059\uff09\u3067\u30dd\u30fc\u30c8\u30929000\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\uff1a\n\n```js\n{\n  // ...\n  \"port\": 9000\n}\n```\n\n####Phoenix \u30a2\u30d7\u30ea\u3078\u306e\u5909\u66f4\n\u30a2\u30d7\u30ea\u306b [CORS \u30d8\u30c3\u30c0](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing)\u3092\u8ffd\u52a0\u3057\u3066\u3001Ember \u304c\u30a2\u30d7\u30ea\u306b\u5bfe\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3053\u3068\u3092\u30d6\u30e9\u30a6\u30b6\u304c\u8a31\u53ef\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n#####1) cors_plug \u306e\u8a2d\u5b9a\n[cors_plug](https://github.com/mschae/cors_plug) \u3068\u547c\u3070\u308c\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e [plug](http://www.phoenixframework.org/docs/understanding-plug) \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3053\u308c\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001`mix.exs` \u3067\u4f9d\u5b58\u95a2\u4fc2\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a\n\n```\ndef deps do\n  # ...\n  {:cors_plug, \"~> 0.1.3\"},\n  # ...\nend\n```\n\n\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ mix deps.get\n```\n\n\u4e00\u65e6\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308c\u3070\u3001\u30a2\u30d7\u30ea\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\uff08`lib/phoenix_todos_api/endpoint.ex` \u306b\u3042\u308a\u307e\u3059\uff09\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a\n\n```\ndefmodule PhoenixTodosApi.Endpoint do\n  # ...\n  plug CORSPlug, [origin: \"http://localhost:9000\"] # add this line\n  plug PhoenixTodosApi.Router\nend\n```\n\n\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067 `PhoenixTodosApi.Router` \u306e\u4e0a\u306b\u7f6e\u304d\u3001Ember \u30a2\u30d7\u30ea\u304c\u52d5\u304f\u3088\u3046\u306b\u69cb\u6210\u3057\u305f\u30dd\u30fc\u30c8\u4f7f\u7528\u3057\u3066\u3001origin \u3068\u3057\u3066 `http://localhost:9000` \u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\n#####2) JSON \u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u306e\u8a2d\u5b9a\nEmber \u3067 `RESTAdapter` \u306f\u3001JSON\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u305d\u308c\u304c\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u308b\u3079\u304d Ember Data \u30e2\u30c7\u30eb\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u305f\u3081\u306e\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002Todo \u30e2\u30c7\u30eb\u3067\u306f\u3001Todo \u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306f `todos` \u3001\u5358\u4e00\u306e Todo \u306f `todo` \u3067\u3059\u3002\u3057\u304b\u3057\u3001`mix phoenix.gen.json Todo` \u3092\u5b9f\u884c\u3057\u305f\u3068\u304d\u3001\u5e38\u306b `data` \u3092\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3068\u3057\u3066\u5fdc\u7b54\u3059\u308b `TodoView` \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u3067\u306f\u3001Todo \u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3068\u3057\u3066 `todos` \u3092\u3001\u5358\u4e00\u306e Todo \u306e\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3068\u3057\u3066 `todo` \u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3001JSON \u51fa\u529b\u3092\u5909\u66f4\u3057\u307e\u3057\u3087\u3046\u3002\u307e\u305a\u3001\u3053\u306e\u5909\u66f4\u3092\u5fc5\u8981\u3068\u3059\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002`test/controllers/todo_controller_test.exs` \u3092\u958b\u304d\u3001`[\"data\"]` \u306e\u3059\u3079\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092 `[\"todo\"]` \u3067\u7f6e\u304d\u63db\u3048\u307e\u3059\uff084\u3064\u306e\u7f6e\u304d\u63db\u3048\u304c\u3042\u308b\u306f\u305a\u3067\u3059\uff09\u3002\u305d\u3057\u3066\u3001 `:index` \u30a2\u30af\u30b7\u30e7\u30f3\u306e\u305f\u3081\u306e\u30c6\u30b9\u30c8\u3092\u898b\u3064\u3051\u3001\u671f\u5f85\u3055\u308c\u308b\u30eb\u30fc\u30c8\u3092 `[\"todo\"]` \u304b\u3089 `[todos]` \u306b\u5909\u66f4\u3057\u307e\u3059\uff1a\n\n```\ntest \"lists all entries on index\", %{conn: conn} do\n  conn = get conn, todo_path(conn, :index)\n  assert json_response(conn, 200)[\"todos\"] == []\nend\n```\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u30014\u3064\u306e\u5931\u6557\u304c\u8868\u793a\u3055\u308c\u307e\u3059\uff1a\n\n```shell-session\n$ mix test test/controllers/todo_controller_test.exs\n...\nFinished in 0.4 seconds (0.3s on load, 0.1s on tests)\n8 tests, 4 failures\n```\n\n\u30c6\u30b9\u30c8\u3092\u30d1\u30b9\u3059\u308b\u306b\u306f\u3001`index.json` \u3068 `show.json` \u30d3\u30e5\u30fc\u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u30eb\u30fc\u30c8\u30fb\u30ad\u30fc\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306f `web/views/todo_view.ex` \u306b\u3042\u308a\u307e\u3059\uff1a\n\n```\ndef render(\"index.json\", %{todos: todos}) do\n  # '%{data:' replaced with '%{todos:':\n  %{todos: render_many(todos, PhoenixTodosApi.TodoView, \"todo.json\")}\nend\n\ndef render(\"show.json\", %{todo: todo}) do\n  # '%{data:' replaced with '%{todo:':\n  %{todo: render_one(todo, PhoenixTodosApi.TodoView, \"todo.json\")}\nend\n```\n\n\u518d\u5ea6\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3001\u3059\u3079\u3066\u30d1\u30b9\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\uff1a\n\n```shell-session\n$ mix test test/controllers/todo_controller_test.exs\n...\nFinished in 0.4 seconds (0.3s on load, 0.1s on tests)\n8 tests, 0 failures\n```\n\n\u3053\u308c\u3067 Phoenix \u30a2\u30d7\u30ea\u306f Ember \u30a2\u30d7\u30ea\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u5bb9\u308c\u308b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n## \u4e00\u7dd2\u306b\u30a2\u30d7\u30ea\u3092\u30c6\u30b9\u30c8\n\u5404\u3005\u3092\u8d77\u52d5\u3059\u308b\u3053\u3068\u3067\u30a2\u30d7\u30ea\u304c\u4e00\u7dd2\u306b\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002Phoenix \u3092\u8d77\u52d5\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ mix phoenix.server\n```\n\n\u3064\u3065\u3051\u3066 Ember \u3092\u8d77\u52d5\u3057\u307e\u3059\uff1a\n\n```shell-session\n$ ember server\n```\n\n\u305d\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3067 http://localhost:9000 \u3092\u958b\u304d\u307e\u3059\u3002\n\nEmber \u30a2\u30d7\u30ea\u306b\u3001\u5148\u307b\u3069 Phoenix \u30a2\u30d7\u30ea\u3067\u8ffd\u52a0\u3057\u305f\u30c7\u30fc\u30bf\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u3002Ember \u30a2\u30d7\u30ea\u3067\u52a0\u3048\u305f\u5909\u66f4\u306f Phoenix \u30a2\u30d7\u30ea\u306b\u6c38\u7d9a\u5316\u3055\u308c\u307e\u3059\u3002`mix phoenix.server` \u304b\u3089\u306e\u30ed\u30b0\u51fa\u529b\u3092\u898b\u308b\u3053\u3068\u3067\u3053\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u30da\u30fc\u30b8\u3092\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3057\u3066\u3082\u3001\u5909\u66f4\u306f\u6c38\u7d9a\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n---\n[^1]: \u79c1\uff08\u7ffb\u8a33\u8005\uff09\u306e\u74b0\u5883\u3067\u306f\u3053\u3053\u3067 Ember \u306e\u30d3\u30eb\u30c9\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 bower \u3067\u6b63\u3057\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u306a\u304b\u3063\u305f moment \u3092\u624b\u52d5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3067\u3001\u30a8\u30e9\u30fc\u304c\u89e3\u6d88\u3057\u307e\u3057\u305f\u3002`$ bower install moment`\n\n"}