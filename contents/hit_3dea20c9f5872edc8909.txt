{"context": " More than 1 year has passed since last update.\u30ec\u30f3\u30b8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u3092SQL\u3067\u6761\u4ef6\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306f\u3069\u306e\u3088\u3046\u306a\u6319\u52d5\u3092\u3059\u308b\u306e\u304b\uff1f\u3092\u691c\u8a3c\u3057\u3066\u307f\u307e\u3057\u305f\u3002explain partitions\u306a\u3093\u3066\u3044\u3046\u4fbf\u5229\u306a\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308a\u3001\u691c\u8a3c\u304c\u697d\u52dd\u3067\u3057\u305f\u3002\u307e\u3060\u307e\u3068\u3081\u304d\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u3059\u3053\u3057\u4e71\u66b4\u306b\u66f8\u3044\u3066\u304a\u308a\u307e\u3059\u304c\u3001\u3056\u3063\u3068\u898b\u3066\u3044\u305f\u3060\u304d\u3001\u300c\u3042\uff5e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3063\u3066\u3053\u3046\u3044\u3046\u3082\u306e\u306a\u306e\u304b\u300d\u3068\u7406\u89e3\u3044\u305f\u3060\u304f\u3068\u3046\u308c\u3057\u3044\u3067\u3059\u3002\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u306b\u3057\u305f\u306e\u306f\u826f\u3044\u3051\u3069\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u5411\u4e0a\u3057\u3066\u3044\u306a\u3044\u30fb\u30fb\u3068\u3044\u3046\u65b9\u306f\u3001\u4e00\u5ea6\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u52d5\u304d\u3092\u78ba\u8a8d\u3057\u305f\u3060\u304d\u3001SQL\u3092\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u3057\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u826f\u3044\u304b\u3068\u30fb\u30fb\u3002\n\n\u30c6\u30b9\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\uff08\u30ec\u30f3\u30b8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\uff09\n\ncreate table pt_test\n(\nid int not null,\ndetail varchar(20),\nPRIMARY KEY (id)\n);\n\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\n\nalter table pt_test\nPARTITION BY RANGE (id) (\nPARTITION p01 VALUES LESS THAN (5000),\nPARTITION p02 VALUES LESS THAN (10000),\nPARTITION p03 VALUES LESS THAN (15000),\nPARTITION p04 VALUES LESS THAN (20000),\nPARTITION p05 VALUES LESS THAN (25000),\nPARTITION p06 VALUES LESS THAN (30000),\nPARTITION p07 VALUES LESS THAN (35000),\nPARTITION p08 VALUES LESS THAN (40000),\nPARTITION p09 VALUES LESS THAN (45000),\nPARTITION p10 VALUES LESS THAN (50000),\nPARTITION pover VALUES LESS THAN MAXVALUE\n);\n\n\n\u521d\u56de\u30c7\u30fc\u30bf\u6295\u5165\nid=1\uff5e65535 \u4ef6\u306e\u30c7\u30fc\u30bf\u3092\u30a4\u30f3\u30b5\u30fc\u30c8\n\n\u7d50\u679c\u78ba\u8a8d\nmysql> select TABLE_SCHEMA,TABLE_NAME,PARTITION_NAME,PARTITION_ORDINAL_POSITION,TABLE_ROWS from INFORMATION_SCHEMA.PARTITIONS WHERE TABLE_NAME='pt_test';\n\n+--------------+------------+----------------+----------------------------+------------+\n| TABLE_SCHEMA | TABLE_NAME | PARTITION_NAME | PARTITION_ORDINAL_POSITION | TABLE_ROWS |\n+--------------+------------+----------------+----------------------------+------------+\n| test_db      | pt_test    | p01            |                          1 |       4999 |\n| test_db      | pt_test    | p02            |                          2 |       5000 |\n| test_db      | pt_test    | p03            |                          3 |       5000 |\n| test_db      | pt_test    | p04            |                          4 |       5000 |\n| test_db      | pt_test    | p05            |                          5 |       5000 |\n| test_db      | pt_test    | p06            |                          6 |       5000 |\n| test_db      | pt_test    | p07            |                          7 |       5000 |\n| test_db      | pt_test    | p08            |                          8 |       5000 |\n| test_db      | pt_test    | p09            |                          9 |       5000 |\n| test_db      | pt_test    | p10            |                         10 |       5000 |\n| test_db      | pt_test    | pover          |                         11 |      15537 |\n+--------------+------------+----------------+----------------------------+------------+\n11 rows in set (0.00 sec)\n\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u5229\u7528\u72b6\u6cc1\u3092\u78ba\u8a8d\u3059\u308b\n\n\u7247\u5074\u6307\u5b9a\u3067\u3059\u3068\u3001limit\u3092\u6307\u5b9a\u3057\u3066\u3044\u3088\u3046\u304c\u3044\u307e\u3044\u304c\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u307e\u305f\u3044\u3067\u691c\u7d22\u3059\u308b\nmysql> explain partitions select * from pt_test where id < 10000;\n+----+-------------+---------+------------+------+---------------+------+---------+------+------+-------------+\n| id | select_type | table   | partitions | type | possible_keys | key  | key_len | ref  | rows | Extra       |\n+----+-------------+---------+------------+------+---------------+------+---------+------+------+-------------+\n|  1 | SIMPLE      | pt_test | p01,p02    | ALL  | PRIMARY       | NULL | NULL    | NULL | 9999 | Using where |\n+----+-------------+---------+------------+------+---------------+------+---------+------+------+-------------+\n1 row in set (0.00 sec)\n\nmysql> explain partitions select * from pt_test where id < 10000 limit 100;\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n| id | select_type | table   | partitions | type  | possible_keys | key     | key_len | ref  | rows | Extra       |\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n|  1 | SIMPLE      | pt_test | p01,p02    | range | PRIMARY       | PRIMARY | 4       | NULL | 9957 | Using where |\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n1 row in set (0.00 sec)\n\n\nFrom \uff5e To \u6307\u5b9a\u3067\u3059\u3068\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306f\u9650\u5b9a\u3055\u308c\u308b\nmysql> explain partitions select * from pt_test where id > 5000 and id < 10000 limit 100;\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n| id | select_type | table   | partitions | type  | possible_keys | key     | key_len | ref  | rows | Extra       |\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n|  1 | SIMPLE      | pt_test | p02        | range | PRIMARY       | PRIMARY | 4       | NULL | 4981 | Using where |\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n1 row in set (0.00 sec)\n\nmysql> explain partitions select * from pt_test where id < 40000 limit 10000;\n\n+----+-------------+---------+---------------------------------+-------+---------------+---------+---------+------+-------+-------------+\n| id | select_type | table   | partitions                      | type  | possible_keys | key     | key_len | ref  | rows  | Extra       |\n+----+-------------+---------+---------------------------------+-------+---------------+---------+---------+------+-------+-------------+\n|  1 | SIMPLE      | pt_test | p01,p02,p03,p04,p05,p06,p07,p08 | range | PRIMARY       | PRIMARY | 4       | NULL | 39855 | Using where |\n+----+-------------+---------+---------------------------------+-------+---------------+---------+---------+------+-------+-------------+\n1 row in set (0.00 sec)\n\n\u30ec\u30f3\u30b8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u3092SQL\u3067\u6761\u4ef6\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306f\u3069\u306e\u3088\u3046\u306a\u6319\u52d5\u3092\u3059\u308b\u306e\u304b\uff1f\u3092\u691c\u8a3c\u3057\u3066\u307f\u307e\u3057\u305f\u3002explain partitions\u306a\u3093\u3066\u3044\u3046\u4fbf\u5229\u306a\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308a\u3001\u691c\u8a3c\u304c\u697d\u52dd\u3067\u3057\u305f\u3002\u307e\u3060\u307e\u3068\u3081\u304d\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u3059\u3053\u3057\u4e71\u66b4\u306b\u66f8\u3044\u3066\u304a\u308a\u307e\u3059\u304c\u3001\u3056\u3063\u3068\u898b\u3066\u3044\u305f\u3060\u304d\u3001\u300c\u3042\uff5e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3063\u3066\u3053\u3046\u3044\u3046\u3082\u306e\u306a\u306e\u304b\u300d\u3068\u7406\u89e3\u3044\u305f\u3060\u304f\u3068\u3046\u308c\u3057\u3044\u3067\u3059\u3002\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u306b\u3057\u305f\u306e\u306f\u826f\u3044\u3051\u3069\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u5411\u4e0a\u3057\u3066\u3044\u306a\u3044\u30fb\u30fb\u3068\u3044\u3046\u65b9\u306f\u3001\u4e00\u5ea6\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u52d5\u304d\u3092\u78ba\u8a8d\u3057\u305f\u3060\u304d\u3001SQL\u3092\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u3057\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u826f\u3044\u304b\u3068\u30fb\u30fb\u3002\n\n## \u30c6\u30b9\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\uff08\u30ec\u30f3\u30b8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\uff09\n\n```sql\n\ncreate table pt_test\n(\nid int not null,\ndetail varchar(20),\nPRIMARY KEY (id)\n);\n```\n## \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\n\n```sql\n\nalter table pt_test\nPARTITION BY RANGE (id) (\nPARTITION p01 VALUES LESS THAN (5000),\nPARTITION p02 VALUES LESS THAN (10000),\nPARTITION p03 VALUES LESS THAN (15000),\nPARTITION p04 VALUES LESS THAN (20000),\nPARTITION p05 VALUES LESS THAN (25000),\nPARTITION p06 VALUES LESS THAN (30000),\nPARTITION p07 VALUES LESS THAN (35000),\nPARTITION p08 VALUES LESS THAN (40000),\nPARTITION p09 VALUES LESS THAN (45000),\nPARTITION p10 VALUES LESS THAN (50000),\nPARTITION pover VALUES LESS THAN MAXVALUE\n);\n```\n\n## \u521d\u56de\u30c7\u30fc\u30bf\u6295\u5165\n\nid=1\uff5e65535 \u4ef6\u306e\u30c7\u30fc\u30bf\u3092\u30a4\u30f3\u30b5\u30fc\u30c8\n\n## \u7d50\u679c\u78ba\u8a8d\n\n```sql\nmysql> select TABLE_SCHEMA,TABLE_NAME,PARTITION_NAME,PARTITION_ORDINAL_POSITION,TABLE_ROWS from INFORMATION_SCHEMA.PARTITIONS WHERE TABLE_NAME='pt_test';\n\n+--------------+------------+----------------+----------------------------+------------+\n| TABLE_SCHEMA | TABLE_NAME | PARTITION_NAME | PARTITION_ORDINAL_POSITION | TABLE_ROWS |\n+--------------+------------+----------------+----------------------------+------------+\n| test_db      | pt_test    | p01            |                          1 |       4999 |\n| test_db      | pt_test    | p02            |                          2 |       5000 |\n| test_db      | pt_test    | p03            |                          3 |       5000 |\n| test_db      | pt_test    | p04            |                          4 |       5000 |\n| test_db      | pt_test    | p05            |                          5 |       5000 |\n| test_db      | pt_test    | p06            |                          6 |       5000 |\n| test_db      | pt_test    | p07            |                          7 |       5000 |\n| test_db      | pt_test    | p08            |                          8 |       5000 |\n| test_db      | pt_test    | p09            |                          9 |       5000 |\n| test_db      | pt_test    | p10            |                         10 |       5000 |\n| test_db      | pt_test    | pover          |                         11 |      15537 |\n+--------------+------------+----------------+----------------------------+------------+\n11 rows in set (0.00 sec)\n```\n\n## \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u5229\u7528\u72b6\u6cc1\u3092\u78ba\u8a8d\u3059\u308b\n\n### \u7247\u5074\u6307\u5b9a\u3067\u3059\u3068\u3001limit\u3092\u6307\u5b9a\u3057\u3066\u3044\u3088\u3046\u304c\u3044\u307e\u3044\u304c\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u307e\u305f\u3044\u3067\u691c\u7d22\u3059\u308b\n\n```sql\nmysql> explain partitions select * from pt_test where id < 10000;\n+----+-------------+---------+------------+------+---------------+------+---------+------+------+-------------+\n| id | select_type | table   | partitions | type | possible_keys | key  | key_len | ref  | rows | Extra       |\n+----+-------------+---------+------------+------+---------------+------+---------+------+------+-------------+\n|  1 | SIMPLE      | pt_test | p01,p02    | ALL  | PRIMARY       | NULL | NULL    | NULL | 9999 | Using where |\n+----+-------------+---------+------------+------+---------------+------+---------+------+------+-------------+\n1 row in set (0.00 sec)\n\nmysql> explain partitions select * from pt_test where id < 10000 limit 100;\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n| id | select_type | table   | partitions | type  | possible_keys | key     | key_len | ref  | rows | Extra       |\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n|  1 | SIMPLE      | pt_test | p01,p02    | range | PRIMARY       | PRIMARY | 4       | NULL | 9957 | Using where |\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n1 row in set (0.00 sec)\n```\n\n### From \uff5e To \u6307\u5b9a\u3067\u3059\u3068\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306f\u9650\u5b9a\u3055\u308c\u308b\n\n```sql\nmysql> explain partitions select * from pt_test where id > 5000 and id < 10000 limit 100;\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n| id | select_type | table   | partitions | type  | possible_keys | key     | key_len | ref  | rows | Extra       |\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n|  1 | SIMPLE      | pt_test | p02        | range | PRIMARY       | PRIMARY | 4       | NULL | 4981 | Using where |\n+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+-------------+\n1 row in set (0.00 sec)\n\nmysql> explain partitions select * from pt_test where id < 40000 limit 10000;\n\n+----+-------------+---------+---------------------------------+-------+---------------+---------+---------+------+-------+-------------+\n| id | select_type | table   | partitions                      | type  | possible_keys | key     | key_len | ref  | rows  | Extra       |\n+----+-------------+---------+---------------------------------+-------+---------------+---------+---------+------+-------+-------------+\n|  1 | SIMPLE      | pt_test | p01,p02,p03,p04,p05,p06,p07,p08 | range | PRIMARY       | PRIMARY | 4       | NULL | 39855 | Using where |\n+----+-------------+---------+---------------------------------+-------+---------------+---------+---------+------+-------+-------------+\n1 row in set (0.00 sec)\n```\n", "tags": ["MySQL", "mariadb"]}