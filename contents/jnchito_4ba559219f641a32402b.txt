{"tags": ["poltergeist", "RSpec", "Capybara", "Rails"], "context": "\n\n\u906d\u9047\u3057\u305f\u554f\u984c\nPhantomJS 1.9\u7cfb\u304b\u3089PhantomJS 2.1.1\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u5f8c\u3001\u65e2\u5b58\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u6b21\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\nCapybara::Poltergeist::ObsoleteNode:\n The element you are trying to interact with is either not part of the DOM, or is not currently visible on the page (perhaps display: none is set). It's possible the element has been replaced by another element and you meant to interact with the new element. If so you need to do a new 'find' in order to get a reference to the new element.\n# ./spec/features/posts_spec.rb:15:in `block (2 levels) in <top (required)>'\n# ./spec/rails_helper.rb:67:in `block (2 levels) in <top (required)>'\n# ------------------\n# --- Caused by: ---\n# Capybara::Poltergeist::BrowserError:\n#   There was an error inside the PhantomJS portion of Poltergeist. If this is the error returned, and not the cause of a more detailed error response, this is probably a bug, so please report it. \n#   \n#   Poltergeist.ObsoleteNode: \n#   ./spec/features/posts_spec.rb:15:in `block (2 levels) in <top (required)>'\n\n\n\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u7b87\u6240\n\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u306e\u306fattach_file\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u3044\u308b\u7b87\u6240\u3002\nfile_path = \"#{Rails.root}/spec/fixtures/images/sample.png\"\nattach_file '\u6dfb\u4ed8\u753b\u50cf', file_path\n\n\u306a\u304a\u304b\u3064\u3001View\u5074\u3067\u306fjquery-fileupload\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092Ajax\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u305f\u3002\n\n\u539f\u56e0\u3068\u89e3\u6c7a\u7b56\nCapybara\u3068Poltergeist\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304b\u3063\u305f\u3002\u6700\u65b0\u7248\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3089\u76f4\u308a\u307e\u3057\u305f\u3002\u3002\nBefore/After\n\nCapybara 2.5.0 => 2.8.1\nPoltergeist 1.8.1 => 1.10.0\n\n\n\u6559\u8a13\nPhantomJS\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0a\u3052\u305f\u3089\u3001Capybara\u3068PhantomJS\u3082\u6700\u65b0\u7248\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u307e\u3057\u3087\u3046\uff01\uff01\n\n\u95a2\u9023Issue\nGetting `Capybara::Poltergeist::ObsoleteNode` using Phantomjs 2.1 \u00b7 Issue #725 \u00b7 teampoltergeist/poltergeist\n\n## \u906d\u9047\u3057\u305f\u554f\u984c\n\nPhantomJS 1.9\u7cfb\u304b\u3089PhantomJS 2.1.1\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u5f8c\u3001\u65e2\u5b58\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u6b21\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\n\n```\nCapybara::Poltergeist::ObsoleteNode:\n The element you are trying to interact with is either not part of the DOM, or is not currently visible on the page (perhaps display: none is set). It's possible the element has been replaced by another element and you meant to interact with the new element. If so you need to do a new 'find' in order to get a reference to the new element.\n# ./spec/features/posts_spec.rb:15:in `block (2 levels) in <top (required)>'\n# ./spec/rails_helper.rb:67:in `block (2 levels) in <top (required)>'\n# ------------------\n# --- Caused by: ---\n# Capybara::Poltergeist::BrowserError:\n#   There was an error inside the PhantomJS portion of Poltergeist. If this is the error returned, and not the cause of a more detailed error response, this is probably a bug, so please report it. \n#   \n#   Poltergeist.ObsoleteNode: \n#   ./spec/features/posts_spec.rb:15:in `block (2 levels) in <top (required)>'\n```\n\n## \u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u7b87\u6240\n\n\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u306e\u306f`attach_file`\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u3044\u308b\u7b87\u6240\u3002\n\n```ruby\nfile_path = \"#{Rails.root}/spec/fixtures/images/sample.png\"\nattach_file '\u6dfb\u4ed8\u753b\u50cf', file_path\n```\n\n\u306a\u304a\u304b\u3064\u3001View\u5074\u3067\u306fjquery-fileupload\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092Ajax\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u305f\u3002\n\n## \u539f\u56e0\u3068\u89e3\u6c7a\u7b56\n\nCapybara\u3068Poltergeist\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304b\u3063\u305f\u3002\u6700\u65b0\u7248\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3089\u76f4\u308a\u307e\u3057\u305f\u3002\u3002\n\nBefore/After\n\n- Capybara 2.5.0 => 2.8.1\n- Poltergeist 1.8.1 => 1.10.0\n\n## \u6559\u8a13\n\nPhantomJS\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0a\u3052\u305f\u3089\u3001Capybara\u3068PhantomJS\u3082\u6700\u65b0\u7248\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u307e\u3057\u3087\u3046\uff01\uff01\n\n## \u95a2\u9023Issue\n\n[Getting \\`Capybara::Poltergeist::ObsoleteNode\\` using Phantomjs 2\\.1 \u00b7 Issue \\#725 \u00b7 teampoltergeist/poltergeist](https://github.com/teampoltergeist/poltergeist/issues/725)\n"}