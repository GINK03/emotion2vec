{"context": " More than 1 year has passed since last update.@Entity\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u305fHibernate(JPA)\u306e\u30af\u30e9\u30b9\u304b\u3089DDL\u3092\u751f\u6210\u3059\u308b\u3002\n\u30b5\u30f3\u30d7\u30eb\u306f\u6a19\u6e96\u51fa\u529b\u306bcreate\u6587\u3092\u51fa\u529b\u3059\u308b\u3002\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.cfg.Environment;\nimport org.hibernate.dialect.MySQL5InnoDBDialect;\nimport org.hibernate.tool.hbm2ddl.SchemaExport;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\nimport org.springframework.core.type.AnnotationMetadata;\nimport org.springframework.core.type.classreading.MetadataReader;\nimport org.springframework.core.type.classreading.SimpleMetadataReaderFactory;\n\nimport javax.persistence.Entity;\n\npublic class Hbm2ddl {\n\n    public static void main(String[] args) throws Exception {\n        String locationPattern = \"classpath:/hoge/foo/entity/*\";\n\n        Configuration configuration = new Configuration()\n                .setProperty(Environment.DIALECT, MySQL5InnoDBDialect.class.getCanonicalName());\n\n        PathMatchingResourcePatternResolver resourcePatternResolver = new PathMatchingResourcePatternResolver();\n        Resource[] resources = resourcePatternResolver.getResources(locationPattern);\n        SimpleMetadataReaderFactory metadataReaderFactory = new SimpleMetadataReaderFactory();\n        for (Resource resource : resources) {\n            MetadataReader metadataReader = metadataReaderFactory.getMetadataReader(resource);\n            AnnotationMetadata metadata = metadataReader.getAnnotationMetadata();\n            if (metadata.hasAnnotation(Entity.class.getName())) {\n                configuration.addAnnotatedClass(Class.forName(metadata.getClassName()));\n            }\n        }\n\n        new SchemaExport(configuration)\n                .setDelimiter(\";\")\n                .create(true, false);\n    }\n}\n\n@Entity\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u305fHibernate(JPA)\u306e\u30af\u30e9\u30b9\u304b\u3089DDL\u3092\u751f\u6210\u3059\u308b\u3002\n\u30b5\u30f3\u30d7\u30eb\u306f\u6a19\u6e96\u51fa\u529b\u306bcreate\u6587\u3092\u51fa\u529b\u3059\u308b\u3002\n\n```java\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.cfg.Environment;\nimport org.hibernate.dialect.MySQL5InnoDBDialect;\nimport org.hibernate.tool.hbm2ddl.SchemaExport;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\nimport org.springframework.core.type.AnnotationMetadata;\nimport org.springframework.core.type.classreading.MetadataReader;\nimport org.springframework.core.type.classreading.SimpleMetadataReaderFactory;\n\nimport javax.persistence.Entity;\n\npublic class Hbm2ddl {\n\t\n\tpublic static void main(String[] args) throws Exception {\n\t\tString locationPattern = \"classpath:/hoge/foo/entity/*\";\n\n\t\tConfiguration configuration = new Configuration()\n\t\t\t\t.setProperty(Environment.DIALECT, MySQL5InnoDBDialect.class.getCanonicalName());\n\n\t\tPathMatchingResourcePatternResolver resourcePatternResolver = new PathMatchingResourcePatternResolver();\n\t\tResource[] resources = resourcePatternResolver.getResources(locationPattern);\n\t\tSimpleMetadataReaderFactory metadataReaderFactory = new SimpleMetadataReaderFactory();\n\t\tfor (Resource resource : resources) {\n\t\t\tMetadataReader metadataReader = metadataReaderFactory.getMetadataReader(resource);\n\t\t\tAnnotationMetadata metadata = metadataReader.getAnnotationMetadata();\n\t\t\tif (metadata.hasAnnotation(Entity.class.getName())) {\n\t\t\t\tconfiguration.addAnnotatedClass(Class.forName(metadata.getClassName()));\n\t\t\t}\n\t\t}\n\n\t\tnew SchemaExport(configuration)\n\t\t\t\t.setDelimiter(\";\")\n\t\t\t\t.create(true, false);\n\t}\n}\n```", "tags": ["Hibernate4", "spring"]}