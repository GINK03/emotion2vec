{"context": "\n\n\u6982\u8981\ncmake\u3092\u4f7f\u3063\u3066\u3082\u826f\u3044\u306e\u3060\u3051\u3069\u3001\u3061\u3087\u3063\u3068\u3057\u305fC++\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3068\u304d\u306bCMakeLists.txt\u3092\u4e00\u304b\u3089\u66f8\u304f\u306e\u3082\u306a\u3093\u3068\u306a\u304f\u5104\u52ab\u3060\u3063\u305f\u306e\u3067\u3001\u62e1\u5f35\u304c\u5bb9\u6613\u304b\u3064\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306aMakefile\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\u307e\u305fMakefile\u3092Makefile\u3068Makefile.in\u306e\uff12\u3064\u306b\u5206\u96e2\u3057\u305f\u3053\u3068\u306b\u3088\u308a\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u5171\u6709\u3059\u308b\u8907\u6570\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30d3\u30eb\u30c9\u3082\u5bb9\u6613\u306b\u3067\u304d\u307e\u3059\u3002\n\n\u4f7f\u3044\u65b9\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3001\u5f8c\u307b\u3069\u8aac\u660e\u3059\u308bMakefile\u3068Makefile.in\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092./src\u4ee5\u4e0b\u306b\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3092./include\u4ee5\u4e0b\u306b\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\nMakefile\u3092\u7de8\u96c6\u3057\u3066\u3001\u5404\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb&\u30ea\u30f3\u30af\u3059\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ee5\u4e0a\u306e\u4f5c\u696d\u3067\u5b8c\u4e86\u3067\u3059\u3002\u3042\u3068\u306f\u81ea\u7531\u306bMakefile\u306e\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306b\u4f7f\u7528\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\u3092\u307e\u3068\u3081\u307e\u3057\u305f([TARGET]\u306fMakefile\u5185\u3067\u6307\u5b9a\u3059\u308b\u30bf\u30fc\u30b2\u30c3\u30c8\u540d)\u3002\n\u306a\u304a\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306f./bin\u4ee5\u4e0b\u306b\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u306f./obj\u4ee5\u4e0b\u306b\u81ea\u52d5\u7684\u306b\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n\n\n\u30b3\u30de\u30f3\u30c9\n\u8aac\u660e\n\n\n\n\nmake [TARGET]\n\nmake [TARGET].release\u3068\u540c\u3058\n\n\nmake [TARGET].release\n\u6700\u9069\u5316\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3057[TARGET]\u3092\u30d3\u30eb\u30c9\u3059\u308b\n\n\nmake [TARGET].develop\n\u30c7\u30d0\u30c3\u30b0\u7528\u306b[TARGET]\u3092\u30d3\u30eb\u30c9\u3059\u308b\n\n\nmake [TARGET].all\n\n[TARGET]\u3092\u5f37\u5236\u7684\u306b\u30d3\u30eb\u30c9\u3059\u308b\n\n\nmake [TARGET].run\n\u751f\u6210\u3055\u308c\u305f[TARGET]\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\n\n\nmake [TARGET].debug\n\u751f\u6210\u3055\u308c\u305f[TARGET]\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092gdb\u3067\u30c7\u30d0\u30c3\u30b0\u3059\u308b\n\n\nmake [TARGET].clear\n\u751f\u6210\u3055\u308c\u305f[TARGET]\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u53bb\u3059\u308b\n\n\nmake [TARGET].clean\n\n[TARGET]\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u53bb\u3059\u308b\n\n\nmake all\n\u3059\u3079\u3066\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3002\n\n\nmake clear\n\u3059\u3079\u3066\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u53bb\u3059\u308b\u3002\n\n\nmake clean\n\u3059\u3079\u3066\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u53bb\u3059\u308b\u3002\n\n\n\n\nSample & Makefile\u306e\u89e3\u8aac\n\nSample\n\u5b9f\u969b\u306b\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046(\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f\u3053\u3061\u3089\u304b\u3089)\u3002\n\u7c21\u5358\u306e\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a./src\u4ee5\u4e0b\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u3001./include\u4ee5\u4e0b\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u308b\u3088\u3046\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u8003\u3048\u3066\u307f\u307e\u3059\u3002\u3053\u3053\u3067prog_A\u3001prog_B\u306e\uff12\u3064\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u3042\u308a\u3001\u305d\u308c\u305e\u308cutils.hpp\u306b\u4f9d\u5b58\u3059\u308b\u3088\u3046\u306a\u72b6\u6cc1\u3060\u3068\u3057\u307e\u3059\u3002\n.\n\u251c\u2500\u2500 Makefile\n\u251c\u2500\u2500 Makefile.in\n\u251c\u2500\u2500 include\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 utils\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 utils.hpp\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 prog_A\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 hoge.cpp\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 hoge.hpp\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 main.cpp\n    \u251c\u2500\u2500 prog_B\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 fuga.cpp\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 fuga.hpp\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 main.cpp\n    \u2514\u2500\u2500 utils\n        \u2514\u2500\u2500 utils.cpp\n\n\nMakefile\u306e\u8a2d\u5b9a\n\u307e\u305aMakefile\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nMakefile\nMAKEFLAGS += --no-print-directory --no-builtin-rules\n\n.DEFAULT_GOAL := all\n\nTARGET := prog_A prog_B\n\nprog_A : ARGS += \"BIN_NAME=prog_A\"\nprog_A : ARGS += \"SRC_DIRS=./src/prog_A ./src/utils\"\n\nprog_B : ARGS += \"BIN_NAME=prog_B\"\nprog_B : ARGS += \"SRC_DIRS=./src/prog_B ./src/utils\"\n\n$(addsuffix .release,$(TARGET)) : OPTION += release\n%.release : %\n    @:\n\n$(addsuffix .develop,$(TARGET)) : OPTION += develop\n%.develop : %\n    @:\n\n$(addsuffix .all,$(TARGET)) : OPTION += all\n%.all : %\n    @:\n\n$(addsuffix .run,$(TARGET)) : OPTION += run\n%.run : %\n    @:\n\n$(addsuffix .debug,$(TARGET)) : OPTION += debug\n%.debug : %\n    @:\n\n$(addsuffix .clear,$(TARGET)) : OPTION += clear\n%.clear : %\n    @:\n\n$(addsuffix .clean,$(TARGET)) : OPTION += clean\n%.clean : %\n    @:\n\nall : $(TARGET)\nclear : $(addsuffix .clear,$(TARGET))\nclean : $(addsuffix .clean,$(TARGET))\n\n$(TARGET) :\n    @echo \"----- make $(OPTION) $@ -----\"\n    @make -f ./Makefile.in $(ARGS) $(OPTION)\n\n\n\u3053\u3053\u3067\u5404\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u6700\u4f4e\u5fc5\u8981\u306a\u306e\u306f\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3068\u306a\u308a\u307e\u3059\u3002\n\u5404\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066Makefile\u5185\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n[TARGET] : ARGS += \"BIN_NAME=[\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d]\"\n[TARGET] : ARGS += \"SRC_DIRS=[\u4f9d\u5b58\u3059\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u76f8\u5bfe\u30c7\u30a3\u30ec\u30af\u30c8\u30ea]\"\n\n\u307e\u305f\u5909\u6570TARGET\u306b\u8ffd\u52a0\u3057\u305f\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u52a0\u3048\u308c\u3070\u5b8c\u6210\u3067\u3059\u3002\n\nMakefile.in\u306e\u89e3\u8aac\n\u6b21\u306b\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u8a73\u7d30\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4e0e\u3048\u308bMakefile.in\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\n\nMakefile.in\nMAKEFLAGS += --no-builtin-rules\n\nCXX := g++\nCXXFLAGS := -std=c++17 -Wall -m64 -MMD -MP\nCXXFLAGS_DEV := -O0 -g\nCXXFLAGS_REL := -O3\nDEBUG := gdb\nLIBS := -lpthread -lglut -lm\nCPPFLAGS := $(addprefix -I, ./include $(wildcard ./include/*))\nCPPFLAGS += `pkg-config --cflags opencv`\nifeq \"$(shell getconf LONG_BIT)\" \"64\"\n  LDFLAGS := `pkg-config --libs opencv`\nelse\n  LDFLAGS :=\nendif\nSUFFIX := cpp\n\nBIN_NAME :=\nBIN_DIR := ./bin\nBINARY := $(BIN_DIR)/$(BIN_NAME)\n\nSRC_DIR := ./src\nSOURCES := $(SRC_FILES)\nSOURCES += $(foreach dir,$(SRC_DIRS),$(shell find $(dir) -regex \".*\\.$(SUFFIX)\"))\n\nOBJ_DIR := ./obj\nOBJECTS := $(patsubst $(SRC_DIR)/%,$(OBJ_DIR)/%,$(SOURCES:.$(SUFFIX)=.o))\n\nDEPENDS := $(OBJECTS:.o=.d)\n\n.DEFAULT_GOAL := release\n\nrelease : CXX_FLAGS += $(CXXFLAGS_REL)\nrelease : $(BINARY)\n\ndevelop : CXX_FLAGS += $(CXXFLAGS_DEV)\ndevelop : $(BINARY)\n\n$(BINARY) : $(OBJECTS) $(LIBS)\n    mkdir -p $(@D)\n    $(CXX) -o $@ $^ $(LDFLAGS)\n\n$(OBJ_DIR)/%.o : $(SRC_DIR)/%.$(SUFFIX)\n    mkdir -p $(@D)\n    $(CXX) $(CPPFLAGS) $(CXXFLAGS) -o $@ -c $<\n\nall : clean release\n\ndebug :\n    $(DEBUG) $(BINARY)\n\nrun:\n    $(BINARY)\n\nclear :\n    -rm -rf $(BINARY)\n\nclean :\n    -rm -rf $(OBJECTS) $(BINARY)\n\n.PHONY : all debug run clean clear\n\n-include $(DEPENDS)\n\n\n\u4ee3\u8868\u7684\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\n\noption\n\u8aac\u660e\n\n\n\n\nCXX\nC++\u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u7a2e\u985e\n\n\nCXXFLAGS\n\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\nCXXFLAGS_DEV\n\nmake develop\u6642\u306b\u4e0e\u3048\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\nCXXFLAGS_REL\n\nmake release\u6642\u306b\u4e0e\u3048\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\nDEBUG\n\u30c7\u30d0\u30c3\u30ac\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\n\n\nLIBS\n\u30ea\u30f3\u30af\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\n\n\nCPPFLAGS\n\u30d7\u30ea\u30d7\u30ed\u30bb\u30b9\u6642\u306b\u4f7f\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\nSUFFIX\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u62e1\u5f35\u5b50\n\n\n\n\u304a\u597d\u307f\u3067\u3053\u308c\u3089\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u3042\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u307f\u306b\u5909\u66f4\u3092\u9069\u5fdc\u3057\u305f\u3044\u5834\u5408\u306f\u3001Makefile\u5185\u306e\u5909\u6570ARGS\u306bARGS += \"[OPTION]=[VALUE]\"\u3068\u3059\u308c\u3070\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n\u88dc\u8db3\n\n\nmake\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b--no-builtin-rules\u3092\u52a0\u3048\u308b\u3053\u3068\u3067\u6697\u9ed9\u306e\u30eb\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u63a2\u7d22\u7bc4\u56f2\u304c\u72ed\u307e\u308a\u3001\u3055\u3089\u306b\u9ad8\u901f\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306e\u4f8b\u3067\u306f\u62e1\u5f35\u5b50\u3092cpp\u3068hpp\u306b\u6307\u5b9a\u3057\u307e\u3057\u305f\u304c\u3001Makefile.in\u5185\u306e\u5909\u6570SUFFIX\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u3001\u5225\u306e\u62e1\u5f35\u5b50\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306e\u4f8b\u3067\u306f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5834\u6240\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u6307\u5b9a\u3057\u307e\u3057\u305f\u304c\u3001ARGS += \"SRC_FILES=[PATH/TO/FILE]\"\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u76f4\u63a5\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\nMakefile\u306b\u8ffd\u8a18\u3059\u308b\u3053\u3068\u3067\u30c4\u30fc\u30eb\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\nDownload\nhttps://github.com/Tamflex/makefile_template\n\n\u53c2\u8003\u6587\u732e\n\u4ee5\u4e0b\u306e\u6587\u732e\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305fm(_ _)m\u3002\nhttp://boysenberrypi.hatenadiary.jp/entry/2014/03/15/113703\nhttp://nantonaku-shiawase.hatenablog.com/entry/20110905/1321356759\nhttp://d.hatena.ne.jp/tanakaBox/20070327/1174958337\n#\u6982\u8981\n`cmake`\u3092\u4f7f\u3063\u3066\u3082\u826f\u3044\u306e\u3060\u3051\u3069\u3001\u3061\u3087\u3063\u3068\u3057\u305fC++\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3068\u304d\u306b`CMakeLists.txt`\u3092\u4e00\u304b\u3089\u66f8\u304f\u306e\u3082\u306a\u3093\u3068\u306a\u304f\u5104\u52ab\u3060\u3063\u305f\u306e\u3067\u3001\u62e1\u5f35\u304c\u5bb9\u6613\u304b\u3064\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a`Makefile`\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\u307e\u305f`Makefile`\u3092`Makefile`\u3068`Makefile.in`\u306e\uff12\u3064\u306b\u5206\u96e2\u3057\u305f\u3053\u3068\u306b\u3088\u308a\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u5171\u6709\u3059\u308b\u8907\u6570\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30d3\u30eb\u30c9\u3082\u5bb9\u6613\u306b\u3067\u304d\u307e\u3059\u3002\n\n#\u4f7f\u3044\u65b9\n1. \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3001\u5f8c\u307b\u3069\u8aac\u660e\u3059\u308b`Makefile`\u3068`Makefile.in`\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n2. \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092`./src`\u4ee5\u4e0b\u306b\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3092`./include`\u4ee5\u4e0b\u306b\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n3. `Makefile`\u3092\u7de8\u96c6\u3057\u3066\u3001\u5404\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb&\u30ea\u30f3\u30af\u3059\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n4. \u4ee5\u4e0a\u306e\u4f5c\u696d\u3067\u5b8c\u4e86\u3067\u3059\u3002\u3042\u3068\u306f\u81ea\u7531\u306b`Makefile`\u306e\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306b\u4f7f\u7528\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\u3092\u307e\u3068\u3081\u307e\u3057\u305f(`[TARGET]`\u306f`Makefile`\u5185\u3067\u6307\u5b9a\u3059\u308b\u30bf\u30fc\u30b2\u30c3\u30c8\u540d)\u3002\n\u306a\u304a\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306f`./bin`\u4ee5\u4e0b\u306b\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u306f`./obj`\u4ee5\u4e0b\u306b\u81ea\u52d5\u7684\u306b\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n|\u30b3\u30de\u30f3\u30c9|\u8aac\u660e|\n|---|---|\n|`make [TARGET]`|`make [TARGET].release`\u3068\u540c\u3058|\n|`make [TARGET].release`|\u6700\u9069\u5316\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3057`[TARGET]`\u3092\u30d3\u30eb\u30c9\u3059\u308b|\n|`make [TARGET].develop`|\u30c7\u30d0\u30c3\u30b0\u7528\u306b`[TARGET]`\u3092\u30d3\u30eb\u30c9\u3059\u308b|\n|`make [TARGET].all`|`[TARGET]`\u3092\u5f37\u5236\u7684\u306b\u30d3\u30eb\u30c9\u3059\u308b|\n|`make [TARGET].run`|\u751f\u6210\u3055\u308c\u305f`[TARGET]`\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b|\n|`make [TARGET].debug`|\u751f\u6210\u3055\u308c\u305f`[TARGET]`\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092`gdb`\u3067\u30c7\u30d0\u30c3\u30b0\u3059\u308b|\n|`make [TARGET].clear`|\u751f\u6210\u3055\u308c\u305f`[TARGET]`\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u53bb\u3059\u308b|\n|`make [TARGET].clean`|`[TARGET]`\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u53bb\u3059\u308b|\n|`make all`|\u3059\u3079\u3066\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3002|\n|`make clear`|\u3059\u3079\u3066\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u53bb\u3059\u308b\u3002|\n|`make clean`|\u3059\u3079\u3066\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u53bb\u3059\u308b\u3002|\n\n#Sample & Makefile\u306e\u89e3\u8aac\n## Sample\n\u5b9f\u969b\u306b\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046(\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f[\u3053\u3061\u3089](https://github.com/Tamflex/makefile_template)\u304b\u3089)\u3002\n\u7c21\u5358\u306e\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a```./src```\u4ee5\u4e0b\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u3001```./include```\u4ee5\u4e0b\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u308b\u3088\u3046\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u8003\u3048\u3066\u307f\u307e\u3059\u3002\u3053\u3053\u3067```prog_A```\u3001```prog_B```\u306e\uff12\u3064\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u3042\u308a\u3001\u305d\u308c\u305e\u308c```utils.hpp```\u306b\u4f9d\u5b58\u3059\u308b\u3088\u3046\u306a\u72b6\u6cc1\u3060\u3068\u3057\u307e\u3059\u3002\n\n```\n.\n\u251c\u2500\u2500 Makefile\n\u251c\u2500\u2500 Makefile.in\n\u251c\u2500\u2500 include\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 utils\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 utils.hpp\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 prog_A\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 hoge.cpp\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 hoge.hpp\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 main.cpp\n    \u251c\u2500\u2500 prog_B\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 fuga.cpp\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 fuga.hpp\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 main.cpp\n    \u2514\u2500\u2500 utils\n        \u2514\u2500\u2500 utils.cpp\n```\n\n## Makefile\u306e\u8a2d\u5b9a\n\u307e\u305a`Makefile`\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```make:Makefile\nMAKEFLAGS += --no-print-directory --no-builtin-rules\n\n.DEFAULT_GOAL := all\n\nTARGET := prog_A prog_B\n\nprog_A : ARGS += \"BIN_NAME=prog_A\"\nprog_A : ARGS += \"SRC_DIRS=./src/prog_A ./src/utils\"\n\nprog_B : ARGS += \"BIN_NAME=prog_B\"\nprog_B : ARGS += \"SRC_DIRS=./src/prog_B ./src/utils\"\n\n$(addsuffix .release,$(TARGET)) : OPTION += release\n%.release : %\n\t@:\n\n$(addsuffix .develop,$(TARGET)) : OPTION += develop\n%.develop : %\n\t@:\n\n$(addsuffix .all,$(TARGET)) : OPTION += all\n%.all : %\n\t@:\n\n$(addsuffix .run,$(TARGET)) : OPTION += run\n%.run : %\n\t@:\n\n$(addsuffix .debug,$(TARGET)) : OPTION += debug\n%.debug : %\n\t@:\n\n$(addsuffix .clear,$(TARGET)) : OPTION += clear\n%.clear : %\n\t@:\n\n$(addsuffix .clean,$(TARGET)) : OPTION += clean\n%.clean : %\n\t@:\n\nall : $(TARGET)\nclear : $(addsuffix .clear,$(TARGET))\nclean : $(addsuffix .clean,$(TARGET))\n\n$(TARGET) :\n\t@echo \"----- make $(OPTION) $@ -----\"\n\t@make -f ./Makefile.in $(ARGS) $(OPTION)\n```\n\n\u3053\u3053\u3067\u5404\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u6700\u4f4e\u5fc5\u8981\u306a\u306e\u306f\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3068\u306a\u308a\u307e\u3059\u3002\n\u5404\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066`Makefile`\u5185\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```make:\n[TARGET] : ARGS += \"BIN_NAME=[\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d]\"\n[TARGET] : ARGS += \"SRC_DIRS=[\u4f9d\u5b58\u3059\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u76f8\u5bfe\u30c7\u30a3\u30ec\u30af\u30c8\u30ea]\"\n```\n\n\u307e\u305f\u5909\u6570`TARGET`\u306b\u8ffd\u52a0\u3057\u305f\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u52a0\u3048\u308c\u3070\u5b8c\u6210\u3067\u3059\u3002\n\n## Makefile.in\u306e\u89e3\u8aac\n\u6b21\u306b\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u8a73\u7d30\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4e0e\u3048\u308b`Makefile.in`\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002\n\n```make:Makefile.in\nMAKEFLAGS += --no-builtin-rules\n\nCXX := g++\nCXXFLAGS := -std=c++17 -Wall -m64 -MMD -MP\nCXXFLAGS_DEV := -O0 -g\nCXXFLAGS_REL := -O3\nDEBUG := gdb\nLIBS := -lpthread -lglut -lm\nCPPFLAGS := $(addprefix -I, ./include $(wildcard ./include/*))\nCPPFLAGS += `pkg-config --cflags opencv`\nifeq \"$(shell getconf LONG_BIT)\" \"64\"\n  LDFLAGS := `pkg-config --libs opencv`\nelse\n  LDFLAGS :=\nendif\nSUFFIX := cpp\n\nBIN_NAME :=\nBIN_DIR := ./bin\nBINARY := $(BIN_DIR)/$(BIN_NAME)\n\nSRC_DIR := ./src\nSOURCES := $(SRC_FILES)\nSOURCES += $(foreach dir,$(SRC_DIRS),$(shell find $(dir) -regex \".*\\.$(SUFFIX)\"))\n\nOBJ_DIR := ./obj\nOBJECTS := $(patsubst $(SRC_DIR)/%,$(OBJ_DIR)/%,$(SOURCES:.$(SUFFIX)=.o))\n\nDEPENDS := $(OBJECTS:.o=.d)\n\n.DEFAULT_GOAL := release\n\nrelease : CXX_FLAGS += $(CXXFLAGS_REL)\nrelease : $(BINARY)\n\ndevelop : CXX_FLAGS += $(CXXFLAGS_DEV)\ndevelop : $(BINARY)\n\n$(BINARY) : $(OBJECTS) $(LIBS)\n\tmkdir -p $(@D)\n\t$(CXX) -o $@ $^ $(LDFLAGS)\n\n$(OBJ_DIR)/%.o : $(SRC_DIR)/%.$(SUFFIX)\n\tmkdir -p $(@D)\n\t$(CXX) $(CPPFLAGS) $(CXXFLAGS) -o $@ -c $<\n\nall : clean release\n\ndebug :\n\t$(DEBUG) $(BINARY)\n\nrun:\n\t$(BINARY)\n\nclear :\n\t-rm -rf $(BINARY)\n\nclean :\n\t-rm -rf $(OBJECTS) $(BINARY)\n\n.PHONY : all debug run clean clear\n\n-include $(DEPENDS)\n```\n\n\u4ee3\u8868\u7684\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n|option|\u8aac\u660e|\n|---|---|\n|`CXX`|C++\u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u7a2e\u985e|\n|`CXXFLAGS`|\u30aa\u30d7\u30b7\u30e7\u30f3|\n|`CXXFLAGS_DEV`|`make develop`\u6642\u306b\u4e0e\u3048\u308b\u30aa\u30d7\u30b7\u30e7\u30f3|\n|`CXXFLAGS_REL`|`make release`\u6642\u306b\u4e0e\u3048\u308b\u30aa\u30d7\u30b7\u30e7\u30f3|\n|`DEBUG`|\u30c7\u30d0\u30c3\u30ac\u306e\u30d7\u30ed\u30b0\u30e9\u30e0|\n|`LIBS`|\u30ea\u30f3\u30af\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea|\n|`CPPFLAGS`|\u30d7\u30ea\u30d7\u30ed\u30bb\u30b9\u6642\u306b\u4f7f\u3046\u30aa\u30d7\u30b7\u30e7\u30f3|\n|`SUFFIX`|\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u62e1\u5f35\u5b50|\n\n\u304a\u597d\u307f\u3067\u3053\u308c\u3089\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u3042\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u307f\u306b\u5909\u66f4\u3092\u9069\u5fdc\u3057\u305f\u3044\u5834\u5408\u306f\u3001`Makefile`\u5185\u306e\u5909\u6570`ARGS`\u306b`ARGS += \"[OPTION]=[VALUE]\"`\u3068\u3059\u308c\u3070\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n## \u88dc\u8db3\n+ `make`\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b`--no-builtin-rules`\u3092\u52a0\u3048\u308b\u3053\u3068\u3067\u6697\u9ed9\u306e\u30eb\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u63a2\u7d22\u7bc4\u56f2\u304c\u72ed\u307e\u308a\u3001\u3055\u3089\u306b\u9ad8\u901f\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n+ \u4eca\u56de\u306e\u4f8b\u3067\u306f\u62e1\u5f35\u5b50\u3092`cpp`\u3068`hpp`\u306b\u6307\u5b9a\u3057\u307e\u3057\u305f\u304c\u3001`Makefile.in`\u5185\u306e\u5909\u6570`SUFFIX`\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u3001\u5225\u306e\u62e1\u5f35\u5b50\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n+ \u4eca\u56de\u306e\u4f8b\u3067\u306f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5834\u6240\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u6307\u5b9a\u3057\u307e\u3057\u305f\u304c\u3001`ARGS += \"SRC_FILES=[PATH/TO/FILE]\"`\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u76f4\u63a5\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n+ `Makefile`\u306b\u8ffd\u8a18\u3059\u308b\u3053\u3068\u3067\u30c4\u30fc\u30eb\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n# Download\nhttps://github.com/Tamflex/makefile_template\n\n#\u53c2\u8003\u6587\u732e\n\u4ee5\u4e0b\u306e\u6587\u732e\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305fm(_ _)m\u3002\nhttp://boysenberrypi.hatenadiary.jp/entry/2014/03/15/113703\nhttp://nantonaku-shiawase.hatenablog.com/entry/20110905/1321356759\nhttp://d.hatena.ne.jp/tanakaBox/20070327/1174958337\n", "tags": ["Makefile", "C++", "Linux"]}