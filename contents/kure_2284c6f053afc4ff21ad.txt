{"context": " More than 1 year has passed since last update.\n\n\u74b0\u5883\n\nCentOS 7 on Win7(VMWare Player)\n\n\n\u624b\u9806\n\n\u4e8b\u524d\u6e96\u5099\n# yum install git\n# yum install ruby-devel \n\n\n\nchef-solo\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# curl -L https://www.opscode.com/chef/install.sh | bas h\n# gem insall chef\n# git clone git://github.com/opscode/chef-repo.git\n# knife configure\n\n\n\n\u30af\u30c3\u30af\u30d6\u30c3\u30af\u4f5c\u6210\n# knife cookbooks/ create sshdconfig -o cookbooks/\n\u203bsshd_config\u30d5\u30a1\u30a4\u30eb\u3092sshd_config.erb\u3068\u3057\u3066\u300csshdconfig/templates/default\u300d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306b\u914d\u7f6e\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u5909\u66f4(\u4f8b\uff1a12345\uff09\n# vim sshd_config.erb\nPort 12345\n# vim cookbooks/sshdconfig/recipes/default.rb\nservice \"sshd\" do\n     supports :status => true, :restart => true, :reload => true\n     action [ :enable, :start ]\n end\n\ntemplate \"sshd_config\" do\n    path \"/etc/ssh/sshd_config\"\n    source \"sshd_config.erb\"\n    user \"root\"\n    group \"root\"\n    mode \"600\"\n    notifies :reload, \"service[sshd]\"\nend\n\n\n\nChefSolo\u306e\u5b9f\u884c\u6e96\u5099\u3068\u5b9f\u884c\n# vim localhost.json\n{\n        \"run_list\" : [\n                \"recipe[sshdconfig]\"\n        ]\n}\n# vim solo.rb\nfile_cache_pacht \"/tmp/chef-solo\"\ncookbook_path [\"/var/chef/cookbooks\"]\n# chef-solo -c solo.rb -j localhost.json\n\n\n\u30dd\u30fc\u30c8\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u7d42\u308f\u308a\u3002\n\n\u53c2\u8003\nchef\u3067sshd_config\u3092\u8a2d\u5b9a\u3059\u308b | \u306f\u3058\u3081\u308b\u306e\u7d42\u308f\u308a http://blog.pseudepigrapha.net/vagrant/chef%E3%81%A7sshd_config/\n\n\n\n\n\u5165\u9580Chef Solo - Infrastructure as Codeposted with amazlet at 15.04.13\n\n\u4f0a\u85e4\u76f4\u4e5f (2013-03-11)\u58f2\u308a\u4e0a\u3052\u30e9\u30f3\u30ad\u30f3\u30b0: 3,040\n\nAmazon.co.jp\u3067\u8a73\u7d30\u3092\u898b\u308b\n\n\n\n### \u74b0\u5883\n* CentOS 7 on Win7(VMWare Player)\n\n### \u624b\u9806\n```bash:\u4e8b\u524d\u6e96\u5099\n# yum install git\n# yum install ruby-devel \n```\n\n```bash:chef-solo\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# curl -L https://www.opscode.com/chef/install.sh | bas h\n# gem insall chef\n# git clone git://github.com/opscode/chef-repo.git\n# knife configure\n```\n\n```bash:\u30af\u30c3\u30af\u30d6\u30c3\u30af\u4f5c\u6210\n# knife cookbooks/ create sshdconfig -o cookbooks/\n\u203bsshd_config\u30d5\u30a1\u30a4\u30eb\u3092sshd_config.erb\u3068\u3057\u3066\u300csshdconfig/templates/default\u300d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306b\u914d\u7f6e\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u5909\u66f4(\u4f8b\uff1a12345\uff09\n# vim sshd_config.erb\nPort 12345\n# vim cookbooks/sshdconfig/recipes/default.rb\nservice \"sshd\" do\n     supports :status => true, :restart => true, :reload => true\n     action [ :enable, :start ]\n end\n\ntemplate \"sshd_config\" do\n    path \"/etc/ssh/sshd_config\"\n    source \"sshd_config.erb\"\n    user \"root\"\n    group \"root\"\n    mode \"600\"\n    notifies :reload, \"service[sshd]\"\nend\n```\n\n\n```bash:ChefSolo\u306e\u5b9f\u884c\u6e96\u5099\u3068\u5b9f\u884c\n# vim localhost.json\n{\n        \"run_list\" : [\n                \"recipe[sshdconfig]\"\n        ]\n}\n# vim solo.rb\nfile_cache_pacht \"/tmp/chef-solo\"\ncookbook_path [\"/var/chef/cookbooks\"]\n# chef-solo -c solo.rb -j localhost.json\n```\n\n\u30dd\u30fc\u30c8\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u7d42\u308f\u308a\u3002\n\n\n### \u53c2\u8003\nchef\u3067sshd_config\u3092\u8a2d\u5b9a\u3059\u308b | \u306f\u3058\u3081\u308b\u306e\u7d42\u308f\u308a http://blog.pseudepigrapha.net/vagrant/chef%E3%81%A7sshd_config/\n\n<div class=\"amazlet-box\" style=\"margin-bottom:0px;\"><div class=\"amazlet-image\" style=\"float:left;margin:0px 12px 1px 0px;\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B00BSPH158/kuredev-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\"><img src=\"http://ecx.images-amazon.com/images/I/31u6VLGX2kL._SL160_.jpg\" alt=\"\u5165\u9580Chef Solo - Infrastructure as Code\" style=\"border: none;\" /></a></div><div class=\"amazlet-info\" style=\"line-height:120%; margin-bottom: 10px\"><div class=\"amazlet-name\" style=\"margin-bottom:10px;line-height:120%\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B00BSPH158/kuredev-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\">\u5165\u9580Chef Solo - Infrastructure as Code</a><div class=\"amazlet-powered-date\" style=\"font-size:80%;margin-top:5px;line-height:120%\">posted with <a href=\"http://www.amazlet.com/\" title=\"amazlet\" target=\"_blank\">amazlet</a> at 15.04.13</div></div><div class=\"amazlet-detail\">\u4f0a\u85e4\u76f4\u4e5f (2013-03-11)<br />\u58f2\u308a\u4e0a\u3052\u30e9\u30f3\u30ad\u30f3\u30b0: 3,040<br /></div><div class=\"amazlet-sub-info\" style=\"float: left;\"><div class=\"amazlet-link\" style=\"margin-top: 5px\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B00BSPH158/kuredev-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\">Amazon.co.jp\u3067\u8a73\u7d30\u3092\u898b\u308b</a></div></div></div><div class=\"amazlet-footer\" style=\"clear: left\"></div></div>\n\n", "tags": ["chef-solo", "Linux"]}