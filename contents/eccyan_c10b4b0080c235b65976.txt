{"context": " More than 1 year has passed since last update.Resque\u306eWorker\u6bce\u306bRedis\u306e\u63a5\u7d9a\u5148\u3092\u5909\u66f4\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u4ee5\u4e0b\u306e\u62e1\u5f35\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nRedis\u306e\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u304c\u591a\u304f\u5206\u6563\u3057\u305f\u3044\u5834\u5408\u7b49\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\nworker_base.rb\nclass WorkerBase\n  def self.before_enqueue(*args)\n    Resque.redis = @redis if @redis\n  end\n\n  def self.after_enqueue(*args)\n    Resque.redis = DEFAULT_REDIS_HOST\n  end\nend\n\n\n\u4ee5\u4e0b\u3067\u5909\u66f4\u304c\u53ef\u80fd\u3067\u3059\u3002\n\nworker.rb\nrequire 'worker_base'\n\nclass Worker < WorkerBase\n  @redis = OTHER_REDIS_HOST\n\n  # ...\nend\n\n\nResque\u306eWorker\u6bce\u306bRedis\u306e\u63a5\u7d9a\u5148\u3092\u5909\u66f4\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u4ee5\u4e0b\u306e\u62e1\u5f35\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nRedis\u306e\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u304c\u591a\u304f\u5206\u6563\u3057\u305f\u3044\u5834\u5408\u7b49\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\n```rb:worker_base.rb\nclass WorkerBase\n  def self.before_enqueue(*args)\n    Resque.redis = @redis if @redis\n  end\n\n  def self.after_enqueue(*args)\n    Resque.redis = DEFAULT_REDIS_HOST\n  end\nend\n```\n\n\u4ee5\u4e0b\u3067\u5909\u66f4\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n```rb:worker.rb\nrequire 'worker_base'\n\nclass Worker < WorkerBase\n  @redis = OTHER_REDIS_HOST\n\n  # ...\nend\n```", "tags": ["Rails", "Resque", "Redis"]}