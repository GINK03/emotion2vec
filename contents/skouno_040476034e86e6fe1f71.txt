{"context": " More than 1 year has passed since last update.\u6697\u53f7\u5316\u306b\u5bfe\u5fdc\u3057\u305fv3\u3067\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3067\u3059\u3002\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum -y install net-snmp\n# yum -y install net-snmp-utils\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u3057\u305f\u3089\u3001\u4e00\u5ea6snmpd\u3092\u8d77\u52d5\u30fb\u505c\u6b62\u3057\u307e\u3059 (/net-snmp/snmpd.conf\u304c\u751f\u6210\u3055\u308c\u308b)\u3002\n\nSNMP\u306e\u8a2d\u5b9a\n\n/etc/snmp/snmpd.conf\nrwuser user_name\n\n\n\u521d\u671f\u72b6\u614b\u3067\u306f\u3044\u308d\u3044\u308d\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c\u3001\u5b9f\u969b\u306f\u3053\u308c\u3060\u3051\u66f8\u3044\u3066\u3042\u308c\u3070OK\u3002\n\n/var/lib/net-snmp/snmpd.conf\ncreateUser user_name SHA sha_pass AES aes_pass\n\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u592e\u8fba\u308a (\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u6240\u306e\u4f55\u51e6\u304b)\u306b\u66f8\u304d\u8fbc\u3080\u3002\n\u3053\u3053\u3067snmpd\u3092\u518d\u5ea6\u8d77\u52d5\u3059\u308b\u3068\u3001\u4e0a\u8a18\u306ecreateUser\u6587\u304c\u6697\u53f7\u5316\u3055\u308c\u307e\u3059\u3002\n# snmpvacm -v 3 -u user_name -l authPriv -a SHA -A sha_pass -x AES -X aes_pass localhost createView all .1 80\nView successfully created.\n\n# snmpvacm -v 3 -u user_name -l authPriv -a SHA -A sha_pass -x AES -X aes_pass localhost createAccess access_name 3 3 1 all none none\nAccess successfully created.\n\n\n\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001SNMP\u3067\u53d6\u5f97\u3067\u304d\u308b\u60c5\u5831\u306e\u7bc4\u56f2\u306a\u3069\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n# snmpwalk -v 3 -u user_name -l authPriv -a SHA -A sha_pass -x AES -X aes_pass localhost\n\n\u3044\u308d\u3044\u308d\u6d41\u308c\u305f\u3089OK\u3002\n\n161/udp\u3092\u958b\u3051\u308b\n\u958b\u3044\u3066\u306a\u3051\u308c\u3070\u3042\u3051\u308b\u3002162/udp\u3082\u958b\u3051\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082 (TCP/IP - SNMP)\u3002\n\n/etc/sysconfig/iptables\n-A INPUT -p udp -m udp --dport 161 -j ACCEPT_COUNTRY\n-A INPUT -p udp -m udp --dport 162 -j ACCEPT_COUNTRY\n\n\n\n\nhosts.allow\u306e\u8a2d\u5b9a\n\u76e3\u8996\u30b5\u30fc\u30d0\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0\u3002\n\n/etc/hosts.allow\nsnmpd: xx.xx.xx.xx\n\n\n\u6697\u53f7\u5316\u306b\u5bfe\u5fdc\u3057\u305fv3\u3067\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3067\u3059\u3002\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n# yum -y install net-snmp\n# yum -y install net-snmp-utils\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u3057\u305f\u3089\u3001\u4e00\u5ea6snmpd\u3092\u8d77\u52d5\u30fb\u505c\u6b62\u3057\u307e\u3059 (/net-snmp/snmpd.conf\u304c\u751f\u6210\u3055\u308c\u308b)\u3002\n\n# SNMP\u306e\u8a2d\u5b9a\n```text:/etc/snmp/snmpd.conf\nrwuser user_name\n```\n\n\u521d\u671f\u72b6\u614b\u3067\u306f\u3044\u308d\u3044\u308d\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c\u3001\u5b9f\u969b\u306f\u3053\u308c\u3060\u3051\u66f8\u3044\u3066\u3042\u308c\u3070OK\u3002\n\n```text:/var/lib/net-snmp/snmpd.conf \ncreateUser user_name SHA sha_pass AES aes_pass\n```\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u592e\u8fba\u308a (\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u6240\u306e\u4f55\u51e6\u304b)\u306b\u66f8\u304d\u8fbc\u3080\u3002\n\u3053\u3053\u3067snmpd\u3092\u518d\u5ea6\u8d77\u52d5\u3059\u308b\u3068\u3001\u4e0a\u8a18\u306ecreateUser\u6587\u304c\u6697\u53f7\u5316\u3055\u308c\u307e\u3059\u3002\n\n```\n# snmpvacm -v 3 -u user_name -l authPriv -a SHA -A sha_pass -x AES -X aes_pass localhost createView all .1 80\nView successfully created.\n\n# snmpvacm -v 3 -u user_name -l authPriv -a SHA -A sha_pass -x AES -X aes_pass localhost createAccess access_name 3 3 1 all none none\nAccess successfully created.\n\n```\n\n\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001SNMP\u3067\u53d6\u5f97\u3067\u304d\u308b\u60c5\u5831\u306e\u7bc4\u56f2\u306a\u3069\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```\n# snmpwalk -v 3 -u user_name -l authPriv -a SHA -A sha_pass -x AES -X aes_pass localhost\n```\n\u3044\u308d\u3044\u308d\u6d41\u308c\u305f\u3089OK\u3002\n\n# 161/udp\u3092\u958b\u3051\u308b\n\u958b\u3044\u3066\u306a\u3051\u308c\u3070\u3042\u3051\u308b\u3002162/udp\u3082\u958b\u3051\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082 ([TCP/IP - SNMP](http://www.infraexpert.com/study/tcpip21.html))\u3002\n\n```text:/etc/sysconfig/iptables\n-A INPUT -p udp -m udp --dport 161 -j ACCEPT_COUNTRY\n-A INPUT -p udp -m udp --dport 162 -j ACCEPT_COUNTRY\n\n```\n\n# hosts.allow\u306e\u8a2d\u5b9a\n\u76e3\u8996\u30b5\u30fc\u30d0\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0\u3002\n\n```text:/etc/hosts.allow\nsnmpd: xx.xx.xx.xx\n```\n\n", "tags": ["CentOS", "snmp"]}