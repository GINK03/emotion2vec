{"context": " More than 1 year has passed since last update.\u7b2c\u4e00\u56de \u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\u306e\u554f\u984c\u3092Dart\u3067\u89e3\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n[http://nabetani.sakura.ne.jp/hena/1/]\n\u7d50\u69cb\u624b\u3053\u305a\u3063\u3066\u30012\u6642\u9593\u4ee5\u4e0a\u304b\u304b\u308a\u307e\u3057\u305f\u3002\nimport \"dart:io\";\nimport \"dart:math\";\n\nfinal List<int> clearFlags = [7, 56, 448, 73, 146, 292, 273, 84];\n\nint nthBit(n) => 1 << (n - 1);\n\nbool isClear(int state) => clearFlags.any((int flag) => (flag & state) == flag);\n\nString solve_tic_tack_toe(String input) {\n  int playerO = 0;\n  int playerX = 0;\n  int common = 0;\n\n  for(var i = 0; i < 9; i++) {\n    int bit = nthBit(int.parse(input[i]));\n\n    if(i % 2 == 0) {\n      if((bit & common) != 0) return \"Foul : x won.\";\n      playerO |= bit;\n      if(isClear(playerO)) return \"o won.\";\n    } else {\n      if((bit & common) != 0) return \"Foul : o won.\";\n      playerX |= bit;\n      if(isClear(playerX)) return \"x won.\";\n    }\n    common |= bit;\n  }\n  return \"Draw game.\";\n}\n\ntest(input, expect) {\n  assert(solve_tic_tack_toe(input) == expect);\n}\n\nmain() {\n  test(\"79538246\"    , \"x won.\");\n  test(\"35497162193\" , \"x won.\");\n  test(\"61978543\"    , \"x won.\");\n  test(\"254961323121\", \"x won.\");\n  test(\"6134278187\"  , \"x won.\");\n  test(\"4319581\"     , \"Foul : x won.\");\n  test(\"9625663381\"  , \"Foul : x won.\");\n  test(\"7975662\"     , \"Foul : x won.\");\n  test(\"2368799597\"  , \"Foul : x won.\");\n  test(\"18652368566\" , \"Foul : x won.\");\n  test(\"965715\"      , \"o won.\");\n  test(\"38745796\"    , \"o won.\");\n  test(\"371929\"      , \"o won.\");\n  test(\"758698769\"   , \"o won.\");\n  test(\"42683953\"    , \"o won.\");\n  test(\"618843927\"   , \"Foul : o won.\");\n  test(\"36535224\"    , \"Foul : o won.\");\n  test(\"882973\"      , \"Foul : o won.\");\n  test(\"653675681\"   , \"Foul : o won.\");\n  test(\"9729934662\"  , \"Foul : o won.\");\n  test(\"972651483927\", \"Draw game.\");\n  test(\"5439126787\"  , \"Draw game.\");\n  test(\"142583697\"   , \"Draw game.\");\n  test(\"42198637563\" , \"Draw game.\");\n  test(\"657391482\"   , \"Draw game.\");\n  print(\"ok\");\n}\n\n\u7b2c\u4e00\u56de \u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\u306e\u554f\u984c\u3092Dart\u3067\u89e3\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n[http://nabetani.sakura.ne.jp/hena/1/]\n\u7d50\u69cb\u624b\u3053\u305a\u3063\u3066\u30012\u6642\u9593\u4ee5\u4e0a\u304b\u304b\u308a\u307e\u3057\u305f\u3002\n\n```dart\nimport \"dart:io\";\nimport \"dart:math\";\n\nfinal List<int> clearFlags = [7, 56, 448, 73, 146, 292, 273, 84];\n\nint nthBit(n) => 1 << (n - 1);\n\nbool isClear(int state) => clearFlags.any((int flag) => (flag & state) == flag);\n\nString solve_tic_tack_toe(String input) {\n  int playerO = 0;\n  int playerX = 0;\n  int common = 0;\n\n  for(var i = 0; i < 9; i++) {\n    int bit = nthBit(int.parse(input[i]));\n\n    if(i % 2 == 0) {\n      if((bit & common) != 0) return \"Foul : x won.\";\n      playerO |= bit;\n      if(isClear(playerO)) return \"o won.\";\n    } else {\n      if((bit & common) != 0) return \"Foul : o won.\";\n      playerX |= bit;\n      if(isClear(playerX)) return \"x won.\";\n    }\n    common |= bit;\n  }\n  return \"Draw game.\";\n}\n\ntest(input, expect) {\n  assert(solve_tic_tack_toe(input) == expect);\n}\n\nmain() {\n  test(\"79538246\"    , \"x won.\");\n  test(\"35497162193\" , \"x won.\");\n  test(\"61978543\"    , \"x won.\");\n  test(\"254961323121\", \"x won.\");\n  test(\"6134278187\"  , \"x won.\");\n  test(\"4319581\"     , \"Foul : x won.\");\n  test(\"9625663381\"  , \"Foul : x won.\");\n  test(\"7975662\"     , \"Foul : x won.\");\n  test(\"2368799597\"  , \"Foul : x won.\");\n  test(\"18652368566\" , \"Foul : x won.\");\n  test(\"965715\"      , \"o won.\");\n  test(\"38745796\"    , \"o won.\");\n  test(\"371929\"      , \"o won.\");\n  test(\"758698769\"   , \"o won.\");\n  test(\"42683953\"    , \"o won.\");\n  test(\"618843927\"   , \"Foul : o won.\");\n  test(\"36535224\"    , \"Foul : o won.\");\n  test(\"882973\"      , \"Foul : o won.\");\n  test(\"653675681\"   , \"Foul : o won.\");\n  test(\"9729934662\"  , \"Foul : o won.\");\n  test(\"972651483927\", \"Draw game.\");\n  test(\"5439126787\"  , \"Draw game.\");\n  test(\"142583697\"   , \"Draw game.\");\n  test(\"42198637563\" , \"Draw game.\");\n  test(\"657391482\"   , \"Draw game.\");\n  print(\"ok\");\n}\n```", "tags": ["Dart", "\u3069\u3046\u66f8\u304f"]}