{"context": " More than 1 year has passed since last update.\n\n\u74b0\u5883\nOS : Windows 7(\u6bcd\u8266\u3068\u3088\u3076)\nVirtualBox :  4.3.10\nVagrant : 1.5.1\n\nvagrant\u3067\u4f5c\u6210\u3059\u308b\u74b0\u5883\n\n\n\nOS\n\u540d\u524d\n\u5099\u8003\n\n\n\n\nUbuntu 13.04 i386\nserver\nansible\u5165\u308c\u3066client\u3092\u5f04\u308b\u5074\n\n\nUbuntu 13.04 i386\nclient\n\u5f04\u3089\u308c\u308b\u5074\n\n\n\n\nansibletest\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210\nC:\\vagrantVMs\\ansibletest\n\u3067\u3084\u308b\n\n\u4eca\u6301\u3063\u3066\u3044\u308bbox\u306e\u78ba\u8a8d\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3067 vagrant box list\n\nvagrant \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3067 vagrant init <boxname>\n\u4f8b\uff09\nvagrant init Ubuntu-13.04-i386\n\n2\u53f0\u7acb\u3061\u4e0a\u3052\u308b\u305f\u3081\u306b vagrant \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\n\nVagrantfile.\n      # server\u3068\u3044\u3046\u4eee\u60f3\u30b5\u30fc\u30d0\u3092\u5b9a\u7fa9\n      config.vm.define :server do |server|\n        server.vm.box = \"Ubuntu-13.04-i386\"\n        server.vm.network :private_network, ip:\"192.168.50.1\"\n      end\n\n      # client\u3068\u3044\u3046\u4eee\u60f3\u30b5\u30fc\u30d0\u3092\u5b9a\u7fa9\n      config.vm.define :client do |client|\n        client.vm.box = \"Ubuntu-13.04-i386\"\n        client.vm.network :private_network, ip:\"192.168.50.2\"\n      end\n\n\n\nvagrant \u8d77\u52d5\nvagrant up\n\n\u8d77\u52d5\u78ba\u8a8d\nvagrant status\n\nserver                    running (virtualbox)\n   client                    running (virtualbox)\nThis environment represents multiple VMs. The VMs are all listed\n    above with their current state. For more information about a specific\n    VM, run vagrant status NAME.\n\n\nserver \u304b\u3089 client\u306bssh\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\u6bcd\u8266\u306e\nC:\\Users{\u30e6\u30fc\u30b6\u540d}.vagrant.d\\insecure_private_key\n\u3092 server \u306e id_rsa \u3068\u3057\u3066\u914d\u7f6e\u3059\u308b\n\ninsecure_private_key \u3092 C:\\vagrantVMs\\ansibletest\\tmp\n\u306b\u30b3\u30d4\u30fc\u3057\u3066\u3001server\u304b\u3089\u898b\u308c\u308b\u3088\u3046\u306b\u3059\u308b\n\u30bf\u30fc\u30df\u30ca\u30eb\u3067server(127.0.0.1:2222)\u306b\u63a5\u7d9a\n\u30ed\u30fc\u30ab\u30eb\u306e\u79d8\u5bc6\u9375\u3092server\u306e\u79d8\u5bc6\u9375\u306b\u8a2d\u5b9a\n$ cp /vagrant/tmp/insecure_private_key ~/.ssh/id_rsa\n\nchmod 600 id_rsa\n\n\nserver \u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001ssh\u3057\u3066client\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\n$ ssh 192.168.50.2\n\nserver \u306bansible \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nproxy\u8d8a\u3048\u3059\u308b\u5834\u5408\n\n\n\u74b0\u5883\u5909\u6570 .bashrc \u306bproxy\u8a2d\u5b9a\n\n~/.bashrc\nexport http_proxy=\"http://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\"\nexport https_proxy=\"http://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\"\nexport ftp_proxy=\"ftp://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\"\n\n\n\n\u518d\u8aad\u307f\u8fbc\u307f \n$ source ~/.bashrc\n\n\nvia Apt\n\n\napt-get \u3092proxy\u7d4c\u7531\n80proxy\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\n$ sudo vi /etc/apt/apt.conf.d/80proxy\n\n/etc/apt/apt.conf.d/80proxy\n    Acquire::http::proxy \"http://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\";\n\n\n\n\nadd-apt-repository\u3067Proxy\u7d4c\u7531\nvisudo\u3067\u4ee5\u4e0b\u3092\u8ffd\u8a18\n$ sudo visudo\n    Defaults env_keep=\"http_proxy\"\n    Defaults env_keep=\"https_proxy\"\n\n\n\n\nvia Yum\n\n\nyum \u3092proxy\u7d4c\u7531\nsudo vi /etc/yum.conf \u3057\u3066\u4ee5\u4e0b\u8ffd\u8a18\n\n/etc/yum.conf\nproxy=http://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\n\n\n\n\n\nansible\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nvia apt\n\n$ sudo apt-add-repository ppa:rquillo/ansible\n$ sudo apt-get update\n$ sudo apt-get install ansible\n\n\nvia yum\n\nCentOS \u5916\u90e8\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8ffd\u52a0(EPEL)\n$ sudo rpm --httpproxy \u30d7\u30ed\u30ad\u30b7\u540d --httpport \u30dd\u30fc\u30c8 -ivh http://ftp.riken.jp/Linux/fedora/epel/6/i386/epel-release-6-8.noarch.rpm\n$ sudo yum install ansible\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n$ ansible --version\n\nansible 1.4.3\n\n\nansible\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u79fb\u52d5\n$ mkdir ~/ansible && cd ~/ansible\n\n\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30ea\u30b9\u30c8\u3068\u306a\u308bhosts\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n$ echo 192.168.50.2 > hosts\n\nansible\u52d5\u4f5c\u78ba\u8a8d\n\n\n\u30b3\u30de\u30f3\u30c9\u306e\u66f8\u5f0f\nansible -i <\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30ea\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb> <\u5bfe\u8c61> -m <\u30e2\u30b8\u30e5\u30fc\u30eb\u540d> -a <\u30aa\u30d7\u30b7\u30e7\u30f3>\n\u4f8b) ping\n$ ansible -i hosts 192.168.50.2 -m ping\n\n192.168.50.2 | success >> {\n       \"changed\": false,\n       \"ping\": \"pong\"\n   }\n\n\u4f8b) uname -r\n$ ansible -i hosts 192.168.50.2 -a  'uname -r'\n\n192.168.50.2 | success | rc=0 >>\n   3.8.0-35-generic\n\n\n\n\u758e\u901a\u78ba\u8a8d\u307e\u3067\u5b8c\u4e86\n\n\u305d\u306e\u4ed6\u30b3\u30de\u30f3\u30c9\n\n\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u78ba\u8a8d\n$ ansible-doc <\u30e2\u30b8\u30e5\u30fc\u30eb\u540d>\n\n\n\n\u53c2\u8003\nansible\u672c\u5bb6\n\n\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb Ansible \u306b\u3064\u3044\u3066\n\u5165\u9580Ansible\nChef\u304c\u3064\u3089\u3044\u4eba\u306e\u305f\u3081\u306eAnsible\u306e\u306f\u306a\u3057\n\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb Ansible \u3092\u4f7f\u3063\u3066\u307f\u308b\nAnsible Tutorial\nansible\u3092\u4f7f\u3063\u3066\u307f\u308b\nWindows\u3067Ansible\u3059\u308b\nwindows\u3067\u3082ansible\u304c\u3057\u305f\u3044\u306e\u3067vagrant\u7d4c\u7531\u3067docker\u3092\u4f7f\u3063\u3066\u4e8c\u91cd\u4eee\u60f3\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\nVagrant on Mac\u3067\u8907\u6570VM\u8d77\u52d5 + Ansible\n## \u74b0\u5883\nOS : Windows 7(\u6bcd\u8266\u3068\u3088\u3076)\nVirtualBox :  4.3.10\nVagrant : 1.5.1\n\n## vagrant\u3067\u4f5c\u6210\u3059\u308b\u74b0\u5883\n|OS  |\u540d\u524d|\u5099\u8003|\n|----|----|----|\n|Ubuntu 13.04 i386 |server |ansible\u5165\u308c\u3066client\u3092\u5f04\u308b\u5074|\n|Ubuntu 13.04 i386 |client |\u5f04\u3089\u308c\u308b\u5074|\n\n\n## ansibletest\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210\nC:\\vagrantVMs\\ansibletest  \n\u3067\u3084\u308b\n\n## \u4eca\u6301\u3063\u3066\u3044\u308bbox\u306e\u78ba\u8a8d\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3067 `vagrant box list`\n\n## vagrant \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3067 `vagrant init <boxname>`\n\u4f8b\uff09\n`vagrant init Ubuntu-13.04-i386`\n\n## 2\u53f0\u7acb\u3061\u4e0a\u3052\u308b\u305f\u3081\u306b vagrant \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\n\n``` Vagrantfile.\n      # server\u3068\u3044\u3046\u4eee\u60f3\u30b5\u30fc\u30d0\u3092\u5b9a\u7fa9\n      config.vm.define :server do |server|\n        server.vm.box = \"Ubuntu-13.04-i386\"\n        server.vm.network :private_network, ip:\"192.168.50.1\"\n      end\n\n      # client\u3068\u3044\u3046\u4eee\u60f3\u30b5\u30fc\u30d0\u3092\u5b9a\u7fa9\n      config.vm.define :client do |client|\n        client.vm.box = \"Ubuntu-13.04-i386\"\n        client.vm.network :private_network, ip:\"192.168.50.2\"\n      end\n```\n\n## vagrant \u8d77\u52d5\n`vagrant up`\n\n## \u8d77\u52d5\u78ba\u8a8d\n`vagrant status`\n>    server                    running (virtualbox)\n>    client                    running (virtualbox)\n>\n>    This environment represents multiple VMs. The VMs are all listed\n    above with their current state. For more information about a specific\n    VM, run `vagrant status NAME`.\n\n##  server \u304b\u3089 client\u306bssh\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u6bcd\u8266\u306e\nC:\\Users\\{\u30e6\u30fc\u30b6\u540d}\\.vagrant.d\\insecure_private_key\n\u3092 server \u306e id_rsa \u3068\u3057\u3066\u914d\u7f6e\u3059\u308b\n\n1. insecure_private_key \u3092 C:\\vagrantVMs\\ansibletest\\tmp\n\u306b\u30b3\u30d4\u30fc\u3057\u3066\u3001server\u304b\u3089\u898b\u308c\u308b\u3088\u3046\u306b\u3059\u308b\n1. \u30bf\u30fc\u30df\u30ca\u30eb\u3067server(127.0.0.1:2222)\u306b\u63a5\u7d9a\n1. \u30ed\u30fc\u30ab\u30eb\u306e\u79d8\u5bc6\u9375\u3092server\u306e\u79d8\u5bc6\u9375\u306b\u8a2d\u5b9a  \n`$ cp /vagrant/tmp/insecure_private_key ~/.ssh/id_rsa`\n1. chmod 600 id_rsa\n\n## server \u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001ssh\u3057\u3066client\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\n`$ ssh 192.168.50.2`\n\n## server \u306bansible \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n### proxy\u8d8a\u3048\u3059\u308b\u5834\u5408\n* \u74b0\u5883\u5909\u6570 .bashrc \u306bproxy\u8a2d\u5b9a\n\n    ```~/.bashrc\n    export http_proxy=\"http://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\"\n    export https_proxy=\"http://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\"\n    export ftp_proxy=\"ftp://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\"\n    ```\n\n* \u518d\u8aad\u307f\u8fbc\u307f \n`$ source ~/.bashrc`\n\n#### via Apt\n* apt-get \u3092proxy\u7d4c\u7531  \n80proxy\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b  \n`$ sudo vi /etc/apt/apt.conf.d/80proxy`\n\n    ```/etc/apt/apt.conf.d/80proxy\n        Acquire::http::proxy \"http://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\";\n    ```\n\n* add-apt-repository\u3067Proxy\u7d4c\u7531  \nvisudo\u3067\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\n    `$ sudo visudo`\n\n    ```\n        Defaults env_keep=\"http_proxy\"\n        Defaults env_keep=\"https_proxy\"\n    ```\n\n#### via Yum\n* yum \u3092proxy\u7d4c\u7531\n    `sudo vi /etc/yum.conf` \u3057\u3066\u4ee5\u4e0b\u8ffd\u8a18\n\n    ```/etc/yum.conf\n    proxy=http://\u30d7\u30ed\u30ad\u30b7\u540d:\u30dd\u30fc\u30c8/\n    ```\n\n## ansible\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n### via apt\n1. `$ sudo apt-add-repository ppa:rquillo/ansible`\n\n1.  `$ sudo apt-get update`\n\n1. `$ sudo apt-get install ansible`\n\n### via yum\n1. CentOS \u5916\u90e8\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8ffd\u52a0(EPEL)\n$ sudo rpm --httpproxy \u30d7\u30ed\u30ad\u30b7\u540d --httpport \u30dd\u30fc\u30c8 -ivh http://ftp.riken.jp/Linux/fedora/epel/6/i386/epel-release-6-8.noarch.rpm\n\n1. `$ sudo yum install ansible`\n\n## \u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n`$ ansible --version`\n> ansible 1.4.3\n\n## ansible\u4f5c\u696d\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u79fb\u52d5\n`$ mkdir ~/ansible && cd ~/ansible`\n\n## \u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30ea\u30b9\u30c8\u3068\u306a\u308bhosts\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n`$ echo 192.168.50.2 > hosts`\n\n## ansible\u52d5\u4f5c\u78ba\u8a8d\n* \u30b3\u30de\u30f3\u30c9\u306e\u66f8\u5f0f\n    ansible -i <\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30ea\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb> <\u5bfe\u8c61> -m <\u30e2\u30b8\u30e5\u30fc\u30eb\u540d> -a <\u30aa\u30d7\u30b7\u30e7\u30f3>\n\n    \u4f8b) ping\n    `$ ansible -i hosts 192.168.50.2 -m ping`\n>    192.168.50.2 | success >> {\n>        \"changed\": false,\n>        \"ping\": \"pong\"\n>    }\n    \n    \u4f8b) uname -r\n    `$ ansible -i hosts 192.168.50.2 -a  'uname -r'`\n>    192.168.50.2 | success | rc=0 >>\n>    3.8.0-35-generic\n\n\u758e\u901a\u78ba\u8a8d\u307e\u3067\u5b8c\u4e86\n\n# \u305d\u306e\u4ed6\u30b3\u30de\u30f3\u30c9\n* \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u78ba\u8a8d  \n`$ ansible-doc <\u30e2\u30b8\u30e5\u30fc\u30eb\u540d>`\n\n# \u53c2\u8003\n[ansible\u672c\u5bb6](http://www.ansible.com/home)\n************************************************************\n[\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb Ansible \u306b\u3064\u3044\u3066](http://apatheia.info/blog/2013/04/06/about-ansible/)\n[\u5165\u9580Ansible](http://www.slideshare.net/takushimizu/ansible-26200860)\n[Chef\u304c\u3064\u3089\u3044\u4eba\u306e\u305f\u3081\u306eAnsible\u306e\u306f\u306a\u3057](http://yuuki.hatenablog.com/entry/2013/08/13/220330)\n[\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb Ansible \u3092\u4f7f\u3063\u3066\u307f\u308b](http://d.hatena.ne.jp/akishin999/20130814/1376432403)\n[Ansible Tutorial](http://yteraoka.github.io/ansible-tutorial/)\n[ansible\u3092\u4f7f\u3063\u3066\u307f\u308b](http://tdoc.info/blog/2013/04/20/ansible.html)\n[Windows\u3067Ansible\u3059\u308b](http://ginzanomama.hatenablog.com/entry/2013/08/17/113006)\n[windows\u3067\u3082ansible\u304c\u3057\u305f\u3044\u306e\u3067vagrant\u7d4c\u7531\u3067docker\u3092\u4f7f\u3063\u3066\u4e8c\u91cd\u4eee\u60f3\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b](http://saisa.hateblo.jp/entry/2013/12/10/153651)\n[Vagrant on Mac\u3067\u8907\u6570VM\u8d77\u52d5 + Ansible](http://open-groove.net/vagrant/mac-ansible-practice/)", "tags": ["windows7", "VirtualBox4.3.10", "vagrant1.5.1", "Ubuntu13.04", "Ansible1.4.3"]}