{"tags": ["memo"], "context": "\n\n\u52d5\u6a5f\n\n\u4eca\u898b\u3066\u3044\u308bipynb\u30da\u30fc\u30b8 or \u7279\u5b9a\u306eURL\u3092nbviewer\u3067\u898b\u305f\u3044\nnbviewer\u3067\u5165\u529b\u3057\u306b\u884c\u304f\u306e\u306f\u3081\u3093\u3069\u3046\n\u3064\u304f\u3063\u3066\u3057\u307e\u3048\n\n\ncode\n\nopen-nbviewer.js\nvar target = '_target'\n, tab = window.open('about:blank', target)\n, form = document.createElement('form')\n, input = document.createElement('input')\n, body = document.querySelector('body')\n;\ninput.type = 'text';\ninput.name = 'gistnorurl';\ninput.value = window.prompt() || location.href;\nform.method = 'post';\nform.target = target;\nform.action = 'https://nbviewer.jupyter.org/create';\nform.appendChild(input);\nbody.appendChild(form);\nform.submit();\n//try {form.submit()} catch(e){alert(e);tab.close()};\nbody.removeChild(form);\n\n\n\ntry\u306e\u90e8\u5206\n\n\nsubmit()\u3057\u305f\u3068\u304d\u306b\u8d77\u3053\u3063\u305ferror\ncatch\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u5f8c\u8ff0\u306eCSP\u306f\u8ae6\u3081\u308b\u3057\u304b\u7121\u3044\n\n\nRefused to send form data to 'https://nbviewer.jupyter.org/create' because it violates the following Content Security Policy directive: \"form-action 'self' github.com gist.github.com\".\n\nhttps://developer.mozilla.org/ja/docs/Web/Security/CSP\n\nContent Security Policy (CSP) \u3068\u306f\u3001\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0 (XSS) \u3084\u30c7\u30fc\u30bf\u3092\u5dee\u3057\u8fbc\u3080\u653b\u6483\u306a\u3069\u3068\u3044\u3063\u305f\u3001\u7279\u5b9a\u306e\u7a2e\u985e\u306e\u653b\u6483\u3092\u691c\u77e5\u3057\u3001\u5f71\u97ff\u3092\u8efd\u6e1b\u3059\u308b\u305f\u3081\u306b\u8ffd\u52a0\u3067\u304d\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30a4\u30e4\u30fc\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u653b\u6483\u306f\u30c7\u30fc\u30bf\u306e\u7a83\u53d6\u304b\u3089\u30b5\u30a4\u30c8\u306e\u6539\u3056\u3093\u3001\u30de\u30eb\u30a6\u30a7\u30a2\u306e\u62e1\u6563\u306b\u81f3\u308b\u307e\u3067\u3001\u69d8\u3005\u306a\u76ee\u7684\u306b\u7528\u3044\u3089\u308c\u307e\u3059\u3002\n\n## \u52d5\u6a5f\n- \u4eca\u898b\u3066\u3044\u308bipynb\u30da\u30fc\u30b8 or \u7279\u5b9a\u306eURL\u3092nbviewer\u3067\u898b\u305f\u3044\n- nbviewer\u3067\u5165\u529b\u3057\u306b\u884c\u304f\u306e\u306f\u3081\u3093\u3069\u3046\n- \u3064\u304f\u3063\u3066\u3057\u307e\u3048\n\n## code\n```open-nbviewer.js\nvar target = '_target'\n, tab = window.open('about:blank', target)\n, form = document.createElement('form')\n, input = document.createElement('input')\n, body = document.querySelector('body')\n;\ninput.type = 'text';\ninput.name = 'gistnorurl';\ninput.value = window.prompt() || location.href;\nform.method = 'post';\nform.target = target;\nform.action = 'https://nbviewer.jupyter.org/create';\nform.appendChild(input);\nbody.appendChild(form);\nform.submit();\n//try {form.submit()} catch(e){alert(e);tab.close()};\nbody.removeChild(form);\n```\n\n### try\u306e\u90e8\u5206\n- `submit()`\u3057\u305f\u3068\u304d\u306b\u8d77\u3053\u3063\u305ferror\n- catch\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u5f8c\u8ff0\u306eCSP\u306f\u8ae6\u3081\u308b\u3057\u304b\u7121\u3044\n\n> Refused to send form data to 'https://nbviewer.jupyter.org/create' because it violates the following Content Security Policy directive: \"form-action 'self' github.com gist.github.com\".\n\nhttps://developer.mozilla.org/ja/docs/Web/Security/CSP\n\n> Content Security Policy (CSP) \u3068\u306f\u3001\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0 (XSS) \u3084\u30c7\u30fc\u30bf\u3092\u5dee\u3057\u8fbc\u3080\u653b\u6483\u306a\u3069\u3068\u3044\u3063\u305f\u3001\u7279\u5b9a\u306e\u7a2e\u985e\u306e\u653b\u6483\u3092\u691c\u77e5\u3057\u3001\u5f71\u97ff\u3092\u8efd\u6e1b\u3059\u308b\u305f\u3081\u306b\u8ffd\u52a0\u3067\u304d\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30a4\u30e4\u30fc\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u653b\u6483\u306f\u30c7\u30fc\u30bf\u306e\u7a83\u53d6\u304b\u3089\u30b5\u30a4\u30c8\u306e\u6539\u3056\u3093\u3001\u30de\u30eb\u30a6\u30a7\u30a2\u306e\u62e1\u6563\u306b\u81f3\u308b\u307e\u3067\u3001\u69d8\u3005\u306a\u76ee\u7684\u306b\u7528\u3044\u3089\u308c\u307e\u3059\u3002\n\n\n"}