{"tags": ["es6", "Node.js", "gulp"], "context": "\n\n\u521d\u3081\u306b\n\u6bce\u56de\u8abf\u3079\u3066\u69cb\u7bc9\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u306e\u3067\u3001\u96db\u5f62\u3092\u500b\u4eba\u7528\u306b\u307e\u3068\u3081\u307e\u3057\u305f\u3002\uff08\u3042\u304f\u307e\u3067\u500b\u4eba\u7528\u3067\u3059\u3002\uff09\n\u30b5\u30fc\u30d0\u30fc\u7acb\u3061\u4e0a\u3052\u306b\u306fExpress\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\uff08\u3053\u306e\u5f8c\u62e1\u5f35\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3002\uff09\n\u3053\u306e\u5f8creact\u3084three.js\u3092\u4f7f\u3044\u307e\u3059\u3002\n\npackage.json\u306e\u4e2d\u8eab\n\npackage.json\n{\n  \"name\": \"project-name\",\n  \"version\": \"1.0.0\",\n  \"description\": \"xxxxxxxxxxxx\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"Yuma Kajihara\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"babelify\": \"^6.4.0\",\n    \"browser-sync\": \"^2.13.0\",\n    \"browserify\": \"^13.1.0\",\n    \"gulp\": \"^3.9.1\",\n    \"node-dev\": \"^2.6.2\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\"\n  },\n  \"dependencies\": {\n    \"babelify\": \"^6.4.0\",\n    \"body-parser\": \"^1.15.2\",\n    \"browser-sync\": \"^2.13.0\",\n    \"browserify\": \"^13.1.0\",\n    \"express\": \"^4.14.0\",\n    \"gulp\": \"^3.9.1\",\n    \"node-dev\": \"^2.6.2\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\"\n  }\n}\n\n\n\ngulpfile.js\u306e\u4e2d\u8eab\n\ngulpfile.js\nvar babelify = require('babelify');\nvar browserify = require('browserify');\nvar browserSync = require('browser-sync');\nvar buffer = require('vinyl-buffer');\nvar gulp = require('gulp');\nvar node = require('node-dev');\nvar source = require('vinyl-source-stream');\n\n\nfunction errorHandler(err) {\n  console.log('Error: ' + err.message);\n}\n\n\n// \u81ea\u52d5\u30d6\u30e9\u30a6\u30b6\u30ea\u30ed\u30fc\u30c9\ngulp.task('browser-sync', function() {\n  browserSync({\n    proxy: {\n      target: 'http://localhost:3000'\n    },\n    port: 8080\n  });\n});\n\n\n// Javascript\u3078\u306e\u30d3\u30eb\u30c9\n// ES6\u304b\u3064JSX\u306a\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092build/bundle.js\u3078\u5909\u63db\u3059\u308b\ngulp.task('build', function() {\n  browserify({entries: ['./index.js']})\n    .transform(babelify)\n    .bundle()\n    .on('error', errorHandler)\n    .pipe(source('index.js'))\n    .pipe(buffer())\n    .pipe(gulp.dest('./build'))\n    .pipe(browserSync.reload({stream: true}));\n});\n\n\n// \u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\ngulp.task('server', function() {\n  node(['./server.js']);\n});\n\n\n// \u30d5\u30a1\u30a4\u30eb\u76e3\u8996\n// \u30d5\u30a1\u30a4\u30eb\u306b\u66f4\u65b0\u304c\u3042\u3063\u305f\u3089\u30d3\u30eb\u30c9\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u3092\u30ea\u30ed\u30fc\u30c9\u3059\u308b\ngulp.task('watch', function() {\n  gulp.watch('./index.js', ['build']);\n  gulp.watch('./index.html', ['build']);\n  gulp.watch('./components/*.js', ['build']);\n});\n\n\n// gulp\u30b3\u30de\u30f3\u30c9\u3067\u8d77\u52d5\u3057\u305f\u3068\u304d\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b9\u30af\ngulp.task('default', ['server', 'build', 'watch', 'browser-sync']);\n\n\n\nserver.js\u306e\u4e2d\u8eab\n\nserver.js\nvar fs = require('fs');\nvar path = require('path');\nvar express = require('express');\nvar bodyParser = require('body-parser');\nvar app = express();\n\napp.set('port', (process.env.PORT || 3000));\n\napp.use('/', express.static(__dirname));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({extended: true}));\n\n\napp.listen(app.get('port'), function() {\n  console.log('Server started: http://localhost:' + app.get('port') + '/');\n});\n\n\n\n\u30d5\u30ed\u30fc\n\n1.npm init\u3059\u308b\u3002\n\n2.package.json\u306b\u4e0a\u3092\u30b3\u30d4\u30da\u3002\n\n3.npm install --save --save-dev babelify browser-sync browserify express gulp node-dev vinyl-buffer vinyl-source-stream\u3092\u5b9f\u884c\u3002\n\n4.gulpfile.js\u306b\u4e0a\u3092\u30b3\u30d4\u30da\u3002\n\n5.server.js\u3092\u4f5c\u308b\u3002\n\n6\u305d\u306e\u4ed6\u8af8\u3005\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3059\u308b\u3002\uff06gulp\u3092\u5b9f\u884c\u3002\n\n\u304a\u4e16\u8a71\u306b\u306a\u3063\u305f\u8a18\u4e8b\n\u30fbES6 \u3067\u66f8\u304f\u74b0\u5883\uff08Babel + Browserify + gulp \u7de8\uff09\uff06 RxJS \u3068 jQuery \u306e\u5c0e\u5165\u4f8b\n\u30fbReact\u5165\u9580 - Part2: Browserify/Reactify/Gulp\u3092\u4f7f\u3046\n\u30fbbabel-browserify-gulp-sample\n##\u521d\u3081\u306b\n\u6bce\u56de\u8abf\u3079\u3066\u69cb\u7bc9\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u306e\u3067\u3001\u96db\u5f62\u3092\u500b\u4eba\u7528\u306b\u307e\u3068\u3081\u307e\u3057\u305f\u3002\uff08\u3042\u304f\u307e\u3067\u500b\u4eba\u7528\u3067\u3059\u3002\uff09\n\u30b5\u30fc\u30d0\u30fc\u7acb\u3061\u4e0a\u3052\u306b\u306fExpress\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\uff08\u3053\u306e\u5f8c\u62e1\u5f35\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3002\uff09\n\u3053\u306e\u5f8creact\u3084three.js\u3092\u4f7f\u3044\u307e\u3059\u3002\n##package.json\u306e\u4e2d\u8eab\n\n\n```json:package.json\n{\n  \"name\": \"project-name\",\n  \"version\": \"1.0.0\",\n  \"description\": \"xxxxxxxxxxxx\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"Yuma Kajihara\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"babelify\": \"^6.4.0\",\n    \"browser-sync\": \"^2.13.0\",\n    \"browserify\": \"^13.1.0\",\n    \"gulp\": \"^3.9.1\",\n    \"node-dev\": \"^2.6.2\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\"\n  },\n  \"dependencies\": {\n    \"babelify\": \"^6.4.0\",\n    \"body-parser\": \"^1.15.2\",\n    \"browser-sync\": \"^2.13.0\",\n    \"browserify\": \"^13.1.0\",\n    \"express\": \"^4.14.0\",\n    \"gulp\": \"^3.9.1\",\n    \"node-dev\": \"^2.6.2\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\"\n  }\n}\n```\n\n##gulpfile.js\u306e\u4e2d\u8eab\n\n```js:gulpfile.js\nvar babelify = require('babelify');\nvar browserify = require('browserify');\nvar browserSync = require('browser-sync');\nvar buffer = require('vinyl-buffer');\nvar gulp = require('gulp');\nvar node = require('node-dev');\nvar source = require('vinyl-source-stream');\n\n\nfunction errorHandler(err) {\n  console.log('Error: ' + err.message);\n}\n\n\n// \u81ea\u52d5\u30d6\u30e9\u30a6\u30b6\u30ea\u30ed\u30fc\u30c9\ngulp.task('browser-sync', function() {\n  browserSync({\n    proxy: {\n      target: 'http://localhost:3000'\n    },\n    port: 8080\n  });\n});\n\n\n// Javascript\u3078\u306e\u30d3\u30eb\u30c9\n// ES6\u304b\u3064JSX\u306a\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092build/bundle.js\u3078\u5909\u63db\u3059\u308b\ngulp.task('build', function() {\n  browserify({entries: ['./index.js']})\n    .transform(babelify)\n    .bundle()\n    .on('error', errorHandler)\n    .pipe(source('index.js'))\n    .pipe(buffer())\n    .pipe(gulp.dest('./build'))\n    .pipe(browserSync.reload({stream: true}));\n});\n\n\n// \u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\ngulp.task('server', function() {\n  node(['./server.js']);\n});\n\n\n// \u30d5\u30a1\u30a4\u30eb\u76e3\u8996\n// \u30d5\u30a1\u30a4\u30eb\u306b\u66f4\u65b0\u304c\u3042\u3063\u305f\u3089\u30d3\u30eb\u30c9\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u3092\u30ea\u30ed\u30fc\u30c9\u3059\u308b\ngulp.task('watch', function() {\n  gulp.watch('./index.js', ['build']);\n  gulp.watch('./index.html', ['build']);\n  gulp.watch('./components/*.js', ['build']);\n});\n\n\n// gulp\u30b3\u30de\u30f3\u30c9\u3067\u8d77\u52d5\u3057\u305f\u3068\u304d\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b9\u30af\ngulp.task('default', ['server', 'build', 'watch', 'browser-sync']);\n```\n\n##server.js\u306e\u4e2d\u8eab\n```js:server.js\nvar fs = require('fs');\nvar path = require('path');\nvar express = require('express');\nvar bodyParser = require('body-parser');\nvar app = express();\n\napp.set('port', (process.env.PORT || 3000));\n\napp.use('/', express.static(__dirname));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({extended: true}));\n\n\napp.listen(app.get('port'), function() {\n  console.log('Server started: http://localhost:' + app.get('port') + '/');\n});\n```\n\n\n##\u30d5\u30ed\u30fc\n####1.`npm init`\u3059\u308b\u3002\n####2.package.json\u306b\u4e0a\u3092\u30b3\u30d4\u30da\u3002\n####3.`npm install --save --save-dev babelify browser-sync browserify express gulp node-dev vinyl-buffer vinyl-source-stream`\u3092\u5b9f\u884c\u3002\n####4.gulpfile.js\u306b\u4e0a\u3092\u30b3\u30d4\u30da\u3002\n####5.server.js\u3092\u4f5c\u308b\u3002\n####6\u305d\u306e\u4ed6\u8af8\u3005\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3059\u308b\u3002\uff06`gulp`\u3092\u5b9f\u884c\u3002\n\n##\u304a\u4e16\u8a71\u306b\u306a\u3063\u305f\u8a18\u4e8b\n\u30fb[ES6 \u3067\u66f8\u304f\u74b0\u5883\uff08Babel + Browserify + gulp \u7de8\uff09\uff06 RxJS \u3068 jQuery \u306e\u5c0e\u5165\u4f8b](http://qiita.com/hkusu/items/95bb9278a5ab70c26663)\n\u30fb[React\u5165\u9580 - Part2: Browserify/Reactify/Gulp\u3092\u4f7f\u3046](http://qiita.com/masato/items/35b0900e3a7282b33bf8)\n\u30fb[babel-browserify-gulp-sample](https://github.com/hkusu/babel-browserify-gulp-sample)\n"}