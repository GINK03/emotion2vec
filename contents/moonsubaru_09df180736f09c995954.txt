{"context": "unicorn\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u305f\u306e\u3067\u3001\u518d\u8d77\u52d5\u3002\ncapistrano3-unicorn\u306elegacy_restart\u3084restart\u3067\u306f\u3046\u307e\u304f\u3044\u304b\u306a\u304f\u3066\uff08\u8a2d\u5b9a\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044\uff09\u3001\nUSR2\u3068\u304b\u304c\u3064\u304f\u3001\u3044\u308f\u3086\u308b\u7de9\u3084\u304b\u306a\u518d\u8d77\u52d5\u3067\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u304f\u308c\u306a\u3044\u3089\u3057\u3044\u306e\u3067\u3001\n\u304c\u3063\u3064\u308a\u6b62\u3081\u3066\u3001\u8d77\u52d5\u3059\u308b\u3002\n\n\u505c\u6b62\nkill -QUIT `cat /tmp/unicorn.pid` # cat\u5148\u306funicorn\u8a2d\u5b9a\u3067\u6c7a\u3081\u3066\u3044\u308b\u3068\u3053\u308d\n\n\n\u8d77\u52d5\nbundle exec unicorn_rails -c /home/vagrant/current/config/unicorn.rb -E development -D\n# unicorn.rb\u306e\u30d1\u30b9\u306f\u9069\u5b9c\n\n\u203bdevelopment\u306e\u3068\u3053\u308d\u3001RAILS_ENV\u304c\u5165\u308b\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u3002\n\u9055\u3044\u307e\u3057\u305f\u3002development or none \u3060\u305d\u3046\u3067\u3059 \u21d2 Rack or Unicorn \u306e E \u5f15\u6570\nunicorn\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u305f\u306e\u3067\u3001\u518d\u8d77\u52d5\u3002\ncapistrano3-unicorn\u306e`legacy_restart`\u3084`restart`\u3067\u306f\u3046\u307e\u304f\u3044\u304b\u306a\u304f\u3066\uff08\u8a2d\u5b9a\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044\uff09\u3001\n`USR2`\u3068\u304b\u304c\u3064\u304f\u3001\u3044\u308f\u3086\u308b`\u7de9\u3084\u304b\u306a\u518d\u8d77\u52d5`\u3067\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u304f\u308c\u306a\u3044\u3089\u3057\u3044\u306e\u3067\u3001\n\u304c\u3063\u3064\u308a\u6b62\u3081\u3066\u3001\u8d77\u52d5\u3059\u308b\u3002\n\n### \u505c\u6b62\n\n```bash\nkill -QUIT `cat /tmp/unicorn.pid` # cat\u5148\u306funicorn\u8a2d\u5b9a\u3067\u6c7a\u3081\u3066\u3044\u308b\u3068\u3053\u308d\n```\n\n### \u8d77\u52d5\n\n```bash\nbundle exec unicorn_rails -c /home/vagrant/current/config/unicorn.rb -E development -D\n# unicorn.rb\u306e\u30d1\u30b9\u306f\u9069\u5b9c\n```\n\u203bdevelopment\u306e\u3068\u3053\u308d\u3001RAILS_ENV\u304c\u5165\u308b\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u3002\n\u9055\u3044\u307e\u3057\u305f\u3002development or none \u3060\u305d\u3046\u3067\u3059 \u21d2 [Rack or Unicorn \u306e E \u5f15\u6570](https://blog.kksg.net/posts/unicorn-environment)\n", "tags": ["unicorn"]}