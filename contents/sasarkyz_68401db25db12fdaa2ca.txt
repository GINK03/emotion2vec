{"context": "\n\n\u306f\u3058\u3081\u306b\nRails\u3067\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\u3053\u3068\u306b\u306a\u3063\u305f\u306e\u3067\u30d5\u30ed\u30f3\u30c8\u5468\u308a\u3082\u6574\u5099\u3057\u3066\u7f6e\u304d\u305f\u3044\u306a\u3068\u601d\u3063\u305f\u306e\u3067\u307e\u3068\u3081\u307e\u3059\u3002\n\u30d5\u30ed\u30f3\u30c8\u5468\u308a\u306f\u30c7\u30b6\u30a4\u30ca\u30fc\u3068\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u304c\u958b\u767a\u304c\u3057\u3084\u3059\u3044\u72b6\u614b\u3092\u7dad\u6301\u3059\u308b\u65b9\u6cd5\u3092\u53d6\u308a\u305f\u3044\u3067\u3059\uff08\u9858\u671b\uff09\n\n\u524d\u63d0\u3068\u3044\u3046\u304b\u30b4\u30fc\u30eb\u3068\u3044\u3046\u304b\u305d\u3093\u306a\u306e\n\u524d\u63d0\u3068\u3057\u3066\n\nAPI \u5468\u308a\u3068\u30d5\u30ed\u30f3\u30c8\u306e\u57fa\u672c\u7684\u306a\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306f Rails \u306b\u4efb\u305b\u308b\n\u30d5\u30ed\u30f3\u30c8\u306b\u3061\u3087\u3063\u3068\u3057\u305f\u52d5\u304d\u3068\u304b\u305d\u3046\u3044\u3046\u306e\u3092\u5165\u308c\u305f\u3044\u3068\u304d\u306f javascript(vue.js) \u5074\u3067\u3084\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u3068\u3057\u307e\u3059\u3002\n\u3067\u3001\u3084\u308a\u305f\u3044\u3053\u3068\u3068\u3057\u3066\n\nrails \u306e asset pipeline \u306f\u5f8c\u3005\u56f0\u308a\u305d\u3046\u306a\u306e\u3067\u4f7f\u308f\u306a\u3044\n\n\n\u4ee3\u66ff\u6848\u3068\u3057\u3066 npm \u3067\u9811\u5f35\u308b\n\n\njavascript \u306f js \u30d5\u30a1\u30a4\u30eb\u3067\u72ec\u7acb\u3055\u305b\u3066\u304a\u304d\u305f\u3044\n\n\n\u307e\u305a\u6700\u521d\u306b\n\nRails Project \u4f5c\u6210\n\u307e\u3042\u3053\u306e\u3078\u3093\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u6cbf\u3063\u3066\u4f5c\u308a\u307e\u3059\u3002\n\u4f5c\u3063\u305f\u5f8c\u306f\u2193\u3092\u53c2\u8003\u306b config \u3092\u30a4\u30b8\u30a4\u30b8\u3057\u307e\u3059\n\nhttp://qiita.com/yuutetu/items/135b1c8ab512208aebfe\n\n\ninitialize npm\nnpm \u5468\u308a\u306f\u3001\u7279\u306b\u4f55\u3082\u8003\u3048\u305a webpack, gulp, vue, bootstrap \u3042\u305f\u308a\u306b\u5fc5\u8981\u306a\u7269\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\npackage.json\n{\n  \"name\": \"XXX\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"directories\": {\n    \"test\": \"test\"\n  },\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"bootstrap\": \"^4.0.0-alpha.6\",\n    \"browser-sync\": \"^2.18.6\",\n    \"css-loader\": \"^0.26.1\",\n    \"del\": \"^2.2.2\",\n    \"file-loader\": \"^0.9.0\",\n    \"font-awesome\": \"^4.7.0\",\n    \"gulp-autoprefixer\": \"^3.1.1\",\n    \"gulp-minify-css\": \"^1.2.4\",\n    \"gulp-plumber\": \"^1.1.0\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-rev\": \"^7.1.2\",\n    \"gulp-sass\": \"^3.1.0\",\n    \"gulp-webpack\": \"^1.5.0\",\n    \"require-dir\": \"^0.3.1\",\n    \"run-sequence\": \"^1.2.2\",\n    \"style-loader\": \"^0.13.1\",\n    \"url-loader\": \"^0.5.7\",\n    \"vue\": \"^2.1.10\",\n    \"vue-loader\": \"^10.0.2\",\n    \"vue-template-compiler\": \"^2.1.10\",\n    \"webpack\": \"^1.14.0\"\n  }\n}\n\n\n\nvue.js \u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\n\u7d9a\u3044\u3066 vue.js \u3092\u52d5\u304b\u3059\u305f\u3081\u306b\u3061\u3087\u3063\u3068\u30b5\u30f3\u30d7\u30eb\u7684\u306a\u7269\u3092\u66f8\u304d\u307e\u3059\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\u524d\u8ff0\u3057\u3066\u3044\u305f\u3068\u304a\u308a javascript \u306f .js \u30d5\u30a1\u30a4\u30eb\u3067\u5206\u3051\u3066\u7f6e\u304d\u305f\u304b\u3063\u305f\u306e\u3067\u3053\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\napp/assets/javascripts\n\u251c\u2500\u2500 application.js\n\u251c\u2500\u2500 cable.js\n\u251c\u2500\u2500 channels\n\u251c\u2500\u2500 components\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 leads\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 filter_form.vue\n\u2514\u2500\u2500 views\n    \u2514\u2500\u2500 leads\n        \u2514\u2500\u2500 index.js\n\n\napplication.js\n\u672c\u6765\u306f rails \u306e asset pipeline \u3067\u4f7f\u3063\u3066\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3067\u3057\u305f\u304c\u3001\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u4f7f\u7528\u3057\u306a\u3044\u306e\u3067 javascript \u306e\u30a8\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u5225\u9014 bootstrap \u3092\u5165\u308c\u3066\u3044\u305f\u306e\u3067 bootstrap \u306e css \u306f jQuery \u306a\u3069\u3082 require \u3057\u3066\u3044\u307e\u3059\u3002\nnpm \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3082\u306e\u306f\u3053\u3053\u3067 require \u3059\u308c\u3070\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n/app/assets/javascripts/application.js\nrequire('bootstrap/dist/css/bootstrap.min.css');\nrequire('font-awesome/css/font-awesome.min.css');\n\nTether = require('tether/dist/js/tether.min.js');\n$ = jQuery = require('jquery');\nrequire('bootstrap/dist/js/bootstrap.min.js');\n\nVue = require('vue/dist/vue.common.js');\nrequire('./views/leads/index.js');\n\n\n\nviews/leads/index.js\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f rails \u306e tpl \u3067\u4f7f\u7528\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\nrails \u5074\u306e tpl \u306b\u66f8\u3044\u3066\u3082\u554f\u984c\u306a\u3044\u306e\u3067\u3059\u304c tpl \u30d5\u30a1\u30a4\u30eb\u306f\u6975\u529b html \u3060\u3051\u3092\u66f8\u304d\u305f\u304b\u3063\u305f\u306e\u3067\u3053\u3061\u3089\u306b\u79fb\u3057\u307e\u3057\u305f\u3002\n\n/app/assets/javascripts/views/leads/index.js\nLeadsIndexView = Vue.extend({\n  data: function() {\n    return {\n      form_values: {\n        selected: 1,\n        options: [\n          { value: 1, text: 'Test1' },\n          { value: 2, text: 'Test2' },\n        ],\n        filter_value: '',\n      },\n    }\n  },\n  components: {\n    'filter-form': require('../../components/leads/filter_form.vue'),\n  },\n  created: function () {\n    console.log('created');\n  },\n  methods: {\n    test: function() {\n      console.log('test');\n    },\n  },\n})\n\nmodule.exports = LeadsIndexView;\n\n\n\ncomponents/leads/filter_form.vue\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f vue.js \u306e\u5358\u4e00\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\uff1f\u3068\u3044\u3046\u3084\u3064\u3067\u3059\u3002\nbootstrap \u306e modal \u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306e\u30d5\u30a9\u30fc\u30e0\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\u3002\n\n/app/assets/javascripts/components/leads/filter_form.vue\n<template>\n<div>\n  <button class=\"btn btn-purple\" type=\"button\" data-toggle=\"modal\" data-target=\"#filter-form\">\n    \u65b0\u3057\u3044\u30d5\u30a3\u30eb\u30bf\u3092\u4f5c\u308b\n  </button>\n  <div id=\"filter-form\" class=\"modal fade\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">\u30d5\u30a3\u30eb\u30bf\u8ffd\u52a0</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"form-group row\">\n            <div class=\"col-4\">\n              <select class=\"custom-select\" style=\"width:100%\" v-model=\"form_values.selected\">\n                <option v-for=\"option in form_values.options\" v-bind:value=\"option.value\">\n                  {{ option.text }}\n                </option>\n              </select>\n            </div>\n            <div class=\"col-8\">\n              <input class=\"form-control\" type=\"text\" v-model=\"form_values.filter_value\">\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-purple\" v-on:click=\"submit\">\u8ffd\u52a0</button>\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">\u30ad\u30e3\u30f3\u30bb\u30eb</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nmodule.exports = {\n  props: ['form_values'],\n  methods: {\n    submit: function() {\n      console.log('form submit');\n    },\n  },\n  created: function() {\n    console.log('component created');\n  },\n}\n</script>\n\n\n\nscss \u30d5\u30a1\u30a4\u30eb\n\u3061\u3087\u3063\u3068\u6a2a\u9053\u306b\u305d\u308c\u307e\u3059\u304c\u3001 assets pipeline \u3092\u5916\u3057\u305f\u306e\u3067 scss \u3082\u7ba1\u7406\u3057\u306a\u3044\u3068\u3044\u3051\u307e\u305b\u3093\u3002\n\u3068\u3044\u3063\u3066\u3082\u305d\u3093\u306a\u96e3\u3057\u3044\u3082\u306e\u3067\u306a\u304f application.scss \u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u76f4\u3057\u307e\u3059\n\n/app/assets/stylesheets/application.scss\ndiv.navbar {\n  margin-bottom: 10px;\n}\n\n.btn.btn-purple {\n  background-color: #5f4871;\n  color: #fff;\n}\n\n.btn.btn-purple:hover {\n  background-color: #443451;\n}\n\n\n\nwebpack, gulp\n\u3067\u306f\u4eca\u307e\u3067\u4f5c\u3063\u305f js, scss \u3092 rails \u5074\u3067\u4f7f\u3048\u308b\u69d8\u306b\u3057\u307e\u3059\u3002\n\u8a00\u3063\u3066\u305d\u3093\u306a\u306b\u8a73\u3057\u3044\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30b5\u30f3\u30d7\u30eb\u7a0b\u5ea6\u306e\u30ce\u30ea\u3067\u898b\u3066\u3082\u3089\u3048\u308c\u3070\u3068\u601d\u3044\u307e\u3059\ngulp\n\u2514\u2500\u2500 tasks\n    \u251c\u2500\u2500 clean.js\n    \u251c\u2500\u2500 config.js\n    \u251c\u2500\u2500 default.js\n    \u251c\u2500\u2500 scss.js\n    \u251c\u2500\u2500 watch.js\n    \u251c\u2500\u2500 webpack.config.js\n    \u2514\u2500\u2500 webpack.js\n\n\nconfig\n\n/gulp/tasks/config.js\ngulpAssets   = 'app/assets';\npublicAssets = 'public/assets';\nnodeModuleAssets = 'node_modules'\n\nmodule.exports = {\n  gulpAssets:   gulpAssets,\n  nodeModuleAssets: nodeModuleAssets,\n  publicAssets: publicAssets,\n\n  javascript: {\n    src:  gulpAssets   + '/javascripts/**/*',\n    dest: publicAssets + '/javascripts'\n  },\n  stylesheet: {\n    srcScss:  gulpAssets   + '/stylesheets/**/*.scss',\n    dest: publicAssets + '/stylesheets'\n  },\n  image: {\n    src:  gulpAssets   + '/images/**/*',\n    dest: publicAssets + '/images'\n  },\n  watch: {\n    javascript:     gulpAssets + '/javascripts/**/*',\n    stylesheet:     gulpAssets + '/stylesheets/**/*',\n    image:          gulpAssets + '/images/**/*',\n    browserSync:    'public/**/*'\n  },\n  browserSync: {\n    proxy: 'localhost:3000'\n  },\n  rev: {\n    dest: publicAssets + '/rev-manifest.json',\n    opts: {\n      base:  process.cwd() + '/' + publicAssets,\n      merge: true\n    }\n  }\n}\n\n\n\n/gulp/tasks/webpack.config.js\nvar path = require('path');\nvar webpack = require('webpack');\nvar config = require('./config');\n\nmodule.exports = {\n  devtool: 'source-map',\n  debug: true,\n  entry: {\n    application: './' + config.gulpAssets + '/javascripts/application'\n  },\n  output: {\n    filename:   '[name].js',\n    publicPath: config.javascript.dest\n  },\n  module: {\n    loaders: [\n      { test: /\\.vue$/,       loader: 'vue' },\n      { test: /\\.png$/,       loader: 'url?limit=8192' },\n      { test: /\\.css$/,       loader: \"style!css\" },\n      { test: /\\.scss$/,      loaders: [\"style\", \"css\", \"scss\"] },\n      { test: /\\.(otf|eot|svg|ttf|woff|woff2)(\\?.+)?$/, loader: 'url' }\n    ]\n  }\n};\n\n\n\ncompile\n\u3053\u308c\u3067 gulp \u3092\u5b9f\u884c\u3059\u308b\u3068 scss \u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u3068 webpack \u304c\u52d5\u3044\u3066 public/assets \u914d\u4e0b\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\npublic/assets/\n\u251c\u2500\u2500 javascripts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 application.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 application.js.map\n\u2514\u2500\u2500 stylesheets\n    \u2514\u2500\u2500 application.css\n\n\nrails \u5468\u308a\n\u3042\u3068\u306f\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3048\u3070\u52d5\u304f\u306f\u305a\u3067\u3059\nlayout/application \u3067\u751f\u6210\u3055\u308c\u305f js \u3068 css \u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\n\n/app/views/layouts/application.html.slim\ndoctype html\nhtml\n  head\n    title TestApplication\n    script src='/assets/javascripts/application.js'\n    link rel='stylesheet' type='text/css' href='/assets/stylesheets/application.css'\n  body\n    = yield\n\n\n\u3053\u3053\u304c js \u3092\u547c\u3076 tpl \u3067\u3059\u3002\n\u6c7a\u307e\u308a\u6587\u53e5\u3068\u3057\u3066 vue \u3068 dom \u3092\u95a2\u9023\u4ed8\u3051\u308b\u3068\u3053\u308d\u3060\u3051\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\n\n/app/views/leads/index.html.slim\n= render partial: \"/layouts/menu\"\ndiv#app.container-fluid\n  div.row\n    div.col-lg-3\n      p.display-5 \u30d5\u30a3\u30eb\u30bf\n      | <filter-form :form_values=form_values></filter-form>\n    div.col-lg-9\n      ...\n\njavascript:\n  new LeadsIndexView({el: '#app'})\n\n\n\n\u5b9f\u884c\u753b\u9762\n<filter-form> \u306e\u3068\u3053\u308d\u304c\u3061\u3083\u3093\u3068\u8aad\u307f\u8fbc\u307e\u308c\u3066\u30dc\u30bf\u30f3\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\n\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u89aa\u306e vue instance \u304b\u3089\u3001\u5b50\u4f9b\u306e component \u306b\u30c7\u30fc\u30bf\u304c\u6e21\u3055\u308c\u3066\u63cf\u753b\u3055\u308c\u3066\u307e\u3059\u3002\n\n\n\u7d42\u308f\u308a\u306b\n\u4eca\u56de\u306f rails \u4e0a\u3067 vue.js \u3092\u958b\u767a\u30fb\u5b9f\u884c\u51fa\u6765\u308b\u74b0\u5883\u3092\u7528\u610f\u3059\u308b\u65b9\u6cd5\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\nviews/*.js \u3092 tpl \u306b\u7f6e\u3044\u305f\u307b\u3046\u304c\u826f\u3044\u306e\u304b\u3002\u5206\u96e2\u3059\u3079\u304d\u306a\u306e\u304b\u3002\u307f\u305f\u3044\u306a\u306e\u3068\u304b\u3001\n\u305d\u3082\u305d\u3082\u8ad6\u307f\u305f\u3044\u306a\u3068\u3053\u308d\u3068\u304b\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u958b\u767a\u3057\u6613\u3044\u74b0\u5883\u3092\u6a21\u7d22\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n# \u306f\u3058\u3081\u306b\nRails\u3067\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\u3053\u3068\u306b\u306a\u3063\u305f\u306e\u3067\u30d5\u30ed\u30f3\u30c8\u5468\u308a\u3082\u6574\u5099\u3057\u3066\u7f6e\u304d\u305f\u3044\u306a\u3068\u601d\u3063\u305f\u306e\u3067\u307e\u3068\u3081\u307e\u3059\u3002\n\u30d5\u30ed\u30f3\u30c8\u5468\u308a\u306f\u30c7\u30b6\u30a4\u30ca\u30fc\u3068\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u304c\u958b\u767a\u304c\u3057\u3084\u3059\u3044\u72b6\u614b\u3092\u7dad\u6301\u3059\u308b\u65b9\u6cd5\u3092\u53d6\u308a\u305f\u3044\u3067\u3059\uff08\u9858\u671b\uff09\n\n# \u524d\u63d0\u3068\u3044\u3046\u304b\u30b4\u30fc\u30eb\u3068\u3044\u3046\u304b\u305d\u3093\u306a\u306e\n\u524d\u63d0\u3068\u3057\u3066\n\n- API \u5468\u308a\u3068\u30d5\u30ed\u30f3\u30c8\u306e\u57fa\u672c\u7684\u306a\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306f Rails \u306b\u4efb\u305b\u308b\n- \u30d5\u30ed\u30f3\u30c8\u306b\u3061\u3087\u3063\u3068\u3057\u305f\u52d5\u304d\u3068\u304b\u305d\u3046\u3044\u3046\u306e\u3092\u5165\u308c\u305f\u3044\u3068\u304d\u306f javascript(vue.js) \u5074\u3067\u3084\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u3068\u3057\u307e\u3059\u3002\n\n\u3067\u3001\u3084\u308a\u305f\u3044\u3053\u3068\u3068\u3057\u3066\n\n- rails \u306e asset pipeline \u306f\u5f8c\u3005\u56f0\u308a\u305d\u3046\u306a\u306e\u3067\u4f7f\u308f\u306a\u3044\n - \u4ee3\u66ff\u6848\u3068\u3057\u3066 npm \u3067\u9811\u5f35\u308b\n- javascript \u306f js \u30d5\u30a1\u30a4\u30eb\u3067\u72ec\u7acb\u3055\u305b\u3066\u304a\u304d\u305f\u3044\n\n# \u307e\u305a\u6700\u521d\u306b\n## Rails Project \u4f5c\u6210\n\u307e\u3042\u3053\u306e\u3078\u3093\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u6cbf\u3063\u3066\u4f5c\u308a\u307e\u3059\u3002\n\u4f5c\u3063\u305f\u5f8c\u306f\u2193\u3092\u53c2\u8003\u306b config \u3092\u30a4\u30b8\u30a4\u30b8\u3057\u307e\u3059\n\n- http://qiita.com/yuutetu/items/135b1c8ab512208aebfe\n\n## initialize npm\n\nnpm \u5468\u308a\u306f\u3001\u7279\u306b\u4f55\u3082\u8003\u3048\u305a webpack, gulp, vue, bootstrap \u3042\u305f\u308a\u306b\u5fc5\u8981\u306a\u7269\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\n```package.json\n{\n  \"name\": \"XXX\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"directories\": {\n    \"test\": \"test\"\n  },\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"bootstrap\": \"^4.0.0-alpha.6\",\n    \"browser-sync\": \"^2.18.6\",\n    \"css-loader\": \"^0.26.1\",\n    \"del\": \"^2.2.2\",\n    \"file-loader\": \"^0.9.0\",\n    \"font-awesome\": \"^4.7.0\",\n    \"gulp-autoprefixer\": \"^3.1.1\",\n    \"gulp-minify-css\": \"^1.2.4\",\n    \"gulp-plumber\": \"^1.1.0\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-rev\": \"^7.1.2\",\n    \"gulp-sass\": \"^3.1.0\",\n    \"gulp-webpack\": \"^1.5.0\",\n    \"require-dir\": \"^0.3.1\",\n    \"run-sequence\": \"^1.2.2\",\n    \"style-loader\": \"^0.13.1\",\n    \"url-loader\": \"^0.5.7\",\n    \"vue\": \"^2.1.10\",\n    \"vue-loader\": \"^10.0.2\",\n    \"vue-template-compiler\": \"^2.1.10\",\n    \"webpack\": \"^1.14.0\"\n  }\n}\n```\n\n# vue.js \u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\n\u7d9a\u3044\u3066 vue.js \u3092\u52d5\u304b\u3059\u305f\u3081\u306b\u3061\u3087\u3063\u3068\u30b5\u30f3\u30d7\u30eb\u7684\u306a\u7269\u3092\u66f8\u304d\u307e\u3059\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\n\u524d\u8ff0\u3057\u3066\u3044\u305f\u3068\u304a\u308a javascript \u306f .js \u30d5\u30a1\u30a4\u30eb\u3067\u5206\u3051\u3066\u7f6e\u304d\u305f\u304b\u3063\u305f\u306e\u3067\u3053\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\n\n```\napp/assets/javascripts\n\u251c\u2500\u2500 application.js\n\u251c\u2500\u2500 cable.js\n\u251c\u2500\u2500 channels\n\u251c\u2500\u2500 components\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 leads\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 filter_form.vue\n\u2514\u2500\u2500 views\n    \u2514\u2500\u2500 leads\n        \u2514\u2500\u2500 index.js\n```\n\n## application.js\n\u672c\u6765\u306f rails \u306e asset pipeline \u3067\u4f7f\u3063\u3066\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3067\u3057\u305f\u304c\u3001\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u4f7f\u7528\u3057\u306a\u3044\u306e\u3067 javascript \u306e\u30a8\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u5225\u9014 bootstrap \u3092\u5165\u308c\u3066\u3044\u305f\u306e\u3067 bootstrap \u306e css \u306f jQuery \u306a\u3069\u3082 require \u3057\u3066\u3044\u307e\u3059\u3002\nnpm \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3082\u306e\u306f\u3053\u3053\u3067 require \u3059\u308c\u3070\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```/app/assets/javascripts/application.js\nrequire('bootstrap/dist/css/bootstrap.min.css');\nrequire('font-awesome/css/font-awesome.min.css');\n\nTether = require('tether/dist/js/tether.min.js');\n$ = jQuery = require('jquery');\nrequire('bootstrap/dist/js/bootstrap.min.js');\n\nVue = require('vue/dist/vue.common.js');\nrequire('./views/leads/index.js');\n```\n\n## views/leads/index.js\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f rails \u306e tpl \u3067\u4f7f\u7528\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\nrails \u5074\u306e tpl \u306b\u66f8\u3044\u3066\u3082\u554f\u984c\u306a\u3044\u306e\u3067\u3059\u304c tpl \u30d5\u30a1\u30a4\u30eb\u306f\u6975\u529b html \u3060\u3051\u3092\u66f8\u304d\u305f\u304b\u3063\u305f\u306e\u3067\u3053\u3061\u3089\u306b\u79fb\u3057\u307e\u3057\u305f\u3002\n\n```/app/assets/javascripts/views/leads/index.js\nLeadsIndexView = Vue.extend({\n  data: function() {\n    return {\n      form_values: {\n        selected: 1,\n        options: [\n          { value: 1, text: 'Test1' },\n          { value: 2, text: 'Test2' },\n        ],\n        filter_value: '',\n      },\n    }\n  },\n  components: {\n    'filter-form': require('../../components/leads/filter_form.vue'),\n  },\n  created: function () {\n    console.log('created');\n  },\n  methods: {\n    test: function() {\n      console.log('test');\n    },\n  },\n})\n\nmodule.exports = LeadsIndexView;\n```\n\n## components/leads/filter_form.vue\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f vue.js \u306e\u5358\u4e00\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\uff1f\u3068\u3044\u3046\u3084\u3064\u3067\u3059\u3002\n\nbootstrap \u306e modal \u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306e\u30d5\u30a9\u30fc\u30e0\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\u3002\n\n```html:/app/assets/javascripts/components/leads/filter_form.vue\n<template>\n<div>\n  <button class=\"btn btn-purple\" type=\"button\" data-toggle=\"modal\" data-target=\"#filter-form\">\n    \u65b0\u3057\u3044\u30d5\u30a3\u30eb\u30bf\u3092\u4f5c\u308b\n  </button>\n  <div id=\"filter-form\" class=\"modal fade\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">\u30d5\u30a3\u30eb\u30bf\u8ffd\u52a0</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"form-group row\">\n            <div class=\"col-4\">\n              <select class=\"custom-select\" style=\"width:100%\" v-model=\"form_values.selected\">\n                <option v-for=\"option in form_values.options\" v-bind:value=\"option.value\">\n                  {{ option.text }}\n                </option>\n              </select>\n            </div>\n            <div class=\"col-8\">\n              <input class=\"form-control\" type=\"text\" v-model=\"form_values.filter_value\">\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-purple\" v-on:click=\"submit\">\u8ffd\u52a0</button>\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">\u30ad\u30e3\u30f3\u30bb\u30eb</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nmodule.exports = {\n  props: ['form_values'],\n  methods: {\n    submit: function() {\n      console.log('form submit');\n    },\n  },\n  created: function() {\n    console.log('component created');\n  },\n}\n</script>\n```\n\n# scss \u30d5\u30a1\u30a4\u30eb\n\u3061\u3087\u3063\u3068\u6a2a\u9053\u306b\u305d\u308c\u307e\u3059\u304c\u3001 assets pipeline \u3092\u5916\u3057\u305f\u306e\u3067 scss \u3082\u7ba1\u7406\u3057\u306a\u3044\u3068\u3044\u3051\u307e\u305b\u3093\u3002\n\u3068\u3044\u3063\u3066\u3082\u305d\u3093\u306a\u96e3\u3057\u3044\u3082\u306e\u3067\u306a\u304f application.scss \u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u76f4\u3057\u307e\u3059\n\n\n```/app/assets/stylesheets/application.scss\ndiv.navbar {\n  margin-bottom: 10px;\n}\n\n.btn.btn-purple {\n  background-color: #5f4871;\n  color: #fff;\n}\n\n.btn.btn-purple:hover {\n  background-color: #443451;\n}\n```\n\n# webpack, gulp\n\u3067\u306f\u4eca\u307e\u3067\u4f5c\u3063\u305f js, scss \u3092 rails \u5074\u3067\u4f7f\u3048\u308b\u69d8\u306b\u3057\u307e\u3059\u3002\n\u8a00\u3063\u3066\u305d\u3093\u306a\u306b\u8a73\u3057\u3044\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30b5\u30f3\u30d7\u30eb\u7a0b\u5ea6\u306e\u30ce\u30ea\u3067\u898b\u3066\u3082\u3089\u3048\u308c\u3070\u3068\u601d\u3044\u307e\u3059\n\n```\ngulp\n\u2514\u2500\u2500 tasks\n    \u251c\u2500\u2500 clean.js\n    \u251c\u2500\u2500 config.js\n    \u251c\u2500\u2500 default.js\n    \u251c\u2500\u2500 scss.js\n    \u251c\u2500\u2500 watch.js\n    \u251c\u2500\u2500 webpack.config.js\n    \u2514\u2500\u2500 webpack.js\n```\n\n## config\n\n```/gulp/tasks/config.js\ngulpAssets   = 'app/assets';\npublicAssets = 'public/assets';\nnodeModuleAssets = 'node_modules'\n\nmodule.exports = {\n  gulpAssets:   gulpAssets,\n  nodeModuleAssets: nodeModuleAssets,\n  publicAssets: publicAssets,\n\n  javascript: {\n    src:  gulpAssets   + '/javascripts/**/*',\n    dest: publicAssets + '/javascripts'\n  },\n  stylesheet: {\n    srcScss:  gulpAssets   + '/stylesheets/**/*.scss',\n    dest: publicAssets + '/stylesheets'\n  },\n  image: {\n    src:  gulpAssets   + '/images/**/*',\n    dest: publicAssets + '/images'\n  },\n  watch: {\n    javascript:     gulpAssets + '/javascripts/**/*',\n    stylesheet:     gulpAssets + '/stylesheets/**/*',\n    image:          gulpAssets + '/images/**/*',\n    browserSync:    'public/**/*'\n  },\n  browserSync: {\n    proxy: 'localhost:3000'\n  },\n  rev: {\n    dest: publicAssets + '/rev-manifest.json',\n    opts: {\n      base:  process.cwd() + '/' + publicAssets,\n      merge: true\n    }\n  }\n}\n```\n\n```/gulp/tasks/webpack.config.js\nvar path = require('path');\nvar webpack = require('webpack');\nvar config = require('./config');\n\nmodule.exports = {\n  devtool: 'source-map',\n  debug: true,\n  entry: {\n    application: './' + config.gulpAssets + '/javascripts/application'\n  },\n  output: {\n    filename:   '[name].js',\n    publicPath: config.javascript.dest\n  },\n  module: {\n    loaders: [\n      { test: /\\.vue$/,       loader: 'vue' },\n      { test: /\\.png$/,       loader: 'url?limit=8192' },\n      { test: /\\.css$/,       loader: \"style!css\" },\n      { test: /\\.scss$/,      loaders: [\"style\", \"css\", \"scss\"] },\n      { test: /\\.(otf|eot|svg|ttf|woff|woff2)(\\?.+)?$/, loader: 'url' }\n    ]\n  }\n};\n```\n\n## compile\n\u3053\u308c\u3067 gulp \u3092\u5b9f\u884c\u3059\u308b\u3068 scss \u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u3068 webpack \u304c\u52d5\u3044\u3066 public/assets \u914d\u4e0b\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n```\npublic/assets/\n\u251c\u2500\u2500 javascripts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 application.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 application.js.map\n\u2514\u2500\u2500 stylesheets\n    \u2514\u2500\u2500 application.css\n```\n\n# rails \u5468\u308a\n\u3042\u3068\u306f\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3048\u3070\u52d5\u304f\u306f\u305a\u3067\u3059\n\nlayout/application \u3067\u751f\u6210\u3055\u308c\u305f js \u3068 css \u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\n\n```/app/views/layouts/application.html.slim\ndoctype html\nhtml\n  head\n    title TestApplication\n    script src='/assets/javascripts/application.js'\n    link rel='stylesheet' type='text/css' href='/assets/stylesheets/application.css'\n  body\n    = yield\n```\n\n\u3053\u3053\u304c js \u3092\u547c\u3076 tpl \u3067\u3059\u3002\n\u6c7a\u307e\u308a\u6587\u53e5\u3068\u3057\u3066 vue \u3068 dom \u3092\u95a2\u9023\u4ed8\u3051\u308b\u3068\u3053\u308d\u3060\u3051\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\n\n```/app/views/leads/index.html.slim\n= render partial: \"/layouts/menu\"\ndiv#app.container-fluid\n  div.row\n    div.col-lg-3\n      p.display-5 \u30d5\u30a3\u30eb\u30bf\n      | <filter-form :form_values=form_values></filter-form>\n    div.col-lg-9\n      ...\n\njavascript:\n  new LeadsIndexView({el: '#app'})\n```\n\n# \u5b9f\u884c\u753b\u9762\n\n`<filter-form>` \u306e\u3068\u3053\u308d\u304c\u3061\u3083\u3093\u3068\u8aad\u307f\u8fbc\u307e\u308c\u3066\u30dc\u30bf\u30f3\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\n\n![5825adc72cee18086fcdbb81bca4ed02.png](https://qiita-image-store.s3.amazonaws.com/0/46605/35c8abc2-3652-1777-18f6-d438de828d44.png)\n\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u89aa\u306e vue instance \u304b\u3089\u3001\u5b50\u4f9b\u306e component \u306b\u30c7\u30fc\u30bf\u304c\u6e21\u3055\u308c\u3066\u63cf\u753b\u3055\u308c\u3066\u307e\u3059\u3002\n\n![b8cb34597ef4f2af627133e3072feb52.png](https://qiita-image-store.s3.amazonaws.com/0/46605/ba6c6a97-8d87-0632-d2aa-e7869ecb400e.png)\n\n# \u7d42\u308f\u308a\u306b\n\u4eca\u56de\u306f rails \u4e0a\u3067 vue.js \u3092\u958b\u767a\u30fb\u5b9f\u884c\u51fa\u6765\u308b\u74b0\u5883\u3092\u7528\u610f\u3059\u308b\u65b9\u6cd5\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n\n`views/*.js` \u3092 tpl \u306b\u7f6e\u3044\u305f\u307b\u3046\u304c\u826f\u3044\u306e\u304b\u3002\u5206\u96e2\u3059\u3079\u304d\u306a\u306e\u304b\u3002\u307f\u305f\u3044\u306a\u306e\u3068\u304b\u3001\n\n\u305d\u3082\u305d\u3082\u8ad6\u307f\u305f\u3044\u306a\u3068\u3053\u308d\u3068\u304b\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u958b\u767a\u3057\u6613\u3044\u74b0\u5883\u3092\u6a21\u7d22\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["Rails", "vue.js", "gulp", "webpack"]}