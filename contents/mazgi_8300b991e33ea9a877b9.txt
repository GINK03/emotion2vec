{"tags": ["Gentoo", "Linux", "openssl1", "OpenSSH", "bind"], "context": " More than 1 year has passed since last update.Gentoo Linux\u3067DNS\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3066\u305f\u3068\u304d\u3001 bind \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b openssl \u306e bindist USE\u30d5\u30e9\u30b0\u3042\u305f\u308a\u3067\u30cf\u30de\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\u7d50\u679c\u3068\u3057\u3066\u306f\u3001 openssl \u3068 openssh \u306eUSE\u30d5\u30e9\u30b0\u3092 -bindist \u6307\u5b9a\u3057\u3066\u30ea\u30d3\u30eb\u30c9\u3059\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\u3002\n\nBIND\u5165\u308c\u3088\u3046\u3068\u3059\u308b\u3068\u3001 berkdb \u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u306f dlz \u3082\u5fc5\u8981\u3068\u8a00\u308f\u308c\u308b\u3002\nlocalhost ~ # emerge -uav bind\n\nThese are the packages that would be merged, in order:\n\nCalculating dependencies |\n\n!!! Problem resolving dependencies for net-dns/bind\n... done!\n\n!!! The ebuild selected to satisfy \"bind\" has unmet requirements.\n- net-dns/bind-9.9.4_p2::gentoo USE=\"berkdb ipv6 ssl -caps -dlz -doc -filter-aaaa -fixed-rrset -geoip -gost -gssapi -idn -ldap -mysql -odbc -postgres -python -rpz -rrl -sdb-ldap (-selinux) -static-libs -threads -urandom -xml\"\n\n  The following REQUIRED_USE flag constraints are unsatisfied:\n    berkdb? ( dlz )\n\n  The above constraints are a subset of the following complete expression:\n    postgres? ( dlz ) berkdb? ( dlz ) mysql? ( dlz !threads ) odbc? ( dlz ) ldap? ( dlz ) sdb-ldap? ( dlz ) gost? ( ssl ) threads? ( caps )\n\n\n\u306a\u306e\u3067 dlz \u3082\u6307\u5b9a\u3059\u308b\u3002\nlocalhost ~ # flaggie +dlz bind\nAt argv[1]='+dlz': dlz seems to be an incorrect global flag\n\n\u305d\u3046\u3059\u308b\u3068\u4eca\u5ea6\u306f openssl \u306e bindist \u3092\u5916\u3059\u3088\u3046\u306b\u8a00\u308f\u308c\u308b\u3002\nlocalhost ~ # emerge -uav bind\n\nThese are the packages that would be merged, in order:\n\nCalculating dependencies... done!\n[ebuild   R    ] dev-libs/openssl-1.0.1e-r1  USE=\"(sse2) tls-heartbeat zlib -bindist* -gmp -kerberos -rfc3779 -static-libs {-test} -vanilla\" 4,360 kB\n[ebuild  N     ] net-dns/bind-9.9.4_p2  USE=\"berkdb dlz ipv6 ssl -caps -doc -filter-aaaa -fixed-rrset -geoip -gost -gssapi -idn -ldap -mysql -odbc -postgres -python -rpz -rrl -sdb-ldap (-selinux) -static-libs -threads -urandom -xml\" 7,337 kB\n\nTotal: 2 packages (1 new, 1 reinstall), Size of downloads: 11,697 kB\n\nThe following USE changes are necessary to proceed:\n (see \"package.use\" in the portage(5) man page for more details)\n# required by net-dns/bind-9.9.4_p2[ssl]\n# required by bind (argument)\n=dev-libs/openssl-1.0.1e-r1 -bindist\n\nUse --autounmask-write to write changes to config files (honoring\nCONFIG_PROTECT). Carefully examine the list of proposed changes,\npaying special attention to mask or keyword changes that may expose\nexperimental or unstable packages.\n\n\u306a\u306e\u3067 openssl \u304b\u3089 bindist \u3092\u5916\u3057\u3066\u307f\u308b\u3068\u3001\u4eca\u5f8c\u306f openssl-0.9.8y \u307e\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u843d\u3068\u3055\u308c\u3066 bind \u306e\u30d3\u30eb\u30c9\u304c\u30b3\u30b1\u308b\u3002\u3002\nlocalhost ~ # flaggie -bindist openssl\nlocalhost ~ # emerge -uavq bind\n[ebuild  NS   ] dev-libs/openssl-0.9.8y [1.0.1e-r1] USE=\"(sse2) zlib -bindist -gmp -kerberos {-test}\" \n[ebuild  N    ] net-dns/bind-9.9.4_p2  USE=\"berkdb dlz ipv6 ssl -caps -doc -filter-aaaa -fixed-rrset -geoip -gost -gssapi -idn -ldap -mysql -odbc -postgres -python -rpz -rrl -sdb-ldap (-selinux) -static-libs -threads -urandom -xml\" \n\nWould you like to merge these packages? [Yes/No] \n>>> Verifying ebuild manifests\n>>> Emerging (1 of 2) dev-libs/openssl-0.9.8y\n>>> Installing (1 of 2) dev-libs/openssl-0.9.8y\n>>> Emerging (2 of 2) net-dns/bind-9.9.4_p2\n>>> Failed to emerge net-dns/bind-9.9.4_p2, Log file:\n>>>  '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/build.log'\n>>> Jobs: 1 of 2 complete, 1 failed                 Load avg: 1.30, 0.68, 0.46\n * Package:    net-dns/bind-9.9.4_p2\n * Repository: gentoo\n * Maintainer: idl0r@gentoo.org\n * USE:        amd64 berkdb dlz elibc_glibc ipv6 kernel_linux ssl userland_GNU\n * FEATURES:   preserve-libs sandbox userpriv usersandbox\n * Creating named group and user ...\n * Adding group 'named' to your system ...\n *  - Groupid: 40\n * Adding user 'named' to your system ...\n *  - Userid: 40\n *  - Shell: /sbin/nologin\n *  - Home: /etc/bind\n *  - Groups: named\n *  - GECOS: added by portage for bind\n *  - Creating /etc/bind in /\n [ ok ]\n * Running eautoreconf in '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2' ...\n * Running libtoolize --install --copy --force ...\n [ ok ]\n * Running aclocal ...\n [ ok ]\n * Running autoconf ...\n [ ok ]\n * Running autoheader ...\n [ ok ]\n * Running elibtoolize in: bind-9.9.4-P2/\n *   Applying portage/1.2.0 patch ...\n *   Applying sed/1.5.6 patch ...\n *   Applying as-needed/2.4.2 patch ...\n *   Applying target-nm/2.4.2 patch ...\n * Running elibtoolize in: bind-9.9.4-P2/contrib/idn/idnkit-1.0-src/\n *   Applying install-sh/1.5 patch ...\n *   Applying portage/1.3.3 patch ...\n *   Applying sed/1.5.6 patch ...\n *   Applying tmp/1.3.5 patch ...\n *   Applying uclibc-ltconf/1.3.0 patch ...\n * Running elibtoolize in: bind-9.9.4-P2/contrib/nslint-2.1a3/\n * Running elibtoolize in: bind-9.9.4-P2/contrib/query-loc-0.4.0/\n * Running elibtoolize in: bind-9.9.4-P2/contrib/queryperf/\n * Running elibtoolize in: bind-9.9.4-P2/contrib/zkt/\n * Running elibtoolize in: bind-9.9.4-P2/unit/atf-src/\n *   Applying target-nm/2.4.2 patch ...\n * Running elibtoolize in: bind-9.9.4-P2/unit/atf-src/admin/\n *   Applying portage/2.2 patch ...\n *   Applying sed/1.5.6 patch ...\n *   Applying as-needed/2.2.6 patch ...\ninclude version 4.8\nchecking build system type... x86_64-pc-linux-gnu\nchecking host system type... x86_64-pc-linux-gnu\nchecking whether make sets $(MAKE)... yes\nchecking how to print strings... printf\nchecking for x86_64-pc-linux-gnu-gcc... x86_64-pc-linux-gnu-gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether x86_64-pc-linux-gnu-gcc accepts -g... yes\nchecking for x86_64-pc-linux-gnu-gcc option to accept ISO C89... none needed\nchecking for a sed that does not truncate output... /bin/sed\nchecking for grep that handles long lines and -e... /bin/grep\nchecking for egrep... /bin/grep -E\nchecking for fgrep... /bin/grep -F\nchecking for ld used by x86_64-pc-linux-gnu-gcc... /usr/x86_64-pc-linux-gnu/bin/ld\nchecking if the linker (/usr/x86_64-pc-linux-gnu/bin/ld) is GNU ld... yes\nchecking for BSD- or MS-compatible name lister (nm)... /usr/bin/x86_64-pc-linux-gnu-nm -B\nchecking the name lister (/usr/bin/x86_64-pc-linux-gnu-nm -B) interface... BSD nm\nchecking whether ln -s works... yes\nchecking the maximum length of command line arguments... 1572864\nchecking whether the shell understands some XSI constructs... yes\nchecking whether the shell understands \"+=\"... yes\nchecking how to convert x86_64-pc-linux-gnu file names to x86_64-pc-linux-gnu format... func_convert_file_noop\nchecking how to convert x86_64-pc-linux-gnu file names to toolchain format... func_convert_file_noop\nchecking for /usr/x86_64-pc-linux-gnu/bin/ld option to reload object files... -r\nchecking for x86_64-pc-linux-gnu-objdump... x86_64-pc-linux-gnu-objdump\nchecking how to recognize dependent libraries... pass_all\nchecking for x86_64-pc-linux-gnu-dlltool... no\nchecking for dlltool... no\nchecking how to associate runtime and link libraries... printf %s\\n\nchecking for x86_64-pc-linux-gnu-ar... x86_64-pc-linux-gnu-ar\nchecking for archiver @FILE support... @\nchecking for x86_64-pc-linux-gnu-strip... x86_64-pc-linux-gnu-strip\nchecking for x86_64-pc-linux-gnu-ranlib... x86_64-pc-linux-gnu-ranlib\nchecking for gawk... gawk\nchecking command to parse /usr/bin/x86_64-pc-linux-gnu-nm -B output from x86_64-pc-linux-gnu-gcc object... ok\nchecking for sysroot... no\nchecking for x86_64-pc-linux-gnu-mt... no\nchecking for mt... no\nchecking if : is a manifest tool... no\nchecking how to run the C preprocessor... x86_64-pc-linux-gnu-gcc -E\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking for dlfcn.h... yes\nchecking for objdir... .libs\nchecking if x86_64-pc-linux-gnu-gcc supports -fno-rtti -fno-exceptions... no\nchecking for x86_64-pc-linux-gnu-gcc option to produce PIC... -fPIC -DPIC\nchecking if x86_64-pc-linux-gnu-gcc PIC flag -fPIC -DPIC works... yes\nchecking if x86_64-pc-linux-gnu-gcc static flag -static works... yes\nchecking if x86_64-pc-linux-gnu-gcc supports -c -o file.o... yes\nchecking if x86_64-pc-linux-gnu-gcc supports -c -o file.o... (cached) yes\nchecking whether the x86_64-pc-linux-gnu-gcc linker (/usr/x86_64-pc-linux-gnu/bin/ld -m elf_x86_64) supports shared libraries... yes\nchecking whether -lc should be explicitly linked in... no\nchecking dynamic linker characteristics... GNU/Linux ld.so\nchecking how to hardcode library paths into programs... immediate\nchecking whether stripping libraries is possible... yes\nchecking if libtool supports shared libraries... yes\nchecking whether to build shared libraries... yes\nchecking whether to build static libraries... yes\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether ln -s works... yes\nchecking for ar... /usr/bin/ar\nchecking for etags... no\nchecking for emacs-etags... no\nchecking for perl5... no\nchecking for perl... /usr/bin/perl\ndisabled\nchecking for x86_64-pc-linux-gnu-gcc... (cached) x86_64-pc-linux-gnu-gcc\nchecking whether we are using the GNU C compiler... (cached) yes\nchecking whether x86_64-pc-linux-gnu-gcc accepts -g... (cached) yes\nchecking for x86_64-pc-linux-gnu-gcc option to accept ISO C89... (cached) none needed\nchecking for ANSI C header files... (cached) yes\nchecking for fcntl.h... yes\nchecking for regex.h... yes\nchecking for sys/time.h... yes\nchecking for unistd.h... (cached) yes\nchecking for sys/sockio.h... no\nchecking for sys/select.h... yes\nchecking for sys/param.h... yes\nchecking for sys/sysctl.h... yes\nchecking for net/if6.h... no\nchecking for an ANSI C-conforming const... yes\nchecking for inline... inline\nchecking for working volatile... yes\nchecking for sysctlbyname... no\nchecking for flexible array members... yes\nchecking for seteuid... yes\nchecking for setresuid... yes\nchecking for setegid... yes\nchecking for setresgid... yes\nchecking for static inline breakage... no\nchecking for size_t... yes\nchecking for ssize_t... yes\nchecking for uintptr_t... yes\nchecking for socklen_t... yes\nchecking whether time.h and sys/time.h may both be included... yes\nchecking for long long... yes\nchecking for GCC noreturn attribute... yes\nchecking for struct lifconf... no\nchecking for kqueue... no\nchecking epoll support... yes\nchecking sys/devpoll.h usability... no\nchecking sys/devpoll.h presence... no\nchecking for sys/devpoll.h... no\nchecking devpoll.h usability... no\nchecking devpoll.h presence... no\nchecking for devpoll.h... no\nchecking if unistd.h or sys/types.h defines fd_set... yes\nchecking whether byte ordering is bigendian... no\nchecking for OpenSSL library... using OpenSSL from /usr/lib and /usr/include\nchecking whether linking with OpenSSL works... yes\nchecking whether linking with OpenSSL requires -ldl... no\nchecking OpenSSL library version... ok\nchecking for OpenSSL DSA support... yes\nchecking for EVP_sha256... yes\nchecking for EVP_sha384... yes\nchecking for EVP_sha512... yes\nchecking for OpenSSL ECDSA support... no\nconfigure: error: ecdsa not supported\n\n!!! Please attach the following file when seeking support:\n!!! /var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2/config.log\n * ERROR: net-dns/bind-9.9.4_p2::gentoo failed (configure phase):\n *   econf failed\n * \n * Call stack:\n *          ebuild.sh, line   93:  Called src_configure\n *        environment, line 6365:  Called econf '--sysconfdir=/etc/bind' '--localstatedir=/var' '--with-libtool' '--enable-full-report' '--disable-threads' '--with-dlopen' '--with-dlz-filesystem' '--with-dlz-stub' '--without-dlz-postgres' '--without-dlz-mysql' '--with-dlz-bdb' '--without-dlz-ldap' '--without-dlz-odbc' '--with-openssl=/usr' '--with-ecdsa' '--without-idn' '--enable-ipv6' '--without-libxml2' '--disable-newst\nats' '--without-gssapi' '--disable-rpz-nsip' '--disable-rpz-nsdname' '--disable-linux-caps' '--without-gost' '--disable-filter-aaaa' '--disable-fixed-rrset' '--disable-rrl' '--without-python' '--without-readline' '--with-randomdev=/dev/random'\n *   phase-helpers.sh, line  577:  Called die\n * The specific snippet of code:\n *                      die \"econf failed\"\n * \n * If you need support, post the output of `emerge --info '=net-dns/bind-9.9.4_p2::gentoo'`,\n * the complete build log and the output of `emerge -pqv '=net-dns/bind-9.9.4_p2::gentoo'`.\n * The complete build log is located at '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/build.log'.\n * The ebuild environment file is located at '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/environment'.\n * Working directory: '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2'\n * S: '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2'\n\n * Messages for package dev-libs/openssl-0.9.8y:\n\n * Removing lib{crypto,ssl}.so.0.9.8 to avoid collision with openssl-1\n\n * Messages for package net-dns/bind-9.9.4_p2:\n\n * ERROR: net-dns/bind-9.9.4_p2::gentoo failed (configure phase):\n *   econf failed\n * \n * Call stack:\n *          ebuild.sh, line   93:  Called src_configure\n *        environment, line 6365:  Called econf '--sysconfdir=/etc/bind' '--localstatedir=/var' '--with-libtool' '--enable-full-report' '--disable-threads' '--with-dlopen' '--with-dlz-filesystem' '--with-dlz-stub' '--without-dlz-postgres' '--without-dlz-mysql' '--with-dlz-bdb' '--without-dlz-ldap' '--without-dlz-odbc' '--with-openssl=/usr' '--with-ecdsa' '--without-idn' '--enable-ipv6' '--without-libxml2' '--disable-newst\nats' '--without-gssapi' '--disable-rpz-nsip' '--disable-rpz-nsdname' '--disable-linux-caps' '--without-gost' '--disable-filter-aaaa' '--disable-fixed-rrset' '--disable-rrl' '--without-python' '--without-readline' '--with-randomdev=/dev/random'\n *   phase-helpers.sh, line  577:  Called die\n * The specific snippet of code:\n *                      die \"econf failed\"\n * \n * If you need support, post the output of `emerge --info '=net-dns/bind-9.9.4_p2::gentoo'`,\n * the complete build log and the output of `emerge -pqv '=net-dns/bind-9.9.4_p2::gentoo'`.\n * The complete build log is located at '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/build.log'.\n * The ebuild environment file is located at '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/environment'.\n * Working directory: '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2'\n * S: '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2'\n\n\u306a\u3089 openssl \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u3066\uff01\u2026\u3068\u601d\u3063\u305f\u3089\u4eca\u5ea6\u306f\u300c openssl \u306e bindist \u6307\u5b9a\u306f openssh \u3068\u5408\u308f\u305b\u3066\u306d\uff01\u300d\u3068\u8a00\u308f\u308c(\u3066\u308b\u6c17\u304c\u3059)\u308b\u3002\nlocalhost ~ # emerge -avq =dev-libs/openssl-1.0.1e-r1\n[ebuild   R   ] dev-libs/openssl-1.0.1e-r1  USE=\"(sse2) tls-heartbeat zlib -bindist* -gmp -kerberos -rfc3779 -static-libs {-test} -vanilla\" \n\n!!! Multiple package instances within a single package slot have been pulled\n!!! into the dependency graph, resulting in a slot conflict:\n\ndev-libs/openssl:0\n\n  (dev-libs/openssl-1.0.1e-r1::gentoo, installed) pulled in by\n    >=dev-libs/openssl-0.9.6d:0[bindist=] required by (net-misc/openssh-6.4_p1-r1::gentoo, installed)\n\n  (dev-libs/openssl-1.0.1e-r1::gentoo, ebuild scheduled for merge) pulled in by\n    (no parents that aren't satisfied by other packages in this slot)\n\n\n!!! Enabling --newuse and --update might solve this conflict.\n!!! If not, it might help emerge to give a more specific suggestion.\n\n\u3088\u3057\u3001\u306a\u3089\u3070 openssh \u3082 bindist \u5916\u305d\u3046\u3002\nlocalhost ~ # flaggie -bindist openssh\nlocalhost ~ # emerge -NDavq system\n[ebuild   R   ] dev-libs/openssl-1.0.1e-r1  USE=\"(sse2) tls-heartbeat zlib -bindist* -gmp -kerberos -rfc3779 -static-libs {-test} -vanilla\" \n[ebuild   R   ] net-misc/openssh-6.4_p1-r1  USE=\"hpn pam tcpd -X -X509 -bindist* -kerberos -ldap -ldns -libedit (-selinux) -skey -static\" \n\nWould you like to merge these packages? [Yes/No] \n>>> Verifying ebuild manifests\n>>> Emerging (1 of 2) dev-libs/openssl-1.0.1e-r1\n>>> Installing (1 of 2) dev-libs/openssl-1.0.1e-r1\n>>> Emerging (2 of 2) net-misc/openssh-6.4_p1-r1\n>>> Installing (2 of 2) net-misc/openssh-6.4_p1-r1\n>>> Jobs: 2 of 2 complete                           Load avg: 1.82, 1.26, 0.63\n\n * Messages for package net-misc/openssh-6.4_p1-r1:\n\n * Remember to merge your config files in /etc/ssh/ and then\n * reload sshd: '/etc/init.d/sshd reload'.\n\n\u3053\u308c\u3067\u3084\u3063\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\u3002\nlocalhost ~ # emerge -uavq bind\n[ebuild  N    ] net-dns/bind-9.9.4_p2  USE=\"berkdb dlz ipv6 ssl -caps -doc -filter-aaaa -fixed-rrset -geoip -gost -gssapi -idn -ldap -mysql -odbc -postgres -python -rpz -rrl -sdb-ldap (-selinux) -static-libs -threads -urandom -xml\" \n\nWould you like to merge these packages? [Yes/No] \n>>> Verifying ebuild manifests\n>>> Emerging (1 of 1) net-dns/bind-9.9.4_p2\n>>> Installing (1 of 1) net-dns/bind-9.9.4_p2\n>>> Recording net-dns/bind in \"world\" favorites file...\n>>> Jobs: 1 of 1 complete                           Load avg: 1.63, 1.35, 0.85\n\n * Messages for package net-dns/bind-9.9.4_p2:\n\n * \n * NOTE: /var/bind/named.ca has been renamed to /var/bind/named.cache\n * you may need to fix your named.conf!\n * \n * NOTE: If you upgrade from <net-dns/bind-9.4.3_p5-r1, you may encounter permission problems\n * To fix the permissions do:\n * chown root:named /{etc,var}/bind /var/{run,log}/named /var/bind/{sec,pri,dyn}\n * chown root:named /var/bind/named.cache /var/bind/pri/{127,localhost}.zone /etc/bind/{bind.keys,named.conf}\n * chmod 0640 /var/bind/named.cache /var/bind/pri/{127,localhost}.zone /etc/bind/{bind.keys,named.conf}\n * chmod 0750 /etc/bind /var/bind/pri\n * chmod 0770 /var/{run,log}/named /var/bind/{,sec,dyn}\n * \n\nGentoo Linux\u3067DNS\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3066\u305f\u3068\u304d\u3001 `bind` \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b `openssl` \u306e `bindist` USE\u30d5\u30e9\u30b0\u3042\u305f\u308a\u3067\u30cf\u30de\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\u7d50\u679c\u3068\u3057\u3066\u306f\u3001 `openssl` \u3068 `openssh` \u306eUSE\u30d5\u30e9\u30b0\u3092 `-bindist` \u6307\u5b9a\u3057\u3066\u30ea\u30d3\u30eb\u30c9\u3059\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\u3002\n\n----\n\nBIND\u5165\u308c\u3088\u3046\u3068\u3059\u308b\u3068\u3001 `berkdb` \u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u306f `dlz` \u3082\u5fc5\u8981\u3068\u8a00\u308f\u308c\u308b\u3002\n\n```shell-session\nlocalhost ~ # emerge -uav bind\n\nThese are the packages that would be merged, in order:\n\nCalculating dependencies |\n\n!!! Problem resolving dependencies for net-dns/bind\n... done!\n\n!!! The ebuild selected to satisfy \"bind\" has unmet requirements.\n- net-dns/bind-9.9.4_p2::gentoo USE=\"berkdb ipv6 ssl -caps -dlz -doc -filter-aaaa -fixed-rrset -geoip -gost -gssapi -idn -ldap -mysql -odbc -postgres -python -rpz -rrl -sdb-ldap (-selinux) -static-libs -threads -urandom -xml\"\n\n  The following REQUIRED_USE flag constraints are unsatisfied:\n    berkdb? ( dlz )\n\n  The above constraints are a subset of the following complete expression:\n    postgres? ( dlz ) berkdb? ( dlz ) mysql? ( dlz !threads ) odbc? ( dlz ) ldap? ( dlz ) sdb-ldap? ( dlz ) gost? ( ssl ) threads? ( caps )\n\n```\n\n\u306a\u306e\u3067 `dlz` \u3082\u6307\u5b9a\u3059\u308b\u3002\n\n```shell-session\nlocalhost ~ # flaggie +dlz bind\nAt argv[1]='+dlz': dlz seems to be an incorrect global flag\n```\n\n\u305d\u3046\u3059\u308b\u3068\u4eca\u5ea6\u306f `openssl` \u306e `bindist` \u3092\u5916\u3059\u3088\u3046\u306b\u8a00\u308f\u308c\u308b\u3002\n\n```shell-session\nlocalhost ~ # emerge -uav bind\n\nThese are the packages that would be merged, in order:\n\nCalculating dependencies... done!\n[ebuild   R    ] dev-libs/openssl-1.0.1e-r1  USE=\"(sse2) tls-heartbeat zlib -bindist* -gmp -kerberos -rfc3779 -static-libs {-test} -vanilla\" 4,360 kB\n[ebuild  N     ] net-dns/bind-9.9.4_p2  USE=\"berkdb dlz ipv6 ssl -caps -doc -filter-aaaa -fixed-rrset -geoip -gost -gssapi -idn -ldap -mysql -odbc -postgres -python -rpz -rrl -sdb-ldap (-selinux) -static-libs -threads -urandom -xml\" 7,337 kB\n\nTotal: 2 packages (1 new, 1 reinstall), Size of downloads: 11,697 kB\n\nThe following USE changes are necessary to proceed:\n (see \"package.use\" in the portage(5) man page for more details)\n# required by net-dns/bind-9.9.4_p2[ssl]\n# required by bind (argument)\n=dev-libs/openssl-1.0.1e-r1 -bindist\n\nUse --autounmask-write to write changes to config files (honoring\nCONFIG_PROTECT). Carefully examine the list of proposed changes,\npaying special attention to mask or keyword changes that may expose\nexperimental or unstable packages.\n```\n\n\u306a\u306e\u3067 `openssl` \u304b\u3089 `bindist` \u3092\u5916\u3057\u3066\u307f\u308b\u3068\u3001\u4eca\u5f8c\u306f `openssl-0.9.8y` \u307e\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u843d\u3068\u3055\u308c\u3066 `bind` \u306e\u30d3\u30eb\u30c9\u304c\u30b3\u30b1\u308b\u3002\u3002\n\n```shell-session\nlocalhost ~ # flaggie -bindist openssl\nlocalhost ~ # emerge -uavq bind\n[ebuild  NS   ] dev-libs/openssl-0.9.8y [1.0.1e-r1] USE=\"(sse2) zlib -bindist -gmp -kerberos {-test}\" \n[ebuild  N    ] net-dns/bind-9.9.4_p2  USE=\"berkdb dlz ipv6 ssl -caps -doc -filter-aaaa -fixed-rrset -geoip -gost -gssapi -idn -ldap -mysql -odbc -postgres -python -rpz -rrl -sdb-ldap (-selinux) -static-libs -threads -urandom -xml\" \n\nWould you like to merge these packages? [Yes/No] \n>>> Verifying ebuild manifests\n>>> Emerging (1 of 2) dev-libs/openssl-0.9.8y\n>>> Installing (1 of 2) dev-libs/openssl-0.9.8y\n>>> Emerging (2 of 2) net-dns/bind-9.9.4_p2\n>>> Failed to emerge net-dns/bind-9.9.4_p2, Log file:\n>>>  '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/build.log'\n>>> Jobs: 1 of 2 complete, 1 failed                 Load avg: 1.30, 0.68, 0.46\n * Package:    net-dns/bind-9.9.4_p2\n * Repository: gentoo\n * Maintainer: idl0r@gentoo.org\n * USE:        amd64 berkdb dlz elibc_glibc ipv6 kernel_linux ssl userland_GNU\n * FEATURES:   preserve-libs sandbox userpriv usersandbox\n * Creating named group and user ...\n * Adding group 'named' to your system ...\n *  - Groupid: 40\n * Adding user 'named' to your system ...\n *  - Userid: 40\n *  - Shell: /sbin/nologin\n *  - Home: /etc/bind\n *  - Groups: named\n *  - GECOS: added by portage for bind\n *  - Creating /etc/bind in /\n [ ok ]\n * Running eautoreconf in '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2' ...\n * Running libtoolize --install --copy --force ...\n [ ok ]\n * Running aclocal ...\n [ ok ]\n * Running autoconf ...\n [ ok ]\n * Running autoheader ...\n [ ok ]\n * Running elibtoolize in: bind-9.9.4-P2/\n *   Applying portage/1.2.0 patch ...\n *   Applying sed/1.5.6 patch ...\n *   Applying as-needed/2.4.2 patch ...\n *   Applying target-nm/2.4.2 patch ...\n * Running elibtoolize in: bind-9.9.4-P2/contrib/idn/idnkit-1.0-src/\n *   Applying install-sh/1.5 patch ...\n *   Applying portage/1.3.3 patch ...\n *   Applying sed/1.5.6 patch ...\n *   Applying tmp/1.3.5 patch ...\n *   Applying uclibc-ltconf/1.3.0 patch ...\n * Running elibtoolize in: bind-9.9.4-P2/contrib/nslint-2.1a3/\n * Running elibtoolize in: bind-9.9.4-P2/contrib/query-loc-0.4.0/\n * Running elibtoolize in: bind-9.9.4-P2/contrib/queryperf/\n * Running elibtoolize in: bind-9.9.4-P2/contrib/zkt/\n * Running elibtoolize in: bind-9.9.4-P2/unit/atf-src/\n *   Applying target-nm/2.4.2 patch ...\n * Running elibtoolize in: bind-9.9.4-P2/unit/atf-src/admin/\n *   Applying portage/2.2 patch ...\n *   Applying sed/1.5.6 patch ...\n *   Applying as-needed/2.2.6 patch ...\ninclude version 4.8\nchecking build system type... x86_64-pc-linux-gnu\nchecking host system type... x86_64-pc-linux-gnu\nchecking whether make sets $(MAKE)... yes\nchecking how to print strings... printf\nchecking for x86_64-pc-linux-gnu-gcc... x86_64-pc-linux-gnu-gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether x86_64-pc-linux-gnu-gcc accepts -g... yes\nchecking for x86_64-pc-linux-gnu-gcc option to accept ISO C89... none needed\nchecking for a sed that does not truncate output... /bin/sed\nchecking for grep that handles long lines and -e... /bin/grep\nchecking for egrep... /bin/grep -E\nchecking for fgrep... /bin/grep -F\nchecking for ld used by x86_64-pc-linux-gnu-gcc... /usr/x86_64-pc-linux-gnu/bin/ld\nchecking if the linker (/usr/x86_64-pc-linux-gnu/bin/ld) is GNU ld... yes\nchecking for BSD- or MS-compatible name lister (nm)... /usr/bin/x86_64-pc-linux-gnu-nm -B\nchecking the name lister (/usr/bin/x86_64-pc-linux-gnu-nm -B) interface... BSD nm\nchecking whether ln -s works... yes\nchecking the maximum length of command line arguments... 1572864\nchecking whether the shell understands some XSI constructs... yes\nchecking whether the shell understands \"+=\"... yes\nchecking how to convert x86_64-pc-linux-gnu file names to x86_64-pc-linux-gnu format... func_convert_file_noop\nchecking how to convert x86_64-pc-linux-gnu file names to toolchain format... func_convert_file_noop\nchecking for /usr/x86_64-pc-linux-gnu/bin/ld option to reload object files... -r\nchecking for x86_64-pc-linux-gnu-objdump... x86_64-pc-linux-gnu-objdump\nchecking how to recognize dependent libraries... pass_all\nchecking for x86_64-pc-linux-gnu-dlltool... no\nchecking for dlltool... no\nchecking how to associate runtime and link libraries... printf %s\\n\nchecking for x86_64-pc-linux-gnu-ar... x86_64-pc-linux-gnu-ar\nchecking for archiver @FILE support... @\nchecking for x86_64-pc-linux-gnu-strip... x86_64-pc-linux-gnu-strip\nchecking for x86_64-pc-linux-gnu-ranlib... x86_64-pc-linux-gnu-ranlib\nchecking for gawk... gawk\nchecking command to parse /usr/bin/x86_64-pc-linux-gnu-nm -B output from x86_64-pc-linux-gnu-gcc object... ok\nchecking for sysroot... no\nchecking for x86_64-pc-linux-gnu-mt... no\nchecking for mt... no\nchecking if : is a manifest tool... no\nchecking how to run the C preprocessor... x86_64-pc-linux-gnu-gcc -E\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking for dlfcn.h... yes\nchecking for objdir... .libs\nchecking if x86_64-pc-linux-gnu-gcc supports -fno-rtti -fno-exceptions... no\nchecking for x86_64-pc-linux-gnu-gcc option to produce PIC... -fPIC -DPIC\nchecking if x86_64-pc-linux-gnu-gcc PIC flag -fPIC -DPIC works... yes\nchecking if x86_64-pc-linux-gnu-gcc static flag -static works... yes\nchecking if x86_64-pc-linux-gnu-gcc supports -c -o file.o... yes\nchecking if x86_64-pc-linux-gnu-gcc supports -c -o file.o... (cached) yes\nchecking whether the x86_64-pc-linux-gnu-gcc linker (/usr/x86_64-pc-linux-gnu/bin/ld -m elf_x86_64) supports shared libraries... yes\nchecking whether -lc should be explicitly linked in... no\nchecking dynamic linker characteristics... GNU/Linux ld.so\nchecking how to hardcode library paths into programs... immediate\nchecking whether stripping libraries is possible... yes\nchecking if libtool supports shared libraries... yes\nchecking whether to build shared libraries... yes\nchecking whether to build static libraries... yes\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether ln -s works... yes\nchecking for ar... /usr/bin/ar\nchecking for etags... no\nchecking for emacs-etags... no\nchecking for perl5... no\nchecking for perl... /usr/bin/perl\ndisabled\nchecking for x86_64-pc-linux-gnu-gcc... (cached) x86_64-pc-linux-gnu-gcc\nchecking whether we are using the GNU C compiler... (cached) yes\nchecking whether x86_64-pc-linux-gnu-gcc accepts -g... (cached) yes\nchecking for x86_64-pc-linux-gnu-gcc option to accept ISO C89... (cached) none needed\nchecking for ANSI C header files... (cached) yes\nchecking for fcntl.h... yes\nchecking for regex.h... yes\nchecking for sys/time.h... yes\nchecking for unistd.h... (cached) yes\nchecking for sys/sockio.h... no\nchecking for sys/select.h... yes\nchecking for sys/param.h... yes\nchecking for sys/sysctl.h... yes\nchecking for net/if6.h... no\nchecking for an ANSI C-conforming const... yes\nchecking for inline... inline\nchecking for working volatile... yes\nchecking for sysctlbyname... no\nchecking for flexible array members... yes\nchecking for seteuid... yes\nchecking for setresuid... yes\nchecking for setegid... yes\nchecking for setresgid... yes\nchecking for static inline breakage... no\nchecking for size_t... yes\nchecking for ssize_t... yes\nchecking for uintptr_t... yes\nchecking for socklen_t... yes\nchecking whether time.h and sys/time.h may both be included... yes\nchecking for long long... yes\nchecking for GCC noreturn attribute... yes\nchecking for struct lifconf... no\nchecking for kqueue... no\nchecking epoll support... yes\nchecking sys/devpoll.h usability... no\nchecking sys/devpoll.h presence... no\nchecking for sys/devpoll.h... no\nchecking devpoll.h usability... no\nchecking devpoll.h presence... no\nchecking for devpoll.h... no\nchecking if unistd.h or sys/types.h defines fd_set... yes\nchecking whether byte ordering is bigendian... no\nchecking for OpenSSL library... using OpenSSL from /usr/lib and /usr/include\nchecking whether linking with OpenSSL works... yes\nchecking whether linking with OpenSSL requires -ldl... no\nchecking OpenSSL library version... ok\nchecking for OpenSSL DSA support... yes\nchecking for EVP_sha256... yes\nchecking for EVP_sha384... yes\nchecking for EVP_sha512... yes\nchecking for OpenSSL ECDSA support... no\nconfigure: error: ecdsa not supported\n\n!!! Please attach the following file when seeking support:\n!!! /var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2/config.log\n * ERROR: net-dns/bind-9.9.4_p2::gentoo failed (configure phase):\n *   econf failed\n * \n * Call stack:\n *          ebuild.sh, line   93:  Called src_configure\n *        environment, line 6365:  Called econf '--sysconfdir=/etc/bind' '--localstatedir=/var' '--with-libtool' '--enable-full-report' '--disable-threads' '--with-dlopen' '--with-dlz-filesystem' '--with-dlz-stub' '--without-dlz-postgres' '--without-dlz-mysql' '--with-dlz-bdb' '--without-dlz-ldap' '--without-dlz-odbc' '--with-openssl=/usr' '--with-ecdsa' '--without-idn' '--enable-ipv6' '--without-libxml2' '--disable-newst\nats' '--without-gssapi' '--disable-rpz-nsip' '--disable-rpz-nsdname' '--disable-linux-caps' '--without-gost' '--disable-filter-aaaa' '--disable-fixed-rrset' '--disable-rrl' '--without-python' '--without-readline' '--with-randomdev=/dev/random'\n *   phase-helpers.sh, line  577:  Called die\n * The specific snippet of code:\n *                      die \"econf failed\"\n * \n * If you need support, post the output of `emerge --info '=net-dns/bind-9.9.4_p2::gentoo'`,\n * the complete build log and the output of `emerge -pqv '=net-dns/bind-9.9.4_p2::gentoo'`.\n * The complete build log is located at '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/build.log'.\n * The ebuild environment file is located at '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/environment'.\n * Working directory: '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2'\n * S: '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2'\n\n * Messages for package dev-libs/openssl-0.9.8y:\n\n * Removing lib{crypto,ssl}.so.0.9.8 to avoid collision with openssl-1\n\n * Messages for package net-dns/bind-9.9.4_p2:\n\n * ERROR: net-dns/bind-9.9.4_p2::gentoo failed (configure phase):\n *   econf failed\n * \n * Call stack:\n *          ebuild.sh, line   93:  Called src_configure\n *        environment, line 6365:  Called econf '--sysconfdir=/etc/bind' '--localstatedir=/var' '--with-libtool' '--enable-full-report' '--disable-threads' '--with-dlopen' '--with-dlz-filesystem' '--with-dlz-stub' '--without-dlz-postgres' '--without-dlz-mysql' '--with-dlz-bdb' '--without-dlz-ldap' '--without-dlz-odbc' '--with-openssl=/usr' '--with-ecdsa' '--without-idn' '--enable-ipv6' '--without-libxml2' '--disable-newst\nats' '--without-gssapi' '--disable-rpz-nsip' '--disable-rpz-nsdname' '--disable-linux-caps' '--without-gost' '--disable-filter-aaaa' '--disable-fixed-rrset' '--disable-rrl' '--without-python' '--without-readline' '--with-randomdev=/dev/random'\n *   phase-helpers.sh, line  577:  Called die\n * The specific snippet of code:\n *                      die \"econf failed\"\n * \n * If you need support, post the output of `emerge --info '=net-dns/bind-9.9.4_p2::gentoo'`,\n * the complete build log and the output of `emerge -pqv '=net-dns/bind-9.9.4_p2::gentoo'`.\n * The complete build log is located at '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/build.log'.\n * The ebuild environment file is located at '/var/tmp/portage/net-dns/bind-9.9.4_p2/temp/environment'.\n * Working directory: '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2'\n * S: '/var/tmp/portage/net-dns/bind-9.9.4_p2/work/bind-9.9.4-P2'\n```\n\n\u306a\u3089 `openssl` \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u3066\uff01\u2026\u3068\u601d\u3063\u305f\u3089\u4eca\u5ea6\u306f\u300c `openssl` \u306e `bindist` \u6307\u5b9a\u306f `openssh` \u3068\u5408\u308f\u305b\u3066\u306d\uff01\u300d\u3068\u8a00\u308f\u308c(\u3066\u308b\u6c17\u304c\u3059)\u308b\u3002\n\n```shell-session\nlocalhost ~ # emerge -avq =dev-libs/openssl-1.0.1e-r1\n[ebuild   R   ] dev-libs/openssl-1.0.1e-r1  USE=\"(sse2) tls-heartbeat zlib -bindist* -gmp -kerberos -rfc3779 -static-libs {-test} -vanilla\" \n\n!!! Multiple package instances within a single package slot have been pulled\n!!! into the dependency graph, resulting in a slot conflict:\n\ndev-libs/openssl:0\n\n  (dev-libs/openssl-1.0.1e-r1::gentoo, installed) pulled in by\n    >=dev-libs/openssl-0.9.6d:0[bindist=] required by (net-misc/openssh-6.4_p1-r1::gentoo, installed)\n\n  (dev-libs/openssl-1.0.1e-r1::gentoo, ebuild scheduled for merge) pulled in by\n    (no parents that aren't satisfied by other packages in this slot)\n\n\n!!! Enabling --newuse and --update might solve this conflict.\n!!! If not, it might help emerge to give a more specific suggestion.\n```\n\n\u3088\u3057\u3001\u306a\u3089\u3070 `openssh` \u3082 `bindist` \u5916\u305d\u3046\u3002\n\n```shell-session\nlocalhost ~ # flaggie -bindist openssh\nlocalhost ~ # emerge -NDavq system\n[ebuild   R   ] dev-libs/openssl-1.0.1e-r1  USE=\"(sse2) tls-heartbeat zlib -bindist* -gmp -kerberos -rfc3779 -static-libs {-test} -vanilla\" \n[ebuild   R   ] net-misc/openssh-6.4_p1-r1  USE=\"hpn pam tcpd -X -X509 -bindist* -kerberos -ldap -ldns -libedit (-selinux) -skey -static\" \n\nWould you like to merge these packages? [Yes/No] \n>>> Verifying ebuild manifests\n>>> Emerging (1 of 2) dev-libs/openssl-1.0.1e-r1\n>>> Installing (1 of 2) dev-libs/openssl-1.0.1e-r1\n>>> Emerging (2 of 2) net-misc/openssh-6.4_p1-r1\n>>> Installing (2 of 2) net-misc/openssh-6.4_p1-r1\n>>> Jobs: 2 of 2 complete                           Load avg: 1.82, 1.26, 0.63\n\n * Messages for package net-misc/openssh-6.4_p1-r1:\n\n * Remember to merge your config files in /etc/ssh/ and then\n * reload sshd: '/etc/init.d/sshd reload'.\n```\n\n\u3053\u308c\u3067\u3084\u3063\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\u3002\n\n```shell-session\nlocalhost ~ # emerge -uavq bind\n[ebuild  N    ] net-dns/bind-9.9.4_p2  USE=\"berkdb dlz ipv6 ssl -caps -doc -filter-aaaa -fixed-rrset -geoip -gost -gssapi -idn -ldap -mysql -odbc -postgres -python -rpz -rrl -sdb-ldap (-selinux) -static-libs -threads -urandom -xml\" \n\nWould you like to merge these packages? [Yes/No] \n>>> Verifying ebuild manifests\n>>> Emerging (1 of 1) net-dns/bind-9.9.4_p2\n>>> Installing (1 of 1) net-dns/bind-9.9.4_p2\n>>> Recording net-dns/bind in \"world\" favorites file...\n>>> Jobs: 1 of 1 complete                           Load avg: 1.63, 1.35, 0.85\n\n * Messages for package net-dns/bind-9.9.4_p2:\n\n * \n * NOTE: /var/bind/named.ca has been renamed to /var/bind/named.cache\n * you may need to fix your named.conf!\n * \n * NOTE: If you upgrade from <net-dns/bind-9.4.3_p5-r1, you may encounter permission problems\n * To fix the permissions do:\n * chown root:named /{etc,var}/bind /var/{run,log}/named /var/bind/{sec,pri,dyn}\n * chown root:named /var/bind/named.cache /var/bind/pri/{127,localhost}.zone /etc/bind/{bind.keys,named.conf}\n * chmod 0640 /var/bind/named.cache /var/bind/pri/{127,localhost}.zone /etc/bind/{bind.keys,named.conf}\n * chmod 0750 /etc/bind /var/bind/pri\n * chmod 0770 /var/{run,log}/named /var/bind/{,sec,dyn}\n * \n```\n"}