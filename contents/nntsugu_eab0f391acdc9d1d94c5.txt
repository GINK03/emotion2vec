{"context": " More than 1 year has passed since last update.\n\n\u524d\u7f6e\u304d\nhbstudy\u7b2c60\u56de\uff1a Serf\u3068Consul\u3067\u30b7\u30b9\u30c6\u30e0\u904b\u7528\u3092\u697d\u3057\u304f\u3057\u3088\u3046\uff01 \u306b\u53c2\u52a0\u3057\u307e\u3057\u305f\u3002\n\u307e\u3060\u30e1\u30e2\u66f8\u304d\u72b6\u614b\u3067\u96d1\u30fc\u30fc\u306a\u3068\u3053\u308d\u3082\u591a\u3005\u3042\u308a\u307e\u3059\u304c\u3001\u3068\u3066\u3082\u304a\u3082\u3057\u308d\u3044\u52c9\u5f37\u4f1a\u3060\u3063\u305f\u306e\u3067\u52e2\u3044\u3067\u516c\u958b\u3002\u307c\u3061\u307c\u3061\u7de8\u96c6\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3057\u3001\u3055\u308c\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3069\u3063\u3061\u3084\u306d\u3093\u3002\n\u6b21\u56de\u306f 2014/8/9(\u571f) 13:30\uff5e20:00 \u3067\u3059\u3002\u3054\u8208\u5473\u3042\u308c\u3070\u305c\u3072\u3002\n- hbstudy#61 \u30c8\u30e9\u30d6\u30eb\u2606\u3057\u3085\u30fc\u305f\u30fc\u305a #08\n\n\u6982\u8981\n\n2014/07/20 14:00-16:30\n\u30a4\u30d9\u30f3\u30c8\u30da\u30fc\u30b8(compass)\n\n\n\u767a\u8868\u30bf\u30a4\u30c8\u30eb/\u8b1b\u5e2b\n\n\u300cSerf\u3068Consul\u3067\u904b\u7528\u3092\u697d\u3057\u304f\u3057\u3088\u3046\uff01\u300d@zenbutsu\u3055\u3093\n\u300cconsul\u306b\u3064\u3044\u3066\u300d@ijin\u3055\u3093\n\n\n\u300cSerf\u3068Consul\u3067\u904b\u7528\u3092\u697d\u3057\u304f\u3057\u3088\u3046\uff01\u300d@zenbutsu\u3055\u3093\n\n\nJTF\u518d\u6f14\u304b\u306a\uff1f\u2192ver.1.02\u306b\u306a\u3063\u3066\u305f\u3002\n\n  Re: \u3054\u6ce8\u6587\u306f\u81ea\u52d5\u5316\u3067\u3059\u304b\uff1f[2]  from Masahito Zembutsu \n\n\u6700\u65b0\u7248\u304cSlideShare\u306b\u4e0a\u304c\u3063\u305f\u306e\u3067\u5dee\u3057\u66ff\u3048\u307e\u3057\u305f\u3002\u4e0b\u8a18\u306f\u65e7ver.\nJTF2014 ver\n\n\n\u6700\u521d\u306bDemo\nSerf\u30673\u53f0\u306e\u30af\u30e9\u30b9\u30bf\u3092\u5236\u5fa1\u3059\u308b\nSerf\u30ce\u30fc\u30c9x3\u3092\u8d77\u52d5\u3057\u30013\u53f0\u69cb\u6210\u306e\u30af\u30e9\u30b9\u30bf\u3092\u69cb\u6210\u3059\u308b\u307e\u3067\u306e\u30c7\u30e2\u3002\n\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\u3060\u3051\u3067\u30af\u30e9\u30b9\u30bf\u69cb\u7bc9\u5b8c\u4e86\u3067\u304d\u308b\u3002\n1\u53f0\u76ee\n$ serf agent &\n2\u53f0\u76ee\n$ serf agent &\n$ serf join 192.168.10.1\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u21911\u53f0\u76ee\u306eIP\n3\u53f0\u76ee\n$ serf agent &\n$ serf join 192.168.10.1\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u21911\u53f0\u76ee\u306eIP\n\u78ba\u8a8d\n$ serf members\n\n\n\u767a\u8868\u5185\u5bb9\u306b\u3064\u3044\u3066\n\u8a73\u7d30\u306f\u8cc7\u6599\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u6c17\u306b\u306a\u3063\u305f\u3068\u3053\u308d\u3092\u4e26\u3079\u3066\u3044\u304d\u307e\u3059\u3002\n\u76db\u308a\u6ca2\u5c71\u306a\u5185\u5bb9\u3067\u3057\u305f\u304c\u3001\u524d\u4f5b\u3055\u3093\u306e\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u3057\u3066\u306e\u601d\u60f3\u304c\u3068\u3053\u308d\u3069\u3053\u308d\u306b\u6563\u308a\u3070\u3081\u3089\u308c\u3066\u3044\u3066\u3001\u98fd\u304d\u305a\u306b\u697d\u3057\u304f\u805e\u3051\u307e\u3057\u305f\u3002\n\n\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3068\u306f\uff1f\n\nDocker\u306e\u8a71(\u524d\u7f6e\u304d)\n\u4f7f\u3046\u30c4\u30fc\u30eb\u306e\u6280\u8853\u80cc\u666f\u3092\u77e5\u3063\u3066\u304b\u3089\u4f7f\u3046\u3079\u304d\n\u3000\u3000network namespace\u3068\u304b\u306d\n\u3067\u3082\u6700\u521d\u306f\u6c17\u306b\u305b\u305a\u3069\u3093\u3069\u3093\u89e6\u3063\u3066\u3088\u3046\uff01\nSerf/Consul\u306fImmutable Infrastructure\u306e\u6587\u8108\u304b\u3089\u7523\u307e\u308c\u305f\n\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u306e\u4e00\u7a2e\nSerf/Consul\u306f\u4ed6\u3068\u6bd4\u8f03\u3057\u3066\u3082\u30b7\u30f3\u30d7\u30eb\n\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u4ee5\u5916\u306f\u306a\u306b\u3082\u3057\u3066\u304f\u308c\u306a\u3044\n\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3068\u306f\uff1f\n\u4e00\u6589\u306b\u4f55\u304b\u3092\u51e6\u7406\u3059\u308b\u30c4\u30fc\u30eb\n\n\n2.Serf\u57fa\u790e\u7de8\n\nSerf\u306e\u6982\u8981\n\u8efd\u91cf\u7c21\u5358\n\u7279\u5fb4\n\u3000\u3000\u30e1\u30f3\u30d0\u7ba1\u7406\n\u3000\u3000\u969c\u5bb3\u691c\u77e5\n\u3000\u3000\u30ab\u30b9\u30bf\u30e0\u30a4\u30d9\u30f3\u30c8\n1.\u30e1\u30f3\u30d0\u7ba1\u7406\n\u3000\u3000\u30de\u30b9\u30bf\u306a\u3057\uff1d\u5168\u3066\u4e26\u5217\n\u3000\u3000\u30e1\u30f3\u30d0\u306e\u52a0\u5165\u30fb\u96e2\u8131\u306f\u81ea\u52d5\n\u3000\u3000\u52a0\u5165\u3059\u308b\u5834\u5408\u306f\u30af\u30e9\u30b9\u30bf\u306b\u52a0\u5165\u7533\u8acb\u3059\u308b\n\n\nQA\u306b\u3042\u3063\u305f\u3084\u308a\u3068\u308a\n\nSerf\u30ce\u30fc\u30c9\u306f\u4e92\u3044\u306b\u72b6\u614b\u3092\u76e3\u8996\u3001\u4e0d\u5177\u5408\u306e\u3042\u308b\u30ce\u30fc\u30c9\u3092\u691c\u77e5\u3059\u308b\u3068\u3001\u30af\u30e9\u30b9\u30bf\u304b\u3089\u5207\u308a\u96e2\u3059\n\u72b6\u614b\u306e\u76e3\u8996\u306f\u30ce\u30fc\u30c9\u5185\u306e\u30e9\u30f3\u30c0\u30e0\u306a\u76f8\u624b\u3068\u884c\u3046(\u3089\u3057\u3044) \u30b4\u30b7\u30c3\u30d7\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u7279\u5fb4\u3002\n1000\u53f0\u30aa\u30fc\u30d0\u30fc\u306e\u30ce\u30fc\u30c9\u306e\u5834\u5408\u3001\u30b3\u30de\u30f3\u30c9\u306e\u4f1d\u642c\u306b\u306f\u3069\u306e\u7a0b\u5ea6\u304b\u304b\u308a\u307e\u3059\u304b\uff1f\nserf agent\u306ediscover\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u8d77\u52d5\u6642\u306bjoin\u3059\u308b\u30af\u30e9\u30b9\u30bf\u3092\u63a2\u3057\u306b\u884c\u3063\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u308b\n\n\nconsul\n\n\u30b5\u30fc\u30d3\u30b9\u691c\u51fa\n\u3000  Service\u3068\u3044\u3046\u5358\u4f4d\u3067\u30e9\u30d9\u30eb\u3092\u8cbc\u308c\u308b\nTips\n\u3000\u3000\u30ed\u30fc\u30ab\u30eb\u306eDNS\u306e\u3088\u3046\u306a\u6a5f\u80fd\u304c\u3042\u308b\n\u3000\u3000BlockingQuery\n\u3000\u3000\u3000\u3000node\u306e\u30c0\u30a6\u30f3\u3092\u691c\u77e5\u3057\u3066\u25ce\u25ce\u3059\u308b\n\u3000\u3000\u3000\u3000\u3068\u3044\u3063\u305fevent\u3092\u5b9a\u7fa9\u3067\u304d\u308b\u3002\u305f\u3060\u3057\u3001API\u7d4c\u7531\u3067\u3057\u304b\u64cd\u4f5c\u3067\u304d\u306a\u3044\u3002\n\n\n\u3053\u3053\u307e\u3067\u306e\u307e\u3068\u3081\n\n\u5b66\u7fd2\u30b3\u30b9\u30c8\u304c\u4f4e\u3044\n\u65e2\u5b58\u306e\u4ed5\u7d44\u307f\u3092\u5909\u66f4\u3057\u306a\u3044\n\n\u3000\u5c0e\u5165\u304c\u3068\u3066\u3082\u5bb9\u6613\n\nConsul\u7de8\n\u30e1\u30e2\u304c\u30ed\u30b9\u30c8\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305fm()m\n\n\n\u300cconsul\u306b\u3064\u3044\u3066\u300d@ijin\u3055\u3093\n\n\nWalti.io CTO\n\u30c8\u30e9\u30d6\u30eb\u2606\u3057\u3085\u30fc\u305f\u30fc\u305a\u306e\u4e3b\u50ac\u30e1\u30f3\u30d0\u30fc\n\u8cc7\u6599\u306f\u307e\u3060\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30d9\u30fc\u30b9\u306b\u306a\u3063\u305f\u767a\u8868\u8cc7\u6599\u306f\u3053\u3061\u3089\n\n\n\nConsul\n\nFAILURE DETECTION\nMULTI DC\nKVS\n\u3000\u3000\u52d5\u7684\u306a\u8a2d\u5b9a\u60c5\u5831\u7f6e\u304d\u5834\nTECHNOLOGY\nARCHITECTURE\n\u3000\u3000Server Mode or Client Mode\n\u3000\u3000Server\u306b\u306fLeader\u304c\u3044\u3066\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306f\u3001\u5168\u3066Leader\u306b\u30d5\u30a9\u30ef\u30fc\u30c9\u3055\u308c\u308b\n\u3000\u3000\u30af\u30e9\u30b9\u30bf\u306f\u30b4\u30b7\u30c3\u30d7\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u76f8\u4e92\u306b\u901a\u4fe1\u3059\u308b\nCONSISTENCY\n\u3000\u3000CAP Theorem\n\u3000\u3000\u3000\u3000CP: \u4e00\u8cab\u6027\u306b\u91cd\u304d\u3092\u7f6e\u304f\n\u3000\u3000consesus protocol using raft\n\u3000\u3000    read/write\n\u3000\u3000    \u3000\u3000Mostly Stlogly Consistent \u3000\u3000  \u3000\u3000\u3000\u3000\n\u3000\u3000    \u3000\u3000Stlogly Consistent\n\u3000\u3000    \u3000\u3000\u3000\u3000leader\u3068\u305d\u306e\u4ed6server\u3067\u8a2d\u5b9a\u5024\u306b\u5dee\u5206\u304c\u306a\u3044\u304b\u3092\u78ba\u8a8d\u3057\u3066\u307e\u308f\u308b\u305f\u3081\n\u3000\u3000    \u3000\u3000\u3000\u3000Roundtrip\u306a\u30a2\u30af\u30bb\u30b9\u304c\u767a\u751f\u3059\u308b\n\u3000\u3000    \u3000\u3000stale\n\u3000\u3000    \u3000\u3000\u3000\u3000\u3069\u306eserver\u3067\u3082\u76f4\u63a5\u56de\u7b54\u3092\u8fd4\u3059\u300250ms\u4ee5\u5185\u306b\u7d42\u606f\u3059\u308b\nDeploymentable\n\u3000\u30003-5\u53f0\u306eservernode\u304c\u3042\u308c\u3070\u3044\u3044\u3088\u306d\nJEPSEN TESTING\n\u3000\u3000Partition tolerance\nCONSUL AGENT\n\u3000\u3000Nodes & Services\n\u3000\u3000\u3000\u3000Node: \u540d\u524d, Service: role\u3068\u304btag\n\u3000\u3000DNS Interface\n\u3000\u3000Service Lookup\n\u3000  HTTP API\n\u3000  \u3000\u3000\u304a\u304a\u3056\u3063\u3071\u306bendpoint x7\n\u3000  \u3000\u3000\u3000\u3000keyvalue\n\u3000  \u3000\u3000\u3000\u3000agent endpoint : \u5404Server\u306eagent\u306b\u76f4\u63a5\u554f\u3044\u5408\u308f\u305b\u308b\n\u3000  \u3000\u3000\u3000\u3000HEALTH CHECK\n\u3000  \u3000\u3000\u3000\u3000BLOCKING QUERIES: \u72b6\u614b\u5909\u66f4\u306e\u5373\u6642\u691c\u77e5 #WEBUI\u3042\u308b\u3088\n\u3000  USE CASE\n\u3000  \u3000\u3000ansible dynamic inventory\u3067\u7ba1\u7406\u5bfe\u8c61node\u306erole\u4ed8\u304c\u3067\u304d\u308b\n\u3000  \u3000\u3000mha: \u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u6a5f\u80fd\u306a\u3069\u3092\u6301\u3064\n\u3000\u3000BENCHMARK\n\u3000\u3000\u3000\u3000v0.2.0 -> v0.3.0 \n\u3000\u3000\u3000\u3000\u3000\u3000GET\u306b\u95a2\u3057\u3066\uff15\u500d\u7a0b\u5ea6\u901f\u5ea6\u304c\u5411\u4e0a\u3057\u3066\u3044\u308b\n\u3000\u3000\u3000\u3000\u3000\u3000PUT\u306b\u3064\u3044\u3066\u306f4\u500d\u7a0b\u5ea6\u901f\u5ea6\u304c\u5411\u4e0a\u3057\u3066\u3044\u308b\n\u3000\u3000CONSUL-API\n\u3000\u3000\u3000\u3000Go\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\n\n## \u524d\u7f6e\u304d ##\nhbstudy\u7b2c60\u56de\uff1a Serf\u3068Consul\u3067\u30b7\u30b9\u30c6\u30e0\u904b\u7528\u3092\u697d\u3057\u304f\u3057\u3088\u3046\uff01 \u306b\u53c2\u52a0\u3057\u307e\u3057\u305f\u3002\n\u307e\u3060\u30e1\u30e2\u66f8\u304d\u72b6\u614b\u3067\u96d1\u30fc\u30fc\u306a\u3068\u3053\u308d\u3082\u591a\u3005\u3042\u308a\u307e\u3059\u304c\u3001\u3068\u3066\u3082\u304a\u3082\u3057\u308d\u3044\u52c9\u5f37\u4f1a\u3060\u3063\u305f\u306e\u3067\u52e2\u3044\u3067\u516c\u958b\u3002\u307c\u3061\u307c\u3061\u7de8\u96c6\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3057\u3001\u3055\u308c\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3069\u3063\u3061\u3084\u306d\u3093\u3002\n\n\u6b21\u56de\u306f 2014/8/9(\u571f) 13:30\uff5e20:00 \u3067\u3059\u3002\u3054\u8208\u5473\u3042\u308c\u3070\u305c\u3072\u3002\n- [hbstudy#61 \u30c8\u30e9\u30d6\u30eb\u2606\u3057\u3085\u30fc\u305f\u30fc\u305a #08](http://heartbeats.jp/hbstudy/2014/07/hbstudy61.html)\n\n## \u6982\u8981 ##\n- 2014/07/20 14:00-16:30\n- [\u30a4\u30d9\u30f3\u30c8\u30da\u30fc\u30b8(compass)](http://connpass.com/event/7322/)\n\n## \u767a\u8868\u30bf\u30a4\u30c8\u30eb/\u8b1b\u5e2b ##\n- \u300cSerf\u3068Consul\u3067\u904b\u7528\u3092\u697d\u3057\u304f\u3057\u3088\u3046\uff01\u300d[@zenbutsu](http://qiita.com/zembutsu)\u3055\u3093\n- \u300cconsul\u306b\u3064\u3044\u3066\u300d[@ijin](https://twitter.com/ijin)\u3055\u3093\n\n## \u300cSerf\u3068Consul\u3067\u904b\u7528\u3092\u697d\u3057\u304f\u3057\u3088\u3046\uff01\u300d[@zenbutsu](http://qiita.com/zembutsu)\u3055\u3093 ##\n- JTF\u518d\u6f14\u304b\u306a\uff1f\u2192ver.1.02\u306b\u306a\u3063\u3066\u305f\u3002\n<iframe src=\"//www.slideshare.net/slideshow/embed_code/37218036\" width=\"427\" height=\"356\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" style=\"border:1px solid #CCC; border-width:1px 1px 0; margin-bottom:5px; max-width: 100%;\" allowfullscreen> </iframe> <div style=\"margin-bottom:5px\"> <strong> <a href=\"https://www.slideshare.net/zembutsu/re-is-the-order-an-automation-2nd\" title=\"Re: \u3054\u6ce8\u6587\u306f\u81ea\u52d5\u5316\u3067\u3059\u304b\uff1f[2]\" target=\"_blank\">Re: \u3054\u6ce8\u6587\u306f\u81ea\u52d5\u5316\u3067\u3059\u304b\uff1f[2]</a> </strong> from <strong><a href=\"http://www.slideshare.net/zembutsu\" target=\"_blank\">Masahito Zembutsu</a></strong> </div>\n\n- \u6700\u65b0\u7248\u304cSlideShare\u306b\u4e0a\u304c\u3063\u305f\u306e\u3067\u5dee\u3057\u66ff\u3048\u307e\u3057\u305f\u3002\u4e0b\u8a18\u306f\u65e7ver.\n[JTF2014 ver](http://www.slideshare.net/zembutsu/is-the-order-an-automation-of-operation-and-monitoring)\n\n### \u6700\u521d\u306bDemo ###\nSerf\u30673\u53f0\u306e\u30af\u30e9\u30b9\u30bf\u3092\u5236\u5fa1\u3059\u308b\n\nSerf\u30ce\u30fc\u30c9x3\u3092\u8d77\u52d5\u3057\u30013\u53f0\u69cb\u6210\u306e\u30af\u30e9\u30b9\u30bf\u3092\u69cb\u6210\u3059\u308b\u307e\u3067\u306e\u30c7\u30e2\u3002\n\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\u3060\u3051\u3067\u30af\u30e9\u30b9\u30bf\u69cb\u7bc9\u5b8c\u4e86\u3067\u304d\u308b\u3002\n\n```bash\n1\u53f0\u76ee\n$ serf agent &\n2\u53f0\u76ee\n$ serf agent &\n$ serf join 192.168.10.1\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u21911\u53f0\u76ee\u306eIP\n3\u53f0\u76ee\n$ serf agent &\n$ serf join 192.168.10.1\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u21911\u53f0\u76ee\u306eIP\n\u78ba\u8a8d\n$ serf members\n```\n\n\n### \u767a\u8868\u5185\u5bb9\u306b\u3064\u3044\u3066 ###\n\u8a73\u7d30\u306f\u8cc7\u6599\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u6c17\u306b\u306a\u3063\u305f\u3068\u3053\u308d\u3092\u4e26\u3079\u3066\u3044\u304d\u307e\u3059\u3002\n\u76db\u308a\u6ca2\u5c71\u306a\u5185\u5bb9\u3067\u3057\u305f\u304c\u3001\u524d\u4f5b\u3055\u3093\u306e\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u3057\u3066\u306e\u601d\u60f3\u304c\u3068\u3053\u308d\u3069\u3053\u308d\u306b\u6563\u308a\u3070\u3081\u3089\u308c\u3066\u3044\u3066\u3001\u98fd\u304d\u305a\u306b\u697d\u3057\u304f\u805e\u3051\u307e\u3057\u305f\u3002\n\n\n### \u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3068\u306f\uff1f ###\n\n- Docker\u306e\u8a71(\u524d\u7f6e\u304d)\n\u4f7f\u3046\u30c4\u30fc\u30eb\u306e\u6280\u8853\u80cc\u666f\u3092\u77e5\u3063\u3066\u304b\u3089\u4f7f\u3046\u3079\u304d\n\u3000\u3000network namespace\u3068\u304b\u306d\n\u3067\u3082\u6700\u521d\u306f\u6c17\u306b\u305b\u305a\u3069\u3093\u3069\u3093\u89e6\u3063\u3066\u3088\u3046\uff01\n\n- Serf/Consul\u306fImmutable Infrastructure\u306e\u6587\u8108\u304b\u3089\u7523\u307e\u308c\u305f\n\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u306e\u4e00\u7a2e\nSerf/Consul\u306f\u4ed6\u3068\u6bd4\u8f03\u3057\u3066\u3082\u30b7\u30f3\u30d7\u30eb\n\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u4ee5\u5916\u306f\u306a\u306b\u3082\u3057\u3066\u304f\u308c\u306a\u3044\n\n- \u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3068\u306f\uff1f\n\u4e00\u6589\u306b\u4f55\u304b\u3092\u51e6\u7406\u3059\u308b\u30c4\u30fc\u30eb\n\n\n\n\n### 2.Serf\u57fa\u790e\u7de8 ###\n- Serf\u306e\u6982\u8981\n- \u8efd\u91cf\u7c21\u5358\n- \u7279\u5fb4\n- \u3000\u3000\u30e1\u30f3\u30d0\u7ba1\u7406\n- \u3000\u3000\u969c\u5bb3\u691c\u77e5\n- \u3000\u3000\u30ab\u30b9\u30bf\u30e0\u30a4\u30d9\u30f3\u30c8\n- 1.\u30e1\u30f3\u30d0\u7ba1\u7406\n- \u3000\u3000\u30de\u30b9\u30bf\u306a\u3057\uff1d\u5168\u3066\u4e26\u5217\n- \u3000\u3000\u30e1\u30f3\u30d0\u306e\u52a0\u5165\u30fb\u96e2\u8131\u306f\u81ea\u52d5\n- \u3000\u3000\u52a0\u5165\u3059\u308b\u5834\u5408\u306f\u30af\u30e9\u30b9\u30bf\u306b\u52a0\u5165\u7533\u8acb\u3059\u308b\n\n\n### QA\u306b\u3042\u3063\u305f\u3084\u308a\u3068\u308a ###\n- Serf\u30ce\u30fc\u30c9\u306f\u4e92\u3044\u306b\u72b6\u614b\u3092\u76e3\u8996\u3001\u4e0d\u5177\u5408\u306e\u3042\u308b\u30ce\u30fc\u30c9\u3092\u691c\u77e5\u3059\u308b\u3068\u3001\u30af\u30e9\u30b9\u30bf\u304b\u3089\u5207\u308a\u96e2\u3059\n- \u72b6\u614b\u306e\u76e3\u8996\u306f\u30ce\u30fc\u30c9\u5185\u306e\u30e9\u30f3\u30c0\u30e0\u306a\u76f8\u624b\u3068\u884c\u3046(\u3089\u3057\u3044) \u30b4\u30b7\u30c3\u30d7\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u7279\u5fb4\u3002\n- 1000\u53f0\u30aa\u30fc\u30d0\u30fc\u306e\u30ce\u30fc\u30c9\u306e\u5834\u5408\u3001\u30b3\u30de\u30f3\u30c9\u306e\u4f1d\u642c\u306b\u306f\u3069\u306e\u7a0b\u5ea6\u304b\u304b\u308a\u307e\u3059\u304b\uff1f\n- serf agent\u306ediscover\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u8d77\u52d5\u6642\u306bjoin\u3059\u308b\u30af\u30e9\u30b9\u30bf\u3092\u63a2\u3057\u306b\u884c\u3063\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u308b\n\n\n\n### consul ###\n- \u30b5\u30fc\u30d3\u30b9\u691c\u51fa\n- \u3000  Service\u3068\u3044\u3046\u5358\u4f4d\u3067\u30e9\u30d9\u30eb\u3092\u8cbc\u308c\u308b\n- Tips\n- \u3000\u3000\u30ed\u30fc\u30ab\u30eb\u306eDNS\u306e\u3088\u3046\u306a\u6a5f\u80fd\u304c\u3042\u308b\n- \u3000\u3000BlockingQuery\n- \u3000\u3000\u3000\u3000node\u306e\u30c0\u30a6\u30f3\u3092\u691c\u77e5\u3057\u3066\u25ce\u25ce\u3059\u308b\n- \u3000\u3000\u3000\u3000\u3068\u3044\u3063\u305fevent\u3092\u5b9a\u7fa9\u3067\u304d\u308b\u3002\u305f\u3060\u3057\u3001API\u7d4c\u7531\u3067\u3057\u304b\u64cd\u4f5c\u3067\u304d\u306a\u3044\u3002\n\n### \u3053\u3053\u307e\u3067\u306e\u307e\u3068\u3081 ###\n- \u5b66\u7fd2\u30b3\u30b9\u30c8\u304c\u4f4e\u3044\n- \u65e2\u5b58\u306e\u4ed5\u7d44\u307f\u3092\u5909\u66f4\u3057\u306a\u3044\n\n\u3000\u5c0e\u5165\u304c\u3068\u3066\u3082\u5bb9\u6613\n\n### Consul\u7de8 ###\n\u30e1\u30e2\u304c\u30ed\u30b9\u30c8\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305fm()m\n\n\n\n----\n\n## \u300cconsul\u306b\u3064\u3044\u3066\u300d[@ijin](https://twitter.com/ijin)\u3055\u3093 ##\n- [Walti.io](http://walti.io/) CTO\n- [\u30c8\u30e9\u30d6\u30eb\u2606\u3057\u3085\u30fc\u305f\u30fc\u305a](http://heartbeats.jp/hbstudy/2014/07/hbstudy61.html)\u306e\u4e3b\u50ac\u30e1\u30f3\u30d0\u30fc\n\n- \u8cc7\u6599\u306f\u307e\u3060\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30d9\u30fc\u30b9\u306b\u306a\u3063\u305f\u767a\u8868\u8cc7\u6599\u306f\u3053\u3061\u3089\n<script async class=\"speakerdeck-embed\" data-id=\"e07317d0dc040131a0982229a5c1e016\" data-ratio=\"1.33333333333333\" src=\"//speakerdeck.com/assets/embed.js\"></script>\n\n\n### Consul ###\n- FAILURE DETECTION\n- MULTI DC\n- KVS\n- \u3000\u3000\u52d5\u7684\u306a\u8a2d\u5b9a\u60c5\u5831\u7f6e\u304d\u5834\n\n- TECHNOLOGY\n- ARCHITECTURE\n- \u3000\u3000Server Mode or Client Mode\n- \u3000\u3000Server\u306b\u306fLeader\u304c\u3044\u3066\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306f\u3001\u5168\u3066Leader\u306b\u30d5\u30a9\u30ef\u30fc\u30c9\u3055\u308c\u308b\n- \u3000\u3000\u30af\u30e9\u30b9\u30bf\u306f\u30b4\u30b7\u30c3\u30d7\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u76f8\u4e92\u306b\u901a\u4fe1\u3059\u308b\n\n- CONSISTENCY\n- \u3000\u3000CAP Theorem\n- \u3000\u3000\u3000\u3000CP: \u4e00\u8cab\u6027\u306b\u91cd\u304d\u3092\u7f6e\u304f\n- \u3000\u3000consesus protocol using raft\n- \u3000\u3000\tread/write\n- \u3000\u3000\t\u3000\u3000Mostly Stlogly Consistent \u3000\u3000\t\u3000\u3000\u3000\u3000\n- \u3000\u3000\t\u3000\u3000Stlogly Consistent\n- \u3000\u3000\t\u3000\u3000\u3000\u3000leader\u3068\u305d\u306e\u4ed6server\u3067\u8a2d\u5b9a\u5024\u306b\u5dee\u5206\u304c\u306a\u3044\u304b\u3092\u78ba\u8a8d\u3057\u3066\u307e\u308f\u308b\u305f\u3081\n- \u3000\u3000\t\u3000\u3000\u3000\u3000Roundtrip\u306a\u30a2\u30af\u30bb\u30b9\u304c\u767a\u751f\u3059\u308b\n- \u3000\u3000\t\u3000\u3000stale\n- \u3000\u3000\t\u3000\u3000\u3000\u3000\u3069\u306eserver\u3067\u3082\u76f4\u63a5\u56de\u7b54\u3092\u8fd4\u3059\u300250ms\u4ee5\u5185\u306b\u7d42\u606f\u3059\u308b\n\n- Deploymentable\n- \u3000\u30003-5\u53f0\u306eservernode\u304c\u3042\u308c\u3070\u3044\u3044\u3088\u306d\n\n- JEPSEN TESTING\n- \u3000\u3000Partition tolerance\n\n- CONSUL AGENT\n- \u3000\u3000Nodes & Services\n- \u3000\u3000\u3000\u3000Node: \u540d\u524d, Service: role\u3068\u304btag\n- \u3000\u3000DNS Interface\n- \u3000\u3000Service Lookup\n- \u3000  HTTP API\n- \u3000  \u3000\u3000\u304a\u304a\u3056\u3063\u3071\u306bendpoint x7\n- \u3000  \u3000\u3000\u3000\u3000keyvalue\n- \u3000  \u3000\u3000\u3000\u3000agent endpoint : \u5404Server\u306eagent\u306b\u76f4\u63a5\u554f\u3044\u5408\u308f\u305b\u308b\n- \u3000  \u3000\u3000\u3000\u3000HEALTH CHECK\n- \u3000  \u3000\u3000\u3000\u3000BLOCKING QUERIES: \u72b6\u614b\u5909\u66f4\u306e\u5373\u6642\u691c\u77e5 #WEBUI\u3042\u308b\u3088\n- \u3000  USE CASE\n- \u3000  \u3000\u3000ansible dynamic inventory\u3067\u7ba1\u7406\u5bfe\u8c61node\u306erole\u4ed8\u304c\u3067\u304d\u308b\n- \u3000  \u3000\u3000mha: \u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u6a5f\u80fd\u306a\u3069\u3092\u6301\u3064\n- \u3000\u3000BENCHMARK\n- \u3000\u3000\u3000\u3000v0.2.0 -> v0.3.0 \n- \u3000\u3000\u3000\u3000\u3000\u3000GET\u306b\u95a2\u3057\u3066\uff15\u500d\u7a0b\u5ea6\u901f\u5ea6\u304c\u5411\u4e0a\u3057\u3066\u3044\u308b\n- \u3000\u3000\u3000\u3000\u3000\u3000PUT\u306b\u3064\u3044\u3066\u306f4\u500d\u7a0b\u5ea6\u901f\u5ea6\u304c\u5411\u4e0a\u3057\u3066\u3044\u308b\n- \u3000\u3000CONSUL-API\n- \u3000\u3000\u3000\u3000Go\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\n", "tags": ["serf", "consul", "hbstudy"]}