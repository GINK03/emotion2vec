{"context": "\u3053\u3093\u306b\u3061\u308f\uff01\u77f3\u7530\u3067\u3059\u3002\u6700\u8fd1Blockchain\u754c\u9688\u3001\u76db\u308a\u4e0a\u304c\u3063\u3066\u3044\u307e\u3059\u306d\u3002Linux Foundation\u3067\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306eBlockchain\u5b9f\u88c5\u3067\u3042\u308bHyperledger Fabric\u3082v0.6\u306b\u306a\u308a(\u57f7\u7b46\u6642\u70b9:2016/10\u6708)\u3001Github\u4e0a\u3067\u306e\u30b3\u30fc\u30c9\u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306a\u3069\u306e\u30ea\u30bd\u30fc\u30b9\u304c\u5145\u5b9f\u3057\u3066\u304d\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u300cFabric\u300d\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u81ea\u5206\u306ePC\u4e0a\u3067docker\u3092\u4f7f\u3063\u3066\u7c21\u5358\u306bFabric\u306e\u958b\u767a\u74b0\u5883\u3092\u4f5c\u3063\u3066\u8a66\u305b\u308b\u300cFabric Starter Kit\u300d\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u79c1\u3082\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u306e\u3067\u3001\u624b\u9806\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\u3068\u3066\u3082\u7c21\u5358\u3067\u3057\u305f\u306e\u3067\u3001\u3054\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002( IBM\u306eBluemix\u4e0a\u3067\u3082IBM Blochchain\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u540d\u3067Hyperledger fabric\u306e\u74b0\u5883\u3092\u5e74\u521d\u3088\u308a\u3054\u63d0\u4f9b\u4e2d(\u203b)\u3067\u3059\u3002\u305f\u3060\u3001\u3053\u308c\u3001\u53d6\u3063\u639b\u304b\u308a\u3084\u30c7\u30e2\u306b\u306f\u3044\u3044\u306e\u3067\u3059\u304c\u3001PaaS\u306e\u305f\u3081\u304b\u4e2d\u306e\u57fa\u76e4\u7684\u306a\u52d5\u304d\u304c\u3044\u307e\u3072\u3068\u3064\u3088\u304f\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u305d\u3046\u3044\u3046\u65b9\u306b\u306f\u3053\u306eStarter Kit\u3067\u3054\u81ea\u5206\u3067\u74b0\u5883\u3092\u4f5c\u3063\u3066\u307f\u308b\u3068\u3088\u308d\u3057\u3044\u304b\u3068\u3002\uff09\n\u203b \u30d9\u30fc\u30bf\u306a\u306e\u3067\u8a18\u4e8b\u57f7\u7b46\u6642\u70b9\u3067\u306f\u7121\u511f\u3002\u9069\u5b9cFabric\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u53cd\u6620\u3057\u3066\u304a\u308a\u3001\u73fe\u5728\u306f0.5\u76f8\u5f53\u3002\n\n\u30cd\u30bf\u5143\u306e\u6587\u66f8\u306fFabric Starter Kit\u3067\u3059\n\u79c1\u306fWindows 7 PC\u4e0a\u306eVMWare Workstation\u4e0a\u3067ubuntu 16.04\u3092\u52d5\u304b\u3057\u307e\u3057\u305f\u304c\u3001ubuntu\u3088\u308a\u4e0b\u306e\u5c64\u306f\u3069\u306e\u3088\u3046\u306a\u69cb\u6210\u3067\u3082\u3044\u3044\u306f\u305a\u3067\u3059\n\u4ee5\u4e0b\u3001\u809d\u3068\u306a\u308b\u30b3\u30de\u30f3\u30c9\u64cd\u4f5c\u3092\u9806\u3092\u8ffd\u3063\u3066\u8a18\u8f09\u3057\u307e\u3059\n\n\n\u30b4\u30fc\u30eb\n\u5b8c\u6210\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u74b0\u5883\u304c\u624b\u306b\u5165\u308a\u307e\u3059\u3002\u4f5c\u696d\u6642\u9593\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u901f\u5ea6\u6b21\u7b2c\u3067\u3059\u304c\u300130\u5206-\u6570\u6642\u9593\u3067\u3057\u3087\u3046\u304b\u3002\n\n\nmembersrvc/peer/starter\u306e\uff13\u3064\u306eDocker\u30b3\u30f3\u30c6\u30ca\u304ccompose\u3067\u9023\u643a\n\u30b5\u30f3\u30d7\u30eb(go)\u306e\u30c1\u30a7\u30fc\u30f3\u30b3\u30fc\u30c9\u3082\u30c7\u30d7\u30ed\u30a4\u53ef\u80fd\n\n\n\u624b\u9806\u30b5\u30de\u30ea\u30fc\n\n (option) VMWare\u4e0a\u306bubuntu\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n (option) ubuntu\u306e\u74b0\u5883\u8a2d\u5b9a\n docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n docker-compose\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n Fabric Starter Kit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n  Fabric Starter Kit\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\n\n\n\u5177\u4f53\u7684\u306a\u624b\u9806\n1\u30682\u306f\u300c\u79c1\u306f\u3053\u3046\u3084\u3063\u305f\u300d\u3068\u3044\u3046\u3060\u3051\u3067\u3001\u7686\u69d8\u306e\u304a\u597d\u307f\u3067\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u57fa\u672c\u3001ubuntu\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff06\u30b7\u30a7\u30eb\u304c\u4f7f\u3048\u308b\u74b0\u5883\u304c\u3042\u308c\u3070\u3044\u3044\u306f\u305a\u3067\u3059\u3002\u4ee5\u4e0b\u3001\u30b3\u30de\u30f3\u30c9\u306e\u30b3\u30d4\u30da\u3067\u4f5c\u696d\u304c\u9032\u3081\u3089\u308c\u308b\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\n1. (option) VMWare\u4e0a\u306bubuntu\u74b0\u5883\u3092\u4f5c\u6210\n\n\nUbuntu 16.04.1 LTS (Xenial Xerus)\u3088\u308a64-bit PC (AMD64) server image\u306eiso\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3000 (ubuntu\u306e\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3\u3001\u79c1\u306fserver\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u304c\u3001desktop\u3067\u3082\u3044\u3044\u3067\u3057\u3087\u3046)\nVMWare\u4e0a\u3067iso\u3092\u6307\u5b9a\u3057\u3066\u65b0\u898f\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210(\u30e1\u30e2\u30ea4GB)\u3000\uff5e\u64cd\u4f5c\u306f\u5272\u611b\u3057\u307e\u3059\n\n\n2. (option) ubuntu\u306e\u74b0\u5883\u8a2d\u5b9a\n\u4ee5\u4e0b\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u304c\u3001\u79c1\u306f\u52c9\u5f37\u76ee\u7684\u3067\u81ea\u5206\u306ePC\u4e0a\u3067\u52d5\u304b\u3059\u3060\u3051\u306a\u306e\u3067\u3001\u4eca\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u8003\u616e\u4e0d\u8981\uff06\u30b7\u30a7\u30eb\u64cd\u4f5c\u306f SuperPutty\u3092\u4f7f\u3044\u305f\u304b\u3063\u305f\u306e\u3067 \u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3057\u305f\u3002\u3042\u3068\u306f\u4f55\u3082\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n- ssh\u3067\u697d\u3092\u3057\u305f\u3044\u306e\u3067\u3001Windows7\u306ehosts\u306b\u3001\u4e0b\u8a18\u3067\u5165\u624b\u3067\u304d\u308bIP\u30a2\u30c9\u30ec\u30b9\u3068\u9069\u5f53\u306a\u30db\u30b9\u30c8\u540d\u3092\u8a2d\u5b9a\nifconfig -a\n\n\nroot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a(\u30c7\u30d5\u30a9\u3067\u306f\u672a\u8a2d\u5b9a)\u3057\u3066su\n\nsudo passwd root\nsu -\n\n\nOpenSSH\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\napt-get install openssh-server\n\n\nroot\u3092SSH\u3067\u30ed\u30b0\u30a4\u30f3\u53ef\u80fd\u306b\n/etc/ssh/sshd_config\u306ePermitRootLogin\u3092yes\u306b\u5909\u66f4\u2192\u30ea\u30b9\u30bf\u30fc\u30c8\n\n\n/etc/ssh/sshd_config\n# Authentication:\nLoginGraceTime 120\nPermitRootLogin yes\nStrictModes yes\n\n\nservice sshd restart\n\n\u4ee5\u4e0b\u3001root\u3067ssh\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u74b0\u5883\u3067\u64cd\u4f5c\u3057\u307e\u3059\u3002root\u3067\u306a\u3044\u65b9\u306fsudo\u3067\u64cd\u4f5c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n3.Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u53c2\u8003\u6587\u732e: Docker-Ubuntu\n\u307e\u305a\u306f\u524d\u63d0\u3068\u306a\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\napt-get update\napt-get install apt-transport-https ca-certificates\napt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D\n\n/etc/apt/sources.list.d/docker.list\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc\u3092\u767b\u9332\u3002\u540c\u30d5\u30a1\u30a4\u30eb\u306fubuntu 16.04 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306f\u5b58\u5728\u3057\u306a\u3044\u306e\u3067vi\u3067\u958b\u3044\u3066\u4e0b\u8a181\u884c\u3060\u3051\u66f8\u3044\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002(\u3053\u306e\u8a18\u8ff0\u5185\u5bb9\u306fubuntu\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u308a\u7570\u306a\u308a\u307e\u3059\u306e\u306716.04\u4ee5\u5916\u306e\u6642\u306f\u4e0a\u8a18\u53c2\u8003\u6587\u732e\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\uff09\n\n/etc/apt/sources.list.d/docker.list\ndeb https://apt.dockerproject.org/repo ubuntu-xenial main\n\n\n\u66f4\u306b\u74b0\u5883\u3092\u6574\u3048\u307e\u3059\u3002\napt-get update\napt-get purge lxc-docker\napt-cache policy docker-engine\napt-get update\napt-get install linux-image-extra-$(uname -r) linux-image-extra-virtual\n\n\u3053\u3053\u307e\u3067\u7d42\u308f\u3063\u305f\u3089\u3001\u3044\u3088\u3044\u3088Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3059\napt-get install docker-engine\n\n\u5c0e\u5165\u5f8c\u306e\u78ba\u8a8d\nroot@ubuntu:~# docker -v\nDocker version 1.12.2, build bb80604\nroot@ubuntu:~# service docker start\nroot@ubuntu:~# docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\nc04b14da8d14: Already exists\nDigest: sha256:0256e8a36e2070f7bf2d0b0763dbabdd67798512411de4cdcf9431a1feb60fd9\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker Hub account:\n https://hub.docker.com\n\nFor more examples and ideas, visit:\n https://docs.docker.com/engine/userguide/\n\n\n4.Docker-compose\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u53c2\u8003\u6587\u732e: Docker Compose - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ncurl\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304b\u3089\u3001docker-compose\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\napt-get install curl\ncurl -L https://github.com/docker/compose/releases/download/1.8.1/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\n\n\u78ba\u8a8d\nroot@ubuntu:~# docker-compose -v\ndocker-compose version 1.8.1, build 878cff1\n\n\n5. Fabric Starter Kit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u53c2\u8003\u6587\u732e: Fabric Starter Kit\n\u3053\u3053\u307e\u3067\u3067\u524d\u63d0\u3068\u306a\u308bdocker/docker-compose\u57fa\u76e4\u304c\u6574\u3044\u307e\u3057\u305f\u3002\u3053\u3053\u304b\u3089\u306fFabric Starter Kit\u3067\u3059\u3002\u3068\u3044\u3063\u3066\u3082\u74b0\u5883\u306fdocker\u5316\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u8981\u306fpull\u3057\u3066build\u3059\u308b\u3060\u3051\u3001\u3067\u3042\u308a\u3001\u3068\u3066\u3082\u7c21\u5358\u3067\u3059\u3002\u307e\u305a\u3001\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308bdocker-compose.yaml\u3068\u30a2\u30d7\u30ea\u74b0\u5883(starter)\u306e\u305f\u3081\u306eDockefile\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002(\u30a2\u30d7\u30ea\u74b0\u5883\u306f\u81ea\u5206\u3067\u3082\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u5225\u306b\u306a\u3063\u3066\u3044\u308b\u305d\u3046\u3067\u3059\uff09\u3042\u3068\u306f\u30d3\u30eb\u30c9\u3002\u3057\u3070\u3057\u304a\u5f85\u3061\u3092\u3002\ncurl -o docker-compose.yml https://raw.githubusercontent.com/hyperledger/fabric/master/examples/sdk/node/docker-compose.yml\ncurl -o Dockerfile https://raw.githubusercontent.com/hyperledger/fabric/master/examples/sdk/node/Dockerfile\ndocker build -t hyperledger/fabric-starter-kit:latest .\n\n\u3054\u53c2\u8003\u307e\u3067\u306b\u3001\u5f53\u8a18\u4e8b\u306e\u672b\u5c3e\u306bdocker-compose.yml\u3068Dockerfile\u306e\u5185\u5bb9\u3092\u63b2\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n6. Fabric Starter Kit\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\n\u53c2\u8003\u6587\u732e: Fabric Starter Kit\n\u3053\u308c\u3067fabric\u306e\u958b\u767a\u74b0\u5883\u304c\u6574\u3044\u307e\u3057\u305f\u3002\u3053\u306e\u74b0\u5883\u3067\u306f\u30d9\u30fc\u30b7\u30c3\u30af\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30fb\u30a2\u30d7\u30ea(node.js)\u3068\u30c1\u30a7\u30fc\u30f3\u30fb\u30b3\u30fc\u30c9(go)\u304c\u6e96\u5099\u6e08\u3067\u3059\u3002\u3055\u3063\u305d\u304f\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\ndocker-compose\u306b\u3088\u308amembersrvc\u306e\u30a4\u30e1\u30fc\u30b8\u304cpull\u3055\u308c\u305f\u5f8c\u3001\u30b3\u30f3\u30c6\u30ca\u304c\uff13\u3064\u8d77\u52d5\u3057\u307e\u3059\u3002\n# background\u3067\u8d77\u52d5\u3059\u308b\u3068\u304d\ndocker-compose up -d\n# foreground\u3067\u8d77\u52d5\u3059\u308b\u3068\u304d\ndocker-compose up \n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\uff13\u3064\u306e\u30b3\u30f3\u30c6\u30ca\u304c\u8d77\u52d5\u3057\u307e\u3059\nroot@ubuntu:~# docker ps\nCONTAINER ID        IMAGE                            COMMAND                  CREATED              STATUS              PORTS               NAMES\ned772ca27bb0        hyperledger/fabric-starter-kit   \"sh -c 'sleep 20; /op\"   About a minute ago   Up About a minute                       starter\n627a185d8d03        hyperledger/fabric-peer          \"sh -c 'sleep 10; pee\"   About a minute ago   Up About a minute                       peer\n88bb4cb7b745        hyperledger/fabric-membersrvc    \"membersrvc\"             About a minute ago   Up About a minute                       membersrvc\n\n\nmembersrvc ...\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u5185\u3067CA\u306a\u3069\u8a8d\u8a3c\u3092\u53f8\u308bfabric\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\npeer\u3000\u3000\u3000\u3000... \u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u5185\u3067\u306ePeer\u3067\u3059\u3002\u5f53kit\u306f\u958b\u767a\u7528\u306a\u306e\u3067\u6700\u4f4e\u9650\u3067\u3042\u308b1\u3064\u306e\u307f\u8d77\u52d5\u3057\u307e\u3059\u304c\u3001\u5b9f\u969b\u306f\u30c1\u30a7\u30fc\u30f3\u5185\u3067\u8907\u6570\u306epeer\u304c\u8d77\u52d5\u3055\u308cP2P\u3067\u5354\u8abf\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002\u30c1\u30a7\u30fc\u30f3\u306e\u5916\u90e8\u306b\u3042\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30fb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff08\u696d\u52d9\uff09\u306fPeer\uff08\u306e\u30dd\u30fc\u30c8)\u306b\u5bfe\u3057\u3066\u5404\u7a2e\u306e\u8981\u6c42\u3092\u51fa\u3057\u307e\u3059\u3002\u30c1\u30a7\u30fc\u30f3\u30b3\u30fc\u30c9\u306fpeer\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u3001\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\nstarter        ... \u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u3078\u8981\u6c42\u3092\u51fa\u3059\u696d\u52d9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\u5f53\u74b0\u5883\u3067\u306fnode.js\u3067\u5b9f\u88c5\u3055\u308c\u3066\u304a\u308a\u3001fabric-node-sdk\u3092\u4f7f\u3063\u3066gRPC\u3067\u5404\u7a2e\u306e\u8981\u6c42\u3092\u51fa\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001background\u3067\u8d77\u52d5\u3057\u305f\u5834\u5408\u306e\u30ed\u30b0\u306fdocker logs peer\u3067\u898b\u3089\u308c\u307e\u3059\u3002\u30ed\u30b0\u3092\u307f\u308b\u3068\u3001\u5185\u90e8\u306e\u52d5\u304d\u304c\u308f\u304b\u308b\u306e\u3067\u4e00\u5ea6\u898b\u3066\u307f\u308b\u3068\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nroot@ubuntu:~# `docker logs peer`\n08:00:02.261 [logging] LoggingInit -> DEBU 001 Setting default logging level to DEBUG for command 'node'\n08:00:02.261 [nodeCmd] serve -> INFO 002 Running in chaincode development mode\n08:00:02.261 [nodeCmd] serve -> INFO 003 Set consensus to NOOPS and user starts chaincode\n08:00:02.261 [nodeCmd] serve -> INFO 004 Disable loading validity system chaincode\n08:00:02.262 [peer] func1 -> INFO 005 Auto detected peer address: 172.17.0.3:7051\n08:00:02.263 [peer] func1 -> INFO 006 Auto detected peer address: 172.17.0.3:7051\n08:00:02.265 [eventhub_producer] AddEventType -> DEBU 007 registering BLOCK\n08:00:02.265 [eventhub_producer] AddEventType -> DEBU 008 registering CHAINCODE\n08:00:02.265 [eventhub_producer] AddEventType -> DEBU 009 registering REJECTION\n08:00:02.265 [eventhub_producer] AddEventType -> DEBU 00a registering REGISTER\n\n\n\u30a2\u30d7\u30ea(starter)\u3092\u8d77\u52d5\u3059\u308b\ndocker exec\u3067starter\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u308a\u3001\u5185\u90e8\u304b\u3089node.js\u306eapp.js\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u7d50\u679c\u3001chaincode\u304c\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u3001\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002\nroot@ubuntu:~# docker exec -it starter /bin/bash\nroot@b5b4b75d4607:/opt/gopath/src/github.com/hyperledger/fabric/examples/sdk/node# node app.js\n **** starting HFC sample ****\nmember services address =membersrvc:7054\npeer address =peer:7051\nDEPLOY_MODE=dev\nenrolling user admin ...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"mycc\",\"chaincodeID\":\"mycc\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"00342f32-a591-4f36-b098-9897d1c7ad2b\"}\ninvoke completed successfully; results={\"result\":\"Tx 00342f32-a591-4f36-b098-9897d1c7ad2b complete\"}\nquerying chaincode ...\nquery completed successfully; results={\"result\":{\"type\":\"Buffer\",\"data\":[57,57]}}\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u5185\u90e8\u304b\u3089\u306fapp.js\u306e\u30bd\u30fc\u30b9\u3082\u898b\u3089\u308c\u307e\u3059\u3002\nroot@ubuntu:~# docker exec -it starter /bin/bash\nroot@b5b4b75d4607:/opt/gopath/src/github.com/hyperledger/fabric/examples/sdk/node# ls\nDockerfile  app.js  docker-compose.yml  node_modules  web-app.js\n\n\n\u505c\u6b62\n\uff08\u3082\u3057\u4e0a\u8a18\u3067\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u3063\u3066\u3044\u305f\u3089exit\u3057\u3066\u304b\u3089\uff09docker-compose\u306e\u30b3\u30de\u30f3\u30c9\u3067\u307e\u3068\u3081\u3066\u505c\u6b62\u3057\u307e\u3059\u3002\nroot@ubuntu:~# docker-compose down\nStopping starter ... done\nStopping peer ... done\nStopping membersrvc ... done\nRemoving starter ... done\nRemoving peer ... done\nRemoving membersrvc ... done\n\n\n\u305d\u308c\u4ee5\u5916\u306b\u898b\u3066\u304a\u3044\u305f\u3089\u3088\u3055\u3052\u306a\u5834\u6240\ndocker exec -it xxxx(\u3069\u308c\u3067\u3082\u540c\u3058) /bin/bash\u3067\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u308b\u3068\u3001/opt/gopath/src/github.com/hyperledger/fabric/ \u306e\u4e0b\u306b\u4e0b\u8a18\u306e\u30d5\u30a1\u30a4\u30eb/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u3092\u4e00\u56de\u898b\u3066\u307f\u308b\u3068\u3054\u7406\u89e3\u304c\u9032\u3080\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\n\u30d5\u30a1\u30a4\u30eb/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\u8aac\u660e\n\n\n\n\nmembersrvc\u306e\u5b9a\u7fa9\nmembersrvc/membersrvc.yaml\n\n\npeer\u306e\u5b9a\u7fa9\npeer/core.yaml\n\n\n\u30b5\u30f3\u30d7\u30eb\u30fb\u30b3\u30fc\u30c9(\u30c1\u30a7\u30fc\u30f3\u30b3\u30fc\u30c9\u3084sdk)\nexamples\n\n\n\n\n\u6700\u5f8c\u306b\n\n\u5ff5\u306e\u305f\u3081\u3067\u3059\u304c\u3001\u5f53\u74b0\u5883\u306f\u958b\u767a\u74b0\u5883\u3092\u8fc5\u901f\u306b\u6e96\u5099\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3042\u308a\u3001Peer\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u9762\u3092\u7518\u304f\u3057\u305fdevelopment mode\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\u3088\u308a\u672c\u683c\u7684\u306a\u74b0\u5883\u3092\u4f5c\u308b\u624b\u9806\u3082\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u4e0b\u8a18\u306e\u300c\u6587\u732e\u300d\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\nFabric\u306f\u307e\u3060\u958b\u767a\u9014\u4e0a\u306e\u305f\u3081\u304b\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5074\u306e\u4e0d\u5099\u3067\u64cd\u4f5c\u304c\u5931\u6557\u3059\u308b\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3082\u3042\u308a\u307e\u3057\u305f\u3002\u304c\u30d3\u30eb\u30c9\u306f\u983b\u7e41\u306b\u884c\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u6570\u65e5\u305f\u3063\u3066\u6539\u3081\u3066\u3084\u3063\u3066\u307f\u305f\u3089\u3046\u307e\u304f\u3044\u3063\u305f\u308a\u3057\u307e\u3057\u305f\u3002\u8a18\u4e8b\u57f7\u7b46\u6642\u70b9(2016/10\u6708)\u3067\u306fOK\u3067\u3059\u304c\u3001\u7686\u69d8\u304c\u3054\u81ea\u8eab\u3067\u8a66\u3057\u305f\u3089\u5931\u6557\u3059\u308b\u3088\u3046\u306a\u5834\u9762\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305d\u306e\u5834\u5408\u306f\u6570\u65e5\u305f\u3063\u3066\u304b\u3089\u30ea\u30c8\u30e9\u30a4\u3055\u308c\u308b\u3068\u3088\u308d\u3057\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\uff08\u307e\u305f\u306f\u7a4d\u6975\u7684\u306bissue\u3092\u4f1d\u3048\u308b\u3001\u3068\u304b\uff09\n\n\n\u6587\u732e\nFabric Starter Kit\nFabric Developer Guide - ChainCode/Application/Fabric\u306e\u958b\u767a\u30ac\u30a4\u30c9\nSteps to setup Blockchain (Hyperledger Fabric 0.6) development environment on Ubuntu  - \u74b0\u5883\u69cb\u7bc9\u30ac\u30a4\u30c9(\u30b7\u30ea\u30fc\u30ba\u3082\u306e)\nHyperledger github - \u305c\u3093\u3076\nIBM-Blockchain github - Blockchain\u306e\u30c7\u30e2\u7b49\u304c\u5145\u5b9f\n\n\u3054\u53c2\u8003\n\ndocker-compose.yml\nmembersrvc:\n  # try 'docker ps' to see the container status after starting this compose\n  container_name: membersrvc\n  image: hyperledger/fabric-membersrvc\n  command: membersrvc\n\npeer:\n  container_name: peer\n  image: hyperledger/fabric-peer\n  environment:\n    - CORE_PEER_ADDRESSAUTODETECT=true\n    - CORE_VM_ENDPOINT=unix:///var/run/docker.sock\n    - CORE_LOGGING_LEVEL=DEBUG\n    - CORE_PEER_ID=vp0\n    - CORE_SECURITY_ENABLED=true\n    - CORE_PEER_PKI_ECA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TCA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TLSCA_PADDR=membersrvc:7054\n    - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=noops\n  # this gives access to the docker host daemon to deploy chain code in network mode\n  volumes:\n    - /var/run/docker.sock:/var/run/docker.sock\n  # have the peer wait 10 sec for membersrvc to start\n  #  the following is to run the peer in Developer mode - also set sample DEPLOY_MODE=dev\n  command: sh -c \"sleep 10; peer node start --peer-chaincodedev\"\n  #command: sh -c \"sleep 10; peer node start\"\n  links:\n    - membersrvc\n\nstarter:\n  container_name: starter\n  image: hyperledger/fabric-starter-kit\n  volumes:\n    # tweak this to map a local developmnt directory tree into the container\n    - ~/mytest:/user/mytest\n  environment:\n    - MEMBERSRVC_ADDRESS=membersrvc:7054\n    - PEER_ADDRESS=peer:7051\n    - KEY_VALUE_STORE=/tmp/hl_sdk_node_key_value_store\n    # set to following to 'dev' if peer running in Developer mode\n    - DEPLOY_MODE=dev\n    - CORE_CHAINCODE_ID_NAME=mycc\n    - CORE_PEER_ADDRESS=peer:7051\n  # the following command will start the chain code when this container starts and ready it for deployment by the app\n  command: sh -c \"sleep 20; /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02/chaincode_example02\"\n  stdin_open: true\n  tty: true\n  links:\n    - membersrvc\n    - peer\n\n\n\n\nDockerfile\nFROM hyperledger/fabric-peer:latest\n# setup the chaincode sample\nWORKDIR $GOPATH/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02\nRUN go build\nWORKDIR $GOPATH/src/github.com/hyperledger/fabric/examples/sdk/node\n# install the hfc locally for use by the application\nRUN npm install hfc\n\n\n\n\u3053\u3093\u306b\u3061\u308f\uff01\u77f3\u7530\u3067\u3059\u3002\u6700\u8fd1Blockchain\u754c\u9688\u3001\u76db\u308a\u4e0a\u304c\u3063\u3066\u3044\u307e\u3059\u306d\u3002Linux Foundation\u3067\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306eBlockchain\u5b9f\u88c5\u3067\u3042\u308bHyperledger Fabric\u3082v0.6\u306b\u306a\u308a(\u57f7\u7b46\u6642\u70b9:2016/10\u6708)\u3001Github\u4e0a\u3067\u306e\u30b3\u30fc\u30c9\u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306a\u3069\u306e\u30ea\u30bd\u30fc\u30b9\u304c\u5145\u5b9f\u3057\u3066\u304d\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u300cFabric\u300d\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u81ea\u5206\u306ePC\u4e0a\u3067docker\u3092\u4f7f\u3063\u3066\u7c21\u5358\u306bFabric\u306e\u958b\u767a\u74b0\u5883\u3092\u4f5c\u3063\u3066\u8a66\u305b\u308b\u300cFabric Starter Kit\u300d\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u79c1\u3082\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u306e\u3067\u3001\u624b\u9806\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\u3068\u3066\u3082\u7c21\u5358\u3067\u3057\u305f\u306e\u3067\u3001\u3054\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002( IBM\u306eBluemix\u4e0a\u3067\u3082[IBM Blochchain](http://www.ibm.com/blockchain/)\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u540d\u3067Hyperledger fabric\u306e\u74b0\u5883\u3092\u5e74\u521d\u3088\u308a\u3054\u63d0\u4f9b\u4e2d(\u203b)\u3067\u3059\u3002\u305f\u3060\u3001\u3053\u308c\u3001\u53d6\u3063\u639b\u304b\u308a\u3084\u30c7\u30e2\u306b\u306f\u3044\u3044\u306e\u3067\u3059\u304c\u3001PaaS\u306e\u305f\u3081\u304b\u4e2d\u306e\u57fa\u76e4\u7684\u306a\u52d5\u304d\u304c\u3044\u307e\u3072\u3068\u3064\u3088\u304f\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u305d\u3046\u3044\u3046\u65b9\u306b\u306f\u3053\u306eStarter Kit\u3067\u3054\u81ea\u5206\u3067\u74b0\u5883\u3092\u4f5c\u3063\u3066\u307f\u308b\u3068\u3088\u308d\u3057\u3044\u304b\u3068\u3002\uff09\n\u203b \u30d9\u30fc\u30bf\u306a\u306e\u3067\u8a18\u4e8b\u57f7\u7b46\u6642\u70b9\u3067\u306f\u7121\u511f\u3002\u9069\u5b9cFabric\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u53cd\u6620\u3057\u3066\u304a\u308a\u3001\u73fe\u5728\u306f0.5\u76f8\u5f53\u3002\n\n- \u30cd\u30bf\u5143\u306e\u6587\u66f8\u306f[Fabric Starter Kit](http://hyperledger-fabric.readthedocs.io/en/latest/starter/fabric-starter-kit/)\u3067\u3059\n- \u79c1\u306fWindows 7 PC\u4e0a\u306eVMWare Workstation\u4e0a\u3067ubuntu 16.04\u3092\u52d5\u304b\u3057\u307e\u3057\u305f\u304c\u3001ubuntu\u3088\u308a\u4e0b\u306e\u5c64\u306f\u3069\u306e\u3088\u3046\u306a\u69cb\u6210\u3067\u3082\u3044\u3044\u306f\u305a\u3067\u3059\n- \u4ee5\u4e0b\u3001\u809d\u3068\u306a\u308b\u30b3\u30de\u30f3\u30c9\u64cd\u4f5c\u3092\u9806\u3092\u8ffd\u3063\u3066\u8a18\u8f09\u3057\u307e\u3059\n \n# \u30b4\u30fc\u30eb\n\u5b8c\u6210\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u74b0\u5883\u304c\u624b\u306b\u5165\u308a\u307e\u3059\u3002\u4f5c\u696d\u6642\u9593\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u901f\u5ea6\u6b21\u7b2c\u3067\u3059\u304c\u300130\u5206-\u6570\u6642\u9593\u3067\u3057\u3087\u3046\u304b\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/108535/a7dcadea-9ab3-218f-aaae-9fe0d38bd5ef.png)\n\n- membersrvc/peer/starter\u306e\uff13\u3064\u306eDocker\u30b3\u30f3\u30c6\u30ca\u304ccompose\u3067\u9023\u643a\n- \u30b5\u30f3\u30d7\u30eb(go)\u306e\u30c1\u30a7\u30fc\u30f3\u30b3\u30fc\u30c9\u3082\u30c7\u30d7\u30ed\u30a4\u53ef\u80fd\n\n# \u624b\u9806\u30b5\u30de\u30ea\u30fc\n1.  (option) VMWare\u4e0a\u306bubuntu\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n2.  (option) ubuntu\u306e\u74b0\u5883\u8a2d\u5b9a\n3.  docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n4.  docker-compose\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n5.  Fabric Starter Kit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n6.   Fabric Starter Kit\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\n\n# \u5177\u4f53\u7684\u306a\u624b\u9806\n\n1\u30682\u306f\u300c\u79c1\u306f\u3053\u3046\u3084\u3063\u305f\u300d\u3068\u3044\u3046\u3060\u3051\u3067\u3001\u7686\u69d8\u306e\u304a\u597d\u307f\u3067\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u57fa\u672c\u3001ubuntu\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff06\u30b7\u30a7\u30eb\u304c\u4f7f\u3048\u308b\u74b0\u5883\u304c\u3042\u308c\u3070\u3044\u3044\u306f\u305a\u3067\u3059\u3002\u4ee5\u4e0b\u3001\u30b3\u30de\u30f3\u30c9\u306e\u30b3\u30d4\u30da\u3067\u4f5c\u696d\u304c\u9032\u3081\u3089\u308c\u308b\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\n### 1. (option) VMWare\u4e0a\u306bubuntu\u74b0\u5883\u3092\u4f5c\u6210\n- [Ubuntu 16.04.1 LTS (Xenial Xerus)](http://releases.ubuntu.com/16.04/)\u3088\u308a64-bit PC (AMD64) server image\u306eiso\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3000 (ubuntu\u306e\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3\u3001\u79c1\u306fserver\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u304c\u3001desktop\u3067\u3082\u3044\u3044\u3067\u3057\u3087\u3046)\n- VMWare\u4e0a\u3067iso\u3092\u6307\u5b9a\u3057\u3066\u65b0\u898f\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210(\u30e1\u30e2\u30ea4GB)\u3000\uff5e\u64cd\u4f5c\u306f\u5272\u611b\u3057\u307e\u3059\n\n### 2. (option) ubuntu\u306e\u74b0\u5883\u8a2d\u5b9a\n\n\u4ee5\u4e0b\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u304c\u3001\u79c1\u306f\u52c9\u5f37\u76ee\u7684\u3067\u81ea\u5206\u306ePC\u4e0a\u3067\u52d5\u304b\u3059\u3060\u3051\u306a\u306e\u3067\u3001\u4eca\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u8003\u616e\u4e0d\u8981\uff06\u30b7\u30a7\u30eb\u64cd\u4f5c\u306f [SuperPutty](https://code.google.com/archive/p/superputty/downloads)\u3092\u4f7f\u3044\u305f\u304b\u3063\u305f\u306e\u3067 \u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3057\u305f\u3002\u3042\u3068\u306f\u4f55\u3082\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n- ssh\u3067\u697d\u3092\u3057\u305f\u3044\u306e\u3067\u3001Windows7\u306ehosts\u306b\u3001\u4e0b\u8a18\u3067\u5165\u624b\u3067\u304d\u308bIP\u30a2\u30c9\u30ec\u30b9\u3068\u9069\u5f53\u306a\u30db\u30b9\u30c8\u540d\u3092\u8a2d\u5b9a\n\n```bash:\nifconfig -a\n```\n\n- root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a(\u30c7\u30d5\u30a9\u3067\u306f\u672a\u8a2d\u5b9a)\u3057\u3066su\n\n```bash:\nsudo passwd root\nsu -\n```\n\n- OpenSSH\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:\napt-get install openssh-server\n```\n\n- root\u3092SSH\u3067\u30ed\u30b0\u30a4\u30f3\u53ef\u80fd\u306b\n/etc/ssh/sshd_config\u306ePermitRootLogin\u3092**yes**\u306b\u5909\u66f4\u2192\u30ea\u30b9\u30bf\u30fc\u30c8\n\n```bash:/etc/ssh/sshd_config\n# Authentication:\nLoginGraceTime 120\nPermitRootLogin yes\nStrictModes yes\n```\n\n```bash:\nservice sshd restart\n```\n\n\u4ee5\u4e0b\u3001root\u3067ssh\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u74b0\u5883\u3067\u64cd\u4f5c\u3057\u307e\u3059\u3002root\u3067\u306a\u3044\u65b9\u306fsudo\u3067\u64cd\u4f5c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### 3.Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u53c2\u8003\u6587\u732e: [Docker-Ubuntu](https://docs.docker.com/engine/installation/linux/ubuntulinux/)\n\u307e\u305a\u306f\u524d\u63d0\u3068\u306a\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:\napt-get update\napt-get install apt-transport-https ca-certificates\napt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D\n```\n\n/etc/apt/sources.list.d/docker.list\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc\u3092\u767b\u9332\u3002\u540c\u30d5\u30a1\u30a4\u30eb\u306fubuntu 16.04 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306f\u5b58\u5728\u3057\u306a\u3044\u306e\u3067vi\u3067\u958b\u3044\u3066\u4e0b\u8a181\u884c\u3060\u3051\u66f8\u3044\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002(\u3053\u306e\u8a18\u8ff0\u5185\u5bb9\u306fubuntu\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u308a\u7570\u306a\u308a\u307e\u3059\u306e\u306716.04\u4ee5\u5916\u306e\u6642\u306f\u4e0a\u8a18\u53c2\u8003\u6587\u732e\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\uff09\n\n```bash:/etc/apt/sources.list.d/docker.list\ndeb https://apt.dockerproject.org/repo ubuntu-xenial main\n```\n\n\u66f4\u306b\u74b0\u5883\u3092\u6574\u3048\u307e\u3059\u3002\n\n```bash:\napt-get update\napt-get purge lxc-docker\napt-cache policy docker-engine\napt-get update\napt-get install linux-image-extra-$(uname -r) linux-image-extra-virtual\n```\n\n\u3053\u3053\u307e\u3067\u7d42\u308f\u3063\u305f\u3089\u3001\u3044\u3088\u3044\u3088Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3059\n\n```bash:\napt-get install docker-engine\n```\n\n\u5c0e\u5165\u5f8c\u306e\u78ba\u8a8d\n\n```shell-session:\nroot@ubuntu:~# docker -v\nDocker version 1.12.2, build bb80604\nroot@ubuntu:~# service docker start\nroot@ubuntu:~# docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\nc04b14da8d14: Already exists\nDigest: sha256:0256e8a36e2070f7bf2d0b0763dbabdd67798512411de4cdcf9431a1feb60fd9\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker Hub account:\n https://hub.docker.com\n\nFor more examples and ideas, visit:\n https://docs.docker.com/engine/userguide/\n```\n\n### 4.Docker-compose\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u53c2\u8003\u6587\u732e: [Docker Compose - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://qiita.com/zembutsu/items/dd2209a663cae37dfa81)\ncurl\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304b\u3089\u3001docker-compose\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n\n```bash:\napt-get install curl\ncurl -L https://github.com/docker/compose/releases/download/1.8.1/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\n```\n\n\u78ba\u8a8d\n\n```bash:\nroot@ubuntu:~# docker-compose -v\ndocker-compose version 1.8.1, build 878cff1\n```\n\n### 5. Fabric Starter Kit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u53c2\u8003\u6587\u732e: [Fabric Starter Kit](http://hyperledger-fabric.readthedocs.io/en/latest/starter/fabric-starter-kit/)\n\u3053\u3053\u307e\u3067\u3067\u524d\u63d0\u3068\u306a\u308bdocker/docker-compose\u57fa\u76e4\u304c\u6574\u3044\u307e\u3057\u305f\u3002\u3053\u3053\u304b\u3089\u306fFabric Starter Kit\u3067\u3059\u3002\u3068\u3044\u3063\u3066\u3082\u74b0\u5883\u306fdocker\u5316\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u8981\u306fpull\u3057\u3066build\u3059\u308b\u3060\u3051\u3001\u3067\u3042\u308a\u3001\u3068\u3066\u3082\u7c21\u5358\u3067\u3059\u3002\u307e\u305a\u3001\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308bdocker-compose.yaml\u3068\u30a2\u30d7\u30ea\u74b0\u5883(starter)\u306e\u305f\u3081\u306eDockefile\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002(\u30a2\u30d7\u30ea\u74b0\u5883\u306f\u81ea\u5206\u3067\u3082\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u5225\u306b\u306a\u3063\u3066\u3044\u308b\u305d\u3046\u3067\u3059\uff09\u3042\u3068\u306f\u30d3\u30eb\u30c9\u3002\u3057\u3070\u3057\u304a\u5f85\u3061\u3092\u3002\n\n```bash:\ncurl -o docker-compose.yml https://raw.githubusercontent.com/hyperledger/fabric/master/examples/sdk/node/docker-compose.yml\ncurl -o Dockerfile https://raw.githubusercontent.com/hyperledger/fabric/master/examples/sdk/node/Dockerfile\ndocker build -t hyperledger/fabric-starter-kit:latest .\n```\n\n\u3054\u53c2\u8003\u307e\u3067\u306b\u3001\u5f53\u8a18\u4e8b\u306e\u672b\u5c3e\u306bdocker-compose.yml\u3068Dockerfile\u306e\u5185\u5bb9\u3092\u63b2\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n### 6. Fabric Starter Kit\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\n\u53c2\u8003\u6587\u732e: [Fabric Starter Kit](http://hyperledger-fabric.readthedocs.io/en/latest/starter/fabric-starter-kit/)\n\u3053\u308c\u3067fabric\u306e\u958b\u767a\u74b0\u5883\u304c\u6574\u3044\u307e\u3057\u305f\u3002\u3053\u306e\u74b0\u5883\u3067\u306f\u30d9\u30fc\u30b7\u30c3\u30af\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30fb\u30a2\u30d7\u30ea(node.js)\u3068\u30c1\u30a7\u30fc\u30f3\u30fb\u30b3\u30fc\u30c9(go)\u304c\u6e96\u5099\u6e08\u3067\u3059\u3002\u3055\u3063\u305d\u304f\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\n\n#### \u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\ndocker-compose\u306b\u3088\u308amembersrvc\u306e\u30a4\u30e1\u30fc\u30b8\u304cpull\u3055\u308c\u305f\u5f8c\u3001\u30b3\u30f3\u30c6\u30ca\u304c\uff13\u3064\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```bash:\n# background\u3067\u8d77\u52d5\u3059\u308b\u3068\u304d\ndocker-compose up -d\n# foreground\u3067\u8d77\u52d5\u3059\u308b\u3068\u304d\ndocker-compose up \n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\uff13\u3064\u306e\u30b3\u30f3\u30c6\u30ca\u304c\u8d77\u52d5\u3057\u307e\u3059\n\n```shell-session:\nroot@ubuntu:~# docker ps\nCONTAINER ID        IMAGE                            COMMAND                  CREATED              STATUS              PORTS               NAMES\ned772ca27bb0        hyperledger/fabric-starter-kit   \"sh -c 'sleep 20; /op\"   About a minute ago   Up About a minute                       starter\n627a185d8d03        hyperledger/fabric-peer          \"sh -c 'sleep 10; pee\"   About a minute ago   Up About a minute                       peer\n88bb4cb7b745        hyperledger/fabric-membersrvc    \"membersrvc\"             About a minute ago   Up About a minute                       membersrvc\n```\n\n- membersrvc ...\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u5185\u3067CA\u306a\u3069\u8a8d\u8a3c\u3092\u53f8\u308bfabric\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\n- peer\u3000\u3000\u3000\u3000... \u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u5185\u3067\u306ePeer\u3067\u3059\u3002\u5f53kit\u306f\u958b\u767a\u7528\u306a\u306e\u3067\u6700\u4f4e\u9650\u3067\u3042\u308b1\u3064\u306e\u307f\u8d77\u52d5\u3057\u307e\u3059\u304c\u3001\u5b9f\u969b\u306f\u30c1\u30a7\u30fc\u30f3\u5185\u3067\u8907\u6570\u306epeer\u304c\u8d77\u52d5\u3055\u308cP2P\u3067\u5354\u8abf\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002\u30c1\u30a7\u30fc\u30f3\u306e\u5916\u90e8\u306b\u3042\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30fb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff08\u696d\u52d9\uff09\u306fPeer\uff08\u306e\u30dd\u30fc\u30c8)\u306b\u5bfe\u3057\u3066\u5404\u7a2e\u306e\u8981\u6c42\u3092\u51fa\u3057\u307e\u3059\u3002\u30c1\u30a7\u30fc\u30f3\u30b3\u30fc\u30c9\u306fpeer\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u3001\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n- starter        ... \u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u3078\u8981\u6c42\u3092\u51fa\u3059\u696d\u52d9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\u5f53\u74b0\u5883\u3067\u306fnode.js\u3067\u5b9f\u88c5\u3055\u308c\u3066\u304a\u308a\u3001[fabric-node-sdk](https://github.com/hyperledger/fabric-sdk-node)\u3092\u4f7f\u3063\u3066gRPC\u3067\u5404\u7a2e\u306e\u8981\u6c42\u3092\u51fa\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001background\u3067\u8d77\u52d5\u3057\u305f\u5834\u5408\u306e\u30ed\u30b0\u306f`docker logs peer`\u3067\u898b\u3089\u308c\u307e\u3059\u3002\u30ed\u30b0\u3092\u307f\u308b\u3068\u3001\u5185\u90e8\u306e\u52d5\u304d\u304c\u308f\u304b\u308b\u306e\u3067\u4e00\u5ea6\u898b\u3066\u307f\u308b\u3068\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n```shell-session:\nroot@ubuntu:~# `docker logs peer`\n08:00:02.261 [logging] LoggingInit -> DEBU 001 Setting default logging level to DEBUG for command 'node'\n08:00:02.261 [nodeCmd] serve -> INFO 002 Running in chaincode development mode\n08:00:02.261 [nodeCmd] serve -> INFO 003 Set consensus to NOOPS and user starts chaincode\n08:00:02.261 [nodeCmd] serve -> INFO 004 Disable loading validity system chaincode\n08:00:02.262 [peer] func1 -> INFO 005 Auto detected peer address: 172.17.0.3:7051\n08:00:02.263 [peer] func1 -> INFO 006 Auto detected peer address: 172.17.0.3:7051\n08:00:02.265 [eventhub_producer] AddEventType -> DEBU 007 registering BLOCK\n08:00:02.265 [eventhub_producer] AddEventType -> DEBU 008 registering CHAINCODE\n08:00:02.265 [eventhub_producer] AddEventType -> DEBU 009 registering REJECTION\n08:00:02.265 [eventhub_producer] AddEventType -> DEBU 00a registering REGISTER\n```\n\n#### \u30a2\u30d7\u30ea(starter)\u3092\u8d77\u52d5\u3059\u308b\ndocker exec\u3067starter\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u308a\u3001\u5185\u90e8\u304b\u3089node.js\u306eapp.js\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u7d50\u679c\u3001chaincode\u304c\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u3001\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002\n\n```bash:\nroot@ubuntu:~# docker exec -it starter /bin/bash\nroot@b5b4b75d4607:/opt/gopath/src/github.com/hyperledger/fabric/examples/sdk/node# node app.js\n **** starting HFC sample ****\nmember services address =membersrvc:7054\npeer address =peer:7051\nDEPLOY_MODE=dev\nenrolling user admin ...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"mycc\",\"chaincodeID\":\"mycc\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"00342f32-a591-4f36-b098-9897d1c7ad2b\"}\ninvoke completed successfully; results={\"result\":\"Tx 00342f32-a591-4f36-b098-9897d1c7ad2b complete\"}\nquerying chaincode ...\nquery completed successfully; results={\"result\":{\"type\":\"Buffer\",\"data\":[57,57]}}\n```\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u5185\u90e8\u304b\u3089\u306fapp.js\u306e\u30bd\u30fc\u30b9\u3082\u898b\u3089\u308c\u307e\u3059\u3002\n\n```shell-session:\nroot@ubuntu:~# docker exec -it starter /bin/bash\nroot@b5b4b75d4607:/opt/gopath/src/github.com/hyperledger/fabric/examples/sdk/node# ls\nDockerfile  app.js  docker-compose.yml  node_modules  web-app.js\n```\n\n#### \u505c\u6b62\n\uff08\u3082\u3057\u4e0a\u8a18\u3067\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u3063\u3066\u3044\u305f\u3089exit\u3057\u3066\u304b\u3089\uff09docker-compose\u306e\u30b3\u30de\u30f3\u30c9\u3067\u307e\u3068\u3081\u3066\u505c\u6b62\u3057\u307e\u3059\u3002\n\n```shell-session:\nroot@ubuntu:~# docker-compose down\nStopping starter ... done\nStopping peer ... done\nStopping membersrvc ... done\nRemoving starter ... done\nRemoving peer ... done\nRemoving membersrvc ... done\n```\n\n### \u305d\u308c\u4ee5\u5916\u306b\u898b\u3066\u304a\u3044\u305f\u3089\u3088\u3055\u3052\u306a\u5834\u6240\ndocker exec -it xxxx(\u3069\u308c\u3067\u3082\u540c\u3058) /bin/bash\u3067\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u308b\u3068\u3001**/opt/gopath/src/github.com/hyperledger/fabric/** \u306e\u4e0b\u306b\u4e0b\u8a18\u306e\u30d5\u30a1\u30a4\u30eb/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u3092\u4e00\u56de\u898b\u3066\u307f\u308b\u3068\u3054\u7406\u89e3\u304c\u9032\u3080\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n| \u30d5\u30a1\u30a4\u30eb/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea | \u8aac\u660e | \n|:-----------|:------------|\n|membersrvc\u306e\u5b9a\u7fa9 | membersrvc/membersrvc.yaml | \n| peer\u306e\u5b9a\u7fa9 |peer/core.yaml | \n| \u30b5\u30f3\u30d7\u30eb\u30fb\u30b3\u30fc\u30c9(\u30c1\u30a7\u30fc\u30f3\u30b3\u30fc\u30c9\u3084sdk) | examples |\n\n### \u6700\u5f8c\u306b\n- \u5ff5\u306e\u305f\u3081\u3067\u3059\u304c\u3001\u5f53\u74b0\u5883\u306f\u958b\u767a\u74b0\u5883\u3092\u8fc5\u901f\u306b\u6e96\u5099\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3042\u308a\u3001Peer\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u9762\u3092\u7518\u304f\u3057\u305fdevelopment mode\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\u3088\u308a\u672c\u683c\u7684\u306a\u74b0\u5883\u3092\u4f5c\u308b\u624b\u9806\u3082\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u4e0b\u8a18\u306e\u300c\u6587\u732e\u300d\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n- Fabric\u306f\u307e\u3060\u958b\u767a\u9014\u4e0a\u306e\u305f\u3081\u304b\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5074\u306e\u4e0d\u5099\u3067\u64cd\u4f5c\u304c\u5931\u6557\u3059\u308b\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3082\u3042\u308a\u307e\u3057\u305f\u3002\u304c\u30d3\u30eb\u30c9\u306f\u983b\u7e41\u306b\u884c\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u6570\u65e5\u305f\u3063\u3066\u6539\u3081\u3066\u3084\u3063\u3066\u307f\u305f\u3089\u3046\u307e\u304f\u3044\u3063\u305f\u308a\u3057\u307e\u3057\u305f\u3002\u8a18\u4e8b\u57f7\u7b46\u6642\u70b9(2016/10\u6708)\u3067\u306fOK\u3067\u3059\u304c\u3001\u7686\u69d8\u304c\u3054\u81ea\u8eab\u3067\u8a66\u3057\u305f\u3089\u5931\u6557\u3059\u308b\u3088\u3046\u306a\u5834\u9762\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305d\u306e\u5834\u5408\u306f\u6570\u65e5\u305f\u3063\u3066\u304b\u3089\u30ea\u30c8\u30e9\u30a4\u3055\u308c\u308b\u3068\u3088\u308d\u3057\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\uff08\u307e\u305f\u306f\u7a4d\u6975\u7684\u306bissue\u3092\u4f1d\u3048\u308b\u3001\u3068\u304b\uff09\n\n# \u6587\u732e\n[Fabric Starter Kit](http://hyperledger-fabric.readthedocs.io/en/latest/starter/fabric-starter-kit/)\n[Fabric Developer Guide](http://hyperledger-fabric.readthedocs.io/en/latest/#developer-guides) - ChainCode/Application/Fabric\u306e\u958b\u767a\u30ac\u30a4\u30c9\n[Steps to setup Blockchain (Hyperledger Fabric 0.6) development environment on Ubuntu ](https://www.ibm.com/developerworks/community/blogs/8d277a63-4204-4fd3-8cb8-b7cb222cd522/entry/Steps_to_setup_Blockchain_Hyperledger_Fabric_0_6_development_environment_on_Ubuntu?lang=en) - \u74b0\u5883\u69cb\u7bc9\u30ac\u30a4\u30c9(\u30b7\u30ea\u30fc\u30ba\u3082\u306e)\n[Hyperledger github](https://github.com/hyperledger) - \u305c\u3093\u3076\n[IBM-Blockchain github](https://github.com/IBM-Blockchain) - Blockchain\u306e\u30c7\u30e2\u7b49\u304c\u5145\u5b9f\n\n# \u3054\u53c2\u8003\n\n```yaml:docker-compose.yml\nmembersrvc:\n  # try 'docker ps' to see the container status after starting this compose\n  container_name: membersrvc\n  image: hyperledger/fabric-membersrvc\n  command: membersrvc\n\npeer:\n  container_name: peer\n  image: hyperledger/fabric-peer\n  environment:\n    - CORE_PEER_ADDRESSAUTODETECT=true\n    - CORE_VM_ENDPOINT=unix:///var/run/docker.sock\n    - CORE_LOGGING_LEVEL=DEBUG\n    - CORE_PEER_ID=vp0\n    - CORE_SECURITY_ENABLED=true\n    - CORE_PEER_PKI_ECA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TCA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TLSCA_PADDR=membersrvc:7054\n    - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=noops\n  # this gives access to the docker host daemon to deploy chain code in network mode\n  volumes:\n    - /var/run/docker.sock:/var/run/docker.sock\n  # have the peer wait 10 sec for membersrvc to start\n  #  the following is to run the peer in Developer mode - also set sample DEPLOY_MODE=dev\n  command: sh -c \"sleep 10; peer node start --peer-chaincodedev\"\n  #command: sh -c \"sleep 10; peer node start\"\n  links:\n    - membersrvc\n\nstarter:\n  container_name: starter\n  image: hyperledger/fabric-starter-kit\n  volumes:\n    # tweak this to map a local developmnt directory tree into the container\n    - ~/mytest:/user/mytest\n  environment:\n    - MEMBERSRVC_ADDRESS=membersrvc:7054\n    - PEER_ADDRESS=peer:7051\n    - KEY_VALUE_STORE=/tmp/hl_sdk_node_key_value_store\n    # set to following to 'dev' if peer running in Developer mode\n    - DEPLOY_MODE=dev\n    - CORE_CHAINCODE_ID_NAME=mycc\n    - CORE_PEER_ADDRESS=peer:7051\n  # the following command will start the chain code when this container starts and ready it for deployment by the app\n  command: sh -c \"sleep 20; /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02/chaincode_example02\"\n  stdin_open: true\n  tty: true\n  links:\n    - membersrvc\n    - peer\n\n```\n\n```bash:Dockerfile\nFROM hyperledger/fabric-peer:latest\n# setup the chaincode sample\nWORKDIR $GOPATH/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02\nRUN go build\nWORKDIR $GOPATH/src/github.com/hyperledger/fabric/examples/sdk/node\n# install the hfc locally for use by the application\nRUN npm install hfc\n```\n", "tags": ["Hyperledger", "Blockchain", "fabric"]}