{"tags": ["Prolog", "TaPL"], "context": "\u3053\u306e\u8a18\u4e8b\u306fProlog Advent Calendar 2016\u306e\uff15\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\u4eca\u65e5\u306fTAPL\u56f33-1\u3092Prolog\u3067\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3059\u3002\n\\begin{array}{l|l}\n\n\\begin{array}{l}\n\u69cb\u6587\\\\\n\\begin{array}{lcr}\nt ::=  &             & \u9805\uff1a\\\\\n &true               & \u5b9a\u6570\u771f\\\\\n &false              & \u5b9a\u6570\u507d\\\\\n &if \\;t\\;then\\;t\\;else\\;t & \u6761\u4ef6\u5f0f\\\\\n\nv ::= & &              \u5024\uff1a\\\\\n   & true &             \u5b9a\u6570\u771f\\\\\n   & false &            \u5b9a\u6570\u507d\\\\\n\\end{array}\n\\end{array}\n&\n\\begin{array}{l}\n\\begin{array}{cr}\n\u8a55\u4fa1  \\hspace{320px} & \\bbox[3px,border:1px solid black]{t \\longrightarrow t\u2019}\\\\\nif\\;true\\;then\\;t_2\\;else\\;t_3 \\longrightarrow t_2   & \\text{(E-IfTrue)}\\\\\nif\\;false\\;then\\;t_2\\;else\\;t_3 \\longrightarrow t_3  & \\text{(E-IfFalse)}\\\\\n\n\\dfrac{t_1 \\longrightarrow t_1\u2019}\n{if\\; t_1\\; then\\; t_2\\; else\\; t_3\n\\longrightarrow if\\; t_1\u2019\\; then\\; t_2\\; else\\; t_3}\n& \\text{(E-IfTrue)}\n\\\\\n\\\\\n\\\\\n\\\\\n\\end{array}\n\\end{array}\n\\end{array}\n\n\u304c\u5143\u306eTAPL\u306e\u69cb\u6587\u3068\u3001\u8a55\u4fa1\u898f\u5247\u3067\u3059\u304c\u3001if then else\u306fprolog\u306e\u9805\u3068\u3057\u3066\u8868\u3059\u306e\u306f\u512a\u5148\u9806\u4f4d\u3092\u3061\u3083\u3093\u3068\u8868\u3059\u306e\u306f\u3081\u3093\u3069\u3046\u306a\u306e\u3067\u3001\u697d\u306bif(t,t,t)\u3068\u3057\u3066\u307f\u307e\u3059\u3002\n\ntapl03_1.pl\n/*\n\u69cb\u6587\n\nt ::=                \u9805\uff1a\n\u3000true               \u5b9a\u6570\u771f\n\u3000false              \u5b9a\u6570\u507d\n\u3000if(t,t,t)          \u6761\u4ef6\u5f0f\n\nv::=                 \u5024\uff1a\n\u3000true               \u5b9a\u6570\u771f\n\u3000false              \u5b9a\u6570\u507d\n*/\n:- op(920, xfx, [ ==>, ==>> ]).\n:- op(1200, xfx, [ -- ]).\n:- style_check(-singleton).\nterm_expansion(A -- B, B :- A).\n\nt(true).\nt(false).\nt(if(T1,T2,T3)) :- t(T1),t(T2),t(T3).\nv(true).\nv(false).\n\n% \u8a55\u4fa1 t ==> t\u2019\n\nif(true, T2,T3) ==> T2.         % (E-IfTrue)\nif(false,T2,T3) ==> T3.         % (E-IfFalse)\n\nT1 ==> T1_\n--%------------------------------ (E-If)\nif(T1,T2,T3) ==> if(T1_,T2,T3).\n\nT ==>> T3 :- T ==> T2, T2 ==>> T3.\nT ==>> T.\n\nrun(T) :- T ==>> T2, writeln(T2).\n\n:- run(true).\n:- run(if(true,false,true)).\n:- run(if(false,false,true)).\n:- run(if(if(true,false,true),if(true,false,true),if(true,false,true))).\n:- halt.\n\n\n\u3053\u306e\u8a18\u4e8b\u306f[Prolog Advent Calendar 2016](http://qiita.com/advent-calendar/2016/prolog)\u306e\uff15\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u4eca\u65e5\u306fTAPL\u56f33-1\u3092Prolog\u3067\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3059\u3002\n\n```math\n\\begin{array}{l|l}\n\n\\begin{array}{l}\n\u69cb\u6587\\\\\n\\begin{array}{lcr}\nt ::=  &             & \u9805\uff1a\\\\\n &true               & \u5b9a\u6570\u771f\\\\\n &false              & \u5b9a\u6570\u507d\\\\\n &if \\;t\\;then\\;t\\;else\\;t & \u6761\u4ef6\u5f0f\\\\\n\nv ::= & &              \u5024\uff1a\\\\\n   & true &             \u5b9a\u6570\u771f\\\\\n   & false &            \u5b9a\u6570\u507d\\\\\n\\end{array}\n\\end{array}\n&\n\\begin{array}{l}\n\\begin{array}{cr}\n\u8a55\u4fa1  \\hspace{320px} & \\bbox[3px,border:1px solid black]{t \\longrightarrow t\u2019}\\\\\nif\\;true\\;then\\;t_2\\;else\\;t_3 \\longrightarrow t_2   & \\text{(E-IfTrue)}\\\\\nif\\;false\\;then\\;t_2\\;else\\;t_3 \\longrightarrow t_3  & \\text{(E-IfFalse)}\\\\\n\n\\dfrac{t_1 \\longrightarrow t_1\u2019}\n{if\\; t_1\\; then\\; t_2\\; else\\; t_3\n\\longrightarrow if\\; t_1\u2019\\; then\\; t_2\\; else\\; t_3}\n& \\text{(E-IfTrue)}\n\\\\\n\\\\\n\\\\\n\\\\\n\\end{array}\n\\end{array}\n\\end{array}\n```\n\n\u304c\u5143\u306eTAPL\u306e\u69cb\u6587\u3068\u3001\u8a55\u4fa1\u898f\u5247\u3067\u3059\u304c\u3001if then else\u306fprolog\u306e\u9805\u3068\u3057\u3066\u8868\u3059\u306e\u306f\u512a\u5148\u9806\u4f4d\u3092\u3061\u3083\u3093\u3068\u8868\u3059\u306e\u306f\u3081\u3093\u3069\u3046\u306a\u306e\u3067\u3001\u697d\u306bif(t,t,t)\u3068\u3057\u3066\u307f\u307e\u3059\u3002\n\n```prolog:tapl03_1.pl\n/*\n\u69cb\u6587\n\nt ::=                \u9805\uff1a\n\u3000true               \u5b9a\u6570\u771f\n\u3000false              \u5b9a\u6570\u507d\n\u3000if(t,t,t)          \u6761\u4ef6\u5f0f\n\nv::=                 \u5024\uff1a\n\u3000true               \u5b9a\u6570\u771f\n\u3000false              \u5b9a\u6570\u507d\n*/\n:- op(920, xfx, [ ==>, ==>> ]).\n:- op(1200, xfx, [ -- ]).\n:- style_check(-singleton).\nterm_expansion(A -- B, B :- A).\n\nt(true).\nt(false).\nt(if(T1,T2,T3)) :- t(T1),t(T2),t(T3).\nv(true).\nv(false).\n\n% \u8a55\u4fa1 t ==> t\u2019\n\nif(true, T2,T3) ==> T2.         % (E-IfTrue)\nif(false,T2,T3) ==> T3.         % (E-IfFalse)\n\nT1 ==> T1_\n--%------------------------------ (E-If)\nif(T1,T2,T3) ==> if(T1_,T2,T3).\n\nT ==>> T3 :- T ==> T2, T2 ==>> T3.\nT ==>> T.\n\nrun(T) :- T ==>> T2, writeln(T2).\n\n:- run(true).\n:- run(if(true,false,true)).\n:- run(if(false,false,true)).\n:- run(if(if(true,false,true),if(true,false,true),if(true,false,true))).\n:- halt.\n```\n"}