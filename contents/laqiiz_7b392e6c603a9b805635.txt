{"context": "\n\n\u306f\u3058\u3081\u306b\n\u307f\u3093\u306a\u304c\u5927\u597d\u304d\u306a\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\u3001Apache Camel\u306eHTTP\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u7248\u3067\u3059\u3002\nJava\u3092\u66f8\u304f\u3068\u304d\u306f\u534a\u7121\u610f\u8b58\u7684\u306b\u884c\u3046\u3001\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30d1\u30c6\u30a3\u3078\u306e\u8a2d\u5b9a\u304c\u52b9\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u5099\u5fd8\u306b\u307e\u3068\u3081\u307e\u3059\u3002\n\n\u3088\u304f\u4f7f\u3046\u30d7\u30ed\u30ad\u30b7\u306e\u546a\u6587\uff08ApacheCamel\u306eHTTP\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\uff01\uff09\nSystem.setProperty(\"proxySet\", \"true\");\nSystem.setProperty(\"proxyHost\", \"www.myproxy.com\");\nSystem.setProperty(\"proxyPort\", \"80\");\n\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\ncamel-core 2.18.0\ncamel-http 2.18.0\n\n\n\u8a2d\u5b9a\u65b9\u6cd5\n\n\u8d77\u52d5\u30af\u30e9\u30b9\n\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a2d\u5b9a\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001CamelContext\u306b\u30d7\u30ed\u30ad\u30b7\u306eIP\u3068\u30dd\u30fc\u30c8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u898b\u305f\u307e\u3093\u307e\u3067\u3059\u304c\u3001context.getProperties().put(\"http.proxyHost\", \"www.myproxy.com\");\u3068context.getProperties().put(\"http.proxyPort\", \"80\");\u306e\u90e8\u5206\u3067\u3059\u3002\n\nCamelApp.java\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.impl.DefaultCamelContext;\n\npublic class CamelApp {\n\n    public static void main(String[] args) throws Exception {\n\n        CamelContext context = new DefaultCamelContext();\n\n        context.addRoutes(new HttpProxyRoute());\n\n        // \u2605\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\n        context.getProperties().put(\"http.proxyHost\", \"www.myproxy.com\");\n        context.getProperties().put(\"http.proxyPort\", \"80\");\n\n        // \u8d77\u52d5\n        context.start();\n        Thread.currentThread().join();\n        context.stop();\n\n    }\n}\n\n\n\nRoute\u30af\u30e9\u30b9\n\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066HTTP(S)\u3067\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308bRoute\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u6301\u3061\u307e\u3059\u3002\n\n GitHub.com\u306eAPI\u3092\u53e9\u3044\u3066\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u300cmicroservice\u300d\u3067\u691c\u7d22\n \u691c\u7d22\u3057\u3066\u53d6\u5f97\u3057\u305f\u7d50\u679c\u3092\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306eoutBox\u30d5\u30a9\u30eb\u30c0\u306b\u3001yyyyMMdd_HHmmss.json\u306e\u5f62\u5f0f\u3067\u4fdd\u5b58\n 1\uff5e2\u30925\u79d2\u6bce\u306b\u8d77\u52d5\n\n\nHttpProxyRoute.java\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.impl.DefaultCamelContext;\n\npublic class HttpProxyRoute extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n        from(\"timer://foo?period=5000\")\n                .to(\"https://api.github.com/search/repositories?q=microservice\")\n                .to(\"file:{{env:HOMEPATH}}/Desktop/outBox?fileName=${date:now:yyyyMMdd_HHmmss}.json\")\n                ;\n    }\n}\n\n\n\u3053\u306e\u30af\u30e9\u30b9\u3067\u30d7\u30ed\u30ad\u30b7\u3092\u7a81\u7834\u3067\u304d\u3066\u3044\u308b\u304b\u758e\u901a\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u5b9f\u884c\n\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u611f\u3058\u306e\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n\u5b9f\u884c\u7d50\u679c\n10 14, 2016 8:52:44 \u5348\u5f8c org.apache.commons.httpclient.HttpMethodBase readResponseBody\n\u60c5\u5831: Response content length is not known\n20:52:46.451 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Http responseCode: 200\n20:52:47.270 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-2]\n20:52:47.272 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.FileOperations - Using InputStream to write file: C:\\Users\\username\\Desktop\\outBox\\20161014_205247.json\n20:52:47.296 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.GenericFileProducer - Wrote [C:\\Users\\username\\Desktop\\outBox\\20161014_205247.json] to [file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json]\n20:52:49.603 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> https://api.github.com/search/repositories?q=microservice Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-4]\n20:52:49.605 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Executing http GET method: https://api.github.com/search/repositories?q=microservice\n20:52:50.059 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Http responseCode: 200\n20:52:50.496 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-4]\n20:52:50.498 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.FileOperations - Using InputStream to write file: C:\\Users\\username\\Desktop\\outBox\\20161014_205250.json\n20:52:50.537 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.GenericFileProducer - Wrote [C:\\Users\\username\\Desktop\\outBox\\20161014_205250.json] to [file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json]\n20:52:54.593 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> https://api.github.com/search/repositories?q=microservice Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-6]\n20:52:54.596 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Executing http GET method: https://api.github.com/search/repositories?q=microservice\n20:52:55.056 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Http responseCode: 200\n20:52:55.485 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-6]\n20:52:55.489 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.FileOperations - Using InputStream to write file: C:\\Users\\username\\Desktop\\outBox\\20161014_205255.json\n20:52:55.539 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.GenericFileProducer - Wrote [C:\\Users\\username\\Desktop\\outBox\\20161014_205255.json] to [file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json]\n\n\n\u3061\u306a\u307f\u306b\u4e0a\u624b\u304f\u51fa\u6765\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u304a\u305d\u3089\u304fConnection time out\u306a\u3069\u304c\u767a\u751f\u3059\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u8a2d\u5b9a\u4e0d\u5099\u3067\u767a\u751f\u3059\u308b\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u30b5\u30f3\u30d7\u30eb\n10 14, 2016 9:10:05 \u5348\u5f8c org.apache.commons.httpclient.HttpMethodDirector executeWithRetry\n\u60c5\u5831: I/O exception (java.net.ConnectException) caught when processing request: Connection timed out: connect\n10 14, 2016 9:10:05 \u5348\u5f8c org.apache.commons.httpclient.HttpMethodDirector executeWithRetry\n\n\u30fb\u30fb\u30fb\u3068\u304b\n\njava.net.ConnectException: Connection timed out: connect\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n\n\n\u3067\u3001\u4eca\u56de\u306f5\u79d2\u6bce\u306b\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u4e0a\u306eoutbox\u30d5\u30a9\u30eb\u30c0\u306b\u691c\u7d22\u7d50\u679c\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\u7121\u4e8b\u30d7\u30ed\u30ad\u30b7\u3092\u7a81\u7834\u3067\u304d\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n\n\u3055\u3089\u306b\nURI\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066proxyHost\u3068proxyPort\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001Route\u30af\u30e9\u30b9\u5074\u306b\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\u3092\u5bc4\u305b\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u67d4\u8edf\u306b\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u305f\u3044\u3068\u304d\u306f\u3053\u3061\u3089\u3092\u4f7f\u3046\u3053\u3068\u3082\u691c\u8a0e\u3067\u3059\u304b\u306d\u3002\n\nRoute\u30af\u30e9\u30b9\u306b\u8a2d\u5b9a\u3059\u308b\u65b9\u6cd5\n    @Override\n    public void configure() throws Exception {\n        from(\"timer://foo?period=5000\")\n                .to(\"https://api.github.com/search/repositories?q=microservice&proxyHost=www.myproxy.com&proxyPort=80\")\n                .to(\"file:{{env:HOMEPATH}}/Desktop/outBox?fileName=${date:now:yyyyMMdd_HHmmss}.json\")\n                ;\n    }\n\n\n\n\u6700\u5f8c\u306b\nApache Camel\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u7c21\u5358\u3067\u826f\u3044\u3067\u3059\u306d\u3002\n\u305f\u3060\u3057\u3001\u6700\u521d\u306f\u899a\u3048\u308b\u3053\u3068\u304c\u4e00\u676f\u306a\u306e\u3067\u3001\u8272\u3005\u904a\u3093\u3067\u307f\u3066\u6319\u52d5\u3092\u6291\u3048\u3066\u307f\u305f\u308a\u4e3b\u8981\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u899a\u3048\u3066\u3044\u304f\u306e\u304c\u826f\u3044\u6c17\u304c\u3057\u307e\u3057\u305f\u3002\n\u6b21\u306fRabbitMQ\u3068\u306e\u63a5\u7d9a\u3084\u3001SQL\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u53c2\u8003\n\n\nApache Camel\u306eEndpoint\u5b9a\u7fa9\u3067\u74b0\u5883\u5909\u6570\u3092\u30d7\u30ec\u30b9\u30d5\u30a9\u30eb\u30c0\u30fc\u3067\u57cb\u3081\u8fbc\u3080\u65b9\u6cd5\n\nhttp://qiita.com/laqiiz/items/dc456b1742c958fa7c7e\n\n\n\nApache Camel > Documentation > Components > HTTP > HTTP Component\n\nhttp://camel.apache.org/http.html#HTTP-AuthenticationandProxy\n\n\n\n# \u306f\u3058\u3081\u306b\n\n\u307f\u3093\u306a\u304c\u5927\u597d\u304d\u306a\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\u3001Apache Camel\u306eHTTP\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u7248\u3067\u3059\u3002\n\nJava\u3092\u66f8\u304f\u3068\u304d\u306f\u534a\u7121\u610f\u8b58\u7684\u306b\u884c\u3046\u3001\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30d1\u30c6\u30a3\u3078\u306e\u8a2d\u5b9a\u304c\u52b9\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u5099\u5fd8\u306b\u307e\u3068\u3081\u307e\u3059\u3002\n\n```java:\u3088\u304f\u4f7f\u3046\u30d7\u30ed\u30ad\u30b7\u306e\u546a\u6587\uff08ApacheCamel\u306eHTTP\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\uff01\uff09\nSystem.setProperty(\"proxySet\", \"true\");\nSystem.setProperty(\"proxyHost\", \"www.myproxy.com\");\nSystem.setProperty(\"proxyPort\", \"80\");\n```\n\n# \u30d0\u30fc\u30b8\u30e7\u30f3\n* camel-core 2.18.0\n* camel-http 2.18.0\n\n# \u8a2d\u5b9a\u65b9\u6cd5\n\n## \u8d77\u52d5\u30af\u30e9\u30b9\n\n\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a2d\u5b9a\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001CamelContext\u306b\u30d7\u30ed\u30ad\u30b7\u306eIP\u3068\u30dd\u30fc\u30c8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u898b\u305f\u307e\u3093\u307e\u3067\u3059\u304c\u3001`context.getProperties().put(\"http.proxyHost\", \"www.myproxy.com\");`\u3068`context.getProperties().put(\"http.proxyPort\", \"80\");`\u306e\u90e8\u5206\u3067\u3059\u3002\n\n```java:CamelApp.java\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.impl.DefaultCamelContext;\n\npublic class CamelApp {\n\n\tpublic static void main(String[] args) throws Exception {\n\n\t\tCamelContext context = new DefaultCamelContext();\n\n\t\tcontext.addRoutes(new HttpProxyRoute());\n\n\t\t// \u2605\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\n\t\tcontext.getProperties().put(\"http.proxyHost\", \"www.myproxy.com\");\n\t\tcontext.getProperties().put(\"http.proxyPort\", \"80\");\n\n\t\t// \u8d77\u52d5\n\t\tcontext.start();\n\t\tThread.currentThread().join();\n\t\tcontext.stop();\n\n\t}\n}\n```\n\n\n## Route\u30af\u30e9\u30b9\n\n\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066HTTP(S)\u3067\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308bRoute\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u6301\u3061\u307e\u3059\u3002\n\n0.  GitHub.com\u306eAPI\u3092\u53e9\u3044\u3066\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u300cmicroservice\u300d\u3067\u691c\u7d22\n0.  \u691c\u7d22\u3057\u3066\u53d6\u5f97\u3057\u305f\u7d50\u679c\u3092\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306eoutBox\u30d5\u30a9\u30eb\u30c0\u306b\u3001yyyyMMdd_HHmmss.json\u306e\u5f62\u5f0f\u3067\u4fdd\u5b58\n0.  1\uff5e2\u30925\u79d2\u6bce\u306b\u8d77\u52d5\n\n```java:HttpProxyRoute.java\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.impl.DefaultCamelContext;\n\npublic class HttpProxyRoute extends RouteBuilder {\n\n\t@Override\n\tpublic void configure() throws Exception {\n\t\tfrom(\"timer://foo?period=5000\")\n\t\t\t\t.to(\"https://api.github.com/search/repositories?q=microservice\")\n\t\t\t\t.to(\"file:{{env:HOMEPATH}}/Desktop/outBox?fileName=${date:now:yyyyMMdd_HHmmss}.json\")\n\t\t\t\t;\n\t}\n}\n```\n\n\u3053\u306e\u30af\u30e9\u30b9\u3067\u30d7\u30ed\u30ad\u30b7\u3092\u7a81\u7834\u3067\u304d\u3066\u3044\u308b\u304b\u758e\u901a\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002\n\n\n# \u5b9f\u884c\n\n\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u611f\u3058\u306e\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```shell-session:\u5b9f\u884c\u7d50\u679c\n10 14, 2016 8:52:44 \u5348\u5f8c org.apache.commons.httpclient.HttpMethodBase readResponseBody\n\u60c5\u5831: Response content length is not known\n20:52:46.451 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Http responseCode: 200\n20:52:47.270 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-2]\n20:52:47.272 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.FileOperations - Using InputStream to write file: C:\\Users\\username\\Desktop\\outBox\\20161014_205247.json\n20:52:47.296 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.GenericFileProducer - Wrote [C:\\Users\\username\\Desktop\\outBox\\20161014_205247.json] to [file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json]\n20:52:49.603 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> https://api.github.com/search/repositories?q=microservice Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-4]\n20:52:49.605 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Executing http GET method: https://api.github.com/search/repositories?q=microservice\n20:52:50.059 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Http responseCode: 200\n20:52:50.496 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-4]\n20:52:50.498 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.FileOperations - Using InputStream to write file: C:\\Users\\username\\Desktop\\outBox\\20161014_205250.json\n20:52:50.537 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.GenericFileProducer - Wrote [C:\\Users\\username\\Desktop\\outBox\\20161014_205250.json] to [file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json]\n20:52:54.593 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> https://api.github.com/search/repositories?q=microservice Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-6]\n20:52:54.596 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Executing http GET method: https://api.github.com/search/repositories?q=microservice\n20:52:55.056 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.http.HttpProducer - Http responseCode: 200\n20:52:55.485 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.processor.SendProcessor - >>>> file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json Exchange[ID-DESKTOP-N5C2HRA-64580-1476445962689-0-6]\n20:52:55.489 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.FileOperations - Using InputStream to write file: C:\\Users\\username\\Desktop\\outBox\\20161014_205255.json\n20:52:55.539 [Camel (camel-1) thread #0 - timer://foo] DEBUG org.apache.camel.component.file.GenericFileProducer - Wrote [C:\\Users\\username\\Desktop\\outBox\\20161014_205255.json] to [file://%5CUsers%5Cusername/Desktop/outBox?fileName=%24%7Bdate%3Anow%3AyyyyMMdd_HHmmss%7D.json]\n```\n\n\u3061\u306a\u307f\u306b\u4e0a\u624b\u304f\u51fa\u6765\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u304a\u305d\u3089\u304fConnection time out\u306a\u3069\u304c\u767a\u751f\u3059\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```bash:\u8a2d\u5b9a\u4e0d\u5099\u3067\u767a\u751f\u3059\u308b\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u30b5\u30f3\u30d7\u30eb\n10 14, 2016 9:10:05 \u5348\u5f8c org.apache.commons.httpclient.HttpMethodDirector executeWithRetry\n\u60c5\u5831: I/O exception (java.net.ConnectException) caught when processing request: Connection timed out: connect\n10 14, 2016 9:10:05 \u5348\u5f8c org.apache.commons.httpclient.HttpMethodDirector executeWithRetry\n\n\u30fb\u30fb\u30fb\u3068\u304b\n\njava.net.ConnectException: Connection timed out: connect\n\tat java.net.DualStackPlainSocketImpl.connect0(Native Method)\n\tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n```\n\n\u3067\u3001\u4eca\u56de\u306f5\u79d2\u6bce\u306b\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u4e0a\u306eoutbox\u30d5\u30a9\u30eb\u30c0\u306b\u691c\u7d22\u7d50\u679c\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\u7121\u4e8b\u30d7\u30ed\u30ad\u30b7\u3092\u7a81\u7834\u3067\u304d\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/6463/034fdd9b-b196-3f05-428f-f242e0c157ed.png)\n\n\n# \u3055\u3089\u306b\n\nURI\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066`proxyHost`\u3068`proxyPort`\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001Route\u30af\u30e9\u30b9\u5074\u306b\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\u3092\u5bc4\u305b\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u67d4\u8edf\u306b\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u305f\u3044\u3068\u304d\u306f\u3053\u3061\u3089\u3092\u4f7f\u3046\u3053\u3068\u3082\u691c\u8a0e\u3067\u3059\u304b\u306d\u3002\n\n```java:Route\u30af\u30e9\u30b9\u306b\u8a2d\u5b9a\u3059\u308b\u65b9\u6cd5\n\t@Override\n\tpublic void configure() throws Exception {\n\t\tfrom(\"timer://foo?period=5000\")\n\t\t\t\t.to(\"https://api.github.com/search/repositories?q=microservice&proxyHost=www.myproxy.com&proxyPort=80\")\n\t\t\t\t.to(\"file:{{env:HOMEPATH}}/Desktop/outBox?fileName=${date:now:yyyyMMdd_HHmmss}.json\")\n\t\t\t\t;\n\t}\n```\n\n# \u6700\u5f8c\u306b\n\nApache Camel\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u7c21\u5358\u3067\u826f\u3044\u3067\u3059\u306d\u3002\n\u305f\u3060\u3057\u3001\u6700\u521d\u306f\u899a\u3048\u308b\u3053\u3068\u304c\u4e00\u676f\u306a\u306e\u3067\u3001\u8272\u3005\u904a\u3093\u3067\u307f\u3066\u6319\u52d5\u3092\u6291\u3048\u3066\u307f\u305f\u308a\u4e3b\u8981\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u899a\u3048\u3066\u3044\u304f\u306e\u304c\u826f\u3044\u6c17\u304c\u3057\u307e\u3057\u305f\u3002\n\u6b21\u306fRabbitMQ\u3068\u306e\u63a5\u7d9a\u3084\u3001SQL\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n# \u53c2\u8003\n\n* Apache Camel\u306eEndpoint\u5b9a\u7fa9\u3067\u74b0\u5883\u5909\u6570\u3092\u30d7\u30ec\u30b9\u30d5\u30a9\u30eb\u30c0\u30fc\u3067\u57cb\u3081\u8fbc\u3080\u65b9\u6cd5\n    * http://qiita.com/laqiiz/items/dc456b1742c958fa7c7e\n\n* Apache Camel > Documentation > Components > HTTP > HTTP Component\n  * http://camel.apache.org/http.html#HTTP-AuthenticationandProxy\n", "tags": ["apache-camel", "Java"]}