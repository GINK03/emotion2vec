{"context": "\n\n\u521d\u3081\u306b\nCentOS7\u4e0a\u3067\u3001\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u306eSSL/TLS \u8a3c\u660e\u66f8\u3092\u7121\u6599\u3067\u53d6\u5f97\u3067\u304d\u3066\u3001\u3057\u304b\u3082\u5546\u7528\u5229\u7528\u3082\u3067\u304d\u308b\u3001Let's Encrypt \u306e\u8a2d\u5b9a\u3092\u3057\u3066\u307f\u307e\u3057\u305f\u3002Let's Encrypt \u81ea\u4f53\u306b\u3064\u3044\u3066\u306f https://letsencrypt.jp/ \u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCentOS7 \u3067\u306f\u3001certbot \u3092yum \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002Web Server \u306f apache \u306a\u306e\u3067\u3001\u3002\u5408\u308f\u305b\u3066\u3001certbot-apache \u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum install certbot certbot-apache\n\n\n\u8a2d\u5b9a\n\u4eca\u307e\u3067\u958b\u3051\u3066\u3044\u306a\u304b\u3063\u305f\u3001https \u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\nsudo firewall-cmd --add-port=443/tcp --zone=public\nsudo firewall-cmd --add-port=443/tcp --zone=public --permanent\n\n--permanent\u304c\u306a\u3044\u3068\u4e00\u6642\u7684\u306a\u8a2d\u5b9a\u3067\u3057\u304b\u306a\u3044\u306e\u306b\u6ce8\u610f\n\nSSL\u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u8a2d\u5b9a\n\u3000\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u3067\u904b\u7528\u3057\u3066\u3044\u308b\u305d\u308c\u305e\u308c\u306e\u30db\u30b9\u30c8\u540d host1.sample.com \u3068 host2.sample.com \u306e\uff12\u3064\u306e\u8a3c\u660e\u66f8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001sample.com\u306f\u81ea\u5206\u306e\u30c9\u30e1\u30a4\u30f3\u306b\u7f6e\u304d\u5909\u3048\u306a\u3044\u3068\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002\nsudo certbot run --apache -d host1.sample.com -d host2.sample.com\n\n\u3082\u3057\u4e0d\u8db3\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u3042\u308c\u3070 yum \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u304b\u3092\u805e\u3044\u3066\u304f\u308b\u306e\u3067\u3001y \u3092\u5165\u529b\u3059\u308b\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\uff12\u3064\u306e\u30db\u30b9\u30c8\u306e\u8a3c\u660e\u66f8\u304c\uff11\u30b3\u30de\u30f3\u30c9\u3067\u540c\u6642\u306b\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u3001ssl.conf \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u3053\u3053\u306b\u5168\u90e8\u306e\u30db\u30b9\u30c8\u5206\u306e SSL\u8a3c\u660e\u66f8\u3078\u306e\u30d1\u30b9\u7b49\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\u306a\u304a\u3001SSL\u8a3c\u660e\u66f8\u306f\u3000/etc/letsencrypt/archibe/host1.sample.com/\u3000\u306e\u3088\u3046\u306a\u30db\u30b9\u30c8\n\u540d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\nhttp \u3092\u3059\u3079\u3066 https \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u30bb\u30ad\u30e5\u30a2\u8a2d\u5b9a\u306f\u3001ContOS\u4e0a\u3067\u306f\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u5fc5\u8981\u306a\u3089\u3070\u624b\u52d5\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nSSL\u8a3c\u660e\u66f8\u306e\u66f4\u65b0\n\u8a3c\u660e\u66f8\u306e\u6709\u52b9\u671f\u9650\u304c\uff13\u304b\u6708\u306a\u306e\u3067\u3001\u66f4\u65b0\u304c\u5fc5\u8981\u3067\u3059\u3002\u66f4\u65b0\u3082 certbot \u3067\u3057\u307e\u3059\u3002\ncertbot renew\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u8a3c\u660e\u66f8\u306e\u671f\u9650\u5207\u308c\u8fd1\u304f\u306b\u306a\u3089\u306a\u3044\u3068\u66f4\u65b0\u3055\u308c\u306a\u3044\u306e\u3067\u3001cron\u3067\u3001\uff11\u9031\u9593\u306b\uff11\u5ea6\u304f\u3089\u3044\u5b9f\u884c\u3057\u3066\u304a\u304f\u3068\u5b89\u5fc3\u3068\u601d\u3044\u307e\u3059\u3002\n\u306a\u304a\u3001renew \u3067\u30c9\u30e1\u30a4\u30f3\u540d\u306f\u6307\u5b9a\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u4e0b\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u307e\u3057\u305f\u3002\nCurrently, the renew verb is only capable of renewing all installed \ncertificates that are due to be renewed; individual domains cannot be specified \nwith this action. If you would like to renew specific certificates, use the \ncertonly command. The renew verb may provide other options for selecting \ncertificates to renew in the future.\n\n\n\u53c2\u8003\n\u3053\u3061\u3089\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\n\nhttps://letsencrypt.jp/usage\nhttp://knowledge.sakura.ad.jp/knowledge/5573/\n\n# \u521d\u3081\u306b\n\nCentOS7\u4e0a\u3067\u3001\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u306eSSL/TLS \u8a3c\u660e\u66f8\u3092\u7121\u6599\u3067\u53d6\u5f97\u3067\u304d\u3066\u3001\u3057\u304b\u3082\u5546\u7528\u5229\u7528\u3082\u3067\u304d\u308b\u3001Let's Encrypt \u306e\u8a2d\u5b9a\u3092\u3057\u3066\u307f\u307e\u3057\u305f\u3002Let's Encrypt \u81ea\u4f53\u306b\u3064\u3044\u3066\u306f https://letsencrypt.jp/ \u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nCentOS7 \u3067\u306f\u3001certbot \u3092yum \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002Web Server \u306f apache \u306a\u306e\u3067\u3001\u3002\u5408\u308f\u305b\u3066\u3001certbot-apache \u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nyum install certbot certbot-apache\n```\n\n# \u8a2d\u5b9a\n\n\u4eca\u307e\u3067\u958b\u3051\u3066\u3044\u306a\u304b\u3063\u305f\u3001https \u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\n\n```\nsudo firewall-cmd --add-port=443/tcp --zone=public\nsudo firewall-cmd --add-port=443/tcp --zone=public --permanent\n```\n\n--permanent\u304c\u306a\u3044\u3068\u4e00\u6642\u7684\u306a\u8a2d\u5b9a\u3067\u3057\u304b\u306a\u3044\u306e\u306b\u6ce8\u610f\n\n# SSL\u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u8a2d\u5b9a\n\n\u3000\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u3067\u904b\u7528\u3057\u3066\u3044\u308b\u305d\u308c\u305e\u308c\u306e\u30db\u30b9\u30c8\u540d host1.sample.com \u3068 host2.sample.com \u306e\uff12\u3064\u306e\u8a3c\u660e\u66f8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001sample.com\u306f\u81ea\u5206\u306e\u30c9\u30e1\u30a4\u30f3\u306b\u7f6e\u304d\u5909\u3048\u306a\u3044\u3068\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002\n\n```\nsudo certbot run --apache -d host1.sample.com -d host2.sample.com\n```\n\n\u3082\u3057\u4e0d\u8db3\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u3042\u308c\u3070 yum \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u304b\u3092\u805e\u3044\u3066\u304f\u308b\u306e\u3067\u3001y \u3092\u5165\u529b\u3059\u308b\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n\uff12\u3064\u306e\u30db\u30b9\u30c8\u306e\u8a3c\u660e\u66f8\u304c\uff11\u30b3\u30de\u30f3\u30c9\u3067\u540c\u6642\u306b\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u3001ssl.conf \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u3053\u3053\u306b\u5168\u90e8\u306e\u30db\u30b9\u30c8\u5206\u306e SSL\u8a3c\u660e\u66f8\u3078\u306e\u30d1\u30b9\u7b49\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\u306a\u304a\u3001SSL\u8a3c\u660e\u66f8\u306f\u3000/etc/letsencrypt/archibe/host1.sample.com/\u3000\u306e\u3088\u3046\u306a\u30db\u30b9\u30c8\n\u540d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\nhttp \u3092\u3059\u3079\u3066 https \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u30bb\u30ad\u30e5\u30a2\u8a2d\u5b9a\u306f\u3001ContOS\u4e0a\u3067\u306f\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u5fc5\u8981\u306a\u3089\u3070\u624b\u52d5\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n# SSL\u8a3c\u660e\u66f8\u306e\u66f4\u65b0\n\n\u8a3c\u660e\u66f8\u306e\u6709\u52b9\u671f\u9650\u304c\uff13\u304b\u6708\u306a\u306e\u3067\u3001\u66f4\u65b0\u304c\u5fc5\u8981\u3067\u3059\u3002\u66f4\u65b0\u3082 certbot \u3067\u3057\u307e\u3059\u3002\n\n```\ncertbot renew\n```\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u8a3c\u660e\u66f8\u306e\u671f\u9650\u5207\u308c\u8fd1\u304f\u306b\u306a\u3089\u306a\u3044\u3068\u66f4\u65b0\u3055\u308c\u306a\u3044\u306e\u3067\u3001cron\u3067\u3001\uff11\u9031\u9593\u306b\uff11\u5ea6\u304f\u3089\u3044\u5b9f\u884c\u3057\u3066\u304a\u304f\u3068\u5b89\u5fc3\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u306a\u304a\u3001renew \u3067\u30c9\u30e1\u30a4\u30f3\u540d\u306f\u6307\u5b9a\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u4e0b\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u307e\u3057\u305f\u3002\n\n```\nCurrently, the renew verb is only capable of renewing all installed \ncertificates that are due to be renewed; individual domains cannot be specified \nwith this action. If you would like to renew specific certificates, use the \ncertonly command. The renew verb may provide other options for selecting \ncertificates to renew in the future.\n```\n\n# \u53c2\u8003\n\n\u3053\u3061\u3089\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\n\n* https://letsencrypt.jp/usage\n* http://knowledge.sakura.ad.jp/knowledge/5573/\n", "tags": ["centos7", "letsencrypt", "SSL\u8a3c\u660e\u66f8"]}