{"tags": ["docker", "Hubot", "AWS"], "context": " More than 1 year has passed since last update.Hubot \u7528\u306e\u74b0\u5883\u3092 Dockerfile \u306b\u307e\u3068\u3081\u3001\u30d3\u30eb\u30c9\u3057\u305f\u3082\u306e\u3092 Dockerhub \u306b\u304a\u3044\u3066\u304a\u3051\u3070\u3001AWS \u306b\u304b\u304e\u3089\u305a docker \u304c\u4f7f\u3048\u308c\u3070\u3069\u3053\u3067\u3082\u540c\u3058\u74b0\u5883\u3092\u30e2\u30ea\u30e2\u30ea\u7528\u610f\u3067\u304d\u308b\u306e\u3067\u3001\u305d\u306e\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u304a\u304f\u3002\n\nDockerfile\nHubot\u306e\u74b0\u5883\u306b\u5fc5\u8981\u306a\u3082\u306e\u3092 Dockerfile \u306b\u5165\u308c\u3066\u304f\u3002\n\nDockerfile\n\nFROM ubuntu:14.04\nMAINTAINER keithyokoma\n\nENV HUBOT_SLACK_TOKEN your-slack-token\n\n## install\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install git nodejs npm redis-server -y\nRUN npm install -g coffee-script\nRUN npm install -g hubot\nRUN npm install --save hubot-slack\n# replace nodejs to node\nRUN update-alternatives --install /usr/bin/node node /usr/bin/nodejs 10\n\n\n\n\u30d3\u30eb\u30c9\nMac \u306a\u3089boot2docker\u3092\u4f7f\u3063\u3066\u30d3\u30eb\u30c9\u3057\u3001DockerHub \u306e private repo \u306b\u30d7\u30c3\u30b7\u30e5\u3059\u308b\u3002\n\n(client)      $ boot2docker ssh\n(boot2docker) $ docker build .\n(boot2docker) $ docker login\n(boot2docker) $ docker push my_account/repo:latest\n\n\u30d3\u30eb\u30c9\u306b\u306f\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u3058\u3063\u304f\u308a\u5f85\u3064\u3002\n\nAWS\nAmazon Linux \u306a\u3089\u3001\u307e\u305ayum\u3067 docker \u3092\u3044\u308c\u30c7\u30fc\u30e2\u30f3\u5316\u3057\u3001DockerHub \u306e private repo \u304b\u3089 pull \u3057\u3066\u304d\u3066\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3059\u308b\u3002\u540d\u524d\u3092\u3064\u3051\u3066\u304a\u304f\u3068\u3042\u3068\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u305f\u308a\u6b62\u3081\u305f\u308a\u304c\u7c21\u5358\u306b\u306a\u3063\u3066\u826f\u3044\u3002\n\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u305f\u3089\u3001\u30b3\u30f3\u30c6\u30ca\u306b\u30a2\u30bf\u30c3\u30c1\u3057\u3066\u5165\u308a\u3001\u81ea\u5206\u7528\u306e Hubot \u3092 GitHub \u306a\u3069\u304b\u3089\u53d6\u3063\u3066\u304d\u3066\u8d70\u3089\u305b\u3001Ctrl+p\u3001Ctrl+q\u3067\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u629c\u3051\u3066\u7d42\u308f\u308a\u3002\n\n(client)    $ ssh aws\n(aws)       $ sudo yum update\n(aws)       $ sudo yum install docker\n(aws)       $ sudo service docker start\n(aws)       $ sudo docker login\n(aws)       $ sudo docker pull my_account/repo:latest\n(aws)       $ sudo docker run -i -t --name HUBOT drivemode/hubot /bin/bash\n(container) # exit\n(aws)       $ sudo docker start HUBOT\n(aws)       $ sudo docker attach HUBOT\n(container) # git clone https://github.com/your_account/your_hubot\n(container) # cd your_hubot\n(container) # nohup ./bin/hubot -a slack > LOGFILE &\n(container) # (Ctrl+p, Ctrl+q)\n(aws)       $ exit\n\n\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u629c\u3051\u308b\u3068\u304d\u3001exit\u3059\u308b\u3068docker start HUBOT\u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u304c\u6b62\u307e\u3063\u3061\u3083\u3046\u306e\u3067\u3001Ctrl+p\u3001Ctrl+q\u3067\u629c\u3051\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u305d\u3046\u3059\u308b\u3068\u30b3\u30f3\u30c6\u30ca\u306f\u8d77\u52d5\u3057\u305f\u307e\u307e\u306b\u306a\u308b\u3002\nHubot \u7528\u306e\u74b0\u5883\u3092 Dockerfile \u306b\u307e\u3068\u3081\u3001\u30d3\u30eb\u30c9\u3057\u305f\u3082\u306e\u3092 Dockerhub \u306b\u304a\u3044\u3066\u304a\u3051\u3070\u3001AWS \u306b\u304b\u304e\u3089\u305a docker \u304c\u4f7f\u3048\u308c\u3070\u3069\u3053\u3067\u3082\u540c\u3058\u74b0\u5883\u3092\u30e2\u30ea\u30e2\u30ea\u7528\u610f\u3067\u304d\u308b\u306e\u3067\u3001\u305d\u306e\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u304a\u304f\u3002\n\n## Dockerfile\n\n[Hubot\u306e\u74b0\u5883\u306b\u5fc5\u8981\u306a\u3082\u306e](http://qiita.com/KeithYokoma/items/5803c0b1559095ec9efa)\u3092 Dockerfile \u306b\u5165\u308c\u3066\u304f\u3002\n\n```text:Dockerfile\n\nFROM ubuntu:14.04\nMAINTAINER keithyokoma\n\nENV HUBOT_SLACK_TOKEN your-slack-token\n\n## install\nRUN apt-get update\nRUN apt-get upgrade -y\nRUN apt-get install git nodejs npm redis-server -y\nRUN npm install -g coffee-script\nRUN npm install -g hubot\nRUN npm install --save hubot-slack\n# replace nodejs to node\nRUN update-alternatives --install /usr/bin/node node /usr/bin/nodejs 10\n```\n\n## \u30d3\u30eb\u30c9\n\nMac \u306a\u3089`boot2docker`\u3092\u4f7f\u3063\u3066\u30d3\u30eb\u30c9\u3057\u3001DockerHub \u306e private repo \u306b\u30d7\u30c3\u30b7\u30e5\u3059\u308b\u3002\n\n```\n\n(client)      $ boot2docker ssh\n(boot2docker) $ docker build .\n(boot2docker) $ docker login\n(boot2docker) $ docker push my_account/repo:latest\n```\n\n\u30d3\u30eb\u30c9\u306b\u306f\u6642\u9593\u304c\u304b\u304b\u308b\u306e\u3067\u3058\u3063\u304f\u308a\u5f85\u3064\u3002\n\n## AWS\n\nAmazon Linux \u306a\u3089\u3001\u307e\u305a`yum`\u3067 docker \u3092\u3044\u308c\u30c7\u30fc\u30e2\u30f3\u5316\u3057\u3001DockerHub \u306e private repo \u304b\u3089 pull \u3057\u3066\u304d\u3066\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3059\u308b\u3002\u540d\u524d\u3092\u3064\u3051\u3066\u304a\u304f\u3068\u3042\u3068\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u305f\u308a\u6b62\u3081\u305f\u308a\u304c\u7c21\u5358\u306b\u306a\u3063\u3066\u826f\u3044\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u305f\u3089\u3001\u30b3\u30f3\u30c6\u30ca\u306b\u30a2\u30bf\u30c3\u30c1\u3057\u3066\u5165\u308a\u3001\u81ea\u5206\u7528\u306e Hubot \u3092 GitHub \u306a\u3069\u304b\u3089\u53d6\u3063\u3066\u304d\u3066\u8d70\u3089\u305b\u3001`Ctrl+p`\u3001`Ctrl+q`\u3067\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u629c\u3051\u3066\u7d42\u308f\u308a\u3002\n\n```\n\n(client)    $ ssh aws\n(aws)       $ sudo yum update\n(aws)       $ sudo yum install docker\n(aws)       $ sudo service docker start\n(aws)       $ sudo docker login\n(aws)       $ sudo docker pull my_account/repo:latest\n(aws)       $ sudo docker run -i -t --name HUBOT drivemode/hubot /bin/bash\n(container) # exit\n(aws)       $ sudo docker start HUBOT\n(aws)       $ sudo docker attach HUBOT\n(container) # git clone https://github.com/your_account/your_hubot\n(container) # cd your_hubot\n(container) # nohup ./bin/hubot -a slack > LOGFILE &\n(container) # (Ctrl+p, Ctrl+q)\n(aws)       $ exit\n```\n\n\u30b3\u30f3\u30c6\u30ca\u304b\u3089\u629c\u3051\u308b\u3068\u304d\u3001`exit`\u3059\u308b\u3068`docker start HUBOT`\u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u304c\u6b62\u307e\u3063\u3061\u3083\u3046\u306e\u3067\u3001`Ctrl+p`\u3001`Ctrl+q`\u3067\u629c\u3051\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u305d\u3046\u3059\u308b\u3068\u30b3\u30f3\u30c6\u30ca\u306f\u8d77\u52d5\u3057\u305f\u307e\u307e\u306b\u306a\u308b\u3002\n"}