{"tags": ["Apache2.2", "PHP", "SOAP", "WSDL", "OutOfMemoryError"], "context": "Under Apache2.2 + PHP5.4, executing new SoapClient($url,$option), thrown\nFatal error: Uncaught SoapFault exception: [Client] Allowed memory size of 134217728 bytes exhausted (tried to allocate 1073741952 bytes) in /var/code/erp/RomeoApi/lib_inventory.php:17 \nStack trace: \n#0 /var/code/erp/RomeoApi/lib_inventory.php(17): SoapClient->SoapClient('http://localhos...', Array) \n#1 /var/code/erp/admin/includes/li\n\nmain.php(965): require_once('/var/code/erp/R...') \n    #2 /var/code/erp/admin/indexV2.php(291): facility_mapping('30246773,127684...') \n    #3 /var/code/erp/admin/indexV2.php(19): IndexLibrorumProhibitorum->executeDisplay() \n    #4 {main} \n        thrown in /var/code/erp/RomeoApi/lib_inventory.php on line 17\nSeeming to be a bug of PHP. To fix, delete PHP WSDL cache, such as rm -f /tmp/wsdl-admin-*.\nroot@LeqeeAliyunTest:/var/www/erp/RomeoApi# ls /tmp/\nAegis-<Guid(5A2C30A2-A87D-490A-9281-6765EDAD7CBA)>  phpz67z8z                    wsdl-admin-3dd395e035c78efc1e82fa83930f5c52\nhsperfdata_admin                    qtsingleapp-aegisG-46d2          wsdl-admin-51d6daaea3757bb85066ebbaa7f58578\nhsperfdata_root                     qtsingleapp-aegisG-46d2-lockfile         wsdl-admin-682ea83870a65711c49d9e5e289b3951\nhsperfdata_tomcat7                  tomcat7-tomcat7-tmp              wsdl-admin-9e4336da1dfda9501f003759666a5af1\nnbinstall-20160906-113818-21933.tar         wsdl-admin-05a59dad63f164977635df99eaf5b3ac  wsdl-admin-beb8fbcd6342cada79e83570f243bd0a\nnetworkbench.run.log                    wsdl-admin-08affc66ef3c116f5f1e6a4272bc2cb3  wsdl-admin-ca46591d16fcf28f69967a4eb7e6bf3c\noneapm-install-20160906-182554-29565.tar        wsdl-admin-2657d5ac4b78d9dadcbbd18016a2f68a  wsdl-admin-ca904ced6c43c297ace6c5fd45bfde5c\nphpKAFCDO                       wsdl-admin-2e47578aa4defc8c78cbe0f3d5ff3c25  wsdl-admin-cf5ca3f80b45aa3467012a7afdedc012\nphpTlqKu6                       wsdl-admin-376d24aba3c4e9d4b77028c0cd4f38f6  wsdl-admin-db9b4ef8649a98ba61084f5824dfb85c\nphpxXMkSQ                       wsdl-admin-386bb2539d4e1018c8ef10d209b40201  wsdl-admin-f605c08e9f5a6f5d75524fa0480fb930\nroot@LeqeeAliyunTest:/var/www/erp/RomeoApi# rm -f /tmp/wsdl-admin-*\n\nUnder Apache2.2 + PHP5.4, executing `new SoapClient($url,$option)`, thrown\n\n\tFatal error: Uncaught SoapFault exception: [Client] Allowed memory size of 134217728 bytes exhausted (tried to allocate 1073741952 bytes) in /var/code/erp/RomeoApi/lib_inventory.php:17 \n\tStack trace: \n\t#0 /var/code/erp/RomeoApi/lib_inventory.php(17): SoapClient->SoapClient('http://localhos...', Array) \n\t#1 /var/code/erp/admin/includes/li\nmain.php(965): require_once('/var/code/erp/R...') \n\t#2 /var/code/erp/admin/indexV2.php(291): facility_mapping('30246773,127684...') \n\t#3 /var/code/erp/admin/indexV2.php(19): IndexLibrorumProhibitorum->executeDisplay() \n\t#4 {main} \n\t\tthrown in /var/code/erp/RomeoApi/lib_inventory.php on line 17\n\nSeeming to be a bug of PHP. To fix, delete PHP WSDL cache, such as `rm -f /tmp/wsdl-admin-*`.\n\n\troot@LeqeeAliyunTest:/var/www/erp/RomeoApi# ls /tmp/\n\tAegis-<Guid(5A2C30A2-A87D-490A-9281-6765EDAD7CBA)>  phpz67z8z\t\t\t\t\t wsdl-admin-3dd395e035c78efc1e82fa83930f5c52\n\thsperfdata_admin\t\t\t\t    qtsingleapp-aegisG-46d2\t\t\t wsdl-admin-51d6daaea3757bb85066ebbaa7f58578\n\thsperfdata_root\t\t\t\t\t    qtsingleapp-aegisG-46d2-lockfile\t\t wsdl-admin-682ea83870a65711c49d9e5e289b3951\n\thsperfdata_tomcat7\t\t\t\t    tomcat7-tomcat7-tmp\t\t\t\t wsdl-admin-9e4336da1dfda9501f003759666a5af1\n\tnbinstall-20160906-113818-21933.tar\t\t    wsdl-admin-05a59dad63f164977635df99eaf5b3ac  wsdl-admin-beb8fbcd6342cada79e83570f243bd0a\n\tnetworkbench.run.log\t\t\t\t    wsdl-admin-08affc66ef3c116f5f1e6a4272bc2cb3  wsdl-admin-ca46591d16fcf28f69967a4eb7e6bf3c\n\toneapm-install-20160906-182554-29565.tar\t    wsdl-admin-2657d5ac4b78d9dadcbbd18016a2f68a  wsdl-admin-ca904ced6c43c297ace6c5fd45bfde5c\n\tphpKAFCDO\t\t\t\t\t    wsdl-admin-2e47578aa4defc8c78cbe0f3d5ff3c25  wsdl-admin-cf5ca3f80b45aa3467012a7afdedc012\n\tphpTlqKu6\t\t\t\t\t    wsdl-admin-376d24aba3c4e9d4b77028c0cd4f38f6  wsdl-admin-db9b4ef8649a98ba61084f5824dfb85c\n\tphpxXMkSQ\t\t\t\t\t    wsdl-admin-386bb2539d4e1018c8ef10d209b40201  wsdl-admin-f605c08e9f5a6f5d75524fa0480fb930\n\troot@LeqeeAliyunTest:/var/www/erp/RomeoApi# rm -f /tmp/wsdl-admin-*\n"}