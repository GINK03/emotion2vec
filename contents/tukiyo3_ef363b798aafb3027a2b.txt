{"context": " More than 1 year has passed since last update.1. Asterisk11\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - Qiita\u306e\u7d9a\u304d\u3002\n\n\u9375\u751f\u6210\n\nasterisk\u306esource\u304b\u3089contrib/scripts/ast_tls_cert\u3092\u6301\u3063\u3066\u304f\u308b\u3002\n\n\nkey\u751f\u6210\u6e96\u5099\nsudo mkdir /srv/asterisk11/etc/asterisk/keys/\nsudo cp contrib/scripts/ast_tls_cert /srv/asterisk11/etc/asterisk/keys/\ncd /srv/asterisk11/etc/asterisk/keys/\n\n\n\nkey\u751f\u6210\n# ca.???\u3068asterisk.???\u3092\u751f\u6210\u3059\u308b\nsudo ./ast_tls_cert \\\n -C pbx.mycompany.co.jp \\\n -O \"My Private PBX\" \\\n -d .\n# 050plus.???\u3092\u751f\u6210\u3059\u308b\nsudo ./ast_tls_cert \\\n -m client \\\n -c ca.crt \\\n -k ca.key \\\n -C phone1.mycompany.co.jp \\\n -O \"My Private PBX\" \\\n -d . \\\n -o 050plus\n\n\n\n050plus\u306e\u63a5\u7d9a\u60c5\u5831\u3092\u53d6\u5f97\ngenerate_sip_conf.sh\u3092\u4f7f\u3046\u3002\ngit clone https://github.com/tukiyo/asterisk\ncd asterisk/11\n./generate_sip_conf.sh\n\n\n050plus\u306e\u96fb\u8a71\u756a\u53f7\u3092\u5165\u529b\n050plus\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b(\u975e\u8868\u793a)\nasterisk\u3067\u5f85\u3061\u53d7\u3051\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u5165\u529b\n\u96fb\u8a71\u756a\u53f7.xml \u304c\u751f\u6210\u3055\u308c\u308b\u3002\nsip.conf \u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n\nsip.conf\u306e\u4ee5\u4e0bPATH\u3092\u66f8\u304d\u63db\u3048(\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408)\n-/etc/asterisk/sip.conf\n+/srv/asterisk11/etc/asterisk/sip.conf\n\n\n\nsip.conf\u3092\u4e0a\u66f8\u304d\nsudo sh -c \"cat sip.conf > /srv/asterisk11/etc/asterisk/sip.conf\"\n\n\nsudo /etc/init.d/asterisk restart\n\n\n\u63a5\u7d9a\u78ba\u8a8d\n\nastrisk\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u78ba\u8a8d\nsip show registry\nHost                                    dnsmgr Username       Refresh State                Reg.Time\nkar-f2fcp.050plus.com:5075              N      fmc99999999       3585 Registered           Sun, 15 Jun 2014 17:40:56\n1 SIP registrations.\n\n\n\n[1. Asterisk11\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - Qiita](http://qiita.com/tukiyo3/items/66943dc9fedeab5defe3)\u306e\u7d9a\u304d\u3002\n\n# \u9375\u751f\u6210\n\n* asterisk\u306esource\u304b\u3089`contrib/scripts/ast_tls_cert`\u3092\u6301\u3063\u3066\u304f\u308b\u3002\n\n```bash:key\u751f\u6210\u6e96\u5099\nsudo mkdir /srv/asterisk11/etc/asterisk/keys/\nsudo cp contrib/scripts/ast_tls_cert /srv/asterisk11/etc/asterisk/keys/\ncd /srv/asterisk11/etc/asterisk/keys/\n```\n\n```bash:key\u751f\u6210\n# ca.???\u3068asterisk.???\u3092\u751f\u6210\u3059\u308b\nsudo ./ast_tls_cert \\\n -C pbx.mycompany.co.jp \\\n -O \"My Private PBX\" \\\n -d .\n# 050plus.???\u3092\u751f\u6210\u3059\u308b\nsudo ./ast_tls_cert \\\n -m client \\\n -c ca.crt \\\n -k ca.key \\\n -C phone1.mycompany.co.jp \\\n -O \"My Private PBX\" \\\n -d . \\\n -o 050plus\n```\n\n\n\n# 050plus\u306e\u63a5\u7d9a\u60c5\u5831\u3092\u53d6\u5f97\n\n[generate_sip_conf.sh](https://github.com/tukiyo/asterisk)\u3092\u4f7f\u3046\u3002\n\n```bash:\ngit clone https://github.com/tukiyo/asterisk\ncd asterisk/11\n./generate_sip_conf.sh\n```\n\n1. 050plus\u306e\u96fb\u8a71\u756a\u53f7\u3092\u5165\u529b\n1. 050plus\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b(\u975e\u8868\u793a)\n1. asterisk\u3067\u5f85\u3061\u53d7\u3051\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u5165\u529b\n1. \u96fb\u8a71\u756a\u53f7.xml \u304c\u751f\u6210\u3055\u308c\u308b\u3002\n1. sip.conf \u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n```diff:sip.conf\u306e\u4ee5\u4e0bPATH\u3092\u66f8\u304d\u63db\u3048(\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408)\n-/etc/asterisk/sip.conf\n+/srv/asterisk11/etc/asterisk/sip.conf\n```\n\n```bash:sip.conf\u3092\u4e0a\u66f8\u304d\nsudo sh -c \"cat sip.conf > /srv/asterisk11/etc/asterisk/sip.conf\"\n```\n\n```bash:\nsudo /etc/init.d/asterisk restart\n```\n\n# \u63a5\u7d9a\u78ba\u8a8d\n\n```bash:astrisk\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u78ba\u8a8d\nsip show registry\nHost                                    dnsmgr Username       Refresh State                Reg.Time\nkar-f2fcp.050plus.com:5075              N      fmc99999999       3585 Registered           Sun, 15 Jun 2014 17:40:56\n1 SIP registrations.\n```\n", "tags": ["asterisk"]}