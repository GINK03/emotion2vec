{"context": "\n\n\u306f\u3058\u3081\u306b\n\u3069\u3046\u3082\u3002\u6700\u8fd1\u3001\u65b9\u3005\u3067\u300cbuild\u7b4b\u300d\u3060\u306e\u300c\u3046\u3047\u3076\u3071\u3063\u7b4b\u300d\u3060\u306e\u3068\u767a\u8a00\u3057\u3066\u9870\u8e59\u3092\u8cb7\u3063\u3066\u3044\u308b @Quramy \u3067\u3059\u3002\n\u3055\u3066\u3001\u7686\u3055\u3093Angular\u306eAhead of Time(\u4ee5\u4e0bAoT) Compile\u306f\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u304b\uff1f \u3068\u3066\u3082\u826f\u3044\u4ed5\u7d44\u307f\u3060\u3068\u601d\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u307e\u3068\u3081\u3089\u308c\u305f\u8a18\u4e8b\u3082\u307e\u3060\u6b86\u3069\u898b\u304b\u3051\u307e\u305b\u3093\u3002\n\u50d5\u81ea\u8eab\u306f\u5c11\u3057\u524d\u306b\u696d\u52d9\u6848\u4ef6\u306b\u9069\u7528\u3055\u305b\u305f\u3070\u304b\u308a\u3067\u3059\u3002\u6298\u89d2\u306a\u306e\u3067\u8a18\u61b6\u304c\u9bae\u660e\u306a\u3046\u3061\u306b\u6295\u7a3f\u306b\u3057\u3066\u304a\u3053\u3046\u3068\u601d\u3063\u305f\u6b21\u7b2c\u3067\u3059\u3002\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306f\u4e0b\u8a18\u306e3\u7ae0\u69cb\u6210\u3067\u304a\u5c4a\u3051\u3057\u307e\u3059\u3002\u4f8b\u306b\u3088\u3063\u3066\u7d50\u69cb\u9577\u3044\u306e\u3067\u3001\u81ea\u5206\u304c\u5fc5\u8981\u3068\u3057\u3066\u3044\u308b\u30c6\u30fc\u30de\u306b\u5408\u308f\u305b\u3066\u597d\u304d\u306a\u90e8\u5206\u3092\u8aad\u3093\u3067\u304f\u3060\u3055\u3044\u3002\n\n\u57fa\u672c\u7de8: AoT\u306e\u4ed5\u7d44\u307f\u306b\u3064\u3044\u3066\u306e\u3056\u3063\u304f\u308a\u89e3\u8aac. \u77e5\u3063\u3066\u3044\u308b\u4eba\u306f\u8aad\u307f\u98db\u3070\u3057\u3066OK\n\u5b9f\u8df5\u7de8: \u4e3b\u306b\u50d5\u304cAoT\u306b\u53d6\u308a\u7d44\u3093\u3060\u969b\u306b\u884c\u3063\u305f\u3053\u3068\u3001\u30cf\u30de\u3063\u305f\u30dd\u30a4\u30f3\u30c8\u306b\u3064\u3044\u3066\u306e\u8aac\u660e\n\u767a\u5c55\u7de8: AoT\u74b0\u5883\u3092\u624b\u306b\u5165\u308c\u305f\u5f8c\u306b\u4f55\u3092\u3059\u3079\u304d\u304b\u306b\u3064\u3044\u3066\n\n\n\u5bfe\u8c61\u8aad\u8005\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306f\u4e0b\u8a18\u306e\u8aad\u8005\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\nTypeScript \u3067\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\nAngular 2.x \u3092\u89e6\u3063\u305f\u3053\u3068\u304c\u3042\u308b\nAngular\u306e\u5b9f\u6848\u4ef6\u9069\u7528\u3092\u8003\u3048\u3066\u3044\u308b\u304c\u3001\u6027\u80fd\u306b\u61f8\u5ff5\u3092\u611f\u3058\u3066\u3044\u308b\n\n\u300cAngular 2\u3063\u3066\u4f55\u301c\uff1f\u300d\u3084\u300cAngular\u3067\u3069\u3046\u3084\u3063\u3066\u30a2\u30d7\u30ea\u4f5c\u308c\u3070\u3044\u3044\u306e\uff1f\u300d\u3068\u3044\u3063\u305f\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u3002TodoMVC\u3068\u304b\u898b\u305f\u3089\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u306a(\u9069\u5f53)\u3002\n\nDisclaimer\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u5404\u7a2e\u30c4\u30fc\u30eb\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u3082\u306e\u3092\u7528\u3044\u3066\u3044\u307e\u3059(2016\u5e7410\u6708\u73fe\u5728\u6700\u65b0\u7248)\u3002\n\u7279\u306bwebpack\u306b\u3064\u3044\u3066\u306f\u5b89\u5b9a\u7248\u3067\u306f\u306a\u30442.x\u3092\u9078\u629e\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nNodeJS: 6.7.0\nTypeScript: 2.0.3\nwebpack: 2.1-beta.25\nAngular\u672c\u4f53(@angular/core\u306a\u3069): 2.0.1\n@angular/router: 3.0.1\n@angular/compiler-cli: 0.6.3\nWeb\u30d6\u30e9\u30a6\u30b6(Google Chrome): \u30d0\u30fc\u30b8\u30e7\u30f353\n\n\u307e\u305fAngular 2.0.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u3068\u306f\u3044\u3048\u3001 AoT\u3084\u4ed8\u968f\u3059\u308bAngular\u306e\u30c4\u30fc\u30eb\u306f\u307e\u3060\u767a\u5c55\u9014\u4e0a\u3068\u3044\u3046\u611f\u60f3\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30d3\u30eb\u30c9\u8a2d\u5b9a\u306e\u66f8\u304d\u65b9\u7b49\u306f\u3059\u3050\u306b\u9673\u8150\u5316\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u300c\u9673\u8150\u5316\u3057\u305f\u3089\u305d\u306e\u3068\u304d\u306b\u65b0\u3057\u3044\u65b9\u6cd5\u3092\u5b66\u3073\u76f4\u305b\u3070\u3088\u3044\u3058\u3083\u306a\u3044\u300d\u304f\u3089\u3044\u306e\u6c17\u6301\u3061\u3067\u5411\u304d\u5408\u3046\u3068\u826f\u3044\u304b\u3068\u3002\n\n\u57fa\u672c\u7de8\n\u30bf\u30a4\u30c8\u30eb\u306b\u3082\u542b\u3081\u3066\u3044\u308b\u901a\u308a\u3001\u3053\u306e\u6295\u7a3f\u3067\u306f\u300cAoT\u300d\u3068\u3044\u3046\u30bf\u30fc\u30e0\u3092\u983b\u7e41\u306b\u7528\u3044\u307e\u3059\u3002\n\u307e\u305f\u5bfe\u7fa9\u8a9e\u306b\u300cJiT\u300d\u3092\u7528\u3044\u307e\u3059\u3002\u307e\u305a\u306f\u3053\u308c\u3089\u306e\u610f\u5473\u306b\u3064\u3044\u3066\u3002\n\nJiT(Just in Time) Compile: Web\u30d6\u30e9\u30a6\u30b6\u3067\u306e\u5b9f\u884c\u6642\u306bAngular\u306e Module\u3001Component\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\nAoT(Ahead of Time) Compile: \u30d3\u30eb\u30c9\u6642\u306bAngular\u306eModule\u3001Component\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304a\u304f\u3053\u3068\n\n\u300cAngular\u306eComponent\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u300d\u3068\u3044\u3046\u306e\u306f\u3069\u3046\u3044\u3046\u3053\u3068\u3067\u3057\u3087\u3046\u304b\u3002\n\u4f8b\u3068\u3057\u3066\u6b21\u306eComponent\u306b\u5bfe\u3057\u3066Angular\u304c\u4f55\u3092\u884c\u3046\u304b\u3092\u307f\u3066\u3044\u304d\u307e\u3059\u3002\n@Component({\n  selector: \"my-app\",\n  template: \"<h1>{{greeting}}</h1>\"\n})\nexport class MyAppComponent {\n  greeting = \"Heelo, world!\";\n}\n\n\u4e0a\u8a18\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306fAngular\u306e\u5185\u5074\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n(\u30b3\u30f3\u30d1\u30a4\u30eb\u7d50\u679c\u30a4\u30e1\u30fc\u30b8)\n  createInternal(rootSelector:string):import2.AppElement {\n    const parentRenderNode:any = this.renderer.createViewRoot(this.declarationAppElement.nativeElement);\n    /* A. DOM\u8981\u7d20\u306e\u751f\u6210 */\n    this._el_0 = this.renderer.createElement(parentRenderNode,'h1',(null as any));\n    this._text_1 = this.renderer.createText(this._el_0,'',(null as any));\n    this._expr_0 = import7.UNINITIALIZED;\n    this.init([],[\n      this._el_0,\n      this._text_1\n    ]\n    ,[],[]);\n    return (null as any);\n  }\n  detectChangesInternal(throwOnChange:boolean):void {\n    this.detectContentChildrenChanges(throwOnChange);\n    /* B. \u5185\u633f\u306e\u66f4\u65b0 */\n    const currVal_0:any = import4.interpolate(1,'',this.context.greeting,'');\n    if (import4.checkBinding(throwOnChange,this._expr_0,currVal_0)) {\n      this.renderer.setText(this._text_1,currVal_0);\n      this._expr_0 = currVal_0;\n    }\n    this.detectViewChildrenChanges(throwOnChange);\n  }\n\n\n\nA: Renderer\u3092\u5229\u7528\u3057\u305fDOM\u751f\u6210\u30b3\u30fc\u30c9\nB: \u5909\u66f4\u304c\u691c\u77e5\u3055\u308c\u305f\u969b\u306b\u5185\u633f\u3057\u3066\u3044\u308b\u6587\u5b57\u5217\u3092\u66f4\u65b0\u3059\u308b\u51e6\u7406\n\n\u304c\u898b\u3066\u3068\u308c\u307e\u3059\u306d\u3002\n\u3053\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u304c\u3001JiT\u306e\u5834\u5408\u306f\u5b9f\u884c\u6642\u306b\u95a2\u6570\u3068\u3057\u3066\u3001AoT\u306e\u5834\u5408\u306fbuild\u6642\u306b\u9759\u7684\u306b\u751f\u6210\u3055\u308c\u308b\u306e\u3067\u3059\u3002\nAngularJS 1.x\u306b\u304a\u3051\u308b2\u30d5\u30a7\u30fc\u30ba\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u3054\u5b58\u77e5\u306e\u65b9\u306f\u300cCompile\u300d\u3068\u300cLink\u300d\u3068\u3044\u3046\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nCompile\u30d5\u30a7\u30fc\u30ba\u306e\u5f79\u5272\u306fLink\u95a2\u6570\u3092\u751f\u6210\u3057\u3066\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u4f1d\u3048\u308b\u3053\u3068\u3067\u3057\u305f\u3002\n\u3053\u306e\u6d41\u308c\u81ea\u4f53\u306fAngular 2.x\u3067\u3082\u540c\u69d8\u3067\u3059\u3002\u4e0a\u8a18\u306e\u51fa\u529b\u4f8b\u306fLink\u95a2\u6570\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u3002\n\u3053\u306e\u3088\u3046\u306bAngular\u3067\u306f\u3001HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4e8b\u524d\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u6700\u9069\u5316\u3055\u308c\u305fDOM\u64cd\u4f5c\u30b3\u30fc\u30c9\u7b49\u3092\u751f\u6210\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u5909\u66f4\u691c\u77e5\u6642\u306e\u30b3\u30b9\u30c8\u3092\u6291\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u6c5d\u306e\u6575\u3092\u77e5\u308c\n\u3055\u3066\u3001\u554f\u984c\u3068\u306a\u308b\u306e\u306f\u300c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u9593\u304c\u99ac\u9e7f\u306b\u306a\u3089\u306a\u3044\u300d\u3068\u3044\u3046\u4e8b\u5b9f\u3067\u3059\u3002\n\u7121\u8996\u3067\u304d\u308b\u7a0b\u5ea6\u306e\u30aa\u30fc\u30c0\u30fc\u3067\u3042\u308c\u3070\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u73fe\u5b9f\u306f\u305d\u3093\u306a\u306b\u7518\u304f\u306a\u3044\u3067\u3059\u3002\n\u4ed6\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u4f8b\u3048\u308b\u3068\u3001React JSX\u306e\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3092\u5b9f\u884c\u6642\u306b\u6bce\u56de\u884c\u3063\u3066\u3044\u308b\u3088\u3046\u306a\u72b6\u614b\u3067\u3059\u3082\u306e\u3002\nAngular\u306e\u30a2\u30d7\u30ea\u306b\u95a2\u308f\u3089\u305a\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6539\u5584\u306b\u3064\u3044\u3066\u306f\u307e\u305a\u5b9a\u91cf\u7684\u306b\u6e2c\u5b9a\u3059\u308b\u3001\u304c\u9244\u5247\u3067\u3059\u3002\u6e2c\u5b9a\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4ee5\u4e0b\u306e\u56f3\u306f\u3001\u50d5\u304c\u5b9f\u6848\u4ef6\u3067AoT\u5bfe\u5fdc\u3092\u3084\u308d\u3046\u3001\u3068\u6c7a\u5fc3\u3057\u305f\u3068\u304d\u306b\u53d6\u5f97\u3057\u305f\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u3059\u3002\n\nChrome\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3067\u30a4\u30cb\u30b7\u30e3\u30eb\u30ed\u30fc\u30c9\u6642\u306eCPU Profile\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\u898b\u3066\u306e\u3068\u304a\u308a\u3001compile\u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u30671000 msec\u4ee5\u4e0a\u6d88\u8cbb\u3057\u3066\u3044\u307e\u3059\u3002\u5185\u8a33\u306e\u307b\u307c\u5168\u3066\u304c RuntimeCompiler._compileTemplate \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u540d\u3067\u3042\u308b\u3053\u3068\u304b\u3089\u3082\u5206\u304b\u308b\u901a\u308a\u3001\u3053\u308c\u304cJiT\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u3053\u306e\u6642\u70b9\u3067\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u304a\u3051\u308bComponent\u6570\u306f60~70\u500b\u7a0b\u5ea6\u3067\u3059\u3002\u3082\u306e\u51c4\u304f\u591a\u3044\u3001\u3068\u3044\u3046\u6570\u3067\u306f\u306a\u3044\u3067\u3059\u3002\nJiT\u304b\u3089AoT\u306b\u5207\u308a\u66ff\u3048\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u3053\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3092\u307e\u308b\u3063\u3068\u524a\u6e1b\u3067\u304d\u308b\u3068\u8a00\u3046\u610f\u5473\u3067\u3059\u3002\n\nShaking up baby\n\u300c\u9759\u7684\u306b\u30b3\u30fc\u30c9\u3092\u51fa\u529b\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u305d\u306e\u5206bundle\u306e\u30b5\u30a4\u30ba\u304c\u5897\u5927\u3059\u308b\u3093\u3058\u3083\u306a\u3044\u306e\uff1f\u300d\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\n\u3068\u3044\u3046\u304b\u3001\u50d5\u3082\u6700\u521d\u306f\u305d\u3046\u601d\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\u3068\u3053\u308d\u304c\u305d\u3046\u3067\u3082\u306a\u3044\u306e\u3067\u3059\u3002\n\u4f55\u6545\u304b\u3068\u3044\u3046\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u4e8b\u524d\u306b\u6e08\u307e\u305b\u308b\u3068\u3044\u3046\u3053\u3068\u306fAngular\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u305f\u3081\u306b\u5fc5\u8981\u3068\u3057\u3066\u3044\u308b\u6a5f\u80fd(\u5177\u4f53\u7684\u306b\u306f@angular/compiler)\u81ea\u4f53\u304c\u4e0d\u8981\u3068\u306a\u308b\u304b\u3089\u3067\u3059\u3002\n@angular/compiler\u306fminify\u3057\u3066\u3082300KB\u3092\u8d8a\u3048\u307e\u3059\u3002\n\u3059\u306a\u308f\u3061\u3001\"@angular/compiler\u306e\u30b5\u30a4\u30ba\" > \"\u51fa\u529b\u3055\u308c\u305f\u30b3\u30f3\u30d1\u30a4\u30eb\u6e08\u307f\u30b3\u30fc\u30c9\" \u3068\u306a\u308b\u30b1\u30fc\u30b9\u3082\u591a\u3044\u306e\u3067\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001Component\u6570\u3084\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u304c\u5897\u3048\u308c\u3070\u3053\u306e\u95a2\u4fc2\u306f\u9006\u8ee2\u3059\u308b\u306e\u3067\u3001\u4e00\u5f8b\u306b\u3069\u3046\u3068\u3044\u3046\u8a71\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3002\n\u3082\u3046\u4e00\u70b9\u3001AoT\u7279\u6709\u306ebundle\u524a\u6e1b\u52b9\u679c\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u304cTree Shaking\u3067\u3059(Tree Shaking\u306b\u3064\u3044\u3066\u306f\u3053\u306e\u8a18\u4e8b\u3067\u306f\u89e3\u8aac\u3057\u307e\u305b\u3093\u3002\u30b0\u30b0\u308c\u3070\u8272\u3005\u51fa\u3066\u304f\u308b\u3068\u601d\u3044\u307e\u3059\u3057)\u3002\nAoT\u3067\u306f\u3001@angular/compiler-cli\u306b\u542b\u307e\u308c\u308b ngc \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u3001\u5148\u7a0b\u4f8b\u793a\u3057\u305f\u3088\u3046\u306aTypeScript\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9(.ngfactory.ts)\u3092HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u751f\u6210\u3057\u307e\u3059\u3002\n\u3053\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u81ea\u8eab\u306e\u63cf\u753b\u306b\u5fc5\u8981\u306a\u95a2\u6570\u306e\u307f\u3092import\u3059\u308b\u3088\u3046\u306b\u6700\u9069\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001bundle\u4f5c\u6210\u6642\u306bTree Shaking\u3092\u884c\u3046\u3053\u3068\u3067\u672c\u5f53\u306b\u5fc5\u8981\u3068\u3057\u3066\u3044\u308bclass, \u95a2\u6570\u3060\u3051\u3092\u9078\u629e\u3057\u3066bundle\u306b\u542b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u884c\u6642\u307e\u3067\u4f55\u304c\u5fc5\u8981\u304b\u5206\u304b\u3089\u306a\u3044JiT\u74b0\u5883\u3067\u306f\u3001\u300c\u5fc5\u8981\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u6a5f\u80fd\u300d\u3059\u3079\u3066\u3092bundle\u306b\u542b\u3081\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044\u305f\u3081\u3001Tree Shaking\u306e\u65e8\u5473\u306f\u5473\u308f\u3048\u307e\u305b\u3093\u3002\n\nYou're so lucky\n\u3053\u3053\u307e\u3067\u300c\u30a4\u30cb\u30b7\u30e3\u30eb\u30ed\u30fc\u30c9\u306e\u6027\u80fd\u6539\u5584\u300d\u3068\u3044\u3046\u5074\u9762\u3067AoT\u3092\u8a9e\u3063\u3066\u304d\u307e\u3057\u305f\u304c\u3001AoT\u306b\u3088\u3063\u3066\u5f97\u3089\u308c\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u4ed6\u306b\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u9759\u7684\u30c1\u30a7\u30c3\u30af\n\u4e0a\u8ff0\u3057\u305f\u3088\u3046\u306b\u3001ngc\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u3068HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089.ngfactory.ts\u3092\u51fa\u529b\u3057\u307e\u3059\u3002bundle\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u306f\u3053\u306e.ngfactory.ts\u3092JavaScript\u306b\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3057\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u3067bundle\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3001\u3068\u3044\u3046\u30d3\u30eb\u30c9\u30d5\u30ed\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\u8a00\u3044\u63db\u3048\u308b\u3068\u3001\u30d3\u30eb\u30c9\u30d5\u30ed\u30fc\u306e\u4e2d\u3067HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8(\u306b\u76f8\u5f53\u3059\u308bTypeScript)\u306b\u5bfe\u3057\u3066\u578b\u304c\u30c1\u30a7\u30c3\u30af\u3055\u308c\u308b\u3068\u3044\u3046\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002\n\u5f93\u6765\u306eAngularJS 1.x\u3067\u306f\u96e3\u3057\u304b\u3063\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u9759\u7684\u691c\u8a3c\u304c\u884c\u3048\u308b\u305f\u3081\u3001\u3088\u308a\u5805\u7262\u306a\u30d3\u30eb\u30c9\u30d5\u30ed\u30fc\u3092\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eValidation\u3092\u76ee\u7684\u3068\u3057\u305f\u3060\u3051\u306e\u5358\u4f53\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u3082\u7121\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u5229\u70b9\nAoT\u74b0\u5883\u3067\u306f@angular/compiler\u304cbundle\u306b\u542b\u307e\u308c\u307e\u305b\u3093\u3002\n\u3053\u308c\u306f\u3001\u5b9f\u884c\u6642\u306bHTML\u304b\u3089Angular\u306eComponent\u3092\u751f\u6210\u3059\u308b\u624b\u6bb5\u3092\u5931\u3046\u3068\u3044\u3046\u610f\u5473\u3067\u3059\u304c\u3001\u88cf\u3092\u8fd4\u3059\u3068\u60aa\u610f\u3092\u6301\u3063\u305f\u7b2c3\u8005\u304c\u8cb4\u65b9\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u7834\u58ca\u3059\u308b\u65b9\u6cd5\u304c1\u3064\u6e1b\u3063\u305f\u3068\u6349\u3048\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001\u3053\u308c\u3060\u3051\u3067XSS\u5bfe\u7b56\u5b8c\u74a7\uff01\u3068\u3044\u3046\u3053\u3068\u306f\u5168\u304f\u7121\u3044\u306e\u3067\u3059\u304c\u3001Angular\u306eruntime_compiler\u304c\u5b9f\u884c\u6642\u306b\u5b58\u5728\u3057\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u306f\u305d\u306e\u5206\u653b\u6483\u306e\u30dd\u30a4\u30f3\u30c8\u3092\u6e1b\u3089\u305b\u308b\u306e\u306f\u4e8b\u5b9f\u3067\u3059\u3002\n\n\u5b9f\u8df5\u7de8\n\nWeapon of choice?\n\u57fa\u672c\u7de8\u3067\u8ff0\u3079\u305f\u3088\u3046\u306bAoT\u306b\u304a\u3044\u3066bundle.js\u306e\u30b5\u30a4\u30ba\u304c\u524a\u6e1b\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u306e\u306fTree Shaking\u306b\u5bfe\u5fdc\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u307e\u3059\u3002\nTree Shaking\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u306b\u306f\u30012016\u5e7410\u6708\u73fe\u5728 webpack(2.x)\u3068Rollup\u304c2\u5927\u5019\u88dc\u3067\u3057\u3087\u3046(\u4ed6\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30c4\u30fc\u30eb\u304c\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044)\n\nwebpack\n\nv2.x\u304b\u3089\u306fTree Shaking\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5229\u7528\u53ef\u80fd\u306b\u3002angular-cli\u7b49\u3001\u516c\u5f0f\u3067\u3082\u63a1\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3001\u300c\u4f55\u3067\u3082\u51fa\u6765\u3066\u3057\u307e\u3046\u300d\u30c4\u30fc\u30eb\u306a\u306e\u3067\u3001\u4f7f\u3044\u65b9\u3092\u9593\u9055\u3046\u3068webpack\u3068\u5fc3\u4e2d\u3059\u308b\u7fbd\u76ee\u306b\u306a\u308a\u305d\u3046\u3002\n\nRollup\nES2015\u306b\u6700\u9069\u5316\u3055\u308c\u305fTree Shaking\u306f\u9b45\u529b\u3002webpack 2.x\u3088\u308a\u3082bundle\u306e\u30b5\u30a4\u30ba\u3092\u524a\u308c\u308b\u3068\u306e\u5831\u544a\u3082(\u50d5\u81ea\u8eab\u306f\u672a\u691c\u8a3c\u3067\u3059)\u3002\n\u5168\u3066\u306e\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3092ES Modules\u306e\u5f62\u5f0f\u306b\u5909\u63db\u3057\u306a\u3044\u3068bunlde\u304c\u4f5c\u6210\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u7279\u6027\u4e0a\u3001\u5c0e\u5165\u30cf\u30fc\u30c9\u30eb\u306fwebpack\u3088\u308a\u3082\u9ad8\u304f\u7384\u4eba\u5411\u3051\u306a\u5370\u8c61\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\u3042\u3068\u3001Angular\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u306bGoogle Closure Compiler\u3092\u9069\u7528\u3059\u308b\u3001\u3068\u3044\u3046\u30d7\u30e9\u30f3\u3082\u3042\u308b\u3088\u3046\u3067\u30591\u3002\u3068\u3066\u3082\u8208\u5473\u6df1\u3044\u30c6\u30fc\u30de\u3067\u3059\u304c\u3001\u3053\u306e\u6295\u7a3f\u3067\u306f\u53d6\u308a\u6271\u3044\u307e\u305b\u3093\u3001\u3068\u3044\u3046\u304b\u53d6\u308a\u6271\u3048\u308b\u307b\u3069\u4e2d\u8eab\u3092\u77e5\u308a\u307e\u305b\u3093\u3002\u3002\u3002\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u306bwebpack 2.x\u3092\u7528\u3044\u3066\u4ee5\u964d\u306e\u8a71\u3092\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u3053\u308c\u304c\u3053\u3046\u306a\u3063\u3066\u3053\u3046\u3058\u3083\n\u74b0\u5883\u69cb\u7bc9\u304c\u9762\u5012\u306a\u65b9\u306f angular-cli \u3092\u5229\u7528\u3059\u308b\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\nng build --aot \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068AoT\u5bfe\u5fdc\u3057\u305fbundle.js\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u305f\u3060\u3001\u73fe\u72b6\u3067\u306f angular-cli\u306e ng new \u30b3\u30de\u30f3\u30c9\u3067\u751f\u6210\u3057\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u306f webpack.config.js\u304c\u542b\u307e\u308c\u307e\u305b\u3093\u3002\n\u4f55\u6545\u304b\u306f\u3068\u3082\u304b\u304f\u3001\u81ea\u5206\u3067build\u306e\u8a2d\u5b9a\u304c\u5909\u66f4\u3057\u306b\u304f\u3044\u306e\u306f\u4e8b\u5b9f\u3067\u3059\u306e\u3067\u3001\u50d5\u306fangular-cli\u306b\u306f\u983c\u3089\u305a\u306b\u81ea\u5206\u3067\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u3002\nangular-cli\u306e\u5834\u5408\u306f\u3001\u300c\u3053\u3053\u306b.ts\u304c\u3042\u308b\u3058\u3083\u308d\uff1f\u300d\u2192\u300c\u3053\u308c\u304c\u3053\u3046\u306a\u3063\u3066\u3053\u3046\u3058\u3083\uff01\u300d\u7684\u306a\u611f\u3058\u3067AoT\u306b\u5bfe\u5fdc\u3057\u305fbundle\u304c\u51fa\u6765\u4e0a\u304c\u308b\u306e\u3067\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u81ea\u5206\u3067\u3084\u308b\u3068\u306a\u308b\u3068\u5730\u5473\u306b\u5927\u5909\u3067\u3059\u3002\n\n\u958b\u767a\u74b0\u5883bundle\u306e\u4f5c\u6210\n\u30ed\u30fc\u30ab\u30eb\u3067\u306e\u958b\u767a\u6642\u306fAoT\u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u306a\u305c\u306a\u3089ngc\u306e\u5b9f\u884c\u304c\u9045\u3044\u304b\u3089\u3002\n\u3061\u306a\u307f\u306bngc\u304c\u3069\u308c\u304f\u3089\u3044\u6642\u9593\u304c\u304b\u304b\u308b\u304b\u3068\u3044\u3046\u3068\u3001\u50d5\u306e\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u306f\u3001\u304a\u3088\u305d100\u7a0b\u5ea6\u306eComponent\u306b\u5bfe\u3057\u3066\u7d0430\u79d2\u304b\u304b\u308a\u307e\u3059\u3002\nCI\u3067\u5229\u7528\u3057\u3066\u3044\u308bwercker\u306e\u74b0\u5883\u3067\u3082\u540c\u7a0b\u5ea6\u306e\u6642\u9593\u3092\u8981\u3057\u3066\u3044\u307e\u3059\u3002\u3055\u3059\u304c\u306bwatch\u306b\u7d44\u307f\u8fbc\u3081\u308b\u30ec\u30d9\u30eb\u3067\u306f\u306a\u3044...\n\u3086\u304f\u3086\u304f\u3001ngc\u304c\u7206\u901f\u306b\u306a\u3063\u305f\u3089\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u3082AoT\u306b\u3057\u305f\u3044\u3067\u3059\u3051\u3069\u306d\u3002\n\u3055\u3066\u3001\u305d\u3093\u306a\u8a33\u3067\u30ed\u30fc\u30ab\u30eb\u3067\u306fJiT\u69cb\u6210\u306ebundle\u3092\u751f\u6210\u3059\u308b\u3088\u3046\u306bbuild\u3092\u7d44\u3093\u3067\u3044\u307e\u3059\u3002build\u30d5\u30ed\u30fc\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u611f\u3058\u3002\n\ngulp\u3067src/**/*.component.css\u3092built/**/*.component.css\u306bpostcss\u3067\u5909\u63db\ngulp\u3067src/**/*.component.html\u3092built/**/*.component.html\u3078\u30b3\u30d4\u30fc\ntsc\u3067src/**/*.ts\u3092built/**/*.js\u3078\u5909\u63db\nwebpack + babel-loader, angular2-template-loader\u3067bundle\u3092\u4f5c\u6210\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u3067\u66f8\u304f\u3068\u3001\u4e0b\u8a18\u306e\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\n\n\u30d5\u30a1\u30a4\u30eb\u69cb\u6210(dev)\n|-- dist\n| `-- budnle.js\n|\n|-- src/                      [\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u7f6e\u304d\u5834]\n| |-- main.ts\n| |-- module.ts\n| |-- my-app.component.ts\n| |-- my-app.component.html\n| `-- my-app.component.css    (postcss\u524d)\n| \n|-- built/                    [created]\n| |-- main.js                 (webpack\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8)     \n| |-- module.js\n| |-- my-app.component.js\n| |-- my-app.component.html\n| `-- my-app.component.css    (postcss\u5f8c) \n|\n|-- .babelrc\n|-- tsconfig.json\n|-- webpack.config.dev.json\n`-- package.json\n\n\n\u5b9f\u969b\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u304b\u3089\u7c21\u7565\u5316\u3057\u3066\u3044\u307e\u3059\u304c\u3001webpack.config\u306f\u304a\u3088\u305d\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nwebpack.config.dev.js\nconst path = require(\"path\");\n\nmodule.exports = {\n  module: {\n    loaders: [\n      {test: /\\.js$/, loader: [\"babel-loader\", \"angular2-template-loader\"], exclude: /node_modules/},\n      {test: /\\.component\\.html$/, loader: [\"raw-loader\"]},\n      {test: /\\.componrnt\\.css$/, loader: [\"raw-laoder\"]},\n    ]\n  },\n  output: {\n    path: path.join(__dirname, \"./dist\"),\n    filename: \"[name].js\"\n  },\n  entry: {\n    \"bundle\": path.resolve(__dirname, \"./built/main.js\"),\n  },\n};\n\n\n\u4e0a\u8a18\u3067\u767b\u5834\u3057\u3066\u3044\u308bangular2-template-loader\u306b\u3064\u3044\u3066\u3067\u3059\u3002\u3053\u306eloader\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306aAngular Component\u306b\u304a\u3051\u308btemplateUrl\u3068styleUrls\u306b\u53cd\u5fdc\u3057\u307e\u3059\u3002\n\nmy-app.component.ts\n@Component({\n  selector: \"my-app\",\n  templateUrl: \"./my-app.component.html\",\n  styleUrls: [\"./my-app.component.css\"],\n})\nexport class MyAppComponent {\n}\n\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306fangular2-template-loader\u306b\u3088\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\nangular2-template-loader\u306eoutput\n@Component({\n  selector: \"my-app\",\n  template: require(\"./my-app.component.html\"),\n  styles: [require(\"./my-app.component.css\")],\n})\nexport class MyAppComponent {\n}\n\n\n\u3053\u308c\u3092raw-loader\u306b\u901a\u3059\u3053\u3068\u3067\u3001.html\u3084.css\u304cwebpack\u306b\u3088\u308abundle\u3055\u308c\u308b\u4ed5\u7d44\u307f\u3067\u3059\u3002\n\u4f55\u6545\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u76f4\u63a5require\u3092\u8a18\u8ff0\u305b\u305a\u306bangular2-template-loader\u3092\u4f7f\u3046\u306e\u304b\u3063\u3066\uff1f\u3053\u308c\u306f\u4e0b\u8a182\u3064\u306e\u7406\u7531\u304c\u3042\u308a\u307e\u3059\u3002\n\nAoT\u306b\u304a\u3044\u3066\u5229\u7528\u3059\u308bngc\u304crequire\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u3089\u305a\u3001templateUrl, styleUrls\u306e\u8a18\u6cd5\u3067\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\n\u305d\u3082\u305d\u3082HTML\u3084CSS\u30d5\u30a1\u30a4\u30eb\u306fJavaScript(TypeScript)\u304b\u3089\u76f4\u63a5require/import\u3059\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u306f\u306a\u3044\n\nAoT\u306b\u5411\u304d\u5408\u3046\u4e0a\u3067\u91cd\u8981\u306a\u306e\u306f\u30011.\u306e\u65b9\u3067\u3059\u304c\u3001AoT\u3092\u5229\u7528\u305b\u305a\u3068\u3082\u30b3\u30fc\u30c9\u304b\u3089webpack\u4f9d\u5b58\u3092\u6e1b\u3089\u305b\u308b\u306e\u3067\u3001\u7a4d\u6975\u7684\u306b\u5229\u7528\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u3082\u3046\u4e00\u70b9\u88dc\u8db3. \u306a\u305cpostcss-loader\u3092\u4f7f\u308f\u305a\u306b\u3001\u308f\u3056\u308f\u3056gulp\u3067postcss\u5909\u63db\u3092\u304b\u3051\u305f\u304b\u3001\u306b\u3064\u3044\u3066\u3067\u3059\u3002\n\u3053\u308c\u306fwebpack2.x\u3068postcss(\u6b63\u78ba\u306b\u306fpostcss-import\u3068\u3044\u3046postcss\u3067@import\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306eplugin)\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u7d50\u679c\u3001build\u304c\u76db\u5927\u306b\u58ca\u308c\u308b\u3068\u3044\u3046webpack 2.x\u306ebug\u3092\u8e0f\u3093\u3060\u305f\u3081\u3067\u3059\u3002\n\u307e\u305f\u3001AoT\u306b\u5411\u304d\u5408\u3046\u4e0a\u3067\u3001ngc\u3092\u5b9f\u884c\u3059\u308b\u524d\u306bCSS\u306epre-process\u306f\u5b9f\u65bd\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u751f\u3058\u305f\u306e\u3067\u3001\u7d50\u5c40webpack\u306eloader\u306f\u6975\u529b\u5c11\u306a\u304f\u3059\u308b\u65b9\u5411\u306b\u6301\u3063\u3066\u3044\u304d\u307e\u3057\u305f\u3002gulp\u3068webpack\u304c\u6df7\u3056\u3063\u3066\u3044\u308b\u306e\u306f\u8cdb\u5426\u3042\u308a\u305d\u3046\u3067\u3059\u3051\u3069\u306d\u3002\n\n\u30ea\u30ea\u30fc\u30b9\u7528bundle\u306e\u4f5c\u6210\n\u3055\u3066\u3001\u3044\u3088\u3044\u3088AoT\u7528\u306ebuild\u3067\u3059\u3002ngc\u304c\u767b\u5834\u3059\u308b\u5206\u3001\u8907\u96d1\u5316\u3057\u307e\u3059\u3002\n\nngc\u306e\u6e96\u5099\u30d5\u30a7\u30fc\u30ba\n\n\ngulp\u3067src/**/*component.css\u3092src_aot/**/*.component.css\u306bpostcss\u3067\u5909\u63db\ngulp\u3067src/**/*.component.html\u3092src_aot/**/*.component.html\u3078\u30b3\u30d4\u30fc\ngulp\u3067src/**/*.ts\u3092src_aot/**/*.ts\u3078\u30b3\u30d4\u30fc\nAoT\u7528\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092 src_aot/main_aot.ts\u3068\u3057\u3066\u914d\u7f6e\n\n\nngc\u306e\u5b9f\u884c\n\n\n\nngc -p tsconfig.aot.json \u3092\u5b9f\u884c\u3002src_aot/\u914d\u4e0b\u306b*.ngfactory.ts\u304c\u751f\u6210\u3055\u308c\u308b\n\n\n\u30d0\u30f3\u30c9\u30eb\u306e\u4f5c\u6210\n\n\ntsc\u3067src_aot/**/*.ts\u3092built/**/*.js\u3078\u5909\u63db\nwebpack + babel-loader\u3067bundle\u3092\u4f5c\u6210\n\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30d5\u30a1\u30a4\u30eb\u69cb\u6210(dev)\n|-- dist\n| `-- budnle.js\n|\n|-- src/                              [\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u7f6e\u304d\u5834]\n| |-- main.ts\n| |-- my-module.ts\n| |-- my-app.component.ts\n| |-- my-app.component.html\n| `-- my-app.component.css            (postcss\u524d)\n| \n|-- src_aot/                          [ngc\u3092\u5b9f\u884c\u3059\u308b\u7528\u306e\u4e00\u6642\u9818\u57df]\n| |-- main_aot.ts\n| |-- my-module.ts\n| |-- my-module.ngfactory.ts          (ngc\u306b\u3088\u308a\u751f\u6210\u3055\u308c\u308b)\n| |-- my-app.component.ts\n| |-- my-app.component.ngfactory.ts   (ngc\u306b\u3088\u308a\u751f\u6210\u3055\u308c\u308b)\n| |-- my-app.component.html\n| |-- my-app.component.css            (postcss\u5f8c)\n| `-- my-app.component.css.shim.ts    (ngc\u306b\u3088\u308a\u751f\u6210\u3055\u308c\u308b)\n| \n|-- built/                            [tsc\u3067\u51fa\u529b\u3059\u308b]\n| |-- main_aot.js                     (webpack\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8)\n| |-- my-module.js\n| |-- my-module.ngfactory.js\n| |-- my-app.component.js\n| |-- my-app.component.ngfactory.js\n| `-- my-app.component.css.shim.js\n|\n|-- .babelrc\n|-- tsconfig.json\n|-- tsconfig_aot.json\n|-- webpack.config.dev.json\n|-- webpack.config.prod.json\n`-- package.json\n\n\nAoT\u3067\u306f\u3001webpack\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308bbootstarp\u30b3\u30fc\u30c9\u306e\u8a18\u8ff0\u304cJiT\u306e\u5834\u5408\u3068\u7570\u306a\u308b\u70b9\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nsrc/main.ts(JiT\u7528)\nimport 'core-js/es6';\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { MyModule } from \"./my-module\";\n\nplatformBrowserDynamic().bootstrapModule(MyModule);\n\n\n\nsrc_aot/main_aot.ts(AoT\u7528)\nimport 'core-js/es6';\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\nimport { platformBrowser } from '@angular/platform-browser';\nimport { MyModuleNgFactory } from \"./my-module.ngfactory\";\n\n/* AoT\u3067\u306fbootstrap\u306e\u547c\u3073\u51fa\u3057\u65b9\u304cJiT\u3068\u7570\u306a\u308b */\nplatformBrowser().bootstrapModuleFactory(MyModuleNgFactory);\n\n\nngc\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u306ftsconfig.json\u306b\u5e7e\u3064\u304b\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002angularCompilerOptions \u3068\u3044\u3046\u306e\u304cngc\u7528\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u306a\u308a\u307e\u3059\u3002genDir\u304c.ngfactory.ts\u306e\u51fa\u529b\u5148\u3067\u3059\u306d\u3002\u305d\u308c\u4ee5\u5916\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306fTypeScript\u3067\u5229\u7528\u3059\u308bconfig\u3068\u4e00\u7dd2\u3002rootDirs\u3092\u99c6\u4f7f\u3059\u308c\u3070\u3001\u3082\u3063\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u30b7\u30f3\u30d7\u30eb\u306b\u3067\u304d\u305d\u3046\u3002\n\ntsconfig_aot.json\n{\n  \"compilerOptions\": {\n    \"module\": \"es2015\",\n    \"target\": \"es2015\",\n    \"noImplicitAny\": true,\n    \"sourceMap\": false,\n    \"outDir\": \".built\",\n    \"rootDir\": \"src_aot\",\n    \"moduleResolution\": \"node\",\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"types\": [\"node\"]\n  },\n  \"exclude\": [\"node_modules\", \"bundle\", \"dist\", \"src\"],\n  \"angularCompilerOptions\": {\n    \"genDir\": \".\",\n    \"debug\": false\n  }\n}\n\n\n\u7d9a\u3044\u3066AoT\u7528\u306ewebpack\u8a2d\u5b9a\u3067\u3059\u3002\u52ff\u8ad6webpack-merge\u3092\u4f7f\u3063\u3066\u5171\u901a\u5316\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u306a\u306e\u3067\u3059\u304c\u3001\u8aac\u660e\u304c\u9762\u5012\u306a\u306e\u3067\u5168\u90e8\u66f8\u304d\u51fa\u3057\u307e\u3057\u305f\u3002\n\nwebpack.config.prod.js\nconst path = require(\"path\");\nconst webpack = require(\"webpack\");\n\nmodule.exports = {\n  module: {\n    loaders: [\n      {test: /\\.js$/, loader: [\"babel-loader\"], exclude: /node_modules/},\n    ]\n  },\n  output: {\n    path: path.join(__dirname, \"./dist\"),\n    filename: \"[name].js\"\n  },\n  entry: {\n    \"bundle\": path.resolve(__dirname, \"./built/main.js\"),\n  },\n  plugins: [\n    new webpack.LoaderOptionsPlugin({\n      minimize: true,\n      debug: false\n    }),\n    new webpack.optimize.UglifyJsPlugin({\n      compress: {\n        warnings: false\n      },\n      output: {\n        comments: false\n      },\n      sourceMap: true\n    })\n  ],\n  devtool: \"sourcemap\",\n};\n\n\nngc\u3067HTML, CSS\u304c\u5168\u3066.ts\u5316\u3055\u308c\u305f\u5206\u3001loader\u306e\u8a2d\u5b9a\u304c\u30ed\u30fc\u30ab\u30eb\u7528\u3088\u308a\u3059\u3063\u304d\u308a\u3057\u307e\u3059\u3002sytleUrls, templaUrl\u3082ngc\u6642\u70b9\u3067\u89e3\u6c7a\u3055\u308c\u308b\u305f\u3081\u3001angular2-tempalte-loader\u3082\u4e0d\u8981\u3067\u3059\u3002\n\u306a\u304a\u3001webpack 2.x\u306fimport\u6587\u3067\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u5206\u306b\u306fTree Shaking\u3092\u9811\u5f35\u308b\u304c\u3001require\u95a2\u6570\u306e\u5834\u5408\u306f\u30d5\u30a1\u30a4\u30eb\u6bcebundle\u3059\u308b\u3060\u3051\u3068\u3044\u3046\u6226\u7565\u3067bundle\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001TypeScript/Babel\u3068\u3082\u306bimport\u6587\u3092require\u306b\u5909\u63db\u3057\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3057\u306a\u304f\u3066\u306f\u306a\u308a\u307e\u305b\u3093\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001tsconfig_aot.json\u306b\u304a\u3051\u308b\"module: \"es2015\" \u3068\u3001\u4e0b\u8a18\u306e.babelrc\u306b\u304a\u3051\u308b {\"modules\": false} \u304c\u8a72\u5f53\u3057\u307e\u3059\u3002\n\n.babelrc\n{\n  \"presets\": [\n    [\"es2015\", {\"modules\": false}]\n  ]\n}\n\n\n\n\u3053\u3044\u3064\u3001\u3001\u52d5k...\u52d5\u304b\u306a\u304b\u3063\u305f orz\n\u4e00\u6c17\u306b\u5b8c\u6210\u7cfb\u306ebuild\u8a2d\u5b9a\u3092\u66f8\u3044\u3066\u304d\u305f\u8a33\u3067\u3059\u304c\u3001\u50d5\u304c\u5b9f\u969b\u306bAoT\u5bfe\u5fdc\u3057\u305f\u3068\u304d\u306f\u3001ngc\u304c\u6b63\u5e38\u7d42\u4e86\u305b\u305a\u306b\u30e1\u30bd\u30e1\u30bd\u6ce3\u3044\u3066\u3044\u305f\u6642\u9593\u304c\u4e00\u756a\u9577\u304b\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u672c\u5f53\u306b\u8f9b\u3044\u306e\u306fAoT\u74b0\u5883\u304c\u51fa\u6765\u305f\u5f8c\u306b\u5f85\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u308c\u306f\u3055\u3066\u304a\u304d\u3001\u5b9f\u8df5\u7de8\u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u306f\u300c\u3044\u304b\u306bngc\u304c\u6012\u3089\u306a\u3044\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u304b\u300d\u3067\u3059\u3002\n\u6b63\u76f4\u3001\u7db2\u7f85\u7684\u306b\u300c\u3053\u3046\u3044\u3046\u30b1\u30fc\u30b9\u306fngc\u304cNG\u300d\u3092\u628a\u63e1\u3057\u3066\u3044\u308b\u8a33\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30c8\u30e9\u30a4\u30a2\u30eb&\u30a8\u30e9\u30fc\u3067\u3057\u304b\u306a\u3044\u306e\u3067\u3059\u304c\u3001ngc\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5\u3092\u7d39\u4ecb\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u6587\u5b57\u5217\u3060\u3068\u601d\u3046\u306a TypeScript\u3068\u5fc3\u5f97\u3088\n\nmy-app.component.html`\n<div>\n  <input type=\"\" [(ngModel)]=\"value\"/>\n  <span>{{value}}</span>\n</div>\n\n\n\nmy-app.component.ts\n@Component({\n  selector: \"my-app\",\n  templateUrl: \"./my-app.component.html\"\n})\nexport class MyAppComponent {\n}\n\n\n\u3053\u306e\u30b3\u30fc\u30c9\u306fJiT\u74b0\u5883\u3067\u306f\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001ngc\u5b9f\u884c\u6642\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\nProperty 'value' does not exist on type 'MyAppComponent'.\n\n\u305d\u3046\u3067\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eHTML\u3067value\u3068\u3044\u3046MyAppComponent class\u306epublic\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u306b\u3082\u95a2\u308f\u3089\u305a\u3001MyAppComponent\u306b\u3053\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u5b9a\u7fa9\u304c\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\u3059\u3002\u6b63\u3057\u304f\u306f\u4e0b\u8a18\u3067\u3059\u306d\u3002\n\nmy-app.component.ts(\u4fee\u6b63\u5f8c)\n@Component({\n  selector: \"my-app\",\n  templateUrl: \"./my-app.component.html\"\n})\nexport class MyAppComponent {\n  /* \u3061\u3083\u3093\u3068\u5909\u6570\u5ba3\u8a00\u3059\u308b */\n  value: string;\n}\n\n\n\u4e00\u898b\u3059\u308b\u3068\u30a6\u30b6\u3044\u3067\u3059\u304c\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8HTML\u3067typo\u3057\u3066{{valeu}\u3068\u66f8\u3044\u3066\u3044\u305f\u3068\u3057\u3066\u3082\u540c\u3058\u30a8\u30e9\u30fc\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\nProperty\u540d\u30ec\u30d9\u30eb\u3067\u306e\u30c1\u30a7\u30c3\u30af\u3092\u52d5\u4f5c\u524d\u306b\u3057\u3066\u304f\u308c\u3066\u3044\u308b\u3001\u3068\u6349\u3048\u307e\u3057\u3087\u3046\u3002\n\u906d\u9047\u3057\u305f\u3089\u300c\u3042\u308a\u304c\u3068\u3046ngc\u3001\u30a8\u30e9\u30fc\u3092\u6559\u3048\u3066\u304f\u308c\u3066\u300d\u3068\u5fc3\u306e\u4e2d\u3067\u611f\u8b1d\u3059\u3079\u304d\u3067\u3059\u3002\u6d17\u8133\u3055\u308c\u3066\u308b\u3068\u304b\u8a00\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\n\u4f3c\u305f\u3088\u3046\u306a\u30b1\u30fc\u30b9\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306bPipe\u3092\u5ba3\u8a00\u3057\u3066\u304a\u304d\u3001\n\nmy-pipe.ts\n@Pipe({name: 'myPipe'})\nexport class MyPipe implements PipeTransform {\n  transform(value: number, args: string[]) {\n    /* transform\u306e\u51e6\u7406 */\n  }\n}\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e2d\u306b\u3066 {{value | myPipe}} \u306e\u3088\u3046\u306b\u5f15\u6570\u7121\u3057\u306e\u547c\u3073\u51fa\u3057\u30b3\u30fc\u30c9\u304c\u3042\u308b\u3068\u3084\u306f\u308angc\u306f\u30a8\u30e9\u30fc\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\u5f15\u6570\u7121\u3057\u3067\u547c\u3073\u51fa\u3057\u305f\u3051\u308c\u3070\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u4fee\u6b63\u304c\u5fc5\u8981\u3067\u3059\u3002\n\nmy-pipe.ts(\u4fee\u6b63\u5f8c)\n@Pipe({name: 'myPipe'})\nexport class MyPipe implements PipeTransform {\n  transform(value: number, args?: string[]) { /* args\u306f\u7701\u7565\u53ef\u80fd\u3067\u3042\u308b\u3053\u3068\u3092\u660e\u793a\u3059\u308b */\n    /* transform\u306e\u51e6\u7406 */\n  }\n}\n\n\n\u3055\u3089\u306b\u3082\u3046\u4e00\u3064\u3002Template Drive Form\u3067NgModel\u304c\u4fdd\u6301\u3057\u3066\u3044\u308berror\u60c5\u5831\u3092\u53c2\u7167\u3059\u308b\u5834\u5408\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3059\u3002\u3053\u308c\u306fJiT\u3067\u306f\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\nmy-component.html\n<form #form=\"ngForm\">\n  <input #v=\"ngModel\" required name=\"myName\" ngModel></input>\n  <span *ngIf=\"v.errors?.required\">Required!</span>\n</form>\n\n\n\u3084\u306f\u308aAoT\u3067\u306f\u30c0\u30e1\u3067\u3059\u3002 *ngIf=\"v.errors?.required\" \u306e\u90e8\u5206\u304cNG\u3067\u3059\u3002NgModel\u306e\u7d99\u627f\u5143\u3067\u3042\u308bAbstractControlDirective\u306berrors\u306e\u5b9a\u7fa9\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nexport declare abstract class AbstractControlDirective {\n    errors: {\n        [key: string]: any;\n    };\n    /* \u4e2d\u7565 */\n}\n\nTypeScript\u3068\u3057\u3066\u306f\u3001v.errors.required \u3067\u306f\u306a\u304f\u3001 v.errors['required'] \u304c\u6b63\u3057\u3044\u3067\u3059\u306d\u3002\u5f93\u3063\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nmy-component.html(\u4fee\u6b63\u5f8c)\n<form #form=\"ngForm\">\n  <input #v=\"ngModel\" required name=\"myName\" ngModel></input>\n  <span *ngIf=\"v.errors && v.errors['required']\">Required!</span>\n</form>\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u76f4\u63a5\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u306f\u898b\u3048\u306a\u3044\u3051\u308c\u3069\u3001\u540c\u7cfb\u7d71\u306e\u7f60\u306b\u8a72\u5f53\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3092\u3082\u30461\u3064\u7d39\u4ecb\u3057\u307e\u3059\u3002\u3053\u308c\u3082\u4e0a\u8ff0\u306ePipe\u3068\u540c\u3058\u304f\u3001\u30e1\u30bd\u30c3\u30c9\u30b7\u30b0\u30cd\u30c1\u30e3\u9593\u9055\u3044\u3067\u3059\u3002\nexport class MyAppComponent implements OnChanges {\n  ngOnChanges() {\n    /* \u5909\u66f4\u6642\u306e\u51e6\u7406 */\n  }\n}\n\n.ngfactory\u304c\u5185\u90e8\u7684\u306bngOnChanges\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u969b\u306b\u3001\u4e0b\u8a18\u3067\u8868\u73fe\u3055\u308c\u308b SimpleChanges \u3092\u5f15\u6570\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nexport interface SimpleChanges {\n    [propName: string]: SimpleChange;\n}\n\n\u3057\u305f\u304c\u3063\u3066\u3001\u5f15\u6570\u7121\u3057\u306e ngOnChanges\u3092\u5b9a\u7fa9\u3057\u3066\u3057\u307e\u3046\u3068\u578b\u4e0d\u6574\u5408\u304c\u8d77\u3053\u308a\u3001\u30a8\u30e9\u30fc\u6271\u3044\u3068\u306a\u308a\u307e\u3059\u3002\n\u3053\u3053\u3067\u7d39\u4ecb\u3057\u305f\u30a8\u30e9\u30fc\u306f\u3044\u305a\u308c\u3082\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304cTypeScript\u306e\u30b3\u30fc\u30c9\u306b\u5909\u63db\u3055\u308c\u305f\u5206\u3001\u96d1\u306a\u66f8\u304d\u65b9\u304c\u8a31\u3055\u308c\u306a\u304f\u306a\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u7cfb\u7d71\u306e\u30a8\u30e9\u30fc\u3067\u3059\u3002\n.html\u30d5\u30a1\u30a4\u30eb\u3060\u304b\u3089\u3068\u8a00\u3063\u3066\u3001\u53ea\u306e\u6587\u5b57\u5217\u3060\u3068\u601d\u308f\u305a\u306bTypeScript\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3064\u3082\u308a\u3067\u8a18\u8ff0\u3057\u307e\u3057\u3087\u3046\u3002\ntslint\u304f\u3089\u3044\u306e\u6c17\u8efd\u3055\u3067ngc\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308c\u3070\u3001\u4fdd\u5b58\u3057\u305f\u77ac\u9593\u306b\u30a8\u30c7\u30a3\u30bf\u306b\u30a8\u30e9\u30fc\u3092\u5373\u53cd\u6620\u3059\u308b\u3001\u3068\u3044\u3046\u98a8\u306b\u958b\u767a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\n\n\u52d5\u3068\u9759\n\u6b21\u306fTypeScript\u7684\u306b\u306fvalid\u3060\u3051\u3069\u3001metadata(@Component\u3084@Module\u306e\u4e2d\u8eab\u90e8\u5206)\u3092\u9759\u7684\u89e3\u6790\u3059\u308b\u90fd\u5408\u4e0a\u3001ngc\u304c\u6fc0\u304a\u3053\u3059\u308b\u30bf\u30a4\u30d7\u306e\u30a8\u30e9\u30fc\u3067\u3059\u3002\n\u3053\u308c\u3089\u306e\u30d1\u30bf\u30fc\u30f3\u306f\u5927\u6982\u3001Decorators\u306e\u4e2d\u306b\u52d5\u7684\u306a\u51e6\u7406\u3092\u66f8\u304f\u3068\u767a\u751f\u3057\u307e\u3059\u3002\n\u4f8b\u3092\u63d0\u793a\u3057\u307e\u3057\u3087\u3046\u3002\n\u305d\u3093\u306a\u6c17\u6301\u3061\u60aa\u3044\u3053\u3068\u3084\u308b\u304b\u3069\u3046\u304b\u306f\u5206\u304b\u3093\u306a\u3044\u3067\u3059\u3051\u3069\u3001template\u306e\u4e8b\u524d\u51e6\u7406\u7684\u306btagged function\u3092\u4f7f\u3063\u305f\u3068\u3057\u307e\u3057\u3087\u3046\u3002\nfunction myTag(templ: TemplateStringsArray, ...args: string[]) {\n  /* \u30b4\u30cb\u30e7\u30b4\u30cb\u30e7 */\n}\n\n@Component({\n  selector: 'my-app',\n  template: myTag `\n  <div>${hoge}</div>\n  `,\n})\nexport class MainAppComponent {\n}\n\n\u3082\u3061\u308d\u3093\u6012\u3089\u308c\u307e\u3059\u3002Angular\u3068\u95a2\u4fc2\u306e\u306a\u3044\u3068\u3053\u308d\u3067\u3001\u52d5\u7684\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u305f\u3089\u3001\u305d\u308c\u3092\u9759\u7684\u89e3\u6790\u3067\u4f55\u3068\u304b\u3057\u308d\u3068\u3044\u3046\u65b9\u304c\u7121\u7406\u304c\u3042\u308a\u307e\u3059\u3088\u306d\u3002\nError encountered resolving symbol values statically. Expression form not supported\n\n@Component\u306e\u4e2d\u3067\u5168\u304f\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u304c\u884c\u3048\u306a\u3044\u304b\u3068\u8a00\u3046\u3068\u3001\u305d\u3093\u306a\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u4f8b\u3048\u3070\u3001Component\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3057\u304b\u3051\u308b\u969b\u306b\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u4f55\u7a2e\u985e\u304b\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u304c\u3001\u3053\u308c\u3089\u304c\u30a8\u30e9\u30fc\u306b\u306a\u308b\u8a33\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\nanimations: [\n  trigger(\"shrinkOut\", [\n    state(\"in\", style({height: \"*\"})),\n    transition(\"* => void\", [/* ... */])\n  ])\n]\n\n\u307e\u305f\u3001\u30a2\u30ed\u30fc\u95a2\u6570(\u307e\u305f\u306f\u533f\u540d\u95a2\u6570)\u3092\u8a18\u8ff0\u3057\u3066ngc\u304c\u300c\u3082\u3046\u7121\u7406\uff01\u300d\u3063\u3066\u3044\u3046\u30b1\u30fc\u30b9\u3082\u5b58\u5728\u3057\u307e\u3059\u3002\n@NgModule\u3084@Component\u3067\u30d5\u30a1\u30af\u30c8\u30ea\u95a2\u6570\u3092provider\u3068\u3057\u3066\u30bb\u30c3\u30c8\u3057\u3088\u3046\u3068\u3059\u308b\u5834\u5408\u3001{ provide: Foo, useFactory: () => { ... } } \u3068\u66f8\u3051\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u308c\u306fngc\u304c\u30a8\u30e9\u30fc\u5410\u304d\u307e\u3059\u3002 { provide: Foo, useFactory: setupFoo } \u306e\u3088\u3046\u306b\u30d5\u30a1\u30af\u30c8\u30ea\u95a2\u6570\u306b\u540d\u524d\u3092\u4ed8\u3051\u3066\u3042\u3052\u308b\u3068\u901a\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nrouter\u306eloadChildren\u3067\u3082\u540c\u69d8\u306e\u73fe\u8c61\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u9045\u5ef6\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u3059\u308b\u969b\u306e\n{ path: \"/sub\", loadChildren: () => require(\"es6-promise!../sub/sub-module.ngfactory\")(\"SubModule\") } \u3068\u3044\u3046\u30b3\u30fc\u30c9\u3082\u3084\u306f\u308a { path: \"/sub\", loadChildren: loadSubModuleFn } \u306e\u3088\u3046\u306b\u540d\u524d\u306e\u3064\u3044\u305f\u95a2\u6570\u306b\u3059\u308b\u3068ngc\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u5c0f\u7bc0\u3067\u7d39\u4ecb\u3057\u305f\u30a8\u30e9\u30fc\u306fTypeScript\u7684\u306b\u306f\u5168\u7136valid\u306a\u5974\u7b49\u3070\u304b\u308a\u3067\u3059\u3002\u3069\u3061\u3089\u304b\u3068\u3044\u3046\u3068\u3001\u9759\u7684\u89e3\u6790\u3068\u3044\u3046ngc\u306e\u6c17\u6301\u3061\u306b\u5bc4\u308a\u305d\u3063\u3066\u300c\u3055\u3059\u304c\u306b\u3053\u308c\u306f\u7121\u7406\u304b...\u300d\u3068\u512a\u3057\u3044\u76ee\u3067\u898b\u3066\u3042\u3052\u308b\u3057\u304b\u306a\u3044\u3002\n\n\u767a\u5c55\u7de8\n\n\u4ffa\u305f\u3061\u306e\u6226\u3044\u306f\u3053\u308c\u304b\u3089\u3060\n\u3055\u3066\u3001\u3088\u3046\u3084\u304fAoT\u304c\u7a3c\u50cd\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u8cb4\u65b9\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3082\u901f\u5ea6\u306e\u9055\u3044\u304c\u4f53\u611f\u3067\u304d\u308b\u30ec\u30d9\u30eb\u3067\u521d\u671f\u63cf\u753b\u304c\u9ad8\u901f\u5316\u3055\u308c\u305f\u3053\u3068\u3067\u3057\u3087\u3046\uff01\n\u3053\u308c\u3067\u3084\u3063\u305f\u306d\uff01\u3068\u306f\u306a\u3089\u306a\u3044\u306e\u304c\u8f9b\u3044\u3068\u3053\u308d\u3067\u3059\u3002\nTree Shaking\u307e\u3067\u3057\u305f\u306e\u306b\u3001bundle\u306e\u30b5\u30a4\u30ba\u3092\u898b\u3066\u307f\u308b\u3068gzip\u524d\u3067\u307e\u3060\u6570MB\u7a0b\u5ea6\u898f\u6a21\u3060\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\uff1f \u304d\u3063\u3068\u3053\u3046\u601d\u3046\u306f\u305a\u3067\u3059\u3002\n\u300c\u3042\u308c\u3001Tree Shaking\u51fa\u6765\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u306b\u4f55\u3067\u3053\u3093\u306a\u306b\u30c7\u30ab\u3044\u3093\u3060\uff1f\u300d\n\n\u6c5d\u306e\u6575\u3092\u77e5\u308c(\u518d)\n\u57fa\u672c\u7de8\u3067\u306f\u300cJavaScript\u306e\u5b9f\u884c\u6642\u9593\u300d\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3057\u3066\u6e2c\u5b9a\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u767a\u5c55\u7de8\u3067\u306f\u300cJavaScript\u306e\u30b5\u30a4\u30ba\u300d\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3057\u305f\u6226\u3044\u304c\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\n\u5bfe\u7b56\u3092\u7df4\u308b\u305f\u3081\u306b\u306f\u3001\u3069\u3053\u306b\u30b5\u30a4\u30ba\u3092\u6d88\u8cbb\u3057\u3066\u3044\u308b\u5974\u304c\u3044\u308b\u304b\u3092\u77e5\u308b\u3053\u3068\u304c\u5927\u4e8b\u3067\u3059\u3002\u30b3\u30b9\u30c8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u91cd\u8981\uff01\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001bundle\u306e\u30b5\u30a4\u30ba\u306e\u5185\u8a33\u3092\u53ef\u8996\u5316\u3057\u307e\u3057\u3087\u3046\u3002\nsource-map-explorer\u3068\u3044\u3046\u30c4\u30fc\u30eb\u3092\u7528\u3044\u307e\u3059\u3002\n\u3056\u3063\u304f\u308a\u8aac\u660e\u3059\u308b\u3068\u3001.js.map\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u3001\u5143\u3005\u306e\u30d5\u30a1\u30a4\u30eb\u304cminify\u5f8c\u306ebundle\u3067\u3069\u306e\u7a0b\u5ea6\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u5360\u6709\u3057\u3066\u304f\u308c\u308b\u304b\u3092\u53ef\u8996\u5316\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\u4e0b\u306e\u56f3\u306f\u3001\u50d5\u304cAoT\u3068Lazy Loading\u306e\u30b5\u30f3\u30d7\u30eb\u7528\u306b\u4f5c\u6210\u3057\u305fbundle\u306b\u5bfe\u3057\u3066\u3001source-map-explorer\u3092\u304b\u3051\u305f\u969b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u306fcomponent\u6570\u30822,3\u500b\u7a0b\u5ea6\u306e\u307b\u307cHello world\u306b\u6bdb\u304c\u751f\u3048\u305f\u7a0b\u5ea6\u3001\u8981\u3059\u308b\u306bAngular\u306e\u6700\u5c0f\u69cb\u6210\u30a2\u30d7\u30ea\u3068\u8a00\u3063\u3066\u3088\u3044\u30ec\u30d9\u30eb\u3067\u3059(\u3061\u306a\u307f\u306b\u3001\u3053\u3044\u3064\u3067\u3059\u3089gzip\u524d\u3067400KB\u7a0b\u5ea6\u306e\u5bb9\u91cf\u304c\u3042\u308a\u307e\u3059...)\u3002\n\nTree Shaking\u304c\u4e0a\u624b\u304f\u3044\u3063\u3066\u3044\u308c\u3070\u3001\u5927\u4f53\u4f3c\u305f\u3088\u3046\u306a\u898b\u305f\u76ee\u306emap\u304c\u5f97\u3089\u308c\u308b\u306f\u305a\u3002\n\u3082\u3057\u3001\u624b\u5143\u3067\u51fa\u529b\u3057\u305f\u56f3\u306b@angular/compiler \u3068\u304b runtime_compiler \u304c\u898b\u3048\u3066\u3044\u305f\u3089\u3001\u305d\u3082\u305d\u3082Tree Shaking\u304c\u51fa\u6765\u3066\u3044\u306a\u3044\u304bwebpack\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u3001\u3068\u3044\u3063\u305f\u30ec\u30d9\u30eb\u3067build\u3092\u6b63\u3057\u304f\u4f5c\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3067\u3059\u3002\u898b\u76f4\u3057\u307e\u3057\u3087\u3046\u3002\n\u6b21\u306e\u56f3\u306f\u3001\u50d5\u306e\u3084\u3063\u3066\u3044\u308b\u5b9f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306ebundle\u306b\u5bfe\u3057\u3066source-map-explorer\u3092\u304b\u3051\u305f\u969b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u3059\u3002\u3055\u3059\u304c\u306b\u696d\u52d9\u3067\u3064\u304b\u3063\u3066\u308b\u3084\u3064\u306a\u306e\u3067\u3001\u30e2\u30b6\u30a4\u30af\u304b\u3051\u3055\u305b\u3066\u8cb0\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u6b63\u76f4\u3001\u516c\u958b\u3059\u308b\u306e\u3082\u3069\u3046\u304b\u3063\u3064\u30fc\u30ec\u30d9\u30eb\u3067\u6065\u305a\u304b\u3057\u3044\u308f\u3051\u3067\u3059\u304c\u3001\u7dba\u9e97\u306a\u5974\u898b\u305b\u3066\u3082\u9762\u767d\u304f\u3082\u306a\u3093\u3068\u3082\u7121\u3044\u3067\u3057\u3087\u3046\u306e\u3067\u3001\u6065\u3092\u5072\u3093\u3067\u3055\u3089\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u5de6\u5074\u3092\u898b\u3066\u3082\u3089\u3046\u3068\u3001\u8ab0\u304cbundle\u306e\u30b5\u30a4\u30ba\u98df\u3063\u3066\u3044\u308b\u306e\u304b\u4e00\u76ee\u77ad\u7136\u3067\u3059\u306d\u3002\n\nhighlight.js\nmoment\n\n\u78ba\u304b\u306b\u30b3\u30fc\u30c9\u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u5b9f\u65bd\u3057\u3066\u3044\u308b\u90e8\u5206\u304c\u3042\u308b\u306e\u3067\u3001highlight.js\u3092\u5c0e\u5165\u3057\u305f\u899a\u3048\u306f\u3042\u308b\u3093\u3067\u3059\u3051\u3069\u3001JavaScript\u3084HTML, CSS\u304c\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u308c\u3070\u5341\u5206\u306a\u8981\u4ef6\u306a\u3093\u3067\u3059\u3088\u3002\n\u305d\u308c\u306b\u3082\u95a2\u308f\u3089\u305a\u3001mathematica\u3068\u304b\u8aad\u307f\u8fbc\u3093\u3058\u3083\u3063\u3066\u308b\u3002\u305d\u308a\u3083\u7121\u99c4\u306bbundle\u304c\u30c7\u30ab\u304f\u306a\u308b\u308f\u3002moment\u3082locale\u304c\u5168\u90e8\u5165\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u3002ja\u3060\u3051\u306b\u3057\u305f\u3064\u3082\u308a\u304c\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u306a\u304b\u3063\u305f\u6a21\u69d8 orz\u3002 \n\u3068\u307e\u3041\u3001\u3053\u3093\u306a\u5177\u5408\u306b\u300c\u3069\u3053\u3092\u771f\u3063\u5148\u306b\u6f70\u3059\u3079\u304d\u304b\u300d\u3092\u6559\u3048\u3066\u304f\u308c\u308b\u308f\u3051\u3067\u3059\u3002\u5012\u3059\u3079\u304d\u76f8\u624b\u304c\u898b\u3064\u304b\u3063\u305f\u3089\u3001webpack-visualizer\u306e\u3088\u3046\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u4f9d\u5b58\u95a2\u4fc2\u3092\u53ef\u8996\u5316\u3059\u308b\u30c4\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u4e0d\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u308a\u8fbc\u307e\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nCommonJS or ES Modules ?\n\u5b9f\u306fsource-map-explorer\u3067\u306e\u6e2c\u5b9a\u3092\u3059\u308b\u524d\u306b\u3001bundle\u306e\u524a\u6e1b\u306b\u624b\u3092\u51fa\u3057\u3066\u3044\u305f\u90e8\u5206\u3082\u3042\u308a\u307e\u3059\u3002\u4eca\u306b\u3057\u3066\u601d\u3046\u3068\u3001\u6e2c\u5b9a\u3092\u884c\u308f\u305a\u306b\u4f5c\u696d\u3092\u3057\u3066\u3057\u307e\u3063\u305f\u305f\u3081\u306b\u5f97\u3089\u308c\u305f\u52b9\u679c\u306f\u8584\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u77e5\u898b\u304c\u5f97\u3089\u308c\u305f\u3068\u3044\u3046\u70b9\u3067\u306f\u610f\u5473\u304c\u3042\u3063\u305f\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u50d5\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306flodash\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u5148\u8ff0\u3057\u305f\u7528\u306bwebpack 2.x\u306frequire\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u30b3\u30fc\u30c9\u306fTree Shaking\u3067\u306f\u306a\u304f1.x\u3068\u540c\u3058\u3088\u3046\u306b\u30d5\u30a1\u30a4\u30eb\u3054\u3068bundle\u306b\u542b\u3081\u307e\u3059\u3002\nnpm i lodash\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068CommonJS\u7248\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u305f\u3081\u3001Tree Shaking\u306f\u3055\u308c\u307e\u305b\u3093\u3002npm i lodash-es\u3068\u3059\u308b\u3068\u3001require, module.exports=\u306e\u4ee3\u308f\u308a\u306b import, export\u3067\u8a18\u8ff0\u3055\u308c\u305f\u7248\u306elodash\u304c\u624b\u306b\u5165\u308a\u307e\u3059\u3002 babelrc\u3092 \"presets\": [ [\"es2015\", {\"modules\": false}] ] \u306b\u3057\u3066\u5909\u63db\u304b\u3051\u305f\u3088\u3046\u306a\u30a4\u30e1\u30fc\u30b8\u3001\u3068\u8a00\u3044\u63db\u3048\u3066\u3082\u3088\u3044\u304b\u3082\u3002\n\u3067\u3059\u306e\u3067\u3001webpack\u306ealias\u3092\u4f7f\u3063\u3066lodash\u306e\u5411\u304d\u5148\u3092lodash-es\u306b\u5909\u66f4\u3057\u3001\n\nwebpack.config.js\n  resolve: {\n    alias: {\n      \"lodash\": \"lodash-es\"\n    }\n  },\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4e0a\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5229\u7528\u3057\u307e\u3059\u3002\u306a\u304a\u3001\u3053\u306e\u30b3\u30fc\u30c9\u3092tsc\u3067\u6b63\u5e38\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u305f\u3081\u306b\u306f--allowSyntheticDefaultImports \u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\u3067\u3057\u305f2\nimport cloneDeep from \"lodash/cloneDeep\";\n\n\u4f55\u304c\u8a00\u3044\u305f\u304b\u3063\u305f\u304b\u3068\u3044\u3046\u3068\u3001\u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092ES Modules\u3068\u3057\u3066\u6271\u3063\u3066Tree Shaking\u3059\u308b\u306e\u306f\u7d50\u69cb\u9762\u5012\u81ed\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u30e9\u30a4\u30d6\u30e9\u30ea\u6bce\u306bES Modules\u7248\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b/\u3057\u3066\u3044\u306a\u3044\u3092\u8abf\u67fb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u3055\u3089\u306b\u305d\u306e\u63d0\u4f9b\u5f62\u614b\u3082\u30d0\u30e9\u30d0\u30e9\u3067\u3042\u308b\u305f\u3081\u3067\u3059\u3002\n\u4f8b\u3048\u3070\u3001Angular\u3067\u306f\u307b\u307c\u78ba\u5b9f\u306b\u8aad\u307f\u8fbc\u3080\u3053\u3068\u3067\u3042\u308d\u3046rxjs\u306b\u3064\u3044\u3066\u306flodash\u3068\u540c\u3058\u3088\u3046\u306brxjs-es\u3068\u3044\u3046NPM\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u305d\u306e\u4e2d\u8eab\u306flodash-es\u306e\u5834\u5408\u3068\u7570\u306a\u308a\u3001\u7121\u5909\u63db\u306eES2015 JavaScript\u3067\u3059\u3002\u30b3\u30fc\u30c9\u4e2d\u306b let \u3068\u304b\u666e\u901a\u306b\u51fa\u3066\u304d\u307e\u3059\u304b\u3089\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3057\u306a\u3044\u3068\u5229\u7528\u3067\u304d\u306a\u304b\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001moment.js\u306e\u5834\u5408\u3067\u3059\u3068npm i moment\u3067\u53d6\u5f97\u3055\u308c\u308bpackage.json \u306b \"jsnext:main\": \"./src/moment.js\" \u3068\u8a18\u8ff0\u3055\u308c\u3066\u3044\u3066\u300cTree Shaking\u3057\u305f\u3044\u5974\u306f\u3053\u3063\u3061\u3092\u898b\u306b\u884c\u3051\u3088\u300d\u3068\u8a00\u3063\u3066\u3044\u308b\u72b6\u6cc1\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u3053\u306ejsnext:main\u3068\u3044\u3046\u30ad\u30fc\u306f\u4e0b\u8a18\u306e\u610f\u5473\u3092\u3082\u3064\u3068\u306e\u3053\u3068\u3002Rollup\u306ewiki\u3092\u5f15\u7528\u3057\u307e\u3059\u3002\n\njsnext:main will point to a module that has ES2015 module syntax but otherwise only syntax features that node supports.\n\n\u3053\u3093\u306a\u5177\u5408\u306b\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u6bce\u306b\u5bfe\u5fdc\u65b9\u6cd5\u3092\u5909\u3048\u3066\u3044\u304b\u306d\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n2016\u5e7410\u6708\u73fe\u5728\u3060\u3068\u3001NPM\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u3067ES Modules\u3092\u3069\u3046\u6271\u3046\u304b\u3082\u5b9a\u307e\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3088\u3046\u3067\u3059\u30573\u3001\u63a8\u79fb\u7684\u306a\u4f9d\u5b58\u95a2\u4fc2\u307e\u3067\u542b\u3081\u3066\u3069\u3046\u3053\u3046\u51fa\u6765\u308b\u6c17\u304c\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3042\u308b\u7a0b\u5ea6\u306f\u30d5\u30a1\u30a4\u30eb\u6bce\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u308b\u306e\u3092\u8a31\u5bb9\u3057\u3066\u5272\u308a\u5207\u308b\u306e\u304c\u73fe\u5b9f\u89e3\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u304a\u308f\u308a\u306b\n\u3053\u306e\u6295\u7a3f\u3067\u306fAngular\u306eAoT\u3092\u30c6\u30fc\u30de\u306b\u4e0b\u8a18\u3092\u8ff0\u3079\u3066\u304d\u307e\u3057\u305f\u3002\u5982\u4f55\u3067\u3057\u305f\u3067\u3057\u3087\u3046\u304b\uff1f\n\n\u3069\u306e\u3088\u3046\u306a\u52b9\u679c\u304c\u5f97\u3089\u308c\u308b\u306e\u304b\n\u3069\u306e\u3088\u3046\u306b\u5c0e\u5165\u3057\u305f\u3089\u826f\u3044\u306e\u304b\n\u5c0e\u5165\u3057\u305f\u5f8c\u306f\u3069\u3046\u3059\u308c\u3070\u826f\u3044\u306e\u304b\n\nAoT\u5c0e\u5165\u306e\u82e6\u52b4\u8a71\u3092\u8272\u3005\u66f8\u3044\u3066\u3057\u307e\u3063\u305f\u305f\u3081\u3001\u5927\u5909\u305d\u3046\u306a\u5370\u8c61\u3092\u4e0e\u3048\u3066\u3057\u307e\u3063\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u5f97\u3089\u308c\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u3068\u3066\u3082\u5927\u304d\u3044\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002\u307e\u305fAoT\u7528\u306e\u74b0\u5883\u3092\u4f5c\u308b\u306e\u306b\u8981\u3057\u305f\u6642\u9593\u306f\u3001\u5b9f\u8cea2\u65e5\u3082\u304b\u304b\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\u3057\u304b\u3057\u3001JiT\u74b0\u5883\u3067\u306f\u52d5\u4f5c\u3057\u3066\u3044\u305f\u30b3\u30fc\u30c9\u304cAoT\u3067\u306f\u52d5\u4f5c\u3057\u306a\u304f\u306a\u308b\u3068\u3044\u3046\u73fe\u5b9f\u304c\u3042\u308b\u4ee5\u4e0a\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u304c\u5c0f\u3055\u3044\u5185\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u3044\u305f\u65b9\u304c\u826f\u3044\u3067\u3057\u3087\u30464\u3002\n\u652f\u6255\u3046\u5927\u5909\u3055\u4ee5\u4e0a\u306b\u30ea\u30bf\u30fc\u30f3\u304c\u5927\u304d\u3044\u3067\u3059\u306e\u3067\u3001\u662f\u975e\u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u3067\u306eAngular\u306e\u904b\u7528\u3092\u8003\u3048\u3066\u3044\u308b\u65b9\u306f\u691c\u8a0e\u30fb\u5b9f\u8df5\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u3053\u306e\u30ac\u30a4\u30c9\u304c\u5c11\u3057\u3067\u3082\u4f55\u304b\u306e\u5f79\u306b\u7acb\u3066\u3070\u5e78\u3044\u3067\u3059\u3002\u305d\u308c\u3067\u306f\u3001\u307e\u305f\u3002\n\n\u8b1d\u8f9e\n\u6700\u5f8c\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u8a18\u4e8b\u3092\u66f8\u304f\u306b\u3042\u305f\u3063\u3066\u3068\u3044\u3046\u304b\u3001\u3053\u306e\u5185\u5bb9\u304c\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3082\u8272\u3005\u306a\u4eba\u306b\u52a9\u3051\u3066\u3082\u3089\u3048\u305f\u304b\u3089\u3053\u305d\u3067\u3059\u3002\n\u7279\u306b @laco0416 \u306b\u306f\u5404\u7a2e\u30c4\u30fc\u30eb\u306e\u4f7f\u3044\u65b9\u3084Angular\u958b\u767a\u74b0\u5883\u306e\u6700\u65b0\u4e8b\u60c5\u7b49\u3001\u8272\u3005\u3068\u52a9\u8a00\u3057\u3066\u3082\u3089\u3044\u307e\u3057\u305f\u3002\n\u3042\u307e\u308a\u8cc7\u6599\u304c\u7121\u3044\u3046\u3061\u304b\u3089AoT\u306b\u4f53\u5f53\u305f\u308a\u3057\u3066\u306f\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3067\u57cb\u3081\u5c3d\u304f\u3057\u306a\u304c\u3089\u596e\u95d8\u3057\u3066\u304f\u308c\u305f\u540c\u50da\u9054\u306b\u3082\u611f\u8b1d\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u3053\u306e\u8a18\u4e8b\u3092\u66f8\u3053\u3046\u3068\u601d\u3063\u305f\u5951\u6a5f\u306f ng-japan\u306eslack \u3067AoT\u95a2\u9023\u767a\u8a00\u306e\u6d3b\u6027\u5316\u3092\u53d7\u3051\u3066\u3001\u3068\u3044\u3046\u6240\u304c\u5927\u304d\u3044\u3067\u3059\u3002\u30cf\u30de\u308a\u30dd\u30a4\u30f3\u30c8\u7b49\u306f\u3001slack\u306e\u4f1a\u8a71\u3067\u805e\u3044\u305f\u5185\u5bb9\u3082\u542b\u3093\u3067\u3044\u307e\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u89e6\u308c\u3066\u3044\u306a\u3044(\u50d5\u304c\u77e5\u3089\u306a\u3044)\u30cf\u30de\u308a\u30dd\u30a4\u30f3\u30c8\u3082\u307e\u3060\u307e\u3060\u57cb\u307e\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4f55\u304b\u65b0\u3057\u304f\u898b\u3064\u3051\u305f\u3089slack\u3067\u3082\u3053\u306e\u8a18\u4e8b\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u662f\u975e\u5171\u6709\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u811a\u6ce8\u30fb\u53c2\u8003\u30ea\u30f3\u30af\n\n\n\n\nOptimizing Angular 2 Apps - Martin Probst - YouTube\u00a0\u21a9\n\n\n@types/lodash\u914d\u4e0b\u306e.d.ts\u3068lodash-es\u306e\u5b9f\u88c5\u3001\u3069\u3061\u3089\u306b\u554f\u984c\u304c\u3042\u308b\u304b\u306f\u4e0d\u660e\u3002\u3044\u305a\u308c\u306b\u305b\u3088\u6109\u5feb\u3067\u306f\u306a\u3044)\u00a0\u21a9\n\n\nES Modules \u3068 Node.js \u306b\u3064\u3044\u3066 - from scratch\u00a0\u21a9\n\n\n\u50d5\u306e\u89b3\u6e2c\u7bc4\u56f2(TL, slack)\u3067\u306f\u3001AoT\u306b\u53d6\u308a\u7d44\u3093\u3067\u3044\u308b\u4eba\u306e100%\u304c\u3001ngc\u3092\u901a\u3059\u305f\u3081\u306b\u30b3\u30fc\u30c9\u3092\u4fee\u6b63\u3057\u3066\u3044\u307e\u3057\u305f\u3002\u00a0\u21a9\n\n\n\n## \u306f\u3058\u3081\u306b\n\u3069\u3046\u3082\u3002\u6700\u8fd1\u3001\u65b9\u3005\u3067\u300cbuild\u7b4b\u300d\u3060\u306e\u300c\u3046\u3047\u3076\u3071\u3063\u7b4b\u300d\u3060\u306e\u3068\u767a\u8a00\u3057\u3066\u9870\u8e59\u3092\u8cb7\u3063\u3066\u3044\u308b @Quramy \u3067\u3059\u3002\n\n\u3055\u3066\u3001\u7686\u3055\u3093Angular\u306eAhead of Time(\u4ee5\u4e0bAoT) Compile\u306f\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u304b\uff1f \u3068\u3066\u3082\u826f\u3044\u4ed5\u7d44\u307f\u3060\u3068\u601d\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u307e\u3068\u3081\u3089\u308c\u305f\u8a18\u4e8b\u3082\u307e\u3060\u6b86\u3069\u898b\u304b\u3051\u307e\u305b\u3093\u3002\n\n\u50d5\u81ea\u8eab\u306f\u5c11\u3057\u524d\u306b\u696d\u52d9\u6848\u4ef6\u306b\u9069\u7528\u3055\u305b\u305f\u3070\u304b\u308a\u3067\u3059\u3002\u6298\u89d2\u306a\u306e\u3067\u8a18\u61b6\u304c\u9bae\u660e\u306a\u3046\u3061\u306b\u6295\u7a3f\u306b\u3057\u3066\u304a\u3053\u3046\u3068\u601d\u3063\u305f\u6b21\u7b2c\u3067\u3059\u3002\n\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306f\u4e0b\u8a18\u306e3\u7ae0\u69cb\u6210\u3067\u304a\u5c4a\u3051\u3057\u307e\u3059\u3002\u4f8b\u306b\u3088\u3063\u3066\u7d50\u69cb\u9577\u3044\u306e\u3067\u3001\u81ea\u5206\u304c\u5fc5\u8981\u3068\u3057\u3066\u3044\u308b\u30c6\u30fc\u30de\u306b\u5408\u308f\u305b\u3066\u597d\u304d\u306a\u90e8\u5206\u3092\u8aad\u3093\u3067\u304f\u3060\u3055\u3044\u3002\n\n* \u57fa\u672c\u7de8: AoT\u306e\u4ed5\u7d44\u307f\u306b\u3064\u3044\u3066\u306e\u3056\u3063\u304f\u308a\u89e3\u8aac. \u77e5\u3063\u3066\u3044\u308b\u4eba\u306f\u8aad\u307f\u98db\u3070\u3057\u3066OK\n* \u5b9f\u8df5\u7de8: \u4e3b\u306b\u50d5\u304cAoT\u306b\u53d6\u308a\u7d44\u3093\u3060\u969b\u306b\u884c\u3063\u305f\u3053\u3068\u3001\u30cf\u30de\u3063\u305f\u30dd\u30a4\u30f3\u30c8\u306b\u3064\u3044\u3066\u306e\u8aac\u660e\n* \u767a\u5c55\u7de8: AoT\u74b0\u5883\u3092\u624b\u306b\u5165\u308c\u305f\u5f8c\u306b\u4f55\u3092\u3059\u3079\u304d\u304b\u306b\u3064\u3044\u3066\n\n### \u5bfe\u8c61\u8aad\u8005\n\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306f\u4e0b\u8a18\u306e\u8aad\u8005\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n* TypeScript \u3067\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n* Angular 2.x \u3092\u89e6\u3063\u305f\u3053\u3068\u304c\u3042\u308b\n* Angular\u306e\u5b9f\u6848\u4ef6\u9069\u7528\u3092\u8003\u3048\u3066\u3044\u308b\u304c\u3001\u6027\u80fd\u306b\u61f8\u5ff5\u3092\u611f\u3058\u3066\u3044\u308b\n\n\u300cAngular 2\u3063\u3066\u4f55\u301c\uff1f\u300d\u3084\u300cAngular\u3067\u3069\u3046\u3084\u3063\u3066\u30a2\u30d7\u30ea\u4f5c\u308c\u3070\u3044\u3044\u306e\uff1f\u300d\u3068\u3044\u3063\u305f\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u3002TodoMVC\u3068\u304b\u898b\u305f\u3089\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u306a(\u9069\u5f53)\u3002\n \n### Disclaimer\n\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u5404\u7a2e\u30c4\u30fc\u30eb\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u3082\u306e\u3092\u7528\u3044\u3066\u3044\u307e\u3059(2016\u5e7410\u6708\u73fe\u5728\u6700\u65b0\u7248)\u3002\n\u7279\u306bwebpack\u306b\u3064\u3044\u3066\u306f\u5b89\u5b9a\u7248\u3067\u306f\u306a\u30442.x\u3092\u9078\u629e\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n* NodeJS: 6.7.0\n* TypeScript: 2.0.3\n* webpack: 2.1-beta.25\n* Angular\u672c\u4f53(@angular/core\u306a\u3069): 2.0.1\n* @angular/router: 3.0.1\n* @angular/compiler-cli: 0.6.3\n* Web\u30d6\u30e9\u30a6\u30b6(Google Chrome): \u30d0\u30fc\u30b8\u30e7\u30f353\n\n\u307e\u305fAngular 2.0.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u3068\u306f\u3044\u3048\u3001 AoT\u3084\u4ed8\u968f\u3059\u308bAngular\u306e\u30c4\u30fc\u30eb\u306f\u307e\u3060\u767a\u5c55\u9014\u4e0a\u3068\u3044\u3046\u611f\u60f3\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30d3\u30eb\u30c9\u8a2d\u5b9a\u306e\u66f8\u304d\u65b9\u7b49\u306f\u3059\u3050\u306b\u9673\u8150\u5316\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u300c\u9673\u8150\u5316\u3057\u305f\u3089\u305d\u306e\u3068\u304d\u306b\u65b0\u3057\u3044\u65b9\u6cd5\u3092\u5b66\u3073\u76f4\u305b\u3070\u3088\u3044\u3058\u3083\u306a\u3044\u300d\u304f\u3089\u3044\u306e\u6c17\u6301\u3061\u3067\u5411\u304d\u5408\u3046\u3068\u826f\u3044\u304b\u3068\u3002\n\n## \u57fa\u672c\u7de8\n\n\u30bf\u30a4\u30c8\u30eb\u306b\u3082\u542b\u3081\u3066\u3044\u308b\u901a\u308a\u3001\u3053\u306e\u6295\u7a3f\u3067\u306f\u300cAoT\u300d\u3068\u3044\u3046\u30bf\u30fc\u30e0\u3092\u983b\u7e41\u306b\u7528\u3044\u307e\u3059\u3002\n\u307e\u305f\u5bfe\u7fa9\u8a9e\u306b\u300cJiT\u300d\u3092\u7528\u3044\u307e\u3059\u3002\u307e\u305a\u306f\u3053\u308c\u3089\u306e\u610f\u5473\u306b\u3064\u3044\u3066\u3002\n\n* JiT(Just in Time) Compile: Web\u30d6\u30e9\u30a6\u30b6\u3067\u306e\u5b9f\u884c\u6642\u306bAngular\u306e Module\u3001Component\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\n* AoT(Ahead of Time) Compile: \u30d3\u30eb\u30c9\u6642\u306bAngular\u306eModule\u3001Component\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304a\u304f\u3053\u3068\n\n\u300cAngular\u306eComponent\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u300d\u3068\u3044\u3046\u306e\u306f\u3069\u3046\u3044\u3046\u3053\u3068\u3067\u3057\u3087\u3046\u304b\u3002\n\u4f8b\u3068\u3057\u3066\u6b21\u306eComponent\u306b\u5bfe\u3057\u3066Angular\u304c\u4f55\u3092\u884c\u3046\u304b\u3092\u307f\u3066\u3044\u304d\u307e\u3059\u3002\n\n```ts\n@Component({\n  selector: \"my-app\",\n  template: \"<h1>{{greeting}}</h1>\"\n})\nexport class MyAppComponent {\n  greeting = \"Heelo, world!\";\n}\n```\n\n\u4e0a\u8a18\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306fAngular\u306e\u5185\u5074\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n```ts:(\u30b3\u30f3\u30d1\u30a4\u30eb\u7d50\u679c\u30a4\u30e1\u30fc\u30b8)\n  createInternal(rootSelector:string):import2.AppElement {\n    const parentRenderNode:any = this.renderer.createViewRoot(this.declarationAppElement.nativeElement);\n    /* A. DOM\u8981\u7d20\u306e\u751f\u6210 */\n    this._el_0 = this.renderer.createElement(parentRenderNode,'h1',(null as any));\n    this._text_1 = this.renderer.createText(this._el_0,'',(null as any));\n    this._expr_0 = import7.UNINITIALIZED;\n    this.init([],[\n      this._el_0,\n      this._text_1\n    ]\n    ,[],[]);\n    return (null as any);\n  }\n  detectChangesInternal(throwOnChange:boolean):void {\n    this.detectContentChildrenChanges(throwOnChange);\n    /* B. \u5185\u633f\u306e\u66f4\u65b0 */\n    const currVal_0:any = import4.interpolate(1,'',this.context.greeting,'');\n    if (import4.checkBinding(throwOnChange,this._expr_0,currVal_0)) {\n      this.renderer.setText(this._text_1,currVal_0);\n      this._expr_0 = currVal_0;\n    }\n    this.detectViewChildrenChanges(throwOnChange);\n  }\n```\n\n* A: Renderer\u3092\u5229\u7528\u3057\u305fDOM\u751f\u6210\u30b3\u30fc\u30c9\n* B: \u5909\u66f4\u304c\u691c\u77e5\u3055\u308c\u305f\u969b\u306b\u5185\u633f\u3057\u3066\u3044\u308b\u6587\u5b57\u5217\u3092\u66f4\u65b0\u3059\u308b\u51e6\u7406\n\n\u304c\u898b\u3066\u3068\u308c\u307e\u3059\u306d\u3002\n\u3053\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u304c\u3001JiT\u306e\u5834\u5408\u306f\u5b9f\u884c\u6642\u306b\u95a2\u6570\u3068\u3057\u3066\u3001AoT\u306e\u5834\u5408\u306fbuild\u6642\u306b\u9759\u7684\u306b\u751f\u6210\u3055\u308c\u308b\u306e\u3067\u3059\u3002\n\nAngularJS 1.x\u306b\u304a\u3051\u308b2\u30d5\u30a7\u30fc\u30ba\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u3054\u5b58\u77e5\u306e\u65b9\u306f\u300cCompile\u300d\u3068\u300cLink\u300d\u3068\u3044\u3046\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nCompile\u30d5\u30a7\u30fc\u30ba\u306e\u5f79\u5272\u306fLink\u95a2\u6570\u3092\u751f\u6210\u3057\u3066\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u4f1d\u3048\u308b\u3053\u3068\u3067\u3057\u305f\u3002\n\n\u3053\u306e\u6d41\u308c\u81ea\u4f53\u306fAngular 2.x\u3067\u3082\u540c\u69d8\u3067\u3059\u3002\u4e0a\u8a18\u306e\u51fa\u529b\u4f8b\u306fLink\u95a2\u6570\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u3002\n\u3053\u306e\u3088\u3046\u306bAngular\u3067\u306f\u3001HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4e8b\u524d\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u6700\u9069\u5316\u3055\u308c\u305fDOM\u64cd\u4f5c\u30b3\u30fc\u30c9\u7b49\u3092\u751f\u6210\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u5909\u66f4\u691c\u77e5\u6642\u306e\u30b3\u30b9\u30c8\u3092\u6291\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n### \u6c5d\u306e\u6575\u3092\u77e5\u308c\n\n\u3055\u3066\u3001\u554f\u984c\u3068\u306a\u308b\u306e\u306f\u300c**\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u9593\u304c\u99ac\u9e7f\u306b\u306a\u3089\u306a\u3044**\u300d\u3068\u3044\u3046\u4e8b\u5b9f\u3067\u3059\u3002\n\u7121\u8996\u3067\u304d\u308b\u7a0b\u5ea6\u306e\u30aa\u30fc\u30c0\u30fc\u3067\u3042\u308c\u3070\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u73fe\u5b9f\u306f\u305d\u3093\u306a\u306b\u7518\u304f\u306a\u3044\u3067\u3059\u3002\n\u4ed6\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u4f8b\u3048\u308b\u3068\u3001React JSX\u306e\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3092\u5b9f\u884c\u6642\u306b\u6bce\u56de\u884c\u3063\u3066\u3044\u308b\u3088\u3046\u306a\u72b6\u614b\u3067\u3059\u3082\u306e\u3002\n\nAngular\u306e\u30a2\u30d7\u30ea\u306b\u95a2\u308f\u3089\u305a\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6539\u5584\u306b\u3064\u3044\u3066\u306f\u307e\u305a\u5b9a\u91cf\u7684\u306b\u6e2c\u5b9a\u3059\u308b\u3001\u304c\u9244\u5247\u3067\u3059\u3002\u6e2c\u5b9a\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u4ee5\u4e0b\u306e\u56f3\u306f\u3001\u50d5\u304c\u5b9f\u6848\u4ef6\u3067AoT\u5bfe\u5fdc\u3092\u3084\u308d\u3046\u3001\u3068\u6c7a\u5fc3\u3057\u305f\u3068\u304d\u306b\u53d6\u5f97\u3057\u305f\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u3059\u3002\n\n![capt_rtcompile.png](https://qiita-image-store.s3.amazonaws.com/0/8808/85d8740f-0443-7ecd-ab6b-df7a5b53da85.png)\n\nChrome\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3067\u30a4\u30cb\u30b7\u30e3\u30eb\u30ed\u30fc\u30c9\u6642\u306eCPU Profile\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\u898b\u3066\u306e\u3068\u304a\u308a\u3001`compile`\u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u30671000 msec\u4ee5\u4e0a\u6d88\u8cbb\u3057\u3066\u3044\u307e\u3059\u3002\u5185\u8a33\u306e\u307b\u307c\u5168\u3066\u304c `RuntimeCompiler._compileTemplate` \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u540d\u3067\u3042\u308b\u3053\u3068\u304b\u3089\u3082\u5206\u304b\u308b\u901a\u308a\u3001\u3053\u308c\u304cJiT\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u3053\u306e\u6642\u70b9\u3067\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u304a\u3051\u308bComponent\u6570\u306f60~70\u500b\u7a0b\u5ea6\u3067\u3059\u3002\u3082\u306e\u51c4\u304f\u591a\u3044\u3001\u3068\u3044\u3046\u6570\u3067\u306f\u306a\u3044\u3067\u3059\u3002\n\nJiT\u304b\u3089AoT\u306b\u5207\u308a\u66ff\u3048\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u3053\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3092\u307e\u308b\u3063\u3068\u524a\u6e1b\u3067\u304d\u308b\u3068\u8a00\u3046\u610f\u5473\u3067\u3059\u3002\n\n### Shaking up baby\n\n\u300c\u9759\u7684\u306b\u30b3\u30fc\u30c9\u3092\u51fa\u529b\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u305d\u306e\u5206bundle\u306e\u30b5\u30a4\u30ba\u304c\u5897\u5927\u3059\u308b\u3093\u3058\u3083\u306a\u3044\u306e\uff1f\u300d\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\n\u3068\u3044\u3046\u304b\u3001\u50d5\u3082\u6700\u521d\u306f\u305d\u3046\u601d\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u3068\u3053\u308d\u304c\u305d\u3046\u3067\u3082\u306a\u3044\u306e\u3067\u3059\u3002\n\u4f55\u6545\u304b\u3068\u3044\u3046\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u4e8b\u524d\u306b\u6e08\u307e\u305b\u308b\u3068\u3044\u3046\u3053\u3068\u306fAngular\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u305f\u3081\u306b\u5fc5\u8981\u3068\u3057\u3066\u3044\u308b\u6a5f\u80fd(\u5177\u4f53\u7684\u306b\u306f@angular/compiler)\u81ea\u4f53\u304c\u4e0d\u8981\u3068\u306a\u308b\u304b\u3089\u3067\u3059\u3002\n@angular/compiler\u306fminify\u3057\u3066\u3082300KB\u3092\u8d8a\u3048\u307e\u3059\u3002\n\u3059\u306a\u308f\u3061\u3001\"@angular/compiler\u306e\u30b5\u30a4\u30ba\" > \"\u51fa\u529b\u3055\u308c\u305f\u30b3\u30f3\u30d1\u30a4\u30eb\u6e08\u307f\u30b3\u30fc\u30c9\" \u3068\u306a\u308b\u30b1\u30fc\u30b9\u3082\u591a\u3044\u306e\u3067\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001Component\u6570\u3084\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u304c\u5897\u3048\u308c\u3070\u3053\u306e\u95a2\u4fc2\u306f\u9006\u8ee2\u3059\u308b\u306e\u3067\u3001\u4e00\u5f8b\u306b\u3069\u3046\u3068\u3044\u3046\u8a71\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3002\n\n\u3082\u3046\u4e00\u70b9\u3001AoT\u7279\u6709\u306ebundle\u524a\u6e1b\u52b9\u679c\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u304cTree Shaking\u3067\u3059(Tree Shaking\u306b\u3064\u3044\u3066\u306f\u3053\u306e\u8a18\u4e8b\u3067\u306f\u89e3\u8aac\u3057\u307e\u305b\u3093\u3002\u30b0\u30b0\u308c\u3070\u8272\u3005\u51fa\u3066\u304f\u308b\u3068\u601d\u3044\u307e\u3059\u3057)\u3002\n\nAoT\u3067\u306f\u3001@angular/compiler-cli\u306b\u542b\u307e\u308c\u308b `ngc` \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u3001\u5148\u7a0b\u4f8b\u793a\u3057\u305f\u3088\u3046\u306aTypeScript\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9(.ngfactory.ts)\u3092HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u751f\u6210\u3057\u307e\u3059\u3002\n\u3053\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u81ea\u8eab\u306e\u63cf\u753b\u306b\u5fc5\u8981\u306a\u95a2\u6570\u306e\u307f\u3092import\u3059\u308b\u3088\u3046\u306b\u6700\u9069\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001bundle\u4f5c\u6210\u6642\u306bTree Shaking\u3092\u884c\u3046\u3053\u3068\u3067\u672c\u5f53\u306b\u5fc5\u8981\u3068\u3057\u3066\u3044\u308bclass, \u95a2\u6570\u3060\u3051\u3092\u9078\u629e\u3057\u3066bundle\u306b\u542b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u884c\u6642\u307e\u3067\u4f55\u304c\u5fc5\u8981\u304b\u5206\u304b\u3089\u306a\u3044JiT\u74b0\u5883\u3067\u306f\u3001\u300c\u5fc5\u8981\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u6a5f\u80fd\u300d\u3059\u3079\u3066\u3092bundle\u306b\u542b\u3081\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044\u305f\u3081\u3001Tree Shaking\u306e\u65e8\u5473\u306f\u5473\u308f\u3048\u307e\u305b\u3093\u3002\n\n### You're so lucky\n\n\u3053\u3053\u307e\u3067\u300c\u30a4\u30cb\u30b7\u30e3\u30eb\u30ed\u30fc\u30c9\u306e\u6027\u80fd\u6539\u5584\u300d\u3068\u3044\u3046\u5074\u9762\u3067AoT\u3092\u8a9e\u3063\u3066\u304d\u307e\u3057\u305f\u304c\u3001AoT\u306b\u3088\u3063\u3066\u5f97\u3089\u308c\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u4ed6\u306b\u3082\u3042\u308a\u307e\u3059\u3002\n\n#### \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u9759\u7684\u30c1\u30a7\u30c3\u30af\n\u4e0a\u8ff0\u3057\u305f\u3088\u3046\u306b\u3001ngc\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u3068HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089.ngfactory.ts\u3092\u51fa\u529b\u3057\u307e\u3059\u3002bundle\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u306f\u3053\u306e.ngfactory.ts\u3092JavaScript\u306b\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3057\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u3067bundle\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3001\u3068\u3044\u3046\u30d3\u30eb\u30c9\u30d5\u30ed\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\u8a00\u3044\u63db\u3048\u308b\u3068\u3001\u30d3\u30eb\u30c9\u30d5\u30ed\u30fc\u306e\u4e2d\u3067HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8(\u306b\u76f8\u5f53\u3059\u308bTypeScript)\u306b\u5bfe\u3057\u3066\u578b\u304c\u30c1\u30a7\u30c3\u30af\u3055\u308c\u308b\u3068\u3044\u3046\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002\n\u5f93\u6765\u306eAngularJS 1.x\u3067\u306f\u96e3\u3057\u304b\u3063\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u9759\u7684\u691c\u8a3c\u304c\u884c\u3048\u308b\u305f\u3081\u3001\u3088\u308a\u5805\u7262\u306a\u30d3\u30eb\u30c9\u30d5\u30ed\u30fc\u3092\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eValidation\u3092\u76ee\u7684\u3068\u3057\u305f\u3060\u3051\u306e\u5358\u4f53\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u3082\u7121\u304f\u306a\u308a\u307e\u3059\u3002\n\n#### \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u5229\u70b9\nAoT\u74b0\u5883\u3067\u306f@angular/compiler\u304cbundle\u306b\u542b\u307e\u308c\u307e\u305b\u3093\u3002\n\u3053\u308c\u306f\u3001\u5b9f\u884c\u6642\u306bHTML\u304b\u3089Angular\u306eComponent\u3092\u751f\u6210\u3059\u308b\u624b\u6bb5\u3092\u5931\u3046\u3068\u3044\u3046\u610f\u5473\u3067\u3059\u304c\u3001\u88cf\u3092\u8fd4\u3059\u3068\u60aa\u610f\u3092\u6301\u3063\u305f\u7b2c3\u8005\u304c\u8cb4\u65b9\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u7834\u58ca\u3059\u308b\u65b9\u6cd5\u304c1\u3064\u6e1b\u3063\u305f\u3068\u6349\u3048\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n\u3082\u3061\u308d\u3093\u3001\u3053\u308c\u3060\u3051\u3067XSS\u5bfe\u7b56\u5b8c\u74a7\uff01\u3068\u3044\u3046\u3053\u3068\u306f\u5168\u304f\u7121\u3044\u306e\u3067\u3059\u304c\u3001Angular\u306eruntime_compiler\u304c\u5b9f\u884c\u6642\u306b\u5b58\u5728\u3057\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u306f\u305d\u306e\u5206\u653b\u6483\u306e\u30dd\u30a4\u30f3\u30c8\u3092\u6e1b\u3089\u305b\u308b\u306e\u306f\u4e8b\u5b9f\u3067\u3059\u3002\n\n## \u5b9f\u8df5\u7de8\n\n### Weapon of choice?\n\n\u57fa\u672c\u7de8\u3067\u8ff0\u3079\u305f\u3088\u3046\u306bAoT\u306b\u304a\u3044\u3066bundle.js\u306e\u30b5\u30a4\u30ba\u304c\u524a\u6e1b\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u306e\u306fTree Shaking\u306b\u5bfe\u5fdc\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u307e\u3059\u3002\nTree Shaking\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u306b\u306f\u30012016\u5e7410\u6708\u73fe\u5728 webpack(2.x)\u3068Rollup\u304c2\u5927\u5019\u88dc\u3067\u3057\u3087\u3046(\u4ed6\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30c4\u30fc\u30eb\u304c\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044)\n\n#### **webpack**\nv2.x\u304b\u3089\u306fTree Shaking\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5229\u7528\u53ef\u80fd\u306b\u3002angular-cli\u7b49\u3001\u516c\u5f0f\u3067\u3082\u63a1\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3001\u300c\u4f55\u3067\u3082\u51fa\u6765\u3066\u3057\u307e\u3046\u300d\u30c4\u30fc\u30eb\u306a\u306e\u3067\u3001\u4f7f\u3044\u65b9\u3092\u9593\u9055\u3046\u3068webpack\u3068\u5fc3\u4e2d\u3059\u308b\u7fbd\u76ee\u306b\u306a\u308a\u305d\u3046\u3002\n\n#### Rollup\nES2015\u306b\u6700\u9069\u5316\u3055\u308c\u305fTree Shaking\u306f\u9b45\u529b\u3002webpack 2.x\u3088\u308a\u3082bundle\u306e\u30b5\u30a4\u30ba\u3092\u524a\u308c\u308b\u3068\u306e\u5831\u544a\u3082(\u50d5\u81ea\u8eab\u306f\u672a\u691c\u8a3c\u3067\u3059)\u3002\n\u5168\u3066\u306e\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3092ES Modules\u306e\u5f62\u5f0f\u306b\u5909\u63db\u3057\u306a\u3044\u3068bunlde\u304c\u4f5c\u6210\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u7279\u6027\u4e0a\u3001\u5c0e\u5165\u30cf\u30fc\u30c9\u30eb\u306fwebpack\u3088\u308a\u3082\u9ad8\u304f\u7384\u4eba\u5411\u3051\u306a\u5370\u8c61\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3042\u3068\u3001Angular\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u306bGoogle Closure Compiler\u3092\u9069\u7528\u3059\u308b\u3001\u3068\u3044\u3046\u30d7\u30e9\u30f3\u3082\u3042\u308b\u3088\u3046\u3067\u3059[^1]\u3002\u3068\u3066\u3082\u8208\u5473\u6df1\u3044\u30c6\u30fc\u30de\u3067\u3059\u304c\u3001\u3053\u306e\u6295\u7a3f\u3067\u306f\u53d6\u308a\u6271\u3044\u307e\u305b\u3093\u3001\u3068\u3044\u3046\u304b\u53d6\u308a\u6271\u3048\u308b\u307b\u3069\u4e2d\u8eab\u3092\u77e5\u308a\u307e\u305b\u3093\u3002\u3002\u3002\n\n\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u306bwebpack 2.x\u3092\u7528\u3044\u3066\u4ee5\u964d\u306e\u8a71\u3092\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\n### \u3053\u308c\u304c\u3053\u3046\u306a\u3063\u3066\u3053\u3046\u3058\u3083\n\n\u74b0\u5883\u69cb\u7bc9\u304c\u9762\u5012\u306a\u65b9\u306f angular-cli \u3092\u5229\u7528\u3059\u308b\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n`ng build --aot` \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068AoT\u5bfe\u5fdc\u3057\u305fbundle.js\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u305f\u3060\u3001\u73fe\u72b6\u3067\u306f angular-cli\u306e `ng new` \u30b3\u30de\u30f3\u30c9\u3067\u751f\u6210\u3057\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u306f webpack.config.js\u304c\u542b\u307e\u308c\u307e\u305b\u3093\u3002\n\u4f55\u6545\u304b\u306f\u3068\u3082\u304b\u304f\u3001\u81ea\u5206\u3067build\u306e\u8a2d\u5b9a\u304c\u5909\u66f4\u3057\u306b\u304f\u3044\u306e\u306f\u4e8b\u5b9f\u3067\u3059\u306e\u3067\u3001\u50d5\u306fangular-cli\u306b\u306f\u983c\u3089\u305a\u306b\u81ea\u5206\u3067\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u3002\n\nangular-cli\u306e\u5834\u5408\u306f\u3001\u300c\u3053\u3053\u306b.ts\u304c\u3042\u308b\u3058\u3083\u308d\uff1f\u300d\u2192\u300c\u3053\u308c\u304c\u3053\u3046\u306a\u3063\u3066\u3053\u3046\u3058\u3083\uff01\u300d\u7684\u306a\u611f\u3058\u3067AoT\u306b\u5bfe\u5fdc\u3057\u305fbundle\u304c\u51fa\u6765\u4e0a\u304c\u308b\u306e\u3067\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u81ea\u5206\u3067\u3084\u308b\u3068\u306a\u308b\u3068\u5730\u5473\u306b\u5927\u5909\u3067\u3059\u3002\n\n#### \u958b\u767a\u74b0\u5883bundle\u306e\u4f5c\u6210\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u306e\u958b\u767a\u6642\u306fAoT\u306f\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u306a\u305c\u306a\u3089ngc\u306e\u5b9f\u884c\u304c\u9045\u3044\u304b\u3089\u3002\n\u3061\u306a\u307f\u306bngc\u304c\u3069\u308c\u304f\u3089\u3044\u6642\u9593\u304c\u304b\u304b\u308b\u304b\u3068\u3044\u3046\u3068\u3001\u50d5\u306e\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u306f\u3001\u304a\u3088\u305d100\u7a0b\u5ea6\u306eComponent\u306b\u5bfe\u3057\u3066\u7d0430\u79d2\u304b\u304b\u308a\u307e\u3059\u3002\nCI\u3067\u5229\u7528\u3057\u3066\u3044\u308bwercker\u306e\u74b0\u5883\u3067\u3082\u540c\u7a0b\u5ea6\u306e\u6642\u9593\u3092\u8981\u3057\u3066\u3044\u307e\u3059\u3002\u3055\u3059\u304c\u306bwatch\u306b\u7d44\u307f\u8fbc\u3081\u308b\u30ec\u30d9\u30eb\u3067\u306f\u306a\u3044...\n\u3086\u304f\u3086\u304f\u3001ngc\u304c\u7206\u901f\u306b\u306a\u3063\u305f\u3089\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u3082AoT\u306b\u3057\u305f\u3044\u3067\u3059\u3051\u3069\u306d\u3002\n\n\u3055\u3066\u3001\u305d\u3093\u306a\u8a33\u3067\u30ed\u30fc\u30ab\u30eb\u3067\u306fJiT\u69cb\u6210\u306ebundle\u3092\u751f\u6210\u3059\u308b\u3088\u3046\u306bbuild\u3092\u7d44\u3093\u3067\u3044\u307e\u3059\u3002build\u30d5\u30ed\u30fc\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u611f\u3058\u3002\n\n1. gulp\u3067`src/**/*.component.css`\u3092`built/**/*.component.css`\u306bpostcss\u3067\u5909\u63db\n1. gulp\u3067`src/**/*.component.html`\u3092`built/**/*.component.html`\u3078\u30b3\u30d4\u30fc\n1. tsc\u3067`src/**/*.ts`\u3092`built/**/*.js`\u3078\u5909\u63db\n1. webpack + babel-loader, angular2-template-loader\u3067bundle\u3092\u4f5c\u6210\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u3067\u66f8\u304f\u3068\u3001\u4e0b\u8a18\u306e\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\n\n```text:\u30d5\u30a1\u30a4\u30eb\u69cb\u6210(dev)\n|-- dist\n| `-- budnle.js\n|\n|-- src/                      [\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u7f6e\u304d\u5834]\n| |-- main.ts\n| |-- module.ts\n| |-- my-app.component.ts\n| |-- my-app.component.html\n| `-- my-app.component.css    (postcss\u524d)\n| \n|-- built/                    [created]\n| |-- main.js                 (webpack\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8)     \n| |-- module.js\n| |-- my-app.component.js\n| |-- my-app.component.html\n| `-- my-app.component.css    (postcss\u5f8c) \n|\n|-- .babelrc\n|-- tsconfig.json\n|-- webpack.config.dev.json\n`-- package.json\n```\n\n\u5b9f\u969b\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u304b\u3089\u7c21\u7565\u5316\u3057\u3066\u3044\u307e\u3059\u304c\u3001webpack.config\u306f\u304a\u3088\u305d\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```js:webpack.config.dev.js\nconst path = require(\"path\");\n\nmodule.exports = {\n  module: {\n    loaders: [\n      {test: /\\.js$/, loader: [\"babel-loader\", \"angular2-template-loader\"], exclude: /node_modules/},\n      {test: /\\.component\\.html$/, loader: [\"raw-loader\"]},\n      {test: /\\.componrnt\\.css$/, loader: [\"raw-laoder\"]},\n    ]\n  },\n  output: {\n    path: path.join(__dirname, \"./dist\"),\n    filename: \"[name].js\"\n  },\n  entry: {\n    \"bundle\": path.resolve(__dirname, \"./built/main.js\"),\n  },\n};\n```\n\n\u4e0a\u8a18\u3067\u767b\u5834\u3057\u3066\u3044\u308bangular2-template-loader\u306b\u3064\u3044\u3066\u3067\u3059\u3002\u3053\u306eloader\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306aAngular Component\u306b\u304a\u3051\u308b`templateUrl`\u3068`styleUrls`\u306b\u53cd\u5fdc\u3057\u307e\u3059\u3002\n\n```ts:my-app.component.ts\n@Component({\n  selector: \"my-app\",\n  templateUrl: \"./my-app.component.html\",\n  styleUrls: [\"./my-app.component.css\"],\n})\nexport class MyAppComponent {\n}\n```\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306fangular2-template-loader\u306b\u3088\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\n```ts:angular2-template-loader\u306eoutput\n@Component({\n  selector: \"my-app\",\n  template: require(\"./my-app.component.html\"),\n  styles: [require(\"./my-app.component.css\")],\n})\nexport class MyAppComponent {\n}\n```\n\n\u3053\u308c\u3092raw-loader\u306b\u901a\u3059\u3053\u3068\u3067\u3001.html\u3084.css\u304cwebpack\u306b\u3088\u308abundle\u3055\u308c\u308b\u4ed5\u7d44\u307f\u3067\u3059\u3002\n\n\u4f55\u6545\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u76f4\u63a5require\u3092\u8a18\u8ff0\u305b\u305a\u306bangular2-template-loader\u3092\u4f7f\u3046\u306e\u304b\u3063\u3066\uff1f\u3053\u308c\u306f\u4e0b\u8a182\u3064\u306e\u7406\u7531\u304c\u3042\u308a\u307e\u3059\u3002\n\n1. AoT\u306b\u304a\u3044\u3066\u5229\u7528\u3059\u308bngc\u304crequire\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u3089\u305a\u3001`templateUrl`, `styleUrls`\u306e\u8a18\u6cd5\u3067\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\n1. \u305d\u3082\u305d\u3082HTML\u3084CSS\u30d5\u30a1\u30a4\u30eb\u306fJavaScript(TypeScript)\u304b\u3089\u76f4\u63a5require/import\u3059\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u306f\u306a\u3044\n\nAoT\u306b\u5411\u304d\u5408\u3046\u4e0a\u3067\u91cd\u8981\u306a\u306e\u306f\u30011.\u306e\u65b9\u3067\u3059\u304c\u3001AoT\u3092\u5229\u7528\u305b\u305a\u3068\u3082\u30b3\u30fc\u30c9\u304b\u3089webpack\u4f9d\u5b58\u3092\u6e1b\u3089\u305b\u308b\u306e\u3067\u3001\u7a4d\u6975\u7684\u306b\u5229\u7528\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u3082\u3046\u4e00\u70b9\u88dc\u8db3. \u306a\u305cpostcss-loader\u3092\u4f7f\u308f\u305a\u306b\u3001\u308f\u3056\u308f\u3056gulp\u3067postcss\u5909\u63db\u3092\u304b\u3051\u305f\u304b\u3001\u306b\u3064\u3044\u3066\u3067\u3059\u3002\n\u3053\u308c\u306fwebpack2.x\u3068postcss(\u6b63\u78ba\u306b\u306fpostcss-import\u3068\u3044\u3046postcss\u3067`@import`\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306eplugin)\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u7d50\u679c\u3001build\u304c\u76db\u5927\u306b\u58ca\u308c\u308b\u3068\u3044\u3046[webpack 2.x\u306ebug](https://github.com/webpack/webpack/issues/2901)\u3092\u8e0f\u3093\u3060\u305f\u3081\u3067\u3059\u3002\n\u307e\u305f\u3001AoT\u306b\u5411\u304d\u5408\u3046\u4e0a\u3067\u3001ngc\u3092\u5b9f\u884c\u3059\u308b\u524d\u306bCSS\u306epre-process\u306f\u5b9f\u65bd\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u751f\u3058\u305f\u306e\u3067\u3001\u7d50\u5c40webpack\u306eloader\u306f\u6975\u529b\u5c11\u306a\u304f\u3059\u308b\u65b9\u5411\u306b\u6301\u3063\u3066\u3044\u304d\u307e\u3057\u305f\u3002gulp\u3068webpack\u304c\u6df7\u3056\u3063\u3066\u3044\u308b\u306e\u306f\u8cdb\u5426\u3042\u308a\u305d\u3046\u3067\u3059\u3051\u3069\u306d\u3002\n\n#### \u30ea\u30ea\u30fc\u30b9\u7528bundle\u306e\u4f5c\u6210\n\n\u3055\u3066\u3001\u3044\u3088\u3044\u3088AoT\u7528\u306ebuild\u3067\u3059\u3002ngc\u304c\u767b\u5834\u3059\u308b\u5206\u3001\u8907\u96d1\u5316\u3057\u307e\u3059\u3002\n\n1. ngc\u306e\u6e96\u5099\u30d5\u30a7\u30fc\u30ba\n 1. gulp\u3067`src/**/*component.css`\u3092`src_aot/**/*.component.css`\u306bpostcss\u3067\u5909\u63db\n 1. gulp\u3067`src/**/*.component.html`\u3092`src_aot/**/*.component.html`\u3078\u30b3\u30d4\u30fc\n 1. gulp\u3067`src/**/*.ts`\u3092`src_aot/**/*.ts`\u3078\u30b3\u30d4\u30fc\n 1. AoT\u7528\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092 `src_aot/main_aot.ts`\u3068\u3057\u3066\u914d\u7f6e\n1. ngc\u306e\u5b9f\u884c\n 1. `ngc -p tsconfig.aot.json` \u3092\u5b9f\u884c\u3002`src_aot/`\u914d\u4e0b\u306b`*.ngfactory.ts`\u304c\u751f\u6210\u3055\u308c\u308b\n1. \u30d0\u30f3\u30c9\u30eb\u306e\u4f5c\u6210\n 1. tsc\u3067`src_aot/**/*.ts`\u3092`built/**/*.js`\u3078\u5909\u63db\n 1. webpack + babel-loader\u3067bundle\u3092\u4f5c\u6210\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```text:\u30d5\u30a1\u30a4\u30eb\u69cb\u6210(dev)\n|-- dist\n| `-- budnle.js\n|\n|-- src/                              [\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u7f6e\u304d\u5834]\n| |-- main.ts\n| |-- my-module.ts\n| |-- my-app.component.ts\n| |-- my-app.component.html\n| `-- my-app.component.css            (postcss\u524d)\n| \n|-- src_aot/                          [ngc\u3092\u5b9f\u884c\u3059\u308b\u7528\u306e\u4e00\u6642\u9818\u57df]\n| |-- main_aot.ts\n| |-- my-module.ts\n| |-- my-module.ngfactory.ts          (ngc\u306b\u3088\u308a\u751f\u6210\u3055\u308c\u308b)\n| |-- my-app.component.ts\n| |-- my-app.component.ngfactory.ts   (ngc\u306b\u3088\u308a\u751f\u6210\u3055\u308c\u308b)\n| |-- my-app.component.html\n| |-- my-app.component.css            (postcss\u5f8c)\n| `-- my-app.component.css.shim.ts    (ngc\u306b\u3088\u308a\u751f\u6210\u3055\u308c\u308b)\n| \n|-- built/                            [tsc\u3067\u51fa\u529b\u3059\u308b]\n| |-- main_aot.js                     (webpack\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8)\n| |-- my-module.js\n| |-- my-module.ngfactory.js\n| |-- my-app.component.js\n| |-- my-app.component.ngfactory.js\n| `-- my-app.component.css.shim.js\n|\n|-- .babelrc\n|-- tsconfig.json\n|-- tsconfig_aot.json\n|-- webpack.config.dev.json\n|-- webpack.config.prod.json\n`-- package.json\n```\n\nAoT\u3067\u306f\u3001webpack\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308bbootstarp\u30b3\u30fc\u30c9\u306e\u8a18\u8ff0\u304cJiT\u306e\u5834\u5408\u3068\u7570\u306a\u308b\u70b9\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```ts:src/main.ts(JiT\u7528)\nimport 'core-js/es6';\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { MyModule } from \"./my-module\";\n\nplatformBrowserDynamic().bootstrapModule(MyModule);\n```\n\n```ts:src_aot/main_aot.ts(AoT\u7528)\nimport 'core-js/es6';\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\nimport { platformBrowser } from '@angular/platform-browser';\nimport { MyModuleNgFactory } from \"./my-module.ngfactory\";\n\n/* AoT\u3067\u306fbootstrap\u306e\u547c\u3073\u51fa\u3057\u65b9\u304cJiT\u3068\u7570\u306a\u308b */\nplatformBrowser().bootstrapModuleFactory(MyModuleNgFactory);\n```\n\nngc\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u306ftsconfig.json\u306b\u5e7e\u3064\u304b\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002`angularCompilerOptions` \u3068\u3044\u3046\u306e\u304cngc\u7528\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u306a\u308a\u307e\u3059\u3002`genDir`\u304c.ngfactory.ts\u306e\u51fa\u529b\u5148\u3067\u3059\u306d\u3002\u305d\u308c\u4ee5\u5916\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306fTypeScript\u3067\u5229\u7528\u3059\u308bconfig\u3068\u4e00\u7dd2\u3002`rootDirs`\u3092\u99c6\u4f7f\u3059\u308c\u3070\u3001\u3082\u3063\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u30b7\u30f3\u30d7\u30eb\u306b\u3067\u304d\u305d\u3046\u3002\n\n```json:tsconfig_aot.json\n{\n  \"compilerOptions\": {\n    \"module\": \"es2015\",\n    \"target\": \"es2015\",\n    \"noImplicitAny\": true,\n    \"sourceMap\": false,\n    \"outDir\": \".built\",\n    \"rootDir\": \"src_aot\",\n    \"moduleResolution\": \"node\",\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"types\": [\"node\"]\n  },\n  \"exclude\": [\"node_modules\", \"bundle\", \"dist\", \"src\"],\n  \"angularCompilerOptions\": {\n    \"genDir\": \".\",\n    \"debug\": false\n  }\n}\n```\n\n\u7d9a\u3044\u3066AoT\u7528\u306ewebpack\u8a2d\u5b9a\u3067\u3059\u3002\u52ff\u8ad6webpack-merge\u3092\u4f7f\u3063\u3066\u5171\u901a\u5316\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u306a\u306e\u3067\u3059\u304c\u3001\u8aac\u660e\u304c\u9762\u5012\u306a\u306e\u3067\u5168\u90e8\u66f8\u304d\u51fa\u3057\u307e\u3057\u305f\u3002\n\n```js:webpack.config.prod.js\nconst path = require(\"path\");\nconst webpack = require(\"webpack\");\n\nmodule.exports = {\n  module: {\n    loaders: [\n      {test: /\\.js$/, loader: [\"babel-loader\"], exclude: /node_modules/},\n    ]\n  },\n  output: {\n    path: path.join(__dirname, \"./dist\"),\n    filename: \"[name].js\"\n  },\n  entry: {\n    \"bundle\": path.resolve(__dirname, \"./built/main.js\"),\n  },\n  plugins: [\n    new webpack.LoaderOptionsPlugin({\n      minimize: true,\n      debug: false\n    }),\n    new webpack.optimize.UglifyJsPlugin({\n      compress: {\n        warnings: false\n      },\n      output: {\n        comments: false\n      },\n      sourceMap: true\n    })\n  ],\n  devtool: \"sourcemap\",\n};\n```\n\nngc\u3067HTML, CSS\u304c\u5168\u3066.ts\u5316\u3055\u308c\u305f\u5206\u3001loader\u306e\u8a2d\u5b9a\u304c\u30ed\u30fc\u30ab\u30eb\u7528\u3088\u308a\u3059\u3063\u304d\u308a\u3057\u307e\u3059\u3002sytleUrls, templaUrl\u3082ngc\u6642\u70b9\u3067\u89e3\u6c7a\u3055\u308c\u308b\u305f\u3081\u3001angular2-tempalte-loader\u3082\u4e0d\u8981\u3067\u3059\u3002\n\n\u306a\u304a\u3001webpack 2.x\u306f**import\u6587\u3067\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u5206\u306b\u306fTree Shaking\u3092\u9811\u5f35\u308b\u304c\u3001require\u95a2\u6570\u306e\u5834\u5408\u306f\u30d5\u30a1\u30a4\u30eb\u6bcebundle\u3059\u308b\u3060\u3051**\u3068\u3044\u3046\u6226\u7565\u3067bundle\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001TypeScript/Babel\u3068\u3082\u306bimport\u6587\u3092require\u306b\u5909\u63db\u3057\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3057\u306a\u304f\u3066\u306f\u306a\u308a\u307e\u305b\u3093\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001tsconfig_aot.json\u306b\u304a\u3051\u308b`\"module: \"es2015\"` \u3068\u3001\u4e0b\u8a18\u306e.babelrc\u306b\u304a\u3051\u308b `{\"modules\": false}` \u304c\u8a72\u5f53\u3057\u307e\u3059\u3002\n\n```json:.babelrc\n{\n  \"presets\": [\n    [\"es2015\", {\"modules\": false}]\n  ]\n}\n```\n\n### \u3053\u3044\u3064\u3001\u3001\u52d5k...\u52d5\u304b\u306a\u304b\u3063\u305f orz\n\n\u4e00\u6c17\u306b\u5b8c\u6210\u7cfb\u306ebuild\u8a2d\u5b9a\u3092\u66f8\u3044\u3066\u304d\u305f\u8a33\u3067\u3059\u304c\u3001\u50d5\u304c\u5b9f\u969b\u306bAoT\u5bfe\u5fdc\u3057\u305f\u3068\u304d\u306f\u3001ngc\u304c\u6b63\u5e38\u7d42\u4e86\u305b\u305a\u306b\u30e1\u30bd\u30e1\u30bd\u6ce3\u3044\u3066\u3044\u305f\u6642\u9593\u304c\u4e00\u756a\u9577\u304b\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u672c\u5f53\u306b\u8f9b\u3044\u306e\u306fAoT\u74b0\u5883\u304c\u51fa\u6765\u305f\u5f8c\u306b\u5f85\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u308c\u306f\u3055\u3066\u304a\u304d\u3001\u5b9f\u8df5\u7de8\u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u306f\u300c\u3044\u304b\u306bngc\u304c\u6012\u3089\u306a\u3044\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u304b\u300d\u3067\u3059\u3002\n\n\u6b63\u76f4\u3001\u7db2\u7f85\u7684\u306b\u300c\u3053\u3046\u3044\u3046\u30b1\u30fc\u30b9\u306fngc\u304cNG\u300d\u3092\u628a\u63e1\u3057\u3066\u3044\u308b\u8a33\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u30c8\u30e9\u30a4\u30a2\u30eb&\u30a8\u30e9\u30fc\u3067\u3057\u304b\u306a\u3044\u306e\u3067\u3059\u304c\u3001ngc\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5\u3092\u7d39\u4ecb\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n#### \u6587\u5b57\u5217\u3060\u3068\u601d\u3046\u306a TypeScript\u3068\u5fc3\u5f97\u3088\n\n```html:my-app.component.html`\n<div>\n  <input type=\"\" [(ngModel)]=\"value\"/>\n  <span>{{value}}</span>\n</div>\n```\n\n```ts:my-app.component.ts\n@Component({\n  selector: \"my-app\",\n  templateUrl: \"./my-app.component.html\"\n})\nexport class MyAppComponent {\n}\n```\n\n\u3053\u306e\u30b3\u30fc\u30c9\u306fJiT\u74b0\u5883\u3067\u306f\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001ngc\u5b9f\u884c\u6642\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```text\nProperty 'value' does not exist on type 'MyAppComponent'.\n```\n\n\u305d\u3046\u3067\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eHTML\u3067`value`\u3068\u3044\u3046MyAppComponent class\u306epublic\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u306b\u3082\u95a2\u308f\u3089\u305a\u3001MyAppComponent\u306b\u3053\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u5b9a\u7fa9\u304c\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\u3059\u3002\u6b63\u3057\u304f\u306f\u4e0b\u8a18\u3067\u3059\u306d\u3002\n\n```ts:my-app.component.ts(\u4fee\u6b63\u5f8c)\n@Component({\n  selector: \"my-app\",\n  templateUrl: \"./my-app.component.html\"\n})\nexport class MyAppComponent {\n  /* \u3061\u3083\u3093\u3068\u5909\u6570\u5ba3\u8a00\u3059\u308b */\n  value: string;\n}\n```\n\n\u4e00\u898b\u3059\u308b\u3068\u30a6\u30b6\u3044\u3067\u3059\u304c\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8HTML\u3067typo\u3057\u3066`{{valeu}`\u3068\u66f8\u3044\u3066\u3044\u305f\u3068\u3057\u3066\u3082\u540c\u3058\u30a8\u30e9\u30fc\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\nProperty\u540d\u30ec\u30d9\u30eb\u3067\u306e\u30c1\u30a7\u30c3\u30af\u3092\u52d5\u4f5c\u524d\u306b\u3057\u3066\u304f\u308c\u3066\u3044\u308b\u3001\u3068\u6349\u3048\u307e\u3057\u3087\u3046\u3002\n\u906d\u9047\u3057\u305f\u3089\u300c\u3042\u308a\u304c\u3068\u3046ngc\u3001\u30a8\u30e9\u30fc\u3092\u6559\u3048\u3066\u304f\u308c\u3066\u300d\u3068\u5fc3\u306e\u4e2d\u3067\u611f\u8b1d\u3059\u3079\u304d\u3067\u3059\u3002\u6d17\u8133\u3055\u308c\u3066\u308b\u3068\u304b\u8a00\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\n\n\u4f3c\u305f\u3088\u3046\u306a\u30b1\u30fc\u30b9\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306bPipe\u3092\u5ba3\u8a00\u3057\u3066\u304a\u304d\u3001\n\n```ts:my-pipe.ts\n@Pipe({name: 'myPipe'})\nexport class MyPipe implements PipeTransform {\n  transform(value: number, args: string[]) {\n    /* transform\u306e\u51e6\u7406 */\n  }\n}\n```\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e2d\u306b\u3066 `{{value | myPipe}}` \u306e\u3088\u3046\u306b\u5f15\u6570\u7121\u3057\u306e\u547c\u3073\u51fa\u3057\u30b3\u30fc\u30c9\u304c\u3042\u308b\u3068\u3084\u306f\u308angc\u306f\u30a8\u30e9\u30fc\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\u5f15\u6570\u7121\u3057\u3067\u547c\u3073\u51fa\u3057\u305f\u3051\u308c\u3070\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u4fee\u6b63\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n```ts:my-pipe.ts(\u4fee\u6b63\u5f8c)\n@Pipe({name: 'myPipe'})\nexport class MyPipe implements PipeTransform {\n  transform(value: number, args?: string[]) { /* args\u306f\u7701\u7565\u53ef\u80fd\u3067\u3042\u308b\u3053\u3068\u3092\u660e\u793a\u3059\u308b */\n    /* transform\u306e\u51e6\u7406 */\n  }\n}\n```\n\n\u3055\u3089\u306b\u3082\u3046\u4e00\u3064\u3002Template Drive Form\u3067NgModel\u304c\u4fdd\u6301\u3057\u3066\u3044\u308berror\u60c5\u5831\u3092\u53c2\u7167\u3059\u308b\u5834\u5408\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3059\u3002\u3053\u308c\u306fJiT\u3067\u306f\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\n```html:my-component.html\n<form #form=\"ngForm\">\n  <input #v=\"ngModel\" required name=\"myName\" ngModel></input>\n  <span *ngIf=\"v.errors?.required\">Required!</span>\n</form>\n```\n\n\u3084\u306f\u308aAoT\u3067\u306f\u30c0\u30e1\u3067\u3059\u3002 `*ngIf=\"v.errors?.required\"` \u306e\u90e8\u5206\u304cNG\u3067\u3059\u3002NgModel\u306e\u7d99\u627f\u5143\u3067\u3042\u308bAbstractControlDirective\u306berrors\u306e\u5b9a\u7fa9\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```ts\nexport declare abstract class AbstractControlDirective {\n    errors: {\n        [key: string]: any;\n    };\n    /* \u4e2d\u7565 */\n}\n```\n\nTypeScript\u3068\u3057\u3066\u306f\u3001`v.errors.required` \u3067\u306f\u306a\u304f\u3001 `v.errors['required']` \u304c\u6b63\u3057\u3044\u3067\u3059\u306d\u3002\u5f93\u3063\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```html:my-component.html(\u4fee\u6b63\u5f8c)\n<form #form=\"ngForm\">\n  <input #v=\"ngModel\" required name=\"myName\" ngModel></input>\n  <span *ngIf=\"v.errors && v.errors['required']\">Required!</span>\n</form>\n```\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u76f4\u63a5\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u306f\u898b\u3048\u306a\u3044\u3051\u308c\u3069\u3001\u540c\u7cfb\u7d71\u306e\u7f60\u306b\u8a72\u5f53\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3092\u3082\u30461\u3064\u7d39\u4ecb\u3057\u307e\u3059\u3002\u3053\u308c\u3082\u4e0a\u8ff0\u306ePipe\u3068\u540c\u3058\u304f\u3001\u30e1\u30bd\u30c3\u30c9\u30b7\u30b0\u30cd\u30c1\u30e3\u9593\u9055\u3044\u3067\u3059\u3002\n\n```ts\nexport class MyAppComponent implements OnChanges {\n  ngOnChanges() {\n    /* \u5909\u66f4\u6642\u306e\u51e6\u7406 */\n  }\n}\n```\n\n.ngfactory\u304c\u5185\u90e8\u7684\u306b`ngOnChanges`\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u969b\u306b\u3001\u4e0b\u8a18\u3067\u8868\u73fe\u3055\u308c\u308b `SimpleChanges` \u3092\u5f15\u6570\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\n```ts\nexport interface SimpleChanges {\n    [propName: string]: SimpleChange;\n}\n```\n\n\u3057\u305f\u304c\u3063\u3066\u3001\u5f15\u6570\u7121\u3057\u306e `ngOnChanges`\u3092\u5b9a\u7fa9\u3057\u3066\u3057\u307e\u3046\u3068\u578b\u4e0d\u6574\u5408\u304c\u8d77\u3053\u308a\u3001\u30a8\u30e9\u30fc\u6271\u3044\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u7d39\u4ecb\u3057\u305f\u30a8\u30e9\u30fc\u306f\u3044\u305a\u308c\u3082**\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304cTypeScript\u306e\u30b3\u30fc\u30c9\u306b\u5909\u63db\u3055\u308c\u305f\u5206\u3001\u96d1\u306a\u66f8\u304d\u65b9\u304c\u8a31\u3055\u308c\u306a\u304f\u306a\u3063\u3066\u3044\u308b**\u3068\u3044\u3046\u7cfb\u7d71\u306e\u30a8\u30e9\u30fc\u3067\u3059\u3002\n.html\u30d5\u30a1\u30a4\u30eb\u3060\u304b\u3089\u3068\u8a00\u3063\u3066\u3001\u53ea\u306e\u6587\u5b57\u5217\u3060\u3068\u601d\u308f\u305a\u306bTypeScript\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3064\u3082\u308a\u3067\u8a18\u8ff0\u3057\u307e\u3057\u3087\u3046\u3002\n\ntslint\u304f\u3089\u3044\u306e\u6c17\u8efd\u3055\u3067ngc\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308c\u3070\u3001\u4fdd\u5b58\u3057\u305f\u77ac\u9593\u306b\u30a8\u30c7\u30a3\u30bf\u306b\u30a8\u30e9\u30fc\u3092\u5373\u53cd\u6620\u3059\u308b\u3001\u3068\u3044\u3046\u98a8\u306b\u958b\u767a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\n\n\n#### \u52d5\u3068\u9759\n\n\u6b21\u306fTypeScript\u7684\u306b\u306fvalid\u3060\u3051\u3069\u3001metadata(`@Component`\u3084`@Module`\u306e\u4e2d\u8eab\u90e8\u5206)\u3092\u9759\u7684\u89e3\u6790\u3059\u308b\u90fd\u5408\u4e0a\u3001ngc\u304c\u6fc0\u304a\u3053\u3059\u308b\u30bf\u30a4\u30d7\u306e\u30a8\u30e9\u30fc\u3067\u3059\u3002\n\n\u3053\u308c\u3089\u306e\u30d1\u30bf\u30fc\u30f3\u306f\u5927\u6982\u3001Decorators\u306e\u4e2d\u306b\u52d5\u7684\u306a\u51e6\u7406\u3092\u66f8\u304f\u3068\u767a\u751f\u3057\u307e\u3059\u3002\n\u4f8b\u3092\u63d0\u793a\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u305d\u3093\u306a\u6c17\u6301\u3061\u60aa\u3044\u3053\u3068\u3084\u308b\u304b\u3069\u3046\u304b\u306f\u5206\u304b\u3093\u306a\u3044\u3067\u3059\u3051\u3069\u3001`template`\u306e\u4e8b\u524d\u51e6\u7406\u7684\u306btagged function\u3092\u4f7f\u3063\u305f\u3068\u3057\u307e\u3057\u3087\u3046\u3002\n\n```ts\nfunction myTag(templ: TemplateStringsArray, ...args: string[]) {\n  /* \u30b4\u30cb\u30e7\u30b4\u30cb\u30e7 */\n}\n\n@Component({\n  selector: 'my-app',\n  template: myTag `\n  <div>${hoge}</div>\n  `,\n})\nexport class MainAppComponent {\n}\n```\n\n\u3082\u3061\u308d\u3093\u6012\u3089\u308c\u307e\u3059\u3002Angular\u3068\u95a2\u4fc2\u306e\u306a\u3044\u3068\u3053\u308d\u3067\u3001\u52d5\u7684\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u305f\u3089\u3001\u305d\u308c\u3092\u9759\u7684\u89e3\u6790\u3067\u4f55\u3068\u304b\u3057\u308d\u3068\u3044\u3046\u65b9\u304c\u7121\u7406\u304c\u3042\u308a\u307e\u3059\u3088\u306d\u3002\n\n```text\nError encountered resolving symbol values statically. Expression form not supported\n```\n\n`@Component`\u306e\u4e2d\u3067\u5168\u304f\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u304c\u884c\u3048\u306a\u3044\u304b\u3068\u8a00\u3046\u3068\u3001\u305d\u3093\u306a\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u4f8b\u3048\u3070\u3001Component\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3057\u304b\u3051\u308b\u969b\u306b\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u4f55\u7a2e\u985e\u304b\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u304c\u3001\u3053\u308c\u3089\u304c\u30a8\u30e9\u30fc\u306b\u306a\u308b\u8a33\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n```ts\nanimations: [\n  trigger(\"shrinkOut\", [\n    state(\"in\", style({height: \"*\"})),\n    transition(\"* => void\", [/* ... */])\n  ])\n]\n```\n\n\u307e\u305f\u3001\u30a2\u30ed\u30fc\u95a2\u6570(\u307e\u305f\u306f\u533f\u540d\u95a2\u6570)\u3092\u8a18\u8ff0\u3057\u3066ngc\u304c\u300c\u3082\u3046\u7121\u7406\uff01\u300d\u3063\u3066\u3044\u3046\u30b1\u30fc\u30b9\u3082\u5b58\u5728\u3057\u307e\u3059\u3002\n\n`@NgModule`\u3084`@Component`\u3067\u30d5\u30a1\u30af\u30c8\u30ea\u95a2\u6570\u3092provider\u3068\u3057\u3066\u30bb\u30c3\u30c8\u3057\u3088\u3046\u3068\u3059\u308b\u5834\u5408\u3001`{ provide: Foo, useFactory: () => { ... } }` \u3068\u66f8\u3051\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u308c\u306fngc\u304c\u30a8\u30e9\u30fc\u5410\u304d\u307e\u3059\u3002 `{ provide: Foo, useFactory: setupFoo }` \u306e\u3088\u3046\u306b\u30d5\u30a1\u30af\u30c8\u30ea\u95a2\u6570\u306b\u540d\u524d\u3092\u4ed8\u3051\u3066\u3042\u3052\u308b\u3068\u901a\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nrouter\u306eloadChildren\u3067\u3082\u540c\u69d8\u306e\u73fe\u8c61\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u9045\u5ef6\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u3059\u308b\u969b\u306e\n`{ path: \"/sub\", loadChildren: () => require(\"es6-promise!../sub/sub-module.ngfactory\")(\"SubModule\") }` \u3068\u3044\u3046\u30b3\u30fc\u30c9\u3082\u3084\u306f\u308a `{ path: \"/sub\", loadChildren: loadSubModuleFn }` \u306e\u3088\u3046\u306b\u540d\u524d\u306e\u3064\u3044\u305f\u95a2\u6570\u306b\u3059\u308b\u3068ngc\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u306e\u5c0f\u7bc0\u3067\u7d39\u4ecb\u3057\u305f\u30a8\u30e9\u30fc\u306fTypeScript\u7684\u306b\u306f\u5168\u7136valid\u306a\u5974\u7b49\u3070\u304b\u308a\u3067\u3059\u3002\u3069\u3061\u3089\u304b\u3068\u3044\u3046\u3068\u3001\u9759\u7684\u89e3\u6790\u3068\u3044\u3046ngc\u306e\u6c17\u6301\u3061\u306b\u5bc4\u308a\u305d\u3063\u3066\u300c\u3055\u3059\u304c\u306b\u3053\u308c\u306f\u7121\u7406\u304b...\u300d\u3068\u512a\u3057\u3044\u76ee\u3067\u898b\u3066\u3042\u3052\u308b\u3057\u304b\u306a\u3044\u3002\n\n## \u767a\u5c55\u7de8\n\n### \u4ffa\u305f\u3061\u306e\u6226\u3044\u306f\u3053\u308c\u304b\u3089\u3060\n\n\u3055\u3066\u3001\u3088\u3046\u3084\u304fAoT\u304c\u7a3c\u50cd\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u8cb4\u65b9\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3082\u901f\u5ea6\u306e\u9055\u3044\u304c\u4f53\u611f\u3067\u304d\u308b\u30ec\u30d9\u30eb\u3067\u521d\u671f\u63cf\u753b\u304c\u9ad8\u901f\u5316\u3055\u308c\u305f\u3053\u3068\u3067\u3057\u3087\u3046\uff01\n\n\u3053\u308c\u3067\u3084\u3063\u305f\u306d\uff01\u3068\u306f\u306a\u3089\u306a\u3044\u306e\u304c\u8f9b\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\nTree Shaking\u307e\u3067\u3057\u305f\u306e\u306b\u3001bundle\u306e\u30b5\u30a4\u30ba\u3092\u898b\u3066\u307f\u308b\u3068gzip\u524d\u3067\u307e\u3060\u6570MB\u7a0b\u5ea6\u898f\u6a21\u3060\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\uff1f \u304d\u3063\u3068\u3053\u3046\u601d\u3046\u306f\u305a\u3067\u3059\u3002\n\n\u300c\u3042\u308c\u3001Tree Shaking\u51fa\u6765\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u306b\u4f55\u3067\u3053\u3093\u306a\u306b\u30c7\u30ab\u3044\u3093\u3060\uff1f\u300d\n\n### \u6c5d\u306e\u6575\u3092\u77e5\u308c(\u518d)\n\n\u57fa\u672c\u7de8\u3067\u306f\u300cJavaScript\u306e\u5b9f\u884c\u6642\u9593\u300d\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3057\u3066\u6e2c\u5b9a\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u767a\u5c55\u7de8\u3067\u306f\u300cJavaScript\u306e\u30b5\u30a4\u30ba\u300d\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3057\u305f\u6226\u3044\u304c\u5f85\u3063\u3066\u3044\u307e\u3059\u3002\n\u5bfe\u7b56\u3092\u7df4\u308b\u305f\u3081\u306b\u306f\u3001\u3069\u3053\u306b\u30b5\u30a4\u30ba\u3092\u6d88\u8cbb\u3057\u3066\u3044\u308b\u5974\u304c\u3044\u308b\u304b\u3092\u77e5\u308b\u3053\u3068\u304c\u5927\u4e8b\u3067\u3059\u3002\u30b3\u30b9\u30c8\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u91cd\u8981\uff01\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001bundle\u306e\u30b5\u30a4\u30ba\u306e\u5185\u8a33\u3092\u53ef\u8996\u5316\u3057\u307e\u3057\u3087\u3046\u3002\n\n[source-map-explorer](https://github.com/danvk/source-map-explorer)\u3068\u3044\u3046\u30c4\u30fc\u30eb\u3092\u7528\u3044\u307e\u3059\u3002\n\u3056\u3063\u304f\u308a\u8aac\u660e\u3059\u308b\u3068\u3001.js.map\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u3001\u5143\u3005\u306e\u30d5\u30a1\u30a4\u30eb\u304cminify\u5f8c\u306ebundle\u3067\u3069\u306e\u7a0b\u5ea6\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u5360\u6709\u3057\u3066\u304f\u308c\u308b\u304b\u3092\u53ef\u8996\u5316\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\n\u4e0b\u306e\u56f3\u306f\u3001\u50d5\u304c[AoT\u3068Lazy Loading\u306e\u30b5\u30f3\u30d7\u30eb](https://github.com/Quramy/ng2-lazy-load-demo)\u7528\u306b\u4f5c\u6210\u3057\u305fbundle\u306b\u5bfe\u3057\u3066\u3001source-map-explorer\u3092\u304b\u3051\u305f\u969b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u306fcomponent\u6570\u30822,3\u500b\u7a0b\u5ea6\u306e\u307b\u307cHello world\u306b\u6bdb\u304c\u751f\u3048\u305f\u7a0b\u5ea6\u3001\u8981\u3059\u308b\u306bAngular\u306e\u6700\u5c0f\u69cb\u6210\u30a2\u30d7\u30ea\u3068\u8a00\u3063\u3066\u3088\u3044\u30ec\u30d9\u30eb\u3067\u3059(\u3061\u306a\u307f\u306b\u3001\u3053\u3044\u3064\u3067\u3059\u3089gzip\u524d\u3067400KB\u7a0b\u5ea6\u306e\u5bb9\u91cf\u304c\u3042\u308a\u307e\u3059...)\u3002\n\n![dist_bundle_aot_js_-_Source_Map_Explorer.png](https://qiita-image-store.s3.amazonaws.com/0/8808/538947c2-7764-ccac-124f-0b6f6e261e06.png)\n\n\nTree Shaking\u304c\u4e0a\u624b\u304f\u3044\u3063\u3066\u3044\u308c\u3070\u3001\u5927\u4f53\u4f3c\u305f\u3088\u3046\u306a\u898b\u305f\u76ee\u306emap\u304c\u5f97\u3089\u308c\u308b\u306f\u305a\u3002\n\u3082\u3057\u3001\u624b\u5143\u3067\u51fa\u529b\u3057\u305f\u56f3\u306b`@angular/compiler` \u3068\u304b `runtime_compiler` \u304c\u898b\u3048\u3066\u3044\u305f\u3089\u3001\u305d\u3082\u305d\u3082Tree Shaking\u304c\u51fa\u6765\u3066\u3044\u306a\u3044\u304bwebpack\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u3001\u3068\u3044\u3063\u305f\u30ec\u30d9\u30eb\u3067build\u3092\u6b63\u3057\u304f\u4f5c\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3067\u3059\u3002\u898b\u76f4\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u6b21\u306e\u56f3\u306f\u3001\u50d5\u306e\u3084\u3063\u3066\u3044\u308b\u5b9f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306ebundle\u306b\u5bfe\u3057\u3066source-map-explorer\u3092\u304b\u3051\u305f\u969b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u3059\u3002\u3055\u3059\u304c\u306b\u696d\u52d9\u3067\u3064\u304b\u3063\u3066\u308b\u3084\u3064\u306a\u306e\u3067\u3001\u30e2\u30b6\u30a4\u30af\u304b\u3051\u3055\u305b\u3066\u8cb0\u3063\u3066\u3044\u307e\u3059\u3002\n\n![dist-release_assets_modules_guide_bundle_js_-_Source_Map_Explorer.png](https://qiita-image-store.s3.amazonaws.com/0/8808/f15c2c45-2b4c-de26-1a38-b2077655a945.png)\n\n\n\u6b63\u76f4\u3001\u516c\u958b\u3059\u308b\u306e\u3082\u3069\u3046\u304b\u3063\u3064\u30fc\u30ec\u30d9\u30eb\u3067\u6065\u305a\u304b\u3057\u3044\u308f\u3051\u3067\u3059\u304c\u3001\u7dba\u9e97\u306a\u5974\u898b\u305b\u3066\u3082\u9762\u767d\u304f\u3082\u306a\u3093\u3068\u3082\u7121\u3044\u3067\u3057\u3087\u3046\u306e\u3067\u3001\u6065\u3092\u5072\u3093\u3067\u3055\u3089\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u5de6\u5074\u3092\u898b\u3066\u3082\u3089\u3046\u3068\u3001\u8ab0\u304cbundle\u306e\u30b5\u30a4\u30ba\u98df\u3063\u3066\u3044\u308b\u306e\u304b\u4e00\u76ee\u77ad\u7136\u3067\u3059\u306d\u3002\n\n* highlight.js\n* moment\n\n\u78ba\u304b\u306b\u30b3\u30fc\u30c9\u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u5b9f\u65bd\u3057\u3066\u3044\u308b\u90e8\u5206\u304c\u3042\u308b\u306e\u3067\u3001highlight.js\u3092\u5c0e\u5165\u3057\u305f\u899a\u3048\u306f\u3042\u308b\u3093\u3067\u3059\u3051\u3069\u3001JavaScript\u3084HTML, CSS\u304c\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u308c\u3070\u5341\u5206\u306a\u8981\u4ef6\u306a\u3093\u3067\u3059\u3088\u3002\n\u305d\u308c\u306b\u3082\u95a2\u308f\u3089\u305a\u3001mathematica\u3068\u304b\u8aad\u307f\u8fbc\u3093\u3058\u3083\u3063\u3066\u308b\u3002\u305d\u308a\u3083\u7121\u99c4\u306bbundle\u304c\u30c7\u30ab\u304f\u306a\u308b\u308f\u3002moment\u3082locale\u304c\u5168\u90e8\u5165\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u3002ja\u3060\u3051\u306b\u3057\u305f\u3064\u3082\u308a\u304c\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u306a\u304b\u3063\u305f\u6a21\u69d8 orz\u3002 \n\n\u3068\u307e\u3041\u3001\u3053\u3093\u306a\u5177\u5408\u306b\u300c\u3069\u3053\u3092\u771f\u3063\u5148\u306b\u6f70\u3059\u3079\u304d\u304b\u300d\u3092\u6559\u3048\u3066\u304f\u308c\u308b\u308f\u3051\u3067\u3059\u3002\u5012\u3059\u3079\u304d\u76f8\u624b\u304c\u898b\u3064\u304b\u3063\u305f\u3089\u3001[webpack-visualizer](https://chrisbateman.github.io/webpack-visualizer/)\u306e\u3088\u3046\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u4f9d\u5b58\u95a2\u4fc2\u3092\u53ef\u8996\u5316\u3059\u308b\u30c4\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001\u4e0d\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u308a\u8fbc\u307e\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n### CommonJS or ES Modules ?\n\n\u5b9f\u306fsource-map-explorer\u3067\u306e\u6e2c\u5b9a\u3092\u3059\u308b\u524d\u306b\u3001bundle\u306e\u524a\u6e1b\u306b\u624b\u3092\u51fa\u3057\u3066\u3044\u305f\u90e8\u5206\u3082\u3042\u308a\u307e\u3059\u3002\u4eca\u306b\u3057\u3066\u601d\u3046\u3068\u3001\u6e2c\u5b9a\u3092\u884c\u308f\u305a\u306b\u4f5c\u696d\u3092\u3057\u3066\u3057\u307e\u3063\u305f\u305f\u3081\u306b\u5f97\u3089\u308c\u305f\u52b9\u679c\u306f\u8584\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u77e5\u898b\u304c\u5f97\u3089\u308c\u305f\u3068\u3044\u3046\u70b9\u3067\u306f\u610f\u5473\u304c\u3042\u3063\u305f\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u50d5\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306flodash\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u5148\u8ff0\u3057\u305f\u7528\u306bwebpack 2.x\u306f`require`\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u30b3\u30fc\u30c9\u306fTree Shaking\u3067\u306f\u306a\u304f1.x\u3068\u540c\u3058\u3088\u3046\u306b\u30d5\u30a1\u30a4\u30eb\u3054\u3068bundle\u306b\u542b\u3081\u307e\u3059\u3002\n\n`npm i lodash`\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068CommonJS\u7248\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u305f\u3081\u3001Tree Shaking\u306f\u3055\u308c\u307e\u305b\u3093\u3002`npm i lodash-es`\u3068\u3059\u308b\u3068\u3001`require`, `module.exports=`\u306e\u4ee3\u308f\u308a\u306b `import`, `export`\u3067\u8a18\u8ff0\u3055\u308c\u305f\u7248\u306elodash\u304c\u624b\u306b\u5165\u308a\u307e\u3059\u3002 babelrc\u3092 `\"presets\": [ [\"es2015\", {\"modules\": false}] ]` \u306b\u3057\u3066\u5909\u63db\u304b\u3051\u305f\u3088\u3046\u306a\u30a4\u30e1\u30fc\u30b8\u3001\u3068\u8a00\u3044\u63db\u3048\u3066\u3082\u3088\u3044\u304b\u3082\u3002\n\n\u3067\u3059\u306e\u3067\u3001webpack\u306ealias\u3092\u4f7f\u3063\u3066lodash\u306e\u5411\u304d\u5148\u3092lodash-es\u306b\u5909\u66f4\u3057\u3001\n\n```js:webpack.config.js\n  resolve: {\n    alias: {\n      \"lodash\": \"lodash-es\"\n    }\n  },\n```\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4e0a\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5229\u7528\u3057\u307e\u3059\u3002\u306a\u304a\u3001\u3053\u306e\u30b3\u30fc\u30c9\u3092tsc\u3067\u6b63\u5e38\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u305f\u3081\u306b\u306f`--allowSyntheticDefaultImports` \u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\u3067\u3057\u305f[^2]\n\n```ts\nimport cloneDeep from \"lodash/cloneDeep\";\n```\n\n\u4f55\u304c\u8a00\u3044\u305f\u304b\u3063\u305f\u304b\u3068\u3044\u3046\u3068\u3001**\u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092ES Modules\u3068\u3057\u3066\u6271\u3063\u3066Tree Shaking\u3059\u308b\u306e\u306f\u7d50\u69cb\u9762\u5012\u81ed\u3044**\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u30e9\u30a4\u30d6\u30e9\u30ea\u6bce\u306bES Modules\u7248\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b/\u3057\u3066\u3044\u306a\u3044\u3092\u8abf\u67fb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u3055\u3089\u306b\u305d\u306e\u63d0\u4f9b\u5f62\u614b\u3082\u30d0\u30e9\u30d0\u30e9\u3067\u3042\u308b\u305f\u3081\u3067\u3059\u3002\n\n\u4f8b\u3048\u3070\u3001Angular\u3067\u306f\u307b\u307c\u78ba\u5b9f\u306b\u8aad\u307f\u8fbc\u3080\u3053\u3068\u3067\u3042\u308d\u3046rxjs\u306b\u3064\u3044\u3066\u306flodash\u3068\u540c\u3058\u3088\u3046\u306brxjs-es\u3068\u3044\u3046NPM\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u305d\u306e\u4e2d\u8eab\u306flodash-es\u306e\u5834\u5408\u3068\u7570\u306a\u308a\u3001\u7121\u5909\u63db\u306eES2015 JavaScript\u3067\u3059\u3002\u30b3\u30fc\u30c9\u4e2d\u306b `let` \u3068\u304b\u666e\u901a\u306b\u51fa\u3066\u304d\u307e\u3059\u304b\u3089\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3057\u306a\u3044\u3068\u5229\u7528\u3067\u304d\u306a\u304b\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u3001moment.js\u306e\u5834\u5408\u3067\u3059\u3068`npm i moment`\u3067\u53d6\u5f97\u3055\u308c\u308bpackage.json \u306b `\"jsnext:main\": \"./src/moment.js\"` \u3068\u8a18\u8ff0\u3055\u308c\u3066\u3044\u3066\u300cTree Shaking\u3057\u305f\u3044\u5974\u306f\u3053\u3063\u3061\u3092\u898b\u306b\u884c\u3051\u3088\u300d\u3068\u8a00\u3063\u3066\u3044\u308b\u72b6\u6cc1\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u3053\u306e`jsnext:main`\u3068\u3044\u3046\u30ad\u30fc\u306f\u4e0b\u8a18\u306e\u610f\u5473\u3092\u3082\u3064\u3068\u306e\u3053\u3068\u3002Rollup\u306ewiki\u3092\u5f15\u7528\u3057\u307e\u3059\u3002\n\n> jsnext:main will point to a module that has ES2015 module syntax but otherwise only syntax features that node supports.\n\n\u3053\u3093\u306a\u5177\u5408\u306b\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u6bce\u306b\u5bfe\u5fdc\u65b9\u6cd5\u3092\u5909\u3048\u3066\u3044\u304b\u306d\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n2016\u5e7410\u6708\u73fe\u5728\u3060\u3068\u3001NPM\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u3067ES Modules\u3092\u3069\u3046\u6271\u3046\u304b\u3082\u5b9a\u307e\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3088\u3046\u3067\u3059\u3057[^3]\u3001\u63a8\u79fb\u7684\u306a\u4f9d\u5b58\u95a2\u4fc2\u307e\u3067\u542b\u3081\u3066\u3069\u3046\u3053\u3046\u51fa\u6765\u308b\u6c17\u304c\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3042\u308b\u7a0b\u5ea6\u306f\u30d5\u30a1\u30a4\u30eb\u6bce\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u308b\u306e\u3092\u8a31\u5bb9\u3057\u3066\u5272\u308a\u5207\u308b\u306e\u304c\u73fe\u5b9f\u89e3\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n## \u304a\u308f\u308a\u306b\n\n\u3053\u306e\u6295\u7a3f\u3067\u306fAngular\u306eAoT\u3092\u30c6\u30fc\u30de\u306b\u4e0b\u8a18\u3092\u8ff0\u3079\u3066\u304d\u307e\u3057\u305f\u3002\u5982\u4f55\u3067\u3057\u305f\u3067\u3057\u3087\u3046\u304b\uff1f\n\n* \u3069\u306e\u3088\u3046\u306a\u52b9\u679c\u304c\u5f97\u3089\u308c\u308b\u306e\u304b\n* \u3069\u306e\u3088\u3046\u306b\u5c0e\u5165\u3057\u305f\u3089\u826f\u3044\u306e\u304b\n* \u5c0e\u5165\u3057\u305f\u5f8c\u306f\u3069\u3046\u3059\u308c\u3070\u826f\u3044\u306e\u304b\n\nAoT\u5c0e\u5165\u306e\u82e6\u52b4\u8a71\u3092\u8272\u3005\u66f8\u3044\u3066\u3057\u307e\u3063\u305f\u305f\u3081\u3001\u5927\u5909\u305d\u3046\u306a\u5370\u8c61\u3092\u4e0e\u3048\u3066\u3057\u307e\u3063\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u5f97\u3089\u308c\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u3068\u3066\u3082\u5927\u304d\u3044\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002\u307e\u305fAoT\u7528\u306e\u74b0\u5883\u3092\u4f5c\u308b\u306e\u306b\u8981\u3057\u305f\u6642\u9593\u306f\u3001\u5b9f\u8cea2\u65e5\u3082\u304b\u304b\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\u3057\u304b\u3057\u3001JiT\u74b0\u5883\u3067\u306f\u52d5\u4f5c\u3057\u3066\u3044\u305f\u30b3\u30fc\u30c9\u304cAoT\u3067\u306f\u52d5\u4f5c\u3057\u306a\u304f\u306a\u308b\u3068\u3044\u3046\u73fe\u5b9f\u304c\u3042\u308b\u4ee5\u4e0a\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u304c\u5c0f\u3055\u3044\u5185\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u3044\u305f\u65b9\u304c\u826f\u3044\u3067\u3057\u3087\u3046[^4]\u3002\n\u652f\u6255\u3046\u5927\u5909\u3055\u4ee5\u4e0a\u306b\u30ea\u30bf\u30fc\u30f3\u304c\u5927\u304d\u3044\u3067\u3059\u306e\u3067\u3001\u662f\u975e\u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u3067\u306eAngular\u306e\u904b\u7528\u3092\u8003\u3048\u3066\u3044\u308b\u65b9\u306f\u691c\u8a0e\u30fb\u5b9f\u8df5\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3053\u306e\u30ac\u30a4\u30c9\u304c\u5c11\u3057\u3067\u3082\u4f55\u304b\u306e\u5f79\u306b\u7acb\u3066\u3070\u5e78\u3044\u3067\u3059\u3002\u305d\u308c\u3067\u306f\u3001\u307e\u305f\u3002\n\n### \u8b1d\u8f9e\n\n\u6700\u5f8c\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u8a18\u4e8b\u3092\u66f8\u304f\u306b\u3042\u305f\u3063\u3066\u3068\u3044\u3046\u304b\u3001\u3053\u306e\u5185\u5bb9\u304c\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3082\u8272\u3005\u306a\u4eba\u306b\u52a9\u3051\u3066\u3082\u3089\u3048\u305f\u304b\u3089\u3053\u305d\u3067\u3059\u3002\n\n\u7279\u306b @laco0416 \u306b\u306f\u5404\u7a2e\u30c4\u30fc\u30eb\u306e\u4f7f\u3044\u65b9\u3084Angular\u958b\u767a\u74b0\u5883\u306e\u6700\u65b0\u4e8b\u60c5\u7b49\u3001\u8272\u3005\u3068\u52a9\u8a00\u3057\u3066\u3082\u3089\u3044\u307e\u3057\u305f\u3002\n\u3042\u307e\u308a\u8cc7\u6599\u304c\u7121\u3044\u3046\u3061\u304b\u3089AoT\u306b\u4f53\u5f53\u305f\u308a\u3057\u3066\u306f\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3067\u57cb\u3081\u5c3d\u304f\u3057\u306a\u304c\u3089\u596e\u95d8\u3057\u3066\u304f\u308c\u305f\u540c\u50da\u9054\u306b\u3082\u611f\u8b1d\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u3053\u306e\u8a18\u4e8b\u3092\u66f8\u3053\u3046\u3068\u601d\u3063\u305f\u5951\u6a5f\u306f [ng-japan\u306eslack](https://ng-japan-invite.herokuapp.com/) \u3067AoT\u95a2\u9023\u767a\u8a00\u306e\u6d3b\u6027\u5316\u3092\u53d7\u3051\u3066\u3001\u3068\u3044\u3046\u6240\u304c\u5927\u304d\u3044\u3067\u3059\u3002\u30cf\u30de\u308a\u30dd\u30a4\u30f3\u30c8\u7b49\u306f\u3001slack\u306e\u4f1a\u8a71\u3067\u805e\u3044\u305f\u5185\u5bb9\u3082\u542b\u3093\u3067\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u89e6\u308c\u3066\u3044\u306a\u3044(\u50d5\u304c\u77e5\u3089\u306a\u3044)\u30cf\u30de\u308a\u30dd\u30a4\u30f3\u30c8\u3082\u307e\u3060\u307e\u3060\u57cb\u307e\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4f55\u304b\u65b0\u3057\u304f\u898b\u3064\u3051\u305f\u3089slack\u3067\u3082\u3053\u306e\u8a18\u4e8b\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u662f\u975e\u5171\u6709\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n## \u811a\u6ce8\u30fb\u53c2\u8003\u30ea\u30f3\u30af\n\n[^1]: [Optimizing Angular 2 Apps - Martin Probst - YouTube](https://www.youtube.com/watch?v=_VnV7R4Ncwc)\n[^2]: @types/lodash\u914d\u4e0b\u306e.d.ts\u3068lodash-es\u306e\u5b9f\u88c5\u3001\u3069\u3061\u3089\u306b\u554f\u984c\u304c\u3042\u308b\u304b\u306f\u4e0d\u660e\u3002\u3044\u305a\u308c\u306b\u305b\u3088\u6109\u5feb\u3067\u306f\u306a\u3044)\n[^3]: [ES Modules \u3068 Node.js \u306b\u3064\u3044\u3066 - from scratch](http://yosuke-furukawa.hatenablog.com/entry/2016/05/10/111102)\n[^4]: \u50d5\u306e\u89b3\u6e2c\u7bc4\u56f2(TL, slack)\u3067\u306f\u3001AoT\u306b\u53d6\u308a\u7d44\u3093\u3067\u3044\u308b\u4eba\u306e100%\u304c\u3001ngc\u3092\u901a\u3059\u305f\u3081\u306b\u30b3\u30fc\u30c9\u3092\u4fee\u6b63\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\n", "tags": ["TypeScript", "Angular2", "webpack"]}