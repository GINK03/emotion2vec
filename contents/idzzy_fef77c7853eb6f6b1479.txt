{"context": " More than 1 year has passed since last update.\n\nWhat's this?\nCinder volume \u306e Region \u9593\u306e Backup/Restore\n\nNote\n\n\u5225 Region \u306e Cinder backup \u3092\u76f4\u63a5\u53c2\u7167\u51fa\u6765\u306a\u3044\uff1f(\u3069\u3046\u306b\u304b\u3059\u308c\u3070\u53ef\u80fd\u304b\u3082\u3057\u308c\u306a\u3044)\n\u5225 Region \u3078\u79fb\u52d5\u3059\u308b\u306b\u306f\u3001rbd export/import \u306a\u3089\u51fa\u6765\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002(\u8a66\u3057\u3066\u306a\u3044)\n\nhttp://ceph.com/docs/master/man/8/rbd/\n\n\n\nexport (image-spec | snap-spec) [dest-path]\n\nExports image to dest path (use - for stdout).\n\n\n\nimport [\u2013image-format format-id] [\u2013object-size B/K/M] [\u2013stripe-unit size-in-B/K/M \u2013stripe-count num] [\u2013image-feature feature-name]... [\u2013image-shared] src-path [image-spec]\n\nCreates a new image and imports its data from path (use - for stdin). The import operation will try to create sparse rbd images if possible. For import from stdin, the sparsification unit is the data block size of the destination image (object size).\n\nformat-id\n\nformat 1 - Use the original format for a new rbd image. This format is understood by all versions of librbd and the kernel rbd module, but does not support newer features like cloning.\nformat 2 - Use the second rbd format, which is supported by librbd and kernel since version 3.11 (except for striping). This adds support for cloning and is more easily extensible to allow more features in the future.\n\n\n\n\n(e.g.)\n    rbd export <mypool>/<myimage>@snap /tmp/img\n    rbd import --image-format 2 /tmp/img <mypool>/<myimage2>\n\n\nEnvironment\n\nOpenstack : Juno\nCeph : Firefly\n\n\nReference\nBlueprint:Ceph rbd support migrate volume\nCinder Backup/Restore\nCinder Backup/Restore between AZ\nCinder Backup/Restore between Region\n## What's this?\n\nCinder volume \u306e Region \u9593\u306e Backup/Restore\n\n## Note\n\n* \u5225 Region \u306e Cinder backup \u3092\u76f4\u63a5\u53c2\u7167\u51fa\u6765\u306a\u3044\uff1f(\u3069\u3046\u306b\u304b\u3059\u308c\u3070\u53ef\u80fd\u304b\u3082\u3057\u308c\u306a\u3044)\n* \u5225 Region \u3078\u79fb\u52d5\u3059\u308b\u306b\u306f\u3001rbd export/import \u306a\u3089\u51fa\u6765\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002(\u8a66\u3057\u3066\u306a\u3044)\n\nhttp://ceph.com/docs/master/man/8/rbd/\n\n> * export (image-spec | snap-spec) [dest-path]\n>> Exports image to dest path (use - for stdout).\n>\n> * import [\u2013image-format format-id] [\u2013object-size B/K/M] [\u2013stripe-unit size-in-B/K/M \u2013stripe-count num] [\u2013image-feature feature-name]... [\u2013image-shared] src-path [image-spec]\n>>Creates a new image and imports its data from path (use - for stdin). The import operation will try to create sparse rbd images if possible. For import from stdin, the sparsification unit is the data block size of the destination image (object size).\n\n\n>     format-id\n>\n>     * format 1 - Use the original format for a new rbd image. This format is understood by all versions of librbd and the kernel rbd module, but does not support newer features like cloning.\n>     * format 2 - Use the second rbd format, which is supported by librbd and kernel since version 3.11 (except for striping). This adds support for cloning and is more easily extensible to allow more features in the future.\n\n\n````\n(e.g.)\n    rbd export <mypool>/<myimage>@snap /tmp/img\n    rbd import --image-format 2 /tmp/img <mypool>/<myimage2>\n````\n\n## Environment\n\n* Openstack : Juno\n* Ceph : Firefly\n\n\n## Reference\n\n[Blueprint:Ceph rbd support migrate volume][link-00]\n[Cinder Backup/Restore][link-01]\n[Cinder Backup/Restore between AZ][link-02]\n[Cinder Backup/Restore between Region][link-03]\n\n[link-00]:https://blueprints.launchpad.net/cinder/+spec/ceph-rbd-support-migrate\n[link-01]:http://qiita.com/idzzy/items/ac163d0ce7cc9f036031\n[link-02]:http://qiita.com/idzzy/items/caaa83de00abe78095e2\n[link-03]:http://qiita.com/idzzy/items/fef77c7853eb6f6b1479\n", "tags": ["openstack", "Cinder", "Ceph"]}