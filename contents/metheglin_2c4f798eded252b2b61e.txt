{"context": " More than 1 year has passed since last update.\n\nGoal\n\nDNS\u30bd\u30d5\u30c8\u3068\u3057\u3066djbdns\u304c\u8a55\u5224\u3044\u3044\u306e\u3067CentOS\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\u6700\u7d42\u7684\u306b\u306f\u3001DNS\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\u3068DNS\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\ndjbdns\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u7c21\u6f54\u306b\u3057\u305fn-djbdns\u3068\u3044\u3046\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3063\u3066install\u3059\u308b\n\n\nn-djbdns\u3068djbdns\u306e\u9055\u3044\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u3044\u3066\u3042\u308b. \u6a5f\u80fd\u306e\u30b3\u30a2\u306f\u5909\u308f\u3089\u306a\u3044.\n\n\nMake djbdns as much concise & independent as possible.\nSimplify installation & configuration using GNU auto tools.\nDrop the various *-conf programs.\nFollow FHS conventions for all kinds of configuration, data and log files.\nWrite good user manuals and documentation.\nWhile doing all of this and more, not to loose track of security and apply all the patches available so far.\n\n\n\nDownload\nsudo su -\ncd /usr/local/src\n\n## \n## \u4ee5\u4e0b\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306e\u30ea\u30f3\u30af\u3092\u53d6\u5f97\n## http://pjp.dgplug.org/ndjbdns/index.html\n## \nwget \"http://pjp.dgplug.org/ndjbdns/ndjbdns-1.06.tar.gz\"\ntar zxvf ndjbdns-1.06.tar.gz\nls -l ndjbdns-1.06\ncd ndjbdns-1.06\n\n\nInstall\n# sudo su -\n# cd /usr/local/src/ndjbdns-1.06\n\n./configure --prefix=/usr/local\n  # /usr/local/\u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nmake\nmake install\n\nwhich dnscache\nwhich tinydns\n  # dnscache, tinydns\u30b3\u30de\u30f3\u30c9\u3078\u306e\u30d1\u30b9\u304c\u901a\u308b\u3053\u3068\u78ba\u8a8d\n\n## \u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u8a2d\u5b9a\n## \uff08\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f/usr/local/src/ndjbdns-1.06\u4ee5\u4e0b\u304b\u3089\u30b3\u30d4\u30fc\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f!!\uff09\ncp -i ./etc/init.d/dnscache /etc/init.d/ \nchmod u+x /etc/init.d/dnscache\n  # -rwxr--r-- 1 root root 2036 Jan 24 10:45 /etc/init.d/dnscache\n\ncp -i ./etc/init.d/tinydns /etc/init.d/ \nchmod u+x /etc/init.d/tinydns\n  # -rwxr--r-- 1 root root 2036 Jan 24 10:45 /etc/init.d/tinydns\n\n## \n## install directory\u3092/usr/local\u306b\u6307\u5b9a\u3059\u308b\u3068\u3001\n## /usr/local/etc/ndjbdns\u4ee5\u4e0b\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u4fdd\u5b58\u3055\u308c\u308b.\n## \u3060\u304c\u3001\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3053\u308c\u3092\u53cd\u6620\u3067\u304d\u3066\u306a\u3044\u306e\u3067\u3001\u624b\u3067\u4fee\u6b63\u3059\u308b.\n## \n\nvi /etc/init.d/dnscache\n  # config\u306e\u30d1\u30b9\u3092\u4ee5\u4e0b\u306b\u5909\u66f4\n  # config=/usr/local/etc/ndjbdns/dnscache.conf\nvi /etc/init.d/tinydns\n  # config\u306e\u30d1\u30b9\u3092\u4ee5\u4e0b\u306b\u5909\u66f4\n  # config=/usr/local/etc/ndjbdns/tinydns.conf\n\n\ndjbdns Setting\ndjbdns\u306fBIND\u3068\u9055\u3063\u3066\u3001DNS\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\uff08\u6a29\u5a01\u30b5\u30fc\u30d0\uff09\u3068\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\uff08\u518d\u5e30\u691c\u7d22\u30b5\u30fc\u30d0\uff09\u304c\u5225\u30c7\u30fc\u30e2\u30f3\u3068\u3057\u3066\u5206\u96e2\u3057\u3066\u3044\u3066\u3001\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0=tinydns\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0=dnscache\u3068\u306a\u3063\u3066\u3044\u308b.\nDNS\u306e\u4ed5\u69d8\u3067\u306f\u6a29\u5a01\u30b5\u30fc\u30d0\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u3082\u518d\u5e30\u691c\u7d22\u3082\u30dd\u30fc\u30c853\u3092\u4f7f\u3046\u305f\u3081\u3001\u5225\u306e\u30c7\u30fc\u30e2\u30f3\u3092\u540c\u3058\u30dd\u30fc\u30c8\u3067\u7a3c\u50cd\u3055\u305b\u308b\u305f\u3081\u306b\u305d\u308c\u305e\u308c\u5225\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u8d77\u52d5\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308b.\ninstall\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092/usr/local/\u306b\u3057\u305f\u5834\u5408\u3001tinydns\u3068dnscache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3068\u306a\u308b.\n\n/usr/local/etc/ndjbdns/tinydns.conf\n/usr/local/etc/ndjbdns/dnscache.conf\n\n\u305d\u308c\u305e\u308c\u3001127.0.0.1\u3001192.168.2.12\u306b\u30bb\u30c3\u30c8\u3059\u308b\u5834\u5408\u306f\u3001IP=\u306e\u90e8\u5206\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b.\n\n/usr/local/etc/ndjbdns/tinydns.conf\nIP=127.0.0.1\n\n\n\n/usr/local/etc/ndjbdns/dnscache.conf\nIP=192.168.2.12\n\n\n\n\u8d77\u52d5\nservice dnscache start\nservice tinydns start\n\n## \n## dnscache\u306ftcp,udp:53\u3067\u8d77\u52d5\u3059\u308b\u304c\u3001tinydns\u306fudp:53\u306e\u307f\u3067\u8d77\u52d5\u3059\u308b.\n## \u60f3\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\u304c\u30d0\u30a4\u30f3\u30c9\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n## \nlsof -i:53\n  # COMMAND    PID   USER   FD   TYPE DEVICE SIZE/OFF NODE NAME\n  # tinydns  23402 daemon    4u  IPv4 373980      0t0  UDP localhost:domain\n  # dnscache 28041 daemon    3u  IPv4 406795      0t0  UDP 192.168.2.12:domain\n  # dnscache 28041 daemon    4u  IPv4 406796      0t0  TCP 192.168.2.12:domain (LISTEN)\n\nnetstat -an | grep :53\n  # tcp        0      0 192.168.2.12:53             0.0.0.0:*                   LISTEN\n  # udp        0      0 192.168.2.12:53             0.0.0.0:*\n  # udp        0      0 127.0.0.1:53                0.0.0.0:*\n\n\nEnvironment\nuname -a\n  # Linux *** 2.6.32-431.el6.x86_64 #1 SMP Fri Nov 22 03:15:09 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux\n\ncat /etc/issue\n  # CentOS release 6.5 (Final)\n  # Kernel \\r on an \\m\n\n\n# Goal\n\n* DNS\u30bd\u30d5\u30c8\u3068\u3057\u3066djbdns\u304c\u8a55\u5224\u3044\u3044\u306e\u3067CentOS\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n* \u6700\u7d42\u7684\u306b\u306f\u3001DNS\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\u3068DNS\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n* djbdns\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u7c21\u6f54\u306b\u3057\u305fn-djbdns\u3068\u3044\u3046\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3063\u3066install\u3059\u308b\n\n# n-djbdns\u3068djbdns\u306e\u9055\u3044\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u3044\u3066\u3042\u308b. \u6a5f\u80fd\u306e\u30b3\u30a2\u306f\u5909\u308f\u3089\u306a\u3044.\n> * Make djbdns as much concise & independent as possible.\n> * Simplify installation & configuration using GNU auto tools.\n> * Drop the various *-conf programs.\n> * Follow FHS conventions for all kinds of configuration, data and log files.\n> * Write good user manuals and documentation.\n> * While doing all of this and more, not to loose track of security and apply all the patches available so far.\n\n# Download\n\n```\nsudo su -\ncd /usr/local/src\n\n## \n## \u4ee5\u4e0b\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306e\u30ea\u30f3\u30af\u3092\u53d6\u5f97\n## http://pjp.dgplug.org/ndjbdns/index.html\n## \nwget \"http://pjp.dgplug.org/ndjbdns/ndjbdns-1.06.tar.gz\"\ntar zxvf ndjbdns-1.06.tar.gz\nls -l ndjbdns-1.06\ncd ndjbdns-1.06\n```\n\n# Install\n\n```\n# sudo su -\n# cd /usr/local/src/ndjbdns-1.06\n\n./configure --prefix=/usr/local\n  # /usr/local/\u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nmake\nmake install\n\nwhich dnscache\nwhich tinydns\n  # dnscache, tinydns\u30b3\u30de\u30f3\u30c9\u3078\u306e\u30d1\u30b9\u304c\u901a\u308b\u3053\u3068\u78ba\u8a8d\n\n## \u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u8a2d\u5b9a\n## \uff08\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f/usr/local/src/ndjbdns-1.06\u4ee5\u4e0b\u304b\u3089\u30b3\u30d4\u30fc\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f!!\uff09\ncp -i ./etc/init.d/dnscache /etc/init.d/ \nchmod u+x /etc/init.d/dnscache\n  # -rwxr--r-- 1 root root 2036 Jan 24 10:45 /etc/init.d/dnscache\n\ncp -i ./etc/init.d/tinydns /etc/init.d/ \nchmod u+x /etc/init.d/tinydns\n  # -rwxr--r-- 1 root root 2036 Jan 24 10:45 /etc/init.d/tinydns\n\n## \n## install directory\u3092/usr/local\u306b\u6307\u5b9a\u3059\u308b\u3068\u3001\n## /usr/local/etc/ndjbdns\u4ee5\u4e0b\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u4fdd\u5b58\u3055\u308c\u308b.\n## \u3060\u304c\u3001\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3053\u308c\u3092\u53cd\u6620\u3067\u304d\u3066\u306a\u3044\u306e\u3067\u3001\u624b\u3067\u4fee\u6b63\u3059\u308b.\n## \n\nvi /etc/init.d/dnscache\n  # config\u306e\u30d1\u30b9\u3092\u4ee5\u4e0b\u306b\u5909\u66f4\n  # config=/usr/local/etc/ndjbdns/dnscache.conf\nvi /etc/init.d/tinydns\n  # config\u306e\u30d1\u30b9\u3092\u4ee5\u4e0b\u306b\u5909\u66f4\n  # config=/usr/local/etc/ndjbdns/tinydns.conf\n```\n\n# djbdns Setting\n\ndjbdns\u306fBIND\u3068\u9055\u3063\u3066\u3001DNS\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\uff08\u6a29\u5a01\u30b5\u30fc\u30d0\uff09\u3068\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0\uff08\u518d\u5e30\u691c\u7d22\u30b5\u30fc\u30d0\uff09\u304c\u5225\u30c7\u30fc\u30e2\u30f3\u3068\u3057\u3066\u5206\u96e2\u3057\u3066\u3044\u3066\u3001\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0=tinydns\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30fc\u30d0=dnscache\u3068\u306a\u3063\u3066\u3044\u308b.\nDNS\u306e\u4ed5\u69d8\u3067\u306f\u6a29\u5a01\u30b5\u30fc\u30d0\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u3082\u518d\u5e30\u691c\u7d22\u3082\u30dd\u30fc\u30c853\u3092\u4f7f\u3046\u305f\u3081\u3001\u5225\u306e\u30c7\u30fc\u30e2\u30f3\u3092\u540c\u3058\u30dd\u30fc\u30c8\u3067\u7a3c\u50cd\u3055\u305b\u308b\u305f\u3081\u306b\u305d\u308c\u305e\u308c\u5225\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u8d77\u52d5\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308b.\n\ninstall\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092/usr/local/\u306b\u3057\u305f\u5834\u5408\u3001tinydns\u3068dnscache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3068\u306a\u308b.\n\n* /usr/local/etc/ndjbdns/tinydns.conf\n* /usr/local/etc/ndjbdns/dnscache.conf\n\n\u305d\u308c\u305e\u308c\u3001127.0.0.1\u3001192.168.2.12\u306b\u30bb\u30c3\u30c8\u3059\u308b\u5834\u5408\u306f\u3001IP=\u306e\u90e8\u5206\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b.\n\n```/usr/local/etc/ndjbdns/tinydns.conf\nIP=127.0.0.1\n```\n\n```/usr/local/etc/ndjbdns/dnscache.conf\nIP=192.168.2.12\n```\n\n# \u8d77\u52d5\n\n```\nservice dnscache start\nservice tinydns start\n\n## \n## dnscache\u306ftcp,udp:53\u3067\u8d77\u52d5\u3059\u308b\u304c\u3001tinydns\u306fudp:53\u306e\u307f\u3067\u8d77\u52d5\u3059\u308b.\n## \u60f3\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\u304c\u30d0\u30a4\u30f3\u30c9\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n## \nlsof -i:53\n  # COMMAND    PID   USER   FD   TYPE DEVICE SIZE/OFF NODE NAME\n  # tinydns  23402 daemon    4u  IPv4 373980      0t0  UDP localhost:domain\n  # dnscache 28041 daemon    3u  IPv4 406795      0t0  UDP 192.168.2.12:domain\n  # dnscache 28041 daemon    4u  IPv4 406796      0t0  TCP 192.168.2.12:domain (LISTEN)\n\nnetstat -an | grep :53\n  # tcp        0      0 192.168.2.12:53             0.0.0.0:*                   LISTEN\n  # udp        0      0 192.168.2.12:53             0.0.0.0:*\n  # udp        0      0 127.0.0.1:53                0.0.0.0:*\n```\n\n# Environment\n\n```\nuname -a\n  # Linux *** 2.6.32-431.el6.x86_64 #1 SMP Fri Nov 22 03:15:09 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux\n\ncat /etc/issue\n  # CentOS release 6.5 (Final)\n  # Kernel \\r on an \\m\n```\n", "tags": ["djbdns", "ndjbdns", "dns"]}