{"context": " More than 1 year has passed since last update.\n\nBootstrap\u306e\u5c0e\u5165\nDjango \u3067 CRUD \u3092\u4f5c\u308b\u8aac\u660e\u306e\u524d\u306b\u3001Bootstrap\u306e\u5c0e\u5165\u3092\u884c\u3044\u307e\u3059\u3002\n\u6211\u3005\u30a8\u30f3\u30b8\u30cb\u30a2\u304c\u4f5c\u308bHTML\u306f\u3001\u30c7\u30b6\u30a4\u30f3\u7684\u306b\u3082\u5473\u6c17\u306a\u3044\u3082\u306e\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u305d\u3053\u3067\u3001CSS\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306eBootstrap\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u82f1\u8a9e\u3067\u3059\u304c\u3001\u5b9f\u4f8b\u304c\u8f09\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3084\u308a\u305f\u3044\u3053\u3068\u306f\u898b\u3064\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\nBootstrap\nBootstrap \u3067\u5fc5\u8981\u306a jQuery \u3092\u542b\u3081\u3066\u3001\u4ee5\u4e0b\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n\nBootstrap - http://getbootstrap.com/ (v3.3.6)\n\njQuery - http://jquery.com/ (v2.2.0)\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u3001mybook \u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e0b\u306b static \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u914d\u7f6e\u3057\u307e\u3059\u3002\n\u3053\u306e static \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3001mybook/settings.py \u306e STATIC_URL \u3067\u6307\u5b9a\u3055\u308c\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3059\u3002\nmybook/\n    static/\n        css/\n            bootstrap-theme.css\n            bootstrap-theme.css.map\n            bootstrap-theme.min.css\n            bootstrap-theme.min.css.map\n            bootstrap.css\n            bootstrap.css.map\n            bootstrap.min.css\n            bootstrap.min.css.map\n        fonts/\n            glyphicons-halflings-regular.eot\n            glyphicons-halflings-regular.svg\n            glyphicons-halflings-regular.ttf\n            glyphicons-halflings-regular.woff\n            glyphicons-halflings-regular.woff2\n        js/\n            bootstrap.js\n            bootstrap.min.js\n            npm.js\n            jquery-2.2.0.min.js\n\nstatic \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3001\u901a\u5e38\u3067\u3059\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4e0b\u306e mybook/cms/static \u3092\u63a2\u3057\u306b\u884c\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5171\u901a\u3068\u3057\u3066\u3001mybook/static \u306b js\u3001css\u3092\u7f6e\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u3053\u3053\u3092\u63a2\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u3001mybook/settings.py \u306e\u6700\u5f8c\u306b\u3001STATICFILES_DIRS \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n# \u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u5171\u901a\u3067\u7f6e\u304f\nSTATICFILES_DIRS = (\n    os.path.join(BASE_DIR, \"static\"),\n)\n\n\ndjango-bootstrap-form\n\u4e00\u89a7\u7cfbHTML\u306f\u3001Bootstrap\u3067\u5fc5\u8981\u306aclass\u3092\u624b\u66f8\u304d\u3057\u3066\u3001\u767b\u9332/\u4fee\u6b63\u306e\u30d5\u30a9\u30fc\u30e0\u7cfbHTML\u306f django-bootstrap-form \u3068\u3044\u3046 Python \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\ndjango-bootstrap-form - https://github.com/tzangms/django-bootstrap-form\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001pip \u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002\n\npython manage.py runserver \u3067\u52d5\u3044\u3066\u3044\u308b\u6642\u306f\u3001Ctrl \uff0b c \u3067\u505c\u6b62\u3057\u3066\u304b\u3089\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n(env1) \u4eee\u60f3\u74b0\u5883\u306b\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n$ pip install django-bootstrap-form\n\n\u73fe\u6642\u70b9\u3067\u306f\u30013.2 \u304c\u5165\u308a\u307e\u3057\u305f\u3002\n$ pip freeze -l\nDjango==1.9.2\ndjango-bootstrap-form==3.2\n\n\n\u78ba\u8a8d\u3067\u304d\u305f\u3089\u3001\u307e\u305f python manage.py runserver \u3067\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\nmybook/settings.py \u306e INSTALLED_APPS \u306b 'bootstrapform' \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'bootstrapform',  # django-bootstrap-form\n    'cms',\n)\n\n\nDjango \u306e CRUD\n\n\u30d3\u30e5\u30fc\u3092\u3056\u3063\u3068\u4f5c\u308b\n\u4e00\u89a7\u3001\u767b\u9332\u3001\u4fee\u6b63\u3001\u524a\u9664\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001`cms/views.py' \u306b\u3072\u306a\u5f62\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u767b\u9332\u3001\u4fee\u6b63\u306f\u7de8\u96c6\u3068\u3057\u3066\u3072\u3068\u307e\u3068\u3081\u306b\u3057\u3066\u3044\u307e\u3059\u3002(book_id\u306e\u6307\u5b9a\u304c\u306a\u3051\u308c\u3070\u767b\u9332\u3001\u3042\u308c\u3070\u4fee\u6b63)\n\n\u30b3\u30fc\u30c9\u30b9\u30bf\u30a4\u30eb\u3068\u3057\u3066\u3001def\u306e\u524d\u30822\u884c\u3042\u3051\u306a\u3044\u3068\u6ce2\u7dda\u304c\u51fa\u3066\u3001\u3046\u308b\u3055\u3044\u3067\u3059\u3002\n\nfrom django.shortcuts import render\nfrom django.http import HttpResponse\n\n\ndef book_list(request):\n    \"\"\"\u66f8\u7c4d\u306e\u4e00\u89a7\"\"\"\n    return HttpResponse('\u66f8\u7c4d\u306e\u4e00\u89a7')\n\n\ndef book_edit(request, book_id=None):\n    \"\"\"\u66f8\u7c4d\u306e\u7de8\u96c6\"\"\"\n    return HttpResponse('\u66f8\u7c4d\u306e\u7de8\u96c6')\n\n\ndef book_del(request, book_id):\n    \"\"\"\u66f8\u7c4d\u306e\u524a\u9664\"\"\"\n    return HttpResponse('\u66f8\u7c4d\u306e\u524a\u9664')\n\n\nURL \u30b9\u30ad\u30fc\u30e0\u306e\u8a2d\u8a08\ncms/urls.py \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044\u306e\u3067\u3001\u65b0\u3057\u304f\u4f5c\u308a\u307e\u3059\u3002 \n\n\u5de6\u5074\u306e cms \u306e\u6240\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Python File \u3067 urls.py \u3068\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u4e2d\u3067\u3001URL\u3068\u3001\u30d3\u30e5\u30fc\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306e\u7d10\u4ed8\u3051\u3092\u884c\u3044\u307e\u3059\u3002\n\nURL\u3068\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u540d\u306f\u4e00\u81f4\u3055\u305b\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u3042\u305f\u308a\u306f\u81ea\u7531\u3067\u3059\u3002\n\nfrom django.conf.urls import url\nfrom cms import views\n\nurlpatterns = [\n    # \u66f8\u7c4d\n    url(r'^book/$', views.book_list, name='book_list'),   # \u4e00\u89a7\n    url(r'^book/add/$', views.book_edit, name='book_add'),  # \u767b\u9332\n    url(r'^book/mod/(?P<book_id>\\d+)/$', views.book_edit, name='book_mod'),  # \u4fee\u6b63\n    url(r'^book/del/(?P<book_id>\\d+)/$', views.book_del, name='book_del'),   # \u524a\u9664\n]\n\nURL\u306f\u6b63\u898f\u8868\u73fe\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u6b21\u306b\u3001 cms/urls.py \u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5168\u4f53\u306e mybook/urls.py \u306e\u4e2d\u3067\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\nfrom django.conf.urls import url, include   # \u2190, include\u3092\u8ffd\u52a0\nfrom django.contrib import admin\n\nurlpatterns = [\n    url(r'^admin/', admin.site.urls),\n    url(r'^cms/', include('cms.urls', namespace='cms')),   # \u2190\u3053\u3053\u3092\u8ffd\u52a0\n]\n\n\u6700\u7d42\u7684\u306bURL\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\nhttp://127.0.0.1:8000/cms/book/\nhttp://127.0.0.1:8000/cms/book/add/\nhttp://127.0.0.1:8000/cms/book/mod/5/\nhttp://127.0.0.1:8000/cms/book/del/7/\n\n\n\u4e00\u89a7\u306e\u30d3\u30e5\u30fc\n\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u3001\u304d\u3061\u3093\u3068\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\ncms/views.py \u306e def book_list \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\nfrom django.shortcuts import render\nfrom django.http import HttpResponse\n\nfrom cms.models import Book\n\n\ndef book_list(request):\n    \"\"\"\u66f8\u7c4d\u306e\u4e00\u89a7\"\"\"\n#    return HttpResponse('\u66f8\u7c4d\u306e\u4e00\u89a7')\n    books = Book.objects.all().order_by('id')\n    return render(request,\n                  'cms/book_list.html',     # \u4f7f\u7528\u3059\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n                  {'books': books})         # \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u6e21\u3059\u30c7\u30fc\u30bf\n\n\n\u4e00\u89a7\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u308b\nmybook \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e cms \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u3046 book_list.html \u3068\u3044\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u4f4d\u7f6e\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nmybook/cms/templates/cms/book_list.html\n\n\u305d\u306e\u524d\u306b\u3001\u3053\u308c\u306e\u7d99\u627f\u5143\u3068\u306a\u308b base.html \u3068\u3044\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002\nbase.html \u306f\u3001cms\u4ee5\u5916\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3082\u5171\u901a\u3067\u4f7f\u3048\u308b\u3088\u3046\u3001templates \u306e\u76f4\u4e0b\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u5de6\u5074\u306e cms \u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Directory \u3067 templates \u3092\u6307\u5b9a\ntemplates \u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > HTML File \u3067 base.html \u3092\u6307\u5b9a\u3001\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u3059\u3002\n\nmybook/cms/templates/base.html\n\nbase.html \u306e\u4e2d\u8eab\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n{% load staticfiles %}\n<!DOCTYPE html>\n<html lang=\"{{ LANGUAGE_CODE|default:\"en-us\" }}\">\n<head>\n<meta charset=\"UTF-8\">\n<title>{% block title %}My books{% endblock %}</title>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<link href=\"{% static 'css/bootstrap.min.css' %}\" rel=\"stylesheet\">\n<link href=\"{% static 'css/bootstrap-theme.min.css' %}\" rel=\"stylesheet\">\n<script src=\"{% static 'js/jquery-2.2.0.min.js' %}\"></script>\n<script src=\"{% static 'js/bootstrap.min.js' %}\"></script>\n{% block extrahead %}{% endblock %}\n</head>\n<body>\n  <div class=\"container\">\n    {% block content %}\n      {{ content }}\n    {% endblock %}\n  </div>\n</body>\n</html>\n\n\u305d\u308c\u3067\u306f\u3001\u3053\u306e base_html \u3092\u7d99\u627f\u3057\u3066 mybook/cms/templates/cms/book_list.html \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u3061\u3089\u306f\u5fc5\u8981\u306a\u6240\u306e\u307f\u3092\u66f8\u3044\u3066\u3044\u304f\u5f62\u3068\u306a\u308a\u307e\u3059\u3002\nclass \u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u306e\u306f\u3001Bootstrap\u3067\u5fc5\u8981\u306a class \u3067\u3059\u3002\n{% extends \"base.html\" %}\n\n{% block title %}\u66f8\u7c4d\u306e\u4e00\u89a7{% endblock title %}\n\n{% block extrahead %}\n<style>\ntable {\n  margin-top: 8px;\n}\n</style>\n{% endblock %}\n\n{% block content %}\n    <h3 class=\"page-header\">\u66f8\u7c4d\u306e\u4e00\u89a7</h3>\n    <a href=\"{% url 'cms:book_add' %}\" class=\"btn btn-default btn-sm\">\u8ffd\u52a0</a>\n    <table class=\"table table-striped table-bordered\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>\u66f8\u7c4d\u540d</th>\n          <th>\u51fa\u7248\u793e</th>\n          <th>\u30da\u30fc\u30b8\u6570</th>\n          <th>\u64cd\u4f5c</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for book in books %}\n        <tr>\n          <td>{{ book.id }}</td>\n          <td>{{ book.name }}</td>\n          <td>{{ book.publisher }}</td>\n          <td>{{ book.page }}</td>\n          <td>\n            <a href=\"{% url 'cms:book_mod' book_id=book.id %}\" class=\"btn btn-default btn-sm\">\u4fee\u6b63</a>\n            <a href=\"{% url 'cms:book_del' book_id=book.id %}\" class=\"btn btn-default btn-sm\">\u524a\u9664</a>\n          </td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n{% endblock content %}\n\n\u305d\u308c\u3067\u306f\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nhttp://127.0.0.1:8000/cms/book/\n\n\n\n\u8ffd\u52a0\u3001\u4fee\u6b63\u306e\u30d5\u30a9\u30fc\u30e0\ncms/forms.py \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001cms/models.py \u306e Book \u30e2\u30c7\u30eb\u3092\u8ffd\u52a0\u3001\u4fee\u6b63\u3059\u308b\u305f\u3081\u306e\u5143\u3068\u306a\u308b\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nfrom django.forms import ModelForm\nfrom cms.models import Book\n\n\nclass BookForm(ModelForm):\n    \"\"\"\u66f8\u7c4d\u306e\u30d5\u30a9\u30fc\u30e0\"\"\"\n    class Meta:\n        model = Book\n        fields = ('name', 'publisher', 'page', )\n\n\n\u8ffd\u52a0\u3001\u4fee\u6b63\u306e\u30d3\u30e5\u30fc\ncms/views.py \u306e def book_edit \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.http import HttpResponse\n\nfrom cms.models import Book\nfrom cms.forms import BookForm\n\n  :\n\ndef book_edit(request, book_id=None):\n    \"\"\"\u66f8\u7c4d\u306e\u7de8\u96c6\"\"\"\n#     return HttpResponse('\u66f8\u7c4d\u306e\u7de8\u96c6')\n    if book_id:   # book_id \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b (\u4fee\u6b63\u6642)\n        book = get_object_or_404(Book, pk=book_id)\n    else:         # book_id \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044 (\u8ffd\u52a0\u6642)\n        book = Book()\n\n    if request.method == 'POST':\n        form = BookForm(request.POST, instance=book)  # POST \u3055\u308c\u305f request \u30c7\u30fc\u30bf\u304b\u3089\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\n        if form.is_valid():    # \u30d5\u30a9\u30fc\u30e0\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n            book = form.save(commit=False)\n            book.save()\n            return redirect('cms:book_list')\n    else:    # GET \u306e\u6642\n        form = BookForm(instance=book)  # book \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\n\n    return render(request, 'cms/book_edit.html', dict(form=form, book_id=book_id))\n\n\n\u8ffd\u52a0\u3001\u4fee\u6b63\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\nmybook/templates/base_html \u3092\u7d99\u627f\u3057\u3066 mybook/cms/templates/cms/book_edit.html \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n{% extends \"base.html\" %}\n{% load bootstrap %}\n\n{% block title %}\u66f8\u7c4d\u306e\u7de8\u96c6{% endblock title %}\n\n{% block content %}\n    <h3 class=\"page-header\">\u66f8\u7c4d\u306e\u7de8\u96c6</h3>\n    {% if book_id %}\n    <form action=\"{% url 'cms:book_mod' book_id=book_id %}\" method=\"post\" class=\"form-horizontal\" role=\"form\">\n    {% else %}\n    <form action=\"{% url 'cms:book_add' %}\" method=\"post\" class=\"form-horizontal\" role=\"form\">\n    {% endif %}\n      {% csrf_token %}\n      {{ form|bootstrap_horizontal }}\n      <div class=\"form-group\">\n        <div class=\"col-sm-offset-2 col-sm-10\">\n          <button type=\"submit\" class=\"btn btn-primary\">\u9001\u4fe1</button>\n        </div>\n      </div>\n    </form>\n    <a href=\"{% url 'cms:book_list' %}\" class=\"btn btn-default btn-sm\">\u623b\u308b</a>\n{% endblock content %}\n\ncms/forms.py \u306e BookForm \u3067\u5b9a\u7fa9\u3057\u305f\u9805\u76ee\u3092\u3001cms/views.py \u3067 form \u3068\u3044\u3046\u5909\u6570\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u6e21\u3057\u3001{{ form }} \u3068\u66f8\u304f\u3068\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u5185\u5bb9\u304cHTML\u3067\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3055\u3089\u306b\u3001{{ form|bootstrap_horizontal }} \u3068\u3057\u3066\u3001Bootstrap\u306e\u66f8\u5f0f\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002\n\u66f8\u7c4d\u306e\u767b\u9332\u30da\u30fc\u30b8\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u524a\u9664\u306e\u30d3\u30e5\u30fc\ncms/views.py \u306e def book_edit \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\ndef book_del(request, book_id):\n    \"\"\"\u66f8\u7c4d\u306e\u524a\u9664\"\"\"\n#     return HttpResponse('\u66f8\u7c4d\u306e\u524a\u9664')\n    book = get_object_or_404(Book, pk=book_id)\n    book.delete()\n    return redirect('cms:book_list')\n\n\u305d\u308c\u3067\u306f\u3001\u66f8\u7c4d\u306e\u4e00\u89a7\u30da\u30fc\u30b8\u304b\u3089\u300c\u524a\u9664\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3001\u66f8\u7c4d\u3092\u524a\u9664\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3044\u304d\u306a\u308a\u6d88\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u672c\u5f53\u306f Bootstrap \u306e \u30e2\u30fc\u30c0\u30eb\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u51fa\u3057\u3066\u3001\u78ba\u8a8d\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u3057\u305f\u65b9\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\u3053\u308c\u306f\u5f8c\u306b\u53d6\u308a\u7d44\u3080\u3053\u3068\u3068\u3057\u307e\u3059\u3002\nPython Django\u5165\u9580 (5) \u306b\u7d9a\u304d\u307e\u3059\u3002\n\nBootstrap\u306e\u5c0e\u5165\n---------------\n\nDjango \u3067 CRUD \u3092\u4f5c\u308b\u8aac\u660e\u306e\u524d\u306b\u3001Bootstrap\u306e\u5c0e\u5165\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u6211\u3005\u30a8\u30f3\u30b8\u30cb\u30a2\u304c\u4f5c\u308bHTML\u306f\u3001\u30c7\u30b6\u30a4\u30f3\u7684\u306b\u3082\u5473\u6c17\u306a\u3044\u3082\u306e\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002  \n\u305d\u3053\u3067\u3001CSS\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306eBootstrap\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u82f1\u8a9e\u3067\u3059\u304c\u3001\u5b9f\u4f8b\u304c\u8f09\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3084\u308a\u305f\u3044\u3053\u3068\u306f\u898b\u3064\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n### Bootstrap\n\nBootstrap \u3067\u5fc5\u8981\u306a jQuery \u3092\u542b\u3081\u3066\u3001\u4ee5\u4e0b\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n* [Bootstrap](http://getbootstrap.com/) - http://getbootstrap.com/ (v3.3.6)\n* [jQuery](http://jquery.com/) - http://jquery.com/ (v2.2.0)\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u3001mybook \u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e0b\u306b static \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u914d\u7f6e\u3057\u307e\u3059\u3002\n\n\u3053\u306e static \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3001mybook/settings.py \u306e STATIC_URL \u3067\u6307\u5b9a\u3055\u308c\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3059\u3002\n\n```bash\nmybook/\n    static/\n        css/\n            bootstrap-theme.css\n            bootstrap-theme.css.map\n            bootstrap-theme.min.css\n            bootstrap-theme.min.css.map\n            bootstrap.css\n            bootstrap.css.map\n            bootstrap.min.css\n            bootstrap.min.css.map\n        fonts/\n            glyphicons-halflings-regular.eot\n            glyphicons-halflings-regular.svg\n            glyphicons-halflings-regular.ttf\n            glyphicons-halflings-regular.woff\n            glyphicons-halflings-regular.woff2\n        js/\n            bootstrap.js\n            bootstrap.min.js\n            npm.js\n            jquery-2.2.0.min.js\n```\n\nstatic \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3001\u901a\u5e38\u3067\u3059\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4e0b\u306e mybook/cms/static \u3092\u63a2\u3057\u306b\u884c\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5171\u901a\u3068\u3057\u3066\u3001mybook/static \u306b js\u3001css\u3092\u7f6e\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n\u3053\u3053\u3092\u63a2\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u3001mybook/settings.py \u306e\u6700\u5f8c\u306b\u3001STATICFILES_DIRS \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```python\n# \u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u5171\u901a\u3067\u7f6e\u304f\nSTATICFILES_DIRS = (\n    os.path.join(BASE_DIR, \"static\"),\n)\n```\n\n\n### django-bootstrap-form\n\n\u4e00\u89a7\u7cfbHTML\u306f\u3001Bootstrap\u3067\u5fc5\u8981\u306aclass\u3092\u624b\u66f8\u304d\u3057\u3066\u3001\u767b\u9332/\u4fee\u6b63\u306e\u30d5\u30a9\u30fc\u30e0\u7cfbHTML\u306f django-bootstrap-form \u3068\u3044\u3046 Python \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n* [django-bootstrap-form](https://github.com/tzangms/django-bootstrap-form) - https://github.com/tzangms/django-bootstrap-form\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001pip \u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002\n\n> `python manage.py runserver` \u3067\u52d5\u3044\u3066\u3044\u308b\u6642\u306f\u3001Ctrl \uff0b c \u3067\u505c\u6b62\u3057\u3066\u304b\u3089\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n> (env1) \u4eee\u60f3\u74b0\u5883\u306b\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```bash\n$ pip install django-bootstrap-form\n```\n\n\u73fe\u6642\u70b9\u3067\u306f\u30013.2 \u304c\u5165\u308a\u307e\u3057\u305f\u3002\n\n```bash\n$ pip freeze -l\nDjango==1.9.2\ndjango-bootstrap-form==3.2\n```\n\n> \u78ba\u8a8d\u3067\u304d\u305f\u3089\u3001\u307e\u305f `python manage.py runserver` \u3067\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n`mybook/settings.py` \u306e INSTALLED_APPS \u306b 'bootstrapform' \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```python\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'bootstrapform',  # django-bootstrap-form\n    'cms',\n)\n```\n\n\n\nDjango \u306e CRUD\n--------------\n\n### \u30d3\u30e5\u30fc\u3092\u3056\u3063\u3068\u4f5c\u308b\n\n\u4e00\u89a7\u3001\u767b\u9332\u3001\u4fee\u6b63\u3001\u524a\u9664\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001`cms/views.py' \u306b\u3072\u306a\u5f62\u3092\u4f5c\u308a\u307e\u3059\u3002  \n\u767b\u9332\u3001\u4fee\u6b63\u306f\u7de8\u96c6\u3068\u3057\u3066\u3072\u3068\u307e\u3068\u3081\u306b\u3057\u3066\u3044\u307e\u3059\u3002(book_id\u306e\u6307\u5b9a\u304c\u306a\u3051\u308c\u3070\u767b\u9332\u3001\u3042\u308c\u3070\u4fee\u6b63)\n\n> \u30b3\u30fc\u30c9\u30b9\u30bf\u30a4\u30eb\u3068\u3057\u3066\u3001def\u306e\u524d\u30822\u884c\u3042\u3051\u306a\u3044\u3068\u6ce2\u7dda\u304c\u51fa\u3066\u3001\u3046\u308b\u3055\u3044\u3067\u3059\u3002\n\n```python\nfrom django.shortcuts import render\nfrom django.http import HttpResponse\n\n\ndef book_list(request):\n    \"\"\"\u66f8\u7c4d\u306e\u4e00\u89a7\"\"\"\n    return HttpResponse('\u66f8\u7c4d\u306e\u4e00\u89a7')\n\n\ndef book_edit(request, book_id=None):\n    \"\"\"\u66f8\u7c4d\u306e\u7de8\u96c6\"\"\"\n    return HttpResponse('\u66f8\u7c4d\u306e\u7de8\u96c6')\n\n\ndef book_del(request, book_id):\n    \"\"\"\u66f8\u7c4d\u306e\u524a\u9664\"\"\"\n    return HttpResponse('\u66f8\u7c4d\u306e\u524a\u9664')\n```\n\n### URL \u30b9\u30ad\u30fc\u30e0\u306e\u8a2d\u8a08\n\n`cms/urls.py` \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044\u306e\u3067\u3001\u65b0\u3057\u304f\u4f5c\u308a\u307e\u3059\u3002 \n\n> \u5de6\u5074\u306e cms \u306e\u6240\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Python File \u3067 `urls.py` \u3068\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n  \n\u3053\u306e\u4e2d\u3067\u3001URL\u3068\u3001\u30d3\u30e5\u30fc\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306e\u7d10\u4ed8\u3051\u3092\u884c\u3044\u307e\u3059\u3002\n\n> URL\u3068\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u540d\u306f\u4e00\u81f4\u3055\u305b\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u3042\u305f\u308a\u306f\u81ea\u7531\u3067\u3059\u3002\n\n```python\nfrom django.conf.urls import url\nfrom cms import views\n\nurlpatterns = [\n    # \u66f8\u7c4d\n    url(r'^book/$', views.book_list, name='book_list'),   # \u4e00\u89a7\n    url(r'^book/add/$', views.book_edit, name='book_add'),  # \u767b\u9332\n    url(r'^book/mod/(?P<book_id>\\d+)/$', views.book_edit, name='book_mod'),  # \u4fee\u6b63\n    url(r'^book/del/(?P<book_id>\\d+)/$', views.book_del, name='book_del'),   # \u524a\u9664\n]\n```\n\nURL\u306f\u6b63\u898f\u8868\u73fe\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u6b21\u306b\u3001 `cms/urls.py` \u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5168\u4f53\u306e `mybook/urls.py` \u306e\u4e2d\u3067\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```python\nfrom django.conf.urls import url, include   # \u2190, include\u3092\u8ffd\u52a0\nfrom django.contrib import admin\n\nurlpatterns = [\n    url(r'^admin/', admin.site.urls),\n    url(r'^cms/', include('cms.urls', namespace='cms')),   # \u2190\u3053\u3053\u3092\u8ffd\u52a0\n]\n```\n\n\u6700\u7d42\u7684\u306bURL\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002  \n\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\n\n```bash\nhttp://127.0.0.1:8000/cms/book/\nhttp://127.0.0.1:8000/cms/book/add/\nhttp://127.0.0.1:8000/cms/book/mod/5/\nhttp://127.0.0.1:8000/cms/book/del/7/\n```\n\n### \u4e00\u89a7\u306e\u30d3\u30e5\u30fc\n\n\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u3001\u304d\u3061\u3093\u3068\u66f8\u3044\u3066\u307f\u307e\u3059\u3002  \n`cms/views.py` \u306e `def book_list` \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```python\nfrom django.shortcuts import render\nfrom django.http import HttpResponse\n\nfrom cms.models import Book\n\n\ndef book_list(request):\n    \"\"\"\u66f8\u7c4d\u306e\u4e00\u89a7\"\"\"\n#    return HttpResponse('\u66f8\u7c4d\u306e\u4e00\u89a7')\n    books = Book.objects.all().order_by('id')\n    return render(request,\n                  'cms/book_list.html',     # \u4f7f\u7528\u3059\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n                  {'books': books})         # \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u6e21\u3059\u30c7\u30fc\u30bf\n```\n\n### \u4e00\u89a7\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u308b\n\nmybook \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e cms \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u3046 book_list.html \u3068\u3044\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002  \n\u4f4d\u7f6e\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n    mybook/cms/templates/cms/book_list.html\n\n\u305d\u306e\u524d\u306b\u3001\u3053\u308c\u306e\u7d99\u627f\u5143\u3068\u306a\u308b base.html \u3068\u3044\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002  \nbase.html \u306f\u3001cms\u4ee5\u5916\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3082\u5171\u901a\u3067\u4f7f\u3048\u308b\u3088\u3046\u3001templates \u306e\u76f4\u4e0b\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n> \u5de6\u5074\u306e cms \u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Directory \u3067 `templates` \u3092\u6307\u5b9a\n> templates \u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > HTML File \u3067 `base.html` \u3092\u6307\u5b9a\u3001\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u3059\u3002\n\n    mybook/cms/templates/base.html\n\nbase.html \u306e\u4e2d\u8eab\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n{% load staticfiles %}\n<!DOCTYPE html>\n<html lang=\"{{ LANGUAGE_CODE|default:\"en-us\" }}\">\n<head>\n<meta charset=\"UTF-8\">\n<title>{% block title %}My books{% endblock %}</title>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<link href=\"{% static 'css/bootstrap.min.css' %}\" rel=\"stylesheet\">\n<link href=\"{% static 'css/bootstrap-theme.min.css' %}\" rel=\"stylesheet\">\n<script src=\"{% static 'js/jquery-2.2.0.min.js' %}\"></script>\n<script src=\"{% static 'js/bootstrap.min.js' %}\"></script>\n{% block extrahead %}{% endblock %}\n</head>\n<body>\n  <div class=\"container\">\n    {% block content %}\n      {{ content }}\n    {% endblock %}\n  </div>\n</body>\n</html>\n```\n\n\u305d\u308c\u3067\u306f\u3001\u3053\u306e base_html \u3092\u7d99\u627f\u3057\u3066 mybook/cms/templates/cms/book_list.html \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002  \n\u3053\u3061\u3089\u306f\u5fc5\u8981\u306a\u6240\u306e\u307f\u3092\u66f8\u3044\u3066\u3044\u304f\u5f62\u3068\u306a\u308a\u307e\u3059\u3002\n\nclass \u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u306e\u306f\u3001Bootstrap\u3067\u5fc5\u8981\u306a class \u3067\u3059\u3002\n\n```\n{% extends \"base.html\" %}\n\n{% block title %}\u66f8\u7c4d\u306e\u4e00\u89a7{% endblock title %}\n\n{% block extrahead %}\n<style>\ntable {\n  margin-top: 8px;\n}\n</style>\n{% endblock %}\n\n{% block content %}\n    <h3 class=\"page-header\">\u66f8\u7c4d\u306e\u4e00\u89a7</h3>\n    <a href=\"{% url 'cms:book_add' %}\" class=\"btn btn-default btn-sm\">\u8ffd\u52a0</a>\n    <table class=\"table table-striped table-bordered\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>\u66f8\u7c4d\u540d</th>\n          <th>\u51fa\u7248\u793e</th>\n          <th>\u30da\u30fc\u30b8\u6570</th>\n          <th>\u64cd\u4f5c</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for book in books %}\n        <tr>\n          <td>{{ book.id }}</td>\n          <td>{{ book.name }}</td>\n          <td>{{ book.publisher }}</td>\n          <td>{{ book.page }}</td>\n          <td>\n            <a href=\"{% url 'cms:book_mod' book_id=book.id %}\" class=\"btn btn-default btn-sm\">\u4fee\u6b63</a>\n            <a href=\"{% url 'cms:book_del' book_id=book.id %}\" class=\"btn btn-default btn-sm\">\u524a\u9664</a>\n          </td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n{% endblock content %}\n```\n\n\u305d\u308c\u3067\u306f\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n    http://127.0.0.1:8000/cms/book/\n\n![cms01.jpg](https://qiita-image-store.s3.amazonaws.com/0/48136/2d1eef7e-2332-6bcc-0f11-519edc63f5db.jpeg \"cms01.jpg\")\n\n\n### \u8ffd\u52a0\u3001\u4fee\u6b63\u306e\u30d5\u30a9\u30fc\u30e0\n\n`cms/forms.py` \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001`cms/models.py` \u306e Book \u30e2\u30c7\u30eb\u3092\u8ffd\u52a0\u3001\u4fee\u6b63\u3059\u308b\u305f\u3081\u306e\u5143\u3068\u306a\u308b\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```python\nfrom django.forms import ModelForm\nfrom cms.models import Book\n\n\nclass BookForm(ModelForm):\n    \"\"\"\u66f8\u7c4d\u306e\u30d5\u30a9\u30fc\u30e0\"\"\"\n    class Meta:\n        model = Book\n        fields = ('name', 'publisher', 'page', )\n```\n\n### \u8ffd\u52a0\u3001\u4fee\u6b63\u306e\u30d3\u30e5\u30fc\n\n`cms/views.py` \u306e `def book_edit` \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```python\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.http import HttpResponse\n\nfrom cms.models import Book\nfrom cms.forms import BookForm\n\n  :\n\ndef book_edit(request, book_id=None):\n    \"\"\"\u66f8\u7c4d\u306e\u7de8\u96c6\"\"\"\n#     return HttpResponse('\u66f8\u7c4d\u306e\u7de8\u96c6')\n    if book_id:   # book_id \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b (\u4fee\u6b63\u6642)\n        book = get_object_or_404(Book, pk=book_id)\n    else:         # book_id \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044 (\u8ffd\u52a0\u6642)\n        book = Book()\n\n    if request.method == 'POST':\n        form = BookForm(request.POST, instance=book)  # POST \u3055\u308c\u305f request \u30c7\u30fc\u30bf\u304b\u3089\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\n        if form.is_valid():    # \u30d5\u30a9\u30fc\u30e0\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n            book = form.save(commit=False)\n            book.save()\n            return redirect('cms:book_list')\n    else:    # GET \u306e\u6642\n        form = BookForm(instance=book)  # book \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\n\n    return render(request, 'cms/book_edit.html', dict(form=form, book_id=book_id))\n```\n\n### \u8ffd\u52a0\u3001\u4fee\u6b63\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\nmybook/templates/base_html \u3092\u7d99\u627f\u3057\u3066 mybook/cms/templates/cms/book_edit.html \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n{% extends \"base.html\" %}\n{% load bootstrap %}\n\n{% block title %}\u66f8\u7c4d\u306e\u7de8\u96c6{% endblock title %}\n\n{% block content %}\n    <h3 class=\"page-header\">\u66f8\u7c4d\u306e\u7de8\u96c6</h3>\n    {% if book_id %}\n    <form action=\"{% url 'cms:book_mod' book_id=book_id %}\" method=\"post\" class=\"form-horizontal\" role=\"form\">\n    {% else %}\n    <form action=\"{% url 'cms:book_add' %}\" method=\"post\" class=\"form-horizontal\" role=\"form\">\n    {% endif %}\n      {% csrf_token %}\n      {{ form|bootstrap_horizontal }}\n      <div class=\"form-group\">\n        <div class=\"col-sm-offset-2 col-sm-10\">\n          <button type=\"submit\" class=\"btn btn-primary\">\u9001\u4fe1</button>\n        </div>\n      </div>\n    </form>\n    <a href=\"{% url 'cms:book_list' %}\" class=\"btn btn-default btn-sm\">\u623b\u308b</a>\n{% endblock content %}\n```\n\n`cms/forms.py` \u306e BookForm \u3067\u5b9a\u7fa9\u3057\u305f\u9805\u76ee\u3092\u3001`cms/views.py` \u3067 form \u3068\u3044\u3046\u5909\u6570\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u6e21\u3057\u3001`{{ form }}` \u3068\u66f8\u304f\u3068\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u5185\u5bb9\u304cHTML\u3067\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u306f\u3055\u3089\u306b\u3001`{{ form|bootstrap_horizontal }}` \u3068\u3057\u3066\u3001Bootstrap\u306e\u66f8\u5f0f\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u66f8\u7c4d\u306e\u767b\u9332\u30da\u30fc\u30b8\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n![cms02.jpg](https://qiita-image-store.s3.amazonaws.com/0/48136/46870f1d-d926-4e81-1651-290fd3210bed.jpeg \"cms02.jpg\")\n\n\n### \u524a\u9664\u306e\u30d3\u30e5\u30fc\n\n`cms/views.py` \u306e `def book_edit` \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```python\ndef book_del(request, book_id):\n    \"\"\"\u66f8\u7c4d\u306e\u524a\u9664\"\"\"\n#     return HttpResponse('\u66f8\u7c4d\u306e\u524a\u9664')\n    book = get_object_or_404(Book, pk=book_id)\n    book.delete()\n    return redirect('cms:book_list')\n```\n\n\u305d\u308c\u3067\u306f\u3001\u66f8\u7c4d\u306e\u4e00\u89a7\u30da\u30fc\u30b8\u304b\u3089\u300c\u524a\u9664\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3001\u66f8\u7c4d\u3092\u524a\u9664\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n![cms01.jpg](https://qiita-image-store.s3.amazonaws.com/0/48136/2d1eef7e-2332-6bcc-0f11-519edc63f5db.jpeg \"cms01.jpg\")\n\n\u3044\u304d\u306a\u308a\u6d88\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u672c\u5f53\u306f Bootstrap \u306e \u30e2\u30fc\u30c0\u30eb\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u51fa\u3057\u3066\u3001\u78ba\u8a8d\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u3057\u305f\u65b9\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\u3053\u308c\u306f\u5f8c\u306b\u53d6\u308a\u7d44\u3080\u3053\u3068\u3068\u3057\u307e\u3059\u3002\n\n[Python Django\u5165\u9580 (5)](http://qiita.com/kaki_k/items/ebc8d8b07434e1721756) \u306b\u7d9a\u304d\u307e\u3059\u3002\n", "tags": ["Python", "Django"]}