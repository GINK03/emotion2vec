{"context": "Redux\u3092\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u7406\u89e3\u3059\u308b \u305d\u306e1\u306e\u7d9a\u304d\u3067\u3059\u3002\nreact\u3068\u9023\u643a\u3059\u308b\u3068\u304d\u306b\u4f7f\u3046react-Redux (5.0.3: 1c714abc1763)\u306e\u30b3\u30fc\u30c9\u304b\u3089\u3001Store\u3068dispatch()\u306e\u4f7f\u3044\u65b9\u3092\u7406\u89e3\u3057\u307e\u3059\u3002Redux\u672c\u4f53\u3088\u308a\u8907\u96d1\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\nreact-redux/api.md at master \u00b7 reactjs/react-redux\n\nProvider\nProvider\u306freact-Redux\u304c\u63d0\u4f9b\u3059\u308bReact Component\u3067\u3059\u3002\nRedux\u306eStore\u3092React\u304b\u3089\u53c2\u7167\u3059\u308b\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002Provider\u306b\u306fstore\u3092props\u3068\u3057\u3066\u6e21\u3057\u307e\u3059\u3002\n\nsample\nReactDOM.render(\n  <Provider store={store}>\n    <MyRootComponent />\n  </Provider>,\n  rootEl\n)\n\n\nReact\u306eContext\u306b\u3088\u3063\u3066store\u3068storeSubscription\u3092\u5b50\u8981\u7d20\u306b\u4f1d\u3048\u307e\u3059\u3002\nContext\u306e\u5229\u70b9\u306f\u30c7\u30fc\u30bf\u3092props\u3068\u3057\u3066\u660e\u793a\u7684\u306b\u6e21\u3055\u306a\u304f\u3066\u3082\u5b50\u8981\u7d20\u306b\u4f1d\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u70b9\u3067\u3059\u3002\n\nIn some cases, you want to pass data through the component tree without having to pass the props down manually at every level. You can do this directly in React with the powerful \"context\" API.\nContext - React\n\nProvider\u306fContext\u306e\u89aa\u306e\u5b9f\u88c5\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u89aa\u3067 static childContextTypes = {...} \u3068 getChildContext() \u3092\u5b9f\u88c5\u3059\u308b\n\u5b50\u3067 static contextTypes = {...} \u3092\u5b9f\u88c5\u3059\u308b\n\u5b50\u3067 this.context \u306f getChildContext \u306e\u7d50\u679c\u3092\u53c2\u7167\u3067\u304d\u308b\nReact \u306e Context \u3092\u4f7f\u3063\u3066 Flux \u3092\u5b9f\u88c5\u3059\u308b - Qiita\n\n\nProvider.js\nexport default class Provider extends Component {\n  getChildContext() {\n    return { store: this.store, storeSubscription: null }\n  }\n\n  constructor(props, context) {\n    super(props, context)\n    this.store = props.store\n  }\n\n  render() {\n    return Children.only(this.props.children)\n  }\n}\n\nProvider.childContextTypes = {\n  store: storeShape.isRequired,\n  storeSubscription: subscriptionShape\n}\n\n\nProvider\u306e\u5b50\u8981\u7d20\u306f\u30e6\u30fc\u30b6\u304cContext\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u306freact-Redux\u306econnect()\u306b\u3088\u3063\u3066\u81ea\u524d\u306eReact Component\u3092\u30e9\u30c3\u30d7\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n\nconnect()\nreact-Redux\u306econnect\u306fcreateConnect()\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u5f15\u6570\u306b\u3088\u3063\u3066\u547c\u3073\u51fa\u3057\u305f\u623b\u308a\u5024\u3067\u3001\u5225\u306e\u6319\u52d5\u3092\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3082\u3042\u308b\u3088\u3046\u306b\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fconnectAdvanced()\u3078\u306eFacade\u3067\u3059\u3002\u30b3\u30fc\u30c9\u3082\u30d0\u30c3\u30b5\u30ea\u524a\u308c\u3070\u898b\u901a\u3057\u304c\u826f\u304f\u306a\u308a\u307e\u3059\u3002\u8a73\u7d30\u306f\u6b21\u56de\u306e\u4e88\u5b9a\u3067\u3059\u3002\n// createConnect with default args builds the 'official' connect behavior. Calling it with\n// different options opens up some testing and extensibility scenarios\nexport function createConnect({\n  connectHOC = connectAdvanced,\n\u30fb\u30fb\u30fb\n} = {}) {\n  return function connect(\n\u30fb\u30fb\u30fb\n  ) {\n\n    return connectHOC(\n\u30fb\u30fb\u30fb\n    })\n  }\n}\n\nexport default createConnect()\n\n\nconnectAdvanced()\nProvider\u306e\u5b50\u8981\u7d20\u3068\u3057\u3066Context\u304c\u53d7\u3051\u53d6\u308c\u308bConnect\u3067\u81ea\u524d\u306eComponent\u3092\u30e9\u30c3\u30d7\u3057\u307e\u3059\u3002\nconnectAdvanced()\u306e\u623b\u308a\u5024\u3001\u9061\u308b\u3068\u3001connect()\u306e\u623b\u308a\u5024\u306fwrapWithConnect()\u3067\u3059\u3002\u3064\u307e\u308a\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306b\u3088\u304f\u3042\u308b\u3001export default connect()(TodoApp)\u306fwrapWithConnect(TodoApp)\u3068\u306a\u308a\u307e\u3059\u3002hoistStatics\u306f\u3061\u3087\u3063\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30b3\u30d4\u30fc\u3059\u308b\u7a0b\u5ea6\u306a\u306e\u3067\u3001\u5b9f\u8cea\u7684\u306a\u623b\u308a\u5024\u306fConnect\u306e\u307b\u3046\u3067\u3059\u3002\nConnect\u306erender()\u3092\u898b\u308b\u3068\u3001React Component\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u308b\u306e\u306fWrappedComponent\u3068\u308f\u304b\u308a\u307e\u3059\u3002\n\nPropTypes.js\nexport const storeShape = PropTypes.shape({\n  subscribe: PropTypes.func.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  getState: PropTypes.func.isRequired\n})\n\n\n\nconnectAdvanced.js\nexport default function connectAdvanced(\n\u30fb\u30fb\u30fb\n) {\n\u30fb\u30fb\u30fb\n  const contextTypes = {\n    [storeKey]: storeShape,\n    [subscriptionKey]: subscriptionShape,\n  }\n\n  return function wrapWithConnect(WrappedComponent) {\n    class Connect extends Component {\n\u30fb\u30fb\u30fb\n      render() {\n\u30fb\u30fb\u30fb\n        if (selector.error) {\n          throw selector.error\n        } else {\n          return createElement(WrappedComponent, this.addExtraProps(selector.props))\n        }\n      }\n    }\n\n    Connect.childContextTypes = childContextTypes\n\n    return hoistStatics(Connect, WrappedComponent)\n  }\n\n\n\n\u3042\u3068\u304c\u304d\nProvider\u3068connect()\u306b\u3088\u3063\u3066React\u306eContext\u3092\u901a\u3057\u3066store\u3092\u4f1d\u3048\u308b\u5927\u307e\u304b\u306a\u69cb\u9020\u3092\u898b\u307e\u3057\u305f\u3002\n\u6b21\u56de\u306fconnect()\u306e\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u305fmapStateToProps\u3068mapDispatchToProps\u3092\u3069\u3046\u4f7f\u3063\u3066\u3044\u304f\u306e\u304b\u3001\u8a73\u7d30\u306b\u8aad\u3093\u3067\u3044\u304f\u4e88\u5b9a\u3067\u3059\u3002\n[Redux\u3092\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u7406\u89e3\u3059\u308b \u305d\u306e1](http://qiita.com/juntaki/items/d7b44fd9c2c35ea9ce24)\u306e\u7d9a\u304d\u3067\u3059\u3002\nreact\u3068\u9023\u643a\u3059\u308b\u3068\u304d\u306b\u4f7f\u3046react-Redux (5.0.3: 1c714abc1763)\u306e\u30b3\u30fc\u30c9\u304b\u3089\u3001Store\u3068`dispatch()`\u306e\u4f7f\u3044\u65b9\u3092\u7406\u89e3\u3057\u307e\u3059\u3002Redux\u672c\u4f53\u3088\u308a\u8907\u96d1\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n[react-redux/api.md at master \u00b7 reactjs/react-redux](https://github.com/reactjs/react-redux/blob/master/docs/api.md)\n\n# Provider\n\nProvider\u306freact-Redux\u304c\u63d0\u4f9b\u3059\u308bReact Component\u3067\u3059\u3002\nRedux\u306eStore\u3092React\u304b\u3089\u53c2\u7167\u3059\u308b\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002Provider\u306b\u306fstore\u3092props\u3068\u3057\u3066\u6e21\u3057\u307e\u3059\u3002\n\n~~~jsx:sample\nReactDOM.render(\n  <Provider store={store}>\n    <MyRootComponent />\n  </Provider>,\n  rootEl\n)\n~~~\n\nReact\u306eContext\u306b\u3088\u3063\u3066`store`\u3068`storeSubscription`\u3092\u5b50\u8981\u7d20\u306b\u4f1d\u3048\u307e\u3059\u3002\nContext\u306e\u5229\u70b9\u306f\u30c7\u30fc\u30bf\u3092props\u3068\u3057\u3066\u660e\u793a\u7684\u306b\u6e21\u3055\u306a\u304f\u3066\u3082\u5b50\u8981\u7d20\u306b\u4f1d\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u70b9\u3067\u3059\u3002\n\n>In some cases, you want to pass data through the component tree without having to pass the props down manually at every level. You can do this directly in React with the powerful \"context\" API.\n[Context - React](https://facebook.github.io/react/docs/context.html)\n\nProvider\u306fContext\u306e\u89aa\u306e\u5b9f\u88c5\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n>\u89aa\u3067 static childContextTypes = {...} \u3068 getChildContext() \u3092\u5b9f\u88c5\u3059\u308b\n\u5b50\u3067 static contextTypes = {...} \u3092\u5b9f\u88c5\u3059\u308b\n\u5b50\u3067 this.context \u306f getChildContext \u306e\u7d50\u679c\u3092\u53c2\u7167\u3067\u304d\u308b\n[React \u306e Context \u3092\u4f7f\u3063\u3066 Flux \u3092\u5b9f\u88c5\u3059\u308b - Qiita](http://qiita.com/mizchi/items/ef3fe8a82ce0fb49b52d)\n\n\n~~~javascript:Provider.js\nexport default class Provider extends Component {\n  getChildContext() {\n    return { store: this.store, storeSubscription: null }\n  }\n\n  constructor(props, context) {\n    super(props, context)\n    this.store = props.store\n  }\n\n  render() {\n    return Children.only(this.props.children)\n  }\n}\n\nProvider.childContextTypes = {\n  store: storeShape.isRequired,\n  storeSubscription: subscriptionShape\n}\n~~~\n\nProvider\u306e\u5b50\u8981\u7d20\u306f\u30e6\u30fc\u30b6\u304cContext\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u306freact-Redux\u306e`connect()`\u306b\u3088\u3063\u3066\u81ea\u524d\u306eReact Component\u3092\u30e9\u30c3\u30d7\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n\n# connect()\n\nreact-Redux\u306e`connect`\u306f`createConnect()`\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u5f15\u6570\u306b\u3088\u3063\u3066\u547c\u3073\u51fa\u3057\u305f\u623b\u308a\u5024\u3067\u3001\u5225\u306e\u6319\u52d5\u3092\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://github.com/reactjs/react-redux/blob/master/docs/api.md)\u306b\u3082\u3042\u308b\u3088\u3046\u306b\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f`connectAdvanced()`\u3078\u306e[Facade](https://ja.wikipedia.org/wiki/Facade_%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3)\u3067\u3059\u3002\u30b3\u30fc\u30c9\u3082\u30d0\u30c3\u30b5\u30ea\u524a\u308c\u3070\u898b\u901a\u3057\u304c\u826f\u304f\u306a\u308a\u307e\u3059\u3002\u8a73\u7d30\u306f\u6b21\u56de\u306e\u4e88\u5b9a\u3067\u3059\u3002\n\n~~~javascript\n// createConnect with default args builds the 'official' connect behavior. Calling it with\n// different options opens up some testing and extensibility scenarios\nexport function createConnect({\n  connectHOC = connectAdvanced,\n\u30fb\u30fb\u30fb\n} = {}) {\n  return function connect(\n\u30fb\u30fb\u30fb\n  ) {\n\n    return connectHOC(\n\u30fb\u30fb\u30fb\n    })\n  }\n}\n\nexport default createConnect()\n~~~\n\n\n# connectAdvanced()\n\nProvider\u306e\u5b50\u8981\u7d20\u3068\u3057\u3066Context\u304c\u53d7\u3051\u53d6\u308c\u308b`Connect`\u3067\u81ea\u524d\u306eComponent\u3092\u30e9\u30c3\u30d7\u3057\u307e\u3059\u3002\n`connectAdvanced()`\u306e\u623b\u308a\u5024\u3001\u9061\u308b\u3068\u3001`connect()`\u306e\u623b\u308a\u5024\u306f`wrapWithConnect()`\u3067\u3059\u3002\u3064\u307e\u308a\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306b\u3088\u304f\u3042\u308b\u3001`export default connect()(TodoApp)`\u306f`wrapWithConnect(TodoApp)`\u3068\u306a\u308a\u307e\u3059\u3002[hoistStatics](https://github.com/mridgway/hoist-non-react-statics/blob/v1.2.0/index.js#L29)\u306f\u3061\u3087\u3063\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30b3\u30d4\u30fc\u3059\u308b\u7a0b\u5ea6\u306a\u306e\u3067\u3001\u5b9f\u8cea\u7684\u306a\u623b\u308a\u5024\u306f`Connect`\u306e\u307b\u3046\u3067\u3059\u3002\n`Connect`\u306e`render()`\u3092\u898b\u308b\u3068\u3001React Component\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u308b\u306e\u306f`WrappedComponent`\u3068\u308f\u304b\u308a\u307e\u3059\u3002\n\n~~~javascript:PropTypes.js\nexport const storeShape = PropTypes.shape({\n  subscribe: PropTypes.func.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  getState: PropTypes.func.isRequired\n})\n~~~\n\n~~~javascript:connectAdvanced.js\nexport default function connectAdvanced(\n\u30fb\u30fb\u30fb\n) {\n\u30fb\u30fb\u30fb\n  const contextTypes = {\n    [storeKey]: storeShape,\n    [subscriptionKey]: subscriptionShape,\n  }\n\n  return function wrapWithConnect(WrappedComponent) {\n    class Connect extends Component {\n\u30fb\u30fb\u30fb\n      render() {\n\u30fb\u30fb\u30fb\n        if (selector.error) {\n          throw selector.error\n        } else {\n          return createElement(WrappedComponent, this.addExtraProps(selector.props))\n        }\n      }\n    }\n\n    Connect.childContextTypes = childContextTypes\n\n    return hoistStatics(Connect, WrappedComponent)\n  }\n~~~\n\n# \u3042\u3068\u304c\u304d\n\n`Provider`\u3068`connect()`\u306b\u3088\u3063\u3066React\u306eContext\u3092\u901a\u3057\u3066store\u3092\u4f1d\u3048\u308b\u5927\u307e\u304b\u306a\u69cb\u9020\u3092\u898b\u307e\u3057\u305f\u3002\n\u6b21\u56de\u306f`connect()`\u306e\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u305f`mapStateToProps`\u3068`mapDispatchToProps`\u3092\u3069\u3046\u4f7f\u3063\u3066\u3044\u304f\u306e\u304b\u3001\u8a73\u7d30\u306b\u8aad\u3093\u3067\u3044\u304f\u4e88\u5b9a\u3067\u3059\u3002\n", "tags": ["redux", "JavaScript"]}