{"tags": ["Swift", "\u30c0\u30d6\u30eb\u30dd\u30a4\u30f3\u30bf", "DoublePointer", "C\u8a00\u8a9e", "optional"], "context": " More than 1 year has passed since last update.\n\nC\u8a00\u8a9e\u3067allocate\u3055\u308c\u305f\u69cb\u9020\u4f53\u306e\u30c0\u30d6\u30eb\u30dd\u30a4\u30f3\u30bf\u3092Swift\u3067\u53d6\u5f97\u3059\u308b\nC\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u305f\u30bd\u30fc\u30b9\u3092\u3001Swift\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u7d44\u307f\u8fbc\u3093\u3067\u3044\u305f\u969b\u306b\u30cf\u30de\u3063\u305f\u3001\nC\u8a00\u8a9e\u306eDoublePointer\u306e\u53d6\u5f97\u65b9\u6cd5\u3068\u3001Swift\u4e0a\u3067\u306e\u5024\u306e\u53c2\u7167\u65b9\u6cd5\u306b\u3064\u3044\u3066\u30e1\u30e2\u4ee3\u308f\u308a\u306b\u66f8\u304d\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u69cb\u9020\u4f53\u3092C\u8a00\u8a9e\u3067\u66f8\u3044\u305f\u3068\u3057\u307e\u3059\u3002\n\ndoublePointer.c\n\ntypdef struct{\n\nfloat a;\nfloat b;\n\n}t_str:\n\n\n\n\n\u3053\u308c\u3092\u3001\u30c0\u30d6\u30eb\u30dd\u30a4\u30f3\u30bf\u3067\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306ballocate\u3057\u307e\u3059\u3002\n\ndoublePointer.c\n\nt_str** doubleP = NULL;\n\ndoubleP = calloc(sizeof(t_str*),100);\n\nfor(i=0;i<100;i++){\n    dounleP[i] = calloc(sizeof(t_str),100);\n}\n\n\n\n\n\u3053\u308c\u3067\u5408\u8a0810,000\u500b\u306et_str\u578b\u30c7\u30fc\u30bf\u9818\u57df\u304c\u78ba\u4fdd\u3067\u304d\u307e\u3057\u305f\u3002\n\u3053\u308c\u3092C\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u4f7f\u7528\u5f8c\u3001Swift\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3059\u969b\nC\u8a00\u8a9e\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\ndoublePointer.c\n\nt_str** DoublePointer()\n{\n\n    t_str** doubleP = NULL;\n\n    doubleP = calloc(sizeof(t_str*),100);\n\n    for(i=0;i<100;i++){\n        dounleP[i] = calloc(sizeof(t_str),100);\n    }\n\n\n    /*\n        \u4f55\u304b\u306e\u51e6\u7406\n    */\n\n    return t_str;\n}\n\n\n\n\n\nSwift\u5074\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u5909\u6570\u3092\u5ba3\u8a00\n\nSwift.swift\n\nvar swiftDoubleP = UnsafeMutablePointer<UnsafeMutablePointer<t_str>>?\n\n\n\n\nOptinal\u578b\u306b\u3057\u3001?\u3092\u4ed8\u52a0\u3057\u307e\u3059\u3002\n\u53d7\u3051\u53d6\u308a\u65b9\u306f\u3001\n\nSwift.swift\n\nswiftDoubleP = DoublePointer()\n\n\n\n\u3068\u3057\u3001\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u51fa\u3057\u65b9\u306f\u3001\u5c11\u3057\u30a4\u30ec\u30ae\u30e5\u30e9\u30fc\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nSwift.swift\n\n\nfor i in 0..<100{\n    for j in 0..<100{\n\n        println(swiftDoubleP![i][j].a)\n        println(swiftDoubleP![i][j].b)\n\n\n    }\n}\n\n\n\nindex\u306e\u524d\u306b!\u3092\u633f\u5165\u3059\u308b\u306e\u304c\u30df\u30bd\u3067\u3059\u3002\n\u30c8\u30ea\u30d7\u30eb\u30dd\u30a4\u30f3\u30bf\u3082\u3053\u3093\u306a\u611f\u3058\u3067\u3044\u3051\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n##C\u8a00\u8a9e\u3067allocate\u3055\u308c\u305f\u69cb\u9020\u4f53\u306e\u30c0\u30d6\u30eb\u30dd\u30a4\u30f3\u30bf\u3092Swift\u3067\u53d6\u5f97\u3059\u308b\n\nC\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u305f\u30bd\u30fc\u30b9\u3092\u3001Swift\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u7d44\u307f\u8fbc\u3093\u3067\u3044\u305f\u969b\u306b\u30cf\u30de\u3063\u305f\u3001\nC\u8a00\u8a9e\u306eDoublePointer\u306e\u53d6\u5f97\u65b9\u6cd5\u3068\u3001Swift\u4e0a\u3067\u306e\u5024\u306e\u53c2\u7167\u65b9\u6cd5\u306b\u3064\u3044\u3066\u30e1\u30e2\u4ee3\u308f\u308a\u306b\u66f8\u304d\u307e\u3059\u3002\n\n\n\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u69cb\u9020\u4f53\u3092C\u8a00\u8a9e\u3067\u66f8\u3044\u305f\u3068\u3057\u307e\u3059\u3002\n\n```doublePointer.c\n\ntypdef struct{\n\nfloat a;\nfloat b;\n\n}t_str:\n\n\n```\n\n\u3053\u308c\u3092\u3001\u30c0\u30d6\u30eb\u30dd\u30a4\u30f3\u30bf\u3067\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306ballocate\u3057\u307e\u3059\u3002\n\n```doublePointer.c\n\nt_str** doubleP = NULL;\n\ndoubleP = calloc(sizeof(t_str*),100);\n\nfor(i=0;i<100;i++){\n\tdounleP[i] = calloc(sizeof(t_str),100);\n}\n\n\n```\n\n\u3053\u308c\u3067\u5408\u8a0810,000\u500b\u306et_str\u578b\u30c7\u30fc\u30bf\u9818\u57df\u304c\u78ba\u4fdd\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u3053\u308c\u3092C\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u4f7f\u7528\u5f8c\u3001Swift\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3059\u969b\nC\u8a00\u8a9e\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```doublePointer.c\n\nt_str** DoublePointer()\n{\n\n\tt_str** doubleP = NULL;\n\n\tdoubleP = calloc(sizeof(t_str*),100);\n\n\tfor(i=0;i<100;i++){\n\t\tdounleP[i] = calloc(sizeof(t_str),100);\n\t}\n\n\n\t/*\n\t\t\u4f55\u304b\u306e\u51e6\u7406\n\t*/\n\n\treturn t_str;\n}\n\n\n\n```\n\nSwift\u5074\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u5909\u6570\u3092\u5ba3\u8a00\n\n```Swift.swift\n\nvar swiftDoubleP = UnsafeMutablePointer<UnsafeMutablePointer<t_str>>?\n\n\n```\n\nOptinal\u578b\u306b\u3057\u3001?\u3092\u4ed8\u52a0\u3057\u307e\u3059\u3002\n\n\u53d7\u3051\u53d6\u308a\u65b9\u306f\u3001\n\n```Swift.swift\n\nswiftDoubleP = DoublePointer()\n\n```\n\n\u3068\u3057\u3001\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u51fa\u3057\u65b9\u306f\u3001\u5c11\u3057\u30a4\u30ec\u30ae\u30e5\u30e9\u30fc\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```Swift.swift\n\n\nfor i in 0..<100{\n\tfor j in 0..<100{\n\n\t\tprintln(swiftDoubleP![i][j].a)\n\t\tprintln(swiftDoubleP![i][j].b)\n\n\n\t}\n}\n\n```\n\nindex\u306e\u524d\u306b!\u3092\u633f\u5165\u3059\u308b\u306e\u304c\u30df\u30bd\u3067\u3059\u3002\n\n\u30c8\u30ea\u30d7\u30eb\u30dd\u30a4\u30f3\u30bf\u3082\u3053\u3093\u306a\u611f\u3058\u3067\u3044\u3051\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\n\n\n"}