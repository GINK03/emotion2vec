{"context": "\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n\u753b\u50cfURL\u3092\u4f7f\u3063\u3066\u753b\u50cf\u3092\u53d6\u5f97\u3002\u305d\u306e\u753b\u50cf\u3092\u6dfb\u4ed8\u3057\u3066\u30c4\u30a4\u30fc\u30c8\n\n\u74b0\u5883\nMac OSX El Capitan\nHubot 2.19.0\nhubot-twitter 2.1.1\n\n\u30b3\u30fc\u30c9\nrequest({method: 'GET', url: image_url,  encoding: null}, (err, res, body) ->\n      if err\n        console.log err\n        return\n      @client = new twit(keys)\n      @client.post('media/upload', {media_data: btoa(body)}, (err, data, response) ->\n        if err\n          console.log err\n          return\n\n        @client.post('statuses/update', { status: \"\u30c4\u30a4\u30fc\u30c8\u5185\u5bb9\uff01\", media_ids: [data.media_id_string] }, (err, data, response) ->\n          if err\n            console.log err\n            return\n        )\n\n\n\u30dd\u30a4\u30f3\u30c8\n\n\u753b\u50cf\u6dfb\u4ed8\u306b\u306f\u753b\u50cf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3068\u30c4\u30a4\u30fc\u30c8\u306e2\u30b9\u30c6\u30c3\u30d7\u5fc5\u8981\nrobot.http\u30e2\u30b8\u30e5\u30fc\u30eb\u3058\u3083\u306a\u304f\u3066\u3001request\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3046\n\n\n\nencoding: null\u304c\u91cd\u8981\u3067\u3001\u3053\u308c\u306b\u3088\u3063\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u306ebody\u304cbuffer\u306e\u307e\u307e\u8fd4\u3055\u308c\u308b\u3002 \n\n\n\n\u3000\u753b\u50cf\u30c7\u30fc\u30bf\u3092base64\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\n\n\ntwitter API Document\u306b\u3088\u308b\u3068\u4ee5\u4e0b\u306e\u5f62\u5f0f\u306e\u307f\u8a31\u53ef\u3057\u3066\u308b\u3088\u3046\u306a\u306e\u3067base64\u306b\u5909\u63db\u3057\u305f\n\n\nraw binary (media parameter) \nbase64-encoded contents (media_data parameter)\n\n\n\n\n\u30c4\u30a4\u30fc\u30c8\u6642\u306b\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3068\u304d\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u3042\u308bmedia_id_string\u3092\u4e00\u7dd2\u306b\u8a18\u8ff0\n\n\u753b\u50cf\u3092\u6dfb\u4ed8\u3057\u3066\u30c4\u30a4\u30fc\u30c8\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n# \u3084\u308a\u305f\u3044\u3053\u3068\n\u753b\u50cfURL\u3092\u4f7f\u3063\u3066\u753b\u50cf\u3092\u53d6\u5f97\u3002\u305d\u306e\u753b\u50cf\u3092\u6dfb\u4ed8\u3057\u3066\u30c4\u30a4\u30fc\u30c8\n\n# \u74b0\u5883\nMac OSX El Capitan\nHubot 2.19.0\nhubot-twitter 2.1.1\n\n# \u30b3\u30fc\u30c9\n\n```\nrequest({method: 'GET', url: image_url,  encoding: null}, (err, res, body) ->\n      if err\n        console.log err\n        return\n      @client = new twit(keys)\n      @client.post('media/upload', {media_data: btoa(body)}, (err, data, response) ->\n        if err\n          console.log err\n          return\n\n        @client.post('statuses/update', { status: \"\u30c4\u30a4\u30fc\u30c8\u5185\u5bb9\uff01\", media_ids: [data.media_id_string] }, (err, data, response) ->\n          if err\n            console.log err\n            return\n        )\n```\n\n# \u30dd\u30a4\u30f3\u30c8\n* \u753b\u50cf\u6dfb\u4ed8\u306b\u306f\u753b\u50cf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3068\u30c4\u30a4\u30fc\u30c8\u306e2\u30b9\u30c6\u30c3\u30d7\u5fc5\u8981\n* robot.http\u30e2\u30b8\u30e5\u30fc\u30eb\u3058\u3083\u306a\u304f\u3066\u3001request\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3046\n    * ``encoding: null``\u304c\u91cd\u8981\u3067\u3001\u3053\u308c\u306b\u3088\u3063\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u306ebody\u304cbuffer\u306e\u307e\u307e\u8fd4\u3055\u308c\u308b\u3002 \n* \u3000\u753b\u50cf\u30c7\u30fc\u30bf\u3092base64\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\n    * [twitter API Document](https://dev.twitter.com/rest/reference/post/media/upload)\u306b\u3088\u308b\u3068\u4ee5\u4e0b\u306e\u5f62\u5f0f\u306e\u307f\u8a31\u53ef\u3057\u3066\u308b\u3088\u3046\u306a\u306e\u3067base64\u306b\u5909\u63db\u3057\u305f\n     * raw binary (media parameter) \n     * base64-encoded contents (media_data parameter)\n\n* \u30c4\u30a4\u30fc\u30c8\u6642\u306b\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3068\u304d\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u3042\u308bmedia_id_string\u3092\u4e00\u7dd2\u306b\u8a18\u8ff0\n\n\n\u753b\u50cf\u3092\u6dfb\u4ed8\u3057\u3066\u30c4\u30a4\u30fc\u30c8\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n", "tags": ["Hubot", "hubot-twitter", "CoffeeScript"]}