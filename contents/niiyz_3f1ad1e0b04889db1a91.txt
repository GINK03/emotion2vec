{"context": " More than 1 year has passed since last update.\n\n\u4f4f\u6240\u3001\u90f5\u4fbf\u756a\u53f7\u304b\u3089\u30de\u30c3\u30d7\u306e\u4f4d\u7f6e\u5909\u66f4\n// \u4e2d\u5fc3\u5909\u66f4\nvar changeCenter = function (address) {\n    var geocoder = new google.maps.Geocoder();\n    geocoder.geocode({'address': address}, function (results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n            var location = results[0].geometry.location;\n            var lat = location.lat();\n            var lng = location.lng();\n            var latlng = {lat: lat, lng: lng};\n            map.setCenter(latlng);\n        } else {\n            console.log(\"Geocode was not successful for the following reason: \" + status);\n        }\n    });\n};\nchangeCenter('\u5bcc\u5c71\u5e02');\n\n\n\u73fe\u5728\u5730\u8ffd\u8de1\n/**\n * \u73fe\u5728\u5730\u8ffd\u8de1\n * @param {Function} func\n * @return {Void}\n */\nwatchCurrentPosition: function (func) {\n    var self = this;\n    if (navigator.geolocation) {\n        navigator.geolocation.watchPosition(\n            function (info) {\n                var lat = info.coords.latitude;\n                var lng = info.coords.longitude;\n                var center = new google.maps.LatLng(lat, lng);\n                func(center);\n            },\n            function (info) {\n                //alert('\u73fe\u5728\u5730\u53d6\u5f97\u30a8\u30e9\u30fc' + info.code);\n                return;\n            },\n            {enableHighAccuracy: true, timeout: 6000, maximumAge: 600000}\n        );\n    } else {\n        //alert('\u672c\u30d6\u30e9\u30a6\u30b6\u3067\u306fGeolocation\u304c\u4f7f\u3048\u307e\u305b\u3093');\n        return;\n    }\n}\n\n\n\u30de\u30c3\u30d7\u30aa\u30d7\u30b7\u30e7\u30f3\u53d6\u5f97\n /**\n * \u30de\u30c3\u30d7\u30aa\u30d7\u30b7\u30e7\u30f3\u53d6\u5f97\n * @param {google.maps.LatLng} latLng\n * @return {Object} options\n */\ngetMapOptions: function (latLng) {\n    var options = {\n        zoom: 15,\n        minZoom: 12,\n        maxZoom: 20,\n        center: latLng,\n        disableDoubleClickZoom: true,\n        draggable: true,\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        zoomControl: false,\n        streetViewControl: false,\n        mapTypeControl: false,\n        mapTypeControlOptions: {\n            style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,\n            position: google.maps.ControlPosition.TOP_RIGHT\n        },\n        panControl: false\n    };\n    return options;\n}\n\n\n\u30b9\u30de\u30db\u3001\u30e2\u30d0\u30a4\u30eb\u5224\u5b9a\n/**\n * \u30b9\u30de\u30db\u5224\u5b9a\n * @return {Boolean}\n */\nisSmartPhone: function () {\n    var userAgent = navigator.userAgent;\n    if (userAgent.indexOf('iPhone') != -1 ||\n        userAgent.indexOf('iPod') != -1 ||\n        (userAgent.indexOf('Android') != -1 && userAgent.indexOf('Mobile') != -1)) {\n        return true;\n    }\n    return false;\n}\n,\n/**\n * \u30e2\u30d0\u30a4\u30eb\u5224\u5b9a\n * @return {Boolean}\n */\nisMobile: function () {\n    var userAgent = navigator.userAgent;\n    if (userAgent.indexOf('iPhone') != -1 ||\n        userAgent.indexOf('iPad') != -1 ||\n        userAgent.indexOf('iPod') != -1 ||\n        userAgent.indexOf('Android') != -1) {\n        return true;\n    }\n    return false;\n}\n\n### \u4f4f\u6240\u3001\u90f5\u4fbf\u756a\u53f7\u304b\u3089\u30de\u30c3\u30d7\u306e\u4f4d\u7f6e\u5909\u66f4\n\n~~~ javascript\n// \u4e2d\u5fc3\u5909\u66f4\nvar changeCenter = function (address) {\n    var geocoder = new google.maps.Geocoder();\n    geocoder.geocode({'address': address}, function (results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n            var location = results[0].geometry.location;\n            var lat = location.lat();\n            var lng = location.lng();\n            var latlng = {lat: lat, lng: lng};\n            map.setCenter(latlng);\n        } else {\n            console.log(\"Geocode was not successful for the following reason: \" + status);\n        }\n    });\n};\nchangeCenter('\u5bcc\u5c71\u5e02');\n~~~\n\n### \u73fe\u5728\u5730\u8ffd\u8de1\n\n~~~ javascript\n/**\n * \u73fe\u5728\u5730\u8ffd\u8de1\n * @param {Function} func\n * @return {Void}\n */\nwatchCurrentPosition: function (func) {\n    var self = this;\n    if (navigator.geolocation) {\n        navigator.geolocation.watchPosition(\n            function (info) {\n                var lat = info.coords.latitude;\n                var lng = info.coords.longitude;\n                var center = new google.maps.LatLng(lat, lng);\n                func(center);\n            },\n            function (info) {\n                //alert('\u73fe\u5728\u5730\u53d6\u5f97\u30a8\u30e9\u30fc' + info.code);\n                return;\n            },\n            {enableHighAccuracy: true, timeout: 6000, maximumAge: 600000}\n        );\n    } else {\n        //alert('\u672c\u30d6\u30e9\u30a6\u30b6\u3067\u306fGeolocation\u304c\u4f7f\u3048\u307e\u305b\u3093');\n        return;\n    }\n}\n~~~\n\n### \u30de\u30c3\u30d7\u30aa\u30d7\u30b7\u30e7\u30f3\u53d6\u5f97\n~~~ javascript\n /**\n * \u30de\u30c3\u30d7\u30aa\u30d7\u30b7\u30e7\u30f3\u53d6\u5f97\n * @param {google.maps.LatLng} latLng\n * @return {Object} options\n */\ngetMapOptions: function (latLng) {\n    var options = {\n        zoom: 15,\n        minZoom: 12,\n        maxZoom: 20,\n        center: latLng,\n        disableDoubleClickZoom: true,\n        draggable: true,\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        zoomControl: false,\n        streetViewControl: false,\n        mapTypeControl: false,\n        mapTypeControlOptions: {\n            style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,\n            position: google.maps.ControlPosition.TOP_RIGHT\n        },\n        panControl: false\n    };\n    return options;\n}\n~~~\n\n\n### \u30b9\u30de\u30db\u3001\u30e2\u30d0\u30a4\u30eb\u5224\u5b9a\n\n~~~\n/**\n * \u30b9\u30de\u30db\u5224\u5b9a\n * @return {Boolean}\n */\nisSmartPhone: function () {\n    var userAgent = navigator.userAgent;\n    if (userAgent.indexOf('iPhone') != -1 ||\n        userAgent.indexOf('iPod') != -1 ||\n        (userAgent.indexOf('Android') != -1 && userAgent.indexOf('Mobile') != -1)) {\n        return true;\n    }\n    return false;\n}\n,\n/**\n * \u30e2\u30d0\u30a4\u30eb\u5224\u5b9a\n * @return {Boolean}\n */\nisMobile: function () {\n    var userAgent = navigator.userAgent;\n    if (userAgent.indexOf('iPhone') != -1 ||\n        userAgent.indexOf('iPad') != -1 ||\n        userAgent.indexOf('iPod') != -1 ||\n        userAgent.indexOf('Android') != -1) {\n        return true;\n    }\n    return false;\n}\n~~~\n", "tags": ["GoogleMapsAPI"]}