{"context": " More than 1 year has passed since last update.\u5143\u306e\u30cd\u30bf\u306f\u3053\u3061\u3089\u306e\u30da\u30fc\u30b8\nhttps://www.polymer-project.org/0.5/articles/spa.html\n\u5f8c\u534a\u306b\u52d5\u7684\u306b\u30da\u30fc\u30b8\u30ed\u30fc\u30c9\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u304c\u51fa\u307e\u3059\u3002\n\u539f\u7406\u306fcore-ajax\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u3063\u3066div\u30bf\u30b0\u306eid\u304c'article-content'\u304b\u3089\u4e0b\u90e8\u3092\u52d5\u7684\u306b\u8868\u793a\u3059\u308b\u5185\u5bb9\u3067\u3059\u304c\u3001\n\u30b5\u30f3\u30d7\u30eb\u306e\u30bd\u30fc\u30b9\u304c\u5de3\u306ehtml\u3067\u66f8\u3044\u3066\u3044\u308b\u305f\u3081\u3044\u3056\u4f7f\u3046\u6642\u306b\u4ed6\u306eFW\u3068\u306e\u7d61\u307f\u304c\u3084\u3084\u3053\u3057\u3044\u3002\n\u306e\u3067\u3001element\u5316\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nmain-menu.html\n<polymer-element name=\"main-menu\" >\n\n<template>\n\n  <!-- Route controller. -->\n  <!-- \n  <flatiron-director route=\"{{route}}\" autoHash></flatiron-director>\n  -->\n\n  <!-- Keyboard nav controller. -->\n  <core-a11y-keys id=\"keys\" target=\"{{parentElement}}\"\n                  keys=\"up down left right space space+shift\"\n                  on-keys-pressed=\"{{keyHandler}}\"></core-a11y-keys>\n\n  <!-- Dynamic content controller -->\n  <core-ajax id=\"ajax\" url=\"{{selectedPage.page.url}}\" handleAs=\"document\"\n             on-core-response=\"{{onResponse}}\"></core-ajax>\n\n  <core-scaffold id=\"scaffold\">\n\n    <nav>\n      <core-toolbar>\n        <span>Polymer Tutorial SPA</span>\n      </core-toolbar>\n      <core-menu id=\"menu\" valueattr=\"hash\"\n                 selected=\"{{route}}\"\n                 selectedModel=\"{{selectedPage}}\"\n                 on-core-select=\"{{menuItemSelected}}\" on-click=\"{{ajaxLoad}}\">\n        <template repeat=\"{{page, i in pages}}\">\n          <paper-item hash=\"{{page.hash}}\" noink>\n            <core-icon icon=\"label{{route != page.hash ? '-outline' : ''}}\"></core-icon>\n            <a href=\"{{page.url}}\">{{page.name}}</a>\n          </paper-item>\n        </template>\n      </core-menu>\n    </nav>\n\n    <core-toolbar tool flex>\n      <div flex>{{selectedPage.page.name}}</div>\n      <core-icon-button icon=\"refresh\"></core-icon-button>\n      <core-icon-button icon=\"add\"></core-icon-button>\n    </core-toolbar>\n\n    <div layout horizontal center-center fit>\n      <core-animated-pages id=\"apages\" selected=\"{{route}}\" valueattr=\"hash\"\n                           transitions=\"slide-from-right\">\n        <template repeat=\"{{page, i in pages}}\">\n          <section hash=\"{{page.hash}}\" layout vertical center-center>\n            <div style=\"max-width:100%;\">Loading...</div>\n          </section>\n        </template>\n      </core-animated-pages>\n    </div>\n\n  </core-scaffold>\n\n</template>\n\n<script>\nPolymer({\n    DEFAULT_ROUTE : 'one',\n    pages : [\n      {name: 'Shadow DOM 101', hash: 'one', url: '//www.html5rocks.com/en/tutorials/webcomponents/shadowdom/'},\n      {name: 'Shadow DOM 201', hash: 'two', url: '//www.html5rocks.com/en/tutorials/webcomponents/shadowdom-201/'},\n      {name: 'Shadow DOM 301', hash: 'three', url: '//www.html5rocks.com/en/tutorials/webcomponents/shadowdom-301/'},\n      {name: 'Custom Elements', hash: 'four', url: '//www.html5rocks.com/en/tutorials/webcomponents/customelements/'}\n    ],\n\n    created : function() {\n          this.cache = {};\n    },\n\n    domReady: function() {\n        this.ajax = this.shadowRoot.querySelector('#ajax');\n        this.scaffold = this.shadowRoot.querySelector('#scaffold');\n        this.apages = this.shadowRoot.querySelector('#apages');\n        this.keys = this.shadowRoot.querySelector('#keys');\n\n        // Allow selecting pages by num keypad. Dynamically add\n        // [1, template.pages.length] to key mappings.\n        var keysToAdd = Array.apply(null, this.pages).map(function(x, i) {\n          return i + 1;\n        }).reduce(function(x, y) {\n          return x + ' ' + y;\n        });\n        this.keys.keys += ' ' + keysToAdd;\n\n        this.route = this.route || this.DEFAULT_ROUTE; // Select initial route.\n    },\n\n\n    keyHandler : function(e, detail, sender) {\n          // Select page by num key.\n          var num = parseInt(detail.key);\n          if (!isNaN(num) && num <= this.pages.length) {\n            this.apages.selectIndex(num - 1);\n            return;\n          }\n\n          switch (detail.key) {\n            case 'left':\n            case 'up':\n              this.apages.selectPrevious();\n              break;\n            case 'right':\n            case 'down':\n              this.apages.selectNext();\n              break;\n            case 'space':\n              detail.shift ? this.apages.selectPrevious() : this.apages.selectNext();\n              break;\n          }\n    },\n\n    menuItemSelected : function(e, detail, sender) {\n      if (detail.isSelected) {\n\n        // Need to wait one rAF so <core-ajax> has it's URL set.\n        this.async(function() {\n          if (!this.cache[this.ajax.url]) {\n            this.ajax.go();\n          }\n\n          this.scaffold.closeDrawer();\n        });\n\n      }\n    },\n\n    ajaxLoad : function(e, detail, sender) {\n        e.preventDefault(); // prevent link navigation.\n    },\n\n    onResponse : function(e, detail, sender) {\n          var article = detail.response.querySelector('#article-content');\n\n          article.querySelector('.byline').remove();\n\n          // Fix up image paths to not be local.\n          [].forEach.call(article.querySelectorAll('img'), function(img) {\n            img.setAttribute('src', img.src);\n          });\n\n          var html = article.innerHTML;\n\n          this.cache[this.ajax.url] = html; // Primitive caching by URL.\n\n          this.injectBoundHTML(html, this.apages.selectedItem.firstElementChild);\n    }\n\n\n});\n\n</script>\n</polymer-element>\n\n\n\n\u3056\u3063\u304f\u308a\u89e3\u8aac\nshadowRoot\u304b\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8aad\u3081\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306fcreated\u3067\u306f\u306a\u304f\u3001domReady\u304b\u3089\u3067\u3042\u308b\u306e\u3067\u521d\u671f\u5316\u3082\u305d\u3053\u304b\u3089\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\u306a\u306e\u3067\u672c\u5f53\u306fcreated\u306f\u8981\u3089\u306a\u3044\ndomReady\u306b\u307e\u3068\u3081\u3061\u3083\u3063\u3066\u3082\u304b\u307e\u3044\u307e\u305b\u3093\u3002\n\u516c\u5f0fpolymer\u306e\u8a18\u4e8b\u306f\u3088\u304f\u51fa\u6765\u3066\u3044\u308b\u3051\u3069\u3001\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u4e00\u3064\u60aa\u3044\u306e\u304c\ntemplate\u306e\u914d\u5217\u8981\u7d20\u3068core-animated-pages\u306eid\u304c\u540c\u3058\u540d\u524d\u306e\"pages\"\u3067\u3042\u3063\u3066\u7d1b\u3089\u308f\u3057\u3044\u3067\u3059\u306d\u3002\n\u4eca\u56de\u306fcore-animated-pages\u306eid\u3092apages\u306b\u5909\u3048\u307e\u3057\u305f\nflatiron-director\u306f\u4f7f\u3046\u3064\u3082\u308a\u304c\u306a\u3044\u306e\u3067\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3002\n\u3082\u3057\u4f7f\u3046\u5834\u5408\u306fimport\u3092\u3044\u308c\u3066\u304f\u3060\u3055\u3044\u3002\npolymer-element\u306ename\u3068\u304bpages\u306eurl\u30c7\u30fc\u30bf\u3068\u304b\u3001title\u3068\u304b\u3082\u9069\u5b9c\u306b\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\n\nimport.html\n<script src=\"../bower_components/webcomponentsjs/webcomponents.min.js\" type=\"text/javascript\"></script>\n<link rel=\"import\" href=\"../bower_components/polymer/polymer.html\">\n\n<link rel=\"import\" href=\"../bower_components/core-a11y-keys/core-a11y-keys.html\">\n<link rel=\"import\" href=\"../bower_components/core-ajax/core-ajax.html\">\n<link rel=\"import\" href=\"../bower_components/core-animated-pages/core-animated-pages.html\">\n<link rel=\"import\" href=\"../bower_components/core-animated-pages/transitions/slide-from-right.html\">\n\n<link rel=\"import\" href=\"../bower_components/core-drawer-panel/core-drawer-panel.html\">\n<link rel=\"import\" href=\"../bower_components/core-icon/core-icon.html\">\n<link rel=\"import\" href=\"../bower_components/core-icon-button/core-icon-button.html\">\n<link rel=\"import\" href=\"../bower_components/core-item/core-item.html\">\n<link rel=\"import\" href=\"../bower_components/core-menu/core-menu.html\">\n<link rel=\"import\" href=\"../bower_components/core-scaffold/core-scaffold.html\">\n<link rel=\"import\" href=\"../bower_components/core-toolbar/core-toolbar.html\">\n\n<link rel=\"import\" href=\"../bower_components/font-roboto/roboto.html\">\n\n<link rel=\"import\" href=\"../bower_components/paper-item/paper-item.html\">\n\n\n\n\u3044\u3056\u4f7f\u3046\u5834\u5408\u306f\u3001\u3001\u305f\u3068\u3048\u3070play framework\u3067\u4f7f\u3046\u305f\u3068\u3059\u308b\u3068\n\nindex.scala.html\n@(title: String)(content: Html)\n\n<!DOCTYPE html>\n\n<html>\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes\">\n        <title>@title</title>\n        <link rel=\"import\" href=\"@routes.Assets.at(\"elements/import.html\")\">\n        <link rel=\"import\" href=\"@routes.Assets.at(\"elements/main-menu.html\")\">\n        <link rel=\"stylesheet\" media=\"screen\" href=\"@routes.Assets.at(\"stylesheets/main.css\")\" shim-shadowdom>\n    </head>\n\n<body unresolved fullbleed>\n    <main-menu>main</main-menu>\n</body>\n</html>\n\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u304b\u306d\u3002\n(\u4e0a\u8a18\u306e\uff12\u30d5\u30a1\u30a4\u30eb\u304cpublic/elements\u306e\u914d\u4e0b\u306b\u3042\u308b\u5834\u5408\uff09\n\u5143\u306e\u30cd\u30bf\u306f\u3053\u3061\u3089\u306e\u30da\u30fc\u30b8\nhttps://www.polymer-project.org/0.5/articles/spa.html\n\n\u5f8c\u534a\u306b\u52d5\u7684\u306b\u30da\u30fc\u30b8\u30ed\u30fc\u30c9\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u304c\u51fa\u307e\u3059\u3002\n\u539f\u7406\u306fcore-ajax\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u3063\u3066div\u30bf\u30b0\u306eid\u304c'article-content'\u304b\u3089\u4e0b\u90e8\u3092\u52d5\u7684\u306b\u8868\u793a\u3059\u308b\u5185\u5bb9\u3067\u3059\u304c\u3001\n\u30b5\u30f3\u30d7\u30eb\u306e\u30bd\u30fc\u30b9\u304c\u5de3\u306ehtml\u3067\u66f8\u3044\u3066\u3044\u308b\u305f\u3081\u3044\u3056\u4f7f\u3046\u6642\u306b\u4ed6\u306eFW\u3068\u306e\u7d61\u307f\u304c\u3084\u3084\u3053\u3057\u3044\u3002\n\u306e\u3067\u3001element\u5316\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\n```html:main-menu.html\n<polymer-element name=\"main-menu\" >\n\n<template>\n\n  <!-- Route controller. -->\n  <!-- \n  <flatiron-director route=\"{{route}}\" autoHash></flatiron-director>\n  -->\n  \n  <!-- Keyboard nav controller. -->\n  <core-a11y-keys id=\"keys\" target=\"{{parentElement}}\"\n                  keys=\"up down left right space space+shift\"\n                  on-keys-pressed=\"{{keyHandler}}\"></core-a11y-keys>\n\n  <!-- Dynamic content controller -->\n  <core-ajax id=\"ajax\" url=\"{{selectedPage.page.url}}\" handleAs=\"document\"\n             on-core-response=\"{{onResponse}}\"></core-ajax>\n\n  <core-scaffold id=\"scaffold\">\n\n    <nav>\n      <core-toolbar>\n        <span>Polymer Tutorial SPA</span>\n      </core-toolbar>\n      <core-menu id=\"menu\" valueattr=\"hash\"\n                 selected=\"{{route}}\"\n                 selectedModel=\"{{selectedPage}}\"\n                 on-core-select=\"{{menuItemSelected}}\" on-click=\"{{ajaxLoad}}\">\n        <template repeat=\"{{page, i in pages}}\">\n          <paper-item hash=\"{{page.hash}}\" noink>\n            <core-icon icon=\"label{{route != page.hash ? '-outline' : ''}}\"></core-icon>\n            <a href=\"{{page.url}}\">{{page.name}}</a>\n          </paper-item>\n        </template>\n      </core-menu>\n    </nav>\n\n    <core-toolbar tool flex>\n      <div flex>{{selectedPage.page.name}}</div>\n      <core-icon-button icon=\"refresh\"></core-icon-button>\n      <core-icon-button icon=\"add\"></core-icon-button>\n    </core-toolbar>\n\n    <div layout horizontal center-center fit>\n      <core-animated-pages id=\"apages\" selected=\"{{route}}\" valueattr=\"hash\"\n                           transitions=\"slide-from-right\">\n        <template repeat=\"{{page, i in pages}}\">\n          <section hash=\"{{page.hash}}\" layout vertical center-center>\n            <div style=\"max-width:100%;\">Loading...</div>\n          </section>\n        </template>\n      </core-animated-pages>\n    </div>\n\n  </core-scaffold>\n  \n</template>\n\n<script>\nPolymer({\n\tDEFAULT_ROUTE : 'one',\n\tpages : [\n      {name: 'Shadow DOM 101', hash: 'one', url: '//www.html5rocks.com/en/tutorials/webcomponents/shadowdom/'},\n      {name: 'Shadow DOM 201', hash: 'two', url: '//www.html5rocks.com/en/tutorials/webcomponents/shadowdom-201/'},\n      {name: 'Shadow DOM 301', hash: 'three', url: '//www.html5rocks.com/en/tutorials/webcomponents/shadowdom-301/'},\n      {name: 'Custom Elements', hash: 'four', url: '//www.html5rocks.com/en/tutorials/webcomponents/customelements/'}\n\t],\n\n\tcreated : function() {\n\t\t  this.cache = {};\n\t},\n\t\n    domReady: function() {\n\t\tthis.ajax = this.shadowRoot.querySelector('#ajax');\n\t\tthis.scaffold = this.shadowRoot.querySelector('#scaffold');\n\t\tthis.apages = this.shadowRoot.querySelector('#apages');\n\t\tthis.keys = this.shadowRoot.querySelector('#keys');\n\t\t\n\t\t// Allow selecting pages by num keypad. Dynamically add\n\t\t// [1, template.pages.length] to key mappings.\n\t\tvar keysToAdd = Array.apply(null, this.pages).map(function(x, i) {\n\t\t  return i + 1;\n\t\t}).reduce(function(x, y) {\n\t\t  return x + ' ' + y;\n\t\t});\n\t\tthis.keys.keys += ' ' + keysToAdd;\n\t\t\n\t\tthis.route = this.route || this.DEFAULT_ROUTE; // Select initial route.\n    },\n\t\n    \n    keyHandler : function(e, detail, sender) {\n    \t  // Select page by num key.\n    \t  var num = parseInt(detail.key);\n    \t  if (!isNaN(num) && num <= this.pages.length) {\n    \t    this.apages.selectIndex(num - 1);\n    \t    return;\n    \t  }\n\n    \t  switch (detail.key) {\n    \t    case 'left':\n    \t    case 'up':\n    \t      this.apages.selectPrevious();\n    \t      break;\n    \t    case 'right':\n    \t    case 'down':\n    \t      this.apages.selectNext();\n    \t      break;\n    \t    case 'space':\n    \t      detail.shift ? this.apages.selectPrevious() : this.apages.selectNext();\n    \t      break;\n    \t  }\n  \t},\n\n\tmenuItemSelected : function(e, detail, sender) {\n  \t  if (detail.isSelected) {\n\n  \t    // Need to wait one rAF so <core-ajax> has it's URL set.\n  \t    this.async(function() {\n  \t      if (!this.cache[this.ajax.url]) {\n  \t        this.ajax.go();\n  \t      }\n\n  \t      this.scaffold.closeDrawer();\n  \t    });\n\n  \t  }\n  \t},\n\t       \n\tajaxLoad : function(e, detail, sender) {\n\t\te.preventDefault(); // prevent link navigation.\n\t},\n\n\tonResponse : function(e, detail, sender) {\n\t\t  var article = detail.response.querySelector('#article-content');\n\n\t\t  article.querySelector('.byline').remove();\n\n\t\t  // Fix up image paths to not be local.\n\t\t  [].forEach.call(article.querySelectorAll('img'), function(img) {\n\t\t    img.setAttribute('src', img.src);\n\t\t  });\n\n\t\t  var html = article.innerHTML;\n\n\t\t  this.cache[this.ajax.url] = html; // Primitive caching by URL.\n\n\t\t  this.injectBoundHTML(html, this.apages.selectedItem.firstElementChild);\n\t}\n\t\n       \n});\n\n</script>\n</polymer-element>\n\n```\n\n\u3056\u3063\u304f\u308a\u89e3\u8aac\nshadowRoot\u304b\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8aad\u3081\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306fcreated\u3067\u306f\u306a\u304f\u3001domReady\u304b\u3089\u3067\u3042\u308b\u306e\u3067\u521d\u671f\u5316\u3082\u305d\u3053\u304b\u3089\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\u306a\u306e\u3067\u672c\u5f53\u306fcreated\u306f\u8981\u3089\u306a\u3044\ndomReady\u306b\u307e\u3068\u3081\u3061\u3083\u3063\u3066\u3082\u304b\u307e\u3044\u307e\u305b\u3093\u3002\n\n\u516c\u5f0fpolymer\u306e\u8a18\u4e8b\u306f\u3088\u304f\u51fa\u6765\u3066\u3044\u308b\u3051\u3069\u3001\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u4e00\u3064\u60aa\u3044\u306e\u304c\ntemplate\u306e\u914d\u5217\u8981\u7d20\u3068core-animated-pages\u306eid\u304c\u540c\u3058\u540d\u524d\u306e\"pages\"\u3067\u3042\u3063\u3066\u7d1b\u3089\u308f\u3057\u3044\u3067\u3059\u306d\u3002\n\u4eca\u56de\u306fcore-animated-pages\u306eid\u3092apages\u306b\u5909\u3048\u307e\u3057\u305f\n\nflatiron-director\u306f\u4f7f\u3046\u3064\u3082\u308a\u304c\u306a\u3044\u306e\u3067\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3002\n\u3082\u3057\u4f7f\u3046\u5834\u5408\u306fimport\u3092\u3044\u308c\u3066\u304f\u3060\u3055\u3044\u3002\npolymer-element\u306ename\u3068\u304bpages\u306eurl\u30c7\u30fc\u30bf\u3068\u304b\u3001title\u3068\u304b\u3082\u9069\u5b9c\u306b\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\n\n\n```html:import.html\n<script src=\"../bower_components/webcomponentsjs/webcomponents.min.js\" type=\"text/javascript\"></script>\n<link rel=\"import\" href=\"../bower_components/polymer/polymer.html\">\n\n<link rel=\"import\" href=\"../bower_components/core-a11y-keys/core-a11y-keys.html\">\n<link rel=\"import\" href=\"../bower_components/core-ajax/core-ajax.html\">\n<link rel=\"import\" href=\"../bower_components/core-animated-pages/core-animated-pages.html\">\n<link rel=\"import\" href=\"../bower_components/core-animated-pages/transitions/slide-from-right.html\">\n\n<link rel=\"import\" href=\"../bower_components/core-drawer-panel/core-drawer-panel.html\">\n<link rel=\"import\" href=\"../bower_components/core-icon/core-icon.html\">\n<link rel=\"import\" href=\"../bower_components/core-icon-button/core-icon-button.html\">\n<link rel=\"import\" href=\"../bower_components/core-item/core-item.html\">\n<link rel=\"import\" href=\"../bower_components/core-menu/core-menu.html\">\n<link rel=\"import\" href=\"../bower_components/core-scaffold/core-scaffold.html\">\n<link rel=\"import\" href=\"../bower_components/core-toolbar/core-toolbar.html\">\n\n<link rel=\"import\" href=\"../bower_components/font-roboto/roboto.html\">\n\n<link rel=\"import\" href=\"../bower_components/paper-item/paper-item.html\">\n\n```\n\n\u3044\u3056\u4f7f\u3046\u5834\u5408\u306f\u3001\u3001\u305f\u3068\u3048\u3070play framework\u3067\u4f7f\u3046\u305f\u3068\u3059\u308b\u3068\n\n```html:index.scala.html\n@(title: String)(content: Html)\n\n<!DOCTYPE html>\n\n<html>\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes\">\n        <title>@title</title>\n        <link rel=\"import\" href=\"@routes.Assets.at(\"elements/import.html\")\">\n        <link rel=\"import\" href=\"@routes.Assets.at(\"elements/main-menu.html\")\">\n        <link rel=\"stylesheet\" media=\"screen\" href=\"@routes.Assets.at(\"stylesheets/main.css\")\" shim-shadowdom>\n    </head>\n\n<body unresolved fullbleed>\n\t<main-menu>main</main-menu>\n</body>\n</html>\n\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u304b\u306d\u3002\n(\u4e0a\u8a18\u306e\uff12\u30d5\u30a1\u30a4\u30eb\u304cpublic/elements\u306e\u914d\u4e0b\u306b\u3042\u308b\u5834\u5408\uff09\n", "tags": ["Polymer", "WebComponents"]}