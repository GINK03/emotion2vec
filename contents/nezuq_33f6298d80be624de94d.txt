{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nPixiv\u306e\u30bf\u30b0\u691c\u7d22\u7d50\u679c\u304b\u3089\u3001MeCab\u306e\u8f9e\u66f8\u3092\u751f\u6210\u30fb\u9069\u7528\u3059\u308b\u3002\n\u7279\u5b9a\u7528\u9014\u306b\u7279\u5316\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u30de\u30a4\u30cb\u30f3\u30b0\u3092\u3059\u308b\u306a\u3089\u3001\u3042\u308a\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\u30d4\u30af\u30b7\u30d6\u767e\u79d1\u4e8b\u5178\u306b\u307e\u3060\u8f09\u3063\u3066\u3044\u306a\u3044\u30bf\u30b0\u3082\u53d6\u308c\u308b\u3002\n\u3000\u203b\u5b9f\u884c\u74b0\u5883\u306fLinuxMint13(Ubuntu12.04 LTS)\u3067\u3059\u3002\n\n\u65b9\u6cd5\n\n01.Pixiv\u691c\u7d22\u7d50\u679c\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3002\n-> Pixiv\u691c\u7d22\u7d50\u679c\u3092CSV\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308bHTML\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u305f\n\n02.\u53d6\u5f97\u30c7\u30fc\u30bf\u3068\u540c\u3058\u968e\u5c64\u306b\u4e0b\u8a18Ruby\u30b3\u30fc\u30c9\u3092\u914d\u7f6e\u3059\u308b\u3002\n\u203b\u53d6\u5f97\u30c7\u30fc\u30bf\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306f\u300cINPUT.csv\u300d\u306b\u3059\u308b\u3053\u3068\u3002\n\npxcsv2mecab.rb\n# coding: UTF-8\n\nrequire 'csv'\n\n#\u3057\u304d\u3044\u5024\uff08\u51fa\u73fe\u56de\u6570\u304c\u6307\u5b9a\u7bc4\u56f2\u5916\u306e\u30bf\u30b0\u306f\u51fa\u529b\u3057\u306a\u3044\uff09\nMIN_COUNT = ARGV[0] || 3\n#\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d\nINPUT_CSV = ARGV[1] || 'INPUT.csv'\n#\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d\nOUTPUT_CSV = ARGV[2] || 'pixiv.csv'\n#\u8868\u793a\u3057\u306a\u3044\u30bf\u30b0\u306e\u30d1\u30bf\u30fc\u30f3\nUNDISP_KEYPATTERN = Regexp.new (ARGV[3] || \"\u6f2b\u753b|\u843d\u66f8\u304d\")\n\nh = {}\nh.default = 0\nCSV.foreach(INPUT_CSV, encoding: \"UTF-8\") do |row|\n    row[13].split(' ').each do |item|\n        h[item.downcase] += 1\n    end\nend\n\nCSV.open(OUTPUT_CSV, \"wb\") do |csv|\n    h.sort_by{|key, cnt|\n        -cnt\n    }.each do |set|\n        break if (set[1] < MIN_COUNT)\n        next if (set[0] =~ UNDISP_KEYPATTERN)\n        word = set[0]\n        cost = [-32768, (6000 - 200 *(word.length**1.3))].max.to_i\n        csv << [word,0,0,cost,'\u540d\u8a5e','\u4e00\u822c','*','*','*','*',word,'*','*','pixiv']\n    end\nend\n\nputs 'end!'\n\n\n\u203b\u30b3\u30b9\u30c8\u8a08\u7b97\u65b9\u6cd5\u306f\u3053\u3061\u3089\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3063\u305f\u3002\n\n03.Ruby\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\nruby pxcsv2mecab.rb\n\n\u203bpixiv.csv\u304c\u540c\u968e\u5c64\u306b\u51fa\u529b\u3055\u308c\u308b\u3002\n\n04.MeCab\u306e\u8f9e\u66f8\u3092\u751f\u6210\u30fb\u9069\u7528\u3059\u308b\u3002\n\u51fa\u529b\u3057\u305fCSV\u3092\u4f7f\u3044\u3001MeCab: \u5358\u8a9e\u306e\u8ffd\u52a0\u65b9\u6cd5\u306e\u300c\u30e6\u30fc\u30b6\u8f9e\u66f8\u3078\u306e\u8ffd\u52a0\u300d\u3092\u5b9f\u884c\u3057\u305f\u3002\n\u305f\u3060\u3057\u3001\u8f9e\u66f8\u751f\u6210\u30b3\u30de\u30f3\u30c9\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u305f\u3002\n\n/usr/local/libexec/mecab/mecab-dict-index -d/usr/local/lib/mecab/dic/ipadic -u pixiv.dic -f utf-8 -t utf-8 pixiv.csv\n\n\n\u7d50\u679c\n\u306b\u3053\u307e\u304d\u306f\u3001\u30e9\u30d6\u30e9\u30a4\u30d6!\u306e\u77e2\u6fa4\u306b\u3053\u3068\u897f\u6728\u91ce\u771f\u59eb\u306e\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0\u3067\u3059\u3002\n\u306b\u3053\u307e\u304d    \u540d\u8a5e,\u4e00\u822c,,,,,\u306b\u3053\u307e\u304d,,,pixiv\n\u306f \u52a9\u8a5e,\u4fc2\u52a9\u8a5e,,,,,\u306f,\u30cf,\u30ef\n\u3001 \u8a18\u53f7,\u8aad\u70b9,,,,,\u3001,\u3001,\u3001\n\u30e9\u30d6\u30e9\u30a4\u30d6!    \u540d\u8a5e,\u4e00\u822c,,,,,\u30e9\u30d6\u30e9\u30a4\u30d6!,,,pixiv\n\u306e \u52a9\u8a5e,\u9023\u4f53\u5316,,,,,\u306e,\u30ce,\u30ce\n\u77e2\u6fa4\u306b\u3053    \u540d\u8a5e,\u4e00\u822c,,,,,\u77e2\u6fa4\u306b\u3053,,,pixiv\n\u3068 \u30d5\u30a3\u30e9\u30fc,,,,,,\u3068,\u30c8,\u30c8\n\u897f\u6728\u91ce\u771f\u59eb \u540d\u8a5e,\u4e00\u822c,,,,,\u897f\u6728\u91ce\u771f\u59eb,,,pixiv\n\u306e \u52a9\u8a5e,\u9023\u4f53\u5316,,,,,\u306e,\u30ce,\u30ce\n\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0  \u540d\u8a5e,\u4e00\u822c,,,,,\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0,\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0,\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0\n\u3067\u3059  \u52a9\u52d5\u8a5e,,,,\u7279\u6b8a\u30fb\u30c7\u30b9,\u57fa\u672c\u5f62,\u3067\u3059,\u30c7\u30b9,\u30c7\u30b9\n\u3002 \u8a18\u53f7,\u53e5\u70b9,,,,,\u3002,\u3002,\u3002\nEOS\n\n\u611f\u60f3\n\u30e9\u30d6\u30e9\u30a4\u30d6\u767e\u5408SS\u5185\u3067\u306f\u3001\n\u306b\u3053\u3061\u3083\u3093\u30fb\u307e\u304d\u3061\u3083\u3093\u30fb\u3048\u308a\u3061\u30fb\u306e\u3093\u305f\u3093\u7b49\u306e\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u304c\u591a\u7528\u3055\u308c\u308b\u3002\nSS\u306e\u30c6\u30ad\u30b9\u30c8\u30de\u30a4\u30cb\u30f3\u30b0\u3059\u308b\u306a\u3089\u3001\u3053\u3093\u306a\u3093\u3058\u3083\u7518\u3044\u3088\uff08\u68d2\u8aad\u307f\uff09\nTwitter\u306e\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u96c6\u3081\u306a\u304d\u3083\u2026\u2026\uff08\u4f7f\u547d\u611f\uff09\n#\u6982\u8981\n[Pixiv](http://www.pixiv.net)\u306e\u30bf\u30b0\u691c\u7d22\u7d50\u679c\u304b\u3089\u3001[MeCab](http://mecab.googlecode.com/svn/trunk/mecab/doc/index.html)\u306e\u8f9e\u66f8\u3092\u751f\u6210\u30fb\u9069\u7528\u3059\u308b\u3002\n\u7279\u5b9a\u7528\u9014\u306b\u7279\u5316\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u30de\u30a4\u30cb\u30f3\u30b0\u3092\u3059\u308b\u306a\u3089\u3001\u3042\u308a\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n[\u30d4\u30af\u30b7\u30d6\u767e\u79d1\u4e8b\u5178](http://dic.pixiv.net/)\u306b\u307e\u3060\u8f09\u3063\u3066\u3044\u306a\u3044\u30bf\u30b0\u3082\u53d6\u308c\u308b\u3002\n\u3000\u203b\u5b9f\u884c\u74b0\u5883\u306fLinuxMint13(Ubuntu12.04 LTS)\u3067\u3059\u3002\n\n#\u65b9\u6cd5\n##01.Pixiv\u691c\u7d22\u7d50\u679c\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3002\n[-> Pixiv\u691c\u7d22\u7d50\u679c\u3092CSV\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308bHTML\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u305f](http://qiita.com/nezuq/items/55800d55c03606e0b13c)\n\n##02.\u53d6\u5f97\u30c7\u30fc\u30bf\u3068\u540c\u3058\u968e\u5c64\u306b\u4e0b\u8a18Ruby\u30b3\u30fc\u30c9\u3092\u914d\u7f6e\u3059\u308b\u3002\n  \u203b\u53d6\u5f97\u30c7\u30fc\u30bf\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306f\u300cINPUT.csv\u300d\u306b\u3059\u308b\u3053\u3068\u3002\n\n```rb:pxcsv2mecab.rb\n# coding: UTF-8\n\nrequire 'csv'\n\n#\u3057\u304d\u3044\u5024\uff08\u51fa\u73fe\u56de\u6570\u304c\u6307\u5b9a\u7bc4\u56f2\u5916\u306e\u30bf\u30b0\u306f\u51fa\u529b\u3057\u306a\u3044\uff09\nMIN_COUNT = ARGV[0] || 3\n#\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d\nINPUT_CSV = ARGV[1] || 'INPUT.csv'\n#\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d\nOUTPUT_CSV = ARGV[2] || 'pixiv.csv'\n#\u8868\u793a\u3057\u306a\u3044\u30bf\u30b0\u306e\u30d1\u30bf\u30fc\u30f3\nUNDISP_KEYPATTERN = Regexp.new (ARGV[3] || \"\u6f2b\u753b|\u843d\u66f8\u304d\")\n\nh = {}\nh.default = 0\nCSV.foreach(INPUT_CSV, encoding: \"UTF-8\") do |row|\n    row[13].split(' ').each do |item|\n        h[item.downcase] += 1\n    end\nend\n\nCSV.open(OUTPUT_CSV, \"wb\") do |csv|\n    h.sort_by{|key, cnt|\n        -cnt\n    }.each do |set|\n        break if (set[1] < MIN_COUNT)\n        next if (set[0] =~ UNDISP_KEYPATTERN)\n        word = set[0]\n        cost = [-32768, (6000 - 200 *(word.length**1.3))].max.to_i\n        csv << [word,0,0,cost,'\u540d\u8a5e','\u4e00\u822c','*','*','*','*',word,'*','*','pixiv']\n    end\nend\n\nputs 'end!'\n```\n\u203b\u30b3\u30b9\u30c8\u8a08\u7b97\u65b9\u6cd5\u306f[\u3053\u3061\u3089\u306e\u30b5\u30a4\u30c8](http://yu8star.blog9.fc2.com/blog-entry-16.html)\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3063\u305f\u3002\n\n##03.Ruby\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\n```\nruby pxcsv2mecab.rb\n```\n\u203bpixiv.csv\u304c\u540c\u968e\u5c64\u306b\u51fa\u529b\u3055\u308c\u308b\u3002\n\n##04.MeCab\u306e\u8f9e\u66f8\u3092\u751f\u6210\u30fb\u9069\u7528\u3059\u308b\u3002\n\u51fa\u529b\u3057\u305fCSV\u3092\u4f7f\u3044\u3001[MeCab: \u5358\u8a9e\u306e\u8ffd\u52a0\u65b9\u6cd5](http://mecab.googlecode.com/svn/trunk/mecab/doc/dic.html)\u306e\u300c\u30e6\u30fc\u30b6\u8f9e\u66f8\u3078\u306e\u8ffd\u52a0\u300d\u3092\u5b9f\u884c\u3057\u305f\u3002\n\u305f\u3060\u3057\u3001\u8f9e\u66f8\u751f\u6210\u30b3\u30de\u30f3\u30c9\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u305f\u3002\n```\n/usr/local/libexec/mecab/mecab-dict-index -d/usr/local/lib/mecab/dic/ipadic -u pixiv.dic -f utf-8 -t utf-8 pixiv.csv\n```\n\n#\u7d50\u679c\n\u306b\u3053\u307e\u304d\u306f\u3001\u30e9\u30d6\u30e9\u30a4\u30d6!\u306e\u77e2\u6fa4\u306b\u3053\u3068\u897f\u6728\u91ce\u771f\u59eb\u306e\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0\u3067\u3059\u3002\n\u306b\u3053\u307e\u304d\t\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u306b\u3053\u307e\u304d,*,*,pixiv\n\u306f\t\u52a9\u8a5e,\u4fc2\u52a9\u8a5e,*,*,*,*,\u306f,\u30cf,\u30ef\n\u3001\t\u8a18\u53f7,\u8aad\u70b9,*,*,*,*,\u3001,\u3001,\u3001\n\u30e9\u30d6\u30e9\u30a4\u30d6!\t\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u30e9\u30d6\u30e9\u30a4\u30d6!,*,*,pixiv\n\u306e\t\u52a9\u8a5e,\u9023\u4f53\u5316,*,*,*,*,\u306e,\u30ce,\u30ce\n\u77e2\u6fa4\u306b\u3053\t\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u77e2\u6fa4\u306b\u3053,*,*,pixiv\n\u3068\t\u30d5\u30a3\u30e9\u30fc,*,*,*,*,*,\u3068,\u30c8,\u30c8\n\u897f\u6728\u91ce\u771f\u59eb\t\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u897f\u6728\u91ce\u771f\u59eb,*,*,pixiv\n\u306e\t\u52a9\u8a5e,\u9023\u4f53\u5316,*,*,*,*,\u306e,\u30ce,\u30ce\n\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0\t\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0,\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0,\u30ab\u30c3\u30d7\u30ea\u30f3\u30b0\n\u3067\u3059\t\u52a9\u52d5\u8a5e,*,*,*,\u7279\u6b8a\u30fb\u30c7\u30b9,\u57fa\u672c\u5f62,\u3067\u3059,\u30c7\u30b9,\u30c7\u30b9\n\u3002\t\u8a18\u53f7,\u53e5\u70b9,*,*,*,*,\u3002,\u3002,\u3002\nEOS\n\n\n#\u611f\u60f3\n\u30e9\u30d6\u30e9\u30a4\u30d6\u767e\u5408SS\u5185\u3067\u306f\u3001\n\u306b\u3053\u3061\u3083\u3093\u30fb\u307e\u304d\u3061\u3083\u3093\u30fb\u3048\u308a\u3061\u30fb\u306e\u3093\u305f\u3093\u7b49\u306e\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u304c\u591a\u7528\u3055\u308c\u308b\u3002\nSS\u306e\u30c6\u30ad\u30b9\u30c8\u30de\u30a4\u30cb\u30f3\u30b0\u3059\u308b\u306a\u3089\u3001\u3053\u3093\u306a\u3093\u3058\u3083\u7518\u3044\u3088\uff08\u68d2\u8aad\u307f\uff09\nTwitter\u306e\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u96c6\u3081\u306a\u304d\u3083\u2026\u2026\uff08\u4f7f\u547d\u611f\uff09\n", "tags": ["Ruby1.9.3", "mecab", "\u81ea\u7136\u8a00\u8a9e\u51e6\u7406", "pixiv", "Pixiv\u7d71\u8a08\u30b7\u30ea\u30fc\u30ba"]}