{"context": "debian jessie\u306emain\u30ec\u30dd\u30b8\u30c8\u30ea\u306b\u5165\u3063\u3066\u3044\u308blibav-11.7\u3067\u306e\u8a2d\u5b9a\u4f8b\u3067\u3059\u3002\nffmpeg\u3067\u3082\u6d41\u7528\u3067\u304d\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u53c2\u7167 https://libav.org/documentation/avprobe.html#Stream-specifiers-1\n\nTL;DR\n\nSID\u5358\u4f4d\u3067Stream\u3092\u5206\u96e2\ndata stream\u306e\u9664\u53bb\n\u518d\u30a8\u30f3\u30b3\u30fc\u30c9\u306f\u884c\u308f\u306a\u3044\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306a\u3053\u3068\u3092\u884c\u3046\u30b9\u30af\u30ea\u30d7\u30c8\n#!/bin/sh\nSID=\"$1\"\nINPUT=\"$2\"\nOUTPUT=\"$3\"\nexec avconv -i \"$INPUT\" -map p:\"$SID\" -map -d -codec copy \"$OUTPUT\"\n\n\navprobe\n\u5909\u63db\u524d\n$ avprobe 'hoge.ts'\navprobe version 11.7-6:11.7-1~deb8u1, Copyright (c) 2007-2016 the Libav developers\n  built on Jun 12 2016 21:51:35 with gcc 4.9.2 (Debian 4.9.2-10)\nInput #0, mpegts, from 'hoge.m2ts':\n  Duration: 00:30:00.95, start: 15279.402967, bitrate: 14618 kb/s\n  Program 23608\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592!!\u2592\u0631\n      service_provider:\n    Stream #0.0[0x111]: Video: mpeg2video (Main), yuv420p, 1440x1080 [PAR 4:3 DAR 16:9], 20000 kb/s, 29.97 fps, 90k tbn, 59.94 tbc\n    Stream #0.1[0x112]: Audio: aac, 48000 Hz, stereo, fltp, 243 kb/s\n    Stream #0.2[0x740]: Data: [13][0][0][0] / 0x000D\n    Stream #0.3[0x750]: Data: [13][0][0][0] / 0x000D\n    Stream #0.4[0x751]: Data: [13][0][0][0] / 0x000D\n    Stream #0.5[0x752]: Data: [13][0][0][0] / 0x000D\n    Stream #0.6[0x960]: Data: [13][0][0][0] / 0x000D\n    Stream #0.7[0x961]: Data: [13][0][0][0] / 0x000D\n    Stream #0.8[0x75e]: Data: [13][0][0][0] / 0x000D\n    Stream #0.9[0x75f]: Data: [13][0][0][0] / 0x000D\n    Stream #0.10[0x96e]: Data: [13][0][0][0] / 0x000D\n  Program 23610\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592!!\u2592\u0632\n      service_provider:\n    Stream #0.12[0x131]: Video: mpeg2video (Main), yuv420p, 720x480 [PAR 32:27 DAR 16:9], 15000 kb/s, 29.97 fps, 90k tbn, 59.94 tbc\n    Stream #0.11[0x132]: Audio: aac, 48000 Hz, stereo, fltp, 255 kb/s\n    Stream #0.13[0x840]: Data: [13][0][0][0] / 0x000D\n    Stream #0.3[0x750]: Data: [13][0][0][0] / 0x000D\n    Stream #0.4[0x751]: Data: [13][0][0][0] / 0x000D\n    Stream #0.5[0x752]: Data: [13][0][0][0] / 0x000D\n    Stream #0.6[0x960]: Data: [13][0][0][0] / 0x000D\n    Stream #0.7[0x961]: Data: [13][0][0][0] / 0x000D\n    Stream #0.14[0x85e]: Data: [13][0][0][0] / 0x000D\n    Stream #0.15[0x85f]: Data: [13][0][0][0] / 0x000D\n    Stream #0.10[0x96e]: Data: [13][0][0][0] / 0x000D\n  Program 23609\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592!!\u2592\u0631\n      service_provider:\n    Stream #0.0[0x111]: Video: mpeg2video (Main), yuv420p, 1440x1080 [PAR 4:3 DAR 16:9], 20000 kb/s, 29.97 fps, 90k tbn, 59.94 tbc\n    Stream #0.1[0x112]: Audio: aac, 48000 Hz, stereo, fltp, 243 kb/s\n    Stream #0.2[0x740]: Data: [13][0][0][0] / 0x000D\n    Stream #0.3[0x750]: Data: [13][0][0][0] / 0x000D\n    Stream #0.4[0x751]: Data: [13][0][0][0] / 0x000D\n    Stream #0.5[0x752]: Data: [13][0][0][0] / 0x000D\n    Stream #0.6[0x960]: Data: [13][0][0][0] / 0x000D\n    Stream #0.7[0x961]: Data: [13][0][0][0] / 0x000D\n    Stream #0.8[0x75e]: Data: [13][0][0][0] / 0x000D\n    Stream #0.9[0x75f]: Data: [13][0][0][0] / 0x000D\n    Stream #0.10[0x96e]: Data: [13][0][0][0] / 0x000D\n  Program 23992\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592\n      service_provider:\n    Stream #0.17[0x281]: Video: h264 (Constrained Baseline), yuv420p, 320x180, 10 fps, 90k tbn, 29.97 tbc\n    Stream #0.16[0x283]: Audio: aac, 48000 Hz, stereo, fltp, 30 kb/s\n    Stream #0.18[0x780]: Data: [13][0][0][0] / 0x000D\n    Stream #0.19[0x789]: Data: [13][0][0][0] / 0x000D\n    Stream #0.20[0x98a]: Data: [13][0][0][0] / 0x000D\n    Stream #0.21[0x98b]: Data: [13][0][0][0] / 0x000D\n  Program 23993\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592\n      service_provider:\n    Stream #0.22[0x381]: Video: h264 (Constrained Baseline), yuv420p, 320x180, 14.99 fps, 90k tbn, 29.97 tbc\n    Stream #0.23[0x383]: Audio: aac, 48000 Hz, stereo, fltp, 29 kb/s\n    Stream #0.24[0x880]: Data: [13][0][0][0] / 0x000D\n    Stream #0.25[0x889]: Data: [13][0][0][0] / 0x000D\n    Stream #0.20[0x98a]: Data: [13][0][0][0] / 0x000D\n    Stream #0.21[0x98b]: Data: [13][0][0][0] / 0x000D\n  Program 23615\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592!!\u2592\u2592NW;~\n      service_provider:\nUnsupported codec with id 0 for input stream 2\nUnsupported codec with id 0 for input stream 3\nUnsupported codec with id 0 for input stream 4\nUnsupported codec with id 0 for input stream 5\nUnsupported codec with id 0 for input stream 6\nUnsupported codec with id 0 for input stream 7\nUnsupported codec with id 0 for input stream 8\nUnsupported codec with id 0 for input stream 9\nUnsupported codec with id 0 for input stream 10\nUnsupported codec with id 0 for input stream 13\nUnsupported codec with id 0 for input stream 14\nUnsupported codec with id 0 for input stream 15\nUnsupported codec with id 0 for input stream 18\nUnsupported codec with id 0 for input stream 19\nUnsupported codec with id 0 for input stream 20\nUnsupported codec with id 0 for input stream 21\nUnsupported codec with id 0 for input stream 24\nUnsupported codec with id 0 for input stream 25\n# avprobe output\n\nSID:23608\u3092\u53d6\u308a\u51fa\u3057\u30c7\u30fc\u30bfstream\u3092\u9664\u53bb\u3059\u308b\n\u5909\u63db\u5f8c\n$ avprobe fuga.mp4\navprobe version 11.7-6:11.7-1~deb8u1, Copyright (c) 2007-2016 the Libav developers\n  built on Jun 12 2016 21:51:35 with gcc 4.9.2 (Debian 4.9.2-10)\n[mov,mp4,m4a,3gp,3g2,mj2 @ 0x8f6d00] multiple edit list entries, a/v desync might occur, patch welcome\n[mov,mp4,m4a,3gp,3g2,mj2 @ 0x8f6d00] multiple edit list entries, a/v desync might occur, patch welcome\n[aac @ 0x8f8660] channel element 3.5 is not allocated\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'fuga.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2mp41\n    encoder         : Lavf56.1.0\n  Duration: 00:30:00.55, start: 0.014000, bitrate: 8601 kb/s\n    Stream #0.0(und): Video: mpeg2video (Main), yuv420p, 1440x1080 [PAR 4:3 DAR 16:9], 20000 kb/s, 29.97 fps, 90k tbn, 59.94 tbc (default)\n    Stream #0.1(und): Audio: aac, 48000 Hz, stereo, fltp, 255 kb/s (default)\n# avprobe output\n\ndebian jessie\u306emain\u30ec\u30dd\u30b8\u30c8\u30ea\u306b\u5165\u3063\u3066\u3044\u308blibav-11.7\u3067\u306e\u8a2d\u5b9a\u4f8b\u3067\u3059\u3002\n\nffmpeg\u3067\u3082\u6d41\u7528\u3067\u304d\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u53c2\u7167 https://libav.org/documentation/avprobe.html#Stream-specifiers-1\n\n# TL;DR\n- SID\u5358\u4f4d\u3067Stream\u3092\u5206\u96e2\n- data stream\u306e\u9664\u53bb\n- \u518d\u30a8\u30f3\u30b3\u30fc\u30c9\u306f\u884c\u308f\u306a\u3044\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306a\u3053\u3068\u3092\u884c\u3046\u30b9\u30af\u30ea\u30d7\u30c8\n\n```bash\n#!/bin/sh\nSID=\"$1\"\nINPUT=\"$2\"\nOUTPUT=\"$3\"\nexec avconv -i \"$INPUT\" -map p:\"$SID\" -map -d -codec copy \"$OUTPUT\"\n```\n\n\n# avprobe\n\n\u5909\u63db\u524d\n\n```bash\n$ avprobe 'hoge.ts'\navprobe version 11.7-6:11.7-1~deb8u1, Copyright (c) 2007-2016 the Libav developers\n  built on Jun 12 2016 21:51:35 with gcc 4.9.2 (Debian 4.9.2-10)\nInput #0, mpegts, from 'hoge.m2ts':\n  Duration: 00:30:00.95, start: 15279.402967, bitrate: 14618 kb/s\n  Program 23608\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592!!\u2592\u0631\n      service_provider:\n    Stream #0.0[0x111]: Video: mpeg2video (Main), yuv420p, 1440x1080 [PAR 4:3 DAR 16:9], 20000 kb/s, 29.97 fps, 90k tbn, 59.94 tbc\n    Stream #0.1[0x112]: Audio: aac, 48000 Hz, stereo, fltp, 243 kb/s\n    Stream #0.2[0x740]: Data: [13][0][0][0] / 0x000D\n    Stream #0.3[0x750]: Data: [13][0][0][0] / 0x000D\n    Stream #0.4[0x751]: Data: [13][0][0][0] / 0x000D\n    Stream #0.5[0x752]: Data: [13][0][0][0] / 0x000D\n    Stream #0.6[0x960]: Data: [13][0][0][0] / 0x000D\n    Stream #0.7[0x961]: Data: [13][0][0][0] / 0x000D\n    Stream #0.8[0x75e]: Data: [13][0][0][0] / 0x000D\n    Stream #0.9[0x75f]: Data: [13][0][0][0] / 0x000D\n    Stream #0.10[0x96e]: Data: [13][0][0][0] / 0x000D\n  Program 23610\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592!!\u2592\u0632\n      service_provider:\n    Stream #0.12[0x131]: Video: mpeg2video (Main), yuv420p, 720x480 [PAR 32:27 DAR 16:9], 15000 kb/s, 29.97 fps, 90k tbn, 59.94 tbc\n    Stream #0.11[0x132]: Audio: aac, 48000 Hz, stereo, fltp, 255 kb/s\n    Stream #0.13[0x840]: Data: [13][0][0][0] / 0x000D\n    Stream #0.3[0x750]: Data: [13][0][0][0] / 0x000D\n    Stream #0.4[0x751]: Data: [13][0][0][0] / 0x000D\n    Stream #0.5[0x752]: Data: [13][0][0][0] / 0x000D\n    Stream #0.6[0x960]: Data: [13][0][0][0] / 0x000D\n    Stream #0.7[0x961]: Data: [13][0][0][0] / 0x000D\n    Stream #0.14[0x85e]: Data: [13][0][0][0] / 0x000D\n    Stream #0.15[0x85f]: Data: [13][0][0][0] / 0x000D\n    Stream #0.10[0x96e]: Data: [13][0][0][0] / 0x000D\n  Program 23609\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592!!\u2592\u0631\n      service_provider:\n    Stream #0.0[0x111]: Video: mpeg2video (Main), yuv420p, 1440x1080 [PAR 4:3 DAR 16:9], 20000 kb/s, 29.97 fps, 90k tbn, 59.94 tbc\n    Stream #0.1[0x112]: Audio: aac, 48000 Hz, stereo, fltp, 243 kb/s\n    Stream #0.2[0x740]: Data: [13][0][0][0] / 0x000D\n    Stream #0.3[0x750]: Data: [13][0][0][0] / 0x000D\n    Stream #0.4[0x751]: Data: [13][0][0][0] / 0x000D\n    Stream #0.5[0x752]: Data: [13][0][0][0] / 0x000D\n    Stream #0.6[0x960]: Data: [13][0][0][0] / 0x000D\n    Stream #0.7[0x961]: Data: [13][0][0][0] / 0x000D\n    Stream #0.8[0x75e]: Data: [13][0][0][0] / 0x000D\n    Stream #0.9[0x75f]: Data: [13][0][0][0] / 0x000D\n    Stream #0.10[0x96e]: Data: [13][0][0][0] / 0x000D\n  Program 23992\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592\n      service_provider:\n    Stream #0.17[0x281]: Video: h264 (Constrained Baseline), yuv420p, 320x180, 10 fps, 90k tbn, 29.97 tbc\n    Stream #0.16[0x283]: Audio: aac, 48000 Hz, stereo, fltp, 30 kb/s\n    Stream #0.18[0x780]: Data: [13][0][0][0] / 0x000D\n    Stream #0.19[0x789]: Data: [13][0][0][0] / 0x000D\n    Stream #0.20[0x98a]: Data: [13][0][0][0] / 0x000D\n    Stream #0.21[0x98b]: Data: [13][0][0][0] / 0x000D\n  Program 23993\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592\n      service_provider:\n    Stream #0.22[0x381]: Video: h264 (Constrained Baseline), yuv420p, 320x180, 14.99 fps, 90k tbn, 29.97 tbc\n    Stream #0.23[0x383]: Audio: aac, 48000 Hz, stereo, fltp, 29 kb/s\n    Stream #0.24[0x880]: Data: [13][0][0][0] / 0x000D\n    Stream #0.25[0x889]: Data: [13][0][0][0] / 0x000D\n    Stream #0.20[0x98a]: Data: [13][0][0][0] / 0x000D\n    Stream #0.21[0x98b]: Data: [13][0][0][0] / 0x000D\n  Program 23615\n    Metadata:\n      service_name    : \u2592\u2592\u2592\u2592\u2592!!\u2592\u2592NW;~\n      service_provider:\nUnsupported codec with id 0 for input stream 2\nUnsupported codec with id 0 for input stream 3\nUnsupported codec with id 0 for input stream 4\nUnsupported codec with id 0 for input stream 5\nUnsupported codec with id 0 for input stream 6\nUnsupported codec with id 0 for input stream 7\nUnsupported codec with id 0 for input stream 8\nUnsupported codec with id 0 for input stream 9\nUnsupported codec with id 0 for input stream 10\nUnsupported codec with id 0 for input stream 13\nUnsupported codec with id 0 for input stream 14\nUnsupported codec with id 0 for input stream 15\nUnsupported codec with id 0 for input stream 18\nUnsupported codec with id 0 for input stream 19\nUnsupported codec with id 0 for input stream 20\nUnsupported codec with id 0 for input stream 21\nUnsupported codec with id 0 for input stream 24\nUnsupported codec with id 0 for input stream 25\n# avprobe output\n```\n\nSID:23608\u3092\u53d6\u308a\u51fa\u3057\u30c7\u30fc\u30bfstream\u3092\u9664\u53bb\u3059\u308b\n\n\n\u5909\u63db\u5f8c\n\n```\n$ avprobe fuga.mp4\navprobe version 11.7-6:11.7-1~deb8u1, Copyright (c) 2007-2016 the Libav developers\n  built on Jun 12 2016 21:51:35 with gcc 4.9.2 (Debian 4.9.2-10)\n[mov,mp4,m4a,3gp,3g2,mj2 @ 0x8f6d00] multiple edit list entries, a/v desync might occur, patch welcome\n[mov,mp4,m4a,3gp,3g2,mj2 @ 0x8f6d00] multiple edit list entries, a/v desync might occur, patch welcome\n[aac @ 0x8f8660] channel element 3.5 is not allocated\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'fuga.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2mp41\n    encoder         : Lavf56.1.0\n  Duration: 00:30:00.55, start: 0.014000, bitrate: 8601 kb/s\n    Stream #0.0(und): Video: mpeg2video (Main), yuv420p, 1440x1080 [PAR 4:3 DAR 16:9], 20000 kb/s, 29.97 fps, 90k tbn, 59.94 tbc (default)\n    Stream #0.1(und): Audio: aac, 48000 Hz, stereo, fltp, 255 kb/s (default)\n# avprobe output\n```\n\n", "tags": ["ffmpeg", "\u5730\u30c7\u30b8", "libav"]}