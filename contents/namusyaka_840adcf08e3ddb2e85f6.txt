{"context": "Ruby\u306b\u306f\u6a19\u6e96\u6dfb\u4ed8\u3067tsort\u304c\u5b58\u5728\u3059\u308b\u304ccrystal\u306b\u306f\u306a\u304b\u3063\u305f\u306e\u3067\u66f8\u3044\u3066\u307f\u305f\u3002\nnamusyaka/crystal-tsort\nRuby\u7248\u3068\u6bd4\u8f03\u3057\u3066full compatible\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u3044\u3002\n\n\u4f7f\u3044\u65b9\n\u7a7a\u914d\u5217\u306b\u5bfe\u3059\u308b\u578b\u306e\u5ba3\u8a00\u304c\u5fc5\u8981\u306a\u70b9\u3068alias\u304c\u306a\u3044\u70b9\u4ee5\u5916\u306f\u3001\u307b\u307c\u305d\u306e\u307e\u307eRuby\u306e\u4f8b\u3092\u4f7f\u3048\u308b\u3002\n\ntsort\n\nrequire \"tsort\"\n\nclass Hash\n  include TSort\n\n  def tsort_each_node(&block)\n    each_key do |key|\n      yield key\n    end\n  end\n\n  def tsort_each_child(node, &block)\n    fetch(node).each do |value|\n      yield value\n    end\n  end\nend\n\nsorted = {1=>[2, 3], 2=>[3], 3=>[] of Int32, 4=>[] of Int32}.tsort\np sorted #=> [3, 2, 1, 4]\n\n\neach_strongly_connected_component\n\nrequire \"tsort\"\n\nclass Hash\n  include TSort\n\n  def tsort_each_node(&block)\n    each_key do |key|\n      yield key\n    end\n  end\n\n  def tsort_each_child(node, &block)\n    fetch(node).each do |value|\n      yield value\n    end\n  end\nend\n\nnon_sort = {1=>[2], 2=>[3, 4], 3=>[2], 4=>[] of Int32}\n\nnon_sort.each_strongly_connected_component { |nodes| p nodes } #=>\n# [4]\n# [2, 3]\n# [1]\n\n\nstrongly_connected_components\n\nrequire \"tsort\"\n\nclass Hash\n  include TSort\n\n  def tsort_each_node(&block)\n    each_key do |key|\n      yield key\n    end\n  end\n\n  def tsort_each_child(node, &block)\n    fetch(node).each do |value|\n      yield value\n    end\n  end\nend\n\nnon_sort = {1=>[2], 2=>[3, 4], 3=>[2], 4=>[] of Int32}\n\np non_sort.strongly_connected_components\n#=> [[4], [2, 3], [1]]\n\n\ntsort_each\n\nrequire \"tsort\"\n\nclass Hash\n  include TSort\n\n  def tsort_each_node(&block)\n    each_key do |key|\n      yield key\n    end\n  end\n\n  def tsort_each_child(node, &block)\n    fetch(node).each do |value|\n      yield value\n    end\n  end\nend\n\nnon_sort = {1=>[2, 3], 2=>[3], 3=>[] of Int32, 4=>[] of Int32}\n\nnon_sort.tsort_each do |node|\n  non_sort.tsort_each_child(node) do |child|\n    printf(\"%d -> %d\\n\", node, child)\n  end\nend\n\n# \u51fa\u529b\n# 2 -> 3\n# 1 -> 2\n# 1 -> 3\n\n\n\u6240\u611f\n\u66f8\u3044\u305f\u3063\u304d\u308a\u305d\u306e\u307e\u307e\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u7d39\u4ecb\u3057\u3066\u307f\u305f\u6b21\u7b2c\u3002\n(Crystal\u306b\u5bfe\u3057\u3066)\u307e\u3060\u307e\u3060\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u306f\u672a\u719f\u3060\u3057\u3001\u958b\u767a\u306b\u4ed8\u968f\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u30fb\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u8db3\u308a\u306a\u3044\u72b6\u6cc1\u306a\u306e\u3067\u3001\u6295\u8cc7\u5148\u3068\u3057\u3066\u306e\u30cf\u30fc\u30c9\u30eb\u306f\u4f4e\u3044\u3068\u601d\u3046\u3002\u3084\u308c\u308b\u3053\u3068\u306f\u591a\u3044\u3002\n\u307e\u305a\u306f\u81ea\u5206\u304c\u3053\u306e\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306e\u30b3\u30a2\u958b\u767a\u8005\u306b\u306a\u3063\u3066\u3084\u308b\u3001\u304f\u3089\u3044\u306e\u6c17\u6982\u3067\u98db\u3073\u8fbc\u3093\u3067\u3044\u304f\u3068\u826f\u3055\u305d\u3046\u3002\nRuby\u306b\u306f\u6a19\u6e96\u6dfb\u4ed8\u3067tsort\u304c\u5b58\u5728\u3059\u308b\u304ccrystal\u306b\u306f\u306a\u304b\u3063\u305f\u306e\u3067\u66f8\u3044\u3066\u307f\u305f\u3002\n[namusyaka/crystal-tsort](https://github.com/namusyaka/crystal-tsort)\n\n**Ruby\u7248\u3068\u6bd4\u8f03\u3057\u3066full compatible\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u3044\u3002**\n\n## \u4f7f\u3044\u65b9\n\n\u7a7a\u914d\u5217\u306b\u5bfe\u3059\u308b\u578b\u306e\u5ba3\u8a00\u304c\u5fc5\u8981\u306a\u70b9\u3068`alias`\u304c\u306a\u3044\u70b9\u4ee5\u5916\u306f\u3001\u307b\u307c\u305d\u306e\u307e\u307eRuby\u306e\u4f8b\u3092\u4f7f\u3048\u308b\u3002\n\n### `tsort`\n\n```ruby\nrequire \"tsort\"\n\nclass Hash\n  include TSort\n\n  def tsort_each_node(&block)\n    each_key do |key|\n      yield key\n    end\n  end\n\n  def tsort_each_child(node, &block)\n    fetch(node).each do |value|\n      yield value\n    end\n  end\nend\n\nsorted = {1=>[2, 3], 2=>[3], 3=>[] of Int32, 4=>[] of Int32}.tsort\np sorted #=> [3, 2, 1, 4]\n```\n\n### `each_strongly_connected_component`\n\n```ruby\nrequire \"tsort\"\n\nclass Hash\n  include TSort\n\n  def tsort_each_node(&block)\n    each_key do |key|\n      yield key\n    end\n  end\n\n  def tsort_each_child(node, &block)\n    fetch(node).each do |value|\n      yield value\n    end\n  end\nend\n\nnon_sort = {1=>[2], 2=>[3, 4], 3=>[2], 4=>[] of Int32}\n\nnon_sort.each_strongly_connected_component { |nodes| p nodes } #=>\n# [4]\n# [2, 3]\n# [1]\n```\n\n### `strongly_connected_components`\n\n```ruby\nrequire \"tsort\"\n\nclass Hash\n  include TSort\n\n  def tsort_each_node(&block)\n    each_key do |key|\n      yield key\n    end\n  end\n\n  def tsort_each_child(node, &block)\n    fetch(node).each do |value|\n      yield value\n    end\n  end\nend\n\nnon_sort = {1=>[2], 2=>[3, 4], 3=>[2], 4=>[] of Int32}\n\np non_sort.strongly_connected_components\n#=> [[4], [2, 3], [1]]\n```\n\n### `tsort_each`\n\n```ruby\nrequire \"tsort\"\n\nclass Hash\n  include TSort\n\n  def tsort_each_node(&block)\n    each_key do |key|\n      yield key\n    end\n  end\n\n  def tsort_each_child(node, &block)\n    fetch(node).each do |value|\n      yield value\n    end\n  end\nend\n\nnon_sort = {1=>[2, 3], 2=>[3], 3=>[] of Int32, 4=>[] of Int32}\n\nnon_sort.tsort_each do |node|\n  non_sort.tsort_each_child(node) do |child|\n    printf(\"%d -> %d\\n\", node, child)\n  end\nend\n\n# \u51fa\u529b\n# 2 -> 3\n# 1 -> 2\n# 1 -> 3\n```\n\n## \u6240\u611f\n\n\u66f8\u3044\u305f\u3063\u304d\u308a\u305d\u306e\u307e\u307e\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u7d39\u4ecb\u3057\u3066\u307f\u305f\u6b21\u7b2c\u3002\n(Crystal\u306b\u5bfe\u3057\u3066)\u307e\u3060\u307e\u3060\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u306f\u672a\u719f\u3060\u3057\u3001\u958b\u767a\u306b\u4ed8\u968f\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u30fb\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u8db3\u308a\u306a\u3044\u72b6\u6cc1\u306a\u306e\u3067\u3001\u6295\u8cc7\u5148\u3068\u3057\u3066\u306e\u30cf\u30fc\u30c9\u30eb\u306f\u4f4e\u3044\u3068\u601d\u3046\u3002\u3084\u308c\u308b\u3053\u3068\u306f\u591a\u3044\u3002\n\u307e\u305a\u306f\u81ea\u5206\u304c\u3053\u306e\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306e\u30b3\u30a2\u958b\u767a\u8005\u306b\u306a\u3063\u3066\u3084\u308b\u3001\u304f\u3089\u3044\u306e\u6c17\u6982\u3067\u98db\u3073\u8fbc\u3093\u3067\u3044\u304f\u3068\u826f\u3055\u305d\u3046\u3002\n", "tags": ["crystal"]}