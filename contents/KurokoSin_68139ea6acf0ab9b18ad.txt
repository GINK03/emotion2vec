{"context": "\u904e\u53bb\u8a18\u4e8b\uff1aCentOS 6.3 \u306b MariaDB \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u6982\u8981\nRaspberry Pi Model 3\u3000\u3092\u81ea\u5b85\u30b5\u30fc\u30d0\u5316\u3059\u3079\u304fMariaDB\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nOS\u304c\u5909\u308f\u3063\u3066\u3082\u3084\u308b\u3053\u3068\u306f\u540c\u3058\u3067\u3059\u306e\u3067\u3001\n\u57fa\u672c\u7684\u306b\u306f\u4ee5\u524d\u306b\u81ea\u5206\u304c\u66f8\u3044\u305f\u8a18\u4e8b\u306e\u713c\u304d\u76f4\u3057\u3067\u3059\u3002\n\u203b\u5b9f\u969b\u306b\u3084\u308a\u306a\u304c\u3089\u66f8\u3044\u3066\u304a\u308a\u3001\u30b0\u30c0\u30b0\u30c0\u306a\u72b6\u6cc1\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u3000\u3044\u3064\u304b\u6574\u7406\u3057\u3066\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n\n\u74b0\u5883\n\u4e3b\u306b\u4e0b\u8a18\u306e\u69d8\u306a\u74b0\u5883\u3067\u884c\u306a\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\n\n\n\u30bd\u30d5\u30c8\u3000\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nOS\nRaspbian\nJessi Lite\n\n\nDB\nMariaDB\n10.1.22\n\n\n\nCMake\n3.7.2\n\n\n\nporg\n0.10\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u65b9\u91dd\n\nMariaDB\u7528\u306e\u30a2\u30ab\u30a6\u30f3\u30c8(mariadb:MariaDB)\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306f/opt/mariaDB\u914d\u4e0b\u3068\u3059\u308b\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u51fa\u529b\u5148\u3082/opt/mariaDB/data \u914d\u4e0b\u3068\u3059\u308b\u3002\nporg\u306b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u914d\u7f6e\u3057\u305f\u30bd\u30d5\u30c8\u3092\u7ba1\u7406\u3059\u308b\u3002\n\n\n\u6e96\u5099\n\nCMake\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306fCMake\u304c\u5fc5\u8981\u306b\u306a\u308b\u3002\n\u3053\u3061\u3089\uff08\u81ea\u5206\u306e\u904e\u53bb\u8a18\u4e8b\uff09\u3092\u53c2\u8003\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30b7\u30b9\u30c6\u30e0\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\n\n\u30b7\u30b9\u30c6\u30e0\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\n$ sudo bash\n$ groupadd -r MariaDB\n$ useradd -r -g MariaDB -d /opt/mariaDB -s /usr/sbin/nologin mariadb\n$ mkdir /opt/mariaDB\n$ chown mariadb:MariaDB /opt/mariaDB\n$ exit\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u307e\u305a\u30bd\u30fc\u30b9\u3092GitHub\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nGithub\u306eURI\u3068\u4f5c\u6210\u3057\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u304c\u9055\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u6700\u5f8c\u306b\u8a18\u8ff0\u3057\u307e\u3059\u30021\n\u305d\u306e\u5f8c\u3001cmake\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u30bd\u30fc\u30b9\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6e96\u5099\n$ git clone https://github.com/MariaDB/server.git /home/pi/MariaDB-10.1\n$ cd MariaDB-10.1\n$ cmake .\n\n\n\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n-- Running cmake version 3.7.2\n-- The C compiler identification is GNU 4.9.2\n-- The CXX compiler identification is GNU 4.9.2\n-- Check for working C compiler: /usr/bin/cc\n-- Check for working C compiler: /usr/bin/cc -- works\n:\n:\n-- Packaging as: mariadb-10.1.22-Linux-armv7l\n-- Performing Test HAVE_VISIBILITY_HIDDEN\n:\n:\n-- Could NOT find Curses (missing:  CURSES_LIBRARY CURSES_INCLUDE_PATH)\nCMake Error at cmake/readline.cmake:85 (MESSAGE):\n  Curses library not found.  Please install appropriate package,\n\n      remove CMakeCache.txt and rerun cmake.On Debian/Ubuntu, package name is libncurses5-dev, on Redhat and derivates it is ncurses-devel.\nCall Stack (most recent call first):\n  cmake/readline.cmake:196 (FIND_CURSES)\n  CMakeLists.txt:338 (MYSQL_CHECK_READLINE)\n\n-- Configuring incomplete, errors occurred!\nSee also \"/home/pi/MariaDB-10.2/CMakeFiles/CMakeOutput.log\".\nSee also \"/home/pi/MariaDB-10.2/CMakeFiles/CMakeError.log\".\n\nCurses\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u7121\u304b\u3063\u305f\u305d\u3046\u3067\u30a8\u30e9\u30fc\u3092\u51fa\u3057\u305f\u69d8\u3067\u3059\u3002\n\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u3066\u304b\u3089\u3001\u30ed\u30b0\u306b\u5f93\u3063\u3066\u3000CMakeCache.txt \u3092\u6d88\u3057\u3066\u3084\u308a\u76f4\u3057\u307e\u3059\u3002\n$ sudo apt-get install ncurses-dev\n$ rm CMakeCache.txt\n$ cmake .\n\n\u6b21\u306fbison\u304c\u7121\u3044\u3068\u8b66\u544a\u304c\u51fa\u307e\u3057\u305f\u3002\n:\n:\nWarning: Bison executable not found in PATH\nCMake Error at cmake/bison.cmake:78 (MESSAGE):\n  Bison (GNU parser generator) is required to build MySQL.Please install\n  bison.\nCall Stack (most recent call first):\n  sql/CMakeLists.txt:271 (RUN_BISON)\n\n-- Configuring incomplete, errors occurred!\n\nbsion\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u3055\u3089\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n$ sudo apt-get install flex bison\n$ rm CMakeCache.txt\n$ cmake .\n\n\uff13\u5ea6\u76ee\u306e\u6b63\u76f4\u3002\u51fa\u6765\u307e\u3057\u305f\uff01\n:\n:\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/pi/MariaDB-10.2\n\n\n\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\nmake\u3001make install\u306b\u9032\u3080\u524d\u306b\u51fa\u529b\u5148\u7b49\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3092\u884c\u3046\u3002\n\uff08configure \u307f\u305f\u3044\u306b\u5f15\u6570\u3092\u6e21\u3059\u306e\u3067\u306f\u306a\u304f\u3001\u5f8c\u304b\u3089\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\uff09\n\u4e3b\u306a\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30dd\u30a4\u30f3\u30c8\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5909\u66f4\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c7\u30fc\u30bf\u683c\u7d0d\u5148\u306e\u5909\u66f4\n\u304b\u3063\u3061\u3087\u60aa\u3044\u306e\u3067 mysql \u3092 MariaDB \u306b\u66f8\u304d\u63db\u3048\u305f\n\n\u3082\u3057\u3053\u3053\u3067\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u5834\u5408\u3001\u304a\u305d\u3089\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u3042\u308b\u306e\u304b\u7591\u3063\u3066\u307f\u308b\u3002\n(ncurses-devel \u3068\u304b libaio-devel \u3068\u304b\u30fb\u30fb\u30fb)\n\n\u7de8\u96c6\u30b3\u30de\u30f3\u30c9\nvi CMakeCache.txt\n\n\n\nCMakeCache.txt\n...\n//install prefix\n//CMAKE_INSTALL_PREFIX:PATH=/usr/local/mysql\nCMAKE_INSTALL_PREFIX:PATH=/opt/mariaDB/10.1\n...\n//groonga default document root\n//GRN_DEFAULT_DOCUMENT_ROOT:PATH=/usr/local/mysql/share/groonga/html/admin\nGRN_DEFAULT_DOCUMENT_ROOT:PATH=/opt/mariaDB/share/groonga/html/admin\n...\n//Value Computed by CMake\n//CMAKE_PROJECT_NAME:STATIC=MySQL\nCMAKE_PROJECT_NAME:STATIC=MariaDB\n...\n//UNIX_ADDR installation directory\n//INSTALL_UNIX_ADDRDIR:STRING=/tmp/mysql.sock\nINSTALL_UNIX_ADDRDIR:STRING=/tmp/mariadb.sock\n...\n//INCLUDE installation directory\n//INSTALL_INCLUDEDIR:STRING=include/mysql\nINSTALL_INCLUDEDIR:STRING=include/mariadb\n...\n//MYSQLTEST installation directory\n//INSTALL_MYSQLTESTDIR:STRING=mysql-test\nINSTALL_MYSQLTESTDIR:STRING=mariadb-test\n...\n//default MySQL data directory\n//MYSQL_DATADIR:PATH=/usr/local/mysql/data\nMYSQL_DATADIR:PATH=/opt/mariaDB/data\n...\n//MySQL project name\n//MYSQL_PROJECT_NAME:STRING=MySQL\nMYSQL_PROJECT_NAME:STRING=MariaDB\n...\n\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\n\u203b\uff16\u6642\u9593\u304f\u3089\u3044\u304b\u304b\u308a\u307e\u3059\u3002\n\nmake\u30b3\u30de\u30f3\u30c9\n$ make VERBOSE=1 2>&1 | tee make_log.txt\n...\n[100%] Linking CXX executable my_safe_process\ncd /home/pi/MariaDB-10.2/mysql-test/lib/My/SafeProcess && /usr/local/bin/cmake -E cmake_link_script CMakeFiles/my_safe_process.dir/link.txt --verbose=1\n/usr/bin/c++    -pie -fPIC -Wl,-z,relro,-z,now -fstack-protector --param=ssp-buffer-size=4 -DWITH_INNODB_DISALLOW_WRITES -fno-exceptions -fno-rtti -O2 -g -DNDEBUG -D_FORTIFY_SOURCE=2 -DDBUG_OFF   CMakeFiles/my_safe_process.dir/safe_process.cc.o  -o my_safe_process  -lpthread\nmake[2]: Leaving directory '/home/pi/MariaDB-10.2'\n[100%] Built target my_safe_process\nmake[1]: Leaving directory '/home/pi/MariaDB-10.2'\n/usr/local/bin/cmake -E cmake_progress_start /home/pi/MariaDB-10.2/CMakeFiles 0\n$\n$ grep error make_log.txt\n...\ntroff: fatal error: can't find macro file m\ntroff: fatal error: can't find macro file m\n...\n$ grep warn make_log.txt\n/home/pi/MariaDB-10.2/sql/sql_yacc.yy:1025.1-12: warning: deprecated directive, use \u2018%pure-parser\u2019 [-Wdeprecated]\n/home/pi/MariaDB-10.2/storage/connect/ha_connect.cc:5176:20: warning: variable \u2018spc\u2019 set but not used [-Wunused-but-set-variable]\n/home/pi/MariaDB-10.2/storage/connect/ha_connect.cc:5176:30: warning: variable \u2018qch\u2019 set but not used [-Wunused-but-set-variable]\n...\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/include/groonga/groonga.h:1532:34: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/plugins/suggest/suggest.c:864:8: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/plugins/suggest/suggest.c:865:8: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/include/groonga/groonga.h:1533:33: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/include/groonga/groonga.h:1537:34: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/include/groonga/groonga.h:1537:34: warning: cast increases required alignment of target type [-Wcast-align]\n\n\n(\u88dc\u8db3 VERBOSE=1 \u304c\u7121\u3044\u5834\u5408\u3001make\u30b3\u30de\u30f3\u30c9\u306e\u8868\u793a\u304c\u306a\u304f\u306a\u308b\u3002)\n\u4e00\u5fdc\u30a8\u30e9\u30fc\u3001\u8b66\u544a\u3092\u78ba\u8a8d\u3057\u3066\u307f\u305f\u3068\u3053\u308d\u3001\u5c11\u3057\u3042\u308a\u307e\u3057\u305f\u3002\n\u3068\u308a\u3042\u3048\u305a\u7570\u5e38\u7d42\u4e86\u3057\u306a\u3044\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u898b\u306a\u304b\u3063\u305f\u3053\u3068\u306b\u3057\u307e\u3059\uff08\u30fc\uff3f\u30fc\uff09\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo porg -lD make install\n\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\n\u52d5\u4f5c\u78ba\u8a8d\n$ /opt/mariaDB/10.1/bin/mysql --version\n/opt/mariaDB/10.1/bin/mysql  Ver 15.1 Distrib 10.1.22-MariaDB, for Linux (armv7l) using readline 5.1\n\n\n\n\u8d77\u52d5\u6e96\u5099\n\n\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n$ mkdir /var/lib/mysql\n$ chown -R chown mariadb:MariaDB /var/lib/mysql\n\n\n\u30ed\u30b0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n$ mkdir /var/log/mysql\n$ chwon -R mariadb:MariaDB /var/log/mysql\n\n\n\u30bd\u30b1\u30c3\u30c8\u3001PID\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n$ mkdir /var/rum/mysqld\n$ chwon -R mariadb:MariaDB /var/rum/mysqld\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30b3\u30d4\u30fc\n$ cd /opt/mariaDB/10.1/suport-files\n$ sudo cp ./my-small.cnf /etc/my.cnf\n$ vi /etc/my.cnf\n\n\n# The following options will be passed to all MySQL clients\n[client]\n#password       = your_password\nport            = 3306\nsocket          = /tmp/mariadb.sock\ndefault-character-set=utf8              #\u8ffd\u8a18\n\n# Here follows entries for some specific programs\n\n# The MySQL server\n[mysqld]\nport            = 3306\nsocket          = /tmp/mariadb.sock\nskip-external-locking\nkey_buffer_size = 16K\nmax_allowed_packet = 1M\ntable_open_cache = 4\nsort_buffer_size = 64K\nread_buffer_size = 256K\nread_rnd_buffer_size = 256K\nnet_buffer_length = 2K\nthread_stack = 240K\ndefault-character-set=utf8              #\u8ffd\u8a18\n\n\n\nMariaDB\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4f5c\u6210\n$ cd /opt/mariaDB/10.1/scripts/\n$ ./scripts/mysql_install_db --user=mariadb --basedir=/opt/mariaDB/10.2 --datadir=/var/lib/mysql\n\n\n2017-02-08 16:28:21 1522054224 [Note] InnoDB: Dumping buffer pool(s) not yet started\nOK\n\nTo start mysqld at boot time you have to copy\nsupport-files/mysql.server to the right place for your system\n\nPLEASE REMEMBER TO SET A PASSWORD FOR THE MariaDB root USER !\nTo do so, start the server, then issue the following commands:\n\n'/opt/mariaDB/10.2/bin/mysqladmin' -u root password 'new-password'\n'/opt/mariaDB/10.2/bin/mysqladmin' -u root -h raspberrypi password 'new-password'\n\nAlternatively you can run:\n'/opt/mariaDB/10.2/bin/mysql_secure_installation'\n\nwhich will also give you the option of removing the test\ndatabases and anonymous user created by default.  This is\nstrongly recommended for production servers.\n\nSee the MariaDB Knowledgebase at http://mariadb.com/kb or the\nMySQL manual for more instructions.\n\nYou can start the MariaDB daemon with:\ncd '/opt/mariaDB/10.2' ; /opt/mariaDB/10.2/bin/mysqld_safe --datadir='/var/lib/mysql'\n\nYou can test the MariaDB daemon with mysql-test-run.pl\ncd '/opt/mariaDB/10.2/mysql-test' ; perl mysql-test-run.pl\n\nPlease report any problems at http://mariadb.org/jira\n\n\n\u5f8c\u5c11\u3057\u3067\u3059\u3002\u30ed\u30b0\u306b\u51fa\u3066\u304d\u305f\u624b\u9806\u306b\u5f93\u3044\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n$ cd '/opt/mariaDB/10.2' ; sudo /opt/mariaDB/10.2/bin/mysqld_safe --datadir='/var/lib/mysql'\n170210 14:46:45 mysqld_safe Logging to '/var/lib/mysql/raspberrypi.err'.\n170210 14:46:45 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql\n/opt/mariaDB/10.2/bin/mysqld_safe_helper: Can't change to run as user 'mysql'.  Please check that the user exists!\n\n\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3057\u3088\u3046\u3068\u3057\u305f\u3089\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u3069\u3046\u3084\u3089mysql\u30e6\u30fc\u30b6\u304c\u5fc5\u8981\u306a\u69d8\u3067\u3059orz\nmariadb\u30e6\u30fc\u30b6\u3092mysql\u30e6\u30fc\u30b6\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n$ sudo usermod -l mysql mariadb\n\n\u5909\u66f4\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3089\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\u306b\u6311\u6226\n$ cd '/opt/mariaDB/10.2' ; sudo /opt/mariaDB/10.2/bin/mysqld_safe --datadir='/var/lib/mysql' \n170210 15:46:02 mysqld_safe Logging to '/var/lib/mysql/raspberrypi.err'.\n170210 15:46:02 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql\n\n\u3046\u307e\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\n$ /opt/mariaDB/10.2/bin/mysqladmin -u root password 'new-password'\n\n\n\u521d\u671fDB\u3001\u30b2\u30b9\u30c8\u30ed\u30b0\u30a4\u30f3\u306e\u524a\u9664\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u3092\u9ad8\u3081\u308b\u76ee\u7684\u3067\u3001\u63a8\u5968\u306e\u30bb\u30ad\u30e5\u30a2\u5c0e\u5165\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u65bd\u3059\u308b\u3002\n\u9805\u76ee\n\u30fb\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5909\u66f4\n\u30fbroot\u3067\u306e\u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u30a4\u30f3\u306e\u7981\u6b62\n\u30fb\u521d\u671fDB\u306e\u524a\u9664\n$ sudo '/opt/mariaDB/10.2/bin/mysql_secure_installation'\n:\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none):\n:\nChange the root password? [Y/n]\nNew password:\nRe-enter new password:\nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\nRemove anonymous users? [Y/n]Y\nDisallow root login remotely? [Y/n]Y\nRemove test database and access to it? [Y/n] Y\nReload privilege tables now? [Y/n] Y\n\n\n\u6700\u5f8c\u306b\n\u4ee5\u4e0b\u306f\u30b5\u30a4\u30c8\u306fmariaDB\u3092\u69cb\u7bc9\u3059\u308b\u969b\u5927\u5909\u304a\u4e16\u8a71\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nMariaDB\u3000\u306f\u3058\u3081\u3066\u306eMariaDB\u3000\u3010\u7b2c\uff12\u56de CentOS\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u3088\u3046 (\u524d\u7de8)\u3011\nMariaDB\u3000\u306f\u3058\u3081\u3066\u306eMariaDB\u3000\u3010\u7b2c\uff13\u56de CentOS\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u3088\u3046 (\u5f8c\u7de8)\u3011\n\u306f\u3058\u3081\u3066\u306eMARIADB\u3000\u3010\u7b2c\uff14\u56de \u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3066\u307f\u3088\u3046\n\n\n\n\n\n\u203b\u5b9f\u306f\u3068\u3053\u308d\u3069\u3053\u308dmariaDB\u306e\u683c\u7d0d\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c10.2\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u79c1\u304cgithub\u306eURI\u3092\u898b\u3066\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u305f\u7d50\u679c\u3001\u5b9f\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u7570\u306a\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u4f5c\u696d\u3092\u9032\u3081\u3066\u3057\u307e\u3063\u305f\u30ed\u30b0\u3067\u3059\u3000m(_ _)m\u300010.1\u306b\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\u00a0\u21a9\n\n\n\n\u904e\u53bb\u8a18\u4e8b\uff1a[CentOS 6.3 \u306b MariaDB \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://qiita.com/KurokoSin/items/5e9a6ed5f51aece3b78b)\n\n# \u6982\u8981\nRaspberry Pi Model 3\u3000\u3092\u81ea\u5b85\u30b5\u30fc\u30d0\u5316\u3059\u3079\u304fMariaDB\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nOS\u304c\u5909\u308f\u3063\u3066\u3082\u3084\u308b\u3053\u3068\u306f\u540c\u3058\u3067\u3059\u306e\u3067\u3001\n\u57fa\u672c\u7684\u306b\u306f\u4ee5\u524d\u306b\u81ea\u5206\u304c\u66f8\u3044\u305f\u8a18\u4e8b\u306e\u713c\u304d\u76f4\u3057\u3067\u3059\u3002\n\n\u203b\u5b9f\u969b\u306b\u3084\u308a\u306a\u304c\u3089\u66f8\u3044\u3066\u304a\u308a\u3001\u30b0\u30c0\u30b0\u30c0\u306a\u72b6\u6cc1\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u3000\u3044\u3064\u304b\u6574\u7406\u3057\u3066\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n\n# \u74b0\u5883\n\u4e3b\u306b\u4e0b\u8a18\u306e\u69d8\u306a\u74b0\u5883\u3067\u884c\u306a\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n| |\u30bd\u30d5\u30c8\u3000|\u30d0\u30fc\u30b8\u30e7\u30f3 |\n|:--:|:--|:--:|\n|OS |Raspbian|Jessi Lite |\n|DB |MariaDB |10.1.22 |\n| |CMake |3.7.2 |\n| |porg |0.10 |\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u65b9\u91dd\n\n* MariaDB\u7528\u306e\u30a2\u30ab\u30a6\u30f3\u30c8(mariadb:MariaDB)\u3092\u4f5c\u6210\u3059\u308b\u3002\n* \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306f/opt/mariaDB\u914d\u4e0b\u3068\u3059\u308b\u3002\n* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u51fa\u529b\u5148\u3082/opt/mariaDB/data \u914d\u4e0b\u3068\u3059\u308b\u3002\n* porg\u306b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u914d\u7f6e\u3057\u305f\u30bd\u30d5\u30c8\u3092\u7ba1\u7406\u3059\u308b\u3002\n\n# \u6e96\u5099\n### CMake\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306fCMake\u304c\u5fc5\u8981\u306b\u306a\u308b\u3002\n[\u3053\u3061\u3089\uff08\u81ea\u5206\u306e\u904e\u53bb\u8a18\u4e8b\uff09](http://qiita.com/KurokoSin/items/6972a9142713fa875725)\u3092\u53c2\u8003\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### \u30b7\u30b9\u30c6\u30e0\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\n\n```bash:\u30b7\u30b9\u30c6\u30e0\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\n$ sudo bash\n$ groupadd -r MariaDB\n$ useradd -r -g MariaDB -d /opt/mariaDB -s /usr/sbin/nologin mariadb\n$ mkdir /opt/mariaDB\n$ chown mariadb:MariaDB /opt/mariaDB\n$ exit\n```\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u307e\u305a\u30bd\u30fc\u30b9\u3092[GitHub](https://github.com/MariaDB/server/tree/10.2)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nGithub\u306eURI\u3068\u4f5c\u6210\u3057\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u304c\u9055\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u6700\u5f8c\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002[^1]\n\u305d\u306e\u5f8c\u3001cmake\u3092\u884c\u3044\u307e\u3059\u3002\n\n```bash:\u30bd\u30fc\u30b9\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6e96\u5099\n$ git clone https://github.com/MariaDB/server.git /home/pi/MariaDB-10.1\n$ cd MariaDB-10.1\n$ cmake .\n```\n\n\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\n```\n-- Running cmake version 3.7.2\n-- The C compiler identification is GNU 4.9.2\n-- The CXX compiler identification is GNU 4.9.2\n-- Check for working C compiler: /usr/bin/cc\n-- Check for working C compiler: /usr/bin/cc -- works\n:\n:\n-- Packaging as: mariadb-10.1.22-Linux-armv7l\n-- Performing Test HAVE_VISIBILITY_HIDDEN\n:\n:\n-- Could NOT find Curses (missing:  CURSES_LIBRARY CURSES_INCLUDE_PATH)\nCMake Error at cmake/readline.cmake:85 (MESSAGE):\n  Curses library not found.  Please install appropriate package,\n\n      remove CMakeCache.txt and rerun cmake.On Debian/Ubuntu, package name is libncurses5-dev, on Redhat and derivates it is ncurses-devel.\nCall Stack (most recent call first):\n  cmake/readline.cmake:196 (FIND_CURSES)\n  CMakeLists.txt:338 (MYSQL_CHECK_READLINE)\n\n-- Configuring incomplete, errors occurred!\nSee also \"/home/pi/MariaDB-10.2/CMakeFiles/CMakeOutput.log\".\nSee also \"/home/pi/MariaDB-10.2/CMakeFiles/CMakeError.log\".\n```\n\nCurses\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u7121\u304b\u3063\u305f\u305d\u3046\u3067\u30a8\u30e9\u30fc\u3092\u51fa\u3057\u305f\u69d8\u3067\u3059\u3002\n\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u3066\u304b\u3089\u3001\u30ed\u30b0\u306b\u5f93\u3063\u3066\u3000CMakeCache.txt \u3092\u6d88\u3057\u3066\u3084\u308a\u76f4\u3057\u307e\u3059\u3002\n\n```\n$ sudo apt-get install ncurses-dev\n$ rm CMakeCache.txt\n$ cmake .\n```\n\n\u6b21\u306fbison\u304c\u7121\u3044\u3068\u8b66\u544a\u304c\u51fa\u307e\u3057\u305f\u3002\n\n```\n:\n:\nWarning: Bison executable not found in PATH\nCMake Error at cmake/bison.cmake:78 (MESSAGE):\n  Bison (GNU parser generator) is required to build MySQL.Please install\n  bison.\nCall Stack (most recent call first):\n  sql/CMakeLists.txt:271 (RUN_BISON)\n\n-- Configuring incomplete, errors occurred!\n```\n\nbsion\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u3055\u3089\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\n$ sudo apt-get install flex bison\n$ rm CMakeCache.txt\n$ cmake .\n```\n\n\uff13\u5ea6\u76ee\u306e\u6b63\u76f4\u3002\u51fa\u6765\u307e\u3057\u305f\uff01\n\n```\n:\n:\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/pi/MariaDB-10.2\n```\n\n\n## \u30ab\u30b9\u30bf\u30de\u30a4\u30ba\nmake\u3001make install\u306b\u9032\u3080\u524d\u306b\u51fa\u529b\u5148\u7b49\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3092\u884c\u3046\u3002\n\uff08configure \u307f\u305f\u3044\u306b\u5f15\u6570\u3092\u6e21\u3059\u306e\u3067\u306f\u306a\u304f\u3001\u5f8c\u304b\u3089\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\uff09\n\n\u4e3b\u306a\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30dd\u30a4\u30f3\u30c8\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n\n* \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5909\u66f4\n* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c7\u30fc\u30bf\u683c\u7d0d\u5148\u306e\u5909\u66f4\n* \u304b\u3063\u3061\u3087\u60aa\u3044\u306e\u3067 mysql \u3092 MariaDB \u306b\u66f8\u304d\u63db\u3048\u305f\n\n\u3082\u3057\u3053\u3053\u3067\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u5834\u5408\u3001\u304a\u305d\u3089\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u3042\u308b\u306e\u304b\u7591\u3063\u3066\u307f\u308b\u3002\n(ncurses-devel \u3068\u304b libaio-devel \u3068\u304b\u30fb\u30fb\u30fb)\n\n```bash:\u7de8\u96c6\u30b3\u30de\u30f3\u30c9\nvi CMakeCache.txt\n```\n\n```C:CMakeCache.txt\n...\n//install prefix\n//CMAKE_INSTALL_PREFIX:PATH=/usr/local/mysql\nCMAKE_INSTALL_PREFIX:PATH=/opt/mariaDB/10.1\n...\n//groonga default document root\n//GRN_DEFAULT_DOCUMENT_ROOT:PATH=/usr/local/mysql/share/groonga/html/admin\nGRN_DEFAULT_DOCUMENT_ROOT:PATH=/opt/mariaDB/share/groonga/html/admin\n...\n//Value Computed by CMake\n//CMAKE_PROJECT_NAME:STATIC=MySQL\nCMAKE_PROJECT_NAME:STATIC=MariaDB\n...\n//UNIX_ADDR installation directory\n//INSTALL_UNIX_ADDRDIR:STRING=/tmp/mysql.sock\nINSTALL_UNIX_ADDRDIR:STRING=/tmp/mariadb.sock\n...\n//INCLUDE installation directory\n//INSTALL_INCLUDEDIR:STRING=include/mysql\nINSTALL_INCLUDEDIR:STRING=include/mariadb\n...\n//MYSQLTEST installation directory\n//INSTALL_MYSQLTESTDIR:STRING=mysql-test\nINSTALL_MYSQLTESTDIR:STRING=mariadb-test\n...\n//default MySQL data directory\n//MYSQL_DATADIR:PATH=/usr/local/mysql/data\nMYSQL_DATADIR:PATH=/opt/mariaDB/data\n...\n//MySQL project name\n//MYSQL_PROJECT_NAME:STRING=MySQL\nMYSQL_PROJECT_NAME:STRING=MariaDB\n...\n```\n\n## \u30b3\u30f3\u30d1\u30a4\u30eb\n\u203b\uff16\u6642\u9593\u304f\u3089\u3044\u304b\u304b\u308a\u307e\u3059\u3002\n\n```bash:make\u30b3\u30de\u30f3\u30c9\n$ make VERBOSE=1 2>&1 | tee make_log.txt\n...\n[100%] Linking CXX executable my_safe_process\ncd /home/pi/MariaDB-10.2/mysql-test/lib/My/SafeProcess && /usr/local/bin/cmake -E cmake_link_script CMakeFiles/my_safe_process.dir/link.txt --verbose=1\n/usr/bin/c++    -pie -fPIC -Wl,-z,relro,-z,now -fstack-protector --param=ssp-buffer-size=4 -DWITH_INNODB_DISALLOW_WRITES -fno-exceptions -fno-rtti -O2 -g -DNDEBUG -D_FORTIFY_SOURCE=2 -DDBUG_OFF   CMakeFiles/my_safe_process.dir/safe_process.cc.o  -o my_safe_process  -lpthread\nmake[2]: Leaving directory '/home/pi/MariaDB-10.2'\n[100%] Built target my_safe_process\nmake[1]: Leaving directory '/home/pi/MariaDB-10.2'\n/usr/local/bin/cmake -E cmake_progress_start /home/pi/MariaDB-10.2/CMakeFiles 0\n$\n$ grep error make_log.txt\n...\ntroff: fatal error: can't find macro file m\ntroff: fatal error: can't find macro file m\n...\n$ grep warn make_log.txt\n/home/pi/MariaDB-10.2/sql/sql_yacc.yy:1025.1-12: warning: deprecated directive, use \u2018%pure-parser\u2019 [-Wdeprecated]\n/home/pi/MariaDB-10.2/storage/connect/ha_connect.cc:5176:20: warning: variable \u2018spc\u2019 set but not used [-Wunused-but-set-variable]\n/home/pi/MariaDB-10.2/storage/connect/ha_connect.cc:5176:30: warning: variable \u2018qch\u2019 set but not used [-Wunused-but-set-variable]\n...\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/include/groonga/groonga.h:1532:34: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/plugins/suggest/suggest.c:864:8: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/plugins/suggest/suggest.c:865:8: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/include/groonga/groonga.h:1533:33: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/include/groonga/groonga.h:1537:34: warning: cast increases required alignment of target type [-Wcast-align]\n/home/pi/MariaDB-10.2/storage/mroonga/vendor/groonga/include/groonga/groonga.h:1537:34: warning: cast increases required alignment of target type [-Wcast-align]\n```\n\n(\u88dc\u8db3 VERBOSE=1 \u304c\u7121\u3044\u5834\u5408\u3001make\u30b3\u30de\u30f3\u30c9\u306e\u8868\u793a\u304c\u306a\u304f\u306a\u308b\u3002)\n\n\u4e00\u5fdc\u30a8\u30e9\u30fc\u3001\u8b66\u544a\u3092\u78ba\u8a8d\u3057\u3066\u307f\u305f\u3068\u3053\u308d\u3001\u5c11\u3057\u3042\u308a\u307e\u3057\u305f\u3002\n\u3068\u308a\u3042\u3048\u305a\u7570\u5e38\u7d42\u4e86\u3057\u306a\u3044\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u898b\u306a\u304b\u3063\u305f\u3053\u3068\u306b\u3057\u307e\u3059\uff08\u30fc\uff3f\u30fc\uff09\n\n\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash:\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo porg -lD make install\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n```bash:\u52d5\u4f5c\u78ba\u8a8d\n$ /opt/mariaDB/10.1/bin/mysql --version\n/opt/mariaDB/10.1/bin/mysql  Ver 15.1 Distrib 10.1.22-MariaDB, for Linux (armv7l) using readline 5.1\n```\n\n## \u8d77\u52d5\u6e96\u5099\n### \u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n```\n$ mkdir /var/lib/mysql\n$ chown -R chown mariadb:MariaDB /var/lib/mysql\n```\n### \u30ed\u30b0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n```\n$ mkdir /var/log/mysql\n$ chwon -R mariadb:MariaDB /var/log/mysql\n```\n### \u30bd\u30b1\u30c3\u30c8\u3001PID\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n```\n$ mkdir /var/rum/mysqld\n$ chwon -R mariadb:MariaDB /var/rum/mysqld\n```\n### \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30b3\u30d4\u30fc\n```\n$ cd /opt/mariaDB/10.1/suport-files\n$ sudo cp ./my-small.cnf /etc/my.cnf\n$ vi /etc/my.cnf\n```\n> ```\n> # The following options will be passed to all MySQL clients\n> [client]\n> #password       = your_password\n> port            = 3306\n> socket          = /tmp/mariadb.sock\n> default-character-set=utf8              #\u8ffd\u8a18\n> \n> # Here follows entries for some specific programs\n> \n> # The MySQL server\n> [mysqld]\n> port            = 3306\n> socket          = /tmp/mariadb.sock\n> skip-external-locking\n> key_buffer_size = 16K\n> max_allowed_packet = 1M\n> table_open_cache = 4\n> sort_buffer_size = 64K\n> read_buffer_size = 256K\n> read_rnd_buffer_size = 256K\n> net_buffer_length = 2K\n> thread_stack = 240K\n> default-character-set=utf8              #\u8ffd\u8a18\n> ```\n\n## MariaDB\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4f5c\u6210\n```\n$ cd /opt/mariaDB/10.1/scripts/\n$ ./scripts/mysql_install_db --user=mariadb --basedir=/opt/mariaDB/10.2 --datadir=/var/lib/mysql\n```\n\n> ```\n> 2017-02-08 16:28:21 1522054224 [Note] InnoDB: Dumping buffer pool(s) not yet started\n> OK\n> \n> To start mysqld at boot time you have to copy\n> support-files/mysql.server to the right place for your system\n> \n> PLEASE REMEMBER TO SET A PASSWORD FOR THE MariaDB root USER !\n> To do so, start the server, then issue the following commands:\n> \n> '/opt/mariaDB/10.2/bin/mysqladmin' -u root password 'new-password'\n> '/opt/mariaDB/10.2/bin/mysqladmin' -u root -h raspberrypi password 'new-password'\n> \n> Alternatively you can run:\n> '/opt/mariaDB/10.2/bin/mysql_secure_installation'\n> \n> which will also give you the option of removing the test\n> databases and anonymous user created by default.  This is\n> strongly recommended for production servers.\n> \n> See the MariaDB Knowledgebase at http://mariadb.com/kb or the\n> MySQL manual for more instructions.\n> \n> You can start the MariaDB daemon with:\n> cd '/opt/mariaDB/10.2' ; /opt/mariaDB/10.2/bin/mysqld_safe --datadir='/var/lib/mysql'\n> \n> You can test the MariaDB daemon with mysql-test-run.pl\n> cd '/opt/mariaDB/10.2/mysql-test' ; perl mysql-test-run.pl\n> \n> Please report any problems at http://mariadb.org/jira\n>```\n\n\u5f8c\u5c11\u3057\u3067\u3059\u3002\u30ed\u30b0\u306b\u51fa\u3066\u304d\u305f\u624b\u9806\u306b\u5f93\u3044\u307e\u3059\u3002\n## \u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n```\n$ cd '/opt/mariaDB/10.2' ; sudo /opt/mariaDB/10.2/bin/mysqld_safe --datadir='/var/lib/mysql'\n170210 14:46:45 mysqld_safe Logging to '/var/lib/mysql/raspberrypi.err'.\n170210 14:46:45 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql\n/opt/mariaDB/10.2/bin/mysqld_safe_helper: Can't change to run as user 'mysql'.  Please check that the user exists!\n```\n\n\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3057\u3088\u3046\u3068\u3057\u305f\u3089\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u3069\u3046\u3084\u3089mysql\u30e6\u30fc\u30b6\u304c\u5fc5\u8981\u306a\u69d8\u3067\u3059orz\nmariadb\u30e6\u30fc\u30b6\u3092mysql\u30e6\u30fc\u30b6\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```\n$ sudo usermod -l mysql mariadb\n```\n\n\u5909\u66f4\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3089\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\u306b\u6311\u6226\n\n```\n$ cd '/opt/mariaDB/10.2' ; sudo /opt/mariaDB/10.2/bin/mysqld_safe --datadir='/var/lib/mysql' \n170210 15:46:02 mysqld_safe Logging to '/var/lib/mysql/raspberrypi.err'.\n170210 15:46:02 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql\n```\n\n\u3046\u307e\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n\n## \u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\n```\n$ /opt/mariaDB/10.2/bin/mysqladmin -u root password 'new-password'\n```\n\n## \u521d\u671fDB\u3001\u30b2\u30b9\u30c8\u30ed\u30b0\u30a4\u30f3\u306e\u524a\u9664\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u3092\u9ad8\u3081\u308b\u76ee\u7684\u3067\u3001\u63a8\u5968\u306e\u30bb\u30ad\u30e5\u30a2\u5c0e\u5165\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u65bd\u3059\u308b\u3002\n\u9805\u76ee\n\u30fb\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5909\u66f4\n\u30fbroot\u3067\u306e\u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u30a4\u30f3\u306e\u7981\u6b62\n\u30fb\u521d\u671fDB\u306e\u524a\u9664\n\n```\n$ sudo '/opt/mariaDB/10.2/bin/mysql_secure_installation'\n:\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none):\n:\nChange the root password? [Y/n]\nNew password:\nRe-enter new password:\nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\nRemove anonymous users? [Y/n]Y\nDisallow root login remotely? [Y/n]Y\nRemove test database and access to it? [Y/n] Y\nReload privilege tables now? [Y/n] Y\n```\n\n#\u6700\u5f8c\u306b\n\u4ee5\u4e0b\u306f\u30b5\u30a4\u30c8\u306fmariaDB\u3092\u69cb\u7bc9\u3059\u308b\u969b\u5927\u5909\u304a\u4e16\u8a71\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n[MariaDB\u3000\u306f\u3058\u3081\u3066\u306eMariaDB\u3000\u3010\u7b2c\uff12\u56de CentOS\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u3088\u3046 (\u524d\u7de8)\u3011](https://www.sakc.jp/blog/archives/37172)\n[MariaDB\u3000\u306f\u3058\u3081\u3066\u306eMariaDB\u3000\u3010\u7b2c\uff13\u56de CentOS\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u3088\u3046 (\u5f8c\u7de8)\u3011](https://www.sakc.jp/blog/archives/37541)\n[\u306f\u3058\u3081\u3066\u306eMARIADB\u3000\u3010\u7b2c\uff14\u56de \u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3066\u307f\u3088\u3046](https://www.sakc.jp/blog/archives/38222)\n\n-----\n\n[^1]: \u203b\u5b9f\u306f\u3068\u3053\u308d\u3069\u3053\u308dmariaDB\u306e\u683c\u7d0d\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c10.2\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u79c1\u304cgithub\u306eURI\u3092\u898b\u3066\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u305f\u7d50\u679c\u3001\u5b9f\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u7570\u306a\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u4f5c\u696d\u3092\u9032\u3081\u3066\u3057\u307e\u3063\u305f\u30ed\u30b0\u3067\u3059\u3000m(_ _)m\u300010.1\u306b\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n", "tags": ["RaspberryPi", "mariadb"]}