{"context": " More than 1 year has passed since last update.\u300crefs #1234\u300d\u3068\u304b\u3067\u30c1\u30b1\u30c3\u30c8\u756a\u53f7\u306b\u7d10\u4ed8\u3051\u3066\u30b3\u30df\u30c3\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\n\u5f15\u6570\u306b\u30c1\u30b1\u30c3\u30c8\u306e\u756a\u53f7\u306e\u307f\u3092\u6e21\u3057\u3066merge_ticket.sh\u3092\u5b9f\u884c\u3001trunk\u306b\u30de\u30fc\u30b8\u3055\u308c\u308b\u5e78\u305b(\u25b0\u02d8\u25e1\u02d8\u25b0)\nsvn\n\u2514\u2500\u2500 huge\n      \u251c\u2500\u2500 branches\n      \u2502     \u2514\u2500\u2500\u2500\u2500 1.1\n      \u2514\u2500\u2500 trunk\n\nscript\n\u251c\u2500\u2500 merge_ticket.sh\n\u2514\u2500\u2500 svn\n      \u2514\u2500\u2500 merge_ticket_number.sh\n\n\nmerge_ticket.sh\n#!/bin/bash\n\nPWDDIR=`pwd`\ncd $PWDDIR\n\n# \u958b\u767a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nDIR=/home/soramugi/svn/huge/branches/1.1/\n# trunk\nTRUNK=/home/soramugi/svn/huge/trunk/\n\nsource svn/merge_ticket_number.sh $*\n\n\n\nmerge_ticket_number.sh\n#!/bin/bash\n\nset -e\n\n# \u30c1\u30b1\u30c3\u30c8\u756a\u53f7\u306b\u7d10\u4ed8\u3051\u3066\u30b3\u30df\u30c3\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\n# \u5f15\u6570\u306b\u30c1\u30b1\u30c3\u30c8\u306e\u756a\u53f7\u306e\u307f\u3092\u6e21\u3059\n\nif [ \"$1\" = '' ]; then\n  exit 1\nfi\n\nSERCHE=''\nfor i in $@\ndo\n  if [ \"$SERCHE\" != '' ]; then\n    SERCHE=$SERCHE'\\|'\n  fi\n  SERCHE=$SERCHE'#'$i\ndone\n\n\ncd $DIR\npwd\nRIPOURL=`svn info | grep URL: | grep -o 'http.\\+'`\n/usr/bin/svn up\nREVISIONS=`/usr/bin/svn log | /bin/grep -B 3 \"$SERCHE\" | /bin/grep -o '^r[0-9]\\+' | /bin/grep -o '[0-9]\\+' | sort -n`\n\necho $REVISIONS\n\ncd $TRUNK\npwd\n/usr/bin/svn up\n\n/usr/bin/svn merge -c \"$REVISIONS\" $RIPOURL\n\n\n\n\u300crefs #1234\u300d\u3068\u304b\u3067\u30c1\u30b1\u30c3\u30c8\u756a\u53f7\u306b\u7d10\u4ed8\u3051\u3066\u30b3\u30df\u30c3\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\n\u5f15\u6570\u306b\u30c1\u30b1\u30c3\u30c8\u306e\u756a\u53f7\u306e\u307f\u3092\u6e21\u3057\u3066`merge_ticket.sh`\u3092\u5b9f\u884c\u3001trunk\u306b\u30de\u30fc\u30b8\u3055\u308c\u308b\u5e78\u305b(\u25b0\u02d8\u25e1\u02d8\u25b0)\n\n```\nsvn\n\u2514\u2500\u2500 huge\n      \u251c\u2500\u2500 branches\n      \u2502     \u2514\u2500\u2500\u2500\u2500 1.1\n      \u2514\u2500\u2500 trunk\n\nscript\n\u251c\u2500\u2500 merge_ticket.sh\n\u2514\u2500\u2500 svn\n      \u2514\u2500\u2500 merge_ticket_number.sh\n```\n\n\n```merge_ticket.sh\n#!/bin/bash\n\nPWDDIR=`pwd`\ncd $PWDDIR\n\n# \u958b\u767a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nDIR=/home/soramugi/svn/huge/branches/1.1/\n# trunk\nTRUNK=/home/soramugi/svn/huge/trunk/\n\nsource svn/merge_ticket_number.sh $*\n```\n\n```merge_ticket_number.sh\n#!/bin/bash\n\nset -e\n\n# \u30c1\u30b1\u30c3\u30c8\u756a\u53f7\u306b\u7d10\u4ed8\u3051\u3066\u30b3\u30df\u30c3\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\n# \u5f15\u6570\u306b\u30c1\u30b1\u30c3\u30c8\u306e\u756a\u53f7\u306e\u307f\u3092\u6e21\u3059\n\nif [ \"$1\" = '' ]; then\n  exit 1\nfi\n\nSERCHE=''\nfor i in $@\ndo\n  if [ \"$SERCHE\" != '' ]; then\n    SERCHE=$SERCHE'\\|'\n  fi\n  SERCHE=$SERCHE'#'$i\ndone\n\n\ncd $DIR\npwd\nRIPOURL=`svn info | grep URL: | grep -o 'http.\\+'`\n/usr/bin/svn up\nREVISIONS=`/usr/bin/svn log | /bin/grep -B 3 \"$SERCHE\" | /bin/grep -o '^r[0-9]\\+' | /bin/grep -o '[0-9]\\+' | sort -n`\n\necho $REVISIONS\n\ncd $TRUNK\npwd\n/usr/bin/svn up\n\n/usr/bin/svn merge -c \"$REVISIONS\" $RIPOURL\n```\n", "tags": ["svn", "ShellScript"]}