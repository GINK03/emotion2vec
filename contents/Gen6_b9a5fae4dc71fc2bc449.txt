{"context": "\n\nDjango\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308b\u306b\u3042\u305f\u3063\u3066\n\u524d\u56deDjango\u3067\u4f5c\u308b\u81ea\u5206\u3060\u3051\u306eTwitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8http://qiita.com/Gen6/items/11fa5265053da95fcf0b\u3001\n\u3092\u3084\u308a\u307e\u3057\u305f\u306e\u3067\u4eca\u56de\u306fSQLite\u3092\u4f7f\u3063\u305f\u7c21\u6613\u7684\u306aTo-do\u30ea\u30b9\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u8272\u3005\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u4f59\u5730\u3092\u6b8b\u3059\u3079\u304f\u51fa\u6765\u308b\u9650\u308a\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210\u3068\u3057\u3066\u307f\u307e\u3057\u305f\u3002To-do\u30ea\u30b9\u30c8\u304b\u3089\u81ea\u5206\u3078Twitter\u3067\u30ea\u30d7\u30e9\u30a4\u3092\u9001\u308b\u306a\u3069\u306e\u6539\u9020\u4f59\u5730\u3082\u3042\u308b\u304b\u3068\u3002\n\u4eca\u56de\u306fDjango\u306eForm\u3092\u6d3b\u7528\u3057\u3066\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u308c\u304c\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u7c21\u6613\u7684\u306a\u9867\u5ba2\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3084\u3001\u63b2\u793a\u677f\u3001SNS\u3063\u307d\u3044\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u3067\u304d\u308b\u5e45\u304c\u3050\u3063\u3068\u5e83\u304c\u308b\u3088\u3046\u306a\u6c17\u306f\u3057\u307e\u3059\u3002\nDjango\u3063\u3066\u305d\u3082\u305d\u3082\u3069\u3046\u3084\u3063\u3066\u306f\u3058\u3081\u308b\u306e\u304b\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3092\u5fa1\u89a7\u304f\u3060\u3055\u3044\u3002\nhttp://qiita.com/Gen6/items/1848f8b4d938807d082e\n\n\u524d\u6e96\u5099\n\u3059\u3067\u306bPython3\u3068Django\u304c\u5c0e\u5165\u3055\u308c\u3066\u304a\u308a\u3001virtualenv\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u524d\u63d0\u3067\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u3053\u307e\u3067\u306e\u524d\u6e96\u5099\u304c\u3067\u304d\u3066\u3044\u306a\u3044\u65b9\u306f\u3001\u904e\u53bb\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u524d\u6e96\u5099\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\nDjango\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092orders \u3068\u3057\u3001\u914d\u4e0b\u306bmyapp \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nvirtualenv) $ django-admin startproject orders\nvirtualenv) $ cd orders\nvirtualenv) $ python manage.py startapp myapp\n\norders \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3000myapp \u3068 orders \u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u521d\u671f\u8a2d\u5b9a\u3092\u3059\u308b\n\norders\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u696d\nsettings.py\u306e\u5185\u5bb9\u3092\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u306fSQLite3\u3092\u305d\u306e\u307e\u307e\u4f7f\u3044\u307e\u3059\u3002\n\norders/settings.py\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'myapp',\n]\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates'),],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nLANGUAGE_CODE = 'ja'\n\nTIME_ZONE = 'Asia/Tokyo'\n\nSTATIC_URL = '/static/'\n\nSTATICFILES_DIRS = (\n    os.path.join(BASE_DIR, \"static\"),\n)\n\n\n\nurl.py\n\norders/urls.py\nfrom django.conf.urls import include, url\nfrom django.contrib import admin\n\nurlpatterns = [\n    url(r'^myapp/', include('myapp.urls')),\n    url(r'^', include('myapp.urls',namespace='myapp')),\n    url(r'^admin/', admin.site.urls),\n]\n\n\nnamespace\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u5f8c\u3005\u4fbf\u5229\u306b\u306a\u308a\u307e\u3059\u3002\nnamespace\u3092\u3064\u3051\u308b\u7fd2\u6163\u3092\u3064\u3051\u3066\u304a\u304f\u3068\u3044\u3044\u304b\u3068\u3002\n\nmyapp \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u696d\n\nmyapp/ursl.py\nfrom django.conf.urls import url\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n]\n\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u304f\n\nmodel\u306e\u5b9a\u7fa9\n\u4eca\u56de\u306f\u7c21\u5358\u306aTo-do\u30ea\u30b9\u30c8\u306a\u306e\u3067\u3059\u304c\u3001Django\u306b\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u308b\u30d5\u30a9\u30fc\u30e0\u3092\u6d3b\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u306e\u3067\u3056\u3063\u304f\u308a\u3068\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002models.DateTimeField()\u306f\u4fbf\u5229\u3067\u3059\u3002\n\nmyapp/models.py\nfrom django.db import models\n\nclass Posting(models.Model):\n    message = models.CharField(\n        max_length = 140,\n        verbose_name = '\u3084\u308b\u3053\u3068',\n    )\n\n    created_at = models.DateTimeField(\n        auto_now_add = True,\n        verbose_name= '\u65e5\u6642',\n    )\n\n\n\u3084\u308b\u3053\u3068\u3001\u3092\u30c6\u30ad\u30b9\u30c8\u3067\u53d7\u53d6\u3057\u65e5\u6642\u306f\u81ea\u52d5\u3067\u66f8\u304d\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u53d7\u3051\u53d6\u308b\u6587\u5b57\u6570\u306f140\u6587\u5b57\u307e\u3067\u3001\u3068\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nform\u306e\u6e96\u5099\u3092\u3059\u308b\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u65b0\u898f\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nmyapp/forms.py\nfrom django import forms\nfrom myapp.models import Posting\n\n\nclass PostingForm(forms.ModelForm):\n\n    class Meta:\n        model = Posting\n        fields = ('message',)\n        widgets = {\n            'message': forms.Textarea(attrs={'cols': 40, 'rows': 4})\n        }\n\n\n\u30d5\u30a9\u30fc\u30e0\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u306f\u4ed6\u306b\u3082\u5229\u7528\u3067\u304d\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306fTo-do\u3060\u3051\u306a\u306e\u3067\u3053\u306e\u3088\u3046\u306a\u8a18\u8ff0\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002widgets\u3067HTML\u306b\u66f8\u304d\u51fa\u3055\u308c\u305f\u5834\u5408\u306e\u30c6\u30ad\u30b9\u30c8\u30a8\u30ea\u30a2\u306e\u5927\u304d\u3055\u306a\u3069\u3092\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u3002\n\nview\u3092\u8a18\u8ff0\u3057\u3066\u3044\u304f\nimport\u3067\u30e2\u30c7\u30eb\u30af\u30e9\u30b9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001Django PostingForm\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3002\n\u4eca\u56de\u306f\u30da\u30fc\u30b8\u9077\u79fb\u306a\u3057\u306a\u306e\u3067\u3001redirect()\u3092\u6d3b\u7528\u3057\u307e\u3059\u3002\u3053\u3053\u3067namespace\u3092\u8a2d\u5b9a\u3057\u305f\u7406\u7531\u304c\u308f\u304b\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\nmyapp/views.py\nimport sys, codecs\nsys.stdout = codecs.getwriter('utf-8')(sys.stdout)\n\nfrom django.http.response import HttpResponse\nfrom django.shortcuts import (render, redirect,)\nfrom django import forms\nfrom myapp.models import Posting\nfrom .forms import PostingForm\n\ndef index(request):\n    form = PostingForm(request.POST or None)\n    if request.method == 'POST':\n        if form.is_valid():\n            form.save()\n            return redirect('myapp:index')\n    new_text = Posting.objects.all().order_by('-id')\n    contexts = {\n        'form':form,\n        'new_text':new_text,\n    }\n    return render(request, 'index.html', contexts)\n\n\n\u3053\u3053\u3067\u306f\nnew_text = Posting.objects.all().order_by('-id')\n\n\u306b\u3088\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u5185\u5bb9\u3092ID\u9006\u9806\u306b\u8868\u793a\u3055\u305b\u308b\u6307\u793a\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n.order_by() \u306f\u8272\u3005\u3084\u308a\u65b9\u304c\u3042\u308b\u306e\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u5909\u3048\u3066\u307f\u308b\u3068\u3044\u3044\u304b\u3068\u3002\ncontexts = {\n        'form':form,\n        'new_text':new_text,\n    }\n\n\u3053\u3053\u3067Django\u306e\u30d5\u30a9\u30fc\u30e0\u3092\u6e21\u3057\u307e\u3059\u3002\u540c\u6642\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u5185\u5bb9\u3092\u8868\u793a\u3057\u305f\u3044\u306e\u3067\u3001\u8f9e\u66f8\u3053\u306e2\u3064\u3092render\u95a2\u6570\u306e\u7b2c3\u5f15\u6570\u306b\u3057\u307e\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u4f7f\u3044\u305f\u3044\u3082\u306e\u306f\u3069\u3093\u3069\u3093\u8f9e\u66f8\u3067\u6e21\u3057\u3066\u3084\u308b\u3068\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nadmin.py\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\n\nmyapp/admin.py\nfrom django.contrib import admin\nfrom myapp.models import Posting\n\n\nclass PostingAdmin(admin.ModelAdmin):\n    list_display = ('id','message','created_at')\n\nadmin.site.register(Posting,PostingAdmin)\n\n\nDjango\u7ba1\u7406\u30b5\u30a4\u30c8\u304b\u3089\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u8868\u793a\u9805\u76ee\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\nlist_display = ('id','message','created_at')\n\n\u3053\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u3067id\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u3001\u6295\u7a3f\u65e5\u6642\u3092\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nHTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u6e96\u5099\u3059\u308b\n\ntemplates/base.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <link href=\"../static/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <link href=\"../static/css/custom.css\" rel=\"stylesheet\">\n    <script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\"></script>\n    <script src=\"../static/js/bootstrap.min.js\"></script>\n    <title></title>\n  </head>\n  <body>\n    {% block body %}\n    {% endblock %}\n  </body>\n</html>\n\n\n\u30d9\u30fc\u30b9\u3068\u306a\u308b\u5171\u901a\u30d1\u30fc\u30c4\u3067\u3059\u3002\nstatic\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bBootstrap\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\u30ea\u30f3\u30af\u69cb\u9020\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u7528\u306b\u66f8\u3044\u3066\u3082\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u53c2\u8003\u3068\u3057\u3066\u5f93\u6765\u901a\u308a\u306e\u66f8\u304d\u65b9\u3068\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n{% static 'css/custom.css' %}\n\n\u3068\u3044\u3046\u3088\u3046\u306a\u8a18\u8ff0\u304c\u53ef\u80fd\u3067\u3059\u3002\n\ntenplates/index.html\n{% extends \"base.html\" %}\n{% block body %}\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <form action=\"{% url 'myapp:index' %}\" method=\"post\">\n          <div class=\"row\">\n            {% for field in form %}\n            <label class=\"col-sm-3\">{{ field.label_tag }}</label>\n            <label class=\"col-sm-7\">{{ field }}</label>\n            {% endfor %}\n            <input type=\"submit\" class=\"btn btn-primary\" value=\"\u767b\u9332\">\n            {% csrf_token %}\n            </div>\n          </div>\n        </form>\n        {% include \"to_do.html\" %}\n      </div>\n    </div>\n  </div>\n{% endblock %}\n\n\n\u30d5\u30a9\u30fc\u30e0\u3092\u8868\u793a\u3059\u308b\u30e1\u30a4\u30f3\u306eHTML\u30d5\u30a1\u30a4\u30eb\u3068\u306a\u308a\u307e\u3059\u3002\n\u5165\u529b\u3057\u305fTo-do\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u5225\u306eHTML\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\nurls.py\u3067namespace\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n<form action=\"{% url 'myapp:index' %}\" method=\"post\">\n\n\u3053\u306e\u3088\u3046\u306a\u66f8\u304d\u65b9\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4fbf\u5229\u3067\u3059\u306d\uff01\n{% csrf_token %} \n\n\u3053\u308c\u306f\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30ea\u30af\u30a8\u30b9\u30c8\u30fb\u30d5\u30a9\u30fc\u30b8\u30a7\u30ea\u5bfe\u7b56\u306b\u306a\u3063\u3066\u307e\u3059\u3002HIDDEN\u306b\u6697\u53f7\u8ad6\u7684\u64ec\u4f3c\u4e71\u6570\u5024\u3092\u57cb\u3081\u8fbc\u3080\u306e\u3067\u3001\u3053\u308c\u3092\u66f8\u304d\u5fd8\u308c\u308b\u3068POST\u3067\u304d\u307e\u305b\u3093\u3002\u5fc5\u305a\u30d5\u30a9\u30fc\u30e0\u3092\u9589\u3058\u308b\u524d\u306b\u8a2d\u7f6e\u3057\u307e\u3059\u3002 \u306e\u3059\u3050\u5f8c\u308d\u306b\u914d\u7f6e\u3057\u305f\u308a\u3059\u308b\u3068\u5fd8\u308c\u306b\u304f\u3044\u304b\u3068\u3002\n\n\ntemplates/to-do.html\n<div class=\"row\">\n  {% for i in new_text %}\n  <div class=\"col-md-4\">\n  <p>{{ i.message }} - {{ i.created_at }}</p>\n  </div>\n  {% endfor %}\n</div>\n\n\nindex.html\u306b\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u305f\u4e2d\u8eab\u3068\u306a\u308a\u307e\u3059\u3002\n\u5358\u7d14\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u305f\u5185\u5bb9\u3092for\u3067\u56de\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u306d\u3002\n\nmigrate\u3059\u308b\nvirtualenv) $ python manage.py makemigrations myapp\nvirtualenv) $ python manage.py migrate\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u753b\u9762\n\n\u5b8c\u6210\u3067\u3059\u3002\n#Django\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308b\u306b\u3042\u305f\u3063\u3066\n\n\u524d\u56deDjango\u3067\u4f5c\u308b\u81ea\u5206\u3060\u3051\u306eTwitter\u30af\u30e9\u30a4\u30a2\u30f3\u30c8http://qiita.com/Gen6/items/11fa5265053da95fcf0b\u3001\n\n\u3092\u3084\u308a\u307e\u3057\u305f\u306e\u3067\u4eca\u56de\u306fSQLite\u3092\u4f7f\u3063\u305f\u7c21\u6613\u7684\u306aTo-do\u30ea\u30b9\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u8272\u3005\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u4f59\u5730\u3092\u6b8b\u3059\u3079\u304f\u51fa\u6765\u308b\u9650\u308a\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210\u3068\u3057\u3066\u307f\u307e\u3057\u305f\u3002To-do\u30ea\u30b9\u30c8\u304b\u3089\u81ea\u5206\u3078Twitter\u3067\u30ea\u30d7\u30e9\u30a4\u3092\u9001\u308b\u306a\u3069\u306e\u6539\u9020\u4f59\u5730\u3082\u3042\u308b\u304b\u3068\u3002\n\n\u4eca\u56de\u306fDjango\u306eForm\u3092\u6d3b\u7528\u3057\u3066\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u308c\u304c\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u7c21\u6613\u7684\u306a\u9867\u5ba2\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3084\u3001\u63b2\u793a\u677f\u3001SNS\u3063\u307d\u3044\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u3067\u304d\u308b\u5e45\u304c\u3050\u3063\u3068\u5e83\u304c\u308b\u3088\u3046\u306a\u6c17\u306f\u3057\u307e\u3059\u3002\n\nDjango\u3063\u3066\u305d\u3082\u305d\u3082\u3069\u3046\u3084\u3063\u3066\u306f\u3058\u3081\u308b\u306e\u304b\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3092\u5fa1\u89a7\u304f\u3060\u3055\u3044\u3002\nhttp://qiita.com/Gen6/items/1848f8b4d938807d082e\n\n#\u524d\u6e96\u5099\n\n\u3059\u3067\u306bPython3\u3068Django\u304c\u5c0e\u5165\u3055\u308c\u3066\u304a\u308a\u3001virtualenv\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u524d\u63d0\u3067\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u3053\u307e\u3067\u306e\u524d\u6e96\u5099\u304c\u3067\u304d\u3066\u3044\u306a\u3044\u65b9\u306f\u3001\u904e\u53bb\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u524d\u6e96\u5099\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n#\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\nDjango\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092orders \u3068\u3057\u3001\u914d\u4e0b\u306bmyapp \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\nvirtualenv) $ django-admin startproject orders\nvirtualenv) $ cd orders\nvirtualenv) $ python manage.py startapp myapp\n```\n\norders \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3000myapp \u3068 orders \u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n##\u521d\u671f\u8a2d\u5b9a\u3092\u3059\u308b\n\n###orders\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u696d\n\nsettings.py\u306e\u5185\u5bb9\u3092\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u306fSQLite3\u3092\u305d\u306e\u307e\u307e\u4f7f\u3044\u307e\u3059\u3002\n\n```orders/settings.py\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'myapp',\n]\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates'),],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nLANGUAGE_CODE = 'ja'\n\nTIME_ZONE = 'Asia/Tokyo'\n\nSTATIC_URL = '/static/'\n\nSTATICFILES_DIRS = (\n    os.path.join(BASE_DIR, \"static\"),\n)\n```\n\n###url.py\n\n```orders/urls.py\nfrom django.conf.urls import include, url\nfrom django.contrib import admin\n\nurlpatterns = [\n    url(r'^myapp/', include('myapp.urls')),\n    url(r'^', include('myapp.urls',namespace='myapp')),\n    url(r'^admin/', admin.site.urls),\n]\n```\n\nnamespace\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u5f8c\u3005\u4fbf\u5229\u306b\u306a\u308a\u307e\u3059\u3002\nnamespace\u3092\u3064\u3051\u308b\u7fd2\u6163\u3092\u3064\u3051\u3066\u304a\u304f\u3068\u3044\u3044\u304b\u3068\u3002\n\n###myapp \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u696d\n\n```myapp/ursl.py\nfrom django.conf.urls import url\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n]\n```\n\n#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u304f\n\n##model\u306e\u5b9a\u7fa9\n\n\u4eca\u56de\u306f\u7c21\u5358\u306aTo-do\u30ea\u30b9\u30c8\u306a\u306e\u3067\u3059\u304c\u3001Django\u306b\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u308b\u30d5\u30a9\u30fc\u30e0\u3092\u6d3b\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u306e\u3067\u3056\u3063\u304f\u308a\u3068\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002models.DateTimeField()\u306f\u4fbf\u5229\u3067\u3059\u3002\n\n```myapp/models.py\nfrom django.db import models\n\nclass Posting(models.Model):\n    message = models.CharField(\n        max_length = 140,\n        verbose_name = '\u3084\u308b\u3053\u3068',\n    )\n\n    created_at = models.DateTimeField(\n        auto_now_add = True,\n        verbose_name= '\u65e5\u6642',\n    )\n```\n\n\u3084\u308b\u3053\u3068\u3001\u3092\u30c6\u30ad\u30b9\u30c8\u3067\u53d7\u53d6\u3057\u65e5\u6642\u306f\u81ea\u52d5\u3067\u66f8\u304d\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u53d7\u3051\u53d6\u308b\u6587\u5b57\u6570\u306f140\u6587\u5b57\u307e\u3067\u3001\u3068\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n##form\u306e\u6e96\u5099\u3092\u3059\u308b\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u65b0\u898f\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```myapp/forms.py\nfrom django import forms\nfrom myapp.models import Posting\n\n\nclass PostingForm(forms.ModelForm):\n\n    class Meta:\n        model = Posting\n        fields = ('message',)\n        widgets = {\n            'message': forms.Textarea(attrs={'cols': 40, 'rows': 4})\n        }\n```\n\n\u30d5\u30a9\u30fc\u30e0\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u306f\u4ed6\u306b\u3082\u5229\u7528\u3067\u304d\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306fTo-do\u3060\u3051\u306a\u306e\u3067\u3053\u306e\u3088\u3046\u306a\u8a18\u8ff0\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002widgets\u3067HTML\u306b\u66f8\u304d\u51fa\u3055\u308c\u305f\u5834\u5408\u306e\u30c6\u30ad\u30b9\u30c8\u30a8\u30ea\u30a2\u306e\u5927\u304d\u3055\u306a\u3069\u3092\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u3002\n\n##view\u3092\u8a18\u8ff0\u3057\u3066\u3044\u304f\n\nimport\u3067\u30e2\u30c7\u30eb\u30af\u30e9\u30b9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001Django PostingForm\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3002\n\u4eca\u56de\u306f\u30da\u30fc\u30b8\u9077\u79fb\u306a\u3057\u306a\u306e\u3067\u3001redirect()\u3092\u6d3b\u7528\u3057\u307e\u3059\u3002\u3053\u3053\u3067namespace\u3092\u8a2d\u5b9a\u3057\u305f\u7406\u7531\u304c\u308f\u304b\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```myapp/views.py\nimport sys, codecs\nsys.stdout = codecs.getwriter('utf-8')(sys.stdout)\n\nfrom django.http.response import HttpResponse\nfrom django.shortcuts import (render, redirect,)\nfrom django import forms\nfrom myapp.models import Posting\nfrom .forms import PostingForm\n\ndef index(request):\n    form = PostingForm(request.POST or None)\n    if request.method == 'POST':\n        if form.is_valid():\n            form.save()\n            return redirect('myapp:index')\n    new_text = Posting.objects.all().order_by('-id')\n    contexts = {\n        'form':form,\n        'new_text':new_text,\n    }\n    return render(request, 'index.html', contexts)\n```\n\n\u3053\u3053\u3067\u306f\n\n```\nnew_text = Posting.objects.all().order_by('-id')\n```\n\n\u306b\u3088\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u5185\u5bb9\u3092ID\u9006\u9806\u306b\u8868\u793a\u3055\u305b\u308b\u6307\u793a\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n.order_by() \u306f\u8272\u3005\u3084\u308a\u65b9\u304c\u3042\u308b\u306e\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u5909\u3048\u3066\u307f\u308b\u3068\u3044\u3044\u304b\u3068\u3002\n\n```\ncontexts = {\n        'form':form,\n        'new_text':new_text,\n    }\n```\n\n\u3053\u3053\u3067Django\u306e\u30d5\u30a9\u30fc\u30e0\u3092\u6e21\u3057\u307e\u3059\u3002\u540c\u6642\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u5185\u5bb9\u3092\u8868\u793a\u3057\u305f\u3044\u306e\u3067\u3001\u8f9e\u66f8\u3053\u306e2\u3064\u3092render\u95a2\u6570\u306e\u7b2c3\u5f15\u6570\u306b\u3057\u307e\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u4f7f\u3044\u305f\u3044\u3082\u306e\u306f\u3069\u3093\u3069\u3093\u8f9e\u66f8\u3067\u6e21\u3057\u3066\u3084\u308b\u3068\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n##admin.py\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\n\n```myapp/admin.py\nfrom django.contrib import admin\nfrom myapp.models import Posting\n\n\nclass PostingAdmin(admin.ModelAdmin):\n    list_display = ('id','message','created_at')\n\nadmin.site.register(Posting,PostingAdmin)\n```\n\nDjango\u7ba1\u7406\u30b5\u30a4\u30c8\u304b\u3089\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u8868\u793a\u9805\u76ee\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n```\nlist_display = ('id','message','created_at')\n```\n\u3053\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u3067id\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u3001\u6295\u7a3f\u65e5\u6642\u3092\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n##HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u6e96\u5099\u3059\u308b\n\n```templates/base.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <link href=\"../static/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <link href=\"../static/css/custom.css\" rel=\"stylesheet\">\n    <script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\"></script>\n    <script src=\"../static/js/bootstrap.min.js\"></script>\n    <title></title>\n  </head>\n  <body>\n    {% block body %}\n    {% endblock %}\n  </body>\n</html>\n```\n\n\u30d9\u30fc\u30b9\u3068\u306a\u308b\u5171\u901a\u30d1\u30fc\u30c4\u3067\u3059\u3002\nstatic\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bBootstrap\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\u30ea\u30f3\u30af\u69cb\u9020\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u7528\u306b\u66f8\u3044\u3066\u3082\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u53c2\u8003\u3068\u3057\u3066\u5f93\u6765\u901a\u308a\u306e\u66f8\u304d\u65b9\u3068\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n```\n{% static 'css/custom.css' %}\n```\n\n\u3068\u3044\u3046\u3088\u3046\u306a\u8a18\u8ff0\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n```tenplates/index.html\n{% extends \"base.html\" %}\n{% block body %}\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <form action=\"{% url 'myapp:index' %}\" method=\"post\">\n          <div class=\"row\">\n            {% for field in form %}\n            <label class=\"col-sm-3\">{{ field.label_tag }}</label>\n            <label class=\"col-sm-7\">{{ field }}</label>\n            {% endfor %}\n            <input type=\"submit\" class=\"btn btn-primary\" value=\"\u767b\u9332\">\n            {% csrf_token %}\n            </div>\n          </div>\n        </form>\n        {% include \"to_do.html\" %}\n      </div>\n    </div>\n  </div>\n{% endblock %}\n```\n\n\u30d5\u30a9\u30fc\u30e0\u3092\u8868\u793a\u3059\u308b\u30e1\u30a4\u30f3\u306eHTML\u30d5\u30a1\u30a4\u30eb\u3068\u306a\u308a\u307e\u3059\u3002\n\u5165\u529b\u3057\u305fTo-do\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u5225\u306eHTML\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\n\nurls.py\u3067namespace\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n\n```\n<form action=\"{% url 'myapp:index' %}\" method=\"post\">\n```\n\n\u3053\u306e\u3088\u3046\u306a\u66f8\u304d\u65b9\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4fbf\u5229\u3067\u3059\u306d\uff01\n\n```\n{% csrf_token %} \n```\n\n\u3053\u308c\u306f\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30ea\u30af\u30a8\u30b9\u30c8\u30fb\u30d5\u30a9\u30fc\u30b8\u30a7\u30ea\u5bfe\u7b56\u306b\u306a\u3063\u3066\u307e\u3059\u3002HIDDEN\u306b\u6697\u53f7\u8ad6\u7684\u64ec\u4f3c\u4e71\u6570\u5024\u3092\u57cb\u3081\u8fbc\u3080\u306e\u3067\u3001\u3053\u308c\u3092\u66f8\u304d\u5fd8\u308c\u308b\u3068POST\u3067\u304d\u307e\u305b\u3093\u3002\u5fc5\u305a\u30d5\u30a9\u30fc\u30e0\u3092\u9589\u3058\u308b\u524d\u306b\u8a2d\u7f6e\u3057\u307e\u3059\u3002<form> \u306e\u3059\u3050\u5f8c\u308d\u306b\u914d\u7f6e\u3057\u305f\u308a\u3059\u308b\u3068\u5fd8\u308c\u306b\u304f\u3044\u304b\u3068\u3002\n\n```templates/to-do.html\n<div class=\"row\">\n  {% for i in new_text %}\n  <div class=\"col-md-4\">\n  <p>{{ i.message }} - {{ i.created_at }}</p>\n  </div>\n  {% endfor %}\n</div>\n```\n\nindex.html\u306b\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u305f\u4e2d\u8eab\u3068\u306a\u308a\u307e\u3059\u3002\n\u5358\u7d14\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u305f\u5185\u5bb9\u3092for\u3067\u56de\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u306d\u3002\n\n\n#migrate\u3059\u308b\n\n```\nvirtualenv) $ python manage.py makemigrations myapp\nvirtualenv) $ python manage.py migrate\n```\n\n#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u753b\u9762\n\n<img width=\"684\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-14 13.11.43.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/71585/7c798936-9139-c07a-2fe1-e35f2ede0e18.png\">\n\n\u5b8c\u6210\u3067\u3059\u3002\n", "tags": ["python3", "Python", "Django"]}