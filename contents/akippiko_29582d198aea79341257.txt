{"tags": ["Backbone.js1.2", "FuelPHP1.7"], "context": " More than 1 year has passed since last update.\n\nbackbone.js(dev1.localhost)\u304b\u3089fuelphp+mongodb\u3067\u3064\u304f\u3063\u305frestAPI(dev2.localhost)\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u3001jsonp\u30ec\u30b9\u30dd\u30f3\u30b9\u3092console.log\u306b\u5410\u304d\u51fa\u3059\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\n\nHTML(Backbone.js)\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n <meta charset=\"UTF-8\">\n <title>BackboneJS</title>\n <script src=\"./jquery.js\"></script>\n <script src=\"./underscore.js\"></script>\n <script src=\"./backbone.js\"></script>\n <script>\n  var MyModel = Backbone.Model.extend({\n      // jsonp\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8 ?callback=\u3068\u66f8\u3044\u3066fuelphp\u306ejsonp\u304c\u8fd4\u3059response\u95a2\u6570\u3092\u6307\u5b9a\u3059\u308b\n      urlRoot: 'http://dev2.localhost/example/example.jsonp?callback=response', \n     // jsonp\u3059\u308b\u5834\u5408\n   sync: function(method, model, options) {\n    var params = _.extend({\n      type:         'GET',\n      dataType:     'jsonp',\n      url:   model.url() + '&example=' + model.get('example'),\n      processData:  false\n    }, options);\n\n    return $.ajax(params);\n   },\n   parse: function(response) {\n    if (response) {\n     if (response.success) {\n      return {data: response};\n     }\n    }\n   }\n  });\n\n  var myModel = new MyModel({example: \"123222222\"});\n  myModel\n      .fetch()\n      .success(function(response) {\n          console.log(response);\n      });\n </script>\n</head>\n<body>\n\n</body>\n</html>\n\n\nfuelphp\n\nfuel/app/class/controller/example.php\n<?php\nclass Controller_Example extends Controller_Rest\n{\n  public function get_example()\n  {\n    $example = Input::get('example');\n    $test = 'test';\n\n    $this->response(array(\n          'example' => $example,\n          'test' => $test,\n          ));\n  }\n}\n\n\n\u4eee\u306b\uff11\u5e74\u5f8c\u306b\u4f7f\u3046\u3053\u3068\u306b\u306a\u3063\u3066\u3082\u601d\u3044\u51fa\u305b\u308b\u3088\u3046\u30e1\u30e2\u30e1\u30e2^^;\n\nbackbone.js(dev1.localhost)\u304b\u3089fuelphp+mongodb\u3067\u3064\u304f\u3063\u305frestAPI(dev2.localhost)\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u3001jsonp\u30ec\u30b9\u30dd\u30f3\u30b9\u3092console.log\u306b\u5410\u304d\u51fa\u3059\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\n---\n\n\n## HTML(Backbone.js)\n\n```\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n <meta charset=\"UTF-8\">\n <title>BackboneJS</title>\n <script src=\"./jquery.js\"></script>\n <script src=\"./underscore.js\"></script>\n <script src=\"./backbone.js\"></script>\n <script>\n  var MyModel = Backbone.Model.extend({\n      // jsonp\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8 ?callback=\u3068\u66f8\u3044\u3066fuelphp\u306ejsonp\u304c\u8fd4\u3059response\u95a2\u6570\u3092\u6307\u5b9a\u3059\u308b\n      urlRoot: 'http://dev2.localhost/example/example.jsonp?callback=response', \n     // jsonp\u3059\u308b\u5834\u5408\n   sync: function(method, model, options) {\n    var params = _.extend({\n      type:         'GET',\n      dataType:     'jsonp',\n      url:   model.url() + '&example=' + model.get('example'),\n      processData:  false\n    }, options);\n\n    return $.ajax(params);\n   },\n   parse: function(response) {\n    if (response) {\n     if (response.success) {\n      return {data: response};\n     }\n    }\n   }\n  });\n\n  var myModel = new MyModel({example: \"123222222\"});\n  myModel\n      .fetch()\n      .success(function(response) {\n          console.log(response);\n      });\n </script>\n</head>\n<body>\n\n</body>\n</html>\n```\n\n## fuelphp\n\n```fuel/app/class/controller/example.php\n<?php\nclass Controller_Example extends Controller_Rest\n{\n  public function get_example()\n  {\n    $example = Input::get('example');\n    $test = 'test';\n\n    $this->response(array(\n          'example' => $example,\n          'test' => $test,\n          ));\n  }\n}\n```\n\n\u4eee\u306b\uff11\u5e74\u5f8c\u306b\u4f7f\u3046\u3053\u3068\u306b\u306a\u3063\u3066\u3082\u601d\u3044\u51fa\u305b\u308b\u3088\u3046\u30e1\u30e2\u30e1\u30e2^^;\n\n"}