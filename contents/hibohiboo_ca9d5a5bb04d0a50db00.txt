{"context": "Redux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b\u3092Typescript\u3067(1)\u306e\u7d9a\u304d\u3002\nRedux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b(2)\u3092typescript\u3067\u66f8\u3044\u305f\u30e1\u30e2\u3002\n\n\u3053\u3053\u307e\u3067\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\nredux-todo\n  - bin # docker-compose\u306e\u64cd\u4f5c\u3092\u30b7\u30a7\u30eb\u5316\n    - start.sh # \u958b\u767a\u30b5\u30fc\u30d0\u306e\u8d77\u52d5\n    - build.sh # dist\u5185\u306bjs\u30d5\u30a1\u30a4\u30eb\u3092\u30d3\u30eb\u30c9\n    - bash.sh  # \u30b3\u30f3\u30c6\u30ca\u5185\u306b\u30ed\u30b0\u30a4\u30f3\n    - container_build.sh # \u30b3\u30f3\u30c6\u30ca\u306e\u518d\u4f5c\u6210\n    - remove_all_container.sh # \u5168\u3066\u306e\u30b3\u30f3\u30c6\u30ca\u306e\u524a\u9664\n  - public # \u958b\u767a\u30b5\u30fc\u30d0\u306e\u30d9\u30fc\u30b9\u3068\u306a\u308b\u30d5\u30a9\u30eb\u30c0\n    - index.html # \u958b\u767a\u30b5\u30fc\u30d0\u306e\u30db\u30fc\u30e0\u3002\n  - src\n    - app.tsx     # \u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\n    - actions     # Action(Action\u306e\u767a\u884c)\n      - index.tsx\n    - components  # Presentational Components(React\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8)\n      - App.tsx\n      - Todo.tsx\n      - TodoList.tsx\n    - containers  # Container Components(Redux\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8)\n      - AddTodo.tsx\n      - VisibleTodoList.tsx\n    - reducers    # Reducer(state\u306e\u5909\u66f4)\n      - index.tsx\n      - todos.tsx\n    - states      # state\u306e\u5b9a\u7fa9( typescript\u306b\u3059\u308b\u3068\u304d\u306b\u81ea\u5206\u304c\u8ffd\u52a0\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea )\n      - TodoState.tsx\n  - webpack # \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\n    - Dockerfile              # \u30b3\u30f3\u30c6\u30ca\u306e\u74b0\u5883\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n    - package.json            # \u30b3\u30f3\u30c6\u30ca\u5185\u306b\u30b3\u30d4\u30fc\u3055\u308c\u308bnpm\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n    - webpack.config.babel.js # \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u306e\u8a2d\u5b9a\n    - tsconfig.json           # \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3067\u5229\u7528\u3059\u308bTypescript\u8a2d\u5b9a\n  + dist   # \u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u683c\u7d0d\u5148\n  - docker-compose.yml # \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n\n\u52d5\u4f5c\u74b0\u5883\u306e\u66f4\u65b0\nnode.js\u3068webpack\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e0a\u304c\u3063\u3066\u3044\u305f\u306e\u3067\u66f4\u65b0\u3057\u305f\u3002\n\nwebpack/Dockerfile\n# docker-hub\u304b\u3089node\u5165\u308a\u30b3\u30f3\u30c6\u30ca\u3092\u53d6\u5f97\n# https://hub.docker.com/_/node/\nFROM node:7.2.1\n\n# \u30b3\u30f3\u30c6\u30ca\u4e0a\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nWORKDIR /my_webpack\n\n# \u5f8c\u3067\u78ba\u8a8d\u51fa\u6765\u308b\u3088\u3046\u306bpackage.json\u3092\u4f5c\u6210\nRUN npm init -y\n\n# jsView\u30e9\u30a4\u30d6\u30e9\u30eareact\nRUN npm i --save react\nRUN npm i --save react-dom\n\n# js\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30afredux\nRUN npm i --save-dev redux\nRUN npm i --save react-redux\n\n# typescript\nRUN npm i --save-dev typescript@next\n\n# \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\nRUN npm i --save-dev webpack@2.2.0-rc.0\n\n# \u958b\u767a\u7528\u30b5\u30fc\u30d0\nRUN npm i --save-dev webpack-dev-server@2.1.0-beta.12\n\n# webpack\u7528typescript loader\nRUN npm i --save-dev ts-loader\n\n# typescript\u306e\u578b\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\nRUN npm i --save-dev @types/react\nRUN npm i --save-dev @types/react-dom\nRUN npm i --save-dev @types/redux\nRUN npm i --save-dev @types/react-redux\n\n\n\nwebpack/package.json\n{\n  \"name\": \"my_webpack\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"build\": \"webpack --display-error-details\",\n    \"start\": \"webpack-dev-server\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"react\": \"^15.4.1\",\n    \"react-dom\": \"^15.4.1\",\n    \"react-redux\": \"^5.0.1\"\n  },\n  \"devDependencies\": {\n    \"@types/react\": \"^0.14.55\",\n    \"@types/react-dom\": \"^0.14.19\",\n    \"@types/react-redux\": \"^4.4.35\",\n    \"@types/redux\": \"^3.6.0\",\n    \"redux\": \"^3.6.0\",\n    \"ts-loader\": \"^1.3.2\",\n    \"typescript\": \"^2.2.0-dev.20161214\",\n    \"webpack\": \"^2.2.0-rc.0\",\n    \"webpack-dev-server\": \"^2.1.0-beta.12\"\n  }\n}\n\n\nwebpack\u304c\u4ee5\u4e0b\u306e\u8b66\u544a\u3092\u51fa\u3059\u3088\u3046\u306b\u306a\u3063\u305f\u3002\nbuildtool_react_ts_1  | WARNING in asset size limit: The following asset(s) exceed the recommended size limit (250 kB).\nbuildtool_react_ts_1  | This can impact web performance.\nbuildtool_react_ts_1  | Assets:\nbuildtool_react_ts_1  |   vendor.bundle.js (1.07 MB)\nbuildtool_react_ts_1  |\nbuildtool_react_ts_1  | WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (250 kB). This can impac\nt web performance.\nbuildtool_react_ts_1  | Entrypoints:\nbuildtool_react_ts_1  |   typescript (1.08 MB)\nbuildtool_react_ts_1  |       vendor.bundle.js\nbuildtool_react_ts_1  |       bundle.js\nbuildtool_react_ts_1  |\nbuildtool_react_ts_1  |   vendor (1.07 MB)\nbuildtool_react_ts_1  |       vendor.bundle.js\nbuildtool_react_ts_1  |\nbuildtool_react_ts_1  |\nbuildtool_react_ts_1  | WARNING in webpack performance recommendations:\nbuildtool_react_ts_1  | You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nbuildtool_react_ts_1  | For more info visit https://webpack.js.org/guides/code-splitting/\nbuildtool_react_ts_1  | webpack: bundle is now VALID.\n\ncode-splitting\u306e\u8a2d\u5b9a\u3092\u3057\u305f\u306e\u3060\u3051\u308c\u3069\u3001\u8b66\u544a\u306f\u3067\u305f\u307e\u307e\u3002\n\u3068\u308a\u3042\u3048\u305a\u5373\u5ea7\u306b\u5f71\u97ff\u306f\u306a\u3044\u306e\u3067\u3053\u306e\u307e\u307e\u9032\u3081\u308b\u3002\n\u6d88\u3059\u65b9\u6cd5\u304c\u308f\u304b\u3063\u305f\u3089\u6d88\u3057\u305f\u3044\u3002\n\nwebpack/webpack.config.js\n\nvar webpack = require('webpack');\n\nmodule.exports = {\n  // src\u4ee5\u4e0b\u306e\u30bd\u30fc\u30b9\u3092\u30d3\u30eb\u30c9\u5bfe\u8c61\u3068\u3059\u308b\n  context: __dirname + '/src',\n  // \u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066app.js\u3092\u8d77\u70b9\u306b\u30d3\u30eb\u30c9\u3059\u308b\n  entry: {\n    typescript: './app.tsx',\n    // code-splitting\u7528\u306e\u8a2d\u5b9a\n    vendor: ['react', 'react-dom', 'redux', 'react-redux']\n  },\n  // dist\u306b\u30d3\u30eb\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092bundle.js\u306e\u540d\u524d\u3067\u4fdd\u5b58\n  output: {\n    path: __dirname + '/dist',\n    filename: 'bundle.js'\n  },\n  // import\u3059\u308b\u3068\u304d\u306b\u3001\u4ee5\u4e0b\u306e\u914d\u5217\u306b\u767b\u9332\u3057\u305f\u62e1\u5f35\u5b50\u306f\u7701\u7565\u3067\u304d\u308b\n  resolve: {\n    extensions: [\".js\", \".ts\", \".tsx\"]\n  },\n  module: {\n    rules: [\n      // .ts, .tsx\u306b\u4e00\u81f4\u3059\u308b\u62e1\u5f35\u5b50\u306e\u30d5\u30a1\u30a4\u30eb\u306fts-loader\u3092\u901a\u3057\u3066\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\n      { test: /\\.tsx?$/, exclude: /node_modules/, loader: \"ts-loader\" }\n    ]\n  },\n  plugins: [\n    // hot load\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\n    new webpack.HotModuleReplacementPlugin(),\n    // code-splitting\u3092\u6709\u52b9\u306b\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\n    new webpack.optimize.CommonsChunkPlugin({/* chunkName= */name: \"vendor\", /* filename= */ filename: \"vendor.bundle.js\"})\n  ],\n  // source-map\u3092\u51fa\u529b\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n  // webpack-dev-server\u306a\u3089\u4e0d\u8981\uff1f\n  // devtool: '#cheap-module-source-map',\n  // \u958b\u767a\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\n  devServer: {\n    // public/index.html\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30db\u30fc\u30e0\u3068\u3059\u308b\n    contentBase: './public',\n    // \u30a4\u30f3\u30e9\u30a4\u30f3\u30e2\u30fc\u30c9\n    inline: true,\n    // 8080\u756a\u30dd\u30fc\u30c8\u3067\u8d77\u52d5\n    port: 8080,\n    // docker\u306e\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u30b5\u30fc\u30d0\u3092\u52d5\u304b\u3059\u3068\u304d\u306f\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3067\u5168\u3066\u306e\u63a5\u7d9a\u3092\u53d7\u3051\u5165\u308c\u308b\n    host:\"0.0.0.0\",\n    // hot load\u3092\u6709\u52b9\u306b\u3059\u308b\n    hot: true\n  },\n  // vagrant\u306e\u4ed5\u69d8\u3067\u30dd\u30fc\u30ea\u30f3\u30b0\u3057\u306a\u3044\u3068\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\u3092\u611f\u77e5\u3067\u304d\u306a\u3044\n  watchOptions: {\n    aggregateTimeout: 300,\n    // \uff15\u79d2\u6bce\u306b\u30dd\u30fc\u30ea\u30f3\u30b0\n    poll: 5000\n  }\n};\n\n\n\npublic/index.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Document</title>\n\n</head>\n<body>\n  <div id=\"root\"></div>\n  <script src=\"vendor.bundle.js\"></script>\n  <script src=\"bundle.js\"></script>\n</body>\n</html>\n\n\n\n1. \u5b8c\u4e86\u30fb\u672a\u5b8c\u4e86\u3092\u8868\u3059completed\u306b\u3088\u3063\u3066\u30b9\u30bf\u30a4\u30eb\u3092\u5909\u3048\u308b\n\ntodo\u306bcompleted\u8981\u7d20\u3092\u8ffd\u52a0\u3057\u3066\u3001\u3068\u308a\u3042\u3048\u305a\u53d6\u308a\u6d88\u3057\u7dda\u3092\u8868\u793a\u3059\u308b\ntodos.tsx\u306fnew Todostate()\u3092\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u4eca\u56de\u306f\u5909\u66f4\u3057\u306a\u3044\u3002\n\u4ee3\u308f\u308a\u306bTodoState.tsx\u3092\u66f4\u65b0\n\nTodoState.tsx\nexport default class TodoState {\n  constructor(\n    public id: number,\n    public text: string,\n    public completed: boolean = false\n  ){}\n}\n\n\n\nsrc/components/Todo.tsx\nimport * as React from 'react';\nimport {PropTypes} from 'react';\n\ninterface IProps {\n    completed: boolean;\n    text: string;\n}\n\nconst Todo = ({ completed, text }:IProps) => (\n  <li style={{textDecoration: completed ? 'line-through' : 'none'}}>\n    {text}\n  </li>\n);\n\nTodo.prototype.propTypes = {\n  completed: PropTypes.bool.isRequired,\n  text: PropTypes.string.isRequired\n}\n\nexport default Todo;\n\n\n\n\u78ba\u8a8d\n\nTodoState.tsx\nexport default class TodoState {\n  constructor(\n    public id: number,\n    public text: string,\n    public completed: boolean = true\n  ){}\n}\n\n\ncompleted = true\u306b\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3002\n\n\u3053\u3053\u306e\u6642\u70b9\u306e\u30bd\u30fc\u30b9\ngithub\n\nactionCreator\u304b\u3089completed\u8981\u7d20\u3092\u64cd\u4f5c\u3059\u308b\n\nsrc/actions/index.tsx\nimport { Action } from 'redux';\n\nexport type Actions = AddTodoAction | ToggleTodoAction;\n\n// \u7701\u7565\n\nexport interface ToggleTodoAction extends Action {\n    type: 'TOGGLE_TODO';\n    id: number;\n}\n\n// \u7701\u7565\n\nexport const toggleTodo = (id:number) : ToggleTodoAction => {\n  return {\n    type: 'TOGGLE_TODO',\n    id\n  }\n}\n\n\n\nsrc/reducers/todos.tsx\nimport { Actions } from '../actions';\nimport TodoState from '../states/TodoState';\n\n// \u73fe\u5728\u306estate\u3068action\u3092\u53d7\u3051\u53d6\u308a\u3001\u65b0\u3057\u3044state\u3092\u8fd4\u3059\u95a2\u6570\nconst todo = (state?:TodoState, action?: Actions) => {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return new TodoState(action.id, action.text);\n    case 'TOGGLE_TODO':\n      // actionCreator\u306b\u6e21\u3057\u305fid\u3068\u4e00\u81f4\u3059\u308btodo\u306e\u307f\u51e6\u7406\n      if (state.id !== action.id) {\n        return state\n      }\n      // completed\u3060\u3051\u3092\u53cd\u8ee2\n      return  new TodoState(state.id, state.text, !state.completed);\n    // \u305d\u308c\u4ee5\u5916\u306e\u3068\u304d\u306fstate\u3092\u5909\u5316\u3055\u305b\u306a\u3044\n    default:\n      return state\n  }\n};\n\nconst todos = (state: TodoState[] = [], action: Actions) => {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return [\n        ...state,\n        todo(undefined, action)\n      ];\n    case 'TOGGLE_TODO':\n      return state.map((t) =>\n        todo(t, action)\n      );\n    default:\n      return state\n  }\n};\n\nexport default todos;\n\n\n\n\u78ba\u8a8d\n\nsrc/app.tsx\n// \u7701\u7565\nimport { addTodo, toggleTodo } from './actions'\n\nlet store = createStore(todo);\nstore.dispatch(addTodo('Hello React!'));\nstore.dispatch(addTodo('Hello Redux!'));\nstore.dispatch(toggleTodo(0))\n\n// \u7701\u7565\n\n\n\n\u3053\u3053\u306e\u6642\u70b9\u306e\u30bd\u30fc\u30b9\ngithub\n\n2. \u30af\u30ea\u30c3\u30af\u3057\u3066completed\u306e\u5024\u3092\u5909\u3048\u308b\n\nsrc/containers/VisibleTodoList.tsx\n// \u7701\u7565\nimport { toggleTodo } from '../actions';\n\n// \u7701\u7565\n\ninterface IDispatchToProps{\n  onTodoClick: Function\n}\n\n// \u7701\u7565\n\nconst mapDispatchToProps = (dispatch:Function):IDispatchToProps => {\n  return {\n    onTodoClick: (id:number) => {\n      dispatch(toggleTodo(id))\n    }\n  }\n}\n\nconst VisibleTodoList = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TodoList);\n\nexport default VisibleTodoList;\n\n\n\nsrc/components/TodoList.tsx\n// \u7701\u7565\n\ninterface IProps extends React.Props<TodoList> {\n    todos: TodoState[];\n    onTodoClick: Function;\n}\n\nclass TodoList extends React.Component<IProps, {}> {\n  render(): JSX.Element{\n    return (\n      <ul>\n        {this.props.todos.map((todo) =>\n          <Todo\n            key={todo.id}\n            {...todo}\n            onClick={() => this.props.onTodoClick(todo.id)}\n          />\n        )}\n      </ul>\n    );\n  }\n }\n\n export default TodoList;\n\n\nonClick: PropTypes.func.isRequired,\u3092\u8ffd\u52a0\u3057\u305f\u3089Todo.prototype.propTypes\u304c\u901a\u3089\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3001Todo.tsx\u3082\u30af\u30e9\u30b9\u3092\u4f7f\u3046\u5f62\u306b\u5909\u66f4\u3057\u3066\u3044\u308b\u3002\n\u4f59\u8ac7\u3060\u304c\u3053\u306e\u3042\u305f\u308a\u3067\u3001VSCode\u3067import * as React from 'react';\u306e\u30b3\u30fc\u30c9\u88dc\u5b8c\u304c\u52b9\u3044\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3092\u52b9\u304f\u3088\u3046\u306b\u3057\u305f\u3002*\u30e1\u30e2\n\nsrc/components/Todo.tsx\nimport * as React from 'react';\nimport { Props, EventHandler, MouseEvent, Component} from 'react';\n\ninterface IProps extends Props<Todo>{\n    onClick: EventHandler<MouseEvent<HTMLElement>>,\n    completed: boolean;\n    text: string;\n}\n\ninterface IComponentNameState {};\n\nexport default class Todo extends Component<IProps, IComponentNameState> {\n  render(): JSX.Element{\n    return (<li\n      onClick={this.props.onClick} \n      style={{textDecoration: this.props.completed ? 'line-through' : 'none'}}\n    >\n      {this.props.text}\n    </li>\n    )\n  }\n}\n\n\n\n\u3053\u3053\u306e\u6642\u70b9\u306e\u30bd\u30fc\u30b9\ngithub\n\u7d9a\u304d\u2192Redux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b\u3092Typescript\u3067(3)\n\n\u53c2\u8003\nRedux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b(2)\nRedux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b\u3092Typescript\u3067(1)\nRedux typed actions \u3067Reducer\u3092\u578b\u5b89\u5168\u306b\u66f8\u304f (TypeScript\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u5225)\nVSCode\u3067Typescript\u306e\u578b\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\u3057\u305f\u3068\u304d\u306e\u30e1\u30e2 \n[Redux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b\u3092Typescript\u3067(1)][*2]\u306e\u7d9a\u304d\u3002\n[Redux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b(2)][*1]\u3092typescript\u3067\u66f8\u3044\u305f\u30e1\u30e2\u3002\n\n\n## \u3053\u3053\u307e\u3067\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\n```yaml\nredux-todo\n  - bin # docker-compose\u306e\u64cd\u4f5c\u3092\u30b7\u30a7\u30eb\u5316\n    - start.sh # \u958b\u767a\u30b5\u30fc\u30d0\u306e\u8d77\u52d5\n    - build.sh # dist\u5185\u306bjs\u30d5\u30a1\u30a4\u30eb\u3092\u30d3\u30eb\u30c9\n    - bash.sh  # \u30b3\u30f3\u30c6\u30ca\u5185\u306b\u30ed\u30b0\u30a4\u30f3\n    - container_build.sh # \u30b3\u30f3\u30c6\u30ca\u306e\u518d\u4f5c\u6210\n    - remove_all_container.sh # \u5168\u3066\u306e\u30b3\u30f3\u30c6\u30ca\u306e\u524a\u9664\n  - public # \u958b\u767a\u30b5\u30fc\u30d0\u306e\u30d9\u30fc\u30b9\u3068\u306a\u308b\u30d5\u30a9\u30eb\u30c0\n    - index.html # \u958b\u767a\u30b5\u30fc\u30d0\u306e\u30db\u30fc\u30e0\u3002\n  - src\n    - app.tsx     # \u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\n    - actions     # Action(Action\u306e\u767a\u884c)\n      - index.tsx\n    - components  # Presentational Components(React\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8)\n      - App.tsx\n      - Todo.tsx\n      - TodoList.tsx\n    - containers  # Container Components(Redux\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8)\n      - AddTodo.tsx\n      - VisibleTodoList.tsx\n    - reducers    # Reducer(state\u306e\u5909\u66f4)\n      - index.tsx\n      - todos.tsx\n    - states      # state\u306e\u5b9a\u7fa9( typescript\u306b\u3059\u308b\u3068\u304d\u306b\u81ea\u5206\u304c\u8ffd\u52a0\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea )\n      - TodoState.tsx\n  - webpack # \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\n    - Dockerfile              # \u30b3\u30f3\u30c6\u30ca\u306e\u74b0\u5883\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n    - package.json            # \u30b3\u30f3\u30c6\u30ca\u5185\u306b\u30b3\u30d4\u30fc\u3055\u308c\u308bnpm\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n    - webpack.config.babel.js # \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u306e\u8a2d\u5b9a\n    - tsconfig.json           # \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3067\u5229\u7528\u3059\u308bTypescript\u8a2d\u5b9a\n  + dist   # \u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u683c\u7d0d\u5148\n  - docker-compose.yml # \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n```\n\n## \u52d5\u4f5c\u74b0\u5883\u306e\u66f4\u65b0\n\nnode.js\u3068webpack\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e0a\u304c\u3063\u3066\u3044\u305f\u306e\u3067\u66f4\u65b0\u3057\u305f\u3002\n\n```docker:webpack/Dockerfile\n# docker-hub\u304b\u3089node\u5165\u308a\u30b3\u30f3\u30c6\u30ca\u3092\u53d6\u5f97\n# https://hub.docker.com/_/node/\nFROM node:7.2.1\n\n# \u30b3\u30f3\u30c6\u30ca\u4e0a\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nWORKDIR /my_webpack\n\n# \u5f8c\u3067\u78ba\u8a8d\u51fa\u6765\u308b\u3088\u3046\u306bpackage.json\u3092\u4f5c\u6210\nRUN npm init -y\n\n# jsView\u30e9\u30a4\u30d6\u30e9\u30eareact\nRUN npm i --save react\nRUN npm i --save react-dom\n\n# js\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30afredux\nRUN npm i --save-dev redux\nRUN npm i --save react-redux\n\n# typescript\nRUN npm i --save-dev typescript@next\n\n# \u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\nRUN npm i --save-dev webpack@2.2.0-rc.0\n\n# \u958b\u767a\u7528\u30b5\u30fc\u30d0\nRUN npm i --save-dev webpack-dev-server@2.1.0-beta.12\n\n# webpack\u7528typescript loader\nRUN npm i --save-dev ts-loader\n\n# typescript\u306e\u578b\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\nRUN npm i --save-dev @types/react\nRUN npm i --save-dev @types/react-dom\nRUN npm i --save-dev @types/redux\nRUN npm i --save-dev @types/react-redux\n```\n\n```json:webpack/package.json\n{\n  \"name\": \"my_webpack\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"build\": \"webpack --display-error-details\",\n    \"start\": \"webpack-dev-server\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"react\": \"^15.4.1\",\n    \"react-dom\": \"^15.4.1\",\n    \"react-redux\": \"^5.0.1\"\n  },\n  \"devDependencies\": {\n    \"@types/react\": \"^0.14.55\",\n    \"@types/react-dom\": \"^0.14.19\",\n    \"@types/react-redux\": \"^4.4.35\",\n    \"@types/redux\": \"^3.6.0\",\n    \"redux\": \"^3.6.0\",\n    \"ts-loader\": \"^1.3.2\",\n    \"typescript\": \"^2.2.0-dev.20161214\",\n    \"webpack\": \"^2.2.0-rc.0\",\n    \"webpack-dev-server\": \"^2.1.0-beta.12\"\n  }\n}\n```\n\nwebpack\u304c\u4ee5\u4e0b\u306e\u8b66\u544a\u3092\u51fa\u3059\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\n```console\nbuildtool_react_ts_1  | WARNING in asset size limit: The following asset(s) exceed the recommended size limit (250 kB).\nbuildtool_react_ts_1  | This can impact web performance.\nbuildtool_react_ts_1  | Assets:\nbuildtool_react_ts_1  |   vendor.bundle.js (1.07 MB)\nbuildtool_react_ts_1  |\nbuildtool_react_ts_1  | WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (250 kB). This can impac\nt web performance.\nbuildtool_react_ts_1  | Entrypoints:\nbuildtool_react_ts_1  |   typescript (1.08 MB)\nbuildtool_react_ts_1  |       vendor.bundle.js\nbuildtool_react_ts_1  |       bundle.js\nbuildtool_react_ts_1  |\nbuildtool_react_ts_1  |   vendor (1.07 MB)\nbuildtool_react_ts_1  |       vendor.bundle.js\nbuildtool_react_ts_1  |\nbuildtool_react_ts_1  |\nbuildtool_react_ts_1  | WARNING in webpack performance recommendations:\nbuildtool_react_ts_1  | You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.\nbuildtool_react_ts_1  | For more info visit https://webpack.js.org/guides/code-splitting/\nbuildtool_react_ts_1  | webpack: bundle is now VALID.\n```\n\ncode-splitting\u306e\u8a2d\u5b9a\u3092\u3057\u305f\u306e\u3060\u3051\u308c\u3069\u3001\u8b66\u544a\u306f\u3067\u305f\u307e\u307e\u3002  \n\u3068\u308a\u3042\u3048\u305a\u5373\u5ea7\u306b\u5f71\u97ff\u306f\u306a\u3044\u306e\u3067\u3053\u306e\u307e\u307e\u9032\u3081\u308b\u3002  \n\u6d88\u3059\u65b9\u6cd5\u304c\u308f\u304b\u3063\u305f\u3089\u6d88\u3057\u305f\u3044\u3002\n\n\n```js:webpack/webpack.config.js\n\nvar webpack = require('webpack');\n\nmodule.exports = {\n  // src\u4ee5\u4e0b\u306e\u30bd\u30fc\u30b9\u3092\u30d3\u30eb\u30c9\u5bfe\u8c61\u3068\u3059\u308b\n  context: __dirname + '/src',\n  // \u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066app.js\u3092\u8d77\u70b9\u306b\u30d3\u30eb\u30c9\u3059\u308b\n  entry: {\n    typescript: './app.tsx',\n    // code-splitting\u7528\u306e\u8a2d\u5b9a\n    vendor: ['react', 'react-dom', 'redux', 'react-redux']\n  },\n  // dist\u306b\u30d3\u30eb\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092bundle.js\u306e\u540d\u524d\u3067\u4fdd\u5b58\n  output: {\n    path: __dirname + '/dist',\n    filename: 'bundle.js'\n  },\n  // import\u3059\u308b\u3068\u304d\u306b\u3001\u4ee5\u4e0b\u306e\u914d\u5217\u306b\u767b\u9332\u3057\u305f\u62e1\u5f35\u5b50\u306f\u7701\u7565\u3067\u304d\u308b\n  resolve: {\n    extensions: [\".js\", \".ts\", \".tsx\"]\n  },\n  module: {\n    rules: [\n      // .ts, .tsx\u306b\u4e00\u81f4\u3059\u308b\u62e1\u5f35\u5b50\u306e\u30d5\u30a1\u30a4\u30eb\u306fts-loader\u3092\u901a\u3057\u3066\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\n      { test: /\\.tsx?$/, exclude: /node_modules/, loader: \"ts-loader\" }\n    ]\n  },\n  plugins: [\n    // hot load\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\n    new webpack.HotModuleReplacementPlugin(),\n    // code-splitting\u3092\u6709\u52b9\u306b\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\n    new webpack.optimize.CommonsChunkPlugin({/* chunkName= */name: \"vendor\", /* filename= */ filename: \"vendor.bundle.js\"})\n  ],\n  // source-map\u3092\u51fa\u529b\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n  // webpack-dev-server\u306a\u3089\u4e0d\u8981\uff1f\n  // devtool: '#cheap-module-source-map',\n  // \u958b\u767a\u30b5\u30fc\u30d0\u306e\u8a2d\u5b9a\n  devServer: {\n    // public/index.html\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30db\u30fc\u30e0\u3068\u3059\u308b\n    contentBase: './public',\n    // \u30a4\u30f3\u30e9\u30a4\u30f3\u30e2\u30fc\u30c9\n    inline: true,\n    // 8080\u756a\u30dd\u30fc\u30c8\u3067\u8d77\u52d5\n    port: 8080,\n    // docker\u306e\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u30b5\u30fc\u30d0\u3092\u52d5\u304b\u3059\u3068\u304d\u306f\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3067\u5168\u3066\u306e\u63a5\u7d9a\u3092\u53d7\u3051\u5165\u308c\u308b\n    host:\"0.0.0.0\",\n    // hot load\u3092\u6709\u52b9\u306b\u3059\u308b\n    hot: true\n  },\n  // vagrant\u306e\u4ed5\u69d8\u3067\u30dd\u30fc\u30ea\u30f3\u30b0\u3057\u306a\u3044\u3068\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\u3092\u611f\u77e5\u3067\u304d\u306a\u3044\n  watchOptions: {\n    aggregateTimeout: 300,\n    // \uff15\u79d2\u6bce\u306b\u30dd\u30fc\u30ea\u30f3\u30b0\n    poll: 5000\n  }\n};\n```\n\n```html:public/index.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Document</title>\n\n</head>\n<body>\n  <div id=\"root\"></div>\n  <script src=\"vendor.bundle.js\"></script>\n  <script src=\"bundle.js\"></script>\n</body>\n</html>\n```\n\n## 1. \u5b8c\u4e86\u30fb\u672a\u5b8c\u4e86\u3092\u8868\u3059completed\u306b\u3088\u3063\u3066\u30b9\u30bf\u30a4\u30eb\u3092\u5909\u3048\u308b\n\n### todo\u306bcompleted\u8981\u7d20\u3092\u8ffd\u52a0\u3057\u3066\u3001\u3068\u308a\u3042\u3048\u305a\u53d6\u308a\u6d88\u3057\u7dda\u3092\u8868\u793a\u3059\u308b\n\ntodos.tsx\u306f`new Todostate()`\u3092\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u4eca\u56de\u306f\u5909\u66f4\u3057\u306a\u3044\u3002  \n\u4ee3\u308f\u308a\u306bTodoState.tsx\u3092\u66f4\u65b0\n\n```ts:TodoState.tsx\nexport default class TodoState {\n  constructor(\n    public id: number,\n    public text: string,\n    public completed: boolean = false\n  ){}\n}\n```\n\n```ts:src/components/Todo.tsx\nimport * as React from 'react';\nimport {PropTypes} from 'react';\n\ninterface IProps {\n    completed: boolean;\n    text: string;\n}\n\nconst Todo = ({ completed, text }:IProps) => (\n  <li style={{textDecoration: completed ? 'line-through' : 'none'}}>\n    {text}\n  </li>\n);\n\nTodo.prototype.propTypes = {\n  completed: PropTypes.bool.isRequired,\n  text: PropTypes.string.isRequired\n}\n\nexport default Todo;\n```\n\n#### \u78ba\u8a8d\n\n```ts:TodoState.tsx\nexport default class TodoState {\n  constructor(\n    public id: number,\n    public text: string,\n    public completed: boolean = true\n  ){}\n}\n```\n\n`completed = true`\u306b\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3002\n\n#### \u3053\u3053\u306e\u6642\u70b9\u306e\u30bd\u30fc\u30b9\n\n[github](https://github.com/hibohiboo/develop/tree/f5e504fa91b331b1c5a8b7e26157a8bd2461d4c6/tutorial/lesson/react-ts)\n\n### actionCreator\u304b\u3089completed\u8981\u7d20\u3092\u64cd\u4f5c\u3059\u308b\n\n```ts:src/actions/index.tsx\nimport { Action } from 'redux';\n\nexport type Actions = AddTodoAction | ToggleTodoAction;\n\n// \u7701\u7565\n\nexport interface ToggleTodoAction extends Action {\n    type: 'TOGGLE_TODO';\n    id: number;\n}\n\n// \u7701\u7565\n\nexport const toggleTodo = (id:number) : ToggleTodoAction => {\n  return {\n    type: 'TOGGLE_TODO',\n    id\n  }\n}\n```\n\n```ts:src/reducers/todos.tsx\nimport { Actions } from '../actions';\nimport TodoState from '../states/TodoState';\n\n// \u73fe\u5728\u306estate\u3068action\u3092\u53d7\u3051\u53d6\u308a\u3001\u65b0\u3057\u3044state\u3092\u8fd4\u3059\u95a2\u6570\nconst todo = (state?:TodoState, action?: Actions) => {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return new TodoState(action.id, action.text);\n    case 'TOGGLE_TODO':\n      // actionCreator\u306b\u6e21\u3057\u305fid\u3068\u4e00\u81f4\u3059\u308btodo\u306e\u307f\u51e6\u7406\n      if (state.id !== action.id) {\n        return state\n      }\n      // completed\u3060\u3051\u3092\u53cd\u8ee2\n      return  new TodoState(state.id, state.text, !state.completed);\n    // \u305d\u308c\u4ee5\u5916\u306e\u3068\u304d\u306fstate\u3092\u5909\u5316\u3055\u305b\u306a\u3044\n    default:\n      return state\n  }\n};\n\nconst todos = (state: TodoState[] = [], action: Actions) => {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return [\n        ...state,\n        todo(undefined, action)\n      ];\n    case 'TOGGLE_TODO':\n      return state.map((t) =>\n        todo(t, action)\n      );\n    default:\n      return state\n  }\n};\n\nexport default todos;\n```\n\n#### \u78ba\u8a8d\n\n```ts:src/app.tsx\n// \u7701\u7565\nimport { addTodo, toggleTodo } from './actions'\n\nlet store = createStore(todo);\nstore.dispatch(addTodo('Hello React!'));\nstore.dispatch(addTodo('Hello Redux!'));\nstore.dispatch(toggleTodo(0))\n\n// \u7701\u7565\n```\n\n#### \u3053\u3053\u306e\u6642\u70b9\u306e\u30bd\u30fc\u30b9\n\n[github](https://github.com/hibohiboo/develop/tree/d46e7950d6535e83c9265933e74b818bc948f954/tutorial/lesson/react-ts)\n\n## 2. \u30af\u30ea\u30c3\u30af\u3057\u3066completed\u306e\u5024\u3092\u5909\u3048\u308b\n\n```ts:src/containers/VisibleTodoList.tsx\n// \u7701\u7565\nimport { toggleTodo } from '../actions';\n\n// \u7701\u7565\n\ninterface IDispatchToProps{\n  onTodoClick: Function\n}\n\n// \u7701\u7565\n\nconst mapDispatchToProps = (dispatch:Function):IDispatchToProps => {\n  return {\n    onTodoClick: (id:number) => {\n      dispatch(toggleTodo(id))\n    }\n  }\n}\n\nconst VisibleTodoList = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TodoList);\n\nexport default VisibleTodoList;\n```\n\n```ts:src/components/TodoList.tsx\n// \u7701\u7565\n\ninterface IProps extends React.Props<TodoList> {\n    todos: TodoState[];\n    onTodoClick: Function;\n}\n\nclass TodoList extends React.Component<IProps, {}> {\n  render(): JSX.Element{\n    return (\n      <ul>\n        {this.props.todos.map((todo) =>\n          <Todo\n            key={todo.id}\n            {...todo}\n            onClick={() => this.props.onTodoClick(todo.id)}\n          />\n        )}\n      </ul>\n    );\n  }\n }\n\n export default TodoList;\n ```\n\n`onClick: PropTypes.func.isRequired,`\u3092\u8ffd\u52a0\u3057\u305f\u3089`Todo.prototype.propTypes`\u304c\u901a\u3089\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3001Todo.tsx\u3082\u30af\u30e9\u30b9\u3092\u4f7f\u3046\u5f62\u306b\u5909\u66f4\u3057\u3066\u3044\u308b\u3002\n\u4f59\u8ac7\u3060\u304c\u3053\u306e\u3042\u305f\u308a\u3067\u3001VSCode\u3067`import * as React from 'react';`\u306e\u30b3\u30fc\u30c9\u88dc\u5b8c\u304c\u52b9\u3044\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3092\u52b9\u304f\u3088\u3046\u306b\u3057\u305f\u3002[*\u30e1\u30e2][*4]\n\n```ts:src/components/Todo.tsx\nimport * as React from 'react';\nimport { Props, EventHandler, MouseEvent, Component} from 'react';\n\ninterface IProps extends Props<Todo>{\n    onClick: EventHandler<MouseEvent<HTMLElement>>,\n    completed: boolean;\n    text: string;\n}\n\ninterface IComponentNameState {};\n\nexport default class Todo extends Component<IProps, IComponentNameState> {\n  render(): JSX.Element{\n    return (<li\n      onClick={this.props.onClick} \n      style={{textDecoration: this.props.completed ? 'line-through' : 'none'}}\n    >\n      {this.props.text}\n    </li>\n    )\n  }\n}\n```\n\n### \u3053\u3053\u306e\u6642\u70b9\u306e\u30bd\u30fc\u30b9\n\n[github](https://github.com/hibohiboo/develop/tree/8759b31a75c6b43d08857316fe0f1e9d6524a979/tutorial/lesson/react-ts)\n\n\u7d9a\u304d\u2192[Redux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b\u3092Typescript\u3067(3)](http://qiita.com/hibohiboo/items/5af878b068c4d11d1b43)\n\n## \u53c2\u8003\n\n[Redux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b(2)][*1]\n[Redux Example\u306eTodo List\u3092\u306f\u3058\u3081\u304b\u3089\u3066\u3044\u306d\u3044\u306b\u3092Typescript\u3067(1)][*2]\n[Redux typed actions \u3067Reducer\u3092\u578b\u5b89\u5168\u306b\u66f8\u304f (TypeScript\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u5225)][*3]\n[VSCode\u3067Typescript\u306e\u578b\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\u3057\u305f\u3068\u304d\u306e\u30e1\u30e2][*4]  \n\n[*1]:http://qiita.com/xkumiyu/items/e7e1e8ed6a5d6a6e20dd\n[*2]:http://qiita.com/hibohiboo/items/e344d2bbbaaab0ba8a66\n[*3]:http://qiita.com/wadahiro/items/7c421b668f28a99e2a29\n[*4]:http://qiita.com/hibohiboo/items/5210c10236f00e7529ea\n", "tags": ["redux", "TypeScript", "React", "docker"]}