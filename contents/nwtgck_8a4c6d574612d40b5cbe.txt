{"context": " More than 1 year has passed since last update.\n\n\u6e96\u5099\n\u79d8\u5bc6\u9375(server-key.pem)\u3068\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8(server-cert.pem)\u3092\u4f5c\u308a\u307e\u3059\n$ openssl genrsa -out server-key.pem 1024\n$ openssl req -new -key server-key.pem -out server-csr.pem\n$ openssl x509 -req -in server-csr.pem -signkey server-key.pem -out server-cert.pem\n\n\n\u30b5\u30fc\u30d0\u30fc\u5074\n\nserver.js\nvar tls = require('tls');\nvar fs = require('fs');\n\nvar options = {\n    key: fs.readFileSync('server-key.pem'),\n    cert: fs.readFileSync('server-cert.pem')\n};\n\ntls.createServer(options, function (socket) {\n    socket.write(\"welcome!\\n\");\n    socket.on('data', function(data){\n        console.log(data);\n        console.log(data.toString());\n    });\n}).listen(8000);\n\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\n\nclient.rb\nrequire \"openssl\"\nrequire \"socket\"\n\ntcp_socket = TCPSocket.new(\"127.0.0.1\", 8000)\nssl_socket = OpenSSL::SSL::SSLSocket.new(tcp_socket)\n\nssl_socket.connect\n\nputs ssl_socket.gets\nssl_socket.write \"hello, world from client\"\n\nssl_socket.close\ntcp_socket.close\n\n\n\n\u5b9f\u884c\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\n$ ruby client.rb \nwelcome!\n$ \n\n\u30b5\u30fc\u30d0\u30fc\u5074\n$ node server.js\n<Buffer 68 65 6c 6c 6f 2c 20 77 6f 72 6c 64 20 66 72 6f 6d 20 63 6c 69 65 6e 74>\nhello, world from client\n\n\n\n\n\u53c2\u8003\n\nhttp://nodejs.jp/nodejs.org_ja/api/tls.html\nhttps://nodejs.org/api/tls.html\nhttp://nodejs.jp/nodejs.org_ja/docs/v0.4/api/tls.html#s_tls.connect\nhttp://docs.ruby-lang.org/ja/1.9.3/class/OpenSSL=3a=3aSSL=3a=3aSSLSocket.html\n\n## \u6e96\u5099\n\n\u79d8\u5bc6\u9375(server-key.pem)\u3068\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8(server-cert.pem)\u3092\u4f5c\u308a\u307e\u3059\n\n```sh\n$ openssl genrsa -out server-key.pem 1024\n$ openssl req -new -key server-key.pem -out server-csr.pem\n$ openssl x509 -req -in server-csr.pem -signkey server-key.pem -out server-cert.pem\n```\n\n## \u30b5\u30fc\u30d0\u30fc\u5074\n```js:server.js\nvar tls = require('tls');\nvar fs = require('fs');\n\nvar options = {\n\tkey: fs.readFileSync('server-key.pem'),\n\tcert: fs.readFileSync('server-cert.pem')\n};\n\ntls.createServer(options, function (socket) {\n\tsocket.write(\"welcome!\\n\");\n\tsocket.on('data', function(data){\n\t\tconsole.log(data);\n\t\tconsole.log(data.toString());\n\t});\n}).listen(8000);\n```\n\n## \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\n\n```rb:client.rb\nrequire \"openssl\"\nrequire \"socket\"\n\ntcp_socket = TCPSocket.new(\"127.0.0.1\", 8000)\nssl_socket = OpenSSL::SSL::SSLSocket.new(tcp_socket)\n\nssl_socket.connect\n\nputs ssl_socket.gets\nssl_socket.write \"hello, world from client\"\n\nssl_socket.close\ntcp_socket.close\n```\n\n## \u5b9f\u884c\n\n \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\n\n```sh\n$ ruby client.rb \nwelcome!\n$ \n```\n\n\u30b5\u30fc\u30d0\u30fc\u5074\n\n```sh\n$ node server.js\n<Buffer 68 65 6c 6c 6f 2c 20 77 6f 72 6c 64 20 66 72 6f 6d 20 63 6c 69 65 6e 74>\nhello, world from client\n\n\n```\n\n## \u53c2\u8003\n- http://nodejs.jp/nodejs.org_ja/api/tls.html\n- https://nodejs.org/api/tls.html\n- http://nodejs.jp/nodejs.org_ja/docs/v0.4/api/tls.html#s_tls.connect\n- http://docs.ruby-lang.org/ja/1.9.3/class/OpenSSL=3a=3aSSL=3a=3aSSLSocket.html\n", "tags": ["Node.js", "Ruby", "SSL"]}