{"context": " More than 1 year has passed since last update.\u30ad\u30e3\u30c3\u30b7\u30e5\u52d5\u4f5c\u304c\u6709\u52b9\u306e\u969b\u306b\u3001\u95b2\u89a7\u3059\u308b\u56fa\u5b9a\u30da\u30fc\u30b8\u306e\u5185\u5bb9\u306b\u3001\u4ed6\u306e\u30da\u30fc\u30b8\u5185\u5bb9\u304c\u8868\u793a\u3055\u308c\u3066\u3057\u307e\u3046\u5834\u5408\u304c\u7a00\u306b\u3042\u308a\u307e\u3059\u3002\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u6709\u52b9\u306a\u306e\u306f\u901a\u5e38\u52d5\u4f5c\n\u7ba1\u7406\u5074\u306b\u30ed\u30b0\u30a4\u30f3\u4e2d\u306f\u518d\u73fe\u3055\u308c\u306a\u3044\uff08\u95b2\u89a7\u6642\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u5229\u7528\u3055\u308c\u306a\u3044\u305f\u3081\uff09\ndebug\u30e2\u30fc\u30c9\u304c 1 \u306e\u5834\u5408\u306f\u518d\u73fe\u3055\u308c\u306a\u3044\uff08\u95b2\u89a7\u6642\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u5229\u7528\u3055\u308c\u306a\u3044\u305f\u3081\uff09\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5229\u7528\u3092\u6291\u5236\u3059\u308b\u3053\u3068\u3067\u304a\u624b\u8efd\u306b\u89e3\u6c7a\u3067\u304d\u307e\u3059\u304c\u3001\u8868\u793a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u843d\u3061\u308b\u305f\u3081\u539f\u56e0\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n\ninstall.php\nConfigure::write('Cache.disable', true);\n\n\n\n\u767a\u751f\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3068\u74b0\u5883\n\u56fa\u5b9a\u30da\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u751f\u6210\u3055\u308c\u305f\u3042\u3068\u3001\u305d\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30d5\u30a1\u30a4\u30eb\u304c\u3001\u4ed6\u306e\u56fa\u5b9a\u30da\u30fc\u30b8\u8868\u793a\uff08URL\u306e\u8868\u793a\uff09\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5229\u7528\u3055\u308c\u3066\u3057\u307e\u3046\u3068\u304d\u3002\n\n\u74b0\u5883\n\n\u5927\u585a\u5546\u4f1a: \u30a2\u30eb\u30d5\u30a1\u30e1\u30fc\u30eb\u30d7\u30ec\u30df\u30a2: http://www.alpha-prm.jp/\n\nPHP 5.3.3\nbaserCMS 3.0.5\n\n\n\n\n\u539f\u56e0\nInflector::slug() \u3067\u306e\u6587\u5b57\u5217\u751f\u6210\u306b\u5931\u6557\u3057\u3066\u3044\u308b\u3002\n\n/lib/Baser/Routing/Filter/BcCacheDispatcher.php\n$path = strtolower(Inflector::slug($path));\n\n\n\u3053\u3053\u3067\u751f\u6210\u3055\u308c\u308b\u6587\u5b57\u5217\u306f\u3001\u56fa\u5b9a\u30da\u30fc\u30b8\u7528\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30d5\u30a1\u30a4\u30eb\u540d\u3068\u306a\u3063\u3066\u3044\u308b\u3002\n\u4f8b\uff1a/app/tmp/cache/views/hoge_fuga.php\n\u203b\u300c/\u300d\u306f\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\u306b\u5909\u63db\u3055\u308c\u308b\n\n\u5bfe\u7b56\n/lib/Cake/Utility/Inflector.php \u306e slug() \u3092cake 1.2.12\uff08/cake/libs/inflector.php\uff09\u306e\u5185\u5bb9\u306b\u3059\u308b\u3002\n\n/lib/Cake/Utility/Inflector.php \u3092 /app/Utility/Inflector.php \u306b\u30b3\u30d4\u30fc\u3059\u308b\nslug() \u306e\u5185\u5bb9\u3092\u4ee5\u4e0b\u306b\u66f8\u63db\u3048\u308b\n\n\n/app/Utility/Inflector.php\n    public static function slug($string, $replacement = '_') {\n        if ($_SERVER[\"SERVER_NAME\"] == 'example.com') {\n            // \u672c\u756a\u74b0\u5883\u3067 cache\u30d5\u30a1\u30a4\u30eb\u304c\u6b63\u3057\u304f\u751f\u6210\u3055\u308c\u306a\u3044\u305f\u3081\u3001\n            // cake 1.2.12\uff08/cake/libs/inflector.php\uff09\u306e\u30b3\u30fc\u30c9\u3092\u9069\u7528\n            App::uses('String', 'Utility');\n            $map = array(\n                '/\u00e0|\u00e1|\u00e5|\u00e2/' => 'a',\n                '/\u00e8|\u00e9|\u00ea|\u1ebd|\u00eb/' => 'e',\n                '/\u00ec|\u00ed|\u00ee/' => 'i',\n                '/\u00f2|\u00f3|\u00f4|\u00f8/' => 'o',\n                '/\u00f9|\u00fa|\u016f|\u00fb/' => 'u',\n                '/\u00e7/' => 'c',\n                '/\u00f1/' => 'n',\n                '/\u00e4|\u00e6/' => 'ae',\n                '/\u00f6/' => 'oe',\n                '/\u00fc/' => 'ue',\n                '/\u00c4/' => 'Ae',\n                '/\u00dc/' => 'Ue',\n                '/\u00d6/' => 'Oe',\n                '/\u00df/' => 'ss',\n                '/[^\\w\\s]/' => ' ',\n                '/\\\\s+/' => $replacement,\n                String::insert('/^[:replacement]+|[:replacement]+$/', array('replacement' => preg_quote($replacement, '/'))) => '',\n            );\n            return preg_replace(array_keys($map), array_values($map), $string);\n        } else {\n            $quotedReplacement = preg_quote($replacement, '/');\n\n            $merge = array(\n                '/[^\\s\\p{Zs}\\p{Ll}\\p{Lm}\\p{Lo}\\p{Lt}\\p{Lu}\\p{Nd}]/mu' => ' ',\n                '/[\\s\\p{Zs}]+/mu' => $replacement,\n                sprintf('/^[%s]+|[%s]+$/', $quotedReplacement, $quotedReplacement) => '',\n            );\n\n            $map = self::$_transliteration + $merge;\n            return preg_replace(array_keys($map), array_values($map), $string);\n        }\n\n    }\n\n\n\n\u78ba\u8a8d\n\n/app/tmp/cache/views \u5185\u306b\u751f\u6210\u3055\u308c\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u30d5\u30a1\u30a4\u30eb\u304c\u3001URL\u3092\u30d9\u30fc\u30b9\u306b\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u751f\u6210\u3055\u308c\u3066\u3044\u308c\u3070OK\n\u56fa\u5b9a\u30da\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u751f\u6210\u5f8c\u3001\u95b2\u89a7\u3059\u308b\u56fa\u5b9a\u30da\u30fc\u30b8\u306e\u5185\u5bb9\u306b\u3001\u4ed6\u306e\u30da\u30fc\u30b8\u5185\u5bb9\u304c\u8868\u793a\u3055\u308c\u306a\u3051\u308c\u3070OK\n\n\n\u53c2\u8003\u60c5\u5831\nhttp://dxd8.com/archives/209/\n\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u52d5\u4f5c\u304c\u6709\u52b9\u306e\u969b\u306b\u3001\u95b2\u89a7\u3059\u308b\u56fa\u5b9a\u30da\u30fc\u30b8\u306e\u5185\u5bb9\u306b\u3001\u4ed6\u306e\u30da\u30fc\u30b8\u5185\u5bb9\u304c\u8868\u793a\u3055\u308c\u3066\u3057\u307e\u3046\u5834\u5408\u304c\u7a00\u306b\u3042\u308a\u307e\u3059\u3002\n\n- \u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u6709\u52b9\u306a\u306e\u306f\u901a\u5e38\u52d5\u4f5c\n- \u7ba1\u7406\u5074\u306b\u30ed\u30b0\u30a4\u30f3\u4e2d\u306f\u518d\u73fe\u3055\u308c\u306a\u3044\uff08\u95b2\u89a7\u6642\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u5229\u7528\u3055\u308c\u306a\u3044\u305f\u3081\uff09\n- debug\u30e2\u30fc\u30c9\u304c 1 \u306e\u5834\u5408\u306f\u518d\u73fe\u3055\u308c\u306a\u3044\uff08\u95b2\u89a7\u6642\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u5229\u7528\u3055\u308c\u306a\u3044\u305f\u3081\uff09\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5229\u7528\u3092\u6291\u5236\u3059\u308b\u3053\u3068\u3067\u304a\u624b\u8efd\u306b\u89e3\u6c7a\u3067\u304d\u307e\u3059\u304c\u3001\u8868\u793a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u843d\u3061\u308b\u305f\u3081\u539f\u56e0\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n\n```install.php\nConfigure::write('Cache.disable', true);\n```\n\n\n## \u767a\u751f\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3068\u74b0\u5883\n\n\u56fa\u5b9a\u30da\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u751f\u6210\u3055\u308c\u305f\u3042\u3068\u3001\u305d\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30d5\u30a1\u30a4\u30eb\u304c\u3001\u4ed6\u306e\u56fa\u5b9a\u30da\u30fc\u30b8\u8868\u793a\uff08URL\u306e\u8868\u793a\uff09\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5229\u7528\u3055\u308c\u3066\u3057\u307e\u3046\u3068\u304d\u3002\n\n### \u74b0\u5883\n\n- \u5927\u585a\u5546\u4f1a: \u30a2\u30eb\u30d5\u30a1\u30e1\u30fc\u30eb\u30d7\u30ec\u30df\u30a2: http://www.alpha-prm.jp/\n - PHP 5.3.3\n - baserCMS 3.0.5\n\n\n## \u539f\u56e0\n\nInflector::slug() \u3067\u306e\u6587\u5b57\u5217\u751f\u6210\u306b\u5931\u6557\u3057\u3066\u3044\u308b\u3002\n\n```/lib/Baser/Routing/Filter/BcCacheDispatcher.php\n$path = strtolower(Inflector::slug($path));\n```\n\n\u3053\u3053\u3067\u751f\u6210\u3055\u308c\u308b\u6587\u5b57\u5217\u306f\u3001\u56fa\u5b9a\u30da\u30fc\u30b8\u7528\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30d5\u30a1\u30a4\u30eb\u540d\u3068\u306a\u3063\u3066\u3044\u308b\u3002\n\u4f8b\uff1a/app/tmp/cache/views/hoge_fuga.php\n\u203b\u300c/\u300d\u306f\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\u306b\u5909\u63db\u3055\u308c\u308b\n\n\n## \u5bfe\u7b56\n\n/lib/Cake/Utility/Inflector.php \u306e slug() \u3092cake 1.2.12\uff08/cake/libs/inflector.php\uff09\u306e\u5185\u5bb9\u306b\u3059\u308b\u3002\n\n- /lib/Cake/Utility/Inflector.php \u3092 /app/Utility/Inflector.php \u306b\u30b3\u30d4\u30fc\u3059\u308b\n- slug() \u306e\u5185\u5bb9\u3092\u4ee5\u4e0b\u306b\u66f8\u63db\u3048\u308b\n\n```/app/Utility/Inflector.php\n\tpublic static function slug($string, $replacement = '_') {\n\t\tif ($_SERVER[\"SERVER_NAME\"] == 'example.com') {\n\t\t\t// \u672c\u756a\u74b0\u5883\u3067 cache\u30d5\u30a1\u30a4\u30eb\u304c\u6b63\u3057\u304f\u751f\u6210\u3055\u308c\u306a\u3044\u305f\u3081\u3001\n\t\t\t// cake 1.2.12\uff08/cake/libs/inflector.php\uff09\u306e\u30b3\u30fc\u30c9\u3092\u9069\u7528\n\t\t\tApp::uses('String', 'Utility');\n\t\t\t$map = array(\n\t\t\t\t'/\u00e0|\u00e1|\u00e5|\u00e2/' => 'a',\n\t\t\t\t'/\u00e8|\u00e9|\u00ea|\u1ebd|\u00eb/' => 'e',\n\t\t\t\t'/\u00ec|\u00ed|\u00ee/' => 'i',\n\t\t\t\t'/\u00f2|\u00f3|\u00f4|\u00f8/' => 'o',\n\t\t\t\t'/\u00f9|\u00fa|\u016f|\u00fb/' => 'u',\n\t\t\t\t'/\u00e7/' => 'c',\n\t\t\t\t'/\u00f1/' => 'n',\n\t\t\t\t'/\u00e4|\u00e6/' => 'ae',\n\t\t\t\t'/\u00f6/' => 'oe',\n\t\t\t\t'/\u00fc/' => 'ue',\n\t\t\t\t'/\u00c4/' => 'Ae',\n\t\t\t\t'/\u00dc/' => 'Ue',\n\t\t\t\t'/\u00d6/' => 'Oe',\n\t\t\t\t'/\u00df/' => 'ss',\n\t\t\t\t'/[^\\w\\s]/' => ' ',\n\t\t\t\t'/\\\\s+/' => $replacement,\n\t\t\t\tString::insert('/^[:replacement]+|[:replacement]+$/', array('replacement' => preg_quote($replacement, '/'))) => '',\n\t\t\t);\n\t\t\treturn preg_replace(array_keys($map), array_values($map), $string);\n\t\t} else {\n\t\t\t$quotedReplacement = preg_quote($replacement, '/');\n\n\t\t\t$merge = array(\n\t\t\t\t'/[^\\s\\p{Zs}\\p{Ll}\\p{Lm}\\p{Lo}\\p{Lt}\\p{Lu}\\p{Nd}]/mu' => ' ',\n\t\t\t\t'/[\\s\\p{Zs}]+/mu' => $replacement,\n\t\t\t\tsprintf('/^[%s]+|[%s]+$/', $quotedReplacement, $quotedReplacement) => '',\n\t\t\t);\n\n\t\t\t$map = self::$_transliteration + $merge;\n\t\t\treturn preg_replace(array_keys($map), array_values($map), $string);\n\t\t}\n\n\t}\n```\n\n## \u78ba\u8a8d\n\n- /app/tmp/cache/views \u5185\u306b\u751f\u6210\u3055\u308c\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u30d5\u30a1\u30a4\u30eb\u304c\u3001URL\u3092\u30d9\u30fc\u30b9\u306b\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u751f\u6210\u3055\u308c\u3066\u3044\u308c\u3070OK\n- \u56fa\u5b9a\u30da\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u751f\u6210\u5f8c\u3001\u95b2\u89a7\u3059\u308b\u56fa\u5b9a\u30da\u30fc\u30b8\u306e\u5185\u5bb9\u306b\u3001\u4ed6\u306e\u30da\u30fc\u30b8\u5185\u5bb9\u304c\u8868\u793a\u3055\u308c\u306a\u3051\u308c\u3070OK\n\n\n## \u53c2\u8003\u60c5\u5831\n\nhttp://dxd8.com/archives/209/\n", "tags": ["baserCMS"]}