{"tags": ["aws-cli", "AWS"], "context": " More than 1 year has passed since last update.AWS CLI\u52c9\u5f37\u4e2d\u306e\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u304d\u307e\u3059\u3002\nPREV\uff1a0.5\u304b\u3089\u59cb\u3081\u308bAWS CLI\u5165\u9580 - \u2461\u57fa\u672c\u4f7f\u7528\n\nhiroshik1985\u3055\u3093\u306e0\u304b\u3089\u59cb\u3081\u308bAWS\u5165\u9580\u2460\uff1aVPC\u7de8\u306e\u5185\u5bb9\u3092AWS CLI\u3067\u884c\u3044\u307e\u3059\uff08\u82e5\u5e72\u9055\u3046\u3068\u3053\u3082\u3042\u308a\u307e\u3059\uff09\u3002\n0\u304b\u3089\u59cb\u3081\u308bAWS\u5165\u9580\uff1a\u6982\u8981\u306f\u3001\u51c4\u304f\u308f\u304b\u308a\u3084\u3059\u3044\u306e\u3067\u4e00\u8aad\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\n\u203b\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u5927\u6587\u5b57\u3082\u3057\u304f\u306f\uff20\u304c8\u6587\u5b57\u9023\u7d9a\u3059\u308b\u5834\u6240\u306f\u3001\u51fa\u529b\u3055\u308c\u305fid\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nVPC\u306e\u4f5c\u6210\n10.0.0.0/16\u306e\u30a2\u30c9\u30ec\u30b9\u7a7a\u9593\u3092\u6271\u3046VPC\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n\n\n\u9805\u76ee\n\u5024\n\n\n\n\nName tag\n\u4efb\u610f\n\n\nCIDR\n10.0.0.0/16\n\n\ntenancy\nDefault\n\n\n\n$ aws ec2 create-vpc --cidr-block 10.0.0.0/16\n{\n    \"Vpc\": {\n        \"InstanceTenancy\": \"default\", \n        \"State\": \"pending\", \n        \"VpcId\": \"vpc-@@@@@@@@\", \n        \"CidrBlock\": \"10.0.0.0/16\", \n        \"DhcpOptionsId\": \"dopt-@@@@@@@@\"\n    }\n}\n\n\nVPC\u306f\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3001Name\u30bf\u30b0\u3092\u3064\u3051\u3066\u3042\u3052\u307e\u3059\u3002\n$ aws ec2 create-tags --resources vpc-@@@@@@@@ --tags Key=Name,Value=Test-VPC\n\n\nSubnet\u306e\u4f5c\u6210\n\u4e0a\u8a18\u3067\u4f5c\u3063\u305fVPC\u5185\u306eAZ-a\u3068AZ-c\u306bSubnet\u3092\u4f5c\u6210\u3059\u308b\u3002\u3053\u306eVPC\u5185\u3067\u6271\u3046\u30a2\u30c9\u30ec\u30b9\u7a7a\u9593\u3068\u3057\u3066\u3001CIDR\u306f10.0.0.0/24\u306810.0.1.0/24\u3068\u3059\u308b\u3002\n\n\n\n\u9805\u76ee\n\u5024\n\n\n\n\nName tag\n\u4efb\u610f(VPC\u306e\u30bf\u30b0\u540d\u3068\u95a2\u9023\u4ed8\u3051\u305f\u307b\u3046\u304c\u7ba1\u7406\u3057\u3084\u3059\u3044)\n\n\nVPC\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fVPC\u3092\u9078\u629e\u3059\u308b\n\n\nAvailability Zone\nap-northeast-1a\n\n\nCIDR\n10.0.0.0/24\n\n\n\n\n\n\n\u9805\u76ee\n\u5024\n\n\n\n\nName tag\n\u4efb\u610f(VPC\u306e\u30bf\u30b0\u540d\u3068\u95a2\u9023\u4ed8\u3051\u305f\u307b\u3046\u304c\u7ba1\u7406\u3057\u3084\u3059\u3044)\n\n\nVPC\n\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fVPC\u3092\u9078\u629e\u3059\u308b\n\n\nAvailability Zone\nap-northeast-1c\n\n\nCIDR\n10.0.1.0/24\n\n\n\n$ aws ec2 create-subnet --vpc-id vpc-@@@@@@@@ --availability-zone ap-northeast-1a --cidr-block 10.0.0.0/24\n{\n    \"Subnet\": {\n        \"VpcId\": \"vpc-@@@@@@@@\", \n        \"CidrBlock\": \"10.0.0.0/24\", \n        \"State\": \"pending\", \n        \"AvailabilityZone\": \"ap-northeast-1a\", \n        \"SubnetId\": \"subnet-AAAAAAAA\", \n        \"AvailableIpAddressCount\": 251\n    }\n}\n\n$ aws ec2 create-subnet --vpc-id vpc-@@@@@@@@ --availability-zone ap-northeast-1c --cidr-block 10.0.1.0/24\n\n{\n    \"Subnet\": {\n        \"VpcId\": \"vpc-@@@@@@@@\", \n        \"CidrBlock\": \"10.0.1.0/24\", \n        \"State\": \"pending\", \n        \"AvailabilityZone\": \"ap-northeast-1c\", \n        \"SubnetId\": \"subnet-CCCCCCCC\", \n        \"AvailableIpAddressCount\": 251\n    }\n}\n\nVPC\u3068\u540c\u69d8\u306bName\u30bf\u30b0\u3092\u3064\u3051\u3066\u3042\u3052\u308b\n$ aws ec2 create-tags --resources subnet-AAAAAAAA --tags Key=Name,Value=Test-subnet-AZ-a\n$ aws ec2 create-tags --resources subnet-CCCCCCCC --tags Key=Name,Value=Test-subnet-AZ-c\n\n\nInternet Gateway\u306e\u8ffd\u52a0\nInternet Gateway\u3092\u4f5c\u6210\n$ aws ec2 create-internet-gateway\n{\n    \"InternetGateway\": {\n        \"Tags\": [], \n        \"InternetGatewayId\": \"igw-IIIIIIII\", \n        \"Attachments\": []\n    }\n}\n\nVPC\u30fbSubnet\u3068\u540c\u69d8\u306bName\u30bf\u30b0\u3092\u3064\u3051\u3066\u3042\u3052\u308b\u3002\n$ aws ec2 create-tags --resources igw-IIIIIIII --tags Key=Name,Value=Test-igw\n\nVPC\u306b\u30a2\u30bf\u30c3\u30c1\n$ aws ec2 attach-internet-gateway --internet-gateway-id igw-IIIIIIII --vpc-id vpc-@@@@@@@@\n\n\nRoutes Table\u306e\u4f5c\u6210\nRoutes Table\u306fVPC\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3042\u308b\u306e\u3067\u3059\u304c\u4eca\u56de\u306f\u5225\u9014\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ aws ec2 create-route-table --vpc-id vpc-@@@@@@@@\n{\n    \"RouteTable\": {\n        \"Associations\": [], \n        \"RouteTableId\": \"rtb-RRRRRRRR\", \n        \"VpcId\": \"vpc-@@@@@@@@\", \n        \"PropagatingVgws\": [], \n        \"Tags\": [], \n        \"Routes\": [\n            {\n                \"GatewayId\": \"local\", \n                \"DestinationCidrBlock\": \"10.0.0.0/16\", \n                \"State\": \"active\", \n                \"Origin\": \"CreateRouteTable\"\n            }\n        ]\n    }\n}\n\nName\u30bf\u30b0\u301c(\u7565\n$ aws ec2 create-tags --resources rtb-RRRRRRRR --tags Key=Name,Value=Test-rtb\n\n\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u95a2\u9023\u4ed8\u3051\u3082\u3057\u3068\u304f\n$ aws ec2 associate-route-table --route-table-id rtb-RRRRRRRR --subnet-id subnet-AAAAAAAA\n{\n    \"AssociationId\": \"rtbassoc-SSSSSSSS\"\n}\n\n$ aws ec2 associate-route-table --route-table-id rtb-RRRRRRRR --subnet-id subnet-CCCCCCCC\n{\n    \"AssociationId\": \"rtbassoc-TTTTTTTT\"\n}\n\nInternet Gateway\u3078\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n$ aws ec2 create-route --route-table-id rtb-RRRRRRRR --destination-cidr-block 0.0.0.0/0 --gateway-id igw-IIIIIIII\n{\n    \"Return\": true\n}\n\n\n\u304a\u307e\u3051\nVPC\u306e\u30c6\u30ca\u30f3\u30b7\u30fc\u3092\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u5c02\u6709\u3067\u4f5c\u6210\u3059\u308b\u5834\u5408\naws ec2 create-vpc --cidr-block 10.0.0.0/16 --instance-tenancy dedicated\n\n\n\u9593\u9055\u3044\u3001\u6539\u5584\u70b9\u306a\u3069\u3042\u308a\u307e\u3057\u305f\u3089\u3054\u6307\u6458\u304a\u9858\u3044\u3057\u307e\u3059\u3002\nNext\uff1a0.5\u304b\u3089\u59cb\u3081\u308bAWS CLI\u5165\u9580 - \u2463EC2\nAWS CLI\u52c9\u5f37\u4e2d\u306e\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u304d\u307e\u3059\u3002\nPREV\uff1a**[0.5\u304b\u3089\u59cb\u3081\u308bAWS CLI\u5165\u9580 - \u2461\u57fa\u672c\u4f7f\u7528](http://qiita.com/yarakaki/items/dbd1c8a4feed2936107e)**\n* * *\n\n[hiroshik1985](http://qiita.com/hiroshik1985)\u3055\u3093\u306e[0\u304b\u3089\u59cb\u3081\u308bAWS\u5165\u9580\u2460\uff1aVPC\u7de8](http://qiita.com/hiroshik1985/items/9de2dd02c9c2f6911f3b)\u306e\u5185\u5bb9\u3092AWS CLI\u3067\u884c\u3044\u307e\u3059\uff08\u82e5\u5e72\u9055\u3046\u3068\u3053\u3082\u3042\u308a\u307e\u3059\uff09\u3002\n[0\u304b\u3089\u59cb\u3081\u308bAWS\u5165\u9580\uff1a\u6982\u8981](http://qiita.com/hiroshik1985/items/6433d5de97ac55fedfde)\u306f\u3001\u51c4\u304f\u308f\u304b\u308a\u3084\u3059\u3044\u306e\u3067\u4e00\u8aad\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\n\n**\u203b\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u5927\u6587\u5b57\u3082\u3057\u304f\u306f\uff20\u304c8\u6587\u5b57\u9023\u7d9a\u3059\u308b\u5834\u6240\u306f\u3001\u51fa\u529b\u3055\u308c\u305fid\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002**\n\n#VPC\u306e\u4f5c\u6210\n10.0.0.0/16\u306e\u30a2\u30c9\u30ec\u30b9\u7a7a\u9593\u3092\u6271\u3046VPC\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n|\u9805\u76ee|\u5024|\n|:-----------|:------------|\n|Name tag|\u4efb\u610f|\n|CIDR|10.0.0.0/16|\n|tenancy|Default|\n\n```:\n$ aws ec2 create-vpc --cidr-block 10.0.0.0/16\n{\n    \"Vpc\": {\n        \"InstanceTenancy\": \"default\", \n        \"State\": \"pending\", \n        \"VpcId\": \"vpc-@@@@@@@@\", \n        \"CidrBlock\": \"10.0.0.0/16\", \n        \"DhcpOptionsId\": \"dopt-@@@@@@@@\"\n    }\n}\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-22 22.10.20.png](https://qiita-image-store.s3.amazonaws.com/0/113901/e3f7fa85-2d16-c661-1e03-6a31d2b35725.png)\n\nVPC\u306f\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3001Name\u30bf\u30b0\u3092\u3064\u3051\u3066\u3042\u3052\u307e\u3059\u3002\n\n```:\n$ aws ec2 create-tags --resources vpc-@@@@@@@@ --tags Key=Name,Value=Test-VPC\n```\n\n#Subnet\u306e\u4f5c\u6210\n\u4e0a\u8a18\u3067\u4f5c\u3063\u305fVPC\u5185\u306eAZ-a\u3068AZ-c\u306bSubnet\u3092\u4f5c\u6210\u3059\u308b\u3002\u3053\u306eVPC\u5185\u3067\u6271\u3046\u30a2\u30c9\u30ec\u30b9\u7a7a\u9593\u3068\u3057\u3066\u3001CIDR\u306f10.0.0.0/24\u306810.0.1.0/24\u3068\u3059\u308b\u3002\n\n|\u9805\u76ee|\u5024|\n|:--------------|:---------------|\n|Name tag|\u4efb\u610f(VPC\u306e\u30bf\u30b0\u540d\u3068\u95a2\u9023\u4ed8\u3051\u305f\u307b\u3046\u304c\u7ba1\u7406\u3057\u3084\u3059\u3044)|\n|VPC|\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fVPC\u3092\u9078\u629e\u3059\u308b|\n|Availability Zone|ap-northeast-1a|\n|CIDR|10.0.0.0/24|\n\n|\u9805\u76ee|\u5024|\n|:--------------|:---------------|\n|Name tag|\u4efb\u610f(VPC\u306e\u30bf\u30b0\u540d\u3068\u95a2\u9023\u4ed8\u3051\u305f\u307b\u3046\u304c\u7ba1\u7406\u3057\u3084\u3059\u3044)|\n|VPC|\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fVPC\u3092\u9078\u629e\u3059\u308b|\n|Availability Zone|ap-northeast-1c|\n|CIDR|10.0.1.0/24|\n\n```:\n$ aws ec2 create-subnet --vpc-id vpc-@@@@@@@@ --availability-zone ap-northeast-1a --cidr-block 10.0.0.0/24\n{\n    \"Subnet\": {\n        \"VpcId\": \"vpc-@@@@@@@@\", \n        \"CidrBlock\": \"10.0.0.0/24\", \n        \"State\": \"pending\", \n        \"AvailabilityZone\": \"ap-northeast-1a\", \n        \"SubnetId\": \"subnet-AAAAAAAA\", \n        \"AvailableIpAddressCount\": 251\n    }\n}\n\n$ aws ec2 create-subnet --vpc-id vpc-@@@@@@@@ --availability-zone ap-northeast-1c --cidr-block 10.0.1.0/24\n\n{\n    \"Subnet\": {\n        \"VpcId\": \"vpc-@@@@@@@@\", \n        \"CidrBlock\": \"10.0.1.0/24\", \n        \"State\": \"pending\", \n        \"AvailabilityZone\": \"ap-northeast-1c\", \n        \"SubnetId\": \"subnet-CCCCCCCC\", \n        \"AvailableIpAddressCount\": 251\n    }\n}\n```\n\nVPC\u3068\u540c\u69d8\u306bName\u30bf\u30b0\u3092\u3064\u3051\u3066\u3042\u3052\u308b\n\n```:\n$ aws ec2 create-tags --resources subnet-AAAAAAAA --tags Key=Name,Value=Test-subnet-AZ-a\n$ aws ec2 create-tags --resources subnet-CCCCCCCC --tags Key=Name,Value=Test-subnet-AZ-c\n```\n\n#Internet Gateway\u306e\u8ffd\u52a0\nInternet Gateway\u3092\u4f5c\u6210\n\n```:\n$ aws ec2 create-internet-gateway\n{\n    \"InternetGateway\": {\n        \"Tags\": [], \n        \"InternetGatewayId\": \"igw-IIIIIIII\", \n        \"Attachments\": []\n    }\n}\n```\n\nVPC\u30fbSubnet\u3068\u540c\u69d8\u306bName\u30bf\u30b0\u3092\u3064\u3051\u3066\u3042\u3052\u308b\u3002\n\n```:\n$ aws ec2 create-tags --resources igw-IIIIIIII --tags Key=Name,Value=Test-igw\n```\n\nVPC\u306b\u30a2\u30bf\u30c3\u30c1\n\n```:\n$ aws ec2 attach-internet-gateway --internet-gateway-id igw-IIIIIIII --vpc-id vpc-@@@@@@@@\n```\n\n#Routes Table\u306e\u4f5c\u6210\nRoutes Table\u306fVPC\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3042\u308b\u306e\u3067\u3059\u304c\u4eca\u56de\u306f\u5225\u9014\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```:\n$ aws ec2 create-route-table --vpc-id vpc-@@@@@@@@\n{\n    \"RouteTable\": {\n        \"Associations\": [], \n        \"RouteTableId\": \"rtb-RRRRRRRR\", \n        \"VpcId\": \"vpc-@@@@@@@@\", \n        \"PropagatingVgws\": [], \n        \"Tags\": [], \n        \"Routes\": [\n            {\n                \"GatewayId\": \"local\", \n                \"DestinationCidrBlock\": \"10.0.0.0/16\", \n                \"State\": \"active\", \n                \"Origin\": \"CreateRouteTable\"\n            }\n        ]\n    }\n}\n```\n\nName\u30bf\u30b0\u301c(\u7565\n\n```:\n$ aws ec2 create-tags --resources rtb-RRRRRRRR --tags Key=Name,Value=Test-rtb\n```\n\n\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u95a2\u9023\u4ed8\u3051\u3082\u3057\u3068\u304f\n\n```:\n$ aws ec2 associate-route-table --route-table-id rtb-RRRRRRRR --subnet-id subnet-AAAAAAAA\n{\n    \"AssociationId\": \"rtbassoc-SSSSSSSS\"\n}\n\n$ aws ec2 associate-route-table --route-table-id rtb-RRRRRRRR --subnet-id subnet-CCCCCCCC\n{\n    \"AssociationId\": \"rtbassoc-TTTTTTTT\"\n}\n```\n\nInternet Gateway\u3078\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n\n```:\n$ aws ec2 create-route --route-table-id rtb-RRRRRRRR --destination-cidr-block 0.0.0.0/0 --gateway-id igw-IIIIIIII\n{\n    \"Return\": true\n}\n```\n\n#\u304a\u307e\u3051\nVPC\u306e\u30c6\u30ca\u30f3\u30b7\u30fc\u3092\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u5c02\u6709\u3067\u4f5c\u6210\u3059\u308b\u5834\u5408\n\n```:\naws ec2 create-vpc --cidr-block 10.0.0.0/16 --instance-tenancy dedicated\n```\n\n***\n\n\u9593\u9055\u3044\u3001\u6539\u5584\u70b9\u306a\u3069\u3042\u308a\u307e\u3057\u305f\u3089\u3054\u6307\u6458\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\nNext\uff1a**[0.5\u304b\u3089\u59cb\u3081\u308bAWS CLI\u5165\u9580 - \u2463EC2](http://qiita.com/yarakaki/items/45b59ad11f17142b5817)**\n"}