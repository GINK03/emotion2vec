{"tags": ["centos7", "firewalld", "firewall-cmd"], "context": "\n\n1 firewall-cmd\u3068\u306f\n\n2 \u74b0\u5883(CentOS7.3)\n[root@master firewalld]# cat /etc/redhat-release\nCentOS Linux release 7.3.1611 (Core)\n[root@master firewalld]# uname -r\n3.10.0-514.el7.x86_64\n\n\n\n3 \u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30c8\u3068\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\n\n\n\n\u30eb\u30fc\u30eb\n\u30eb\u30fc\u30eb\u306e\u4fdd\u5b58\u5148\n\n\n\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\n\u30e1\u30e2\u30ea\u4e0a\u306b\u4fdd\u5b58\u3055\u308c\u308b\u3002firewalld\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u3068\u6d88\u3048\u308b\u3002\n\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\n\u30d5\u30a1\u30a4\u30eb(/etc/firewalld/zones\u914d\u4e0b)\u306b\u4fdd\u5b58\u3055\u308c\u308b\u3002firewalld\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u3068\u3001\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30eb\u30fc\u30eb\u304c\u8aad\u307f\u8fbc\u307e\u308c\u30e1\u30e2\u30ea\u306b\u5c55\u958b\u3055\u308c\u308b\n\n\n\n--runtime-to-permanent\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30e1\u30e2\u30ea\u4e0a\u306e\u30eb\u30fc\u30eb\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3002\n\u9006\u306b\u3001--reload\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u305f\u30eb\u30fc\u30eb\u3092\u30e1\u30e2\u30ea\u306b\u5c55\u958b\u3059\u308b\u3002\n\n\n    (1)                                                (3)\n     |             --runtime-to-permanent               |\n     V            ----------- (2) ------------->        V\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb                               \u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\n\uff08\u30e1\u30e2\u30ea)         <---------- (4) ------------- (/etc/firewalld/zones/public.xml etc)\n                         --reload\n\n\n\n4 \u30eb\u30fc\u30eb\u306e\u767b\u9332\n3\u7ae0\u306e(1),(2),(3),(4)\u306b\u3064\u3044\u3066\u3001\u305d\u308c\u305e\u308c\u5b9f\u884c\u4f8b\u3092\u793a\u3059\u3002\n\n4.1 \u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u30eb\u30fc\u30eb\u3092\u767b\u9332\n3\u7ae0\u306e(1)\u306b\u3064\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3002\n(1)\u306e\u5834\u5408\u3001firewalld\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u3068\u3001\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u304c\u6d88\u3048\u308b\u3002\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b11111\u756a\u30dd\u30fc\u30c8\u3092\u767b\u9332(\u300c\u30a2\u30af\u30bb\u30b9\u53ef\u300d\u3068\u3044\u3046\u610f\u5473\uff09\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --add-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n11111/tcp\n\nINPUT\u30c1\u30a7\u30a4\u30f3\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u30eb\u30fc\u30eb\u304c\u8ffd\u52a0\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# iptables -nL\n-\u4e2d\u7565-\nINPUT\n + INPUT_ZONES\n    + IN_public\n       + IN_public_allow\n          + ACCEPT     tcp  --  0.0.0.0/0        0.0.0.0/0        tcp dpt:11111 ctstate NEW\n\nfirewalld\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n[root@master firewalld]# systemctl restart firewalld.service\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u767b\u9332\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u6d88\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\n\n4.2 \u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58(--runtime-to-permanent)\n3\u7ae0\u306e(2)\u306b\u3064\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3002\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b11111\u756a\u30dd\u30fc\u30c8\u3092\u767b\u9332\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --add-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332(\u30a2\u30af\u30bb\u30b9\u53ef)\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n11111/tcp\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --runtime-to-permanent\nsuccess\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n  <port protocol=\"tcp\" port=\"11111\"/>\n\nfirewalld\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n[root@master firewalld]# systemctl restart firewalld.service\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u767b\u9332\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u6b8b\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n11111/tcp\n[root@master firewalld]#\n\n\u6b21\u306e\u691c\u8a3c\u306e\u305f\u3081\u3001\u5f8c\u59cb\u672b\u3092\u3059\u308b\u3002\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u304b\u3089\u30eb\u30fc\u30eb\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --remove-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --runtime-to-permanent\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002111111\u756a\u30dd\u30fc\u30c8\u304c\u524a\u9664\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n[root@master firewalld]#\n\n\n\n4.3 \u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u30eb\u30fc\u30eb\u3092\u4fdd\u5b58(--permanent)\n3\u7ae0\u306e(3)\u306b\u3064\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3002\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002111111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n[root@master firewalld]#\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b11111\u756a\u30dd\u30fc\u30c8\u3092\u767b\u9332\u3059\u308b(--permanent)\u3002\n[root@master firewalld]# firewall-cmd --permanent --add-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n  <port protocol=\"tcp\" port=\"11111\"/>\n\n\n\n4.4 \u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58(--reload)\n3\u7ae0\u306e(4)\u306b\u3064\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3002\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30eb\u30fc\u30eb\u3092\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u5c55\u958b\u3059\u308b\u3002\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b11111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u53ef\u3092\u767b\u9332\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --permanent --add-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332(\u30a2\u30af\u30bb\u30b9\u53ef)\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n  <port protocol=\"tcp\" port=\"11111\"/>\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u5c55\u958b\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --reload\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332(\u30a2\u30af\u30bb\u30b9\u53ef)\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n11111/tcp\n\n\u5f8c\u59cb\u672b\u3092\u3059\u308b\u3002\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u304b\u308911111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u53ef\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --remove-port=11111/tcp\nsuccess\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u304b\u308911111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u53ef\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --runtime-to-permanent\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u53ef\u304c\u524a\u9664\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n[root@master firewalld]#\n\n\n\nX \u53c2\u8003\u60c5\u5831\nCentOS 7\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\u30ac\u30a4\u30c9 systemd/NetworkManager/Firewalld\u5fb9\u5e95\u653b\u7565\n#1 firewall-cmd\u3068\u306f\n\n\n#2 \u74b0\u5883(CentOS7.3)\n\n```\n[root@master firewalld]# cat /etc/redhat-release\nCentOS Linux release 7.3.1611 (Core)\n[root@master firewalld]# uname -r\n3.10.0-514.el7.x86_64\n\n```\n\n#3 \u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30c8\u3068\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\n|\u30eb\u30fc\u30eb             | \u30eb\u30fc\u30eb\u306e\u4fdd\u5b58\u5148                                       |\n|:-----------------|:----------------------------------------------------|\n|\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb   | \u30e1\u30e2\u30ea\u4e0a\u306b\u4fdd\u5b58\u3055\u308c\u308b\u3002firewalld\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u3068\u6d88\u3048\u308b\u3002|\n|\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb |\u30d5\u30a1\u30a4\u30eb(/etc/firewalld/zones\u914d\u4e0b)\u306b\u4fdd\u5b58\u3055\u308c\u308b\u3002firewalld\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u3068\u3001\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30eb\u30fc\u30eb\u304c\u8aad\u307f\u8fbc\u307e\u308c\u30e1\u30e2\u30ea\u306b\u5c55\u958b\u3055\u308c\u308b|\n\n--runtime-to-permanent\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30e1\u30e2\u30ea\u4e0a\u306e\u30eb\u30fc\u30eb\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3002\n\u9006\u306b\u3001--reload\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u305f\u30eb\u30fc\u30eb\u3092\u30e1\u30e2\u30ea\u306b\u5c55\u958b\u3059\u308b\u3002\n\n\n```\n\n\n    (1)                                                (3)\n     |             --runtime-to-permanent               |\n     V            ----------- (2) ------------->        V\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb                               \u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\n\uff08\u30e1\u30e2\u30ea)         <---------- (4) ------------- (/etc/firewalld/zones/public.xml etc)\n                         --reload\n\n```\n\n\n#4 \u30eb\u30fc\u30eb\u306e\u767b\u9332\n3\u7ae0\u306e(1),(2),(3),(4)\u306b\u3064\u3044\u3066\u3001\u305d\u308c\u305e\u308c\u5b9f\u884c\u4f8b\u3092\u793a\u3059\u3002\n\n##4.1 \u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u30eb\u30fc\u30eb\u3092\u767b\u9332\n3\u7ae0\u306e(1)\u306b\u3064\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3002\n(1)\u306e\u5834\u5408\u3001firewalld\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\u3068\u3001\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u304c\u6d88\u3048\u308b\u3002\n\n```\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b11111\u756a\u30dd\u30fc\u30c8\u3092\u767b\u9332(\u300c\u30a2\u30af\u30bb\u30b9\u53ef\u300d\u3068\u3044\u3046\u610f\u5473\uff09\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --add-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n11111/tcp\n\nINPUT\u30c1\u30a7\u30a4\u30f3\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u30eb\u30fc\u30eb\u304c\u8ffd\u52a0\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# iptables -nL\n-\u4e2d\u7565-\nINPUT\n + INPUT_ZONES\n    + IN_public\n       + IN_public_allow\n          + ACCEPT     tcp  --  0.0.0.0/0        0.0.0.0/0        tcp dpt:11111 ctstate NEW\n\nfirewalld\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n[root@master firewalld]# systemctl restart firewalld.service\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u767b\u9332\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u6d88\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n```\n\n\n##4.2 \u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58(--runtime-to-permanent)\n3\u7ae0\u306e(2)\u306b\u3064\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3002\n\n```\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b11111\u756a\u30dd\u30fc\u30c8\u3092\u767b\u9332\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --add-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332(\u30a2\u30af\u30bb\u30b9\u53ef)\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n11111/tcp\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --runtime-to-permanent\nsuccess\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n  <port protocol=\"tcp\" port=\"11111\"/>\n\nfirewalld\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n[root@master firewalld]# systemctl restart firewalld.service\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u767b\u9332\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u6b8b\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n11111/tcp\n[root@master firewalld]#\n\n\u6b21\u306e\u691c\u8a3c\u306e\u305f\u3081\u3001\u5f8c\u59cb\u672b\u3092\u3059\u308b\u3002\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u304b\u3089\u30eb\u30fc\u30eb\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --remove-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --runtime-to-permanent\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002111111\u756a\u30dd\u30fc\u30c8\u304c\u524a\u9664\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n[root@master firewalld]#\n\n```\n\n##4.3 \u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u30eb\u30fc\u30eb\u3092\u4fdd\u5b58(--permanent)\n3\u7ae0\u306e(3)\u306b\u3064\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3002\n\n\n```\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002111111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n[root@master firewalld]#\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b11111\u756a\u30dd\u30fc\u30c8\u3092\u767b\u9332\u3059\u308b(--permanent)\u3002\n[root@master firewalld]# firewall-cmd --permanent --add-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n  <port protocol=\"tcp\" port=\"11111\"/>\n\n```\n\n\n##4.4 \u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58(--reload)\n3\u7ae0\u306e(4)\u306b\u3064\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3002\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30eb\u30fc\u30eb\u3092\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u5c55\u958b\u3059\u308b\u3002\n\n```\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b11111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u53ef\u3092\u767b\u9332\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --permanent --add-port=11111/tcp\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332(\u30a2\u30af\u30bb\u30b9\u53ef)\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n  <port protocol=\"tcp\" port=\"11111\"/>\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u306b\u5c55\u958b\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --reload\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u304c\u767b\u9332(\u30a2\u30af\u30bb\u30b9\u53ef)\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n11111/tcp\n\n\u5f8c\u59cb\u672b\u3092\u3059\u308b\u3002\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u304b\u308911111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u53ef\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --remove-port=11111/tcp\nsuccess\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u304b\u308911111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u53ef\u3092\u524a\u9664\u3059\u308b\u3002\n[root@master firewalld]# firewall-cmd --runtime-to-permanent\nsuccess\n\n\u30e9\u30f3\u30bf\u30a4\u30e0\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3002\u4f55\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# firewall-cmd --list-ports\n\n\u30d1\u30fc\u30de\u30cd\u30f3\u30c8\u30eb\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u300211111\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u53ef\u304c\u524a\u9664\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308b\u3002\n[root@master firewalld]# cat /etc/firewalld/zones/public.xml|grep 11111\n[root@master firewalld]#\n\n```\n\n\n\n\n\n\n\n#X \u53c2\u8003\u60c5\u5831\n[CentOS 7\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\u30ac\u30a4\u30c9 systemd/NetworkManager/Firewalld\u5fb9\u5e95\u653b\u7565](http://www.shuwasystem.co.jp/products/7980html/4491.html)\n"}