{"context": "\n\n\u6982\u8981\n\u666e\u6bb5Rails\u3068Android\u306e\u30b3\u30fc\u30c9\u3057\u304b\u66f8\u3044\u3066\u306a\u304f\u3066\u3001js\u7cfb\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5168\u304f\u89e6\u3063\u3066\u306a\u304b\u3063\u305f\u306e\u3067\u6d41\u884c\u308a\u306eReact.js\u3092\u4f7f\u3063\u3066Web\u30a2\u30d7\u30ea\u3092\u88fd\u4f5c\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\u8abf\u3079\u3066\u307f\u305f\u3089Redux\u3068\u3044\u3046module\u304c\u826f\u3044\u3068\u66f8\u3044\u3066\u3042\u3063\u305f\u306e\u3067\u8a66\u3057\u3066\u307f\u305f\u3002\n\u8aad\u8005\u5bfe\u8c61\u306f\u57fa\u672c\u7684\u306b\u5c06\u6765\u306e\u81ea\u5206\u3067\u3059\u304c\u3001\u3082\u3063\u3068\u3053\u3093\u306a\u306e\u3042\u308b\u3088\uff01\u3068\u3053\u3053\u9593\u9055\u3063\u3066\u308b\u3088\uff01\u307f\u305f\u3044\u306a\u7de8\u96c6\u30ea\u30af\u30a8\u30b9\u30c8\u3068\u304b\u306f\u5927\u6b53\u8fce\u3067\u3059\u3002\n\u4eca\u56de\u306e\u5b66\u7fd2\u3067\u81ea\u52d5\u8eca\u514d\u8a31\u5b66\u79d1\u8a66\u9a13\u3068\u3044\u3046Web\u30a2\u30d7\u30ea\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\u3088\u3051\u308c\u3070\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\u4eca\u56de\u306f\u88fd\u4f5c\u7de8\u3067\u3059\u3002\n\n\u4eca\u56de\u4f5c\u308b\u3082\u306e\n\u304c\u3063\u3064\u308aDOM\u306e\u751f\u6210\u3092\u3057\u307e\u304f\u308b\u3084\u3064\u304c\u826f\u304b\u3063\u305f\u306e\u3067\u81ea\u52d5\u8eca\u8a66\u9a13\u306e\u5b66\u79d1\u8a66\u9a13\u554f\u984c\u3092\u3072\u305f\u3059\u3089\u89e3\u304fWeb\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u305f\n\n\u96db\u5f62\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\nyeoman redux\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3067\u96db\u5f62\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\nbash\n$ npm install -g yo\n$ npm install -g generator-redux\n$ yo redux\n? What's the name of your application? Counter\n? Describe your application in one sentence: ...\n? Which port would you like to run on? 3000\n? Install dependencies? Yes\n\n\n\njs\u306e\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\n\nactions\n\u300c\u4f55\u304c\u8d77\u304d\u305f\u300d\u3068\u3044\u3046\u3053\u3068\u306b\u3064\u3044\u3066\u306e\u8a18\u8ff0\n\ncomponents\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n\ncontainers\n\u30e1\u30a4\u30f3\u90e8\u5206\n\nreducers\nAction\u306b\u5f93\u3063\u305f\u30b9\u30c6\u30fc\u30c8\u306e\u66f4\u65b0\u3092\u8a18\u8ff0\n\nstore\nAction\u3068Reducer\u3092\u3064\u306a\u3052\u308b\n\nutils\n\u30c7\u30d0\u30b0\u30c4\u30fc\u30eb\n\n\u5404\u30d5\u30a9\u30eb\u30c0\u306e\u5185\u5bb9\n\u30e1\u30e2\u3068\u4e00\u7dd2\u306b\u8a18\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u304c\u3001\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u306f\u771f\u4f3c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u4eca\u898b\u308b\u3068\u304b\u306a\u308a\u7121\u99c4\u306a\u69cb\u6210\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u30d5\u30a9\u30eb\u30c0\u3067\u306f\u3053\u3093\u306a\u611f\u3058\u306e\u3053\u3068\u3084\u308b\u306e\u304b\n\u3068\u304b\n\u3053\u3093\u306a\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u306e\u306d\n\u7a0b\u5ea6\u306e\u53c2\u8003\u306b\u4f7f\u3063\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\nindex.js\n\u5168\u4f53\u306e\u69cb\u6210\u90e8\nProvider\u306bstore\u3092\u6e21\u3057\u3066\u304a\u3044\u3066\u3001connect\u3067components\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\nindex.js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App';\nimport { Provider } from 'react-redux';\nimport configureStore from './store/configureStore';\n// \u5168\u4f53\u3092\u751f\u6210\nconst store = configureStore();\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('main')\n);\n\n\n\nstore\nreducers\u304b\u3089store\u3092\u751f\u6210\u3059\u308b\u3002\n\nstore/configureStore.js\nimport { createStore } from 'redux';\nimport rootReducer from '../reducers';\n\nexport default function configureStore(initialState) {\n  const store = createStore(rootReducer, initialState);\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept('../reducers', () => {\n      const nextReducer = require('../reducers').default;\n      store.replaceReducer(nextReducer);\n    });\n  }\n  return store;\n}\n\n\n\nreducers\n\u500b\u5225\u306ereducers\u3002\n\u3053\u3093\u306a\u611f\u3058\u3067reducer\u304c\u8907\u96d1\u306b\u306a\u3089\u306a\u3044\u3088\u3046\u306b\u5897\u3084\u3057\u3066\u3044\u304f\n\nreducers/problem.js\nimport * as types from '../constants/ActionTypes';\nimport json from 'json!../../data.json';\nconst initialState = {\n  problems: json,\n  id: Math.floor(Math.random()*json.length),\n  ans: 1,\n  dialog: false\n}\n\nexport default function problems(state = initialState, action) {\n  // Action\u4ee5\u4e0b\u3067\u306fstate\u306f\u66f8\u304d\u63db\u3048\u3066\u306f\u3044\u3051\u306a\u3044\u3002\u66f8\u304d\u63db\u3048\u305f\u3082\u306e\u3092\u6e21\u3057\u3066\u3082\u66f4\u65b0\u304c\u53cd\u6620\u3055\u308c\u306a\u3044\u306e\u3067\u6ce8\u610f\n  let data = {};\n  switch (action.type) {\n    case types.CLICK_ANS:\n      data = Object.assign({}, state);\n      data.ans = action.id;\n      data.dialog = true;\n      return data;\n    case types.DISMISS_DIALOG:\n      data = Object.assign({}, state);\n      data.dialog = false;\n      data.id = Math.floor(Math.random()*state.problems.length)\n      console.log(data);\n      return data\n    default:\n      return state;\n  }\n}\n\n\nreducer\u305f\u3061\u3092\u307e\u3068\u3081\u3066store\u306b\u6e21\u3059\u3088\u3046\u306ereducer\n\nreducers/index.js\nimport { combineReducers } from 'redux';\nimport problems from './problems';\n\nconst rootReducer = combineReducers({\n  problems,\n});\n\nexport default rootReducer;\n\n\n\ncontainers\ncomponet\u3092\u5185\u5305\u3059\u308bRootComponent\n\napp.js\nimport React, { Component, PropTypes } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer'\nimport MainSection from '../components/MainSection';\nimport * as Actions from '../actions';\n\n\nclass App extends Component {\n  render() {\n    const style = {\n      body: {\n        backgroundColor: \"#FAFAFA\",\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n    };\n    const { problems, actions } = this.props;\n    return (\n      <div style={style.body}>\n        <Header/>\n        <MainSection problems={problems} actions={actions}/>\n        <Footer actions={actions}/>\n      </div>\n    );\n  }\n}\n\n// global\u5909\u6570\u304b\u3089\u53d6\u5f97\u3057\u3066props\u306b\u6e21\u3059\nfunction mapStateToProps(state) {\n  return {\n    problems: state.problems,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(Actions, dispatch),\n  };\n}\n// this.props\u306e\u521d\u671f\u5024\u3068\u306a\u308bproblems\u3068actions\u3092\u6e21\u3059\n//=> const { problems, actions } = this.props\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n\n\n\nconstants\nAction\u306eType\u3092\u5ba3\u8a00\u3057\u3066\u3044\u308b\u3060\u3051\u3002\n\u5225\u306b\u76f4\u63a5\u6587\u5b57\u5217\u3092\u6253\u3061\u8fbc\u3093\u3067\u3082\u554f\u984c\u306f\u306a\u3044\u3002\n\nActionType.js\nexport const DELETE_TODO = 'DELETE_TODO';\nexport const DISMISS_DIALOG = 'DISMISS_DIALOG';\nexport const CLICK_ANS = 'CLICK_ANS';\n\n\n\ncomponents\n\u5b9f\u969b\u306e\u8981\u7d20\n\u3053\u3044\u3064\u3089\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u3044\u304f\n\nproblem.js\nimport React, { Component, PropTypes } from 'react';\nimport Problem from '../components/problem'\n\nclass MainSection extends Component {\n  render() {\n    const problems = this.props.problems\n    const actions = this.props.actions\n    const style=  {\n      main: {\n        margin: \"16px\",\n        padding: \"16px\",\n        backgroundColor: \"#FFFFFF\",\n        flex: \"1\"\n      }\n    };\n    return (\n      <section className=\"main\" style={style.main}>\n        <Problem problems={problems} actions={actions} />\n      </section>\n    );\n  }\n}\nexport default MainSection;\n\n\nimport React, { Component, PropTypes } from 'react';\nimport Dialog from './dialog';\nimport * as Actions from '../actions';\n\nclass Problem extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const problems = this.props.problems.problems\n    const clickAns = this.props.actions.clickAns\n    const id = this.props.problems.id\n    let choices = [\n      {id: 1, text: \"\u307e\u308b\"},\n      {id: 2, text: \"\u3070\u3064\"}\n    ]\n\n    const style = {\n      choices: {\n        marginTop: \"48px\",\n        display: \"flex\"\n      },\n      choice: {\n        flex: \"1\",\n        textAlign: \"center\",\n        fontWeight: \"700\"\n      },\n      problem: {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\"\n      },\n      text: {\n        flex: \"1\"\n      }\n    }\n\n    return (\n      <div style={style.problem}>\n        < Dialog problem={problems[id]} problems={this.props.problems} action={this.props.actions.dismissDialog}/>\n        <p style={style.text}>{ problems[id].text }</p>\n        <div style={style.choices}>\n          {choices.map(choice =>\n            <div style={style.choice} onClick={() => clickAns(choice.id)} key={choice.id}>{choice.text}</div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Problem;\n\n\nMainSection.js\nimport React, { Component, PropTypes } from 'react';\nimport Problem from '../components/problem'\n\nclass MainSection extends Component {\n  render() {\n    const problems = this.props.problems\n    const actions = this.props.actions\n    const style=  {\n      main: {\n        margin: \"16px\",\n        padding: \"16px\",\n        backgroundColor: \"#FFFFFF\",\n        flex: \"1\"\n      }\n    };\n    return (\n      <section className=\"main\" style={style.main}>\n        <Problem problems={problems} actions={actions} />\n      </section>\n    );\n  }\n}\nexport default MainSection;\n\n\n\nheader.js\nimport React, { Component, PropTypes } from 'react';\n\nclass Header extends Component {\n  render() {\n    const style = {\n      header: {\n        height: \"64px\",\n        background: \"#202026\",\n        verticalAlign: \"middle\",\n      },\n      title: {\n        color: \"#fff\",\n        fontSize: \"18px\",\n        lineHeight: 64-8*2 + \"px\",\n        verticalAlign: \"middle\",\n        display: \"inline-block\",\n        margin: \"0px\",\n        padding: \"8px 32px\"\n      }\n    };\n    return (\n      <header className=\"header\" style={style.header}>\n        <h1 style={style.title}>\u81ea\u52d5\u8eca\u514d\u8a31\u5b66\u79d1\u8a66\u9a13\u554f\u984c\u96c6</h1>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n\n\n\nfooter.js\nimport React, { Component, PropTypes } from 'react';\n\nclass Footer extends Component {\n  render() {\n    const style = {\n      footer: {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        backgroundColor: \"#fff\"\n\n      },\n      menu: {\n        flex: \"1\",\n        textAlign: \"center\",\n        padding: \"16px\",\n        borderRight: \"solid 1px #EEEEEE\"\n      }\n    };\n    return (\n      <footer style={style.footer} className=\"footer\">\n        <div style={style.menu}>\u4eee\u514d\u8a66\u9a13</div>\n        <div style={style.menu}>\u672c\u514d\u8a66\u9a13</div>\n        <div style={style.menu}>\u4e00\u89a7</div>\n        <div style={style.menu}>\u3068\u304d\u76f4\u3057</div>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n\n\n\nDialog.js\nimport React, { Component, PropTypes } from 'react';\n\nclass Dialog extends Component {\n  render() {\n    const props = this.props.problems\n    const problem = this.props.problem\n    // \u8868\u793a\u72b6\u614b\u3092\u5909\u3048\u308b\n\n    const style = {\n      dialogBg: {\n         //\u3053\u3093\u306a\u611f\u3058\u3067style\u306b\u95a2\u3057\u3066\u3082\u5909\u6570\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n        display: props.dialog ? \"block\": \"none\",\n        position: \"fixed\",\n        zIndex: \"1\",\n        width: \"100%\",\n        height: \"100%\",\n        background: \"rgba(255, 255, 255, 0.8)\",\n        top: \"0\",\n        left: \"0\"\n\n      },\n      dialog: {\n        zIndex: \"1\",\n        width: \"70%\",\n        height: \"auto\",\n        background: \"#fff\",\n        margin: \"0\",\n        padding: \"24px\",\n        zIndex: \"2\",\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        border: \"solid 1px #CCCCCC\",\n        borderRadius: \"24px\"\n      },\n      p: {\n        marginBottom: \"12px\"\n      },\n      next: {\n        textAlign: \"right\",\n        fontWeight: \"700\"\n      }\n    };\n    let judge = \"\"\n    if (props.ans == problem.correct) {\n      judge = \"\u6b63\u89e3\"\n    } else {\n      judge = \"\u4e0d\u6b63\u89e3\"\n    }\n    const exp = problem.correct == 1 ? \"\u307e\u308b\" : \"\u3070\u3064\"\n    return (\n      <div style={style.dialogBg}>\n        <div style={style.dialog}>\n          <p style={style.p}>\u7d50\u679c: {judge}</p>\n          <p style={style.p}>\u554f\u984c: { problem.text }</p>\n          <p style={style.p}>\u7b54\u3048: { exp }</p>\n          <p style={style.p}>{ problem.explanation }</p>\n          <div style={style.next} onClick={() => this.props.action()}>\u6b21\u3078</div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Dialog;\n\n\n\nActions\n\u5b9f\u969b\u306eAction\u305f\u3061\u3002\n\u51e6\u7406\u3092\u3059\u308b\u306e\u306freducer\u306a\u306e\u3067\u307b\u307c\u307b\u307c\u5ba3\u8a00\u3060\u3051\n\nindex.js\nimport * as types from '../constants/ActionTypes';\n\nexport function dismissDialog() {\n  return { type: types.DISMISS_DIALOG};\n};\n\nexport function clickAns(id) {\n  return {\n    type: types.CLICK_ANS,\n    id: id\n  };\n};\n\n\n\n\u611f\u60f3\n\u3044\u307e\u307f\u308b\u3068\u306a\u304b\u306a\u304b\u306b\u3072\u3069\u3044\u3067\u3059\u3051\u3069\u8aad\u3081\u3070\u5404\u30d5\u30a9\u30eb\u30c0\u306b\u66f8\u304f\u3079\u304d\u5185\u5bb9\u304c\u4f55\u3068\u306a\u304f\u308f\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4e00\u901a\u308a\u6a5f\u80fd\u304c\u5168\u90e8\u5b8c\u6210\u3057\u305f\u3089\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u53c2\u8003\u6587\u732e\nReact Redux\nReact Redux \u52dd\u624b\u306b\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\n\n## \u6982\u8981\n\u666e\u6bb5Rails\u3068Android\u306e\u30b3\u30fc\u30c9\u3057\u304b\u66f8\u3044\u3066\u306a\u304f\u3066\u3001js\u7cfb\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5168\u304f\u89e6\u3063\u3066\u306a\u304b\u3063\u305f\u306e\u3067\u6d41\u884c\u308a\u306eReact.js\u3092\u4f7f\u3063\u3066Web\u30a2\u30d7\u30ea\u3092\u88fd\u4f5c\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\u8abf\u3079\u3066\u307f\u305f\u3089Redux\u3068\u3044\u3046module\u304c\u826f\u3044\u3068\u66f8\u3044\u3066\u3042\u3063\u305f\u306e\u3067\u8a66\u3057\u3066\u307f\u305f\u3002\n\n\u8aad\u8005\u5bfe\u8c61\u306f\u57fa\u672c\u7684\u306b\u5c06\u6765\u306e\u81ea\u5206\u3067\u3059\u304c\u3001\u3082\u3063\u3068\u3053\u3093\u306a\u306e\u3042\u308b\u3088\uff01\u3068\u3053\u3053\u9593\u9055\u3063\u3066\u308b\u3088\uff01\u307f\u305f\u3044\u306a\u7de8\u96c6\u30ea\u30af\u30a8\u30b9\u30c8\u3068\u304b\u306f\u5927\u6b53\u8fce\u3067\u3059\u3002\n\n\u4eca\u56de\u306e\u5b66\u7fd2\u3067[\u81ea\u52d5\u8eca\u514d\u8a31\u5b66\u79d1\u8a66\u9a13](http://menkyo.site/)\u3068\u3044\u3046Web\u30a2\u30d7\u30ea\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\u3088\u3051\u308c\u3070\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u4eca\u56de\u306f\u88fd\u4f5c\u7de8\u3067\u3059\u3002\n\n\n## \u4eca\u56de\u4f5c\u308b\u3082\u306e\n\u304c\u3063\u3064\u308aDOM\u306e\u751f\u6210\u3092\u3057\u307e\u304f\u308b\u3084\u3064\u304c\u826f\u304b\u3063\u305f\u306e\u3067\u81ea\u52d5\u8eca\u8a66\u9a13\u306e\u5b66\u79d1\u8a66\u9a13\u554f\u984c\u3092\u3072\u305f\u3059\u3089\u89e3\u304fWeb\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u305f\n\n\n## \u96db\u5f62\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\nyeoman redux\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3067\u96db\u5f62\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\n```bash:bash\n$ npm install -g yo\n$ npm install -g generator-redux\n$ yo redux\n? What's the name of your application? Counter\n? Describe your application in one sentence: ...\n? Which port would you like to run on? 3000\n? Install dependencies? Yes\n```\n\n##js\u306e\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\n####actions\n\u300c\u4f55\u304c\u8d77\u304d\u305f\u300d\u3068\u3044\u3046\u3053\u3068\u306b\u3064\u3044\u3066\u306e\u8a18\u8ff0\n#### components\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n#### containers\n\u30e1\u30a4\u30f3\u90e8\u5206\n#### reducers\nAction\u306b\u5f93\u3063\u305f\u30b9\u30c6\u30fc\u30c8\u306e\u66f4\u65b0\u3092\u8a18\u8ff0\n#### store\nAction\u3068Reducer\u3092\u3064\u306a\u3052\u308b\n#### utils\n\u30c7\u30d0\u30b0\u30c4\u30fc\u30eb\n\n## \u5404\u30d5\u30a9\u30eb\u30c0\u306e\u5185\u5bb9\n\u30e1\u30e2\u3068\u4e00\u7dd2\u306b\u8a18\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u304c\u3001\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u306f\u771f\u4f3c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u4eca\u898b\u308b\u3068\u304b\u306a\u308a\u7121\u99c4\u306a\u69cb\u6210\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u30d5\u30a9\u30eb\u30c0\u3067\u306f\u3053\u3093\u306a\u611f\u3058\u306e\u3053\u3068\u3084\u308b\u306e\u304b\n\u3068\u304b\n\u3053\u3093\u306a\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u306e\u306d\n\u7a0b\u5ea6\u306e\u53c2\u8003\u306b\u4f7f\u3063\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n## index.js\n\u5168\u4f53\u306e\u69cb\u6210\u90e8\nProvider\u306bstore\u3092\u6e21\u3057\u3066\u304a\u3044\u3066\u3001connect\u3067components\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\n```index.js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App';\nimport { Provider } from 'react-redux';\nimport configureStore from './store/configureStore';\n// \u5168\u4f53\u3092\u751f\u6210\nconst store = configureStore();\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('main')\n);\n```\n\n## store\nreducers\u304b\u3089store\u3092\u751f\u6210\u3059\u308b\u3002\n\n```store/configureStore.js\nimport { createStore } from 'redux';\nimport rootReducer from '../reducers';\n\nexport default function configureStore(initialState) {\n  const store = createStore(rootReducer, initialState);\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept('../reducers', () => {\n      const nextReducer = require('../reducers').default;\n      store.replaceReducer(nextReducer);\n    });\n  }\n  return store;\n}\n```\n## reducers\n\u500b\u5225\u306ereducers\u3002\n\u3053\u3093\u306a\u611f\u3058\u3067reducer\u304c\u8907\u96d1\u306b\u306a\u3089\u306a\u3044\u3088\u3046\u306b\u5897\u3084\u3057\u3066\u3044\u304f\n\n```reducers/problem.js\nimport * as types from '../constants/ActionTypes';\nimport json from 'json!../../data.json';\nconst initialState = {\n  problems: json,\n  id: Math.floor(Math.random()*json.length),\n  ans: 1,\n  dialog: false\n}\n\nexport default function problems(state = initialState, action) {\n  // Action\u4ee5\u4e0b\u3067\u306fstate\u306f\u66f8\u304d\u63db\u3048\u3066\u306f\u3044\u3051\u306a\u3044\u3002\u66f8\u304d\u63db\u3048\u305f\u3082\u306e\u3092\u6e21\u3057\u3066\u3082\u66f4\u65b0\u304c\u53cd\u6620\u3055\u308c\u306a\u3044\u306e\u3067\u6ce8\u610f\n  let data = {};\n  switch (action.type) {\n    case types.CLICK_ANS:\n      data = Object.assign({}, state);\n      data.ans = action.id;\n      data.dialog = true;\n      return data;\n    case types.DISMISS_DIALOG:\n      data = Object.assign({}, state);\n      data.dialog = false;\n      data.id = Math.floor(Math.random()*state.problems.length)\n      console.log(data);\n      return data\n    default:\n      return state;\n  }\n}\n```\nreducer\u305f\u3061\u3092\u307e\u3068\u3081\u3066store\u306b\u6e21\u3059\u3088\u3046\u306ereducer\n\n\n```reducers/index.js\nimport { combineReducers } from 'redux';\nimport problems from './problems';\n\nconst rootReducer = combineReducers({\n  problems,\n});\n\nexport default rootReducer;\n```\n\n## containers\ncomponet\u3092\u5185\u5305\u3059\u308bRootComponent\n\n```app.js\nimport React, { Component, PropTypes } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer'\nimport MainSection from '../components/MainSection';\nimport * as Actions from '../actions';\n\n\nclass App extends Component {\n  render() {\n    const style = {\n      body: {\n        backgroundColor: \"#FAFAFA\",\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n    };\n    const { problems, actions } = this.props;\n    return (\n      <div style={style.body}>\n        <Header/>\n        <MainSection problems={problems} actions={actions}/>\n        <Footer actions={actions}/>\n      </div>\n    );\n  }\n}\n\n// global\u5909\u6570\u304b\u3089\u53d6\u5f97\u3057\u3066props\u306b\u6e21\u3059\nfunction mapStateToProps(state) {\n  return {\n    problems: state.problems,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(Actions, dispatch),\n  };\n}\n// this.props\u306e\u521d\u671f\u5024\u3068\u306a\u308bproblems\u3068actions\u3092\u6e21\u3059\n//=> const { problems, actions } = this.props\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n```\n\n## constants\nAction\u306eType\u3092\u5ba3\u8a00\u3057\u3066\u3044\u308b\u3060\u3051\u3002\n\u5225\u306b\u76f4\u63a5\u6587\u5b57\u5217\u3092\u6253\u3061\u8fbc\u3093\u3067\u3082\u554f\u984c\u306f\u306a\u3044\u3002\n\n```ActionType.js\nexport const DELETE_TODO = 'DELETE_TODO';\nexport const DISMISS_DIALOG = 'DISMISS_DIALOG';\nexport const CLICK_ANS = 'CLICK_ANS';\n```\n\n## components\n\u5b9f\u969b\u306e\u8981\u7d20\n\u3053\u3044\u3064\u3089\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u3044\u304f\n\n```problem.js\nimport React, { Component, PropTypes } from 'react';\nimport Problem from '../components/problem'\n\nclass MainSection extends Component {\n  render() {\n    const problems = this.props.problems\n    const actions = this.props.actions\n    const style=  {\n      main: {\n        margin: \"16px\",\n        padding: \"16px\",\n        backgroundColor: \"#FFFFFF\",\n        flex: \"1\"\n      }\n    };\n    return (\n      <section className=\"main\" style={style.main}>\n        <Problem problems={problems} actions={actions} />\n      </section>\n    );\n  }\n}\nexport default MainSection;\n```\n\n```\nimport React, { Component, PropTypes } from 'react';\nimport Dialog from './dialog';\nimport * as Actions from '../actions';\n\nclass Problem extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const problems = this.props.problems.problems\n    const clickAns = this.props.actions.clickAns\n    const id = this.props.problems.id\n    let choices = [\n      {id: 1, text: \"\u307e\u308b\"},\n      {id: 2, text: \"\u3070\u3064\"}\n    ]\n\n    const style = {\n      choices: {\n        marginTop: \"48px\",\n        display: \"flex\"\n      },\n      choice: {\n        flex: \"1\",\n        textAlign: \"center\",\n        fontWeight: \"700\"\n      },\n      problem: {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\"\n      },\n      text: {\n        flex: \"1\"\n      }\n    }\n\n    return (\n      <div style={style.problem}>\n        < Dialog problem={problems[id]} problems={this.props.problems} action={this.props.actions.dismissDialog}/>\n        <p style={style.text}>{ problems[id].text }</p>\n        <div style={style.choices}>\n          {choices.map(choice =>\n            <div style={style.choice} onClick={() => clickAns(choice.id)} key={choice.id}>{choice.text}</div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Problem;\n```\n\n```MainSection.js\nimport React, { Component, PropTypes } from 'react';\nimport Problem from '../components/problem'\n\nclass MainSection extends Component {\n  render() {\n    const problems = this.props.problems\n    const actions = this.props.actions\n    const style=  {\n      main: {\n        margin: \"16px\",\n        padding: \"16px\",\n        backgroundColor: \"#FFFFFF\",\n        flex: \"1\"\n      }\n    };\n    return (\n      <section className=\"main\" style={style.main}>\n        <Problem problems={problems} actions={actions} />\n      </section>\n    );\n  }\n}\nexport default MainSection;\n```\n\n```header.js\nimport React, { Component, PropTypes } from 'react';\n\nclass Header extends Component {\n  render() {\n    const style = {\n      header: {\n        height: \"64px\",\n        background: \"#202026\",\n        verticalAlign: \"middle\",\n      },\n      title: {\n        color: \"#fff\",\n        fontSize: \"18px\",\n        lineHeight: 64-8*2 + \"px\",\n        verticalAlign: \"middle\",\n        display: \"inline-block\",\n        margin: \"0px\",\n        padding: \"8px 32px\"\n      }\n    };\n    return (\n      <header className=\"header\" style={style.header}>\n        <h1 style={style.title}>\u81ea\u52d5\u8eca\u514d\u8a31\u5b66\u79d1\u8a66\u9a13\u554f\u984c\u96c6</h1>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n```\n\n```footer.js\nimport React, { Component, PropTypes } from 'react';\n\nclass Footer extends Component {\n  render() {\n    const style = {\n      footer: {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        backgroundColor: \"#fff\"\n\n      },\n      menu: {\n        flex: \"1\",\n        textAlign: \"center\",\n        padding: \"16px\",\n        borderRight: \"solid 1px #EEEEEE\"\n      }\n    };\n    return (\n      <footer style={style.footer} className=\"footer\">\n        <div style={style.menu}>\u4eee\u514d\u8a66\u9a13</div>\n        <div style={style.menu}>\u672c\u514d\u8a66\u9a13</div>\n        <div style={style.menu}>\u4e00\u89a7</div>\n        <div style={style.menu}>\u3068\u304d\u76f4\u3057</div>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n```\n\n```Dialog.js\nimport React, { Component, PropTypes } from 'react';\n\nclass Dialog extends Component {\n  render() {\n    const props = this.props.problems\n    const problem = this.props.problem\n    // \u8868\u793a\u72b6\u614b\u3092\u5909\u3048\u308b\n\n    const style = {\n      dialogBg: {\n\t\t //\u3053\u3093\u306a\u611f\u3058\u3067style\u306b\u95a2\u3057\u3066\u3082\u5909\u6570\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n        display: props.dialog ? \"block\": \"none\",\n        position: \"fixed\",\n        zIndex: \"1\",\n        width: \"100%\",\n        height: \"100%\",\n        background: \"rgba(255, 255, 255, 0.8)\",\n        top: \"0\",\n        left: \"0\"\n\n      },\n      dialog: {\n        zIndex: \"1\",\n        width: \"70%\",\n        height: \"auto\",\n        background: \"#fff\",\n        margin: \"0\",\n        padding: \"24px\",\n        zIndex: \"2\",\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        border: \"solid 1px #CCCCCC\",\n        borderRadius: \"24px\"\n      },\n      p: {\n        marginBottom: \"12px\"\n      },\n      next: {\n        textAlign: \"right\",\n        fontWeight: \"700\"\n      }\n    };\n    let judge = \"\"\n    if (props.ans == problem.correct) {\n      judge = \"\u6b63\u89e3\"\n    } else {\n      judge = \"\u4e0d\u6b63\u89e3\"\n    }\n    const exp = problem.correct == 1 ? \"\u307e\u308b\" : \"\u3070\u3064\"\n    return (\n      <div style={style.dialogBg}>\n        <div style={style.dialog}>\n          <p style={style.p}>\u7d50\u679c: {judge}</p>\n          <p style={style.p}>\u554f\u984c: { problem.text }</p>\n          <p style={style.p}>\u7b54\u3048: { exp }</p>\n          <p style={style.p}>{ problem.explanation }</p>\n          <div style={style.next} onClick={() => this.props.action()}>\u6b21\u3078</div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Dialog;\n```\n\n## Actions\n\u5b9f\u969b\u306eAction\u305f\u3061\u3002\n\u51e6\u7406\u3092\u3059\u308b\u306e\u306freducer\u306a\u306e\u3067\u307b\u307c\u307b\u307c\u5ba3\u8a00\u3060\u3051\n\n```index.js\nimport * as types from '../constants/ActionTypes';\n\nexport function dismissDialog() {\n  return { type: types.DISMISS_DIALOG};\n};\n\nexport function clickAns(id) {\n  return {\n    type: types.CLICK_ANS,\n    id: id\n  };\n};\n```\n\n\n## \u611f\u60f3\n\u3044\u307e\u307f\u308b\u3068\u306a\u304b\u306a\u304b\u306b\u3072\u3069\u3044\u3067\u3059\u3051\u3069\u8aad\u3081\u3070\u5404\u30d5\u30a9\u30eb\u30c0\u306b\u66f8\u304f\u3079\u304d\u5185\u5bb9\u304c\u4f55\u3068\u306a\u304f\u308f\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4e00\u901a\u308a\u6a5f\u80fd\u304c\u5168\u90e8\u5b8c\u6210\u3057\u305f\u3089\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n## \u53c2\u8003\u6587\u732e\n[React Redux](https://github.com/reactjs/react-redux)\n[React Redux \u52dd\u624b\u306b\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb](http://uraway.hatenablog.com/entry/2016/02/12/182048)\n", "tags": ["React", "es6", "redux"]}