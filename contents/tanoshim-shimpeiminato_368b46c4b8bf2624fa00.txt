{"context": " More than 1 year has passed since last update.\u6848\u5916\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u6c17\u304c\u3059\u308b\u306e\u3067\u307e\u3068\u3081\u3066\u307f\u305f\u3002\n\u307b\u3068\u3093\u3069\u306e\u3053\u3068\u306f\u6587\u5b57\u5217\u30c6\u30fc\u30d6\u30eb\u3067\u3082\u52d5\u7684Enum\u3067\u3082\u540c\u3058\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\u305f\u3060\u3001\u5024\u306e\u6bd4\u8f03\u306f\u6587\u5b57\u5217\u3088\u308a\u3082\u52d5\u7684Enum\u306e\u65b9\u304c\u65e9\u3044\u3002\n(\u300c\u6587\u5b57\u5217\u306e\u6bd4\u8f03\u300d\u3068\u300c\u6570\u5024\u306e\u6bd4\u8f03\u300d\u306a\u306e\u3067\u5f53\u305f\u308a\u524d\u3067\u3059\u304c)\n\u5024\u306e\u6bd4\u8f03\u3092\u983b\u7e41\u306b\u884c\u3046\u3088\u3046\u306a\u5834\u5408\u306f\u52d5\u7684\u306bEnum\u3092\u4f5c\u6210\u3057\u3066\u3082\u826f\u3044\u304b\u3082\u306d\u3002\n(\u6587\u5b57\u5217\u30c6\u30fc\u30d6\u30eb\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6bd4\u8f03\u3067\u3082\u826f\u3044\u306e\u3067\u3059\u3051\u3069\u306d\u3002\u3002\u3002)\n\n\u4f5c\u308a\u65b9\nusing System.Reflection;\nusing System.Reflection.Emit;\n\nstatic System.Type BuildEnum(string[] strings)\n{\n    AssemblyName asmName = new AssemblyName{ Name = \"MyAssembly\" };\n    System.AppDomain domain = System.AppDomain.CurrentDomain;\n    AssemblyBuilder asmBuilder = domain.DefineDynamicAssembly(asmName, AssemblyBuilderAccess.Run);\n    ModuleBuilder moduleBuilder = asmBuilder.DefineDynamicModule(\"MyModule\");\n    EnumBuilder enumBuilder = moduleBuilder.DefineEnum(\"MyNamespace.MyEnum\", TypeAttributes.Public, typeof(int));\n\n    for (int i = 0; i < strings.Length; ++i)\n        enumBuilder.DefineLiteral(strings[i], i + 1);\n\n    return enumBuilder.CreateType();\n}\n\n\n\u9759\u7684\u306aenum\u3068\u306e\u66f8\u304d\u65b9\u6bd4\u8f03\nenum Animal { Dog, Cat, Horse, Elephant }\n\nstring[] animalTable = new string[] { \"Dog\", \"Cat\", \"Horse\", \"Elephant\" };\nSystem.Type enumType = BuildEnum(animalTable);\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\nAnimal animal;\n\nSystem.Enum animal = (System.Enum)Activator.CreateInstance(enumType);\n\n\n\u5024\u306e\u4ee3\u5165\nanimal = Animal.Cat;\n\nanimal = (System.Enum)enumType.GetField(\"Cat\").GetValue(null);\n\n\n\u6587\u5b57\u5217\u304b\u3089\u5024\u751f\u6210\nanimal = (Animal)System.Enum.Parse(typeof(Animal), \"Horse\");\n\nanimal = (System.Enum)System.Enum.Parse(enumType, \"Horse\");\n\n\nint\u578b\u3068\u306e\u578b\u5909\u63db\n(\u6ce8)\u4f8b\u5916\u51e6\u7406\u306f\u7701\u7565\nint val = (int)animal;\nanimal = (Animal)val;\n\nint val = (int)animal;\nanimal = (System.Enum)System.Convert.ChangeType(val, enumType);\n\n\n\u304a\u307e\u3051\n\nUnity\u30a8\u30c7\u30a3\u30bf\u62e1\u5f35\u306eEnumPopup\u30e1\u30bd\u30c3\u30c9\nSystem.Enum newVal = (System.Enum)EditorGUILayout.EnumPopup(animal);\n\n\u6587\u5b57\u5217\u306e\u307e\u307e\u6271\u3046\u5834\u5408\u306f\u3053\u3061\u3089\u2193\nint oldIndex = \u301c;\nint newIndex = EditorGUILayout.Popup(oldIndex, animalTable);\n\n\u6848\u5916\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u6c17\u304c\u3059\u308b\u306e\u3067\u307e\u3068\u3081\u3066\u307f\u305f\u3002\n\n\u307b\u3068\u3093\u3069\u306e\u3053\u3068\u306f\u6587\u5b57\u5217\u30c6\u30fc\u30d6\u30eb\u3067\u3082\u52d5\u7684Enum\u3067\u3082\u540c\u3058\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\u305f\u3060\u3001\u5024\u306e\u6bd4\u8f03\u306f\u6587\u5b57\u5217\u3088\u308a\u3082\u52d5\u7684Enum\u306e\u65b9\u304c\u65e9\u3044\u3002\n(\u300c\u6587\u5b57\u5217\u306e\u6bd4\u8f03\u300d\u3068\u300c\u6570\u5024\u306e\u6bd4\u8f03\u300d\u306a\u306e\u3067\u5f53\u305f\u308a\u524d\u3067\u3059\u304c)\n\n\u5024\u306e\u6bd4\u8f03\u3092\u983b\u7e41\u306b\u884c\u3046\u3088\u3046\u306a\u5834\u5408\u306f\u52d5\u7684\u306bEnum\u3092\u4f5c\u6210\u3057\u3066\u3082\u826f\u3044\u304b\u3082\u306d\u3002\n(\u6587\u5b57\u5217\u30c6\u30fc\u30d6\u30eb\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6bd4\u8f03\u3067\u3082\u826f\u3044\u306e\u3067\u3059\u3051\u3069\u306d\u3002\u3002\u3002)\n\n\u4f5c\u308a\u65b9\n----\n\n```csharp\nusing System.Reflection;\nusing System.Reflection.Emit;\n\nstatic System.Type BuildEnum(string[] strings)\n{\n    AssemblyName asmName = new AssemblyName{ Name = \"MyAssembly\" };\n    System.AppDomain domain = System.AppDomain.CurrentDomain;\n    AssemblyBuilder asmBuilder = domain.DefineDynamicAssembly(asmName, AssemblyBuilderAccess.Run);\n    ModuleBuilder moduleBuilder = asmBuilder.DefineDynamicModule(\"MyModule\");\n    EnumBuilder enumBuilder = moduleBuilder.DefineEnum(\"MyNamespace.MyEnum\", TypeAttributes.Public, typeof(int));\n\n    for (int i = 0; i < strings.Length; ++i)\n        enumBuilder.DefineLiteral(strings[i], i + 1);\n\n    return enumBuilder.CreateType();\n}\n```\n\n\u9759\u7684\u306aenum\u3068\u306e\u66f8\u304d\u65b9\u6bd4\u8f03\n----\n\n```csharp\nenum Animal { Dog, Cat, Horse, Elephant }\n```\n\n```csharp\nstring[] animalTable = new string[] { \"Dog\", \"Cat\", \"Horse\", \"Elephant\" };\nSystem.Type enumType = BuildEnum(animalTable);\n```\n\n### \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\n\n```csharp\nAnimal animal;\n```\n\n```csharp\nSystem.Enum animal = (System.Enum)Activator.CreateInstance(enumType);\n```\n\n### \u5024\u306e\u4ee3\u5165\n\n```csharp\nanimal = Animal.Cat;\n```\n\n```csharp\nanimal = (System.Enum)enumType.GetField(\"Cat\").GetValue(null);\n```\n\n### \u6587\u5b57\u5217\u304b\u3089\u5024\u751f\u6210\n\n```csharp\nanimal = (Animal)System.Enum.Parse(typeof(Animal), \"Horse\");\n```\n\n```csharp\nanimal = (System.Enum)System.Enum.Parse(enumType, \"Horse\");\n```\n\n### int\u578b\u3068\u306e\u578b\u5909\u63db\n\n(\u6ce8)\u4f8b\u5916\u51e6\u7406\u306f\u7701\u7565\n\n```csharp\nint val = (int)animal;\nanimal = (Animal)val;\n```\n\n```csharp\nint val = (int)animal;\nanimal = (System.Enum)System.Convert.ChangeType(val, enumType);\n```\n\n\u304a\u307e\u3051\n----\n\n### Unity\u30a8\u30c7\u30a3\u30bf\u62e1\u5f35\u306eEnumPopup\u30e1\u30bd\u30c3\u30c9\n\n```csharp\nSystem.Enum newVal = (System.Enum)EditorGUILayout.EnumPopup(animal);\n```\n\n\u6587\u5b57\u5217\u306e\u307e\u307e\u6271\u3046\u5834\u5408\u306f\u3053\u3061\u3089\u2193\n\n```csharp\nint oldIndex = \u301c;\nint newIndex = EditorGUILayout.Popup(oldIndex, animalTable);\n```\n", "tags": ["Unity\u62e1\u5f35", "C#"]}