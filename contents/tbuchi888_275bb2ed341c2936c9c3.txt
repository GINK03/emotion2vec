{"tags": ["redash", "docker", "Mac", "OSX"], "context": "\n\n\u300cRe:dash\u300d\u3092\u300cDocker for Mac\u300d\u4e0a\u3067\u52d5\u304b\u3057\u3066\u307f\u305f\n\n0.\u306f\u3058\u3081\u306b\n\u305a\u3044\u3076\u3093\u524d\u306b Rebuild.fm \u3067\u8074\u3044\u3066\u3001\u6c17\u306b\u306a\u3063\u3066\u3044\u305f\u300cRe:dash\u300d\u3092\u8a66\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\nmac\u4e0a\u306eDocker for Mac\u74b0\u5883\u3067\u3001\u516c\u5f0f\u30b5\u30a4\u30c8\u306e\u624b\u9806\u3092\u53c2\u8003\u306b\nDocker Compose\u3092\u5229\u7528\u3057\u305f\u3068\u3053\u308dmac\u7279\u6709\u306a\u90e8\u5206\u3067\u5c11\u3057\u306f\u307e\u308a\u307e\u3057\u305f\u306e\u3067\u8a18\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\n\u306a\u304a\u3001\u306f\u307e\u308a\u3069\u3053\u308d\u3055\u3048\u3001\u304a\u3055\u3048\u3066\u304a\u3051\u3070docker-compose\u3067\u7c21\u5358\u306b\u69cb\u7bc9\u3067\u304d\u307e\u3057\u305f\u3002\n\n1.\u74b0\u5883\nmac OSX Yosemite\nDocker for Mac ver.1.12.1-beta26.1(build: 12100)\nRe:dash 0.11.1+b2095 (2016/09/26\u6642\u70b9\u306elatest)\n\n2.\u624b\u9806\n\u4ee5\u4e0bRe:dash\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u5f15\u7528\n\nDocker Compose\n1.Make sure you have a Docker machine up and running.\n2.Make sure your current working directory is the root of this GitHub repository.\n3.Run docker-compose up postgres.\n4.Run ./setup/docker/create_database.sh. This will access the postgres container and set up the database.\n5.Run docker-compose up\n6.Run docker-machine ls, take note of the ip for the Docker machine you are using, and open the web browser.\n7.Visit that Docker machine IP at port 80, and you should see a Re:dash login screen.\nNow proceed to \u201cSetup\u201d.\n\n\u306a\u306e\u3067\u3059\u304c\u3001\u5f8c\u8ff0\u3059\u308bmac\u7279\u6709\u306e\u554f\u984c\u3067\u5c11\u3057\u306f\u307e\u308a\u307e\u3057\u305f\u306e\u3067\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u203b\u5f8c\u8ff0\u306e\u30ef\u30fc\u30af\u30a2\u30e9\u30a6\u30f3\u30c92\u3067\u5bfe\u5fdc\nDocker for Mac\u304c\u8d77\u52d5\u3057\u3066\u3044\u308bMac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002\n# 1.git clone \u3068\u3000\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u79fb\u52d5\ngit clone https://github.com/getredash/redash.git\ncd redash/\n\n# 2.docker-compose-example.yml\u3088\u308a\u3001docker-compose.yml\u3092\u4f5c\u6210\n#   Docker\u30db\u30b9\u30c8\u4e0a\u306ePostgreSQL\u306e\u30c7\u30fc\u30bf\u7f6e\u304d\u5834\u3092/opt/postgres-data\u304b\u3089\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b./postgres-data\u3078\u5909\u66f4\uff08\u74b0\u5883\u306b\u3088\u308a\u9069\u5b9c\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n#   sed\u3092\u4f7f\u308f\u305a\u306b `mv docker-compose-example.yml docker-compose.yml`\u3057\u3066 `vi docker-compose.yml`\u3067\u3082OK\n# \u3000\u306a\u304a\u3001mac\u3067\u306f\u306a\u304f\u3001Linux\u3067\u3042\u308c\u3070`mv docker-compose-example.yml docker-compose.yml`\u3060\u3051\u3067\u554f\u984c\u3068\u601d\u3044\u307e\u3059\u3002\ncat docker-compose-example.yml | sed -e \"s/\\/opt\\/postgres-data/\\.\\/postgres-data/\" > docker-compose.yml\n\n# 3.`-d` \u30aa\u30d7\u30b7\u30e7\u30f3(\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u8d77\u52d5)\u3092\u3064\u3051\u3066PostgreSQL\u3060\u3051\u8d77\u52d5\ndocker-compose up -d postgres\n\n# 4.create_database.sh\u306e\u5b9f\u884c\n./setup/docker/create_database.sh\n\n# 5. \u6b8b\u308a\u3082`-d` \u30aa\u30d7\u30b7\u30e7\u30f3(\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u8d77\u52d5)\u3092\u3064\u3051\u3066\u8d77\u52d5\ndocker-compose up -d\n\n\n3.\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u5f8c\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u5f8c\u306b\u30d6\u30e9\u30a6\u30b6\u3088\u308ahttp://127.0.0.1/\u3078\u30a2\u30af\u30bb\u30b9\n\n\u521d\u671f\u306e\u7ba1\u7406\u8005\u30e6\u30fc\u30b6\u30fc/\u30d1\u30b9\u30ef\u30fc\u30c9\u306fadmin/admin\u306a\u306e\u3067\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\n\n\n4.mac\u7279\u6709\u306e\u306f\u307e\u308a\u3069\u3053\u308d\nRe:dash\u3068\u3044\u3046\u3088\u308a\u3082\u3001PostgreSQL\u306evolume\u306e\u30de\u30a6\u30f3\u30c8\u90e8\u5206\u3067\u30a8\u30e9\u30fc\u304c\u3067\u307e\u3057\u305f\u3002\ndocker-compose-example.yml\u306e\u5185\u5bb9\u306e\u307e\u307e\u3060\u3068\nPostgreSQL\u306eDocker\u30db\u30b9\u30c8\u5074\u306evolume\u304c/opt/postgres-data\u3068\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\nDocker for mac\u3000\u306e\u521d\u671f\u8a2d\u5b9a\u3067\u306f File sharing \u306e\u8a2d\u5b9a\u304c\u3055\u308c\u3066\u3044\u306a\u3044\u3068\u6012\u3089\u308c\u307e\u3059\u3002\nredash $docker-compose up -d postgres\nPulling postgres (postgres:9.3)...\n9.3: Pulling from library/postgres\n6a5a5368e0c2: Pull complete\n193f770cec44: Pull complete\n33647077f2ee: Pull complete\n53bc65f84840: Pull complete\na4d3b0f1c16a: Pull complete\nbdbe3c2ddbbd: Pull complete\n575bb3898603: Pull complete\n72c9fe0d644d: Pull complete\nb87a349fcd43: Pull complete\ne7b9f48e3ddc: Pull complete\n1094bf57053d: Pull complete\nDigest: sha256:b33b9b7e4de09ac8ebd5f44e03b99569b48a2040463ed4ec8b841e46993359c5\nStatus: Downloaded newer image for postgres:9.3\nCreating redash_postgres_1\n\nERROR: for postgres  Cannot start service postgres: Mounts denied: \nThe path /opt/postgres-data\nis not shared from OS X and is not known to Docker.\nYou can configure shared paths from Docker -> Preferences... -> File Sharing.\nSee https://docs.docker.com/docker-for-mac/osxfs/#namespaces for more info.\n.\nERROR: Encountered errors while bringing up the project.\n\n\n4.1.\u30ef\u30fc\u30af\u30a2\u30e9\u30a6\u30f3\u30c9\u305d\u306e\uff11\nPostgreSQL\u306e\u30db\u30b9\u30c8\u5074\u306evolume\u306b\u3064\u3044\u3066/opt/postgres-data\u3092\u305d\u306e\u307e\u307e\u5229\u7528\u3059\u308b\u5834\u5408\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8a18\u8f09\u306eURL\u306b\u5f93\u3044\u3001Docker\u30a2\u30a4\u30b3\u30f3-> Preferences -> File sharing\u3088\u308a\nGUI\u306e\u8a2d\u5b9a\u3067/opt/\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001Mac\u306e\u305f\u3081/opt/\u914d\u4e0b\u306froot\u306e\u30d1\u30fc\u30df\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc\u3082\u51fa\u308b\u306e\u3067\u3001\nsudo\u306b\u3066\u4e8b\u524d\u306b/opt/postgres-data\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\u3068\n\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30aa\u30fc\u30ca\u30fc\u3082root\u304b\u3089\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc(*)\u306b\u5909\u66f4\u3082\u3057\u307e\u3059\u3002\n*\uff1a\u4ee5\u4e0b\u306eYOUR_LOGIN_USER_NAME\u90e8\u5206\u306f\u81ea\u5206\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\uff09\nredash $docker-compose up -d postgres\nStarting redash_postgres_1\n\nERROR: for postgres  Cannot start service postgres: mkdir /opt/postgres-data: permission denied\nERROR: Encountered errors while bringing up the project.\nredash $sudo mkdir /opt/postgres-data\nPassword:\nredash $sudo chown YOUR_LOGIN_USER_NAME /opt/postgres-data/\nredash $docker-compose up -d postgres\nStarting redash_postgres_1\n\n\n4.2.\u30ef\u30fc\u30af\u30a2\u30e9\u30a6\u30f3\u30c9\u305d\u306e\uff12\nPostgreSQL\u306e\u30db\u30b9\u30c8\u5074\u306evolume\u306b\u3064\u3044\u3066/opt/postgres-data\u304b\u3089\u5909\u66f4\u3059\u308b\u3002\n/opt/postgres-data\u3067\u306f\u306a\u304f\u3001docker-compose\u3092\u64cd\u4f5c\u3059\u308b\u30e6\u30fc\u30b6\u30fc\uff08\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\uff09\u304c\n/users/\u306e\u914d\u4e0b\u306e\u3069\u3053\u304b\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08Docker for mac\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u3067File sharing\u306e\u8a2d\u5b9a\u304c\u3055\u308c\u3066\u3066\u3044\u308b\uff09\u304a\u308a\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304a\u3088\u3073\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u6a29\u9650\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u7f6e\u304d\u63db\u3048\u308b\u3002\n\u4eca\u56de\u306f\u52d5\u4f5c\u691c\u8a3c\u304c\u76ee\u7684\u306a\u306e\u3067\u3001git clone\u3057\u305fredash\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3001\n\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306bdocker-compose.yml\u306epostgres\u306evolumes\u3092\u5909\u66f4\u3002\n\ndocker-compose.yml\nredash:\n  image: redash/redash:latest\n  ports:\n    - \"5000:5000\"\n  links:\n    - redis\n    - postgres\n  environment:\n    REDASH_STATIC_ASSETS_PATH: \"../rd_ui/dist/\"\n    REDASH_LOG_LEVEL: \"INFO\"\n    REDASH_REDIS_URL: \"redis://redis:6379/0\"\n    REDASH_DATABASE_URL: \"postgresql://postgres@postgres/postgres\"\n    REDASH_COOKIE_SECRET: veryverysecret\nredis:\n  image: redis:2.8\npostgres:\n  image: postgres:9.3\n  volumes:\n    - ./postgres-data:/var/lib/postgresql/data\nredash-nginx:\n  image: redash/nginx:latest\n  ports:\n    - \"80:80\"\n  links:\n    - redash\n\n\n\u4ee5\u4e0a\n# \u300cRe:dash\u300d\u3092\u300cDocker for Mac\u300d\u4e0a\u3067\u52d5\u304b\u3057\u3066\u307f\u305f\n## 0.\u306f\u3058\u3081\u306b\n\u305a\u3044\u3076\u3093\u524d\u306b Rebuild.fm \u3067\u8074\u3044\u3066\u3001\u6c17\u306b\u306a\u3063\u3066\u3044\u305f\u300cRe:dash\u300d\u3092\u8a66\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\nmac\u4e0a\u306eDocker for Mac\u74b0\u5883\u3067\u3001\u516c\u5f0f\u30b5\u30a4\u30c8\u306e\u624b\u9806\u3092\u53c2\u8003\u306b\nDocker Compose\u3092\u5229\u7528\u3057\u305f\u3068\u3053\u308dmac\u7279\u6709\u306a\u90e8\u5206\u3067\u5c11\u3057\u306f\u307e\u308a\u307e\u3057\u305f\u306e\u3067\u8a18\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\n\u306a\u304a\u3001\u306f\u307e\u308a\u3069\u3053\u308d\u3055\u3048\u3001\u304a\u3055\u3048\u3066\u304a\u3051\u3070docker-compose\u3067\u7c21\u5358\u306b\u69cb\u7bc9\u3067\u304d\u307e\u3057\u305f\u3002\n\n## 1.\u74b0\u5883\nmac OSX Yosemite\nDocker for Mac ver.1.12.1-beta26.1(build: 12100)\nRe:dash 0.11.1+b2095 (2016/09/26\u6642\u70b9\u306elatest)\n\n## 2.\u624b\u9806\n\u4ee5\u4e0b[Re:dash\u516c\u5f0f\u30b5\u30a4\u30c8](http://docs.redash.io/en/latest/setup.html#docker-compose)\u304b\u3089\u5f15\u7528\n> **Docker Compose**\n> 1.Make sure you have a Docker machine up and running.\n> 2.Make sure your current working directory is the root of this GitHub repository.\n> 3.Run docker-compose up postgres.\n> 4.Run ./setup/docker/create_database.sh. This will access the postgres container and set up the database.\n> 5.Run docker-compose up\n> 6.Run docker-machine ls, take note of the ip for the Docker machine you are using, and open the web browser.\n> 7.Visit that Docker machine IP at port 80, and you should see a Re:dash login screen.\n>\n> Now proceed to \u201cSetup\u201d.\n\n\u306a\u306e\u3067\u3059\u304c\u3001\u5f8c\u8ff0\u3059\u308bmac\u7279\u6709\u306e\u554f\u984c\u3067\u5c11\u3057\u306f\u307e\u308a\u307e\u3057\u305f\u306e\u3067\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u203b\u5f8c\u8ff0\u306e\u30ef\u30fc\u30af\u30a2\u30e9\u30a6\u30f3\u30c92\u3067\u5bfe\u5fdc\n\nDocker for Mac\u304c\u8d77\u52d5\u3057\u3066\u3044\u308bMac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002\n\n```\n# 1.git clone \u3068\u3000\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u79fb\u52d5\ngit clone https://github.com/getredash/redash.git\ncd redash/\n\n# 2.docker-compose-example.yml\u3088\u308a\u3001docker-compose.yml\u3092\u4f5c\u6210\n#   Docker\u30db\u30b9\u30c8\u4e0a\u306ePostgreSQL\u306e\u30c7\u30fc\u30bf\u7f6e\u304d\u5834\u3092/opt/postgres-data\u304b\u3089\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b./postgres-data\u3078\u5909\u66f4\uff08\u74b0\u5883\u306b\u3088\u308a\u9069\u5b9c\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n#   sed\u3092\u4f7f\u308f\u305a\u306b `mv docker-compose-example.yml docker-compose.yml`\u3057\u3066 `vi docker-compose.yml`\u3067\u3082OK\n# \u3000\u306a\u304a\u3001mac\u3067\u306f\u306a\u304f\u3001Linux\u3067\u3042\u308c\u3070`mv docker-compose-example.yml docker-compose.yml`\u3060\u3051\u3067\u554f\u984c\u3068\u601d\u3044\u307e\u3059\u3002\ncat docker-compose-example.yml | sed -e \"s/\\/opt\\/postgres-data/\\.\\/postgres-data/\" > docker-compose.yml\n\n# 3.`-d` \u30aa\u30d7\u30b7\u30e7\u30f3(\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u8d77\u52d5)\u3092\u3064\u3051\u3066PostgreSQL\u3060\u3051\u8d77\u52d5\ndocker-compose up -d postgres\n\n# 4.create_database.sh\u306e\u5b9f\u884c\n./setup/docker/create_database.sh\n\n# 5. \u6b8b\u308a\u3082`-d` \u30aa\u30d7\u30b7\u30e7\u30f3(\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u8d77\u52d5)\u3092\u3064\u3051\u3066\u8d77\u52d5\ndocker-compose up -d\n```\n\n## 3.\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u5f8c\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u5f8c\u306b\u30d6\u30e9\u30a6\u30b6\u3088\u308a`http://127.0.0.1/`\u3078\u30a2\u30af\u30bb\u30b9\n\n<img width=\"553\" alt=\"redash_login0.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/117986/0cf406f6-bac7-f48e-d5d8-bc74bf50f863.png\">\n\n\u521d\u671f\u306e\u7ba1\u7406\u8005\u30e6\u30fc\u30b6\u30fc/\u30d1\u30b9\u30ef\u30fc\u30c9\u306fadmin/admin\u306a\u306e\u3067\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\n<img width=\"553\" alt=\"redash_login02.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/117986/1a04e474-8681-e27a-0547-c5984cfdf8ad.png\">\n\n## 4.mac\u7279\u6709\u306e\u306f\u307e\u308a\u3069\u3053\u308d\nRe:dash\u3068\u3044\u3046\u3088\u308a\u3082\u3001PostgreSQL\u306evolume\u306e\u30de\u30a6\u30f3\u30c8\u90e8\u5206\u3067\u30a8\u30e9\u30fc\u304c\u3067\u307e\u3057\u305f\u3002\n\ndocker-compose-example.yml\u306e\u5185\u5bb9\u306e\u307e\u307e\u3060\u3068\nPostgreSQL\u306eDocker\u30db\u30b9\u30c8\u5074\u306evolume\u304c`/opt/postgres-data`\u3068\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\n`Docker for mac`\u3000\u306e\u521d\u671f\u8a2d\u5b9a\u3067\u306f File sharing \u306e\u8a2d\u5b9a\u304c\u3055\u308c\u3066\u3044\u306a\u3044\u3068\u6012\u3089\u308c\u307e\u3059\u3002\n\n```\nredash $docker-compose up -d postgres\nPulling postgres (postgres:9.3)...\n9.3: Pulling from library/postgres\n6a5a5368e0c2: Pull complete\n193f770cec44: Pull complete\n33647077f2ee: Pull complete\n53bc65f84840: Pull complete\na4d3b0f1c16a: Pull complete\nbdbe3c2ddbbd: Pull complete\n575bb3898603: Pull complete\n72c9fe0d644d: Pull complete\nb87a349fcd43: Pull complete\ne7b9f48e3ddc: Pull complete\n1094bf57053d: Pull complete\nDigest: sha256:b33b9b7e4de09ac8ebd5f44e03b99569b48a2040463ed4ec8b841e46993359c5\nStatus: Downloaded newer image for postgres:9.3\nCreating redash_postgres_1\n\nERROR: for postgres  Cannot start service postgres: Mounts denied: \nThe path /opt/postgres-data\nis not shared from OS X and is not known to Docker.\nYou can configure shared paths from Docker -> Preferences... -> File Sharing.\nSee https://docs.docker.com/docker-for-mac/osxfs/#namespaces for more info.\n.\nERROR: Encountered errors while bringing up the project.\n```\n\n### 4.1.\u30ef\u30fc\u30af\u30a2\u30e9\u30a6\u30f3\u30c9\u305d\u306e\uff11\nPostgreSQL\u306e\u30db\u30b9\u30c8\u5074\u306evolume\u306b\u3064\u3044\u3066`/opt/postgres-data`\u3092\u305d\u306e\u307e\u307e\u5229\u7528\u3059\u308b\u5834\u5408\n\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306b[\u8a18\u8f09\u306eURL](https://docs.docker.com/docker-for-mac/osxfs/#namespace)\u306b\u5f93\u3044\u3001Docker\u30a2\u30a4\u30b3\u30f3-> Preferences -> File sharing\u3088\u308a\nGUI\u306e\u8a2d\u5b9a\u3067`/opt/`\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u3001Mac\u306e\u305f\u3081/opt/\u914d\u4e0b\u306froot\u306e\u30d1\u30fc\u30df\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc\u3082\u51fa\u308b\u306e\u3067\u3001\nsudo\u306b\u3066\u4e8b\u524d\u306b`/opt/postgres-data`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\u3068\n\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30aa\u30fc\u30ca\u30fc\u3082root\u304b\u3089\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc(*)\u306b\u5909\u66f4\u3082\u3057\u307e\u3059\u3002\n*\uff1a\u4ee5\u4e0b\u306eYOUR_LOGIN_USER_NAME\u90e8\u5206\u306f\u81ea\u5206\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\uff09\n\n```\nredash $docker-compose up -d postgres\nStarting redash_postgres_1\n\nERROR: for postgres  Cannot start service postgres: mkdir /opt/postgres-data: permission denied\nERROR: Encountered errors while bringing up the project.\nredash $sudo mkdir /opt/postgres-data\nPassword:\nredash $sudo chown YOUR_LOGIN_USER_NAME /opt/postgres-data/\nredash $docker-compose up -d postgres\nStarting redash_postgres_1\n```\n\n### 4.2.\u30ef\u30fc\u30af\u30a2\u30e9\u30a6\u30f3\u30c9\u305d\u306e\uff12\nPostgreSQL\u306e\u30db\u30b9\u30c8\u5074\u306evolume\u306b\u3064\u3044\u3066`/opt/postgres-data`\u304b\u3089\u5909\u66f4\u3059\u308b\u3002\n`/opt/postgres-data`\u3067\u306f\u306a\u304f\u3001docker-compose\u3092\u64cd\u4f5c\u3059\u308b\u30e6\u30fc\u30b6\u30fc\uff08\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\uff09\u304c\n`/users/`\u306e\u914d\u4e0b\u306e\u3069\u3053\u304b\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08Docker for mac\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u3067File sharing\u306e\u8a2d\u5b9a\u304c\u3055\u308c\u3066\u3066\u3044\u308b\uff09\u304a\u308a\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304a\u3088\u3073\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u6a29\u9650\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u7f6e\u304d\u63db\u3048\u308b\u3002\n\u4eca\u56de\u306f\u52d5\u4f5c\u691c\u8a3c\u304c\u76ee\u7684\u306a\u306e\u3067\u3001git clone\u3057\u305f`redash`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3001\n\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306bdocker-compose.yml\u306epostgres\u306evolumes\u3092\u5909\u66f4\u3002\n\n``` docker-compose.yml\nredash:\n  image: redash/redash:latest\n  ports:\n    - \"5000:5000\"\n  links:\n    - redis\n    - postgres\n  environment:\n    REDASH_STATIC_ASSETS_PATH: \"../rd_ui/dist/\"\n    REDASH_LOG_LEVEL: \"INFO\"\n    REDASH_REDIS_URL: \"redis://redis:6379/0\"\n    REDASH_DATABASE_URL: \"postgresql://postgres@postgres/postgres\"\n    REDASH_COOKIE_SECRET: veryverysecret\nredis:\n  image: redis:2.8\npostgres:\n  image: postgres:9.3\n  volumes:\n    - ./postgres-data:/var/lib/postgresql/data\nredash-nginx:\n  image: redash/nginx:latest\n  ports:\n    - \"80:80\"\n  links:\n    - redash\n```\n\n\u4ee5\u4e0a\n"}