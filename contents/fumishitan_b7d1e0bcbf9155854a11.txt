{"tags": ["Unity", "Unity3D", "NCMB", "VR", "\u30cf\u30b3\u30b9\u30b3"], "context": " More than 1 year has passed since last update.\u3053\u306e\u8a18\u4e8b\u306e\uff18\u56de\u76ee\u3002\n\u4eca\u56de\u306f\u524d\u56de\u306e\u8a18\u4e8b\u3067\u30b5\u30fc\u30d0\u30fc\u306b\u4fdd\u5b58\u3057\u305f\u30b9\u30b3\u30a2\u3092\u5f15\u304d\u4e0b\u308d\u3057\u3066\u3001\u30e9\u30f3\u30ad\u30f3\u30b0\u8868\u793a\u3055\u305b\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u30b5\u30fc\u30d0\u30fc\u306f\u30cb\u30d5\u30c6\u30a3\u30af\u30e9\u30a6\u30c9 mobile backend\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u3084\u308b\u3053\u3068\u306f\uff13\u3064\u3067\u3059\u3002\n\u30fb\u30c7\u30fc\u30bf\u3092\u4e00\u6642\u7684\u306b\u6301\u3064\u30af\u30e9\u30b9\u306e\u4f5c\u6210\n\u30fb\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u5f15\u304d\u4e0b\u308d\u3059\n\u30fb\u30c7\u30fc\u30bf\u3092\u4e00\u89a7\u3067\u8868\u793a\u3059\u308b\n\n\u30c7\u30fc\u30bf\u3092\u4e00\u6642\u7684\u306b\u6301\u3064\u30af\u30e9\u30b9\u306e\u4f5c\u6210\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u3063\u305f\n\u4eca\u56de\u306e\u5834\u5408\u3060\u3068\u3042\u307e\u308a\u5fc5\u8981\u306a\u3044\u304c\u3001\u4eca\u5f8c\u540d\u524d\u306a\u3069\u3001\u30b9\u30b3\u30a2\u4ee5\u5916\u306e\u5225\u30c7\u30fc\u30bf\u3092\u7d10\u3065\u3051\u308b\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308b\u3068\u3044\u3044\u3068\u601d\u3046\n\nRankers.cs\n\nusing UnityEngine;\nusing System.Collections;\n\nnamespace NCMB\n{\n\n    public class Rankers\n    {\n\n        public string time   { get; set; }\n\n        // \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf -----------------------------------\n        public Rankers(string _time)\n        {\n            time = _time;\n        }\n\n        // \u30e9\u30f3\u30ad\u30f3\u30b0\u3067\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u6587\u5b57\u5217\u3092\u6574\u5f62 -----------\n        public string print()\n        {\n            return time;\n        }\n    }\n\n}\n\n\n\n\n\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u5f15\u304d\u4e0b\u308d\u3059\n\u30cb\u30d5\u30c6\u30a3\u30af\u30e9\u30a6\u30c9 mobile backend\u4ee5\u4e0b\uff08NCMB\uff09\u3067\u306fSDK\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u305d\u308c\u3092\u5229\u7528\u3057\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u3092\u5f15\u304d\u51fa\u305b\u307e\u3059\u3002\n\nLeaderBoard.cs\n\nusing NCMB;\nusing System.Collections;\nusing System.Collections.Generic;\n\npublic class LeaderBoard {\n\n    public int currentRank = 0;\n    public List<NCMB.Rankers> topRankers = null;\n\n    // \u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c8\u30c3\u30d75\u3092\u53d6\u5f97 ---------------    \n    public void fetchTopRankers()\n    {\n        // \u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u306e\u300cTime\u300d\u30af\u30e9\u30b9\u304b\u3089\u691c\u7d22\n        NCMBQuery<NCMBObject> query = new NCMBQuery<NCMBObject> (\"Time\");\n        query.OrderByAscending (\"time\");\n        query.Limit = 5;\n\n        query.FindAsync ((List<NCMBObject> objList ,NCMBException e) => {\n\n            if (e != null) {\n                //\u691c\u7d22\u5931\u6557\u6642\u306e\u51e6\u7406\n            } else {\n                //\u691c\u7d22\u6210\u529f\u6642\u306e\u51e6\u7406\n                List<NCMB.Rankers> list = new List<NCMB.Rankers>();\n                // \u53d6\u5f97\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u3092time\u30af\u30e9\u30b9\u3068\u3057\u3066\u4fdd\u5b58\n                foreach (NCMBObject obj in objList) {\n                    string    t = System.Convert.ToString(obj[\"time\"]);\n                    list.Add( new Rankers(t) );\n                }\n                topRankers = list;\n            }\n        });\n    }\n\n}\n\n\n\n\u5c11\u3057\u89e3\u8aac\u3092\u4ea4\u3048\u308b\u3068\u3001NCMB\u3067\u306f\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u3092(\u691c\u7d22\u306a\u3069\u306e)\u64cd\u4f5c\u3059\u308b\u3068\u304d\u306b\u30af\u30a8\u30ea\u3068\u3044\u3046\u547d\u4ee4\u3092\u6295\u3052\u308b\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u307e\u305a\u3069\u306e\u30af\u30e9\u30b9\u3078\u306e\u64cd\u4f5c\u306a\u306e\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nNCMBQuery<NCMBObject> query = new NCMBQuery<NCMBObject> (\"Time\");\n\n\u6b21\u306b\u3001time \u30ab\u30e9\u30e0\u3092\u964d\u9806\u306b\u306a\u3089\u3073\u304b\u3048\u308b\n\nquery.OrderByAscending (\"time\");\n\n\u305d\u3057\u3066\u4e00\u756a\u3001\u5c0f\u3055\u3044\u3082\u306e\u304b\u3089\u9806\u306b\uff15\u500b\u3068\u3063\u3066\u304f\u308b\n\nquery.Limit = 5;\n\n\u6700\u5f8c\u306equery.FindAsync\u3067\u975e\u540c\u671f\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u3063\u3066\u304f\u308b\n\n\u30c7\u30fc\u30bf\u3092\u4e00\u89a7\u3067\u8868\u793a\u3059\u308b\n\u5f8c\u306f\u4e00\u89a7\u8868\u793a\u306e\u90e8\u5206\u3067\u3059\u3002\u4eca\u56de\u306fTimer.cs\u306eOnGUI\u306e\u90e8\u5206\u3067\u63cf\u753b\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u305d\u308c\u304c\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\nif( !isRankFetched ){\n    lBoard.fetchTopRankers();\n    isRankFetched = true;\n}\n\n// \u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u63cf\u753b\nif( lBoard.topRankers != null ){\n    GUI.Label (new Rect (goal_x-goal_w/2, 15, goal_w, goal_h),\"Top Ranking\");\n    for( int i = 0; i < lBoard.topRankers.Count; ++i) {\n        GUI.Label (new Rect (goal_x-goal_w/2, 10 + goal_y*(i+1)/2, goal_w, goal_h),\"Time\"+ (i+1) + \".\"+ lBoard.topRankers[i].print());\n    }\n}\n\n\n\u524d\u56de\u306e\u30b4\u30fc\u30eb\u30bf\u30a4\u30e0\u306e\u8868\u793a\u90e8\u5206\u306b\u300cRankingButton\u300d\u3092\u4f5c\u308a\u3001\u305d\u3053\u304b\u3089\u9077\u79fb\u3057\u3066\u63cf\u753b\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\nTimer.cs\n\nusing UnityEngine;\nusing System.Collections;\nusing NCMB;\n\npublic class Timer : MonoBehaviour {\n    float startTime;\n    float lapTime;\n    bool goal = false;\n    bool ranking = false;\n    private LeaderBoard lBoard;\n    bool isRankFetched;\n\n\n    void Start () {\n        startTime = Time.time;\n        lBoard = new LeaderBoard();\n        // \u30d5\u30e9\u30b0\u521d\u671f\u5316\n        isRankFetched  = false;\n    }\n\n\n    void Update () {\n        if (goal == false) {\n            // \u73fe\u5728\u306e\u7d4c\u904e\u6642\u9593\u3092\u7b97\u51fa\n            lapTime = Time.time - startTime;\n        }\n    }\n\n    void OnGUI(){\n        if (goal == false) {\n            // \u73fe\u5728\u306e\u7d4c\u904e\u6642\u9593\u3092\u8868\u793a\n            float timer_x = Screen.width * 8 / 10;\n            float timer_y = Screen.height / 10;\n            float timer_w = Screen.width * 3 / 10;\n            float timer_h = Screen.height / 2;\n            GUI.Label (new Rect (timer_x, timer_y, timer_w, timer_h), \"Time\" + lapTime.ToString ());\n        } else {\n            // \u30b4\u30fc\u30eb\u30bf\u30a4\u30e0\u3092\u8868\u793a\n            float goal_x = Screen.width / 2;\n            float goal_y = Screen.height / 5;\n            float goal_w = Screen.width * 3/ 10;\n            float goal_h = Screen.height / 10;\n            if(ranking == false){\n                GUI.Label (new Rect (goal_x - goal_w/2, goal_y, goal_w, goal_h), \"Your Goal Time!\");\n                GUI.Label (new Rect (goal_x - goal_w/2, goal_y*2, goal_w, goal_h), lapTime.ToString ());\n                if (GUI.Button(new Rect(goal_x - goal_w, goal_y*3, goal_w, goal_h), \"ReStart\")) {\n                    Application.LoadLevel (\"run\");\n                }\n\n                if(GUI.Button(new Rect(goal_x, goal_y*3, goal_w, goal_h), \"Ranking\")){\n                    ranking = true;\n                }\n\n            }else{\n                // \u73fe\u5728\u306e\u9806\u4f4d\u306e\u53d6\u5f97\u304c\u5b8c\u4e86\u3057\u305f\u30891\u5ea6\u3060\u3051\u5b9f\u884c\n                if( !isRankFetched ){\n                    lBoard.fetchTopRankers();\n                    isRankFetched = true;\n                }\n\n                // \u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u63cf\u753b\n                if( lBoard.topRankers != null ){\n                    GUI.Label (new Rect (goal_x-goal_w/2, 15, goal_w, goal_h),\"Top Ranking\");\n                    for( int i = 0; i < lBoard.topRankers.Count; ++i) {\n                        GUI.Label (new Rect (goal_x-goal_w/2, 10 + goal_y*(i+1)/2, goal_w, goal_h),\"Time\"+ (i+1) + \".\"+ lBoard.topRankers[i].print());\n                    }\n                }\n\n                if (GUI.Button(new Rect(goal_x - goal_w/2, 10 + goal_y*3, goal_w, goal_h), \"Back\")) {\n                    ranking = false;\n                }\n            }\n        }\n    }\n\n    // Goal\u5230\u7740\u304c\u691c\u77e5\u3055\u308c\u305f\u3068\u304d\n    void OnGoal(){\n        goal = true;\n        //\u30af\u30e9\u30b9\u306e\u6307\u5b9a\n        NCMBObject timeClass = new NCMBObject(\"Time\"); //\u30ab\u30e9\u30e0\u3068\u633f\u5165\u3059\u308b\u30c6\u3099\u30fc\u30bf\u306e\u6307\u5b9a\n        timeClass[\"time\"] = lapTime; //\u975e\u540c\u671f\u3066\u3099\u306e\u30a2\u30c3\u30d5\u309a\u30ed\u30fc\u30c8\u3099\n        timeClass.SaveAsync();\n\n    }\n}\n\n\n\n\u5b9f\u969b\u306b\u3053\u308c\u3089\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u3092\u30b4\u30fc\u30eb\u3059\u308b\u3068\n\n\u30b4\u30fc\u30eb\u753b\u9762\u306b\u3001\u300cRanking\u300d\u304c\u8868\u793a\u3055\u308c\u3001\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u62bc\u3059\u3068\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30e9\u30f3\u30ad\u30f3\u30b0\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3067\u30e9\u30f3\u30ad\u30f3\u30b0\u3082\u5b8c\u6210\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3001\u3001\u3057\u3070\u3089\u304fVR\u30b2\u30fc\u30e0\u306e\u4f5c\u6210\u7de8\u306f\u3053\u308c\u306b\u3066\u4e00\u65e6\u7d42\u4e86\u3067\u3059\u3002\n[\u3053\u306e\u8a18\u4e8b](http://qiita.com/fumishitan/items/2b60f27b79fdb4772be4)\u306e\uff18\u56de\u76ee\u3002\n\n\u4eca\u56de\u306f[\u524d\u56de\u306e\u8a18\u4e8b](http://qiita.com/fumishitan/items/3367eca029da9a251a57)\u3067\u30b5\u30fc\u30d0\u30fc\u306b\u4fdd\u5b58\u3057\u305f\u30b9\u30b3\u30a2\u3092\u5f15\u304d\u4e0b\u308d\u3057\u3066\u3001\u30e9\u30f3\u30ad\u30f3\u30b0\u8868\u793a\u3055\u305b\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u30b5\u30fc\u30d0\u30fc\u306f[\u30cb\u30d5\u30c6\u30a3\u30af\u30e9\u30a6\u30c9 mobile backend](http://mb.cloud.nifty.com/)\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u3084\u308b\u3053\u3068\u306f\uff13\u3064\u3067\u3059\u3002\n\n\u30fb\u30c7\u30fc\u30bf\u3092\u4e00\u6642\u7684\u306b\u6301\u3064\u30af\u30e9\u30b9\u306e\u4f5c\u6210\n\u30fb\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u5f15\u304d\u4e0b\u308d\u3059\n\u30fb\u30c7\u30fc\u30bf\u3092\u4e00\u89a7\u3067\u8868\u793a\u3059\u308b\n\n## \u30c7\u30fc\u30bf\u3092\u4e00\u6642\u7684\u306b\u6301\u3064\u30af\u30e9\u30b9\u306e\u4f5c\u6210\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u3063\u305f\n\u4eca\u56de\u306e\u5834\u5408\u3060\u3068\u3042\u307e\u308a\u5fc5\u8981\u306a\u3044\u304c\u3001\u4eca\u5f8c\u540d\u524d\u306a\u3069\u3001\u30b9\u30b3\u30a2\u4ee5\u5916\u306e\u5225\u30c7\u30fc\u30bf\u3092\u7d10\u3065\u3051\u308b\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u3042\u308b\u3068\u3044\u3044\u3068\u601d\u3046\n\n```csharp:Rankers.cs\n\nusing UnityEngine;\nusing System.Collections;\n\nnamespace NCMB\n{\n\t\n\tpublic class Rankers\n\t{\n\t\t\n\t\tpublic string time   { get; set; }\n\t\t\n\t\t// \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf -----------------------------------\n\t\tpublic Rankers(string _time)\n\t\t{\n\t\t\ttime = _time;\n\t\t}\n\t\t\n\t\t// \u30e9\u30f3\u30ad\u30f3\u30b0\u3067\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u6587\u5b57\u5217\u3092\u6574\u5f62 -----------\n\t\tpublic string print()\n\t\t{\n\t\t\treturn time;\n\t\t}\n\t}\n\t\n}\n\n```\n\n## \u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u5f15\u304d\u4e0b\u308d\u3059\n\n[\u30cb\u30d5\u30c6\u30a3\u30af\u30e9\u30a6\u30c9 mobile backend](http://mb.cloud.nifty.com/)\u4ee5\u4e0b\uff08NCMB\uff09\u3067\u306fSDK\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u305d\u308c\u3092\u5229\u7528\u3057\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u3092\u5f15\u304d\u51fa\u305b\u307e\u3059\u3002\n\n```csharp:LeaderBoard.cs\n\nusing NCMB;\nusing System.Collections;\nusing System.Collections.Generic;\n\npublic class LeaderBoard {\n\t\n\tpublic int currentRank = 0;\n\tpublic List<NCMB.Rankers> topRankers = null;\n\t\n\t// \u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c8\u30c3\u30d75\u3092\u53d6\u5f97 ---------------    \n\tpublic void fetchTopRankers()\n\t{\n\t\t// \u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u306e\u300cTime\u300d\u30af\u30e9\u30b9\u304b\u3089\u691c\u7d22\n\t\tNCMBQuery<NCMBObject> query = new NCMBQuery<NCMBObject> (\"Time\");\n\t\tquery.OrderByAscending (\"time\");\n\t\tquery.Limit = 5;\n\t\t\n\t\tquery.FindAsync ((List<NCMBObject> objList ,NCMBException e) => {\n\t\t\t\n\t\t\tif (e != null) {\n\t\t\t\t//\u691c\u7d22\u5931\u6557\u6642\u306e\u51e6\u7406\n\t\t\t} else {\n\t\t\t\t//\u691c\u7d22\u6210\u529f\u6642\u306e\u51e6\u7406\n\t\t\t\tList<NCMB.Rankers> list = new List<NCMB.Rankers>();\n\t\t\t\t// \u53d6\u5f97\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u3092time\u30af\u30e9\u30b9\u3068\u3057\u3066\u4fdd\u5b58\n\t\t\t\tforeach (NCMBObject obj in objList) {\n\t\t\t\t\tstring    t = System.Convert.ToString(obj[\"time\"]);\n\t\t\t\t\tlist.Add( new Rankers(t) );\n\t\t\t\t}\n\t\t\t\ttopRankers = list;\n\t\t\t}\n\t\t});\n\t}\n\t\n}\n\n```\n\n\u5c11\u3057\u89e3\u8aac\u3092\u4ea4\u3048\u308b\u3068\u3001NCMB\u3067\u306f\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u3092(\u691c\u7d22\u306a\u3069\u306e)\u64cd\u4f5c\u3059\u308b\u3068\u304d\u306b\u30af\u30a8\u30ea\u3068\u3044\u3046\u547d\u4ee4\u3092\u6295\u3052\u308b\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u307e\u305a\u3069\u306e\u30af\u30e9\u30b9\u3078\u306e\u64cd\u4f5c\u306a\u306e\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n``` csharp:\n\nNCMBQuery<NCMBObject> query = new NCMBQuery<NCMBObject> (\"Time\");\n```\n\n\u6b21\u306b\u3001time \u30ab\u30e9\u30e0\u3092\u964d\u9806\u306b\u306a\u3089\u3073\u304b\u3048\u308b\n\n``` csharp:\n\nquery.OrderByAscending (\"time\");\n```\n\n\u305d\u3057\u3066\u4e00\u756a\u3001\u5c0f\u3055\u3044\u3082\u306e\u304b\u3089\u9806\u306b\uff15\u500b\u3068\u3063\u3066\u304f\u308b\n\n```csharp\n\nquery.Limit = 5;\n```\n\n\u6700\u5f8c\u306equery.FindAsync\u3067\u975e\u540c\u671f\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u3063\u3066\u304f\u308b\n\n## \u30c7\u30fc\u30bf\u3092\u4e00\u89a7\u3067\u8868\u793a\u3059\u308b\n\n\u5f8c\u306f\u4e00\u89a7\u8868\u793a\u306e\u90e8\u5206\u3067\u3059\u3002\u4eca\u56de\u306fTimer.cs\u306eOnGUI\u306e\u90e8\u5206\u3067\u63cf\u753b\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u305d\u308c\u304c\u4e0b\u8a18\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\n```csharp:\n\nif( !isRankFetched ){\n\tlBoard.fetchTopRankers();\n\tisRankFetched = true;\n}\n\t\t\t\t\n// \u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u63cf\u753b\nif( lBoard.topRankers != null ){\n\tGUI.Label (new Rect (goal_x-goal_w/2, 15, goal_w, goal_h),\"Top Ranking\");\n\tfor( int i = 0; i < lBoard.topRankers.Count; ++i) {\n\t\tGUI.Label (new Rect (goal_x-goal_w/2, 10 + goal_y*(i+1)/2, goal_w, goal_h),\"Time\"+ (i+1) + \".\"+ lBoard.topRankers[i].print());\n\t}\n}\n\n```\n\n\u524d\u56de\u306e\u30b4\u30fc\u30eb\u30bf\u30a4\u30e0\u306e\u8868\u793a\u90e8\u5206\u306b\u300cRankingButton\u300d\u3092\u4f5c\u308a\u3001\u305d\u3053\u304b\u3089\u9077\u79fb\u3057\u3066\u63cf\u753b\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n```csharp:Timer.cs\n\nusing UnityEngine;\nusing System.Collections;\nusing NCMB;\n\npublic class Timer : MonoBehaviour {\n\tfloat startTime;\n\tfloat lapTime;\n\tbool goal = false;\n\tbool ranking = false;\n\tprivate LeaderBoard lBoard;\n\tbool isRankFetched;\n\t\n\t\n\tvoid Start () {\n\t\tstartTime = Time.time;\n\t\tlBoard = new LeaderBoard();\n\t\t// \u30d5\u30e9\u30b0\u521d\u671f\u5316\n\t\tisRankFetched  = false;\n\t}\n\t\n\t\n\tvoid Update () {\n\t\tif (goal == false) {\n\t\t\t// \u73fe\u5728\u306e\u7d4c\u904e\u6642\u9593\u3092\u7b97\u51fa\n\t\t\tlapTime = Time.time - startTime;\n\t\t}\n\t}\n\t\n\tvoid OnGUI(){\n\t\tif (goal == false) {\n\t\t\t// \u73fe\u5728\u306e\u7d4c\u904e\u6642\u9593\u3092\u8868\u793a\n\t\t\tfloat timer_x = Screen.width * 8 / 10;\n\t\t\tfloat timer_y = Screen.height / 10;\n\t\t\tfloat timer_w = Screen.width * 3 / 10;\n\t\t\tfloat timer_h = Screen.height / 2;\n\t\t\tGUI.Label (new Rect (timer_x, timer_y, timer_w, timer_h), \"Time\" + lapTime.ToString ());\n\t\t} else {\n\t\t\t// \u30b4\u30fc\u30eb\u30bf\u30a4\u30e0\u3092\u8868\u793a\n\t\t\tfloat goal_x = Screen.width / 2;\n\t\t\tfloat goal_y = Screen.height / 5;\n\t\t\tfloat goal_w = Screen.width * 3/ 10;\n\t\t\tfloat goal_h = Screen.height / 10;\n\t\t\tif(ranking == false){\n\t\t\t\tGUI.Label (new Rect (goal_x - goal_w/2, goal_y, goal_w, goal_h), \"Your Goal Time!\");\n\t\t\t\tGUI.Label (new Rect (goal_x - goal_w/2, goal_y*2, goal_w, goal_h), lapTime.ToString ());\n\t\t\t\tif (GUI.Button(new Rect(goal_x - goal_w, goal_y*3, goal_w, goal_h), \"ReStart\")) {\n\t\t\t\t\tApplication.LoadLevel (\"run\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(GUI.Button(new Rect(goal_x, goal_y*3, goal_w, goal_h), \"Ranking\")){\n\t\t\t\t\tranking = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\t// \u73fe\u5728\u306e\u9806\u4f4d\u306e\u53d6\u5f97\u304c\u5b8c\u4e86\u3057\u305f\u30891\u5ea6\u3060\u3051\u5b9f\u884c\n\t\t\t\tif( !isRankFetched ){\n\t\t\t\t\tlBoard.fetchTopRankers();\n\t\t\t\t\tisRankFetched = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// \u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u63cf\u753b\n\t\t\t\tif( lBoard.topRankers != null ){\n\t\t\t\t\tGUI.Label (new Rect (goal_x-goal_w/2, 15, goal_w, goal_h),\"Top Ranking\");\n\t\t\t\t\tfor( int i = 0; i < lBoard.topRankers.Count; ++i) {\n\t\t\t\t\t\tGUI.Label (new Rect (goal_x-goal_w/2, 10 + goal_y*(i+1)/2, goal_w, goal_h),\"Time\"+ (i+1) + \".\"+ lBoard.topRankers[i].print());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (GUI.Button(new Rect(goal_x - goal_w/2, 10 + goal_y*3, goal_w, goal_h), \"Back\")) {\n\t\t\t\t\tranking = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// Goal\u5230\u7740\u304c\u691c\u77e5\u3055\u308c\u305f\u3068\u304d\n\tvoid OnGoal(){\n\t\tgoal = true;\n\t\t//\u30af\u30e9\u30b9\u306e\u6307\u5b9a\n\t\tNCMBObject timeClass = new NCMBObject(\"Time\"); //\u30ab\u30e9\u30e0\u3068\u633f\u5165\u3059\u308b\u30c6\u3099\u30fc\u30bf\u306e\u6307\u5b9a\n\t\ttimeClass[\"time\"] = lapTime; //\u975e\u540c\u671f\u3066\u3099\u306e\u30a2\u30c3\u30d5\u309a\u30ed\u30fc\u30c8\u3099\n\t\ttimeClass.SaveAsync();\n\n\t}\n}\n\n```\n\n\u5b9f\u969b\u306b\u3053\u308c\u3089\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u3092\u30b4\u30fc\u30eb\u3059\u308b\u3068\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-01 21.14.54.png](https://qiita-image-store.s3.amazonaws.com/0/55227/da316d2a-742f-1385-4424-1b0421fd76f8.png)\n\n\u30b4\u30fc\u30eb\u753b\u9762\u306b\u3001\u300cRanking\u300d\u304c\u8868\u793a\u3055\u308c\u3001\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u62bc\u3059\u3068\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-01 21.17.33.png](https://qiita-image-store.s3.amazonaws.com/0/55227/83820227-38eb-2d6b-c551-eea70bfc8bd4.png)\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30e9\u30f3\u30ad\u30f3\u30b0\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u30e9\u30f3\u30ad\u30f3\u30b0\u3082\u5b8c\u6210\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3001\u3001\u3057\u3070\u3089\u304fVR\u30b2\u30fc\u30e0\u306e\u4f5c\u6210\u7de8\u306f\u3053\u308c\u306b\u3066\u4e00\u65e6\u7d42\u4e86\u3067\u3059\u3002\n\n"}