{"context": " More than 1 year has passed since last update.\n\ndocker\u306e\u30c9\u30e9\u30a4\u30d0\u3092lxc\u306b\u5909\u66f4\ndocker\u30b5\u30fc\u30d3\u30b9\u3092\u4e00\u65e6\u6b62\u3081\u3066\nservice docker.io stop\n\u518d\u8d77\u52d5(lxc\u30c9\u30e9\u30a4\u30d0\u6307\u5b9a)\ndocker -d -e lxc\n\u7aef\u672b\u4e00\u500b\u53d6\u3089\u308c\u308b\u306e\u3067screen\u3068\u304b\u4f7f\u3063\u3068\u304f\u3079\u304d\n\nOpenvSwitch\u3067\u30d6\u30ea\u30c3\u30b8\u4f5c\u6210\novs-vsctl add-br ovs-br0\n\u3053\u308c\u3060\u3051\u3067OK\n\u30dd\u30fc\u30c8\u3068\u304b\u306f\u30b3\u30f3\u30c6\u30ca\u304c\u8d77\u52d5\u3057\u305f\u6642\u306b\u4f5c\u6210\u3059\u308b\n\nDocker\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\n\n\u8d77\u52d5\u30b3\u30de\u30f3\u30c9\n\nrun.sh\ndocker run -i -t \\\n--net=none \\\n--lxc-conf='lxc.network.type=veth' \\\n--lxc-conf='lxc.network.ipv4=192.168.111.50' \\\n--lxc-conf='lxc.network.flags=up' \\\n--lxc-conf='lxc.network.name=eth0' \\\n--lxc-conf='lxc.network.script.up=/home/ovs_ifup/ovs-br0' \\\n--lxc-conf='lxc.network.script.down=/home/ovs_ifdown/ovs-br0' \\\ntrema_controller:latest /bin/bash`\n\n\n\novs_ifup/ovs-br0\n#!/bin/bash\nsudo ifconfig $5 0.0.0.0 up\nsudo ovs-vsctl add-port ovs-br0 $5\n\n\n\novs_ifdown/ovs-br0\n#!/bin/bash\nsudo ifdown $5\nsudo ovs-vsctl del-port ovs-br0 $5\n\n\n\n\u53c2\u8003\n\nCentOS6.6\u3067Docker\u30b3\u30f3\u30c6\u30ca\u306b\u56fa\u5b9aIP\u30a2\u30c9\u30ec\u30b9\u3092\u4ed8\u3051\u30db\u30b9\u30c8\u3068\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u4f7f\u3046(\u30c9\u30e9\u30a4\u30d0\u5909\u66f4\u65b9\u6cd5)\nOpenvSwitch\u3067\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u4f5c\u308b2(lxc\u30b3\u30f3\u30c6\u30ca\u3092Openvswitch\u306b\u3064\u306a\u3050)\n\n# docker\u306e\u30c9\u30e9\u30a4\u30d0\u3092lxc\u306b\u5909\u66f4\ndocker\u30b5\u30fc\u30d3\u30b9\u3092\u4e00\u65e6\u6b62\u3081\u3066\n`service docker.io stop`\n\u518d\u8d77\u52d5(lxc\u30c9\u30e9\u30a4\u30d0\u6307\u5b9a)\n`docker -d -e lxc`\n\u7aef\u672b\u4e00\u500b\u53d6\u3089\u308c\u308b\u306e\u3067screen\u3068\u304b\u4f7f\u3063\u3068\u304f\u3079\u304d\n\n# OpenvSwitch\u3067\u30d6\u30ea\u30c3\u30b8\u4f5c\u6210\n`ovs-vsctl add-br ovs-br0`\n\u3053\u308c\u3060\u3051\u3067OK\n\u30dd\u30fc\u30c8\u3068\u304b\u306f\u30b3\u30f3\u30c6\u30ca\u304c\u8d77\u52d5\u3057\u305f\u6642\u306b\u4f5c\u6210\u3059\u308b\n\n# Docker\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\n## \u8d77\u52d5\u30b3\u30de\u30f3\u30c9\n```bash:run.sh\ndocker run -i -t \\\n--net=none \\\n--lxc-conf='lxc.network.type=veth' \\\n--lxc-conf='lxc.network.ipv4=192.168.111.50' \\\n--lxc-conf='lxc.network.flags=up' \\\n--lxc-conf='lxc.network.name=eth0' \\\n--lxc-conf='lxc.network.script.up=/home/ovs_ifup/ovs-br0' \\\n--lxc-conf='lxc.network.script.down=/home/ovs_ifdown/ovs-br0' \\\ntrema_controller:latest /bin/bash`\n```\n\n```bash:ovs_ifup/ovs-br0\n#!/bin/bash\nsudo ifconfig $5 0.0.0.0 up\nsudo ovs-vsctl add-port ovs-br0 $5\n```\n\n```bash:ovs_ifdown/ovs-br0\n#!/bin/bash\nsudo ifdown $5\nsudo ovs-vsctl del-port ovs-br0 $5\n```\n\n\n# \u53c2\u8003\n* [CentOS6.6\u3067Docker\u30b3\u30f3\u30c6\u30ca\u306b\u56fa\u5b9aIP\u30a2\u30c9\u30ec\u30b9\u3092\u4ed8\u3051\u30db\u30b9\u30c8\u3068\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u4f7f\u3046(\u30c9\u30e9\u30a4\u30d0\u5909\u66f4\u65b9\u6cd5)]\n(http://www.skyarch.net/blog/?p=3530)\n* [OpenvSwitch\u3067\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u4f5c\u308b2(lxc\u30b3\u30f3\u30c6\u30ca\u3092Openvswitch\u306b\u3064\u306a\u3050)]\n(http://steady-inc.hatenablog.com/entry/2014/05/21/110951)\n", "tags": ["docker", "OpenVSwitch"]}