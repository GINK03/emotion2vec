{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u4e8c\u3064\u306eStream\u3092\u4f5c\u3063\u3066pipe\u3067\u3064\u306a\u304e\u307e\u3059\u3002\n\n\u914d\u5217\u304b\u3089Stream\u3092\u4f5c\u308bArrayStream\nStream\u3092\u51fa\u529b\u3059\u308bLogStream\n\nRxJS\u306e\u3068\u3066\u3082\u77ed\u3044\u30b5\u30f3\u30d7\u30eb \u306e Node Stream\u7248\u3067\u3059\u3002\n\n\u52d5\u4f5c\u74b0\u5883\n\nNode.js v0.12.2\nbabel.js 5.2.17\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nindex.js\nimport {\n  Writable,\n  Readable\n}\nfrom 'stream'\n\nconst option = {\n  objectMode: true\n}\n\nclass ArrayStream extends Readable {\n  constructor(array) {\n    super(option)\n    this._array = array\n  }\n  _read() {\n    this.push(this._array.shift() || null)\n  }\n}\n\nclass LogStream extends Writable {\n  constructor() {\n    super(option)\n  }\n  _write(chunk, encoding, callback) {\n    console.log(chunk)\n    callback()\n  }\n}\n\nnew ArrayStream([1, 2, 3, 4])\n  .pipe(new LogStream)\n\n\n\u5165\u51fa\u529b\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001objectMode\u3092true\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306fBuffer\u3067\u3059\u3002\n\n\u6e96\u5099\nnpm install -g babel\n\n\n\u5b9f\u884c\nbabel-node index.js\n\n\n\u7d50\u679c\n1\n2\n3\n4\n\n\n\u53c2\u8003\n\nnode.js - How to implement a writable stream - Stack Overflow\nStream\u4eca\u6614\u7269\u8a9e - from scratch\nNode.js \u306e Stream API \u3067\u300c\u30c7\u30fc\u30bf\u306e\u6d41\u308c\u300d\u3092\u6271\u3046\u65b9\u6cd5 - Block Rockin\u2019 Codes\nHow to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds\n\n\n# \u6982\u8981\n\n\u4e8c\u3064\u306eStream\u3092\u4f5c\u3063\u3066pipe\u3067\u3064\u306a\u304e\u307e\u3059\u3002\n\n1. \u914d\u5217\u304b\u3089Stream\u3092\u4f5c\u308bArrayStream\n2. Stream\u3092\u51fa\u529b\u3059\u308bLogStream\n\n[RxJS\u306e\u3068\u3066\u3082\u77ed\u3044\u30b5\u30f3\u30d7\u30eb](http://qiita.com/ledsun/items/e34c0bb1b92544593f1a) \u306e [Node Stream](https://nodejs.org/api/stream.html)\u7248\u3067\u3059\u3002\n\n\n# \u52d5\u4f5c\u74b0\u5883\n- Node.js v0.12.2\n- babel.js 5.2.17\n\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n```js:index.js\nimport {\n  Writable,\n  Readable\n}\nfrom 'stream'\n\nconst option = {\n  objectMode: true\n}\n\nclass ArrayStream extends Readable {\n  constructor(array) {\n    super(option)\n    this._array = array\n  }\n  _read() {\n    this.push(this._array.shift() || null)\n  }\n}\n\nclass LogStream extends Writable {\n  constructor() {\n    super(option)\n  }\n  _write(chunk, encoding, callback) {\n    console.log(chunk)\n    callback()\n  }\n}\n\nnew ArrayStream([1, 2, 3, 4])\n  .pipe(new LogStream)\n```\n\n\u5165\u51fa\u529b\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001`objectMode`\u3092`true`\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306f[Buffer](https://nodejs.org/api/buffer.html)\u3067\u3059\u3002\n\n# \u6e96\u5099\n\n```\nnpm install -g babel\n```\n\n# \u5b9f\u884c\n\n```\nbabel-node index.js\n```\n\n# \u7d50\u679c                                                                                   \n\n```                                                                             \n1\n2\n3\n4\n```\n\n# \u53c2\u8003\n- [node.js - How to implement a writable stream - Stack Overflow](http://stackoverflow.com/a/21583831/1276969)\n- [Stream\u4eca\u6614\u7269\u8a9e - from scratch](http://yosuke-furukawa.hatenablog.com/entry/2014/12/01/155303)\n- [Node.js \u306e Stream API \u3067\u300c\u30c7\u30fc\u30bf\u306e\u6d41\u308c\u300d\u3092\u6271\u3046\u65b9\u6cd5 - Block Rockin\u2019 Codes](http://jxck.hatenablog.com/entry/20111204/1322966453)\n- [How to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds](http://codewinds.com/blog/2013-08-19-nodejs-writable-streams.html)\n", "tags": ["Node.js", "es6", "JavaScript"]}