{"context": "\n\n Sample\n\u4e0a\u4e0b\u5de6\u53f3\u3092\u51fa\u529b\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u597d\u304d\u306a\u540d\u524d\u3067\u5b9a\u7fa9\u3067\u304d\u308b\u30af\u30e9\u30b9\u30de\u30af\u30ed\u3092\u3064\u304f\u308a\u307e\u3059\u3002\n\u30de\u30af\u30ed\u306f macro \u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u8a73\u7d30\u306f\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53c2\u7167\u3002\n\n Macros - Docs - Crystal\n Macros - Docs - Crystal(\u65e5\u672c\u8a9e\u7248)\n\n{{ some_macro_argument }} \u3067AST\u30ce\u30fc\u30c9\u3092\u8cbc\u308a\u4ed8\u3051\u30fb\u57cb\u3081\u8fbc\u307f\u3067\u304d\u307e\u3059\u3002\n{{ some_macro_argument }} \u3092\u30de\u30af\u30ed\u5c55\u958b\u3068\u547c\u3073\u307e\u3059\u3002\n\u5206\u5c90\u3001\u30eb\u30fc\u30d7\u306a\u3069\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306f {% if condition %} ... {% end %} \u306e\u3088\u3046\u306b {% %} \u3092\u4f7f\u3044\u307e\u3059\u3002\n\n \u30b3\u30fc\u30c9\n\n./src/direction_dsl.cr\n\nmodule Direction\n  module Dsl\n    macro move(key, direction)\n      def {{key.id}}\n        {% if direction == :\u2191 %} print \"\u4e0a\"\n        {% elsif direction == :\u2193 %} print \"\u4e0b\"\n        {% elsif direction == :\u2192 %} print \"\u53f3\"\n        {% elsif direction == :\u2190 %} print \"\u5de6\"\n        {% end %}\n        self\n      end\n    end\n  end\nend\n\n\n./src/direction_mover.cr\n\nrequire \"./direction_mover/*\"\nrequire \"./direction_dsl\"\n\nmodule Vim\n  class Mover\n    include Direction::Dsl\n    move :k, :\u2191\n    move :j, :\u2193\n    move :l, :\u2192\n    move :h, :\u2190\n  end\nend\n\nputs \"==Vim==\"\nVim::Mover.new.k.k.j.j.l.r.l.r\n\nmodule Japanese\n  class Mover\n    include Direction::Dsl\n    move :\u4e0a, :\u2191\n    move :\u4e0b, :\u2193\n    move :\u53f3, :\u2192\n    move :\u5de6, :\u2190\n  end\nend\n\nputs\nputs \"==Japanese==\"\nJapanese::Mover.new.\u4e0a.\u4e0a.\u4e0b.\u4e0b.\u5de6.\u53f3.\u5de6.\u53f3\n\nmodule Emoji\n  class Mover\n    include Direction::Dsl\n    move :\ud83d\udd3c, :\u2191\n    move :\ud83d\udd3d, :\u2193\n    move :\u23e9, :\u2192\n    move :\u23ea, :\u2190\n  end\nend\n\nputs\nputs \"==Emoji==\"\nEmoji::Mover.new.\ud83d\udd3c.\ud83d\udd3c.\ud83d\udd3d.\ud83d\udd3d.\u23ea.\u23e9.\u23ea.\u23e9\n\n\n \u5b9f\u884c\u7d50\u679c\n$ crystal ./src/direction_mover.cr\n==Vim==\n\u4e0a\u4e0a\u4e0b\u4e0b\u5de6\u53f3\u5de6\u53f3\n==Japanese==\n\u4e0a\u4e0a\u4e0b\u4e0b\u5de6\u53f3\u5de6\u53f3\n==Emoji==\n\u4e0a\u4e0a\u4e0b\u4e0b\u5de6\u53f3\u5de6\u53f3\n\n\n Debug\n{{ debug() }} \u3067\u30de\u30af\u30ed\u306e\u5185\u5bb9\u3092\u30c7\u30d0\u30c3\u30b0\u51fa\u529b\u3067\u304d\u307e\u3059\u3002\n\n \u30b3\u30fc\u30c9\nmodule Direction\n  module Dsl\n    macro move(key, direction)\n      def {{key.id}}\n        {% if direction == :\u2191 %} print \"\u4e0a\"\n        {% elsif direction == :\u2193 %} print \"\u4e0b\"\n        {% elsif direction == :\u2192 %} print \"\u53f3\"\n        {% elsif direction == :\u2190 %} print \"\u5de6\"\n        {% end %}\n        self\n      end\n      {{ debug() }}\n    end\n  end\nend\n\n\n \u51fa\u529b\n      def k\n         print \"\u4e0a\"\n\n        self\n      end\n\n      def j\n         print \"\u4e0b\"\n\n        self\n      end\n\n      def l\n         print \"\u53f3\"\n\n        self\n      end\n\n      def h\n         print \"\u5de6\"\n\n        self\n      end\n\n      def \u4e0a\n         print \"\u4e0a\"\n\n        self\n      end\n\n      def \u4e0b\n         print \"\u4e0b\"\n\n        self\n      end\n\n      def \u53f3\n         print \"\u53f3\"\n\n        self\n      end\n\n      def \u5de6\n         print \"\u5de6\"\n\n        self\n      end\n\n      def \ud83d\udd3c\n         print \"\u4e0a\"\n\n        self\n      end\n\n      def \ud83d\udd3d\n         print \"\u4e0b\"\n\n        self\n      end\n\n      def \u23e9\n         print \"\u53f3\"\n\n        self\n      end\n\n      def \u23ea\n         print \"\u5de6\"\n\n        self\n      end\n\n\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\n\n \u7d99\u627f\u5148\u306e\u578b\u60c5\u5831\n@type \u3067\u7d99\u627f\u5148\u306e\u578b\u60c5\u5831\u3092\u53c2\u7167\u3067\u304d\u307e\u3059\u3002\n\n \u30b3\u30fc\u30c9\nmodule Direction\n  module Dsl\n    macro move(key, direction)\n      {% puts @type %}\n      def {{key.id}}\n        {% if direction == :\u2191 %} print \"\u4e0a\"\n        {% elsif direction == :\u2193 %} print \"\u4e0b\"\n        {% elsif direction == :\u2192 %} print \"\u53f3\"\n        {% elsif direction == :\u2190 %} print \"\u5de6\"\n        {% end %}\n        self\n      end\n    end\n  end\nend\n\n\n \u51fa\u529b\nVim::Mover\nVim::Mover\nVim::Mover\nVim::Mover\nJapanese::Mover\nJapanese::Mover\nJapanese::Mover\nJapanese::Mover\nEmoji::Mover\nEmoji::Mover\nEmoji::Mover\nEmoji::Mover\n\n\n \u5916\u90e8\u8cc7\u6599\n\n\n \u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u8a55\u4fa1\u3067\u3082\u30e1\u30bf\u30d7\u30ed\u3057\u305f\u3044 - Crystal - HKDnet - Qiita\n\n\n Macros - Docs - Crystal\n\n\n## <i class=\"fa fa-flask\" style=\"font-size:1em;\"></i> Sample\n\u4e0a\u4e0b\u5de6\u53f3\u3092\u51fa\u529b\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u597d\u304d\u306a\u540d\u524d\u3067\u5b9a\u7fa9\u3067\u304d\u308b\u30af\u30e9\u30b9\u30de\u30af\u30ed\u3092\u3064\u304f\u308a\u307e\u3059\u3002\n\u30de\u30af\u30ed\u306f `macro` \u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u8a73\u7d30\u306f\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53c2\u7167\u3002\n\n* <i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [Macros - Docs - Crystal](http://crystal-lang.org/docs/syntax_and_semantics/macros.html)\n\n* <i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [Macros - Docs - Crystal(\u65e5\u672c\u8a9e\u7248)](http://ja.crystal-lang.org/docs/syntax_and_semantics/macros.html)\n\n`{{ some_macro_argument }}` \u3067AST\u30ce\u30fc\u30c9\u3092\u8cbc\u308a\u4ed8\u3051\u30fb\u57cb\u3081\u8fbc\u307f\u3067\u304d\u307e\u3059\u3002\n`{{ some_macro_argument }}` \u3092\u30de\u30af\u30ed\u5c55\u958b\u3068\u547c\u3073\u307e\u3059\u3002\n\n\u5206\u5c90\u3001\u30eb\u30fc\u30d7\u306a\u3069\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306f `{% if condition %} ... {% end %} ` \u306e\u3088\u3046\u306b `{% %}` \u3092\u4f7f\u3044\u307e\u3059\u3002\n\n### <i class=\"fa fa-code\" style=\"font-size:1em;\"></i> \u30b3\u30fc\u30c9\n* ./src/direction_dsl.cr\n\n```crystal\nmodule Direction\n  module Dsl\n    macro move(key, direction)\n      def {{key.id}}\n        {% if direction == :\u2191 %} print \"\u4e0a\"\n        {% elsif direction == :\u2193 %} print \"\u4e0b\"\n        {% elsif direction == :\u2192 %} print \"\u53f3\"\n        {% elsif direction == :\u2190 %} print \"\u5de6\"\n        {% end %}\n        self\n      end\n    end\n  end\nend\n```\n\n* ./src/direction_mover.cr\n\n```crystal\nrequire \"./direction_mover/*\"\nrequire \"./direction_dsl\"\n\nmodule Vim\n  class Mover\n    include Direction::Dsl\n    move :k, :\u2191\n    move :j, :\u2193\n    move :l, :\u2192\n    move :h, :\u2190\n  end\nend\n\nputs \"==Vim==\"\nVim::Mover.new.k.k.j.j.l.r.l.r\n\nmodule Japanese\n  class Mover\n    include Direction::Dsl\n    move :\u4e0a, :\u2191\n    move :\u4e0b, :\u2193\n    move :\u53f3, :\u2192\n    move :\u5de6, :\u2190\n  end\nend\n\nputs\nputs \"==Japanese==\"\nJapanese::Mover.new.\u4e0a.\u4e0a.\u4e0b.\u4e0b.\u5de6.\u53f3.\u5de6.\u53f3\n\nmodule Emoji\n  class Mover\n    include Direction::Dsl\n    move :\ud83d\udd3c, :\u2191\n    move :\ud83d\udd3d, :\u2193\n    move :\u23e9, :\u2192\n    move :\u23ea, :\u2190\n  end\nend\n\nputs\nputs \"==Emoji==\"\nEmoji::Mover.new.\ud83d\udd3c.\ud83d\udd3c.\ud83d\udd3d.\ud83d\udd3d.\u23ea.\u23e9.\u23ea.\u23e9\n```\n\n## <i class=\"fa fa-play-circle\" style=\"font-size:1em;\"></i> \u5b9f\u884c\u7d50\u679c\n```\n$ crystal ./src/direction_mover.cr\n==Vim==\n\u4e0a\u4e0a\u4e0b\u4e0b\u5de6\u53f3\u5de6\u53f3\n==Japanese==\n\u4e0a\u4e0a\u4e0b\u4e0b\u5de6\u53f3\u5de6\u53f3\n==Emoji==\n\u4e0a\u4e0a\u4e0b\u4e0b\u5de6\u53f3\u5de6\u53f3\n```\n\n## <i class=\"fa fa-bug\" style=\"font-size:1em;\"></i> Debug\n`{{ debug() }}` \u3067\u30de\u30af\u30ed\u306e\u5185\u5bb9\u3092\u30c7\u30d0\u30c3\u30b0\u51fa\u529b\u3067\u304d\u307e\u3059\u3002\n\n### <i class=\"fa fa-code\" style=\"font-size:1em;\"></i> \u30b3\u30fc\u30c9\n\n```crystal\nmodule Direction\n  module Dsl\n    macro move(key, direction)\n      def {{key.id}}\n        {% if direction == :\u2191 %} print \"\u4e0a\"\n        {% elsif direction == :\u2193 %} print \"\u4e0b\"\n        {% elsif direction == :\u2192 %} print \"\u53f3\"\n        {% elsif direction == :\u2190 %} print \"\u5de6\"\n        {% end %}\n        self\n      end\n      {{ debug() }}\n    end\n  end\nend\n```\n\n### <i class=\"fa fa-calculator\" style=\"font-size:1em;\"></i> \u51fa\u529b\n\n```crystal\n      def k\n         print \"\u4e0a\"\n        \n        self\n      end\n      \n      def j\n         print \"\u4e0b\"\n        \n        self\n      end\n      \n      def l\n         print \"\u53f3\"\n        \n        self\n      end\n      \n      def h\n         print \"\u5de6\"\n        \n        self\n      end\n      \n      def \u4e0a\n         print \"\u4e0a\"\n        \n        self\n      end\n      \n      def \u4e0b\n         print \"\u4e0b\"\n        \n        self\n      end\n      \n      def \u53f3\n         print \"\u53f3\"\n        \n        self\n      end\n      \n      def \u5de6\n         print \"\u5de6\"\n        \n        self\n      end\n      \n      def \ud83d\udd3c\n         print \"\u4e0a\"\n        \n        self\n      end\n      \n      def \ud83d\udd3d\n         print \"\u4e0b\"\n        \n        self\n      end\n      \n      def \u23e9\n         print \"\u53f3\"\n        \n        self\n      end\n      \n      def \u23ea\n         print \"\u5de6\"\n        \n        self\n      end\n```\n\n\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\n\n## <i class=\"fa fa-cube\" style=\"font-size:1em;\"></i> \u7d99\u627f\u5148\u306e\u578b\u60c5\u5831\n`@type` \u3067\u7d99\u627f\u5148\u306e\u578b\u60c5\u5831\u3092\u53c2\u7167\u3067\u304d\u307e\u3059\u3002\n\n### <i class=\"fa fa-code\" style=\"font-size:1em;\"></i> \u30b3\u30fc\u30c9\n\n```crystal\nmodule Direction\n  module Dsl\n    macro move(key, direction)\n      {% puts @type %}\n      def {{key.id}}\n        {% if direction == :\u2191 %} print \"\u4e0a\"\n        {% elsif direction == :\u2193 %} print \"\u4e0b\"\n        {% elsif direction == :\u2192 %} print \"\u53f3\"\n        {% elsif direction == :\u2190 %} print \"\u5de6\"\n        {% end %}\n        self\n      end\n    end\n  end\nend\n```\n\n### <i class=\"fa fa-calculator\" style=\"font-size:1em;\"></i> \u51fa\u529b\n\n```\nVim::Mover\nVim::Mover\nVim::Mover\nVim::Mover\nJapanese::Mover\nJapanese::Mover\nJapanese::Mover\nJapanese::Mover\nEmoji::Mover\nEmoji::Mover\nEmoji::Mover\nEmoji::Mover\n```\n\n## <i class=\"fa fa-book\" style=\"font-size:1em;\"></i> \u5916\u90e8\u8cc7\u6599\n* <i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u8a55\u4fa1\u3067\u3082\u30e1\u30bf\u30d7\u30ed\u3057\u305f\u3044 - Crystal - HKDnet - Qiita](http://qiita.com/HKDnet/items/0aeaa2b31f7321fc43ed)\n* <i class=\"fa fa-external-link\" style=\"font-size:1em;\"></i> [Macros - Docs - Crystal](http://crystal-lang.org/docs/syntax_and_semantics/macros.html)\n", "tags": ["crystal"]}