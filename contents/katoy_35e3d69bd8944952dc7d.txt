{"context": " More than 1 year has passed since last update.\n\n\u8ab2\u984c\nruby \u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089 \u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u3002\u307e\u305f \u305d\u306e\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3002\n\n\u5b9f\u88c5\u65b9\u91dd\n\n\u30e1\u30fc\u30eb\u9001\u4fe1\u306f actionmailer \u3092\u76f4\u63a5\u4f7f\u3063\u3066\u884c\u3046\u3002\n\u30c6\u30b9\u30c8\u6642\u306f\u3001mailcatcher \u3092\u8d77\u52d5\u3055\u305b\u3001\u5916\u90e8\u306b\u306f\u30e1\u30fc\u30eb\u9001\u4fe1\u306f\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3002\nmailcather \u306e API \u3092\u5229\u7528\u3057\u3066\u3001\u30e1\u30fc\u30eb\u9001\u4fe1\u306e\u6210\u529f\u6709\u7121\u3084\u9001\u4fe1\u30e1\u30fc\u30eb\u5185\u5bb9\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u3002\nmailcatcher \u306e API \u3092\u5229\u7528\u6cd5\u3092 MailcatcherDriver  \u30af\u30e9\u30b9\u3068\u3057\u3066\u72ec\u7acb\u3055\u305b\u308b\u3002 \nrspec \u3067\u81ea\u52d5\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3002\n\n\n\u5b9f\u88c5\u4f8b\nhttps://github.com/katoy/mailer  \u306b\u4f5c\u696d\u9014\u4e2d\u306e\u3082\u306e\u3092\u7f6e\u3044\u305f\u3002\n\n\u6b8b\u4ef6\n\n \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u3092\u3064\u3051\u305f\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u3002\u305d\u306e\u30c6\u30b9\u30c8\u3092\u3059\u308b\u3002\n\u3000\u3000==> 2014-07-30: \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u4ed8\u304d\u30e1\u30fc\u30eb\u306e\u9001\u4fe1\u3068\u3001\u305d\u308c\u3092 mailcatche  \u304b\u3089\u8aad\u307f\u53d6\u308b\u4e8b\u3092\u5b9f\u88c5\u3057\u305f\u3002\n\u6307\u5b9a\u3057\u305f\u30e1\u30fc\u30eb\u3060\u3051\u3092 mailcatcher \u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u304b\u3089\u524a\u9664\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3059\u308b\u3002\n\n\n\u30b5\u30f3\u30d7\u30eb\nsample/sample-001.rb\n# -*- coding: utf-8 -*-\n\nrequire File.join(File.expand_path(File.dirname(__FILE__)), '..', 'src', 'mailer.rb')\nrequire File.join(File.expand_path(File.dirname(__FILE__)), '..', 'src', 'mailcatcher-driver.rb')\n\nmail_infos = {\n  from: 'youichikato@gmail.com',\n  to:  'youichikato@gmail.com',\n  subject: '\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb Subject',\n  body: '\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u672c\u6587',\n}\n\n# \u30e1\u30fc\u30eb\u30ad\u30e3\u30c3\u30c1\u30e3\u30fc\u3092\u958b\u59cb\u3059\u308b\u3002\u65e2\u306b\u958b\u59cb\u6e08\u307f\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\u3002\nmc = MailcatcherDriver.new\nmc.start\n\n# \u73fe\u6642\u70b9\u306e\u5168\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5f97\u308b\nputs '--------------------------- messages_json before send'\nap mc.all_messages\n\n# \u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\nMyMailer.send_mail mail_infos\n# \u73fe\u6642\u70b9\u306e\u5168\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5f97\u308b\nputs '--------------------------- messages_json after send'\nap mc.all_messages\n\n# \u30e1\u30fc\u30eb ID \u3092\u5168\u3066\u5f97\u308b\u3002\nputs '--------------------------- ids'\nids = mc.ids\nap ids\n\n# \u6700\u5f8c\u306b\u9001\u4fe1\u3055\u308c\u305f\u30e1\u30fc\u30eb\u306e\u672c\u6587\u3092\u5f97\u308b\u3002\nputs '--------------------------- messages_plain'\nap mc.message :plain, [ids[-1]]\n\n# json \u5f62\u5f0f\u3067\u5f97\u308b\u3002\nputs '--------------------------- messages_json'\nap mc.message :json, [ids[-1]]\n\nputs '--------------------------- response get'\nap mc.response_get 'http://localhost:1080//messages'\n\n# \u30e1\u30fc\u30eb\u3092\u5168\u3066\u524a\u9664\u3059\u308b\n#puts '--------------------------- clear'\n#ap mc.clear\n\n# \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u4ed8\u304d\u306e\u30e1\u30fc\u30eb\u3092\u9001\u308b\nmail_infos[:subject] =  '\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb Subject (\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u6709\u308a)'\nmail_infos[:body] = '\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u672c\u6587 (\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u6709\u308a)'\nmail_infos[:files] =[\n                     { name: 'test-001.txt', content:  '\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9' },\n                     { name: 'fish.png',\n                       content: File.read(File.join(File.expand_path(File.dirname(__FILE__)), '..', 'sample', 'fish.png'))}\n                    ]\nMyMailer.send_mail mail_infos\n\nputs '--------------------------- \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u4ed8\u304d\u306e\u30e1\u30fc\u30eb'\nputs '--------------------------- ids'\nap mc.ids\n\n# \u672c\u6587\u3092\u5f97\u308b\nputs '--------------------------- messages plain'\nap mc.message :plain, [1]\n\n# \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u3092\u5f97\u308b\nputs '--------------------------- attacheds'\nattacheds = mc.attacheds 2\nap attacheds\n\nattacheds.each do |at|\n  puts \"--------\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb: #{at['filename']} ------\"\n  ap at\n  cont = mc.attached 2, at['cid']\n  if at['type'] == 'text/plain'\n    ap cont.toutf8\n  else\n    ap \"#{cont}\"[0..10] + \" ...\"\n    ap \"#{cont.unpack('C*')[0..60]}\" + \" ... (snip) size: #{at['size']}\"\n  end\nend\n\nputs '--------------------------- quit'\nap mc.quit\n\n\nsample \u306e\u5b9f\u884c\u7d50\u679c\n$ bundle exec ruby sample/sample-00.rb \n--------------------------- messages_json before send\n[]\n--------------------------- messages_json after send\n[\n    [0] {\n                \"id\" => 1,\n            \"sender\" => \"<youichikato@gmail.com>\",\n        \"recipients\" => [\n            [0] \"<youichikato@gmail.com>\"\n        ],\n           \"subject\" => \"\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb Subject\",\n              \"size\" => \"397\",\n        \"created_at\" => \"2014-08-02T09:04:35+00:00\"\n    }\n]\n--------------------------- ids\n[\n    [0] 1\n]\n--------------------------- messages_plain\n[\n    [0] \"\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u672c\u6587\"\n]\n--------------------------- messages_json\n[\n    [0] {\n                 \"id\" => 1,\n             \"sender\" => \"<youichikato@gmail.com>\",\n         \"recipients\" => [\n            [0] \"<youichikato@gmail.com>\"\n        ],\n            \"subject\" => \"\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb Subject\",\n             \"source\" => \"Date: Sat, 02 Aug 2014 18:04:35 +0900\\nFrom: youichikato@gmail.com\\nTo: youichikato@gmail.com\\nMessage-ID: <53dca9a3bd10_1ea73fe9e0465bb866595@katoy-no-MacBook-Pro.local.mail>\\nSubject: =?UTF-8?Q?=E3=83=86=E3=82=B9=E3=83=88=E3=83=A1=E3=83=BC=E3=83=AB?=\\n =?UTF-8?Q?_Subject?=\\nMime-Version: 1.0\\nContent-Type: text/plain;\\n charset=UTF-8\\nContent-Transfer-Encoding: base64\\n\\n44OG44K544OI44Oh44O844Or5pys5paH\",\n               \"size\" => \"397\",\n               \"type\" => \"text/plain\",\n         \"created_at\" => \"2014-08-02T09:04:35+00:00\",\n            \"formats\" => [\n            [0] \"source\",\n            [1] \"plain\"\n        ],\n        \"attachments\" => []\n    }\n]\n--------------------------- response get\n\"[{\\\"id\\\":1,\\\"sender\\\":\\\"<youichikato@gmail.com>\\\",\\\"recipients\\\":[\\\"<youichikato@gmail.com>\\\"],\\\"subject\\\":\\\"\\\\u30c6\\\\u30b9\\\\u30c8\\\\u30e1\\\\u30fc\\\\u30eb Subject\\\",\\\"size\\\":\\\"397\\\",\\\"created_at\\\":\\\"2014-08-02T09:04:35+00:00\\\"}]\"\n--------------------------- \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u4ed8\u304d\u306e\u30e1\u30fc\u30eb\n--------------------------- ids\n[\n    [0] 1,\n    [1] 2\n]\n--------------------------- messages plain\n[\n    [0] \"\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u672c\u6587\"\n]\n--------------------------- attacheds\n[\n    [0] {\n             \"cid\" => \"53dca9a335ce4_1ea73fe9e0465bb8668d4@katoy-no-MacBook-Pro.local.mail\",\n            \"type\" => \"image/png\",\n        \"filename\" => \"fish.png\",\n            \"size\" => 37477,\n            \"href\" => \"/messages/2/parts/53dca9a335ce4_1ea73fe9e0465bb8668d4%40katoy-no-MacBook-Pro.local.mail\"\n    },\n    [1] {\n             \"cid\" => \"53dca9a334cc5_1ea73fe9e0465bb866757@katoy-no-MacBook-Pro.local.mail\",\n            \"type\" => \"text/plain\",\n        \"filename\" => \"test-001.txt\",\n            \"size\" => 27,\n            \"href\" => \"/messages/2/parts/53dca9a334cc5_1ea73fe9e0465bb866757%40katoy-no-MacBook-Pro.local.mail\"\n    }\n]\n--------\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb: fish.png ------\n{\n         \"cid\" => \"53dca9a335ce4_1ea73fe9e0465bb8668d4@katoy-no-MacBook-Pro.local.mail\",\n        \"type\" => \"image/png\",\n    \"filename\" => \"fish.png\",\n        \"size\" => 37477,\n        \"href\" => \"/messages/2/parts/53dca9a335ce4_1ea73fe9e0465bb8668d4%40katoy-no-MacBook-Pro.local.mail\"\n}\n\"\\x89PNG\\r\\n\\x1A\\n\\x00\\x00\\x00 ...\"\n\"[137, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 0, 129, 0, 0, 0, 180, 8, 2, 0, 0, 0, 60, 117, 216, 25, 0, 0, 10, 65, 105, 67, 67, 80, 73, 67, 67, 32, 80, 114, 111, 102, 105, 108, 101, 0, 0, 72, 13, 157, 150, 119, 84, 83] ... (snip) size: 37477\"\n--------\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb: test-001.txt ------\n{\n         \"cid\" => \"53dca9a334cc5_1ea73fe9e0465bb866757@katoy-no-MacBook-Pro.local.mail\",\n        \"type\" => \"text/plain\",\n    \"filename\" => \"test-001.txt\",\n        \"size\" => 27,\n        \"href\" => \"/messages/2/parts/53dca9a334cc5_1ea73fe9e0465bb866757%40katoy-no-MacBook-Pro.local.mail\"\n}\n\"\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\"\n--------------------------- quit\n204\n\n\nrspec \u306e\u5b9f\u884c\u7d50\u679c\nbundle exec rspec\n[Coveralls] Set up the SimpleCov formatter.\n[Coveralls] Using SimpleCov's default settings.\n....*\n\nPending:\n  MailcatcherDriver start/stop delete mail\n    # delete_message return 500, Why?\n    # ./spec/units/mailcatche_driver_spec.rb:142\n\nFinished in 7.71 seconds (files took 0.61161 seconds to load)\n5 examples, 0 failures, 1 pending\nCoverage report generated for RSpec to /Users/katoy/github/ruby/mailer/coverage. 66 / 79 LOC (83.54%) covered.\nCoverage report Rcov style generated for RSpec to /Users/katoy/github/ruby/mailer/coverage/rcov\n[Coveralls] Outside the Travis environment, not sending data.\n\n# \u8ab2\u984c\nruby \u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089 \u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u3002\u307e\u305f \u305d\u306e\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3002\n\n# \u5b9f\u88c5\u65b9\u91dd\n\n* \u30e1\u30fc\u30eb\u9001\u4fe1\u306f actionmailer \u3092\u76f4\u63a5\u4f7f\u3063\u3066\u884c\u3046\u3002\n* \u30c6\u30b9\u30c8\u6642\u306f\u3001mailcatcher \u3092\u8d77\u52d5\u3055\u305b\u3001\u5916\u90e8\u306b\u306f\u30e1\u30fc\u30eb\u9001\u4fe1\u306f\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3002\n* mailcather \u306e API \u3092\u5229\u7528\u3057\u3066\u3001\u30e1\u30fc\u30eb\u9001\u4fe1\u306e\u6210\u529f\u6709\u7121\u3084\u9001\u4fe1\u30e1\u30fc\u30eb\u5185\u5bb9\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u3002\n* mailcatcher \u306e API \u3092\u5229\u7528\u6cd5\u3092 MailcatcherDriver  \u30af\u30e9\u30b9\u3068\u3057\u3066\u72ec\u7acb\u3055\u305b\u308b\u3002 \n* rspec \u3067\u81ea\u52d5\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3002\n\n# \u5b9f\u88c5\u4f8b\n\nhttps://github.com/katoy/mailer  \u306b\u4f5c\u696d\u9014\u4e2d\u306e\u3082\u306e\u3092\u7f6e\u3044\u305f\u3002\n\n## \u6b8b\u4ef6\n*  \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u3092\u3064\u3051\u305f\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u3002\u305d\u306e\u30c6\u30b9\u30c8\u3092\u3059\u308b\u3002  \n\u3000\u3000==> 2014-07-30: \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u4ed8\u304d\u30e1\u30fc\u30eb\u306e\u9001\u4fe1\u3068\u3001\u305d\u308c\u3092 mailcatche  \u304b\u3089\u8aad\u307f\u53d6\u308b\u4e8b\u3092\u5b9f\u88c5\u3057\u305f\u3002\n* \u6307\u5b9a\u3057\u305f\u30e1\u30fc\u30eb\u3060\u3051\u3092 mailcatcher \u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u304b\u3089\u524a\u9664\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3059\u308b\u3002\n\n# \u30b5\u30f3\u30d7\u30eb\n\n[sample/sample-001.rb](https://github.com/katoy/mailer/blob/master/sample/sample-00.rb)\n\n```rb\n# -*- coding: utf-8 -*-\n\nrequire File.join(File.expand_path(File.dirname(__FILE__)), '..', 'src', 'mailer.rb')\nrequire File.join(File.expand_path(File.dirname(__FILE__)), '..', 'src', 'mailcatcher-driver.rb')\n\nmail_infos = {\n  from: 'youichikato@gmail.com',\n  to:  'youichikato@gmail.com',\n  subject: '\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb Subject',\n  body: '\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u672c\u6587',\n}\n\n# \u30e1\u30fc\u30eb\u30ad\u30e3\u30c3\u30c1\u30e3\u30fc\u3092\u958b\u59cb\u3059\u308b\u3002\u65e2\u306b\u958b\u59cb\u6e08\u307f\u306a\u3089\u4f55\u3082\u3057\u306a\u3044\u3002\nmc = MailcatcherDriver.new\nmc.start\n\n# \u73fe\u6642\u70b9\u306e\u5168\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5f97\u308b\nputs '--------------------------- messages_json before send'\nap mc.all_messages\n\n# \u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\nMyMailer.send_mail mail_infos\n# \u73fe\u6642\u70b9\u306e\u5168\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5f97\u308b\nputs '--------------------------- messages_json after send'\nap mc.all_messages\n\n# \u30e1\u30fc\u30eb ID \u3092\u5168\u3066\u5f97\u308b\u3002\nputs '--------------------------- ids'\nids = mc.ids\nap ids\n\n# \u6700\u5f8c\u306b\u9001\u4fe1\u3055\u308c\u305f\u30e1\u30fc\u30eb\u306e\u672c\u6587\u3092\u5f97\u308b\u3002\nputs '--------------------------- messages_plain'\nap mc.message :plain, [ids[-1]]\n\n# json \u5f62\u5f0f\u3067\u5f97\u308b\u3002\nputs '--------------------------- messages_json'\nap mc.message :json, [ids[-1]]\n\nputs '--------------------------- response get'\nap mc.response_get 'http://localhost:1080//messages'\n\n# \u30e1\u30fc\u30eb\u3092\u5168\u3066\u524a\u9664\u3059\u308b\n#puts '--------------------------- clear'\n#ap mc.clear\n\n# \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u4ed8\u304d\u306e\u30e1\u30fc\u30eb\u3092\u9001\u308b\nmail_infos[:subject] =  '\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb Subject (\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u6709\u308a)'\nmail_infos[:body] = '\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u672c\u6587 (\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u6709\u308a)'\nmail_infos[:files] =[\n                     { name: 'test-001.txt', content:  '\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9' },\n                     { name: 'fish.png',\n                       content: File.read(File.join(File.expand_path(File.dirname(__FILE__)), '..', 'sample', 'fish.png'))}\n                    ]\nMyMailer.send_mail mail_infos\n\nputs '--------------------------- \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u4ed8\u304d\u306e\u30e1\u30fc\u30eb'\nputs '--------------------------- ids'\nap mc.ids\n\n# \u672c\u6587\u3092\u5f97\u308b\nputs '--------------------------- messages plain'\nap mc.message :plain, [1]\n\n# \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u3092\u5f97\u308b\nputs '--------------------------- attacheds'\nattacheds = mc.attacheds 2\nap attacheds\n\nattacheds.each do |at|\n  puts \"--------\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb: #{at['filename']} ------\"\n  ap at\n  cont = mc.attached 2, at['cid']\n  if at['type'] == 'text/plain'\n    ap cont.toutf8\n  else\n    ap \"#{cont}\"[0..10] + \" ...\"\n    ap \"#{cont.unpack('C*')[0..60]}\" + \" ... (snip) size: #{at['size']}\"\n  end\nend\n\nputs '--------------------------- quit'\nap mc.quit\n```\n\n# sample \u306e\u5b9f\u884c\u7d50\u679c\n\n```\n$ bundle exec ruby sample/sample-00.rb \n--------------------------- messages_json before send\n[]\n--------------------------- messages_json after send\n[\n    [0] {\n                \"id\" => 1,\n            \"sender\" => \"<youichikato@gmail.com>\",\n        \"recipients\" => [\n            [0] \"<youichikato@gmail.com>\"\n        ],\n           \"subject\" => \"\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb Subject\",\n              \"size\" => \"397\",\n        \"created_at\" => \"2014-08-02T09:04:35+00:00\"\n    }\n]\n--------------------------- ids\n[\n    [0] 1\n]\n--------------------------- messages_plain\n[\n    [0] \"\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u672c\u6587\"\n]\n--------------------------- messages_json\n[\n    [0] {\n                 \"id\" => 1,\n             \"sender\" => \"<youichikato@gmail.com>\",\n         \"recipients\" => [\n            [0] \"<youichikato@gmail.com>\"\n        ],\n            \"subject\" => \"\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb Subject\",\n             \"source\" => \"Date: Sat, 02 Aug 2014 18:04:35 +0900\\nFrom: youichikato@gmail.com\\nTo: youichikato@gmail.com\\nMessage-ID: <53dca9a3bd10_1ea73fe9e0465bb866595@katoy-no-MacBook-Pro.local.mail>\\nSubject: =?UTF-8?Q?=E3=83=86=E3=82=B9=E3=83=88=E3=83=A1=E3=83=BC=E3=83=AB?=\\n =?UTF-8?Q?_Subject?=\\nMime-Version: 1.0\\nContent-Type: text/plain;\\n charset=UTF-8\\nContent-Transfer-Encoding: base64\\n\\n44OG44K544OI44Oh44O844Or5pys5paH\",\n               \"size\" => \"397\",\n               \"type\" => \"text/plain\",\n         \"created_at\" => \"2014-08-02T09:04:35+00:00\",\n            \"formats\" => [\n            [0] \"source\",\n            [1] \"plain\"\n        ],\n        \"attachments\" => []\n    }\n]\n--------------------------- response get\n\"[{\\\"id\\\":1,\\\"sender\\\":\\\"<youichikato@gmail.com>\\\",\\\"recipients\\\":[\\\"<youichikato@gmail.com>\\\"],\\\"subject\\\":\\\"\\\\u30c6\\\\u30b9\\\\u30c8\\\\u30e1\\\\u30fc\\\\u30eb Subject\\\",\\\"size\\\":\\\"397\\\",\\\"created_at\\\":\\\"2014-08-02T09:04:35+00:00\\\"}]\"\n--------------------------- \u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u4ed8\u304d\u306e\u30e1\u30fc\u30eb\n--------------------------- ids\n[\n    [0] 1,\n    [1] 2\n]\n--------------------------- messages plain\n[\n    [0] \"\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u672c\u6587\"\n]\n--------------------------- attacheds\n[\n    [0] {\n             \"cid\" => \"53dca9a335ce4_1ea73fe9e0465bb8668d4@katoy-no-MacBook-Pro.local.mail\",\n            \"type\" => \"image/png\",\n        \"filename\" => \"fish.png\",\n            \"size\" => 37477,\n            \"href\" => \"/messages/2/parts/53dca9a335ce4_1ea73fe9e0465bb8668d4%40katoy-no-MacBook-Pro.local.mail\"\n    },\n    [1] {\n             \"cid\" => \"53dca9a334cc5_1ea73fe9e0465bb866757@katoy-no-MacBook-Pro.local.mail\",\n            \"type\" => \"text/plain\",\n        \"filename\" => \"test-001.txt\",\n            \"size\" => 27,\n            \"href\" => \"/messages/2/parts/53dca9a334cc5_1ea73fe9e0465bb866757%40katoy-no-MacBook-Pro.local.mail\"\n    }\n]\n--------\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb: fish.png ------\n{\n         \"cid\" => \"53dca9a335ce4_1ea73fe9e0465bb8668d4@katoy-no-MacBook-Pro.local.mail\",\n        \"type\" => \"image/png\",\n    \"filename\" => \"fish.png\",\n        \"size\" => 37477,\n        \"href\" => \"/messages/2/parts/53dca9a335ce4_1ea73fe9e0465bb8668d4%40katoy-no-MacBook-Pro.local.mail\"\n}\n\"\\x89PNG\\r\\n\\x1A\\n\\x00\\x00\\x00 ...\"\n\"[137, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 0, 129, 0, 0, 0, 180, 8, 2, 0, 0, 0, 60, 117, 216, 25, 0, 0, 10, 65, 105, 67, 67, 80, 73, 67, 67, 32, 80, 114, 111, 102, 105, 108, 101, 0, 0, 72, 13, 157, 150, 119, 84, 83] ... (snip) size: 37477\"\n--------\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb: test-001.txt ------\n{\n         \"cid\" => \"53dca9a334cc5_1ea73fe9e0465bb866757@katoy-no-MacBook-Pro.local.mail\",\n        \"type\" => \"text/plain\",\n    \"filename\" => \"test-001.txt\",\n        \"size\" => 27,\n        \"href\" => \"/messages/2/parts/53dca9a334cc5_1ea73fe9e0465bb866757%40katoy-no-MacBook-Pro.local.mail\"\n}\n\"\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\"\n--------------------------- quit\n204\n```\n\n# rspec \u306e\u5b9f\u884c\u7d50\u679c\n```\nbundle exec rspec\n[Coveralls] Set up the SimpleCov formatter.\n[Coveralls] Using SimpleCov's default settings.\n....*\n\nPending:\n  MailcatcherDriver start/stop delete mail\n    # delete_message return 500, Why?\n    # ./spec/units/mailcatche_driver_spec.rb:142\n\nFinished in 7.71 seconds (files took 0.61161 seconds to load)\n5 examples, 0 failures, 1 pending\nCoverage report generated for RSpec to /Users/katoy/github/ruby/mailer/coverage. 66 / 79 LOC (83.54%) covered.\nCoverage report Rcov style generated for RSpec to /Users/katoy/github/ruby/mailer/coverage/rcov\n[Coveralls] Outside the Travis environment, not sending data.\n```\n", "tags": ["Ruby2.1.2", "ActionMailer3.2.19", "mailcatcher0.5.12", "RSpec3.0.0"]}