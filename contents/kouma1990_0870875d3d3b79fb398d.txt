{"tags": ["PHP", "GoogleMapsAPI"], "context": "GoogleMapsAPI\u3092\u4f7f\u3063\u3066\u3044\u308b\u6642\u306b\u30012\u5730\u70b9\u306e\u7def\u5ea6,\u7d4c\u5ea6\u304b\u3089\u8ddd\u96e2\u3092\u7b97\u51fa\u3057\u305f\u3044\u6642\u304c\u3042\u3063\u305f\u306e\u3067\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n2\u5730\u70b9\u306e\u7def\u5ea6,\u7d4c\u5ea6\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3059\u3068\u305d\u306e\u8ddd\u96e2\u3092\u8fd4\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u3001\u30d2\u30e5\u30d9\u30cb\u306e\u516c\u5f0f\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\n\u53c2\u8003\uff1ahttp://yamadarake.jp/trdi/report000001.html\n// \u5730\u70b91\u306e\u7def\u5ea6,\u7d4c\u5ea6$lat1, $lng1\n// \u5730\u70b92\u306e\u7def\u5ea6,\u7d4c\u5ea6$lat2, $lng2\nfunction compute_dist($lat1, $lng1, $lat2, $lng2){\n        $GRS80_A = 6377397.155;\n        $GRS80_E2 = 0.00667436061028297;\n        $GRS80_MNUM = 6334832.10663254;\n\n        $mu_y = deg2rad($lat1 + $lat2)/2;\n        $W = sqrt(1-$GRS80_E2*pow(sin($mu_y),2));\n        $W3 = $W*$W*$W;\n        $M = $GRS80_MNUM/$W3;\n        $N = $GRS80_A/$W;\n        $dx = deg2rad($lng1 - $lng2);\n        $dy = deg2rad($lat1 - $lat2);\n\n        // \u8ddd\u96e2\u3092km\u3067\u7b97\u51fa\n        $dist = sqrt(pow($dy*$M,2) + pow($dx*$N*cos($mu_y),2)) / 1000;\n\n        return $dist;\n\n}\n\nGoogleMapsAPI\u3092\u4f7f\u3063\u3066\u3044\u308b\u6642\u306b\u30012\u5730\u70b9\u306e\u7def\u5ea6,\u7d4c\u5ea6\u304b\u3089\u8ddd\u96e2\u3092\u7b97\u51fa\u3057\u305f\u3044\u6642\u304c\u3042\u3063\u305f\u306e\u3067\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n2\u5730\u70b9\u306e\u7def\u5ea6,\u7d4c\u5ea6\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3059\u3068\u305d\u306e\u8ddd\u96e2\u3092\u8fd4\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u3001\u30d2\u30e5\u30d9\u30cb\u306e\u516c\u5f0f\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\n\u53c2\u8003\uff1ahttp://yamadarake.jp/trdi/report000001.html\n\n```php\n// \u5730\u70b91\u306e\u7def\u5ea6,\u7d4c\u5ea6$lat1, $lng1\n// \u5730\u70b92\u306e\u7def\u5ea6,\u7d4c\u5ea6$lat2, $lng2\nfunction compute_dist($lat1, $lng1, $lat2, $lng2){\n        $GRS80_A = 6377397.155;\n        $GRS80_E2 = 0.00667436061028297;\n        $GRS80_MNUM = 6334832.10663254;\n\n        $mu_y = deg2rad($lat1 + $lat2)/2;\n        $W = sqrt(1-$GRS80_E2*pow(sin($mu_y),2));\n        $W3 = $W*$W*$W;\n        $M = $GRS80_MNUM/$W3;\n        $N = $GRS80_A/$W;\n        $dx = deg2rad($lng1 - $lng2);\n        $dy = deg2rad($lat1 - $lat2);\n\n        // \u8ddd\u96e2\u3092km\u3067\u7b97\u51fa\n        $dist = sqrt(pow($dy*$M,2) + pow($dx*$N*cos($mu_y),2)) / 1000;\n\n        return $dist;\n\n}\n```\n"}