{"context": " More than 1 year has passed since last update.\n\nXcode\u5074\nFile>New>Project\u3067tvOS\u306eSingle View Application\u3092\u65b0\u898f\u4f5c\u6210\u3002\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3002\n\nAppDelegate.swift\nimport UIKit\nimport TVMLKit\n\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate, TVApplicationControllerDelegate {\n    var window: UIWindow?\n    var appController: TVApplicationController?\n\n    static let TVBaseURL = \"http://localhost:9000/\"\n    static let TVBootURL = \"\\(AppDelegate.TVBaseURL)assets/javascripts/application.js\"\n\n    func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {\n        window = UIWindow(frame: UIScreen.mainScreen().bounds)\n\n        let appControllerContext = TVApplicationControllerContext()\n\n        if let javaScriptURL = NSURL(string: AppDelegate.TVBootURL) {\n            appControllerContext.javaScriptApplicationURL = javaScriptURL\n        }\n\n        appControllerContext.launchOptions[\"BASEURL\"] = AppDelegate.TVBaseURL\n\n        if let launchOptions = launchOptions as? [String: AnyObject] {\n            for (kind, value) in launchOptions {\n                appControllerContext.launchOptions[kind] = value\n            }\n        }\n\n        appController = TVApplicationController(context: appControllerContext, window: window, delegate: self)\n\n        return true\n    }\n\n    // \u7565\n}\n\n\n\n\u30b5\u30fc\u30d0\u30fc\u5074\nplay new client play-scala\u3067Play\u30a2\u30d7\u30ea\u3092\u65b0\u898f\u4f5c\u6210\u3002\n\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\uff06\u8ffd\u52a0\u3002\n\npublic/javascripts/application.js\nfunction getDocument(url) {\n    var templateXHR = new XMLHttpRequest();\n    templateXHR.responseType = \"document\";\n    templateXHR.addEventListener(\"load\", function() {pushDoc(templateXHR.responseXML);}, false);\n    templateXHR.open(\"GET\", url, true);\n    templateXHR.send();\n    return templateXHR;\n}\n\nfunction pushDoc(document) {\n    navigationDocument.pushDocument(document);\n}\n\nApp.onLaunch = function(options) {\n    var url = `${options.BASEURL}alert.tvml`; // \u6700\u521d\u306b\u8868\u793a\u3059\u308bURL\u3092\u8a2d\u5b9a\u3002\n    getDocument(url);\n}\n\n\n\napp/controllers/Application.scala\npackage controllers\n\nimport play.api._\nimport play.api.mvc._\n\nclass Application extends Controller {\n\n  def index = Action {\n    Ok(views.html.index(\"Your new application is ready.\"))\n  }\n\n  def alert = Action {\n    Ok(views.html.alert(\"Alert Test.\"))\n  }\n\n}\n\n\n\napp/views/alertTemplate.scala.html\n@(title: String)(xml: Html)\n\n<document>\n    <alertTemplate>\n        <title>@title</title>\n        @xml\n    </alertTemplate>\n</document>\n\n\n\napp/views/alert.scala.html\n@(message: String)\n\n@alertTemplate(\"Welcome to Play\") {\n    <description>@message</description>\n    <button>\n        <text>OK</text>\n    </button>\n}\n\n\n\nconf/routes\n# Home page\nGET     /                           controllers.Application.index\n\n# Tvml\nGET     /alert.tvml                 controllers.Application.alert\n\n# Map static resources from the /public folder to the /assets URL path\nGET     /assets/*file               controllers.Assets.versioned(path=\"/public\", file: Asset)\n\n\n\n\u30c7\u30d0\u30c3\u30b0\nplay run\u3057\u305f\u5f8c\u306b\u3001\nhttp://localhost:9000/alert.tvml \u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u5074\u306e\u30c7\u30d0\u30c3\u30b0\u304c\u5272\u3068\u697d\u306b\u51fa\u6765\u308b\u3002\n\n## Xcode\u5074\n\nFile>New>Project\u3067tvOS\u306eSingle View Application\u3092\u65b0\u898f\u4f5c\u6210\u3002\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3002\n\n```swift:AppDelegate.swift\nimport UIKit\nimport TVMLKit\n\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate, TVApplicationControllerDelegate {\n    var window: UIWindow?\n    var appController: TVApplicationController?\n    \n    static let TVBaseURL = \"http://localhost:9000/\"\n    static let TVBootURL = \"\\(AppDelegate.TVBaseURL)assets/javascripts/application.js\"\n    \n    func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {\n        window = UIWindow(frame: UIScreen.mainScreen().bounds)\n        \n        let appControllerContext = TVApplicationControllerContext()\n        \n        if let javaScriptURL = NSURL(string: AppDelegate.TVBootURL) {\n            appControllerContext.javaScriptApplicationURL = javaScriptURL\n        }\n        \n        appControllerContext.launchOptions[\"BASEURL\"] = AppDelegate.TVBaseURL\n        \n        if let launchOptions = launchOptions as? [String: AnyObject] {\n            for (kind, value) in launchOptions {\n                appControllerContext.launchOptions[kind] = value\n            }\n        }\n        \n        appController = TVApplicationController(context: appControllerContext, window: window, delegate: self)\n        \n        return true\n    }\n    \n    // \u7565\n}\n```\n\n## \u30b5\u30fc\u30d0\u30fc\u5074\n\n```play new client play-scala```\u3067Play\u30a2\u30d7\u30ea\u3092\u65b0\u898f\u4f5c\u6210\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-11-28 16.21.49.png](https://qiita-image-store.s3.amazonaws.com/0/20722/38a72b2f-90b8-59e9-87af-64c255ea87f5.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-11-28 16.21.49.png\")\n\n\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\uff06\u8ffd\u52a0\u3002\n\n```javascript:public/javascripts/application.js\nfunction getDocument(url) {\n    var templateXHR = new XMLHttpRequest();\n    templateXHR.responseType = \"document\";\n    templateXHR.addEventListener(\"load\", function() {pushDoc(templateXHR.responseXML);}, false);\n    templateXHR.open(\"GET\", url, true);\n    templateXHR.send();\n    return templateXHR;\n}\n\nfunction pushDoc(document) {\n    navigationDocument.pushDocument(document);\n}\n\nApp.onLaunch = function(options) {\n\tvar url = `${options.BASEURL}alert.tvml`; // \u6700\u521d\u306b\u8868\u793a\u3059\u308bURL\u3092\u8a2d\u5b9a\u3002\n    getDocument(url);\n}\n```\n\n```scala:app/controllers/Application.scala\npackage controllers\n\nimport play.api._\nimport play.api.mvc._\n\nclass Application extends Controller {\n\n  def index = Action {\n    Ok(views.html.index(\"Your new application is ready.\"))\n  }\n\n  def alert = Action {\n    Ok(views.html.alert(\"Alert Test.\"))\n  }\n\n}\n```\n\n```xml:app/views/alertTemplate.scala.html\n@(title: String)(xml: Html)\n\n<document>\n    <alertTemplate>\n        <title>@title</title>\n        @xml\n    </alertTemplate>\n</document>\n```\n\n```xml:app/views/alert.scala.html\n@(message: String)\n\n@alertTemplate(\"Welcome to Play\") {\n    <description>@message</description>\n    <button>\n        <text>OK</text>\n    </button>\n}\n```\n\n```text:conf/routes\n# Home page\nGET     /                           controllers.Application.index\n\n# Tvml\nGET     /alert.tvml                 controllers.Application.alert\n\n# Map static resources from the /public folder to the /assets URL path\nGET     /assets/*file               controllers.Assets.versioned(path=\"/public\", file: Asset)\n```\n\n## \u30c7\u30d0\u30c3\u30b0\n```play run```\u3057\u305f\u5f8c\u306b\u3001\nhttp://localhost:9000/alert.tvml \u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u5074\u306e\u30c7\u30d0\u30c3\u30b0\u304c\u5272\u3068\u697d\u306b\u51fa\u6765\u308b\u3002\n\n", "tags": ["Scala", "tvOS", "PlayFramework", "Swift"]}