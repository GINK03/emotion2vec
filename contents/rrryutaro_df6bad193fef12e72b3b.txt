{"context": "\n\n\u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\n\n\u7c21\u6613\u30ed\u30b0\u30d3\u30e5\u30fc\u30ef\u30fc\u306b\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306b\u524d\u56de\u958b\u3044\u3066\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u305f\u3044\u3002\n\u30d5\u30a1\u30a4\u30eb\u540d\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u3057\u3066\u6271\u3044\u305f\u304f\u306a\u3044\u3002(\u3068\u3044\u3046\u304b\u3001Windows\u306b\u75d5\u8de1\u3092\u6b8b\u3057\u305f\u304f\u306a\u3044)\n\n\n\u72ec\u81ea\u30c7\u30fc\u30bf\u306f\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\n\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3063\u3066\u4f55\u3068\u306a\u304f\u6577\u5c45\u304c\u9ad8\u3044\u30a4\u30e1\u30fc\u30b8\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e00\u5ea6\u624b\u3092\u51fa\u305b\u3070\u7c21\u5358\u3067\u3059\u3002\n\u81ea\u5206\u306f\u3069\u5fd8\u308c\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u6539\u3081\u3066\u3044\u3061\u304b\u3089\u30b7\u30f3\u30d7\u30eb\u3067\u3042\u308d\u3046\u3084\u308a\u65b9\u3092\u884c\u3063\u305f\u306e\u3067\u305d\u306e\u30e1\u30e2\u3067\u3059\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\uff08\u203b\u5fc5\u8981\u306a\u90e8\u5206\u306e\u307f\u629c\u7c8b\uff09\nusing System.IO;\nusing System.Xml.Serialization;\n\npublic class RFile\n{\n    public string FileName { get; set; }\n}\npublic partial class Form1 : Form\n{\n    //\u72ec\u81ea\u30c7\u30fc\u30bf\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u5b9f\u884c\u6642\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u56fa\u5b9a\u540d\u79f0\u3067 r.xml \u3068\u3057\u3066\u304a\u304f\n    static readonly string fileName = $@\"{Application.StartupPath}\\r.xml\";\n    RFile rFile = null;\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        if (File.Exists(fileName))\n        {\n            //\u72ec\u81ea\u30c7\u30fc\u30bf\u8aad\u8fbc\n            XmlSerializer s = new XmlSerializer(typeof(RFile));\n            StreamReader sr = new StreamReader(fileName, new System.Text.UTF8Encoding(true));\n            rFile = (RFile)s.Deserialize(sr);\n            sr.Close();\n            logReader.ReadStart(rFile.FileName);\n        }\n        else\n            rFile = new RFile();\n    }\n    private void Form1_FormClosed(object sender, FormClosedEventArgs e)\n    {\n        logReader.ReadStop();\n\n        //\u72ec\u81ea\u30c7\u30fc\u30bf\u4fdd\u5b58\n        XmlSerializer s = new XmlSerializer(typeof(RFile));\n        StreamWriter sw = new StreamWriter(rFileName, false, new System.Text.UTF8Encoding(true));\n        s.Serialize(sw, rFile);\n        sw.Close();\n    }\n}\n\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5185\u5bb9\u3092XML\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3001\u5fa9\u5143\u3059\u308b: .NET Tips: C#, VB.NET\n\n\u4ee5\u4e0a\n# \u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\n- \u7c21\u6613\u30ed\u30b0\u30d3\u30e5\u30fc\u30ef\u30fc\u306b\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306b\u524d\u56de\u958b\u3044\u3066\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u305f\u3044\u3002\n- \u30d5\u30a1\u30a4\u30eb\u540d\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u3057\u3066\u6271\u3044\u305f\u304f\u306a\u3044\u3002(\u3068\u3044\u3046\u304b\u3001Windows\u306b\u75d5\u8de1\u3092\u6b8b\u3057\u305f\u304f\u306a\u3044)\n\n# \u72ec\u81ea\u30c7\u30fc\u30bf\u306f\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\n\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3063\u3066\u4f55\u3068\u306a\u304f\u6577\u5c45\u304c\u9ad8\u3044\u30a4\u30e1\u30fc\u30b8\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e00\u5ea6\u624b\u3092\u51fa\u305b\u3070\u7c21\u5358\u3067\u3059\u3002\n\u81ea\u5206\u306f\u3069\u5fd8\u308c\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u6539\u3081\u3066\u3044\u3061\u304b\u3089\u30b7\u30f3\u30d7\u30eb\u3067\u3042\u308d\u3046\u3084\u308a\u65b9\u3092\u884c\u3063\u305f\u306e\u3067\u305d\u306e\u30e1\u30e2\u3067\u3059\u3002\n\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\uff08\u203b\u5fc5\u8981\u306a\u90e8\u5206\u306e\u307f\u629c\u7c8b\uff09\n```csharp\nusing System.IO;\nusing System.Xml.Serialization;\n\npublic class RFile\n{\n    public string FileName { get; set; }\n}\npublic partial class Form1 : Form\n{\n    //\u72ec\u81ea\u30c7\u30fc\u30bf\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u5b9f\u884c\u6642\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u56fa\u5b9a\u540d\u79f0\u3067 r.xml \u3068\u3057\u3066\u304a\u304f\n    static readonly string fileName = $@\"{Application.StartupPath}\\r.xml\";\n    RFile rFile = null;\n    \n    private void Form1_Load(object sender, EventArgs e)\n    {\n        if (File.Exists(fileName))\n        {\n            //\u72ec\u81ea\u30c7\u30fc\u30bf\u8aad\u8fbc\n            XmlSerializer s = new XmlSerializer(typeof(RFile));\n            StreamReader sr = new StreamReader(fileName, new System.Text.UTF8Encoding(true));\n            rFile = (RFile)s.Deserialize(sr);\n            sr.Close();\n            logReader.ReadStart(rFile.FileName);\n        }\n        else\n            rFile = new RFile();\n    }\n    private void Form1_FormClosed(object sender, FormClosedEventArgs e)\n    {\n        logReader.ReadStop();\n\n        //\u72ec\u81ea\u30c7\u30fc\u30bf\u4fdd\u5b58\n        XmlSerializer s = new XmlSerializer(typeof(RFile));\n        StreamWriter sw = new StreamWriter(rFileName, false, new System.Text.UTF8Encoding(true));\n        s.Serialize(sw, rFile);\n        sw.Close();\n    }\n}\n```\n\n# \u53c2\u8003\u30b5\u30a4\u30c8\n- [\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5185\u5bb9\u3092XML\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3001\u5fa9\u5143\u3059\u308b: .NET Tips: C#, VB.NET](http://dobon.net/vb/dotnet/file/xmlserializer.html)\n\n\u4ee5\u4e0a\n", "tags": ["C#", "serialize", "XML", "\u30d5\u30a1\u30a4\u30eb", "\u72ec\u81ea\u30c7\u30fc\u30bf\u4fdd\u5b58"]}