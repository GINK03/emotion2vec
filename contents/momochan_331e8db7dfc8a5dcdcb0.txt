{"context": "\u6628\u65e5\u66f8\u3044\u305f\u4ee5\u4e0b\u8a18\u4e8b\u3002\n\n\n\n\nSpotify API\u3092\u4f7f\u3063\u3066LINEBot\u3067\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u5168\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u3082\u3089\u3046 - Qiita\n\n\n\n Spotify API\u3092\u4f7f\u3063\u3066LINEBot\u3067\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u5168\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u3082\u3089\u3046 - Qiita... \n\n\n\n\n\n\n\n\u3068\u306b\u304b\u304fSpotify API\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u6ce8\u529b\u3057\u3066\u3044\u305f\u305f\u3081\u5168\u304f\u30ec\u30b9\u30dd\u30f3\u30b9\u306a\u3069\u3092\u8003\u3048\u3066\u3044\u306a\u304b\u3063\u305f\u3002\n\u6628\u65e5\u3082\u66f8\u3044\u305f\u304c\u3068\u306b\u304b\u304f\u7d20\u65e9\u304f\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\u3053\u3068\u3092\u76ee\u6307\u3057\u3066\u3001\u3057\u304b\u3082PHP\u3067\u3067\u304d\u308b\u306e\u304b\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u3051\u3069\u3001\u3068\u308a\u3042\u3048\u305a\u975e\u540c\u671f\u3067\u51e6\u7406\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u306e\u3067\u8a18\u8f09\u3059\u308b\u3002\n\n\u30ad\u30fc\u30ef\u30fc\u30c9\n\n\u975e\u540c\u671f\nQue\nSQS\nSupervisor\n\n\n\u30d5\u30ed\u30fc\u30c1\u30e3\u30fc\u30c8\n\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30ad\u30e5\u30fc\u306b\u305f\u3081\u308b\uff08\u9001\u4fe1\u5074\uff09\n\u4eca\u56de\u30b5\u30fc\u30d0\u306b\u306fAWS\u3092\u5229\u7528\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u3044\u308d\u3044\u308d\u8abf\u3079\u305f\u3068\u3053\u308d\u3001\u975e\u540c\u671f\u51e6\u7406\u306b\u306fSQS\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u60c5\u5831\u304c\u591a\u304b\u3063\u305f\u3002\n\u307e\u305fSQS\u3092\u5229\u7528\u3059\u308b\u3068\u304d\u306b\u306fSNS\u3092\u524d\u306b\u565b\u307e\u3059\u3068\u3044\u3044\u3088\u3068\u8a00\u3046\u4e8b\u3067\u8abf\u3079\u3066\u307f\u305f\u3002\nPHP\u3067\u3082aws-sdk\u3092\u5229\u7528\u3059\u308c\u3070\u968f\u5206\u7c21\u5358\u306b\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\nfront.php\nrequire __DIR__.\"/vendor/autoload.php\";\nuse Aws\\Sns\\SnsClient;\n\n// object to array\n$data = messageEventToJson($events);\n\n// push SNS -> SQS\ntry{\n    $sns = SnsClient::factory(array(\n      'key'    => '{YOUR_KEY}',\n      'secret' => '{YOUR_SECRET}',\n      'region' => 'ap-northeast-1'\n    ));\n    $response = $sns->publish(array(\n        'TopicArn' => '{YOUR_ARN}',\n        'Message' => $data\n    ));\n\n}catch (Exception $e){\n    //\n    getLog($e->getMessage());\n}\n\n//\nfunction messageEventToJson($events) {\n  $eventArray = array();\n  foreach($events as $event) {\n    if($event instanceof TextMessage) {\n      array_push($eventArray, array(\n        'type' => $event->getMessageType(),\n        'timestamp' => $event->getTimestamp(),\n        'replyToken' => $event->getReplyToken(),\n        'userId' => $event->getUserId(),\n        'text' => $event->getText()\n      ));\n    }\n    else if($event instanceof PostbackEvent) {\n      array_push($eventArray, array(\n        'type' => $event->getType(),\n        'timestamp' => $event->getTimestamp(),\n        'replyToken' => $event->getReplyToken(),\n        'userId' => $event->getUserId(),\n        'postBackData' => $event->getPostbackData()\n      ));\n    }\n  }\n\n  return json_encode($eventArray);\n}\n\n\n\n\u4e0b\u306e\u6c5a\u3044\u30b3\u30fc\u30c9\u306fObject\u3092Json\u5316\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u4ed5\u65b9\u306a\u304f\u3053\u3046\u3084\u3063\u3066\u307f\u305f\u304c\u3001\u305f\u3076\u3093\u9593\u9055\u3063\u3066\u3044\u308b\u3093\u3060\u308d\u3046\u3068\u601d\u3046\u3002\u307b\u3093\u3068\u306fObject\u305d\u306e\u307e\u307e\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3066SQS\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u653e\u308a\u8fbc\u307f\u305f\u304b\u3063\u305f\u3002\n\u4ee5\u4e0a\u3060\u3002\u3068\u3066\u3082\u7c21\u5358\u3002AWS\u6700\u9ad8\u3002\n\n\u975e\u540c\u671f\u3067\u30ad\u30e5\u30fc\u3092\u53d6\u5f97\uff08\u53d7\u4fe1\u5074\uff09\n\u3053\u3061\u3089\u306fSQS\u304b\u3089\u76f4\u63a5\u53d6\u308a\u51fa\u3059\u3002\n\u975e\u540c\u671f\u306b\u3064\u3044\u3066\u306f\u5168\u304f\u77e5\u8b58\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u3044\u308d\u3044\u308d\u8abf\u3079\u305f\u3002PHP\u3058\u3083\u3060\u3081\u3060\u3001Node.js\u3060\uff01Ruby\u3060\uff01\u306a\u3069\u306e\u60c5\u5831\u304c\u3042\u3063\u3066\u56de\u308a\u9053\u3092\u3057\u305f\u304c\u3001\u7d50\u5c40\u632b\u6298\u3057\u3066PHP\u3067\u3084\u3063\u3066\u307f\u305f\u3002\n\u3053\u306e\u30bd\u30fc\u30b9\u306f\u5168\u304f\u81ea\u4fe1\u304c\u306a\u3044\u306e\u3067\u771f\u4f3c\u3057\u306a\u3044\u307b\u3046\u304c\u3044\u3044\u3067\u3059\u3002\u81ea\u5206\u3067\u8abf\u3079\u3066\u304f\u3060\u3055\u3044\u3002\n\nwoker.php\nrequire __DIR__.\"/vendor/autoload.php\";\n\nuse Aws\\Sqs\\SqsClient;\n\n$sqs = SqsClient::factory(array(\n      'key'    => '{YOUR_KEY}',\n      'secret' => '{YOUR_SECRET}',\n    'region'    => 'ap-northeast-1',\n    'version' => 'latest',\n));\n\n$queueurl = $sqs->getQueueUrl(array(\n    'QueueName' => '{YOUR_QUE_NAME}',\n));\n\n\n//\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5f85\u6a5f\u3057\u307e\u3059\nwhile(true){\n  try {\n    $result = $sqs->receiveMessage(array(\n        'QueueUrl' => $queueurl['QueueUrl'],\n    ));\n    //\n    if ($result['Messages'] == null) {\n      sleep(1);\n    }\n    else {\n        // Exec Something! # \u3053\u3053\u306bSpotify\u9023\u643a\u3068LINE\u3078\u306e\u8fd4\u4fe1\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u305f\n\n\n        // status ok is delete sqs message\n        if($response->isSucceeded()) {\n          try {\n            $sqs->deleteMessage(array(\n                'QueueUrl' => $queueurl['QueueUrl'],\n                'ReceiptHandle' => $receiptHandle\n            ));\n          }\n          catch(Exception $e) {\n            echo $e->getMessage();\n          }\n        }\n        else {\n          // under construction\n        }\n\n      }\n\n    }\n  }\n  catch(Exception $e) {\n    echo $e->getMessage();\n  }\n}\nexit(0);\n\n\n\n$ php worker.php\n\n\u306a\u3093\u3068\u60f3\u5b9a\u901a\u308a\u306b\u3046\u3054\u3044\u305f\u3088\uff01\u304a\u304b\u3093\uff01\uff01\n\u3068\u3044\u3063\u3066\u3082\u3053\u3053\u3067\u534a\u65e5\u307b\u3069\u8e93\u3044\u305f\u306e\u306f\u5185\u7dd2\u306e\u65b9\u5411\u3067\u3002\n\u975e\u540c\u671f\u306fPython\u3084Node.js\u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u826f\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3068\u306f\u601d\u3063\u305f\u3002\u52c9\u5f37\u3057\u306a\u304d\u3083\u3002\n\n\u53d7\u4fe1\u306e\u30d7\u30ed\u30bb\u30b9\u5316\uff08\u30c7\u30fc\u30e2\u30f3\u5316\uff09\n\u3055\u3066\u3001\u3046\u307e\u304f\u3044\u3063\u305f\u306e\u306f\u3044\u3044\u304c\u3001\u9ed2\u3044\u753b\u9762\u3092\u4e00\u65e5\u4e2d\u7acb\u3061\u3042\u3052\u3066\u773a\u3081\u308b\u308f\u3051\u306b\u306f\u3044\u304b\u306a\u3044\u3002\n\u666e\u901a\u306binit.d\u3068\u304b\u306b\u767b\u9332\u3059\u308c\u3070\u3088\u3044\u306e\uff1f\u3068\u601d\u3063\u305f\u3051\u308c\u3069\u3082\u3001\u3069\u3046\u3082Supervisor\u3063\u3066\u306e\u3092\u4f7f\u3046\u3068\u3046\u307e\u304f\u3044\u304f\u3089\u3057\u3044\u3002\n\u3053\u306e\u3042\u305f\u308a\u306f\u5168\u304f\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u3082\u3089\u3063\u305f\u307b\u3046\u304c\u826f\u3044\u3002\n\n\n\n\nCakePHP\u3067SQS\u3092\u4f7f\u3063\u3066\u975e\u540c\u671f\u306b\u30e1\u30fc\u30eb\u9001\u4fe1\u3057\u3001\u9001\u4fe1\u30d7\u30ed\u30bb\u30b9\u306e\u76e3\u8996\u3092\u884c\u3046 - Qiita\n\n\n\n CakePHP\u3067SQS\u3092\u4f7f\u3063\u3066\u975e\u540c\u671f\u306b\u30e1\u30fc\u30eb\u9001\u4fe1\u3057\u3001\u9001\u4fe1\u30d7\u30ed\u30bb\u30b9\u306e\u76e3\u8996\u3092\u884c\u3046 - Qiita... \n\n\n\n\n\n\n\n\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3063\u3066\u3069\u3046\u3084\u3089\u3046\u307e\u304f\u3044\u3063\u305f\u3002\u30d3\u30d0Supervisor\u3002\u52c9\u5f37\u3057\u306a\u304d\u3083\u3002\n\n\u5b8c\u6210\u54c1\n\u6628\u65e5\u3068\u5909\u5316\u306a\u3057\u3002\n\n\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u3068\u3053\u308d\u306f\u51e6\u7406\u304c\u591a\u3044\u306e\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u9045\u3044\u3002\n\u305f\u3060\u3057\u975e\u540c\u671f\u306a\u306e\u3067\u5f85\u3063\u3066\u305f\u3089\u305f\u3076\u3093\u8fd4\u3063\u3066\u304f\u308b\u306f\u305a\u3002\n\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306f\u5927\u304d\u304f\u5909\u308f\u3063\u305f\u306e\u3067\u8a18\u4e8b\u306b\u3057\u305f\u3002\n\u3042\u3068\u3001\u307e\u3060\u5de5\u4e8b\u4e2d\u306e\u90e8\u5206\u3082\u3042\u308b\u3051\u308c\u3069\u3082\u6652\u3057\u3066\u307f\u308b\u3002\n\u77e5\u3089\u306a\u3044\u3046\u3061\u306b\u30b5\u30fc\u30d3\u30b9\u3084\u3081\u3066\u308b\u304b\u3082\u3060\u3051\u3069\u3001\u305d\u306e\u6642\u306f\u305d\u3063\u3068\u53cb\u9054\u5916\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30b3\u30e1\u30f3\u30c8\u306b\u30a2\u30c9\u30d0\u30a4\u30b9\u9802\u3051\u308b\u3068\u975e\u5e38\u306b\u3046\u308c\u3057\u3044\u3067\u3059\u3002\n\u6628\u65e5\u66f8\u3044\u305f\u4ee5\u4e0b\u8a18\u4e8b\u3002\n<TABLE ALIGN=CENTER><TR><TD WIDTH=400px>\n <A HREF=\"http://qiita.com/momochan/items/459c95d075f12c6e6b77\" TARGET=\"_blank\"><STRONG>Spotify API\u3092\u4f7f\u3063\u3066LINEBot\u3067\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u5168\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u3082\u3089\u3046 - Qiita</STRONG></A>\n <A HREF=\"http://b.hatena.ne.jp/entry/http://qiita.com/momochan/items/459c95d075f12c6e6b77\" TARGET=\"_blank\">\n <IMG BORDER=\"0\" SRC=\"http://b.hatena.ne.jp/entry/image/http://qiita.com/momochan/items/459c95d075f12c6e6b77\" BORDER=\"0\" ALT=\"\" /></a>\n <BR>\n Spotify API\u3092\u4f7f\u3063\u3066LINEBot\u3067\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u5168\u81ea\u52d5\u3067\u4f5c\u3063\u3066\u3082\u3089\u3046 - Qiita... \n </TD>\n <TD WIDTH=150px>\n <IMG STYLE=\"float:left;margin-right:.5em;\" SRC=\"http://capture.heartrails.com/120x120/cool?http://qiita.com/momochan/items/459c95d075f12c6e6b77\" ALT=\"\" WIDTH=\"120\" HEIGHT=\"120\" />\n </TD></TR>\n</TABLE>\n\n\u3068\u306b\u304b\u304fSpotify API\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u6ce8\u529b\u3057\u3066\u3044\u305f\u305f\u3081\u5168\u304f\u30ec\u30b9\u30dd\u30f3\u30b9\u306a\u3069\u3092\u8003\u3048\u3066\u3044\u306a\u304b\u3063\u305f\u3002\n\u6628\u65e5\u3082\u66f8\u3044\u305f\u304c\u3068\u306b\u304b\u304f\u7d20\u65e9\u304f\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\u3053\u3068\u3092\u76ee\u6307\u3057\u3066\u3001\u3057\u304b\u3082PHP\u3067\u3067\u304d\u308b\u306e\u304b\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u3051\u3069\u3001\u3068\u308a\u3042\u3048\u305a\u975e\u540c\u671f\u3067\u51e6\u7406\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u306e\u3067\u8a18\u8f09\u3059\u308b\u3002\n\n\n# \u30ad\u30fc\u30ef\u30fc\u30c9\n\n- \u975e\u540c\u671f\n- Que\n- SQS\n- Supervisor\n\n# \u30d5\u30ed\u30fc\u30c1\u30e3\u30fc\u30c8\n![Flowchart.png](https://qiita-image-store.s3.amazonaws.com/0/120983/f621bf22-3a7c-f3df-7551-334563cec713.png)\n\n# \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30ad\u30e5\u30fc\u306b\u305f\u3081\u308b\uff08\u9001\u4fe1\u5074\uff09\n\u4eca\u56de\u30b5\u30fc\u30d0\u306b\u306fAWS\u3092\u5229\u7528\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u3044\u308d\u3044\u308d\u8abf\u3079\u305f\u3068\u3053\u308d\u3001\u975e\u540c\u671f\u51e6\u7406\u306b\u306fSQS\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u60c5\u5831\u304c\u591a\u304b\u3063\u305f\u3002\n\u307e\u305fSQS\u3092\u5229\u7528\u3059\u308b\u3068\u304d\u306b\u306fSNS\u3092\u524d\u306b\u565b\u307e\u3059\u3068\u3044\u3044\u3088\u3068\u8a00\u3046\u4e8b\u3067\u8abf\u3079\u3066\u307f\u305f\u3002\n\nPHP\u3067\u3082aws-sdk\u3092\u5229\u7528\u3059\u308c\u3070\u968f\u5206\u7c21\u5358\u306b\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\n```php:front.php\nrequire __DIR__.\"/vendor/autoload.php\";\nuse Aws\\Sns\\SnsClient;\n\n// object to array\n$data = messageEventToJson($events);\n\n// push SNS -> SQS\ntry{\n    $sns = SnsClient::factory(array(\n      'key'    => '{YOUR_KEY}',\n      'secret' => '{YOUR_SECRET}',\n      'region' => 'ap-northeast-1'\n    ));\n    $response = $sns->publish(array(\n        'TopicArn' => '{YOUR_ARN}',\n        'Message' => $data\n    ));\n\n}catch (Exception $e){\n    //\n    getLog($e->getMessage());\n}\n\n//\nfunction messageEventToJson($events) {\n  $eventArray = array();\n  foreach($events as $event) {\n    if($event instanceof TextMessage) {\n      array_push($eventArray, array(\n        'type' => $event->getMessageType(),\n        'timestamp' => $event->getTimestamp(),\n        'replyToken' => $event->getReplyToken(),\n        'userId' => $event->getUserId(),\n        'text' => $event->getText()\n      ));\n    }\n    else if($event instanceof PostbackEvent) {\n      array_push($eventArray, array(\n        'type' => $event->getType(),\n        'timestamp' => $event->getTimestamp(),\n        'replyToken' => $event->getReplyToken(),\n        'userId' => $event->getUserId(),\n        'postBackData' => $event->getPostbackData()\n      ));\n    }\n  }\n\n  return json_encode($eventArray);\n}\n\n```\n\u4e0b\u306e\u6c5a\u3044\u30b3\u30fc\u30c9\u306fObject\u3092Json\u5316\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u4ed5\u65b9\u306a\u304f\u3053\u3046\u3084\u3063\u3066\u307f\u305f\u304c\u3001\u305f\u3076\u3093\u9593\u9055\u3063\u3066\u3044\u308b\u3093\u3060\u308d\u3046\u3068\u601d\u3046\u3002\u307b\u3093\u3068\u306fObject\u305d\u306e\u307e\u307e\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3066SQS\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u653e\u308a\u8fbc\u307f\u305f\u304b\u3063\u305f\u3002\n\n\u4ee5\u4e0a\u3060\u3002\u3068\u3066\u3082\u7c21\u5358\u3002AWS\u6700\u9ad8\u3002\n\n# \u975e\u540c\u671f\u3067\u30ad\u30e5\u30fc\u3092\u53d6\u5f97\uff08\u53d7\u4fe1\u5074\uff09\n\u3053\u3061\u3089\u306fSQS\u304b\u3089\u76f4\u63a5\u53d6\u308a\u51fa\u3059\u3002\n\u975e\u540c\u671f\u306b\u3064\u3044\u3066\u306f\u5168\u304f\u77e5\u8b58\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u3044\u308d\u3044\u308d\u8abf\u3079\u305f\u3002PHP\u3058\u3083\u3060\u3081\u3060\u3001Node.js\u3060\uff01Ruby\u3060\uff01\u306a\u3069\u306e\u60c5\u5831\u304c\u3042\u3063\u3066\u56de\u308a\u9053\u3092\u3057\u305f\u304c\u3001\u7d50\u5c40\u632b\u6298\u3057\u3066PHP\u3067\u3084\u3063\u3066\u307f\u305f\u3002\n\u3053\u306e\u30bd\u30fc\u30b9\u306f\u5168\u304f\u81ea\u4fe1\u304c\u306a\u3044\u306e\u3067\u771f\u4f3c\u3057\u306a\u3044\u307b\u3046\u304c\u3044\u3044\u3067\u3059\u3002\u81ea\u5206\u3067\u8abf\u3079\u3066\u304f\u3060\u3055\u3044\u3002\n\n```php:woker.php\nrequire __DIR__.\"/vendor/autoload.php\";\n\nuse Aws\\Sqs\\SqsClient;\n\n$sqs = SqsClient::factory(array(\n      'key'    => '{YOUR_KEY}',\n      'secret' => '{YOUR_SECRET}',\n    'region'    => 'ap-northeast-1',\n    'version' => 'latest',\n));\n\n$queueurl = $sqs->getQueueUrl(array(\n    'QueueName' => '{YOUR_QUE_NAME}',\n));\n\n\n//\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5f85\u6a5f\u3057\u307e\u3059\nwhile(true){\n  try {\n    $result = $sqs->receiveMessage(array(\n        'QueueUrl' => $queueurl['QueueUrl'],\n    ));\n    //\n    if ($result['Messages'] == null) {\n      sleep(1);\n    }\n    else {\n        // Exec Something! # \u3053\u3053\u306bSpotify\u9023\u643a\u3068LINE\u3078\u306e\u8fd4\u4fe1\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u305f\n\n\n        // status ok is delete sqs message\n        if($response->isSucceeded()) {\n          try {\n            $sqs->deleteMessage(array(\n                'QueueUrl' => $queueurl['QueueUrl'],\n                'ReceiptHandle' => $receiptHandle\n            ));\n          }\n          catch(Exception $e) {\n            echo $e->getMessage();\n          }\n        }\n        else {\n          // under construction\n        }\n\n      }\n\n    }\n  }\n  catch(Exception $e) {\n    echo $e->getMessage();\n  }\n}\nexit(0);\n\n```\n\n```bash\n$ php worker.php\n```\n\u306a\u3093\u3068\u60f3\u5b9a\u901a\u308a\u306b\u3046\u3054\u3044\u305f\u3088\uff01\u304a\u304b\u3093\uff01\uff01\n\u3068\u3044\u3063\u3066\u3082\u3053\u3053\u3067\u534a\u65e5\u307b\u3069\u8e93\u3044\u305f\u306e\u306f\u5185\u7dd2\u306e\u65b9\u5411\u3067\u3002\n\u975e\u540c\u671f\u306fPython\u3084Node.js\u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u826f\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3068\u306f\u601d\u3063\u305f\u3002\u52c9\u5f37\u3057\u306a\u304d\u3083\u3002\n\n# \u53d7\u4fe1\u306e\u30d7\u30ed\u30bb\u30b9\u5316\uff08\u30c7\u30fc\u30e2\u30f3\u5316\uff09\n\u3055\u3066\u3001\u3046\u307e\u304f\u3044\u3063\u305f\u306e\u306f\u3044\u3044\u304c\u3001\u9ed2\u3044\u753b\u9762\u3092\u4e00\u65e5\u4e2d\u7acb\u3061\u3042\u3052\u3066\u773a\u3081\u308b\u308f\u3051\u306b\u306f\u3044\u304b\u306a\u3044\u3002\n\u666e\u901a\u306binit.d\u3068\u304b\u306b\u767b\u9332\u3059\u308c\u3070\u3088\u3044\u306e\uff1f\u3068\u601d\u3063\u305f\u3051\u308c\u3069\u3082\u3001\u3069\u3046\u3082Supervisor\u3063\u3066\u306e\u3092\u4f7f\u3046\u3068\u3046\u307e\u304f\u3044\u304f\u3089\u3057\u3044\u3002\n\u3053\u306e\u3042\u305f\u308a\u306f\u5168\u304f\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u3082\u3089\u3063\u305f\u307b\u3046\u304c\u826f\u3044\u3002\n<TABLE ALIGN=CENTER><TR><TD WIDTH=400px>\n <A HREF=\"http://qiita.com/zaru/items/1b58210f604de0219773\" TARGET=\"_blank\"><STRONG>CakePHP\u3067SQS\u3092\u4f7f\u3063\u3066\u975e\u540c\u671f\u306b\u30e1\u30fc\u30eb\u9001\u4fe1\u3057\u3001\u9001\u4fe1\u30d7\u30ed\u30bb\u30b9\u306e\u76e3\u8996\u3092\u884c\u3046 - Qiita</STRONG></A>\n <A HREF=\"http://b.hatena.ne.jp/entry/http://qiita.com/zaru/items/1b58210f604de0219773\" TARGET=\"_blank\">\n <IMG BORDER=\"0\" SRC=\"http://b.hatena.ne.jp/entry/image/http://qiita.com/zaru/items/1b58210f604de0219773\" BORDER=\"0\" ALT=\"\" /></a>\n <BR>\n CakePHP\u3067SQS\u3092\u4f7f\u3063\u3066\u975e\u540c\u671f\u306b\u30e1\u30fc\u30eb\u9001\u4fe1\u3057\u3001\u9001\u4fe1\u30d7\u30ed\u30bb\u30b9\u306e\u76e3\u8996\u3092\u884c\u3046 - Qiita... \n </TD>\n <TD WIDTH=150px>\n <IMG STYLE=\"float:left;margin-right:.5em;\" SRC=\"http://capture.heartrails.com/120x120/cool?http://qiita.com/zaru/items/1b58210f604de0219773\" ALT=\"\" WIDTH=\"120\" HEIGHT=\"120\" />\n </TD></TR>\n</TABLE>\n\n\u53c2\u8003\u306b\u3055\u305b\u3066\u3082\u3089\u3063\u3066\u3069\u3046\u3084\u3089\u3046\u307e\u304f\u3044\u3063\u305f\u3002\u30d3\u30d0Supervisor\u3002\u52c9\u5f37\u3057\u306a\u304d\u3083\u3002\n\n# \u5b8c\u6210\u54c1\n\u6628\u65e5\u3068\u5909\u5316\u306a\u3057\u3002\n![Screenshot_2017-01-12-18-49-31-730_jp.naver.line.android.png](https://qiita-image-store.s3.amazonaws.com/0/120983/35ab769a-ce11-7721-99a4-7bad18aac5a4.png)\n\n\n\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u3068\u3053\u308d\u306f\u51e6\u7406\u304c\u591a\u3044\u306e\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u9045\u3044\u3002\n\u305f\u3060\u3057\u975e\u540c\u671f\u306a\u306e\u3067\u5f85\u3063\u3066\u305f\u3089\u305f\u3076\u3093\u8fd4\u3063\u3066\u304f\u308b\u306f\u305a\u3002\n\n\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306f\u5927\u304d\u304f\u5909\u308f\u3063\u305f\u306e\u3067\u8a18\u4e8b\u306b\u3057\u305f\u3002\n\u3042\u3068\u3001\u307e\u3060\u5de5\u4e8b\u4e2d\u306e\u90e8\u5206\u3082\u3042\u308b\u3051\u308c\u3069\u3082\u6652\u3057\u3066\u307f\u308b\u3002\n\n\u77e5\u3089\u306a\u3044\u3046\u3061\u306b\u30b5\u30fc\u30d3\u30b9\u3084\u3081\u3066\u308b\u304b\u3082\u3060\u3051\u3069\u3001\u305d\u306e\u6642\u306f\u305d\u3063\u3068\u53cb\u9054\u5916\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30b3\u30e1\u30f3\u30c8\u306b\u30a2\u30c9\u30d0\u30a4\u30b9\u9802\u3051\u308b\u3068\u975e\u5e38\u306b\u3046\u308c\u3057\u3044\u3067\u3059\u3002\n", "tags": ["Spotify", "linebot", "PHP"]}