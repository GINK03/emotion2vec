{"context": " More than 1 year has passed since last update.\n\n\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\n\u4ed6\u306b\u3082\u3044\u308d\u3044\u308d\u3042\u308b\u3051\u3069\u3001\u3068\u308a\u3042\u3048\u305a\u3002\nsinatra_app/\n- views/\n    - index.erb\n- config/\n    - database.yml\n- app.rb\n- Rakefile\n- config.ru\n- Gemfile\n- model.rb\n\n\napp.rb\n\nmodel.rb\u3092\u8aad\u307f\u8fbc\u307e\u305b\u308b\n\n\napp.rb\nrequire 'sinatra'\nrequire 'sinatra/activerecord'\nrequire './model.rb'\n\nget '/' do\n  'hoge'\nend\n\n\n\nGemfile\n\n\u30ed\u30fc\u30ab\u30eb\u306f\u3001sqlite3\u3092\u4f7f\u3046\nheroku\u306f\u3001Posgresql\u3092\u4f7f\u3046\n\nsource 'https://rubygems.org'\n\nruby '1.9.3'\n\ngem 'sinatra'\ngem 'sinatra-activerecord', :require => 'sinatra/activerecord'\ngem 'sinatra-reloader'\ngem 'rake'\n\ngroup :development, :test do\n  gem 'sqlite3'\nend\n\ngroup :production do\n  gem 'pg'\nend\n\n\nRakefile\n\u3088\u304f\u308f\u304b\u3063\u3066\u306a\u3044\n\nrequire './app'\nrequire 'sinatra/activerecord/rake'\n\n\nconfig.ru\nbundle exec rackup config.ru\u3067Sinatra\u30a2\u30d7\u30ea\u304c\u8d77\u52d5\u3059\u308b\n\nconfig.ru\nrequire 'rubygems'\nrequire 'bundler'\nBundler.require\nrequire './app'\nrun Sinatra::Application\n\n\n\nmodel.rb\n\n\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\uff08:development, :test\uff09\n\nDatabase\u306e\u8a2d\u5b9a\u306fconfig/database.yml\u3092\u8aad\u307f\u8fbc\u3080\nBasic\u8a8d\u8a3c\u306f\u3001User:admin,Password:admin\u3068\u3059\u308b\n\n\nHeroku\uff08:production\uff09\n\nDatabase\u306e\u8a2d\u5b9a\u306f\u3001heroku\u306b\u5f93\u3046\uff08\u3060\u3081\u306a\u3089\u3001postgres://localhost/mydb\u306b\u63a5\u7d9a\u3059\u308b\uff09\nBasic\u8a8d\u8a3c\u306f\u74b0\u5883\u5909\u6570ENV\u3092\u53c2\u7167\u3059\u308b\n\n\nmodel.rb\nconfigure :development, :test do\n    ActiveRecord::Base.configurations = YAML.load_file('config/database.yml')\n    use Rack::Auth::Basic do |username, password|\n        username == 'admin' && password == 'admin'\n    end\nend\n\nconfigure :production do\n    ActiveRecord::Base.establish_connection(ENV['DATABASE_URL'] || 'postgres://localhost/mydb')\n    use Rack::Auth::Basic do |username, password|\n        username == ENV['BASIC_AUTH_USERNAME'] && password == ENV['BASIC_AUTH_PASSWORD']\n    end\nend\n\n\n\ndatabase.yml\n\u958b\u767a\u72b6\u6cc1\u306b\u3042\u308f\u305b\u3066\u7de8\u96c6\n\nconfig/database.yml\ndevelopment:\n  adapter: sqlite3\n  encoding: utf8\n  database: db/development.db\n\ntest:\n  adapter: sqlite3\n  encoding: utf8\n  database: db/test.db\n\nproduction:\n  url: <%= ENV['DATABASE_URL'] %>\n\n\n\u306a\u304a\u3001heroku\u306e\u4ed5\u69d8\u5909\u66f4\u306b\u3088\u308a\u3001ActiveDirectroy4.1\u4ee5\u964d\u306fdatabase.yml\u3092\u81ea\u52d5\u751f\u6210\u3057\u306a\u3044\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\uff08\u53c2\u8003\uff1aThe config/database.yml file no longer generated for applications using ActiveRecord 4.1+)\n\n\u74b0\u5883\u5909\u6570ENV\u306e\u767b\u9332\uff08Heroku\u5074\uff09\n\u305f\u3068\u3048\u3070\u3001PASSWORD\u306e\u8ffd\u52a0\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n$heroku config:add PASSWORD=\"hogehoge\"\n\n\u8ffd\u52a0\u3057\u305f\u74b0\u5883\u5909\u6570ENV\u306f\u3001\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\n$heroku config\n\n\n#\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\n\n\u4ed6\u306b\u3082\u3044\u308d\u3044\u308d\u3042\u308b\u3051\u3069\u3001\u3068\u308a\u3042\u3048\u305a\u3002\n\n```\nsinatra_app/\n- views/\n    - index.erb\n- config/\n    - database.yml\n- app.rb\n- Rakefile\n- config.ru\n- Gemfile\n- model.rb\n```\n\n#app.rb\n\n* model.rb\u3092\u8aad\u307f\u8fbc\u307e\u305b\u308b\n\n```app.rb\nrequire 'sinatra'\nrequire 'sinatra/activerecord'\nrequire './model.rb'\n\nget '/' do\n  'hoge'\nend\n```\n\n#Gemfile\n\n* \u30ed\u30fc\u30ab\u30eb\u306f\u3001sqlite3\u3092\u4f7f\u3046\n* heroku\u306f\u3001Posgresql\u3092\u4f7f\u3046\n\n```Gemfile\nsource 'https://rubygems.org'\n\nruby '1.9.3'\n\ngem 'sinatra'\ngem 'sinatra-activerecord', :require => 'sinatra/activerecord'\ngem 'sinatra-reloader'\ngem 'rake'\n\ngroup :development, :test do\n  gem 'sqlite3'\nend\n\ngroup :production do\n  gem 'pg'\nend\n```\n\n#Rakefile\n\n\u3088\u304f\u308f\u304b\u3063\u3066\u306a\u3044\n\n```Rakefile\n\nrequire './app'\nrequire 'sinatra/activerecord/rake'\n```\n\n#config.ru\n\n`bundle exec rackup config.ru`\u3067Sinatra\u30a2\u30d7\u30ea\u304c\u8d77\u52d5\u3059\u308b\n\n```config.ru\nrequire 'rubygems'\nrequire 'bundler'\nBundler.require\nrequire './app'\nrun Sinatra::Application\n```\n\n#model.rb\n\n### \u30ed\u30fc\u30ab\u30eb\u74b0\u5883\uff08:development, :test\uff09\n* Database\u306e\u8a2d\u5b9a\u306f`config/database.yml`\u3092\u8aad\u307f\u8fbc\u3080\n* Basic\u8a8d\u8a3c\u306f\u3001`User:admin`,`Password:admin`\u3068\u3059\u308b\n\n### Heroku\uff08:production\uff09\n\n* Database\u306e\u8a2d\u5b9a\u306f\u3001heroku\u306b\u5f93\u3046\uff08\u3060\u3081\u306a\u3089\u3001`postgres://localhost/mydb`\u306b\u63a5\u7d9a\u3059\u308b\uff09\n* Basic\u8a8d\u8a3c\u306f\u74b0\u5883\u5909\u6570ENV\u3092\u53c2\u7167\u3059\u308b\n\n```model.rb\nconfigure :development, :test do\n\tActiveRecord::Base.configurations = YAML.load_file('config/database.yml')\n\tuse Rack::Auth::Basic do |username, password|\n  \t\tusername == 'admin' && password == 'admin'\n\tend\nend\n\nconfigure :production do\n\tActiveRecord::Base.establish_connection(ENV['DATABASE_URL'] || 'postgres://localhost/mydb')\n\tuse Rack::Auth::Basic do |username, password|\n  \t\tusername == ENV['BASIC_AUTH_USERNAME'] && password == ENV['BASIC_AUTH_PASSWORD']\n\tend\nend\n```\n\n#database.yml\n\n\u958b\u767a\u72b6\u6cc1\u306b\u3042\u308f\u305b\u3066\u7de8\u96c6\n\n```config/database.yml\ndevelopment:\n  adapter: sqlite3\n  encoding: utf8\n  database: db/development.db\n\ntest:\n  adapter: sqlite3\n  encoding: utf8\n  database: db/test.db\n\nproduction:\n  url: <%= ENV['DATABASE_URL'] %>\n```\n\n\u306a\u304a\u3001heroku\u306e\u4ed5\u69d8\u5909\u66f4\u306b\u3088\u308a\u3001ActiveDirectroy4.1\u4ee5\u964d\u306fdatabase.yml\u3092\u81ea\u52d5\u751f\u6210\u3057\u306a\u3044\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\uff08\u53c2\u8003\uff1a[The config/database.yml file no longer generated for applications using ActiveRecord 4.1+](https://devcenter.heroku.com/changelog-items/709))\n\n#\u74b0\u5883\u5909\u6570ENV\u306e\u767b\u9332\uff08Heroku\u5074\uff09\n\u305f\u3068\u3048\u3070\u3001PASSWORD\u306e\u8ffd\u52a0\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n\n```\n$heroku config:add PASSWORD=\"hogehoge\"\n```\n\n\u8ffd\u52a0\u3057\u305f\u74b0\u5883\u5909\u6570ENV\u306f\u3001\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n```\n$heroku config\n```\n", "tags": ["Heroku", "Sinatra"]}