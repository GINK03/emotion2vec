{"context": " More than 1 year has passed since last update.\n\n\u5909\u6570\u3092\u8a55\u4fa1\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\n\nbind_value.php\n$statement = $database->prepare('INSERT INTO favorite_category (id_users, category_id) values(:id, :category_id)');\n$id = 3;\n$categoryID = 10;\n$statement->bindParam(':id', $id);\n$statement->bindParam(':category_id', $categoryID);\n$statement->execute();\n\n$statement->bindValue(':id', 3);\n$statement->bindValue(':category_id', 10);\n$statement->execute();\n\n\nbindParam()\u306f\u5909\u6570\u3092\u5165\u308c\u306a\u3044\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002bindValue()\u306f\u5024\u3092\u76f4\u63a5\u5165\u308c\u3066\u3082\u3001\u5909\u6570\u3092\u5165\u308c\u3066\u3082OK\u3002\nbindParam()\u306fexecute()\u3055\u308c\u305f\u6642\u70b9\u3067\u5909\u6570\u3092\u8a55\u4fa1\u3059\u308b\u3002bindValue()\u306f\u3059\u3050\u306b\u5909\u6570\u3092\u8a55\u4fa1\u3002\n\nbind_param.php\n$a = [\n    'id' => 2,\n    'user' => 'jack',\n    'sex' => 1,\n    'prefecture' => 24\n];\n\n$statement = $db->prepare('INSERT INTO users (id, name, sex, birthday, prefecture) VALUES (?, ?, ?, ?)');\n\n$statement->bindParam(1, $a['id'], PDO::PARAM_STRING);\n$statement->bindParam(1, $a['name'], PDO::PARAM_INT);\n$statement->bindParam(2, $a['sex'], PDO::PARAM_INT);\n$statement->bindParam(4, $a['prefecture'], PDO::PARAM_STRING);\n$statement->execute();\n\n\nbindParam()\u306f\u305d\u306e\u5834\u3067\u306f\u5909\u6570\u304c\u8a55\u4fa1\u3055\u308c\u306a\u3044\u306e\u3067\u672a\u5b9a\u7fa9\u306e\u914d\u5217\u3092\u6307\u5b9a\u3057\u3066\u3082\u30a8\u30e9\u30fc\u304c\u51fa\u306a\u3044\u3057\u3001\u672a\u5b9a\u7fa9\u306e\u307e\u307e\u5b9f\u884c\u3057\u3066\u3082\u30a8\u30e9\u30fc\u306f\u51fa\u306a\u3044\u3002bindValue()\u3060\u3068\u672a\u5b9a\u7fa9\u306e\u914d\u5217\u3092\u6307\u5b9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n\nbindParam()\u306e\u526f\u4f5c\u7528(?)\n\nstrange_behavior.php\n$statement = $database->prepare(/** \u7701\u7565 **/);\n$id = 3;\n$statement->bindParam(':id', $id, PDO::PARAM_INT);\nvar_dump($id); //=> int(3);\n$statement->execute();\nvar_dump($id); //=> string(1) \"3\"\n\n\nbindParam()\u3092\u4f7f\u3063\u305f\u5834\u5408\u306b\u306e\u307f\u767a\u751f\u3059\u308b\u3002execute()\u3092\u5b9f\u884c\u3057\u305f\u3042\u3068\u306bbindParam()\u306b\u6e21\u3057\u305f\u5909\u6570\u304c\u6587\u5b57\u5217\u578b\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002strange_behavior.php\u306e\u5834\u5408\u3060\u3068, $id\u304c\u6574\u6570\u578b\u304b\u3089\u6587\u5b57\u5217\u578b\u306b\u5909\u308f\u3063\u3066\u3044\u308b. \u306a\u306e\u3067, \u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u305f\u5f8c\u306b$id\u3092\u4f55\u304b\u306e\u51e6\u7406\u3067\u4f7f\u7528\u3059\u308b\u5834\u5408, \u601d\u308f\u306c\u6319\u52d5\u3092\u3059\u308b\u304a\u305d\u308c\u304c\u3042\u308b.\nPDO\u306b\u3082\u305d\u3093\u306a\u4f8b\u304c\u3042\u3063\u3066, \u307e\u3055\u306bstrange_behavior.php\u306ebindParam()\u304c\u305d\u308c\u306b\u3042\u305f\u308b. \u7b2c3\u5f15\u6570\u306bPDO::PARAM_INT\u3092\u6307\u5b9a\u3059\u308b\u3068, \u30d0\u30a4\u30f3\u30c9\u3059\u308b\u5909\u6570\u304c\u6574\u6570\u578b\u3067\u306a\u3044\u5834\u5408\u306b\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3057\u307e\u3046. \u5909\u6570$id\u3092\u4f7f\u3063\u3066\u4f55\u5ea6\u3082\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306b\u306f, \u7d50\u69cb\u5384\u4ecb\u306a\u554f\u984c\u306b\u306a\u308b\u6c17\u304c\u3059\u308b.\n## \u5909\u6570\u3092\u8a55\u4fa1\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\n```php:bind_value.php\n$statement = $database->prepare('INSERT INTO favorite_category (id_users, category_id) values(:id, :category_id)');\n$id = 3;\n$categoryID = 10;\n$statement->bindParam(':id', $id);\n$statement->bindParam(':category_id', $categoryID);\n$statement->execute();\n \n$statement->bindValue(':id', 3);\n$statement->bindValue(':category_id', 10);\n$statement->execute();\n```\n\nbindParam()\u306f\u5909\u6570\u3092\u5165\u308c\u306a\u3044\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002bindValue()\u306f\u5024\u3092\u76f4\u63a5\u5165\u308c\u3066\u3082\u3001\u5909\u6570\u3092\u5165\u308c\u3066\u3082OK\u3002\nbindParam()\u306fexecute()\u3055\u308c\u305f\u6642\u70b9\u3067\u5909\u6570\u3092\u8a55\u4fa1\u3059\u308b\u3002bindValue()\u306f\u3059\u3050\u306b\u5909\u6570\u3092\u8a55\u4fa1\u3002\n\n```php:bind_param.php\n$a = [\n    'id' => 2,\n    'user' => 'jack',\n    'sex' => 1,\n    'prefecture' => 24\n];\n \n$statement = $db->prepare('INSERT INTO users (id, name, sex, birthday, prefecture) VALUES (?, ?, ?, ?)');\n \n$statement->bindParam(1, $a['id'], PDO::PARAM_STRING);\n$statement->bindParam(1, $a['name'], PDO::PARAM_INT);\n$statement->bindParam(2, $a['sex'], PDO::PARAM_INT);\n$statement->bindParam(4, $a['prefecture'], PDO::PARAM_STRING);\n$statement->execute();\n```\n\nbindParam()\u306f\u305d\u306e\u5834\u3067\u306f\u5909\u6570\u304c\u8a55\u4fa1\u3055\u308c\u306a\u3044\u306e\u3067\u672a\u5b9a\u7fa9\u306e\u914d\u5217\u3092\u6307\u5b9a\u3057\u3066\u3082\u30a8\u30e9\u30fc\u304c\u51fa\u306a\u3044\u3057\u3001\u672a\u5b9a\u7fa9\u306e\u307e\u307e\u5b9f\u884c\u3057\u3066\u3082\u30a8\u30e9\u30fc\u306f\u51fa\u306a\u3044\u3002bindValue()\u3060\u3068\u672a\u5b9a\u7fa9\u306e\u914d\u5217\u3092\u6307\u5b9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n\n## bindParam()\u306e\u526f\u4f5c\u7528(?)\n\n```php:strange_behavior.php\n$statement = $database->prepare(/** \u7701\u7565 **/);\n$id = 3;\n$statement->bindParam(':id', $id, PDO::PARAM_INT);\nvar_dump($id); //=> int(3);\n$statement->execute();\nvar_dump($id); //=> string(1) \"3\"\n```\n\n`bindParam()`\u3092\u4f7f\u3063\u305f\u5834\u5408\u306b\u306e\u307f\u767a\u751f\u3059\u308b\u3002`execute()`\u3092\u5b9f\u884c\u3057\u305f\u3042\u3068\u306b`bindParam()`\u306b\u6e21\u3057\u305f\u5909\u6570\u304c\u6587\u5b57\u5217\u578b\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002`strange_behavior.php`\u306e\u5834\u5408\u3060\u3068, `$id`\u304c\u6574\u6570\u578b\u304b\u3089\u6587\u5b57\u5217\u578b\u306b\u5909\u308f\u3063\u3066\u3044\u308b. \u306a\u306e\u3067, \u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u305f\u5f8c\u306b`$id`\u3092\u4f55\u304b\u306e\u51e6\u7406\u3067\u4f7f\u7528\u3059\u308b\u5834\u5408, \u601d\u308f\u306c\u6319\u52d5\u3092\u3059\u308b\u304a\u305d\u308c\u304c\u3042\u308b.\n\nPDO\u306b\u3082\u305d\u3093\u306a\u4f8b\u304c\u3042\u3063\u3066, \u307e\u3055\u306b`strange_behavior.php`\u306e`bindParam()`\u304c\u305d\u308c\u306b\u3042\u305f\u308b. \u7b2c3\u5f15\u6570\u306b`PDO::PARAM_INT`\u3092\u6307\u5b9a\u3059\u308b\u3068, \u30d0\u30a4\u30f3\u30c9\u3059\u308b\u5909\u6570\u304c\u6574\u6570\u578b\u3067\u306a\u3044\u5834\u5408\u306b\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3057\u307e\u3046. \u5909\u6570`$id`\u3092\u4f7f\u3063\u3066\u4f55\u5ea6\u3082\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306b\u306f, \u7d50\u69cb\u5384\u4ecb\u306a\u554f\u984c\u306b\u306a\u308b\u6c17\u304c\u3059\u308b.\n", "tags": ["PHP", "MySQL", "PDO"]}