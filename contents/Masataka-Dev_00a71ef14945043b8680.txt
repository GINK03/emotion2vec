{"context": "\n\n\u306f\u3058\u3081\u306b\nSwift3\u3067\u3001\u5186\u30b0\u30e9\u30d5\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u524d\u3001\u4f5c\u6210\u3057\u307e\u3057\u305fPie\u306e\u63cf\u304d\u65b9\u306e\u5fdc\u7528\u3067\u3059\u3002\nQiita Swift3.0\u5bfe\u5fdc CoreGraphics\u3067Pie\u3092\u63cf\u304f\n\n\n\u5186\u30b0\u30e9\u30d5\u306e\u63cf\u753b\n\nPieChartView.swift\nstruct Segment {\n\n    var color: UIColor\n    var angle: CGFloat\n\n}\n\n\n\u5186\u30b0\u30e9\u30d5\u306e1\u533a\u5206\u3092\u69cb\u9020\u4f53\u3067\u8868\u3057\u307e\u3059\u3002\u8272\u3068\u89d2\u5ea6\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nPieChartView.swift\nvar segments = [Segment]() {\n        didSet {\n            setNeedsDisplay()\n        }\n    }\n\n\n\u4e0a\u8ff0\u3057\u305f\u69cb\u9020\u4f53\"Segment\"\u306e\u914d\u5217\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u5024\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u518d\u63cf\u753b\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u3067\u306fViewController\u3067\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\nPieChartView.swift\nprivate func drawPieChart(rect: CGRect) {\n        // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\n        guard let context = UIGraphicsGetCurrentContext() else {\n            return\n        }\n\n        // Pie\u306e\u4e2d\u5fc3\u4f4d\u7f6e\n        let center = CGPoint(x: rect.width * 0.5, y: rect.height * 0.5)\n\n        // Pie\u306e\u534a\u5f84\n        let radius = min(rect.width, rect.height) * 0.5\n\n        // \u958b\u59cb\u89d2\u5ea6(\u30e9\u30b8\u30a2\u30f3) \u53f3\u56de\u308a\u306b\u3059\u308b\u305f\u3081-90\u5ea6\n        var startAngle = CGFloat(-90.0 * .pi/180)\n\n        self.segments.forEach { (segment) in\n            // Pie\u306e\u8272\u3092\u8a2d\u5b9a\n            context.setFillColor(segment.color.cgColor)\n\n            // \u7d42\u4e86\u89d2\u5ea6(\u30e9\u30b8\u30a2\u30f3) \u53f3\u56de\u308a\u306b\u3059\u308b\u305f\u3081-90\u5ea6\n            let endAngle = (segment.angle - 90.0) * .pi/180\n\n            // \u63cf\u753b\u4f4d\u7f6e\u3092\u79fb\u52d5\n            context.move(to: center)\n\n            // Pie\u3092\u8ffd\u52a0\n            context.addArc(center: center, radius: radius, startAngle: startAngle, endAngle: endAngle, clockwise: false)\n            context.fillPath()\n\n            startAngle = endAngle\n        }\n    }\n\n\n\u69cb\u9020\u4f53\"Segment\"\u306e\u914d\u5217\u304b\u3089\u4e00\u3064\u305a\u3064\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u63cf\u753b\u306e\u958b\u59cb\u89d2\u5ea6\u3068\u7d42\u4e86\u89d2\u5ea6\u3092\u8a2d\u5b9a\u3057\u3066Pie\u3092\u63cf\u753b\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\nGithub\u306b\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u3042\u3052\u307e\u3057\u305f\u3002\nGithub PieChart\n#\u306f\u3058\u3081\u306b\nSwift3\u3067\u3001\u5186\u30b0\u30e9\u30d5\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u524d\u3001\u4f5c\u6210\u3057\u307e\u3057\u305fPie\u306e\u63cf\u304d\u65b9\u306e\u5fdc\u7528\u3067\u3059\u3002\n[Qiita Swift3.0\u5bfe\u5fdc CoreGraphics\u3067Pie\u3092\u63cf\u304f](http://qiita.com/Masataka-Dev/items/e348353ac0e553143fc2)\n\n<img width=\"150\" alt=\"Simulator Screen Shot 2017.01.16 22.33.15.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/159175/049372ad-ee5e-1d98-b208-a17cc5d1f590.png\">\n\n#\u5186\u30b0\u30e9\u30d5\u306e\u63cf\u753b\n```swift:PieChartView.swift\nstruct Segment {\n    \n    var color: UIColor\n    var angle: CGFloat\n    \n}\n```\n\u5186\u30b0\u30e9\u30d5\u306e1\u533a\u5206\u3092\u69cb\u9020\u4f53\u3067\u8868\u3057\u307e\u3059\u3002\u8272\u3068\u89d2\u5ea6\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```swift:PieChartView.swift\nvar segments = [Segment]() {\n        didSet {\n            setNeedsDisplay()\n        }\n    }\n```\n\u4e0a\u8ff0\u3057\u305f\u69cb\u9020\u4f53\"Segment\"\u306e\u914d\u5217\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u5024\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u518d\u63cf\u753b\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u3067\u306fViewController\u3067\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```swift:PieChartView.swift\nprivate func drawPieChart(rect: CGRect) {\n        // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\n        guard let context = UIGraphicsGetCurrentContext() else {\n            return\n        }\n        \n        // Pie\u306e\u4e2d\u5fc3\u4f4d\u7f6e\n        let center = CGPoint(x: rect.width * 0.5, y: rect.height * 0.5)\n        \n        // Pie\u306e\u534a\u5f84\n        let radius = min(rect.width, rect.height) * 0.5\n        \n        // \u958b\u59cb\u89d2\u5ea6(\u30e9\u30b8\u30a2\u30f3) \u53f3\u56de\u308a\u306b\u3059\u308b\u305f\u3081-90\u5ea6\n        var startAngle = CGFloat(-90.0 * .pi/180)\n        \n        self.segments.forEach { (segment) in\n            // Pie\u306e\u8272\u3092\u8a2d\u5b9a\n            context.setFillColor(segment.color.cgColor)\n            \n            // \u7d42\u4e86\u89d2\u5ea6(\u30e9\u30b8\u30a2\u30f3) \u53f3\u56de\u308a\u306b\u3059\u308b\u305f\u3081-90\u5ea6\n            let endAngle = (segment.angle - 90.0) * .pi/180\n            \n            // \u63cf\u753b\u4f4d\u7f6e\u3092\u79fb\u52d5\n            context.move(to: center)\n            \n            // Pie\u3092\u8ffd\u52a0\n            context.addArc(center: center, radius: radius, startAngle: startAngle, endAngle: endAngle, clockwise: false)\n            context.fillPath()\n            \n            startAngle = endAngle\n        }\n    }\n```\n\u69cb\u9020\u4f53\"Segment\"\u306e\u914d\u5217\u304b\u3089\u4e00\u3064\u305a\u3064\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u63cf\u753b\u306e\u958b\u59cb\u89d2\u5ea6\u3068\u7d42\u4e86\u89d2\u5ea6\u3092\u8a2d\u5b9a\u3057\u3066Pie\u3092\u63cf\u753b\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n#\u30b5\u30f3\u30d7\u30eb\nGithub\u306b\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u3042\u3052\u307e\u3057\u305f\u3002\n\n[Github PieChart](https://github.com/Masataka-Dev/PieChart)\n", "tags": ["iOS", "Swift", "Swift3.0", "CoreGraphics"]}