{"context": " More than 1 year has passed since last update.\u7b2c\u4e94\u56de\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f( http://atnd.org/events/32979 )\u3002\n\u554f\u984c\u306f\u4e0b\u8a18 URL\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord5dahimi/\n\u3067\u3002\nruby \u3067\u4e8b\u524d\u306b\u66f8\u3044\u3066\u304a\u3044\u305f\u3082\u306e\u3092\u624b\u76f4\u3057\u3057\u305f\u3082\u306e\u3002\ndef strength c\n    c.map{ |x| \"3456789TJQKA2o\".index( x[1] ) }.min\nend\n\ndef legal_hand cand \n    ( cand.size==1 ||\n        (cand-[\"Jo\"]).map{ |i| strength [i] }.uniq.size==1 )\nend\n\ndef solve i \n    f,hand=i.split(',').map{ |e| e.scan(/../) }\n    sf=strength f\n    (hand||[]).combination( f.size ).select{ |cand|\n        legal_hand( cand ) && sf<strength(cand)\n    }.map{ |i| i.join }.join(\",\").tap{ |r| \n        return '-' if r.empty? \n    }\nend\n\ndef normalize a \n    a.split( ',' ).map{ |i| i.scan( /../ ).to_a.sort }.sort\nend\n\nDATA.each{ |line|\n    num,input,expected = line.split( /\\s+/ )\n    actual=solve(input)\n    unless [actual, expected].map{ |i| normalize( i ) }.uniq.size==1\n        print \"**EXPECTED** : \"+expected+\" : \" \n    end    \n    print \"%s %s -> %s\"%[num,input,actual]\n    puts\n}\n__END__\n1   DJ, -\n10  Jo,HAC8DJSJDTH2 -\n11  S4Jo,CQS6C9DQH9S2D6S3   DQCQ,D6S6,H9C9\n18  HTST,SJHJDJCJJoS3D2 DJCJ,SJDJ,JoHJ,CJHJ,SJJo,HJSJ,DJJo,JoCJ,JoD2,SJCJ,DJHJ\n26  H3D3Jo,D4SKH6CTS8SAS2CQH4HAC5DADKD9 HASADA\n30  D4H4S4C4,S6SAH6HAD6DAC6CAJo C6H6S6D6,SAJoDACA,S6H6C6Jo,SACAJoHA,HADASAJo,HADAJoCA,CADAHASA,D6C6JoH6,S6D6C6Jo,H6JoS6D6\n\n\u3044\u3064\u3082\u3069\u304a\u308a\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u5927\u534a\u3092\u7701\u7565\u3002\n\u5165\u529b\u3092 parse \u3057\u305f\u3089\u3001\u624b\u672d\u3092 combination \u3057\u3066 select \u3057\u3066 join \u3057\u305f\u3089\u51fa\u6765\u4e0a\u304c\u308a\u3001\u3068\u3044\u3046\u4f5c\u6226\u3002\ncombination \u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\u306e\u304c\u305a\u308b\u3044\u611f\u3058\u3002\nstrength \u306e\u5b9f\u88c5\u306f\u3001nidouchi \u3055\u3093\u306e\u5b9f\u88c5( http://qiita.com/items/70b75b0a4f6d304bf38f )\u3092\u898b\u3066\u771f\u4f3c\u3057\u305f\u3002\n\u7b2c\u4e94\u56de\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f( http://atnd.org/events/32979 )\u3002\n\u554f\u984c\u306f\u4e0b\u8a18 URL\u3002\nhttp://nabetani.sakura.ne.jp/hena/ord5dahimi/\n\u3067\u3002\nruby \u3067\u4e8b\u524d\u306b\u66f8\u3044\u3066\u304a\u3044\u305f\u3082\u306e\u3092\u624b\u76f4\u3057\u3057\u305f\u3082\u306e\u3002\n\n```ruby\ndef strength c\n    c.map{ |x| \"3456789TJQKA2o\".index( x[1] ) }.min\nend\n\ndef legal_hand cand \n    ( cand.size==1 ||\n        (cand-[\"Jo\"]).map{ |i| strength [i] }.uniq.size==1 )\nend\n\ndef solve i \n    f,hand=i.split(',').map{ |e| e.scan(/../) }\n    sf=strength f\n    (hand||[]).combination( f.size ).select{ |cand|\n        legal_hand( cand ) && sf<strength(cand)\n    }.map{ |i| i.join }.join(\",\").tap{ |r| \n        return '-' if r.empty? \n    }\nend\n\ndef normalize a \n    a.split( ',' ).map{ |i| i.scan( /../ ).to_a.sort }.sort\nend\n\nDATA.each{ |line|\n    num,input,expected = line.split( /\\s+/ )\n    actual=solve(input)\n    unless [actual, expected].map{ |i| normalize( i ) }.uniq.size==1\n        print \"**EXPECTED** : \"+expected+\" : \" \n    end    \n    print \"%s %s -> %s\"%[num,input,actual]\n    puts\n}\n__END__\n1   DJ, -\n10  Jo,HAC8DJSJDTH2 -\n11  S4Jo,CQS6C9DQH9S2D6S3   DQCQ,D6S6,H9C9\n18  HTST,SJHJDJCJJoS3D2 DJCJ,SJDJ,JoHJ,CJHJ,SJJo,HJSJ,DJJo,JoCJ,JoD2,SJCJ,DJHJ\n26  H3D3Jo,D4SKH6CTS8SAS2CQH4HAC5DADKD9 HASADA\n30  D4H4S4C4,S6SAH6HAD6DAC6CAJo C6H6S6D6,SAJoDACA,S6H6C6Jo,SACAJoHA,HADASAJo,HADAJoCA,CADAHASA,D6C6JoH6,S6D6C6Jo,H6JoS6D6\n```\n\n\u3044\u3064\u3082\u3069\u304a\u308a\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u5927\u534a\u3092\u7701\u7565\u3002\n\n\u5165\u529b\u3092 parse \u3057\u305f\u3089\u3001\u624b\u672d\u3092 combination \u3057\u3066 select \u3057\u3066 join \u3057\u305f\u3089\u51fa\u6765\u4e0a\u304c\u308a\u3001\u3068\u3044\u3046\u4f5c\u6226\u3002\n\ncombination \u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\u306e\u304c\u305a\u308b\u3044\u611f\u3058\u3002\nstrength \u306e\u5b9f\u88c5\u306f\u3001nidouchi \u3055\u3093\u306e\u5b9f\u88c5( http://qiita.com/items/70b75b0a4f6d304bf38f )\u3092\u898b\u3066\u771f\u4f3c\u3057\u305f\u3002", "tags": ["\u3069\u3046\u66f8\u304f", "yhpg", "Ruby1.9.3"]}