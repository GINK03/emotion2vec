{"context": " More than 1 year has passed since last update.Django\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u3064\u304f\u3063\u3066MySQL\u3067xoops\u3092\u8aad\u3081\u308b\u3088\u3046\u306b\u3059\u308b:\nxoops\u30a2\u30d7\u30ea\u3092\u3064\u304f\u3063\u3066 INSTALLED_APPS \u306b\u8ffd\u52a0\u3059\u308b\n\n    $ python manage.py startapp xoops\n\n    $ echo \"INSTALLED_APPS += ('xoops',)\" >> app/settings.py\n\ninspectdb \u3059\u308b\n$ python manage.py inspectdb > xoops/models.py\n\nPHP\u306bSuhoshin\u304c\u4f7f\u308f\u308c\u3066\u3044\u305f\u3089encryt\u3092off\u306b\u3059\u308b\n$ grep encrypt /etc/php5/apache2/conf.d/suhosin.ini \n\nsuhosin.session.encrypt = off\nsuhosin.cookie.encrypt = off\n\n$ sudo /etc/init.d/apache2 restart\n\nPHPSESSIONID \u3067\u30af\u30a8\u30ea\u3057\u3066\u307f\u308b\n\n    >>> from xoops.models import XoopsSession\n    >>> s = XoopsSession.objects.get(sess_id='5330d6965894abba386fbd35543e5792')\n    >>> s.sess_data\n    u'xoopsUserId|s:1:\"1\";xoopsUserGroups|a:2:{i:0;s:1:\"1\";i:1;s:1:\"2\";}protector_last_ip|s:13:\"155.174.42.85\";'\n\n\nunserialize_session \u3092\u901a\u3057\u3066dict\u5316\u3059\u308b\n\n    >>> sd = unserialize_session(s.sess_data)\n    >>> for k, v in sd.items():\n    ...    print k, \"=>\", v\n    ... \n    xoopsUserId => 1\n    protector_last_ip => 155.174.42.85\n    xoopsUserGroups => {0: u'1', 1: u'2'}\n\n\n\u30e6\u30fc\u30b6\u30fc\u3092\u63a2\u3059\n\n    >>> from xoops.models import XoopsUsers\n    >>> xu = XoopsUsers.objects.get(uid=sd['xoopsUserId'])\n    >>> xu.uname\n    u'webadmin'\n\n\n\n\nDjango\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u3064\u304f\u3063\u3066MySQL\u3067xoops\u3092\u8aad\u3081\u308b\u3088\u3046\u306b\u3059\u308b:\n\nxoops\u30a2\u30d7\u30ea\u3092\u3064\u304f\u3063\u3066 INSTALLED_APPS \u306b\u8ffd\u52a0\u3059\u308b\n\n```py\n\n    $ python manage.py startapp xoops\n    \n    $ echo \"INSTALLED_APPS += ('xoops',)\" >> app/settings.py\n```\n    \ninspectdb \u3059\u308b\n\n\n    $ python manage.py inspectdb > xoops/models.py\n    \n    \nPHP\u306bSuhoshin\u304c\u4f7f\u308f\u308c\u3066\u3044\u305f\u3089encryt\u3092off\u306b\u3059\u308b\n\n    $ grep encrypt /etc/php5/apache2/conf.d/suhosin.ini \n\n    suhosin.session.encrypt = off\n    suhosin.cookie.encrypt = off\n    \n    $ sudo /etc/init.d/apache2 restart\n\n\nPHPSESSIONID \u3067\u30af\u30a8\u30ea\u3057\u3066\u307f\u308b\n\n```py\n\n    >>> from xoops.models import XoopsSession\n    >>> s = XoopsSession.objects.get(sess_id='5330d6965894abba386fbd35543e5792')\n    >>> s.sess_data\n    u'xoopsUserId|s:1:\"1\";xoopsUserGroups|a:2:{i:0;s:1:\"1\";i:1;s:1:\"2\";}protector_last_ip|s:13:\"155.174.42.85\";'\n\n```\n    \n\n[unserialize_session](https://gist.github.com/scragg0x/3894835) \u3092\u901a\u3057\u3066dict\u5316\u3059\u308b\n\n```py\n\n    >>> sd = unserialize_session(s.sess_data)\n    >>> for k, v in sd.items():\n    ...    print k, \"=>\", v\n    ... \n    xoopsUserId => 1\n    protector_last_ip => 155.174.42.85\n    xoopsUserGroups => {0: u'1', 1: u'2'}\n\n```\n\n\u30e6\u30fc\u30b6\u30fc\u3092\u63a2\u3059\n\n```py\n\n    >>> from xoops.models import XoopsUsers\n    >>> xu = XoopsUsers.objects.get(uid=sd['xoopsUserId'])\n    >>> xu.uname\n    u'webadmin'\n```\n    \n    \n    \n", "tags": ["Django", "XOOPS"]}