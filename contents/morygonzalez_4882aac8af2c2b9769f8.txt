{"context": " More than 1 year has passed since last update.\u666e\u901a\u306b\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u5b9f\u884c\u3057\u3066\u3082\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002\nFailure/Error: post :create, user: { username: @user.username }     AbstractController::ActionNotFound:\n  Could not find devise mapping for path \"/users/confirmation?user[username]=user-2\".\n  Maybe you forgot to wrap your route inside the scope block? For example:\n\n  devise_scope :user do\n    match \"/some/route\" => \"some_devise_controller\"\n  end\n\n\u3053\u308c\u3092\u56de\u907f\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a18\u8ff0\u304c\u5fc5\u8981\u3067\u3059\u3002\n@request.env[\"devise.mapping\"] = Devise.mappings[:user]\n\nconfig/routes.rb \u3067 devise_for :user \u3068\u8a18\u8ff0\u3057\u3066\u3044\u308b\u306a\u3089\u3001\u2191\u306e\u3088\u3046\u306b\u66f8\u3051\u3070\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u53c2\u8003\nruby on rails - testing devise and cancan in controller specs (rspec) - Stack Overflow\n\n\u666e\u901a\u306b\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u5b9f\u884c\u3057\u3066\u3082\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002\n\n```\nFailure/Error: post :create, user: { username: @user.username }     AbstractController::ActionNotFound:\n  Could not find devise mapping for path \"/users/confirmation?user[username]=user-2\".\n  Maybe you forgot to wrap your route inside the scope block? For example:\n       \n  devise_scope :user do\n    match \"/some/route\" => \"some_devise_controller\"\n  end\n```\n\n\u3053\u308c\u3092\u56de\u907f\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a18\u8ff0\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n```ruby\n@request.env[\"devise.mapping\"] = Devise.mappings[:user]\n```\n\nconfig/routes.rb \u3067 `devise_for :user` \u3068\u8a18\u8ff0\u3057\u3066\u3044\u308b\u306a\u3089\u3001\u2191\u306e\u3088\u3046\u306b\u66f8\u3051\u3070\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\n### \u53c2\u8003\n[ruby on rails - testing devise and cancan in controller specs (rspec) - Stack Overflow](http://stackoverflow.com/questions/5973339/testing-devise-and-cancan-in-controller-specs-rspec \"ruby on rails - testing devise and cancan in controller specs (rspec) - Stack Overflow\")", "tags": ["devise", "RSpec", "Rails"]}