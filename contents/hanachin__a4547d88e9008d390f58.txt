{"tags": ["Ruby", "\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7"], "context": "\n\n\u6b4c\u3046\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\n\u6c17\u3065\u304d: \u30ad\u30fb\u30e8\u30fb\u30b7\uff01\u306f\u6b4c\u8a5e\u3067\u306f\u306a\u304b\u3063\u305f\nMac\u306esay\u30b3\u30de\u30f3\u30c9\u3067\u30ba\u30f3\u30c9\u30b3\u8a00\u3044\u307e\u3059\u3002\nclass RandomZundokoLyrics\n  ZUN_DOKO = ['\u30ba\u30f3', '\u30c9\u30b3']\n\n  include Enumerable\n\n  def each\n    loop do\n      yield ZUN_DOKO.sample\n    end\n  end\nend\n\nclass Kiyoshi\n  def sing(lyrics)\n    lyrics.each do |word|\n      system 'say', word\n      yield word\n    end\n  end\nend\n\nclass ZundokoKiyoshiFan\n  CHANT = '\u30ad\u30fb\u30e8\u30fb\u30b7\uff01'\n  CHANT_TIMING_LYRICS = ['\u30ba\u30f3', '\u30ba\u30f3', '\u30ba\u30f3', '\u30ba\u30f3', '\u30c9\u30b3']\n\n  def initialize\n    @words_buffer = []\n  end\n\n  def <<(word)\n    @words_buffer << word\n\n    if @words_buffer.size > CHANT_TIMING_LYRICS.size\n      @words_buffer.shift\n    end\n  end\n\n  def chant_timing?\n    @words_buffer == CHANT_TIMING_LYRICS\n  end\n\n  def chant\n    system 'say', CHANT\n  end\nend\n\ndef \u30ba\u30f3\u30c9\u30b3\u266a\n  kiyoshi = Kiyoshi.new\n  lyrics  = RandomZundokoLyrics.new\n  fan     = ZundokoKiyoshiFan.new\n  kiyoshi.sing(lyrics) do |word|\n    fan << word\n    fan.chant and exit if fan.chant_timing?\n  end\nend\n\n\u30ba\u30f3\u30c9\u30b3\u266a\n\n\n\n\u5b9f\u884c\u4f8b\n(say\u30b3\u30de\u30f3\u30c9\u304b\u3089\u97f3\u58f0\u304c\u805e\u3053\u3048\u3066\u304f\u308b)\n\n\u305d\u306e\u4ed6\u306e\u30ad\u30e8\u30b7\n\n\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7 Quine with Ruby\n\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30aa\u30fc\u30c8\u30de\u30c8\u30f3 with Ruby\n\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30de\u30b7\u30fc\u30f3 with Ruby\n\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc with Ruby\n\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u7269\u8a9e with Ruby\n\n## \u6b4c\u3046\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\n\n\u6c17\u3065\u304d: \u30ad\u30fb\u30e8\u30fb\u30b7\uff01\u306f\u6b4c\u8a5e\u3067\u306f\u306a\u304b\u3063\u305f\n\nMac\u306esay\u30b3\u30de\u30f3\u30c9\u3067\u30ba\u30f3\u30c9\u30b3\u8a00\u3044\u307e\u3059\u3002\n\n```rb\nclass RandomZundokoLyrics\n  ZUN_DOKO = ['\u30ba\u30f3', '\u30c9\u30b3']\n\n  include Enumerable\n\n  def each\n    loop do\n      yield ZUN_DOKO.sample\n    end\n  end\nend\n\nclass Kiyoshi\n  def sing(lyrics)\n    lyrics.each do |word|\n      system 'say', word\n      yield word\n    end\n  end\nend\n\nclass ZundokoKiyoshiFan\n  CHANT = '\u30ad\u30fb\u30e8\u30fb\u30b7\uff01'\n  CHANT_TIMING_LYRICS = ['\u30ba\u30f3', '\u30ba\u30f3', '\u30ba\u30f3', '\u30ba\u30f3', '\u30c9\u30b3']\n\n  def initialize\n    @words_buffer = []\n  end\n\n  def <<(word)\n    @words_buffer << word\n\n    if @words_buffer.size > CHANT_TIMING_LYRICS.size\n      @words_buffer.shift\n    end\n  end\n\n  def chant_timing?\n    @words_buffer == CHANT_TIMING_LYRICS\n  end\n\n  def chant\n    system 'say', CHANT\n  end\nend\n\ndef \u30ba\u30f3\u30c9\u30b3\u266a\n  kiyoshi = Kiyoshi.new\n  lyrics  = RandomZundokoLyrics.new\n  fan     = ZundokoKiyoshiFan.new\n  kiyoshi.sing(lyrics) do |word|\n    fan << word\n    fan.chant and exit if fan.chant_timing?\n  end\nend\n\n\u30ba\u30f3\u30c9\u30b3\u266a\n\n```\n\n## \u5b9f\u884c\u4f8b\n\n(say\u30b3\u30de\u30f3\u30c9\u304b\u3089\u97f3\u58f0\u304c\u805e\u3053\u3048\u3066\u304f\u308b)\n\n## \u305d\u306e\u4ed6\u306e\u30ad\u30e8\u30b7\n\n- [\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7 Quine with Ruby](http://qiita.com/hanachin_/items/856ecb53fe486c6d4a12)\n- [\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30aa\u30fc\u30c8\u30de\u30c8\u30f3 with Ruby](http://qiita.com/hanachin_/items/2242c7bd33af39cc6cab)\n- [\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30de\u30b7\u30fc\u30f3 with Ruby](http://qiita.com/hanachin_/items/b037b2e602c0bdee6a89)\n- [\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc with Ruby](http://qiita.com/hanachin_/items/bad105e11ab707fbaf4c)\n- [\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u7269\u8a9e with Ruby](http://qiita.com/hanachin_/items/055881be542afceca9d9)\n"}