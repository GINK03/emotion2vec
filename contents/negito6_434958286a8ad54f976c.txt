{"context": "redirect \u306b\u6e21\u3059\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u3067\u3001 req.params \u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u305d\u308c\u3092\u4f7f\u3046\nget :foo, to: redirect { |params, req| req.params[:bar].present? ? \"/foo/#{req.params[:bar]}\" : \"/baz\" }\n\n\u3053\u3046\u3059\u308b\u3053\u3068\u3067\n/foo           # /baz \u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n/foo?bar=qux   # /foo/qux \u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\n\u3068\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\u3053\u306e\u8fba\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\nhttps://github.com/rails/rails/blob/cf5f55cd30aef0f90300c7c8f333060fe258cd8a/actionpack/lib/action_dispatch/http/parameters.rb#L30-L44\nparams \u3067\u3082\u53d6\u308c\u305d\u3046\u306a\u6c17\u304c\u3059\u308b\u304c\u3001\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u304c\u30c0\u30e1\u3060\u3063\u305f\nredirect \u306b\u6e21\u3059\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u3067\u3001 req.params \u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u305d\u308c\u3092\u4f7f\u3046\n\n```rb\nget :foo, to: redirect { |params, req| req.params[:bar].present? ? \"/foo/#{req.params[:bar]}\" : \"/baz\" }\n```\n\n\u3053\u3046\u3059\u308b\u3053\u3068\u3067\n\n```\n/foo           # /baz \u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n/foo?bar=qux   # /foo/qux \u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n```\n\u3068\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\n\u3053\u306e\u8fba\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\nhttps://github.com/rails/rails/blob/cf5f55cd30aef0f90300c7c8f333060fe258cd8a/actionpack/lib/action_dispatch/http/parameters.rb#L30-L44\n\nparams \u3067\u3082\u53d6\u308c\u305d\u3046\u306a\u6c17\u304c\u3059\u308b\u304c\u3001\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u304c\u30c0\u30e1\u3060\u3063\u305f\n", "tags": ["Rails", "RubyOnRails", "Rails4", "Rails4.2"]}