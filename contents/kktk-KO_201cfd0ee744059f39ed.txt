{"context": " More than 1 year has passed since last update.https://cmake.org/cmake/help/v2.8.12/cmake.html#command%3aset_source_files_properties\n\nSource file properties are visible only to targets added in the same directory (CMakeLists.txt).\n\n\u306a\u306e\u3067\u3001add_custom_command\u3067\u6307\u5b9a\u3057\u305fOUTPUT\u3092\u4ed6\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306eadd_custom_target\u306eSOURCES\u306b\u6307\u5b9a\u3059\u308b\u4e8b\u306f\u51fa\u6765\u306a\u3044\u3002\n\u4f8b\u3048\u3070\u3001\u6b21\u306e\u69d8\u306a\u69cb\u6210\u306eCMake\u30b7\u30b9\u30c6\u30e0\u304c\u3042\u3063\u305f\u3068\u3059\u308b\u3002\nproject\n+-- CMakeLists.txt\n|\n+-- foo\n| +-- CMakeLists.txt\n|\n+-- bar\n  +-- CMakeLists.txt\n\n\nproject/CMakeLists.txt\nadd_subdirectory (foo)\nadd_subdirectory (bar)\n\n\n\nproject/foo/CMakeLists.txt\nadd_custom_command (OUTPUT a.txt COMMAND ...)\n\n\n\nproject/bar/CMakeLists.txt\nadd_custom_target (BAR_TARGET SOURCES ${PROJECT_BINARY_DIR}/foo/a.txt ...)\n\n\nfoo\u306e\u4e2d\u3067\u306a\u3093\u3089\u304b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u3066\u3001bar\u3067\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3059\u308b\u3068\u3044\u3046\u826f\u304f\u3042\u308b\u69cb\u6210\u3060\u3002\nadd_custom_command\u3092\u7528\u3044\u308b\u4e8b\u3067\u3001a.txt\u3092\u4f55\u5ea6\u3082\u751f\u6210\u3057\u3088\u3046\u3068\u3059\u308b\u306e\u3092\u9632\u3050\u4e8b\u304c\u3067\u304d\u308b\u3002\n\u3068\u3053\u308d\u304c\u3001cmake\u3057\u3066\u307f\u308b\u3068\u3001\nCannot find source file:\n\n    /project/build/foo/a.txt\n\n  Tried extensions .c .C .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp\n  .hxx .in .txx\n\n\u7b49\u3068\u6012\u3089\u308c\u308b\u3002\ncmake\u306fadd_custom_command\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b\u307e\u3060\u5b58\u5728\u3057\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u8a8d\u8b58\u3059\u308b\u304c\u3001\u3053\u308c\u306fadd_custom_command\u3092\u5b9f\u884c\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u3067\u3057\u304b\u6709\u52b9\u3067\u306f\u7121\u3044\u3002\n\u306a\u306e\u3067\u3001bar\u304b\u3089\u306ffoo/a.txt\u304cadd_custom_command\u306b\u3088\u3063\u3066\u5c06\u6765\u7684\u306b\u751f\u6210\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3060\u3068\u306f\u8a8d\u8b58\u3067\u304d\u305a\u3001\u307e\u305f\u3001\"foo/a.txt\"\u304c\u307e\u3060\u5b58\u5728\u3057\u306a\u3044\u306e\u3067\u3001\u30a8\u30e9\u30fc\u3092\u5410\u304f\u3002\n\u5bfe\u51e6\u65b9\u306f\u7c21\u5358\u3067\u3001foo\u306e\u4e2d\u306b\u3001a.txt\u306b\u4f9d\u5b58\u3059\u308b\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u4f5c\u3063\u3066\u3084\u308c\u3070\u826f\u3044\u3002\n\nproject/foo/CMakeLists.txt\nadd_custom_command (OUTPUT a.txt COMMAND ...)\nadd_custom_target (FOO_GENERATE_ATXT SOURCES a.txt)\n\n\n\nproject/bar/CMakeLists.txt\nadd_custom_target (BAR_TARGET DEPENDS FOO_GENERATE_ATXT ...)\n\n\nhttps://cmake.org/cmake/help/v2.8.12/cmake.html#command%3aset_source_files_properties\n\n> Source file properties are visible only to targets added in the same directory (CMakeLists.txt).\n\n\u306a\u306e\u3067\u3001`add_custom_command`\u3067\u6307\u5b9a\u3057\u305f`OUTPUT`\u3092\u4ed6\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e`add_custom_target`\u306e`SOURCES`\u306b\u6307\u5b9a\u3059\u308b\u4e8b\u306f\u51fa\u6765\u306a\u3044\u3002\n\n\u4f8b\u3048\u3070\u3001\u6b21\u306e\u69d8\u306a\u69cb\u6210\u306eCMake\u30b7\u30b9\u30c6\u30e0\u304c\u3042\u3063\u305f\u3068\u3059\u308b\u3002\n\n```\nproject\n+-- CMakeLists.txt\n|\n+-- foo\n| +-- CMakeLists.txt\n|\n+-- bar\n  +-- CMakeLists.txt\n```\n\n```cmake:project/CMakeLists.txt\nadd_subdirectory (foo)\nadd_subdirectory (bar)\n```\n\n```cmake:project/foo/CMakeLists.txt\nadd_custom_command (OUTPUT a.txt COMMAND ...)\n```\n\n```cmake:project/bar/CMakeLists.txt\nadd_custom_target (BAR_TARGET SOURCES ${PROJECT_BINARY_DIR}/foo/a.txt ...)\n```\n\n`foo`\u306e\u4e2d\u3067\u306a\u3093\u3089\u304b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u3066\u3001`bar`\u3067\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3059\u308b\u3068\u3044\u3046\u826f\u304f\u3042\u308b\u69cb\u6210\u3060\u3002\n`add_custom_command`\u3092\u7528\u3044\u308b\u4e8b\u3067\u3001`a.txt`\u3092\u4f55\u5ea6\u3082\u751f\u6210\u3057\u3088\u3046\u3068\u3059\u308b\u306e\u3092\u9632\u3050\u4e8b\u304c\u3067\u304d\u308b\u3002\n\u3068\u3053\u308d\u304c\u3001`cmake`\u3057\u3066\u307f\u308b\u3068\u3001\n\n```text\nCannot find source file:\n\n    /project/build/foo/a.txt\n\n  Tried extensions .c .C .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp\n  .hxx .in .txx\n```\n\n\u7b49\u3068\u6012\u3089\u308c\u308b\u3002\n\n`cmake`\u306f`add_custom_command`\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b\u307e\u3060\u5b58\u5728\u3057\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u8a8d\u8b58\u3059\u308b\u304c\u3001\u3053\u308c\u306f`add_custom_command`\u3092\u5b9f\u884c\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u3067\u3057\u304b\u6709\u52b9\u3067\u306f\u7121\u3044\u3002\n\u306a\u306e\u3067\u3001`bar`\u304b\u3089\u306f`foo/a.txt`\u304c`add_custom_command`\u306b\u3088\u3063\u3066\u5c06\u6765\u7684\u306b\u751f\u6210\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3060\u3068\u306f\u8a8d\u8b58\u3067\u304d\u305a\u3001\u307e\u305f\u3001\"foo/a.txt\"\u304c\u307e\u3060\u5b58\u5728\u3057\u306a\u3044\u306e\u3067\u3001\u30a8\u30e9\u30fc\u3092\u5410\u304f\u3002\n\n\u5bfe\u51e6\u65b9\u306f\u7c21\u5358\u3067\u3001`foo`\u306e\u4e2d\u306b\u3001`a.txt`\u306b\u4f9d\u5b58\u3059\u308b\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u4f5c\u3063\u3066\u3084\u308c\u3070\u826f\u3044\u3002\n\n```cmake:project/foo/CMakeLists.txt\nadd_custom_command (OUTPUT a.txt COMMAND ...)\nadd_custom_target (FOO_GENERATE_ATXT SOURCES a.txt)\n```\n\n```cmake:project/bar/CMakeLists.txt\nadd_custom_target (BAR_TARGET DEPENDS FOO_GENERATE_ATXT ...)\n```\n\n", "tags": ["CMake"]}