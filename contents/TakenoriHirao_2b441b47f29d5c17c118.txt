{"context": "wercker\u3092\u4f7f\u3044\u59cb\u3081\u305f\u306e\u3067\u3001minitest\u59cb\u3081\u3066\u307f\u305f\u3002\nrspec\u306f\u500b\u4eba\u7684\u306b\u30e1\u30ea\u30c3\u30c8\u304c\u611f\u3058\u3089\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u975e\u9078\u629e\u3002\n\nfixture\u3092csv\u3067\u3084\u308b\n\nfixture\u306fcsv\u3067\u826f\u3044\u3088\uff01\u3063\u3066\u8a18\u4e8b\u3092\u3088\u304f\u898b\u304b\u3051\u305f\u3093\u3060\u3051\u3069\u3001Rails4.2\u3067\u306fyml\u3060\u3051\u3063\u307d\u3044\n\ndb\u306e\u30c7\u30fc\u30bf\u304b\u3089fixtures yaml\u3092\u751f\u6210\u3059\u308b\nrails4\u7cfb\u306e\u826f\u3044\u65b9\u6cd5\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u81ea\u4f5c\n\n[Category,Employer,User,Subject].each{|model|\n  hash = {}\n  model.all.each_with_index{|_,i|hash[i] = _.attributes}\n  File.write(\"tmp/fixtures/#{model.name.underscore}.yml\", hash.to_yaml)\n}\n\n\n\u65e5\u672c\u8a9e\u3092\u542b\u3093\u3060fixtures\u3092\u53d6\u308a\u8fbc\u3080\u3068\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n\n\nActiveRecord::StatementInvalid: Mysql2::Error: Incorrect string value: '\\xE5\\x9B\\xBD\\xE8\\xAA\\x9E'\n\nservices:mysql\u3082rails-database-yml\u3082\u3069\u3061\u3089\u3082utf-8\u3067\u4f5c\u6210\u3055\u308c\u308b\u3002\n\u539f\u56e0\u306f\u30c6\u30fc\u30d6\u30eb\u304cutf-8\u306b\u306a\u3063\u3066\u3044\u306a\u304b\u3063\u305f\u3053\u3068\u3067\u3001schema.rb\u3092\u5909\u66f4\u3057\u3066\n\nruby|schema.rb\ncreate_table \"users\", force: :cascade , :options => 'ENGINE=InnoDB DEFAULT CHARSET=utf8' do |t|\n\n\n\u3068\u3001options\u306b\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u30bb\u30c3\u30c8\u3057\u305f\u3089\u76f4\u308a\u307e\u3057\u305f\u3002\n\u3067\u3082\u3001\u6bce\u56de\u624b\u52d5\u3067\u3084\u3063\u3066\u3089\u308c\u3093\u3001\u3069\u3046\u3057\u3088\u3046\uff1f\n\u3068\u308a\u3042\u3048\u305a\u3001\u7f6e\u63db\u7528\u306e\u69cb\u6587\n\n(create_table.*)(do |t|)\n1,:options=>\u2032ENGINE=InnoDBDEFAULTCHARSET=utf8\u20321, :options => 'ENGINE=InnoDB DEFAULT CHARSET=utf8' 2\n\n\nwercker\u3092\u4f7f\u3044\u59cb\u3081\u305f\u306e\u3067\u3001minitest\u59cb\u3081\u3066\u307f\u305f\u3002\nrspec\u306f\u500b\u4eba\u7684\u306b\u30e1\u30ea\u30c3\u30c8\u304c\u611f\u3058\u3089\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u975e\u9078\u629e\u3002\n\n+ fixture\u3092csv\u3067\u3084\u308b\n\nfixture\u306fcsv\u3067\u826f\u3044\u3088\uff01\u3063\u3066\u8a18\u4e8b\u3092\u3088\u304f\u898b\u304b\u3051\u305f\u3093\u3060\u3051\u3069\u3001Rails4.2\u3067\u306fyml\u3060\u3051\u3063\u307d\u3044\n\n\n\n+ db\u306e\u30c7\u30fc\u30bf\u304b\u3089fixtures yaml\u3092\u751f\u6210\u3059\u308b\nrails4\u7cfb\u306e\u826f\u3044\u65b9\u6cd5\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u81ea\u4f5c\n\n```ruby\n[Category,Employer,User,Subject].each{|model|\n  hash = {}\n  model.all.each_with_index{|_,i|hash[i] = _.attributes}\n  File.write(\"tmp/fixtures/#{model.name.underscore}.yml\", hash.to_yaml)\n}\n```\n\n+ \u65e5\u672c\u8a9e\u3092\u542b\u3093\u3060fixtures\u3092\u53d6\u308a\u8fbc\u3080\u3068\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\n\n> ActiveRecord::StatementInvalid: Mysql2::Error: Incorrect string value: '\\xE5\\x9B\\xBD\\xE8\\xAA\\x9E'\n\nservices:mysql\u3082rails-database-yml\u3082\u3069\u3061\u3089\u3082utf-8\u3067\u4f5c\u6210\u3055\u308c\u308b\u3002\n\u539f\u56e0\u306f\u30c6\u30fc\u30d6\u30eb\u304cutf-8\u306b\u306a\u3063\u3066\u3044\u306a\u304b\u3063\u305f\u3053\u3068\u3067\u3001schema.rb\u3092\u5909\u66f4\u3057\u3066\n\n```ruby|schema.rb\ncreate_table \"users\", force: :cascade , :options => 'ENGINE=InnoDB DEFAULT CHARSET=utf8' do |t|\n```\n\u3068\u3001options\u306b\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u30bb\u30c3\u30c8\u3057\u305f\u3089\u76f4\u308a\u307e\u3057\u305f\u3002\n\u3067\u3082\u3001\u6bce\u56de\u624b\u52d5\u3067\u3084\u3063\u3066\u3089\u308c\u3093\u3001\u3069\u3046\u3057\u3088\u3046\uff1f\n\u3068\u308a\u3042\u3048\u305a\u3001\u7f6e\u63db\u7528\u306e\u69cb\u6587\n> (create_table.*)(do \\|t\\|)\n> $1, :options => 'ENGINE=InnoDB DEFAULT CHARSET=utf8' $2\n", "tags": ["minitest", "wercker", "MySQL", "Rails"]}