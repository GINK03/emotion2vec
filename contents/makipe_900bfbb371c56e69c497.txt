{"context": "\n\nSVG\u3067\u6570\u3092\u30e2\u30ea\u30e2\u30ea\u6570\u3048\u308b\n\u73cd\u3057\u304f\u30c7\u30fc\u30bf\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u7cfb\u306e\u4ed5\u4e8b\u304c\u3042\u308a\u307e\u3057\u3066\u3001\u521d\u3081\u3066SVG\u3092\u89e6\u308a\u307e\u3057\u305f\u3002\n\u305d\u306e\u4e2d\u306bSVG\u3067\u6570\u5b57\u3092\u6570\u3048\u308b\u90e8\u5206\u304c\u3042\u308a\u3001\u305d\u306e\u90e8\u5206\u3092\u5206\u96e2\u3057\u3066\u7686\u3055\u3093\u306e\u74b0\u5883\u3067\u30b9\u30b0\u306b\u8a66\u305b\u308b\u3088\u3046\u306bES5\u306eJavaScript\u3067\u66f8\u304d\u76f4\u3057\u305f\u306e\u3067\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u30c7\u30e2\nhttp://codepen.io/makipe/pen/NRpXdR\n\n\u30bd\u30fc\u30b9\u5168\u4f53\n\nindex.html\n\nindex.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Document</title>\n    <style>\n    html {\n        background-color: #000;\n    }\n    </style>\n    <script type=\"text/javascript\" src=\"./app.js\"></script>\n</head>\n<body>\n    <main id=\"app\"></main>\n</body>\n</html>\n\n\n\napp.js\n\napp.js\n(function() {\n    'use strict';\n\n    var number = {};\n    number.settings = {\n        color: {\n            on: '#32FFFF',\n            off: '#000000'\n        },\n        min: 0,\n        max: 9\n    };\n\n    number.patterns = [\n        [1,1,1,1,0,1,1], // 0\n        [1,1,0,0,0,0,0], // 1\n        [0,1,1,0,1,1,1], // 2\n        [1,1,1,0,1,1,0], // 3\n        [1,1,0,1,1,0,0], // 4\n        [1,0,1,1,1,1,0], // 5\n        [1,0,1,1,1,1,1], // 6\n        [1,1,1,0,0,0,0], // 7\n        [1,1,1,1,1,1,1], // 8\n        [1,1,1,1,1,1,0], // 9\n    ];\n\n    number.base_path_list = [\n        'M60.189,64.438c1.841,1.157,3.129,3.11,3.388,5.383l-3.153,36.068c-0.339,3.813-2.863,7.133-6.234,8.727l-5.121-11.359 c0.142-0.25,0.234-0.524,0.263-0.813l2.871-32.833L60.189,64.438z',\n        'M57.396,8.304h1.621c5.371,0,9.383,4.375,8.918,9.719l-3.312,37.822c-0.586,2.382-2.336,4.304-4.61,5.132l-6.695-6.117 L57.396,8.304z',\n        'M54.459,19.804c-0.187-0.062-0.391-0.102-0.598-0.102H26.662c-0.703,0-1.351,0.399-1.707,0.977l-10.262-6.398 c1.793-3.477,5.485-5.922,9.5-5.922h31.266L54.459,19.804z',\n        'M13.928,61.102c-2.27-1.18-3.82-3.469-3.953-6.133l3.187-36.439c0.09-0.922,0.297-1.82,0.61-2.664l10.454,6.508 l-2.97,33.923h0.156L13.928,61.102z',\n        'M58.893,62.86 51.405,67.711 22.143,67.711 15.819,62.29 24.483,56.727 52.182,56.727',\n        'M52.201,115.499c-1.03,0.344-2.125,0.531-3.241,0.531H14.838c-3.891,0-7.071-2.297-8.348-5.602l11.34-6.579 c0.281,0.5,0.824,0.837,1.465,0.837h27.198c0.263,0,0.523-0.056,0.759-0.164L52.201,115.499z',\n        'M5.838,108.475c-0.209-0.922-0.287-1.899-0.199-2.907l3.082-35.239c0.047-3.288,2.211-6.07,5.199-6.992l6.332,5.431 l-2.891,33.012L5.838,108.475z'\n    ];\n\n    number.svg_list = [];\n    number.path_list = [];\n\n    number.create = function(number_digits) {\n        var digits = number_digits === undefined ? 1 : number_digits;\n\n        for (var i = 0; i < digits; i++) {\n            var ns = 'http://www.w3.org/2000/svg';\n            var svg = document.createElementNS(ns, 'svg');\n            svg.setAttribute('viewBox', '0 0 76 126');\n            svg.setAttribute('enable-background', '0 0 76 126');\n            svg.setAttribute('x', 0);\n            svg.setAttribute('y', 0);\n            svg.setAttribute('width', 76);\n            svg.setAttribute('height', 126);\n\n            for (var j in number.base_path_list) {\n                var path = document.createElementNS(ns, 'path');\n                path.setAttribute('d', number.base_path_list[j]);\n                svg.appendChild(path);\n            }\n\n            var app = document.getElementById('app');\n            app.appendChild(svg);\n            number.svg_list.push(svg);\n        }\n    };\n\n    number.init = function() {\n        var svg_list = number.svg_list;\n        var svg_length = svg_list.length;\n        for (var i = 0; i < svg_length; i++) {\n            number.path_list[i] = svg_list[i].querySelectorAll('path');\n            var path_length = number.path_list[i].length;\n            for (var j = 0; j < path_length; j++) {\n                number.path_list[i][j].setAttribute('fill', number.settings.color.off);\n            }\n        }\n    };\n\n    number.getDigits = function(num) {\n        var digits = (num + '').split('');\n        var digit_diff = 0;\n        if (number.svg_list.length > digits.length) {\n            digit_diff = number.svg_list.length - digits.length;\n            var zero_padding = Array(digit_diff + 1).join('0');\n            digits = (zero_padding + num).split('');\n        }\n        return digits;\n    };\n\n    number.update = function(digits) {\n        digits.map(function(digit, i) {\n            if (number.path_list.length > digits.length) {\n                i += 1;\n            }\n            var path_list = number.path_list[i];\n            var length = path_list.length;\n            for (var i = 0; i < length; i++) {\n                if (number.patterns[digit][i] === 1) {\n                    path_list[i].setAttribute('fill', number.settings.color.on);\n                } else {\n                    path_list[i].setAttribute('fill', number.settings.color.off);\n                }\n            }\n        });\n    };\n\n    document.addEventListener('DOMContentLoaded', function() {\n        number.create(8);\n        number.init();\n\n        var number_digits = number.svg_list.length;\n        number.settings.max = Array(number_digits + 1).join(number.settings.max + '');\n\n        var count = number.settings.min;\n        var timer = setInterval(function() {\n            if (count > number.settings.max) {\n                count = number.settings.min;\n            }\n            var digits = number.getDigits(count);\n            number.update(digits);\n            count++;\n        }, 1000 / (number_digits * 10));\n    });\n})();\n\n\n\n\napp.js \u5404\u90e8\u306e\u8aac\u660e\n\n\u8a2d\u5b9a\u5024\n\u6570\u5b57\u306e\u5404\u30d1\u30fc\u30c4\u306e\u6709\u52b9\uff0f\u7121\u52b9\u306e\u8272\u3068\u3001\u8868\u793a\u3059\u308b\u6570\u5b57\u306e\u6700\u5927\uff0f\u6700\u5c0f\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\nnumber.settings = {\n    color: {\n        on: '#32FFFF',\n        off: '#000000'\n    },\n    min: 0,\n    max: 9\n};\n\n\n\u6570\u5b57\u306e\u8868\u793a\u30d1\u30bf\u30fc\u30f3\n\u3053\u306e\u5148\u306e\u51e6\u7406\u3067\u5404path\u8981\u7d20\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u914d\u5217\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306epath\u8981\u7d20\u306e\u914d\u5217\u306b\u5bfe\u3057\u3066\u3001\u5404\u6570\u5b57\u3092\u8868\u793a\u3059\u308b\u6642\u306b\u6709\u52b9\u306b\u3057\u305f\u3044path\u8981\u7d20\u306e\u4f4d\u7f6e\u306b\u30d5\u30e9\u30b0\u3092\u7acb\u3066\u3066\u3044\u307e\u3059\u3002\nnumber.patterns = [\n    [1,1,1,1,0,1,1], // 0\n    [1,1,0,0,0,0,0], // 1\n    [0,1,1,0,1,1,1], // 2\n    [1,1,1,0,1,1,0], // 3\n    [1,1,0,1,1,0,0], // 4\n    [1,0,1,1,1,1,0], // 5\n    [1,0,1,1,1,1,1], // 6\n    [1,1,1,0,0,0,0], // 7\n    [1,1,1,1,1,1,1], // 8\n    [1,1,1,1,1,1,0], // 9\n];\n\n\n\u6570\u5b57\u306e\u30d1\u30b9\nIllustrator\u3067SVG\u3068\u3057\u3066\u66f8\u304d\u51fa\u3057\u3066\u30d1\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u30d1\u30b9\u306e\u5024\u3092\u30eb\u30fc\u30d7\u3067\u56de\u3057\u3066\u51e6\u7406\u3057\u305f\u3044\u306e\u3067\u307e\u3068\u3081\u3066\u914d\u5217\u306b\u5165\u308c\u3066\u304a\u304d\u307e\u3057\u305f\u3002\nnumber.base_path_list = [\n    'M60.189,64.438c1.841,1.157,3.129,3.11,3.388,5.383l-3.153,36.068c-0.339,3.813-2.863,7.133-6.234,8.727l-5.121-11.359 c0.142-0.25,0.234-0.524,0.263-0.813l2.871-32.833L60.189,64.438z',\n    'M57.396,8.304h1.621c5.371,0,9.383,4.375,8.918,9.719l-3.312,37.822c-0.586,2.382-2.336,4.304-4.61,5.132l-6.695-6.117 L57.396,8.304z',\n    'M54.459,19.804c-0.187-0.062-0.391-0.102-0.598-0.102H26.662c-0.703,0-1.351,0.399-1.707,0.977l-10.262-6.398 c1.793-3.477,5.485-5.922,9.5-5.922h31.266L54.459,19.804z',\n    'M13.928,61.102c-2.27-1.18-3.82-3.469-3.953-6.133l3.187-36.439c0.09-0.922,0.297-1.82,0.61-2.664l10.454,6.508 l-2.97,33.923h0.156L13.928,61.102z',\n    'M58.893,62.86 51.405,67.711 22.143,67.711 15.819,62.29 24.483,56.727 52.182,56.727',\n    'M52.201,115.499c-1.03,0.344-2.125,0.531-3.241,0.531H14.838c-3.891,0-7.071-2.297-8.348-5.602l11.34-6.579 c0.281,0.5,0.824,0.837,1.465,0.837h27.198c0.263,0,0.523-0.056,0.759-0.164L52.201,115.499z',\n    'M5.838,108.475c-0.209-0.922-0.287-1.899-0.199-2.907l3.082-35.239c0.047-3.288,2.211-6.07,5.199-6.992l6.332,5.431 l-2.891,33.012L5.838,108.475z'\n];\n\n\nSVG\u3067\u3067\u304d\u305f\u6570\u5b57\u3092\u753b\u9762\u306b\u8ffd\u52a0\u3059\u308b\ndocument.createElementNS()\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u7b2c\u4e00\u5f15\u6570\u306fSVG\u306e\u540d\u524d\u7a7a\u9593\u306eURL\u3001\u7b2c\u4e8c\u5f15\u6570\u306f\u4f5c\u6210\u3057\u305f\u3044\u8981\u7d20\u540d\u3092\u5165\u308c\u307e\u3059\u3002\n\uff08document.createElement()\u3092\u4f7f\u7528\u3059\u308b\u3068\u8981\u7d20\u306f\u3042\u308b\u3051\u3069\u8868\u793a\u3055\u308c\u306a\u3044\u72b6\u614b\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\uff09\n\u305d\u3057\u3066\u3001\u5148\u307b\u3069\u7528\u610f\u3057\u305f\u30d1\u30b9\u306e\u914d\u5217\u3092\u304f\u308b\u304f\u308b\u56de\u3057\u3066path\u8981\u7d20\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u3053\u306e\u6642\u3001d\u5c5e\u6027\u306b\u30d1\u30b9\u306e\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nsvg\u8981\u7d20\u306bpath\u8981\u7d20\u3092\u8ffd\u52a0\u3067\u304d\u305f\u3089\u3001HTML\u4e0a\u306e\u4efb\u610f\u306e\u8981\u7d20\u306bsvg\u8981\u7d20\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nnumber.create = function(number_digits) {\n    var digits = number_digits === undefined ? 1 : number_digits;\n\n    for (var i = 0; i < digits; i++) {\n        var ns = 'http://www.w3.org/2000/svg';\n        var svg = document.createElementNS(ns, 'svg');\n        svg.setAttribute('viewBox', '0 0 76 126');\n        svg.setAttribute('enable-background', '0 0 76 126');\n        svg.setAttribute('x', 0);\n        svg.setAttribute('y', 0);\n        svg.setAttribute('width', 76);\n        svg.setAttribute('height', 126);\n\n        for (var j in number.base_path_list) {\n            var path = document.createElementNS(ns, 'path');\n            path.setAttribute('d', number.base_path_list[j]);\n            svg.appendChild(path);\n        }\n\n        var app = document.getElementById('app');\n        app.appendChild(svg);\n        number.svg_list.push(svg);\n    }\n};\n\n\npath\u8981\u7d20\u3092\u521d\u671f\u5316\u3059\u308b\nsvg\u8981\u7d20\u306e\u6570\u3060\u3051\u3001path\u8981\u7d20\u3092\u30bb\u30ec\u30af\u30c8\u3057\u3066\u8a2d\u5b9a\u5024\u306e\u7121\u52b9\u6642\u306e\u8272\u3092\u9069\u5fdc\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nnumber.init = function() {\n    var svg_list = number.svg_list;\n    var svg_length = svg_list.length;\n    for (var i = 0; i < svg_length; i++) {\n        number.path_list[i] = svg_list[i].querySelectorAll('path');\n        var path_length = number.path_list[i].length;\n        for (var j = 0; j < path_length; j++) {\n            number.path_list[i][j].setAttribute('fill', number.settings.color.off);\n        }\n    }\n};\n\n\n\u30ab\u30a6\u30f3\u30c8\u3059\u308b\u6570\u5b57\u3092\uff11\u6841\u3054\u3068\u306b\u914d\u5217\u306b\u5165\u308c\u308b\n\u5404\u6841\u306e\u6570\u5b57\u3054\u3068\u306b\u914d\u5217\u306e\u5024\u306b\u5909\u63db\u3057\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001svg\u8981\u7d20\u306e\u6570\u3068\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u6570\u5b57\u306e\u6841\u6570\u304c\u5408\u3046\u3088\u3046\u306b\u8abf\u6574\u3057\u3066\u3044\u307e\u3059\u3002\nnumber.getDigits = function(num) {\n    var digits = (num + '').split('');\n    var digit_diff = 0;\n    if (number.svg_list.length > digits.length) {\n        digit_diff = number.svg_list.length - digits.length;\n        var zero_padding = Array(digit_diff + 1).join('0');\n        digits = (zero_padding + num).split('');\n    }\n    return digits;\n};\n\n\u4f8b1\uff09 svg\u8981\u7d20\u304c3\u500b\u3067\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u6570\u5b57\u304c\u300c123\u300d\u306e\u5834\u5408 [1,2,3]\u3068\u3044\u3046\u914d\u5217\u306b\u306a\u308b\n\u4f8b2\uff09 svg\u8981\u7d20\u304c2\u500b\u3067\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u6570\u5b57\u304c\u300c4\u300d\u306e\u5834\u5408 [0,4]\u3068\u3044\u3046\u914d\u5217\u306b\u306a\u308b\n\n\u6841\u6bce\u306e\u6570\u5b57\u304c\u5165\u3063\u305f\u914d\u5217\u3092\u53d7\u3051\u53d6\u308a\u63cf\u753b\u3092\u66f4\u65b0\u3059\u308b\n\u6841\u6bce\u306e\u6570\u5b57\u304c\u5165\u3063\u305f\u914d\u5217\u3068\u6570\u5b57\u306e\u8868\u793a\u30d1\u30bf\u30fc\u30f3\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u3066\u3001\n\u5404path\u8981\u7d20\u306b\u8272\u3092\u4ed8\u3051\u308b\u304b\u5224\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nnumber.update = function(digits) {\n    digits.map(function(digit, i) {\n        if (number.path_list.length > digits.length) {\n            i += 1;\n        }\n        var path_list = number.path_list[i];\n        var length = path_list.length;\n        for (var i = 0; i < length; i++) {\n            if (number.patterns[digit][i] === 1) {\n                path_list[i].setAttribute('fill', number.settings.color.on);\n            } else {\n                path_list[i].setAttribute('fill', number.settings.color.off);\n            }\n        }\n    });\n};\n\n\n\u547c\u3073\u51fa\u3057\nDOM\u306e\u89e3\u6790\u304c\u7d42\u308f\u3063\u305f\u3089\u597d\u307f\u306b\u5408\u308f\u305b\u305d\u308c\u305e\u308c\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nsvg\u8981\u7d20\u306e\u751f\u6210\u90e8\u5206\u306f\u4efb\u610f\u306e\u6841\u6570\u5206\u751f\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u305d\u306e\uff53\uff56\uff47\u8981\u7d20\u306e\u6841\u6570\u3092\u6700\u5927\u5024\u306b\u81ea\u52d5\u7684\u306b\u8a2d\u5b9a\u3057\u76f4\u3057\u3066\u3044\u307e\u3059\u3002\ndocument.addEventListener('DOMContentLoaded', function() {\n    number.create(8);\n    number.init();\n\n    var number_digits = number.svg_list.length;\n    number.settings.max = Array(number_digits + 1).join(number.settings.max + '');\n\n    var count = number.settings.min;\n    var timer = setInterval(function() {\n        if (count > number.settings.max) {\n            count = number.settings.min;\n        }\n        var digits = number.getDigits(count);\n        number.update(digits);\n        count++;\n    }, 1000 / (number_digits * 10));\n});\n\n\n\u307e\u3068\u3081\nsvg\u8981\u7d20\u306e\u4f5c\u6210\u304b\u3089\u3001\u305d\u306e\u5185\u90e8\u8981\u7d20\u306e\u4f5c\u6210\u3068\u5c5e\u6027\u306e\u52d5\u7684\u5909\u66f4\u306e\u3084\u308a\u65b9\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\u3053\u308c\u304c\u5206\u304b\u308c\u3070\u5f8c\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u306a\u304c\u3089\u69d8\u3005\u306a\u30c7\u30fc\u30bf\u8868\u793a\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4eca\u56de\u3001\u6570\u5b57\u306e\u30ab\u30a6\u30f3\u30bf\u30fc\u4ee5\u5916\u306b\u6298\u308c\u7dda\u30b0\u30e9\u30d5\u3084\u68d2\u30b0\u30e9\u30d5\u3001\u30e1\u30fc\u30bf\u30fc\u306a\u3069\u30c7\u30fc\u30bf\u306e\u5909\u5316\u306b\u5fdc\u3058\u3066\u52d5\u7684\u306b\u63cf\u753b\u3092\u5909\u5316\u3055\u305b\u308b\u3082\u306e\u3092\u4ed6\u306b\u3082\u4f5c\u6210\u3057\u305f\u306e\u3067\u3001\u6a5f\u4f1a\u304c\u3042\u308c\u3070\u3054\u7d39\u4ecb\u3067\u304d\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u53c2\u8003\n\nJavaScript\u3067HTML\u306eSVG\u8981\u7d20\uff08\u30bf\u30b0\uff09\u3092\u751f\u6210\u3059\u308b\u6642\u306fElementNS \u2013 JavaScript Archives\uff08\u30b8\u30e3\u30d0\u30b9\u30af\u30ea\u30d7\u30c8 \u30a2\u30fc\u30ab\u30a4\u30d6\u30b9\uff09\nDocument.createElementNS() - Web API \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9 | MDN\nsvg\u8981\u7d20\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u307e\u3068\u3081\nSVG \u5c5e\u6027\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 - SVG | MDN\nSVG 1.1 \u4ed5\u69d8 \uff08\u7b2c\uff12\u7248\uff09 \u65e5\u672c\u8a9e\u8a33\n\n# SVG\u3067\u6570\u3092\u30e2\u30ea\u30e2\u30ea\u6570\u3048\u308b\n\n\u73cd\u3057\u304f\u30c7\u30fc\u30bf\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u7cfb\u306e\u4ed5\u4e8b\u304c\u3042\u308a\u307e\u3057\u3066\u3001\u521d\u3081\u3066SVG\u3092\u89e6\u308a\u307e\u3057\u305f\u3002\n\u305d\u306e\u4e2d\u306bSVG\u3067\u6570\u5b57\u3092\u6570\u3048\u308b\u90e8\u5206\u304c\u3042\u308a\u3001\u305d\u306e\u90e8\u5206\u3092\u5206\u96e2\u3057\u3066\u7686\u3055\u3093\u306e\u74b0\u5883\u3067\u30b9\u30b0\u306b\u8a66\u305b\u308b\u3088\u3046\u306bES5\u306eJavaScript\u3067\u66f8\u304d\u76f4\u3057\u305f\u306e\u3067\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n## \u30c7\u30e2\nhttp://codepen.io/makipe/pen/NRpXdR\n\n## \u30bd\u30fc\u30b9\u5168\u4f53\n### index.html\n```html:index.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Document</title>\n    <style>\n    html {\n        background-color: #000;\n    }\n    </style>\n    <script type=\"text/javascript\" src=\"./app.js\"></script>\n</head>\n<body>\n    <main id=\"app\"></main>\n</body>\n</html>\n```\n\n### app.js\n```js:app.js\n(function() {\n    'use strict';\n\n    var number = {};\n    number.settings = {\n        color: {\n            on: '#32FFFF',\n            off: '#000000'\n        },\n        min: 0,\n        max: 9\n    };\n\n    number.patterns = [\n        [1,1,1,1,0,1,1], // 0\n        [1,1,0,0,0,0,0], // 1\n        [0,1,1,0,1,1,1], // 2\n        [1,1,1,0,1,1,0], // 3\n        [1,1,0,1,1,0,0], // 4\n        [1,0,1,1,1,1,0], // 5\n        [1,0,1,1,1,1,1], // 6\n        [1,1,1,0,0,0,0], // 7\n        [1,1,1,1,1,1,1], // 8\n        [1,1,1,1,1,1,0], // 9\n    ];\n\n    number.base_path_list = [\n        'M60.189,64.438c1.841,1.157,3.129,3.11,3.388,5.383l-3.153,36.068c-0.339,3.813-2.863,7.133-6.234,8.727l-5.121-11.359 c0.142-0.25,0.234-0.524,0.263-0.813l2.871-32.833L60.189,64.438z',\n        'M57.396,8.304h1.621c5.371,0,9.383,4.375,8.918,9.719l-3.312,37.822c-0.586,2.382-2.336,4.304-4.61,5.132l-6.695-6.117 L57.396,8.304z',\n        'M54.459,19.804c-0.187-0.062-0.391-0.102-0.598-0.102H26.662c-0.703,0-1.351,0.399-1.707,0.977l-10.262-6.398 c1.793-3.477,5.485-5.922,9.5-5.922h31.266L54.459,19.804z',\n        'M13.928,61.102c-2.27-1.18-3.82-3.469-3.953-6.133l3.187-36.439c0.09-0.922,0.297-1.82,0.61-2.664l10.454,6.508 l-2.97,33.923h0.156L13.928,61.102z',\n        'M58.893,62.86 51.405,67.711 22.143,67.711 15.819,62.29 24.483,56.727 52.182,56.727',\n        'M52.201,115.499c-1.03,0.344-2.125,0.531-3.241,0.531H14.838c-3.891,0-7.071-2.297-8.348-5.602l11.34-6.579 c0.281,0.5,0.824,0.837,1.465,0.837h27.198c0.263,0,0.523-0.056,0.759-0.164L52.201,115.499z',\n        'M5.838,108.475c-0.209-0.922-0.287-1.899-0.199-2.907l3.082-35.239c0.047-3.288,2.211-6.07,5.199-6.992l6.332,5.431 l-2.891,33.012L5.838,108.475z'\n    ];\n\n    number.svg_list = [];\n    number.path_list = [];\n\n    number.create = function(number_digits) {\n        var digits = number_digits === undefined ? 1 : number_digits;\n\n        for (var i = 0; i < digits; i++) {\n            var ns = 'http://www.w3.org/2000/svg';\n            var svg = document.createElementNS(ns, 'svg');\n            svg.setAttribute('viewBox', '0 0 76 126');\n            svg.setAttribute('enable-background', '0 0 76 126');\n            svg.setAttribute('x', 0);\n            svg.setAttribute('y', 0);\n            svg.setAttribute('width', 76);\n            svg.setAttribute('height', 126);\n\n            for (var j in number.base_path_list) {\n                var path = document.createElementNS(ns, 'path');\n                path.setAttribute('d', number.base_path_list[j]);\n                svg.appendChild(path);\n            }\n\n            var app = document.getElementById('app');\n            app.appendChild(svg);\n            number.svg_list.push(svg);\n        }\n    };\n\n    number.init = function() {\n        var svg_list = number.svg_list;\n        var svg_length = svg_list.length;\n        for (var i = 0; i < svg_length; i++) {\n            number.path_list[i] = svg_list[i].querySelectorAll('path');\n            var path_length = number.path_list[i].length;\n            for (var j = 0; j < path_length; j++) {\n                number.path_list[i][j].setAttribute('fill', number.settings.color.off);\n            }\n        }\n    };\n\n    number.getDigits = function(num) {\n        var digits = (num + '').split('');\n        var digit_diff = 0;\n        if (number.svg_list.length > digits.length) {\n            digit_diff = number.svg_list.length - digits.length;\n            var zero_padding = Array(digit_diff + 1).join('0');\n            digits = (zero_padding + num).split('');\n        }\n        return digits;\n    };\n\n    number.update = function(digits) {\n        digits.map(function(digit, i) {\n            if (number.path_list.length > digits.length) {\n                i += 1;\n            }\n            var path_list = number.path_list[i];\n            var length = path_list.length;\n            for (var i = 0; i < length; i++) {\n                if (number.patterns[digit][i] === 1) {\n                    path_list[i].setAttribute('fill', number.settings.color.on);\n                } else {\n                    path_list[i].setAttribute('fill', number.settings.color.off);\n                }\n            }\n        });\n    };\n\n    document.addEventListener('DOMContentLoaded', function() {\n        number.create(8);\n        number.init();\n\n        var number_digits = number.svg_list.length;\n        number.settings.max = Array(number_digits + 1).join(number.settings.max + '');\n\n        var count = number.settings.min;\n        var timer = setInterval(function() {\n            if (count > number.settings.max) {\n                count = number.settings.min;\n            }\n            var digits = number.getDigits(count);\n            number.update(digits);\n            count++;\n        }, 1000 / (number_digits * 10));\n    });\n})();\n\n```\n## app.js \u5404\u90e8\u306e\u8aac\u660e\n\n### \u8a2d\u5b9a\u5024\n\u6570\u5b57\u306e\u5404\u30d1\u30fc\u30c4\u306e\u6709\u52b9\uff0f\u7121\u52b9\u306e\u8272\u3068\u3001\u8868\u793a\u3059\u308b\u6570\u5b57\u306e\u6700\u5927\uff0f\u6700\u5c0f\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```js\nnumber.settings = {\n    color: {\n        on: '#32FFFF',\n        off: '#000000'\n    },\n    min: 0,\n    max: 9\n};\n```\n\n### \u6570\u5b57\u306e\u8868\u793a\u30d1\u30bf\u30fc\u30f3\n\u3053\u306e\u5148\u306e\u51e6\u7406\u3067\u5404path\u8981\u7d20\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u914d\u5217\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306epath\u8981\u7d20\u306e\u914d\u5217\u306b\u5bfe\u3057\u3066\u3001\u5404\u6570\u5b57\u3092\u8868\u793a\u3059\u308b\u6642\u306b\u6709\u52b9\u306b\u3057\u305f\u3044path\u8981\u7d20\u306e\u4f4d\u7f6e\u306b\u30d5\u30e9\u30b0\u3092\u7acb\u3066\u3066\u3044\u307e\u3059\u3002\n\n```js\nnumber.patterns = [\n    [1,1,1,1,0,1,1], // 0\n    [1,1,0,0,0,0,0], // 1\n    [0,1,1,0,1,1,1], // 2\n    [1,1,1,0,1,1,0], // 3\n    [1,1,0,1,1,0,0], // 4\n    [1,0,1,1,1,1,0], // 5\n    [1,0,1,1,1,1,1], // 6\n    [1,1,1,0,0,0,0], // 7\n    [1,1,1,1,1,1,1], // 8\n    [1,1,1,1,1,1,0], // 9\n];\n```\n\n### \u6570\u5b57\u306e\u30d1\u30b9\nIllustrator\u3067SVG\u3068\u3057\u3066\u66f8\u304d\u51fa\u3057\u3066\u30d1\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u30d1\u30b9\u306e\u5024\u3092\u30eb\u30fc\u30d7\u3067\u56de\u3057\u3066\u51e6\u7406\u3057\u305f\u3044\u306e\u3067\u307e\u3068\u3081\u3066\u914d\u5217\u306b\u5165\u308c\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\n```js\nnumber.base_path_list = [\n    'M60.189,64.438c1.841,1.157,3.129,3.11,3.388,5.383l-3.153,36.068c-0.339,3.813-2.863,7.133-6.234,8.727l-5.121-11.359 c0.142-0.25,0.234-0.524,0.263-0.813l2.871-32.833L60.189,64.438z',\n    'M57.396,8.304h1.621c5.371,0,9.383,4.375,8.918,9.719l-3.312,37.822c-0.586,2.382-2.336,4.304-4.61,5.132l-6.695-6.117 L57.396,8.304z',\n    'M54.459,19.804c-0.187-0.062-0.391-0.102-0.598-0.102H26.662c-0.703,0-1.351,0.399-1.707,0.977l-10.262-6.398 c1.793-3.477,5.485-5.922,9.5-5.922h31.266L54.459,19.804z',\n    'M13.928,61.102c-2.27-1.18-3.82-3.469-3.953-6.133l3.187-36.439c0.09-0.922,0.297-1.82,0.61-2.664l10.454,6.508 l-2.97,33.923h0.156L13.928,61.102z',\n    'M58.893,62.86 51.405,67.711 22.143,67.711 15.819,62.29 24.483,56.727 52.182,56.727',\n    'M52.201,115.499c-1.03,0.344-2.125,0.531-3.241,0.531H14.838c-3.891,0-7.071-2.297-8.348-5.602l11.34-6.579 c0.281,0.5,0.824,0.837,1.465,0.837h27.198c0.263,0,0.523-0.056,0.759-0.164L52.201,115.499z',\n    'M5.838,108.475c-0.209-0.922-0.287-1.899-0.199-2.907l3.082-35.239c0.047-3.288,2.211-6.07,5.199-6.992l6.332,5.431 l-2.891,33.012L5.838,108.475z'\n];\n```\n\n### SVG\u3067\u3067\u304d\u305f\u6570\u5b57\u3092\u753b\u9762\u306b\u8ffd\u52a0\u3059\u308b\n\ndocument.createElementNS()\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u7b2c\u4e00\u5f15\u6570\u306fSVG\u306e\u540d\u524d\u7a7a\u9593\u306eURL\u3001\u7b2c\u4e8c\u5f15\u6570\u306f\u4f5c\u6210\u3057\u305f\u3044\u8981\u7d20\u540d\u3092\u5165\u308c\u307e\u3059\u3002\n\uff08document.createElement()\u3092\u4f7f\u7528\u3059\u308b\u3068\u8981\u7d20\u306f\u3042\u308b\u3051\u3069\u8868\u793a\u3055\u308c\u306a\u3044\u72b6\u614b\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\uff09\n\n\u305d\u3057\u3066\u3001\u5148\u307b\u3069\u7528\u610f\u3057\u305f\u30d1\u30b9\u306e\u914d\u5217\u3092\u304f\u308b\u304f\u308b\u56de\u3057\u3066path\u8981\u7d20\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u3053\u306e\u6642\u3001d\u5c5e\u6027\u306b\u30d1\u30b9\u306e\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nsvg\u8981\u7d20\u306bpath\u8981\u7d20\u3092\u8ffd\u52a0\u3067\u304d\u305f\u3089\u3001HTML\u4e0a\u306e\u4efb\u610f\u306e\u8981\u7d20\u306bsvg\u8981\u7d20\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```js\nnumber.create = function(number_digits) {\n    var digits = number_digits === undefined ? 1 : number_digits;\n\n    for (var i = 0; i < digits; i++) {\n        var ns = 'http://www.w3.org/2000/svg';\n        var svg = document.createElementNS(ns, 'svg');\n        svg.setAttribute('viewBox', '0 0 76 126');\n        svg.setAttribute('enable-background', '0 0 76 126');\n        svg.setAttribute('x', 0);\n        svg.setAttribute('y', 0);\n        svg.setAttribute('width', 76);\n        svg.setAttribute('height', 126);\n\n        for (var j in number.base_path_list) {\n            var path = document.createElementNS(ns, 'path');\n            path.setAttribute('d', number.base_path_list[j]);\n            svg.appendChild(path);\n        }\n\n        var app = document.getElementById('app');\n        app.appendChild(svg);\n        number.svg_list.push(svg);\n    }\n};\n```\n\n### path\u8981\u7d20\u3092\u521d\u671f\u5316\u3059\u308b\nsvg\u8981\u7d20\u306e\u6570\u3060\u3051\u3001path\u8981\u7d20\u3092\u30bb\u30ec\u30af\u30c8\u3057\u3066\u8a2d\u5b9a\u5024\u306e\u7121\u52b9\u6642\u306e\u8272\u3092\u9069\u5fdc\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```js\nnumber.init = function() {\n    var svg_list = number.svg_list;\n    var svg_length = svg_list.length;\n    for (var i = 0; i < svg_length; i++) {\n        number.path_list[i] = svg_list[i].querySelectorAll('path');\n        var path_length = number.path_list[i].length;\n        for (var j = 0; j < path_length; j++) {\n            number.path_list[i][j].setAttribute('fill', number.settings.color.off);\n        }\n    }\n};\n```\n\n### \u30ab\u30a6\u30f3\u30c8\u3059\u308b\u6570\u5b57\u3092\uff11\u6841\u3054\u3068\u306b\u914d\u5217\u306b\u5165\u308c\u308b\n\u5404\u6841\u306e\u6570\u5b57\u3054\u3068\u306b\u914d\u5217\u306e\u5024\u306b\u5909\u63db\u3057\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001svg\u8981\u7d20\u306e\u6570\u3068\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u6570\u5b57\u306e\u6841\u6570\u304c\u5408\u3046\u3088\u3046\u306b\u8abf\u6574\u3057\u3066\u3044\u307e\u3059\u3002\n\n```js\nnumber.getDigits = function(num) {\n    var digits = (num + '').split('');\n    var digit_diff = 0;\n    if (number.svg_list.length > digits.length) {\n        digit_diff = number.svg_list.length - digits.length;\n        var zero_padding = Array(digit_diff + 1).join('0');\n        digits = (zero_padding + num).split('');\n    }\n    return digits;\n};\n```\n\n\u4f8b1\uff09 svg\u8981\u7d20\u304c3\u500b\u3067\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u6570\u5b57\u304c\u300c123\u300d\u306e\u5834\u5408 [1,2,3]\u3068\u3044\u3046\u914d\u5217\u306b\u306a\u308b\n\u4f8b2\uff09 svg\u8981\u7d20\u304c2\u500b\u3067\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u6570\u5b57\u304c\u300c4\u300d\u306e\u5834\u5408 [0,4]\u3068\u3044\u3046\u914d\u5217\u306b\u306a\u308b\n\n### \u6841\u6bce\u306e\u6570\u5b57\u304c\u5165\u3063\u305f\u914d\u5217\u3092\u53d7\u3051\u53d6\u308a\u63cf\u753b\u3092\u66f4\u65b0\u3059\u308b\n\u6841\u6bce\u306e\u6570\u5b57\u304c\u5165\u3063\u305f\u914d\u5217\u3068\u6570\u5b57\u306e\u8868\u793a\u30d1\u30bf\u30fc\u30f3\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u3066\u3001\n\u5404path\u8981\u7d20\u306b\u8272\u3092\u4ed8\u3051\u308b\u304b\u5224\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```js\nnumber.update = function(digits) {\n    digits.map(function(digit, i) {\n        if (number.path_list.length > digits.length) {\n            i += 1;\n        }\n        var path_list = number.path_list[i];\n        var length = path_list.length;\n        for (var i = 0; i < length; i++) {\n            if (number.patterns[digit][i] === 1) {\n                path_list[i].setAttribute('fill', number.settings.color.on);\n            } else {\n                path_list[i].setAttribute('fill', number.settings.color.off);\n            }\n        }\n    });\n};\n```\n\n### \u547c\u3073\u51fa\u3057\nDOM\u306e\u89e3\u6790\u304c\u7d42\u308f\u3063\u305f\u3089\u597d\u307f\u306b\u5408\u308f\u305b\u305d\u308c\u305e\u308c\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\nsvg\u8981\u7d20\u306e\u751f\u6210\u90e8\u5206\u306f\u4efb\u610f\u306e\u6841\u6570\u5206\u751f\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u305d\u306e\uff53\uff56\uff47\u8981\u7d20\u306e\u6841\u6570\u3092\u6700\u5927\u5024\u306b\u81ea\u52d5\u7684\u306b\u8a2d\u5b9a\u3057\u76f4\u3057\u3066\u3044\u307e\u3059\u3002\n\n```js\ndocument.addEventListener('DOMContentLoaded', function() {\n    number.create(8);\n    number.init();\n\n    var number_digits = number.svg_list.length;\n    number.settings.max = Array(number_digits + 1).join(number.settings.max + '');\n\n    var count = number.settings.min;\n    var timer = setInterval(function() {\n        if (count > number.settings.max) {\n            count = number.settings.min;\n        }\n        var digits = number.getDigits(count);\n        number.update(digits);\n        count++;\n    }, 1000 / (number_digits * 10));\n});\n```\n\n## \u307e\u3068\u3081\nsvg\u8981\u7d20\u306e\u4f5c\u6210\u304b\u3089\u3001\u305d\u306e\u5185\u90e8\u8981\u7d20\u306e\u4f5c\u6210\u3068\u5c5e\u6027\u306e\u52d5\u7684\u5909\u66f4\u306e\u3084\u308a\u65b9\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\u3053\u308c\u304c\u5206\u304b\u308c\u3070\u5f8c\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u306a\u304c\u3089\u69d8\u3005\u306a\u30c7\u30fc\u30bf\u8868\u793a\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4eca\u56de\u3001\u6570\u5b57\u306e\u30ab\u30a6\u30f3\u30bf\u30fc\u4ee5\u5916\u306b\u6298\u308c\u7dda\u30b0\u30e9\u30d5\u3084\u68d2\u30b0\u30e9\u30d5\u3001\u30e1\u30fc\u30bf\u30fc\u306a\u3069\u30c7\u30fc\u30bf\u306e\u5909\u5316\u306b\u5fdc\u3058\u3066\u52d5\u7684\u306b\u63cf\u753b\u3092\u5909\u5316\u3055\u305b\u308b\u3082\u306e\u3092\u4ed6\u306b\u3082\u4f5c\u6210\u3057\u305f\u306e\u3067\u3001\u6a5f\u4f1a\u304c\u3042\u308c\u3070\u3054\u7d39\u4ecb\u3067\u304d\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n## \u53c2\u8003\n+ [JavaScript\u3067HTML\u306eSVG\u8981\u7d20\uff08\u30bf\u30b0\uff09\u3092\u751f\u6210\u3059\u308b\u6642\u306fElementNS \u2013 JavaScript Archives\uff08\u30b8\u30e3\u30d0\u30b9\u30af\u30ea\u30d7\u30c8 \u30a2\u30fc\u30ab\u30a4\u30d6\u30b9\uff09](http://www.takaya-com.jp/archives/2015/10/avg_createelementns/)\n+ [Document.createElementNS() - Web API \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9 | MDN](https://developer.mozilla.org/ja/docs/Web/API/Document/createElementNS)\n+ [svg\u8981\u7d20\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u307e\u3068\u3081](http://www.h2.dion.ne.jp/~defghi/svgMemo/svgMemo_15.htm)\n+ [SVG \u5c5e\u6027\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 - SVG | MDN](https://developer.mozilla.org/ja/docs/Web/SVG/Attribute)\n+ [SVG 1.1 \u4ed5\u69d8 \uff08\u7b2c\uff12\u7248\uff09 \u65e5\u672c\u8a9e\u8a33](https://triple-underscore.github.io/SVG11/index.html)\n", "tags": ["SVG", "JavaScript", "HTML", "HTML5"]}