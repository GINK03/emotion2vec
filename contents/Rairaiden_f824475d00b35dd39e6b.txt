{"context": "\n\n0.\u69cb\u7bc9\u74b0\u5883\n\u30ab\u30fc\u30cd\u30eb\u3092\u518d\u69cb\u7bc9\u3057\u305f\u74b0\u5883\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\uff1aCentOS 7.2\nCPU\uff1aIntel(R) Core(TM) i5-6400 4Core\n\u65e2\u5b58\u306e\u30ab\u30fc\u30cd\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\uff1a3.10.0-327.36.1.el7.x86_64\n\n\n1-1.\u958b\u767a\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30ab\u30fc\u30cd\u30eb\u518d\u69cb\u7bc9\u306b\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n[root@localhost ~]# \nyum groupinstall \"Development Tools\"\nyum install kernel-devel\nyum install rpm-build redhat-rpm-config unifdef\nyum install ncurses ncurses-devel\n\n\n1-2.\u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nhttps://www.kernel.org/\ngit\u7d4c\u7531\u3067\u3082HTTP\u7d4c\u7531\u3067\u3082\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306fHTTP\u7d4c\u7531\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\u30022016/11/04\u73fe\u5728\u3001\u6700\u65b0\u306e\u5b89\u5b9a\u7248\u306f4.8.6\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\n\u4e00\u822c\u7684\u306b\u30ab\u30fc\u30cd\u30eb\u306f\u300c/usr/src\u300d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u683c\u7d0d\u3059\u308b\u305f\u3081\u3001\u4eca\u56de\u3082\u300c/usr/src\u300d\u306b\u30bd\u30fc\u30b9\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n[root@localhost ~]# \ncd /usr/src/\nwget https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.8.6.tar.xz\nxz -dc linux-4.8.6.tar.xz | tar xvf -\nmv linux-4.8.6.tar.xz /tmp/linux-4.8.6.tar.xz\n\n\n2-1.\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u500b\u5225\u306e\u8a2d\u5b9a\u306b\u95a2\u3057\u3066\u306f\u4eca\u56de\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\u65e2\u5b58\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u3001\u6700\u65b0\u306e\u30ab\u30fc\u30cd\u30eb\u3067\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u300cNEW\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u9805\u76ee\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306e\u307e\u307e\u9032\u3081\u307e\u3059\u3002\n\u9078\u629e\u3059\u308b\u9805\u76ee\u306e\u969b\u306f\u3001\u4f55\u3082\u5165\u529b\u305b\u305a\u306b\u6539\u884c\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u300cKernel compression mode\u300d\u306b\u3064\u3044\u3066\u306f\u3001\u4eca\u56de\u306f\u300c1. Gzip (KERNEL_GZIP)\u300d\u3068\u3057\u307e\u3059\u3002\n[root@localhost linux-4.8.6]#\ncat /boot/config-3.10.0-327.36.1.el7.x86_64 > ./.config\n\n[root@localhost linux-4.8.6]#\nmake oldconfig\nscripts/kconfig/conf  --oldconfig Kconfig\n.config:600:warning: symbol value 'm' invalid for CPU_FREQ_STAT\n*\n* Restart config...\n*\n*\n* General setup\n*\nCross-compiler tool prefix (CROSS_COMPILE) [] \nCompile also drivers which will not load (COMPILE_TEST) [N/y/?] (NEW) \nLocal version - append to kernel release (LOCALVERSION) [] \nAutomatically append version information to the version string (LOCALVERSION_AUTO) [N/y/?] n\nKernel compression mode\n> 1. Gzip (KERNEL_GZIP)\n  2. Bzip2 (KERNEL_BZIP2)\n  3. LZMA (KERNEL_LZMA)\n  4. XZ (KERNEL_XZ)\n  5. LZO (KERNEL_LZO)\n  6. LZ4 (KERNEL_LZ4) (NEW)\nchoice[1-6?]: 1\nDefault hostname (DEFAULT_HOSTNAME) [(none)] (none)\nSupport for paging of anonymous memory (swap) (SWAP) [Y/n/?] y\nSystem V IPC (SYSVIPC) [Y/n/?] y\nPOSIX Message Queues (POSIX_MQUEUE) [Y/n/?] y\nEnable process_vm_readv/writev syscalls (CROSS_MEMORY_ATTACH) [Y/n/?] y\nuselib syscall (USELIB) [Y/n/?] (NEW) \nAuditing support (AUDIT) [Y/n/?] y\n*\n* IRQ subsystem\n*\nExpose hardware/virtual IRQ mapping via debugfs (IRQ_DOMAIN_DEBUG) [N/y/?] n\n*\n* Timers subsystem\n\n\u30fb\u30fb\u30fb\uff08\u4ee5\u4e0b\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n\u500b\u5225\u306bconfig\u306e\u8a2d\u5b9a\u3092\u3057\u305f\u3044\u5834\u5408\u306f\u3001menuconfig\u3067\u8a2d\u5b9a\u3059\u308b\u306e\u304c\u3088\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\u4eca\u56de\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u306e\u307e\u307e\u3068\u3057\u307e\u3057\u305f\u3002\n[root@localhost linux-4.8.6]#\nmake menuconfig\n .config - Linux/x86 4.8.6 Kernel Configuration\n \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Linux/x86 4.8.6 Kernel Configuration \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  Arrow keys navigate the menu.  <Enter> selects submenus ---> (or empty submenus ----).  Highlighted letters are hotkeys.  Pressing <Y> includes, <N> excludes, <M> modularizes       \u2502  \n  \u2502  features.  Press <Esc><Esc> to exit, <?> for Help, </> for Search.  Legend: [*] built-in  [ ] excluded  <M> module  < > module capable                                               \u2502  \n  \u2502                                                                                                                                                                                       \u2502  \n  \u2502                                                                                                                                                                                       \u2502  \n  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \n  \u2502 \u2502                                                      [*] 64-bit kernel                                                                                                            \u2502 \u2502  \n  \u2502 \u2502                                                          General setup  --->                                                                                                      \u2502 \u2502  \n  \u2502 \u2502                                                      [*] Enable loadable module support  --->                                                                                     \u2502 \u2502  \n  \u2502 \u2502                                                      -*- Enable the block layer  --->                                                                                             \u2502 \u2502  \n  \u2502 \u2502                                                          Processor type and features  --->                                                                                        \u2502 \u2502  \n  \u2502 \u2502                                                          Power management and ACPI options  --->                                                                                  \u2502 \u2502  \n  \u2502 \u2502                                                          Bus options (PCI etc.)  --->                                                                                             \u2502 \u2502  \n  \u2502 \u2502                                                          Executable file formats / Emulations  --->                                                                               \u2502 \u2502  \n  \u2502 \u2502                                                      < > Volume Management Device Driver                                                                                          \u2502 \u2502  \n  \u2502 \u2502                                                      [*] Networking support  --->                                                                                                 \u2502 \u2502  \n  \u2502 \u2502                                                          Device Drivers  --->                                                                                                     \u2502 \u2502  \n  \u2502 \u2502                                                          Firmware Drivers  --->                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                          File systems  --->                                                                                                       \u2502 \u2502  \n  \u2502 \u2502                                                          Kernel hacking  --->                                                                                                     \u2502 \u2502  \n  \u2502 \u2502                                                          Security options  --->                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                      -*- Cryptographic API  --->                                                                                                  \u2502 \u2502  \n  \u2502 \u2502                                                      [*] Virtualization  --->                                                                                                     \u2502 \u2502  \n  \u2502 \u2502                                                          Library routines  --->                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                           \n\n\n\n2-2.\u30b3\u30f3\u30d1\u30a4\u30eb\nconfig\u306e\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u306e\u3067\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n\u300cmake\u300d\u30b3\u30de\u30f3\u30c9\u306f -j \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u4e26\u5217\u5b9f\u884c\u3057\u3066\u304f\u308c\u307e\u3059\u3002\nCPU\u306eCore\u6570+1\u3068\u8a2d\u5b9a\u3057\u307e\u3059\u3002\uff08Core\u6570\u306b+1\u3092\u3059\u308b\u7406\u7531\u306f\u4e0d\u660e\uff09\n\u79c1\u306e\u5834\u5408\u30014Core\u3067\u3057\u305f\u306e\u3067\u3001\u4e26\u5217\u5b9f\u884c\u6570\u306f5\u3068\u3057\u307e\u3059\u3002\n[root@localhost linux-4.8.6]#\nmake -j 5\n\n\u30d3\u30eb\u30c9\u306e\u5b8c\u4e86\u307e\u3067\u306b30\u5206\uff5e2\u6642\u9593\u7a0b\u5ea6\u304b\u304b\u308b\u3088\u3046\u3067\u3059\u3002\n\n2-3.\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n[root@localhost linux-4.8.6]#\nmake modules_install\n\n[root@localhost linux-4.8.6]#\nmake install\nsh ./arch/x86/boot/install.sh 4.8.6 arch/x86/boot/bzImage \\\n    System.map \"/boot\"\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5b58\u5728\u3059\u308c\u3070\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3067\u3059\u3002\n[root@localhost ~]#\nll /lib/modules \ndrwxr-xr-x  3 root root 4096 11\u6708  4 00:27 4.8.6\n\n[root@localhost linux-4.8.6]#\nll /boot/\nlrwxrwxrwx  1 root root        22 11\u6708  4 00:27 System.map -> /boot/System.map-4.8.6\n-rw-r--r--  1 root root   3423327 11\u6708  4 00:27 System.map-4.8.6\n-rw-r--r--  1 root root   3423327 11\u6708  4 00:24 System.map-4.8.6.old\ndrwxr-xr-x. 2 root root        26  9\u6708  3 18:06 grub\ndrwx------. 6 root root      4096 11\u6708  4 00:29 grub2\nlrwxrwxrwx  1 root root        19 11\u6708  4 00:27 vmlinuz -> /boot/vmlinuz-4.8.6\n-rw-------  1 root root  62997794 11\u6708  4 00:29 initramfs-4.8.6.img\n-rw-r--r--  1 root root   5772128 11\u6708  4 00:27 vmlinuz-4.8.6\n-rw-r--r--  1 root root   5772128 11\u6708  4 00:24 vmlinuz-4.8.6.old\n\n\u30fb\u30fb\u30fb\uff08\u305d\u306e\u4ed6\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n\n\u203b\u88dc\u8db3\uff1a\u4eca\u56de\u30d3\u30eb\u30c9\u3092\u5b9f\u65bd\u3057\u305f\u969b\u306b\u3001\u300copensslv.h\u300d\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\n\u3068\u3044\u3063\u305f\u30a8\u30e9\u30fc\u304c\u751f\u3058\u305f\u305f\u3081\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\u3002\n[root@localhost ~]# \nyum install openssl-devel\n\n\n3-1.\u5b8c\u4e86\u78ba\u8a8d\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3089\u3001\u300creboot\u300d\u3057\u307e\u3059\u3002\n\u8d77\u52d5\u753b\u9762\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\nCentOS Linux (4.8.6) 7 (Core)\n\n\u307e\u305f\u30bf\u30fc\u30df\u30ca\u30eb\u4e0a\u3067\u3082\n[root@localhost ~]# \nuname -r\n4.8.6\n\n\u3068\u306a\u3063\u3066\u3044\u308c\u3070\u30ab\u30fc\u30cd\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\u3084\u3063\u3066\u307f\u308b\u307e\u3067\u306f\u3001\u30ab\u30fc\u30cd\u30eb\u306e\u518d\u69cb\u7bc9\u3063\u3066\u96e3\u3057\u305d\u3046\u306a\u5370\u8c61\u3092\u6301\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\n\u5b9f\u969b\u3084\u3063\u3066\u307f\u308b\u3068\u3001\u6848\u5916\u30b9\u30e0\u30fc\u30ba\u306b\u3067\u304d\u307e\u3057\u305f\uff01\n\u3054\u53c2\u8003\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n4.\u53c2\u8003\u66f8\u7c4d\n\n\u300e\u3053\u308c\u4e00\u518a\u3067\u5b8c\u5168\u7406\u89e3 Linux\u30ab\u30fc\u30cd\u30eb\u8d85\u5165\u9580\u300f(\u65e5\u7d4cLinux \u8457\u3001\u65e5\u7d4cBP\u793e)\n\n## 0.\u69cb\u7bc9\u74b0\u5883\n\n\u30ab\u30fc\u30cd\u30eb\u3092\u518d\u69cb\u7bc9\u3057\u305f\u74b0\u5883\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n* \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\uff1aCentOS 7.2\n* CPU\uff1aIntel(R) Core(TM) i5-6400 4Core\n* \u65e2\u5b58\u306e\u30ab\u30fc\u30cd\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\uff1a3.10.0-327.36.1.el7.x86_64\n\n## 1-1.\u958b\u767a\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30ab\u30fc\u30cd\u30eb\u518d\u69cb\u7bc9\u306b\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n[root@localhost ~]# \nyum groupinstall \"Development Tools\"\nyum install kernel-devel\nyum install rpm-build redhat-rpm-config unifdef\nyum install ncurses ncurses-devel\n```\n\n## 1-2.\u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nhttps://www.kernel.org/\ngit\u7d4c\u7531\u3067\u3082HTTP\u7d4c\u7531\u3067\u3082\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306fHTTP\u7d4c\u7531\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\u30022016/11/04\u73fe\u5728\u3001\u6700\u65b0\u306e\u5b89\u5b9a\u7248\u306f4.8.6\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\n\u4e00\u822c\u7684\u306b\u30ab\u30fc\u30cd\u30eb\u306f\u300c/usr/src\u300d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u683c\u7d0d\u3059\u308b\u305f\u3081\u3001\u4eca\u56de\u3082\u300c/usr/src\u300d\u306b\u30bd\u30fc\u30b9\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n\n```\n[root@localhost ~]# \ncd /usr/src/\nwget https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.8.6.tar.xz\nxz -dc linux-4.8.6.tar.xz | tar xvf -\nmv linux-4.8.6.tar.xz /tmp/linux-4.8.6.tar.xz\n```\n\n## 2-1.\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n\n\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u500b\u5225\u306e\u8a2d\u5b9a\u306b\u95a2\u3057\u3066\u306f\u4eca\u56de\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\u65e2\u5b58\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u3001\u6700\u65b0\u306e\u30ab\u30fc\u30cd\u30eb\u3067\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u300cNEW\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u9805\u76ee\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306e\u307e\u307e\u9032\u3081\u307e\u3059\u3002\n\u9078\u629e\u3059\u308b\u9805\u76ee\u306e\u969b\u306f\u3001\u4f55\u3082\u5165\u529b\u305b\u305a\u306b\u6539\u884c\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u300cKernel compression mode\u300d\u306b\u3064\u3044\u3066\u306f\u3001\u4eca\u56de\u306f\u300c1. Gzip (KERNEL_GZIP)\u300d\u3068\u3057\u307e\u3059\u3002\n\n```\n[root@localhost linux-4.8.6]#\ncat /boot/config-3.10.0-327.36.1.el7.x86_64 > ./.config\n```\n\n```\n[root@localhost linux-4.8.6]#\nmake oldconfig\nscripts/kconfig/conf  --oldconfig Kconfig\n.config:600:warning: symbol value 'm' invalid for CPU_FREQ_STAT\n*\n* Restart config...\n*\n*\n* General setup\n*\nCross-compiler tool prefix (CROSS_COMPILE) [] \nCompile also drivers which will not load (COMPILE_TEST) [N/y/?] (NEW) \nLocal version - append to kernel release (LOCALVERSION) [] \nAutomatically append version information to the version string (LOCALVERSION_AUTO) [N/y/?] n\nKernel compression mode\n> 1. Gzip (KERNEL_GZIP)\n  2. Bzip2 (KERNEL_BZIP2)\n  3. LZMA (KERNEL_LZMA)\n  4. XZ (KERNEL_XZ)\n  5. LZO (KERNEL_LZO)\n  6. LZ4 (KERNEL_LZ4) (NEW)\nchoice[1-6?]: 1\nDefault hostname (DEFAULT_HOSTNAME) [(none)] (none)\nSupport for paging of anonymous memory (swap) (SWAP) [Y/n/?] y\nSystem V IPC (SYSVIPC) [Y/n/?] y\nPOSIX Message Queues (POSIX_MQUEUE) [Y/n/?] y\nEnable process_vm_readv/writev syscalls (CROSS_MEMORY_ATTACH) [Y/n/?] y\nuselib syscall (USELIB) [Y/n/?] (NEW) \nAuditing support (AUDIT) [Y/n/?] y\n*\n* IRQ subsystem\n*\nExpose hardware/virtual IRQ mapping via debugfs (IRQ_DOMAIN_DEBUG) [N/y/?] n\n*\n* Timers subsystem\n\n\u30fb\u30fb\u30fb\uff08\u4ee5\u4e0b\u7701\u7565\uff09\u30fb\u30fb\u30fb\n```\n\n\u500b\u5225\u306bconfig\u306e\u8a2d\u5b9a\u3092\u3057\u305f\u3044\u5834\u5408\u306f\u3001menuconfig\u3067\u8a2d\u5b9a\u3059\u308b\u306e\u304c\u3088\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\u4eca\u56de\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u306e\u307e\u307e\u3068\u3057\u307e\u3057\u305f\u3002\n\n```\n[root@localhost linux-4.8.6]#\nmake menuconfig\n .config - Linux/x86 4.8.6 Kernel Configuration\n \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Linux/x86 4.8.6 Kernel Configuration \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  Arrow keys navigate the menu.  <Enter> selects submenus ---> (or empty submenus ----).  Highlighted letters are hotkeys.  Pressing <Y> includes, <N> excludes, <M> modularizes       \u2502  \n  \u2502  features.  Press <Esc><Esc> to exit, <?> for Help, </> for Search.  Legend: [*] built-in  [ ] excluded  <M> module  < > module capable                                               \u2502  \n  \u2502                                                                                                                                                                                       \u2502  \n  \u2502                                                                                                                                                                                       \u2502  \n  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \n  \u2502 \u2502                                                      [*] 64-bit kernel                                                                                                            \u2502 \u2502  \n  \u2502 \u2502                                                          General setup  --->                                                                                                      \u2502 \u2502  \n  \u2502 \u2502                                                      [*] Enable loadable module support  --->                                                                                     \u2502 \u2502  \n  \u2502 \u2502                                                      -*- Enable the block layer  --->                                                                                             \u2502 \u2502  \n  \u2502 \u2502                                                          Processor type and features  --->                                                                                        \u2502 \u2502  \n  \u2502 \u2502                                                          Power management and ACPI options  --->                                                                                  \u2502 \u2502  \n  \u2502 \u2502                                                          Bus options (PCI etc.)  --->                                                                                             \u2502 \u2502  \n  \u2502 \u2502                                                          Executable file formats / Emulations  --->                                                                               \u2502 \u2502  \n  \u2502 \u2502                                                      < > Volume Management Device Driver                                                                                          \u2502 \u2502  \n  \u2502 \u2502                                                      [*] Networking support  --->                                                                                                 \u2502 \u2502  \n  \u2502 \u2502                                                          Device Drivers  --->                                                                                                     \u2502 \u2502  \n  \u2502 \u2502                                                          Firmware Drivers  --->                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                          File systems  --->                                                                                                       \u2502 \u2502  \n  \u2502 \u2502                                                          Kernel hacking  --->                                                                                                     \u2502 \u2502  \n  \u2502 \u2502                                                          Security options  --->                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                      -*- Cryptographic API  --->                                                                                                  \u2502 \u2502  \n  \u2502 \u2502                                                      [*] Virtualization  --->                                                                                                     \u2502 \u2502  \n  \u2502 \u2502                                                          Library routines  --->                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                                                                                                   \u2502 \u2502  \n  \u2502 \u2502                                                                                                           \n\n```\n\n## 2-2.\u30b3\u30f3\u30d1\u30a4\u30eb\n\nconfig\u306e\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u306e\u3067\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u30bd\u30fc\u30b9\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n\u300cmake\u300d\u30b3\u30de\u30f3\u30c9\u306f -j \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u4e26\u5217\u5b9f\u884c\u3057\u3066\u304f\u308c\u307e\u3059\u3002\nCPU\u306eCore\u6570+1\u3068\u8a2d\u5b9a\u3057\u307e\u3059\u3002\uff08Core\u6570\u306b+1\u3092\u3059\u308b\u7406\u7531\u306f\u4e0d\u660e\uff09\n\u79c1\u306e\u5834\u5408\u30014Core\u3067\u3057\u305f\u306e\u3067\u3001\u4e26\u5217\u5b9f\u884c\u6570\u306f5\u3068\u3057\u307e\u3059\u3002\n\n```\n[root@localhost linux-4.8.6]#\nmake -j 5\n```\n\n\u30d3\u30eb\u30c9\u306e\u5b8c\u4e86\u307e\u3067\u306b30\u5206\uff5e2\u6642\u9593\u7a0b\u5ea6\u304b\u304b\u308b\u3088\u3046\u3067\u3059\u3002\n\n## 2-3.\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n[root@localhost linux-4.8.6]#\nmake modules_install\n```\n```\n[root@localhost linux-4.8.6]#\nmake install\nsh ./arch/x86/boot/install.sh 4.8.6 arch/x86/boot/bzImage \\\n\tSystem.map \"/boot\"\n```\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5b58\u5728\u3059\u308c\u3070\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n```\n[root@localhost ~]#\nll /lib/modules \ndrwxr-xr-x  3 root root 4096 11\u6708  4 00:27 4.8.6\n```\n\n```\n[root@localhost linux-4.8.6]#\nll /boot/\nlrwxrwxrwx  1 root root        22 11\u6708  4 00:27 System.map -> /boot/System.map-4.8.6\n-rw-r--r--  1 root root   3423327 11\u6708  4 00:27 System.map-4.8.6\n-rw-r--r--  1 root root   3423327 11\u6708  4 00:24 System.map-4.8.6.old\ndrwxr-xr-x. 2 root root        26  9\u6708  3 18:06 grub\ndrwx------. 6 root root      4096 11\u6708  4 00:29 grub2\nlrwxrwxrwx  1 root root        19 11\u6708  4 00:27 vmlinuz -> /boot/vmlinuz-4.8.6\n-rw-------  1 root root  62997794 11\u6708  4 00:29 initramfs-4.8.6.img\n-rw-r--r--  1 root root   5772128 11\u6708  4 00:27 vmlinuz-4.8.6\n-rw-r--r--  1 root root   5772128 11\u6708  4 00:24 vmlinuz-4.8.6.old\n\n\u30fb\u30fb\u30fb\uff08\u305d\u306e\u4ed6\u7701\u7565\uff09\u30fb\u30fb\u30fb\n\n```\n\n\n\n\u203b\u88dc\u8db3\uff1a\u4eca\u56de\u30d3\u30eb\u30c9\u3092\u5b9f\u65bd\u3057\u305f\u969b\u306b\u3001\u300copensslv.h\u300d\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\n\u3068\u3044\u3063\u305f\u30a8\u30e9\u30fc\u304c\u751f\u3058\u305f\u305f\u3081\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\u3002\n\n```\n[root@localhost ~]# \nyum install openssl-devel\n```\n\n\n## 3-1.\u5b8c\u4e86\u78ba\u8a8d\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3089\u3001\u300creboot\u300d\u3057\u307e\u3059\u3002\n\u8d77\u52d5\u753b\u9762\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\n```\nCentOS Linux (4.8.6) 7 (Core)\n```\n\n\u307e\u305f\u30bf\u30fc\u30df\u30ca\u30eb\u4e0a\u3067\u3082\n\n```\n[root@localhost ~]# \nuname -r\n4.8.6\n```\n\n\u3068\u306a\u3063\u3066\u3044\u308c\u3070\u30ab\u30fc\u30cd\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\u3084\u3063\u3066\u307f\u308b\u307e\u3067\u306f\u3001\u30ab\u30fc\u30cd\u30eb\u306e\u518d\u69cb\u7bc9\u3063\u3066\u96e3\u3057\u305d\u3046\u306a\u5370\u8c61\u3092\u6301\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\n\u5b9f\u969b\u3084\u3063\u3066\u307f\u308b\u3068\u3001\u6848\u5916\u30b9\u30e0\u30fc\u30ba\u306b\u3067\u304d\u307e\u3057\u305f\uff01\n\u3054\u53c2\u8003\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n### 4.\u53c2\u8003\u66f8\u7c4d\n* \u300e\u3053\u308c\u4e00\u518a\u3067\u5b8c\u5168\u7406\u89e3 Linux\u30ab\u30fc\u30cd\u30eb\u8d85\u5165\u9580\u300f(\u65e5\u7d4cLinux \u8457\u3001\u65e5\u7d4cBP\u793e)\n\n", "tags": ["Linux", "kernel", "CentOS"]}