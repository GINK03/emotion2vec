{"tags": ["IoT", "ESP-WROOM-02", "Azure", "EventHubs", "PowerBI"], "context": " More than 1 year has passed since last update.\u3053\u3093\u306b\u3061\u306f\u3001 @dz_ \u3053\u3068\u5927\u5e73\u304b\u3065\u307f\u3067\u3059\u3002\n\nPrologue - \u306f\u3058\u3081\u306b\nCheck! ESP-WROOM-02 \u304b\u3089 Azure Event Hubs \u306b\u30c7\u30fc\u30bf\u3092\u9001\u308a\u3001Power BI \u3067\u53ef\u8996\u5316\u3059\u308b\uff081\uff09 \uff5e \u69cb\u6210\u7de8 \u306e\u7d9a\u304d\u3067\u3059\u3002\n\u307e\u305a\u306f\u3001\u4ee5\u4e0b\u306e\u69cb\u6210\u3067\u30af\u30e9\u30a6\u30c9\u5074\u306e\u6e96\u5099\u3092\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001\u672c\u8a18\u4e8b\u3067\u306f Azure \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u524d\u63d0\u3067\u8a71\u3092\u9032\u3081\u307e\u3059\u3002\u307e\u3060\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u65b9\u306f\u3001\u7121\u6599\u67a0\u3082\u3042\u308b\u306e\u3067\u305c\u3072\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u306d(^^)/\n\n\u5927\u307e\u304b\u306a\u6d41\u308c\n\n\nMicrosoft Power BI \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n\nAzure Event Hubs \u3092\u4f5c\u6210\u3059\u308b\n\nAzure Stream Analytics \u306e\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3059\u308b\n\n\n\u624b\u9806\n\nMicrosoft Power BI \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\nPower BI \u306b\u306f\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u7248\u3068\u30a6\u30a7\u30d6\u5229\u7528\u7248\u304c\u3042\u308a\u307e\u3059\u3002\u4eca\u56de\u306f\u30a6\u30a7\u30d6\u5229\u7528\u7248\u3092\u4f7f\u3044\u307e\u3059\u306e\u3067\u3001\u30b5\u30a4\u30c8\u30c8\u30c3\u30d7\u306e \u7121\u6599\u3067\u4f7f\u3044\u59cb\u3081\u308b > \u30b5\u30a4\u30f3\u30a2\u30c3\u30d7 \u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u306a\u304a\u3001Power BI \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332\u306b\u306f\u3001\u7d44\u7e54\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08gmail.com \u306a\u3069\u30d5\u30ea\u30fc\u30e1\u30fc\u30eb\u3067\u306f\u306a\u304f\u3001\u4f1a\u793e\u3084\u7d44\u7e54\u304c\u3082\u3064\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff09\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n\nAzure Event Hubs \u3092\u4f5c\u6210\u3059\u308b\n\u6b21\u306b\u3001Azure Event Hubs \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u4ee5\u964d\u3067\u884c\u3046 Power BI \u3078\u306e\u51fa\u529b\u306e\u8a2d\u5b9a\u304c\u3001\u73fe\u6642\u70b9(2016\u5e742\u6708)\u3067\u306f\u30af\u30e9\u30b7\u30c3\u30af\u30dd\u30fc\u30bf\u30eb\u3067\u3057\u304b\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u30af\u30e9\u30b7\u30c3\u30af\u30dd\u30fc\u30bf\u30eb\u3067\u7d71\u4e00\u3057\u3066\u4f5c\u696d\u3092\u884c\u3044\u307e\u3059\u3002\u30af\u30e9\u30b7\u30c3\u30af\u30dd\u30fc\u30bf\u30eb\u306f\u3001\u73fe\u30dd\u30fc\u30bf\u30eb\u306e Azure \u30af\u30e9\u30b7\u30c3\u30af\u30dd\u30fc\u30bf\u30eb \u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u304b\u3001 https://manage.windowsazure.com/ \u3092\u958b\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u3092\u4f5c\u6210\u3059\u308b\n\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u306f Service Bus \u306e\u4e00\u90e8\u3067\u3059\u3002\u753b\u9762\u5de6\u4e0b\u306e \u65b0\u898f \u304b\u3089\u3001 APP SERVICES > SERVICE BUS > \u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6 \u3092\u958b\u304d\u3001Service Bus \u306e\u540d\u524d\u7a7a\u9593\u3082\u540c\u6642\u306b\u4f5c\u6210\u3057\u305f\u3044\u305f\u3081\u3001 \u30ab\u30b9\u30bf\u30e0\u4f5c\u6210 \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\u300c\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u540d\u300d\u300c\u30ea\u30fc\u30b8\u30e7\u30f3\u300d \u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u300c\u540d\u524d\u7a7a\u9593\u300d\u306f \u65b0\u3057\u3044\u540d\u524d\u7a7a\u9593\u306e\u4f5c\u6210 \u3068\u3057\u3001\u300c\u540d\u524d\u7a7a\u9593\u540d\u300d\u306f\u81ea\u52d5\u7684\u306b\u633f\u5165\u3055\u308c\u307e\u3059\u3002\n\u300c\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u6570\u300d\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u5165\u308c\u7269\u307e\u305f\u306f\u30b7\u30fc\u30b1\u30f3\u30b9\u3068\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u500b\u6570\u304c\u591a\u3044\u307b\u3069\u540c\u6642\u306b\u51e6\u7406\u3067\u304d\u308b\u30b7\u30fc\u30b1\u30f3\u30b9\u304c\u5897\u3048\u307e\u3059\u304c\u3001\u4eca\u56de\u306f1\u3064\u306e\u30c7\u30fc\u30bf\u30b9\u30c8\u30ea\u30fc\u30e0\u3057\u304b\u6271\u308f\u306a\u3044\u306e\u3067\u3001\u6700\u4f4e\u5024\u306e 2 \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\uff08\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u6570\u306f\u3042\u3068\u304b\u3089\u5909\u66f4\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u5b9f\u7528\u3067\u4f7f\u7528\u3059\u308b\u3068\u304d\u306f\u3088\u304f\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09\n\u300c\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ea\u30c6\u30f3\u30b7\u30e7\u30f3\u671f\u9593\u300d\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3059\u308b\u671f\u9593\u3067\u3059\u3002\u4eca\u56de\u306f 1 \u65e5\u3068\u3057\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u8a2d\u5b9a\u3067\u3001\u30a4\u30d9\u30f3\u30c8\u30cf\u30d6\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u306e\u5171\u6709\u30a2\u30af\u30bb\u30b9\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\nService Bus \u304a\u3088\u3073\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u306e\u4f5c\u6210\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u306e\u69cb\u6210\u3092\u958b\u304d\u307e\u3059\u3002\n\n\u300c\u5171\u6709\u30a2\u30af\u30bb\u30b9\u30dd\u30ea\u30b7\u30fc\u300d\u3092\u3001\u9001\u4fe1 \u3068 \u30ea\u30c3\u30b9\u30f3 \u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3092\u4ed8\u3051\u3066\u4efb\u610f\u306e\u540d\u524d\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u5171\u6709\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306f\u3001SAS\uff08Shared Access Signature: \u5171\u6709\u30a2\u30af\u30bb\u30b9\u7f72\u540d\uff09\u3092\u4f5c\u308b\u969b\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002\n\nAzure Stream Analytics \u306e\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3059\u308b\n\u3055\u3044\u3054\u306b\u3001\u5165\u529b\u3092\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u3001\u51fa\u529b\u3092 Power BI \u3068\u3057\u3066\u3001Stream Analytics \u306e\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3059\u308b\n\u753b\u9762\u5de6\u4e0b\u306e \u65b0\u898f \u304b\u3089\u3001 DATA SERVICES > STREAM ANALYTICS > \u7c21\u6613\u4f5c\u6210 \u3092\u9078\u629e\u3057\u307e\u3059\u3002 \u30ea\u30fc\u30b8\u30e7\u30f3 \u306f\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u3068\u540c\u4e00\u3068\u3057\u3001\u65b0\u3057\u3044\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6307\u5b9a\u3057\u3066\u3001\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u5165\u529b\u3092\u8a2d\u5b9a\u3059\u308b\n\u4f5c\u6210\u3057\u305f\u30b8\u30e7\u30d6\u306e\u300c\u5165\u529b\u300d\u30bf\u30d6\u3092\u958b\u304d\u3001 \u5165\u529b\u306e\u8ffd\u52a0 \u3092\u3057\u307e\u3059\u3002\u5165\u529b\u30b8\u30e7\u30d6\u306f \u30c7\u30fc\u30bf\u30b9\u30c8\u30ea\u30fc\u30e0 \u306e \u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6 \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u3068\u30b7\u30ea\u30a2\u30eb\u5316\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u3001\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n\u30a4\u30d9\u30f3\u30c8\u30cf\u30d6\u306e\u8a2d\u5b9a\n\n\u5165\u529b\u306e\u30a8\u30a4\u30ea\u30a2\u30b9: \u4efb\u610f\n\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3: \u73fe\u5728\u306e\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30d6\u3092\u4f7f\u7528\n\n\u540d\u524d\u7a7a\u9593\u3092\u9078\u629e\u3059\u308b: \u4eca\u56de\u4f5c\u6210\u3057\u305f\u540d\u524d\u7a7a\u9593\nEVENTHUB \u3092\u9078\u629e\u3059\u308b: \u4eca\u56de\u4f5c\u6210\u3057\u305f\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\n\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6 \u30dd\u30ea\u30b7\u30fc: \u5909\u66f4\u3057\u306a\u3044\n\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u30fc\u30b0\u30eb\u30fc\u30d7: \u5909\u66f4\u3057\u306a\u3044\n\n\n\n\u30b7\u30ea\u30a2\u30eb\u5316\u306e\u8a2d\u5b9a\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u30b7\u30ea\u30a2\u30eb\u5316\u306e\u5f62\u5f0f: JSON\n\u30a8\u30f3\u30b3\u30fc\u30c9: UTF8\n\n\n\n\n\n\n\u51fa\u529b\u3092\u8a2d\u5b9a\u3059\u308b\n\u6b21\u306b\u51fa\u529b\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u4f5c\u6210\u3057\u305f\u30b8\u30e7\u30d6\u306e\u300c\u51fa\u529b\u300d\u30bf\u30d6\u3092\u958b\u304d\u3001 \u51fa\u529b\u306e\u8ffd\u52a0 \u3092\u3057\u307e\u3059\u3002\u300cPower BI\u300d\u3092\u6307\u5b9a\u3057\u3001\u300c\u4eca\u3059\u3050\u627f\u8a8d\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u4f5c\u6210\u3057\u305f Power BI \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\u300c\u51fa\u529b\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u300d\u300c\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u540d\u300d\u300c\u30c6\u30fc\u30d6\u30eb\u540d\u300d\u306b\u4efb\u610f\u306e\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u3001\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n\n\u30af\u30a8\u30ea\u3092\u8a2d\u5b9a\u3059\u308b\n\u6700\u5f8c\u306b\u30af\u30a8\u30ea\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u4f5c\u6210\u3057\u305f\u30b8\u30e7\u30d6\u306e\u300c\u30af\u30a8\u30ea\u300d\u30bf\u30d6\u3092\u958b\u304d\u3001\u30af\u30a8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nINTO \u306b\u300c\u51fa\u529b\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u300d\u3067\u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3092\u3001FROM \u306b\u300c\u5165\u529b\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u300d\u3067\u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3092\u8a2d\u5b9a\u3057\u3001\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0a\u3067\u30af\u30e9\u30a6\u30c9\u5074\u306e\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01\n\nEpilogue - \u304a\u308f\u308a\u306b\n\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u304b\u3089 Power BI \u3078\u3001Stream Analytics \u3092\u7d4c\u7531\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u9023\u643a\u3057\u307e\u3059\u3002Stream Analytics \u306e\u30af\u30a8\u30ea\u3067\u306f\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u306e\u307f\u3092\u51fa\u529b\u306b\u56de\u3059\u306a\u3069\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3082\u53ef\u80fd\u3067\u3059\u306e\u3067\u3001\u78ba\u8a8d\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u305d\u308c\u3067\u306f\u3001\u6b21\u56de\u306f\u3044\u3088\u3044\u3088 ESP-WROOM-02 \u304b\u3089\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3059\uff01\n\n\u3053\u3093\u306b\u3061\u306f\u3001 @dz_ \u3053\u3068\u5927\u5e73\u304b\u3065\u307f\u3067\u3059\u3002\n\nPrologue - \u306f\u3058\u3081\u306b\n====\n[Check! ESP-WROOM-02 \u304b\u3089 Azure Event Hubs \u306b\u30c7\u30fc\u30bf\u3092\u9001\u308a\u3001Power BI \u3067\u53ef\u8996\u5316\u3059\u308b\uff081\uff09 \uff5e \u69cb\u6210\u7de8](http://qiita.com/dz_/items/7093ec21802d1dc03464 \"Check! ESP-WROOM-02 \u304b\u3089 Azure Event Hubs \u306b\u30c7\u30fc\u30bf\u3092\u9001\u308a\u3001Power BI \u3067\u53ef\u8996\u5316\u3059\u308b\uff081\uff09 \uff5e \u69cb\u6210\u7de8\") \u306e\u7d9a\u304d\u3067\u3059\u3002\n\n\u307e\u305a\u306f\u3001\u4ee5\u4e0b\u306e\u69cb\u6210\u3067\u30af\u30e9\u30a6\u30c9\u5074\u306e\u6e96\u5099\u3092\u3057\u307e\u3059\u3002\n\n![20160223_azure-event-hub_powerbi_001.png](https://qiita-image-store.s3.amazonaws.com/0/3812/12cf558e-648b-966c-b72b-2cea979080b5.png)\n\n\u306a\u304a\u3001\u672c\u8a18\u4e8b\u3067\u306f Azure \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u524d\u63d0\u3067\u8a71\u3092\u9032\u3081\u307e\u3059\u3002\u307e\u3060\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u65b9\u306f\u3001[\u7121\u6599\u67a0](https://azure.microsoft.com/ja-jp/free/ \"\u7121\u6599\u306e Azure \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4eca\u3059\u3050\u4f5c\u6210 | Microsoft Azure\")\u3082\u3042\u308b\u306e\u3067\u305c\u3072\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u306d(^^)/\n\n\u5927\u307e\u304b\u306a\u6d41\u308c\n====\n\n1. [Microsoft Power BI](powerbi.microsoft.com/ja-jp/ \"Power BI | \u5bfe\u8a71\u578b\u306e\u30c7\u30fc\u30bf\u8996\u899a\u5316 BI \u30c4\u30fc\u30eb\") \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n2. [Azure Event Hubs](https://azure.microsoft.com/ja-jp/services/event-hubs/ \"Event Hubs - \u30af\u30e9\u30a6\u30c9 \u30d3\u30c3\u30b0 \u30c7\u30fc\u30bf\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3 | Microsoft Azure\") \u3092\u4f5c\u6210\u3059\u308b\n3. [Azure Stream Analytics](https://azure.microsoft.com/ja-jp/services/stream-analytics/ \"Stream Analytics - \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0 \u30c7\u30fc\u30bf\u5206\u6790 | Microsoft Azure\") \u306e\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3059\u308b\n\n\u624b\u9806\n====\n\nMicrosoft Power BI \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n----\n\n[Power BI](powerbi.microsoft.com/ja-jp/ \"Power BI | \u5bfe\u8a71\u578b\u306e\u30c7\u30fc\u30bf\u8996\u899a\u5316 BI \u30c4\u30fc\u30eb\") \u306b\u306f\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u7248\u3068\u30a6\u30a7\u30d6\u5229\u7528\u7248\u304c\u3042\u308a\u307e\u3059\u3002\u4eca\u56de\u306f\u30a6\u30a7\u30d6\u5229\u7528\u7248\u3092\u4f7f\u3044\u307e\u3059\u306e\u3067\u3001\u30b5\u30a4\u30c8\u30c8\u30c3\u30d7\u306e `\u7121\u6599\u3067\u4f7f\u3044\u59cb\u3081\u308b` > `\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7` \u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u306a\u304a\u3001Power BI \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332\u306b\u306f\u3001\u7d44\u7e54\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08gmail.com \u306a\u3069\u30d5\u30ea\u30fc\u30e1\u30fc\u30eb\u3067\u306f\u306a\u304f\u3001\u4f1a\u793e\u3084\u7d44\u7e54\u304c\u3082\u3064\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff09\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n\n![20160224_powerbi_003.png](https://qiita-image-store.s3.amazonaws.com/0/3812/85651796-05f5-ae1f-503a-2aa93585ea1b.png)\n\n![20160224_powerbi_010.png](https://qiita-image-store.s3.amazonaws.com/0/3812/53641a3b-330f-cd05-9f0d-bc8733fa09b4.png)\n\nAzure Event Hubs \u3092\u4f5c\u6210\u3059\u308b\n----\n\u6b21\u306b\u3001[Azure Event Hubs](https://azure.microsoft.com/ja-jp/services/event-hubs/ \"Event Hubs - \u30af\u30e9\u30a6\u30c9 \u30d3\u30c3\u30b0 \u30c7\u30fc\u30bf\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3 | Microsoft Azure\") \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u4ee5\u964d\u3067\u884c\u3046 Power BI \u3078\u306e\u51fa\u529b\u306e\u8a2d\u5b9a\u304c\u3001\u73fe\u6642\u70b9(2016\u5e742\u6708)\u3067\u306f\u30af\u30e9\u30b7\u30c3\u30af\u30dd\u30fc\u30bf\u30eb\u3067\u3057\u304b\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u30af\u30e9\u30b7\u30c3\u30af\u30dd\u30fc\u30bf\u30eb\u3067\u7d71\u4e00\u3057\u3066\u4f5c\u696d\u3092\u884c\u3044\u307e\u3059\u3002\u30af\u30e9\u30b7\u30c3\u30af\u30dd\u30fc\u30bf\u30eb\u306f\u3001\u73fe\u30dd\u30fc\u30bf\u30eb\u306e `Azure \u30af\u30e9\u30b7\u30c3\u30af\u30dd\u30fc\u30bf\u30eb` \u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u304b\u3001 https://manage.windowsazure.com/ \u3092\u958b\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n![20160224_azure_002.png](https://qiita-image-store.s3.amazonaws.com/0/3812/9e442b52-38e8-bd03-d51b-b666c28fa5fb.png)\n\n### \u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u3092\u4f5c\u6210\u3059\u308b\n\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u306f [Service Bus](https://azure.microsoft.com/ja-jp/services/service-bus/ \"Service Bus - \u30af\u30e9\u30a6\u30c9 \u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0 \u30b5\u30fc\u30d3\u30b9 | Microsoft Azure\") \u306e\u4e00\u90e8\u3067\u3059\u3002\u753b\u9762\u5de6\u4e0b\u306e `\u65b0\u898f` \u304b\u3089\u3001 `APP SERVICES` > `SERVICE BUS` > `\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6` \u3092\u958b\u304d\u3001Service Bus \u306e\u540d\u524d\u7a7a\u9593\u3082\u540c\u6642\u306b\u4f5c\u6210\u3057\u305f\u3044\u305f\u3081\u3001 `\u30ab\u30b9\u30bf\u30e0\u4f5c\u6210` \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n![20160224_azure_event-hub_006.png](https://qiita-image-store.s3.amazonaws.com/0/3812/c7658e81-9721-11a5-37f6-526938b4492c.png)\n\n\u300c\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u540d\u300d\u300c\u30ea\u30fc\u30b8\u30e7\u30f3\u300d \u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u300c\u540d\u524d\u7a7a\u9593\u300d\u306f `\u65b0\u3057\u3044\u540d\u524d\u7a7a\u9593\u306e\u4f5c\u6210` \u3068\u3057\u3001\u300c\u540d\u524d\u7a7a\u9593\u540d\u300d\u306f\u81ea\u52d5\u7684\u306b\u633f\u5165\u3055\u308c\u307e\u3059\u3002\n\n\u300c\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u6570\u300d\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u5165\u308c\u7269\u307e\u305f\u306f\u30b7\u30fc\u30b1\u30f3\u30b9\u3068\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u500b\u6570\u304c\u591a\u3044\u307b\u3069\u540c\u6642\u306b\u51e6\u7406\u3067\u304d\u308b\u30b7\u30fc\u30b1\u30f3\u30b9\u304c\u5897\u3048\u307e\u3059\u304c\u3001\u4eca\u56de\u306f1\u3064\u306e\u30c7\u30fc\u30bf\u30b9\u30c8\u30ea\u30fc\u30e0\u3057\u304b\u6271\u308f\u306a\u3044\u306e\u3067\u3001\u6700\u4f4e\u5024\u306e `2` \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\uff08\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u6570\u306f\u3042\u3068\u304b\u3089\u5909\u66f4\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u5b9f\u7528\u3067\u4f7f\u7528\u3059\u308b\u3068\u304d\u306f\u3088\u304f\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09\n\n\u300c\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ea\u30c6\u30f3\u30b7\u30e7\u30f3\u671f\u9593\u300d\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3059\u308b\u671f\u9593\u3067\u3059\u3002\u4eca\u56de\u306f `1` \u65e5\u3068\u3057\u307e\u3059\u3002\n\n\u4e0a\u8a18\u306e\u8a2d\u5b9a\u3067\u3001\u30a4\u30d9\u30f3\u30c8\u30cf\u30d6\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![20160224_azure_event-hub_007.png](https://qiita-image-store.s3.amazonaws.com/0/3812/e8ccdfc9-9f56-c126-a0e8-650e75dff757.png)\n\n### \u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u306e\u5171\u6709\u30a2\u30af\u30bb\u30b9\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\n\nService Bus \u304a\u3088\u3073\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u306e\u4f5c\u6210\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u306e\u69cb\u6210\u3092\u958b\u304d\u307e\u3059\u3002\n\n![20160224_azure_event-hub_013.png](https://qiita-image-store.s3.amazonaws.com/0/3812/6caef860-37a3-8674-1c00-cc3be332176c.png)\n\n\u300c\u5171\u6709\u30a2\u30af\u30bb\u30b9\u30dd\u30ea\u30b7\u30fc\u300d\u3092\u3001`\u9001\u4fe1` \u3068 `\u30ea\u30c3\u30b9\u30f3` \u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3092\u4ed8\u3051\u3066\u4efb\u610f\u306e\u540d\u524d\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n![20160224_azure_event-hub_020.png](https://qiita-image-store.s3.amazonaws.com/0/3812/cd2b603a-b8d5-b148-c2c8-603646b22ede.png)\n\n\u3053\u306e\u5171\u6709\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306f\u3001[SAS\uff08Shared Access Signature: \u5171\u6709\u30a2\u30af\u30bb\u30b9\u7f72\u540d\uff09](https://azure.microsoft.com/ja-jp/documentation/articles/storage-dotnet-shared-access-signature-part-1/ \"Shared Access Signature: SAS \u30e2\u30c7\u30eb\u306b\u3064\u3044\u3066 | Microsoft Azure\")\u3092\u4f5c\u308b\u969b\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002\n\nAzure Stream Analytics \u306e\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3059\u308b\n----\n\u3055\u3044\u3054\u306b\u3001\u5165\u529b\u3092\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u3001\u51fa\u529b\u3092 Power BI \u3068\u3057\u3066\u3001Stream Analytics \u306e\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n### \u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3059\u308b\n\u753b\u9762\u5de6\u4e0b\u306e `\u65b0\u898f` \u304b\u3089\u3001 `DATA SERVICES` > `STREAM ANALYTICS` > `\u7c21\u6613\u4f5c\u6210` \u3092\u9078\u629e\u3057\u307e\u3059\u3002 `\u30ea\u30fc\u30b8\u30e7\u30f3` \u306f\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305f\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u3068\u540c\u4e00\u3068\u3057\u3001\u65b0\u3057\u3044\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6307\u5b9a\u3057\u3066\u3001\u30b8\u30e7\u30d6\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![20160225_azure_stream-analytics_004.png](https://qiita-image-store.s3.amazonaws.com/0/3812/c69afb70-ca40-167d-c03d-20d7c57b49c0.png)\n\n### \u5165\u529b\u3092\u8a2d\u5b9a\u3059\u308b\n\n\u4f5c\u6210\u3057\u305f\u30b8\u30e7\u30d6\u306e\u300c\u5165\u529b\u300d\u30bf\u30d6\u3092\u958b\u304d\u3001 `\u5165\u529b\u306e\u8ffd\u52a0` \u3092\u3057\u307e\u3059\u3002\u5165\u529b\u30b8\u30e7\u30d6\u306f `\u30c7\u30fc\u30bf\u30b9\u30c8\u30ea\u30fc\u30e0` \u306e `\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6` \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n![20160225_azure_stream-analytics_008.png](https://qiita-image-store.s3.amazonaws.com/0/3812/fd98bc42-b4e3-b8f7-e729-35ef085e74f2.png)\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u3068\u30b7\u30ea\u30a2\u30eb\u5316\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u3001\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n- \u30a4\u30d9\u30f3\u30c8\u30cf\u30d6\u306e\u8a2d\u5b9a\n - \u5165\u529b\u306e\u30a8\u30a4\u30ea\u30a2\u30b9: \u4efb\u610f\n - \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3: `\u73fe\u5728\u306e\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30d6\u3092\u4f7f\u7528`\n - \u540d\u524d\u7a7a\u9593\u3092\u9078\u629e\u3059\u308b: \u4eca\u56de\u4f5c\u6210\u3057\u305f\u540d\u524d\u7a7a\u9593\n - EVENTHUB \u3092\u9078\u629e\u3059\u308b: \u4eca\u56de\u4f5c\u6210\u3057\u305f\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\n - \u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6 \u30dd\u30ea\u30b7\u30fc: \u5909\u66f4\u3057\u306a\u3044\n - \u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u30fc\u30b0\u30eb\u30fc\u30d7: \u5909\u66f4\u3057\u306a\u3044\n\n- \u30b7\u30ea\u30a2\u30eb\u5316\u306e\u8a2d\u5b9a\n - \u30a4\u30d9\u30f3\u30c8\u306e\u30b7\u30ea\u30a2\u30eb\u5316\u306e\u5f62\u5f0f: JSON\n - \u30a8\u30f3\u30b3\u30fc\u30c9: UTF8\n\n![20160225_azure_stream-analytics_009.png](https://qiita-image-store.s3.amazonaws.com/0/3812/716a9842-6964-1400-b515-d5c1a95a840d.png)\n![20160225_azure_stream-analytics_010.png](https://qiita-image-store.s3.amazonaws.com/0/3812/d3d3628a-bf4b-a8a6-12a5-18319d35276e.png)\n\n### \u51fa\u529b\u3092\u8a2d\u5b9a\u3059\u308b\n\u6b21\u306b\u51fa\u529b\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u4f5c\u6210\u3057\u305f\u30b8\u30e7\u30d6\u306e\u300c\u51fa\u529b\u300d\u30bf\u30d6\u3092\u958b\u304d\u3001 `\u51fa\u529b\u306e\u8ffd\u52a0` \u3092\u3057\u307e\u3059\u3002\u300cPower BI\u300d\u3092\u6307\u5b9a\u3057\u3001\u300c\u4eca\u3059\u3050\u627f\u8a8d\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u4f5c\u6210\u3057\u305f Power BI \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\u300c\u51fa\u529b\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u300d\u300c\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u540d\u300d\u300c\u30c6\u30fc\u30d6\u30eb\u540d\u300d\u306b\u4efb\u610f\u306e\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u3001\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n![20160225_azure_stream-analytics_015.png](https://qiita-image-store.s3.amazonaws.com/0/3812/5dac3227-83f5-c350-7a38-5db48c0da3fe.png)\n![20160225_azure_stream-analytics_016.png](https://qiita-image-store.s3.amazonaws.com/0/3812/e43c59fc-d0ce-7ec3-e2b0-804f0ffd618d.png)\n\n### \u30af\u30a8\u30ea\u3092\u8a2d\u5b9a\u3059\u308b\n\u6700\u5f8c\u306b\u30af\u30a8\u30ea\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u4f5c\u6210\u3057\u305f\u30b8\u30e7\u30d6\u306e\u300c\u30af\u30a8\u30ea\u300d\u30bf\u30d6\u3092\u958b\u304d\u3001\u30af\u30a8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n`INTO` \u306b\u300c\u51fa\u529b\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u300d\u3067\u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3092\u3001`FROM` \u306b\u300c\u5165\u529b\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u300d\u3067\u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3092\u8a2d\u5b9a\u3057\u3001\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\n![20160225_azure_stream-analytics_017.png](https://qiita-image-store.s3.amazonaws.com/0/3812/578bceea-a62f-0916-bb06-f997d1b6b889.png)\n\n\u4ee5\u4e0a\u3067\u30af\u30e9\u30a6\u30c9\u5074\u306e\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01\n\nEpilogue - \u304a\u308f\u308a\u306b\n====\n\u30a4\u30d9\u30f3\u30c8 \u30cf\u30d6\u304b\u3089 Power BI \u3078\u3001Stream Analytics \u3092\u7d4c\u7531\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u9023\u643a\u3057\u307e\u3059\u3002Stream Analytics \u306e\u30af\u30a8\u30ea\u3067\u306f\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u306e\u307f\u3092\u51fa\u529b\u306b\u56de\u3059\u306a\u3069\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3082\u53ef\u80fd\u3067\u3059\u306e\u3067\u3001\u78ba\u8a8d\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u305d\u308c\u3067\u306f\u3001\u6b21\u56de\u306f\u3044\u3088\u3044\u3088 ESP-WROOM-02 \u304b\u3089\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3059\uff01\n"}