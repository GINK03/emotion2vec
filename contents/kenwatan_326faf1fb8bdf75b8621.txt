{"context": "\n\nJSON\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u3092Oracle Database \u306b\u683c\u7d0d\u3057\u305f\u306e\u3061\u691c\u7d22\u9ad8\u901f\u5316\u306e\u305f\u3081\u306b\u7d22\u5f15\u306e\u4f5c\u6210\u304c\u53ef\u80fd\n\n\uff12\u7a2e\u985e\u306e\u7d22\u5f15\n\n\u5b9a\u578b\u691c\u7d22\u306e\u305f\u3081\u306e\u7d22\u5f15\n\nJSON_VALUE()\u95a2\u6570 \u3092\u4f7f\u3063\u305f\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u7d22\u5f15\nB\u30c4\u30ea\u30fc\u7d22\u5f15\u3001\u307e\u305f\u306f\u3001\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u7d22\u5f15\nJSON_EXISTS()\u95a2\u6570\u3092 \u4f7f\u3063\u305f\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u7d22\u5f15\nIS JSON\u3092\u4f7f\u3063\u305f\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u7d22\u5f15\n\n\n\u30a2\u30c9\u30fb\u30db\u30c3\u30af\u691c\u7d22\u306e\u305f\u3081\u306e\u7d22\u5f15\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4e0a\u3067\u306f\"JSON Search Index\" \u3068\u8868\u8a18\nJSON\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5168\u4f53\u306e\u3069\u3053\u304b\u306b\u7279\u5b9a\u306e\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u304b?\n\u4efb\u610f\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u7279\u5b9a\u306e\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u304b?\n\u5b9f\u4f53\u306fOracle Text\u7d22\u5f15(Oracle Text\u306e\u6709\u52b9\u5316\u304c\u5fc5\u8981)\n\n\u30a2\u30c9\u30fb\u30db\u30c3\u30af\u691c\u7d22\u7528\u7d22\u5f15\u306e\u30b3\u30de\u30f3\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 (12.2)\nCREATE SEARCH INDEX <\u7d22\u5f15\u540d> ON <\u8868\u540d> (<JSON\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u5217\u540d>) for JSON;\n\n\u30b3\u30de\u30f3\u30c9\u4f8b\nCREATE SEARCH INDEX JSON_IDX ON JSON (doc) for JSON;\n\n\u30a2\u30c9\u30fb\u30db\u30c3\u30af\u691c\u7d22\u7528\u7d22\u5f15\u306e\u30b3\u30de\u30f3\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 (12.1)\nCREATE INDEX <\u7d22\u5f15\u540d> ON <\u8868\u540d> (<JSON\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u5217\u540d>) INDEXTYPE IS CTXSYS.CONTEXT PARAMETERS ('section group CTXSYS.JSON_SECTION_GROUP')\n\u30b3\u30de\u30f3\u30c9\u4f8b\nCREATE INDEX JSON_IDX ON JSON (doc) INDEXTYPE IS CTXSYS.CONTEXT PARAMETERS ('section group CTXSYS.JSON_SECTION_GROUP')\n\n\u7d22\u5f15\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u4f8b\n\u691c\u7d22SQL\nselect * from json where json_value(doc,'$.lastName') = 'Venzl';\n\n\u5b9f\u884c\u8a08\u753b\n-----------------------------------------------------------------------------------------\n| Id  | Operation                   | Name      | Rows  | Bytes | Cost (%CPU)| Time     |\n-----------------------------------------------------------------------------------------\n|   0 | SELECT STATEMENT            |           |     1 |  2014 |     4   (0)| 00:00:01 |\n|*  1 |  TABLE ACCESS BY INDEX ROWID| JSON      |     1 |  2014 |     4   (0)| 00:00:01 |\n|*  2 |   DOMAIN INDEX              | JSON_IDX1 |       |       |     4   (0)| 00:00:01 |\n-----------------------------------------------------------------------------------------\n\nPredicate Information (identified by operation id):\n---------------------------------------------------\n\n   1 - filter(JSON_VALUE(\"DOC\" FORMAT JSON , '$.lastName' RETURNING\n              VARCHAR2(4000) NULL ON ERROR)='Venzl')\n   2 - access(\"CTXSYS\".\"CONTAINS\"(\"JSON\".\"DOC\",'{Venzl} INPATH(/lastName)')>0)\n\n\u53c2\u8003\nOracle RDBMS \u306b JSON\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\n# JSON\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u3092Oracle Database \u306b\u683c\u7d0d\u3057\u305f\u306e\u3061\u691c\u7d22\u9ad8\u901f\u5316\u306e\u305f\u3081\u306b\u7d22\u5f15\u306e\u4f5c\u6210\u304c\u53ef\u80fd\n## \uff12\u7a2e\u985e\u306e\u7d22\u5f15\n### \u5b9a\u578b\u691c\u7d22\u306e\u305f\u3081\u306e\u7d22\u5f15\n- JSON_VALUE()\u95a2\u6570 \u3092\u4f7f\u3063\u305f\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u7d22\u5f15\n- B\u30c4\u30ea\u30fc\u7d22\u5f15\u3001\u307e\u305f\u306f\u3001\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u7d22\u5f15\n- JSON_EXISTS()\u95a2\u6570\u3092 \u4f7f\u3063\u305f\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u7d22\u5f15\n- IS JSON\u3092\u4f7f\u3063\u305f\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u7d22\u5f15\n\n### \u30a2\u30c9\u30fb\u30db\u30c3\u30af\u691c\u7d22\u306e\u305f\u3081\u306e\u7d22\u5f15\n- \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4e0a\u3067\u306f\"JSON Search Index\" \u3068\u8868\u8a18\n- JSON\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5168\u4f53\u306e\u3069\u3053\u304b\u306b\u7279\u5b9a\u306e\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u304b?\n- \u4efb\u610f\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u7279\u5b9a\u306e\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u304b?\n- \u5b9f\u4f53\u306fOracle Text\u7d22\u5f15(Oracle Text\u306e\u6709\u52b9\u5316\u304c\u5fc5\u8981)\n\n\n\u30a2\u30c9\u30fb\u30db\u30c3\u30af\u691c\u7d22\u7528\u7d22\u5f15\u306e\u30b3\u30de\u30f3\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 (12.2)\n\n```\nCREATE SEARCH INDEX <\u7d22\u5f15\u540d> ON <\u8868\u540d> (<JSON\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u5217\u540d>) for JSON;\n```\n\n\u30b3\u30de\u30f3\u30c9\u4f8b\n\n```\nCREATE SEARCH INDEX JSON_IDX ON JSON (doc) for JSON;\n```\n\n\n\u30a2\u30c9\u30fb\u30db\u30c3\u30af\u691c\u7d22\u7528\u7d22\u5f15\u306e\u30b3\u30de\u30f3\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 (12.1)\n`CREATE INDEX <\u7d22\u5f15\u540d> ON <\u8868\u540d> (<JSON\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u5217\u540d>) INDEXTYPE IS CTXSYS.CONTEXT PARAMETERS ('section group CTXSYS.JSON_SECTION_GROUP')`\n\u30b3\u30de\u30f3\u30c9\u4f8b\n`CREATE INDEX JSON_IDX ON JSON (doc) INDEXTYPE IS CTXSYS.CONTEXT PARAMETERS ('section group CTXSYS.JSON_SECTION_GROUP')`\n\n### \u7d22\u5f15\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u4f8b\n\u691c\u7d22SQL\n\n``` sql\nselect * from json where json_value(doc,'$.lastName') = 'Venzl';\n\n\u5b9f\u884c\u8a08\u753b\n-----------------------------------------------------------------------------------------\n| Id  | Operation                   | Name      | Rows  | Bytes | Cost (%CPU)| Time     |\n-----------------------------------------------------------------------------------------\n|   0 | SELECT STATEMENT            |           |     1 |  2014 |     4   (0)| 00:00:01 |\n|*  1 |  TABLE ACCESS BY INDEX ROWID| JSON      |     1 |  2014 |     4   (0)| 00:00:01 |\n|*  2 |   DOMAIN INDEX              | JSON_IDX1 |       |       |     4   (0)| 00:00:01 |\n-----------------------------------------------------------------------------------------\n\nPredicate Information (identified by operation id):\n---------------------------------------------------\n\n   1 - filter(JSON_VALUE(\"DOC\" FORMAT JSON , '$.lastName' RETURNING\n              VARCHAR2(4000) NULL ON ERROR)='Venzl')\n   2 - access(\"CTXSYS\".\"CONTAINS\"(\"JSON\".\"DOC\",'{Venzl} INPATH(/lastName)')>0)\n```\n\n\u53c2\u8003\n[Oracle RDBMS \u306b JSON\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b](http://qiita.com/kenwatan/items/1bb8e78cf311d9bbbd71)\n", "tags": ["oracle", "JSON", "performance"]}