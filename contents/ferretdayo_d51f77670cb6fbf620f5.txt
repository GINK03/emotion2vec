{"tags": ["PHP", "DesignPatterns", "FactoryMethodPattern", "StatePattern", "\u30df\u30ba\u30b4\u30ed\u30a6"], "context": "\n\n\u306f\u3058\u3081\u306e\u306f\u3058\u3081\u306b\nPHPer\u306e\u307f\u306a\u3055\u3093\u3053\u3093\u306b\u3061\u306f\u3001PHP Advent Calendar 2016\u306e14\u65e5\u76ee\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u3059\u3002\n\n\u306f\u3058\u3081\u306b\nTrait \u3068\u3044\u3046\u5358\u8a9e\u3092\u805e\u3044\u305f\u3053\u3068\u3042\u3063\u305f\u304c\u3001\u5b9f\u969b\u52c9\u5f37\u3057\u305f\u3053\u3068\u306a\u304b\u3063\u305f\u306e\u3067\u3002\u3002\u3002\u3084\u308d\u3046\u30fb\u30fb\u30fb\u3063\u3068\u601d\u3063\u3066\u30dd\u30b1\u30e2\u30f3\u3092\u5b9f\u88c5\u3057\u3066\u3044\u305f\u3089\u306a\u305c\u304bState\u3068Factory Method \u30d1\u30bf\u30fc\u30f3\u306e\u52c9\u5f37\u306b\u306a\u3063\u3061\u3083\u3063\u305f\u3002\u3002\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001PHP \u3067 State \u30d1\u30bf\u30fc\u30f3\u3068 Factory Method \u30d1\u30bf\u30fc\u30f3\u3092\u5b9f\u88c5\u3057\u305f\u8a71\u3067\u3059\u3002\n\u30b3\u30fc\u30c9\u3084\u30af\u30e9\u30b9\u56f3\u3067\u9593\u9055\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u308b\u3068\u3046\u308c\u3057\u304f\u601d\u3044\u307e\u3059\u3002\n\n\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3068\u306f\nWikipedia \u3055\u3093\u3088\u308a\u30fb\u30fb\u30fb\n\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u958b\u767a\u306b\u304a\u3051\u308b\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\uff08\u578b\u7d19\uff08\u304b\u305f\u304c\u307f\uff09\u307e\u305f\u306f\u8a2d\u8a08\u30d1\u30bf\u30fc\u30f3\u3001\u82f1: design pattern\uff09\u3068\u306f\u3001\u904e\u53bb\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u8a2d\u8a08\u8005\u304c\u767a\u898b\u3057\u7de8\u307f\u51fa\u3057\u305f\u8a2d\u8a08\u30ce\u30a6\u30cf\u30a6\u3092\u84c4\u7a4d\u3057\u3001\u540d\u524d\u3092\u3064\u3051\u3001\u518d\u5229\u7528\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u7279\u5b9a\u306e\u898f\u7d04\u306b\u5f93\u3063\u3066\u30ab\u30bf\u30ed\u30b0\u5316\u3057\u305f\u3082\u306e\u3067\u3042\u308b\u3002\n\n\u8981\u3059\u308b\u306b\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u306f\u5b9f\u88c5\u3059\u308b\u4e0a\u3067\u3001\u518d\u5229\u7528\u3057\u3084\u3059\u3044\u30d1\u30bf\u30fc\u30f3\u306e\u3053\u3068\u3067\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u30d7\u30ed\u306e\u65b9\u3005\u306f\u3001\u77e5\u3089\u305a\u77e5\u3089\u305a\u306e\u3046\u3061\u306b\u5229\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\nGoF\nGoF ( Gang of Four; \u56db\u4eba\u7d44 ) \u306e\u7565\u3067\u3001 \u30a8\u30ea\u30c3\u30af\u30fb\u30ac\u30f3\u30de\u3001\u30ea\u30c1\u30e3\u30fc\u30c9\u30fb\u30d8\u30eb\u30e0\u3001\u30e9\u30eb\u30d5\u30fb\u30b8\u30e7\u30f3\u30bd\u30f3\u3001\u30b8\u30e7\u30f3\u30fb\u30d6\u30ea\u30b7\u30c7\u30a3\u30fc\u30b9 \u306e4\u540d\u3067\u3042\u308b\u3002\u307e\u305f\u30014\u540d\u304c\u304c\u5171\u8457\u3057\u305f\u300c\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u306b\u304a\u3051\u308b\u518d\u5229\u7528\u306e\u305f\u3081\u306e\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u300d\u304b\u3089\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u304c\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u958b\u767a\u3067\u521d\u3081\u3066\u51fa\u73fe\u3057\u305f\u3002\n\nState \u30d1\u30bf\u30fc\u30f3\nState \u30d1\u30bf\u30fc\u30f3\u306f\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u3092\u8868\u73fe\u3059\u308b\u305f\u3081\u306b\u7528\u3044\u3089\u308c\u307e\u3059\u3002\u4f8b\u3092\u6319\u3052\u308b\u3068\u3001\u4fe1\u53f7\u6a5f\u306e\u9752 \u2192 \u9ec4 \u2192 \u8d64\u306e\u72b6\u614b\u9077\u79fb\u306a\u3069\u304c\u5b9f\u88c5\u4f8b\u3068\u3057\u3066\u6319\u3052\u3089\u308c\u308b\u3002\nState \u30d1\u30bf\u30fc\u30f3\u3092\u30af\u30e9\u30b9\u56f3\u3092\u793a\u3059\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u753b\u50cf\u306e\u5f15\u7528\u5143: Wikipedia\u300cState \u30d1\u30bf\u30fc\u30f3\u300d\u3088\u308a\n\n\nFactory Method \u30d1\u30bf\u30fc\u30f3\nFactory Method \u30d1\u30bf\u30fc\u30f3\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u308a\u65b9\u3092\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\u3067\u6c7a\u3081\u3001\u5177\u4f53\u7684\u306b\u3069\u306e\u3088\u3046\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3059\u308b\u306e\u304b\u3092\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u884c\u3046\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\u307e\u305f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u751f\u6210\u90e8\u5206\u306e Creator \u3068\u51e6\u7406\u90e8\u5206\u306e Product \u306b\u5206\u3051\u3066\u3044\u307e\u3059\u3002\n\u4f8b\u3092\u4f8b\u3048\u308b\u3068\u3001\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\u3067\u300c\u81ea\u52d5\u8eca\u3092\u4f5c\u308b\u30af\u30e9\u30b9\u300d\u3042\u308a\u3001\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u3001\u300c\u30b9\u30dd\u30fc\u30c4\u30ab\u30fc\u3092\u4f5c\u308b\u30b5\u30d6\u30af\u30e9\u30b9\u300d\u3084\u300c\u8efd\u81ea\u52d5\u8eca\u3092\u4f5c\u308b\u30b5\u30d6\u30af\u30e9\u30b9\u300d\u3092\u5b9a\u7fa9\u3057\u3066\u3042\u3052\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u30af\u30e9\u30b9\u56f3\u3067\u793a\u3059\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u753b\u50cf\u306e\u5f15\u7528\u5143: Wikipedia\u300cFactory Method \u30d1\u30bf\u30fc\u30f3\u300d\u3088\u308a\n\n\n\u30df\u30ba\u30b4\u30ed\u30a6\u3068\u306f\n\u30dd\u30b1\u30c3\u30c8\u30e2\u30f3\u30b9\u30bf\u30fc\u30eb\u30d3\u30fc\u30fb\u30b5\u30d5\u30a1\u30a4\u30a2\u3067\u767b\u5834\u3057\u305f\u30dd\u30b1\u30e2\u30f3\u3067\u3059\u3002\u57fa\u672c\u30c7\u30fc\u30bf\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002\n\n\n\n\u9805\u76ee\n\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u30c7\u30fc\u30bf\n\n\n\n\n\u56f3\u9451\nNo.258\n\n\n\u5206\u985e\n\u306c\u307e\u3046\u304a\u30dd\u30b1\u30e2\u30f3\n\n\n\u30bf\u30a4\u30d7\n\u307f\u305a\n\n\n\u305f\u304b\u3055\n0.4m\n\n\n\u304a\u3082\u3055\n7.6kg\n\n\n\u3068\u304f\u305b\u3044\n\u3052\u304d\u308a\u3085\u3046/\u3057\u3081\u308a\u3051\n\n\n\n\u30df\u30ba\u30b4\u30ed\u30a6\u306f Lv42 \u3067\u30cf\u30a4\u30c9\u30ed\u30dd\u30f3\u30d7\u3092\u899a\u3048\u307e\u3059!\u662f\u975e Lv42 \u307e\u3067\u9032\u5316\u3055\u305b\u305a\u306b\u9811\u5f35\u308a\u307e\u3057\u3087\u3046\u3002\n\n\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u5b9f\u88c5\n\u4eca\u56de\u5b9f\u88c5\u4e88\u5b9a\u306e State \u30d1\u30bf\u30fc\u30f3\u3068 Factory Method \u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u305f\u30af\u30e9\u30b9\u56f3\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nState \u30d1\u30bf\u30fc\u30f3\u306e\u5b9f\u88c5\n\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u9032\u5316\u306f\u3001\u4ee5\u4e0b\u306e\u9032\u5316\u9806\u3067\u3042\u308b\u3002\n\n\u30df\u30ba\u30b4\u30ed\u30a6 \u2192 \u30cc\u30de\u30af\u30ed\u30fc \u2192 \u30e9\u30b0\u30e9\u30fc\u30b8\n\n\u3053\u308c\u3092\u5b9f\u969b\u306b\u5b9f\u88c5\u3059\u308b\u3002\n\u4eca\u56de\u306e State \u30d1\u30bf\u30fc\u30f3\u306e\u30af\u30e9\u30b9\u56f3\u306f\u67a0\u5185\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n\u3067\u306f\u3001\u5b9f\u88c5\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u307e\u305a\u521d\u3081\u306b PokemonState \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002\n\nPokemonStateInterface.php\n<?php\ninterface PokemonStateInterface {\n    public function evolution();\n    public function getName();\n}\n\n\nPokemonState\u304c\u3001\u30dd\u30b1\u30e2\u30f3\u306e State \u306e\u578b\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u305d\u308c\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u30dd\u30b1\u30e2\u30f3\u306e\u30df\u30ba\u30b4\u30ed\u30a6\u3001\u30cc\u30de\u30af\u30ed\u30fc\u3001\u30e9\u30b0\u30e9\u30fc\u30b8\u306e State \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3067\u306f\u3001PokemonState\u3092\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u521d\u3081\u306b\u30df\u30ba\u30b4\u30ed\u30a6\u306e State \u3067\u3059\u3002\nevoluation()\u3067\u306f\u3001\u6b21\u306e\u9077\u79fb\u5148\u306e NumacrawState \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3057\u307e\u3059\u3002getName() \u3067\u306f\u3001\u30dd\u30b1\u30e2\u30f3\u306e\u540d\u524d\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002(\u4eca\u4f55\u306e\u30dd\u30b1\u30e2\u30f3\u306a\u306e\u304b\u6559\u3048\u3066\u3082\u3089\u3046\u305f\u3081\u3067\u3059)\n\nMizugorouState.php\n<?php\nrequire_once(\"PokemonStateInterface.php\");\nrequire_once(\"NumacrawState.php\");\n/**\n * \u30df\u30ba\u30b4\u30ed\u30a6\u306eState\n */\nclass MizugorouState implements PokemonStateInterface{\n    // \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n    public function evolution(){\n        return new NumacrawState();\n    }\n\n    public function getName(){\n        return \"\u30df\u30ba\u30b4\u30ed\u30a6\";\n    }\n}\n\n\n\u6b21\u306f\u3001\u30cc\u30de\u30af\u30ed\u30fc\u306eState \u3067\u3059\u3002\n\u3053\u308c\u306f MizugorouState \u30af\u30e9\u30b9\u3068\u540c\u69d8\u306b evoluation() \u306f\u3001\u6b21\u306e\u9077\u79fb\u5148\u306e LaglargeState \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3057\u307e\u3059\u3002\n\nNumacrawState.php\n<?php\nrequire_once(\"PokemonStateInterface.php\");\nrequire_once(\"LaglargeState.php\");\n/**\n * \u30cc\u30de\u30af\u30ed\u30fc\u306eState\n */\nclass NumacrawState implements PokemonStateInterface{\n    // \u30e9\u30b0\u30e9\u30fc\u30b8\u306b\u9032\u5316\n    public function evolution(){\n        return new LaglargeState();\n    }\n\n    public function getName(){\n        return \"\u30cc\u30de\u30af\u30ed\u30fc\";\n    }\n}\n\n\n\u6b21\u306f\u3001\u30e9\u30b0\u30e9\u30fc\u30b8\u306eState \u3067\u3059\u3002\n\u30e9\u30b0\u30e9\u30fc\u30b8\u306f\u9032\u5316\u3067\u304d\u306a\u3044\u305f\u3081\u3001evoluation() \u3067\u306f\u81ea\u8eab\u3067\u3042\u308b $this \u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\nLaglargeState.php\n<?php\nrequire_once(\"PokemonStateInterface.php\");\n/**\n * \u30e9\u30b0\u30e9\u30fc\u30b8\u306eState\n */\nclass LaglargeState implements PokemonStateInterface{\n    // \u30e9\u30b0\u30e9\u30fc\u30b8\u306f\u9032\u5316\u3057\u306a\u3044\u306e\u3067\u81ea\u8eab\u3092\u8fd4\u5374\n    public function evolution(){\n        return $this;\n    }\n    //\n    public function getName(){\n        return \"\u30e9\u30b0\u30e9\u30fc\u30b8\";\n    }\n}\n\n\n\u3053\u308c\u3089\u306eState\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u52d5\u304f\u3068\u601d\u3044\u307e\u3059\u3002\n\nMizugorou.php\n<?php\nrequire_once(\"MizugorouState.php\");\n\nclass Mizugorou{\n    private $state = null;\n    public function __construct(){\n        $this->state = new MizugorouState();\n    }\n    public function evoluation(){\n        $this->state = $this->state->evolution();\n    }\n    public function showName(){\n        echo $this->state->getName().\"<br>\";\n    }\n}\n$mizugorou = new Mizugorou();\n$mizugorou->showName();  // \u30df\u30ba\u30b4\u30ed\u30a6\n\n$mizugorou->evoluation();// \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n$mizugorou->showName();  // \u30cc\u30de\u30af\u30ed\u30fc\n$mizugorou->evoluation();// \u30e9\u30b0\u30e9\u30fc\u30b8\u306b\u9032\u5316\n$mizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$mizugorou->evoluation();// \u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u307e\u307e\n$mizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n\n\n\nFactory Method \u30d1\u30bf\u30fc\u30f3\u306e\u5b9f\u88c5\n\u4eca\u56de\u306eFactory Method \u30d1\u30bf\u30fc\u30f3\u306e\u30af\u30e9\u30b9\u56f3\u306f\u67a0\u5185\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\nFactory Method \u30d1\u30bf\u30fc\u30f3\u3067\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u751f\u6210\u90e8\u5206\u306e Creator \u3068\u51e6\u7406\u90e8\u5206\u306e Product \u306b\u5206\u3051\u3066\u3044\u307e\u3059\u3002\n\u3067\u306f\u3001\u307e\u305a\u521d\u3081\u306b\u30dd\u30b1\u30e2\u30f3\u306e\u5177\u4f53\u7684\u306a\u51e6\u7406\u90e8\u5206( \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u51e6\u7406\u90e8\u5206\u306e Product )\u3092\u5b9f\u88c5\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u30dd\u30b1\u30e2\u30f3\u304c\u5171\u901a\u306e\u51e6\u7406\u3092PokemonProductAbstract \u30af\u30e9\u30b9\u306b\u8a18\u8ff0\u3059\u308b\u3002\n\u4eca\u56de\u306e\u30dd\u30b1\u30e2\u30f3\u306e\u5171\u901a\u51e6\u7406\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f\u3002\n - \u9032\u5316\n - \u540d\u524d\u306e\u8868\u793a\n - \u4f5c\u6210\u65e5\u6642\n$pokemonState \u5909\u6570\u306b\u306f\u3001\u73fe\u5728\u306e\u30dd\u30b1\u30e2\u30f3\u306e\u72b6\u614b(State)\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002evolution() \u3092\u3059\u308b\u3068\u3001\u6b21\u306e\u72b6\u614b\u3092 $pokemonState \u5909\u6570\u306b\u4ee3\u5165\u3055\u308c\u3001\u72b6\u614b\u9077\u79fb\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\nPokemonProductAbstract.php\n<?php\n/**\n * \u4f5c\u6210\u3055\u308c\u308b\u30dd\u30b1\u30e2\u30f3\u306e\u62bd\u8c61\u30af\u30e9\u30b9\n */\nabstract class PokemonProductAbstract{\n    // \u30dd\u30b1\u30e2\u30f3\u306e\u72b6\u614b\u3092\u4fdd\u6301\u3059\u308b\u30af\u30e9\u30b9\u5909\u6570\n    protected $pokemonState = null;\n\n    // \u9032\u5316\n    public function evolution(){\n        $this->pokemonState = $this->pokemonState->evolution();\n    }\n    // \u73fe\u5728\u306e\u30dd\u30b1\u30e2\u30f3\u306e\u540d\u524d\u53d6\u5f97\n    public function showName(){\n        echo $this->pokemonState->getName().\"<br>\";\n    }\n    // \u751f\u6210\u65e5\u6642\u3092\u8fd4\u3059\u95a2\u6570\n    public abstract function showCreationDate();\n}\n\n\n\u3067\u306f\u3001\u3053\u308c\u3092\u7d99\u627f\u3057\u3066\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u51e6\u7406\u3092 MizugorouProduct \u30af\u30e9\u30b9\u306b\u66f8\u304d\u307e\u3057\u3087\u3046\u3002\nconstructor\u3067\u3001MizugorouState \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3067\u72b6\u614b\u9077\u79fb\u306e\u4e2d\u306e\u30df\u30ba\u30b4\u30ed\u30a6\u304b\u3089\u59cb\u307e\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u304b\u3063\u305f showCreationDate \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\n\nMizugorouProduct.php\n<?php\nrequire_once(\"PokemonProductAbstract.php\");\nrequire_once(\"MizugorouState.php\");\n\n/**\n * \u5de5\u5834\u304b\u3089\u4f5c\u6210\u3055\u308c\u308b\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u30af\u30e9\u30b9\n */\nclass MizugorouProduct extends PokemonProductAbstract\n{\n    private $creationDate = null;\n    public function __construct(){\n        // \u30df\u30ba\u30b4\u30ed\u30a6\u306e\u72b6\u614b\u306e\u751f\u6210\n        $this->pokemonState = new MizugorouState();\n        // \u751f\u6210\u65e5\u6642\u306e\u53d6\u5f97\n        $date = new DateTime();\n        $this->creationDate = $date->format('Y-m-d H:i:s');\n    }\n    // \u751f\u6210\u65e5\u6642\u3092\u8fd4\u3059\u95a2\u6570\n    public function showCreationDate(){\n        echo $this->creationDate;\n    }\n}\n\n\n\u6b21\u306f\u3001\u30dd\u30b1\u30e2\u30f3\u306e\u751f\u6210\u90e8\u5206(\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u751f\u6210\u90e8\u5206\u306e Creator )\u3092\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002\n\u30dd\u30b1\u30e2\u30f3\u306e\u5171\u901a\u306e\u51e6\u7406\u3092 PokemonCreatorAbstract \u30af\u30e9\u30b9\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001\u30dd\u30b1\u30e2\u30f3\u3092\u4f5c\u6210\u3059\u308b createPokemon() \u3092\u547c\u3076 create() \u30e1\u30bd\u30c3\u30c9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002createPokemon() \u30e1\u30bd\u30c3\u30c9\u306f\u3001\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u5b9f\u88c5\u3092\u4efb\u305b\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u4eca\u56de\u3067\u3042\u308c\u3070\u3001MizugorouCreator \u30af\u30e9\u30b9\u304c\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3059 createPokemon() \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\nPokemonCreatorAbstract.php\n<?php\n/**\n * \u30dd\u30b1\u30e2\u30f3\u3092\u4f5c\u6210\u3059\u308b\u5de5\u5834\n */\nabstract class PokemonCreatorAbstract{\n    // \u7d99\u627f\u5148\u306ecreatePokemon\u95a2\u6570\u3092\u5b9f\u884c\uff08\u30dd\u30b1\u30e2\u30f3\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u5374\uff09\n    public function create(){\n        return $this->createPokemon();\n    }\n    // \u30dd\u30b1\u30e2\u30f3\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\n    protected abstract function createPokemon();\n}\n\n\n\u3067\u306f\u3001PokemonCreatorAbstract \u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u3066\u3001\u30df\u30ba\u30b4\u30ed\u30a6\u3092\u751f\u6210\u3059\u308b MizugorouCreator \u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\u3067\u5b9f\u88c5\u3092\u4efb\u3055\u308c\u305f createPokemon() \u306e\u5b9f\u88c5\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002MizugorouCreator \u30af\u30e9\u30b9\u3067\u306f\u30df\u30ba\u30b4\u30ed\u30a6\u3092\u5927\u91cf\u751f\u7523\u3057\u305f\u3044\u306e\u3067\u3001\u30df\u30ba\u30b4\u30ed\u30a6( MizugorouProduct \u30af\u30e9\u30b9)\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\n\nMizugorouCreator.php\n<?php\nrequire_once(\"PokemonCreatorAbstract.php\");\nrequire_once(\"MizugorouProduct.php\");\n/**\n * \u30df\u30ba\u30b4\u30ed\u30a6\u3092\u4f5c\u6210\u3059\u308b\u5de5\u5834\n */\nclass MizugorouCreator extends PokemonCreatorAbstract{\n    // \u30df\u30ba\u30b4\u30ed\u30a6\u3092\u751f\u6210\n    protected function createPokemon(){\n        return new MizugorouProduct();\n    }\n}\n\n\n\u3053\u308c\u3067\u3001\u57fa\u672c\u7684\u306a\u5b9f\u88c5\u304c\u7d42\u4e86\u3067\u3059\uff01\u3042\u3068\u306f State \u30d1\u30bf\u30fc\u30f3\u3068 Factory Method \u30d1\u30bf\u30fc\u30f3\u3067\u5b9f\u88c5\u3057\u305f\u3082\u306e\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3057\u3087\u3046\u3002\n\npokemon.php\n<?php\nrequire_once(\"MizugorouCreator.php\");\n\n$mizugorou = new MizugorouCreator();\n$firstMizugorou = $mizugorou->create(); // \u30df\u30ba\u30b4\u30ed\u30a6\u306e\u751f\u6210\n$firstMizugorou->showName();  // \u30df\u30ba\u30b4\u30ed\u30a6\n$firstMizugorou->evolution(); // \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n$firstMizugorou->showName();  // \u30cc\u30de\u30af\u30ed\u30fc\n$firstMizugorou->evolution(); // \u30e9\u30b0\u30e9\u30fc\u30b8\u306b\u9032\u5316\n$firstMizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$firstMizugorou->evolution(); // \u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u9032\u5316\u5148\u306f\u306a\u3044\u306e\u3067\u3001\u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u307e\u307e\n$firstMizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$firstMizugorou->showCreationDate(); // \u751f\u6210\u6642\u9593\u306e\u8868\u793a\nsleep(3);\necho \"<hr>\";\n$secondMizugorou = $mizugorou->create(); // 2\u5339\u76ee\u306e\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u751f\u6210\n$secondMizugorou->showName();  // \u30df\u30ba\u30b4\u30ed\u30a6\n$secondMizugorou->evolution(); // \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n$secondMizugorou->showName();  // \u30cc\u30de\u30af\u30ed\u30fc\n$secondMizugorou->evolution(); // \u30e9\u30b0\u30e9\u30fc\u30b8\u306b\u9032\u5316\n$secondMizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$secondMizugorou->evolution(); // \u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u9032\u5316\u5148\u306f\u306a\u3044\u306e\u3067\u3001\u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u307e\u307e\n$secondMizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$secondMizugorou->showCreationDate();\n\n\n\u5b9f\u884c\u7d50\u679c\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n\n\u6700\u5f8c\u306b\n\u79c1\u306f\u3001\u30df\u30ba\u30b4\u30ed\u30a6\u304c\u597d\u304d\u3067\u3059\u3002\u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316? \u305d\u306e\u3088\u3046\u306a\u3053\u3068\u306f\u79c1\u306b\u3068\u3063\u3066\u8a31\u3059\u307e\u3058\u304d\u3053\u3068\u3067\u3059\u3002\n\u30dd\u30b1\u30c3\u30c8\u30e2\u30f3\u30b9\u30bf\u30fc\u30eb\u30d3\u30fc\u3092\u6614\u3084\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u30df\u30ba\u30b4\u30ed\u30a6\u3092 Lv100 \u306b\u3059\u308b\u307b\u3069\u3067\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001MizugorouState \u30af\u30e9\u30b9\u3092\u66f8\u304d\u304b\u3048\u307e\u3059\u3002\n\nMizugorouState.php\n<?php\nrequire_once(\"PokemonStateInterface.php\");\nrequire_once(\"NumacrawState.php\");\n/**\n * \u30df\u30ba\u30b4\u30ed\u30a6\u306eState\n */\nclass MizugorouState implements PokemonStateInterface{\n    // \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n    public function evolution(){\n        //\u958b\u767a\u8005\u6a29\u9650\u3067\u30df\u30ba\u30b4\u30ed\u30a6\u306b\u3057\u304b\u306a\u3089\u306a\u3044\n        return $this;\n    }\n\n    public function getName(){\n        return \"\u30df\u30ba\u30b4\u30ed\u30a6\";\n    }\n}\n\n\n\u3053\u308c\u3067\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u79c1\u306e\u4e16\u754c\u306b\u5e73\u548c\u304c\u3082\u305f\u3089\u3055\u308c\u307e\u3057\u305f)^o^(\n\u660e\u65e5\u306f @endam \u3055\u3093\u304c phpstorm\u3067\u306e\u5feb\u9069\u306a\u958b\u767a\u306b\u3064\u3044\u3066 \u66f8\u3044\u3066\u304f\u308c\u308b\u305d\u3046\u3067\u3059\u3002\u7686\u3055\u307e\u304a\u697d\u3057\u307f\u306b\uff01\n\n\u53c2\u8003\u6587\u732e\n\nState \u30d1\u30bf\u30fc\u30f3\n\nhttp://www.techscore.com/tech/DesignPattern/State.html\nhttps://ja.wikipedia.org/wiki/State_%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\n\n\nFactory Method \u30d1\u30bf\u30fc\u30f3\n\nhttp://qiita.com/shoheiyokoyama/items/d752834a6a2e208b90ca\nhttps://ja.wikipedia.org/wiki/Factory_Method_%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\n\n\n\u305d\u306e\u4ed6\n\nhttps://ja.wikipedia.org/wiki/%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3_(%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2)\n\n# \u306f\u3058\u3081\u306e\u306f\u3058\u3081\u306b\nPHPer\u306e\u307f\u306a\u3055\u3093\u3053\u3093\u306b\u3061\u306f\u3001[PHP Advent Calendar 2016](http://qiita.com/advent-calendar/2016/php)\u306e14\u65e5\u76ee\u306e\u30a8\u30f3\u30c8\u30ea\u3067\u3059\u3002\n\n# \u306f\u3058\u3081\u306b\nTrait \u3068\u3044\u3046\u5358\u8a9e\u3092\u805e\u3044\u305f\u3053\u3068\u3042\u3063\u305f\u304c\u3001\u5b9f\u969b\u52c9\u5f37\u3057\u305f\u3053\u3068\u306a\u304b\u3063\u305f\u306e\u3067\u3002\u3002\u3002\u3084\u308d\u3046\u30fb\u30fb\u30fb\u3063\u3068\u601d\u3063\u3066\u30dd\u30b1\u30e2\u30f3\u3092\u5b9f\u88c5\u3057\u3066\u3044\u305f\u3089\u306a\u305c\u304bState\u3068Factory Method \u30d1\u30bf\u30fc\u30f3\u306e\u52c9\u5f37\u306b\u306a\u3063\u3061\u3083\u3063\u305f\u3002\u3002\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001PHP \u3067 State \u30d1\u30bf\u30fc\u30f3\u3068 Factory Method \u30d1\u30bf\u30fc\u30f3\u3092\u5b9f\u88c5\u3057\u305f\u8a71\u3067\u3059\u3002\n\u30b3\u30fc\u30c9\u3084\u30af\u30e9\u30b9\u56f3\u3067\u9593\u9055\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u308b\u3068\u3046\u308c\u3057\u304f\u601d\u3044\u307e\u3059\u3002\n\n# \u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3068\u306f\nWikipedia \u3055\u3093\u3088\u308a\u30fb\u30fb\u30fb\n> \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u958b\u767a\u306b\u304a\u3051\u308b\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\uff08\u578b\u7d19\uff08\u304b\u305f\u304c\u307f\uff09\u307e\u305f\u306f\u8a2d\u8a08\u30d1\u30bf\u30fc\u30f3\u3001\u82f1: design pattern\uff09\u3068\u306f\u3001\u904e\u53bb\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u8a2d\u8a08\u8005\u304c\u767a\u898b\u3057\u7de8\u307f\u51fa\u3057\u305f\u8a2d\u8a08\u30ce\u30a6\u30cf\u30a6\u3092\u84c4\u7a4d\u3057\u3001\u540d\u524d\u3092\u3064\u3051\u3001\u518d\u5229\u7528\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u7279\u5b9a\u306e\u898f\u7d04\u306b\u5f93\u3063\u3066\u30ab\u30bf\u30ed\u30b0\u5316\u3057\u305f\u3082\u306e\u3067\u3042\u308b\u3002\n\n\u8981\u3059\u308b\u306b\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u306f\u5b9f\u88c5\u3059\u308b\u4e0a\u3067\u3001\u518d\u5229\u7528\u3057\u3084\u3059\u3044\u30d1\u30bf\u30fc\u30f3\u306e\u3053\u3068\u3067\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u30d7\u30ed\u306e\u65b9\u3005\u306f\u3001\u77e5\u3089\u305a\u77e5\u3089\u305a\u306e\u3046\u3061\u306b\u5229\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n## GoF\nGoF ( Gang of Four; \u56db\u4eba\u7d44 ) \u306e\u7565\u3067\u3001 **\u30a8\u30ea\u30c3\u30af\u30fb\u30ac\u30f3\u30de\u3001\u30ea\u30c1\u30e3\u30fc\u30c9\u30fb\u30d8\u30eb\u30e0\u3001\u30e9\u30eb\u30d5\u30fb\u30b8\u30e7\u30f3\u30bd\u30f3\u3001\u30b8\u30e7\u30f3\u30fb\u30d6\u30ea\u30b7\u30c7\u30a3\u30fc\u30b9** \u306e4\u540d\u3067\u3042\u308b\u3002\u307e\u305f\u30014\u540d\u304c\u304c\u5171\u8457\u3057\u305f\u300c\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u306b\u304a\u3051\u308b\u518d\u5229\u7528\u306e\u305f\u3081\u306e\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u300d\u304b\u3089\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u304c\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u958b\u767a\u3067\u521d\u3081\u3066\u51fa\u73fe\u3057\u305f\u3002\n\n## State \u30d1\u30bf\u30fc\u30f3\nState \u30d1\u30bf\u30fc\u30f3\u306f\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u72b6\u614b\u3092\u8868\u73fe\u3059\u308b\u305f\u3081\u306b\u7528\u3044\u3089\u308c\u307e\u3059\u3002\u4f8b\u3092\u6319\u3052\u308b\u3068\u3001\u4fe1\u53f7\u6a5f\u306e<font color=\"blue\">\u9752</font> \u2192 <font color=\"#f3c507\">\u9ec4</font> \u2192 <font color=\"red\">\u8d64</font>\u306e\u72b6\u614b\u9077\u79fb\u306a\u3069\u304c\u5b9f\u88c5\u4f8b\u3068\u3057\u3066\u6319\u3052\u3089\u308c\u308b\u3002\nState \u30d1\u30bf\u30fc\u30f3\u3092\u30af\u30e9\u30b9\u56f3\u3092\u793a\u3059\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n![470px-State_Design_Pattern_UML_Class_Diagram.svg.png](https://qiita-image-store.s3.amazonaws.com/0/116983/aeb3e858-ffd4-fe1d-d6aa-add6bcc2d958.png)\n> \u753b\u50cf\u306e\u5f15\u7528\u5143: Wikipedia\u300cState \u30d1\u30bf\u30fc\u30f3\u300d\u3088\u308a\n\n## Factory Method \u30d1\u30bf\u30fc\u30f3\nFactory Method \u30d1\u30bf\u30fc\u30f3\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u308a\u65b9\u3092\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\u3067\u6c7a\u3081\u3001\u5177\u4f53\u7684\u306b\u3069\u306e\u3088\u3046\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3059\u308b\u306e\u304b\u3092\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u884c\u3046\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\u307e\u305f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u751f\u6210\u90e8\u5206\u306e Creator \u3068\u51e6\u7406\u90e8\u5206\u306e Product \u306b\u5206\u3051\u3066\u3044\u307e\u3059\u3002\n\u4f8b\u3092\u4f8b\u3048\u308b\u3068\u3001**\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9**\u3067\u300c\u81ea\u52d5\u8eca\u3092\u4f5c\u308b\u30af\u30e9\u30b9\u300d\u3042\u308a\u3001**\u30b5\u30d6\u30af\u30e9\u30b9**\u3067\u3001\u300c\u30b9\u30dd\u30fc\u30c4\u30ab\u30fc\u3092\u4f5c\u308b\u30b5\u30d6\u30af\u30e9\u30b9\u300d\u3084\u300c\u8efd\u81ea\u52d5\u8eca\u3092\u4f5c\u308b\u30b5\u30d6\u30af\u30e9\u30b9\u300d\u3092\u5b9a\u7fa9\u3057\u3066\u3042\u3052\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u30af\u30e9\u30b9\u56f3\u3067\u793a\u3059\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n![500px-Factory_Method_UML_class_diagram.svg.png](https://qiita-image-store.s3.amazonaws.com/0/116983/ab42dd5b-cf48-9306-177a-a9254a8d751f.png)\n> \u753b\u50cf\u306e\u5f15\u7528\u5143: Wikipedia\u300cFactory Method \u30d1\u30bf\u30fc\u30f3\u300d\u3088\u308a\n\n# \u30df\u30ba\u30b4\u30ed\u30a6\u3068\u306f\n\u30dd\u30b1\u30c3\u30c8\u30e2\u30f3\u30b9\u30bf\u30fc\u30eb\u30d3\u30fc\u30fb\u30b5\u30d5\u30a1\u30a4\u30a2\u3067\u767b\u5834\u3057\u305f\u30dd\u30b1\u30e2\u30f3\u3067\u3059\u3002\u57fa\u672c\u30c7\u30fc\u30bf\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002\n\n| \u9805\u76ee | \u30df\u30ba\u30b4\u30ed\u30a6\u306e\u30c7\u30fc\u30bf |\n|:-:|:-:|\n| \u56f3\u9451 | No.258 |\n| \u5206\u985e | \u306c\u307e\u3046\u304a\u30dd\u30b1\u30e2\u30f3 |\n| \u30bf\u30a4\u30d7 | \u307f\u305a |\n| \u305f\u304b\u3055 | 0.4m |\n| \u304a\u3082\u3055 | 7.6kg |\n| \u3068\u304f\u305b\u3044 | \u3052\u304d\u308a\u3085\u3046/\u3057\u3081\u308a\u3051 |\n\n\u30df\u30ba\u30b4\u30ed\u30a6\u306f Lv42 \u3067**\u30cf\u30a4\u30c9\u30ed\u30dd\u30f3\u30d7**\u3092\u899a\u3048\u307e\u3059!\u662f\u975e Lv42 \u307e\u3067\u9032\u5316\u3055\u305b\u305a\u306b\u9811\u5f35\u308a\u307e\u3057\u3087\u3046\u3002\n\n# \u30df\u30ba\u30b4\u30ed\u30a6\u306e\u5b9f\u88c5\n\u4eca\u56de\u5b9f\u88c5\u4e88\u5b9a\u306e State \u30d1\u30bf\u30fc\u30f3\u3068 Factory Method \u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u305f\u30af\u30e9\u30b9\u56f3\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n![ALL.png](https://qiita-image-store.s3.amazonaws.com/0/116983/9476cc08-8fce-9d71-a894-f2d1434fc30e.png)\n\n## State \u30d1\u30bf\u30fc\u30f3\u306e\u5b9f\u88c5\n\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u9032\u5316\u306f\u3001\u4ee5\u4e0b\u306e\u9032\u5316\u9806\u3067\u3042\u308b\u3002\n\n - \u30df\u30ba\u30b4\u30ed\u30a6 \u2192 \u30cc\u30de\u30af\u30ed\u30fc \u2192 \u30e9\u30b0\u30e9\u30fc\u30b8\n\n\u3053\u308c\u3092\u5b9f\u969b\u306b\u5b9f\u88c5\u3059\u308b\u3002\n\u4eca\u56de\u306e State \u30d1\u30bf\u30fc\u30f3\u306e\u30af\u30e9\u30b9\u56f3\u306f\u67a0\u5185\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n![State.png](https://qiita-image-store.s3.amazonaws.com/0/116983/d4ad1adb-6eab-bece-fc65-311230963bbe.png)\n\n\u3067\u306f\u3001\u5b9f\u88c5\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u307e\u305a\u521d\u3081\u306b PokemonState \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002\n\n```php:PokemonStateInterface.php\n<?php\ninterface PokemonStateInterface {\n    public function evolution();\n    public function getName();\n}\n```\nPokemonState\u304c\u3001\u30dd\u30b1\u30e2\u30f3\u306e State \u306e\u578b\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u305d\u308c\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u30dd\u30b1\u30e2\u30f3\u306e\u30df\u30ba\u30b4\u30ed\u30a6\u3001\u30cc\u30de\u30af\u30ed\u30fc\u3001\u30e9\u30b0\u30e9\u30fc\u30b8\u306e State \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3067\u306f\u3001PokemonState\u3092\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u521d\u3081\u306b\u30df\u30ba\u30b4\u30ed\u30a6\u306e State \u3067\u3059\u3002\n`evoluation()`\u3067\u306f\u3001\u6b21\u306e\u9077\u79fb\u5148\u306e `NumacrawState` \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3057\u307e\u3059\u3002`getName()` \u3067\u306f\u3001\u30dd\u30b1\u30e2\u30f3\u306e\u540d\u524d\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002(\u4eca\u4f55\u306e\u30dd\u30b1\u30e2\u30f3\u306a\u306e\u304b\u6559\u3048\u3066\u3082\u3089\u3046\u305f\u3081\u3067\u3059)\n\n```php:MizugorouState.php\n<?php\nrequire_once(\"PokemonStateInterface.php\");\nrequire_once(\"NumacrawState.php\");\n/**\n * \u30df\u30ba\u30b4\u30ed\u30a6\u306eState\n */\nclass MizugorouState implements PokemonStateInterface{\n    // \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n    public function evolution(){\n        return new NumacrawState();\n    }\n\n    public function getName(){\n        return \"\u30df\u30ba\u30b4\u30ed\u30a6\";\n    }\n}\n```\n\u6b21\u306f\u3001\u30cc\u30de\u30af\u30ed\u30fc\u306eState \u3067\u3059\u3002\n\u3053\u308c\u306f `MizugorouState` \u30af\u30e9\u30b9\u3068\u540c\u69d8\u306b `evoluation()` \u306f\u3001\u6b21\u306e\u9077\u79fb\u5148\u306e `LaglargeState` \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n```php:NumacrawState.php\n<?php\nrequire_once(\"PokemonStateInterface.php\");\nrequire_once(\"LaglargeState.php\");\n/**\n * \u30cc\u30de\u30af\u30ed\u30fc\u306eState\n */\nclass NumacrawState implements PokemonStateInterface{\n    // \u30e9\u30b0\u30e9\u30fc\u30b8\u306b\u9032\u5316\n    public function evolution(){\n        return new LaglargeState();\n    }\n\n    public function getName(){\n        return \"\u30cc\u30de\u30af\u30ed\u30fc\";\n    }\n}\n```\n\u6b21\u306f\u3001\u30e9\u30b0\u30e9\u30fc\u30b8\u306eState \u3067\u3059\u3002\n\u30e9\u30b0\u30e9\u30fc\u30b8\u306f\u9032\u5316\u3067\u304d\u306a\u3044\u305f\u3081\u3001`evoluation()` \u3067\u306f\u81ea\u8eab\u3067\u3042\u308b `$this` \u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```php:LaglargeState.php\n<?php\nrequire_once(\"PokemonStateInterface.php\");\n/**\n * \u30e9\u30b0\u30e9\u30fc\u30b8\u306eState\n */\nclass LaglargeState implements PokemonStateInterface{\n    // \u30e9\u30b0\u30e9\u30fc\u30b8\u306f\u9032\u5316\u3057\u306a\u3044\u306e\u3067\u81ea\u8eab\u3092\u8fd4\u5374\n    public function evolution(){\n        return $this;\n    }\n    //\n    public function getName(){\n        return \"\u30e9\u30b0\u30e9\u30fc\u30b8\";\n    }\n}\n```\n\n\u3053\u308c\u3089\u306eState\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u52d5\u304f\u3068\u601d\u3044\u307e\u3059\u3002\n\n```php:Mizugorou.php\n<?php\nrequire_once(\"MizugorouState.php\");\n\nclass Mizugorou{\n    private $state = null;\n    public function __construct(){\n        $this->state = new MizugorouState();\n    }\n    public function evoluation(){\n        $this->state = $this->state->evolution();\n    }\n    public function showName(){\n        echo $this->state->getName().\"<br>\";\n    }\n}\n$mizugorou = new Mizugorou();\n$mizugorou->showName();  // \u30df\u30ba\u30b4\u30ed\u30a6\n\n$mizugorou->evoluation();// \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n$mizugorou->showName();  // \u30cc\u30de\u30af\u30ed\u30fc\n$mizugorou->evoluation();// \u30e9\u30b0\u30e9\u30fc\u30b8\u306b\u9032\u5316\n$mizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$mizugorou->evoluation();// \u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u307e\u307e\n$mizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n```\n\n## Factory Method \u30d1\u30bf\u30fc\u30f3\u306e\u5b9f\u88c5\n\u4eca\u56de\u306eFactory Method \u30d1\u30bf\u30fc\u30f3\u306e\u30af\u30e9\u30b9\u56f3\u306f\u67a0\u5185\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n![Factory.png](https://qiita-image-store.s3.amazonaws.com/0/116983/36a28f23-065a-db64-b5d8-44aac6b19bd3.png)\n\nFactory Method \u30d1\u30bf\u30fc\u30f3\u3067\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u751f\u6210\u90e8\u5206\u306e Creator \u3068\u51e6\u7406\u90e8\u5206\u306e Product \u306b\u5206\u3051\u3066\u3044\u307e\u3059\u3002\n\n\u3067\u306f\u3001\u307e\u305a\u521d\u3081\u306b\u30dd\u30b1\u30e2\u30f3\u306e\u5177\u4f53\u7684\u306a\u51e6\u7406\u90e8\u5206( \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u51e6\u7406\u90e8\u5206\u306e Product )\u3092\u5b9f\u88c5\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u30dd\u30b1\u30e2\u30f3\u304c\u5171\u901a\u306e\u51e6\u7406\u3092`PokemonProductAbstract` \u30af\u30e9\u30b9\u306b\u8a18\u8ff0\u3059\u308b\u3002\n\u4eca\u56de\u306e\u30dd\u30b1\u30e2\u30f3\u306e\u5171\u901a\u51e6\u7406\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f\u3002\n - \u9032\u5316\n - \u540d\u524d\u306e\u8868\u793a\n - \u4f5c\u6210\u65e5\u6642\n\n`$pokemonState` \u5909\u6570\u306b\u306f\u3001\u73fe\u5728\u306e\u30dd\u30b1\u30e2\u30f3\u306e\u72b6\u614b(State)\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002`evolution()` \u3092\u3059\u308b\u3068\u3001\u6b21\u306e\u72b6\u614b\u3092 `$pokemonState` \u5909\u6570\u306b\u4ee3\u5165\u3055\u308c\u3001\u72b6\u614b\u9077\u79fb\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\n```php:PokemonProductAbstract.php\n<?php\n/**\n * \u4f5c\u6210\u3055\u308c\u308b\u30dd\u30b1\u30e2\u30f3\u306e\u62bd\u8c61\u30af\u30e9\u30b9\n */\nabstract class PokemonProductAbstract{\n    // \u30dd\u30b1\u30e2\u30f3\u306e\u72b6\u614b\u3092\u4fdd\u6301\u3059\u308b\u30af\u30e9\u30b9\u5909\u6570\n    protected $pokemonState = null;\n    \n    // \u9032\u5316\n    public function evolution(){\n        $this->pokemonState = $this->pokemonState->evolution();\n    }\n    // \u73fe\u5728\u306e\u30dd\u30b1\u30e2\u30f3\u306e\u540d\u524d\u53d6\u5f97\n    public function showName(){\n        echo $this->pokemonState->getName().\"<br>\";\n    }\n    // \u751f\u6210\u65e5\u6642\u3092\u8fd4\u3059\u95a2\u6570\n    public abstract function showCreationDate();\n}\n```\n\u3067\u306f\u3001\u3053\u308c\u3092\u7d99\u627f\u3057\u3066\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u51e6\u7406\u3092 `MizugorouProduct` \u30af\u30e9\u30b9\u306b\u66f8\u304d\u307e\u3057\u3087\u3046\u3002\nconstructor\u3067\u3001`MizugorouState` \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3067\u72b6\u614b\u9077\u79fb\u306e\u4e2d\u306e\u30df\u30ba\u30b4\u30ed\u30a6\u304b\u3089\u59cb\u307e\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u304b\u3063\u305f `showCreationDate` \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\n\n```php:MizugorouProduct.php\n<?php\nrequire_once(\"PokemonProductAbstract.php\");\nrequire_once(\"MizugorouState.php\");\n\n/**\n * \u5de5\u5834\u304b\u3089\u4f5c\u6210\u3055\u308c\u308b\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u30af\u30e9\u30b9\n */\nclass MizugorouProduct extends PokemonProductAbstract\n{\n    private $creationDate = null;\n    public function __construct(){\n        // \u30df\u30ba\u30b4\u30ed\u30a6\u306e\u72b6\u614b\u306e\u751f\u6210\n        $this->pokemonState = new MizugorouState();\n        // \u751f\u6210\u65e5\u6642\u306e\u53d6\u5f97\n        $date = new DateTime();\n        $this->creationDate = $date->format('Y-m-d H:i:s');\n    }\n    // \u751f\u6210\u65e5\u6642\u3092\u8fd4\u3059\u95a2\u6570\n    public function showCreationDate(){\n        echo $this->creationDate;\n    }\n}\n```\n\n\u6b21\u306f\u3001\u30dd\u30b1\u30e2\u30f3\u306e\u751f\u6210\u90e8\u5206(\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u751f\u6210\u90e8\u5206\u306e Creator )\u3092\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002\n\u30dd\u30b1\u30e2\u30f3\u306e\u5171\u901a\u306e\u51e6\u7406\u3092 `PokemonCreatorAbstract` \u30af\u30e9\u30b9\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001\u30dd\u30b1\u30e2\u30f3\u3092\u4f5c\u6210\u3059\u308b `createPokemon()` \u3092\u547c\u3076 `create()` \u30e1\u30bd\u30c3\u30c9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002`createPokemon()` \u30e1\u30bd\u30c3\u30c9\u306f\u3001\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u5b9f\u88c5\u3092\u4efb\u305b\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u4eca\u56de\u3067\u3042\u308c\u3070\u3001`MizugorouCreator` \u30af\u30e9\u30b9\u304c\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3059 `createPokemon()` \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n```php:PokemonCreatorAbstract.php\n<?php\n/**\n * \u30dd\u30b1\u30e2\u30f3\u3092\u4f5c\u6210\u3059\u308b\u5de5\u5834\n */\nabstract class PokemonCreatorAbstract{\n    // \u7d99\u627f\u5148\u306ecreatePokemon\u95a2\u6570\u3092\u5b9f\u884c\uff08\u30dd\u30b1\u30e2\u30f3\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u5374\uff09\n    public function create(){\n        return $this->createPokemon();\n    }\n    // \u30dd\u30b1\u30e2\u30f3\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\n    protected abstract function createPokemon();\n}\n```\n\u3067\u306f\u3001`PokemonCreatorAbstract` \u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u3066\u3001\u30df\u30ba\u30b4\u30ed\u30a6\u3092\u751f\u6210\u3059\u308b `MizugorouCreator` \u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\u3067\u5b9f\u88c5\u3092\u4efb\u3055\u308c\u305f `createPokemon()` \u306e\u5b9f\u88c5\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002`MizugorouCreator` \u30af\u30e9\u30b9\u3067\u306f\u30df\u30ba\u30b4\u30ed\u30a6\u3092\u5927\u91cf\u751f\u7523\u3057\u305f\u3044\u306e\u3067\u3001\u30df\u30ba\u30b4\u30ed\u30a6( `MizugorouProduct` \u30af\u30e9\u30b9)\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\n\n```php:MizugorouCreator.php\n<?php\nrequire_once(\"PokemonCreatorAbstract.php\");\nrequire_once(\"MizugorouProduct.php\");\n/**\n * \u30df\u30ba\u30b4\u30ed\u30a6\u3092\u4f5c\u6210\u3059\u308b\u5de5\u5834\n */\nclass MizugorouCreator extends PokemonCreatorAbstract{\n    // \u30df\u30ba\u30b4\u30ed\u30a6\u3092\u751f\u6210\n    protected function createPokemon(){\n        return new MizugorouProduct();\n    }\n}\n```\n\n\u3053\u308c\u3067\u3001\u57fa\u672c\u7684\u306a\u5b9f\u88c5\u304c\u7d42\u4e86\u3067\u3059\uff01\u3042\u3068\u306f State \u30d1\u30bf\u30fc\u30f3\u3068 Factory Method \u30d1\u30bf\u30fc\u30f3\u3067\u5b9f\u88c5\u3057\u305f\u3082\u306e\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3057\u3087\u3046\u3002\n\n```php:pokemon.php\n<?php\nrequire_once(\"MizugorouCreator.php\");\n\n$mizugorou = new MizugorouCreator();\n$firstMizugorou = $mizugorou->create(); // \u30df\u30ba\u30b4\u30ed\u30a6\u306e\u751f\u6210\n$firstMizugorou->showName();  // \u30df\u30ba\u30b4\u30ed\u30a6\n$firstMizugorou->evolution(); // \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n$firstMizugorou->showName();  // \u30cc\u30de\u30af\u30ed\u30fc\n$firstMizugorou->evolution(); // \u30e9\u30b0\u30e9\u30fc\u30b8\u306b\u9032\u5316\n$firstMizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$firstMizugorou->evolution(); // \u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u9032\u5316\u5148\u306f\u306a\u3044\u306e\u3067\u3001\u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u307e\u307e\n$firstMizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$firstMizugorou->showCreationDate(); // \u751f\u6210\u6642\u9593\u306e\u8868\u793a\nsleep(3);\necho \"<hr>\";\n$secondMizugorou = $mizugorou->create(); // 2\u5339\u76ee\u306e\u30df\u30ba\u30b4\u30ed\u30a6\u306e\u751f\u6210\n$secondMizugorou->showName();  // \u30df\u30ba\u30b4\u30ed\u30a6\n$secondMizugorou->evolution(); // \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n$secondMizugorou->showName();  // \u30cc\u30de\u30af\u30ed\u30fc\n$secondMizugorou->evolution(); // \u30e9\u30b0\u30e9\u30fc\u30b8\u306b\u9032\u5316\n$secondMizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$secondMizugorou->evolution(); // \u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u9032\u5316\u5148\u306f\u306a\u3044\u306e\u3067\u3001\u30e9\u30b0\u30e9\u30fc\u30b8\u306e\u307e\u307e\n$secondMizugorou->showName();  // \u30e9\u30b0\u30e9\u30fc\u30b8\n$secondMizugorou->showCreationDate();\n```\n\n\u5b9f\u884c\u7d50\u679c\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n![mizugorou.png](https://qiita-image-store.s3.amazonaws.com/0/116983/915baa1c-4299-acc5-eab7-41c5474bc681.png)\n\n\n# \u6700\u5f8c\u306b\n\n\u79c1\u306f\u3001\u30df\u30ba\u30b4\u30ed\u30a6\u304c\u597d\u304d\u3067\u3059\u3002\u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316? \u305d\u306e\u3088\u3046\u306a\u3053\u3068\u306f\u79c1\u306b\u3068\u3063\u3066\u8a31\u3059\u307e\u3058\u304d\u3053\u3068\u3067\u3059\u3002\n\u30dd\u30b1\u30c3\u30c8\u30e2\u30f3\u30b9\u30bf\u30fc\u30eb\u30d3\u30fc\u3092\u6614\u3084\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u30df\u30ba\u30b4\u30ed\u30a6\u3092 Lv100 \u306b\u3059\u308b\u307b\u3069\u3067\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001`MizugorouState` \u30af\u30e9\u30b9\u3092\u66f8\u304d\u304b\u3048\u307e\u3059\u3002\n\n```php:MizugorouState.php\n<?php\nrequire_once(\"PokemonStateInterface.php\");\nrequire_once(\"NumacrawState.php\");\n/**\n * \u30df\u30ba\u30b4\u30ed\u30a6\u306eState\n */\nclass MizugorouState implements PokemonStateInterface{\n    // \u30cc\u30de\u30af\u30ed\u30fc\u306b\u9032\u5316\n    public function evolution(){\n        //\u958b\u767a\u8005\u6a29\u9650\u3067\u30df\u30ba\u30b4\u30ed\u30a6\u306b\u3057\u304b\u306a\u3089\u306a\u3044\n        return $this;\n    }\n\n    public function getName(){\n        return \"\u30df\u30ba\u30b4\u30ed\u30a6\";\n    }\n}\n```\n\n\u3053\u308c\u3067\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\n\n![\u30df\u30ba\u30b4\u30ed\u30a6\u3057\u304b\u306a\u3089\u306a\u3044.png](https://qiita-image-store.s3.amazonaws.com/0/116983/51bb2342-f050-77a7-b6f8-267f392d6a4e.png)\n\n\u79c1\u306e\u4e16\u754c\u306b\u5e73\u548c\u304c\u3082\u305f\u3089\u3055\u308c\u307e\u3057\u305f)^o^(\n\n\u660e\u65e5\u306f @endam \u3055\u3093\u304c `phpstorm\u3067\u306e\u5feb\u9069\u306a\u958b\u767a\u306b\u3064\u3044\u3066` \u66f8\u3044\u3066\u304f\u308c\u308b\u305d\u3046\u3067\u3059\u3002\u7686\u3055\u307e\u304a\u697d\u3057\u307f\u306b\uff01\n\n# \u53c2\u8003\u6587\u732e\n## State \u30d1\u30bf\u30fc\u30f3\n - http://www.techscore.com/tech/DesignPattern/State.html\n - https://ja.wikipedia.org/wiki/State_%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\n\n## Factory Method \u30d1\u30bf\u30fc\u30f3\n - http://qiita.com/shoheiyokoyama/items/d752834a6a2e208b90ca\n - https://ja.wikipedia.org/wiki/Factory_Method_%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\n\n## \u305d\u306e\u4ed6\n - https://ja.wikipedia.org/wiki/%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3_(%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2)\n"}