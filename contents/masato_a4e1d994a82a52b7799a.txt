{"context": " More than 1 year has passed since last update.Rente\u306fReagent(React)\u3068Sente\u3092\u4f7f\u3063\u305fClojureScript\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u3068\u306e\u901a\u4fe1\u306fWebSocket\u3068Ajax\u3001core.async\u304c\u4f7f\u3048\u307e\u3059\u3002\u30c7\u30f3\u30de\u30fc\u30af\u306eEnterlab\u3068\u3044\u3046\u4f1a\u793e\u304ccommit\u3082\u76db\u3093\u306b\u958b\u767a\u3057\u3066\u3044\u307e\u3059\u3002Eclipse Public License\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002\n\nClojure\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u304a\u3055\u3089\u3044\n\u4ee5\u524d\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306f\u7834\u68c4\u3057\u3066\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u307e\u3059\u30021\u30f6\u6708\u7d4c\u3064\u3068Clojure\u7528\u306eDockerfile\u3068docker-compose.yml\u3082\u5c11\u3057\u5909\u308f\u308a\u307e\u3057\u305f\u3002\n\nDockerfile\u3068docker-compose.yml\n\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u306fLeiningen\u306b\u52a0\u3048\u3066Boot\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n~/clojure_apps/Dockerfile\nFROM clojure\nMAINTAINER Masato Shimizu <ma6ato@gmail.com>\n\nWORKDIR /usr/src/app\n\nADD https://github.com/boot-clj/boot/releases/download/2.0.0/boot.sh /tmp/\nRUN mv /tmp/boot.sh /usr/local/bin/boot2 && \\\n    chmod 755 /usr/local/bin/boot2\n\nADD https://clojars.org/repo/tailrecursion/boot/1.1.1/boot-1.1.1.jar /tmp/\nRUN mv /tmp/boot-1.1.1.jar /usr/local/bin/boot1 && \\\n    chmod 755 /usr/local/bin/boot1\n\nRUN adduser --disabled-password --gecos '' --uid 1000 docker && \\\n  mkdir /home/docker/.m2 && \\\n  chown -R docker:docker /usr/src/app /home/docker/.m2\n\nVOLUME /home/docker/.m2\nUSER docker\nRUN lein\n\nENTRYPOINT [\"lein\"]\nCMD []\n\n\n\u30ed\u30fc\u30ab\u30eb\u306eClojure\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u76f4\u3057\u307e\u3059\u3002\n$ cd ~/clojure_apps\n$ docker pull clojure\n$ docker build -t masato/clojure .\n\ndocker-compose.yml\u3067\u306f\u3001Docker\u30b3\u30f3\u30c6\u30ca\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092Docker\u30db\u30b9\u30c8\u306b\u5408\u308f\u305b\u3066\u3044\u307e\u3059\u3002\n\n~/clojure_apps/docker-compose.yml\nlein: &defaults\n  image: masato/clojure\n  volumes:\n    - .:/usr/src/app\n    - ./m2:/home/docker/.m2\n    - /etc/localtime:/etc/localtime:ro\n  working_dir: /usr/src/app/docker-rente\nrente:\n  <<: *defaults\n  ports:\n    - 8080:8080\nfigwheel:\n  <<: *defaults\n  ports:\n    - 3449:3449\nboot1:\n  <<: *defaults\n  entrypoint: [\"boot1\"]\n  ports:\n    - 8000:8000\nboot:\n  <<: *defaults\n  entrypoint: [\"boot2\"]\n  ports:\n    - 5000:5000\n    - 4449:4449\nbash:\n  <<: *defaults\n  entrypoint: [\"bash\"]\n\n\n~/.bashrc\u306bdocker-compose\u30b3\u30de\u30f3\u30c9\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u4f5c\u6210\u3057\u3066\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002\n\n~/.bashrc\nalias lein='docker-compose run --rm --service-ports lein'\nalias figwheel='docker-compose run --rm --service-ports figwheel'\nalias rente='docker-compose run --rm --service-ports rente'\n\n\n\nRente\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3068\u308a\u3042\u3048\u305aRente\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u3092clone\u3057\u307e\u3059\u3002\n$ cd ~/clojure_apps\n$ git clone https://github.com/enterlab/rente docker-rente\n\ndocker-compose.yml\u306eworking_dir\u306bclone\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n~/clojure_apps/docker-compose.yml\nlein: &defaults\n  image: masato/clojure\n  volumes:\n    - .:/usr/src/app\n    - ./m2:/home/docker/.m2\n    - /etc/localtime:/etc/localtime:ro\n  working_dir: /usr/src/app/docker-rente\n...\n\n\nDocker\u30db\u30b9\u30c8\u306f\u30af\u30e9\u30a6\u30c9\u4e0a\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u304b\u3089Figwheel\u306e3449\u30dd\u30fc\u30c8\u306bWebSocket\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306bpublic IP\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n~/clojure_apps/docker-rente/dev/start.cljs\n(ns rente.start\n  (:require [figwheel.client :as fw]\n            [rente.client.app :as app]))\n\n(enable-console-print!)\n\n(fw/watch-and-reload\n :websocket-url \"ws://xxx.xxx.xxx.xxx:3449/figwheel-ws\"\n :jsload-callback #(swap! app/state update-in [:re-render-flip] not))\n\n(app/main)\n\n\n\n\u30a2\u30d7\u30ea\u306e\u8d77\u52d5\nClojureScript\u306e\u958b\u767a\u7528\u306bFigwheel\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002~/.bashrc\u306b\u5b9a\u7fa9\u3057\u305fdocker-compose\u7528\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u5b9f\u969b\u306e\u30b3\u30de\u30f3\u30c9\u306flein figwheel\u306b\u306a\u308a\u307e\u3059\u3002\u30e9\u30a4\u30d6\u30ea\u30ed\u30fc\u30c9\u7528\u306eWebSocket\u30b5\u30fc\u30d0\u30fc\u304c3449\u30dd\u30fc\u30c8\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ cd ~/clojure_apps\n$ figwheel figwheel\n...\nFigwheel: Starting server at http://localhost:3449\nFocusing on build ids: client\nCompiling \"resources/public/js/app.js\" from [\"src/rente/client\" \"dev\"]...\nSuccessfully compiled \"resources/public/js/app.js\" in 1.742 seconds.\nStarted Figwheel autobuilder\nFigwheel: focusing on build-ids (client)\nCompiling \"resources/public/js/app.js\" from [\"src/rente/client\" \"dev\"]...\nSuccessfully compiled \"resources/public/js/app.js\" in 0.749 seconds.\nnotifying browser that file changed:  resources/public/js/app.js\nnotifying browser that file changed:  dev-resources/public/js/out/goog/deps.js\n\n\u5225\u306e\u30b7\u30a7\u30eb\u3092\u958b\u3044\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u3061\u3089\u3082docker-compose\u306e\u30b5\u30fc\u30d3\u30b9\u306a\u306e\u3067\u5b9f\u969b\u306b\u306flein run\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n$ rente run\n2015-06-22T14:34:25,607Z [main] INFO  rente.run - rente started\n\nDocker\u30db\u30b9\u30c8\u306b\u30d6\u30e9\u30a6\u30b6\u304b\u3089Rente\u30b5\u30fc\u30d0\u30fc\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b8080\u30dd\u30fc\u30c8\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\nhttp://xxx.xxx.xxx.xxx:8080/\n\nBootstrap\u3092\u4f7f\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u305b\u3093\u304c\u30013.3.4\u304c\u30ed\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\nSend Message Callback\nSend Message Callback\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u751f\u6210\u3057\u305fClojureScript\u306eviews.cljs\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30dc\u30bf\u30f3\u306eon-click\u30a4\u30d9\u30f3\u30c8\u3067socket/test-socket-callback\u304c\u767a\u706b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n~/clojure_apps/docker-rente/src/rente/client/views.cljs\n(ns rente.client.views\n  (:require [rente.client.ws :as socket]))\n\n(defn main [data]\n  [:div\n   [:h1 (:title @data)]\n   [:span \"Hello world! This is reagent!\"]\n   [:br]\n   [:span \"And sente seems to work too..\"]\n   [:br]\n   [:span \"And figwheel.. w00t!\"]\n   [:br]\n   [:button {:on-click socket/test-socket-callback} \"Send Message Callback\"]\n   [:br]\n   [:button {:on-click socket/test-socket-event} \"Send Message Event\"]\n   ])\n\n\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308bClojureScript\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\n~/clojure_apps/docker-rente/src/rente/client/ws.cljs\n(defn test-socket-callback []\n  (chsk-send!\n    [:rente/testevent {:message \"Hello socket Callback!\"}]\n    2000\n    #(js/console.log \"CALLBACK from server: \" (pr-str %))))\n\n\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n\nSend Message Event\nSend Message Event\u3082\u540c\u69d8\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n~/clojure_apps/docker-rente/src/rente/client/ws.cljs\n(defn test-socket-event []\n  (chsk-send! [:rente/testevent {:message \"Hello socket Event!\"}]))\n\n\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u307e\u3057\u305f\u3002\n\n[Rente](https://github.com/enterlab/rente)\u306f[Reagent(React)](https://github.com/reagent-project/reagent)\u3068[Sente](https://github.com/ptaoussanis/sente)\u3092\u4f7f\u3063\u305fClojureScript\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u3068\u306e\u901a\u4fe1\u306fWebSocket\u3068Ajax\u3001[core.async](https://github.com/clojure/core.async)\u304c\u4f7f\u3048\u307e\u3059\u3002\u30c7\u30f3\u30de\u30fc\u30af\u306e[Enterlab](http://enterlab.com/)\u3068\u3044\u3046\u4f1a\u793e\u304ccommit\u3082\u76db\u3093\u306b\u958b\u767a\u3057\u3066\u3044\u307e\u3059\u3002[Eclipse Public License](https://ja.wikipedia.org/wiki/Eclipse_Public_License)\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n## Clojure\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u304a\u3055\u3089\u3044\n\n\u4ee5\u524d\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306f\u7834\u68c4\u3057\u3066\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u307e\u3059\u30021\u30f6\u6708\u7d4c\u3064\u3068Clojure\u7528\u306eDockerfile\u3068docker-compose.yml\u3082\u5c11\u3057\u5909\u308f\u308a\u307e\u3057\u305f\u3002\n\n### Dockerfile\u3068docker-compose.yml\n\n\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u306f[Leiningen](http://leiningen.org/)\u306b\u52a0\u3048\u3066[Boot](https://github.com/boot-clj/boot)\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```bash:~/clojure_apps/Dockerfile\nFROM clojure\nMAINTAINER Masato Shimizu <ma6ato@gmail.com>\n\nWORKDIR /usr/src/app\n\nADD https://github.com/boot-clj/boot/releases/download/2.0.0/boot.sh /tmp/\nRUN mv /tmp/boot.sh /usr/local/bin/boot2 && \\\n    chmod 755 /usr/local/bin/boot2\n\nADD https://clojars.org/repo/tailrecursion/boot/1.1.1/boot-1.1.1.jar /tmp/\nRUN mv /tmp/boot-1.1.1.jar /usr/local/bin/boot1 && \\\n    chmod 755 /usr/local/bin/boot1\n\nRUN adduser --disabled-password --gecos '' --uid 1000 docker && \\\n  mkdir /home/docker/.m2 && \\\n  chown -R docker:docker /usr/src/app /home/docker/.m2\n\nVOLUME /home/docker/.m2\nUSER docker\nRUN lein\n\nENTRYPOINT [\"lein\"]\nCMD []\n```\n\n\u30ed\u30fc\u30ab\u30eb\u306eClojure\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u76f4\u3057\u307e\u3059\u3002\n\n```bash\n$ cd ~/clojure_apps\n$ docker pull clojure\n$ docker build -t masato/clojure .\n```\n\ndocker-compose.yml\u3067\u306f\u3001Docker\u30b3\u30f3\u30c6\u30ca\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092Docker\u30db\u30b9\u30c8\u306b\u5408\u308f\u305b\u3066\u3044\u307e\u3059\u3002\n\n```yaml:~/clojure_apps/docker-compose.yml\nlein: &defaults\n  image: masato/clojure\n  volumes:\n    - .:/usr/src/app\n    - ./m2:/home/docker/.m2\n    - /etc/localtime:/etc/localtime:ro\n  working_dir: /usr/src/app/docker-rente\nrente:\n  <<: *defaults\n  ports:\n    - 8080:8080\nfigwheel:\n  <<: *defaults\n  ports:\n    - 3449:3449\nboot1:\n  <<: *defaults\n  entrypoint: [\"boot1\"]\n  ports:\n    - 8000:8000\nboot:\n  <<: *defaults\n  entrypoint: [\"boot2\"]\n  ports:\n    - 5000:5000\n    - 4449:4449\nbash:\n  <<: *defaults\n  entrypoint: [\"bash\"]\n```\n\n`~/.bashrc`\u306bdocker-compose\u30b3\u30de\u30f3\u30c9\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u4f5c\u6210\u3057\u3066\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002\n\n\n```bash:~/.bashrc\nalias lein='docker-compose run --rm --service-ports lein'\nalias figwheel='docker-compose run --rm --service-ports figwheel'\nalias rente='docker-compose run --rm --service-ports rente'\n```\n\n## Rente\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u3068\u308a\u3042\u3048\u305a[Rente](https://github.com/enterlab/rente)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u3092clone\u3057\u307e\u3059\u3002\n\n```bash\n$ cd ~/clojure_apps\n$ git clone https://github.com/enterlab/rente docker-rente\n```\n\ndocker-compose.yml\u306e`working_dir`\u306bclone\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```yaml:~/clojure_apps/docker-compose.yml\nlein: &defaults\n  image: masato/clojure\n  volumes:\n    - .:/usr/src/app\n    - ./m2:/home/docker/.m2\n    - /etc/localtime:/etc/localtime:ro\n  working_dir: /usr/src/app/docker-rente\n...\n```\n\nDocker\u30db\u30b9\u30c8\u306f\u30af\u30e9\u30a6\u30c9\u4e0a\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u304b\u3089[Figwheel](https://github.com/bhauman/lein-figwheel/)\u306e3449\u30dd\u30fc\u30c8\u306bWebSocket\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306bpublic IP\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```clj:~/clojure_apps/docker-rente/dev/start.cljs\n(ns rente.start\n  (:require [figwheel.client :as fw]\n            [rente.client.app :as app]))\n\n(enable-console-print!)\n\n(fw/watch-and-reload\n :websocket-url \"ws://xxx.xxx.xxx.xxx:3449/figwheel-ws\"\n :jsload-callback #(swap! app/state update-in [:re-render-flip] not))\n\n(app/main)\n```\n\n### \u30a2\u30d7\u30ea\u306e\u8d77\u52d5\n\nClojureScript\u306e\u958b\u767a\u7528\u306b[Figwheel](https://github.com/bhauman/lein-figwheel)\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002`~/.bashrc`\u306b\u5b9a\u7fa9\u3057\u305fdocker-compose\u7528\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u5b9f\u969b\u306e\u30b3\u30de\u30f3\u30c9\u306f`lein figwheel`\u306b\u306a\u308a\u307e\u3059\u3002\u30e9\u30a4\u30d6\u30ea\u30ed\u30fc\u30c9\u7528\u306eWebSocket\u30b5\u30fc\u30d0\u30fc\u304c3449\u30dd\u30fc\u30c8\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```bash\n$ cd ~/clojure_apps\n$ figwheel figwheel\n...\nFigwheel: Starting server at http://localhost:3449\nFocusing on build ids: client\nCompiling \"resources/public/js/app.js\" from [\"src/rente/client\" \"dev\"]...\nSuccessfully compiled \"resources/public/js/app.js\" in 1.742 seconds.\nStarted Figwheel autobuilder\nFigwheel: focusing on build-ids (client)\nCompiling \"resources/public/js/app.js\" from [\"src/rente/client\" \"dev\"]...\nSuccessfully compiled \"resources/public/js/app.js\" in 0.749 seconds.\nnotifying browser that file changed:  resources/public/js/app.js\nnotifying browser that file changed:  dev-resources/public/js/out/goog/deps.js\n```\n\n\u5225\u306e\u30b7\u30a7\u30eb\u3092\u958b\u3044\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u3061\u3089\u3082docker-compose\u306e\u30b5\u30fc\u30d3\u30b9\u306a\u306e\u3067\u5b9f\u969b\u306b\u306f`lein run`\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n\n```bash\n$ rente run\n2015-06-22T14:34:25,607Z [main] INFO  rente.run - rente started\n```\n\nDocker\u30db\u30b9\u30c8\u306b\u30d6\u30e9\u30a6\u30b6\u304b\u3089Rente\u30b5\u30fc\u30d0\u30fc\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b8080\u30dd\u30fc\u30c8\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\nhttp://xxx.xxx.xxx.xxx:8080/\n\n![rente.png](https://qiita-image-store.s3.amazonaws.com/0/43745/4ef57699-07d1-07a7-b9d3-e45137327a72.png)\n\n[Bootstrap](http://getbootstrap.com/)\u3092\u4f7f\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u305b\u3093\u304c\u30013.3.4\u304c\u30ed\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n### Send Message Callback\n\n`Send Message Callback`\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u751f\u6210\u3057\u305fClojureScript\u306e`views.cljs`\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30dc\u30bf\u30f3\u306e`on-click`\u30a4\u30d9\u30f3\u30c8\u3067`socket/test-socket-callback`\u304c\u767a\u706b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```clj:~/clojure_apps/docker-rente/src/rente/client/views.cljs\n(ns rente.client.views\n  (:require [rente.client.ws :as socket]))\n\n(defn main [data]\n  [:div\n   [:h1 (:title @data)]\n   [:span \"Hello world! This is reagent!\"]\n   [:br]\n   [:span \"And sente seems to work too..\"]\n   [:br]\n   [:span \"And figwheel.. w00t!\"]\n   [:br]\n   [:button {:on-click socket/test-socket-callback} \"Send Message Callback\"]\n   [:br]\n   [:button {:on-click socket/test-socket-event} \"Send Message Event\"]\n   ])\n```\n\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308bClojureScript\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\n```clj:~/clojure_apps/docker-rente/src/rente/client/ws.cljs\n(defn test-socket-callback []\n  (chsk-send!\n    [:rente/testevent {:message \"Hello socket Callback!\"}]\n    2000\n    #(js/console.log \"CALLBACK from server: \" (pr-str %))))\n```\n\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n![rente-callback.png](https://qiita-image-store.s3.amazonaws.com/0/43745/cedf277d-e9f3-4bfe-5d91-607e8482814c.png)\n\n\n### Send Message Event\n\n`Send Message Event`\u3082\u540c\u69d8\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\n```clj:~/clojure_apps/docker-rente/src/rente/client/ws.cljs\n(defn test-socket-event []\n  (chsk-send! [:rente/testevent {:message \"Hello socket Event!\"}]))\n```\n\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30d6\u30e9\u30a6\u30b6\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u307e\u3057\u305f\u3002\n\n![rente-pushevent.png](https://qiita-image-store.s3.amazonaws.com/0/43745/7f179191-4414-68a1-b177-49da7cf690a5.png)\n\n", "tags": ["Reagent0.5.0", "bootstrap3.3.4", "Clojure1.7.0-RC1", "ClojureScript0.0-3308", "reactjs0.12.2"]}