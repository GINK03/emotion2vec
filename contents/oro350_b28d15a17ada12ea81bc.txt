{"context": " More than 1 year has passed since last update.netsniff-ng toolkit \u306b\u542b\u307e\u308c\u308b\u30c8\u30e9\u30d5\u30a3\u30c3\u30af(\u30d1\u30b1\u30c3\u30c8)\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\nsocket mmap \u3068\u304b\u99c6\u4f7f\u3057\u3066\u9ad8\u901f\u306b\u52d5\u4f5c\u3059\u308b\u306e\u3068\u72ec\u81ea\u306e\u7c21\u6613\u69cb\u6587\u3067\u4efb\u610f\u306e\u30d1\u30b1\u30c3\u30c8\u30d1\u30bf\u30fc\u30f3\u3092\u7d44\u307f\u7acb\u3066\u3089\u308c\u3066\u308b\u306e\u304c\u7279\u5fb4\nKernel\u306b\u540c\u68b1\u3055\u308c\u3066\u308b pktgen \u3082\u9ad8\u901f\u306b\u52d5\u4f5c\u3059\u308b\u304c\u3001L3\u30ec\u30d9\u30eb(IPv4,IPv6)\u3067\u30da\u30a4\u30ed\u30fc\u30c9\u5185\u5bb9\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u3057\u304b\u751f\u6210\u3067\u304d\u306a\u3044\u304b\u3089\u6027\u80fd\u8a55\u4fa1\u306b\u306f\u4f7f\u3048\u3066\u3082\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u30b9\u30bf\u30c3\u30af\u306e\u30c6\u30b9\u30c8\u306b\u306f\u4f7f\u3048\u306a\u3044\u3002\u305d\u306e\u70b9 trafgen \u306a\u3089\u4efb\u610f\u306e\u30d1\u30b1\u30c3\u30c8\u30d1\u30bf\u30fc\u30f3\u3092\u7d44\u307f\u7acb\u3066\u3089\u308c\u308b\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n\u3088\u304f\u3042\u308b\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\nUbuntu 12.04 LTS \u3067\u5b9f\u9a13\u3002\napt \u306b\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3051\u3069\u3001\u30b3\u30de\u30f3\u30c9\u304c\u5c11\u306a\u304b\u3063\u305f\u308a\u3057\u305f\u306e\u3067\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u65b9\u304c\u3088\u3055\u305d\u3046\ngit clone git://github.com/borkmann/netsniff-ng.git\n\n# \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (INSTALL\u306b\u66f8\u3044\u3066\u3042\u308b\u30b3\u30de\u30f3\u30c9\u305d\u306e\u307e\u307e)\nsudo apt-get install ccache flex bison libnl-3-dev \\\nlibnl-genl-3-dev libgeoip-dev libnetfilter-conntrack-dev \\\nlibncurses5-dev liburcu-dev libnacl-dev libpcap-dev \\\nzlib1g-dev libcli-dev libnet1-dev\n\nconfigure\nmake\nmake install\n\n\n\u4f7f\u3063\u3066\u307f\u308b\n\u30d8\u30eb\u30d7\u901a\u308a\u306b\u5b9f\u884c\u3057\u3066\u307f\u308b\n-e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30d1\u30b1\u30c3\u30c8\u30d1\u30bf\u30fc\u30f3\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u305d\u308c\u3092\u30d1\u30a4\u30d7\u3057\u3066lo\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306b\u51fa\u529b\u3057\u3066\u3044\u308b\n% trafgen -e | sudo trafgen -i - -o lo --cpp -n 1\n     1 packets to schedule\n    73 bytes in total\nRunning! Hang up with ^C!\n\n\n           1 packets outgoing\n          73 bytes outgoing\n           0 sec, 9435 usec on CPU0 (1 packets)\n\ntrafgen\u306b\u9650\u3089\u305a netsniff-ng toolkit \u3067NIC\u3092\u4f7f\u3046\u30b3\u30de\u30f3\u30c9\u306fPF_PACKET\u3092\u4f7f\u3046\u306e\u3067root\u3067\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f \n\n\u304a\u307e\u3051 nacl \u306e\u30d3\u30eb\u30c9\n% ./configure\n[*] Checking pkg-config ... [YES]\n[*] Checking ccache ... [YES]\n[*] Checking flex ... [YES]\n[*] Checking bison ... [YES]\n[*] Checking nacl ... [NO]\n[*] Checking libnl ... [YES]\n[*] Checking tpacket_v2 ... [YES]\n[*] Checking tpacket_v3 ... [YES]\n[*] Checking libnetfilter-conntrack ... [YES]\n[*] Checking ncurses ... [YES]\n[*] Checking libGeoIP ... [YES]\n[*] Checking libz ... [YES]\n[*] Checking liburcu ... [YES]\n[*] Checking libpcap ... [YES]\n[*] Checking hw timestamping ... [YES]\n[*] Checking libcli ... [YES]\n[*] Checking libnet ... [YES]\n[*] Generating config.h ...\n[!] The NaCl crypto library is currently not present on your system or\n    could not be found. Either install it from your distro or build it\n    manually using 'make nacl' and make sure that the NACL_INC_DIR and\n    NACL_LIB_DIR environment variables are set appropriately.\n[!] The following tools will *not* be built: curvetun\n[*] The following tools will be built: netsniff-ng trafgen astraceroute flowtop ifpps bpfc mausezahn\n[!] There were errors in the configure script. Please check the file\n    config.log for details.\n\n\u5b9f\u9a13\u74b0\u5883\u3067\u306f\u3053\u3093\u306a\u611f\u3058\u3067nacl\u304c\u306a\u3044\u3068\u6012\u3089\u308c\u305f\u3002\n\u3053\u306e\u307e\u307e\u3067\u3082curvetun\u304c\u30d3\u30eb\u30c9\u3067\u304d\u306a\u3044\u3060\u3051\u3067trafgen\u3092\u4f7f\u3046\u306b\u306f\u652f\u969c\u304c\u306a\u3044\u304c\u4f7f\u3046\u306a\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u66f8\u3044\u3066\u3042\u308b\u5bfe\u51e6\u65b9\u6cd5\u901a\u308a\u306b\u5b9f\u884c\u3059\u308b\u3002(\u89aa\u5207\uff01)\n% make nacl\n--2014-01-05 18:21:17--  http://hyperelliptic.org/nacl/nacl-20110221.tar.bz2\nResolving hyperelliptic.org (hyperelliptic.org)... 131.155.71.33\nConnecting to hyperelliptic.org (hyperelliptic.org)|131.155.71.33|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 163415 (160K) [application/x-bzip2]\nSaving to: `/tmp/nacl-20110221.tar.bz2'\n\n100%[============================================================================================================================================>] 163,415     24.4K/s   in 6.8s\n\n2014-01-05 18:21:25 (23.4 KB/s) - `/tmp/nacl-20110221.tar.bz2' saved [163415/163415]\n\nBuilding NaCl for arch x86 on host ubuntu1204 (grab a coffee, this takes a while) ...\nNaCl lib path /home/devel/nacl/nacl-20110221/build/ubuntu1204/lib/x86\nNaCl include path /home/devel/nacl/nacl-20110221/build/ubuntu1204/include/x86\nDone!\n/bin/sh: 1: source: not found\nmake: *** [nacl] Error 127\n\n\u305d\u3046\u3059\u308b\u3068\u81ea\u52d5\u3067\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u3066\u30d3\u30eb\u30c9\u3057\u3066\u304f\u308c\u308b\u3002\n\u30d3\u30eb\u30c9\u304c\u6210\u529f\u3059\u308b\u3068~/.bashrc\u306bNACL_INC_DIR\u3068NACL_LIB_DIR\u3092\u52dd\u624b\u306b\u8ffd\u52a0\u3055\u308c\u308b\u306e\u3067\u518d\u5ea6configure\u304b\u3089\u5b9f\u884c\u3059\u308b\u3068\u8a8d\u8b58\u3055\u308c\u308b\n\u4e0a\u306e\u30ed\u30b0\u3067\u306fmake nacl\u306e\u6700\u5f8c\u3067\u306f\u81ea\u52d5\u3067~/.bashrc\u3092source\u3057\u3066\u304f\u308c\u308b\u3093\u3060\u3051\u3069\u69cb\u6587\u30a8\u30e9\u30fc\u3067\u5931\u6557\u3057\u3066\u3044\u308b\u3002\u305d\u306e\u5834\u5408\u306f\u624b\u52d5\u3067\u8a2d\u5b9a\u3059\u308b\u304b\u8aad\u307f\u8fbc\u307f\u76f4\u3059\u3070OK\u3002\n\n\u53c2\u8003URL\n\nnetsniff-ng.org\nA look at the netsniff-ng toolkit\nPktgen\n\nnetsniff-ng toolkit \u306b\u542b\u307e\u308c\u308b\u30c8\u30e9\u30d5\u30a3\u30c3\u30af(\u30d1\u30b1\u30c3\u30c8)\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\nsocket mmap \u3068\u304b\u99c6\u4f7f\u3057\u3066\u9ad8\u901f\u306b\u52d5\u4f5c\u3059\u308b\u306e\u3068\u72ec\u81ea\u306e\u7c21\u6613\u69cb\u6587\u3067\u4efb\u610f\u306e\u30d1\u30b1\u30c3\u30c8\u30d1\u30bf\u30fc\u30f3\u3092\u7d44\u307f\u7acb\u3066\u3089\u308c\u3066\u308b\u306e\u304c\u7279\u5fb4\n\nKernel\u306b\u540c\u68b1\u3055\u308c\u3066\u308b pktgen \u3082\u9ad8\u901f\u306b\u52d5\u4f5c\u3059\u308b\u304c\u3001L3\u30ec\u30d9\u30eb(IPv4,IPv6)\u3067\u30da\u30a4\u30ed\u30fc\u30c9\u5185\u5bb9\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u3057\u304b\u751f\u6210\u3067\u304d\u306a\u3044\u304b\u3089\u6027\u80fd\u8a55\u4fa1\u306b\u306f\u4f7f\u3048\u3066\u3082\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u30b9\u30bf\u30c3\u30af\u306e\u30c6\u30b9\u30c8\u306b\u306f\u4f7f\u3048\u306a\u3044\u3002\u305d\u306e\u70b9 trafgen \u306a\u3089\u4efb\u610f\u306e\u30d1\u30b1\u30c3\u30c8\u30d1\u30bf\u30fc\u30f3\u3092\u7d44\u307f\u7acb\u3066\u3089\u308c\u308b\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n----\n\n\u3088\u304f\u3042\u308b\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\nUbuntu 12.04 LTS \u3067\u5b9f\u9a13\u3002\napt \u306b\u3082\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3051\u3069\u3001\u30b3\u30de\u30f3\u30c9\u304c\u5c11\u306a\u304b\u3063\u305f\u308a\u3057\u305f\u306e\u3067\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u65b9\u304c\u3088\u3055\u305d\u3046\n\n```sh\ngit clone git://github.com/borkmann/netsniff-ng.git\n\n# \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (INSTALL\u306b\u66f8\u3044\u3066\u3042\u308b\u30b3\u30de\u30f3\u30c9\u305d\u306e\u307e\u307e)\nsudo apt-get install ccache flex bison libnl-3-dev \\\nlibnl-genl-3-dev libgeoip-dev libnetfilter-conntrack-dev \\\nlibncurses5-dev liburcu-dev libnacl-dev libpcap-dev \\\nzlib1g-dev libcli-dev libnet1-dev\n\nconfigure\nmake\nmake install\n```\n\n\u4f7f\u3063\u3066\u307f\u308b\n----\n\n\u30d8\u30eb\u30d7\u901a\u308a\u306b\u5b9f\u884c\u3057\u3066\u307f\u308b\n`-e`\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30d1\u30b1\u30c3\u30c8\u30d1\u30bf\u30fc\u30f3\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u305d\u308c\u3092\u30d1\u30a4\u30d7\u3057\u3066lo\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306b\u51fa\u529b\u3057\u3066\u3044\u308b\n\n```\n% trafgen -e | sudo trafgen -i - -o lo --cpp -n 1\n     1 packets to schedule\n    73 bytes in total\nRunning! Hang up with ^C!\n\n\n           1 packets outgoing\n          73 bytes outgoing\n           0 sec, 9435 usec on CPU0 (1 packets)\n```\n\n`trafgen`\u306b\u9650\u3089\u305a netsniff-ng toolkit \u3067NIC\u3092\u4f7f\u3046\u30b3\u30de\u30f3\u30c9\u306f`PF_PACKET`\u3092\u4f7f\u3046\u306e\u3067`root`\u3067\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f \n\n\u304a\u307e\u3051 nacl \u306e\u30d3\u30eb\u30c9\n----\n\n```\n% ./configure\n[*] Checking pkg-config ... [YES]\n[*] Checking ccache ... [YES]\n[*] Checking flex ... [YES]\n[*] Checking bison ... [YES]\n[*] Checking nacl ... [NO]\n[*] Checking libnl ... [YES]\n[*] Checking tpacket_v2 ... [YES]\n[*] Checking tpacket_v3 ... [YES]\n[*] Checking libnetfilter-conntrack ... [YES]\n[*] Checking ncurses ... [YES]\n[*] Checking libGeoIP ... [YES]\n[*] Checking libz ... [YES]\n[*] Checking liburcu ... [YES]\n[*] Checking libpcap ... [YES]\n[*] Checking hw timestamping ... [YES]\n[*] Checking libcli ... [YES]\n[*] Checking libnet ... [YES]\n[*] Generating config.h ...\n[!] The NaCl crypto library is currently not present on your system or\n    could not be found. Either install it from your distro or build it\n    manually using 'make nacl' and make sure that the NACL_INC_DIR and\n    NACL_LIB_DIR environment variables are set appropriately.\n[!] The following tools will *not* be built: curvetun\n[*] The following tools will be built: netsniff-ng trafgen astraceroute flowtop ifpps bpfc mausezahn\n[!] There were errors in the configure script. Please check the file\n    config.log for details.\n```\n\n\u5b9f\u9a13\u74b0\u5883\u3067\u306f\u3053\u3093\u306a\u611f\u3058\u3067`nacl`\u304c\u306a\u3044\u3068\u6012\u3089\u308c\u305f\u3002\n\u3053\u306e\u307e\u307e\u3067\u3082`curvetun`\u304c\u30d3\u30eb\u30c9\u3067\u304d\u306a\u3044\u3060\u3051\u3067`trafgen`\u3092\u4f7f\u3046\u306b\u306f\u652f\u969c\u304c\u306a\u3044\u304c\u4f7f\u3046\u306a\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u66f8\u3044\u3066\u3042\u308b\u5bfe\u51e6\u65b9\u6cd5\u901a\u308a\u306b\u5b9f\u884c\u3059\u308b\u3002(\u89aa\u5207\uff01)\n\n```\n% make nacl\n--2014-01-05 18:21:17--  http://hyperelliptic.org/nacl/nacl-20110221.tar.bz2\nResolving hyperelliptic.org (hyperelliptic.org)... 131.155.71.33\nConnecting to hyperelliptic.org (hyperelliptic.org)|131.155.71.33|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 163415 (160K) [application/x-bzip2]\nSaving to: `/tmp/nacl-20110221.tar.bz2'\n\n100%[============================================================================================================================================>] 163,415     24.4K/s   in 6.8s\n\n2014-01-05 18:21:25 (23.4 KB/s) - `/tmp/nacl-20110221.tar.bz2' saved [163415/163415]\n\nBuilding NaCl for arch x86 on host ubuntu1204 (grab a coffee, this takes a while) ...\nNaCl lib path /home/devel/nacl/nacl-20110221/build/ubuntu1204/lib/x86\nNaCl include path /home/devel/nacl/nacl-20110221/build/ubuntu1204/include/x86\nDone!\n/bin/sh: 1: source: not found\nmake: *** [nacl] Error 127\n```\n\n\u305d\u3046\u3059\u308b\u3068\u81ea\u52d5\u3067\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u3066\u30d3\u30eb\u30c9\u3057\u3066\u304f\u308c\u308b\u3002\n\u30d3\u30eb\u30c9\u304c\u6210\u529f\u3059\u308b\u3068`~/.bashrc`\u306b`NACL_INC_DIR`\u3068`NACL_LIB_DIR`\u3092\u52dd\u624b\u306b\u8ffd\u52a0\u3055\u308c\u308b\u306e\u3067\u518d\u5ea6`configure`\u304b\u3089\u5b9f\u884c\u3059\u308b\u3068\u8a8d\u8b58\u3055\u308c\u308b\n\n\u4e0a\u306e\u30ed\u30b0\u3067\u306f`make nacl`\u306e\u6700\u5f8c\u3067\u306f\u81ea\u52d5\u3067`~/.bashrc`\u3092`source`\u3057\u3066\u304f\u308c\u308b\u3093\u3060\u3051\u3069\u69cb\u6587\u30a8\u30e9\u30fc\u3067\u5931\u6557\u3057\u3066\u3044\u308b\u3002\u305d\u306e\u5834\u5408\u306f\u624b\u52d5\u3067\u8a2d\u5b9a\u3059\u308b\u304b\u8aad\u307f\u8fbc\u307f\u76f4\u3059\u3070OK\u3002\n\n\u53c2\u8003URL\n----\n\n* [netsniff-ng.org](http://netsniff-ng.org/)\n* [A look at the netsniff-ng toolkit](http://jonschipp.com/talks/derbycon2013.pdf)\n* [Pktgen](http://hkatou.orz.hm/cisco/Pktgen)", "tags": ["Linux", "Network", "netsniff-ng", "trafgen", "pktgen"]}