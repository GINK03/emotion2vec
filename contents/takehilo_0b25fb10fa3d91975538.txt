{"tags": ["Node.js", "loopback"], "context": "LoopBack.js\u306f\u30b5\u30af\u30c3\u3068REST API\u3092\u4f5c\u308b\u305f\u3081\u306eNode.js\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u99c6\u4f7f\u3057\u3066\u30e2\u30c7\u30eb\u3092\u4f5c\u3063\u3066\u3044\u304f\u306e\u3067\u3001\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u304c\u5c11\u306a\u304f\u6e08\u307f\u307e\u3059\u3002\u307e\u305f\u3001REST API\u306e\u30aa\u30f3\u30e9\u30a4\u30f3\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u751f\u6210\u3057\u3066\u304f\u308c\u308bSwagger\u304c\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u3066\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\n\n\u4f5c\u6210\u3059\u308b\u30e2\u30c7\u30eb\n\u4eca\u56de\u306f\u30b7\u30f3\u30d7\u30eb\u306aToDo\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nAccount\u30e2\u30c7\u30eb: ToDo\u30a2\u30d7\u30ea\u306e\u30e6\u30fc\u30b6\nToDo\u30e2\u30c7\u30eb: ToDo\u30bf\u30b9\u30af\n\nLoopBack.js\u3067\u306f\u30d3\u30eb\u30c8\u30a4\u30f3\u306eUser\u30e2\u30c7\u30eb\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u3066\u3001\u8a8d\u8a3c\u6a5f\u80fd\u306a\u3069\u304c\u3042\u3089\u304b\u3058\u3081\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u4eca\u56deAccount\u30e2\u30c7\u30eb\u306f\u3053\u306eUser\u30e2\u30c7\u30eb\u3092\u7d99\u627f\u3055\u305b\u308b\u305f\u3081\u3001\u7279\u306b\u8ffd\u52a0\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u6301\u305f\u305b\u307e\u305b\u3093\u3002\nToDo\u30e2\u30c7\u30eb\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u305f\u305b\u307e\u3059\u3002\n\n\n\n\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\n\u578b\n\u8aac\u660e\n\n\n\n\ntitle\nstring\nToDo\u30bf\u30b9\u30af\u306e\u30bf\u30a4\u30c8\u30eb\n\n\ndone\nboolean\n\u30bf\u30b9\u30af\u306e\u72b6\u614b\uff08\u5b8c\u4e86or\u672a\u5b8c\u4e86\uff09\n\n\n\n\u30e2\u30c7\u30eb\u9593\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\nAccount has many ToDo\nToDo belongs to Account\n\n\n\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\nLoopBack.js\u3067\u306f\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u5148\u3092\u4ee5\u4e0b\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u3002\n\nCloudant\nDB2\n\u30e1\u30e2\u30eaDB\nMongoDB\nMySQL\nOracle\nPostgreSQL\nRedis\nSQL Server\n\n\u4eca\u56de\u306fMySQL\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\u74b0\u5883\u6e96\u5099\nNode.js\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3068\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u4eca\u56deMySQL\u306fDocker\u30b3\u30f3\u30c6\u30ca\u3067\u52d5\u304b\u3059\u624b\u9806\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u76f4\u63a5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306a\u3069\u306fIP\u30a2\u30c9\u30ec\u30b9\u306a\u3069\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\nstrongloop\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ npm install strongloop -g\n\n\n\u96db\u5f62\u4f5c\u6210\n\u307e\u305a\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u96db\u5f62\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ slc loopback\n\n\u96db\u5f62\u4f5c\u6210\u306b\u3042\u305f\u308a\u4ee5\u4e0b\uff13\u3064\u8cea\u554f\u3057\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u305d\u308c\u305e\u308ctodo-app\u3001todo-app\u3068\u5165\u529b\u3001\u6700\u5f8c\u306fapi-server\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n? What's the name of your application? todo-app\n? Enter name of the directory to contain the project: todo-app\n? What kind of application do you have in mind? api-server (A LoopBack API server with local User auth)\n\n\u3053\u306e\u3042\u3068\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u81ea\u52d5\u3067\u59cb\u307e\u308a\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001todo-app\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u4ee5\u964d\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30eb\u30fc\u30c8\u30d1\u30b9\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\u30e2\u30c7\u30eb\u4f5c\u6210\n\u96db\u5f62\u304c\u3067\u304d\u305f\u3089\u3001\u6b21\u306f\u30e2\u30c7\u30eb\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u307e\u305a\u306fAccount\u30e2\u30c7\u30eb\u3002\n$ slc loopback:model\n\n\u96db\u5f62\u4f5c\u6210\u6642\u3068\u540c\u69d8\u306b\u4f5c\u6210\u3059\u308b\u30e2\u30c7\u30eb\u306b\u3064\u3044\u3066\u8cea\u554f\u3057\u3066\u304f\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u901a\u308a\u56de\u7b54\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n? Enter the model name: Account\n? Select the data-source to attach undefined to: db (memory)\n? Select model's base class User\n? Expose Account via the REST API? Yes\n? Custom plural form (used to build REST URL):\n? Common model or server only? server\nLet's add some Account properties now.\n\nEnter an empty property name when done.\n? Property name:\n\n\u6b21\u306fToDo\u30e2\u30c7\u30eb\u3002\n$ slc loopback:model\n\n? Enter the model name: ToDo\n? Select the data-source to attach undefined to: db (memory)\n? Select model's base class PersistedModel\n? Expose ToDo via the REST API? no\n? Common model or server only? server\nLet's add some ToDo properties now.\n\nEnter an empty property name when done.\n? Property name: title\n   invoke   loopback:property\n? Property type: string\n? Required? Yes\n? Default value[leave blank for none]:\n\nLet's add another ToDo property.\nEnter an empty property name when done.\n? Property name: done\n   invoke   loopback:property\n? Property type: boolean\n? Required? Yes\n? Default value[leave blank for none]:\n\nLet's add another ToDo property.\nEnter an empty property name when done.\n? Property name:\n\n\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\n\u30e2\u30c7\u30eb\u9593\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3061\u3089\u3082\u30b3\u30de\u30f3\u30c9\u304b\u3089\u884c\u3044\u307e\u3059\u3002\n\u307e\u305a\u306fAccount has many ToDo\u3068\u3044\u3046\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ slc loopback:relation\n\n? Select the model to create the relationship from: Account\n? Relation type: has many\n? Choose a model to create a relationship with: ToDo\n? Enter the property name for the relation: toDos\n? Optionally enter a custom foreign key:\n? Require a through model? No\n\n\u6b21\u306fToDo belongs to Account\u3068\u3044\u3046\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ slc loopback:relation\n\n? Select the model to create the relationship from: ToDo\n? Relation type: belongs to\n? Choose a model to create a relationship with: Account\n? Enter the property name for the relation: account\n? Optionally enter a custom foreign key:\n\n\nMySQL\u30b5\u30fc\u30d0\u8d77\u52d5\n\u3053\u3053\u3067\u306fDocker\u3092\u4f7f\u3044\u307e\u3059\u3002\n$ docker run --name mysql -e MYSQL_ROOT_PASSWORD=r00t! -e MYSQL_DATABASE=loopback -e MYSQL_USER=todo -e MYSQL_PASSWORD=^todo$ -d -p 3306:3306 mysql\n\n\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30eb\u30fc\u30c8\u30d1\u30b9\u30ef\u30fc\u30c9: r00t!\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d: loopback\n\u30e6\u30fc\u30b6\u540d: todo\n\u30d1\u30b9\u30ef\u30fc\u30c9: ^todo$\n\n\n\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u8a2d\u5b9a\n\u30e2\u30c7\u30eb\u306e\u4fdd\u5b58\u5148\u3068\u306a\u308b\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u540c\u69d8\u30b3\u30de\u30f3\u30c9\u304b\u3089\u884c\u3044\u307e\u3059\u3002\n$ slc loopback:datasource\n\n? Enter the data-source name: todoDB\n? Select the connector for todoDB: MySQL (supported by StrongLoop)\nConnector-specific configuration:\n? Connection String url to override other settings (eg: mysql://user:pass@host/db):\n? host: 192.168.99.100\n? port: 3306\n? user: todo\n? password: ******\n? database: loopback\n? Install loopback-connector-mysql@^2.2 Yes\n\n\u4eca\u56deDockerToolbox\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u95a2\u4fc2\u3067host\u304c192.168.99.100\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002MySQL\u304c\u30ed\u30fc\u30ab\u30eb\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u5834\u5408\u306flocalhost\u306b\u3059\u308b\u306a\u3069\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u306e\u6307\u5b9a\nslc loopback\u30b3\u30de\u30f3\u30c9\u306b\u3088\u3063\u3066\u96db\u5f62\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u3001\u30e2\u30c7\u30eb\u306e\u4fdd\u5b58\u5148\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30e1\u30e2\u30eaDB\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3092\u5148\u307b\u3069\u4f5c\u6210\u3057\u305ftodoDB(MySQL)\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u306e\u6307\u5b9a\u306fserver/model-config.json\u3067\u884c\u3044\u307e\u3059\u3002\u73fe\u5728\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n{\n  \"_meta\": {\n    \"sources\": [\n      \"loopback/common/models\",\n      \"loopback/server/models\",\n      \"../common/models\",\n      \"./models\"\n    ],\n    \"mixins\": [\n      \"loopback/common/mixins\",\n      \"loopback/server/mixins\",\n      \"../common/mixins\",\n      \"./mixins\"\n    ]\n  },\n  \"User\": {\n    \"dataSource\": \"db\"\n  },\n  \"AccessToken\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  },\n  \"ACL\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  },\n  \"RoleMapping\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  },\n  \"Role\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  },\n  \"Account\": {\n    \"dataSource\": \"db\",\n    \"public\": true\n  },\n  \"ToDo\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  }\n}\n\n\"dataSource\": \"db\"\u3068\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u3092\u5168\u3066\"dataSource\": \"todoDB\"\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n{\n  \"_meta\": {\n    \"sources\": [\n      \"loopback/common/models\",\n      \"loopback/server/models\",\n      \"../common/models\",\n      \"./models\"\n    ],\n    \"mixins\": [\n      \"loopback/common/mixins\",\n      \"loopback/server/mixins\",\n      \"../common/mixins\",\n      \"./mixins\"\n    ]\n  },\n  \"User\": {\n    \"dataSource\": \"todoDB\"\n  },\n  \"AccessToken\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  },\n  \"ACL\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  },\n  \"RoleMapping\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  },\n  \"Role\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  },\n  \"Account\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": true\n  },\n  \"ToDo\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  }\n}\n\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306bMySQL\u30b5\u30fc\u30d0\u306e\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u3068\u30c7\u30e2\u30c7\u30fc\u30bf\u306e\u8ffd\u52a0\u3092\u884c\u3046\u305f\u3081\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nLoopBack.js\u3067\u306f\u3001server/boot/*.js\u3068\u3044\u3046\u540d\u524d\u306eJavaScript\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u3080\u7528\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3067\u306fserver/boot/automigrate.js\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nvar async = require('async');\n\nmodule.exports = function(app) {\n  ds = app.dataSources.todoDB;\n\n  async.waterfall([\n      createAccounts,\n      createTodos\n  ], function(err, result) {\n    if (err) console.log('Error: ' + err);\n    console.log('Success!');\n  });\n\n  function createAccounts(callback) {\n    ds.automigrate(['Account', 'AccessToken', 'ACL', 'RoleMapping', 'Role'], function(err) {\n      if (err) return callback(err);\n\n      var accounts = [\n        {\n          email: 'foo@foo.com',\n          password: 'foo'\n        },\n        {\n          email: 'bar@bar.com',\n          password: 'bar'\n        },\n        {\n          email: 'baz@baz.com',\n          password: 'baz'\n        }\n      ];\n\n      app.models.Account.create(accounts, callback);\n    });\n  }\n\n  function createTodos(accounts, callback) {\n    ds.automigrate('ToDo', function(err) {\n      if (err) return callback(err);\n\n      var todos = [];\n      for (var i = 0, len = accounts.length; i < len; i++) {\n        todos.push(createSampleTodo(accounts[i]));\n      }\n      app.models.ToDo.create(todos, callback);\n    });\n\n    function createSampleTodo(account) {\n      var name = account.email.split('@')[0];\n      return [\n        {\n          title: name + '-task1',\n          done: false,\n          accountId: account.id\n        },\n        {\n          title: name + '-task2',\n          done: true,\n          accountId: account.id\n        },\n        {\n          title: name + '-task3',\n          done: false,\n          accountId: account.id\n        }\n      ];\n    }\n  }\n\n};\n\nasync.js\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ npm install async\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4e2d\u3067\u767b\u5834\u3059\u308bautomigrate()\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u3082\u3057\u3059\u3067\u306b\u540c\u540d\u306e\u30c6\u30fc\u30d6\u30eb\u304c\u5b58\u5728\u3057\u3066\u3044\u305f\u5834\u5408\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u518d\u4f5c\u6210\u3057\u307e\u3059\u3002\u306a\u306e\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5\u3059\u308b\u5ea6\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308a\u76f4\u3057\u3001\u30c7\u30e2\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u76f4\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\n\u4ee5\u4e0a\u3067\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ node .\nWeb server listening at: http://0.0.0.0:3000\nBrowse your REST API at http://0.0.0.0:3000/explorer\nSuccess!\n\n\u30d6\u30e9\u30a6\u30b6\u3067http://0.0.0.0:3000/explorer\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001Swagger\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\nAPI\u3092\u4f7f\u3063\u3066\u307f\u308b\nSwagger\u306e\u753b\u9762\u3067\u306f\u3001REST API\u306b\u5bfe\u3059\u308b\u5404\u7a2e\u64cd\u4f5c\u304c\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30c7\u30e2\u30c7\u30fc\u30bf\u3068\u3057\u3066\u3042\u3089\u304b\u3058\u3081\u8ffd\u52a0\u3057\u3066\u3042\u308bToDo\u30bf\u30b9\u30af\u3092\u53d6\u5f97\u3067\u304d\u308b\u304b\u8a66\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nGET /Accounts/{id}/toDos\u306e\u30d1\u30b9\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u64cd\u4f5c\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002Parameters\u306e\u4e0b\u306b\u3042\u308bid\u306e\u6b04\u306b1\u3092\u5165\u529b\u3057\u3066Try it out!\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n401\u30a8\u30e9\u30fc\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\u5b9f\u306f\u3001Account\u30e2\u30c7\u30eb\u306f\u30d3\u30eb\u30c8\u30a4\u30f3\u306eUser\u30e2\u30c7\u30eb\u3092\u7d99\u627f\u3057\u3066\u3044\u3066\u3001\u30a2\u30af\u30bb\u30b9\u5236\u9650\u304c\u304b\u304b\u3063\u3066\u3044\u307e\u3059\u3002\u8a8d\u8a3c\u5468\u308a\u306e\u5b9f\u88c5\u306e\u624b\u9593\u304c\u7701\u3051\u308b\u306e\u306f\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\n\u753b\u9762\u3092\u5c11\u3057\u4e0b\u306b\u79fb\u52d5\u3057\u3066\u3001POST /Accounts/login\u3092\u958b\u304d\u307e\u3057\u3087\u3046\u3002credentials\u306e\u6b04\u306b\u4ee5\u4e0b\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u5165\u529b\u3057\u3001Try it out!\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n{\n  \"email\": \"foo@foo.com\",\n  \"password\": \"foo\"\n}\n\n\n200\u304c\u8fd4\u3063\u3066\u304d\u305f\u3089OK\u3067\u3059\u3002\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u4e2d\u306eid\u304c\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3067\u3001\u30a2\u30af\u30bb\u30b9\u5236\u9650\u304c\u304b\u304b\u3063\u3066\u3044\u308b\u30d1\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u304d\u306b\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u753b\u9762\u53f3\u4e0a\u306b\u3053\u306e\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3053\u308d\u304c\u3042\u308b\u306e\u3067\u3001\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u30c8\u30fc\u30af\u30f3\u3092\u5165\u529b\u3057\u3066Set Access Token\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30ed\u30b0\u30a4\u30f3\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u518d\u5ea6GET /Accounts/{id}/toDos\u306e\u3068\u3053\u308d\u306b\u623b\u3063\u3066ToDo\u30bf\u30b9\u30af\u3092\u53d6\u5f97\u3067\u304d\u308b\u304b\u8a66\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u3001\u3001\u3001\u5b9f\u306f\u3053\u306e\u6642\u70b9\u3067\u306f\u307e\u3060401\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002User\u30e2\u30c7\u30eb\u3067\u306f\u3042\u3089\u3086\u308b\u30a2\u30af\u30bb\u30b9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5236\u9650\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u660e\u793a\u7684\u306b\u8a31\u53ef\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u3002\n\nACL\u8a2d\u5b9a\nAccount\u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3001ACL\uff08Access Control List\uff09\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ slc loopback:acl\n\n? Select the model to apply the ACL entry to: Account\n? Select the ACL scope: A single method\n? Enter the method name __get__toDos\n? Select the role The user owning the object\n? Select the permission to apply Explicitly grant access\n\n__get__toDos\u3068\u3044\u3046\u540d\u524d\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u3001ToDo\u30e2\u30c7\u30eb\u306e\u30aa\u30fc\u30ca\u30fc\u306b\u3060\u3051\u5b9f\u884c\u3092\u8a31\u53ef\u3059\u308b\u3068\u3044\u3046\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001ToDo\u30bf\u30b9\u30af\u306e\u53d6\u5f97\u64cd\u4f5c\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\nToDo\u30bf\u30b9\u30af\u306e\u4f5c\u6210\u3084\u524a\u9664\u3092\u3055\u305b\u305f\u3044\u5834\u5408\u306f\u3001\u3055\u3089\u306bACL\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u5bfe\u5fdc\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u540d\u306f\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\nToDo\u30bf\u30b9\u30af\u53d6\u5f97\n\u3053\u308c\u3067\u5168\u3066\u306e\u6e96\u5099\u304c\u5b8c\u4e86\u3067\u3059\u3002\u5148\u307b\u3069\u3068\u540c\u69d8\u306e\u624b\u9806\u3067\u30ed\u30b0\u30a4\u30f3\u3001\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u30bb\u30c3\u30c8\u3057\u3001ToDo\u30bf\u30b9\u30af\u3092\u53d6\u5f97\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u4e0a\u56f3\u306e\u3088\u3046\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u3068\u3057\u3066\uff13\u3064\u306eToDo\u30bf\u30b9\u30af\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n\n\u307e\u3068\u3081\n\u30bc\u30ed\u304b\u3089LoopBack\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3001\u5b9f\u969b\u306bREST API\u3092\u64cd\u4f5c\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u89e3\u8aac\u3057\u307e\u3057\u305f\u3002\u30b3\u30de\u30f3\u30c9\u30d9\u30fc\u30b9\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u4f5c\u6210\u3067\u304d\u308b\u624b\u8efd\u3055\u3068\u3001\u30aa\u30f3\u30e9\u30a4\u30f3\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3084\u8a8d\u8a3c\u6a5f\u80fd\u306a\u3069API\u3068\u3057\u3066\u5fc5\u8981\u306a\u6a5f\u80fd\u304c\u3042\u3089\u304b\u3058\u3081\u5099\u308f\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u306e\u306f\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\nLoopBack.js\u306e\u8a18\u4e8b\u306f\u3042\u307e\u308a\u591a\u304f\u306a\u3044\u306e\u3067\u3001\u4eca\u5f8c\u5897\u3048\u3066\u3044\u304f\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\u3044\u307e\u3059^^\nLoopBack.js\u306f\u30b5\u30af\u30c3\u3068REST API\u3092\u4f5c\u308b\u305f\u3081\u306eNode.js\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u99c6\u4f7f\u3057\u3066\u30e2\u30c7\u30eb\u3092\u4f5c\u3063\u3066\u3044\u304f\u306e\u3067\u3001\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u304c\u5c11\u306a\u304f\u6e08\u307f\u307e\u3059\u3002\u307e\u305f\u3001REST API\u306e\u30aa\u30f3\u30e9\u30a4\u30f3\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u751f\u6210\u3057\u3066\u304f\u308c\u308bSwagger\u304c\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u3066\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\n\n## \u4f5c\u6210\u3059\u308b\u30e2\u30c7\u30eb\n\u4eca\u56de\u306f\u30b7\u30f3\u30d7\u30eb\u306aToDo\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u69d8\u306a\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n* Account\u30e2\u30c7\u30eb: ToDo\u30a2\u30d7\u30ea\u306e\u30e6\u30fc\u30b6\n* ToDo\u30e2\u30c7\u30eb: ToDo\u30bf\u30b9\u30af\n\nLoopBack.js\u3067\u306f\u30d3\u30eb\u30c8\u30a4\u30f3\u306eUser\u30e2\u30c7\u30eb\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u3066\u3001\u8a8d\u8a3c\u6a5f\u80fd\u306a\u3069\u304c\u3042\u3089\u304b\u3058\u3081\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u4eca\u56deAccount\u30e2\u30c7\u30eb\u306f\u3053\u306eUser\u30e2\u30c7\u30eb\u3092\u7d99\u627f\u3055\u305b\u308b\u305f\u3081\u3001\u7279\u306b\u8ffd\u52a0\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u6301\u305f\u305b\u307e\u305b\u3093\u3002\n\nToDo\u30e2\u30c7\u30eb\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u305f\u305b\u307e\u3059\u3002\n\n| \u30d7\u30ed\u30d1\u30c6\u30a3\u540d | \u578b     | \u8aac\u660e                     |\n|------------|--------|-------------------------|\n| title      | string | ToDo\u30bf\u30b9\u30af\u306e\u30bf\u30a4\u30c8\u30eb       |\n| done      | boolean | \u30bf\u30b9\u30af\u306e\u72b6\u614b\uff08\u5b8c\u4e86or\u672a\u5b8c\u4e86\uff09 |\n\n\u30e2\u30c7\u30eb\u9593\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n* Account has many ToDo\n* ToDo belongs to Account\n\n## \u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\nLoopBack.js\u3067\u306f\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u5148\u3092\u4ee5\u4e0b\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u3002\n\n* Cloudant\n* DB2\n* \u30e1\u30e2\u30eaDB\n* MongoDB\n* MySQL\n* Oracle\n* PostgreSQL\n* Redis\n* SQL Server\n\n\u4eca\u56de\u306fMySQL\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n## \u74b0\u5883\u6e96\u5099\nNode.js\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3068\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u4eca\u56deMySQL\u306fDocker\u30b3\u30f3\u30c6\u30ca\u3067\u52d5\u304b\u3059\u624b\u9806\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u76f4\u63a5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306a\u3069\u306fIP\u30a2\u30c9\u30ec\u30b9\u306a\u3069\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\nstrongloop\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n$ npm install strongloop -g\n```\n\n## \u96db\u5f62\u4f5c\u6210\n\u307e\u305a\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u96db\u5f62\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n$ slc loopback\n```\n\n\u96db\u5f62\u4f5c\u6210\u306b\u3042\u305f\u308a\u4ee5\u4e0b\uff13\u3064\u8cea\u554f\u3057\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u305d\u308c\u305e\u308c`todo-app`\u3001`todo-app`\u3068\u5165\u529b\u3001\u6700\u5f8c\u306f`api-server`\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n? What's the name of your application? todo-app\n? Enter name of the directory to contain the project: todo-app\n? What kind of application do you have in mind? api-server (A LoopBack API server with local User auth)\n```\n\n\u3053\u306e\u3042\u3068\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u81ea\u52d5\u3067\u59cb\u307e\u308a\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001`todo-app`\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u4ee5\u964d\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30eb\u30fc\u30c8\u30d1\u30b9\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n## \u30e2\u30c7\u30eb\u4f5c\u6210\n\u96db\u5f62\u304c\u3067\u304d\u305f\u3089\u3001\u6b21\u306f\u30e2\u30c7\u30eb\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u307e\u305a\u306fAccount\u30e2\u30c7\u30eb\u3002\n\n```\n$ slc loopback:model\n```\n\n\u96db\u5f62\u4f5c\u6210\u6642\u3068\u540c\u69d8\u306b\u4f5c\u6210\u3059\u308b\u30e2\u30c7\u30eb\u306b\u3064\u3044\u3066\u8cea\u554f\u3057\u3066\u304f\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u901a\u308a\u56de\u7b54\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n? Enter the model name: Account\n? Select the data-source to attach undefined to: db (memory)\n? Select model's base class User\n? Expose Account via the REST API? Yes\n? Custom plural form (used to build REST URL):\n? Common model or server only? server\nLet's add some Account properties now.\n\nEnter an empty property name when done.\n? Property name:\n```\n\n\u6b21\u306fToDo\u30e2\u30c7\u30eb\u3002\n\n```\n$ slc loopback:model\n```\n\n```\n? Enter the model name: ToDo\n? Select the data-source to attach undefined to: db (memory)\n? Select model's base class PersistedModel\n? Expose ToDo via the REST API? no\n? Common model or server only? server\nLet's add some ToDo properties now.\n\nEnter an empty property name when done.\n? Property name: title\n   invoke   loopback:property\n? Property type: string\n? Required? Yes\n? Default value[leave blank for none]:\n\nLet's add another ToDo property.\nEnter an empty property name when done.\n? Property name: done\n   invoke   loopback:property\n? Property type: boolean\n? Required? Yes\n? Default value[leave blank for none]:\n\nLet's add another ToDo property.\nEnter an empty property name when done.\n? Property name:\n```\n\n## \u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\n\u30e2\u30c7\u30eb\u9593\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3061\u3089\u3082\u30b3\u30de\u30f3\u30c9\u304b\u3089\u884c\u3044\u307e\u3059\u3002\n\n\u307e\u305a\u306f`Account has many ToDo`\u3068\u3044\u3046\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n$ slc loopback:relation\n```\n\n```\n? Select the model to create the relationship from: Account\n? Relation type: has many\n? Choose a model to create a relationship with: ToDo\n? Enter the property name for the relation: toDos\n? Optionally enter a custom foreign key:\n? Require a through model? No\n```\n\n\u6b21\u306f`ToDo belongs to Account`\u3068\u3044\u3046\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n$ slc loopback:relation\n```\n\n```\n? Select the model to create the relationship from: ToDo\n? Relation type: belongs to\n? Choose a model to create a relationship with: Account\n? Enter the property name for the relation: account\n? Optionally enter a custom foreign key:\n```\n\n## MySQL\u30b5\u30fc\u30d0\u8d77\u52d5\n\u3053\u3053\u3067\u306fDocker\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```\n$ docker run --name mysql -e MYSQL_ROOT_PASSWORD=r00t! -e MYSQL_DATABASE=loopback -e MYSQL_USER=todo -e MYSQL_PASSWORD=^todo$ -d -p 3306:3306 mysql\n```\n\n\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\n* \u30eb\u30fc\u30c8\u30d1\u30b9\u30ef\u30fc\u30c9: r00t!\n* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d: loopback\n* \u30e6\u30fc\u30b6\u540d: todo\n* \u30d1\u30b9\u30ef\u30fc\u30c9: ^todo$\n\n## \u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u8a2d\u5b9a\n\u30e2\u30c7\u30eb\u306e\u4fdd\u5b58\u5148\u3068\u306a\u308b\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u540c\u69d8\u30b3\u30de\u30f3\u30c9\u304b\u3089\u884c\u3044\u307e\u3059\u3002\n\n```\n$ slc loopback:datasource\n```\n\n```\n? Enter the data-source name: todoDB\n? Select the connector for todoDB: MySQL (supported by StrongLoop)\nConnector-specific configuration:\n? Connection String url to override other settings (eg: mysql://user:pass@host/db):\n? host: 192.168.99.100\n? port: 3306\n? user: todo\n? password: ******\n? database: loopback\n? Install loopback-connector-mysql@^2.2 Yes\n```\n\n\u4eca\u56deDockerToolbox\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u95a2\u4fc2\u3067`host`\u304c`192.168.99.100`\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002MySQL\u304c\u30ed\u30fc\u30ab\u30eb\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u5834\u5408\u306f`localhost`\u306b\u3059\u308b\u306a\u3069\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u306e\u6307\u5b9a\n`slc loopback`\u30b3\u30de\u30f3\u30c9\u306b\u3088\u3063\u3066\u96db\u5f62\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u3001\u30e2\u30c7\u30eb\u306e\u4fdd\u5b58\u5148\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30e1\u30e2\u30eaDB\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3092\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f`todoDB(MySQL)`\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u306e\u6307\u5b9a\u306f`server/model-config.json`\u3067\u884c\u3044\u307e\u3059\u3002\u73fe\u5728\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```json\n{\n  \"_meta\": {\n    \"sources\": [\n      \"loopback/common/models\",\n      \"loopback/server/models\",\n      \"../common/models\",\n      \"./models\"\n    ],\n    \"mixins\": [\n      \"loopback/common/mixins\",\n      \"loopback/server/mixins\",\n      \"../common/mixins\",\n      \"./mixins\"\n    ]\n  },\n  \"User\": {\n    \"dataSource\": \"db\"\n  },\n  \"AccessToken\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  },\n  \"ACL\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  },\n  \"RoleMapping\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  },\n  \"Role\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  },\n  \"Account\": {\n    \"dataSource\": \"db\",\n    \"public\": true\n  },\n  \"ToDo\": {\n    \"dataSource\": \"db\",\n    \"public\": false\n  }\n}\n```\n\n`\"dataSource\": \"db\"`\u3068\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u3092\u5168\u3066`\"dataSource\": \"todoDB\"`\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```json\n{\n  \"_meta\": {\n    \"sources\": [\n      \"loopback/common/models\",\n      \"loopback/server/models\",\n      \"../common/models\",\n      \"./models\"\n    ],\n    \"mixins\": [\n      \"loopback/common/mixins\",\n      \"loopback/server/mixins\",\n      \"../common/mixins\",\n      \"./mixins\"\n    ]\n  },\n  \"User\": {\n    \"dataSource\": \"todoDB\"\n  },\n  \"AccessToken\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  },\n  \"ACL\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  },\n  \"RoleMapping\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  },\n  \"Role\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  },\n  \"Account\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": true\n  },\n  \"ToDo\": {\n    \"dataSource\": \"todoDB\",\n    \"public\": false\n  }\n}\n```\n\n## \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\u6642\u306bMySQL\u30b5\u30fc\u30d0\u306e\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u3068\u30c7\u30e2\u30c7\u30fc\u30bf\u306e\u8ffd\u52a0\u3092\u884c\u3046\u305f\u3081\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nLoopBack.js\u3067\u306f\u3001`server/boot/*.js`\u3068\u3044\u3046\u540d\u524d\u306eJavaScript\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u3080\u7528\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3067\u306f`server/boot/automigrate.js`\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```js\nvar async = require('async');\n\nmodule.exports = function(app) {\n  ds = app.dataSources.todoDB;\n\n  async.waterfall([\n      createAccounts,\n      createTodos\n  ], function(err, result) {\n    if (err) console.log('Error: ' + err);\n    console.log('Success!');\n  });\n\n  function createAccounts(callback) {\n    ds.automigrate(['Account', 'AccessToken', 'ACL', 'RoleMapping', 'Role'], function(err) {\n      if (err) return callback(err);\n\n      var accounts = [\n        {\n          email: 'foo@foo.com',\n          password: 'foo'\n        },\n        {\n          email: 'bar@bar.com',\n          password: 'bar'\n        },\n        {\n          email: 'baz@baz.com',\n          password: 'baz'\n        }\n      ];\n\n      app.models.Account.create(accounts, callback);\n    });\n  }\n\n  function createTodos(accounts, callback) {\n    ds.automigrate('ToDo', function(err) {\n      if (err) return callback(err);\n\n      var todos = [];\n      for (var i = 0, len = accounts.length; i < len; i++) {\n        todos.push(createSampleTodo(accounts[i]));\n      }\n      app.models.ToDo.create(todos, callback);\n    });\n\n    function createSampleTodo(account) {\n      var name = account.email.split('@')[0];\n      return [\n        {\n          title: name + '-task1',\n          done: false,\n          accountId: account.id\n        },\n        {\n          title: name + '-task2',\n          done: true,\n          accountId: account.id\n        },\n        {\n          title: name + '-task3',\n          done: false,\n          accountId: account.id\n        }\n      ];\n    }\n  }\n\n};\n```\n\n`async.js`\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ npm install async\n```\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4e2d\u3067\u767b\u5834\u3059\u308b`automigrate()`\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u3082\u3057\u3059\u3067\u306b\u540c\u540d\u306e\u30c6\u30fc\u30d6\u30eb\u304c\u5b58\u5728\u3057\u3066\u3044\u305f\u5834\u5408\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u518d\u4f5c\u6210\u3057\u307e\u3059\u3002\u306a\u306e\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5\u3059\u308b\u5ea6\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308a\u76f4\u3057\u3001\u30c7\u30e2\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u76f4\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5\n\u4ee5\u4e0a\u3067\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ node .\nWeb server listening at: http://0.0.0.0:3000\nBrowse your REST API at http://0.0.0.0:3000/explorer\nSuccess!\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067`http://0.0.0.0:3000/explorer`\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001Swagger\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n![Kobito.bp6NAS.png](https://qiita-image-store.s3.amazonaws.com/0/81715/a84239a3-4521-1705-a474-0e333195c76a.png \"Kobito.bp6NAS.png\")\n\n## API\u3092\u4f7f\u3063\u3066\u307f\u308b\nSwagger\u306e\u753b\u9762\u3067\u306f\u3001REST API\u306b\u5bfe\u3059\u308b\u5404\u7a2e\u64cd\u4f5c\u304c\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30c7\u30e2\u30c7\u30fc\u30bf\u3068\u3057\u3066\u3042\u3089\u304b\u3058\u3081\u8ffd\u52a0\u3057\u3066\u3042\u308bToDo\u30bf\u30b9\u30af\u3092\u53d6\u5f97\u3067\u304d\u308b\u304b\u8a66\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n`GET /Accounts/{id}/toDos`\u306e\u30d1\u30b9\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u64cd\u4f5c\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002`Parameters`\u306e\u4e0b\u306b\u3042\u308b`id`\u306e\u6b04\u306b`1`\u3092\u5165\u529b\u3057\u3066`Try it out!`\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![Kobito.6fwCzQ.png](https://qiita-image-store.s3.amazonaws.com/0/81715/c4fc1904-a63e-c292-297d-d31ec9e68bae.png \"Kobito.6fwCzQ.png\")\n\n401\u30a8\u30e9\u30fc\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002\u5b9f\u306f\u3001Account\u30e2\u30c7\u30eb\u306f\u30d3\u30eb\u30c8\u30a4\u30f3\u306eUser\u30e2\u30c7\u30eb\u3092\u7d99\u627f\u3057\u3066\u3044\u3066\u3001\u30a2\u30af\u30bb\u30b9\u5236\u9650\u304c\u304b\u304b\u3063\u3066\u3044\u307e\u3059\u3002\u8a8d\u8a3c\u5468\u308a\u306e\u5b9f\u88c5\u306e\u624b\u9593\u304c\u7701\u3051\u308b\u306e\u306f\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\n\n\u753b\u9762\u3092\u5c11\u3057\u4e0b\u306b\u79fb\u52d5\u3057\u3066\u3001`POST /Accounts/login`\u3092\u958b\u304d\u307e\u3057\u3087\u3046\u3002`credentials`\u306e\u6b04\u306b\u4ee5\u4e0b\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u5165\u529b\u3057\u3001`Try it out!`\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n```\n{\n  \"email\": \"foo@foo.com\",\n  \"password\": \"foo\"\n}\n```\n\n![Kobito.jvagwY.png](https://qiita-image-store.s3.amazonaws.com/0/81715/08da0d13-63ad-80b5-1943-7a03ec43cb53.png \"Kobito.jvagwY.png\")\n\n200\u304c\u8fd4\u3063\u3066\u304d\u305f\u3089OK\u3067\u3059\u3002\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u4e2d\u306e`id`\u304c\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3067\u3001\u30a2\u30af\u30bb\u30b9\u5236\u9650\u304c\u304b\u304b\u3063\u3066\u3044\u308b\u30d1\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u304d\u306b\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u753b\u9762\u53f3\u4e0a\u306b\u3053\u306e\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3053\u308d\u304c\u3042\u308b\u306e\u3067\u3001\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u30c8\u30fc\u30af\u30f3\u3092\u5165\u529b\u3057\u3066`Set Access Token`\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![Kobito.HNM6Gb.png](https://qiita-image-store.s3.amazonaws.com/0/81715/2876a7b1-ac77-5059-fa4d-8d369ed5ae99.png \"Kobito.HNM6Gb.png\")\n\n\u30ed\u30b0\u30a4\u30f3\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u518d\u5ea6`GET /Accounts/{id}/toDos`\u306e\u3068\u3053\u308d\u306b\u623b\u3063\u3066ToDo\u30bf\u30b9\u30af\u3092\u53d6\u5f97\u3067\u304d\u308b\u304b\u8a66\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u3001\u3001\u3001\u5b9f\u306f\u3053\u306e\u6642\u70b9\u3067\u306f\u307e\u3060401\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002User\u30e2\u30c7\u30eb\u3067\u306f\u3042\u3089\u3086\u308b\u30a2\u30af\u30bb\u30b9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5236\u9650\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u660e\u793a\u7684\u306b\u8a31\u53ef\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u3002\n\n## ACL\u8a2d\u5b9a\nAccount\u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3001ACL\uff08Access Control List\uff09\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\n$ slc loopback:acl\n```\n\n```\n? Select the model to apply the ACL entry to: Account\n? Select the ACL scope: A single method\n? Enter the method name __get__toDos\n? Select the role The user owning the object\n? Select the permission to apply Explicitly grant access\n```\n\n`__get__toDos`\u3068\u3044\u3046\u540d\u524d\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u3001ToDo\u30e2\u30c7\u30eb\u306e\u30aa\u30fc\u30ca\u30fc\u306b\u3060\u3051\u5b9f\u884c\u3092\u8a31\u53ef\u3059\u308b\u3068\u3044\u3046\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001ToDo\u30bf\u30b9\u30af\u306e\u53d6\u5f97\u64cd\u4f5c\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\nToDo\u30bf\u30b9\u30af\u306e\u4f5c\u6210\u3084\u524a\u9664\u3092\u3055\u305b\u305f\u3044\u5834\u5408\u306f\u3001\u3055\u3089\u306bACL\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u5bfe\u5fdc\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u540d\u306f[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://docs.strongloop.com/display/public/LB/Accessing+related+models)\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n## ToDo\u30bf\u30b9\u30af\u53d6\u5f97\n\u3053\u308c\u3067\u5168\u3066\u306e\u6e96\u5099\u304c\u5b8c\u4e86\u3067\u3059\u3002\u5148\u307b\u3069\u3068\u540c\u69d8\u306e\u624b\u9806\u3067\u30ed\u30b0\u30a4\u30f3\u3001\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u30bb\u30c3\u30c8\u3057\u3001ToDo\u30bf\u30b9\u30af\u3092\u53d6\u5f97\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n![Kobito.LhMR1e.png](https://qiita-image-store.s3.amazonaws.com/0/81715/77c0a7a1-147c-7088-1434-aa847aef604c.png \"Kobito.LhMR1e.png\")\n\n\u4e0a\u56f3\u306e\u3088\u3046\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u3068\u3057\u3066\uff13\u3064\u306eToDo\u30bf\u30b9\u30af\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n\n## \u307e\u3068\u3081\n\u30bc\u30ed\u304b\u3089LoopBack\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3001\u5b9f\u969b\u306bREST API\u3092\u64cd\u4f5c\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u89e3\u8aac\u3057\u307e\u3057\u305f\u3002\u30b3\u30de\u30f3\u30c9\u30d9\u30fc\u30b9\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u4f5c\u6210\u3067\u304d\u308b\u624b\u8efd\u3055\u3068\u3001\u30aa\u30f3\u30e9\u30a4\u30f3\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3084\u8a8d\u8a3c\u6a5f\u80fd\u306a\u3069API\u3068\u3057\u3066\u5fc5\u8981\u306a\u6a5f\u80fd\u304c\u3042\u3089\u304b\u3058\u3081\u5099\u308f\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u306e\u306f\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\n\nLoopBack.js\u306e\u8a18\u4e8b\u306f\u3042\u307e\u308a\u591a\u304f\u306a\u3044\u306e\u3067\u3001\u4eca\u5f8c\u5897\u3048\u3066\u3044\u304f\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\u3044\u307e\u3059^^\n"}