{"context": "\u5982\u6a19\u984c\uff0c \u6211\u60f3\u61c9\u8a72\u4e0d\u9700\u8981\u591a\u8aaa\u4e9b\u4ec0\u9ebc\u524d\u8a00\u4e86XD\n\u65b9\u6cd5\u6709\u5f88\u591a\u7a2e\uff0c \u6211\u5c31\u76f4\u63a5\u7528siki\u8001\u5e2b\u5728\u6cf0\u6597\u7834\u58de\u795e\u88e1\u7684\u65b9\u5f0f\u4f86\u7372\u53d6\u751f\u6210\u6575\u4eba\u7684\u6a94\u6848\u4fe1\u606f\uff0c\n\u4e26\u505a\u4e9b\u60f3\u8981\u7684\u6a5f\u80fd\u7684\u4fee\u6539\u3002\n\n\u30fb\u6548\u679c\u5716\n\n\n\u30fb\u6d41\u7a0b\n1.\u5728\u60f3\u8981\u751f\u6210\u7684\u4f4d\u7f6e\u4e0a\u653e\u7f6eObject\uff0c \u70ba\u4e86\u7372\u53d6\u4f4d\u7f6e\u65b9\u4fbf\uff0c \u6211\u76f4\u63a5\u4f7f\u7528sprite\u3002\n\u5229\u7528\u4e00\u500bObj\u4f86\u7d71\u4e00\u7ba1\u7406\u751f\u6210\u6575\u4eba\u76844\u500bsprite\uff0c \u5982\u4e0b\u5716:\n\n\u7136\u5f8c\u518d\u628asprite\u5404\u81ea\u79fb\u5230\u60f3\u8981\u751f\u6210\u6575\u4eba\u7684\u4f4d\u7f6e\u4e0a\uff08\u9019\u6642Scene\u5982\u4e0b\u5716\uff09\n\n\u6700\u5f8c\uff0c \u628aSprite Randerer\u7684\u03b1\u503c\u7d66\u6b78\u96f6\uff0c \u7562\u7adf\u5728\u7576\u524d\u9019\u500bscene\u6211\u4e26\u4e0d\u6a02\u898b\u4ed6\u51fa\u73fe\u5728\u5730\u5716\u4e0a\n\n2.\u65bc\u7ba1\u7406\u7684Object\u4e0a\u5275\u5efa\u7ba1\u7406\u751f\u6210\u7684\u8173\u672c\u300eEnemyCreatePoint.cs\u300f\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing System.Linq;\n\npublic class EnemyCreatePoint : MonoBehaviour\n{\n    /// <summary>\n    /// \u55ae\u4f8b\u5316\uff0cTODO <T>\u4f86\u7d71\u4e00\u7ba1\u7406\n    /// </summary>\n    public static EnemyCreatePoint _instance;\n\n    /// <summary>\n    /// \u6575\u4eba\u7684Type\n    /// </summary>\n    public GameObject[] _enemyPrefabs;\n\n    /// <summary>\n    /// \u5730\u5716\u4e0a\u7684\u751f\u6210\u9ede\n    /// </summary>\n    public Transform[] _createPointArray;\n\n    /// <summary>\n    /// The time.\n    /// </summary>\n    public float _time = 0.0f;\n\n    /// <summary>\n    /// \u751f\u6210\u6578\u7387\n    /// </summary>\n    public float _repeateRate = 0.0f;\n\n    /// <summary>\n    /// Spawn enemy data class.\n    /// </summary>\n    public class CreatePointEnemyData\n    {\n        public int index{get; set;}\n        public GameObject enemyObj{get; set;}\n        public string enemyName{get; set;}\n    }\n\n    /// <summary>\n    /// The create enemy data list.\n    /// </summary>\n    [SerializeField]\n    private List<CreatePointEnemyData> createEnemyDataList = new List<CreatePointEnemyData>();\n\n    void Awake()\n    {\n        _instance = this;\n    }\n\n    void Start()\n    {\n        // \u521d\u671f\u7684\u751f\u6210\n        CreateEnemy();\n    }\n\n    /// <summary>\n    /// \u7576\u6575\u4eba\u6b7b\u4ea1\u5f8c\u555f\u52d5\uff08\u5354\u7a0b\uff09\u751f\u6210\n    /// </summary>\n    public IEnumerator CreateEnemyRevive(int index)\n    {\n        // \u7372\u53d6\u7576\u524dindex\u4e0b\u7684\u6575\u4eba\u6a94\u6848\n        var temp = this.createEnemyDataList.First(x => x.index == index);\n\n        // \u4e0b\u4e00\u6b21\u751f\u6210\u7684\u7b49\u5f85\u6642\u9593(\u53ef\u7528\u4e82\u6578)\n        yield return new WaitForSeconds(3.0f);\n\n        // \u751f\u6210\u6307\u5b9a\u7684\u6575\u4eba\n        GameObject.Instantiate(this._enemyPrefabs[temp.index], this._createPointArray[temp.index].transform.position, Quaternion.identity/*\u4e0d\u65cb\u8f49*/);\n    }\n\n    /// <summary>\n    /// \u521d\u671f\u751f\u6210\n    /// </summary>\n    void CreateEnemy()\n    {\n        for(int i = 0; i < _createPointArray.Length; ++i){\n\n            if(_enemyPrefabs[i].gameObject == null){\n                return;\n            }\n\n            // \u5c07\u6575\u4eba\u7684\u4fe1\u606f\u653e\u5165list\n            createEnemyDataList.Add(new CreatePointEnemyData{\n                index = i,\n                enemyObj = _enemyPrefabs[i].gameObject,\n                enemyName = _enemyPrefabs[i].gameObject.name\n            });\n\n            // create all\n            GameObject.Instantiate(_enemyPrefabs[i], _createPointArray[i].transform.position, Quaternion.identity/*\u4e0d\u65cb\u8f49*/);\n        }\n    }\n}\n\n3.\u5c07\u6575\u4eba\u7684prefab\u8207\u751f\u6210\u4f4d\u7f6e\u53c3\u7167EnemyCreatePoint\u4e0a\u3002\n\uff08\u7528resources\u8b80\u53d6prefab\u6216code\u7372\u53d6\u7b49\u7b49\u6709\u5f88\u591a\u65b9\u6cd5\uff0c \u5c31\u770b\u7fd2\u6163\u54ea\u500b\u4e86\uff09\n\n4.\u5e6b\u6575\u4eba\u8ffd\u52a0index\u3002\nindex\u7684\u503c\u5176\u5be6\u4e5f\u5c31\u662f\u6d41\u7a0b3.\u4e2dprefab\u53c3\u7167\u7684\u9806\u5e8f\uff0c \u5176\u5be6\u61c9\u8a72\u6709\u66f4\u597d\u7684\u65b9\u6cd5\uff0c \u53ea\u662f\u6211\u89ba\u5f97\u76ee\u524d\u9019\u6a23\u5c31\u5f88\u65b9\u4fbf\u6211\u66f4\u63db\u6575\u4eba\u7684prefab\uff0c \u5c31\u6c92\u6709\u518d\u9032\u884c\u66f4\u9032\u4e00\u6b65\u7684\u8655\u7406\u4e86\u3002\u6216\u8a31\u5f80\u5f8c\u5c07\u6575\u4eba\u4fe1\u606f\u7d66\u5b8c\u5584\u5f8c\u6703\u5927\u6539\u8aaa\u4e0d\u5b9a\u3002\n\n5.\u65bc\u6575\u4eba\u6b7b\u4ea1\u6642\u8abf\u7528\uff0c EnemyCreatePoint\u7684\u5354\u7a0bCreateEnemyRevive()\u5373\u53ef\u751f\u6210\u4e0b\u4e00\u6ce2\u6575\u4eba\u3002\n    /// <summary>\n    /// id, TODO info\u5316\n    /// </summary>\n    public int _index;\n\n\n    \u2193\n\n\n    EnemyCreatePoint._instance.StartCoroutine(\"CreateEnemyRevive\", _index);\n\n\n\u30fb\u6574\u9ad4gif\n\n\u4ee5\u4e0a\uff01\n\u5982\u6a19\u984c\uff0c \u6211\u60f3\u61c9\u8a72\u4e0d\u9700\u8981\u591a\u8aaa\u4e9b\u4ec0\u9ebc\u524d\u8a00\u4e86XD\n\n\u65b9\u6cd5\u6709\u5f88\u591a\u7a2e\uff0c \u6211\u5c31\u76f4\u63a5\u7528siki\u8001\u5e2b\u5728\u6cf0\u6597\u7834\u58de\u795e\u88e1\u7684\u65b9\u5f0f\u4f86\u7372\u53d6\u751f\u6210\u6575\u4eba\u7684\u6a94\u6848\u4fe1\u606f\uff0c\n\u4e26\u505a\u4e9b\u60f3\u8981\u7684\u6a5f\u80fd\u7684\u4fee\u6539\u3002\n\n####\u30fb\u6548\u679c\u5716\n![no2.gif](https://qiita-image-store.s3.amazonaws.com/0/157597/e4d354f3-41fc-25a2-16fc-ed7a6c6055dc.gif)\n\n####\u30fb\u6d41\u7a0b\n\n1.\u5728\u60f3\u8981\u751f\u6210\u7684\u4f4d\u7f6e\u4e0a\u653e\u7f6eObject\uff0c \u70ba\u4e86\u7372\u53d6\u4f4d\u7f6e\u65b9\u4fbf\uff0c \u6211\u76f4\u63a5\u4f7f\u7528sprite\u3002\n\u5229\u7528\u4e00\u500bObj\u4f86\u7d71\u4e00\u7ba1\u7406\u751f\u6210\u6575\u4eba\u76844\u500bsprite\uff0c \u5982\u4e0b\u5716:\n![1.png](https://qiita-image-store.s3.amazonaws.com/0/157597/dc46a91b-e8ac-f1bb-e4c5-7c09611049a9.png)\n\n\u7136\u5f8c\u518d\u628asprite\u5404\u81ea\u79fb\u5230\u60f3\u8981\u751f\u6210\u6575\u4eba\u7684\u4f4d\u7f6e\u4e0a\uff08\u9019\u6642Scene\u5982\u4e0b\u5716\uff09\n![2.png](https://qiita-image-store.s3.amazonaws.com/0/157597/cbb0dab2-b649-c0f6-5f5a-4ea0cd792c50.png)\n\n\u6700\u5f8c\uff0c \u628aSprite Randerer\u7684\u03b1\u503c\u7d66\u6b78\u96f6\uff0c \u7562\u7adf\u5728\u7576\u524d\u9019\u500bscene\u6211\u4e26\u4e0d\u6a02\u898b\u4ed6\u51fa\u73fe\u5728\u5730\u5716\u4e0a\n![6.png](https://qiita-image-store.s3.amazonaws.com/0/157597/bd597844-32e8-4713-f831-60a79458e8b8.png)\n\n\n2.\u65bc\u7ba1\u7406\u7684Object\u4e0a\u5275\u5efa\u7ba1\u7406\u751f\u6210\u7684\u8173\u672c\u300eEnemyCreatePoint.cs\u300f\n\n```C#\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing System.Linq;\n\npublic class EnemyCreatePoint : MonoBehaviour\n{\n\t/// <summary>\n\t/// \u55ae\u4f8b\u5316\uff0cTODO <T>\u4f86\u7d71\u4e00\u7ba1\u7406\n\t/// </summary>\n\tpublic static EnemyCreatePoint _instance;\n\n\t/// <summary>\n\t/// \u6575\u4eba\u7684Type\n\t/// </summary>\n\tpublic GameObject[] _enemyPrefabs;\n\n\t/// <summary>\n\t/// \u5730\u5716\u4e0a\u7684\u751f\u6210\u9ede\n\t/// </summary>\n\tpublic Transform[] _createPointArray;\n\n\t/// <summary>\n\t/// The time.\n\t/// </summary>\n\tpublic float _time = 0.0f;\n\n\t/// <summary>\n\t/// \u751f\u6210\u6578\u7387\n\t/// </summary>\n\tpublic float _repeateRate = 0.0f;\n\n\t/// <summary>\n\t/// Spawn enemy data class.\n\t/// </summary>\n\tpublic class CreatePointEnemyData\n\t{\n\t\tpublic int index{get; set;}\n\t\tpublic GameObject enemyObj{get; set;}\n\t\tpublic string enemyName{get; set;}\n\t}\n\n\t/// <summary>\n\t/// The create enemy data list.\n\t/// </summary>\n\t[SerializeField]\n\tprivate List<CreatePointEnemyData> createEnemyDataList = new List<CreatePointEnemyData>();\n\n\tvoid Awake()\n\t{\n\t\t_instance = this;\n\t}\n\n\tvoid Start()\n\t{\n\t\t// \u521d\u671f\u7684\u751f\u6210\n\t\tCreateEnemy();\n\t}\n\n\t/// <summary>\n\t/// \u7576\u6575\u4eba\u6b7b\u4ea1\u5f8c\u555f\u52d5\uff08\u5354\u7a0b\uff09\u751f\u6210\n\t/// </summary>\n\tpublic IEnumerator CreateEnemyRevive(int index)\n\t{\n\t\t// \u7372\u53d6\u7576\u524dindex\u4e0b\u7684\u6575\u4eba\u6a94\u6848\n\t\tvar temp = this.createEnemyDataList.First(x => x.index == index);\n\n\t\t// \u4e0b\u4e00\u6b21\u751f\u6210\u7684\u7b49\u5f85\u6642\u9593(\u53ef\u7528\u4e82\u6578)\n\t\tyield return new WaitForSeconds(3.0f);\n\n\t\t// \u751f\u6210\u6307\u5b9a\u7684\u6575\u4eba\n\t\tGameObject.Instantiate(this._enemyPrefabs[temp.index], this._createPointArray[temp.index].transform.position, Quaternion.identity/*\u4e0d\u65cb\u8f49*/);\n\t}\n\n\t/// <summary>\n\t/// \u521d\u671f\u751f\u6210\n\t/// </summary>\n\tvoid CreateEnemy()\n\t{\n\t\tfor(int i = 0; i < _createPointArray.Length; ++i){\n\t\t\t\n\t\t\tif(_enemyPrefabs[i].gameObject == null){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// \u5c07\u6575\u4eba\u7684\u4fe1\u606f\u653e\u5165list\n\t\t\tcreateEnemyDataList.Add(new CreatePointEnemyData{\n\t\t\t\tindex = i,\n\t\t\t\tenemyObj = _enemyPrefabs[i].gameObject,\n\t\t\t\tenemyName = _enemyPrefabs[i].gameObject.name\n\t\t\t});\n\n\t\t\t// create all\n\t\t\tGameObject.Instantiate(_enemyPrefabs[i], _createPointArray[i].transform.position, Quaternion.identity/*\u4e0d\u65cb\u8f49*/);\n\t\t}\n\t}\n}\n```\n\n\n3.\u5c07\u6575\u4eba\u7684prefab\u8207\u751f\u6210\u4f4d\u7f6e\u53c3\u7167EnemyCreatePoint\u4e0a\u3002\n\uff08\u7528resources\u8b80\u53d6prefab\u6216code\u7372\u53d6\u7b49\u7b49\u6709\u5f88\u591a\u65b9\u6cd5\uff0c \u5c31\u770b\u7fd2\u6163\u54ea\u500b\u4e86\uff09\n![ 4.png](https://qiita-image-store.s3.amazonaws.com/0/157597/09dc8d1e-7fd2-b57c-9744-324b0fa0f21e.png)\n\n\n4.\u5e6b\u6575\u4eba\u8ffd\u52a0index\u3002\nindex\u7684\u503c\u5176\u5be6\u4e5f\u5c31\u662f\u6d41\u7a0b3.\u4e2dprefab\u53c3\u7167\u7684\u9806\u5e8f\uff0c \u5176\u5be6\u61c9\u8a72\u6709\u66f4\u597d\u7684\u65b9\u6cd5\uff0c \u53ea\u662f\u6211\u89ba\u5f97\u76ee\u524d\u9019\u6a23\u5c31\u5f88\u65b9\u4fbf\u6211\u66f4\u63db\u6575\u4eba\u7684prefab\uff0c \u5c31\u6c92\u6709\u518d\u9032\u884c\u66f4\u9032\u4e00\u6b65\u7684\u8655\u7406\u4e86\u3002\u6216\u8a31\u5f80\u5f8c\u5c07\u6575\u4eba\u4fe1\u606f\u7d66\u5b8c\u5584\u5f8c\u6703\u5927\u6539\u8aaa\u4e0d\u5b9a\u3002\n![5.png](https://qiita-image-store.s3.amazonaws.com/0/157597/343823c3-2fd2-0ec1-b358-99c87b3478f4.png)\n\n\n\n5.\u65bc\u6575\u4eba\u6b7b\u4ea1\u6642\u8abf\u7528\uff0c EnemyCreatePoint\u7684\u5354\u7a0bCreateEnemyRevive()\u5373\u53ef\u751f\u6210\u4e0b\u4e00\u6ce2\u6575\u4eba\u3002\n\n\n```C#\n\t/// <summary>\n\t/// id, TODO info\u5316\n\t/// </summary>\n\tpublic int _index;\n\t\n\t\n\t\u2193\n\t\n\n\tEnemyCreatePoint._instance.StartCoroutine(\"CreateEnemyRevive\", _index);\n```\n\n####\u30fb\u6574\u9ad4gif\n![no3.gif](https://qiita-image-store.s3.amazonaws.com/0/157597/1ea9c285-e08f-c013-66d8-0efa90f32c64.gif)\n\n\u4ee5\u4e0a\uff01\n", "tags": ["Unity2D", "\u4e2d\u56fd\u8a9e"]}