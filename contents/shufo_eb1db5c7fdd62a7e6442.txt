{"context": " More than 1 year has passed since last update.===========================\n\nInstallation\nGoogle Developers Console\u304b\u3089\n\nContacts API\nGoogle+ API\n\n\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\nAPI & auth -> Credentials\u3088\u308a\u300cCreate new Client ID\u300d -> Web Application\u3092\u9078\u3073\u5fc5\u8981\u9805\u76ee\u3092\u5165\u529b\u3002\nREDIRECT URIS\u306f\nhttp://gitlab.example.com/users/auth/google_oauth2/callback\n\n\u306e\u3088\u3046\u306b\u5165\u529b\u3002\nGitlab\u306econfig/gitlab.yml\u306b\u3066\n# \nsignup_enabled: false\n\nomniauth:\n    enabled: true\n    allow_single_sign_on: true\n    block_auto_created_users: false\n    providers:\n      - {\"name\":\"google_oauth2\",\"app_id\":\"32183193207-piqbogilllsi7u21ujjqk7bpuh325fnk.apps.googleusercontent.com\",\"app_secret\":\"N92-4QlPgKu2X9akEnUwpteE\",\"args\":{\"access_type\":\"offline\",\"approval_prompt\":\"force\",\"hd\":\"example.com\"}}\n\n\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u5236\u9650\u3057\u305f\u3044\u5834\u5408\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u306bhd\u3092\u30c9\u30e1\u30a4\u30f3\u540d\u3068\u3057\u3066\u6e21\u3059\u3002\nallow_single_sign_on: true\u3067Gitlab\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306b\u30e6\u30fc\u30b6\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3067\u3082\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3001block_auto_created_users: false\u3067\u7ba1\u7406\u8005\u306e\u8a31\u53ef\u3092\u5f97\u306a\u304f\u3066\u3082\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\u307e\u305f\u65e2\u306bGitlab\u306b\u767b\u9332\u6e08\u307f\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092Google Apps\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u7d10\u4ed8\u3051\u305f\u3044\u5834\u5408\u3001omniauth\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u300cProfile\u300d->\u300cAccount\u300d\u30da\u30fc\u30b8\u4e0b\u90e8\u306bGoogle Apps\u30a2\u30a4\u30b3\u30f3\u304c\u51fa\u73fe\u3059\u308b\u306e\u3067\u30af\u30ea\u30c3\u30af\u3057\u8a8d\u8a3c\u3059\u308b\u3053\u3068\u3067\u7d10\u4ed8\u3051\u51fa\u6765\u308b\u3002\n\nTrouble Shooting\n\n\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u306e\u30e6\u30fc\u30b6\u540d\u304cDB\u30a8\u30e9\u30fc\u306b\u306a\u308b\n\nusers\u30c6\u30fc\u30d6\u30eb\u7b49\u306echaracter-set\u3092utf8\u306b\u4fee\u6b63\u3059\u308b\n\u53c2\u7167: Encoding error in Gitlab 5.2 \u00b7 Issue #4120 \u00b7 gitlabhq/gitlabhq\nALTER TABLE broadcast_messages CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE deploy_keys_projects CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE emails CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE events CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE forked_project_links CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE issues CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE keys CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE merge_request_diffs CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE merge_requests CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE milestones CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE namespaces CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE notes CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE projects CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE protected_branches CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE schema_migrations CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE services CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE snippets CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE taggings CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE tags CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE users CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE users_groups CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE users_projects CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE web_hooks CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\n\n===========================\n\n## Installation\n\n[Google Developers Console](https://console.developers.google.com/)\u304b\u3089\n\n- Contacts API\n- Google+ API\n\n\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\n\nAPI & auth -> Credentials\u3088\u308a\u300cCreate new Client ID\u300d -> Web Application\u3092\u9078\u3073\u5fc5\u8981\u9805\u76ee\u3092\u5165\u529b\u3002\nREDIRECT URIS\u306f\n\n```\nhttp://gitlab.example.com/users/auth/google_oauth2/callback\n```\n\n\u306e\u3088\u3046\u306b\u5165\u529b\u3002\n\nGitlab\u306e`config/gitlab.yml`\u306b\u3066\n\n```\n# \nsignup_enabled: false\n\nomniauth:\n    enabled: true\n    allow_single_sign_on: true\n    block_auto_created_users: false\n    providers:\n      - {\"name\":\"google_oauth2\",\"app_id\":\"32183193207-piqbogilllsi7u21ujjqk7bpuh325fnk.apps.googleusercontent.com\",\"app_secret\":\"N92-4QlPgKu2X9akEnUwpteE\",\"args\":{\"access_type\":\"offline\",\"approval_prompt\":\"force\",\"hd\":\"example.com\"}}\n```\n\n\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u5236\u9650\u3057\u305f\u3044\u5834\u5408\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u306b`hd`\u3092\u30c9\u30e1\u30a4\u30f3\u540d\u3068\u3057\u3066\u6e21\u3059\u3002\n`allow_single_sign_on: true`\u3067Gitlab\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306b\u30e6\u30fc\u30b6\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3067\u3082\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3001`    block_auto_created_users: false`\u3067\u7ba1\u7406\u8005\u306e\u8a31\u53ef\u3092\u5f97\u306a\u304f\u3066\u3082\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\n\u307e\u305f\u65e2\u306bGitlab\u306b\u767b\u9332\u6e08\u307f\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092Google Apps\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u7d10\u4ed8\u3051\u305f\u3044\u5834\u5408\u3001omniauth\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u300cProfile\u300d->\u300cAccount\u300d\u30da\u30fc\u30b8\u4e0b\u90e8\u306bGoogle Apps\u30a2\u30a4\u30b3\u30f3\u304c\u51fa\u73fe\u3059\u308b\u306e\u3067\u30af\u30ea\u30c3\u30af\u3057\u8a8d\u8a3c\u3059\u308b\u3053\u3068\u3067\u7d10\u4ed8\u3051\u51fa\u6765\u308b\u3002\n\n## Trouble Shooting\n\n- \u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u306e\u30e6\u30fc\u30b6\u540d\u304cDB\u30a8\u30e9\u30fc\u306b\u306a\u308b\n\nusers\u30c6\u30fc\u30d6\u30eb\u7b49\u306echaracter-set\u3092utf8\u306b\u4fee\u6b63\u3059\u308b\n\u53c2\u7167: [Encoding error in Gitlab 5.2 \u00b7 Issue #4120 \u00b7 gitlabhq/gitlabhq](https://github.com/gitlabhq/gitlabhq/issues/4120)\n\n```\nALTER TABLE broadcast_messages CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE deploy_keys_projects CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE emails CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE events CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE forked_project_links CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE issues CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE keys CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE merge_request_diffs CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE merge_requests CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE milestones CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE namespaces CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE notes CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE projects CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE protected_branches CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE schema_migrations CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE services CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE snippets CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE taggings CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE tags CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE users CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE users_groups CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE users_projects CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\nALTER TABLE web_hooks CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;\n```\n\n", "tags": ["GitLab", "GoogleApps"]}