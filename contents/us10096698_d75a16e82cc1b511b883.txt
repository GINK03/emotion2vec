{"context": " More than 1 year has passed since last update.\u3053\u306e\u305f\u3073Chef\u3068\u306f\u3069\u3093\u306a\u3082\u306e\u304c\u77e5\u308a\u305f\u304f\u3066\u3001\u5165\u9580Chef Solo\u3092Kindle\u3067\u8cfc\u5165\u3044\u305f\u3057\u307e\u3057\u305f(\u521d\u671f\u578bNexus 7\u3067\u95b2\u89a7)\u3002\u3053\u3093\u306a\u304a\u624b\u9803\u306a\u5024\u6bb5\u3067\u5165\u9580\u66f8\u304c\u624b\u306b\u5165\u308b\u3068\u306f\u3001\u3044\u3044\u6642\u4ee3\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3082\u96fb\u5b50\u66f8\u7c4d\u3063\u3066\u672c\u6587\u691c\u7d22\u3084\u30de\u30fc\u30ad\u30f3\u30b0\u3068\u304b\u3082\u3067\u304d\u3066\u4fbf\u5229\u3067\u3059\u306d\u3002\u304b\u3055\u3070\u3089\u306a\u3044\u3057\u3002\n\u4ee5\u4e0b\u304a\u52c9\u5f37\u30e1\u30e2\u3067\u3059\u3002\u5f53\u7136\u3068\u3044\u3048\u3070\u5f53\u7136\u3067\u3059\u304c\u3001\u5185\u5bb9\u306f\u304b\u306a\u308a\u7aef\u6298\u3063\u3066\u308b\u306e\u3067\u8a73\u7d30\u306f\u4e0a\u8a18\u66f8\u7c4d\u3092\u3054\u4e00\u8aad\u304f\u3060\u3055\u3044\u3002\u4eca\u56de\u306f\u521d\u56de\u306e\u3044\u308f\u3086\u308bHello, World\u5b9f\u884c\u307e\u3067\u3002\n\n\u4f55\u306f\u3068\u3082\u3042\u308c\u3084\u3063\u3066\u307f\u3088\n\u6298\u89d2\u306a\u306e\u3067Vagrant+VMware fusion\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u74b0\u5883\u3092\u6e96\u5099\u3002\n$ mkdir chef-test\n$ cd chef-test \n\n$ vagrant box list\nprecise64 (vmware_fusion)\n$ vagrant init precise64\nA `Vagrantfile` has been placed in this directory. You are now\nready to `vagrant up` your first virtual environment! Please read\nthe comments in the Vagrantfile as well as documentation on\n`vagrantup.com` for more information on using Vagrant.\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092VMware Fusion\u306b\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n$ vagrant up --provider=vmware_fusion\nBringing machine 'default' up with 'vmware_fusion' provider...\n[default] Cloning VMware VM: 'precise64'. This can take some time...\n[default] Verifying vmnet devices are healthy...\n[default] Preparing network adapters...\n[default] Starting the VMware VM...\n[default] Waiting for the VM to finish booting...\n[default] The machine is booted and ready!\n[default] Forwarding ports...\n[default] -- 22 => 2222\n[default] Configuring network adapters within the VM...\n[default] Enabling and configuring shared folders...\n[default] -- /your.path.to.rootdir/chef-test: /vagrant\n\nSSH\u3067\u5165\u3063\u3066\u307f\u307e\u3059\u3002\n$ vagrant ssh\nWelcome to Ubuntu 12.04.1 LTS (GNU/Linux 3.2.0-29-virtual x86_64)\n\n * Documentation:  https://help.ubuntu.com/\nLast login: Thu Jan 31 13:48:53 2013\nvagrant@precise64:~$ \n\ngit\u5165\u308c\u307e\u3059\u3002\nvagrant@precise64:~$ sudo apt-get install git-core\n\nChef\u5165\u308c\u307e\u3059\u3002\nvagrant@precise64:~$ curl -L http://www.opscode.com/chef/install.sh |  sudo bash\n\ncurl\u304c\u306a\u3044\u3068\u8a00\u308f\u308c\u307e\u3057\u305f\u3002\n-bash: curl: command not found\n\napt\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nvagrant@precise64:~$ sudo apt-get install curl\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following extra packages will be installed:\n  libcurl3\nThe following NEW packages will be installed:\n  curl libcurl3\n0 upgraded, 2 newly installed, 0 to remove and 41 not upgraded.\nNeed to get 374 kB of archives.\nAfter this operation, 910 kB of additional disk space will be used.\nDo you want to continue [Y/n]? y\nGet:1 http://us.archive.ubuntu.com/ubuntu/ precise/main libcurl3 amd64 7.22.0-3ubuntu4 [237 kB]\nGet:2 http://us.archive.ubuntu.com/ubuntu/ precise/main curl amd64 7.22.0-3ubuntu4 [138 kB]\nFetched 374 kB in 1s (214 kB/s)\nSelecting previously unselected package libcurl3.\n(Reading database ... 23766 files and directories currently installed.)\nUnpacking libcurl3 (from .../libcurl3_7.22.0-3ubuntu4_amd64.deb) ...\nSelecting previously unselected package curl.\nUnpacking curl (from .../curl_7.22.0-3ubuntu4_amd64.deb) ...\nSetting up libcurl3 (7.22.0-3ubuntu4) ...\nSetting up curl (7.22.0-3ubuntu4) ...\nProcessing triggers for libc-bin ...\nldconfig deferred processing now taking place\n\n\u518d\u5b9f\u884c\u3002\nvagrant@precise64:~$ curl -L http://www.opscode.com/chef/install.sh | sudo bash\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  6789  100  6789    0     0  11818      0 --:--:-- --:--:-- --:--:-- 20085\nDownloading Chef  for ubuntu...\nInstalling Chef \nSelecting previously unselected package chef.\n(Reading database ... 23798 files and directories currently installed.)\nUnpacking chef (from .../tmp.5nxyDg68/chef__amd64.deb) ...\nSetting up chef (11.6.2-1.ubuntu.12.04) ...\nThank you for installing Chef!\n\n\u5165\u308a\u307e\u3057\u305f\u3002\n\u7d9a\u3044\u3066\u3001Chef\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u3072\u306a\u5f62\u3092Opscode\u306eGithub\u304b\u3089\u6301\u3063\u3066\u304d\u307e\u3059\u3002\n$ git clone git://github.com/opscode/chef-repo.git\n\n\u30af\u30c3\u30af\u30d6\u30c3\u30af\u306e\u4f5c\u6210\u3002knife\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u307e\u305a\u306fknife\u306e\u521d\u671f\u5316\u3002\n$ knife configure\nWARNING: No knife configuration file found\nWhere should I put the config file? [/home/vagrant/.chef/knife.rb] \nPlease enter the chef server URL: [http://precise64:4000] \nPlease enter an existing username or clientname for the API: [vagrant] \nPlease enter the validation clientname: [chef-validator] \nPlease enter the location of the validation key: [/etc/chef/validation.pem] \nPlease enter the path to a chef repository (or leave blank): \n*****\n\nYou must place your client key in:\n  /home/vagrant/.chef/vagrant.pem\nBefore running commands with Knife!\n\n*****\n\nYou must place your validation key in:\n  /etc/chef/validation.pem\nBefore generating instance data with Knife!\n\n*****\nConfiguration file written to /home/vagrant/.chef/knife.rb\n\nchef-repo/cookbooks\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306bhello\u3068\u3044\u3046\u30af\u30c3\u30af\u30d6\u30c3\u30af\u3092\u4f5c\u308a\u307e\u3059\u3002\n$ cd chef-repo\n$ knife cookbook create hello -o cookbooks\n\n\u30ec\u30b7\u30d4\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\"Hello,Chef!\"\u3068\u3044\u3046\u30ed\u30b0\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3059\u308b\u306e\u307f\u3067\u3059\u3002\n$ vi cookbooks/hello/recipes/default.rb\n\n\ndefault.rb\n#\n# Cookbook Name:: hello\n# Recipe:: default\n#\n# Copyright 2013, YOUR_COMPANY_NAME\n#\n# All rights reserved - Do Not Redistribute\n#\n\nlog \"Hello, Chef!\"\n\n\nChef Solo\u5b9f\u884c\u6642\u306b\u5b9f\u884c\u3059\u308b\u30ec\u30b7\u30d4\u3092\u8a18\u8ff0\u3059\u308bJSON\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3002\n\u4eca\u56de\u306fchef-repo/test.json\u3068\u3057\u307e\u3057\u305f\u3002\n\ntest.json\n//test.json\n\n{\n        \"run_list\":[\n                \"recipe[hello]\"\n        ]\n}\n\n\nChef\u304c\u5229\u7528\u3059\u308b\u30c6\u30f3\u30dd\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3084\u30af\u30c3\u30af\u30d6\u30c3\u30af\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092chef-repo/config.rb\u3068\u3057\u3066\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\nconfig.rb\n# config.rb\nfile_cache_path \"/tmp/chef-solo\"\ncookbook_path [\"/home/vagrant/chef-repo/cookbooks\"]\n\n\n\u3042\u307e\u308a\u30cf\u30de\u308b\u65b9\u306f\u3044\u306a\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u304c\u3001cookbook_path\u306e\u3042\u3068\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u5165\u308c\u306a\u3044\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002\u3002\n[2013-10-15T07:47:10-07:00] FATAL: Unknown error processing config file solo.rb with error can't convert String into Integer\n\n\u3044\u3056\u5b9f\u884c\u3002\n$ sudo chef-solo -c config.rb -j ./test.json \nStarting Chef Client, version 11.6.2\nCompiling Cookbooks...\nConverging 1 resources\nRecipe: hello::default\n  * log[Hello, Chef!] action write\n\nChef Client finished, 1 resources updated\n\n\u3061\u3083\u3093\u3068\u30ed\u30b0\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u672c\u65e5\u306f\u3053\u3053\u307e\u3067\u3002\u3002\n\u3053\u306e\u305f\u3073Chef\u3068\u306f\u3069\u3093\u306a\u3082\u306e\u304c\u77e5\u308a\u305f\u304f\u3066\u3001[\u5165\u9580Chef Solo](http://www.amazon.co.jp/%E5%85%A5%E9%96%80Chef-Solo-Infrastructure-as-Code-ebook/dp/B00BSPH158)\u3092Kindle\u3067\u8cfc\u5165\u3044\u305f\u3057\u307e\u3057\u305f(\u521d\u671f\u578bNexus 7\u3067\u95b2\u89a7)\u3002\u3053\u3093\u306a\u304a\u624b\u9803\u306a\u5024\u6bb5\u3067\u5165\u9580\u66f8\u304c\u624b\u306b\u5165\u308b\u3068\u306f\u3001\u3044\u3044\u6642\u4ee3\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3082\u96fb\u5b50\u66f8\u7c4d\u3063\u3066\u672c\u6587\u691c\u7d22\u3084\u30de\u30fc\u30ad\u30f3\u30b0\u3068\u304b\u3082\u3067\u304d\u3066\u4fbf\u5229\u3067\u3059\u306d\u3002\u304b\u3055\u3070\u3089\u306a\u3044\u3057\u3002\n\u4ee5\u4e0b\u304a\u52c9\u5f37\u30e1\u30e2\u3067\u3059\u3002\u5f53\u7136\u3068\u3044\u3048\u3070\u5f53\u7136\u3067\u3059\u304c\u3001\u5185\u5bb9\u306f\u304b\u306a\u308a\u7aef\u6298\u3063\u3066\u308b\u306e\u3067\u8a73\u7d30\u306f\u4e0a\u8a18\u66f8\u7c4d\u3092\u3054\u4e00\u8aad\u304f\u3060\u3055\u3044\u3002\u4eca\u56de\u306f\u521d\u56de\u306e\u3044\u308f\u3086\u308bHello, World\u5b9f\u884c\u307e\u3067\u3002\n\n## \u4f55\u306f\u3068\u3082\u3042\u308c\u3084\u3063\u3066\u307f\u3088\n\n\u6298\u89d2\u306a\u306e\u3067Vagrant+VMware fusion\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u74b0\u5883\u3092\u6e96\u5099\u3002\n\n```Bash:\n$ mkdir chef-test\n$ cd chef-test \n```\n\n```Bash:\n$ vagrant box list\nprecise64 (vmware_fusion)\n$ vagrant init precise64\nA `Vagrantfile` has been placed in this directory. You are now\nready to `vagrant up` your first virtual environment! Please read\nthe comments in the Vagrantfile as well as documentation on\n`vagrantup.com` for more information on using Vagrant.\n```\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092VMware Fusion\u306b\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n\n```Bash:\n$ vagrant up --provider=vmware_fusion\nBringing machine 'default' up with 'vmware_fusion' provider...\n[default] Cloning VMware VM: 'precise64'. This can take some time...\n[default] Verifying vmnet devices are healthy...\n[default] Preparing network adapters...\n[default] Starting the VMware VM...\n[default] Waiting for the VM to finish booting...\n[default] The machine is booted and ready!\n[default] Forwarding ports...\n[default] -- 22 => 2222\n[default] Configuring network adapters within the VM...\n[default] Enabling and configuring shared folders...\n[default] -- /your.path.to.rootdir/chef-test: /vagrant\n```\n\nSSH\u3067\u5165\u3063\u3066\u307f\u307e\u3059\u3002\n\n```Bash:\n$ vagrant ssh\nWelcome to Ubuntu 12.04.1 LTS (GNU/Linux 3.2.0-29-virtual x86_64)\n\n * Documentation:  https://help.ubuntu.com/\nLast login: Thu Jan 31 13:48:53 2013\nvagrant@precise64:~$ \n```\n\ngit\u5165\u308c\u307e\u3059\u3002\n\n```Bash:\nvagrant@precise64:~$ sudo apt-get install git-core\n```\n\nChef\u5165\u308c\u307e\u3059\u3002\n\n```Bash:\nvagrant@precise64:~$ curl -L http://www.opscode.com/chef/install.sh |  sudo bash\n```\n\ncurl\u304c\u306a\u3044\u3068\u8a00\u308f\u308c\u307e\u3057\u305f\u3002\n\n```Bash:\n-bash: curl: command not found\n```\n\napt\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```Bash:\nvagrant@precise64:~$ sudo apt-get install curl\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following extra packages will be installed:\n  libcurl3\nThe following NEW packages will be installed:\n  curl libcurl3\n0 upgraded, 2 newly installed, 0 to remove and 41 not upgraded.\nNeed to get 374 kB of archives.\nAfter this operation, 910 kB of additional disk space will be used.\nDo you want to continue [Y/n]? y\nGet:1 http://us.archive.ubuntu.com/ubuntu/ precise/main libcurl3 amd64 7.22.0-3ubuntu4 [237 kB]\nGet:2 http://us.archive.ubuntu.com/ubuntu/ precise/main curl amd64 7.22.0-3ubuntu4 [138 kB]\nFetched 374 kB in 1s (214 kB/s)\nSelecting previously unselected package libcurl3.\n(Reading database ... 23766 files and directories currently installed.)\nUnpacking libcurl3 (from .../libcurl3_7.22.0-3ubuntu4_amd64.deb) ...\nSelecting previously unselected package curl.\nUnpacking curl (from .../curl_7.22.0-3ubuntu4_amd64.deb) ...\nSetting up libcurl3 (7.22.0-3ubuntu4) ...\nSetting up curl (7.22.0-3ubuntu4) ...\nProcessing triggers for libc-bin ...\nldconfig deferred processing now taking place\n```\n\n\u518d\u5b9f\u884c\u3002\n\n```Bash:\nvagrant@precise64:~$ curl -L http://www.opscode.com/chef/install.sh | sudo bash\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  6789  100  6789    0     0  11818      0 --:--:-- --:--:-- --:--:-- 20085\nDownloading Chef  for ubuntu...\nInstalling Chef \nSelecting previously unselected package chef.\n(Reading database ... 23798 files and directories currently installed.)\nUnpacking chef (from .../tmp.5nxyDg68/chef__amd64.deb) ...\nSetting up chef (11.6.2-1.ubuntu.12.04) ...\nThank you for installing Chef!\n```\n\n\u5165\u308a\u307e\u3057\u305f\u3002\n\u7d9a\u3044\u3066\u3001Chef\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u3072\u306a\u5f62\u3092Opscode\u306eGithub\u304b\u3089\u6301\u3063\u3066\u304d\u307e\u3059\u3002\n\n```Bash:\n$ git clone git://github.com/opscode/chef-repo.git\n```\n\n\u30af\u30c3\u30af\u30d6\u30c3\u30af\u306e\u4f5c\u6210\u3002knife\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u307e\u305a\u306fknife\u306e\u521d\u671f\u5316\u3002\n\n```Bash:\n$ knife configure\nWARNING: No knife configuration file found\nWhere should I put the config file? [/home/vagrant/.chef/knife.rb] \nPlease enter the chef server URL: [http://precise64:4000] \nPlease enter an existing username or clientname for the API: [vagrant] \nPlease enter the validation clientname: [chef-validator] \nPlease enter the location of the validation key: [/etc/chef/validation.pem] \nPlease enter the path to a chef repository (or leave blank): \n*****\n\nYou must place your client key in:\n  /home/vagrant/.chef/vagrant.pem\nBefore running commands with Knife!\n\n*****\n\nYou must place your validation key in:\n  /etc/chef/validation.pem\nBefore generating instance data with Knife!\n\n*****\nConfiguration file written to /home/vagrant/.chef/knife.rb\n```\n\nchef-repo/cookbooks\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306bhello\u3068\u3044\u3046\u30af\u30c3\u30af\u30d6\u30c3\u30af\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n```Bash:\n$ cd chef-repo\n$ knife cookbook create hello -o cookbooks\n```\n\n\u30ec\u30b7\u30d4\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\"Hello,Chef!\"\u3068\u3044\u3046\u30ed\u30b0\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3059\u308b\u306e\u307f\u3067\u3059\u3002\n\n```Bash:\n$ vi cookbooks/hello/recipes/default.rb\n```\n```default.rb\n#\n# Cookbook Name:: hello\n# Recipe:: default\n#\n# Copyright 2013, YOUR_COMPANY_NAME\n#\n# All rights reserved - Do Not Redistribute\n#\n\nlog \"Hello, Chef!\"\n```\n\nChef Solo\u5b9f\u884c\u6642\u306b\u5b9f\u884c\u3059\u308b\u30ec\u30b7\u30d4\u3092\u8a18\u8ff0\u3059\u308bJSON\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3002\n\u4eca\u56de\u306f`chef-repo/test.json`\u3068\u3057\u307e\u3057\u305f\u3002\n\n```test.json\n//test.json\n\n{\n        \"run_list\":[\n                \"recipe[hello]\"\n        ]\n}\n```\n\nChef\u304c\u5229\u7528\u3059\u308b\u30c6\u30f3\u30dd\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3084\u30af\u30c3\u30af\u30d6\u30c3\u30af\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092`chef-repo/config.rb`\u3068\u3057\u3066\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```config.rb\n# config.rb\nfile_cache_path \"/tmp/chef-solo\"\ncookbook_path [\"/home/vagrant/chef-repo/cookbooks\"]\n```\n\u3042\u307e\u308a\u30cf\u30de\u308b\u65b9\u306f\u3044\u306a\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u304c\u3001cookbook_path\u306e\u3042\u3068\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u5165\u308c\u306a\u3044\u3068\u4ee5\u4e0b\u306e\u69d8\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002\u3002\n\n```Bash:\n[2013-10-15T07:47:10-07:00] FATAL: Unknown error processing config file solo.rb with error can't convert String into Integer\n```\n\n\u3044\u3056\u5b9f\u884c\u3002\n\n```Bash:\n$ sudo chef-solo -c config.rb -j ./test.json \nStarting Chef Client, version 11.6.2\nCompiling Cookbooks...\nConverging 1 resources\nRecipe: hello::default\n  * log[Hello, Chef!] action write\n\nChef Client finished, 1 resources updated\n```\n\n\u3061\u3083\u3093\u3068\u30ed\u30b0\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u672c\u65e5\u306f\u3053\u3053\u307e\u3067\u3002\u3002\n", "tags": ["vagrant", "Mac", "chef-solo", "chef"]}