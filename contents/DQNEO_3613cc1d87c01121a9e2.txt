{"context": " More than 1 year has passed since last update.\u3053\u3061\u3089\u306e\u8a18\u4e8b\u304c\u3068\u3066\u3082\u826f\u8a18\u4e8b\u3060\u3063\u305f\u306e\u3067\u3001\u30d3\u30eb\u30c9\u306e\u52c9\u5f37\u306e\u305f\u3081\u306b\u81ea\u5206\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nApache HTTP Server\u306e\u30d3\u30eb\u30c9\u3092\u59cb\u3081\u3088\u3046\n\u81ea\u5206\u3067\u30bd\u30fc\u30eb\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u307f\u308b\u3068\u3001\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea(=\u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30ea\u30f3\u30af\u30e9\u30a4\u30d6\u30e9\u30ea,\u30b7\u30a7\u30a2\u30fc\u30c9\u30e9\u30a4\u30d6\u30e9\u30ea)\u3084.so\u30d5\u30a1\u30a4\u30eb\u306e\u4ed5\u7d44\u307f\u304c\u3088\u304f\u308f\u304b\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u74b0\u5883\nCentOS 6.5\nhttpd 2.2.29\nopenssl 1.0.1j\n\u4ed6\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u3082\u3084\u308a\u65b9\u306f\u307b\u3068\u3093\u3069\u540c\u3058\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30bf\u30fc\u30b2\u30c3\u30c8\u69cb\u6210\n/opt/openssl/ \u306bopenssl\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n/opt/httpd/ \u306bApache\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u6e96\u5099\n\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u307e\u3059\u3002\n# \u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u306e\u306b\u5fc5\u8981\n$ sudo yum instal -y gcc make\n# openssl\u3092\u30d3\u30eb\u30c9\u3059\u308b\u306e\u306b\u5fc5\u8981\n$ sudo yum install perl zlib-devel\n\n\nopenssl\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget https://www.openssl.org/source/openssl-1.0.1j.tar.gz\n$ tar xvfz openssl-1.0.1j.tar.gz\n$ cd openssl-1.0.1j\n$ ./config --prefix=/opt/openssl shared zlib\n$ make\n$ sudo make install\n\n\u78ba\u8a8d\n$ /opt/openssl/bin/openssl version\nOpenSSL 1.0.1j 15 Oct 2014\n$ ldd /opt/openssl/bin/openssl\n        linux-vdso.so.1 =>  (0x00007fff236db000)\n        libssl.so.1.0.0 => /opt/openssl/lib/libssl.so.1.0.0 (0x00007f5237454000)\n        libcrypto.so.1.0.0 => /opt/openssl/lib/libcrypto.so.1.0.0 (0x00007f5237076000)\n        libdl.so.2 => /lib64/libdl.so.2 (0x00007f5236e6e000)\n        libz.so.1 => /lib64/libz.so.1 (0x00007f5236c58000)\n        libc.so.6 => /lib64/libc.so.6 (0x00007f52368c3000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007f52376bf000)\n\nlibssl.so\u3068libcrypto.so\u304c\u3001\u81ea\u5206\u3067\u5165\u308c\u305f/opt/openssl\u306b\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nApache\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget http://ftp.jaist.ac.jp/pub/apache//httpd/httpd-2.2.29.tar.gz\n$ tar xvfz httpd-2.2.29.tar.gz\n$ cd httpd-2.2.29\n$ ./configure --prefix=/opt/httpd --enable-mods-shared=all --enable-ssl --with-ssl=/opt/openssl\n$ make\n$ sudo make install\n\n./configure --with-ssl=/opt/openssl\u3068\u3001\u81ea\u524d\u3067\u3044\u308c\u305fopenssl\u306b\u30ea\u30f3\u30af\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3059\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\n\nmod_ssl.so\u306e\u52d5\u7684\u30ea\u30f3\u30af\u3092\u78ba\u8a8d\nmod_ssl.so\u304c\u3061\u3083\u3093\u3068openssl\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u30ea\u30f3\u30af\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ ldd /opt/httpd/modules/mod_ssl.so\n    linux-vdso.so.1 =>  (0x00007fff04d4e000)\n    libssl.so.1.0.0 => not found\n    libcrypto.so.1.0.0 => not found\n    libpthread.so.0 => /lib64/libpthread.so.0 (0x00007ffc9b03b000)\n    libc.so.6 => /lib64/libc.so.6 (0x00007ffc9aca7000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007ffc9b48c000)\n\n\u306f\u3044\u3001\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\u3053\u306e\u307e\u307e\u3067\u306fmod_ssl\u304c\u52d5\u304d\u307e\u305b\u3093\u3002\n\nopenssl\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30d1\u30b9\u3092\u901a\u3059\n$ export LD_LIBRARY_PATH=/opt/openssl/lib\n\n\u307e\u305f\u306f\n$ sudo sh -c 'echo /opt/openssl/lib > /etc/ld.so.conf.d/openssl.conf'\n$ sudo ldconfig\n\n\u78ba\u8a8d\n$ ldd /opt/httpd/modules/mod_ssl.so\n    linux-vdso.so.1 =>  (0x00007fff94dff000)\n    libssl.so.1.0.0 => /opt/openssl/lib/libssl.so.1.0.0 (0x00007f830f748000)\n    libcrypto.so.1.0.0 => /opt/openssl/lib/libcrypto.so.1.0.0 (0x00007f830f36a000)\n    libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f830f14d000)\n    libc.so.6 => /lib64/libc.so.6 (0x00007f830edb9000)\n    libdl.so.2 => /lib64/libdl.so.2 (0x00007f830ebb5000)\n    libz.so.1 => /lib64/libz.so.1 (0x00007f830e99e000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007f830fbe5000)\n\n\u3067\u304d\u307e\u3057\u305f\uff01\n\u3053\u308c\u3067Apache\u3092\u8d77\u52d5\u3059\u308c\u3070\u3001\u81ea\u524d\u30d3\u30eb\u30c9\u3057\u305fopenssl\u3092\u4f7f\u3063\u3066SSL\u901a\u4fe1\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u304c\u3068\u3066\u3082\u826f\u8a18\u4e8b\u3060\u3063\u305f\u306e\u3067\u3001\u30d3\u30eb\u30c9\u306e\u52c9\u5f37\u306e\u305f\u3081\u306b\u81ea\u5206\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n[Apache HTTP Server\u306e\u30d3\u30eb\u30c9\u3092\u59cb\u3081\u3088\u3046](http://www.atmarkit.co.jp/ait/articles/1107/15/news124.html)\n\n\u81ea\u5206\u3067\u30bd\u30fc\u30eb\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u307f\u308b\u3068\u3001\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea(=\u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30ea\u30f3\u30af\u30e9\u30a4\u30d6\u30e9\u30ea,\u30b7\u30a7\u30a2\u30fc\u30c9\u30e9\u30a4\u30d6\u30e9\u30ea)\u3084`.so`\u30d5\u30a1\u30a4\u30eb\u306e\u4ed5\u7d44\u307f\u304c\u3088\u304f\u308f\u304b\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n## \u74b0\u5883\nCentOS 6.5\nhttpd 2.2.29\nopenssl 1.0.1j\n\n\u4ed6\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u3082\u3084\u308a\u65b9\u306f\u307b\u3068\u3093\u3069\u540c\u3058\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n## \u30bf\u30fc\u30b2\u30c3\u30c8\u69cb\u6210\n/opt/openssl/ \u306bopenssl\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n/opt/httpd/ \u306bApache\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n## \u6e96\u5099\n\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u307e\u3059\u3002\n\n```\n# \u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u306e\u306b\u5fc5\u8981\n$ sudo yum instal -y gcc make\n# openssl\u3092\u30d3\u30eb\u30c9\u3059\u308b\u306e\u306b\u5fc5\u8981\n$ sudo yum install perl zlib-devel\n```\n\n## openssl\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n$ wget https://www.openssl.org/source/openssl-1.0.1j.tar.gz\n$ tar xvfz openssl-1.0.1j.tar.gz\n$ cd openssl-1.0.1j\n$ ./config --prefix=/opt/openssl shared zlib\n$ make\n$ sudo make install\n```\n\n\u78ba\u8a8d\n\n```\n$ /opt/openssl/bin/openssl version\nOpenSSL 1.0.1j 15 Oct 2014\n$ ldd /opt/openssl/bin/openssl\n        linux-vdso.so.1 =>  (0x00007fff236db000)\n        libssl.so.1.0.0 => /opt/openssl/lib/libssl.so.1.0.0 (0x00007f5237454000)\n        libcrypto.so.1.0.0 => /opt/openssl/lib/libcrypto.so.1.0.0 (0x00007f5237076000)\n        libdl.so.2 => /lib64/libdl.so.2 (0x00007f5236e6e000)\n        libz.so.1 => /lib64/libz.so.1 (0x00007f5236c58000)\n        libc.so.6 => /lib64/libc.so.6 (0x00007f52368c3000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007f52376bf000)\n```\nlibssl.so\u3068libcrypto.so\u304c\u3001\u81ea\u5206\u3067\u5165\u308c\u305f/opt/openssl\u306b\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n## Apache\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ wget http://ftp.jaist.ac.jp/pub/apache//httpd/httpd-2.2.29.tar.gz\n$ tar xvfz httpd-2.2.29.tar.gz\n$ cd httpd-2.2.29\n$ ./configure --prefix=/opt/httpd --enable-mods-shared=all --enable-ssl --with-ssl=/opt/openssl\n$ make\n$ sudo make install\n```\n\n`./configure --with-ssl=/opt/openssl`\u3068\u3001\u81ea\u524d\u3067\u3044\u308c\u305fopenssl\u306b\u30ea\u30f3\u30af\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3059\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\n\n### mod_ssl.so\u306e\u52d5\u7684\u30ea\u30f3\u30af\u3092\u78ba\u8a8d\nmod_ssl.so\u304c\u3061\u3083\u3093\u3068openssl\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u30ea\u30f3\u30af\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ ldd /opt/httpd/modules/mod_ssl.so\n    linux-vdso.so.1 =>  (0x00007fff04d4e000)\n    libssl.so.1.0.0 => not found\n    libcrypto.so.1.0.0 => not found\n    libpthread.so.0 => /lib64/libpthread.so.0 (0x00007ffc9b03b000)\n    libc.so.6 => /lib64/libc.so.6 (0x00007ffc9aca7000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007ffc9b48c000)\n```\n\n\u306f\u3044\u3001\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\u3053\u306e\u307e\u307e\u3067\u306fmod_ssl\u304c\u52d5\u304d\u307e\u305b\u3093\u3002\n\n### openssl\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30d1\u30b9\u3092\u901a\u3059\n\n```\n$ export LD_LIBRARY_PATH=/opt/openssl/lib\n```\n\n\u307e\u305f\u306f\n\n```\n$ sudo sh -c 'echo /opt/openssl/lib > /etc/ld.so.conf.d/openssl.conf'\n$ sudo ldconfig\n```\n\n\u78ba\u8a8d\n\n```\n$ ldd /opt/httpd/modules/mod_ssl.so\n    linux-vdso.so.1 =>  (0x00007fff94dff000)\n    libssl.so.1.0.0 => /opt/openssl/lib/libssl.so.1.0.0 (0x00007f830f748000)\n    libcrypto.so.1.0.0 => /opt/openssl/lib/libcrypto.so.1.0.0 (0x00007f830f36a000)\n    libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f830f14d000)\n    libc.so.6 => /lib64/libc.so.6 (0x00007f830edb9000)\n    libdl.so.2 => /lib64/libdl.so.2 (0x00007f830ebb5000)\n    libz.so.1 => /lib64/libz.so.1 (0x00007f830e99e000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007f830fbe5000)\n```\n\n\u3067\u304d\u307e\u3057\u305f\uff01\n\n\u3053\u308c\u3067Apache\u3092\u8d77\u52d5\u3059\u308c\u3070\u3001\u81ea\u524d\u30d3\u30eb\u30c9\u3057\u305fopenssl\u3092\u4f7f\u3063\u3066SSL\u901a\u4fe1\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n", "tags": ["Apache2.2", "openssl1.0.1"]}