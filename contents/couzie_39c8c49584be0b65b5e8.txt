{"context": "Android\u30a2\u30d7\u30ea\u304b\u3089CalendarProvider\u3092\u4f7f\u3063\u3066\u3001Google\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u65b0\u898f\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nUser Permissions\n\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u8aad\u307f\u66f8\u304d\u306b\u5fc5\u8981\u306a\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nAndroidManifets.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.xxx\">\n    ...\n    <uses-permission android:name=\"android.permission.READ_CALENDAR\" />\n    <uses-permission android:name=\"android.permission.WRITE_CALENDAR\" />\n    ...\n</manifest>\n\n\n\nAndroid 6.0 (Marshmallow) \u4ee5\u964d\u3082\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u969b\u306b\u306f\u3001\u8ffd\u52a0\u3067Runtime Permission\u3078\u306e\u5bfe\u5fdc\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u4e00\u89a7\u53d6\u5f97\n\u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\u5bfe\u8c61\u3067\u3042\u308b\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306b\u3001CalendarProvider\u3092\u4f7f\u3063\u3066\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u8a73\u7d30\u306f\u3001\u300cCalendarProvider\u3092\u4f7f\u3063\u3066Google\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u300d\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002\n\u307e\u305a\u3001\"android.provider.CalendarContract.Calendars\"\u3092 static import \u3057\u3066\u304a\u304d\u307e\u3059\u3002\nimport static android.provider.CalendarContract.Calendars;\n\n\u6b21\u306b\u3001\u500b\u3005\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u3064\u3044\u3066\u53d6\u5f97\u3057\u305f\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5217\u6319\u3057\u307e\u3059\u3002\n    // \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u914d\u5217\u3002\n    // \u53d6\u5f97\u3057\u305f\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u4e00\u89a7\u3092\u6307\u5b9a\u3059\u308b\u3002\n    private static final String[] CALENDAR_PROJECTION = new String[] {\n            Calendars._ID,\n            Calendars.NAME,\n            Calendars.ACCOUNT_NAME,\n            Calendars.ACCOUNT_TYPE,\n            Calendars.CALENDAR_COLOR,\n            Calendars.CALENDAR_COLOR_KEY,\n            Calendars.CALENDAR_DISPLAY_NAME,\n            Calendars.CALENDAR_ACCESS_LEVEL,\n            Calendars.CALENDAR_TIME_ZONE,\n            Calendars.VISIBLE,\n            Calendars.SYNC_EVENTS,\n            Calendars.OWNER_ACCOUNT,\n    };\n\n    // \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u914d\u5217\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002\n    // \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5411\u4e0a\u306e\u305f\u3081\u306b\u3001\u52d5\u7684\u306b\u53d6\u5f97\u305b\u305a\u306b\u3001\u9759\u7684\u306b\u5b9a\u7fa9\u3057\u3066\u304a\u304f\u3002\n    private static final int CALENDAR_PROJECTION_IDX_ID = 0;\n    private static final int CALENDAR_PROJECTION_IDX_NAME = 1;\n    private static final int CALENDAR_PROJECTION_IDX_ACCOUNT_NAME = 2;\n    private static final int CALENDAR_PROJECTION_IDX_ACCOUNT_TYPE = 3;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_COLOR = 4;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_COLOR_KEY = 5;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_DISPLAY_NAME = 6;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_ACCESS_LEVEL = 7;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_TIME_ZONE = 8;\n    private static final int CALENDAR_PROJECTION_IDX_VISIBLE = 9;\n    private static final int CALENDAR_PROJECTION_IDX_SYNC_EVENTS = 10;\n    private static final int CALENDAR_PROJECTION_IDX_OWNER_ACCOUNT = 11;\n\n\u6700\u5f8c\u306b\u3001\u30af\u30a8\u30ea\u3092\u767a\u884c\u3057\u3066\u30ab\u30fc\u30bd\u30eb\u3092\u53d6\u5f97\u3057\u3001\u30ab\u30fc\u30bd\u30eb\u304b\u3089\u500b\u3005\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\uff08\u4e8b\u524d\u306b\u7d5e\u308a\u8fbc\u3080\u305f\u3081\u306e\u6761\u4ef6\u304c\u660e\u78ba\u306a\u5834\u5408\u306b\u306f\u3001selection/selectionArgs\u306b\u5024\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n        // \u30af\u30a8\u30ea\u6761\u4ef6\u3092\u8a2d\u5b9a\u3059\u308b\n        final Uri uri = Calendars.CONTENT_URI;\n        final String[] projection = CALENDAR_PROJECTION;\n        final String selection = null;\n        final String[] selectionArgs = null;\n        final String sortOrder = null;\n\n        // \u30af\u30a8\u30ea\u3092\u767a\u884c\u3057\u3066\u30ab\u30fc\u30bd\u30eb\u3092\u53d6\u5f97\u3059\u308b\n        final ContentResolver cr = getContentResolver();\n        final Cursor cur = cr.query(uri, projection, selection, selectionArgs, sortOrder);\n\n        while (cur.moveToNext()) {\n            // \u30ab\u30fc\u30bd\u30eb\u304b\u3089\u5404\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97\u3059\u308b\n            final long id = cur.getLong(CALENDAR_PROJECTION_IDX_ID);\n            final String name = cur.getString(CALENDAR_PROJECTION_IDX_NAME);\n            final String accountName = cur.getString(CALENDAR_PROJECTION_IDX_ACCOUNT_NAME);\n            final String accountType = cur.getString(CALENDAR_PROJECTION_IDX_ACCOUNT_TYPE);\n            final int calendarColor = cur.getInt(CALENDAR_PROJECTION_IDX_CALENDAR_COLOR);\n            final String calendarColorkey = cur.getString(CALENDAR_PROJECTION_IDX_CALENDAR_COLOR_KEY);\n            final String calendarDisplayName = cur.getString(CALENDAR_PROJECTION_IDX_CALENDAR_DISPLAY_NAME);\n            final int calendarAccessLevel = cur.getInt(CALENDAR_PROJECTION_IDX_CALENDAR_ACCESS_LEVEL);\n            final String calendarTimeZone = cur.getString(CALENDAR_PROJECTION_IDX_CALENDAR_TIME_ZONE);\n            final int visible = cur.getInt(CALENDAR_PROJECTION_IDX_VISIBLE);\n            final int syncEvents = cur.getInt(CALENDAR_PROJECTION_IDX_SYNC_EVENTS);\n            final String ownerAccount = cur.getString(CALENDAR_PROJECTION_IDX_OWNER_ACCOUNT);\n        }\n\n\u3053\u308c\u306b\u3088\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u8ffd\u52a0\u5148\u306eGoogle\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u9078\u629e\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u304c\u5f97\u3089\u308c\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001\u30a4\u30d9\u30f3\u30c8\u8ffd\u52a0\u5148\u306eGoogle\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u95a2\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u60c5\u5831\u3082\u5f97\u3089\u308c\u307e\u3057\u305f\u3002\n  - \u30ab\u30ec\u30f3\u30c0\u30fc\u306e _ID\uff08\u4f8b: 1\uff09\n  - ACCOUNT_NAME\uff08\u4f8b: \"aaa@gmail.com\"\uff09\n  - ACCOUNT_TYPE\uff08\u4f8b: \"com.google\"\uff09\n\n\u8272\u60c5\u5831\u306e\u4e00\u89a7\u53d6\u5f97\n\u30ab\u30ec\u30f3\u30c0\u30fc\u3084\u30a4\u30d9\u30f3\u30c8\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u8272\u60c5\u5831\u306b\u95a2\u3057\u3066\u306f\u3001\u30ab\u30ec\u30f3\u30c0\u30fc\u3084\u30a4\u30d9\u30f3\u30c8\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u306f\u5225\u306e\u30c6\u30fc\u30d6\u30eb\u3067\u306b\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nCalendarProvider \u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u7279\u5b9a\u306eGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u304a\u3044\u3066\u3001\u30a4\u30d9\u30f3\u30c8\u306b\u4f7f\u7528\u53ef\u80fd\u306a\u8272\u60c5\u5831\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u307e\u305a\u3001\"android.provider.CalendarContract.Colors\" \u3092 static import \u3057\u3066\u304a\u304d\u307e\u3059\u3002\nimport static android.provider.CalendarContract.Colors;\n\n\u6b21\u306b\u3001\u500b\u3005\u306e\u8272\u60c5\u5831\u306b\u3064\u3044\u3066\u53d6\u5f97\u3057\u305f\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5217\u6319\u3057\u307e\u3059\u3002\n    // \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u914d\u5217\n    private static final String[] COLOR_PROJECTION = new String[] {\n            Colors._ID,\n            Colors.COLOR,\n            Colors.COLOR_KEY,\n            Colors.COLOR_TYPE,\n            Colors.ACCOUNT_NAME,\n            Colors.ACCOUNT_TYPE,\n    };\n\n    // \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u914d\u5217\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n    private static final int COLOR_PROJECTION_IDX_ID = 0;\n    private static final int COLOR_PROJECTION_IDX_COLOR = 1;\n    private static final int COLOR_PROJECTION_IDX_COLOR_KEY = 2;\n    private static final int COLOR_PROJECTION_IDX_COLOR_TYPE = 3;\n    private static final int COLOR_PROJECTION_IDX_ACCOUNT_NAME = 4;\n    private static final int COLOR_PROJECTION_IDX_ACCOUNT_TYPE = 5;\n\n\u6700\u5f8c\u306b\u3001\u30af\u30a8\u30ea\u3092\u767a\u884c\u3057\u3066\u30ab\u30fc\u30bd\u30eb\u3092\u53d6\u5f97\u3057\u3001\u30ab\u30fc\u30bd\u30eb\u304b\u3089\u500b\u3005\u306e\u8272\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n    private void queryColors(\n            final String accountName,    // \u4f8b\uff09\"aaa@google.com\"\n            final String accountType       // \u4f8b\uff09\"com.google\"\n    ) {\n        // \u30af\u30a8\u30ea\u6761\u4ef6\u3092\u8a2d\u5b9a\u3059\u308b\n        final Uri uri = Colors.CONTENT_URI;\n        final String[] projection = COLOR_PROJECTION;\n        // \u7279\u5b9a\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3001\u30a4\u30d9\u30f3\u30c8\u306e\u8272\u60c5\u5831\u3092\u6301\u3064\u30ec\u30b3\u30fc\u30c9\u306e\u307f\u3092\u5bfe\u8c61\u3068\u3059\u308b\n        final String selection =\n                \"((\" + Colors.ACCOUNT_NAME + \" = ?)\"\n                + \"AND (\" + Colors.ACCOUNT_TYPE + \" = ?)\"\n                + \"AND (\" + Colors.COLOR_TYPE + \" = ?))\";\n        final String[] selectionArgs = new String[] {\n                accountName,\n                accountType,\n                String.valueOf(Colors.TYPE_EVENT),\n        };\n        final String sortOrder = null;\n\n        // \u30af\u30a8\u30ea\u3092\u767a\u884c\u3057\u3066\u30ab\u30fc\u30bd\u30eb\u3092\u53d6\u5f97\u3059\u308b\n        final ContentResolver cr = getContentResolver();\n        final Cursor cur = cr.query(uri, projection, selection, selectionArgs, sortOrder);\n\n        while (cur.moveToNext()) {\n            // \u30ab\u30fc\u30bd\u30eb\u304b\u3089\u5404\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97\u3059\u308b\n            final long id = cur.getLong(COLOR_PROJECTION_IDX_ID);\n            final int color = cur.getInt(COLOR_PROJECTION_IDX_COLOR);\n            final String colorKey = cur.getString(COLOR_PROJECTION_IDX_COLOR_KEY);\n            final String colorType = cur.getString(COLOR_PROJECTION_IDX_COLOR_TYPE);\n        }\n    }\n\n\u3053\u308c\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3001\u30a4\u30d9\u30f3\u30c8\u306b\u4f7f\u7528\u53ef\u80fd\u306a\u8272\u60c5\u5831\u306e\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u3002\n\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u969b\u306b\u3001\u4ee5\u4e0b\u306e color_index \u306e\u5024\u3067\u30a4\u30d9\u30f3\u30c8\u306e\u8272\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n\n_id\ncolor_index\ncolor\nGoogle\u30ab\u30ec\u30f3\u30c0\u30fc\u3067\u306e\u8868\u8a18\n\n\n\n\n33\n11\n0xFFDC2127\nTomato / \u30c8\u30de\u30c8\n\n\n28\n6\n0xFFFFB878\nTangerine / \u30df\u30ab\u30f3\n\n\n30\n5\n0xFFFBD75B\nBanana / \u30d0\u30ca\u30ca\n\n\n27\n10\n0xFF51B749\nBasil / \u30d0\u30b8\u30eb\n\n\n35\n2\n0xFF7AE7BF\nSage / \u30bb\u30fc\u30b8\n\n\n31\n7\n0xFF46D6DB\nPeacock / \u30d4\u30fc\u30b3\u30c3\u30af\n\n\n32\n9\n0xFF5484ED\nBlueberry / \u30d6\u30eb\u30fc\u30d9\u30ea\u30fc\n\n\n25\n1\n0xFFA4BDFC\nLavender / \u30e9\u30d9\u30f3\u30c0\u30fc\n\n\n34\n3\n0xFFDBADFF\nGrape / \u30d6\u30c9\u30a6\n\n\n29\n4\n0xFFFF887C\nFlamingo / \u30d5\u30e9\u30df\u30f3\u30b4\n\n\n26\n8\n0xFFE1E1E1\nGraphite / \u30b0\u30e9\u30d5\u30a1\u30a4\u30c8\n\n\n\n\u3053\u306e\u914d\u8272\u306f\u3001Google\u30ab\u30ec\u30f3\u30c0\u30fc\u3067\u30a4\u30d9\u30f3\u30c8\u306e\u8272\u3092\u5909\u66f4\u3059\u308b\u969b\u306b\u8868\u793a\u3055\u308c\u308b\u30ea\u30b9\u30c8\u3068\u540c\u3058\u3067\u3059\u3002\n\n\u306a\u304a\u3001\u3044\u304f\u3064\u304b\u306eGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u73fe\u6642\u70b9\u3067\u306f\u3044\u305a\u308c\u3082\u4e0a\u8a18\u306e\u914d\u8272\u3067\u56fa\u5b9a\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\uff08\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u306f\u3001\u3042\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\uff09\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\n\u307e\u305a\u3001\"android.provider.CalendarContract.Events\" \u3092 static import \u3057\u3066\u304a\u304d\u307e\u3059\u3002\nimport static android.provider.CalendarContract.Events;\n\n\u3042\u3068\u306f\u3001ContentValues\u306b\u30a4\u30d9\u30f3\u30c8\u8ffd\u52a0\u5148\u306eGoogle\u30ab\u30ec\u30f3\u30c0\u30fc\u306e_ID\u3068\u30a4\u30d9\u30f3\u30c8\u306e\u5404\u7a2e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8a2d\u5b9a\u3057\u3001ContentResolver\u306einsert()\u3092\u547c\u3073\u51fa\u3059\u3068\u3001Google\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n    private long addEvent(\n            final long calendarId,\n            final String title,\n            final String description,\n            final String colorKey,\n            final long startMillis,\n            final long endMillis\n    ) {\n        final ContentResolver cr = getContentResolver();\n\n        final ContentValues values = new ContentValues();\n        values.put(Events.CALENDAR_ID, calendarId);\n        values.put(Events.TITLE, title);\n        values.put(Events.DESCRIPTION, description);\n        values.put(Events.EVENT_COLOR_KEY, colorKey);\n        values.put(Events.EVENT_TIMEZONE, TimeZone.getDefault().getID());\n        values.put(Events.DTSTART, startMillis);\n        values.put(Events.DTEND, endMillis);\n\n        final Uri uri = cr.insert(Events.CONTENT_URI, values);\n\n        final long eventId = Long.parseLong(uri.getLastPathSegment());\n        return eventId;\n    }\n\n\u306a\u304a\u3001\u547c\u3073\u51fa\u3057\u5074\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n        final long calendarId = 1;\n        final String eventColorKey = \"4\";\n\n        final long now = new Date().getTime();\n        final long anHourLater = now + 60 * 60 * 1000;\n        this.addEvent(calendarId, \"\u30a4\u30d9\u30f3\u30c8\u306e\u30bf\u30a4\u30c8\u30eb\", \"\u30a4\u30d9\u30f3\u30c8\u306e\u8aac\u660e\", eventColorKey, now, anHourLater);\n\n\u4ee5\u4e0b\u306e\u901a\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\n\n\u53c2\u8003\u60c5\u5831\n\nCalendar Provider | Android Developers\nCalendar Provider | Android Developers (\u65e5\u672c\u8a9e)\n\nAndroid\u30a2\u30d7\u30ea\u304b\u3089CalendarProvider\u3092\u4f7f\u3063\u3066\u3001Google\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u65b0\u898f\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n# User Permissions\n\n\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u8aad\u307f\u66f8\u304d\u306b\u5fc5\u8981\u306a\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```xml:AndroidManifets.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.xxx\">\n    ...\n    <uses-permission android:name=\"android.permission.READ_CALENDAR\" />\n    <uses-permission android:name=\"android.permission.WRITE_CALENDAR\" />\n    ...\n</manifest>\n```\n\n* Android 6.0 (Marshmallow) \u4ee5\u964d\u3082\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u969b\u306b\u306f\u3001\u8ffd\u52a0\u3067Runtime Permission\u3078\u306e\u5bfe\u5fdc\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n# \u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u4e00\u89a7\u53d6\u5f97\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\u5bfe\u8c61\u3067\u3042\u308b\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306b\u3001CalendarProvider\u3092\u4f7f\u3063\u3066\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u8a73\u7d30\u306f\u3001[\u300cCalendarProvider\u3092\u4f7f\u3063\u3066Google\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u300d](http://qiita.com/couzie/items/ce01ce4e0ae210235010)\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002\n\n\u307e\u305a\u3001\"android.provider.CalendarContract.Calendars\"\u3092 static import \u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```java\nimport static android.provider.CalendarContract.Calendars;\n```\n\n\u6b21\u306b\u3001\u500b\u3005\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u3064\u3044\u3066\u53d6\u5f97\u3057\u305f\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5217\u6319\u3057\u307e\u3059\u3002\n\n```java\n    // \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u914d\u5217\u3002\n    // \u53d6\u5f97\u3057\u305f\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u4e00\u89a7\u3092\u6307\u5b9a\u3059\u308b\u3002\n    private static final String[] CALENDAR_PROJECTION = new String[] {\n            Calendars._ID,\n            Calendars.NAME,\n            Calendars.ACCOUNT_NAME,\n            Calendars.ACCOUNT_TYPE,\n            Calendars.CALENDAR_COLOR,\n            Calendars.CALENDAR_COLOR_KEY,\n            Calendars.CALENDAR_DISPLAY_NAME,\n            Calendars.CALENDAR_ACCESS_LEVEL,\n            Calendars.CALENDAR_TIME_ZONE,\n            Calendars.VISIBLE,\n            Calendars.SYNC_EVENTS,\n            Calendars.OWNER_ACCOUNT,\n    };\n    \n    // \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u914d\u5217\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002\n    // \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5411\u4e0a\u306e\u305f\u3081\u306b\u3001\u52d5\u7684\u306b\u53d6\u5f97\u305b\u305a\u306b\u3001\u9759\u7684\u306b\u5b9a\u7fa9\u3057\u3066\u304a\u304f\u3002\n    private static final int CALENDAR_PROJECTION_IDX_ID = 0;\n    private static final int CALENDAR_PROJECTION_IDX_NAME = 1;\n    private static final int CALENDAR_PROJECTION_IDX_ACCOUNT_NAME = 2;\n    private static final int CALENDAR_PROJECTION_IDX_ACCOUNT_TYPE = 3;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_COLOR = 4;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_COLOR_KEY = 5;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_DISPLAY_NAME = 6;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_ACCESS_LEVEL = 7;\n    private static final int CALENDAR_PROJECTION_IDX_CALENDAR_TIME_ZONE = 8;\n    private static final int CALENDAR_PROJECTION_IDX_VISIBLE = 9;\n    private static final int CALENDAR_PROJECTION_IDX_SYNC_EVENTS = 10;\n    private static final int CALENDAR_PROJECTION_IDX_OWNER_ACCOUNT = 11;\n```\n\n\u6700\u5f8c\u306b\u3001\u30af\u30a8\u30ea\u3092\u767a\u884c\u3057\u3066\u30ab\u30fc\u30bd\u30eb\u3092\u53d6\u5f97\u3057\u3001\u30ab\u30fc\u30bd\u30eb\u304b\u3089\u500b\u3005\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\uff08\u4e8b\u524d\u306b\u7d5e\u308a\u8fbc\u3080\u305f\u3081\u306e\u6761\u4ef6\u304c\u660e\u78ba\u306a\u5834\u5408\u306b\u306f\u3001`selection/selectionArgs`\u306b\u5024\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n\n```java\n        // \u30af\u30a8\u30ea\u6761\u4ef6\u3092\u8a2d\u5b9a\u3059\u308b\n        final Uri uri = Calendars.CONTENT_URI;\n        final String[] projection = CALENDAR_PROJECTION;\n        final String selection = null;\n        final String[] selectionArgs = null;\n        final String sortOrder = null;\n\n        // \u30af\u30a8\u30ea\u3092\u767a\u884c\u3057\u3066\u30ab\u30fc\u30bd\u30eb\u3092\u53d6\u5f97\u3059\u308b\n        final ContentResolver cr = getContentResolver();\n        final Cursor cur = cr.query(uri, projection, selection, selectionArgs, sortOrder);\n\n        while (cur.moveToNext()) {\n            // \u30ab\u30fc\u30bd\u30eb\u304b\u3089\u5404\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97\u3059\u308b\n            final long id = cur.getLong(CALENDAR_PROJECTION_IDX_ID);\n            final String name = cur.getString(CALENDAR_PROJECTION_IDX_NAME);\n            final String accountName = cur.getString(CALENDAR_PROJECTION_IDX_ACCOUNT_NAME);\n            final String accountType = cur.getString(CALENDAR_PROJECTION_IDX_ACCOUNT_TYPE);\n            final int calendarColor = cur.getInt(CALENDAR_PROJECTION_IDX_CALENDAR_COLOR);\n            final String calendarColorkey = cur.getString(CALENDAR_PROJECTION_IDX_CALENDAR_COLOR_KEY);\n            final String calendarDisplayName = cur.getString(CALENDAR_PROJECTION_IDX_CALENDAR_DISPLAY_NAME);\n            final int calendarAccessLevel = cur.getInt(CALENDAR_PROJECTION_IDX_CALENDAR_ACCESS_LEVEL);\n            final String calendarTimeZone = cur.getString(CALENDAR_PROJECTION_IDX_CALENDAR_TIME_ZONE);\n            final int visible = cur.getInt(CALENDAR_PROJECTION_IDX_VISIBLE);\n            final int syncEvents = cur.getInt(CALENDAR_PROJECTION_IDX_SYNC_EVENTS);\n            final String ownerAccount = cur.getString(CALENDAR_PROJECTION_IDX_OWNER_ACCOUNT);\n        }\n```\n\n\u3053\u308c\u306b\u3088\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u8ffd\u52a0\u5148\u306eGoogle\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u9078\u629e\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u304c\u5f97\u3089\u308c\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001\u30a4\u30d9\u30f3\u30c8\u8ffd\u52a0\u5148\u306eGoogle\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u95a2\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u60c5\u5831\u3082\u5f97\u3089\u308c\u307e\u3057\u305f\u3002\n  - \u30ab\u30ec\u30f3\u30c0\u30fc\u306e `_ID`\uff08\u4f8b: 1\uff09\n  - `ACCOUNT_NAME`\uff08\u4f8b: \"aaa@gmail.com\"\uff09\n  - `ACCOUNT_TYPE`\uff08\u4f8b: \"com.google\"\uff09\n\n\n# \u8272\u60c5\u5831\u306e\u4e00\u89a7\u53d6\u5f97\n\n\u30ab\u30ec\u30f3\u30c0\u30fc\u3084\u30a4\u30d9\u30f3\u30c8\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u8272\u60c5\u5831\u306b\u95a2\u3057\u3066\u306f\u3001\u30ab\u30ec\u30f3\u30c0\u30fc\u3084\u30a4\u30d9\u30f3\u30c8\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u306f\u5225\u306e\u30c6\u30fc\u30d6\u30eb\u3067\u306b\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nCalendarProvider \u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u7279\u5b9a\u306eGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u304a\u3044\u3066\u3001\u30a4\u30d9\u30f3\u30c8\u306b\u4f7f\u7528\u53ef\u80fd\u306a\u8272\u60c5\u5831\u306e\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u307e\u305a\u3001\"android.provider.CalendarContract.Colors\" \u3092 static import \u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```java\nimport static android.provider.CalendarContract.Colors;\n```\n\n\u6b21\u306b\u3001\u500b\u3005\u306e\u8272\u60c5\u5831\u306b\u3064\u3044\u3066\u53d6\u5f97\u3057\u305f\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5217\u6319\u3057\u307e\u3059\u3002\n\n```java\n    // \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u914d\u5217\n    private static final String[] COLOR_PROJECTION = new String[] {\n            Colors._ID,\n            Colors.COLOR,\n            Colors.COLOR_KEY,\n            Colors.COLOR_TYPE,\n            Colors.ACCOUNT_NAME,\n            Colors.ACCOUNT_TYPE,\n    };\n    \n    // \u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u914d\u5217\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n    private static final int COLOR_PROJECTION_IDX_ID = 0;\n    private static final int COLOR_PROJECTION_IDX_COLOR = 1;\n    private static final int COLOR_PROJECTION_IDX_COLOR_KEY = 2;\n    private static final int COLOR_PROJECTION_IDX_COLOR_TYPE = 3;\n    private static final int COLOR_PROJECTION_IDX_ACCOUNT_NAME = 4;\n    private static final int COLOR_PROJECTION_IDX_ACCOUNT_TYPE = 5;\n```\n\n\u6700\u5f8c\u306b\u3001\u30af\u30a8\u30ea\u3092\u767a\u884c\u3057\u3066\u30ab\u30fc\u30bd\u30eb\u3092\u53d6\u5f97\u3057\u3001\u30ab\u30fc\u30bd\u30eb\u304b\u3089\u500b\u3005\u306e\u8272\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n```java\n    private void queryColors(\n            final String accountName,    // \u4f8b\uff09\"aaa@google.com\"\n            final String accountType       // \u4f8b\uff09\"com.google\"\n    ) {\n        // \u30af\u30a8\u30ea\u6761\u4ef6\u3092\u8a2d\u5b9a\u3059\u308b\n        final Uri uri = Colors.CONTENT_URI;\n        final String[] projection = COLOR_PROJECTION;\n        // \u7279\u5b9a\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3001\u30a4\u30d9\u30f3\u30c8\u306e\u8272\u60c5\u5831\u3092\u6301\u3064\u30ec\u30b3\u30fc\u30c9\u306e\u307f\u3092\u5bfe\u8c61\u3068\u3059\u308b\n        final String selection =\n                \"((\" + Colors.ACCOUNT_NAME + \" = ?)\"\n                + \"AND (\" + Colors.ACCOUNT_TYPE + \" = ?)\"\n                + \"AND (\" + Colors.COLOR_TYPE + \" = ?))\";\n        final String[] selectionArgs = new String[] {\n                accountName,\n                accountType,\n                String.valueOf(Colors.TYPE_EVENT),\n        };\n        final String sortOrder = null;\n\n        // \u30af\u30a8\u30ea\u3092\u767a\u884c\u3057\u3066\u30ab\u30fc\u30bd\u30eb\u3092\u53d6\u5f97\u3059\u308b\n        final ContentResolver cr = getContentResolver();\n        final Cursor cur = cr.query(uri, projection, selection, selectionArgs, sortOrder);\n\n        while (cur.moveToNext()) {\n            // \u30ab\u30fc\u30bd\u30eb\u304b\u3089\u5404\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97\u3059\u308b\n            final long id = cur.getLong(COLOR_PROJECTION_IDX_ID);\n            final int color = cur.getInt(COLOR_PROJECTION_IDX_COLOR);\n            final String colorKey = cur.getString(COLOR_PROJECTION_IDX_COLOR_KEY);\n            final String colorType = cur.getString(COLOR_PROJECTION_IDX_COLOR_TYPE);\n        }\n    }\n```\n\n\u3053\u308c\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3001\u30a4\u30d9\u30f3\u30c8\u306b\u4f7f\u7528\u53ef\u80fd\u306a\u8272\u60c5\u5831\u306e\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3067\u304d\u307e\u3057\u305f\u3002\n\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u969b\u306b\u3001\u4ee5\u4e0b\u306e **color_index** \u306e\u5024\u3067\u30a4\u30d9\u30f3\u30c8\u306e\u8272\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n| _id | color_index | color | Google\u30ab\u30ec\u30f3\u30c0\u30fc\u3067\u306e\u8868\u8a18 |\n|--:|--:|:--|:--|\n| 33 | 11 | 0xFFDC2127 | Tomato / \u30c8\u30de\u30c8 |\n| 28 | 6 | 0xFFFFB878 | Tangerine / \u30df\u30ab\u30f3 |\n| 30 | 5 | 0xFFFBD75B | Banana / \u30d0\u30ca\u30ca |\n| 27 | 10 | 0xFF51B749 | Basil / \u30d0\u30b8\u30eb |\n| 35 | 2 | 0xFF7AE7BF | Sage / \u30bb\u30fc\u30b8 |\n| 31 | 7 | 0xFF46D6DB | Peacock / \u30d4\u30fc\u30b3\u30c3\u30af |\n| 32 | 9 | 0xFF5484ED | Blueberry / \u30d6\u30eb\u30fc\u30d9\u30ea\u30fc |\n| 25 | 1 | 0xFFA4BDFC | Lavender / \u30e9\u30d9\u30f3\u30c0\u30fc |\n| 34 | 3 | 0xFFDBADFF | Grape / \u30d6\u30c9\u30a6 |\n| 29 | 4 | 0xFFFF887C | Flamingo / \u30d5\u30e9\u30df\u30f3\u30b4 |\n| 26 | 8 | 0xFFE1E1E1 | Graphite / \u30b0\u30e9\u30d5\u30a1\u30a4\u30c8 |\n\n\u3053\u306e\u914d\u8272\u306f\u3001Google\u30ab\u30ec\u30f3\u30c0\u30fc\u3067\u30a4\u30d9\u30f3\u30c8\u306e\u8272\u3092\u5909\u66f4\u3059\u308b\u969b\u306b\u8868\u793a\u3055\u308c\u308b\u30ea\u30b9\u30c8\u3068\u540c\u3058\u3067\u3059\u3002\n\n![device-2016-10-12-152024.png](https://qiita-image-store.s3.amazonaws.com/0/93531/1e0041f2-bf55-71cc-ea5c-c1c0f1d20208.png)\n\n\u306a\u304a\u3001\u3044\u304f\u3064\u304b\u306eGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u73fe\u6642\u70b9\u3067\u306f\u3044\u305a\u308c\u3082\u4e0a\u8a18\u306e\u914d\u8272\u3067\u56fa\u5b9a\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\uff08\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u306f\u3001\u3042\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\uff09\n\n\n# \u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\n\n\n\n\u307e\u305a\u3001\"android.provider.CalendarContract.Events\" \u3092 static import \u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```java\nimport static android.provider.CalendarContract.Events;\n```\n\n\u3042\u3068\u306f\u3001`ContentValues`\u306b\u30a4\u30d9\u30f3\u30c8\u8ffd\u52a0\u5148\u306eGoogle\u30ab\u30ec\u30f3\u30c0\u30fc\u306e`_ID`\u3068\u30a4\u30d9\u30f3\u30c8\u306e\u5404\u7a2e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8a2d\u5b9a\u3057\u3001`ContentResolver`\u306e`insert()`\u3092\u547c\u3073\u51fa\u3059\u3068\u3001Google\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n```java\n    private long addEvent(\n            final long calendarId,\n            final String title,\n            final String description,\n            final String colorKey,\n            final long startMillis,\n            final long endMillis\n    ) {\n        final ContentResolver cr = getContentResolver();\n\n        final ContentValues values = new ContentValues();\n        values.put(Events.CALENDAR_ID, calendarId);\n        values.put(Events.TITLE, title);\n        values.put(Events.DESCRIPTION, description);\n        values.put(Events.EVENT_COLOR_KEY, colorKey);\n        values.put(Events.EVENT_TIMEZONE, TimeZone.getDefault().getID());\n        values.put(Events.DTSTART, startMillis);\n        values.put(Events.DTEND, endMillis);\n\n        final Uri uri = cr.insert(Events.CONTENT_URI, values);\n\n        final long eventId = Long.parseLong(uri.getLastPathSegment());\n        return eventId;\n    }\n```\n\n\u306a\u304a\u3001\u547c\u3073\u51fa\u3057\u5074\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```java\n        final long calendarId = 1;\n        final String eventColorKey = \"4\";\n\n        final long now = new Date().getTime();\n        final long anHourLater = now + 60 * 60 * 1000;\n        this.addEvent(calendarId, \"\u30a4\u30d9\u30f3\u30c8\u306e\u30bf\u30a4\u30c8\u30eb\", \"\u30a4\u30d9\u30f3\u30c8\u306e\u8aac\u660e\", eventColorKey, now, anHourLater);\n```\n\n\u4ee5\u4e0b\u306e\u901a\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\n![device-2016-10-12-200306.png](https://qiita-image-store.s3.amazonaws.com/0/93531/1a34d274-9762-ce52-8e10-9ac5853420e9.png)\n\n\n# \u53c2\u8003\u60c5\u5831\n\n- [Calendar Provider | Android Developers](https://developer.android.com/guide/topics/providers/calendar-provider.html)\n\n- [Calendar Provider | Android Developers (\u65e5\u672c\u8a9e)](https://developer.android.com/guide/topics/providers/calendar-provider.html?hl=ja)\n", "tags": ["Android", "CalendarProvider", "GoogleCalendar", "google\u30ab\u30ec\u30f3\u30c0\u30fc"]}