{"tags": ["Python", "Django", "Heroku"], "context": "\n\n\u4ed5\u69d8\n\u30fbPython2.7.10\n\u30fbDB\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u306fsqlite3\u3001\u672c\u756a\u306fpostgreSQL\n\u30fbDjangoRESTFramework\u3092\u4f7f\u7528\n\u30fb\u3042\u3089\u304b\u3058\u3081Virtualenv\u3067\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u3063\u3066\u3044\u308b\u524d\u63d0\n\n\u624b\u9806\n1.cd [DjangoProject\u306epath]\n2.requirements.txt\u3092\u751f\u6210\u3002\uff08Python\u7248package.json\u3068\u304bgemfile\u7684\u306a\uff09\npip freeze > requirements.txt \u3092\u53e9\u3051\u3070\u4e00\u767a\u3067virtualenv\u306epip\u306b\u5165\u3063\u3066\u308b\u3084\u3064\u3092\u6301\u3063\u3066\u3053\u308c\u308b\u3002\n\u50d5\u306e\u5834\u5408\u3053\u3093\u306a\u611f\u3058\n\nrequirements.txt\ndj-database-url==0.4.1\nDjango==1.9.7\ndjango-filter==0.13.0\ndjangorestframework==3.3.3\npsycopg2==2.6.1\n\n\n3.vi Procfile\u3067\u4ee5\u4e0b\u3092\u8a18\u5165\nweb: python manage.py runserver 0.0.0.0:$PORT --noreload\n4.setting.py\u306eDB\u90e8\u5206\u3092\u5909\u66f4\n\nsetting.py\nimport os\nimport dj_database_url\n\nDATABASES = {'default': dj_database_url.config(default='postgres://localhost')}\nif bool(os.environ.get('LOCAL_DEV', False)):\n    DATABASES = {\n        'default': {\n            'ENGINE': 'django.db.backends.sqlite3', \n            'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n            'USER': '',                      \n            'PASSWORD': '',             \n            'HOST': '',                     \n            'PORT': '',                     \n        }\n    }\n\n\n(5.pyc\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30df\u30c3\u30c8\u3057\u305f\u304f\u306a\u3044\u4eba\u306f.gitignore\u3092\u4f5c\u308b)\n6.heroku\u306bpush\ngit init\ngit add .\ngit commit -m \"hogegggggge\"\nheroku create [\u30a2\u30d7\u30ea\u540d]\ngit push heroic master\n\u3059\u308b\u3068\nremote:            raise ImproperlyConfigured(\"You're using the staticfiles app \"\nremote:        django.core.exceptions.ImproperlyConfigured: You're using the staticfiles app without having set the STATIC_ROOT setting to a filesystem path.\nremote: \nremote:  !     Error while running '$ python manage.py collectstatic --noinput'.\nremote:        See traceback above for details.\nremote: \nremote:        You may need to update application code to resolve this error.\nremote:        Or, you can disable collectstatic for this application:\nremote: \nremote:           $ heroku config:set DISABLE_COLLECTSTATIC=1\nremote: \nremote:        https://devcenter.heroku.com/articles/django-assets\n\n\u3068\u51fa\u305f\u306e\u3067\u3001\nsetting.py\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\nsetting.py\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.9/howto/static-files/\n\n#\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3057\u305f\nPROJECT_ROOT = os.path.dirname(os.path.abspath(__file__))\n\nSTATIC_ROOT = os.path.join(PROJECT_ROOT, 'staticfiles')\nSTATIC_URL = '/static/'\n\nSTATICFILES_DIRS = (\n    os.path.join(PROJECT_ROOT, 'static'),\n)\n#\u8ffd\u8a18\u7d42\u308f\u308a\n\n\n\u3064\u3044\u3067\u306b\u3001\nheroku config:set DISABLE_COLLECTSTATIC=1\n\u3092\u5b9f\u884c\u3002\n\u305d\u3057\u3066\u3001git push heroku master\u3092\u5b9f\u884c\u3002\nCounting objects: 31, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (28/28), done.\nWriting objects: 100% (31/31), 8.84 KiB | 0 bytes/s, done.\nTotal 31 (delta 10), reused 0 (delta 0)\nremote: Compressing source files... done.\nremote: Building source:\nremote: \nremote: -----> Python app detected\nremote: -----> Installing python-2.7.11\nremote:      $ pip install -r requirements.txt\nremote:        Collecting dj-database-url==0.4.1 (from -r requirements.txt (line 1))\nremote:          Downloading dj-database-url-0.4.1.tar.gz\nremote:        Collecting Django==1.9.7 (from -r requirements.txt (line 2))\nremote:          Downloading Django-1.9.7-py2.py3-none-any.whl (6.6MB)\nremote:        Collecting django-filter==0.13.0 (from -r requirements.txt (line 3))\nremote:          Downloading django_filter-0.13.0-py2.py3-none-any.whl\nremote:        Collecting djangorestframework==3.3.3 (from -r requirements.txt (line 4))\nremote:          Downloading djangorestframework-3.3.3-py2.py3-none-any.whl (662kB)\nremote:        Collecting psycopg2==2.6.1 (from -r requirements.txt (line 5))\nremote:          Downloading psycopg2-2.6.1.tar.gz (371kB)\nremote:        Installing collected packages: dj-database-url, Django, django-filter, djangorestframework, psycopg2\nremote:          Running setup.py install for dj-database-url: started\nremote:            Running setup.py install for dj-database-url: finished with status 'done'\nremote:          Running setup.py install for psycopg2: started\nremote:            Running setup.py install for psycopg2: finished with status 'done'\nremote:        Successfully installed Django-1.9.7 dj-database-url-0.4.1 django-filter-0.13.0 djangorestframework-3.3.3 psycopg2-2.6.1\nremote: \nremote: -----> Discovering process types\nremote:        Procfile declares types -> web\nremote: \nremote: -----> Compressing...\nremote:        Done: 41.7M\nremote: -----> Launching...\nremote:        Released v6\nremote:        https://cashe-api.herokuapp.com/ deployed to Heroku\nremote: \nremote: Verifying deploy... done.\nTo https://git.heroku.com/cashe-api.git\n * [new branch]      master -> master\n\n\u3044\u3051\u307e\u3057\u305f\u3002\n\u3042\u3068\u306f\u3001\nheroku run python manage.py migrate\n\u3067\u3001heroku\u4e0a\u306eDB\u306e\u521d\u671f\u8a2d\u5b9a\nheroku open\n\u3067\u30d6\u30e9\u30a6\u30b6\u3067\u307f\u308c\u307e\u3059\u3002\n\u8a73\u3057\u304f\u306f\u3001\n\u516c\u5f0f\u30da\u30fc\u30b8\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u53c2\u8003\nhttp://source.hatenadiary.jp/entry/2013/02/05/173636\nhttp://qiita.com/jtwp470/items/0034c85130928851ce72\n##\u4ed5\u69d8\n\u30fbPython2.7.10\n\u30fbDB\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u306fsqlite3\u3001\u672c\u756a\u306fpostgreSQL\n\u30fbDjangoRESTFramework\u3092\u4f7f\u7528\n\u30fb\u3042\u3089\u304b\u3058\u3081Virtualenv\u3067\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u3063\u3066\u3044\u308b\u524d\u63d0\n\n##\u624b\u9806\n<b>1</b>.`cd [DjangoProject\u306epath]`\n<b>2</b>.requirements.txt\u3092\u751f\u6210\u3002\uff08Python\u7248package.json\u3068\u304bgemfile\u7684\u306a\uff09\n`pip freeze > requirements.txt` \u3092\u53e9\u3051\u3070\u4e00\u767a\u3067virtualenv\u306epip\u306b\u5165\u3063\u3066\u308b\u3084\u3064\u3092\u6301\u3063\u3066\u3053\u308c\u308b\u3002\n\u50d5\u306e\u5834\u5408\u3053\u3093\u306a\u611f\u3058\n\n```requirements.txt\ndj-database-url==0.4.1\nDjango==1.9.7\ndjango-filter==0.13.0\ndjangorestframework==3.3.3\npsycopg2==2.6.1\n```\n<b>3</b>.`vi Procfile`\u3067\u4ee5\u4e0b\u3092\u8a18\u5165\n`web: python manage.py runserver 0.0.0.0:$PORT --noreload`\n<b>4</b>.setting.py\u306eDB\u90e8\u5206\u3092\u5909\u66f4\n\n```python:setting.py\nimport os\nimport dj_database_url\n\nDATABASES = {'default': dj_database_url.config(default='postgres://localhost')}\nif bool(os.environ.get('LOCAL_DEV', False)):\n    DATABASES = {\n        'default': {\n            'ENGINE': 'django.db.backends.sqlite3', \n            'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n            'USER': '',                      \n            'PASSWORD': '',             \n            'HOST': '',                     \n            'PORT': '',                     \n        }\n    }\n```\n(<b>5</b>.pyc\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30df\u30c3\u30c8\u3057\u305f\u304f\u306a\u3044\u4eba\u306f.gitignore\u3092\u4f5c\u308b)\n<b>6</b>.heroku\u306bpush\n`git init`\n`git add .`\n`git commit -m \"hogegggggge\"`\n`heroku create [\u30a2\u30d7\u30ea\u540d]`\n`git push heroic master`\n\n\u3059\u308b\u3068\n\n``` \nremote:            raise ImproperlyConfigured(\"You're using the staticfiles app \"\nremote:        django.core.exceptions.ImproperlyConfigured: You're using the staticfiles app without having set the STATIC_ROOT setting to a filesystem path.\nremote: \nremote:  !     Error while running '$ python manage.py collectstatic --noinput'.\nremote:        See traceback above for details.\nremote: \nremote:        You may need to update application code to resolve this error.\nremote:        Or, you can disable collectstatic for this application:\nremote: \nremote:           $ heroku config:set DISABLE_COLLECTSTATIC=1\nremote: \nremote:        https://devcenter.heroku.com/articles/django-assets\n```\n\u3068\u51fa\u305f\u306e\u3067\u3001\nsetting.py\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\n```python:setting.py\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.9/howto/static-files/\n\n#\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3057\u305f\nPROJECT_ROOT = os.path.dirname(os.path.abspath(__file__))\n\nSTATIC_ROOT = os.path.join(PROJECT_ROOT, 'staticfiles')\nSTATIC_URL = '/static/'\n\nSTATICFILES_DIRS = (\n    os.path.join(PROJECT_ROOT, 'static'),\n)\n#\u8ffd\u8a18\u7d42\u308f\u308a\n```\n\u3064\u3044\u3067\u306b\u3001\n`heroku config:set DISABLE_COLLECTSTATIC=1`\n\u3092\u5b9f\u884c\u3002\n\u305d\u3057\u3066\u3001`git push heroku master`\u3092\u5b9f\u884c\u3002\n\n```\nCounting objects: 31, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (28/28), done.\nWriting objects: 100% (31/31), 8.84 KiB | 0 bytes/s, done.\nTotal 31 (delta 10), reused 0 (delta 0)\nremote: Compressing source files... done.\nremote: Building source:\nremote: \nremote: -----> Python app detected\nremote: -----> Installing python-2.7.11\nremote:      $ pip install -r requirements.txt\nremote:        Collecting dj-database-url==0.4.1 (from -r requirements.txt (line 1))\nremote:          Downloading dj-database-url-0.4.1.tar.gz\nremote:        Collecting Django==1.9.7 (from -r requirements.txt (line 2))\nremote:          Downloading Django-1.9.7-py2.py3-none-any.whl (6.6MB)\nremote:        Collecting django-filter==0.13.0 (from -r requirements.txt (line 3))\nremote:          Downloading django_filter-0.13.0-py2.py3-none-any.whl\nremote:        Collecting djangorestframework==3.3.3 (from -r requirements.txt (line 4))\nremote:          Downloading djangorestframework-3.3.3-py2.py3-none-any.whl (662kB)\nremote:        Collecting psycopg2==2.6.1 (from -r requirements.txt (line 5))\nremote:          Downloading psycopg2-2.6.1.tar.gz (371kB)\nremote:        Installing collected packages: dj-database-url, Django, django-filter, djangorestframework, psycopg2\nremote:          Running setup.py install for dj-database-url: started\nremote:            Running setup.py install for dj-database-url: finished with status 'done'\nremote:          Running setup.py install for psycopg2: started\nremote:            Running setup.py install for psycopg2: finished with status 'done'\nremote:        Successfully installed Django-1.9.7 dj-database-url-0.4.1 django-filter-0.13.0 djangorestframework-3.3.3 psycopg2-2.6.1\nremote: \nremote: -----> Discovering process types\nremote:        Procfile declares types -> web\nremote: \nremote: -----> Compressing...\nremote:        Done: 41.7M\nremote: -----> Launching...\nremote:        Released v6\nremote:        https://cashe-api.herokuapp.com/ deployed to Heroku\nremote: \nremote: Verifying deploy... done.\nTo https://git.heroku.com/cashe-api.git\n * [new branch]      master -> master\n```\n\n\u3044\u3051\u307e\u3057\u305f\u3002\n\u3042\u3068\u306f\u3001\n`heroku run python manage.py migrate`\n\u3067\u3001heroku\u4e0a\u306eDB\u306e\u521d\u671f\u8a2d\u5b9a\n`heroku open`\n\u3067\u30d6\u30e9\u30a6\u30b6\u3067\u307f\u308c\u307e\u3059\u3002\n\u8a73\u3057\u304f\u306f\u3001\n[\u516c\u5f0f\u30da\u30fc\u30b8](https://devcenter.heroku.com/articles/django-app-configuration)\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n##\u53c2\u8003\nhttp://source.hatenadiary.jp/entry/2013/02/05/173636\nhttp://qiita.com/jtwp470/items/0034c85130928851ce72\n"}