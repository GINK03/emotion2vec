{"tags": ["knockoutjs", "JavaScript"], "context": " More than 1 year has passed since last update.\n\nKnockoutJs Tutorial\uff5cSingle page applications\nknockout.js tutorial\uff13\u3053\u3081http://learn.knockoutjs.com/#/?tutorial=collections Single page applications\u3067\u3059\u3002\n\nHTML\n<script src=\"/scripts/lib/sammy.js\" type=\"text/javascript\"></script>\n\n<!-- Folders -->\n<ul class=\"folders\" data-bind=\"foreach: folders\">\n    <li data-bind=\"text: $data, \n                   css: { selected: $data == $root.chosenFolderId() },\n                   click: $root.goToFolder\"></li>\n</ul>\n\n\n<!-- Mails grid -->\n<table class=\"mails\" data-bind=\"with: chosenFolderData\">\n    <thead><tr><th>From</th><th>To</th><th>Subject</th><th>Date</th></tr></thead>\n    <tbody data-bind=\"foreach: mails\">\n        <tr data-bind=\"click: $root.goToMail\">\n            <td data-bind=\"text: from\"></td>\n            <td data-bind=\"text: to\"></td>\n            <td data-bind=\"text: subject\"></td>\n            <td data-bind=\"text: date\"></td>\n        </tr>     \n    </tbody>\n</table>\n\n<!-- Chosen mail -->\n<div class=\"viewMail\" data-bind=\"with: chosenMailData\">\n    <div class=\"mailInfo\">\n        <h1 data-bind=\"text: subject\"></h1>\n        <p><label>From</label>: <span data-bind=\"text: from\"></span></p>\n        <p><label>To</label>: <span data-bind=\"text: to\"></span></p>\n        <p><label>Date</label>: <span data-bind=\"text: date\"></span></p>\n    </div>\n    <p class=\"message\" data-bind=\"html: messageContent\" />\n</div>\n\n\nJS\nfunction WebmailViewModel() {\n    // Data\n    var self = this;\n    self.folders = ['Inbox', 'Archive', 'Sent', 'Spam'];\n    self.chosenFolderId = ko.observable();\n    self.chosenFolderData = ko.observable();\n    self.chosenMailData = ko.observable();\n\n    // Behaviours    \n    self.goToFolder = function(folder) { location.hash = folder };\n    self.goToMail = function(mail) { location.hash = mail.folder + '/' + mail.id };\n\n    // Behaviours    \n/*    self.goToFolder = function(folder) {\n        self.chosenFolderId(folder); \n        self.chosenMailData(null); // Stop showing a mail\n        $.get('/mail', { folder: folder }, self.chosenFolderData);\n    };   \n\n    self.goToMail = function(mail) { \n        self.chosenFolderId(mail.folder);\n        self.chosenFolderData(null); // Stop showing a folder\n        $.get(\"/mail\", { mailId: mail.id }, self.chosenMailData);\n    };*/\n\n    // Client-side routes    \n    Sammy(function() {\n        this.get('#:folder', function() {\n            self.chosenFolderId(this.params.folder);\n            self.chosenMailData(null);\n            $.get(\"/mail\", { folder: this.params.folder }, self.chosenFolderData);\n        });\n\n        this.get('#:folder/:mailId', function() {\n            self.chosenFolderId(this.params.folder);\n            self.chosenFolderData(null);\n            $.get(\"/mail\", { mailId: this.params.mailId }, self.chosenMailData);\n        });\n\n        this.get('', function() { this.app.runRoute('get', '#Inbox') });\n    }).run();\n\n\n    // Show inbox by default\n    // self.goToFolder('Inbox');\n\n};\n\nko.applyBindings(new WebmailViewModel());\n\n\n\n# KnockoutJs Tutorial\uff5cSingle page applications\n\nknockout.js tutorial\uff13\u3053\u3081http://learn.knockoutjs.com/#/?tutorial=collections Single page applications\u3067\u3059\u3002\n\n# HTML\n\n```\n<script src=\"/scripts/lib/sammy.js\" type=\"text/javascript\"></script>\n\n<!-- Folders -->\n<ul class=\"folders\" data-bind=\"foreach: folders\">\n    <li data-bind=\"text: $data, \n                   css: { selected: $data == $root.chosenFolderId() },\n                   click: $root.goToFolder\"></li>\n</ul>\n\n\n<!-- Mails grid -->\n<table class=\"mails\" data-bind=\"with: chosenFolderData\">\n    <thead><tr><th>From</th><th>To</th><th>Subject</th><th>Date</th></tr></thead>\n    <tbody data-bind=\"foreach: mails\">\n        <tr data-bind=\"click: $root.goToMail\">\n            <td data-bind=\"text: from\"></td>\n            <td data-bind=\"text: to\"></td>\n            <td data-bind=\"text: subject\"></td>\n            <td data-bind=\"text: date\"></td>\n        </tr>     \n    </tbody>\n</table>\n\n<!-- Chosen mail -->\n<div class=\"viewMail\" data-bind=\"with: chosenMailData\">\n    <div class=\"mailInfo\">\n        <h1 data-bind=\"text: subject\"></h1>\n        <p><label>From</label>: <span data-bind=\"text: from\"></span></p>\n        <p><label>To</label>: <span data-bind=\"text: to\"></span></p>\n        <p><label>Date</label>: <span data-bind=\"text: date\"></span></p>\n    </div>\n    <p class=\"message\" data-bind=\"html: messageContent\" />\n</div>\n```\n\n\n# JS\n\n```\nfunction WebmailViewModel() {\n    // Data\n    var self = this;\n    self.folders = ['Inbox', 'Archive', 'Sent', 'Spam'];\n    self.chosenFolderId = ko.observable();\n    self.chosenFolderData = ko.observable();\n    self.chosenMailData = ko.observable();\n    \n    // Behaviours    \n    self.goToFolder = function(folder) { location.hash = folder };\n    self.goToMail = function(mail) { location.hash = mail.folder + '/' + mail.id };\n\n    // Behaviours    \n/*    self.goToFolder = function(folder) {\n        self.chosenFolderId(folder); \n        self.chosenMailData(null); // Stop showing a mail\n        $.get('/mail', { folder: folder }, self.chosenFolderData);\n    };   \n    \n    self.goToMail = function(mail) { \n        self.chosenFolderId(mail.folder);\n        self.chosenFolderData(null); // Stop showing a folder\n        $.get(\"/mail\", { mailId: mail.id }, self.chosenMailData);\n    };*/\n    \n    // Client-side routes    \n    Sammy(function() {\n        this.get('#:folder', function() {\n            self.chosenFolderId(this.params.folder);\n            self.chosenMailData(null);\n            $.get(\"/mail\", { folder: this.params.folder }, self.chosenFolderData);\n        });\n\n        this.get('#:folder/:mailId', function() {\n            self.chosenFolderId(this.params.folder);\n            self.chosenFolderData(null);\n            $.get(\"/mail\", { mailId: this.params.mailId }, self.chosenMailData);\n        });\n        \n        this.get('', function() { this.app.runRoute('get', '#Inbox') });\n    }).run();\n\n   \n    // Show inbox by default\n    // self.goToFolder('Inbox');\n    \n};\n\nko.applyBindings(new WebmailViewModel());\n```\n"}