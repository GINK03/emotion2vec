{"tags": ["Android", "\u3042\u306a\u305f\u3068\u30b8\u30e3\u30d0", "RxJava"], "context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u3053\u306e\u8a18\u4e8b\u306f\u30dd\u30a8\u30e0\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306a\u3093\u3066\u4ef0\u3005\u3057\u3044\u547c\u3073\u540d\u304c\u4ed8\u3044\u3066\u3044\u307e\u3059\u304c\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u6d41\u3059\u5074\u3068\u53d7\u3051\u308b\u5074\u304c\u3044\u3066\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u3069\u306e\u3088\u3046\u306b\u6d41\u3059\u304b\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u304f\u3089\u3044\u306e\u7406\u89e3\u3067\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nRx\u3084FRP\u3067\u691c\u7d22\u3059\u308b\u3068\u96e3\u3057\u3044\u30e1\u30bf\u30d5\u30a1\u306b\u3088\u308b\u305f\u3068\u3048\u8a71\u3084\u3001\u63b4\u307f\u3069\u3053\u308d\u306e\u306a\u3044\u62bd\u8c61\u7684\u306a\u8a71\u304c\u51fa\u3066\u304d\u3066\u8abf\u3079\u308b\u307b\u3069\u306b\u6df7\u4e71\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u79c1\u3082\u8a73\u3057\u3044\u3053\u3068\u306f\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306fRx\u3068\u306f\u4f55\u304b\u3068\u3044\u3046\u3053\u3068\u306b\u306f\u89e6\u308c\u305a\u306b\u3001\u305f\u3060UI\u306e\u4ed5\u69d8\u3092\u773a\u3081\u3001\u305d\u306e\u5b9f\u88c5\u30d1\u30bf\u30fc\u30f3\u3092\u898b\u308b\u3068\u3044\u3046\u306e\u304c\u3053\u306e\u8a18\u4e8b\u306e\u4e3b\u65e8\u3067\u3059\u3002\n\n\u30b1\u30fc\u30b91: SearchView\n\n\u4ed5\u69d8\n\n\u5165\u529b\u3055\u308c\u305f\u30af\u30a8\u30ea\u304b\u3089\u5019\u88dc\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\n\u7121\u99c4\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u3089\u306a\u3044\u305f\u3081\u306b\u5165\u529b\u30a4\u30d9\u30f3\u30c8\u304b\u3089300ms\u5f85\u3063\u305f\u3042\u3068\u306e\u5165\u529b\u3092\u30af\u30a8\u30ea\u3068\u3057\u3066\u9001\u4fe1\u3057\u307e\u3059\n\u5165\u529b\u30a8\u30ea\u30a2\u306e\u5de6\u5074\u306b\u306f\u30af\u30a8\u30ea\u3092\u524a\u9664\u3059\u308b\u30dc\u30bf\u30f3\u3092\u7f6e\u304d\u307e\u3059\n\u5165\u529b\u30a8\u30ea\u30a2\u304c\u7a7a\u306e\u3068\u304d\u306b\u524a\u9664\u30dc\u30bf\u30f3\u306f\u975e\u8868\u793a\u306b\u306a\u308a\u307e\u3059\n\n\n\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\n\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u306a\u306e\u3067\u5019\u88dc\u306e\u30ea\u30b9\u30c8\u306f\u9069\u5f53\u306a\u5358\u8a9e\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5b9f\u88c5\n\u307e\u305a\u30ec\u30a4\u30a2\u30a6\u30c8\u3067\u3059\u304c\u3001\u6271\u3044\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306bToolbar\u3068EditText\u3092\u5185\u5305\u3057\u305f\u30ab\u30b9\u30bf\u30e0\u30d3\u30e5\u30fc\u3092\u4f5c\u308a\u307e\u3059\u3002\npublic class SearchView extends FrameLayout {\n\n    private void setup() {\n        View.inflate(getContext(), R.layout.view_search, this);\n        ...\n    }\n}\n\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u4f7f\u3044\u305f\u3044\u7b87\u6240\u306bSearchView\u3092\u7f6e\u304f\u3060\u3051\u3067\u6a5f\u80fd\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n<rejasupotaro.sample.view.components.SearchView\n        android:id=\"@+id/search_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"@dimen/spacing_medium\" />\n\n\u6b21\u306b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u307e\u3059\u3002\n\n\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u306f\u4f55\u3082\u305b\u305a\u306b300ms\u5f85\u3063\u305f\u3042\u3068\u306e\u30af\u30a8\u30ea\u304c\u6d41\u308c\u3066\u304f\u308b\u3068\u4fbf\u5229\u305d\u3046\u3067\u3059\u3002\n// \u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba.java\nsearchView.observe()\n        // \u4f7f\u3046\u5074\u306f\u6d41\u308c\u3066\u304d\u305f\u30af\u30a8\u30ea\u3092\u51e6\u7406\u3059\u308b\u3060\u3051\n        .subscribe(this::updateSuggestionList);\n\n\u524a\u9664\u30dc\u30bf\u30f3\u3092\u8868\u793a\u3059\u308b\u304b\u3069\u3046\u304b\u306fSearchView\u81ea\u8eab\u304c\u7ba1\u7406\u3059\u308b\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\u3055\u3066\u3001300ms\u306e\u30a6\u30a7\u30a4\u30c8\u3068\u5408\u308f\u305b\u308b\u3068SearchView\u306eObserve\u30e1\u30bd\u30c3\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n// SearchView.java\npublic Observable<String> observe() {\n    // SearchView\u81ea\u8eab\u304c\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u306b\u5bfe\u3057\u3066\u30a4\u30d9\u30f3\u30c8\u3092\u6d41\u3059\n    return Observable.create(this)\n            .map(query -> {\n                // \u5165\u529b\u3055\u308c\u308b\u305f\u3073\u7a7a\u304b\u3069\u3046\u304b\u306e\u5224\u5b9a\u3092\u884c\u3063\u3066\n                // \u524a\u9664\u30dc\u30bf\u30f3\u306e\u8868\u793a/\u975e\u8868\u793a\u3092\u5207\u308a\u66ff\u3048\u308b\n                if (TextUtils.isEmpty(query)) {\n                    clearButton.setVisibility(View.GONE);\n                } else {\n                    clearButton.setVisibility(View.VISIBLE);\n                }\n                return query;\n            })\n            // \u3053\u3053\u3067300ms\u5f85\u3064\u3088\u3046\u306b\u3057\u3066\u30a4\u30d9\u30f3\u30c8\u3092\u9593\u5f15\u304f\n            .debounce(DEBOUNCE_WAIT, TimeUnit.MILLISECONDS, Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread());\n}\n\nSearchView\u304b\u3089\u30a4\u30d9\u30f3\u30c8\u3092\u6d41\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306bOnSubscribe\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\ncall\u306f\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u304c\u6765\u308b\u305f\u3073\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002call\u306e\u5f15\u6570\u306esubscriber\u304c\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u306b\u3042\u305f\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u304c\u6765\u305f\u3089TextChangedListener\u3068\u7e4b\u3050\u3068\u3044\u3046\u4ed5\u4e8b\u3092\u3057\u3066\u3044\u307e\u3059\u3002\npublic class SearchView extends FrameLayout implements OnSubscribe<String> {\n    @Override\n    public void call(Subscriber<? super String> subscriber) {\n        Assertions.assertUiThread();\n\n        final TextWatcherAdapter listener = new TextWatcherAdapter() {\n            @Override\n            public void onTextChanged(String text, int length) {\n                subscriber.onNext(text);\n            }\n        };\n\n        final Subscription subscription = AndroidSubscriptions\n                .unsubscribeInUiThread(() -> queryInput.removeTextChangedListener(listener));\n\n        queryInput.addTextChangedListener(listener);\n        subscriber.add(subscription);\n    }\n}\n\n\u3053\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u3068\u30a4\u30d9\u30f3\u30c8\u304c\u8d77\u3053\u308b\u3082\u306e\u306e\u95a2\u4fc2\u304c1\u5bfe1\u3067\u3001\u4e21\u8005\u306e\u9593\u306b\u51e6\u7406\u3092\u631f\u3080\u3068\u3044\u3046\u30d1\u30bf\u30fc\u30f3\u3067\u3057\u305f\u3002\n\n\u30b1\u30fc\u30b92: \u8907\u6570\u306e\u30d3\u30e5\u30fc\u306e\u30d5\u30a9\u30fc\u30ab\u30b9\n\n\u4ed5\u69d8\n\n\u5165\u529b\u6b04\u306e\u30ea\u30b9\u30c8\u304c\u3042\u3063\u3066\u3001\u4e00\u884c\u306e\u4e2d\u306b\u8907\u6570\u306e\u5165\u529b\u30a8\u30ea\u30a2\u304c\u3042\u308a\u307e\u3059\n\u30ea\u30b9\u30c8\u306e\u8868\u306f\u53f3\u306b\u3042\u308b\u524a\u9664\u30dc\u30bf\u30f3\u3067\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n\u884c\u306e\u4e2d\u306e\u3044\u305a\u308c\u304b\u306e\u30d3\u30e5\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u308b\u3068\u304d\u306e\u307f\u524a\u9664\u30dc\u30bf\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\n\n\n\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\n\n\n\u5b9f\u88c5\n\u4eca\u56de\u306f\u307e\u305a\u3001\u666e\u901a\u306b\u30ea\u30b9\u30ca\u30fc\u3092\u4f7f\u3063\u305f\u5b9f\u88c5\u3092\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u3044\u305a\u308c\u304b\u306eEditText\u304c\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u6301\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u524a\u9664\u30dc\u30bf\u30f3\u306e\u8868\u793a/\u975e\u8868\u793a\u3092\u5207\u308a\u66ff\u3048\u308c\u3070\u826f\u3044\u306e\u3067\u3001OnFocusChange\u3092\u62fe\u3044\u307e\u3059\u3002\n// \u30ea\u30b9\u30c8\u30a2\u30a4\u30c6\u30e0.java\neditText1.setOnFocusChangeListener((v, hasFocus) -> {\n    updateDeleteButtonVisibility(hasFocus || editText2.hasFocus());\n});\neditText2.setOnFocusChangeListener((v, hasFocus) -> {\n    updateDeleteButtonVisibility(hasFocus || editText1.hasFocus());\n});\n\nprivate void updateDeleteButtonVisibility(boolean hasFocus) {\n    if (hasFocus) {\n        deleteButton.setVisibility(View.VISIBLE);\n    } else {\n        deleteButton.setVisibility(View.INVISIBLE);\n    }\n}\n\n\u3053\u308c\u3092Rx\u3067\u66f8\u304f\u306a\u3089\u30012\u3064\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u5408\u4f53\u3055\u305b\u3066\u8868\u793a\u3059\u3079\u304d\u304b\u3068\u3044\u3046\u65b0\u3057\u3044\u30a4\u30d9\u30f3\u30c8\u3092\u6d41\u3059\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n// \u30ea\u30b9\u30c8\u30a2\u30a4\u30c6\u30e0.java\nObservable<Boolean> o1 = Observable.create(new OnSubscribeViewFocus(editText1, true));\nObservable<Boolean> o2 = Observable.create(new OnSubscribeViewFocus(editText2, true));\nObservable.combineLatest(o1, o2, (f1, f2) -> f1 || f2)\n                .subscribe(hasFocus -> {\n                    if (hasFocus) {\n                        removeButton.setVisibility(View.VISIBLE);\n                    } else {\n                        removeButton.setVisibility(View.INVISIBLE);\n                    }\n                });\n\n\u3053\u306e\u5b9f\u88c5\u306e\u826f\u3044\u3068\u3053\u308d\u306f\u3001\u3042\u3068\u3067\u4ed5\u69d8\u304c\u5909\u308f\u3063\u3066\u30d3\u30e5\u30fc\u304c\u5897\u3048\u305f\u308a\u8868\u793a\u6761\u4ef6\u304c\u5909\u308f\u3063\u3066\u3082\u67d4\u8edf\u306b\u5bfe\u5fdc\u3067\u304d\u308b\u3068\u3053\u308d\u3067\u3059\u3002\n\n\u3053\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u3068\u30a4\u30d9\u30f3\u30c8\u304c\u8d77\u3053\u308b\u3082\u306e\u306e\u95a2\u4fc2\u304c1\u5bfe\u591a\u3067\u3001\u8907\u6570\u306e\u6761\u4ef6\u3092\u307e\u3068\u3081\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3057\u305f\u3002\n\n\u30b1\u30fc\u30b93: \u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\n\n\u4ed5\u69d8\n\n\u518d\u751f\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\u306e\u518d\u751f\u306e\u6e96\u5099\u304c\u59cb\u307e\u308a\u307e\u3059\n\u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\u306f \u505c\u6b62->\u6e96\u5099\u4e2d->\u518d\u751f\u4e2d->\u505c\u6b62 \u306e\u3088\u3046\u306a\u72b6\u614b\u306e\u5909\u5316\u306e\u4ed5\u65b9\u3092\u3057\u307e\u3059\n\u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\u306e\u72b6\u614b\u306e\u5909\u5316\u306b\u5408\u308f\u305b\u3066\u518d\u751f\u30dc\u30bf\u30f3\u306e\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u3001\u901a\u77e5\u306e\u5207\u308a\u66ff\u3048\u3092\u884c\u3044\u307e\u3059\n\u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\u306f\u518d\u751f\u30dc\u30bf\u30f3\u3001\u901a\u77e5\u3001\u30ed\u30c3\u30af\u30b9\u30af\u30ea\u30fc\u30f3\u3001\u30c4\u30fc\u30eb\u30d0\u30fc\u304b\u3089\u518d\u751f\u3068\u505c\u6b62\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n\n\n\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\n\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u306a\u306e\u3067\u518d\u751f\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u30683\u79d2\u9593\u6e96\u5099\u4e2d\u306b\u306a\u308a\u3001\u305d\u306e\u5f8c3\u79d2\u9593\u518d\u751f\u4e2d\u306b\u306a\u3063\u3066\u505c\u6b62\u306b\u306a\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5b9f\u88c5\nNotificationManager\u3084PlayButton\u306a\u3069\u3001\u8907\u6570\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304cMediaPlayer\u306e\u72b6\u614b\u3092\u76e3\u8996\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u306e\u65b9\u5411\u3078\u306e\u76e3\u8996\u306f\u3001\u3053\u308c\u307e\u3067\u306e\u3088\u3046\u306bOnSubscribe\u3092\u4f5c\u3063\u3066\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u304c\u305d\u308c\u3092\u898b\u308b\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308b\u306e\u3067\u7701\u7565\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306fMediaPlayer\u306e\u591a\u6570\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u72b6\u614b\u304c\u5909\u5316\u3055\u305b\u3089\u308c\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\u3067\u306f\u3001\u4e0a\u306e\u56f3\u306e\u77e2\u5370\u3092\u53cd\u5bfe\u65b9\u5411\u306b\u5411\u3051\u3066\u76f8\u4e92\u306b\u76e3\u8996\u3057\u5408\u3046\u306e\u304c\u826f\u3044\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\n\n\u3053\u3053\u3067\u3001Jake Wharton\u306eGoogle+\u3067\u306e\u3042\u308b\u6295\u7a3f\u306b\u3064\u3044\u3066\u898b\u3066\u307f\u307e\u3059\u3002\n\nThomas BruyelleJan 23, 2014\n+Jake Wharton I noticed you don't use Otto, probably because you use RxJava to dispatch events.\nWhat are the benefits of this choice ?\ufeff\nJake WhartonJan 23, 2014\n+Thomas Bruyelle I don't have any event-based indicators in this app. It really depends on the use case whether I'd go for using Otto or RxJava. I may even use both in the same app for different use cases.\ufeff\nThe semantics of event distribution is different.\nOtto will call subscribers for not only people listening to the class, but to any base classes or interfaces. This means I could send a String as an event and it would notify somebody that was subscribed to CharSequence. Otto also has explicit prevention of re-entrant events (a subscriber posts and event) which prevents potential infinite recursion.\nRxJava, on the other hand, wants a specific Subject for each event type that you explicitly inject and subscribe to. This is nice because you inject the Subject to only hear about location updates. You can also use the functional pipeline to hook onto these events and automatically trigger other events or actions just by subscribing them to each other. Where you might see problems is if you want to listen to a lot of things. If you have 10 different Subjects you want to listen to that's 10 injections and 10 subscriptions that you have to maintain.\nSo depending on how you are going to create and use events you might choose one over the other.\ufeff\n\n\nThe u2020 app! - Jake Wharton\n\nRxJava\u3068Otto\u3092\u6bd4\u3079\u305f\u3068\u304d\u306e\u512a\u4f4d\u70b9\u306b\u3064\u3044\u3066\u8cea\u554f\u304c\u6765\u3066\u3001Jake\u306fRxJava\u306fObserver\u30d1\u30bf\u30fc\u30f3\u3067\u3001Otto\u306fPub-sub\u30d1\u30bf\u30fc\u30f3\u3067\u3042\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u306e\u6271\u3046\u30bb\u30de\u30f3\u30c6\u30a3\u30af\u30b9\u304c\u9055\u3046\u304b\u3089\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5408\u308f\u305b\u3066\u4f7f\u3044\u5206\u3051\u3066\u3044\u308b\u3068\u7b54\u3048\u3066\u3044\u307e\u3057\u305f\u3002\n\u6700\u521d\u306b\u8aad\u3093\u3060\u3068\u304d\u306f\u3042\u307e\u308a\u30d4\u30f3\u3068\u6765\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u5b9f\u88c5\u3092\u66f8\u3044\u3066\u3044\u308b\u3068\u304d\u306b\u3053\u306e\u6295\u7a3f\u306e\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u8151\u306b\u843d\u3061\u307e\u3057\u305f\u3002\n\u3053\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u305f\u3061\u306f\u4ed6\u306e\u8ab0\u3067\u3082\u306a\u304f \"MediaPlayer\u306e\" \u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u306e\u3067Observer\u3067\u76e3\u8996\u3092\u884c\u3063\u3066\u3001\u4e00\u65b9MediaPlayer\u306f\u547c\u3073\u51fa\u3057\u5143\u304c\u3069\u3046\u3042\u308c\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u306e\u3067\u3001Publish\u3055\u308c\u305f\u30a4\u30d9\u30f3\u30c8\u3092Subscribe\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067MediaPlayer\u306b\u624b\u3092\u52a0\u3048\u305a\u306b\u547c\u3073\u51fa\u3057\u5143\u3092\u8ffd\u52a0\u3057\u305f\u308a\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u307e\u3068\u3081\nAndroid\u3067\u306fRx\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u30fc\u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u304c\u4fbf\u5229\u3068\u3044\u3046\u98a8\u6f6e\u3067\u3059\u304c\u3001\u30d3\u30e5\u30fc\u306e\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u306b\u3082\u4fbf\u5229\u3060\u3068\u3044\u3046\u3053\u3068\u3092\u8a00\u3044\u305f\u304b\u3063\u305f\u306e\u3067\u3057\u305f\u3002\n\u3057\u304b\u3057\u3001\u3053\u3053\u307e\u3067\u898b\u3066\u304d\u305f\u3088\u3046\u306b\u3001Rx\u3092\u5165\u308c\u305f\u304b\u3089\u3068\u3044\u3063\u3066\u3059\u3079\u3066\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u3092Observable\u306b\u3059\u3079\u304d\u304b\u3068\u3044\u3046\u3068\u305d\u3046\u3067\u306f\u306a\u304f\u3001\u72b6\u6cc1\u306b\u5fdc\u3058\u3066Listener\u3068Observer\u3068Pub-sub\u3092\u4f7f\u3044\u5206\u3051\u308b\u306e\u304c\u826f\u3044\u3067\u3059\u3002\u3053\u3053\u306b\u66f8\u3044\u305f\u30d1\u30bf\u30fc\u30f3\u304c\u3059\u3079\u3066\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3069\u3046\u3044\u3046\u5834\u9762\u3067\u4f55\u3092\u4f7f\u3046\u3079\u304d\u304b\u306f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u4f9d\u5b58\u3059\u308b\u306e\u3067\u3001Jake\u304c\u8a00\u3046\u3088\u3046\u306b\u305f\u304f\u3055\u3093\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3057\u304b\u306a\u3044\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n# \u306f\u3058\u3081\u306b\n\n\u3053\u306e\u8a18\u4e8b\u306f\u30dd\u30a8\u30e0\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306a\u3093\u3066\u4ef0\u3005\u3057\u3044\u547c\u3073\u540d\u304c\u4ed8\u3044\u3066\u3044\u307e\u3059\u304c\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u6d41\u3059\u5074\u3068\u53d7\u3051\u308b\u5074\u304c\u3044\u3066\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u3069\u306e\u3088\u3046\u306b\u6d41\u3059\u304b\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u304f\u3089\u3044\u306e\u7406\u89e3\u3067\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n![Screen Shot 2015-05-24 at 10.44.20.png](https://qiita-image-store.s3.amazonaws.com/0/179/ebd6b422-28b4-6a33-67c9-81635586ec01.png)\n\nRx\u3084FRP\u3067\u691c\u7d22\u3059\u308b\u3068\u96e3\u3057\u3044\u30e1\u30bf\u30d5\u30a1\u306b\u3088\u308b\u305f\u3068\u3048\u8a71\u3084\u3001\u63b4\u307f\u3069\u3053\u308d\u306e\u306a\u3044\u62bd\u8c61\u7684\u306a\u8a71\u304c\u51fa\u3066\u304d\u3066\u8abf\u3079\u308b\u307b\u3069\u306b\u6df7\u4e71\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u79c1\u3082\u8a73\u3057\u3044\u3053\u3068\u306f\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306fRx\u3068\u306f\u4f55\u304b\u3068\u3044\u3046\u3053\u3068\u306b\u306f\u89e6\u308c\u305a\u306b\u3001\u305f\u3060UI\u306e\u4ed5\u69d8\u3092\u773a\u3081\u3001\u305d\u306e\u5b9f\u88c5\u30d1\u30bf\u30fc\u30f3\u3092\u898b\u308b\u3068\u3044\u3046\u306e\u304c\u3053\u306e\u8a18\u4e8b\u306e\u4e3b\u65e8\u3067\u3059\u3002\n\n# \u30b1\u30fc\u30b91: SearchView\n\n## \u4ed5\u69d8\n\n- \u5165\u529b\u3055\u308c\u305f\u30af\u30a8\u30ea\u304b\u3089\u5019\u88dc\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\n- \u7121\u99c4\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u3089\u306a\u3044\u305f\u3081\u306b\u5165\u529b\u30a4\u30d9\u30f3\u30c8\u304b\u3089300ms\u5f85\u3063\u305f\u3042\u3068\u306e\u5165\u529b\u3092\u30af\u30a8\u30ea\u3068\u3057\u3066\u9001\u4fe1\u3057\u307e\u3059\n- \u5165\u529b\u30a8\u30ea\u30a2\u306e\u5de6\u5074\u306b\u306f\u30af\u30a8\u30ea\u3092\u524a\u9664\u3059\u308b\u30dc\u30bf\u30f3\u3092\u7f6e\u304d\u307e\u3059\n- \u5165\u529b\u30a8\u30ea\u30a2\u304c\u7a7a\u306e\u3068\u304d\u306b\u524a\u9664\u30dc\u30bf\u30f3\u306f\u975e\u8868\u793a\u306b\u306a\u308a\u307e\u3059\n\n## \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\n\n![search_view.gif](https://qiita-image-store.s3.amazonaws.com/0/179/77ef2947-ca14-ba3a-6958-f9cc80a10a70.gif)\n\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u306a\u306e\u3067\u5019\u88dc\u306e\u30ea\u30b9\u30c8\u306f\u9069\u5f53\u306a\u5358\u8a9e\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n## \u5b9f\u88c5\n\n\u307e\u305a\u30ec\u30a4\u30a2\u30a6\u30c8\u3067\u3059\u304c\u3001\u6271\u3044\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306bToolbar\u3068EditText\u3092\u5185\u5305\u3057\u305f\u30ab\u30b9\u30bf\u30e0\u30d3\u30e5\u30fc\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n```java\npublic class SearchView extends FrameLayout {\n\n    private void setup() {\n        View.inflate(getContext(), R.layout.view_search, this);\n        ...\n    }\n}\n```\n\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u4f7f\u3044\u305f\u3044\u7b87\u6240\u306bSearchView\u3092\u7f6e\u304f\u3060\u3051\u3067\u6a5f\u80fd\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```xml\n<rejasupotaro.sample.view.components.SearchView\n        android:id=\"@+id/search_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"@dimen/spacing_medium\" />\n```\n\n\u6b21\u306b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u307e\u3059\u3002\n\n![Screen Shot 2015-05-24 at 10.44.40.png](https://qiita-image-store.s3.amazonaws.com/0/179/259138fb-3e48-e736-9969-0a5e4b70371c.png)\n\n\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u306f\u4f55\u3082\u305b\u305a\u306b300ms\u5f85\u3063\u305f\u3042\u3068\u306e\u30af\u30a8\u30ea\u304c\u6d41\u308c\u3066\u304f\u308b\u3068\u4fbf\u5229\u305d\u3046\u3067\u3059\u3002\n\n```java\n// \u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba.java\nsearchView.observe()\n        // \u4f7f\u3046\u5074\u306f\u6d41\u308c\u3066\u304d\u305f\u30af\u30a8\u30ea\u3092\u51e6\u7406\u3059\u308b\u3060\u3051\n        .subscribe(this::updateSuggestionList);\n```\n\n\u524a\u9664\u30dc\u30bf\u30f3\u3092\u8868\u793a\u3059\u308b\u304b\u3069\u3046\u304b\u306fSearchView\u81ea\u8eab\u304c\u7ba1\u7406\u3059\u308b\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\u3055\u3066\u3001300ms\u306e\u30a6\u30a7\u30a4\u30c8\u3068\u5408\u308f\u305b\u308b\u3068SearchView\u306eObserve\u30e1\u30bd\u30c3\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```java\n// SearchView.java\npublic Observable<String> observe() {\n    // SearchView\u81ea\u8eab\u304c\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u306b\u5bfe\u3057\u3066\u30a4\u30d9\u30f3\u30c8\u3092\u6d41\u3059\n    return Observable.create(this)\n            .map(query -> {\n                // \u5165\u529b\u3055\u308c\u308b\u305f\u3073\u7a7a\u304b\u3069\u3046\u304b\u306e\u5224\u5b9a\u3092\u884c\u3063\u3066\n                // \u524a\u9664\u30dc\u30bf\u30f3\u306e\u8868\u793a/\u975e\u8868\u793a\u3092\u5207\u308a\u66ff\u3048\u308b\n                if (TextUtils.isEmpty(query)) {\n                    clearButton.setVisibility(View.GONE);\n                } else {\n                    clearButton.setVisibility(View.VISIBLE);\n                }\n                return query;\n            })\n            // \u3053\u3053\u3067300ms\u5f85\u3064\u3088\u3046\u306b\u3057\u3066\u30a4\u30d9\u30f3\u30c8\u3092\u9593\u5f15\u304f\n            .debounce(DEBOUNCE_WAIT, TimeUnit.MILLISECONDS, Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread());\n}\n```\n\nSearchView\u304b\u3089\u30a4\u30d9\u30f3\u30c8\u3092\u6d41\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306bOnSubscribe\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\ncall\u306f\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u304c\u6765\u308b\u305f\u3073\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002call\u306e\u5f15\u6570\u306esubscriber\u304c\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u306b\u3042\u305f\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u304c\u6765\u305f\u3089TextChangedListener\u3068\u7e4b\u3050\u3068\u3044\u3046\u4ed5\u4e8b\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\n```java\npublic class SearchView extends FrameLayout implements OnSubscribe<String> {\n    @Override\n    public void call(Subscriber<? super String> subscriber) {\n        Assertions.assertUiThread();\n\n        final TextWatcherAdapter listener = new TextWatcherAdapter() {\n            @Override\n            public void onTextChanged(String text, int length) {\n                subscriber.onNext(text);\n            }\n        };\n\n        final Subscription subscription = AndroidSubscriptions\n                .unsubscribeInUiThread(() -> queryInput.removeTextChangedListener(listener));\n\n        queryInput.addTextChangedListener(listener);\n        subscriber.add(subscription);\n    }\n}\n```\n\n\u3053\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u3068\u30a4\u30d9\u30f3\u30c8\u304c\u8d77\u3053\u308b\u3082\u306e\u306e\b\u95a2\u4fc2\u304c1\u5bfe1\u3067\u3001\u4e21\u8005\u306e\u9593\u306b\u51e6\u7406\u3092\u631f\u3080\u3068\u3044\u3046\u30d1\u30bf\u30fc\u30f3\u3067\u3057\u305f\u3002\n\n# \u30b1\u30fc\u30b92: \u8907\u6570\u306e\u30d3\u30e5\u30fc\u306e\u30d5\u30a9\u30fc\u30ab\u30b9\n\n## \u4ed5\u69d8\n\n- \u5165\u529b\u6b04\u306e\u30ea\u30b9\u30c8\u304c\u3042\u3063\u3066\u3001\u4e00\u884c\u306e\u4e2d\u306b\u8907\u6570\u306e\u5165\u529b\u30a8\u30ea\u30a2\u304c\u3042\u308a\u307e\u3059\n- \u30ea\u30b9\u30c8\u306e\u8868\u306f\u53f3\u306b\u3042\u308b\u524a\u9664\u30dc\u30bf\u30f3\u3067\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n- \u884c\u306e\u4e2d\u306e\u3044\u305a\u308c\u304b\u306e\u30d3\u30e5\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u308b\u3068\u304d\u306e\u307f\u524a\u9664\u30dc\u30bf\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\n\n## \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\n\n![focus.gif](https://qiita-image-store.s3.amazonaws.com/0/179/959acd57-2b9f-96b4-6ffa-28387e080d61.gif)\n\n## \u5b9f\u88c5\n\n\u4eca\u56de\u306f\u307e\u305a\u3001\u666e\u901a\u306b\u30ea\u30b9\u30ca\u30fc\u3092\u4f7f\u3063\u305f\u5b9f\u88c5\u3092\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u3044\u305a\u308c\u304b\u306eEditText\u304c\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u6301\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u524a\u9664\u30dc\u30bf\u30f3\u306e\u8868\u793a/\u975e\u8868\u793a\u3092\u5207\u308a\u66ff\u3048\u308c\u3070\u826f\u3044\u306e\u3067\u3001OnFocusChange\u3092\u62fe\u3044\u307e\u3059\u3002\n\n```java\n// \u30ea\u30b9\u30c8\u30a2\u30a4\u30c6\u30e0.java\neditText1.setOnFocusChangeListener((v, hasFocus) -> {\n    updateDeleteButtonVisibility(hasFocus || editText2.hasFocus());\n});\neditText2.setOnFocusChangeListener((v, hasFocus) -> {\n    updateDeleteButtonVisibility(hasFocus || editText1.hasFocus());\n});\n\nprivate void updateDeleteButtonVisibility(boolean hasFocus) {\n    if (hasFocus) {\n        deleteButton.setVisibility(View.VISIBLE);\n    } else {\n        deleteButton.setVisibility(View.INVISIBLE);\n    }\n}\n```\n\n\u3053\u308c\u3092Rx\u3067\u66f8\u304f\u306a\u3089\u30012\u3064\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u5408\u4f53\u3055\u305b\u3066\u8868\u793a\u3059\u3079\u304d\u304b\u3068\u3044\u3046\u65b0\u3057\u3044\u30a4\u30d9\u30f3\u30c8\u3092\u6d41\u3059\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\n```java\n// \u30ea\u30b9\u30c8\u30a2\u30a4\u30c6\u30e0.java\nObservable<Boolean> o1 = Observable.create(new OnSubscribeViewFocus(editText1, true));\nObservable<Boolean> o2 = Observable.create(new OnSubscribeViewFocus(editText2, true));\nObservable.combineLatest(o1, o2, (f1, f2) -> f1 || f2)\n                .subscribe(hasFocus -> {\n                    if (hasFocus) {\n                        removeButton.setVisibility(View.VISIBLE);\n                    } else {\n                        removeButton.setVisibility(View.INVISIBLE);\n                    }\n                });\n```\n\n\u3053\u306e\u5b9f\u88c5\u306e\u826f\u3044\u3068\u3053\u308d\u306f\u3001\u3042\u3068\u3067\u4ed5\u69d8\u304c\u5909\u308f\u3063\u3066\u30d3\u30e5\u30fc\u304c\u5897\u3048\u305f\u308a\u8868\u793a\u6761\u4ef6\u304c\u5909\u308f\u3063\u3066\u3082\u67d4\u8edf\u306b\u5bfe\u5fdc\u3067\u304d\u308b\u3068\u3053\u308d\u3067\u3059\u3002\n\n![Screen Shot 2015-05-24 at 14.47.28.png](https://qiita-image-store.s3.amazonaws.com/0/179/c82d8dc2-4aa6-e278-ea69-49cd5516d51b.png)\n\n\u3053\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u3068\u30a4\u30d9\u30f3\u30c8\u304c\u8d77\u3053\u308b\u3082\u306e\u306e\u95a2\u4fc2\u304c1\u5bfe\u591a\u3067\u3001\u8907\u6570\u306e\u6761\u4ef6\u3092\u307e\u3068\u3081\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3057\u305f\u3002\n\n# \u30b1\u30fc\u30b93: \u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\n\n## \u4ed5\u69d8\n\n- \u518d\u751f\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\u306e\u518d\u751f\u306e\u6e96\u5099\u304c\u59cb\u307e\u308a\u307e\u3059\n- \u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\u306f `\u505c\u6b62->\u6e96\u5099\u4e2d->\u518d\u751f\u4e2d->\u505c\u6b62` \u306e\u3088\u3046\u306a\u72b6\u614b\u306e\u5909\u5316\u306e\u4ed5\u65b9\u3092\u3057\u307e\u3059\n- \u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\u306e\u72b6\u614b\u306e\u5909\u5316\u306b\u5408\u308f\u305b\u3066\u518d\u751f\u30dc\u30bf\u30f3\u306e\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u3001\u901a\u77e5\u306e\u5207\u308a\u66ff\u3048\u3092\u884c\u3044\u307e\u3059\n- \u30e1\u30c7\u30a3\u30a2\u30d7\u30ec\u30fc\u30e4\u30fc\u306f\u518d\u751f\u30dc\u30bf\u30f3\u3001\u901a\u77e5\u3001\u30ed\u30c3\u30af\u30b9\u30af\u30ea\u30fc\u30f3\u3001\u30c4\u30fc\u30eb\u30d0\u30fc\u304b\u3089\u518d\u751f\u3068\u505c\u6b62\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n\n## \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\n\n![jukebox.gif](https://qiita-image-store.s3.amazonaws.com/0/179/28f82cbc-d07e-cc82-7e25-f91dc4934a23.gif)\n\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u306a\u306e\u3067\u518d\u751f\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u30683\u79d2\u9593\u6e96\u5099\u4e2d\u306b\u306a\u308a\u3001\u305d\u306e\u5f8c3\u79d2\u9593\u518d\u751f\u4e2d\u306b\u306a\u3063\u3066\u505c\u6b62\u306b\u306a\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n## \u5b9f\u88c5\n\nNotificationManager\u3084PlayButton\u306a\u3069\u3001\u8907\u6570\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304cMediaPlayer\u306e\u72b6\u614b\u3092\u76e3\u8996\u3057\u3066\u3044\u307e\u3059\u3002\n\n![Screen Shot 2015-05-24 at 10.43.52.png](https://qiita-image-store.s3.amazonaws.com/0/179/fd93e321-8966-b771-3c28-8fd7a65f8059.png)\n\n\u305d\u306e\u65b9\u5411\u3078\u306e\u76e3\u8996\u306f\u3001\u3053\u308c\u307e\u3067\u306e\u3088\u3046\u306bOnSubscribe\u3092\u4f5c\u3063\u3066\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u304c\u305d\u308c\u3092\u898b\u308b\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308b\u306e\u3067\u7701\u7565\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306fMediaPlayer\u306e\u591a\u6570\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u72b6\u614b\u304c\u5909\u5316\u3055\u305b\u3089\u308c\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\u3067\u306f\u3001\u4e0a\u306e\u56f3\u306e\u77e2\u5370\u3092\u53cd\u5bfe\u65b9\u5411\u306b\u5411\u3051\u3066\u76f8\u4e92\u306b\u76e3\u8996\u3057\u5408\u3046\u306e\u304c\u826f\u3044\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\n\n![Screen Shot 2015-05-24 at 14.47.09.png](https://qiita-image-store.s3.amazonaws.com/0/179/b8b91dfa-5f40-7ae9-768d-dc827f911b7f.png)\n\n\u3053\u3053\u3067\u3001Jake Wharton\u306eGoogle+\u3067\u306e\u3042\u308b\u6295\u7a3f\u306b\u3064\u3044\u3066\u898b\u3066\u307f\u307e\u3059\u3002\n\n> Thomas BruyelleJan 23, 2014\n+Jake Wharton I noticed you don't use Otto, probably because you use RxJava to dispatch events.\nWhat are the benefits of this choice ?\ufeff\n\n> Jake WhartonJan 23, 2014\n+Thomas Bruyelle I don't have any event-based indicators in this app. It really depends on the use case whether I'd go for using Otto or RxJava. I may even use both in the same app for different use cases.\ufeff\n\n> The semantics of event distribution is different.\n\n> Otto will call subscribers for not only people listening to the class, but to any base classes or interfaces. This means I could send a String as an event and it would notify somebody that was subscribed to CharSequence. Otto also has explicit prevention of re-entrant events (a subscriber posts and event) which prevents potential infinite recursion.\n\n> RxJava, on the other hand, wants a specific Subject for each event type that you explicitly inject and subscribe to. This is nice because you inject the Subject<Location> to only hear about location updates. You can also use the functional pipeline to hook onto these events and automatically trigger other events or actions just by subscribing them to each other. Where you might see problems is if you want to listen to a lot of things. If you have 10 different Subjects you want to listen to that's 10 injections and 10 subscriptions that you have to maintain.\n\n> So depending on how you are going to create and use events you might choose one over the other.\ufeff\n\n- [The u2020 app! - Jake Wharton](https://plus.google.com/+JakeWharton/posts/KojpGy5eMen)\n\nRxJava\u3068Otto\u3092\u6bd4\u3079\u305f\u3068\u304d\u306e\u512a\u4f4d\u70b9\u306b\u3064\u3044\u3066\u8cea\u554f\u304c\u6765\u3066\u3001Jake\u306fRxJava\u306fObserver\u30d1\u30bf\u30fc\u30f3\u3067\u3001Otto\u306fPub-sub\u30d1\u30bf\u30fc\u30f3\u3067\u3042\u308a\u3001\u30a4\u30d9\u30f3\u30c8\u306e\u6271\u3046\u30bb\u30de\u30f3\u30c6\u30a3\u30af\u30b9\u304c\u9055\u3046\u304b\u3089\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5408\u308f\u305b\u3066\u4f7f\u3044\u5206\u3051\u3066\u3044\u308b\u3068\u7b54\u3048\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u6700\u521d\u306b\u8aad\u3093\u3060\u3068\u304d\u306f\u3042\u307e\u308a\u30d4\u30f3\u3068\u6765\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u5b9f\u88c5\u3092\u66f8\u3044\u3066\u3044\u308b\u3068\u304d\u306b\u3053\u306e\u6295\u7a3f\u306e\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u8151\u306b\u843d\u3061\u307e\u3057\u305f\u3002\n\u3053\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u4eba\u305f\u3061\u306f\u4ed6\u306e\u8ab0\u3067\u3082\u306a\u304f \"MediaPlayer\u306e\" \u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u306e\u3067Observer\u3067\u76e3\u8996\u3092\u884c\u3063\u3066\u3001\u4e00\u65b9MediaPlayer\u306f\u547c\u3073\u51fa\u3057\u5143\u304c\u3069\u3046\u3042\u308c\u30a4\u30d9\u30f3\u30c8\u304c\u6b32\u3057\u3044\u306e\u3067\u3001Publish\u3055\u308c\u305f\u30a4\u30d9\u30f3\u30c8\u3092Subscribe\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067MediaPlayer\u306b\u624b\u3092\u52a0\u3048\u305a\u306b\u547c\u3073\u51fa\u3057\u5143\u3092\u8ffd\u52a0\u3057\u305f\u308a\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n# \u307e\u3068\u3081\n\nAndroid\u3067\u306fRx\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u30fc\u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u304c\u4fbf\u5229\u3068\u3044\u3046\u98a8\u6f6e\u3067\u3059\u304c\u3001\u30d3\u30e5\u30fc\u306e\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u306b\u3082\u4fbf\u5229\u3060\u3068\u3044\u3046\u3053\u3068\u3092\u8a00\u3044\u305f\u304b\u3063\u305f\u306e\u3067\u3057\u305f\u3002\n\u3057\u304b\u3057\u3001\u3053\u3053\u307e\u3067\u898b\u3066\u304d\u305f\u3088\u3046\u306b\u3001Rx\u3092\u5165\u308c\u305f\u304b\u3089\u3068\u3044\u3063\u3066\u3059\u3079\u3066\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u3092Observable\u306b\u3059\u3079\u304d\u304b\u3068\u3044\u3046\u3068\u305d\u3046\u3067\u306f\u306a\u304f\u3001\u72b6\u6cc1\u306b\u5fdc\u3058\u3066Listener\u3068Observer\u3068Pub-sub\u3092\u4f7f\u3044\u5206\u3051\u308b\u306e\u304c\u826f\u3044\u3067\u3059\u3002\u3053\u3053\u306b\u66f8\u3044\u305f\u30d1\u30bf\u30fc\u30f3\u304c\u3059\u3079\u3066\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3069\u3046\u3044\u3046\u5834\u9762\u3067\u4f55\u3092\u4f7f\u3046\u3079\u304d\u304b\u306f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u4f9d\u5b58\u3059\u308b\u306e\u3067\u3001Jake\u304c\u8a00\u3046\u3088\u3046\u306b\u305f\u304f\u3055\u3093\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3057\u304b\u306a\u3044\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n"}