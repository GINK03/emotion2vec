{"context": " More than 1 year has passed since last update.\u4ee5\u524d\u66f8\u3044\u305f\nGrunt \u3067\u8907\u6570\u306e CoffeeScript \u3092\u4e00\u3064\u306e\u7121\u540d\u95a2\u6570\u5185\u306b\u307e\u3068\u3081\u308b \nbrowserify \u3067\u8907\u6570\u306e CoffeeScript \u3092\u4e00\u3064\u306b\u307e\u3068\u3081\u308b \n\u306e\u7d9a\u304d\u3002\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067 ysugimoto \u3055\u3093\u304c\u4f5c\u6210\u3055\u308c\u305f grunt-sprockets \u3092\u4f7f\u3063\u3066 CoffeeScript \u3092\u4e00\u3064\u306e\u7121\u540d\u95a2\u6570\u5185\u306b\u307e\u3068\u3081\u3066\u307f\u308b\u3002\ngrunt-sprockets\u30bf\u30b9\u30af\u30d7\u30e9\u30b0\u30a4\u30f3\u4f5c\u6210\u3068\u30c6\u30b9\u30c8\u3068Travis CI\u307e\u3067\u3084\u3063\u3066\u307f\u308b | \u30d6\u30ed\u30b0 :: Web notes.log\nhttp://blog.wnotes.net/blog/article/create-grunt-task-plugin-and-testing-travis-ci\nGitHub \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u4ee5\u4e0b\u306b\u3042\u308b\u3002\nysugimoto/grunt-sprockets\nhttps://github.com/ysugimoto/grunt-sprockets\n\n\u6e96\u5099\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066 grunt-sprockets \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nCoffee \u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u304b\u3063\u305f\u306e\u3067 grunt-contrib-coffee \u3082\u5165\u308c\u3066\u3044\u308b\u3002\n% mkdir -p sprockets-test/{src/{js,coffee},dest} && cd sprockets-test\n% npm init\n% npm install grunt grunt-contrib-coffee grunt-sprockets --save-dev\n\n\u3053\u308c\u3067\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\nsprockets-test\n \u251c\u2500\u2500 dest\n \u251c\u2500\u2500 node_modules\n \u2502\u00a0\u00a0 \u251c\u2500\u2500 grunt\n \u2502\u00a0\u00a0 \u251c\u2500\u2500 grunt-contrib-coffee\n \u2502\u00a0\u00a0 \u2514\u2500\u2500 grunt-sprockets\n \u251c\u2500\u2500 package.json\n \u2514\u2500\u2500 src\n     \u251c\u2500\u2500 coffee\n     \u2514\u2500\u2500 js\n\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3002\n\nsprockets-test/src/coffee/foo.coffee\nclass Foo\n  name: ->\n    'Foo'\n\n\n\nsprockets-test/src/coffee/bar.coffee\nclass Bar\n  name: ->\n    'Bar'\n\n\n\nsprockets-test/src/js/main.js\n(function() {\n//= require foo.js\n//= require bar.js\n\n  var foo = new Foo();\n  var bar = new Bar();\n\n  console.log(foo.name());\n  console.log(bar.name());\n}).call(this);\n\n\n\u3053\u3053\u3067\u6c17\u3092\u3064\u3051\u306a\u304f\u3066\u306f\u3044\u3051\u306a\u3044\u306e\u3060\u304c\u3001sprockets \u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6( //= require \uff5e )\u304c\u30a4\u30f3\u30c7\u30f3\u30c8\u3055\u308c\u3066\u3044\u308b\u3068\u4e0a\u624b\u304f\u52d5\u4f5c\u3057\u306a\u3044\u3002\nnode_modules/grunt-sprockets/tasks/sprockets.js \u5185\u3067\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u629c\u304d\u51fa\u3057\u3066\u3044\u308b\u6b63\u898f\u8868\u73fe\u304c /^\\/\\/=\\srequire(_tree)?(?:\\s+)?(.+)$/mg \u3068\u884c\u982d\u304b\u3089\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u4e8b\u306b\u3088\u308b\u3063\u307d\u3044\u306e\u3067\u3001\u3053\u306e\u8fba\u5f04\u308c\u3070\u3069\u3046\u306b\u304b\u51fa\u6765\u305d\u3046\u3067\u306f\u3042\u308b\u3002\n\u305f\u3060\u3001\u5143\u3005 Rails \u3067\u4f7f\u3046\u6642\u306f\u78ba\u304b\u306b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u884c\u982d\u958b\u59cb\u306a\u306e\u3067\u305d\u3046\u3044\u3046\u4ed5\u69d8\u3068\u3044\u3046\u4e8b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\u5c11\u306a\u304f\u3068\u3082\u78ba\u8a8d\u6642\u70b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 0.7.0 \u306e grunt-sprockets \u3067\u306f\u884c\u982d\u304b\u3089\u958b\u59cb\u3057\u3066\u3044\u306a\u3044\u3068\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u3002\n\nGruntfile.js\nGruntfile.js \u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f\u3002\n\nsprockets-test/Gruntfile.js\nmodule.exports = function(grunt) {\n    grunt.initConfig({\n        pkg: grunt.file.readJSON('package.json'),\n        coffee: {\n            compile: {\n                options: {\n                    bare: true,\n                },\n                files: [{\n                    expand: true,\n                    cwd: 'src/coffee',\n                    src: ['*.coffee'],\n                    dest: 'src/js/',\n                    ext: '.js',\n                }]\n            }\n        },\n        sprockets: {\n            main: {\n                files: [\n                   'src/js/main.js',\n                ],\n                dest: 'dest/main.js',\n            },\n        },\n    });\n    grunt.loadNpmTasks('grunt-contrib-coffee');\n    grunt.loadNpmTasks('grunt-sprockets');\n    grunt.registerTask('default', ['coffee', 'sprockets']);\n};\n\n\nsprockets \u30bf\u30b9\u30af\u306e\u8a2d\u5b9a\u306f\u307b\u3068\u3093\u3069 concat \u3068\u540c\u3058\u3002\ncoffee \u5074\u3067 bare: true \u3092\u6307\u5b9a\u3057\u3066\u500b\u3005\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7121\u540d\u95a2\u6570\u3067\u30e9\u30c3\u30d7\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u306e\u3082\u540c\u3058\u3002\n\n\u5b9f\u884c\n\u7528\u610f\u304c\u3067\u304d\u305f\u306e\u3067 grunt \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\u3002\n% grunt\nRunning \"coffee:compile\" (coffee) task\n>> 2 files created.\n\nRunning \"sprockets:main\" (sprockets) task\n[Processing]: \"src/js/main.js\" ...\n[Processing]: \"src/js/foo.js\" ...\n[Processing]: \"src/js/bar.js\" ...\nBuild file: dest/main.js ...\n\nDone, without errors.\n\n\u751f\u6210\u3055\u308c\u305f dest/main.js \u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5185\u5bb9\u3002\n\nsprockets-test/dest/main.js\n(function() {\nvar Foo;\n\nFoo = (function() {\n  function Foo() {}\n\n  Foo.prototype.name = function() {\n    return 'Foo';\n  };\n\n  return Foo;\n\n})();\n\nvar Bar;\n\nBar = (function() {\n  function Bar() {}\n\n  Bar.prototype.name = function() {\n    return 'Bar';\n  };\n\n  return Bar;\n\n})();\n\n\n  var foo = new Foo();\n  var bar = new Bar();\n\n  console.log(foo.name());\n  console.log(bar.name());\n}).call(this);\n\n\nrequire \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u6307\u5b9a\u3057\u305f\u4f4d\u7f6e\u306b\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u633f\u5165\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u5224\u308b\u3002\n\u5b9f\u884c\u3057\u3066\u307f\u308b\u3002\n% node dest/main.js \nFoo\nBar\n\n\u554f\u984c\u306a\u304f\u52d5\u4f5c\u3057\u305f\u3002\nRails \u3067\u898b\u6163\u308c\u3066\u3044\u308b Sprockets \u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u305d\u306e\u307e\u307e\u4f7f\u3048\u308b\u306e\u306f\u99b4\u67d3\u307f\u3084\u3059\u304f\u3066\u3084\u306f\u308a\u5b09\u3057\u3044\u3002\nconcat \u3068\u307b\u307c\u540c\u3058\u3088\u3046\u306a\u6319\u52d5\u3092\u3059\u308b\u304c\u3001\u500b\u4eba\u7684\u306b\u306f concat \u3067\u7d50\u5408\u9806\u3092 Gruntfile.js \u5185\u3067\u6307\u5b9a\u3059\u308b\u3088\u308a\u306f\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u5185\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u660e\u793a\u51fa\u6765\u308b grunt-sprockets \u306e\u65b9\u304c\u826f\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3063\u305f\u3002\n\n\u4ee5\u524d\u66f8\u3044\u305f\n\n[Grunt \u3067\u8907\u6570\u306e CoffeeScript \u3092\u4e00\u3064\u306e\u7121\u540d\u95a2\u6570\u5185\u306b\u307e\u3068\u3081\u308b](http://qiita.com/akishin/items/8454786dc12e534531be \"Grunt \u3067\u8907\u6570\u306e CoffeeScript \u3092\u4e00\u3064\u306e\u7121\u540d\u95a2\u6570\u5185\u306b\u307e\u3068\u3081\u308b\") \n\n[browserify \u3067\u8907\u6570\u306e CoffeeScript \u3092\u4e00\u3064\u306b\u307e\u3068\u3081\u308b](http://qiita.com/akishin/items/e2b84ab8a7ace903b738 \"browserify \u3067\u8907\u6570\u306e CoffeeScript \u3092\u4e00\u3064\u306b\u307e\u3068\u3081\u308b\") \n\n\u306e\u7d9a\u304d\u3002\n\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067 ysugimoto \u3055\u3093\u304c\u4f5c\u6210\u3055\u308c\u305f grunt-sprockets \u3092\u4f7f\u3063\u3066 CoffeeScript \u3092\u4e00\u3064\u306e\u7121\u540d\u95a2\u6570\u5185\u306b\u307e\u3068\u3081\u3066\u307f\u308b\u3002\n\ngrunt-sprockets\u30bf\u30b9\u30af\u30d7\u30e9\u30b0\u30a4\u30f3\u4f5c\u6210\u3068\u30c6\u30b9\u30c8\u3068Travis CI\u307e\u3067\u3084\u3063\u3066\u307f\u308b | \u30d6\u30ed\u30b0 :: Web notes.log\nhttp://blog.wnotes.net/blog/article/create-grunt-task-plugin-and-testing-travis-ci\n\nGitHub \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u4ee5\u4e0b\u306b\u3042\u308b\u3002\n\nysugimoto/grunt-sprockets\nhttps://github.com/ysugimoto/grunt-sprockets\n\n## \u6e96\u5099\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066 grunt-sprockets \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nCoffee \u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u304b\u3063\u305f\u306e\u3067 grunt-contrib-coffee \u3082\u5165\u308c\u3066\u3044\u308b\u3002\n\n```shell-session\n% mkdir -p sprockets-test/{src/{js,coffee},dest} && cd sprockets-test\n% npm init\n% npm install grunt grunt-contrib-coffee grunt-sprockets --save-dev\n```\n\n\u3053\u308c\u3067\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n```shell-session\nsprockets-test\n \u251c\u2500\u2500 dest\n \u251c\u2500\u2500 node_modules\n \u2502\u00a0\u00a0 \u251c\u2500\u2500 grunt\n \u2502\u00a0\u00a0 \u251c\u2500\u2500 grunt-contrib-coffee\n \u2502\u00a0\u00a0 \u2514\u2500\u2500 grunt-sprockets\n \u251c\u2500\u2500 package.json\n \u2514\u2500\u2500 src\n     \u251c\u2500\u2500 coffee\n     \u2514\u2500\u2500 js\n```\n\n## \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210\n\n\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3002\n\n```coffee:sprockets-test/src/coffee/foo.coffee\nclass Foo\n  name: ->\n    'Foo'\n```\n\n```coffee:sprockets-test/src/coffee/bar.coffee\nclass Bar\n  name: ->\n    'Bar'\n```\n\n```javascript:sprockets-test/src/js/main.js\n(function() {\n//= require foo.js\n//= require bar.js\n\n  var foo = new Foo();\n  var bar = new Bar();\n\n  console.log(foo.name());\n  console.log(bar.name());\n}).call(this);\n```\n\n\u3053\u3053\u3067\u6c17\u3092\u3064\u3051\u306a\u304f\u3066\u306f\u3044\u3051\u306a\u3044\u306e\u3060\u304c\u3001sprockets \u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6( `//= require \uff5e` )\u304c\u30a4\u30f3\u30c7\u30f3\u30c8\u3055\u308c\u3066\u3044\u308b\u3068\u4e0a\u624b\u304f\u52d5\u4f5c\u3057\u306a\u3044\u3002\n\nnode_modules/grunt-sprockets/tasks/sprockets.js \u5185\u3067\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u629c\u304d\u51fa\u3057\u3066\u3044\u308b\u6b63\u898f\u8868\u73fe\u304c `/^\\/\\/=\\srequire(_tree)?(?:\\s+)?(.+)$/mg` \u3068\u884c\u982d\u304b\u3089\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u4e8b\u306b\u3088\u308b\u3063\u307d\u3044\u306e\u3067\u3001\u3053\u306e\u8fba\u5f04\u308c\u3070\u3069\u3046\u306b\u304b\u51fa\u6765\u305d\u3046\u3067\u306f\u3042\u308b\u3002\n\n\u305f\u3060\u3001\u5143\u3005 Rails \u3067\u4f7f\u3046\u6642\u306f\u78ba\u304b\u306b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u884c\u982d\u958b\u59cb\u306a\u306e\u3067\u305d\u3046\u3044\u3046\u4ed5\u69d8\u3068\u3044\u3046\u4e8b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\n\u5c11\u306a\u304f\u3068\u3082\u78ba\u8a8d\u6642\u70b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 0.7.0 \u306e grunt-sprockets \u3067\u306f\u884c\u982d\u304b\u3089\u958b\u59cb\u3057\u3066\u3044\u306a\u3044\u3068\u52d5\u4f5c\u3057\u306a\u304b\u3063\u305f\u3002\n\n## Gruntfile.js\n\nGruntfile.js \u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f\u3002\n\n```javascript:sprockets-test/Gruntfile.js\nmodule.exports = function(grunt) {\n    grunt.initConfig({\n        pkg: grunt.file.readJSON('package.json'),\n        coffee: {\n            compile: {\n                options: {\n                    bare: true,\n                },\n                files: [{\n                    expand: true,\n                    cwd: 'src/coffee',\n                    src: ['*.coffee'],\n                    dest: 'src/js/',\n                    ext: '.js',\n                }]\n            }\n        },\n        sprockets: {\n            main: {\n                files: [\n                   'src/js/main.js',\n                ],\n                dest: 'dest/main.js',\n            },\n        },\n    });\n    grunt.loadNpmTasks('grunt-contrib-coffee');\n    grunt.loadNpmTasks('grunt-sprockets');\n    grunt.registerTask('default', ['coffee', 'sprockets']);\n};\n```\n\nsprockets \u30bf\u30b9\u30af\u306e\u8a2d\u5b9a\u306f\u307b\u3068\u3093\u3069 concat \u3068\u540c\u3058\u3002\ncoffee \u5074\u3067 `bare: true` \u3092\u6307\u5b9a\u3057\u3066\u500b\u3005\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7121\u540d\u95a2\u6570\u3067\u30e9\u30c3\u30d7\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u306e\u3082\u540c\u3058\u3002\n\n## \u5b9f\u884c\n\n\u7528\u610f\u304c\u3067\u304d\u305f\u306e\u3067 grunt \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\u3002\n\n```shell-session\n% grunt\nRunning \"coffee:compile\" (coffee) task\n>> 2 files created.\n\nRunning \"sprockets:main\" (sprockets) task\n[Processing]: \"src/js/main.js\" ...\n[Processing]: \"src/js/foo.js\" ...\n[Processing]: \"src/js/bar.js\" ...\nBuild file: dest/main.js ...\n\nDone, without errors.\n```\n\n\u751f\u6210\u3055\u308c\u305f dest/main.js \u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5185\u5bb9\u3002\n\n```javascript:sprockets-test/dest/main.js\n(function() {\nvar Foo;\n\nFoo = (function() {\n  function Foo() {}\n\n  Foo.prototype.name = function() {\n    return 'Foo';\n  };\n\n  return Foo;\n\n})();\n\nvar Bar;\n\nBar = (function() {\n  function Bar() {}\n\n  Bar.prototype.name = function() {\n    return 'Bar';\n  };\n\n  return Bar;\n\n})();\n\n\n  var foo = new Foo();\n  var bar = new Bar();\n\n  console.log(foo.name());\n  console.log(bar.name());\n}).call(this);\n```\n\nrequire \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u6307\u5b9a\u3057\u305f\u4f4d\u7f6e\u306b\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u633f\u5165\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u5224\u308b\u3002\n\u5b9f\u884c\u3057\u3066\u307f\u308b\u3002\n\n```shell-session\n% node dest/main.js \nFoo\nBar\n```\n\n\u554f\u984c\u306a\u304f\u52d5\u4f5c\u3057\u305f\u3002\n\nRails \u3067\u898b\u6163\u308c\u3066\u3044\u308b Sprockets \u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u305d\u306e\u307e\u307e\u4f7f\u3048\u308b\u306e\u306f\u99b4\u67d3\u307f\u3084\u3059\u304f\u3066\u3084\u306f\u308a\u5b09\u3057\u3044\u3002\n\nconcat \u3068\u307b\u307c\u540c\u3058\u3088\u3046\u306a\u6319\u52d5\u3092\u3059\u308b\u304c\u3001\u500b\u4eba\u7684\u306b\u306f concat \u3067\u7d50\u5408\u9806\u3092 Gruntfile.js \u5185\u3067\u6307\u5b9a\u3059\u308b\u3088\u308a\u306f\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u5185\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u660e\u793a\u51fa\u6765\u308b grunt-sprockets \u306e\u65b9\u304c\u826f\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3063\u305f\u3002\n", "tags": ["JavaScript", "CoffeeScript", "grunt"]}