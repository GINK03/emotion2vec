{"tags": ["Bash", "MySQL", "\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8"], "context": "\n\u5f15\u7528: dailynewsagency.com\n\n\u6982\u8981\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n\n\n\u4e0b\u8a18\u306e\u5185\u5bb9\u3092\u81ea\u52d5\u5316\u3057\u305f\u3044\n\n\n\u8907\u6570\u306eDB\u306b\u5bfe\u3057\u3066SQL\u30af\u30a8\u30ea\u3092\u767a\u884c\n\n\n\u5b9f\u884c\u7d50\u679c\u306e\u6a19\u6e96\u51fa\u529b\n\n\n\n\n\n\n\n\n\u30a2\u30d7\u30ed\u30fc\u30c1\n\nbash\u3067MySQL\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\n\n\n\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u304c\uff10\u4ee5\u5916\u306f\u305d\u3053\u3067\u7d42\u4e86\n\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u304c\uff10\u306e\u5834\u5408\u306f\u51e6\u7406\u7d9a\u884c\n\n\n\n\n\u7d50\u679c\n\n\u30a8\u30af\u30b9\u30da\u30af\u30c8\u30fb\u30d1\u30c8\u30ed\u30fc\u30ca\u30e0\uff01\uff01\n\n#!/bin/bash\n\ncommand=(\n\"mysql -u 'user' '-ppassword' -h 'rds-host01.com' 'database01' < 'sample.sql'\"\n\"mysql -u 'user' '-ppassword' -h 'rds-host02.com' 'database02' < 'sample.sql'\"\n\"mysql -u 'user' '-ppassword' -h 'rds-host01.com' 'database03' < 'sample.sql'\"\n\"mysql -u 'user' '-ppassword' -h 'rds-host02.com' 'database04' < 'sample.sql'\"\n\"mysql -u 'user' '-ppassword' -h 'rds-host01.com' 'database05' < 'sample.sql'\"\n)\n\nfor i in \"${command[@]}\"\ndo\n  eval ${i}\n  rc=$?\n  if [ $rc -ne 0 ]; then\n    echo \"error =======> ######## $i ###########\"\n    exit 1\n  fi\ndone\n\necho \"\"\necho \"##########  success  ##########\"\necho \"\"\n\n![](http://images.ciatr.jp/2015/05/74fc357ed34092835eb6531bddac0ce2.jpg)\n\u5f15\u7528: dailynewsagency.com\n\n# \u6982\u8981\n- \u3084\u308a\u305f\u3044\u3053\u3068\n    - \u4e0b\u8a18\u306e\u5185\u5bb9\u3092\u81ea\u52d5\u5316\u3057\u305f\u3044\n        - \u8907\u6570\u306eDB\u306b\u5bfe\u3057\u3066SQL\u30af\u30a8\u30ea\u3092\u767a\u884c\n            - \u5b9f\u884c\u7d50\u679c\u306e\u6a19\u6e96\u51fa\u529b\n\n# \u30a2\u30d7\u30ed\u30fc\u30c1\n- bash\u3067MySQL\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\n    - \u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u304c\uff10\u4ee5\u5916\u306f\u305d\u3053\u3067\u7d42\u4e86\n    - \u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u304c\uff10\u306e\u5834\u5408\u306f\u51e6\u7406\u7d9a\u884c\n\n# \u7d50\u679c\n- \u30a8\u30af\u30b9\u30da\u30af\u30c8\u30fb\u30d1\u30c8\u30ed\u30fc\u30ca\u30e0\uff01\uff01\n\n```bash\n#!/bin/bash\n\ncommand=(\n\"mysql -u 'user' '-ppassword' -h 'rds-host01.com' 'database01' < 'sample.sql'\"\n\"mysql -u 'user' '-ppassword' -h 'rds-host02.com' 'database02' < 'sample.sql'\"\n\"mysql -u 'user' '-ppassword' -h 'rds-host01.com' 'database03' < 'sample.sql'\"\n\"mysql -u 'user' '-ppassword' -h 'rds-host02.com' 'database04' < 'sample.sql'\"\n\"mysql -u 'user' '-ppassword' -h 'rds-host01.com' 'database05' < 'sample.sql'\"\n)\n\nfor i in \"${command[@]}\"\ndo\n  eval ${i}\n  rc=$?\n  if [ $rc -ne 0 ]; then\n    echo \"error =======> ######## $i ###########\"\n    exit 1\n  fi\ndone\n\necho \"\"\necho \"##########  success  ##########\"\necho \"\"\n```\n"}