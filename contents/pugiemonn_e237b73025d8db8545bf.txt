{"context": "rake\u30b3\u30de\u30f3\u30c9\u306f\u305f\u307e\u306b\u3057\u304b\u4f7f\u308f\u306a\u304f\u3066\u3044\u3064\u3082\u5fd8\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\nrake\u3068\u306f\n\u4fbf\u5229\u30bf\u30b9\u30af\u3092\u547c\u3073\u51fa\u305b\u308b\u30c4\u30fc\u30eb\u306e\u3053\u3068\u3067\u3059\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306fRails\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002Rails5\u304b\u3089\u306frake\u3060\u3051\u3067\u306a\u304frails\u30b3\u30de\u30f3\u30c9\u304b\u3089\u3082\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nmigration\u3092\u5b9f\u884c\n\nmigration\u3092\u5b9f\u884c\nrake db:migrate\n\n\n\nrake db:create \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u7121\u3044\u3068\u304d\u306f\u307e\u305acreate\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\nrake db:create\n\n\n\nrake db:drop \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u524a\u9664\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u6d88\u3059\u3068\u304d\u306b\u4f7f\u3044\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u524a\u9664\nrake db:drop\n\n\n\nmigrate\u3001drop\u3001create\u3092\u4e00\u6c17\u306b\u5b9f\u884c\nrake db:reset\n\n\ndb\u3092\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\n1\u3064\u623b\u308a\u307e\u3059\u3002\nrake db:rollback\n\n\u305f\u3060\u3057\u3001rollback\u3059\u308b\u524d\u306bmigration\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u3067\u307e\u3059\u3002\n\n\u8907\u6570 rollback\u3057\u305f\u3044\n\u8907\u6570\u4e00\u6c17\u306brollback\u3057\u305f\u3044\u5834\u5408\u306f\u3001STEP\u3092\u4f7f\u3044\u307e\u3059\u3002\nrake db:rollback STEP=2\n\n\ndb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\nrake db:version\n\n bundle exec rake db:version\n  ActiveRecord::SchemaMigration Load (1.9ms)  SELECT `schema_migrations`.* FROM `schema_migrations`\nCurrent version: 20160221025548\n\nCurrent\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\u3053\u3053\u3067\uff11\u3064rollback\u3057\u3066\u304b\u3089\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002\nbundle exec rake db:rollback\nbundle exec rake db:version\n  ActiveRecord::SchemaMigration Load (0.2ms)  SELECT `schema_migrations`.* FROM `schema_migrations`\nCurrent version: 20150812225828\n\nCurrent version\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\ndb:migrate:status\u3067\u5c65\u6b74\u3092\u8868\u793a\n\u3044\u307e\u307e\u3067\u306bmigration\u3092\u3057\u305f\u5c65\u6b74\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\nrake db:migrate:status\n\n\n\u5c65\u6b74\u8868\u793a\u4f8b\nbundle exec rails db:migrate:status\n\ndatabase: pugiemonn_development\n\n Status   Migration ID    Migration Name\n--------------------------------------------------\n   up     20160122000858  Devise create users\n   up     20160122001228  Add columns to users\n   up     20160205000644  Add name to users\n   up     20160205000650  Create identities\n\n\n\nOS\u6642\u9593\u306e\u78ba\u8a8d\ntime:zones:local \u3092\u4f7f\u7528\u3059\u308b\u3068\u30ed\u30fc\u30ab\u30eb\u306e\u6642\u9593\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nrake time:zones:local\n\n* UTC +09:00 *\nOsaka\nSapporo\nSeoul\nTokyo\nYakutsk\n\nTokyo\u306e\u6642\u9593\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nrake\u30b3\u30de\u30f3\u30c9\u306f\u305f\u307e\u306b\u3057\u304b\u4f7f\u308f\u306a\u304f\u3066\u3044\u3064\u3082\u5fd8\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n# rake\u3068\u306f\n\u4fbf\u5229\u30bf\u30b9\u30af\u3092\u547c\u3073\u51fa\u305b\u308b\u30c4\u30fc\u30eb\u306e\u3053\u3068\u3067\u3059\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306fRails\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002Rails5\u304b\u3089\u306frake\u3060\u3051\u3067\u306a\u304frails\u30b3\u30de\u30f3\u30c9\u304b\u3089\u3082\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n# migration\u3092\u5b9f\u884c\n\n```bash:migration\u3092\u5b9f\u884c\nrake db:migrate\n```\n\n# rake db:create \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u7121\u3044\u3068\u304d\u306f\u307e\u305acreate\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```bash:\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\nrake db:create\n```\n\n# rake db:drop \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u524a\u9664\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u6d88\u3059\u3068\u304d\u306b\u4f7f\u3044\u307e\u3059\u3002\n\n```bash:\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u524a\u9664\nrake db:drop\n```\n\n\n# migrate\u3001drop\u3001create\u3092\u4e00\u6c17\u306b\u5b9f\u884c\n\n```\nrake db:reset\n```\n\n# db\u3092\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\n1\u3064\u623b\u308a\u307e\u3059\u3002\n\n```\nrake db:rollback\n```\n\u305f\u3060\u3057\u3001rollback\u3059\u308b\u524d\u306bmigration\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u3067\u307e\u3059\u3002\n\n\n## \u8907\u6570 rollback\u3057\u305f\u3044\n\u8907\u6570\u4e00\u6c17\u306brollback\u3057\u305f\u3044\u5834\u5408\u306f\u3001STEP\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```\nrake db:rollback STEP=2\n```\n\n# db\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\n\n```\nrake db:version\n```\n\n```\n bundle exec rake db:version\n  ActiveRecord::SchemaMigration Load (1.9ms)  SELECT `schema_migrations`.* FROM `schema_migrations`\nCurrent version: 20160221025548\n```\nCurrent\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\u3053\u3053\u3067\uff11\u3064rollback\u3057\u3066\u304b\u3089\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n```\nbundle exec rake db:rollback\nbundle exec rake db:version\n  ActiveRecord::SchemaMigration Load (0.2ms)  SELECT `schema_migrations`.* FROM `schema_migrations`\nCurrent version: 20150812225828\n```\nCurrent version\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n# db:migrate:status\u3067\u5c65\u6b74\u3092\u8868\u793a\n\u3044\u307e\u307e\u3067\u306bmigration\u3092\u3057\u305f\u5c65\u6b74\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n```\nrake db:migrate:status\n```\n\n```bash:\u5c65\u6b74\u8868\u793a\u4f8b\nbundle exec rails db:migrate:status\n\ndatabase: pugiemonn_development\n\n Status   Migration ID    Migration Name\n--------------------------------------------------\n   up     20160122000858  Devise create users\n   up     20160122001228  Add columns to users\n   up     20160205000644  Add name to users\n   up     20160205000650  Create identities\n```\n\n# OS\u6642\u9593\u306e\u78ba\u8a8d\n`time:zones:local` \u3092\u4f7f\u7528\u3059\u308b\u3068\u30ed\u30fc\u30ab\u30eb\u306e\u6642\u9593\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n```\nrake time:zones:local\n\n* UTC +09:00 *\nOsaka\nSapporo\nSeoul\nTokyo\nYakutsk\n```\n\nTokyo\u306e\u6642\u9593\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n", "tags": ["rake"]}