{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nRuby\u3001sinatra-activerecord\u304b\u3089SQLServer\u306e\u53c2\u7167\u306b\u3064\u3044\u3066\u7c21\u5358\u306b\u7e8f\u3081\u308b\u3002\n\n\u3084\u308a\u305f\u3044\u3053\u3068\nRuby\u3092\u4f7f\u7528\u3057\u3066SQLServer\u306e\u65e2\u5b58\u30c6\u30fc\u30d6\u30eb(m_user)\u3092\u53c2\u7167\u3059\u308b\u3002\nm_user\u306e\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\n\n\n\nUserID\nUserName\n\n\n\n\n00000001\n\u7e8f \u6d41\u5b50\n\n\n00000002\n\u6e80\u8266\u98fe \u30de\u30b3\n\n\n\n\n\u74b0\u5883\n\nWindows 8.1 \nRuby 1.9.3p545\nSQLServer 2008R2\nsinatra (1.4.5)\nactiverecord-sqlserver-adapter (3.2.12)\ntiny_tds (0.6.1 x86-mingw32)\n\n1.GemFile\n\nGemFile\nsource \"https://rubygems.org\"\n\ngem 'activerecord-sqlserver-adapter', '3.2.12'\ngem 'tiny_tds', '0.6.1'\ngem 'sinatra', '1.4.5'\n\n\n2.database.yml\n\ndatabase.yml\ndevelopment:\n  adapter:  \"sqlserver\"\n  host:     \"\u30db\u30b9\u30c8\u540d(\u7aef\u672b\u540d,IP\u30a2\u30c9\u30ec\u30b9\u7b49)\"\n  username: \"\u30e6\u30fc\u30b6\u30fc\u540d\"\n  password: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n  database: \"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\"\n\n\n3.\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\n\napp.rb\n# coding:utf-8\nrequire 'activerecord-sqlserver-adapter'\nrequire 'sinatra'\nrequire 'tiny_tds'\n\nActiveRecord::Base.configurations = YAML.load_file('database.yml')\nActiveRecord::Base.establish_connection(:development)\nuse ActiveRecord::ConnectionAdapters::ConnectionManagement\n\nclass User < ActiveRecord::Base\n#\u65e2\u5b58\u306e\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u4f7f\u7528(m_user)\n    self.table_name = \"m_user\"\nend\n\nget '/' do\n    @users = User.all(:order =>\"userid\")\n    erb :index\nend\n\n\n4.\u30d3\u30e5\u30fc\n\nindex.erb\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"utf-8\">\n    <title>\u30e6\u30fc\u30b6\u4e00\u89a7</title>\n</head>\n<body>\n    <table border =\"1\" CELLSPACING=\"0\" CELLPADDING=\"0\">\n        <thead>\n            <tr>\n                <th>\u30e6\u30fc\u30b6\u30fcID</th>\n                <th>\u30e6\u30fc\u30b6\u30fc\u540d</th>\n            </tr>\n        </thead>\n         <tbody>\n            <% @users.each do |user| %>\n        <tr>\n            <td><%= user.UserID %></td>\n            <td><%= user.UserName %></td>\n        </tr>\n        <% end %>\n        </tbody>\n    </table>\n</body>\n</html>\n\n\n\n5.bundle install\nbundle install --path vendor/bundle\n\n6.\u5b9f\u884c\nbundle exec ruby app.rb\n\n7.\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\n\n##\u6982\u8981\n**Ruby\u3001sinatra-activerecord\u304b\u3089SQLServer\u306e\u53c2\u7167\u306b\u3064\u3044\u3066\u7c21\u5358\u306b\u7e8f\u3081\u308b\u3002**\n\n##\u3084\u308a\u305f\u3044\u3053\u3068\nRuby\u3092\u4f7f\u7528\u3057\u3066SQLServer\u306e\u65e2\u5b58\u30c6\u30fc\u30d6\u30eb(m_user)\u3092\u53c2\u7167\u3059\u308b\u3002\n\nm_user\u306e\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\n\n| UserID | UserName |\n|:-----------|------------:|\n| 00000001     |      \u7e8f \u6d41\u5b50 |\n| 00000002     |    \u6e80\u8266\u98fe \u30de\u30b3| \n\n##\u74b0\u5883\n* Windows 8.1 \n* Ruby 1.9.3p545\n* SQLServer 2008R2\n* sinatra (1.4.5)\n* activerecord-sqlserver-adapter (3.2.12)\n* tiny_tds (0.6.1 x86-mingw32)\n\n1.GemFile\n\n```ruby:GemFile\nsource \"https://rubygems.org\"\n\ngem 'activerecord-sqlserver-adapter', '3.2.12'\ngem 'tiny_tds', '0.6.1'\ngem 'sinatra', '1.4.5'\n```\n\n2.database.yml\n\n```ruby:database.yml\ndevelopment:\n  adapter:  \"sqlserver\"\n  host:     \"\u30db\u30b9\u30c8\u540d(\u7aef\u672b\u540d,IP\u30a2\u30c9\u30ec\u30b9\u7b49)\"\n  username: \"\u30e6\u30fc\u30b6\u30fc\u540d\"\n  password: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n  database: \"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\"\n```\n\n3.\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\n\n```ruby:app.rb\n# coding:utf-8\nrequire 'activerecord-sqlserver-adapter'\nrequire 'sinatra'\nrequire 'tiny_tds'\n\nActiveRecord::Base.configurations = YAML.load_file('database.yml')\nActiveRecord::Base.establish_connection(:development)\nuse ActiveRecord::ConnectionAdapters::ConnectionManagement\n\nclass User < ActiveRecord::Base\n#\u65e2\u5b58\u306e\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u4f7f\u7528(m_user)\n\tself.table_name = \"m_user\"\nend\n\nget '/' do\n\t@users = User.all(:order =>\"userid\")\n\terb :index\nend\n```\n\n4.\u30d3\u30e5\u30fc\n\n```html+erb:index.erb\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n\t<meta charset=\"utf-8\">\n\t<title>\u30e6\u30fc\u30b6\u4e00\u89a7</title>\n</head>\n<body>\n\t<table border =\"1\" CELLSPACING=\"0\" CELLPADDING=\"0\">\n\t\t<thead>\n\t\t\t<tr>\n     \t\t\t<th>\u30e6\u30fc\u30b6\u30fcID</th>\n     \t\t\t<th>\u30e6\u30fc\u30b6\u30fc\u540d</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t <tbody>\n\t    \t<% @users.each do |user| %>\n\t\t<tr>\n\t\t\t<td><%= user.UserID %></td>\n\t\t\t<td><%= user.UserName %></td>\n\t\t</tr>\n\t\t<% end %>\n\t  \t</tbody>\n\t</table>\n</body>\n</html>\n\n```\n\n5.bundle install\n\n```:\nbundle install --path vendor/bundle\n```\n\n6.\u5b9f\u884c\n\n```:\nbundle exec ruby app.rb\n```\n\n\n7.\u30d6\u30e9\u30a6\u30b6\u3067\u78ba\u8a8d\n\n![\u540d\u79f0\u672a\u8a2d\u5b9a-1.gif](https://qiita-image-store.s3.amazonaws.com/0/29940/130e05b7-f405-cd9d-7f1e-6df5f7732e9d.gif)\n", "tags": ["Sinatra1.4.5", "sinatra-activerecord", "SQLServer2008 R2", "Windows8.1", "Ruby1.9.3"]}