{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u65e2\u5b58\u306eNoSQL\u578b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3088\u308a10\u500d\u9ad8\u901f\u3092\u3046\u305f\u3046\u300cAerospike\u300d\u3001\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u3067\u516c\u958b\nCouchbase server\u306b\u60da\u308c\u8fbc\u3093\u3067\u30ac\u30c3\u30c4\u30ea\u3068\u4f7f\u3044\u8fbc\u3093\u3067\u304d\u305f\u50d5\u3068\u3057\u3066\u306f\u3001\u3082\u3061\u308d\u3093\u3053\u306e\u88fd\u54c1\u3092\u610f\u8b58\u3057\u306a\u3044\u308f\u3051\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\u4ee5\u524d\u307e\u3067\u306f\u3001\u6709\u511f\u30e9\u30a4\u30bb\u30f3\u30b9\u3082\u3057\u304f\u306f\u4f53\u9a13\u7248\u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u5fc5\u8981\u3060\u3063\u305fAerospike\u3067\u3059\u304c\u3001\u3053\u306e\u5ea6\u30b5\u30fc\u30d0\u304cGNU AGPL\u3068\u3057\u3066\u516c\u958b\u3055\u308c\u305f\u4e8b\u3092\u6a5f\u306bAWS EC2(VPC)\u4e0a\u306b\u30af\u30e9\u30b9\u30bf\u3092\u69cb\u7bc9\u3057\u3066\u307f\u308b\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u516c\u958b\u3055\u308c\u305f\u306e\u306f\u3001Aerospike\u306eCommunity Edition\uff08CE\uff09\u7248\u30d0\u30fc\u30b8\u30e7\u30f33.3.5\u3002\n\n\n\u6e96\u5099\n\u3068\u308a\u3042\u3048\u305a\u3001\u5bfe\u5fdc\u3059\u308b\u30c7\u30a3\u30b9\u30c8\u30fc\u30b7\u30e7\u30f3\u3092\u6e96\u5099\u3057\u307e\u3057\u3087\u3046\u3001Debian\u3084ubuntu\u5927\u597d\u304d\u4eba\u9593\u306a\u306e\u3067\u3001\u4eca\u56de\u306fubuntu 14.04 server PV\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\nRedhat 6\nUbuntu 12.04+\nDebian 6\nDebian 7\nLinux\n\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u3044\u3064\u3082\u306e\u69d8\u306bVPC\u306e\u4e0a\u306bEC2\u3092\u8d77\u52d5\u3057\u305f\u3089\u3001ssh\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u3087\u3046\u3002\n\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u3089\u3001\u3068\u308a\u3042\u3048\u305a\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3061\u3083\u3063\u3066\u304f\u3060\u3055\u3044\u3002\nServer\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u30b5\u30a4\u30c8\nAerospike Management Console CE \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u30b5\u30a4\u30c8\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u305f\u3089\u3001\u30b5\u30af\u3063\u3068dpkg\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3059\u3002server\u3068tools\u3069\u3061\u3089\u3082\u5165\u308c\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n# tar zxvf aerospike-server-community-3.3.5-ubuntu12.04.tgz\naerospike-server-community-3.3.5-ubuntu12.04/\naerospike-server-community-3.3.5-ubuntu12.04/license.txt\naerospike-server-community-3.3.5-ubuntu12.04/aerospike-tools-3.2.13.ubuntu12.04.x86_64.deb\naerospike-server-community-3.3.5-ubuntu12.04/aerospike-server-community-3.3.5.ubuntu12.04.x86_64.deb\n# cd aerospike-server-community-3.3.5-ubuntu12.04\n\n# dpkg -i aerospike-server-community-3.3.5.ubuntu12.04.x86_64.deb\nSelecting previously unselected package aerospike-server-community.\n(Reading database ... 51050 files and directories currently installed.)\nPreparing to unpack aerospike-server-community-3.3.5.ubuntu12.04.x86_64.deb ...\nUnpacking aerospike-server-community (3.3.5-1) ...\nSetting up aerospike-server-community (3.3.5-1) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\n# dpkg -i aerospike-tools-3.2.13.ubuntu12.04.x86_64.deb\nSelecting previously unselected package aerospike-tools.\n(Reading database ... 51101 files and directories currently installed.)\nPreparing to unpack aerospike-tools-3.2.13.ubuntu12.04.x86_64.deb ...\nUnpacking aerospike-tools (3.2.13) ...\nSetting up aerospike-tools (3.2.13) ...\nInstalling /opt/aerospike\nWriting /usr/local/lib/python2.7/dist-packages/aerospike.pth\nAdding python path /opt/aerospike/lib/python\n#\n\n\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb\u3082\u5fd8\u308c\u305a\u306b\u30fb\u30fb\u30fb\u4f9d\u5b58\u95a2\u4fc2\u304b\u3089\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002\napt-get install gcc python-dev\n\n\u4f9d\u5b58\u95a2\u4fc2\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb\u3082\u5165\u308c\u3061\u3083\u3044\u307e\u3057\u3087\u3046\u3002\n# dpkg -i aerospike-amc-community-3.4.3.all.x86_64.deb\n(Reading database ... 54955 files and directories currently installed.)\nPreparing to unpack aerospike-amc-community-3.4.3.all.x86_64.deb ...\nSuccessfully Uninstalled AMC\nUnpacking aerospike-amc-community (3.4.3) over (3.4.3) ...\nSetting up aerospike-amc-community (3.4.3) ...\namc/\namc/amc/\namc/amc/bin/\namc/amc/bin/amc_rpm.sh\n....\namc/amc/config/\namc/amc/config/amc.cfg\namc/amc/config/gunicorn_config.py\namc/README\namc/install\n/tmp/tmpgH2dhe/simple.c:1:6: warning: function declaration isn\u2019t a prototype [-Wstrict-prototypes]\n void foo(){}\n      ^\nLinking /opt/amc/server/setups/greenlet/greenlet-0.4.1/build/lib.linux-x86_64-2.7/greenlet.so to /opt/amc/server/setups/greenlet/greenlet-0.4.1/greenlet.so\nSuccessfully installed AMC.\n#\n\n\u306a\u3093\u304b\u3001\u30a8\u30e9\u30fc\u51fa\u3066\u3044\u308b\u3051\u3069\u30fb\u30fb\u30fb\u6c17\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb\u306a\u306e\u3067\u3042\u3068\u304b\u3089\u8003\u3048\u308b\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u8a2d\u5b9a\n/etc/aerospike.conf\u306f\u4ee5\u4e0b\u306e\u69d8\u306a\u611f\u3058\u3067\u8a2d\u5b9a\u3001\u672c\u6765Aerospike\u306f\u30de\u30eb\u30c1\u30ad\u30e3\u30b9\u30c8\u3067\u8d77\u52d5\u3057\u305f\u30ce\u30fc\u30c9\u3092\u81ea\u52d5\u691c\u51fa\u3057\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u306e\u3084\u308a\u3068\u308a\u3092\u884c\u3044\u307e\u3059\u3002\nVPC\u4e0a\u3067\u306f\u30de\u30eb\u30c1\u30ad\u30e3\u30b9\u30c8\u901a\u3089\u306a\u3044\u306e\u3067\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u5143\u306b\u3001mesh\u901a\u4fe1\u306b\u3057\u3066\u3001\u521d\u671f\u8d77\u52d5\u3057\u305fNode1\u3068\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u8fba\u308a\u306fCircular\u3068\u304b\u3001\u30e1\u30c3\u30b7\u30e5\u69cb\u6210\u3092\u3082\u3046\u5c11\u3057\u4f55\u304b\u65b9\u6cd5\u8003\u3048\u305f\u3044\u6240\u3067\u3059\u304c\u3001\u5f8c\u56de\u3057\u306b\u3057\u307e\u3059\u3002\nroot@node1:/etc/aerospike# cat aerospike.conf\n# Aerospike database configuration file.\n\n# This stanza must come first.\nservice {\n    user root\n    group root\n    paxos-single-replica-limit 1 # Number of nodes where the replica count is automatically reduced to 1.\n    pidfile /var/run/aerospike/asd.pid\n    service-threads 4\n    transaction-queues 4\n    transaction-threads-per-queue 4\n    proto-fd-max 15000\n}\n\nlogging {\n    # Log file must be an absolute path.\n    file /var/log/aerospike/aerospike.log {\n        context any info\n    }\n}\n\nnetwork {\n    service {\n        address any\n        port 3000\n    }\n\n    heartbeat {\n#       mode multicast\n#       address 239.1.99.222\n#       port 9918\n\n        # To use unicast-mesh heartbeats, comment out the 3 lines above and\n        # use the following 4 lines instead.\n        mode mesh\n        port 3002\n        mesh-address \u4e00\u756a\u6700\u521d\u306b\u8d77\u52d5\u3059\u308b\u30ce\u30fc\u30c9\u306eIP\n        mesh-port 3002\n\n        interval 150\n        timeout 10\n    }\n\n    fabric {\n        port 3001\n    }\n\n    info {\n        port 3003\n    }\n}\n\nnamespace test {\n    replication-factor 2\n    memory-size 4G\n    default-ttl 30d # 30 days, use 0 to never expire/evict.\n\n    storage-engine memory\n}\n\n#namespace bar {\n#   replication-factor 2\n#   memory-size 4G\n#   default-ttl 30d # 30 days, use 0 to never expire/evict.\n\n#   storage-engine memory\n\n    # To use file storage backing, comment out the line above and use the\n    # following lines instead.\n#   storage-engine device {\n#       file /opt/aerospike/data/bar.dat\n#       filesize 16G\n#       data-in-memory true # Store data in memory in addition to file.\n#   }\n#}\n\n\nNode1\u306e\u8a66\u9a13\u8d77\u52d5\n\u521d\u56de\u8d77\u52d5\u6642\u306b\u306f\u30ab\u30fc\u30cd\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u8abf\u6574\u3059\u308b\u307f\u305f\u3044\u3067\u3059\u306d\u3002\n# /etc/init.d/aerospike start\n * Start aerospike:  asd\nkernel.shmall too low, setting to 4G pages\nkernel.shmall = 4294967296\nkernel.shmmax too low, setting to 1GB\nkernel.shmmax = 1073741824\n[ OK ]\n\n\nrc.d\u3078\u306e\u767b\u9332\n\u3046\u307e\u304f\u8d77\u52d5\u3067\u304d\u305f\u3089\u3001\u81ea\u52d5\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3001\u5404\u30c7\u30a3\u30b9\u30c8\u30ed\u306b\u5408\u308f\u305b\u3066\u3001\u9069\u5b9c\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n# update-rc.d aerospike defaults\nupdate-rc.d: warning: /etc/init.d/aerospike missing LSB keyword 'default-stop'\n\n Adding system startup for /etc/init.d/aerospike ...\n   /etc/rc0.d/K20aerospike -> ../init.d/aerospike\n   /etc/rc1.d/K20aerospike -> ../init.d/aerospike\n   /etc/rc6.d/K20aerospike -> ../init.d/aerospike\n   /etc/rc2.d/S20aerospike -> ../init.d/aerospike\n   /etc/rc3.d/S20aerospike -> ../init.d/aerospike\n   /etc/rc4.d/S20aerospike -> ../init.d/aerospike\n   /etc/rc5.d/S20aerospike -> ../init.d/aerospike\n\n\nSecurity Groups\u306e\u8abf\u6574\n\u30b3\u30f3\u30d5\u30a3\u30b0\u3067\u4f7f\u3063\u3066\u3044\u308b\u30dd\u30fc\u30c8\u306f\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u4e2d\u3067\u76f8\u4e92\u306b\u901a\u4fe1\u3067\u304d\u308b\u3088\u3046\u306b\u8a31\u53ef\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u30dd\u30fc\u30c8\u3092\u30aa\u30fc\u30d7\u30f3\u3057\u307e\u3057\u305f\u3002\n\nTCP 3000\nTCP 3001\nTCP 3002\nTCP 3003\n\n\nNode2\u4ee5\u964d\u306e\u8d77\u52d5\nNode2\u4ee5\u964d\u306e\u8d77\u52d5\u306f\u697d\u306a\u3082\u306e\u3067\u3059\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u306e\u4f5c\u696d\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u53d6\u308b\n\u3068\u3063\u305f\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u306e\u8d77\u52d5\u3092\u53f0\u6570\u5206\u7e70\u308a\u8fd4\u3059\n\n\n\u30af\u30e9\u30b9\u30bf\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u78ba\u8a8d\n\u5404\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8d77\u52d5\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u3061\u3083\u3093\u3068\u30b8\u30e7\u30a4\u30f3\u3057\u3066\u3044\u308b\u304b\u52d5\u4f5c\u306e\u78ba\u8a8d\u3092\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u3044\u305a\u308c\u304b\u306eNode\u304b\u3089\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nroot@ip-192-168-200-21:/etc/aerospike# asmonitor -e info\n\nEnter help for help\n\n4 hosts in cluster: 192.168.200.21:3000,192.168.200.7:3000,192.168.200.8:3000,192.168.200.9:3000\n===NODES===\n2014-06-26 13:30:27.204616\nSorting by IP, in Ascending order:\nip:port           Build   Cluster      Cluster   Free   Free   Migrates              Node         Principal   Replicated    Sys\n                      .      Size   Visibility   Disk    Mem          .                ID                ID      Objects   Free\n                      .         .            .    pct    pct          .                 .                 .            .    Mem\n192.168.200.21    3.3.5         4         true      0    100      (0,0)   BB9214F0B829406   BB9E706DC091A06      0.000 M     97\n192.168.200.7     3.3.5         4         true      0    100      (0,0)   BB99952456C0B06   BB9E706DC091A06      0.000 M     97\n192.168.200.8     3.3.5         4         true      0    100      (0,0)   BB9D9E98DAE9706   BB9E706DC091A06      0.000 M     97\n192.168.200.9     3.3.5         4         true      0    100      (0,0)   BB9E706DC091A06   BB9E706DC091A06      0.000 M     97\nNumber of nodes displayed: 4\n\n\n ===NAMESPACE===\nTotal (unique) objects in cluster for test : 0.000 M\nNote: Total (unique) objects is an under estimate if migrations are in progress.\n\n\nip/namespace           Avail   Evicted   Objects     Repl     Stop   Used   Used     Used   Used    hwm   hwm\n                         Pct   Objects         .   Factor   Writes   Disk   Disk      Mem    Mem   Disk   Mem\n                           .         .         .        .        .      .      %        .      %      .     .\n192.168.200.7/test       n/a         0   0.000 M        2    false    n/a    n/a   0.00 B      0     50    60\n192.168.200.8/test       n/a         0   0.000 M        2    false    n/a    n/a   0.00 B      0     50    60\n192.168.200.21/test      n/a         0   0.000 M        2    false    n/a    n/a   0.00 B      0     50    60\n192.168.200.9/test       n/a         0   0.000 M        2    false    n/a    n/a   0.00 B      0     50    60\nNumber of rows displayed: 4\nroot@ip-192-168-200-21:/etc/aerospike#\n\n\n\u7d42\u308f\u308a\u306b\n\u3072\u3068\u307e\u305a\u30ac\u30fc\u30c3\u3068\u69cb\u7bc9\u3060\u3051\u3057\u3061\u3083\u3063\u305f\u306e\u3067\u3001\u6b21\u306f\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3068\u5b9f\u969b\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u306f\u3058\u3081\u306b\n----\n\n[\u65e2\u5b58\u306eNoSQL\u578b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3088\u308a10\u500d\u9ad8\u901f\u3092\u3046\u305f\u3046\u300cAerospike\u300d\u3001\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u3067\u516c\u958b][1]\n\nCouchbase server\u306b\u60da\u308c\u8fbc\u3093\u3067\u30ac\u30c3\u30c4\u30ea\u3068\u4f7f\u3044\u8fbc\u3093\u3067\u304d\u305f\u50d5\u3068\u3057\u3066\u306f\u3001\u3082\u3061\u308d\u3093\u3053\u306e\u88fd\u54c1\u3092\u610f\u8b58\u3057\u306a\u3044\u308f\u3051\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\u4ee5\u524d\u307e\u3067\u306f\u3001\u6709\u511f\u30e9\u30a4\u30bb\u30f3\u30b9\u3082\u3057\u304f\u306f\u4f53\u9a13\u7248\u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u5fc5\u8981\u3060\u3063\u305fAerospike\u3067\u3059\u304c\u3001\u3053\u306e\u5ea6\u30b5\u30fc\u30d0\u304cGNU AGPL\u3068\u3057\u3066\u516c\u958b\u3055\u308c\u305f\u4e8b\u3092\u6a5f\u306bAWS EC2(VPC)\u4e0a\u306b\u30af\u30e9\u30b9\u30bf\u3092\u69cb\u7bc9\u3057\u3066\u307f\u308b\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u516c\u958b\u3055\u308c\u305f\u306e\u306f\u3001Aerospike\u306eCommunity Edition\uff08CE\uff09\u7248\u30d0\u30fc\u30b8\u30e7\u30f33.3.5\u3002\n\n----------\n\n\u6e96\u5099\n--\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u5bfe\u5fdc\u3059\u308b\u30c7\u30a3\u30b9\u30c8\u30fc\u30b7\u30e7\u30f3\u3092\u6e96\u5099\u3057\u307e\u3057\u3087\u3046\u3001Debian\u3084ubuntu\u5927\u597d\u304d\u4eba\u9593\u306a\u306e\u3067\u3001\u4eca\u56de\u306fubuntu 14.04 server PV\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\n - Redhat 6\n - Ubuntu 12.04+\n - Debian 6\n - Debian 7\n - Linux\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n------\n\n\u3044\u3064\u3082\u306e\u69d8\u306bVPC\u306e\u4e0a\u306bEC2\u3092\u8d77\u52d5\u3057\u305f\u3089\u3001ssh\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u3087\u3046\u3002\n\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u3089\u3001\u3068\u308a\u3042\u3048\u305a\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3061\u3083\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n[Server\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u30b5\u30a4\u30c8][2]\n\n[Aerospike Management Console CE \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u30b5\u30a4\u30c8][2]\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u305f\u3089\u3001\u30b5\u30af\u3063\u3068dpkg\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3059\u3002server\u3068tools\u3069\u3061\u3089\u3082\u5165\u308c\u3066\u3057\u307e\u3044\u307e\u3057\u3087\u3046\u3002\n\n    # tar zxvf aerospike-server-community-3.3.5-ubuntu12.04.tgz\n    aerospike-server-community-3.3.5-ubuntu12.04/\n    aerospike-server-community-3.3.5-ubuntu12.04/license.txt\n    aerospike-server-community-3.3.5-ubuntu12.04/aerospike-tools-3.2.13.ubuntu12.04.x86_64.deb\n    aerospike-server-community-3.3.5-ubuntu12.04/aerospike-server-community-3.3.5.ubuntu12.04.x86_64.deb\n    # cd aerospike-server-community-3.3.5-ubuntu12.04\n\n    # dpkg -i aerospike-server-community-3.3.5.ubuntu12.04.x86_64.deb\n    Selecting previously unselected package aerospike-server-community.\n    (Reading database ... 51050 files and directories currently installed.)\n    Preparing to unpack aerospike-server-community-3.3.5.ubuntu12.04.x86_64.deb ...\n    Unpacking aerospike-server-community (3.3.5-1) ...\n    Setting up aerospike-server-community (3.3.5-1) ...\n    Processing triggers for ureadahead (0.100.0-16) ...\n    # dpkg -i aerospike-tools-3.2.13.ubuntu12.04.x86_64.deb\n    Selecting previously unselected package aerospike-tools.\n    (Reading database ... 51101 files and directories currently installed.)\n    Preparing to unpack aerospike-tools-3.2.13.ubuntu12.04.x86_64.deb ...\n    Unpacking aerospike-tools (3.2.13) ...\n    Setting up aerospike-tools (3.2.13) ...\n    Installing /opt/aerospike\n    Writing /usr/local/lib/python2.7/dist-packages/aerospike.pth\n    Adding python path /opt/aerospike/lib/python\n    #\n\n\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb\u3082\u5fd8\u308c\u305a\u306b\u30fb\u30fb\u30fb\u4f9d\u5b58\u95a2\u4fc2\u304b\u3089\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002\n\n    apt-get install gcc python-dev\n\n\u4f9d\u5b58\u95a2\u4fc2\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb\u3082\u5165\u308c\u3061\u3083\u3044\u307e\u3057\u3087\u3046\u3002\n\n    # dpkg -i aerospike-amc-community-3.4.3.all.x86_64.deb\n    (Reading database ... 54955 files and directories currently installed.)\n    Preparing to unpack aerospike-amc-community-3.4.3.all.x86_64.deb ...\n    Successfully Uninstalled AMC\n    Unpacking aerospike-amc-community (3.4.3) over (3.4.3) ...\n    Setting up aerospike-amc-community (3.4.3) ...\n    amc/\n    amc/amc/\n    amc/amc/bin/\n    amc/amc/bin/amc_rpm.sh\n    ....\n    amc/amc/config/\n    amc/amc/config/amc.cfg\n    amc/amc/config/gunicorn_config.py\n    amc/README\n    amc/install\n    /tmp/tmpgH2dhe/simple.c:1:6: warning: function declaration isn\u2019t a prototype [-Wstrict-prototypes]\n     void foo(){}\n          ^\n    Linking /opt/amc/server/setups/greenlet/greenlet-0.4.1/build/lib.linux-x86_64-2.7/greenlet.so to /opt/amc/server/setups/greenlet/greenlet-0.4.1/greenlet.so\n    Successfully installed AMC.\n    #\n\n\u306a\u3093\u304b\u3001\u30a8\u30e9\u30fc\u51fa\u3066\u3044\u308b\u3051\u3069\u30fb\u30fb\u30fb\u6c17\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb\u306a\u306e\u3067\u3042\u3068\u304b\u3089\u8003\u3048\u308b\u4e8b\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u8a2d\u5b9a\n--\n\n/etc/aerospike.conf\u306f\u4ee5\u4e0b\u306e\u69d8\u306a\u611f\u3058\u3067\u8a2d\u5b9a\u3001\u672c\u6765Aerospike\u306f\u30de\u30eb\u30c1\u30ad\u30e3\u30b9\u30c8\u3067\u8d77\u52d5\u3057\u305f\u30ce\u30fc\u30c9\u3092\u81ea\u52d5\u691c\u51fa\u3057\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u306e\u3084\u308a\u3068\u308a\u3092\u884c\u3044\u307e\u3059\u3002\nVPC\u4e0a\u3067\u306f\u30de\u30eb\u30c1\u30ad\u30e3\u30b9\u30c8\u901a\u3089\u306a\u3044\u306e\u3067\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u5143\u306b\u3001mesh\u901a\u4fe1\u306b\u3057\u3066\u3001\u521d\u671f\u8d77\u52d5\u3057\u305fNode1\u3068\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u8fba\u308a\u306fCircular\u3068\u304b\u3001\u30e1\u30c3\u30b7\u30e5\u69cb\u6210\u3092\u3082\u3046\u5c11\u3057\u4f55\u304b\u65b9\u6cd5\u8003\u3048\u305f\u3044\u6240\u3067\u3059\u304c\u3001\u5f8c\u56de\u3057\u306b\u3057\u307e\u3059\u3002\n\n    root@node1:/etc/aerospike# cat aerospike.conf\n    # Aerospike database configuration file.\n    \n    # This stanza must come first.\n    service {\n    \tuser root\n    \tgroup root\n    \tpaxos-single-replica-limit 1 # Number of nodes where the replica count is automatically reduced to 1.\n    \tpidfile /var/run/aerospike/asd.pid\n    \tservice-threads 4\n    \ttransaction-queues 4\n    \ttransaction-threads-per-queue 4\n    \tproto-fd-max 15000\n    }\n    \n    logging {\n    \t# Log file must be an absolute path.\n    \tfile /var/log/aerospike/aerospike.log {\n    \t\tcontext any info\n    \t}\n    }\n    \n    network {\n    \tservice {\n    \t\taddress any\n    \t\tport 3000\n    \t}\n    \n    \theartbeat {\n    #\t\tmode multicast\n    #\t\taddress 239.1.99.222\n    #\t\tport 9918\n    \n    \t\t# To use unicast-mesh heartbeats, comment out the 3 lines above and\n    \t\t# use the following 4 lines instead.\n    \t\tmode mesh\n    \t\tport 3002\n    \t\tmesh-address \u4e00\u756a\u6700\u521d\u306b\u8d77\u52d5\u3059\u308b\u30ce\u30fc\u30c9\u306eIP\n    \t\tmesh-port 3002\n    \n    \t\tinterval 150\n    \t\ttimeout 10\n    \t}\n    \n    \tfabric {\n    \t\tport 3001\n    \t}\n    \n    \tinfo {\n    \t\tport 3003\n    \t}\n    }\n    \n    namespace test {\n    \treplication-factor 2\n    \tmemory-size 4G\n    \tdefault-ttl 30d # 30 days, use 0 to never expire/evict.\n    \n    \tstorage-engine memory\n    }\n    \n    #namespace bar {\n    #\treplication-factor 2\n    #\tmemory-size 4G\n    #\tdefault-ttl 30d # 30 days, use 0 to never expire/evict.\n    \n    #\tstorage-engine memory\n    \n    \t# To use file storage backing, comment out the line above and use the\n    \t# following lines instead.\n    #\tstorage-engine device {\n    #\t\tfile /opt/aerospike/data/bar.dat\n    #\t\tfilesize 16G\n    #\t\tdata-in-memory true # Store data in memory in addition to file.\n    #\t}\n    #}\n\nNode1\u306e\u8a66\u9a13\u8d77\u52d5\n----------\n\n\u521d\u56de\u8d77\u52d5\u6642\u306b\u306f\u30ab\u30fc\u30cd\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u8abf\u6574\u3059\u308b\u307f\u305f\u3044\u3067\u3059\u306d\u3002\n\n    # /etc/init.d/aerospike start\n     * Start aerospike:  asd\n    kernel.shmall too low, setting to 4G pages\n    kernel.shmall = 4294967296\n    kernel.shmmax too low, setting to 1GB\n    kernel.shmmax = 1073741824\n    [ OK ]\n\nrc.d\u3078\u306e\u767b\u9332\n--------\n\n\u3046\u307e\u304f\u8d77\u52d5\u3067\u304d\u305f\u3089\u3001\u81ea\u52d5\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3001\u5404\u30c7\u30a3\u30b9\u30c8\u30ed\u306b\u5408\u308f\u305b\u3066\u3001\u9069\u5b9c\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n    # update-rc.d aerospike defaults\n    update-rc.d: warning: /etc/init.d/aerospike missing LSB keyword 'default-stop'\n    \n     Adding system startup for /etc/init.d/aerospike ...\n       /etc/rc0.d/K20aerospike -> ../init.d/aerospike\n       /etc/rc1.d/K20aerospike -> ../init.d/aerospike\n       /etc/rc6.d/K20aerospike -> ../init.d/aerospike\n       /etc/rc2.d/S20aerospike -> ../init.d/aerospike\n       /etc/rc3.d/S20aerospike -> ../init.d/aerospike\n       /etc/rc4.d/S20aerospike -> ../init.d/aerospike\n       /etc/rc5.d/S20aerospike -> ../init.d/aerospike\n\nSecurity Groups\u306e\u8abf\u6574\n------------------\n\u30b3\u30f3\u30d5\u30a3\u30b0\u3067\u4f7f\u3063\u3066\u3044\u308b\u30dd\u30fc\u30c8\u306f\u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u4e2d\u3067\u76f8\u4e92\u306b\u901a\u4fe1\u3067\u304d\u308b\u3088\u3046\u306b\u8a31\u53ef\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u30dd\u30fc\u30c8\u3092\u30aa\u30fc\u30d7\u30f3\u3057\u307e\u3057\u305f\u3002\n\n - TCP 3000\n - TCP 3001\n - TCP 3002\n - TCP 3003\n\nNode2\u4ee5\u964d\u306e\u8d77\u52d5\n----------\n\nNode2\u4ee5\u964d\u306e\u8d77\u52d5\u306f\u697d\u306a\u3082\u306e\u3067\u3059\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u306e\u4f5c\u696d\u306b\u306a\u308a\u307e\u3059\u3002\n\n1. \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u53d6\u308b\n2. \u3068\u3063\u305f\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u306e\u8d77\u52d5\u3092\u53f0\u6570\u5206\u7e70\u308a\u8fd4\u3059\n\n\u30af\u30e9\u30b9\u30bf\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u78ba\u8a8d\n------------\n\n\u5404\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8d77\u52d5\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u3061\u3083\u3093\u3068\u30b8\u30e7\u30a4\u30f3\u3057\u3066\u3044\u308b\u304b\u52d5\u4f5c\u306e\u78ba\u8a8d\u3092\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u3044\u305a\u308c\u304b\u306eNode\u304b\u3089\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n    root@ip-192-168-200-21:/etc/aerospike# asmonitor -e info\n    \n    Enter help for help\n    \n    4 hosts in cluster: 192.168.200.21:3000,192.168.200.7:3000,192.168.200.8:3000,192.168.200.9:3000\n    ===NODES===\n    2014-06-26 13:30:27.204616\n    Sorting by IP, in Ascending order:\n    ip:port           Build   Cluster      Cluster   Free   Free   Migrates              Node         Principal   Replicated    Sys\n                          .      Size   Visibility   Disk    Mem          .                ID                ID      Objects   Free\n                          .         .            .    pct    pct          .                 .                 .            .    Mem\n    192.168.200.21    3.3.5         4         true      0    100      (0,0)   BB9214F0B829406   BB9E706DC091A06      0.000 M     97\n    192.168.200.7     3.3.5         4         true      0    100      (0,0)   BB99952456C0B06   BB9E706DC091A06      0.000 M     97\n    192.168.200.8     3.3.5         4         true      0    100      (0,0)   BB9D9E98DAE9706   BB9E706DC091A06      0.000 M     97\n    192.168.200.9     3.3.5         4         true      0    100      (0,0)   BB9E706DC091A06   BB9E706DC091A06      0.000 M     97\n    Number of nodes displayed: 4\n    \n    \n     ===NAMESPACE===\n    Total (unique) objects in cluster for test : 0.000 M\n    Note: Total (unique) objects is an under estimate if migrations are in progress.\n    \n    \n    ip/namespace           Avail   Evicted   Objects     Repl     Stop   Used   Used     Used   Used    hwm   hwm\n                             Pct   Objects         .   Factor   Writes   Disk   Disk      Mem    Mem   Disk   Mem\n                               .         .         .        .        .      .      %        .      %      .     .\n    192.168.200.7/test       n/a         0   0.000 M        2    false    n/a    n/a   0.00 B      0     50    60\n    192.168.200.8/test       n/a         0   0.000 M        2    false    n/a    n/a   0.00 B      0     50    60\n    192.168.200.21/test      n/a         0   0.000 M        2    false    n/a    n/a   0.00 B      0     50    60\n    192.168.200.9/test       n/a         0   0.000 M        2    false    n/a    n/a   0.00 B      0     50    60\n    Number of rows displayed: 4\n    root@ip-192-168-200-21:/etc/aerospike#\n\n\u7d42\u308f\u308a\u306b\n----\n\u3072\u3068\u307e\u305a\u30ac\u30fc\u30c3\u3068\u69cb\u7bc9\u3060\u3051\u3057\u3061\u3083\u3063\u305f\u306e\u3067\u3001\u6b21\u306f\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3068\u5b9f\u969b\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n[1]: http://sourceforge.jp/magazine/14/06/26/153000\n[2]: http://www.aerospike.com/download/server/3.3.5/\n[3]: http://www.aerospike.com/download/amc/3.4.3/\n", "tags": ["Aerospike3.3.5", "AWS", "KVS", "vpc"]}