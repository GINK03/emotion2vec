{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\u3002\n\n\u3084\u308d\u3046\u3068\u601d\u3063\u305f\u7406\u7531\n\n\u90aa\u306a\u8003\u3048\n\u4ee5\u524d\u306e\u30a8\u30f3\u30c8\u30ea\u306b\u3042\u308b\u3088\u3046\u306b\u5236\u9650\u74b0\u5883\u306b\u3044\u308b\u304b\u3089\n\n\n\u524d\u63d0\n\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306a\u3093\u3066\u307e\u3063\u305f\u304f\u8003\u616e\u3057\u3066\u3044\u306a\u3044\n\u65e2\u306bVMware vCenter Server Appliance 5.1\u304c\u69cb\u7bc9\u6e08\u307f\nApache\u3067VirtualHost\u3057\u3066\u308b\n\n\n\u5fc5\u8981\u306a\u3082\u306e\n\u81ea\u5b85\u306e\u30d5\u30ed\u30f3\u30c8Web\u30b5\u30fc\u30d0\u3068\u306a\u3063\u3066\u3044\u308bApache\u306b\u306fmod_ssl\u304c\u5165\u3063\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3067\u3001yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\nyum -y install mod_ssl\n\n\n\u624b\u9806\n\nssl.conf\u306e\u7121\u52b9\u5316\n\u5927\u4f53\u3001conf.d/*.conf\u3067Include\u3055\u308c\u3066\u3044\u308b\u306a\u306e\u3067\u3001ssl.conf\u3092\u9069\u5f53\u306bssl.conf.disable\u3068\u304b\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\nmv ssl.conf ssl.conf.disable\n\n\nVirtualHost\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\n\u65e2\u306bHTTP(80)\u3067\u3084\u3063\u3066\u304d\u305f\u3082\u306e\u306f\u305d\u308c\u305e\u308c\u540d\u524d\u30d9\u30fc\u30b9\u3067\u632f\u308a\u5206\u3051\u3066\u3044\u305f\u306e\u3067\u3001HTTPS(443)\u3078\u3084\u3063\u3066\u304d\u305f\u3082\u306e\u3078\u306e\u5bfe\u51e6\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\nNameVirtualHost *:80\n<VirtualHost  _default_:80>\n        ServerName www.sanya.local\n        DocumentRoot /var/www/html\n        DirectoryIndex index.html\n        <Directory /var/www/html>\n                Options None\n                AllowOverride None\n                Order allow,deny\n                Deny from all\n        </Directory>\n</VirtualHost>\n<VirtualHost *:80>\n        ServerName wiki.sanya.local\n        DirectoryIndex index.html index.php\n        ProxyRequests Off\n        ProxyVia Off\n        ProxyPreserveHost On\n        <Proxy *>\n                Order deny,allow\n                Allow from all\n        </Proxy>\n        ProxyPass / http://192.168.21.100/\n        ProxyPassReverse / http://192.168.21.100/\n</VirtualHost>\n\n\u4e0a\u8a18\u304c\u8ffd\u8a18\u524d\u306e\u3082\u306e\u3002\nSSL\u3092\u9069\u5f53\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\nLoadModule ssl_module modules/mod_ssl.so\nListen 443\nSSLPassPhraseDialog  builtin\nSSLSessionCache         shmcb:/var/cache/mod_ssl/scache(512000)\nSSLSessionCacheTimeout  300\nSSLMutex default\nSSLRandomSeed startup file:/dev/urandom  256\nSSLRandomSeed connect builtin\nSSLCryptoDevice builtin\nNameVirtualHost *:443\n\nNameVirtualHost *:80\u306e\u5f8c\u306b\u8ffd\u8a18\u3057\u307e\u3057\u305f\u3002\n\u305d\u3057\u3066\u3001\u72d9\u3044\u306evCenter\u3078ProxyPass\u3092\u66f8\u304d\u307e\u3059\u3002\n<VirtualHost *:443>\n        ServerName vm.sanya.local\n        DirectoryIndex index.html\n        SSLEngine on\n        SSLProtocol all\n        SSLCipherSuite ALL:!ADH:!EXPORT:!SSLv2:RC4+RSA:+HIGH:+MEDIUM:+LOW\n        SSLCertificateFile /etc/pki/tls/certs/localhost.crt\n        SSLCertificateKeyFile /etc/pki/tls/private/localhost.key\n        SSLProxyEngine on\n        ProxyRequests Off\n        ProxyVia Off\n        ProxyPreserveHost On\n        <Proxy *>\n                Order deny,allow\n                Allow from all\n        </Proxy>\n        ProxyPass / https://192.168.21.101:9443/\n        ProxyPassReverse / https://192.168.21.101:9443/\n</VirtualHost>\n\nSSL\u3067\u59cb\u307e\u308b\u8a18\u8ff0\u306fssl.conf\u306b\u3042\u3063\u305f\u3082\u306e\u3092\u305d\u306e\u307e\u307e\u6301\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u8fba\u304c\u5b9f\u306f\u3082\u3046\u3061\u3087\u3063\u3068\u8003\u3048\u305f\u304c\u3044\u3044\u304b\u3082\uff1f\u3068\u601d\u3046\u70b9\u3067\u3059\u304c\u3001\u307e\u3041\u4eca\u56de\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u666e\u901a\u306b\u898b\u308c\u307e\u3057\u305f\u3002\n443\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306f\u554f\u7b54\u7121\u7528\u3067vCenter\u306b\u5411\u304b\u3063\u3066\u3044\u304d\u307e\u3059\u3002\nGoogleChrome\u306ePlug-in\u3082\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u554f\u984c\u306a\u304f\u30b3\u30f3\u30bd\u30fc\u30eb\u3082\u4f7f\u3048\u3066\u307e\u3057\u305f\u3002\n\u5185\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u306e\u901a\u4fe1\u306e\u307f\u3067\u3057\u305f\u306e\u3067\u3001\u5916\u90e8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u9045\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff3e\uff3e\uff1b\n\u307e\u3041\u3001\u3053\u308c\u3067\u304a\u3057\u307e\u3044\u3002\n# \u306f\u3058\u3081\u306b\u3002\n\n## \u3084\u308d\u3046\u3068\u601d\u3063\u305f\u7406\u7531\n* \u90aa\u306a\u8003\u3048\n* \u4ee5\u524d\u306e\u30a8\u30f3\u30c8\u30ea\u306b\u3042\u308b\u3088\u3046\u306b\u5236\u9650\u74b0\u5883\u306b\u3044\u308b\u304b\u3089\n\n## \u524d\u63d0\n* \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306a\u3093\u3066\u307e\u3063\u305f\u304f\u8003\u616e\u3057\u3066\u3044\u306a\u3044\n* \u65e2\u306bVMware vCenter Server Appliance 5.1\u304c\u69cb\u7bc9\u6e08\u307f\n* Apache\u3067VirtualHost\u3057\u3066\u308b\n\n## \u5fc5\u8981\u306a\u3082\u306e\n\u81ea\u5b85\u306e\u30d5\u30ed\u30f3\u30c8Web\u30b5\u30fc\u30d0\u3068\u306a\u3063\u3066\u3044\u308bApache\u306b\u306fmod_ssl\u304c\u5165\u3063\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3067\u3001yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\n```bash:\nyum -y install mod_ssl\n```\n\n# \u624b\u9806\n\n## ssl.conf\u306e\u7121\u52b9\u5316\n\u5927\u4f53\u3001conf.d/*.conf\u3067Include\u3055\u308c\u3066\u3044\u308b\u306a\u306e\u3067\u3001ssl.conf\u3092\u9069\u5f53\u306bssl.conf.disable\u3068\u304b\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\n\n```bash:\nmv ssl.conf ssl.conf.disable\n```\n\n## VirtualHost\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\n\u65e2\u306bHTTP(80)\u3067\u3084\u3063\u3066\u304d\u305f\u3082\u306e\u306f\u305d\u308c\u305e\u308c\u540d\u524d\u30d9\u30fc\u30b9\u3067\u632f\u308a\u5206\u3051\u3066\u3044\u305f\u306e\u3067\u3001HTTPS(443)\u3078\u3084\u3063\u3066\u304d\u305f\u3082\u306e\u3078\u306e\u5bfe\u51e6\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```text:\nNameVirtualHost *:80\n<VirtualHost  _default_:80>\n        ServerName www.sanya.local\n        DocumentRoot /var/www/html\n        DirectoryIndex index.html\n        <Directory /var/www/html>\n                Options None\n                AllowOverride None\n                Order allow,deny\n                Deny from all\n        </Directory>\n</VirtualHost>\n<VirtualHost *:80>\n        ServerName wiki.sanya.local\n        DirectoryIndex index.html index.php\n        ProxyRequests Off\n        ProxyVia Off\n        ProxyPreserveHost On\n        <Proxy *>\n                Order deny,allow\n                Allow from all\n        </Proxy>\n        ProxyPass / http://192.168.21.100/\n        ProxyPassReverse / http://192.168.21.100/\n</VirtualHost>\n```\n\n\u4e0a\u8a18\u304c\u8ffd\u8a18\u524d\u306e\u3082\u306e\u3002\nSSL\u3092\u9069\u5f53\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```text:\nLoadModule ssl_module modules/mod_ssl.so\nListen 443\nSSLPassPhraseDialog  builtin\nSSLSessionCache         shmcb:/var/cache/mod_ssl/scache(512000)\nSSLSessionCacheTimeout  300\nSSLMutex default\nSSLRandomSeed startup file:/dev/urandom  256\nSSLRandomSeed connect builtin\nSSLCryptoDevice builtin\nNameVirtualHost *:443\n```\n\nNameVirtualHost *:80\u306e\u5f8c\u306b\u8ffd\u8a18\u3057\u307e\u3057\u305f\u3002\n\u305d\u3057\u3066\u3001\u72d9\u3044\u306evCenter\u3078ProxyPass\u3092\u66f8\u304d\u307e\u3059\u3002\n\n```text:\n<VirtualHost *:443>\n        ServerName vm.sanya.local\n        DirectoryIndex index.html\n        SSLEngine on\n        SSLProtocol all\n        SSLCipherSuite ALL:!ADH:!EXPORT:!SSLv2:RC4+RSA:+HIGH:+MEDIUM:+LOW\n        SSLCertificateFile /etc/pki/tls/certs/localhost.crt\n        SSLCertificateKeyFile /etc/pki/tls/private/localhost.key\n        SSLProxyEngine on\n        ProxyRequests Off\n        ProxyVia Off\n        ProxyPreserveHost On\n        <Proxy *>\n                Order deny,allow\n                Allow from all\n        </Proxy>\n        ProxyPass / https://192.168.21.101:9443/\n        ProxyPassReverse / https://192.168.21.101:9443/\n</VirtualHost>\n```\n\nSSL\u3067\u59cb\u307e\u308b\u8a18\u8ff0\u306fssl.conf\u306b\u3042\u3063\u305f\u3082\u306e\u3092\u305d\u306e\u307e\u307e\u6301\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u8fba\u304c\u5b9f\u306f\u3082\u3046\u3061\u3087\u3063\u3068\u8003\u3048\u305f\u304c\u3044\u3044\u304b\u3082\uff1f\u3068\u601d\u3046\u70b9\u3067\u3059\u304c\u3001\u307e\u3041\u4eca\u56de\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\u666e\u901a\u306b\u898b\u308c\u307e\u3057\u305f\u3002\n443\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306f\u554f\u7b54\u7121\u7528\u3067vCenter\u306b\u5411\u304b\u3063\u3066\u3044\u304d\u307e\u3059\u3002\nGoogleChrome\u306ePlug-in\u3082\u8ffd\u52a0\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u554f\u984c\u306a\u304f\u30b3\u30f3\u30bd\u30fc\u30eb\u3082\u4f7f\u3048\u3066\u307e\u3057\u305f\u3002\n\u5185\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3067\u306e\u901a\u4fe1\u306e\u307f\u3067\u3057\u305f\u306e\u3067\u3001\u5916\u90e8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u9045\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff3e\uff3e\uff1b\n\n\u307e\u3041\u3001\u3053\u308c\u3067\u304a\u3057\u307e\u3044\u3002\n", "tags": ["vmware", "Apache", "mod_proxy", "mod_ssl"]}