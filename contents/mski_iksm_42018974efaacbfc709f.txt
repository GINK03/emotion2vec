{"context": "python\u3092\u52b9\u7387\u7684\u306b\u56de\u3059\u305f\u3081\u306etips\u96c6\uff08\u968f\u6642\u66f4\u65b0\uff09\n\u203bimport numpy as np\u306f\u5168\u90e8\u7701\u7565\n\u203bpython 2.7\u3092\u4f7f\u7528\n\nfor\u3092\u4f7f\u308f\u306a\u3044\n\u3068\u306b\u304b\u304f\u9045\u3044\u304b\u3089for\u306f\u4f7f\u308f\u306a\u3044\u3002\n\u30d9\u30af\u30c8\u30eb\u8a08\u7b97\u3092\u884c\u3046\u304bmap\u3092\u4f7f\u3063\u3066\u4e26\u5217\u3067\u3084\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n#bad way\n# numpy array\u306ea\u3068\u304bb\u304c\u3042\u308b\u3068\u3059\u308b\nfor i in np.arange(100):\n    for j in np.arange(100):\n        a[i][j]=b[i][j]+1\n\n#good way\na=b+1\n\n#bad way 2\nfor i in np.arange(100):\n    for j in np.arange(100):\n        calc()\n\n#good way 2\nfrom multiprocessing import Pool\nfrom multiprocessing import Process\nimport itertools\n\ni_list=np.arange(100)\nj_list=np.arange(100)\nij_list=list(itertools.product(i_list,j_list))\n\np=Pool()\np.map(calc,ij_list)\n\n\n\u30e1\u30e2\u30ea\u7ba1\u7406\n\u30e1\u30e2\u30ea\u306e\u5727\u8feb\u3092\u9632\u3050\u305f\u3081\u306b\u3001\u4f7f\u308f\u306a\u304f\u306a\u3063\u305f\u884c\u5217\u306f0\u306b\u3059\u308b\na=np.ones(10000**2).reshape([10000,10000])\n\n# a\u306e\u306a\u3093\u304b\u306e\u51e6\u7406\n# a\u306f\u3082\u3046\u3044\u3089\u306a\u3044\u306e\u3067=0\u306b\u3059\u308b\na=0\n# a\u306e\u5206\u306e\u30e1\u30e2\u30ea\u304c\u89e3\u653e\u3055\u308c\u308b\u306f\u305a\n\npython\u3092\u52b9\u7387\u7684\u306b\u56de\u3059\u305f\u3081\u306etips\u96c6\uff08\u968f\u6642\u66f4\u65b0\uff09\n\n\u203b`import numpy as np`\u306f\u5168\u90e8\u7701\u7565\n\u203bpython 2.7\u3092\u4f7f\u7528\n\n\n##for\u3092\u4f7f\u308f\u306a\u3044\n\u3068\u306b\u304b\u304f\u9045\u3044\u304b\u3089for\u306f\u4f7f\u308f\u306a\u3044\u3002\n\u30d9\u30af\u30c8\u30eb\u8a08\u7b97\u3092\u884c\u3046\u304bmap\u3092\u4f7f\u3063\u3066\u4e26\u5217\u3067\u3084\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\n```python\n#bad way\n# numpy array\u306ea\u3068\u304bb\u304c\u3042\u308b\u3068\u3059\u308b\nfor i in np.arange(100):\n\tfor j in np.arange(100):\n\t\ta[i][j]=b[i][j]+1\n```\n\n```python\n#good way\na=b+1\n```\n\n```python\n#bad way 2\nfor i in np.arange(100):\n\tfor j in np.arange(100):\n\t\tcalc()\n```\n\n```python\n#good way 2\nfrom multiprocessing import Pool\nfrom multiprocessing import Process\nimport itertools\n\ni_list=np.arange(100)\nj_list=np.arange(100)\nij_list=list(itertools.product(i_list,j_list))\n\np=Pool()\np.map(calc,ij_list)\n```\n\n##\u30e1\u30e2\u30ea\u7ba1\u7406\n\u30e1\u30e2\u30ea\u306e\u5727\u8feb\u3092\u9632\u3050\u305f\u3081\u306b\u3001\u4f7f\u308f\u306a\u304f\u306a\u3063\u305f\u884c\u5217\u306f0\u306b\u3059\u308b\n\n```python\na=np.ones(10000**2).reshape([10000,10000])\n\n# a\u306e\u306a\u3093\u304b\u306e\u51e6\u7406\n# a\u306f\u3082\u3046\u3044\u3089\u306a\u3044\u306e\u3067=0\u306b\u3059\u308b\na=0\n# a\u306e\u5206\u306e\u30e1\u30e2\u30ea\u304c\u89e3\u653e\u3055\u308c\u308b\u306f\u305a\n```\n", "tags": ["numpy", "Python"]}