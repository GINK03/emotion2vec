{"tags": ["AngularJS", "Rails", "webpack", "Ruby"], "context": "\u5148\u65e5\u793e\u5185\u3067Rails\u3092\u3082\u306e\u3059\u3054\u3044\u901f\u3055\u3067\u7fd2\u5f97\u3057\u3088\u3046\u3088\u5408\u5bbf\u304c\u958b\u50ac\u3055\u308c\u305f\u3002\n\u81ea\u5206\u306fRails\u3092\u5c11\u3057\u3060\u3051\u304b\u3058\u3063\u305f\u3053\u3068\u304c\u3042\u3063\u305f\u305f\u3081\u307e\u3060\u898b\u306cAPI\u30e2\u30fc\u30c9\u3092\u679c\u6562\u306b\u653b\u3081\u3066\u307f\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n\u74b0\u5883\nruby   \uff1a 2.2.4\nRails  \uff1a 5.0.0.1\nAngular\uff1a 1.5.8\uff08\u3060\u3063\u3066Angular2\u306f\u305a\u3063\u3068-rc.~\u306a\u3093\u3060\u3082\u306e\uff09\nWebpack\uff1a 1.13.2\nAngularMaterial\uff1a1.1.1\n\u30bd\u30fc\u30b9\u3082\u7f6e\u3044\u3068\u304f\u306e\u3067\u53c2\u8003\u306b\u3069\u3046\u305e\u3002\n\nRails\u306e\u74b0\u5883\u306f\u51fa\u6765\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u3066\u8a71\u3092\u9032\u3081\u3066\u3044\u304f\u3088\n\n1.RailsAPI\n\u3010\u53c2\u8003\u3011\nRails \u306b\u3088\u308b API \u5c02\u7528\u30a2\u30d7\u30ea\n\u5927\u4e8b\u306a\u3053\u3068\u306f\u5168\u3066RailsGuides\u306b\uff08\u3061\u3083\u3093\u3068\u65e5\u672c\u8a9e\u3067\uff09\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3053\u3053\u3067\u306f\u7aef\u6298\u308a\u307e\u3059\u3002\nAPI\u5c02\u7528\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\u305f\u3081\u306b\u306f\u3044\u3064\u3082\u306erails new\u30b3\u30de\u30f3\u30c9\u306b--api\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3060\u3051\u306b\u306a\u308a\u307e\u3059\u3002\ndb\u4f7f\u3046\u5834\u5408\u306f\u5f8c\u304b\u3089\u8a2d\u5b9a\u3044\u3058\u308b\u306e\u306f\u624b\u9593\u306a\u306e\u3067-d\u30aa\u30d7\u30b7\u30e7\u30f3\u3082\u3064\u3051\u307e\u3057\u3087\u3046\u3002\n$rails new rails-api-angular --api\n\n\u51fa\u3066\u304d\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u304c\u3053\u3046\n\n\u901a\u5e38\u306eRails\u30a2\u30d7\u30ea\u3068\u6bd4\u8f03\u3057\u3066\n\napp/helpers\napp/frontend\n\n\u304c\u6e1b\u3063\u3066\n\napp/jobs\n\n\u304c\u5897\u3048\u3066\u308b\u3002\napp/controllers/application_controller.rb\u3082::Base\u304b\u3089::API\u306b\u5909\u308f\u3063\u3066\u307e\u3059\u3002\n\napplication_controller.rb\nclass ApplicationController < ActionController::API\nend\n\n\nGemfile\u3082\u3059\u3063\u304d\u308a\nsource 'https://rubygems.org'\n\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', '~> 5.0.0', '>= 5.0.0.1'\n# Use mysql as the database for Active Record\ngem 'mysql2', '>= 0.3.18', '< 0.5'\n# Use Puma as the app server\ngem 'puma', '~> 3.0'\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\n# gem 'jbuilder', '~> 2.5'\n# Use Redis adapter to run Action Cable in production\n# gem 'redis', '~> 3.0'\n# Use ActiveModel has_secure_password\n# gem 'bcrypt', '~> 3.1.7'\n\n# Use Capistrano for deployment\n# gem 'capistrano-rails', group: :development\n\n# Use Rack CORS for handling Cross-Origin Resource Sharing (CORS), making cross-origin AJAX possible\n# gem 'rack-cors'\n\ngroup :development, :test do\n  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n  gem 'byebug', platform: :mri\nend\n\ngroup :development do\n  gem 'listen', '~> 3.0.5'\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\n  gem 'spring-watcher-listen', '~> 2.0.0'\nend\n\n# Windows does not include zoneinfo files, so bundle the tzinfo-data gem\ngem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]\n\n\n\n2.Angular\n\u4eca\u56de\u306f\u4f5c\u3063\u305f\u30a2\u30d7\u30ea\u306e\u76f4\u4e0b\u306bAngular\u306e\u74b0\u5883\u3082\u4f5c\u3063\u3066\u3057\u307e\u3044\u3001\n\u305d\u308c\u3092webpack\u3067bundle\u3057\u3066public\u306b\u7a81\u3063\u8fbc\u3093\u3067\u3042\u3052\u308b\u3068\u3044\u3046\u65b9\u5f0f\u3092\u53d6\u308a\u307e\u3059\u3002\n\u3010\u53c2\u8003\u3011\nWebPack\u3092\u4f7f\u3063\u3066Rails\u304b\u3089JavaScript\u3092\u697d\u306b\u826f\u3044\u611f\u3058\u306b\u5206\u96e2\u3059\u308b\nRails 4.2\u3067Sprockets\u3092\u6368\u3066\u3066webpack\u306b\u79fb\u884c\u3059\u308b\n\n2-1.Angular\u3068webpack\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u307e\u305a\u306fpackage.json\u3092\u6e96\u5099\uff08\u65e2\u5b58\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304b\u3089\u6301\u3063\u3066\u304d\u305f\u306e\u3067\u5fc5\u8981\u7121\u3044\u306e\u304c\u6df7\u3056\u3063\u3066\u3066\u3082\u6c17\u306b\u3057\u306a\u3044\u3067\u306d\uff09\n\npackage.json\n{\n  \"name\": \"rails-api-angular\",\n  \"version\": \"1.0.0\",\n  \"description\": \"rails-api-angular\",\n  \"scripts\": {\n    \"dev\": \"webpack-dev-server --hot --inline --port 3500 --progress --profile --colors\",\n    \"build\": \"NODE_ENV=production webpack -p --progress --profile --colors \"\n  },\n  \"dependencies\": {\n    \"angular\": \"1.5.8\",\n    \"angular-animate\": \"1.5.8\",\n    \"angular-aria\": \"1.5.8\",\n    \"angular-cookies\": \"1.5.8\",\n    \"angular-material\": \"1.1.1\",\n    \"angular-material-icons\": \"0.7.1\",\n    \"angular-messages\": \"1.5.8\",\n    \"angular-resource\": \"1.5.8\",\n    \"angular-route\": \"1.5.8\",\n    \"angular-sanitize\": \"1.5.8\",\n    \"clean-webpack-plugin\": \"^0.1.9\",\n    \"css-loader\": \"^0.23.1\",\n    \"es6-promise\": \"~3.2.1\",\n    \"eslint-plugin-jsx-a11y\": \"^1.5.5\",\n    \"eslint-plugin-react\": \"^5.2.2\",\n    \"extract-text-webpack-plugin\": \"^1.0.1\",\n    \"file-loader\": \"^0.8.5\",\n    \"font-awesome\": \"^4.6.3\",\n    \"font-awesome-sass-loader\": \"^1.0.1\",\n    \"imports-loader\": \"^0.6.5\",\n    \"jquery\": \"^2.2.4\",\n    \"json-loader\": \"^0.5.4\",\n    \"node-sass\": \"^3.7.0\",\n    \"sass-loader\": \"^3.2.0\",\n    \"style-loader\": \"^0.13.1\",\n    \"ts-loader\": \"^0.8.1\",\n    \"url-loader\": \"^0.5.7\",\n    \"webpack\": \"^1.13.2\",\n    \"webpack-manifest-plugin\": \"^1.0.1\"\n  },\n  \"devDependencies\": {\n    \"es5-shim\": \"^4.5.7\",\n    \"eslint\": \"^2.9.0\",\n    \"eslint-config-airbnb\": \"^9.0.1\",\n    \"eslint-import-resolver-webpack\": \"^0.2.4\",\n    \"eslint-plugin-import\": \"^1.7.0\",\n    \"typescript\": \"^1.8.10\",\n    \"webpack-dev-middleware\": \"^1.6.1\",\n    \"webpack-dev-server\": \"^1.14.1\",\n    \"webpack-hot-middleware\": \"^2.10.0\"\n  }\n}\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n$npm install\n\n\n2-2. Angular\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\u5fc5\u8981\u6700\u4f4e\u9650\u306eAngular\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n$mkdir app/angular\n$cd app/angular/\n$mkdir javascripts\n$touch javascripts/application.ts\n$mkdir stylesheets\n$touch stylesheets/application.sass\n\nTypescript\u306e\u578b\u5b9a\u7fa9\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3044\u3064\u3082\u4f7f\u3063\u3066\u3044\u308bdtsm\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u304c\u3069\u306e\u578b\u5b9a\u7fa9\u7ba1\u7406\u30c4\u30fc\u30eb\u3082\u5927\u4f53\u52dd\u624b\u306f\u4e00\u7dd2\u306a\u306e\u3067\u597d\u304d\u306a\u3082\u306e\u3092\u4f7f\u3063\u305f\u3089\u3044\u3044\u3058\u3083\u306a\u3044\u3002\n$dtsm init\n\n\u3067\u304d\u305fdtsm.json\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\ndtsm.json\n{\n  \"repos\": [\n    {\n      \"url\": \"https://github.com/DefinitelyTyped/DefinitelyTyped.git\",\n      \"ref\": \"master\"\n    }\n  ],\n  \"path\": \"typings\",\n  \"bundle\": \"typings/bundle.d.ts\",\n  \"link\": {\n    \"npm\": {\n      \"include\": true\n    }\n  },\n  \"dependencies\": {\n    \"node/node.d.ts\": {\n      \"ref\": \"17795ae18fc214be862fe578ad48c28fecfef8a6\"\n    },\n    \"angularjs/angular.d.ts\": {\n      \"ref\": \"17795ae18fc214be862fe578ad48c28fecfef8a6\"\n    },\n    \"angular-material/angular-material.d.ts\": {\n      \"ref\": \"17795ae18fc214be862fe578ad48c28fecfef8a6\"\n    },\n    \"angular-cookie/angular-cookie.d.ts\": {\n      \"ref\": \"17795ae18fc214be862fe578ad48c28fecfef8a6\"\n    },\n    \"angularjs/angular-animate.d.ts\": {\n      \"ref\": \"0c5c7a2d2bd0ce7dcab963a8402a9042749ca2da\"\n    }\n  }\n}\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n$dtsm install\n\njavascripts/application.ts\u3067angular\u3068\u305d\u306e\u4ed6\u8af8\u3005\u3001stylesheets/application.sass\u3092require\u3057\u307e\u3059\n\napplication.ts\n/// <reference path=\"./typings/bundle.d.ts\"/>\n\n// angular\nimport angular = require('angular')\nrequire('angular-material')\nrequire('angular-cookies')\nrequire('angular-resource')\nrequire('angular-sanitize')\nrequire('angular-route')\nrequire('angular-animate')\nrequire('angular-material-icons')\nrequire('es5-shim')\n\nlet app = angular.module('App', [\n    'ngMaterial',\n    'ngCookies',\n    'ngResource',\n    'ngSanitize',\n    'ngRoute',\n    'ngMdIcons',\n    'ngAnimate'\n]);\n\n//stylesheets\nrequire('../stylesheets/application')\n\n//angular-material\u306eTheme\napp.config(($mdThemingProvider) => {\n    $mdThemingProvider.theme('default')\n                      .primaryPalette('grey', {\n                          'default': '100'\n                      })\n                      .accentPalette('pink', {\n                          'default': '700'\n                      });\n});\n\n//Controller\u3082\u4e00\u7dd2\u306b\u5b9a\u7fa9\u3057\u3061\u3083\u3044\u307e\u3057\u305f\nexport default class AppCtrl {\n    private title: string = 'Hello RailsAPI \u00d7 Angular\uff01'\n    static $inject = ['$rootScope', '$scope', '$cookies', '$window', '$timeout', '$location']\n    constructor(\n        private rootScope: ng.IRootScopeService,\n        private scope: ng.IScope,\n        private cookies: any,\n        private window: ng.IWindowService,\n        private timeout: ng.ITimeoutService,\n        private location: ng.ILocationService\n    ) {\n    }\n}\n\napp.controller('AppCtrl', AppCtrl)\n\n\nstylesheets/application.sass\u3067angular-material\u3092import\u3057\u307e\u3059\n\napplication.sass\n@import '~angular-material/angular-material.css'\n\nbody\n  background-color: whitesmoke\n\n.header\n  md-toolbar\n    color: #D81B60\n    button\n      height: 100%\n      margin: 0px\n\n// angular\u306e\u8a55\u4fa1\u5f0f\u304c\u4e00\u77ac\u898b\u3048\u3061\u3083\u3046\u554f\u984c\u5bfe\u5fdc\n[ng\\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak\n  display: none !important\n\n\n\n2-3.webpack\u8a2d\u5b9a\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u76f4\u4e0b\u306bwebpack.config.js\u3092\u4f5c\u6210\u3059\u308b\n\nwebpack.config.js\nconst DEBUG = process.env.NODE_ENV === 'development' || process.env.NODE_ENV === undefined;\nconst webpack = require('webpack');\nconst path = require('path');\n\n/**\n * Require webpack plugins\n */\nconst ManifestPlugin = require('webpack-manifest-plugin');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst CleanWebpackPlugin = require('clean-webpack-plugin');\n\n/**\n * Environment settings\n */\nconst devtool = DEBUG ? '#inline-source-map' : '#eval';\nconst fileName = DEBUG ? '[name]' : '[name]-[hash]';\nconst publicPath = DEBUG ? 'http://localhost:3500/assets/' : '/assets/';\n\n/**\n *  Entries\n */\nconst entries = {\n    application: ['./app/angular/javascripts/application.ts']\n}\n\n/**\n * Add plugins\n */\nconst plugins = [\n    new ExtractTextPlugin(fileName + '.css')\n]\n\nif (DEBUG) {\n    plugins.push(new webpack.NoErrorsPlugin());\n} else {\n    plugins.push(new ManifestPlugin({fileName: 'webpack-manifest.json'}));\n    plugins.push(new webpack.optimize.UglifyJsPlugin({compress: {warnings: false}}));\n    plugins.push(new CleanWebpackPlugin(['assets'], {\n        root: __dirname + '/public',\n        verbose: true,\n        dry: false\n    }));\n}\n\nmodule.exports = {\n    entry: entries,\n    output: {\n        path: __dirname + '/public/assets',\n        filename: fileName + '.js',\n        publicPath: publicPath\n    },\n    devtool: devtool,\n    plugins: plugins,\n    module: {\n        loaders: [\n            {\n                test: /\\.ts$/,\n                loader: 'ts',\n                exclude: [/node_modules/]\n            },\n            {\n                test: /\\.css$/,\n                loader: ExtractTextPlugin.extract('style-loader', 'css-loader?minimize')\n            },\n            {\n                test: /\\.scss$/,\n                loader: ExtractTextPlugin.extract('style-loader', 'css-loader!sass-loader?minimize')\n            },\n            {\n                test: /\\.sass$/,\n                loader: ExtractTextPlugin.extract('style-loader', 'css-loader!sass-loader?minimize')\n            },\n            {\n                test: /\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n                loader: 'url-loader?mimetype=image/svg+xml'\n            },\n            {\n                test: /\\.woff(\\d+)?(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n                loader: 'url-loader?mimetype=application/font-woff'\n            },\n            {\n                test: /\\.eot(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n                loader: 'url-loader?mimetype=application/font-woff'\n            },\n            {\n                test: /\\.ttf(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n                loader: 'url-loader?mimetype=application/font-woff'\n            },\n            {\n                test: /\\.(jpg|png|gif)$/,\n                loader: DEBUG ? 'file-loader?name=[name].[ext]' : 'file-loader?name=[name]-[hash].[ext]'\n            }\n        ]\n    },\n    resolve: {\n        root: path.resolve(__dirname, 'app', 'angular'),\n        extensions: ['', '.js', '.ts', '.css', '.scss', '.sass'],\n    },\n    devServer: {\n        headers: {\n            \"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n            \"Access-Control-Allow-Credentials\": \"true\"\n        }\n    }\n}\n\n\n\u3053\u308c\u3067\u958b\u767a\u4e2d\u306f\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3061\u4e0a\u3052\u3066watch\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3002\u4fbf\u5229\u3002\n\u5148\u307b\u3069\u306epackage.json\u306b\u3053\u3063\u305d\u308a\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u305f\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3044\u3066\u307f\u308b\n$npm run dev\n\n\u3059\u308b\u3068\u3053\u3093\u306a\u30a8\u30e9\u30fc\u51fa\u305f\nERROR in ./app/angular/javascripts/application.ts\nModule build failed: TypeError: Path must be a string. Received undefined\n    at assertPath (path.js:7:11)\n    at Object.dirname (path.js:1324:5)\n    at ensureTypeScriptInstance (/Users/nozakishohei/WorkSpace/repository/sample/rails-api-angular/node_modules/ts-loader/index.js:156:103)\n    at Object.loader (/Users/nozakishohei/WorkSpace/repository/sample/rails-api-angular/node_modules/ts-loader/index.js:403:14)\n @ multi application\n\n\u306a\u308b\u307b\u3069\u3002ts-loader\u306ftsconfig.json\u304c\u5fc5\u9808\u3060\u3063\u3066\u3088\uff01\n\u3068\u3044\u3046\u308f\u3051\u3067\u4f5c\u3063\u3066\u3042\u3052\u308b\n$touch app/angular/javascripts/tsconfig.json\n\n\ntsconfig.json\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"sourceMap\": true\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n\n\n\u3053\u308c\u3067\u518d\u5ea6npm run dev\u3059\u308b\u3068\u6210\u529f\u3057\u305f\u3002\n\u3042\u3068\u306f\u753b\u9762\u304b\u3089\u547c\u3076\u3060\u3051\u3002\n\n3.\u753b\u9762\u4f5c\u308b\n\u30bf\u30a4\u30c8\u30eb\u304b\u3089\u4e00\u8cab\u3057\u3066RailsAPI\u3068\u3044\u3046\u5358\u8a9e\u3092\u4f7f\u3063\u3066\u304d\u305f\u304c\u3053\u3053\u306b\u304d\u3066\u639f\u3092\u3076\u3061\u7834\u308b\u3002\uff08root\u8a2d\u5b9a\u3057\u30661\u753b\u9762\u3060\u3051\u4f5c\u3063\u3061\u3083\u3046\uff09\n\n3-1 root\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3057\u307e\u3046\uff081\u753b\u9762\u3060\u3051\u3060\u304b\u3089\u8a31\u3057\u3066\uff09\nroutes.rb\u306broot\u3092\u8a2d\u5b9a\u3059\u308b\n\u3082\u3046\u4f55\u3082\u601d\u3044\u3064\u304b\u306a\u304f\u3066root#index\u306b\u3057\u3066\u3057\u307e\u3063\u305f\u304c\u597d\u304d\u306a\u540d\u524d\u3092\u3064\u3051\u3066\u306d\u3002\n\nconfig/routes.rb\nRails.application.routes.draw do\n    root 'root#index'\nend\n\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3082\u4f5c\u308b\n\ncontrollers/root_controller.rb\nclass RootController < ActionController::Base\n    def index\n    end\nend\n\n\n\u305d\u308c\u3063\u307d\u3044\u30c8\u30c3\u30d7\u753b\u9762\u3082\u4f5c\u308b\n\nviews/root/index.erb\n<html ng-app=\"App\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\", content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n  <title>rails-api-angular</title>\n</head>\n<body ng-controller=\"AppCtrl as appCtrl\" ng-cloak>\n  <header class=\"header md-whiteframe-3dp\">\n    <md-toolbar md-scroll-shrink>\n      <div class=\"md-toolbar-tools\">\n        <h3>\n          <span>rails-api-angular</span>\n        </h3>\n        <span flex></span>\n        <md-button class=\"md-accent\">Sign up</md-button>\n        <md-button class=\"md-accent\">Log in</md-button>\n      </div>\n    </md-toolbar>\n  </header>\n\n  <div layout=\"row\" layout-align=\"center center\">\n    <h1>{{appCtrl.title}}</h1>\n  </div>\n\n<%= stylesheet_link_tag webpack_asset_path('application.css') %>\n<%= javascript_include_tag webpack_asset_path('application.js')%>\n</body>\n</html>\n\n\nwebpack\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u3092\u8aad\u307f\u5206\u3051\u308b\u30d8\u30eb\u30d1\u30fc\u95a2\u6570webpack_asset_path\u3092\u751f\u3084\u3059\u3002\n\napp/helpers/root_helper.rb\nmodule RootHelper\n    def webpack_asset_path(path)\n        if Rails.env.development?\n            return \"http://localhost:3500/assets/#{path}\"\n        end\n\n        host = Rails.application.config.action_controller.asset_host\n        manifest = Rails.application.config.assets.webpack_manifest\n        path = manifest[path] if manifest && manifest[path].present?\n        \"#{host}/assets/#{path}\"\n    end\nend\n\n\n\u3064\u3044\u306brails\u3092\u8d77\u52d5\u3057\u3066localhost:3000\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\n$rails s\n\n\u304d\u305f\uff01\n\n\n\u5148\u65e5\u793e\u5185\u3067`Rails\u3092\u3082\u306e\u3059\u3054\u3044\u901f\u3055\u3067\u7fd2\u5f97\u3057\u3088\u3046\u3088\u5408\u5bbf`\u304c\u958b\u50ac\u3055\u308c\u305f\u3002\n\u81ea\u5206\u306fRails\u3092\u5c11\u3057\u3060\u3051\u304b\u3058\u3063\u305f\u3053\u3068\u304c\u3042\u3063\u305f\u305f\u3081\u307e\u3060\u898b\u306cAPI\u30e2\u30fc\u30c9\u3092\u679c\u6562\u306b\u653b\u3081\u3066\u307f\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n## \u74b0\u5883\nruby   \uff1a 2.2.4\nRails  \uff1a 5.0.0.1\nAngular\uff1a 1.5.8\uff08\u3060\u3063\u3066Angular2\u306f\u305a\u3063\u3068`-rc.~`\u306a\u3093\u3060\u3082\u306e\uff09\nWebpack\uff1a 1.13.2\nAngularMaterial\uff1a1.1.1\n\n[\u30bd\u30fc\u30b9](https://github.com/4take/rails-api-angular)\u3082\u7f6e\u3044\u3068\u304f\u306e\u3067\u53c2\u8003\u306b\u3069\u3046\u305e\u3002\n\n### Rails\u306e\u74b0\u5883\u306f\u51fa\u6765\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u3066\u8a71\u3092\u9032\u3081\u3066\u3044\u304f\u3088\n\n## 1.RailsAPI\n\u3010\u53c2\u8003\u3011\n[Rails \u306b\u3088\u308b API \u5c02\u7528\u30a2\u30d7\u30ea](http://railsguides.jp/api_app.html)\n\n\u5927\u4e8b\u306a\u3053\u3068\u306f\u5168\u3066RailsGuides\u306b\uff08\u3061\u3083\u3093\u3068\u65e5\u672c\u8a9e\u3067\uff09\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u3053\u3053\u3067\u306f\u7aef\u6298\u308a\u307e\u3059\u3002\n\nAPI\u5c02\u7528\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\u305f\u3081\u306b\u306f\u3044\u3064\u3082\u306e`rails new`\u30b3\u30de\u30f3\u30c9\u306b`--api`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3060\u3051\u306b\u306a\u308a\u307e\u3059\u3002\ndb\u4f7f\u3046\u5834\u5408\u306f\u5f8c\u304b\u3089\u8a2d\u5b9a\u3044\u3058\u308b\u306e\u306f\u624b\u9593\u306a\u306e\u3067`-d`\u30aa\u30d7\u30b7\u30e7\u30f3\u3082\u3064\u3051\u307e\u3057\u3087\u3046\u3002\n\n```\n$rails new rails-api-angular --api\n```\n\n\u51fa\u3066\u304d\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u304c\u3053\u3046\n\n<img src=\"https://qiita-image-store.s3.amazonaws.com/0/127115/f9855fd7-015a-5a50-9ffd-0a4238ca27d6.png\" width=\"250px\"/>\n\n\u901a\u5e38\u306eRails\u30a2\u30d7\u30ea\u3068\u6bd4\u8f03\u3057\u3066\n\n- app/helpers\n- app/frontend\n\n\u304c\u6e1b\u3063\u3066\n\n- app/jobs\n\n\u304c\u5897\u3048\u3066\u308b\u3002\n\n`app/controllers/application_controller.rb`\u3082`::Base`\u304b\u3089`::API`\u306b\u5909\u308f\u3063\u3066\u307e\u3059\u3002\n\n```application_controller.rb\nclass ApplicationController < ActionController::API\nend\n```\n\n`Gemfile`\u3082\u3059\u3063\u304d\u308a\n\n```Gemfile\nsource 'https://rubygems.org'\n\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', '~> 5.0.0', '>= 5.0.0.1'\n# Use mysql as the database for Active Record\ngem 'mysql2', '>= 0.3.18', '< 0.5'\n# Use Puma as the app server\ngem 'puma', '~> 3.0'\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\n# gem 'jbuilder', '~> 2.5'\n# Use Redis adapter to run Action Cable in production\n# gem 'redis', '~> 3.0'\n# Use ActiveModel has_secure_password\n# gem 'bcrypt', '~> 3.1.7'\n\n# Use Capistrano for deployment\n# gem 'capistrano-rails', group: :development\n\n# Use Rack CORS for handling Cross-Origin Resource Sharing (CORS), making cross-origin AJAX possible\n# gem 'rack-cors'\n\ngroup :development, :test do\n  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n  gem 'byebug', platform: :mri\nend\n\ngroup :development do\n  gem 'listen', '~> 3.0.5'\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\n  gem 'spring-watcher-listen', '~> 2.0.0'\nend\n\n# Windows does not include zoneinfo files, so bundle the tzinfo-data gem\ngem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]\n\n```\n\n## 2.Angular\n\n\u4eca\u56de\u306f\u4f5c\u3063\u305f\u30a2\u30d7\u30ea\u306e\u76f4\u4e0b\u306bAngular\u306e\u74b0\u5883\u3082\u4f5c\u3063\u3066\u3057\u307e\u3044\u3001\n\u305d\u308c\u3092webpack\u3067bundle\u3057\u3066public\u306b\u7a81\u3063\u8fbc\u3093\u3067\u3042\u3052\u308b\u3068\u3044\u3046\u65b9\u5f0f\u3092\u53d6\u308a\u307e\u3059\u3002\n\n\u3010\u53c2\u8003\u3011\n[WebPack\u3092\u4f7f\u3063\u3066Rails\u304b\u3089JavaScript\u3092\u697d\u306b\u826f\u3044\u611f\u3058\u306b\u5206\u96e2\u3059\u308b](http://qiita.com/necojackarc/items/afa674ab10aafa9784eb)\n[Rails 4.2\u3067Sprockets\u3092\u6368\u3066\u3066webpack\u306b\u79fb\u884c\u3059\u308b](http://qiita.com/dakatsuka/items/c815a27b9740c843bee0)\n\n### 2-1.Angular\u3068webpack\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u307e\u305a\u306f`package.json`\u3092\u6e96\u5099\uff08\u65e2\u5b58\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304b\u3089\u6301\u3063\u3066\u304d\u305f\u306e\u3067\u5fc5\u8981\u7121\u3044\u306e\u304c\u6df7\u3056\u3063\u3066\u3066\u3082\u6c17\u306b\u3057\u306a\u3044\u3067\u306d\uff09\n\n```package.json\n{\n  \"name\": \"rails-api-angular\",\n  \"version\": \"1.0.0\",\n  \"description\": \"rails-api-angular\",\n  \"scripts\": {\n    \"dev\": \"webpack-dev-server --hot --inline --port 3500 --progress --profile --colors\",\n    \"build\": \"NODE_ENV=production webpack -p --progress --profile --colors \"\n  },\n  \"dependencies\": {\n    \"angular\": \"1.5.8\",\n    \"angular-animate\": \"1.5.8\",\n    \"angular-aria\": \"1.5.8\",\n    \"angular-cookies\": \"1.5.8\",\n    \"angular-material\": \"1.1.1\",\n    \"angular-material-icons\": \"0.7.1\",\n    \"angular-messages\": \"1.5.8\",\n    \"angular-resource\": \"1.5.8\",\n    \"angular-route\": \"1.5.8\",\n    \"angular-sanitize\": \"1.5.8\",\n    \"clean-webpack-plugin\": \"^0.1.9\",\n    \"css-loader\": \"^0.23.1\",\n    \"es6-promise\": \"~3.2.1\",\n    \"eslint-plugin-jsx-a11y\": \"^1.5.5\",\n    \"eslint-plugin-react\": \"^5.2.2\",\n    \"extract-text-webpack-plugin\": \"^1.0.1\",\n    \"file-loader\": \"^0.8.5\",\n    \"font-awesome\": \"^4.6.3\",\n    \"font-awesome-sass-loader\": \"^1.0.1\",\n    \"imports-loader\": \"^0.6.5\",\n    \"jquery\": \"^2.2.4\",\n    \"json-loader\": \"^0.5.4\",\n    \"node-sass\": \"^3.7.0\",\n    \"sass-loader\": \"^3.2.0\",\n    \"style-loader\": \"^0.13.1\",\n    \"ts-loader\": \"^0.8.1\",\n    \"url-loader\": \"^0.5.7\",\n    \"webpack\": \"^1.13.2\",\n    \"webpack-manifest-plugin\": \"^1.0.1\"\n  },\n  \"devDependencies\": {\n    \"es5-shim\": \"^4.5.7\",\n    \"eslint\": \"^2.9.0\",\n    \"eslint-config-airbnb\": \"^9.0.1\",\n    \"eslint-import-resolver-webpack\": \"^0.2.4\",\n    \"eslint-plugin-import\": \"^1.7.0\",\n    \"typescript\": \"^1.8.10\",\n    \"webpack-dev-middleware\": \"^1.6.1\",\n    \"webpack-dev-server\": \"^1.14.1\",\n    \"webpack-hot-middleware\": \"^2.10.0\"\n  }\n}\n\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n\n```\n$npm install\n```\n\n### 2-2. Angular\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\n\u5fc5\u8981\u6700\u4f4e\u9650\u306eAngular\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\n$mkdir app/angular\n$cd app/angular/\n$mkdir javascripts\n$touch javascripts/application.ts\n$mkdir stylesheets\n$touch stylesheets/application.sass\n```\n\nTypescript\u306e\u578b\u5b9a\u7fa9\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3044\u3064\u3082\u4f7f\u3063\u3066\u3044\u308b[dtsm](http://qiita.com/vvakame/items/38b953ab0f4de63cce8b)\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u304c\u3069\u306e\u578b\u5b9a\u7fa9\u7ba1\u7406\u30c4\u30fc\u30eb\u3082\u5927\u4f53\u52dd\u624b\u306f\u4e00\u7dd2\u306a\u306e\u3067\u597d\u304d\u306a\u3082\u306e\u3092\u4f7f\u3063\u305f\u3089\u3044\u3044\u3058\u3083\u306a\u3044\u3002\n\n```\n$dtsm init\n```\n\n\u3067\u304d\u305f`dtsm.json`\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n```dtsm.json\n{\n  \"repos\": [\n    {\n      \"url\": \"https://github.com/DefinitelyTyped/DefinitelyTyped.git\",\n      \"ref\": \"master\"\n    }\n  ],\n  \"path\": \"typings\",\n  \"bundle\": \"typings/bundle.d.ts\",\n  \"link\": {\n    \"npm\": {\n      \"include\": true\n    }\n  },\n  \"dependencies\": {\n    \"node/node.d.ts\": {\n      \"ref\": \"17795ae18fc214be862fe578ad48c28fecfef8a6\"\n    },\n    \"angularjs/angular.d.ts\": {\n      \"ref\": \"17795ae18fc214be862fe578ad48c28fecfef8a6\"\n    },\n    \"angular-material/angular-material.d.ts\": {\n      \"ref\": \"17795ae18fc214be862fe578ad48c28fecfef8a6\"\n    },\n    \"angular-cookie/angular-cookie.d.ts\": {\n      \"ref\": \"17795ae18fc214be862fe578ad48c28fecfef8a6\"\n    },\n    \"angularjs/angular-animate.d.ts\": {\n      \"ref\": \"0c5c7a2d2bd0ce7dcab963a8402a9042749ca2da\"\n    }\n  }\n}\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\n\n```\n$dtsm install\n```\n\n`javascripts/application.ts`\u3067angular\u3068\u305d\u306e\u4ed6\u8af8\u3005\u3001`stylesheets/application.sass`\u3092`require`\u3057\u307e\u3059\n\n```application.ts\n/// <reference path=\"./typings/bundle.d.ts\"/>\n\n// angular\nimport angular = require('angular')\nrequire('angular-material')\nrequire('angular-cookies')\nrequire('angular-resource')\nrequire('angular-sanitize')\nrequire('angular-route')\nrequire('angular-animate')\nrequire('angular-material-icons')\nrequire('es5-shim')\n\nlet app = angular.module('App', [\n\t'ngMaterial',\n\t'ngCookies',\n\t'ngResource',\n\t'ngSanitize',\n\t'ngRoute',\n\t'ngMdIcons',\n\t'ngAnimate'\n]);\n\n//stylesheets\nrequire('../stylesheets/application')\n\n//angular-material\u306eTheme\napp.config(($mdThemingProvider) => {\n\t$mdThemingProvider.theme('default')\n\t\t\t\t\t  .primaryPalette('grey', {\n\t\t\t\t\t\t  'default': '100'\n\t\t\t\t\t  })\n\t\t\t\t\t  .accentPalette('pink', {\n\t\t\t\t\t\t  'default': '700'\n\t\t\t\t\t  });\n});\n\n//Controller\u3082\u4e00\u7dd2\u306b\u5b9a\u7fa9\u3057\u3061\u3083\u3044\u307e\u3057\u305f\nexport default class AppCtrl {\n\tprivate title: string = 'Hello RailsAPI \u00d7 Angular\uff01'\n\tstatic $inject = ['$rootScope', '$scope', '$cookies', '$window', '$timeout', '$location']\n\tconstructor(\n\t\tprivate rootScope: ng.IRootScopeService,\n\t\tprivate scope: ng.IScope,\n\t\tprivate cookies: any,\n\t\tprivate window: ng.IWindowService,\n\t\tprivate timeout: ng.ITimeoutService,\n\t\tprivate location: ng.ILocationService\n\t) {\n\t}\n}\n\napp.controller('AppCtrl', AppCtrl)\n```\n\n`stylesheets/application.sass`\u3067angular-material\u3092import\u3057\u307e\u3059\n\n```application.sass\n@import '~angular-material/angular-material.css'\n\nbody\n  background-color: whitesmoke\n\n.header\n  md-toolbar\n    color: #D81B60\n    button\n      height: 100%\n      margin: 0px\n\n// angular\u306e\u8a55\u4fa1\u5f0f\u304c\u4e00\u77ac\u898b\u3048\u3061\u3083\u3046\u554f\u984c\u5bfe\u5fdc\n[ng\\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak\n  display: none !important\n```\n\n\n### 2-3.webpack\u8a2d\u5b9a\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u76f4\u4e0b\u306b`webpack.config.js`\u3092\u4f5c\u6210\u3059\u308b\n\n```webpack.config.js\nconst DEBUG = process.env.NODE_ENV === 'development' || process.env.NODE_ENV === undefined;\nconst webpack = require('webpack');\nconst path = require('path');\n\n/**\n * Require webpack plugins\n */\nconst ManifestPlugin = require('webpack-manifest-plugin');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst CleanWebpackPlugin = require('clean-webpack-plugin');\n\n/**\n * Environment settings\n */\nconst devtool = DEBUG ? '#inline-source-map' : '#eval';\nconst fileName = DEBUG ? '[name]' : '[name]-[hash]';\nconst publicPath = DEBUG ? 'http://localhost:3500/assets/' : '/assets/';\n\n/**\n *  Entries\n */\nconst entries = {\n\tapplication: ['./app/angular/javascripts/application.ts']\n}\n\n/**\n * Add plugins\n */\nconst plugins = [\n\tnew ExtractTextPlugin(fileName + '.css')\n]\n\nif (DEBUG) {\n\tplugins.push(new webpack.NoErrorsPlugin());\n} else {\n\tplugins.push(new ManifestPlugin({fileName: 'webpack-manifest.json'}));\n\tplugins.push(new webpack.optimize.UglifyJsPlugin({compress: {warnings: false}}));\n\tplugins.push(new CleanWebpackPlugin(['assets'], {\n\t\troot: __dirname + '/public',\n\t\tverbose: true,\n\t\tdry: false\n\t}));\n}\n\nmodule.exports = {\n\tentry: entries,\n\toutput: {\n\t\tpath: __dirname + '/public/assets',\n\t\tfilename: fileName + '.js',\n\t\tpublicPath: publicPath\n\t},\n\tdevtool: devtool,\n\tplugins: plugins,\n\tmodule: {\n\t\tloaders: [\n\t\t\t{\n\t\t\t\ttest: /\\.ts$/,\n\t\t\t\tloader: 'ts',\n\t\t\t\texclude: [/node_modules/]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.css$/,\n\t\t\t\tloader: ExtractTextPlugin.extract('style-loader', 'css-loader?minimize')\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.scss$/,\n\t\t\t\tloader: ExtractTextPlugin.extract('style-loader', 'css-loader!sass-loader?minimize')\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.sass$/,\n\t\t\t\tloader: ExtractTextPlugin.extract('style-loader', 'css-loader!sass-loader?minimize')\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n\t\t\t\tloader: 'url-loader?mimetype=image/svg+xml'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.woff(\\d+)?(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n\t\t\t\tloader: 'url-loader?mimetype=application/font-woff'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.eot(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n\t\t\t\tloader: 'url-loader?mimetype=application/font-woff'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.ttf(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n\t\t\t\tloader: 'url-loader?mimetype=application/font-woff'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.(jpg|png|gif)$/,\n\t\t\t\tloader: DEBUG ? 'file-loader?name=[name].[ext]' : 'file-loader?name=[name]-[hash].[ext]'\n\t\t\t}\n\t\t]\n\t},\n\tresolve: {\n\t\troot: path.resolve(__dirname, 'app', 'angular'),\n\t\textensions: ['', '.js', '.ts', '.css', '.scss', '.sass'],\n\t},\n\tdevServer: {\n\t\theaders: {\n\t\t\t\"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n\t\t\t\"Access-Control-Allow-Credentials\": \"true\"\n\t\t}\n\t}\n}\n```\n\n\u3053\u308c\u3067\u958b\u767a\u4e2d\u306f\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3061\u4e0a\u3052\u3066watch\u3057\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3002\u4fbf\u5229\u3002\n\u5148\u307b\u3069\u306e`package.json`\u306b\u3053\u3063\u305d\u308a\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u305f\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3044\u3066\u307f\u308b\n\n```\n$npm run dev\n```\n\u3059\u308b\u3068\u3053\u3093\u306a\u30a8\u30e9\u30fc\u51fa\u305f\n\n```\nERROR in ./app/angular/javascripts/application.ts\nModule build failed: TypeError: Path must be a string. Received undefined\n    at assertPath (path.js:7:11)\n    at Object.dirname (path.js:1324:5)\n    at ensureTypeScriptInstance (/Users/nozakishohei/WorkSpace/repository/sample/rails-api-angular/node_modules/ts-loader/index.js:156:103)\n    at Object.loader (/Users/nozakishohei/WorkSpace/repository/sample/rails-api-angular/node_modules/ts-loader/index.js:403:14)\n @ multi application\n```\n\n\u306a\u308b\u307b\u3069\u3002[ts-loader](https://github.com/TypeStrong/ts-loader)\u306f`tsconfig.json`\u304c\u5fc5\u9808\u3060\u3063\u3066\u3088\uff01\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u4f5c\u3063\u3066\u3042\u3052\u308b\n\n```\n$touch app/angular/javascripts/tsconfig.json\n```\n\n```tsconfig.json\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"sourceMap\": true\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n```\n\n\u3053\u308c\u3067\u518d\u5ea6`npm run dev`\u3059\u308b\u3068\u6210\u529f\u3057\u305f\u3002\n\u3042\u3068\u306f\u753b\u9762\u304b\u3089\u547c\u3076\u3060\u3051\u3002\n\n## 3.\u753b\u9762\u4f5c\u308b\n\u30bf\u30a4\u30c8\u30eb\u304b\u3089\u4e00\u8cab\u3057\u3066`RailsAPI`\u3068\u3044\u3046\u5358\u8a9e\u3092\u4f7f\u3063\u3066\u304d\u305f\u304c\u3053\u3053\u306b\u304d\u3066\u639f\u3092\u3076\u3061\u7834\u308b\u3002\uff08root\u8a2d\u5b9a\u3057\u30661\u753b\u9762\u3060\u3051\u4f5c\u3063\u3061\u3083\u3046\uff09\n\n### 3-1 root\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3057\u307e\u3046\uff081\u753b\u9762\u3060\u3051\u3060\u304b\u3089\u8a31\u3057\u3066\uff09\n\n`routes.rb`\u306b`root`\u3092\u8a2d\u5b9a\u3059\u308b\n\n\u3082\u3046\u4f55\u3082\u601d\u3044\u3064\u304b\u306a\u304f\u3066`root#index`\u306b\u3057\u3066\u3057\u307e\u3063\u305f\u304c\u597d\u304d\u306a\u540d\u524d\u3092\u3064\u3051\u3066\u306d\u3002\n\n```config/routes.rb\nRails.application.routes.draw do\n\troot 'root#index'\nend\n```\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3082\u4f5c\u308b\n\n```controllers/root_controller.rb\nclass RootController < ActionController::Base\n\tdef index\n\tend\nend\n```\n\n\u305d\u308c\u3063\u307d\u3044\u30c8\u30c3\u30d7\u753b\u9762\u3082\u4f5c\u308b\n\n```views/root/index.erb\n<html ng-app=\"App\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\", content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n  <title>rails-api-angular</title>\n</head>\n<body ng-controller=\"AppCtrl as appCtrl\" ng-cloak>\n  <header class=\"header md-whiteframe-3dp\">\n    <md-toolbar md-scroll-shrink>\n      <div class=\"md-toolbar-tools\">\n        <h3>\n          <span>rails-api-angular</span>\n        </h3>\n        <span flex></span>\n        <md-button class=\"md-accent\">Sign up</md-button>\n        <md-button class=\"md-accent\">Log in</md-button>\n      </div>\n    </md-toolbar>\n  </header>\n\n  <div layout=\"row\" layout-align=\"center center\">\n    <h1>{{appCtrl.title}}</h1>\n  </div>\n\n<%= stylesheet_link_tag webpack_asset_path('application.css') %>\n<%= javascript_include_tag webpack_asset_path('application.js')%>\n</body>\n</html>\n```\n\nwebpack\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u3092\u8aad\u307f\u5206\u3051\u308b\u30d8\u30eb\u30d1\u30fc\u95a2\u6570`webpack_asset_path`\u3092\u751f\u3084\u3059\u3002\n\n```app/helpers/root_helper.rb\nmodule RootHelper\n\tdef webpack_asset_path(path)\n\t\tif Rails.env.development?\n\t\t\treturn \"http://localhost:3500/assets/#{path}\"\n\t\tend\n\n\t\thost = Rails.application.config.action_controller.asset_host\n\t\tmanifest = Rails.application.config.assets.webpack_manifest\n\t\tpath = manifest[path] if manifest && manifest[path].present?\n\t\t\"#{host}/assets/#{path}\"\n\tend\nend\n```\n\u3064\u3044\u306brails\u3092\u8d77\u52d5\u3057\u3066`localhost:3000`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\n\n```\n$rails s\n```\n\n\u304d\u305f\uff01\n\n![Kobito.oUViNg.png](https://qiita-image-store.s3.amazonaws.com/0/127115/d4650122-2a2b-2358-969d-adf8f5831d8e.png \"Kobito.oUViNg.png\")\n"}