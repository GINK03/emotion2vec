{"context": " More than 1 year has passed since last update.\n\nProblem\nIf you are trying to build a bitcoind server with Vagrant, you'll have problem with synced_folder.\n\nSolution\nI'm not very sure yet...\nYou shouldn't use default synced_folder.\nI tried NFS for synced_folder and it worked!!\nMy Vagrantfile\nVAGRANTFILE_API_VERSION = \"2\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  config.vm.box = \"hashicorp/precise64\"\n  config.vm.provision :shell, :path => \"bootstrap.sh\", privileged: false\n\n  config.vm.network :private_network, ip: \"192.168.33.30\"\n\n# Original\n#  config.vm.synced_folder \"data/\", \"/home/vagrant/.bitcoin/\"\n# NFS version\n  config.vm.synced_folder \"data/\", \"/home/vagrant/.bitcoin/\", type: \"nfs\"\n\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.customize [\"modifyvm\", :id, \"--memory\", \"1536\"]\n  end\n\n  config.vm.provider \"vmware\" do |vmw|\n    vmw.customize [\"modifyvm\", :id, \"--memory\", \"1536\"]\n  end\nend\n\nSee Vagrant document for NFS settings.\nhttps://docs.vagrantup.com/v2/synced-folders/nfs.html\nOther solution from Hasimir\nhttps://github.com/bitcoin/bitcoin/issues/4276\n\nCreate a virtual disk on the file/network server.\n    Get VirtualBox (or VMWare or whatever) to see that.\n    Mount the disk image as normal.\n    As far as the VM/OS is concerned it's just an ordinary drive.\n    This means you can do other nifty things to such a drive (like encrypt it with LUKS/dm-crypt).\n\n\nEnvironment\n\nBitcoin Core 0.9.2\nVagrant with VirtualBox (Ubuntu 12.04 64bit on Mac OS X)\n\n\nSummary\n\nSamba(or file sharing) doesn't support LevelDB feature. (I guess...)\n\n\nAnswer\nFrom\nhttps://github.com/bitcoin/bitcoin/issues/4276\n\nNo, this is LevelDB reporting that an internal system call returned with an error status indicating that an invalid argument was passed.\nI assume that the samba filesystem does not offer certain functionality that LevelDB requires of its databases, such a certain types of locking, syncing or mmaping.\n\n\nErrors\nWhen you run bitcoind, you will see the error like...\n: Error opening block database.\n\nDo you want to rebuild the block database now?\n\nIn debug.log\n2015-01-10 17:29:50 init message: Loading block index...\n2015-01-10 17:29:50 Opening LevelDB in /home/vagrant/.bitcoin/blocks/index\n2015-01-10 17:29:50 IO error: /home/vagrant/.bitcoin/blocks/index: Invalid argument\n\n\nRef.\nVagrant File I Used\nhttps://github.com/tlehman/bitcoin-vagrant\nhttp://bitcoin.stackexchange.com/questions/34291/bitcoind-running-in-vagrant-cant-import-bootstrap-dat-from-external-directory\n\nsearch words\n\nbitcoind, LevelDB, vagrant, virtualbox, vmware, samba, bootstrap.dat, blockchain, error\n\n\n\n## Problem\n\nIf you are trying to build a bitcoind server with Vagrant, you'll have problem with synced_folder.\n\n## Solution\n\nI'm not very sure yet...\nYou shouldn't use default synced_folder.\n\nI tried NFS for synced_folder and it worked!!\n\n\nMy Vagrantfile\n\n```\nVAGRANTFILE_API_VERSION = \"2\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  config.vm.box = \"hashicorp/precise64\"\n  config.vm.provision :shell, :path => \"bootstrap.sh\", privileged: false\n\n  config.vm.network :private_network, ip: \"192.168.33.30\"\n\n# Original\n#  config.vm.synced_folder \"data/\", \"/home/vagrant/.bitcoin/\"\n# NFS version\n  config.vm.synced_folder \"data/\", \"/home/vagrant/.bitcoin/\", type: \"nfs\"\n\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.customize [\"modifyvm\", :id, \"--memory\", \"1536\"]\n  end\n\n  config.vm.provider \"vmware\" do |vmw|\n    vmw.customize [\"modifyvm\", :id, \"--memory\", \"1536\"]\n  end\nend\n```\n\nSee Vagrant document for NFS settings.\nhttps://docs.vagrantup.com/v2/synced-folders/nfs.html\n\n\nOther solution from Hasimir\nhttps://github.com/bitcoin/bitcoin/issues/4276\n\n>    Create a virtual disk on the file/network server.\n    Get VirtualBox (or VMWare or whatever) to see that.\n    Mount the disk image as normal.\n    As far as the VM/OS is concerned it's just an ordinary drive.\n    This means you can do other nifty things to such a drive (like encrypt it with LUKS/dm-crypt).\n\n\n\n## Environment\n\n* Bitcoin Core 0.9.2\n* Vagrant with VirtualBox (Ubuntu 12.04 64bit on Mac OS X)\n\n\n## Summary\n\n* Samba(or file sharing) doesn't support LevelDB feature. (I guess...)\n\n\n\n## Answer\n\nFrom\nhttps://github.com/bitcoin/bitcoin/issues/4276\n\n>No, this is LevelDB reporting that an internal system call returned with an error status indicating that an invalid argument was passed.\n>\n>I assume that the samba filesystem does not offer certain functionality that LevelDB requires of its databases, such a certain types of locking, syncing or mmaping.\n\n\n\n## Errors\n\n\nWhen you run bitcoind, you will see the error like...\n\n\n```\n: Error opening block database.\n\nDo you want to rebuild the block database now?\n```\n\n\nIn debug.log\n\n```\n2015-01-10 17:29:50 init message: Loading block index...\n2015-01-10 17:29:50 Opening LevelDB in /home/vagrant/.bitcoin/blocks/index\n2015-01-10 17:29:50 IO error: /home/vagrant/.bitcoin/blocks/index: Invalid argument\n```\n\n\n\n## Ref.\n\nVagrant File I Used\nhttps://github.com/tlehman/bitcoin-vagrant\n\nhttp://bitcoin.stackexchange.com/questions/34291/bitcoind-running-in-vagrant-cant-import-bootstrap-dat-from-external-directory\n\n\n## search words\n\n* bitcoind, LevelDB, vagrant, virtualbox, vmware, samba, bootstrap.dat, blockchain, error\n", "tags": ["leveldb", "Bitcoin", "vagrant"]}