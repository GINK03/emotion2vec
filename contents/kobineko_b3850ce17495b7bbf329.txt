{"tags": ["postfix2.6.6", "postfixadmin2.92"], "context": " More than 1 year has passed since last update.\n\n\u691c\u8a3c\u74b0\u5883\nAmazon EC2 \u4e0a\u306b2014\u5e7411\u6708\u69cb\u7bc9\ncentos version 6.5 64bit\npostfix-2.6.6\nPHP version 5.3.3 \nApache/2.2.15 (CentOS) \nmysql  Ver 14.14 Distrib 5.1.73\nPostfixadmin 2.92\nPostfix\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3059\u3002\n\nSELINUX\u306e\u7121\u52b9\u5316\n\u4ee5\u4e0b\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n/etc/selinux/config\n# SELINUX=enforcing\nSELINUX=disabled \n\n\n\u518d\u8d77\u52d5\u3057SELINUX\u304c\u7121\u52b9\u5316\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\ncheck\ngetenforce\n> Disabled\n\n\n\nPostfixadmin\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nPostfixadmin\u3068\u306f\uff1f\nPostfix\u3068\u9023\u643a\u3057\u3001Web\u753b\u9762\u304b\u3089Virtual Domain\u306e\u8a2d\u5b9a\u3084\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0\u306a\u3069\u304c\u884c\u3048\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\u306f\u3058\u3081\u306b\u3001Posfixadmin\u3092\u52d5\u304b\u3059\u305f\u3081\u306bapache\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3002Postfixadmin\u306fPHP\u3092\u4f7f\u3046\u305f\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nyum install httpd php\nservice httpd start\nchkconfig httpd on\n\nWeb\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046iptables\u3092\u505c\u6b62\u3057\u307e\u3059\u3002\nchkconfig iptables off\nservice iptables stop\nchkconfig ip6tables off\nservice ip6tables stop\n\nlocalhost\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\ncheck\ncurl http://localhost \n\n\nPostfixadmin\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u8a2d\u7f6e\u3057\u307e\u3059\u3002\nwget http://nchc.dl.sourceforge.net/sourceforge/postfixadmin/postfixadmin-2.92.tar.gz\ntar zxvf postfixadmin-2.92.tar.gz\nmv postfixadmin-2.92 /var/www/html/postfixadmin\n\nvi /etc/httpd/conf/httpd.conf\u3057\u307e\u3059\u3002/var/www/html\u4ee5\u4e0b\u3067PHP\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306bExecCGI\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n/etc/httpd/conf/httpd.conf\n<Directory \"/var/www/html\">\n\n#\n# Possible values for the Options directive are \"None\", \"All\",\n# ( \u7565 )\n# for more information.\n#\n#    Options Indexes FollowSymLinks\n    Options Indexes FollowSymLinks ExecCGI\n\n\n\nhttp://localhost/postfixadmin/setup.php \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u3057\u305f\u304c\u3044\u3001\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\nPlease edit config.inc.php - change $CONF['configured'] to true after setting your database settings\n\ncd /var/www/html/postfixadmin\ncp config.inc.php config.inc.php.org\nvi config.inc.php\n\n\u4ee5\u4e0b\u4e00\u90e8\u5909\u66f4\u90e8\u5206\u5468\u8fba\u306e\u307f\u629c\u7c8b\u3067\u3059\u3002\n\n/var/www/html/postfixadmin/config.inc.php\n/*****************************************************************\n *  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n * You have to set $CONF['configured'] = true; before the\n * application will run!\n * Doing this implies you have changed this file as required.\n * i.e. configuring database etc; specifying setup.php password etc.\n */\n// $CONF['configured'] = false;\n$CONF['configured'] = true;\n\n// In order to setup Postfixadmin, you MUST specify a hashed password here.\n// To create the hash, visit setup.php in a browser and type a password into the field,\n// on submission it will be echoed out to you as a hashed value.\n// $CONF['setup_password'] = 'changeme';\n$CONF['setup_password'] = 'test!123';\n\n// Language config\n// Language files are located in './languages', change as required..\n// $CONF['default_language'] = 'en';\n$CONF['default_language'] = 'ja';\n\n// Database Config\n// mysql = MySQL 3.23 and 4.0, 4.1 or 5\n// mysqli = MySQL 4.1+\n// pgsql = PostgreSQL\n$CONF['database_type'] = 'mysqli';\n$CONF['database_host'] = 'localhost';\n$CONF['database_user'] = 'postfix';\n$CONF['database_password'] = 'test!123';\n$CONF['database_name'] = 'postfix';\n\n// Site Admin\n// Define the Site Admin's email address below.\n// ...\n$CONF['admin_email'] = 'postmaster@example.com';\n\n// Mailboxes\n// If you want to store the mailboxes per domain set this to 'YES'.\n// Examples:\n//   YES: /usr/local/virtual/domain.tld/username@domain.tld\n//   NO:  /usr/local/virtual/username@domain.tld\n$CONF['domain_path'] = 'YES';\n// If you don't want to have the domain in your mailbox set this to 'NO'.\n// Examples:\n//   YES: /usr/local/virtual/domain.tld/username@domain.tld\n//   NO:  /usr/local/virtual/domain.tld/username\n// Note: If $CONF['domain_path'] is set to NO, this setting will be forced to YES.\n$CONF['domain_in_mailbox'] = 'NO';\n\n// Default Domain Values\n// Specify your default values below. Quota in MB.\n$CONF['aliases'] = '100';\n$CONF['mailboxes'] = '100';\n$CONF['maxquota'] = '300';\n\n// Quota\n// When you want to enforce quota for your mailbox users set this to 'YES'.\n$CONF['quota'] = 'YES';\n\n\n\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306equota\u306f10MB\u3068POP\u306b\u3057\u3066\u3082\u5c11\u306a\u3059\u304e\u308b\u305f\u3081100MB\u306b\u3002\n\u30d1\u30b9\u30ef\u30fc\u30c9\u95a2\u4fc2\u306b\u3064\u3044\u3066\u88dc\u8db3\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067DB\u306b\u306f\u6697\u53f7\u5316\u3055\u308c\u3066\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u30dd\u30ea\u30b7\u30fc\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8a2d\u5b9a\u5909\u66f4\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u81ea\u52d5\u751f\u6210\u3084\u7ba1\u7406\u753b\u9762\u304b\u3089\u898b\u3048\u308b\u3088\u3046\u306b\u3082\u3067\u304d\u307e\u3059\u3002\n\n/var/www/html/postfixadmin/config.inc.php\n// Encrypt\n// In what way do you want the passwords to be crypted?\n// md5crypt = internal postfix admin md5\n// md5 = md5 sum of the password\n// system = whatever you have set as your PHP system default\n// cleartext = clear text passwords (ouch!)\n// mysql_encrypt = useful for PAM integration\n// authlib = support for courier-authlib style passwords\n// dovecot:CRYPT-METHOD = use dovecotpw -s 'CRYPT-METHOD'. Example: dovecot:CRAM-MD5\n//   (WARNING: don't use dovecot:* methods that include the username in the hash - you won't be able to login to PostfixAdmin in this case)\n$CONF['encrypt'] = 'md5crypt';\n\n// In what flavor should courier-authlib style passwords be encrypted?\n// md5 = {md5} + base64 encoded md5 hash\n// md5raw = {md5raw} + plain encoded md5 hash\n// SHA = {SHA} + base64-encoded sha1 hash\n// crypt = {crypt} + Standard UNIX DES-encrypted with 2-character salt\n$CONF['authlib_default_flavor'] = 'md5raw';\n\n// Password validation\n$CONF['password_validation'] = array(\n#    '/regular expression/' => '$PALANG key (optional: + parameter)',\n    '/.{5}/'                => 'password_too_short 5',      # minimum length 5 characters\n    '/([a-zA-Z].*){3}/'     => 'password_no_characters 3',  # must contain at least 3 characters\n    '/([0-9].*){2}/'        => 'password_no_digits 2',      # must contain at least 2 digits\n);\n\n// Generate Password\n// Generate a random password for a mailbox or admin and display it.\n// If you want to automagically generate passwords set this to 'YES'.\n$CONF['generate_password'] = 'NO';\n\n// Show Password\n// Always show password after adding a mailbox or admin.\n// If you want to always see what password was set set this to 'YES'.\n$CONF['show_password'] = 'NO';\n\n\n\n\n\nEXECCGI\u3067CGI\u306e\u5b9f\u884c\u3092\u8a31\u53ef\u3057\u307e\u3057\u3087\u3046\u3002\n<Directory \"/var/www/html\">\n\n#\n# Possible values for the Options directive are \"None\", \"All\",\n# or any combination of:\n#   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\n#\n# Note that \"MultiViews\" must be named *explicitly* --- \"Options All\"\n# doesn't give it to you.\n#\n# The Options directive is both complicated and important.  Please see\n# http://httpd.apache.org/docs/2.2/mod/core.html#options\n# for more information.\n#\n#    Options Indexes FollowSymLinks\n    Options Indexes FollowSymLinks ExecCGI\n\n\u518d\u3073http://localhost/postfixadmin/setup.php \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n\n\n\u30a8\u30e9\u30fc\u304c\u3044\u304f\u3064\u304b\u3067\u308b\u3068\u601d\u3046\u306e\u3067\u4fee\u6b63\u3057\u307e\u3059\u3002\n\nError Smarty template ... \n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u5834\u6240\u3092\u66f8\u304d\u8fbc\u3081\u308b\u3088\u3046\u306b\u30a2\u30af\u30bb\u30b9\u6a29\u5909\u66f4\u3057\u307e\u3059\u3002\nchmod 777 /var/www/html/postfixadmin/templates_c/\n\n\n\nError There is no database support ...\n\nMysql\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u8d77\u52d5\u3057\u307e\u3059\u3002\nyum -y install mysql-server php-mysql\nservice mysqld start\nchkconfig mysqld on\nservice httpd restart\n\n\nError: Can't connect to database\n\nmysql\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001Postfixadmin\u7528\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u306fpostfix\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u304b\u3089\u306e\u307f\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3092\u4e0e\u3048\u3001flush\u6587\u3067\u30a2\u30af\u30bb\u30b9\u6a29\u306e\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\nmysql -u root\n\nWelcome to the MySQL monitor.  Commands end with ; or \\g. \n...\nmysql>\nmysql> create database postfix;\nQuery OK, 1 row affected (0.00 sec)\n\nmysql> create user 'postfix'@'localhost' identified by 'test!123';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> grant all privileges on postfix.* to 'postfix' identified by 'test!123';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> FLUSH PRIVILEGES;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> exit\nBye\n\n\nError: Depends on: multibyte string - NOT FOUND\nWarning: Depends on: IMAP functions - NOT FOUND\n\nphp\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5165\u308c\u307e\u3059\u3002\u3000\nyum -y install php-mbstring php-imap\nservice httpd restart\n\n\u518d\u3073\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304a\u3088\u3073\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\nEverything seems fine... attempting to create/update database structure\nUpdating database:\n- old version: 0; target version: 1685\n\nmysql -u postfix -p\nEnter password:\u3000test!123\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\n\nmysql> use postfix;\nmysql> show tables;\n+-----------------------+\n| Tables_in_postfix     |\n+-----------------------+\n| admin                 |\n| alias                 |\n| alias_domain          |\n| config                |\n| domain                |\n| domain_admins         |\n| fetchmail             |\n| log                   |\n| mailbox               |\n| quota                 |\n| quota2                |\n| vacation              |\n| vacation_notification |\n+-----------------------+\n13 rows in set (0.00 sec)\n\n\n\nSetup password \u306ftest!123$CONF['setup_password']\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u7ba1\u7406\u8005\u306fpostmaster@example.com\u3068\u3057\u307e\u3057\u305f\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3053\u3053\u3067\u306fpostfix!123\u3068\u3057\u307e\u3057\u305f\u3002\n\nSetup password not specified correctly\nIf you want to use the password you entered as setup password, edit config.inc.php or config.local.php and set\n$CONF['setup_password'] = > '2c2bdf2f6bab1166db15bee22b2a3d63:b2ed1ede7e2a64eb6af69d1e89bd25201ad8bad0';\n\n\u3068\u3067\u3066\u304f\u308b\u306e\u3067\u3001$CONF['setup_password']\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n/var/www/html/postfixadmin/config.inc.php\n// In order to setup Postfixadmin, you MUST specify a hashed password here.\n// To create the hash, visit setup.php in a browser and type a password into the field,\n// on submission it will be echoed out to you as a hashed value.\n// $CONF['setup_password'] = 'changeme';\n//$CONF['setup_password'] = 'test!123';\n$CONF['setup_password'] = '2c2bdf2f6bab1166db15bee22b2a3d63:b2ed1ede7e2a64eb6af69d1e89bd25201ad8bad0';\n\n\n\nhttp://hogehoge/postfixadmin/\n\u3078\u30a2\u30af\u30bb\u30b9\u3057\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n\n\n## \u691c\u8a3c\u74b0\u5883\nAmazon EC2 \u4e0a\u306b2014\u5e7411\u6708\u69cb\u7bc9\ncentos version 6.5 64bit\npostfix-2.6.6\nPHP version 5.3.3 \nApache/2.2.15 (CentOS) \nmysql  Ver 14.14 Distrib 5.1.73\nPostfixadmin 2.92\n\nPostfix\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3059\u3002\n\n## SELINUX\u306e\u7121\u52b9\u5316\n\n\n\u4ee5\u4e0b\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```lang:/etc/selinux/config\n# SELINUX=enforcing\nSELINUX=disabled \n```\n\n\u518d\u8d77\u52d5\u3057SELINUX\u304c\u7121\u52b9\u5316\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```lang:check\ngetenforce\n> Disabled\n```\n\n###\n\n\n\n## Postfixadmin\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n### Postfixadmin\u3068\u306f\uff1f\nPostfix\u3068\u9023\u643a\u3057\u3001Web\u753b\u9762\u304b\u3089Virtual Domain\u306e\u8a2d\u5b9a\u3084\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0\u306a\u3069\u304c\u884c\u3048\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\n### \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\u306f\u3058\u3081\u306b\u3001Posfixadmin\u3092\u52d5\u304b\u3059\u305f\u3081\u306bapache\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3002Postfixadmin\u306fPHP\u3092\u4f7f\u3046\u305f\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash\nyum install httpd php\nservice httpd start\nchkconfig httpd on\n```\n\nWeb\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046iptables\u3092\u505c\u6b62\u3057\u307e\u3059\u3002\n\n```bash\nchkconfig iptables off\nservice iptables stop\nchkconfig ip6tables off\nservice ip6tables stop\n```\n\nlocalhost\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```file:check\ncurl http://localhost \n```\n\nPostfixadmin\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\n```bash\nwget http://nchc.dl.sourceforge.net/sourceforge/postfixadmin/postfixadmin-2.92.tar.gz\ntar zxvf postfixadmin-2.92.tar.gz\nmv postfixadmin-2.92 /var/www/html/postfixadmin\n```\n\n```vi /etc/httpd/conf/httpd.conf```\u3057\u307e\u3059\u3002/var/www/html\u4ee5\u4e0b\u3067PHP\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306bExecCGI\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```file:/etc/httpd/conf/httpd.conf\n<Directory \"/var/www/html\">\n\n#\n# Possible values for the Options directive are \"None\", \"All\",\n# ( \u7565 )\n# for more information.\n#\n#    Options Indexes FollowSymLinks\n    Options Indexes FollowSymLinks ExecCGI\n\n```\n\nhttp://localhost/postfixadmin/setup.php \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u3057\u305f\u304c\u3044\u3001\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n> Please edit config.inc.php - change $CONF['configured'] to true after setting your database settings\n\n```\ncd /var/www/html/postfixadmin\ncp config.inc.php config.inc.php.org\nvi config.inc.php\n```\n\n\u4ee5\u4e0b\u4e00\u90e8\u5909\u66f4\u90e8\u5206\u5468\u8fba\u306e\u307f\u629c\u7c8b\u3067\u3059\u3002\n\n```file:/var/www/html/postfixadmin/config.inc.php\n/*****************************************************************\n *  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n * You have to set $CONF['configured'] = true; before the\n * application will run!\n * Doing this implies you have changed this file as required.\n * i.e. configuring database etc; specifying setup.php password etc.\n */\n// $CONF['configured'] = false;\n$CONF['configured'] = true;\n\n// In order to setup Postfixadmin, you MUST specify a hashed password here.\n// To create the hash, visit setup.php in a browser and type a password into the field,\n// on submission it will be echoed out to you as a hashed value.\n// $CONF['setup_password'] = 'changeme';\n$CONF['setup_password'] = 'test!123';\n\n// Language config\n// Language files are located in './languages', change as required..\n// $CONF['default_language'] = 'en';\n$CONF['default_language'] = 'ja';\n\n// Database Config\n// mysql = MySQL 3.23 and 4.0, 4.1 or 5\n// mysqli = MySQL 4.1+\n// pgsql = PostgreSQL\n$CONF['database_type'] = 'mysqli';\n$CONF['database_host'] = 'localhost';\n$CONF['database_user'] = 'postfix';\n$CONF['database_password'] = 'test!123';\n$CONF['database_name'] = 'postfix';\n\n// Site Admin\n// Define the Site Admin's email address below.\n// ...\n$CONF['admin_email'] = 'postmaster@example.com';\n\n// Mailboxes\n// If you want to store the mailboxes per domain set this to 'YES'.\n// Examples:\n//   YES: /usr/local/virtual/domain.tld/username@domain.tld\n//   NO:  /usr/local/virtual/username@domain.tld\n$CONF['domain_path'] = 'YES';\n// If you don't want to have the domain in your mailbox set this to 'NO'.\n// Examples:\n//   YES: /usr/local/virtual/domain.tld/username@domain.tld\n//   NO:  /usr/local/virtual/domain.tld/username\n// Note: If $CONF['domain_path'] is set to NO, this setting will be forced to YES.\n$CONF['domain_in_mailbox'] = 'NO';\n\n// Default Domain Values\n// Specify your default values below. Quota in MB.\n$CONF['aliases'] = '100';\n$CONF['mailboxes'] = '100';\n$CONF['maxquota'] = '300';\n\n// Quota\n// When you want to enforce quota for your mailbox users set this to 'YES'.\n$CONF['quota'] = 'YES';\n\n\n```\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306equota\u306f10MB\u3068POP\u306b\u3057\u3066\u3082\u5c11\u306a\u3059\u304e\u308b\u305f\u3081100MB\u306b\u3002\n\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u95a2\u4fc2\u306b\u3064\u3044\u3066\u88dc\u8db3\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067DB\u306b\u306f\u6697\u53f7\u5316\u3055\u308c\u3066\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u30dd\u30ea\u30b7\u30fc\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8a2d\u5b9a\u5909\u66f4\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u81ea\u52d5\u751f\u6210\u3084\u7ba1\u7406\u753b\u9762\u304b\u3089\u898b\u3048\u308b\u3088\u3046\u306b\u3082\u3067\u304d\u307e\u3059\u3002\n\n```file:/var/www/html/postfixadmin/config.inc.php\n// Encrypt\n// In what way do you want the passwords to be crypted?\n// md5crypt = internal postfix admin md5\n// md5 = md5 sum of the password\n// system = whatever you have set as your PHP system default\n// cleartext = clear text passwords (ouch!)\n// mysql_encrypt = useful for PAM integration\n// authlib = support for courier-authlib style passwords\n// dovecot:CRYPT-METHOD = use dovecotpw -s 'CRYPT-METHOD'. Example: dovecot:CRAM-MD5\n//   (WARNING: don't use dovecot:* methods that include the username in the hash - you won't be able to login to PostfixAdmin in this case)\n$CONF['encrypt'] = 'md5crypt';\n\n// In what flavor should courier-authlib style passwords be encrypted?\n// md5 = {md5} + base64 encoded md5 hash\n// md5raw = {md5raw} + plain encoded md5 hash\n// SHA = {SHA} + base64-encoded sha1 hash\n// crypt = {crypt} + Standard UNIX DES-encrypted with 2-character salt\n$CONF['authlib_default_flavor'] = 'md5raw';\n\n// Password validation\n$CONF['password_validation'] = array(\n#    '/regular expression/' => '$PALANG key (optional: + parameter)',\n    '/.{5}/'                => 'password_too_short 5',      # minimum length 5 characters\n    '/([a-zA-Z].*){3}/'     => 'password_no_characters 3',  # must contain at least 3 characters\n    '/([0-9].*){2}/'        => 'password_no_digits 2',      # must contain at least 2 digits\n);\n\n// Generate Password\n// Generate a random password for a mailbox or admin and display it.\n// If you want to automagically generate passwords set this to 'YES'.\n$CONF['generate_password'] = 'NO';\n\n// Show Password\n// Always show password after adding a mailbox or admin.\n// If you want to always see what password was set set this to 'YES'.\n$CONF['show_password'] = 'NO';\n\n\n\n```\n\nEXECCGI\u3067CGI\u306e\u5b9f\u884c\u3092\u8a31\u53ef\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\n<Directory \"/var/www/html\">\n\n#\n# Possible values for the Options directive are \"None\", \"All\",\n# or any combination of:\n#   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\n#\n# Note that \"MultiViews\" must be named *explicitly* --- \"Options All\"\n# doesn't give it to you.\n#\n# The Options directive is both complicated and important.  Please see\n# http://httpd.apache.org/docs/2.2/mod/core.html#options\n# for more information.\n#\n#    Options Indexes FollowSymLinks\n    Options Indexes FollowSymLinks ExecCGI\n```\n\n\u518d\u3073http://localhost/postfixadmin/setup.php \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n> ![image](https://qiita-image-store.s3.amazonaws.com/0/60145/7ba3f1bc-9e24-0ad9-836a-a85f3ae18fd4.png)\n\n\u30a8\u30e9\u30fc\u304c\u3044\u304f\u3064\u304b\u3067\u308b\u3068\u601d\u3046\u306e\u3067\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n> Error Smarty template ... \n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u5834\u6240\u3092\u66f8\u304d\u8fbc\u3081\u308b\u3088\u3046\u306b\u30a2\u30af\u30bb\u30b9\u6a29\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```\nchmod 777 /var/www/html/postfixadmin/templates_c/\n\n```\n\n> Error There is no database support ...\n\nMysql\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\nyum -y install mysql-server php-mysql\nservice mysqld start\nchkconfig mysqld on\nservice httpd restart\n```\n\n> Error: Can't connect to database\n\nmysql\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001Postfixadmin\u7528\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u306fpostfix\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u304b\u3089\u306e\u307f\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3092\u4e0e\u3048\u3001flush\u6587\u3067\u30a2\u30af\u30bb\u30b9\u6a29\u306e\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\n\n```\nmysql -u root\n\nWelcome to the MySQL monitor.  Commands end with ; or \\g. \n...\nmysql>\nmysql> create database postfix;\nQuery OK, 1 row affected (0.00 sec)\n\nmysql> create user 'postfix'@'localhost' identified by 'test!123';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> grant all privileges on postfix.* to 'postfix' identified by 'test!123';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> FLUSH PRIVILEGES;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> exit\nBye\n```\n\n> Error: Depends on: multibyte string - NOT FOUND\n> Warning: Depends on: IMAP functions - NOT FOUND\n\nphp\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5165\u308c\u307e\u3059\u3002\u3000\n\n```\nyum -y install php-mbstring php-imap\nservice httpd restart\n```\n\n\u518d\u3073\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304a\u3088\u3073\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\n> Everything seems fine... attempting to create/update database structure\n> Updating database:\n> - old version: 0; target version: 1685\n\n\n\n```\nmysql -u postfix -p\nEnter password:\u3000test!123\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\n\nmysql> use postfix;\nmysql> show tables;\n+-----------------------+\n| Tables_in_postfix     |\n+-----------------------+\n| admin                 |\n| alias                 |\n| alias_domain          |\n| config                |\n| domain                |\n| domain_admins         |\n| fetchmail             |\n| log                   |\n| mailbox               |\n| quota                 |\n| quota2                |\n| vacation              |\n| vacation_notification |\n+-----------------------+\n13 rows in set (0.00 sec)\n\n```\n\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/60145/68e2374b-76cc-1a7f-793e-8721bb5f209d.png)\n\nSetup password \u306ftest!123```$CONF['setup_password']```\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u7ba1\u7406\u8005\u306fpostmaster@example.com\u3068\u3057\u307e\u3057\u305f\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3053\u3053\u3067\u306fpostfix!123\u3068\u3057\u307e\u3057\u305f\u3002\n\n> Setup password not specified correctly\n> If you want to use the password you entered as setup password, edit config.inc.php or config.local.php and set\n> $CONF['setup_password'] = > '2c2bdf2f6bab1166db15bee22b2a3d63:b2ed1ede7e2a64eb6af69d1e89bd25201ad8bad0';\n\n\u3068\u3067\u3066\u304f\u308b\u306e\u3067\u3001```$CONF['setup_password']```\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```file:/var/www/html/postfixadmin/config.inc.php\n// In order to setup Postfixadmin, you MUST specify a hashed password here.\n// To create the hash, visit setup.php in a browser and type a password into the field,\n// on submission it will be echoed out to you as a hashed value.\n// $CONF['setup_password'] = 'changeme';\n//$CONF['setup_password'] = 'test!123';\n$CONF['setup_password'] = '2c2bdf2f6bab1166db15bee22b2a3d63:b2ed1ede7e2a64eb6af69d1e89bd25201ad8bad0';\n\n```\n\nhttp://hogehoge/postfixadmin/\n\u3078\u30a2\u30af\u30bb\u30b9\u3057\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n"}