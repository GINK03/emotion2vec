{"context": " More than 1 year has passed since last update.\u901a\u4fe1\u3092\u542b\u3080\u30e1\u30bd\u30c3\u30c9\u306e\u30c6\u30b9\u30c8\u3092\u66f8\u304f\uff0e\n# sample.coffee\n\nclass Sample\n    getData: ->\n        url = \"http://example.com/1/json\"\n\n        xhr = new XMLHttpRequest()\n        xhr.open(\"GET\", url, false)\n        xhr.send()\n\n        data = null\n\n        if xhr.status is 200\n            data = JSON.parse(xhr.responseText)\n\n        return data\n\n.getData \u306e\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u969b\u306b\uff0cxhr\u306e\u901a\u4fe1\u90e8\u5206\u3092\u30b9\u30bf\u30d6\u3057\u305f\u3044\uff0e\njasmine-ajax\uff0cjasmine-jquery \u3092\u4f7f\u7528\u3059\u308b\uff0e\n$ npm install jasmine-ajax --save-dev\n$ npm install jasmine-jquery --save-dev\n\n\nsampleSpec.coffee\ndescribe Sample, ->\n    beforeAll ->\n        jasmine.Ajax.install()\n    afterAll ->\n        jasmine.Ajax.uninstall()\n\n    describe '.getData', ->\n        beforeEach ->\n            mockedData = {sample: 1}\n\n            requestUrl = \"http://example.com/1/json\"\n            jasmine.Ajax.stubRequest(requestUrl).andReturn\n                status: 200\n                responseText: JSON.stringify(mockedData)\n\n            @sample = new Sample()\n\n        it 'should got data', ->\n            expect(@sample.getData().toBe({sample: 1})\n\n\nbeforeAll\u3067 jasmine.Ajax.install() \u3059\u308b\uff0e\n.getData() \u547c\u3073\u51fa\u3057\u6642\u306exhr\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30b9\u30bf\u30d6\u3057\uff0c\u8fd4\u308a\u5024\u306e\u30c6\u30b9\u30c8\u3092\u3057\u3066\u3044\u308b\uff0e\n\u901a\u4fe1\u3092\u542b\u3080\u30e1\u30bd\u30c3\u30c9\u306e\u30c6\u30b9\u30c8\u3092\u66f8\u304f\uff0e\n\n``` coffeescript\n# sample.coffee\n\nclass Sample\n    getData: ->\n        url = \"http://example.com/1/json\"\n        \n        xhr = new XMLHttpRequest()\n        xhr.open(\"GET\", url, false)\n        xhr.send()\n        \n        data = null\n        \n        if xhr.status is 200\n            data = JSON.parse(xhr.responseText)\n            \n        return data\n```\n\n`.getData` \u306e\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u969b\u306b\uff0cxhr\u306e\u901a\u4fe1\u90e8\u5206\u3092\u30b9\u30bf\u30d6\u3057\u305f\u3044\uff0e\n\n[jasmine-ajax](https://github.com/jasmine/jasmine-ajax)\uff0c[jasmine-jquery](https://github.com/velesin/jasmine-jquery) \u3092\u4f7f\u7528\u3059\u308b\uff0e\n\n```\n$ npm install jasmine-ajax --save-dev\n$ npm install jasmine-jquery --save-dev\n```\n\n```coffeescript:sampleSpec.coffee\ndescribe Sample, ->\n    beforeAll ->\n        jasmine.Ajax.install()\n    afterAll ->\n        jasmine.Ajax.uninstall()\n    \n    describe '.getData', ->\n        beforeEach ->\n            mockedData = {sample: 1}\n    \n            requestUrl = \"http://example.com/1/json\"\n            jasmine.Ajax.stubRequest(requestUrl).andReturn\n                status: 200\n                responseText: JSON.stringify(mockedData)\n                \n            @sample = new Sample()\n            \n        it 'should got data', ->\n            expect(@sample.getData().toBe({sample: 1})\n```\n\nbeforeAll\u3067 `jasmine.Ajax.install()` \u3059\u308b\uff0e\n`.getData()` \u547c\u3073\u51fa\u3057\u6642\u306exhr\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30b9\u30bf\u30d6\u3057\uff0c\u8fd4\u308a\u5024\u306e\u30c6\u30b9\u30c8\u3092\u3057\u3066\u3044\u308b\uff0e\n", "tags": ["karma", "jasmine"]}