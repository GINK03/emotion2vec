{"context": " More than 1 year has passed since last update.\u7b2c\uff15\u7ae0\u300c\u30bf\u30fc\u30b2\u30c3\u30c8\u3068\u30a2\u30af\u30b7\u30e7\u30f3\u300d\u301c\u7b2c\uff16\u7ae0\u300c\u30d8\u30eb\u30d1\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d\u3067\u53d6\u308a\u4e0a\u3052\u3089\u308c\u3066\u3044\u308b\u300cSpeakLine\u300d\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092 Swift \u3067\u66f8\u3044\u3066\u307f\u308b\u3002\u30d7\u30ed\u30b0\u30e9\u30e0\u306f NSSpeechSynthesizer \u3092\u5229\u7528\u3057\u3066\u5165\u529b\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u3092\u97f3\u58f0\u3067\u8aad\u307f\u4e0a\u3052\u308b\u3068\u3044\u3046\u3082\u306e\u3002\u97f3\u58f0\u306b\u3088\u308b\u8aad\u307f\u4e0a\u3052\u81ea\u4f53\u306f NSSpeechSynthesizer#startSpeakingString \u306b\u30c6\u30ad\u30b9\u30c8\u3092\u6e21\u3059\u3060\u3051\u306a\u306e\u3067\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u4f55\u3082\u306a\u3044\u3002\u4f8b\u984c\u306e\u76ee\u6a19\u306f View \u3068 Controller \u3092 IBOutlet \u3084 IBAction \u3067\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5\u3001\u30c7\u30ea\u30b2\u30fc\u30c8\u3084\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5229\u7528\u6cd5\u306b\u3064\u3044\u3066\u306e\u5b66\u7fd2\u3002\n\u30bd\u30fc\u30b9\uff1ahttps://github.com/hugo-sb/Hillegass-ch5-6\n\n\u4ee5\u4e0b\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u3044\u3066\u5f15\u3063\u304b\u304b\u3063\u305f\u5834\u6240\u3002\n\nInitialFirstRespoder \u306e\u8a2d\u5b9a\n\u66f8\u7c4d\u3067\u306f Window \u306e InitialFirstRespoder \u306b Text Field \u3092\u7d50\u3073\u3064\u3051\u3066\u3001\u8d77\u52d5\u6642\u306b Text Field \u304c\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u308b\u304c\u3001\u4eca\u56de\u306f Storybord \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u305d\u306e\u65b9\u6cd5\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305a\u3001\u307e\u305f\u3001Storybord \u3082\u826f\u304f\u7406\u89e3\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u3067\u4ee3\u66ff\u306e\u65b9\u6cd5\u3082\u5224\u3089\u306a\u3044\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u72b6\u614b\u3067 Text Field \u304c\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u53d6\u5f97\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u4ef6\u306f\u4eca\u5f8c\u306e\u8ab2\u984c\u3068\u3059\u308b\u3002\n\n\u6587\u5b57\u5217\u306e\u9577\u3055\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\nNSString \u306b\u306f Length \u3068\u3044\u3046\u6587\u5b57\u5217\u9577\u3092\u53d6\u5f97\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u5b58\u5728\u3057\u305f\u304c\u3001Swift \u306e String \u306b\u306f\u540c\u69d8\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u5b58\u5728\u3057\u306a\u3044\u3088\u3046\u3060\u3002\n\nios - Get the length of a String - Stack Overflow \n\n\u4e0a\u8a18\u3001\u30ea\u30f3\u30af\u5148\u306b\u3088\u308b\u3068\n\nsample\nvar length = countElements(\"test\")\n\n\n\u3067\u53d6\u5f97\u3067\u304d\u308b\u3068\u306e\u3053\u3068\u3002\nViewController.swift \u306e\u30bd\u30fc\u30b9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\nViewController.swift\nimport Cocoa\n\nclass ViewController: NSViewController, NSSpeechSynthesizerDelegate {\n\n    @IBOutlet weak var textField: NSTextField!\n    @IBOutlet weak var stopButton: NSButton!\n    @IBOutlet weak var speakButton: NSButton!\n    @IBOutlet weak var tableView: NSTableView!\n\n    let speechSynth = NSSpeechSynthesizer()\n    let voiceList = NSSpeechSynthesizer.availableVoices()\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        // Do any additional setup after loading the view.\n        speechSynth.delegate = self\n\n        let defaultVoice = NSSpeechSynthesizer.defaultVoice()\n        for i in (0...voiceList!.count)\n        {\n            if (voiceList![i] as NSString) == defaultVoice\n            {\n                tableView.selectRowIndexes(NSIndexSet(index: i), byExtendingSelection: false)\n                tableView.scrollRowToVisible(i)\n                break\n            }\n        }\n    }\n\n    override var representedObject: AnyObject? {\n        didSet {\n        // Update the view, if already loaded.\n        }\n    }\n\n    @IBAction func sayIt(sender: AnyObject) {\n        var str = textField.stringValue\n        if countElements(str) > 0\n        {\n            speechSynth.startSpeakingString(str)\n            NSLog(\"Have started to say: \\(str)\")\n            stopButton.enabled = true\n            speakButton.enabled = false\n            tableView.enabled = false\n        }\n        else\n        {\n            NSLog(\"string from %@ is of zero-length\", textField)\n        }\n    }\n\n    @IBAction func stopIt(sender: AnyObject) {\n        speechSynth.stopSpeaking()\n        NSLog(\"stopping\")\n    }\n\n    func speechSynthesizer(sender: NSSpeechSynthesizer, didFinishSpeaking finishedSpeaking: Bool)\n    {\n        stopButton.enabled = false\n        speakButton.enabled = true\n        tableView.enabled = true\n    }\n\n    func numberOfRowsInTableView(aTableView: NSTableView) -> Int\n    {\n        return voiceList!.count\n    }\n\n    func tableView(aTableView: NSTableView,\n        objectValueForTableColumn aTableColumn: NSTableColumn?,\n        row rowIndex: Int) -> AnyObject?\n    {\n        let v = voiceList![rowIndex] as NSString\n        let dict = NSSpeechSynthesizer.attributesForVoice(v)\n        return dict![NSVoiceName]\n    }\n\n    func tableViewSelectionDidChange(aNotification: NSNotification)\n    {\n        let row = tableView.selectedRow\n        if row >= 0\n        {\n            let selectedVoice = voiceList![row] as String\n            speechSynth.setVoice(selectedVoice)\n            NSLog(\"New voice: \\(selectedVoice)\")\n        }\n    }\n}\n\n\n\n\n\u7b2c\uff15\u7ae0\u300c\u30bf\u30fc\u30b2\u30c3\u30c8\u3068\u30a2\u30af\u30b7\u30e7\u30f3\u300d\u301c\u7b2c\uff16\u7ae0\u300c\u30d8\u30eb\u30d1\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d\u3067\u53d6\u308a\u4e0a\u3052\u3089\u308c\u3066\u3044\u308b\u300cSpeakLine\u300d\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092 Swift \u3067\u66f8\u3044\u3066\u307f\u308b\u3002\u30d7\u30ed\u30b0\u30e9\u30e0\u306f `NSSpeechSynthesizer` \u3092\u5229\u7528\u3057\u3066\u5165\u529b\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u3092\u97f3\u58f0\u3067\u8aad\u307f\u4e0a\u3052\u308b\u3068\u3044\u3046\u3082\u306e\u3002\u97f3\u58f0\u306b\u3088\u308b\u8aad\u307f\u4e0a\u3052\u81ea\u4f53\u306f `NSSpeechSynthesizer#startSpeakingString` \u306b\u30c6\u30ad\u30b9\u30c8\u3092\u6e21\u3059\u3060\u3051\u306a\u306e\u3067\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u4f55\u3082\u306a\u3044\u3002\u4f8b\u984c\u306e\u76ee\u6a19\u306f View \u3068 Controller \u3092 `IBOutlet` \u3084 `IBAction` \u3067\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5\u3001\u30c7\u30ea\u30b2\u30fc\u30c8\u3084\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5229\u7528\u6cd5\u306b\u3064\u3044\u3066\u306e\u5b66\u7fd2\u3002\n\n\u30bd\u30fc\u30b9\uff1ahttps://github.com/hugo-sb/Hillegass-ch5-6\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-04 22.15.06.png](https://qiita-image-store.s3.amazonaws.com/0/31482/22a0407e-1e32-5369-dcf7-19c993a01caf.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-04 22.15.06.png\")\n\n\u4ee5\u4e0b\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u3044\u3066\u5f15\u3063\u304b\u304b\u3063\u305f\u5834\u6240\u3002\n\n#### InitialFirstRespoder \u306e\u8a2d\u5b9a  \n\n\u66f8\u7c4d\u3067\u306f `Window` \u306e `InitialFirstRespoder` \u306b `Text Field` \u3092\u7d50\u3073\u3064\u3051\u3066\u3001\u8d77\u52d5\u6642\u306b `Text Field` \u304c\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u308b\u304c\u3001\u4eca\u56de\u306f `Storybord` \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u305d\u306e\u65b9\u6cd5\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305a\u3001\u307e\u305f\u3001`Storybord` \u3082\u826f\u304f\u7406\u89e3\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u3067\u4ee3\u66ff\u306e\u65b9\u6cd5\u3082\u5224\u3089\u306a\u3044\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u72b6\u614b\u3067 `Text Field` \u304c\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u53d6\u5f97\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\b\u4ef6\u306f\u4eca\u5f8c\u306e\u8ab2\u984c\u3068\u3059\u308b\u3002\n\n#### \u6587\u5b57\u5217\u306e\u9577\u3055\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\n\n`NSString` \u306b\u306f `Length` \u3068\u3044\u3046\u6587\u5b57\u5217\u9577\u3092\u53d6\u5f97\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u5b58\u5728\u3057\u305f\u304c\u3001Swift \u306e `String` \u306b\u306f\u540c\u69d8\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u5b58\u5728\u3057\u306a\u3044\u3088\u3046\u3060\u3002\n\n> [ios - Get the length of a String - Stack Overflow](http://stackoverflow.com/questions/24037711/get-the-length-of-a-string)    \n\n\u4e0a\u8a18\u3001\u30ea\u30f3\u30af\u5148\u306b\u3088\u308b\u3068\n\n```swift:sample\nvar length = countElements(\"test\")\n```\n\n\u3067\u53d6\u5f97\u3067\u304d\u308b\u3068\u306e\u3053\u3068\u3002\n\n`ViewController.swift` \u306e\u30bd\u30fc\u30b9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\n\n```swift:ViewController.swift\nimport Cocoa\n\nclass ViewController: NSViewController, NSSpeechSynthesizerDelegate {\n\n    @IBOutlet weak var textField: NSTextField!\n    @IBOutlet weak var stopButton: NSButton!\n    @IBOutlet weak var speakButton: NSButton!\n    @IBOutlet weak var tableView: NSTableView!\n    \n    let speechSynth = NSSpeechSynthesizer()\n    let voiceList = NSSpeechSynthesizer.availableVoices()\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        // Do any additional setup after loading the view.\n        speechSynth.delegate = self\n\n        let defaultVoice = NSSpeechSynthesizer.defaultVoice()\n        for i in (0...voiceList!.count)\n        {\n            if (voiceList![i] as NSString) == defaultVoice\n            {\n                tableView.selectRowIndexes(NSIndexSet(index: i), byExtendingSelection: false)\n                tableView.scrollRowToVisible(i)\n                break\n            }\n        }\n    }\n\n    override var representedObject: AnyObject? {\n        didSet {\n        // Update the view, if already loaded.\n        }\n    }\n\n    @IBAction func sayIt(sender: AnyObject) {\n        var str = textField.stringValue\n        if countElements(str) > 0\n        {\n            speechSynth.startSpeakingString(str)\n            NSLog(\"Have started to say: \\(str)\")\n            stopButton.enabled = true\n            speakButton.enabled = false\n            tableView.enabled = false\n        }\n        else\n        {\n            NSLog(\"string from %@ is of zero-length\", textField)\n        }\n    }\n\n    @IBAction func stopIt(sender: AnyObject) {\n        speechSynth.stopSpeaking()\n        NSLog(\"stopping\")\n    }\n    \n    func speechSynthesizer(sender: NSSpeechSynthesizer, didFinishSpeaking finishedSpeaking: Bool)\n    {\n        stopButton.enabled = false\n        speakButton.enabled = true\n        tableView.enabled = true\n    }\n    \n    func numberOfRowsInTableView(aTableView: NSTableView) -> Int\n    {\n        return voiceList!.count\n    }\n    \n    func tableView(aTableView: NSTableView,\n        objectValueForTableColumn aTableColumn: NSTableColumn?,\n        row rowIndex: Int) -> AnyObject?\n    {\n        let v = voiceList![rowIndex] as NSString\n        let dict = NSSpeechSynthesizer.attributesForVoice(v)\n        return dict![NSVoiceName]\n    }\n    \n    func tableViewSelectionDidChange(aNotification: NSNotification)\n    {\n        let row = tableView.selectedRow\n        if row >= 0\n        {\n            let selectedVoice = voiceList![row] as String\n            speechSynth.setVoice(selectedVoice)\n            NSLog(\"New voice: \\(selectedVoice)\")\n        }\n    }\n}\n\n```\n", "tags": ["\u5165\u9580", "OSX", "Swift"]}