{"context": "\u30ed\u30b0\u96c6\u8a08\u306a\u3069\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u4f5c\u696d\u3059\u308b\u3068\u304d\u3001awk \u3067\u3055\u3089\u3063\u3068\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u304c\u66f8\u3051\u308b\u3068\u6357\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u672c\u8a18\u4e8b\u3067\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5fdc\u3058\u305f awk \u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u4f8b\u3092\u8a18\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u4e3b\u306b\u30b5\u30fc\u30d0\u904b\u7528\u306b\u5f93\u4e8b\u3059\u308b\u65b9\u5411\u3051\u306e\u5185\u5bb9\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\u79c1\u81ea\u8eab\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5f53\u3066\u306f\u307e\u3089\u306a\u3044\u3082\u306e\u306f\u66f8\u304b\u306a\u3044\u3053\u3068\u3082\u3042\u308a\u305d\u3046\u3067\u3059\u3002\n\u4f55\u304b\u304a\u6c17\u3065\u304d\u306e\u70b9\u304c\u3042\u308c\u3070\u304a\u77e5\u3089\u305b\u4e0b\u3055\u3044\u3002\n\n\u5165\u9580\u7de8\n\n\u6307\u5b9a\u3057\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u62bd\u51fa\n% awk '{print $2,$3}' sample.tsv # 2,3\u5217\u76ee\n\n\n-F \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u533a\u5207\u308a\u6587\u5b57\u3092\u5909\u3048\u308b\n% awk -F, '{print $2,$3}' sample.csv # ,\u3067\u533a\u5207\u3063\u3066 2,3\u5217\u76ee\u3092\u51fa\u529b\n\n\n\u57fa\u672c\u7de8\n\n\u7d44\u307f\u8fbc\u307f\u5909\u6570\u30fb\u7279\u6b8a\u5909\u6570\n\n\nNF ... \u30d5\u30a3\u30fc\u30eb\u30c9\u6570\n\nNR ... \u884c\u756a\u53f7\n\n$0 ... \u884c\u5168\u4f53\u306e\u6587\u5b57\u5217\n\n\n\u672b\u5c3e\u304b\u3089n\u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3059\u308b\n$NF \u3067\u672b\u5c3e\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3001 $(NF-n) \u3067\u672b\u5c3e\u304b\u3089 n \u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n% awk '{print $1,$(NF-1),$NF}' sample.csv # 1\u5217\u76ee\u3068\u6700\u5f8c\u306e2\u5217\u3092\u51fa\u529b\n\n\n\u66f8\u5f0f\u6307\u5b9a\nprintf \u66f8\u5f0f, \u5909\u65701, \u5909\u65702, ... \u306e\u69cb\u6587\u304c\u4f7f\u3048\u307e\u3059\u3002\n% awk '{printf \"%10s %5d\\n\",$1,$3}' sample.dat\n\n\n\u5404\u884c\u306e\u9577\u3055\u3092\u51fa\u529b\nlength(string) \u95a2\u6570\u3067\u6539\u884c\u3092\u542b\u3080\u6587\u5b57\u5217\u306e\u9577\u3055\u3092\u53d6\u5f97\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n% awk '{print length($0)}' sample.txt\n\n\u5fdc\u7528\u4f8b\u3068\u3057\u3066\u306f\u3001 sort \u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u9577\u3044\u884c\u304b\u3089\u9806\u306b\u51fa\u529b\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u3001\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n# 1\u884c\u304c\u9577\u3044\u9806\u306b TOP 10 \u3092\u884c\u9577\u3068\u3068\u3082\u306b\u8868\u793a\n% awk '{print length($0), $0}' sample.txt | sort -nr | head\n# 1\u884c\u304c\u77ed\u3044\u9806\u306b TOP 10 \u3092\u884c\u9577\u3068\u3068\u3082\u306b\u8868\u793a\n% awk '{print length($0), $0}' sample.txt | sort -n | head\n\n\n\u96c6\u8a08\u51e6\u7406\n\u4ee5\u4e0b\u3001sample.dat \u306e4\u3064\u3081\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5024\u304c\u5165\u3063\u3066\u3044\u308b\u3068\u3057\u307e\u3059\u3002\n\n\u5e73\u5747\u5024\u306e\u7b97\u51fa\n% awk '{sum += $4} END {print sum/NR}' sample.dat\n\n\n\u6700\u5927\u5024\u306e\u7b97\u51fa\n% awk '{if (max<$4) max=$4} END {print max}' sample.dat\n\n\n\u9023\u60f3\u914d\u5217\u3092\u4f7f\u3063\u3066\u30ad\u30fc\u3054\u3068\u306b\u96c6\u8a08\n% awk '\n{sum_of[$3] += $4} END {for (key in sum_of) {printf \"Key: %s, SUM: %d\\n\", key, sum_of[key]}}\n' sample.dat\n\n\n\u5fdc\u7528\u7de8\n\n\u6307\u5b9a\u3057\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\"\u4ee5\u5916\"\u3092\u51fa\u529b\n#!bash\n% echo {1..5} | awk '{$1=$3=\"\";print}'\n 2  4 5\n\n\n\u53c2\u8003\n\nThe GNU Awk User\u2019s Guide\nawk\u30ac\u30ca\u30b9(4) \u2013 \u7d44\u307f\u8fbc\u307f\u5909\u6570NF(\u30d5\u30a3\u30fc\u30eb\u30c9\u6570) NR(\u884c\u756a\u53f7) \u2014 SOUM/misc\nawk\u3067\u672b\u5c3e\u304b\u3089\u6570\u3048\u3066n\u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u53d6\u308a\u51fa\u3059\u3002 - Qiita\n\"awk\" \u6307\u5b9a\u3057\u305f\u5217\u3092\u9664\u3044\u3066\u8868\u793a\u3059\u308b @LCD -Linux Command Dictionary-\uff5cReplog!\u682a\u5f0f\u4f1a\u793e\u30ec\u30c3\u30d7\u30ef\u30f3\u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u30d6\u30ed\u30b0\u3067\u3059\nLet's AWK\nawk \u306e\u9023\u60f3\u914d\u5217 \u2014 WTOPIA v1.0 documentation\n\n\u672c\u7a3f\u306f\u3001\u81ea\u5206\u306e\u904e\u53bb\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u304b\u3089\u52a0\u7b46\u4fee\u6b63\u3057\u3066\u307e\u3068\u3081\u76f4\u3057\u307e\u3057\u305f:\n\nAWK\u306b\u3088\u308b\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u51e6\u7406 - weblog of key_amb\n\n\u30ed\u30b0\u96c6\u8a08\u306a\u3069\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u4f5c\u696d\u3059\u308b\u3068\u304d\u3001awk \u3067\u3055\u3089\u3063\u3068\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u304c\u66f8\u3051\u308b\u3068\u6357\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u672c\u8a18\u4e8b\u3067\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5fdc\u3058\u305f awk \u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u4f8b\u3092\u8a18\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u4e3b\u306b\u30b5\u30fc\u30d0\u904b\u7528\u306b\u5f93\u4e8b\u3059\u308b\u65b9\u5411\u3051\u306e\u5185\u5bb9\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n\u79c1\u81ea\u8eab\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5f53\u3066\u306f\u307e\u3089\u306a\u3044\u3082\u306e\u306f\u66f8\u304b\u306a\u3044\u3053\u3068\u3082\u3042\u308a\u305d\u3046\u3067\u3059\u3002\n\u4f55\u304b\u304a\u6c17\u3065\u304d\u306e\u70b9\u304c\u3042\u308c\u3070\u304a\u77e5\u3089\u305b\u4e0b\u3055\u3044\u3002\n\n# \u5165\u9580\u7de8\n\n## \u6307\u5b9a\u3057\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u62bd\u51fa\n\n```bash\n% awk '{print $2,$3}' sample.tsv # 2,3\u5217\u76ee\n```\n\n## `-F` \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u533a\u5207\u308a\u6587\u5b57\u3092\u5909\u3048\u308b\n\n```bash\n% awk -F, '{print $2,$3}' sample.csv # ,\u3067\u533a\u5207\u3063\u3066 2,3\u5217\u76ee\u3092\u51fa\u529b\n```\n\n# \u57fa\u672c\u7de8\n\n## \u7d44\u307f\u8fbc\u307f\u5909\u6570\u30fb\u7279\u6b8a\u5909\u6570\n\n- `NF` ... \u30d5\u30a3\u30fc\u30eb\u30c9\u6570\n- `NR` ... \u884c\u756a\u53f7\n- `$0` ... \u884c\u5168\u4f53\u306e\u6587\u5b57\u5217\n\n## \u672b\u5c3e\u304b\u3089n\u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3059\u308b\n\n`$NF` \u3067\u672b\u5c3e\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3001 `$(NF-n)` \u3067\u672b\u5c3e\u304b\u3089 n \u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n```bash\n% awk '{print $1,$(NF-1),$NF}' sample.csv # 1\u5217\u76ee\u3068\u6700\u5f8c\u306e2\u5217\u3092\u51fa\u529b\n```\n\n## \u66f8\u5f0f\u6307\u5b9a\n\n`printf \u66f8\u5f0f, \u5909\u65701, \u5909\u65702, ...` \u306e\u69cb\u6587\u304c\u4f7f\u3048\u307e\u3059\u3002\n\n```bash\n% awk '{printf \"%10s %5d\\n\",$1,$3}' sample.dat\n```\n\n## \u5404\u884c\u306e\u9577\u3055\u3092\u51fa\u529b\n\n`length(string)` \u95a2\u6570\u3067\u6539\u884c\u3092\u542b\u3080\u6587\u5b57\u5217\u306e\u9577\u3055\u3092\u53d6\u5f97\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n```bash\n% awk '{print length($0)}' sample.txt\n```\n\n\u5fdc\u7528\u4f8b\u3068\u3057\u3066\u306f\u3001 `sort` \u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u9577\u3044\u884c\u304b\u3089\u9806\u306b\u51fa\u529b\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u3001\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n\n```bash\n# 1\u884c\u304c\u9577\u3044\u9806\u306b TOP 10 \u3092\u884c\u9577\u3068\u3068\u3082\u306b\u8868\u793a\n% awk '{print length($0), $0}' sample.txt | sort -nr | head\n# 1\u884c\u304c\u77ed\u3044\u9806\u306b TOP 10 \u3092\u884c\u9577\u3068\u3068\u3082\u306b\u8868\u793a\n% awk '{print length($0), $0}' sample.txt | sort -n | head\n```\n\n## \u96c6\u8a08\u51e6\u7406\n\n\u4ee5\u4e0b\u3001sample.dat \u306e4\u3064\u3081\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5024\u304c\u5165\u3063\u3066\u3044\u308b\u3068\u3057\u307e\u3059\u3002\n\n### \u5e73\u5747\u5024\u306e\u7b97\u51fa\n\n```bash\n% awk '{sum += $4} END {print sum/NR}' sample.dat\n```\n\n### \u6700\u5927\u5024\u306e\u7b97\u51fa\n\n```bash\n% awk '{if (max<$4) max=$4} END {print max}' sample.dat\n```\n\n### \u9023\u60f3\u914d\u5217\u3092\u4f7f\u3063\u3066\u30ad\u30fc\u3054\u3068\u306b\u96c6\u8a08\n\n```bash\n% awk '\n{sum_of[$3] += $4} END {for (key in sum_of) {printf \"Key: %s, SUM: %d\\n\", key, sum_of[key]}}\n' sample.dat\n```\n\n# \u5fdc\u7528\u7de8\n\n## \u6307\u5b9a\u3057\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\"\u4ee5\u5916\"\u3092\u51fa\u529b\n\n```bash\n#!bash\n% echo {1..5} | awk '{$1=$3=\"\";print}'\n 2  4 5\n```\n\n# \u53c2\u8003\n\n- [The GNU Awk User\u2019s Guide](https://www.gnu.org/software/gawk/manual/gawk.html)\n- [awk\u30ac\u30ca\u30b9(4) \u2013 \u7d44\u307f\u8fbc\u307f\u5909\u6570NF(\u30d5\u30a3\u30fc\u30eb\u30c9\u6570) NR(\u884c\u756a\u53f7) \u2014 SOUM/misc](http://www.soum.co.jp/misc/naka/awk/4.html \"awk\u30ac\u30ca\u30b9(4) \u2013 \u7d44\u307f\u8fbc\u307f\u5909\u6570NF(\u30d5\u30a3\u30fc\u30eb\u30c9\u6570) NR(\u884c\u756a\u53f7) \u2014 SOUM/misc\")\n- [awk\u3067\u672b\u5c3e\u304b\u3089\u6570\u3048\u3066n\u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u53d6\u308a\u51fa\u3059\u3002 - Qiita](http://qiita.com/koitatu3/items/3d746c7e292908c6167e \"awk\u3067\u672b\u5c3e\u304b\u3089\u6570\u3048\u3066n\u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u53d6\u308a\u51fa\u3059\u3002 - Qiita\")\n- [\"awk\" \u6307\u5b9a\u3057\u305f\u5217\u3092\u9664\u3044\u3066\u8868\u793a\u3059\u308b @LCD -Linux Command Dictionary-\uff5cReplog!\u682a\u5f0f\u4f1a\u793e\u30ec\u30c3\u30d7\u30ef\u30f3\u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u30d6\u30ed\u30b0\u3067\u3059](http://www.rep1.co.jp/staff/200vcxg/217rav/awk_lcd_-linux_command_diction_1.htm)\n- [Let's AWK](http://aoki2.si.gunma-u.ac.jp/Hanasi/Algo/letsawk/WhatIsFunction.html \"Let's AWK\")\n- [awk \u306e\u9023\u60f3\u914d\u5217 \u2014 WTOPIA v1.0 documentation](http://www.ie.u-ryukyu.ac.jp/~e085739/awk.tuts.ch17.html \"awk \u306e\u9023\u60f3\u914d\u5217 \u2014 WTOPIA v1.0 documentation\")\n\n\u672c\u7a3f\u306f\u3001\u81ea\u5206\u306e\u904e\u53bb\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u304b\u3089\u52a0\u7b46\u4fee\u6b63\u3057\u3066\u307e\u3068\u3081\u76f4\u3057\u307e\u3057\u305f:\n\n- [AWK\u306b\u3088\u308b\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u51e6\u7406 - weblog of key_amb]( http://keyamb.hatenablog.com/entry/20120516/1337144072)\n", "tags": ["awk"]}