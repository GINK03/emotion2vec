{"context": "\u672c\u8a18\u4e8b\u3067\u306fRDO Project\u3067\u4e3b\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308bTripleO\u3092\u4f7f\u3063\u305f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3064\u3044\u3066\u7d39\u4ecb\u3057\u307e\u3059\u3002\nRDO Project\u3067\u958b\u767a\u3055\u308c\u3066\u3044\u308bOpenStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306fTripleO\u306e\u4ed6\u306bPackstack\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u3001TripleO\u306f\nController node\u306eHA\u306e\u8a2d\u5b9a\u306a\u3069\u3082\u542b\u3081\u3066\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\nRDO Project\u3067\u306fTripleO\u3092\u4f7f\u7528\u3057\u305fTripleO quickstart\u30c4\u30fc\u30eb\u3067\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3067\u3059\u304c\u3001\u305d\u308c\u306b\u3064\u3044\u3066\u306f\u307e\u305f\u306e\u6a5f\u4f1a\u306b\u8aac\u660e\u3057\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u672c\u8a18\u4e8b\u3067\u306f\u4ee5\u4e0b\u306e\u3053\u3068\u3092\u884c\u306a\u3044\u307e\u3059\u3002\n\nVM\u30923\u3064\u4f5c\u6210(Undercloud\u7528 x 1, Controller node\u7528 x 1, Compute node\u7528 x 1) (\u624b\u9806\u306f\u7701\u7565)\nUndercloud\u306e\u306bCentOS7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (\u624b\u9806\u306f\u7701\u7565)\n\u305d\u306e\u5f8c\u306bUndercloud\u7528OpenStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nTempest\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u6b63\u5e38\u6027\u78ba\u8a8d\nUndercloud\u304b\u3089Coontroller node, Compute node\u306eOpenStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u65bd\nNova\u3092\u4f7f\u3063\u3066CirrOS\u3092\u8d77\u52d5\n\n\nTripleO\u306b\u3088\u308bOpenStack\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6982\u8981\nTripleO\u3067\u306fUndercloud\u3068Overcloud\u306e2\u3064\u306eOpenStack\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\nOvercloud\n\n\n\u5b9f\u969b\u306b\u4f7f\u7528\u3059\u308bOpenStack\u74b0\u5883\n\n\nUndercloud\n\n\nOvercloud\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u4f5c\u6210\u30fb\u4f7f\u7528\u3055\u308c\u308bOpenStack\u3067\u3059\u3002ironic/heat\u3092\u4f7f\u7528\u3057\u3066Overcloud\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\n\n\n\n\u3067\u3059\u306e\u3067\u9806\u756a\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u306b\u306a\u308a\u307e\u3059\u3002\n\nUndercloud\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nUndercloud\u306bOvercloud\u306eController node, Compute node\u7b49\u3092\u767b\u9332\nUndercloud\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fironic\u3092\u4f7f\u3063\u3066\u5404Controller node, Compute node\u7b49\u3092\u5236\u5fa1\nUndercloud\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fheat\u3092\u4f7f\u3063\u3066Overcloud\u306eOpenStack\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u69cb\u6210\u56f3\n\u4eca\u56de\u306e\u69cb\u6210\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u7269\u7406\u306bLinux\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3001libvirt\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nUndercloud VM\u3092\u4f5c\u6210\u3057\u3001CentOS7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nnetwork\u306f\u7ba1\u7406\u7528\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9(default)\u3068OpenStack\u7528\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af(data1)\u306e2\u3064\u3092\u4f5c\u6210\nOpenStack\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30e6\u30fc\u30b6\u30fc'stack'\u3092\u4f5c\u6210\u3057\u3066sudo\u4f7f\u7528\u53ef\u80fd\u72b6\u614b\u306b\u3059\u308b\n\n\nOvercloud-ctrl (Controller node)\u3068Overcloud-Comp01\u306eVM\u3092\u4f5c\u6210\n\n\n\u3053\u308c\u306b\u3064\u3044\u3066\u306fVM\u4f5c\u6210\u306e\u307f\u3067\u8d77\u52d5\u30fbOS\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3057\u306a\u3044\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306fdata1\u306e\u307f\u306b\u63a5\u7d9a\n\u3053\u306eVM\u306fUndercloud\u304b\u3089\u306eDHCP/PXE\u3067\u30d6\u30fc\u30c8\u4e88\u5b9a\n\n\nOpenStack\u7528\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af(data1)\u306fIP Masquerade\u3067\u5916\u90e8\u306b\u63a5\u7d9a\n\n\n\n\u524d\u6e96\u5099\n\n\u7269\u7406\u30de\u30b7\u30f3\u306bLinux\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001libvirt(virsh)\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\n\u30e6\u30fc\u30b6'stack'\u306e\u4f5c\u6210'\n\n\nsudo\u304c\u5b9f\u884c\u53ef\u80fd\u306a\u72b6\u614b\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n\nssh-copy-id root@<kvm\u5074\u306e\u30a2\u30c9\u30ec\u30b9>\u7b49\u3092\u4f7f\u3063\u3066hypervisor (virsh)\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n\n\nNetwork(data1)\u306e\u4f5c\u6210\n\nOpenStack\u7528\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Undercloud VM\u5074\u3067DHCP\u30b5\u30fc\u30d0\u3092\u52d5\u4f5c\u3055\u305b\u308b\u306e\u3067DHCP\u306f\u7121\u52b9\u306b\u3057\u3066\u304a\u3044\u3066\u4e0b\u3055\u3044\u3002\u307e\u305f\u4f5c\u6210\u3057\u305fLinux Bridge\u306b\u5bfe\u3057\u3066iptables\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ cat > data1_net.xml << EOF\n<network connections='3'>\n  <name>data1</name>\n  <uuid>b7eadbab-7e95-487b-be00-8fa7fc679436</uuid>\n  <bridge name='data1' stp='on' delay='0'/>\n  <mac address='52:54:00:ae:42:07'/>\n  <ip address='10.1.1.254' netmask='255.255.255.0'>\n  </ip>\n</network>\nEOF\n$ virsh net-create data1_net.xml\n$ virsh net-start data1\n$ virsh net-autostart data1\n$ iptables -I FORWARD 1 -i data1 -j ACCEPT\n$ iptables -I FORWARD 1 -o data1 -j ACCEPT\n\n\nUndercloud\u7528\u306eVM\u3092\u4f5c\u6210\n\n\nVM\u3092\u8d77\u52d5\u3057\u3066CentOS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\ndefault (\u7ba1\u7406\u7528\u30cd\u30c3\u30c8\u30ef\u30fc\u30af)\u306eIP address, DNS\u306e\u8a2d\u5b9a\u3092\u884c\u306a\u3046\n\n\nOvercloud-ctrl, Overcloud-comp1\u306eVM\u3092\u4f5c\u6210\n\u3053\u3053\u3067\u306fVM\u306e\u4f5c\u6210\u3060\u3051\u884c\u306a\u3044\u307e\u3059\u3002\u8d77\u52d5\u306fTripleO\u304b\u3089\u884c\u306a\u3046\u306e\u3067\u3053\u306e\u6642\u70b9\u3067\u306f\u96fb\u6e90\u306fOff\u306e\u72b6\u614b\u3067\u3059\u3002\n\nqemu-img create 41G overcloud-ctrl.qcow2\n/usr/bin/virt-install \\\n   --name overcloud-ctrl \\\n   --ram 6144 --vcpus 2 \\\n   --os-variant centos7.0 \\\n   overcloud-ctrl.qcow2 \\\n   --noautoconsole \\\n   --vnc \\\n   --network network:data1 --mac=52:54:00:c0:87:36 \\\n   --network network:internals \\\n   --cpu SandyBridge,+vmx \\\n   --graphics vnc,listen=10.61.123.1 \\\n   --dry-run --print-xml > overcloud-ctrl.xml\nvirsh define --file overcloud-ctrl.xml\n\nqemu-img create 41G overcloud-comp1.qcow2\n/usr/bin/virt-install \\\n   --name overcloud-comp1 \\\n   --ram 6144 --vcpus 2 \\\n   --os-variant centos7.0 \\\n   overcloud-comp1.qcow2 \\\n   --noautoconsole \\\n   --vnc \\\n   --network network:data1 --mac=52:54:00:c0:87:37 \\\n   --network network:internals \\\n   --cpu SandyBridge,+vmx \\\n   --graphics vnc,listen=10.61.123.1 \\\n   --dry-run --print-xml > overcloud-comp1.xml\nvirsh define --file overcloud-comp1.xml\n\n\nTripleO\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nUndercloud\u7528OpenStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u3053\u3067\u306fUndercloud\u7528\u306eOpenStack\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ curl -L -o /etc/yum.repos.d/delorean-mitaka.repo \\\nhttps://trunk.rdoproject.org/centos7-mitaka/current/delorean.repo\n$ curl -L -o /etc/yum.repos.d/delorean-deps-mitaka.repo \\\nhttp://trunk.rdoproject.org/centos7-mitaka/delorean-deps.repo\n$ yum -y install python-tripleoclient\n\n\nUndercloud\u306e\u8a2d\u5b9a\n\u30e6\u30fc\u30b6 stack\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u5f8c\u306bUndercloud\u7528\u306e\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n$ sudo -i -u stack\n$ cp /usr/share/instack-undercloud/undercloud.conf.sample ~/undercloud.conf\n\nundercloud.conf.sample\u3092\u53c2\u8003\u306bundercloud\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\u4e0a\u306e\u56f3\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u306b\u306a\u308a\u307e\u3059\u3002\n\nundercloud.conf\n[DEFAULT]\nundercloud_hostname = openstack\nlocal_ip = 10.1.1.1/24\nnetwork_gateway = 10.1.1.1\nundercloud_public_vip = 10.1.1.1\nundercloud_admin_vip = 10.1.1.11\nlocal_interface = eth0\nnetwork_cidr = 10.1.1.0/24\nmasquerade_network = 10.1.1.0/24\ndhcp_start = 10.1.1.10\ndhcp_end = 10.1.1.30\ninspection_iprange = 10.1.1.100,10.1.1.120\n[auth]\n\n\n\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089Undercloud\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002Undercloud\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u306e\u3067\u7d42\u308f\u308b\u307e\u3067\u306f\u4f55\u304b\u5225\u306e\u4f5c\u696d\u3067\u3082\u3057\u306a\u304c\u3089\u6c17\u9577\u306b\u5f85\u3061\u307e\u3057\u3087\u3046\u3002\n$ openstack undercloud install\n\n\nOvercloud\u7528\u306e\u30a4\u30e1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u5c55\u958b\nOvercloud\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u5c55\u958b\u3057\u307e\u3059\u3002\n$ curl -O  https://ci.centos.org/artifacts/rdo/images/mitaka/delorean/stable/ironic-python-agent.tar\n$ curl -O https://ci.centos.org/artifacts/rdo/images/mitaka/delorean/stable/overcloud-full.tar\n$ curl -O https://ci.centos.org/artifacts/rdo/images/mitaka/delorean/stable/undercloud.qcow2\n$ tar xvf ironic-python-agent.tar\n$ tar xvf overcloud-full.tar\n\n\nOvercloud\u7528\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e96\u5099\n\nOvercloud\u7528\u30a4\u30e1\u30fc\u30b8\u306e\u8a2d\u5b9a\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u3092Undercloud\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ . stackrc\n$ openstack overcloud image upload --image-path . \n\n\nOvercloud\u7528\u306e\u30ce\u30fc\u30c9\u7fa4\u306e\u767b\u9332\u30fb\u78ba\u8a8d\nOvercloud\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u4f7f\u3046\u30de\u30b7\u30f3(\u3053\u3053\u3067\u306fVM\u306b\u306a\u308a\u307e\u3059)\u306e\u60c5\u5831\u3092Undercloud\u306b\u767b\u9332\u3057\u307e\u3059\u3002\n\u4e0a\u3067\u4f5c\u6210\u3057\u305f2\u53f0\u306eVM\u306e\u60c5\u5831(MAC address\u3068hypervisor\u306e\u60c5\u5831)\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u5165\u3057\u3066\u4e0b\u3055\u3044\u3002\u4e0b\u306eXXX\u306e\u60c5\u5831\u306f\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\ninstackenv.json\n{\n  \"nodes\": [\n    {\n      \"arch\": \"x86_64\",\n      \"name\": \"overcloud-ctrl\",\n      \"pm_user\": \"root\",\n      \"pm_addr\": \"<<XXX:hypervisor virsh\u306eIP\u30a2\u30c9\u30ec\u30b9>>\",\n      \"pm_password\": \"<<XXX: ~/.ssh/id_rsa\u306e\u4e2d\u8eab>>\",\n      \"pm_type\": \"pxe_ssh\",\n      \"mac\": [\n        \"52:54:00:c0:87:36\"\n      ],\n    },\n    { \n      \"arch\": \"x86_64\",\n      \"name\": \"overcloud-comp1\",\n      \"pm_user\": \"root\",\n      \"pm_addr\": \"<<XXX:hypervisor virsh\u306eIP\u30a2\u30c9\u30ec\u30b9>>\",\n      \"pm_type\": \"pxe_ssh\",\n      \"pm_password\": \"<<XXX: ~/.ssh/id_rsa\u306e\u4e2d\u8eab>>\",\n      \"pm_type\": \"pxe_ssh\",\n      \"mac\": [\n        \"52:54:00:c0:87:37\"\n      ],\n    }\n  ],\n  \"host-ip\": \"<<XXX:hypervisor virsh\u306eIP\u30a2\u30c9\u30ec\u30b9>>\",\n  \"power_manager\": \"nova.virt.baremetal.virtual_power_driver.VirtualPowerManager\",\n  \"ssh-key\": \"<<XXX: ~/.ssh/id_rsa\u306e\u4e2d\u8eab>>\",\n  \"arch\": \"x86_64\",\n  \"ssh-user\": \"root\"\n}\n\n\n\u305d\u306e\u5f8c\u306bUndercloud\u3078\u767b\u9332\u3092\u884c\u306a\u3044\u3001introspection\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002introspection\u3067\u306f\u30c6\u30b9\u30c8\u7528\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3063\u3066\u30de\u30b7\u30f3\u3092\u8d77\u52d5\u3057\u3001CPU\u30fb\u30e1\u30e2\u30ea\u30fbHDD\u306e\u5bb9\u91cf\u7b49\u3092\u81ea\u52d5\u7684\u306b\u8abf\u67fb\u3057\u307e\u3059\u3002\n$ openstack baremetal import instackenv.json\n$ openstack baremetal configure boot\n$ openstack baremetal introspection bulk start\n\n\nOvercloud\u306e\u8a2d\u5b9a\u30fb\u30c7\u30d7\u30ed\u30a4\n\nDNS\u306e\u8a2d\u5b9a\nneutron subnet-update $(openstack subnet list -f json | jq '.[0].ID' -r) \\\n        --dns-nameserver <<XXX: DNS\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9>>\n\n\nOvercloud\u306e\u74b0\u5883\u30d5\u30a1\u30a4\u30eb\nOvercloud\u306e\u8a2d\u5b9a\u306fHeat\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u307e\u305a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\ncp -r /usr/share/openstack-tripleo-heat-templates/ ~/templates\ncd ~/templates\n\n~/templates\u306b\u4ee5\u4e0b\u306e3\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 XXX\u306e\u5834\u6240\u306f\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f8\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n\nnetwork-environment.yaml\n#This file is an example of an environment file for defining the isolated\n#networks and related parameters.\nresource_registry:\n  # Network Interface templates to use (these files must exist)\n  OS::TripleO::BlockStorage::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/cinder-storage.yaml\n  OS::TripleO::Compute::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/compute.yaml\n  OS::TripleO::Controller::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/controller.yaml\n  OS::TripleO::ObjectStorage::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/swift-storage.yaml\n  OS::TripleO::CephStorage::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/ceph-storage.yaml\n\nparameter_defaults:\n  # This section is where deployment-specific configuration is done\n  # Customize the IP subnets to match the local environment\n  InternalApiNetCidr: 172.17.0.0/24\n  StorageNetCidr: 172.18.0.0/24\n  StorageMgmtNetCidr: 172.19.0.0/24\n  TenantNetCidr: 172.16.0.0/24\n  ExternalNetCidr: <<XXX:\u5916\u5074\u306enetwork Cidr, \u4f8b192.168.0.1>>\n  # CIDR subnet mask length for provisioning network\n  ControlPlaneSubnetCidr: '24'\n  # Customize the IP ranges on each network to use for static IPs and VIPs\n  InternalApiAllocationPools: [{'start': '172.17.0.10', 'end': '172.17.0.200'}]\n  StorageAllocationPools: [{'start': '172.18.0.10', 'end': '172.18.0.200'}]\n  StorageMgmtAllocationPools: [{'start': '172.19.0.10', 'end': '172.19.0.200'}]\n  TenantAllocationPools: [{'start': '172.16.0.10', 'end': '172.16.0.200'}]\n  # Leave room if the external network is also used for floating IPs\n  #ExternalAllocationPools: [{'start': '10.0.0.10', 'end': '10.0.0.50'}]\n  # Gateway router for the external network\n  ExternalInterfaceDefaultRoute: <<<XXX:\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306e\u30a2\u30c9\u30ec\u30b9>>>\n  # Gateway router for the provisioning network (or Undercloud IP)\n  ControlPlaneDefaultRoute: 10.1.1.1\n  # Generally the IP of the Undercloud\n  EC2MetadataIp: 10.1.1.1\n  # Define the DNS servers (maximum 2) for the overcloud nodes\n  DnsServers: [\"<<XXX:DNS\u306e\u30a2\u30c9\u30ec\u30b9>>\", \"8.8.8.8\"]\n  # Customize the VLAN IDs to match the local environment\n  InternalApiNetworkVlanID: 10\n  StorageNetworkVlanID: 20\n  StorageMgmtNetworkVlanID: 30\n  TenantNetworkVlanID: 40\n  ExternalNetworkVlanID: 50\n  # Set to empty string to enable multiple external networks or VLANs\n  NeutronExternalNetworkBridge: \"''\"\n  # Customize bonding options, e.g. \"mode=4 lacp_rate=1 updelay=1000 miimon=100\"\n  BondInterfaceOvsOptions: \"bond_mode=active-backup\"\n\n\n\nscheduler_hints_env.yaml\nparameter_defaults:\n    ControllerSchedulerHints:\n        'capabilities:node': 'controller-%index%'\n    NovaComputeSchedulerHints:\n        'capabilities:node': 'compute-%index%'\n    BlockStorageSchedulerHints:\n        'capabilities:node': 'blockstorage-%index%'\n    ObjectStorageSchedulerHints:\n        'capabilities:node': 'objstorage-%index%'\n    CephStorageSchedulerHints:\n        'capabilities:node': 'cephstorage-%index%'\n\n\n\nstorage-environment.yaml\n## A Heat environment file which can be used to set up storage\n## backends. Defaults to Ceph used as a backend for Cinder, Glance and\n## Nova ephemeral storage.\nparameter_defaults:\n\n  #### BACKEND SELECTION ####\n\n  ## Whether to enable iscsi backend for Cinder.\n  CinderEnableIscsiBackend: false\n  ## Whether to enable rbd (Ceph) backend for Cinder.\n  CinderEnableRbdBackend: false\n  ## Whether to enable NFS backend for Cinder.\n  # CinderEnableNfsBackend: false\n  ## Whether to enable rbd (Ceph) backend for Nova ephemeral storage.\n  NovaEnableRbdBackend: false\n  ## Glance backend can be either 'rbd' (Ceph), 'swift' or 'file'.\n  GlanceBackend: swift\n  ## Gnocchi backend can be either 'rbd' (Ceph), 'swift' or 'file'.\n  GnocchiBackend: swift\n\n\n  #### CINDER NFS SETTINGS ####\n\n  ## NFS mount options\n  # CinderNfsMountOptions: ''\n  ## NFS mount point, e.g. '192.168.122.1:/export/cinder'\n  # CinderNfsServers: ''\n\n\n  #### GLANCE FILE BACKEND PACEMAKER SETTINGS (used for mounting NFS) ####\n\n  ## Whether to make Glance 'file' backend a mount managed by Pacemaker\n  # GlanceFilePcmkManage: false\n  ## File system type of the mount\n  # GlanceFilePcmkFstype: nfs\n  ## Pacemaker mount point, e.g. '192.168.122.1:/export/glance' for NFS\n  # GlanceFilePcmkDevice: ''\n  ## Options for the mount managed by Pacemaker\n  # GlanceFilePcmkOptions: ''\n\n\n  #### CEPH SETTINGS ####\n\n  ## Whether to deploy Ceph OSDs on the controller nodes. By default\n  ## OSDs are deployed on dedicated ceph-storage nodes only.\n  # ControllerEnableCephStorage: false\n\n  ## When deploying Ceph Nodes through the oscplugin CLI, the following\n  ## parameters are set automatically by the CLI. When deploying via\n  ## heat stack-create or ceph on the controller nodes only,\n  ## they need to be provided manually.\n\n  ## Number of Ceph storage nodes to deploy\n  # CephStorageCount: 0\n  ## Ceph FSID, e.g. '4b5c8c0a-ff60-454b-a1b4-9747aa737d19'\n  # CephClusterFSID: ''\n  ## Ceph monitor key, e.g. 'AQC+Ox1VmEr3BxAALZejqeHj50Nj6wJDvs96OQ=='\n  # CephMonKey: ''\n  ## Ceph admin key, e.g. 'AQDLOh1VgEp6FRAAFzT7Zw+Y9V6JJExQAsRnRQ=='\n  # CephAdminKey: ''\n\n\n\u30b5\u30fc\u30d0\u306b\u3069\u306e\u30ed\u30fc\u30eb\u3092\u5272\u308a\u5f53\u3066\u305f\u3044\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n$ ironic node-update overcloud-ctrl replace \\\n        properties/capabilities='node:controller-0,boot_option:local'\n$ ironic node-update overcloud-comp1 replace \\\n        properties/capabilities='node:compute-0,boot_option:local'\n\n\u6700\u5f8c\u306bopenstack overcloud deploy\u30b3\u30de\u30f3\u30c9\u3067overcloud\u7528\u306eVM\u306bopenstack\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002\u7d50\u69cb\u306a\u6642\u9593\u304c(\u6570\u6642\u9593\u7a0b)\u304b\u304b\u308a\u307e\u3059\u3002\n$ cd ~/\n$ openstack overcloud deploy --templates ~/templates/ \\\n        -e ~/templates/environments/network-environment.yaml \\\n        -e ~/templates/environments/storage-environment.yaml \\\n        -e ~/templates/environments/scheduler_hints_env.yaml \\\n        --control-scale 1 --compute-scale 1 \\\n        --ntp-server 10.61.123.1 --neutron-tunnel-type vxlan \\\n        --neutron-network-type vxlan\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30ce\u30fc\u30c9\u306e\u60c5\u5831\novercloud\u306eIP\u30a2\u30c9\u30ec\u30b9\u306fnova list\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n$ . stackrc\n$ nova list\n+--------------------------------------+-------------------------+--------+------------+-------------+--------------------+\n| ID                                   | Name                    | Status | Task State | Power State | Networks           |\n+--------------------------------------+-------------------------+--------+------------+-------------+--------------------+\n| fe0582c5-ea76-49a5-89e1-6fada0657749 | overcloud-controller-0  | ACTIVE | -          | Running     | ctlplane=10.1.1.13 |\n| 37495c5e-3419-4216-90c2-569380f188b1 | overcloud-novacompute-0 | ACTIVE | -          | Running     | ctlplane=10.1.1.14 |\n+--------------------------------------+-------------------------+--------+------------+-------------+--------------------+ \n\n\u307e\u305fController\u30ce\u30fc\u30c9, Compute\u30ce\u30fc\u30c9\u3078\u306essh\u30ed\u30b0\u30a4\u30f3\u306b\u306f\u30e6\u30fc\u30b6heat-admin\u3067\u53ef\u80fd\u3067\u3059\u3002\n$ ssh heat-admin@10.1.1.13\nThe authenticity of host '10.1.1.13 (10.1.1.13)' can't be established.\nECDSA key fingerprint is 13:99:79:ea:a1:9f:86:0b:9a:b7:2d:34:1a:b2:bd:45.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '10.1.1.13' (ECDSA) to the list of known hosts.\nLast login: Fri Aug 26 08:21:24 2016 from 10.1.1.1\n[heat-admin@overcloud-controller-0 ~]$ \n\n\nOvercloud\u3078\u306e\u30a2\u30af\u30bb\u30b9\nOvercloud\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306f~/overcloudrc\u3092\u8aad\u3080\u3053\u3068\u3067\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n$ . overcloudrc\n\n\nTempest\u306e\u5b9f\u884c\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067Tempest\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n$ source overcloudrc\n$ mkdir tempest\n$ cd tempest\n$ /usr/share/openstack-tempest-12.0.1.dev286/tools/configure-tempest-directory\n$ tools/config_tempest.py --deployer-input ~/tempest-deployer-input.conf \\\n                        --debug --create \\\n                        identity.uri $OS_AUTH_URL \\\n                        identity.admin_password $OS_PASSWORD\n$ tools/run-tests.sh\n\n\nVM\u306e\u8d77\u52d5\u307e\u3067\nundercloud\u304b\u3089\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067VM\u304c\u8d77\u52d5\u3067\u304d\u307e\u3059\u3002(XXX\u306b\u306f\u5b9f\u969b\u306e\u5024\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044)\n$ . overcloudrc\n# \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u30b0\u30eb\u30fc\u30d7\u306e\u8ffd\u52a0\n$ nova secgroup-add-rule default icmp    -1    -1 0.0.0.0/0 # Ping\n$ nova secgroup-add-rule default tcp     22    22 0.0.0.0/0 # SSH\n# \u30d5\u30ec\u30fc\u30d0\u30fc\u306e\u4f5c\u6210\n$ nova flavor-create --swap 256 c1.m1   12  1024 0 1\n# \u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\n$ curl -O http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img\n$ openstack image create 'cirros image' --public --container-format bare \\\n        --disk-format=qcow2 < cirros-0.3.4-x86_64-disk.img\n\n# \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u4f5c\u6210\n$ neutron net-create external --router:external \\\n        --provider:network_type flat \\\n        --provider:physical_network datacentre \n\n$ neutron subnet-create external 10.1.1.0/24 --name subnet-ext1 \\\n        --allocation-pool=start=10.1.1.100,end=10.1.1.199 \\\n        --dns-nameserver 10.61.123.1 --enable-dhcp=False\n$ neutron net-create internal\n$ neutron subnet-create internal 192.168.0.0/24 --name subnet-int1\n\n$ neutron router-create router\n$ neutron router-gateway-set router external\n$ neutron router-interface-add router subnet-int1\n$ neutron floatingip-create external\n\n$ nova boot --flavor c2.m4 --image 'cirros image' \\\n   --nic net-id=f1495ac8-828b-4814-89be-d7a5afcf7100 testvm1\n$ nova floating-ip-associate testvm1 <<<\u4e0a\u3067\u4f5c\u6210\u3057\u305ffloating ip>>>\n\n\n\u307e\u3068\u3081\n\u672c\u8a18\u4e8b\u3067\u306fTripleO\u3092\u4f7f\u7528\u3057\u3066OpenStack\u306eMitaka\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\u82f1\u8a9e\u3067\u3059\u304c\u4e0b\u8a18\u306e\u30da\u30fc\u30b8\u306bTripleO\u306b\u3064\u3044\u3066\u306e\u60c5\u5831\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nhttp://docs.openstack.org/developer/tripleo-docs/basic_deployment/basic_deployment_cli.html\nhttps://gbraad.gitbooks.io/scratchpad/content/technology/openstack/\nhttp://docs.openstack.org/developer/tripleo-docs/advanced_deployment/network_isolation.html\n\n\u672c\u8a18\u4e8b\u3067\u306f[RDO Project](http://www.rdoproject.org/)\u3067\u4e3b\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308b[TripleO](http://tripleo.org/)\u3092\u4f7f\u3063\u305f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3064\u3044\u3066\u7d39\u4ecb\u3057\u307e\u3059\u3002\nRDO Project\u3067\u958b\u767a\u3055\u308c\u3066\u3044\u308bOpenStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306fTripleO\u306e\u4ed6\u306bPackstack\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u3001TripleO\u306f\nController node\u306eHA\u306e\u8a2d\u5b9a\u306a\u3069\u3082\u542b\u3081\u3066\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\nRDO Project\u3067\u306fTripleO\u3092\u4f7f\u7528\u3057\u305fTripleO quickstart\u30c4\u30fc\u30eb\u3067\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3067\u3059\u304c\u3001\u305d\u308c\u306b\u3064\u3044\u3066\u306f\u307e\u305f\u306e\u6a5f\u4f1a\u306b\u8aac\u660e\u3057\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u672c\u8a18\u4e8b\u3067\u306f\u4ee5\u4e0b\u306e\u3053\u3068\u3092\u884c\u306a\u3044\u307e\u3059\u3002\n\n* VM\u30923\u3064\u4f5c\u6210(Undercloud\u7528 x 1, Controller node\u7528 x 1, Compute node\u7528 x 1) (\u624b\u9806\u306f\u7701\u7565)\n* Undercloud\u306e\u306bCentOS7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (\u624b\u9806\u306f\u7701\u7565)\n* \u305d\u306e\u5f8c\u306bUndercloud\u7528OpenStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n* Tempest\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u6b63\u5e38\u6027\u78ba\u8a8d\n* Undercloud\u304b\u3089Coontroller node, Compute node\u306eOpenStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b9f\u65bd\n* Nova\u3092\u4f7f\u3063\u3066CirrOS\u3092\u8d77\u52d5\n\n# TripleO\u306b\u3088\u308bOpenStack\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6982\u8981\nTripleO\u3067\u306fUndercloud\u3068Overcloud\u306e2\u3064\u306eOpenStack\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n* Overcloud\n    * \u5b9f\u969b\u306b\u4f7f\u7528\u3059\u308bOpenStack\u74b0\u5883\n* Undercloud\n    * Overcloud\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u4f5c\u6210\u30fb\u4f7f\u7528\u3055\u308c\u308bOpenStack\u3067\u3059\u3002ironic/heat\u3092\u4f7f\u7528\u3057\u3066Overcloud\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\n\n\u3067\u3059\u306e\u3067\u9806\u756a\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u306b\u306a\u308a\u307e\u3059\u3002\n\n1. Undercloud\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n2. Undercloud\u306bOvercloud\u306eController node, Compute node\u7b49\u3092\u767b\u9332\n2. Undercloud\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fironic\u3092\u4f7f\u3063\u3066\u5404Controller node, Compute node\u7b49\u3092\u5236\u5fa1\n3. Undercloud\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fheat\u3092\u4f7f\u3063\u3066Overcloud\u306eOpenStack\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n# \u69cb\u6210\u56f3\n\u4eca\u56de\u306e\u69cb\u6210\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n* \u7269\u7406\u306bLinux\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3001libvirt\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n* Undercloud VM\u3092\u4f5c\u6210\u3057\u3001CentOS7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    * network\u306f\u7ba1\u7406\u7528\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9(default)\u3068OpenStack\u7528\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af(data1)\u306e2\u3064\u3092\u4f5c\u6210\n    * OpenStack\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30e6\u30fc\u30b6\u30fc'stack'\u3092\u4f5c\u6210\u3057\u3066sudo\u4f7f\u7528\u53ef\u80fd\u72b6\u614b\u306b\u3059\u308b\n* Overcloud-ctrl (Controller node)\u3068Overcloud-Comp01\u306eVM\u3092\u4f5c\u6210\n    * \u3053\u308c\u306b\u3064\u3044\u3066\u306fVM\u4f5c\u6210\u306e\u307f\u3067\u8d77\u52d5\u30fbOS\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3057\u306a\u3044\n    * \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306fdata1\u306e\u307f\u306b\u63a5\u7d9a\n    * \u3053\u306eVM\u306fUndercloud\u304b\u3089\u306eDHCP/PXE\u3067\u30d6\u30fc\u30c8\u4e88\u5b9a\n* OpenStack\u7528\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af(data1)\u306fIP Masquerade\u3067\u5916\u90e8\u306b\u63a5\u7d9a\n\n![Untitled.png](https://qiita-image-store.s3.amazonaws.com/0/2291/47132bc4-afba-bb2c-4462-b3e9f0ee1f36.png)\n\n\n# \u524d\u6e96\u5099\n\n* \u7269\u7406\u30de\u30b7\u30f3\u306bLinux\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001libvirt(virsh)\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\n* \u30e6\u30fc\u30b6'stack'\u306e\u4f5c\u6210'\n    * sudo\u304c\u5b9f\u884c\u53ef\u80fd\u306a\u72b6\u614b\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n    * ```ssh-copy-id root@<kvm\u5074\u306e\u30a2\u30c9\u30ec\u30b9>```\u7b49\u3092\u4f7f\u3063\u3066hypervisor (virsh)\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n* Network(data1)\u306e\u4f5c\u6210\n\nOpenStack\u7528\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Undercloud VM\u5074\u3067DHCP\u30b5\u30fc\u30d0\u3092\u52d5\u4f5c\u3055\u305b\u308b\u306e\u3067DHCP\u306f\u7121\u52b9\u306b\u3057\u3066\u304a\u3044\u3066\u4e0b\u3055\u3044\u3002\u307e\u305f\u4f5c\u6210\u3057\u305fLinux Bridge\u306b\u5bfe\u3057\u3066iptables\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n$ cat > data1_net.xml << EOF\n<network connections='3'>\n  <name>data1</name>\n  <uuid>b7eadbab-7e95-487b-be00-8fa7fc679436</uuid>\n  <bridge name='data1' stp='on' delay='0'/>\n  <mac address='52:54:00:ae:42:07'/>\n  <ip address='10.1.1.254' netmask='255.255.255.0'>\n  </ip>\n</network>\nEOF\n$ virsh net-create data1_net.xml\n$ virsh net-start data1\n$ virsh net-autostart data1\n$ iptables -I FORWARD 1 -i data1 -j ACCEPT\n$ iptables -I FORWARD 1 -o data1 -j ACCEPT\n```\n\n* Undercloud\u7528\u306eVM\u3092\u4f5c\u6210\n    * VM\u3092\u8d77\u52d5\u3057\u3066CentOS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n    * default (\u7ba1\u7406\u7528\u30cd\u30c3\u30c8\u30ef\u30fc\u30af)\u306eIP address, DNS\u306e\u8a2d\u5b9a\u3092\u884c\u306a\u3046\n* Overcloud-ctrl, Overcloud-comp1\u306eVM\u3092\u4f5c\u6210\n\u3053\u3053\u3067\u306fVM\u306e\u4f5c\u6210\u3060\u3051\u884c\u306a\u3044\u307e\u3059\u3002\u8d77\u52d5\u306fTripleO\u304b\u3089\u884c\u306a\u3046\u306e\u3067\u3053\u306e\u6642\u70b9\u3067\u306f\u96fb\u6e90\u306fOff\u306e\u72b6\u614b\u3067\u3059\u3002\n\n```\nqemu-img create 41G overcloud-ctrl.qcow2\n/usr/bin/virt-install \\\n   --name overcloud-ctrl \\\n   --ram 6144 --vcpus 2 \\\n   --os-variant centos7.0 \\\n   overcloud-ctrl.qcow2 \\\n   --noautoconsole \\\n   --vnc \\\n   --network network:data1 --mac=52:54:00:c0:87:36 \\\n   --network network:internals \\\n   --cpu SandyBridge,+vmx \\\n   --graphics vnc,listen=10.61.123.1 \\\n   --dry-run --print-xml > overcloud-ctrl.xml\nvirsh define --file overcloud-ctrl.xml\n\nqemu-img create 41G overcloud-comp1.qcow2\n/usr/bin/virt-install \\\n   --name overcloud-comp1 \\\n   --ram 6144 --vcpus 2 \\\n   --os-variant centos7.0 \\\n   overcloud-comp1.qcow2 \\\n   --noautoconsole \\\n   --vnc \\\n   --network network:data1 --mac=52:54:00:c0:87:37 \\\n   --network network:internals \\\n   --cpu SandyBridge,+vmx \\\n   --graphics vnc,listen=10.61.123.1 \\\n   --dry-run --print-xml > overcloud-comp1.xml\nvirsh define --file overcloud-comp1.xml\n```\n\n# TripleO\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n## Undercloud\u7528OpenStack\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u3053\u3067\u306fUndercloud\u7528\u306eOpenStack\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n$ curl -L -o /etc/yum.repos.d/delorean-mitaka.repo \\\nhttps://trunk.rdoproject.org/centos7-mitaka/current/delorean.repo\n$ curl -L -o /etc/yum.repos.d/delorean-deps-mitaka.repo \\\nhttp://trunk.rdoproject.org/centos7-mitaka/delorean-deps.repo\n$ yum -y install python-tripleoclient\n```\n\n### Undercloud\u306e\u8a2d\u5b9a\n\u30e6\u30fc\u30b6 stack\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u5f8c\u306bUndercloud\u7528\u306e\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```\n$ sudo -i -u stack\n$ cp /usr/share/instack-undercloud/undercloud.conf.sample ~/undercloud.conf\n```\n\n`undercloud.conf.sample`\u3092\u53c2\u8003\u306bundercloud\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\u4e0a\u306e\u56f3\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u306b\u306a\u308a\u307e\u3059\u3002\n\n```ini:undercloud.conf\n[DEFAULT]\nundercloud_hostname = openstack\nlocal_ip = 10.1.1.1/24\nnetwork_gateway = 10.1.1.1\nundercloud_public_vip = 10.1.1.1\nundercloud_admin_vip = 10.1.1.11\nlocal_interface = eth0\nnetwork_cidr = 10.1.1.0/24\nmasquerade_network = 10.1.1.0/24\ndhcp_start = 10.1.1.10\ndhcp_end = 10.1.1.30\ninspection_iprange = 10.1.1.100,10.1.1.120\n[auth]\n```\n\n\n\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089Undercloud\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002Undercloud\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u306e\u3067\u7d42\u308f\u308b\u307e\u3067\u306f\u4f55\u304b\u5225\u306e\u4f5c\u696d\u3067\u3082\u3057\u306a\u304c\u3089\u6c17\u9577\u306b\u5f85\u3061\u307e\u3057\u3087\u3046\u3002\n\n```\n$ openstack undercloud install\n```\n\n### Overcloud\u7528\u306e\u30a4\u30e1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u5c55\u958b\nOvercloud\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u5c55\u958b\u3057\u307e\u3059\u3002\n\n```\n$ curl -O  https://ci.centos.org/artifacts/rdo/images/mitaka/delorean/stable/ironic-python-agent.tar\n$ curl -O https://ci.centos.org/artifacts/rdo/images/mitaka/delorean/stable/overcloud-full.tar\n$ curl -O https://ci.centos.org/artifacts/rdo/images/mitaka/delorean/stable/undercloud.qcow2\n$ tar xvf ironic-python-agent.tar\n$ tar xvf overcloud-full.tar\n```\n\n## Overcloud\u7528\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e96\u5099\n\n### Overcloud\u7528\u30a4\u30e1\u30fc\u30b8\u306e\u8a2d\u5b9a\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u3092Undercloud\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```shell\n$ . stackrc\n$ openstack overcloud image upload --image-path . \n```\n\n### Overcloud\u7528\u306e\u30ce\u30fc\u30c9\u7fa4\u306e\u767b\u9332\u30fb\u78ba\u8a8d\nOvercloud\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u4f7f\u3046\u30de\u30b7\u30f3(\u3053\u3053\u3067\u306fVM\u306b\u306a\u308a\u307e\u3059)\u306e\u60c5\u5831\u3092Undercloud\u306b\u767b\u9332\u3057\u307e\u3059\u3002\n\u4e0a\u3067\u4f5c\u6210\u3057\u305f2\u53f0\u306eVM\u306e\u60c5\u5831(MAC address\u3068hypervisor\u306e\u60c5\u5831)\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u5165\u3057\u3066\u4e0b\u3055\u3044\u3002\u4e0b\u306eXXX\u306e\u60c5\u5831\u306f\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n``` json:instackenv.json\n{\n  \"nodes\": [\n    {\n      \"arch\": \"x86_64\",\n      \"name\": \"overcloud-ctrl\",\n      \"pm_user\": \"root\",\n      \"pm_addr\": \"<<XXX:hypervisor virsh\u306eIP\u30a2\u30c9\u30ec\u30b9>>\",\n      \"pm_password\": \"<<XXX: ~/.ssh/id_rsa\u306e\u4e2d\u8eab>>\",\n      \"pm_type\": \"pxe_ssh\",\n      \"mac\": [\n        \"52:54:00:c0:87:36\"\n      ],\n    },\n    { \n      \"arch\": \"x86_64\",\n      \"name\": \"overcloud-comp1\",\n      \"pm_user\": \"root\",\n      \"pm_addr\": \"<<XXX:hypervisor virsh\u306eIP\u30a2\u30c9\u30ec\u30b9>>\",\n      \"pm_type\": \"pxe_ssh\",\n      \"pm_password\": \"<<XXX: ~/.ssh/id_rsa\u306e\u4e2d\u8eab>>\",\n      \"pm_type\": \"pxe_ssh\",\n      \"mac\": [\n        \"52:54:00:c0:87:37\"\n      ],\n    }\n  ],\n  \"host-ip\": \"<<XXX:hypervisor virsh\u306eIP\u30a2\u30c9\u30ec\u30b9>>\",\n  \"power_manager\": \"nova.virt.baremetal.virtual_power_driver.VirtualPowerManager\",\n  \"ssh-key\": \"<<XXX: ~/.ssh/id_rsa\u306e\u4e2d\u8eab>>\",\n  \"arch\": \"x86_64\",\n  \"ssh-user\": \"root\"\n}\n```\n\n\u305d\u306e\u5f8c\u306bUndercloud\u3078\u767b\u9332\u3092\u884c\u306a\u3044\u3001introspection\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002introspection\u3067\u306f\u30c6\u30b9\u30c8\u7528\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3063\u3066\u30de\u30b7\u30f3\u3092\u8d77\u52d5\u3057\u3001CPU\u30fb\u30e1\u30e2\u30ea\u30fbHDD\u306e\u5bb9\u91cf\u7b49\u3092\u81ea\u52d5\u7684\u306b\u8abf\u67fb\u3057\u307e\u3059\u3002\n\n```\n$ openstack baremetal import instackenv.json\n$ openstack baremetal configure boot\n$ openstack baremetal introspection bulk start\n```\n\n## Overcloud\u306e\u8a2d\u5b9a\u30fb\u30c7\u30d7\u30ed\u30a4\n\n### DNS\u306e\u8a2d\u5b9a\n```\nneutron subnet-update $(openstack subnet list -f json | jq '.[0].ID' -r) \\\n        --dns-nameserver <<XXX: DNS\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9>>\n```\n\n### Overcloud\u306e\u74b0\u5883\u30d5\u30a1\u30a4\u30eb\nOvercloud\u306e\u8a2d\u5b9a\u306fHeat\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u307e\u305a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```\ncp -r /usr/share/openstack-tripleo-heat-templates/ ~/templates\ncd ~/templates\n```\n\n`~/templates`\u306b\u4ee5\u4e0b\u306e3\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 XXX\u306e\u5834\u6240\u306f\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f8\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n\n```yaml:network-environment.yaml\n#This file is an example of an environment file for defining the isolated\n#networks and related parameters.\nresource_registry:\n  # Network Interface templates to use (these files must exist)\n  OS::TripleO::BlockStorage::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/cinder-storage.yaml\n  OS::TripleO::Compute::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/compute.yaml\n  OS::TripleO::Controller::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/controller.yaml\n  OS::TripleO::ObjectStorage::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/swift-storage.yaml\n  OS::TripleO::CephStorage::Net::SoftwareConfig:\n    ../network/config/single-nic-vlans/ceph-storage.yaml\n\nparameter_defaults:\n  # This section is where deployment-specific configuration is done\n  # Customize the IP subnets to match the local environment\n  InternalApiNetCidr: 172.17.0.0/24\n  StorageNetCidr: 172.18.0.0/24\n  StorageMgmtNetCidr: 172.19.0.0/24\n  TenantNetCidr: 172.16.0.0/24\n  ExternalNetCidr: <<XXX:\u5916\u5074\u306enetwork Cidr, \u4f8b192.168.0.1>>\n  # CIDR subnet mask length for provisioning network\n  ControlPlaneSubnetCidr: '24'\n  # Customize the IP ranges on each network to use for static IPs and VIPs\n  InternalApiAllocationPools: [{'start': '172.17.0.10', 'end': '172.17.0.200'}]\n  StorageAllocationPools: [{'start': '172.18.0.10', 'end': '172.18.0.200'}]\n  StorageMgmtAllocationPools: [{'start': '172.19.0.10', 'end': '172.19.0.200'}]\n  TenantAllocationPools: [{'start': '172.16.0.10', 'end': '172.16.0.200'}]\n  # Leave room if the external network is also used for floating IPs\n  #ExternalAllocationPools: [{'start': '10.0.0.10', 'end': '10.0.0.50'}]\n  # Gateway router for the external network\n  ExternalInterfaceDefaultRoute: <<<XXX:\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306e\u30a2\u30c9\u30ec\u30b9>>>\n  # Gateway router for the provisioning network (or Undercloud IP)\n  ControlPlaneDefaultRoute: 10.1.1.1\n  # Generally the IP of the Undercloud\n  EC2MetadataIp: 10.1.1.1\n  # Define the DNS servers (maximum 2) for the overcloud nodes\n  DnsServers: [\"<<XXX:DNS\u306e\u30a2\u30c9\u30ec\u30b9>>\", \"8.8.8.8\"]\n  # Customize the VLAN IDs to match the local environment\n  InternalApiNetworkVlanID: 10\n  StorageNetworkVlanID: 20\n  StorageMgmtNetworkVlanID: 30\n  TenantNetworkVlanID: 40\n  ExternalNetworkVlanID: 50\n  # Set to empty string to enable multiple external networks or VLANs\n  NeutronExternalNetworkBridge: \"''\"\n  # Customize bonding options, e.g. \"mode=4 lacp_rate=1 updelay=1000 miimon=100\"\n  BondInterfaceOvsOptions: \"bond_mode=active-backup\"\n```\n\n```yaml:scheduler_hints_env.yaml\nparameter_defaults:\n    ControllerSchedulerHints:\n        'capabilities:node': 'controller-%index%'\n    NovaComputeSchedulerHints:\n        'capabilities:node': 'compute-%index%'\n    BlockStorageSchedulerHints:\n        'capabilities:node': 'blockstorage-%index%'\n    ObjectStorageSchedulerHints:\n        'capabilities:node': 'objstorage-%index%'\n    CephStorageSchedulerHints:\n        'capabilities:node': 'cephstorage-%index%'\n```\n\n```yaml:storage-environment.yaml\n## A Heat environment file which can be used to set up storage\n## backends. Defaults to Ceph used as a backend for Cinder, Glance and\n## Nova ephemeral storage.\nparameter_defaults:\n\n  #### BACKEND SELECTION ####\n\n  ## Whether to enable iscsi backend for Cinder.\n  CinderEnableIscsiBackend: false\n  ## Whether to enable rbd (Ceph) backend for Cinder.\n  CinderEnableRbdBackend: false\n  ## Whether to enable NFS backend for Cinder.\n  # CinderEnableNfsBackend: false\n  ## Whether to enable rbd (Ceph) backend for Nova ephemeral storage.\n  NovaEnableRbdBackend: false\n  ## Glance backend can be either 'rbd' (Ceph), 'swift' or 'file'.\n  GlanceBackend: swift\n  ## Gnocchi backend can be either 'rbd' (Ceph), 'swift' or 'file'.\n  GnocchiBackend: swift\n\n\n  #### CINDER NFS SETTINGS ####\n\n  ## NFS mount options\n  # CinderNfsMountOptions: ''\n  ## NFS mount point, e.g. '192.168.122.1:/export/cinder'\n  # CinderNfsServers: ''\n\n\n  #### GLANCE FILE BACKEND PACEMAKER SETTINGS (used for mounting NFS) ####\n\n  ## Whether to make Glance 'file' backend a mount managed by Pacemaker\n  # GlanceFilePcmkManage: false\n  ## File system type of the mount\n  # GlanceFilePcmkFstype: nfs\n  ## Pacemaker mount point, e.g. '192.168.122.1:/export/glance' for NFS\n  # GlanceFilePcmkDevice: ''\n  ## Options for the mount managed by Pacemaker\n  # GlanceFilePcmkOptions: ''\n\n\n  #### CEPH SETTINGS ####\n\n  ## Whether to deploy Ceph OSDs on the controller nodes. By default\n  ## OSDs are deployed on dedicated ceph-storage nodes only.\n  # ControllerEnableCephStorage: false\n\n  ## When deploying Ceph Nodes through the oscplugin CLI, the following\n  ## parameters are set automatically by the CLI. When deploying via\n  ## heat stack-create or ceph on the controller nodes only,\n  ## they need to be provided manually.\n\n  ## Number of Ceph storage nodes to deploy\n  # CephStorageCount: 0\n  ## Ceph FSID, e.g. '4b5c8c0a-ff60-454b-a1b4-9747aa737d19'\n  # CephClusterFSID: ''\n  ## Ceph monitor key, e.g. 'AQC+Ox1VmEr3BxAALZejqeHj50Nj6wJDvs96OQ=='\n  # CephMonKey: ''\n  ## Ceph admin key, e.g. 'AQDLOh1VgEp6FRAAFzT7Zw+Y9V6JJExQAsRnRQ=='\n  # CephAdminKey: ''\n```\n\n\u30b5\u30fc\u30d0\u306b\u3069\u306e\u30ed\u30fc\u30eb\u3092\u5272\u308a\u5f53\u3066\u305f\u3044\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\n$ ironic node-update overcloud-ctrl replace \\\n        properties/capabilities='node:controller-0,boot_option:local'\n$ ironic node-update overcloud-comp1 replace \\\n        properties/capabilities='node:compute-0,boot_option:local'\n```\n\n\u6700\u5f8c\u306b`openstack overcloud deploy`\u30b3\u30de\u30f3\u30c9\u3067overcloud\u7528\u306eVM\u306bopenstack\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002\u7d50\u69cb\u306a\u6642\u9593\u304c(\u6570\u6642\u9593\u7a0b)\u304b\u304b\u308a\u307e\u3059\u3002\n\n```\n$ cd ~/\n$ openstack overcloud deploy --templates ~/templates/ \\\n        -e ~/templates/environments/network-environment.yaml \\\n        -e ~/templates/environments/storage-environment.yaml \\\n        -e ~/templates/environments/scheduler_hints_env.yaml \\\n        --control-scale 1 --compute-scale 1 \\\n        --ntp-server 10.61.123.1 --neutron-tunnel-type vxlan \\\n        --neutron-network-type vxlan\n```\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30ce\u30fc\u30c9\u306e\u60c5\u5831\novercloud\u306eIP\u30a2\u30c9\u30ec\u30b9\u306f`nova list`\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n```\n$ . stackrc\n$ nova list\n+--------------------------------------+-------------------------+--------+------------+-------------+--------------------+\n| ID                                   | Name                    | Status | Task State | Power State | Networks           |\n+--------------------------------------+-------------------------+--------+------------+-------------+--------------------+\n| fe0582c5-ea76-49a5-89e1-6fada0657749 | overcloud-controller-0  | ACTIVE | -          | Running     | ctlplane=10.1.1.13 |\n| 37495c5e-3419-4216-90c2-569380f188b1 | overcloud-novacompute-0 | ACTIVE | -          | Running     | ctlplane=10.1.1.14 |\n+--------------------------------------+-------------------------+--------+------------+-------------+--------------------+ \n```\n\n\u307e\u305fController\u30ce\u30fc\u30c9, Compute\u30ce\u30fc\u30c9\u3078\u306essh\u30ed\u30b0\u30a4\u30f3\u306b\u306f\u30e6\u30fc\u30b6heat-admin\u3067\u53ef\u80fd\u3067\u3059\u3002\n\n```\n$ ssh heat-admin@10.1.1.13\nThe authenticity of host '10.1.1.13 (10.1.1.13)' can't be established.\nECDSA key fingerprint is 13:99:79:ea:a1:9f:86:0b:9a:b7:2d:34:1a:b2:bd:45.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '10.1.1.13' (ECDSA) to the list of known hosts.\nLast login: Fri Aug 26 08:21:24 2016 from 10.1.1.1\n[heat-admin@overcloud-controller-0 ~]$ \n```\n\n### Overcloud\u3078\u306e\u30a2\u30af\u30bb\u30b9\nOvercloud\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306f`~/overcloudrc`\u3092\u8aad\u3080\u3053\u3068\u3067\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n$ . overcloudrc\n```\n\n# Tempest\u306e\u5b9f\u884c\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067Tempest\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```\n$ source overcloudrc\n$ mkdir tempest\n$ cd tempest\n$ /usr/share/openstack-tempest-12.0.1.dev286/tools/configure-tempest-directory\n$ tools/config_tempest.py --deployer-input ~/tempest-deployer-input.conf \\\n                        --debug --create \\\n                        identity.uri $OS_AUTH_URL \\\n                        identity.admin_password $OS_PASSWORD\n$ tools/run-tests.sh\n```\n\n# VM\u306e\u8d77\u52d5\u307e\u3067\nundercloud\u304b\u3089\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067VM\u304c\u8d77\u52d5\u3067\u304d\u307e\u3059\u3002(XXX\u306b\u306f\u5b9f\u969b\u306e\u5024\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044)\n\n```\n$ . overcloudrc\n# \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u30b0\u30eb\u30fc\u30d7\u306e\u8ffd\u52a0\n$ nova secgroup-add-rule default icmp    -1    -1 0.0.0.0/0 # Ping\n$ nova secgroup-add-rule default tcp     22    22 0.0.0.0/0 # SSH\n# \u30d5\u30ec\u30fc\u30d0\u30fc\u306e\u4f5c\u6210\n$ nova flavor-create --swap 256 c1.m1   12  1024 0 1\n# \u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\n$ curl -O http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img\n$ openstack image create 'cirros image' --public --container-format bare \\\n        --disk-format=qcow2 < cirros-0.3.4-x86_64-disk.img\n\n# \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u4f5c\u6210\n$ neutron net-create external --router:external \\\n        --provider:network_type flat \\\n        --provider:physical_network datacentre \n\n$ neutron subnet-create external 10.1.1.0/24 --name subnet-ext1 \\\n        --allocation-pool=start=10.1.1.100,end=10.1.1.199 \\\n        --dns-nameserver 10.61.123.1 --enable-dhcp=False\n$ neutron net-create internal\n$ neutron subnet-create internal 192.168.0.0/24 --name subnet-int1\n\n$ neutron router-create router\n$ neutron router-gateway-set router external\n$ neutron router-interface-add router subnet-int1\n$ neutron floatingip-create external\n\n$ nova boot --flavor c2.m4 --image 'cirros image' \\\n   --nic net-id=f1495ac8-828b-4814-89be-d7a5afcf7100 testvm1\n$ nova floating-ip-associate testvm1 <<<\u4e0a\u3067\u4f5c\u6210\u3057\u305ffloating ip>>>\n```\n\n# \u307e\u3068\u3081\n\u672c\u8a18\u4e8b\u3067\u306fTripleO\u3092\u4f7f\u7528\u3057\u3066OpenStack\u306eMitaka\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\u82f1\u8a9e\u3067\u3059\u304c\u4e0b\u8a18\u306e\u30da\u30fc\u30b8\u306bTripleO\u306b\u3064\u3044\u3066\u306e\u60c5\u5831\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n* http://docs.openstack.org/developer/tripleo-docs/basic_deployment/basic_deployment_cli.html\n* https://gbraad.gitbooks.io/scratchpad/content/technology/openstack/\n* http://docs.openstack.org/developer/tripleo-docs/advanced_deployment/network_isolation.html\n", "tags": ["openstack", "CentOS", "RDO", "TripleO"]}