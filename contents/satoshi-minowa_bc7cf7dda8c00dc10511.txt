{"context": "Smarty\u306b\u306f\u751f\u6210\u6642\u9593\u3084\u30a2\u30b5\u30a4\u30f3\u3055\u308c\u3066\u3044\u308b\u5909\u6570\u4e00\u89a7\u306a\u3069\u3092\u8868\u793a\u3059\u308b\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u304c\u3042\u308b\u3002\n\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u8a73\u3057\u304f\u306f\u7802\u5ca1\u6c0f\u306e\u4e0b\u8a18\u306b\u8a73\u3057\u3044\u3002\ncl.pocari.org - Smarty \u3092\u4f7f\u3063\u305f\u958b\u767a\u3067\u30c7\u30d0\u30c3\u30b0\u3092\u884c\u3046 4 \u3064\u306e\u65b9\u6cd5\n\u3067\u3001\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u306fSmarty\u306b\u6e21\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u5909\u6570\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3060\u304c\u3001\n\u3061\u3087\u3063\u3068\u8907\u96d1\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3084\u914d\u5217\u306a\u3069\u3092\u6e21\u3059\u3068\u3068\u3066\u3082\u307f\u3065\u3089\u3044\u3002\n\u306a\u306e\u3067\u3001\u6298\u308a\u7573\u3093\u3067\u8868\u793a\u3057\u3066\u3057\u307e\u304a\u3046\u3068\u3044\u3046\u8a71\u3002\n\u5e78\u3044\u306a\u3053\u3068\u306b\u30c7\u30d0\u30c3\u30b0\u6a5f\u80fd\u81ea\u4f53\u306e\u5b9f\u614b\u306fSmarty\u306e\u30d7\u30e9\u30b0\u30a4\u30f3(modifier.debug_print_var.php)\u3068\u3057\u3066\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\n\u3053\u308c\u3092\u4fee\u6b63\u3057\u3066\u3057\u307e\u3048\u3070\u3044\u3044\u3002\n\u3067\u3001\u4fee\u6b63\u3057\u305f\u7d50\u679c\u304c\u4ee5\u4e0b\n<?php\n/**\n * Smarty plugin\n *\n * @package Smarty\n * @subpackage Debug\n */\n\n/**\n * Smarty debug_print_var modifier plugin\n *\n * Type:     modifier<br>\n * Name:     debug_print_var<br>\n * Purpose:  formats variable contents for display in the console\n *\n * @author Monte Ohrt <monte at ohrt dot com>\n * @param array|object $var     variable to be formatted\n * @param integer      $depth   maximum recursion depth if $var is an array\n * @param integer      $length  maximum string length if $var is a string\n * @return string\n */\nfunction smarty_modifier_debug_print_var ($var, $depth = 0, $length = 40)\n{\n    $_replace = array(\"\\n\" => '<i>\\n</i>',\n        \"\\r\" => '<i>\\r</i>',\n        \"\\t\" => '<i>\\t</i>'\n        );\n\n    switch (gettype($var)) {\n        case 'array' :\n            $results = '<b onclick=\"hide_seek(this, arguments[0])\" style=\"color:red\">Array (' . count($var) . ')</b><div style=\"display:none\">';\n            foreach ($var as $curr_key => $curr_val) {\n                $results .= '<br>' . str_repeat('&nbsp;', $depth * 2)\n                 . '<b>' . strtr($curr_key, $_replace) . '</b> =&gt; '\n                 . smarty_modifier_debug_print_var($curr_val, ++$depth, $length);\n                $depth--;\n            }\n            $results .='</div>';\n            break;\n\n        case 'object' :\n            $object_vars = get_object_vars($var);\n            $results = '<b onclick=\"hide_seek(this, arguments[0])\">' . get_class($var) . ' Object (' . count($object_vars) . ')</b><div>';\n            foreach ($object_vars as $curr_key => $curr_val) {\n                $results .= '<br>' . str_repeat('&nbsp;', $depth * 2)\n                 . '<b> -&gt;' . strtr($curr_key, $_replace) . '</b> = '\n                 . smarty_modifier_debug_print_var($curr_val, ++$depth, $length);\n                $depth--;\n            }\n            $results .='</div>';\n            break;\n\n        case 'boolean' :\n        case 'NULL' :\n        case 'resource' :\n            if (true === $var) {\n                $results = 'true';\n            } elseif (false === $var) {\n                $results = 'false';\n            } elseif (null === $var) {\n                $results = 'null';\n            } else {\n                $results = htmlspecialchars((string) $var);\n            }\n            $results = '<i>' . $results . '</i>';\n            break;\n\n        case 'integer' :\n        case 'float' :\n            $results = htmlspecialchars((string) $var);\n            break;\n\n        case 'string' :\n            $results = strtr($var, $_replace);\n            if (Smarty::$_MBSTRING) {\n                if (mb_strlen($var, Smarty::$_CHARSET) > $length) {\n                    $results = mb_substr($var, 0, $length - 3, Smarty::$_CHARSET) . '...';\n                }\n            } else {\n                if (isset($var[$length])) {\n                    $results = substr($var, 0, $length - 3) . '...';\n                }\n            }\n\n            $results = htmlspecialchars('\"' . $results . '\"');\n            break;\n\n        case 'unknown type' :\n        default :\n            $results = strtr((string) $var, $_replace);\n            if (Smarty::$_MBSTRING) {\n                if (mb_strlen($results, Smarty::$_CHARSET) > $length) {\n                    $results = mb_substr($results, 0, $length - 3, Smarty::$_CHARSET) . '...';\n                }\n            } else {\n                if (strlen($results) > $length) {\n                    $results = substr($results, 0, $length - 3) . '...';\n                }\n            }\n\n            $results = htmlspecialchars($results);\n    }\n\n    if ($depth == 0) {\n        $results .= '<script>'\n        .'function hide_seek(obj,e) {'\n        .    'var e = e || window.event;'\n        .    'if (obj.nextSibling.style.display == \"none\") {'\n        .        'obj.nextSibling.style.display = \"block\";'\n        .    '} else {'\n        .        'obj.nextSibling.style.display = \"none\";'\n        .    '}'\n        .    'e.cancelBubble = true;'\n        .    'e.stopPropagation();'\n        . '}'\n        .'</script>';\n    }\n\n    return $results;\n}\n\n?>\n\ngettype\u304c'array'\u3068'object'\u306e\u5834\u5408\u306b\u8981\u7d20\u3092<div style=\"display:none\">\u3067\u56f2\u307f\u3001\n<b onclick=\"hide_seek(this, arguments[0])\" style=\"color:red\">\u3067\u30a2\u30b3\u30fc\u30c7\u30a3\u30aa\u30f3\u6a5f\u80fd\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3060\u3051\u3002\n\u6ce8\u610f\u3068\u3057\u3066function\u306f\u518d\u8d77\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001js\u306e\u547c\u3073\u51fa\u3057\u90e8\u5206\u306f$depth=0\u306e\u3068\u304d\u3060\u3051\u66f8\u304d\u51fa\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\nSmarty\u306b\u306f\u751f\u6210\u6642\u9593\u3084\u30a2\u30b5\u30a4\u30f3\u3055\u308c\u3066\u3044\u308b\u5909\u6570\u4e00\u89a7\u306a\u3069\u3092\u8868\u793a\u3059\u308b\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u304c\u3042\u308b\u3002\n\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u8a73\u3057\u304f\u306f\u7802\u5ca1\u6c0f\u306e\u4e0b\u8a18\u306b\u8a73\u3057\u3044\u3002\n[cl.pocari.org - Smarty \u3092\u4f7f\u3063\u305f\u958b\u767a\u3067\u30c7\u30d0\u30c3\u30b0\u3092\u884c\u3046 4 \u3064\u306e\u65b9\u6cd5](http://cl.pocari.org/2006-11-29-1.html)\n\n\u3067\u3001\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u306fSmarty\u306b\u6e21\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u5909\u6570\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3060\u304c\u3001\n\u3061\u3087\u3063\u3068\u8907\u96d1\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3084\u914d\u5217\u306a\u3069\u3092\u6e21\u3059\u3068\u3068\u3066\u3082\u307f\u3065\u3089\u3044\u3002\n\u306a\u306e\u3067\u3001\u6298\u308a\u7573\u3093\u3067\u8868\u793a\u3057\u3066\u3057\u307e\u304a\u3046\u3068\u3044\u3046\u8a71\u3002\n\n\u5e78\u3044\u306a\u3053\u3068\u306b\u30c7\u30d0\u30c3\u30b0\u6a5f\u80fd\u81ea\u4f53\u306e\u5b9f\u614b\u306fSmarty\u306e\u30d7\u30e9\u30b0\u30a4\u30f3(modifier.debug_print_var.php)\u3068\u3057\u3066\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\n\u3053\u308c\u3092\u4fee\u6b63\u3057\u3066\u3057\u307e\u3048\u3070\u3044\u3044\u3002\n\n\u3067\u3001\u4fee\u6b63\u3057\u305f\u7d50\u679c\u304c\u4ee5\u4e0b\n\n```php\n<?php\n/**\n * Smarty plugin\n *\n * @package Smarty\n * @subpackage Debug\n */\n\n/**\n * Smarty debug_print_var modifier plugin\n *\n * Type:     modifier<br>\n * Name:     debug_print_var<br>\n * Purpose:  formats variable contents for display in the console\n *\n * @author Monte Ohrt <monte at ohrt dot com>\n * @param array|object $var     variable to be formatted\n * @param integer      $depth   maximum recursion depth if $var is an array\n * @param integer      $length  maximum string length if $var is a string\n * @return string\n */\nfunction smarty_modifier_debug_print_var ($var, $depth = 0, $length = 40)\n{\n    $_replace = array(\"\\n\" => '<i>\\n</i>',\n        \"\\r\" => '<i>\\r</i>',\n        \"\\t\" => '<i>\\t</i>'\n        );\n\n    switch (gettype($var)) {\n        case 'array' :\n            $results = '<b onclick=\"hide_seek(this, arguments[0])\" style=\"color:red\">Array (' . count($var) . ')</b><div style=\"display:none\">';\n            foreach ($var as $curr_key => $curr_val) {\n                $results .= '<br>' . str_repeat('&nbsp;', $depth * 2)\n                 . '<b>' . strtr($curr_key, $_replace) . '</b> =&gt; '\n                 . smarty_modifier_debug_print_var($curr_val, ++$depth, $length);\n                $depth--;\n            }\n            $results .='</div>';\n            break;\n           \n        case 'object' :\n            $object_vars = get_object_vars($var);\n            $results = '<b onclick=\"hide_seek(this, arguments[0])\">' . get_class($var) . ' Object (' . count($object_vars) . ')</b><div>';\n            foreach ($object_vars as $curr_key => $curr_val) {\n                $results .= '<br>' . str_repeat('&nbsp;', $depth * 2)\n                 . '<b> -&gt;' . strtr($curr_key, $_replace) . '</b> = '\n                 . smarty_modifier_debug_print_var($curr_val, ++$depth, $length);\n                $depth--;\n            }\n            $results .='</div>';\n            break;\n           \n        case 'boolean' :\n        case 'NULL' :\n        case 'resource' :\n            if (true === $var) {\n                $results = 'true';\n            } elseif (false === $var) {\n                $results = 'false';\n            } elseif (null === $var) {\n                $results = 'null';\n            } else {\n                $results = htmlspecialchars((string) $var);\n            }\n            $results = '<i>' . $results . '</i>';\n            break;\n           \n        case 'integer' :\n        case 'float' :\n            $results = htmlspecialchars((string) $var);\n            break;\n           \n        case 'string' :\n            $results = strtr($var, $_replace);\n            if (Smarty::$_MBSTRING) {\n                if (mb_strlen($var, Smarty::$_CHARSET) > $length) {\n                    $results = mb_substr($var, 0, $length - 3, Smarty::$_CHARSET) . '...';\n                }\n            } else {\n                if (isset($var[$length])) {\n                    $results = substr($var, 0, $length - 3) . '...';\n                }\n            }\n\n            $results = htmlspecialchars('\"' . $results . '\"');\n            break;\n           \n        case 'unknown type' :\n        default :\n            $results = strtr((string) $var, $_replace);\n            if (Smarty::$_MBSTRING) {\n                if (mb_strlen($results, Smarty::$_CHARSET) > $length) {\n                    $results = mb_substr($results, 0, $length - 3, Smarty::$_CHARSET) . '...';\n                }\n            } else {\n                if (strlen($results) > $length) {\n                    $results = substr($results, 0, $length - 3) . '...';\n                }\n            }\n            \n            $results = htmlspecialchars($results);\n    }\n\n    if ($depth == 0) {\n        $results .= '<script>'\n        .'function hide_seek(obj,e) {'\n        .    'var e = e || window.event;'\n        .    'if (obj.nextSibling.style.display == \"none\") {'\n        .        'obj.nextSibling.style.display = \"block\";'\n        .    '} else {'\n        .        'obj.nextSibling.style.display = \"none\";'\n        .    '}'\n        .    'e.cancelBubble = true;'\n        .    'e.stopPropagation();'\n        . '}'\n        .'</script>';\n    }\n\n    return $results;\n}\n\n?>\n```\n\ngettype\u304c'array'\u3068'object'\u306e\u5834\u5408\u306b\u8981\u7d20\u3092`<div style=\"display:none\">`\u3067\u56f2\u307f\u3001\n`<b onclick=\"hide_seek(this, arguments[0])\" style=\"color:red\">`\u3067\u30a2\u30b3\u30fc\u30c7\u30a3\u30aa\u30f3\u6a5f\u80fd\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3060\u3051\u3002\n\u6ce8\u610f\u3068\u3057\u3066function\u306f\u518d\u8d77\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001js\u306e\u547c\u3073\u51fa\u3057\u90e8\u5206\u306f$depth=0\u306e\u3068\u304d\u3060\u3051\u66f8\u304d\u51fa\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\n", "tags": ["PHP", "Smarty"]}