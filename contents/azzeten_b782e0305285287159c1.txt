{"context": "Part1\uff08\u2193\u306eURL\uff09\u306e\u304a\u904a\u3073\u7de8\u306b\u7d9a\u3044\u3066\u3001Part2\u3067\u3059\u3002\u8efd\u304f\u89e6\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nhttp://qiita.com/azzeten/items/ba37da865deb120a296c\nPart2\u3067\u306f\u3001\u4eba\u9593\u306e\u5e74\u9f62\u3001\u5a5a\u59fb\u3001\u53ce\u5165\u7b49\u7b49\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u3066\u6c7a\u5b9a\u6728\u5206\u6790\u3092\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\n\u304b\u3093\u305f\u3093\u306a\u6d41\u308c\n\ndashDB\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u4f7f\u3048\u308bR Studio\u306b\u5165\u308b\nR\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304f\uff08\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5185\u5bb9\u3068\u3057\u3066\u306f\u300c\u5c02\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u8aad\u307f\u8fbc\u3080\u2192dashDB\u306b\u63a5\u7d9a\u2192\u51e6\u7406\u3092\u3064\u3089\u3064\u3089\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u300d\u3002\u4ee5\u4e0a\uff01\uff09\n\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d70\u3089\u305b\u308b\uff01\n\n\u305d\u308c\u3067\u306f\u3001\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u30fc\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089R\u306e\u74b0\u5883\u306b\u30ed\u30b0\u30a4\u30f3\n\u5de6\u30da\u30a4\u30f3\u306e\u300cAnalytics\u300d\u304b\u3089\u300cR Scripts\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u3067\u3001R Studio\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u304c\u51fa\u3066\u304d\u307e\u3059\u306e\u3067\u3001dashDB\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u306e\u306b\u5fc5\u8981\u306aID\u3068PW\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\n\u305d\u3046\u3059\u308b\u3068\u3001\u305d\u308c\u3063\u307d\u3044\u304b\u3063\u3053\u3088\u3044\u753b\u9762\u304c\u51fa\u3066\u304d\u307e\u3059\u3002\u3053\u308c\u304cR Studio\u306e\u74b0\u5883\u3067\u3059\u3002\n\nR\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304f\n(1)\u5c02\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u8aad\u307f\u8fbc\u3080\u2192dashDB\u306b\u63a5\u7d9a\ndashDB\u306e\u3053\u306eR\u6a5f\u80fd\uff08\u6b63\u5f0f\u306b\u306fIn-DB Analytics\uff09\u3092\u5229\u7528\u3059\u308b\u3068\u3001\nDB\u306e\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306b\u6301\u3063\u3066\u304f\u308b\u3053\u3068\u306a\u304f\u3001DB\u306e\u4e2d\u3067R\u3092\u4f7f\u7528\u3057\u305f\u5206\u6790\u304c\u3067\u304d\u308b\u3068\u3044\u3046\u304c\u5b09\u3057\u3044\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u306a\u306e\u3067\u3001\u305d\u308c\u3092\u884c\u3046\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u300cibmdbR\u300d\u3092\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066\u6b21\u306bDB\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\u672c\u6765\u306fDSN\u3092\u81ea\u5206\u3067\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001WEB\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u3084\u308b\u3068\u305d\u308c\u304c\u5fc5\u8981\u306a\u3044\u307f\u305f\u3044\u3002\n\ndashDB\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8aad\u307f\u3053\u307f\u3001DB\u306b\u63a5\u7d9a\u3059\u308b\n#\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8aad\u307f\u8fbc\u3080\nlibrary(ibmdbR)\n\n#DB\u306b\u63a5\u7d9a\u3059\u308b\ncon <- idaConnect('BLUDB')\nidaInit(con)\n\n\n(2)\u51e6\u7406\u3092\u3064\u3089\u3064\u3089\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\n\u2460ADULT\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u3092\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3068\u3044\u3046\u7bb1\u306b\u5165\u308c\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306b\u8868\u306e\u5185\u5bb9\u3092\u5165\u308c\u308b\n#\u30c6\u30fc\u30d6\u30eb\u3092\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306b\u5165\u308c\u308b\nadult_df <- ida.data.frame('adult')\n\n#\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306e\u4e2d\u8eab\u3092\u78ba\u8a8d\u3059\u308b\nadult_df\n\n\n\u3067\u3001\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3053\u3093\u306a\u51fa\u529b\u306a\u306e\u3067\u3059\u3002\nSELECT \"ID\",\"AGE\",\"WORKCLASS\",\"FNLWGT\",\"EDUCATION\",\"EDUCATION_NUM\",\"MARITAL_STATUS\",\"OCCUPATION\",\"RELATIONSHIP\",\"RACE\",\"SEX\",\"CAPITAL_GAIN\",\"CAPITAL_LOSS\",\"HOURS_PER_WEEK\",\"INCOME\" FROM adult \n\u306a\u308b\u307b\u3069\u3002\u30c7\u30fc\u30bf\u305d\u306e\u3082\u306e\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u304f\u3001SQL\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\u3053\u308c\u3060\u3068\u3001\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306b\u6301\u3063\u3066\u304f\u308b\u306e\u3067\u306f\u306a\u304f\u3066SQL\u3092\u6295\u3052\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001\u78ba\u304b\u306b\u4e0d\u8981\u30c7\u30fc\u30bf\u3092\u3044\u3061\u3044\u3061\u6301\u3063\u3066\u304f\u308b\u5fc5\u8981\u306f\u306a\u3055\u305d\u3046\u3067\u3059\u3002\n\u2461\u30e2\u30c7\u30eb\u3092\u9069\u7528\u3057\u3066\u307f\u307e\u3059\u3002\n\u5148\u307b\u3069\u306eSQL\u304c\u683c\u7d0d\u3055\u308c\u305f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u300cadult_df\u300d\u3092dashDB\u306e\u4e2d\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308bR\u306e\u6c7a\u5b9a\u6728\u30e2\u30c7\u30eb\u300cidaTree\u300d\u306b\u9069\u7528\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001dashDB\u306e\u4e2d\u3067\u3054\u308a\u3054\u308a\u3068\u51e6\u7406\u3092\u9032\u3081\u3066\u304f\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u6c7a\u5b9a\u6728\u30e2\u30c7\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u5165\u308c\u3066\u30d7\u30ed\u30c3\u30c8\u3059\u308b\n#\u6c7a\u5b9a\u6728\u30e2\u30c7\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u5165\u308c\u308b\ntr <- idaTree(INCOME~WORKCLASS+EDUCATION+EDUCATION_NUM+RACE+CAPITAL_GAIN+AGE,data=adult_df,minsplit=50,maxdepth=10,id='ID')\n\n#\u30d7\u30ed\u30c3\u30c8\uff08\u7d75\u3092\u63cf\u3044\u3066\u307f\u308b\uff06\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u6587\u5b57\u3067\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\uff09\nplot(tr)\nprint(tr)\n\n#DB\u3068\u306e\u63a5\u7d9a\u3092\u9589\u3058\u308b\nidaClose(con)\n\n\n\n\u7d50\u679c\u306f\u3053\u3061\u3089\n\u3058\u3083\u30fc\u3093\n\n\n\u53c2\u8003\u6587\u732e\nhttp://www.slideshare.net/ibm_analytics_japan/dashdb-r-in-database-analytics\nPart1\uff08\u2193\u306eURL\uff09\u306e\u304a\u904a\u3073\u7de8\u306b\u7d9a\u3044\u3066\u3001Part2\u3067\u3059\u3002\u8efd\u304f\u89e6\u3063\u3066\u307f\u307e\u3057\u305f\u3002\nhttp://qiita.com/azzeten/items/ba37da865deb120a296c\n\nPart2\u3067\u306f\u3001\u4eba\u9593\u306e\u5e74\u9f62\u3001\u5a5a\u59fb\u3001\u53ce\u5165\u7b49\u7b49\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u3066\u6c7a\u5b9a\u6728\u5206\u6790\u3092\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n![adult.png](https://qiita-image-store.s3.amazonaws.com/0/119378/292804cf-f80b-6c8d-8e4a-9f1964d3c703.png)\n\n## \u304b\u3093\u305f\u3093\u306a\u6d41\u308c\n1. dashDB\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u4f7f\u3048\u308bR Studio\u306b\u5165\u308b\n2. R\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304f\uff08\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5185\u5bb9\u3068\u3057\u3066\u306f\u300c\u5c02\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u8aad\u307f\u8fbc\u3080\u2192dashDB\u306b\u63a5\u7d9a\u2192\u51e6\u7406\u3092\u3064\u3089\u3064\u3089\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u300d\u3002\u4ee5\u4e0a\uff01\uff09\n3. \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d70\u3089\u305b\u308b\uff01\n\n\u305d\u308c\u3067\u306f\u3001\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u30fc\n\n## \u30d6\u30e9\u30a6\u30b6\u304b\u3089R\u306e\u74b0\u5883\u306b\u30ed\u30b0\u30a4\u30f3\n\u5de6\u30da\u30a4\u30f3\u306e\u300cAnalytics\u300d\u304b\u3089\u300cR Scripts\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u3067\u3001R Studio\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-08 11.26.04.png](https://qiita-image-store.s3.amazonaws.com/0/119378/acc8ff4b-35f6-9813-559e-2129d6cff78f.png)\n\n\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u304c\u51fa\u3066\u304d\u307e\u3059\u306e\u3067\u3001dashDB\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u306e\u306b\u5fc5\u8981\u306aID\u3068PW\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-08 11.27.04.png](https://qiita-image-store.s3.amazonaws.com/0/119378/ed884eba-3429-1180-b9e2-c524f8c4d899.png)\n\n\u305d\u3046\u3059\u308b\u3068\u3001\u305d\u308c\u3063\u307d\u3044\u304b\u3063\u3053\u3088\u3044\u753b\u9762\u304c\u51fa\u3066\u304d\u307e\u3059\u3002\u3053\u308c\u304cR Studio\u306e\u74b0\u5883\u3067\u3059\u3002\n\n## R\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u304f\n\n**(1)\u5c02\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u8aad\u307f\u8fbc\u3080\u2192dashDB\u306b\u63a5\u7d9a**\n\ndashDB\u306e\u3053\u306eR\u6a5f\u80fd\uff08\u6b63\u5f0f\u306b\u306fIn-DB Analytics\uff09\u3092\u5229\u7528\u3059\u308b\u3068\u3001\nDB\u306e\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306b\u6301\u3063\u3066\u304f\u308b\u3053\u3068\u306a\u304f\u3001DB\u306e\u4e2d\u3067R\u3092\u4f7f\u7528\u3057\u305f\u5206\u6790\u304c\u3067\u304d\u308b\u3068\u3044\u3046\u304c\u5b09\u3057\u3044\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u306a\u306e\u3067\u3001\u305d\u308c\u3092\u884c\u3046\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u300cibmdbR\u300d\u3092\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u6b21\u306bDB\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\u672c\u6765\u306fDSN\u3092\u81ea\u5206\u3067\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001WEB\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u3084\u308b\u3068\u305d\u308c\u304c\u5fc5\u8981\u306a\u3044\u307f\u305f\u3044\u3002\n\n```r:dashDB\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8aad\u307f\u3053\u307f\u3001DB\u306b\u63a5\u7d9a\u3059\u308b\n#\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8aad\u307f\u8fbc\u3080\nlibrary(ibmdbR)\n\n#DB\u306b\u63a5\u7d9a\u3059\u308b\ncon <- idaConnect('BLUDB')\nidaInit(con)\n```\n\n**(2)\u51e6\u7406\u3092\u3064\u3089\u3064\u3089\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0**\n\u2460ADULT\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u3092\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3068\u3044\u3046\u7bb1\u306b\u5165\u308c\u307e\u3059\u3002\n\n```R:\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306b\u8868\u306e\u5185\u5bb9\u3092\u5165\u308c\u308b\n#\u30c6\u30fc\u30d6\u30eb\u3092\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306b\u5165\u308c\u308b\nadult_df <- ida.data.frame('adult')\n\n#\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306e\u4e2d\u8eab\u3092\u78ba\u8a8d\u3059\u308b\nadult_df\n```\n\n\u3067\u3001\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3053\u3093\u306a\u51fa\u529b\u306a\u306e\u3067\u3059\u3002\nSELECT \"ID\",\"AGE\",\"WORKCLASS\",\"FNLWGT\",\"EDUCATION\",\"EDUCATION_NUM\",\"MARITAL_STATUS\",\"OCCUPATION\",\"RELATIONSHIP\",\"RACE\",\"SEX\",\"CAPITAL_GAIN\",\"CAPITAL_LOSS\",\"HOURS_PER_WEEK\",\"INCOME\" FROM adult \n\n\u306a\u308b\u307b\u3069\u3002**\u30c7\u30fc\u30bf\u305d\u306e\u3082\u306e\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u304f\u3001SQL\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002**\n\u3053\u308c\u3060\u3068\u3001\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306b\u6301\u3063\u3066\u304f\u308b\u306e\u3067\u306f\u306a\u304f\u3066SQL\u3092\u6295\u3052\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001**\u78ba\u304b\u306b\u4e0d\u8981\u30c7\u30fc\u30bf\u3092\u3044\u3061\u3044\u3061\u6301\u3063\u3066\u304f\u308b\u5fc5\u8981\u306f\u306a\u3055\u305d\u3046\u3067\u3059\u3002**\n\n\u2461\u30e2\u30c7\u30eb\u3092\u9069\u7528\u3057\u3066\u307f\u307e\u3059\u3002\n\u5148\u307b\u3069\u306eSQL\u304c\u683c\u7d0d\u3055\u308c\u305f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u300cadult_df\u300d\u3092dashDB\u306e\u4e2d\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308bR\u306e\u6c7a\u5b9a\u6728\u30e2\u30c7\u30eb\u300cidaTree\u300d\u306b\u9069\u7528\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001dashDB\u306e\u4e2d\u3067\u3054\u308a\u3054\u308a\u3068\u51e6\u7406\u3092\u9032\u3081\u3066\u304f\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\n```R:\u6c7a\u5b9a\u6728\u30e2\u30c7\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u5165\u308c\u3066\u30d7\u30ed\u30c3\u30c8\u3059\u308b\n#\u6c7a\u5b9a\u6728\u30e2\u30c7\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u5165\u308c\u308b\ntr <- idaTree(INCOME~WORKCLASS+EDUCATION+EDUCATION_NUM+RACE+CAPITAL_GAIN+AGE,data=adult_df,minsplit=50,maxdepth=10,id='ID')\n\n#\u30d7\u30ed\u30c3\u30c8\uff08\u7d75\u3092\u63cf\u3044\u3066\u307f\u308b\uff06\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u6587\u5b57\u3067\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\uff09\nplot(tr)\nprint(tr)\n\n#DB\u3068\u306e\u63a5\u7d9a\u3092\u9589\u3058\u308b\nidaClose(con)\n```\n\n## \u7d50\u679c\u306f\u3053\u3061\u3089\n\n\u3058\u3083\u30fc\u3093\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-09 21.48.26.png](https://qiita-image-store.s3.amazonaws.com/0/119378/67ebef9d-cb94-08b9-fb0f-319f3805bb5a.png)\n\n\n## \u53c2\u8003\u6587\u732e\nhttp://www.slideshare.net/ibm_analytics_japan/dashdb-r-in-database-analytics\n", "tags": ["Bluemix", "DBaaS", "dashDB", "R", "RStudio"]}