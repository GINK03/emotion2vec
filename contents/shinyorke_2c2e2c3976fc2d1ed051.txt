{"context": "\n\nJupyter\u3068seaborn\u3001pitchpx\u3092\u4f7f\u3063\u305fMLB\u91ce\u7403\u30c7\u30fc\u30bf\u306e\u53ef\u8996\u5316\n\u524d\u56de\u306e\u8a18\u4e8b\uff08\u3068\u3044\u3063\u3066\u30824\u30f6\u6708\u8fd1\u304f\u7d4c\u3063\u3061\u3083\u3044\u307e\u3057\u305f\u304cw\uff09\u306e\u7d9a\u7de8\u304b\u3064\u3001BPStudy#103\u300cBaseball Play Study 2016\u300d\u306e\u6280\u8853\u7684\u306a\u88dc\u8db3\u8cc7\u6599\u3068\u306a\u308a\u307e\u3059.\n\u91ce\u7403Hack!\uff08\u91ce\u7403\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\uff092016\u5e74\u306e\u65b0\u4f5c\u3068\u306a\u308a\u307e\u3059.\n\n\u3010\u306f\u3058\u3081\u306b\u3011\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u3064\u3044\u3066\n\u7d76\u5bfe\u8cea\u554f\u304c\u6765\u308b&\u30b3\u30e1\u30f3\u30c8\u304c\u5165\u308b\u306e\u3067\u5148\u306b\u66f8\u3044\u3061\u3083\u3044\u307e\u3059.\n\n\u4f7f\u7528\u30e9\u30a4\u30d6\u30e9\u30ea(Jupyter,seaborn\u306a\u3069)\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306f\u5404\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30da\u30fc\u30b8\u3082\u3057\u304f\u306fPyPI\u306e\u30da\u30fc\u30b8\u3067\u78ba\u8a8d\u304c\u3067\u304d\u307e\u3059.\n\u4eca\u56de\u4f7f\u7528\u3059\u308b\u91ce\u7403\u30c7\u30fc\u30bf(MLBAM)\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306f\u3001 \u500b\u4eba\u5229\u7528\u7a0b\u5ea6\u3067\u3042\u308c\u3070\u554f\u984c\u3042\u308a\u307e\u305b\u3093\uff01\uff01\uff01\n\n\u305f\u3060\u3057\u3001\u5546\u7528\u5229\u7528\u3001\u5927\u91cf\u306b\u53d6\u5f97&\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306fNG\n\u3053\u306e\u8fba\u306e\u89e3\u8aac\u306f\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u3092\u53c2\u7167\u304f\u3060\u3055\u3044&\u8a8d\u8b58\u9f5f\u9f6c\u304c\u3042\u308c\u3070\u30b3\u30e1\u30f3\u30c8\u3092.\n\n\n\nhttp://gd2.mlb.com/components/copyright.txt \u203b\u30c7\u30fc\u30bf\u306e\u30b3\u30d4\u30fc\u30e9\u30a4\u30c8\u3067\u3059\n\nMLB\u306e\u91ce\u7403\u30c7\u30fc\u30bf\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u3064\u3044\u3066(MLBAM) \u203b\u65e5\u672c\u8a9e\u8a33\u3068\u305d\u306e\u89e3\u91c8\n\n\n\n\n\n\n\u5ca9\u9688\u4e45\u5fd7\u306e\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6295\u7403\u304b\u3089\u63a2\u3063\u3066\u307f\u308b\n\u30c9\u30b8\u30e3\u30fc\u30b9\u3068\u5927\u578b\u5951\u7d04\u9593\u8fd1\u306b\u307e\u3055\u304b\u306e\u7834\u8ac7\u2192\u30de\u30ea\u30ca\u30fc\u30ba\u306b\u51fa\u623b\u308a\u3057\u305f\u5ca9\u9688\u3055\u3093\u3067\u3059\u304c\u3001\u6628\u5e74\u306e8/12(\u65e5\u672c\u6642\u95938/13)\u306b\u65e5\u7c73\u901a\u3058\u3066\u521d\u306e\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u30ad\u30e1\u307e\u3057\u305f.\n\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u5ca9\u9688\u300c\u3067\u304d\u308b\u3068\u306f\u601d\u308f\u306a\u304b\u3063\u305f\u300d\n\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6c7a\u3081\u305f\u8a66\u5408\u306f\u4ed6\u306e\u8a66\u5408\u3068\u3069\u3046\u9055\u3046\u306e\u304b\uff1f\u304c\u5c11\u3057\u6c17\u306b\u306a\u3063\u305f\u306e\u3067\u53ef\u8996\u5316\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f.\n\n\u524d\u63d0\u6761\u4ef6\n\n\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6c7a\u3081\u305f8/12\u5148\u767a\u8a66\u5408(9\u56de\u5b8c\u6295\u7121\u5b89\u6253\u7121\u5f97\u70b9)\n\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6c7a\u3081\u308b\u524d\u306e\u8a66\u5408(8/7\u30017\u56de3\u5931\u70b9\u3001\u52dd\u5229\u6295\u624b\uff09\n\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u5f8c\u306e\u8a66\u5408(8/18\u30017\u56de2\u5931\u70b9\u3001\u52dd\u5229\u6295\u624b)\n\n\u3053\u308c\u3089\u306e\u6295\u7403\u30c7\u30fc\u30bf\u3092\u3001\n\n\u7403\u901f\n\u30dc\u30fc\u30eb\u306e\u56de\u8ee2\u6570\n\u5909\u5316\u7403\u306e\u7a2e\u985e\n\u6295\u7403\u306e\u7d50\u679c(\u30b9\u30c8\u30e9\u30a4\u30af/\u30dc\u30fc\u30eb/\u30dc\u30fc\u30eb\u30a4\u30f3\u30d7\u30ec\u30a4)\n\n\u6bce\u306b\u53ef\u8996\u5316\u3057\u3001\u9055\u3044\u304c\u306a\u3044\u304b\u898b\u3066\u307f\u308b\u3053\u3068\u3057\u307e\u3059.\n\u306a\u304a\u3001\n\n\u5bfe\u6226\u30c1\u30fc\u30e0\u30fb\u6253\u8005\u3068\u306e\u76f8\u6027\n\u7403\u5834(\u30db\u30fc\u30e0\u304b\u30a2\u30a6\u30a7\u30a4\u304b)\n\u6355\u624b\u306e\u5dee\n\n\u306b\u3064\u3044\u3066\u306f\u53ef\u8996\u5316\u306e\u6761\u4ef6\u304b\u3089\u5916\u3057\u3066\u3044\u307e\u3059(\u3068\u3044\u3046\u3088\u308a\u9593\u306b\u5408\u308f\u306a\u304b\u3063\u305f)\n\n\u4f7f\u7528\u30c7\u30fc\u30bf\n\u30e1\u30b8\u30e3\u30fc\u30ea\u30fc\u30b0\u516c\u5f0f\u306e\u4e00\u7403\u901f\u5831\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u307e\u3059.\n\u5177\u4f53\u7684\u306b\u306f\u3001MLBAM(MLB Advanced Media)\u304c\u914d\u4fe1\u3057\u3066\u3044\u308b\u4e00\u7403\u901f\u5831\u30c7\u30fc\u30bf\u3092\u6d3b\u7528\u3057\u307e\u3059.\n\u3053\u308c\u306f\u91ce\u7403\u30c7\u30fc\u30bf\u5206\u6790\u306e\uff08\u30de\u30cb\u30a2\u30c3\u30af\u306a\uff09\u66f8\u7c4d\u3001\u300cAnalyzing Baseball Data With R\u300d\u3067\u3082\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059.\n\n\u30c7\u30fc\u30bf\u3092\u624b\u306b\u5165\u308c\u308b&\u53ef\u8996\u5316\u3059\u308b\n\n\u7528\u610f\u3059\u308b\u30e2\u30ce\nPyData\u3067\u304a\u99b4\u67d3\u307f\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u52a0\u3048\u3001MLBAM\u306e\u4e00\u7403\u901f\u5831\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u300cpitchpx\u300d\u3092\u4f7f\u3044\u307e\u3059.\n\nPC(\u7b46\u8005\u306fMacbook Pro 13inch Retina\u3092\u4f7f\u7528)\nPython 3.3.x\u4ee5\u4e0a\u304c\u52d5\u304f\u74b0\u5883\u3001\u63a8\u5968\u306f3.5\u4ee5\u4e0a\n\n\npyenv + virtualenv\u3067\u74b0\u5883\u69cb\u7bc9\u304c\u30aa\u30b9\u30b9\u30e1.\n\n\nPython\u30e9\u30a4\u30d6\u30e9\u30ea\uff08\u3044\u305a\u308c\u3082pip\u3067\u5165\u308bversion\u3067OK)\n\n\nJupyter notebook\npandas\nmatplotlib\nseaborn\npitchpx\n\n\n\n\nPyData\u74b0\u5883\nPython\u306e\u30c7\u30fc\u30bf\u5206\u6790\u30fb\u53ef\u8996\u5316\u3067\u304a\u99b4\u67d3\u307f\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3044\u307e\u3059.\n\u3053\u306e\u8fba\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u4e16\u306e\u4e2d\u306b\u6ca2\u5c71\u30ce\u30a6\u30cf\u30a6\u3084\u672c\u304c\u51fa\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u898b\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059.\n\npitchpx\nMLBAM\u306e\u4e00\u7403\u901f\u5831\u30c7\u30fc\u30bf\u3001\u8a66\u5408\u306e\u7d50\u679c\u3001\u6253\u5e2d\u60c5\u5831\u3001\u5be9\u5224\u306e\u4e00\u89a7\u306a\u3069\u3001\u3042\u308a\u3068\u3042\u3089\u3086\u308b\u91ce\u7403\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8(CSV)\u3092\u5f97\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059.\n\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u81ea\u4f53\u306f\u3001 \u7b46\u8005(@shinyorke )\u81ea\u8eab\u304c\u5fc5\u8981\u306b\u99c6\u3089\u308c\u3066\u958b\u767a\u3001PyPI\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\uff01\uff01\uff01\n\u4f7f\u3044\u65b9\u306f\u5f8c\u8ff0\u3057\u307e\u3059.\n\n\u4e8b\u524d\u6e96\u5099\nPython 3.3.x\u4ee5\u4e0a\u304c\u52d5\u304f\u74b0\u5883\u304c\u3042\u308b\u524d\u63d0\u3067\u89e3\u8aac\u3057\u307e\u3059.\npip\u30b3\u30de\u30f3\u30c9\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044.\n$ pip install jupyter matplotlib pandas seaborn pitchpx\n\n\u7279\u306b\u30a8\u30e9\u30fc\u304c\u306a\u304f\u7d42\u4e86\u3057\u3066\u3044\u308c\u3070\u6210\u529f\u3067\u3059.\n\n\u53ef\u8996\u5316\u3057\u3066\u307f\u308b\n\n\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\npitchpx\u306e\u30d8\u30eb\u30d7\u30b3\u30de\u30f3\u30c9\u3067\u4f7f\u3044\u65b9\u3092\u78ba\u8a8d\u3057\u307e\u3059.\n$ pitchpx --help\n\n\u591a\u5206\u3053\u3093\u306a\u611f\u3058\u3067\u51fa\u3066\u304f\u308b\u3068\u601d\u3044\u307e\u3059.\nOptions:\n  -s, --start TEXT  Start Day(YYYYMMDD)  [required]\n  -e, --end TEXT    End Day(YYYYMMDD)  [required]\n  -o, --out TEXT    Output directory(default:\".\")  [required]\n  --help            Show this message and exit.\n\n\u5e73\u305f\u304f\u8a00\u3048\u3070\u3001\u65e5\u4ed8\u3068\u51fa\u529b\u5148\u3092\u6307\u5b9a\u3057\u3066\u3082\u3089\u3048\u308c\u3070OK\u3067\u3059.\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001CURRENT Directory\u306e\u4e0b\u306bdata\u3068\u3044\u3046Directory\u3092\u4f5c\u3063\u305f\u4e0a\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059.\n$ pitchpx -s 20150807 -e 20150807 -o ./data\n$ pitchpx -s 20150812 -e 20150812 -o ./data\n$ pitchpx -s 20150818 -e 20150818 -o ./data\n\n\u306a\u304a\u3001\n$ pitchpx -s 20150807 -e 20150818 -o ./data\n\n\u3067\u3082\u30c7\u30fc\u30bf\u3092\u53d6\u308c\u307e\u3059\u304c\u3001\u5927\u91cf\u306e\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u3066\u5f8c\u3067\u5927\u5909\u306b\u306a\u308b\u306e\u3067\u907f\u3051\u305f\u307b\u3046\u304c\u8ce2\u660e\u3067\u3059.\n\u203b\u3053\u306e\u8fba\u306f\u76f4\u3057\u305f\u3044...\n\u3053\u308c\u3067./data\u4e0b\u306bcsv\u304c\u5410\u304b\u308c\u3066\u3044\u308b\u30cf\u30ba\u3067\u3059.\n\nJupyter notebook\u8d77\u52d5&\u521d\u671f\u51e6\u7406\n\u53ef\u8996\u5316\u3068\u5206\u6790\u306fJupyter notebook\u3092\u4f7f\u3044\u307e\u3059.\n$ Jupyter notebook\n\n\u3053\u308c\u3067\u30d6\u30e9\u30a6\u30b6\u304c\u7acb\u3061\u4e0a\u304c\u308b\u306e\u3067\u3001\u9069\u5f53\u306bnotebook\u3092\u4f5c\u6210\u3057\u307e\u3059.\n\u3068\u540c\u6642\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092import\u3057\u307e\u3057\u3087\u3046.\n\nhisashi_iwakuma.py\n%matplotlib inline\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nfrom collections import OrderedDict\n\n\n\npandas\u3067\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3080\ncsv\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066Dataframe\u3092\u4f5c\u308a\u307e\u3059.\n\u6295\u7403\u30c7\u30fc\u30bf(mlbam_pitch_{yyyymmdd}.csv)\u3092\u8aad\u307f\u53d6\u3063\u305f\u5f8c\u3001query\u3067\u5ca9\u9688\u304c\u6295\u3052\u3066\u3044\u308b\u30c7\u30fc\u30bf\u306e\u307f\u53d6\u5f97\u3057\u307e\u3059.\n\nhisashi_iwakuma.py\n# \u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6c7a\u3081\u305f\u65e5(8/12)\u524d\u5f8c\u306e\u5ca9\u9688\u306e\u8a66\u5408\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\niwakuma_pitch_data= OrderedDict()\nfor day in (20150807, 20150812, 20150818):\n    pitch= pd.read_csv('./data/mlbam_pitch_{day}.csv'.format(day=day))\n    iwakuma_pitch_data[day] = pitch.query('pit_box_name==\"Iwakuma\"')\n\n\n\n\n\u7403\u901f\u00d7\u7403\u7a2e\u6bce\u306b\u7d50\u679c\u3092\u53ef\u8996\u5316\n\u7403\u901f\u30fb\u7403\u7a2e\u6bce\u306e\u6295\u7403\u7d50\u679c\uff08\u30b9\u30c8\u30e9\u30a4\u30af\u30fb\u30dc\u30fc\u30eb\u30fb\u30dc\u30fc\u30eb\u30a4\u30f3\u30d7\u30ec\u30a4\uff09\u3092\u53ef\u8996\u5316\u3057\u307e\u3059.\n\u3061\u306a\u307f\u306b\u300c\u30dc\u30fc\u30eb\u30a4\u30f3\u30d7\u30ec\u30a4\u300d\u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30dc\u30fc\u30eb\u304c\u98db\u3093\u3060\u3053\u3068\u3092\u8868\u3059\u7d50\u679c\u3067\u3059\uff08\u30d5\u30e9\u30a4\u3001\u30b4\u30ed\u3001\u30d2\u30c3\u30c8\u306a\u3069\u3001\u30eb\u30fc\u30eb\u4e0a\u306e\u30dc\u30fc\u30eb\u30a4\u30f3\u30d7\u30ec\u30a4\u3068\u306f\u5c11\u3057\u9055\u3044\u307e\u3059\uff09.\n\nhisashi_iwakuma.py\n\"\"\"\n\u7403\u7a2e\u3068\u7403\u7a2e\u306e\u7565\u79f0\uff08\u3053\u306e\u5f8c\u3082\u4f7f\u3044\u307e\u3059\uff09\n{\n    'CH': 'Change-up',\n    'CU': 'Curveball',\n    'EP': 'Ephuus',\n    'FA': 'Fastball',\n    'FC': 'Cut Fastball',\n    'FF': 'four-seam Fastball',\n    'FO': 'Forkball',\n    'FS': 'Split-finger Fastball',\n    'FT': 'two-seam Fastball',\n    'KC': 'Knuckle Curve',\n    'KN': 'Knuckleball',\n    'SC': 'Screwball',\n    'SI': 'Sinker',\n    'SL': 'Slider',\n    'UN': 'Unknown'\n}\n\"\"\"\n# X:\u7403\u7a2e, Y:\u7403\u901f(\u521d\u901f)\u6bce\u306b\u6295\u7403\u7d50\u679c(S:Strike, B:Ball, X:Ball in play)\u3092\u53ef\u8996\u5316\naxarray = {day: None for day in iwakuma_pitch_data.keys()}\nf, (axarray) = plt.subplots(1, len(iwakuma_pitch_data.keys()), sharey=True, figsize=(24,6))\n\nfor i, day in enumerate(iwakuma_pitch_data.keys()):\n    axarray[i].set_title('Hisashi Iwakuma({day})'.format(day=day))\n    sns.stripplot(x=\"pitch_type\", y=\"start_speed\", data=iwakuma_pitch_data[day], hue=\"pitch_res\", ax=axarray[i], split=True, jitter=True)\n\n\n\n\u3053\u3093\u306a\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059.\n\n\u5de6\u304b\u3089\u9806\u306b\u3001\n\n\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u524d\u306e\u8a66\u5408(8/7)\n\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3(8/12)\n\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u5f8c\u306e\u8a66\u5408(8/18)\n\n\u3067\u3059.\n\u30b4\u30ed\u3092\u6253\u305f\u305b\u308b\u540d\u624b\u3001\u901a\u79f0\u300c\u30b4\u30ed\u304f\u307e\u300d\u3055\u3093\u3089\u3057\u304f\u3001\u30b9\u30c8\u30e9\u30a4\u30af(S)\u3068\u30a4\u30f3\u30d7\u30ec\u30a4(X)\u304c\u5927\u5909\u76ee\u7acb\u3063\u3066\u3044\u307e\u3059.\n\u304c\u3001\u30ce\u30fc\u30ce\u30fc\u306e\u65e5\u306f\u5c11\u3057\u3070\u304b\u308a\u30dc\u30fc\u30eb(B)\u304c\u591a\u304b\u3063\u305f\u307f\u305f\u3044\u3067\u3059.\n\u306a\u304a\u3001\u30ce\u30fc\u30ce\u30fc\u5f8c\u306e\u8a66\u5408\u3060\u3051X\u3068B\u306e\u8272\u304c\u9006\u8ee2\u3057\u3066\u3044\u308b\u306e\u306f\u8b0e\u3067\u3059.\n\n\u6295\u7403\u56de\u6bce\u306e\u7403\u901f\u30fb\u30dc\u30fc\u30eb\u56de\u8ee2\u6570\u306e\u5e73\u5747\n\u6b21\u306f\u6295\u7403\u56de\u6bce\u306e\u7403\u901f(\u4eca\u56de\u306f\u521d\u901f\u30c7\u30fc\u30bf\u3092\u4f7f\u7528)\u30fb\u30dc\u30fc\u30eb\u56de\u8ee2\u6570\u306e\u5e73\u5747\u3068\u63a8\u79fb\u3092\u898b\u3066\u307f\u307e\u3059.\n\u307e\u305a\u306f\u7403\u901f\u306e\u5e73\u5747\u304b\u3089.\n\nhisashi_iwakuma.py\n# X:\u6295\u7403\u56de, Y:\u521d\u901f\u306e\u5e73\u5747\u306e\u9077\u79fb\u3092\u7403\u7a2e\u6bce\u306b\u53ef\u8996\u5316\naxarray = {day: None for day in iwakuma_pitch_data.keys()}\nf, (axarray) = plt.subplots(1, len(iwakuma_pitch_data.keys()), sharey=True, figsize=(24,6))\n\nfor i, day in enumerate(iwakuma_pitch_data.keys()):\n    axarray[i].set_title('Hisashi Iwakuma({day})'.format(day=day))\n    sns.pointplot(x=\"inning_number\", y=\"start_speed\", hue=\"pitch_type\", ax=axarray[i], data=iwakuma_pitch_data[day], dodge=True, palette=\"Set1\")\n\n\n\u7d50\u679c\u306f\u3053\u3093\u306a\u611f\u3058\u306b.\n\u30ce\u30fc\u30ce\u30fc\u306e\u65e5\u306f\u305d\u308c\u306a\u308a\u306e\u7403\u901f\u304c\u51fa\u3066\u3044\u307e\u3059\u304c\u3001\u30ce\u30fc\u30ce\u30fc\u306e\u524d\u5f8c\u3068\u304f\u306b\u30ce\u30fc\u30ce\u30fc\u5f8c\u306f\u591a\u5c11\u7403\u901f\u304c\u843d\u3061\u3066\u3044\u308b\u611f\u3058\u304c\u3057\u307e\u3059.\n\n\u7d9a\u3044\u3066\u30dc\u30fc\u30eb\u306e\u56de\u8ee2\u6570\u3082\u540c\u3058\u3088\u3046\u306b\u898b\u3066\u307f\u307e\u3059.\n\u30b3\u30fc\u30c9\u4e0a\u306fy\u8ef8\u304c\u5909\u308f\u308b\u3060\u3051\u3067\u3059.\n\nhisashi_iwakuma.py\n# X:\u6295\u7403\u56de, Y:\u30dc\u30fc\u30eb\u56de\u8ee2\u6570(Spin Rate)\u306e\u5e73\u5747\u306e\u9077\u79fb\u3092\u7403\u7a2e\u6bce\u306b\u53ef\u8996\u5316\naxarray = {day: None for day in iwakuma_pitch_data.keys()}\nf, (axarray) = plt.subplots(1, len(iwakuma_pitch_data.keys()), sharey=True, figsize=(24,6))\n\nfor i, day in enumerate(iwakuma_pitch_data.keys()):\n    axarray[i].set_title('Hisashi Iwakuma({day})'.format(day=day))\n    sns.pointplot(x=\"inning_number\", y=\"spin_rate\", hue=\"pitch_type\", ax=axarray[i], data=iwakuma_pitch_data[day], dodge=True, palette=\"Set2\")\n\n\n\u7d50\u679c\u306f\u3053\u3061\u3089.\n\n\u7403\u7a2e\u6bce\u306b\u56de\u8ee2\u6570\u306e\u9055\u3044\u304c\u3042\u308b(\u307e\u3063\u3059\u3050\u7cfb\u306f\u56de\u8ee2\u3059\u308b\u3001\u30b9\u30e9\u30a4\u30c0\u30fc\u30fb\u30c1\u30a7\u30f3\u30b8\u30a2\u30c3\u30d7\u306f\u56de\u8ee2\u3057\u306a\u3044\uff09\u4ee5\u5916\u3001\u7d50\u679c\u306b\u3070\u3089\u3064\u304d\u304c\u3042\u308a\u307e\u3059\u306d.\n\u56de\u8ee2\u6570\u305d\u306e\u3082\u306e\u3092\u898b\u308b\u610f\u5473\u306f\u3042\u307e\u308a\u7121\u3044\u306e\u304b\u3082(\u3053\u306e\u8fba\u308a\u306f\u3061\u3087\u3063\u3068\u308f\u304b\u3093\u306a\u3044).\n\n\u91ce\u6751\u30b9\u30b3\u30fc\u30d7\u98a8\u306b\u53ef\u8996\u5316\u3057\u3066\u307f\u308b\n\u6700\u5f8c\u306b\u3001\u30dc\u30fc\u30eb\u3092\u6295\u3052\u305f\u4f4d\u7f6e\u3092\u5143\u306b\u3001\u91ce\u6751\u30b9\u30b3\u30fc\u30d7\u98a8\u306e\u53ef\u8996\u5316\u3092\u3057\u3066\u307f\u307e\u3059.\n\u307e\u305a\u3001matplotlib\u306eplot\u306bmarker/label/color\u3092\u3064\u3051\u308b\u305f\u3081\u5b9a\u7fa9\u7528\u306e\u30af\u30e9\u30b9\u3092\u3061\u3087\u308d\u3063\u3068\u66f8\u304d\u8fbc\u307f\u307e\u3059.\n\npitchpx/const.py\n# -*- coding: utf-8 -*-\n\nclass PitchPxConst(object):\n\n\n    # \u7403\u7a2e\u306f\u3053\u306e\u30ea\u30f3\u30af\u3092\u53c2\u7167 http://pitchfx.texasleaguers.com/\n    PITCH_TYPES = {\n        'FA': 'Fastball',\n        'FF': 'four-seam Fastball',\n        'FT': 'two-seam Fastball',\n        'FC': 'Cut Fastball',\n        'FS': 'Split-finger Fastball',\n        'FO': 'Forkball',\n        'SI': 'Sinker',\n        'SL': 'Slider',\n        'CU': 'Curveball',\n        'KC': 'Knuckle Curve',\n        'EP': 'Ephuus',\n        'CH': 'Change-up',\n        'SC': 'Screwball',\n        'KN': 'Knuckleball',\n        'UN': 'Unknown',\n    }\n\n    # markers(matplotlib)\n    PITCH_TYPES_MARKERS = {\n        'FA': '.',\n        'FF': 'o',\n        'FT': ',',\n        'FC': 'p',\n        'FS': 'v',\n        'FO': 'v',\n        'SI': '>',\n        'SL': '<',\n        'CU': '+',\n        'KC': ',',\n        'EP': 'D',\n        'CH': 'o',\n        'SC': 'H',\n        'KN': '*',\n        'UN': 'x',\n    }\n\n    # colors(matplotlib)\n    PITCH_TYPES_COLORS = {\n        'FA': 'red',\n        'FF': 'red',\n        'FT': 'red',\n        'FC': 'red',\n        'FS': 'red',\n        'FO': 'blue',\n        'SI': 'red',\n        'SL': 'blue',\n        'CU': 'green',\n        'KC': 'yellow',\n        'EP': 'green',\n        'CH': 'green',\n        'SC': 'yellow',\n        'KN': 'white',\n        'UN': 'black',\n    }\n\n\n\u3053\u306e\u30af\u30e9\u30b9\u3092\u8aad\u307f\u8fbc\u3093\u3067\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059.\n\nhisashi_iwakuma.py\nfrom pitchpx.const import PitchPxConst\n\n# \u4e00\u8a66\u5408\u306e\u6295\u7403\u3092\u53ef\u8996\u5316(pz:\u9ad8\u3055, px:\u5e45)\naxarray = {day: None for day in iwakuma_pitch_data.keys()}\nf, (axarray) = plt.subplots(1, len(iwakuma_pitch_data.keys()), sharey=True, figsize=(24,6))\n\n# TODO \u30b9\u30c8\u30e9\u30a4\u30af\u30be\u30fc\u30f3\u3092\u63cf\u304d\u305f\u304b\u3063\u305f\u304c\u65ad\u5ff5(\u8ab0\u304b\u304a\u3057\u3048\u3066)\nfor i, day in enumerate(iwakuma_pitch_data.keys()):\n    axarray[i].set_title('Hisashi Iwakuma({day})'.format(day=day))\n    datasets = iwakuma_pitch_data[day]\n    for k, v in PitchPxConst.PITCH_TYPES.items():\n        ds = datasets.query('pitch_type==\"{type}\"'.format(type=k))\n        if ds.empty:\n            continue\n        ds.plot(\n            kind='scatter', \n            x='px', \n            y='pz', \n            label=PitchPxConst.PITCH_TYPES[k], \n            color=PitchPxConst.PITCH_TYPES_COLORS[k], \n            marker=PitchPxConst.PITCH_TYPES_MARKERS[k], \n            xlim=(-3.0, 3.0), \n            ylim=(-1.0, 6.0), \n            ax=axarray[i]\n        )\n\n\n\n\u7d50\u679c\u306f\u3053\u3061\u3089\u3067\u3059.\n\n\u3046\u30fc\u3093...\u3053\u308c\u306f\u5bfe\u6226\u6253\u8005\u6bce\u306b\u53ef\u8996\u5316&\u30b9\u30c8\u30e9\u30a4\u30af\u30be\u30fc\u30f3\u304c\u7121\u3044\u3068\u898b\u96e3\u3044\u3067\u3059\u306d.\n\n\u7d50\u8ad6\n\n\u30ce\u30fc\u30ce\u30fc\u306e\u65e5\u306f\u7403\u901f\u304c\u51fa\u3066\u3044\u305f\u3001\u4ed6\u306e\u65e5\u3068\u50be\u5411\u304c\u5c11\u3057\u9055\u3046\n\u4e00\u65b9\u3001\u30dc\u30fc\u30eb\u304c\u591a\u3081\u3067\u3084\u3084\u8352\u308c\u6c17\u5473\u3060\u3063\u305f\n\u3067\u3082\u660e\u78ba\u306a\u9055\u3044\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\n\n\n\u5bfe\u6226\u6253\u8005\u3084\u30c1\u30fc\u30e0\u3082\u898b\u306a\u3044\u3068\u308f\u304b\u3089\u306a\u3044\n\u30db\u30fc\u30e0\u3068\u30a2\u30a6\u30a7\u30a4\u306e\u5dee\u306f\uff1f\n\n\nmatplotlib\u306e\u4f7f\u3044\u65b9\u3092\u3088\u3046\u3084\u3063\u3068\u899a\u3048\u3066\u304d\u305f\npandas\u3068seaborn\u7d20\u6674\u3089\u3057\u3044\uff01\n\n\nseaborn\u3042\u308c\u3070\u7dba\u9e97\u3067\u30ab\u30c3\u30b3\u30a4\u30a4\u53ef\u8996\u5316\u304c\u3067\u304d\u308b\u3093\u3060(^O^)\n\n\n\n# Jupyter\u3068seaborn\u3001pitchpx\u3092\u4f7f\u3063\u305fMLB\u91ce\u7403\u30c7\u30fc\u30bf\u306e\u53ef\u8996\u5316\n\n[\u524d\u56de\u306e\u8a18\u4e8b](http://qiita.com/shinyorke/items/79379c1a7e1107c3a188)\uff08\u3068\u3044\u3063\u3066\u30824\u30f6\u6708\u8fd1\u304f\u7d4c\u3063\u3061\u3083\u3044\u307e\u3057\u305f\u304cw\uff09\u306e\u7d9a\u7de8\u304b\u3064\u3001[BPStudy#103\u300cBaseball Play Study 2016\u300d](http://bpstudy.connpass.com/event/27062/)\u306e\u6280\u8853\u7684\u306a\u88dc\u8db3\u8cc7\u6599\u3068\u306a\u308a\u307e\u3059.\n\n\u91ce\u7403Hack!\uff08\u91ce\u7403\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\uff092016\u5e74\u306e\u65b0\u4f5c\u3068\u306a\u308a\u307e\u3059.\n\n## \u3010\u306f\u3058\u3081\u306b\u3011\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u3064\u3044\u3066\n\n\u7d76\u5bfe\u8cea\u554f\u304c\u6765\u308b&\u30b3\u30e1\u30f3\u30c8\u304c\u5165\u308b\u306e\u3067\u5148\u306b\u66f8\u3044\u3061\u3083\u3044\u307e\u3059.\n\n* \u4f7f\u7528\u30e9\u30a4\u30d6\u30e9\u30ea(Jupyter,seaborn\u306a\u3069)\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306f\u5404\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30da\u30fc\u30b8\u3082\u3057\u304f\u306fPyPI\u306e\u30da\u30fc\u30b8\u3067\u78ba\u8a8d\u304c\u3067\u304d\u307e\u3059.\n* \u4eca\u56de\u4f7f\u7528\u3059\u308b\u91ce\u7403\u30c7\u30fc\u30bf(MLBAM)\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306f\u3001 **\u500b\u4eba\u5229\u7528\u7a0b\u5ea6\u3067\u3042\u308c\u3070\u554f\u984c\u3042\u308a\u307e\u305b\u3093\uff01\uff01\uff01**\n    * \u305f\u3060\u3057\u3001\u5546\u7528\u5229\u7528\u3001\u5927\u91cf\u306b\u53d6\u5f97&\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306fNG\n    * \u3053\u306e\u8fba\u306e\u89e3\u8aac\u306f\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u3092\u53c2\u7167\u304f\u3060\u3055\u3044&\u8a8d\u8b58\u9f5f\u9f6c\u304c\u3042\u308c\u3070\u30b3\u30e1\u30f3\u30c8\u3092.\n        * [http://gd2.mlb.com/components/copyright.txt](http://gd2.mlb.com/components/copyright.txt) \u203b\u30c7\u30fc\u30bf\u306e\u30b3\u30d4\u30fc\u30e9\u30a4\u30c8\u3067\u3059\n       * [MLB\u306e\u91ce\u7403\u30c7\u30fc\u30bf\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u3064\u3044\u3066(MLBAM)](http://qiita.com/shinyorke/items/566f1b7e7687492a0c7f) \u203b\u65e5\u672c\u8a9e\u8a33\u3068\u305d\u306e\u89e3\u91c8\n\n## \u5ca9\u9688\u4e45\u5fd7\u306e\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6295\u7403\u304b\u3089\u63a2\u3063\u3066\u307f\u308b\n\n\u30c9\u30b8\u30e3\u30fc\u30b9\u3068\u5927\u578b\u5951\u7d04\u9593\u8fd1\u306b\u307e\u3055\u304b\u306e\u7834\u8ac7\u2192\u30de\u30ea\u30ca\u30fc\u30ba\u306b\u51fa\u623b\u308a\u3057\u305f\u5ca9\u9688\u3055\u3093\u3067\u3059\u304c\u3001\u6628\u5e74\u306e8/12(\u65e5\u672c\u6642\u95938/13)\u306b\u65e5\u7c73\u901a\u3058\u3066\u521d\u306e\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u30ad\u30e1\u307e\u3057\u305f.\n\n[\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u5ca9\u9688\u300c\u3067\u304d\u308b\u3068\u306f\u601d\u308f\u306a\u304b\u3063\u305f\u300d](http://www.nikkansports.com/baseball/mlb/news/1522639.html)\n \n\u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6c7a\u3081\u305f\u8a66\u5408\u306f\u4ed6\u306e\u8a66\u5408\u3068\u3069\u3046\u9055\u3046\u306e\u304b\uff1f\u304c\u5c11\u3057\u6c17\u306b\u306a\u3063\u305f\u306e\u3067\u53ef\u8996\u5316\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f.\n\n### \u524d\u63d0\u6761\u4ef6\n\n* \u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6c7a\u3081\u305f8/12\u5148\u767a\u8a66\u5408(9\u56de\u5b8c\u6295\u7121\u5b89\u6253\u7121\u5f97\u70b9)\n* \u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6c7a\u3081\u308b\u524d\u306e\u8a66\u5408(8/7\u30017\u56de3\u5931\u70b9\u3001\u52dd\u5229\u6295\u624b\uff09\n* \u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u5f8c\u306e\u8a66\u5408(8/18\u30017\u56de2\u5931\u70b9\u3001\u52dd\u5229\u6295\u624b)\n\n\u3053\u308c\u3089\u306e\u6295\u7403\u30c7\u30fc\u30bf\u3092\u3001\n\n* \u7403\u901f\n* \u30dc\u30fc\u30eb\u306e\u56de\u8ee2\u6570\n* \u5909\u5316\u7403\u306e\u7a2e\u985e\n* \u6295\u7403\u306e\u7d50\u679c(\u30b9\u30c8\u30e9\u30a4\u30af/\u30dc\u30fc\u30eb/\u30dc\u30fc\u30eb\u30a4\u30f3\u30d7\u30ec\u30a4)\n\n\u6bce\u306b\u53ef\u8996\u5316\u3057\u3001\u9055\u3044\u304c\u306a\u3044\u304b\u898b\u3066\u307f\u308b\u3053\u3068\u3057\u307e\u3059.\n\n\u306a\u304a\u3001\n\n* \u5bfe\u6226\u30c1\u30fc\u30e0\u30fb\u6253\u8005\u3068\u306e\u76f8\u6027\n* \u7403\u5834(\u30db\u30fc\u30e0\u304b\u30a2\u30a6\u30a7\u30a4\u304b)\n* \u6355\u624b\u306e\u5dee\n\n\u306b\u3064\u3044\u3066\u306f\u53ef\u8996\u5316\u306e\u6761\u4ef6\u304b\u3089\u5916\u3057\u3066\u3044\u307e\u3059(\u3068\u3044\u3046\u3088\u308a\u9593\u306b\u5408\u308f\u306a\u304b\u3063\u305f)\n\n### \u4f7f\u7528\u30c7\u30fc\u30bf\n\n\u30e1\u30b8\u30e3\u30fc\u30ea\u30fc\u30b0\u516c\u5f0f\u306e\u4e00\u7403\u901f\u5831\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u307e\u3059.\n\n\u5177\u4f53\u7684\u306b\u306f\u3001MLBAM(MLB Advanced Media)\u304c\u914d\u4fe1\u3057\u3066\u3044\u308b\u4e00\u7403\u901f\u5831\u30c7\u30fc\u30bf\u3092\u6d3b\u7528\u3057\u307e\u3059.\n\n\u3053\u308c\u306f\u91ce\u7403\u30c7\u30fc\u30bf\u5206\u6790\u306e\uff08\u30de\u30cb\u30a2\u30c3\u30af\u306a\uff09\u66f8\u7c4d\u3001\u300c[Analyzing Baseball Data With R](http://www.amazon.co.jp/dp/1466570229)\u300d\u3067\u3082\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059.\n\n## \u30c7\u30fc\u30bf\u3092\u624b\u306b\u5165\u308c\u308b&\u53ef\u8996\u5316\u3059\u308b\n\n### \u7528\u610f\u3059\u308b\u30e2\u30ce\n\nPyData\u3067\u304a\u99b4\u67d3\u307f\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u52a0\u3048\u3001MLBAM\u306e\u4e00\u7403\u901f\u5831\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u300cpitchpx\u300d\u3092\u4f7f\u3044\u307e\u3059.\n\n* PC(\u7b46\u8005\u306fMacbook Pro 13inch Retina\u3092\u4f7f\u7528)\n* Python 3.3.x\u4ee5\u4e0a\u304c\u52d5\u304f\u74b0\u5883\u3001\u63a8\u5968\u306f3.5\u4ee5\u4e0a\n    * pyenv + virtualenv\u3067\u74b0\u5883\u69cb\u7bc9\u304c\u30aa\u30b9\u30b9\u30e1.\n* Python\u30e9\u30a4\u30d6\u30e9\u30ea\uff08\u3044\u305a\u308c\u3082pip\u3067\u5165\u308bversion\u3067OK)\n    * Jupyter notebook\n    * pandas\n    * matplotlib\n    * seaborn\n    * **pitchpx**\n\n### PyData\u74b0\u5883\n\nPython\u306e\u30c7\u30fc\u30bf\u5206\u6790\u30fb\u53ef\u8996\u5316\u3067\u304a\u99b4\u67d3\u307f\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3044\u307e\u3059.\n\n\u3053\u306e\u8fba\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u4e16\u306e\u4e2d\u306b\u6ca2\u5c71\u30ce\u30a6\u30cf\u30a6\u3084\u672c\u304c\u51fa\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u898b\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059.\n\n### pitchpx\n\nMLBAM\u306e\u4e00\u7403\u901f\u5831\u30c7\u30fc\u30bf\u3001\u8a66\u5408\u306e\u7d50\u679c\u3001\u6253\u5e2d\u60c5\u5831\u3001\u5be9\u5224\u306e\u4e00\u89a7\u306a\u3069\u3001\u3042\u308a\u3068\u3042\u3089\u3086\u308b\u91ce\u7403\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8(CSV)\u3092\u5f97\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059.\n\n\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u81ea\u4f53\u306f\u3001 **\u7b46\u8005(@shinyorke )\u81ea\u8eab\u304c\u5fc5\u8981\u306b\u99c6\u3089\u308c\u3066\u958b\u767a\u3001PyPI\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\uff01\uff01\uff01**\n\n\u4f7f\u3044\u65b9\u306f\u5f8c\u8ff0\u3057\u307e\u3059.\n\n### \u4e8b\u524d\u6e96\u5099\n\nPython 3.3.x\u4ee5\u4e0a\u304c\u52d5\u304f\u74b0\u5883\u304c\u3042\u308b\u524d\u63d0\u3067\u89e3\u8aac\u3057\u307e\u3059.\n\npip\u30b3\u30de\u30f3\u30c9\u3067\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044.\n\n```\n$ pip install jupyter matplotlib pandas seaborn pitchpx\n```\n\n\u7279\u306b\u30a8\u30e9\u30fc\u304c\u306a\u304f\u7d42\u4e86\u3057\u3066\u3044\u308c\u3070\u6210\u529f\u3067\u3059.\n\n## \u53ef\u8996\u5316\u3057\u3066\u307f\u308b\n\n### \u30c7\u30fc\u30bf\u306e\u53d6\u5f97\n\npitchpx\u306e\u30d8\u30eb\u30d7\u30b3\u30de\u30f3\u30c9\u3067\u4f7f\u3044\u65b9\u3092\u78ba\u8a8d\u3057\u307e\u3059.\n\n```\n$ pitchpx --help\n```\n\n\u591a\u5206\u3053\u3093\u306a\u611f\u3058\u3067\u51fa\u3066\u304f\u308b\u3068\u601d\u3044\u307e\u3059.\n\n```\nOptions:\n  -s, --start TEXT  Start Day(YYYYMMDD)  [required]\n  -e, --end TEXT    End Day(YYYYMMDD)  [required]\n  -o, --out TEXT    Output directory(default:\".\")  [required]\n  --help            Show this message and exit.\n```\n\n\u5e73\u305f\u304f\u8a00\u3048\u3070\u3001\u65e5\u4ed8\u3068\u51fa\u529b\u5148\u3092\u6307\u5b9a\u3057\u3066\u3082\u3089\u3048\u308c\u3070OK\u3067\u3059.\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001CURRENT Directory\u306e\u4e0b\u306bdata\u3068\u3044\u3046Directory\u3092\u4f5c\u3063\u305f\u4e0a\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059.\n\n```\n$ pitchpx -s 20150807 -e 20150807 -o ./data\n$ pitchpx -s 20150812 -e 20150812 -o ./data\n$ pitchpx -s 20150818 -e 20150818 -o ./data\n```\n\n\u306a\u304a\u3001\n\n```\n$ pitchpx -s 20150807 -e 20150818 -o ./data\n```\n\n\u3067\u3082\u30c7\u30fc\u30bf\u3092\u53d6\u308c\u307e\u3059\u304c\u3001\u5927\u91cf\u306e\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u3066\u5f8c\u3067\u5927\u5909\u306b\u306a\u308b\u306e\u3067\u907f\u3051\u305f\u307b\u3046\u304c\u8ce2\u660e\u3067\u3059.\n\n\u203b\u3053\u306e\u8fba\u306f\u76f4\u3057\u305f\u3044...\n\n\u3053\u308c\u3067./data\u4e0b\u306bcsv\u304c\u5410\u304b\u308c\u3066\u3044\u308b\u30cf\u30ba\u3067\u3059.\n\n### Jupyter notebook\u8d77\u52d5&\u521d\u671f\u51e6\u7406\n\n\u53ef\u8996\u5316\u3068\u5206\u6790\u306fJupyter notebook\u3092\u4f7f\u3044\u307e\u3059.\n\n```\n$ Jupyter notebook\n```\n\n\u3053\u308c\u3067\u30d6\u30e9\u30a6\u30b6\u304c\u7acb\u3061\u4e0a\u304c\u308b\u306e\u3067\u3001\u9069\u5f53\u306bnotebook\u3092\u4f5c\u6210\u3057\u307e\u3059.\n\n\u3068\u540c\u6642\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092import\u3057\u307e\u3057\u3087\u3046.\n\n```py:hisashi_iwakuma.py\n%matplotlib inline\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nfrom collections import OrderedDict\n```\n\n### pandas\u3067\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3080\n\ncsv\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066Dataframe\u3092\u4f5c\u308a\u307e\u3059.\n\n\u6295\u7403\u30c7\u30fc\u30bf(mlbam_pitch_{yyyymmdd}.csv)\u3092\u8aad\u307f\u53d6\u3063\u305f\u5f8c\u3001query\u3067\u5ca9\u9688\u304c\u6295\u3052\u3066\u3044\u308b\u30c7\u30fc\u30bf\u306e\u307f\u53d6\u5f97\u3057\u307e\u3059.\n\n```py:hisashi_iwakuma.py\n# \u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u3092\u6c7a\u3081\u305f\u65e5(8/12)\u524d\u5f8c\u306e\u5ca9\u9688\u306e\u8a66\u5408\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\niwakuma_pitch_data= OrderedDict()\nfor day in (20150807, 20150812, 20150818):\n    pitch= pd.read_csv('./data/mlbam_pitch_{day}.csv'.format(day=day))\n    iwakuma_pitch_data[day] = pitch.query('pit_box_name==\"Iwakuma\"')\n\n```\n\n### \u7403\u901f\u00d7\u7403\u7a2e\u6bce\u306b\u7d50\u679c\u3092\u53ef\u8996\u5316\n\n\u7403\u901f\u30fb\u7403\u7a2e\u6bce\u306e\u6295\u7403\u7d50\u679c\uff08\u30b9\u30c8\u30e9\u30a4\u30af\u30fb\u30dc\u30fc\u30eb\u30fb\u30dc\u30fc\u30eb\u30a4\u30f3\u30d7\u30ec\u30a4\uff09\u3092\u53ef\u8996\u5316\u3057\u307e\u3059.\n\n\u3061\u306a\u307f\u306b\u300c\u30dc\u30fc\u30eb\u30a4\u30f3\u30d7\u30ec\u30a4\u300d\u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30dc\u30fc\u30eb\u304c\u98db\u3093\u3060\u3053\u3068\u3092\u8868\u3059\u7d50\u679c\u3067\u3059\uff08\u30d5\u30e9\u30a4\u3001\u30b4\u30ed\u3001\u30d2\u30c3\u30c8\u306a\u3069\u3001\u30eb\u30fc\u30eb\u4e0a\u306e\u30dc\u30fc\u30eb\u30a4\u30f3\u30d7\u30ec\u30a4\u3068\u306f\u5c11\u3057\u9055\u3044\u307e\u3059\uff09.\n\n```py:hisashi_iwakuma.py\n\"\"\"\n\u7403\u7a2e\u3068\u7403\u7a2e\u306e\u7565\u79f0\uff08\u3053\u306e\u5f8c\u3082\u4f7f\u3044\u307e\u3059\uff09\n{\n    'CH': 'Change-up',\n    'CU': 'Curveball',\n    'EP': 'Ephuus',\n    'FA': 'Fastball',\n    'FC': 'Cut Fastball',\n    'FF': 'four-seam Fastball',\n    'FO': 'Forkball',\n    'FS': 'Split-finger Fastball',\n    'FT': 'two-seam Fastball',\n    'KC': 'Knuckle Curve',\n    'KN': 'Knuckleball',\n    'SC': 'Screwball',\n    'SI': 'Sinker',\n    'SL': 'Slider',\n    'UN': 'Unknown'\n}\n\"\"\"\n# X:\u7403\u7a2e, Y:\u7403\u901f(\u521d\u901f)\u6bce\u306b\u6295\u7403\u7d50\u679c(S:Strike, B:Ball, X:Ball in play)\u3092\u53ef\u8996\u5316\naxarray = {day: None for day in iwakuma_pitch_data.keys()}\nf, (axarray) = plt.subplots(1, len(iwakuma_pitch_data.keys()), sharey=True, figsize=(24,6))\n\nfor i, day in enumerate(iwakuma_pitch_data.keys()):\n    axarray[i].set_title('Hisashi Iwakuma({day})'.format(day=day))\n    sns.stripplot(x=\"pitch_type\", y=\"start_speed\", data=iwakuma_pitch_data[day], hue=\"pitch_res\", ax=axarray[i], split=True, jitter=True)\n\n```\n\n\u3053\u3093\u306a\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059.\n\n![iwakuma01.png](https://qiita-image-store.s3.amazonaws.com/0/54986/db96357d-e5b4-ec22-08ea-7aeaf9cfb832.png)\n\n\u5de6\u304b\u3089\u9806\u306b\u3001\n\n* \u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u524d\u306e\u8a66\u5408(8/7)\n* \u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3(8/12)\n* \u30ce\u30fc\u30d2\u30c3\u30c8\u30ce\u30fc\u30e9\u30f3\u5f8c\u306e\u8a66\u5408(8/18)\n\n\u3067\u3059.\n\n\u30b4\u30ed\u3092\u6253\u305f\u305b\u308b\u540d\u624b\u3001\u901a\u79f0\u300c\u30b4\u30ed\u304f\u307e\u300d\u3055\u3093\u3089\u3057\u304f\u3001\u30b9\u30c8\u30e9\u30a4\u30af(S)\u3068\u30a4\u30f3\u30d7\u30ec\u30a4(X)\u304c\u5927\u5909\u76ee\u7acb\u3063\u3066\u3044\u307e\u3059.\n\n\u304c\u3001\u30ce\u30fc\u30ce\u30fc\u306e\u65e5\u306f\u5c11\u3057\u3070\u304b\u308a\u30dc\u30fc\u30eb(B)\u304c\u591a\u304b\u3063\u305f\u307f\u305f\u3044\u3067\u3059.\n\n\u306a\u304a\u3001\u30ce\u30fc\u30ce\u30fc\u5f8c\u306e\u8a66\u5408\u3060\u3051X\u3068B\u306e\u8272\u304c\u9006\u8ee2\u3057\u3066\u3044\u308b\u306e\u306f\u8b0e\u3067\u3059.\n\n### \u6295\u7403\u56de\u6bce\u306e\u7403\u901f\u30fb\u30dc\u30fc\u30eb\u56de\u8ee2\u6570\u306e\u5e73\u5747\n\n\u6b21\u306f\u6295\u7403\u56de\u6bce\u306e\u7403\u901f(\u4eca\u56de\u306f\u521d\u901f\u30c7\u30fc\u30bf\u3092\u4f7f\u7528)\u30fb\u30dc\u30fc\u30eb\u56de\u8ee2\u6570\u306e\u5e73\u5747\u3068\u63a8\u79fb\u3092\u898b\u3066\u307f\u307e\u3059.\n\n\u307e\u305a\u306f\u7403\u901f\u306e\u5e73\u5747\u304b\u3089.\n\n```py:hisashi_iwakuma.py\n# X:\u6295\u7403\u56de, Y:\u521d\u901f\u306e\u5e73\u5747\u306e\u9077\u79fb\u3092\u7403\u7a2e\u6bce\u306b\u53ef\u8996\u5316\naxarray = {day: None for day in iwakuma_pitch_data.keys()}\nf, (axarray) = plt.subplots(1, len(iwakuma_pitch_data.keys()), sharey=True, figsize=(24,6))\n\nfor i, day in enumerate(iwakuma_pitch_data.keys()):\n    axarray[i].set_title('Hisashi Iwakuma({day})'.format(day=day))\n    sns.pointplot(x=\"inning_number\", y=\"start_speed\", hue=\"pitch_type\", ax=axarray[i], data=iwakuma_pitch_data[day], dodge=True, palette=\"Set1\")\n```\n\n\u7d50\u679c\u306f\u3053\u3093\u306a\u611f\u3058\u306b.\n\n\u30ce\u30fc\u30ce\u30fc\u306e\u65e5\u306f\u305d\u308c\u306a\u308a\u306e\u7403\u901f\u304c\u51fa\u3066\u3044\u307e\u3059\u304c\u3001\u30ce\u30fc\u30ce\u30fc\u306e\u524d\u5f8c\u3068\u304f\u306b\u30ce\u30fc\u30ce\u30fc\u5f8c\u306f\u591a\u5c11\u7403\u901f\u304c\u843d\u3061\u3066\u3044\u308b\u611f\u3058\u304c\u3057\u307e\u3059.\n\n![iwakuma02.png](https://qiita-image-store.s3.amazonaws.com/0/54986/18af385a-39c2-11b1-643b-84b61a587b9d.png)\n\n\u7d9a\u3044\u3066\u30dc\u30fc\u30eb\u306e\u56de\u8ee2\u6570\u3082\u540c\u3058\u3088\u3046\u306b\u898b\u3066\u307f\u307e\u3059.\n\n\u30b3\u30fc\u30c9\u4e0a\u306fy\u8ef8\u304c\u5909\u308f\u308b\u3060\u3051\u3067\u3059.\n\n```py:hisashi_iwakuma.py\n# X:\u6295\u7403\u56de, Y:\u30dc\u30fc\u30eb\u56de\u8ee2\u6570(Spin Rate)\u306e\u5e73\u5747\u306e\u9077\u79fb\u3092\u7403\u7a2e\u6bce\u306b\u53ef\u8996\u5316\naxarray = {day: None for day in iwakuma_pitch_data.keys()}\nf, (axarray) = plt.subplots(1, len(iwakuma_pitch_data.keys()), sharey=True, figsize=(24,6))\n\nfor i, day in enumerate(iwakuma_pitch_data.keys()):\n    axarray[i].set_title('Hisashi Iwakuma({day})'.format(day=day))\n    sns.pointplot(x=\"inning_number\", y=\"spin_rate\", hue=\"pitch_type\", ax=axarray[i], data=iwakuma_pitch_data[day], dodge=True, palette=\"Set2\")\n```\n\n\u7d50\u679c\u306f\u3053\u3061\u3089.\n\n![iwakuma03.png](https://qiita-image-store.s3.amazonaws.com/0/54986/cadfaf23-34bf-a3c0-2523-577a7fdcfd55.png)\n\n\u7403\u7a2e\u6bce\u306b\u56de\u8ee2\u6570\u306e\u9055\u3044\u304c\u3042\u308b(\u307e\u3063\u3059\u3050\u7cfb\u306f\u56de\u8ee2\u3059\u308b\u3001\u30b9\u30e9\u30a4\u30c0\u30fc\u30fb\u30c1\u30a7\u30f3\u30b8\u30a2\u30c3\u30d7\u306f\u56de\u8ee2\u3057\u306a\u3044\uff09\u4ee5\u5916\u3001\u7d50\u679c\u306b\u3070\u3089\u3064\u304d\u304c\u3042\u308a\u307e\u3059\u306d.\n\n\u56de\u8ee2\u6570\u305d\u306e\u3082\u306e\u3092\u898b\u308b\u610f\u5473\u306f\u3042\u307e\u308a\u7121\u3044\u306e\u304b\u3082(\u3053\u306e\u8fba\u308a\u306f\u3061\u3087\u3063\u3068\u308f\u304b\u3093\u306a\u3044).\n\n### \u91ce\u6751\u30b9\u30b3\u30fc\u30d7\u98a8\u306b\u53ef\u8996\u5316\u3057\u3066\u307f\u308b\n\n\u6700\u5f8c\u306b\u3001\u30dc\u30fc\u30eb\u3092\u6295\u3052\u305f\u4f4d\u7f6e\u3092\u5143\u306b\u3001\u91ce\u6751\u30b9\u30b3\u30fc\u30d7\u98a8\u306e\u53ef\u8996\u5316\u3092\u3057\u3066\u307f\u307e\u3059.\n\n\u307e\u305a\u3001matplotlib\u306eplot\u306bmarker/label/color\u3092\u3064\u3051\u308b\u305f\u3081\u5b9a\u7fa9\u7528\u306e\u30af\u30e9\u30b9\u3092\u3061\u3087\u308d\u3063\u3068\u66f8\u304d\u8fbc\u307f\u307e\u3059.\n\n```py:pitchpx/const.py\n# -*- coding: utf-8 -*-\n\nclass PitchPxConst(object):\n\n\n    # \u7403\u7a2e\u306f\u3053\u306e\u30ea\u30f3\u30af\u3092\u53c2\u7167 http://pitchfx.texasleaguers.com/\n    PITCH_TYPES = {\n        'FA': 'Fastball',\n        'FF': 'four-seam Fastball',\n        'FT': 'two-seam Fastball',\n        'FC': 'Cut Fastball',\n        'FS': 'Split-finger Fastball',\n        'FO': 'Forkball',\n        'SI': 'Sinker',\n        'SL': 'Slider',\n        'CU': 'Curveball',\n        'KC': 'Knuckle Curve',\n        'EP': 'Ephuus',\n        'CH': 'Change-up',\n        'SC': 'Screwball',\n        'KN': 'Knuckleball',\n        'UN': 'Unknown',\n    }\n\n    # markers(matplotlib)\n    PITCH_TYPES_MARKERS = {\n        'FA': '.',\n        'FF': 'o',\n        'FT': ',',\n        'FC': 'p',\n        'FS': 'v',\n        'FO': 'v',\n        'SI': '>',\n        'SL': '<',\n        'CU': '+',\n        'KC': ',',\n        'EP': 'D',\n        'CH': 'o',\n        'SC': 'H',\n        'KN': '*',\n        'UN': 'x',\n    }\n\n    # colors(matplotlib)\n    PITCH_TYPES_COLORS = {\n        'FA': 'red',\n        'FF': 'red',\n        'FT': 'red',\n        'FC': 'red',\n        'FS': 'red',\n        'FO': 'blue',\n        'SI': 'red',\n        'SL': 'blue',\n        'CU': 'green',\n        'KC': 'yellow',\n        'EP': 'green',\n        'CH': 'green',\n        'SC': 'yellow',\n        'KN': 'white',\n        'UN': 'black',\n    }\n```\n\n\u3053\u306e\u30af\u30e9\u30b9\u3092\u8aad\u307f\u8fbc\u3093\u3067\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059.\n\n```py:hisashi_iwakuma.py\nfrom pitchpx.const import PitchPxConst\n\n# \u4e00\u8a66\u5408\u306e\u6295\u7403\u3092\u53ef\u8996\u5316(pz:\u9ad8\u3055, px:\u5e45)\naxarray = {day: None for day in iwakuma_pitch_data.keys()}\nf, (axarray) = plt.subplots(1, len(iwakuma_pitch_data.keys()), sharey=True, figsize=(24,6))\n\n# TODO \u30b9\u30c8\u30e9\u30a4\u30af\u30be\u30fc\u30f3\u3092\u63cf\u304d\u305f\u304b\u3063\u305f\u304c\u65ad\u5ff5(\u8ab0\u304b\u304a\u3057\u3048\u3066)\nfor i, day in enumerate(iwakuma_pitch_data.keys()):\n    axarray[i].set_title('Hisashi Iwakuma({day})'.format(day=day))\n    datasets = iwakuma_pitch_data[day]\n    for k, v in PitchPxConst.PITCH_TYPES.items():\n        ds = datasets.query('pitch_type==\"{type}\"'.format(type=k))\n        if ds.empty:\n            continue\n        ds.plot(\n            kind='scatter', \n            x='px', \n            y='pz', \n            label=PitchPxConst.PITCH_TYPES[k], \n            color=PitchPxConst.PITCH_TYPES_COLORS[k], \n            marker=PitchPxConst.PITCH_TYPES_MARKERS[k], \n            xlim=(-3.0, 3.0), \n            ylim=(-1.0, 6.0), \n            ax=axarray[i]\n        )\n\n```\n\n\u7d50\u679c\u306f\u3053\u3061\u3089\u3067\u3059.\n\n![iwakuma04.png](https://qiita-image-store.s3.amazonaws.com/0/54986/7c6d31b7-5091-aff9-0444-1f142d9e1be6.png)\n\n\u3046\u30fc\u3093...\u3053\u308c\u306f\u5bfe\u6226\u6253\u8005\u6bce\u306b\u53ef\u8996\u5316&\u30b9\u30c8\u30e9\u30a4\u30af\u30be\u30fc\u30f3\u304c\u7121\u3044\u3068\u898b\u96e3\u3044\u3067\u3059\u306d.\n\n## \u7d50\u8ad6\n\n* \u30ce\u30fc\u30ce\u30fc\u306e\u65e5\u306f\u7403\u901f\u304c\u51fa\u3066\u3044\u305f\u3001\u4ed6\u306e\u65e5\u3068\u50be\u5411\u304c\u5c11\u3057\u9055\u3046\n* \u4e00\u65b9\u3001\u30dc\u30fc\u30eb\u304c\u591a\u3081\u3067\u3084\u3084\u8352\u308c\u6c17\u5473\u3060\u3063\u305f\n* \u3067\u3082\u660e\u78ba\u306a\u9055\u3044\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\n    * \u5bfe\u6226\u6253\u8005\u3084\u30c1\u30fc\u30e0\u3082\u898b\u306a\u3044\u3068\u308f\u304b\u3089\u306a\u3044\n    * \u30db\u30fc\u30e0\u3068\u30a2\u30a6\u30a7\u30a4\u306e\u5dee\u306f\uff1f\n* matplotlib\u306e\u4f7f\u3044\u65b9\u3092\u3088\u3046\u3084\u3063\u3068\u899a\u3048\u3066\u304d\u305f\n* pandas\u3068seaborn\u7d20\u6674\u3089\u3057\u3044\uff01\n    * seaborn\u3042\u308c\u3070\u7dba\u9e97\u3067\u30ab\u30c3\u30b3\u30a4\u30a4\u53ef\u8996\u5316\u304c\u3067\u304d\u308b\u3093\u3060(^O^)\n", "tags": ["Python", "Jupyter", "seaborn", "baseball", "\u91ce\u7403"]}