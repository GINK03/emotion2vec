{"context": " More than 1 year has passed since last update.Light Table 0.7\uff1f\u304b\u3089User script\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u81ea\u4f5c\u3057\u306a\u304f\u3066\u3082\u81ea\u4f5c\u30b3\u30de\u30f3\u30c9\u3092\u4f5c\u3063\u3066\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nUndo selection\u30b3\u30de\u30f3\u30c9\n:editor.sublime.selectNextOccurrence\u30b3\u30de\u30f3\u30c9\u7b49\u3067\u9078\u629e\u3057\u3059\u304e\u305f\u7b87\u6240\u306eUndo\u3092\u3059\u308bUndo selection\u30b3\u30de\u30f3\u30c9\u3092\u4f5c\u308b\u306e\u306f\u7c21\u5358\u3067\u3059\u3002\n\nuser.cljs\n(ns lt.plugins.user\n  (:require [lt.objs.command :as cmd]\n            [lt.objs.editor :as ed]))\n\n(defn ->clj [x] (lt.util.cljs/js->clj x :keywordize-keys true))\n(defn ->js [x] (lt.util.cljs/clj->js x))\n(defn get-cm [] (ed/->cm-ed (lt.objs.editor.pool/last-active)))\n\n(cmd/command {:command :user.undo-selection\n              :desc \"User: Undo selection\"\n              :exec #(.undoSelection (get-cm))})\n\n\nCodeMirror\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u305d\u306e\u307e\u307e.undoSelection\u304c\u3042\u308a\u307e\u3059\u3002\n\nGo back to bracket\u30b3\u30de\u30f3\u30c9\n:editor.sublime.goToBracket\u30b3\u30de\u30f3\u30c9\u3067\u306f\u53f3\u306e\u307b\u3046\u306b\u3042\u308b\u304b\u3063\u3053\u306b\u79fb\u52d5\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u9006\u306e\u3001\u5de6\u306e\u307b\u3046\u306b\u79fb\u52d5\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3082\u307b\u3057\u3044\u306e\u3067\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\u203b:editor.sublime.goToBracket\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u88c5\u306e\u307b\u307c\u30b3\u30d4\u30fc\u3067\u3059\u3002\n\nuser.cljs\n(defn go-back-to-bracket [cm]\n  (.extendSelectionsBy cm #(if-let [prev (->clj (.scanForBracket cm (.-head %) -1))]\n                             (->js (update-in (:pos prev) [:ch] inc))\n                             (.-head %))))\n\n(cmd/command {:command :user.go-back-to-bracket\n              :desc \"User: Go back to bracket\"\n              :exec #(go-back-to-bracket (get-cm))})\n\n\n.scanForBracket\u3067\u524d\u306b\u3042\u308b\u304b\u3063\u3053\u306e\u4f4d\u7f6e\u3092\u691c\u7d22\u3057\u3066\u3001\u305d\u306e\u4f4d\u7f6e+1\u306e\u5024\u3092\u8fd4\u3059\u95a2\u6570\u3092.extendSelectionsBy\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u8907\u6570\u30ab\u30fc\u30bd\u30eb\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u306e\u304c\u3059\u3070\u3089\u3057\u3044\u3067\u3059\u3002\n\nDelete to bracket, Delete back to bracket\u30b3\u30de\u30f3\u30c9\n\u4f5c\u6210\u3057\u305f\u30b3\u30de\u30f3\u30c9\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u304b\u3063\u3053\u306e\u4f4d\u7f6e\u307e\u3067\u524a\u9664\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\nuser.cljs\n(defn delete-to-bracket [cm command]\n  (.setExtending cm true)\n  (cmd/exec! command)\n  (.replaceSelection cm \"\")\n  (.setExtending cm false))\n\n(cmd/command {:command :user.delete-to-bracket\n              :desc \"User: Delete to bracket\"\n              :exec #(delete-to-bracket (get-cm) :editor.sublime.goToBracket)})\n\n(cmd/command {:command :user.delete-back-to-bracket\n              :desc \"User: Delete back to bracket\"\n              :exec #(delete-to-bracket (get-cm) :user.go-back-to-bracket)})\n\n\n.setExtending\u306fShift\u30ad\u30fc\u3092\u62bc\u3057\u3066\u3044\u308b\u306e\u3068\u540c\u3058\u3088\u3046\u306a\u52b9\u679c\u3092\u6301\u3061\u307e\u3059\u3002\ncmd/exec!\u3092\u4f7f\u3046\u3068\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n.replaceSelection\u306f\u305d\u306e\u307e\u3093\u307e\u9078\u629e\u7b87\u6240\u306e\u7f6e\u63db\u3067\u3059\u3002\n\nkeymap\u306b\u8a2d\u5b9a\u3059\u308b\nkeymap\u3067\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30ad\u30fc\u3092\u8a2d\u5b9a\u3057\u3066\u4f7f\u3046\u3068\u4fbf\u5229\u3067\u3059\u3002\n\nuser.keymap\u629c\u7c8b\n [:editor \"ctrl-f12\" :user.undo-selection]\n [:editor \"ctrl-left\" :user.go-back-to-bracket]\n [:editor \"ctrl-shift-left\" :user.go-back-to-bracket]\n [:editor \"ctrl-del\" :user.delete-to-bracket]\n [:editor \"ctrl-backspace\" :user.delete-back-to-bracket]\n\n\n\n\u53c2\u8003\uff1aUser keymap\u5168\u4f53\n\nuser.keymap\n[\n [:editor.keys.hinting.active \"-enter\" :passthrough]\n\n ;; watch\n [:tabs \"-pmeta-w\" :passthrough]\n [:editor \"ctrl-w\" :editor.watch.watch-selection]\n [:editor \"ctrl-shift-w\" :editor.watch.remove-all]\n [:editor.clojure \"ctrl-e\" (:eval.custom \"(macroexpand-1 '__SELECTION__)\")]\n\n ;; edit\n [:editor \"ctrl-/\" :toggle-comment-selection]\n [:editor \"ctrl-i\" :smart-indent-selection]\n [:editor \"ins right\" :paredit.grow.right]\n [:editor \"ins left\" :paredit.grow.left]\n [:editor \"ctrl-del\" :user.delete-to-bracket]\n [:editor \"ctrl-backspace\" :user.delete-back-to-bracket]\n\n ;; move\n [:editor \"f3\" :find.next]\n [:editor \"shift-f3\" :find.prev]\n [:editor \"ctrl-right\" :editor.sublime.goToBracket]\n [:editor \"ctrl-left\" :user.go-back-to-bracket]\n\n ;; select\n [:editor \"f4\" :paredit.select.parent]\n [:editor \"f5\" :paredit.select.clear :editor.sublime.selectBetweenBrackets]\n [:editor \"f12\" :editor.sublime.selectNextOccurrence]\n [:editor \"ctrl-f12\" :user.undo-selection]\n [:editor \"ctrl-shift-right\" :editor.sublime.goToBracket]\n [:editor \"ctrl-shift-left\" :user.go-back-to-bracket]\n\n ;; window\n [:app \"ctrl-q\" :workspace.show]\n [:app \"ctrl-pageup\" :window.zoom-in]\n [:app \"ctrl-pagedown\" :window.zoom-out]\n [:app \"f11\" :window.fullscreen]\n [:app \"esc\" :find.clear :find.hide :eval.cancel-all!]\n [:app \"ctrl-shift-c\" :toggle-console :clear-console]\n\n]\n\n\nLight Table 0.7\uff1f\u304b\u3089User script\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u81ea\u4f5c\u3057\u306a\u304f\u3066\u3082\u81ea\u4f5c\u30b3\u30de\u30f3\u30c9\u3092\u4f5c\u3063\u3066\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n# Undo selection\u30b3\u30de\u30f3\u30c9\n`:editor.sublime.selectNextOccurrence`\u30b3\u30de\u30f3\u30c9\u7b49\u3067\u9078\u629e\u3057\u3059\u304e\u305f\u7b87\u6240\u306eUndo\u3092\u3059\u308bUndo selection\u30b3\u30de\u30f3\u30c9\u3092\u4f5c\u308b\u306e\u306f\u7c21\u5358\u3067\u3059\u3002\n\n```user.cljs\n(ns lt.plugins.user\n  (:require [lt.objs.command :as cmd]\n            [lt.objs.editor :as ed]))\n\n(defn ->clj [x] (lt.util.cljs/js->clj x :keywordize-keys true))\n(defn ->js [x] (lt.util.cljs/clj->js x))\n(defn get-cm [] (ed/->cm-ed (lt.objs.editor.pool/last-active)))\n\n(cmd/command {:command :user.undo-selection\n              :desc \"User: Undo selection\"\n              :exec #(.undoSelection (get-cm))})\n```\n\nCodeMirror\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u305d\u306e\u307e\u307e`.undoSelection`\u304c\u3042\u308a\u307e\u3059\u3002\n\n# Go back to bracket\u30b3\u30de\u30f3\u30c9\n\n`:editor.sublime.goToBracket`\u30b3\u30de\u30f3\u30c9\u3067\u306f\u53f3\u306e\u307b\u3046\u306b\u3042\u308b\u304b\u3063\u3053\u306b\u79fb\u52d5\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u9006\u306e\u3001\u5de6\u306e\u307b\u3046\u306b\u79fb\u52d5\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3082\u307b\u3057\u3044\u306e\u3067\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\u203b`:editor.sublime.goToBracket`\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u88c5\u306e\u307b\u307c\u30b3\u30d4\u30fc\u3067\u3059\u3002\n\n```user.cljs\n(defn go-back-to-bracket [cm]\n  (.extendSelectionsBy cm #(if-let [prev (->clj (.scanForBracket cm (.-head %) -1))]\n                             (->js (update-in (:pos prev) [:ch] inc))\n                             (.-head %))))\n\n(cmd/command {:command :user.go-back-to-bracket\n              :desc \"User: Go back to bracket\"\n              :exec #(go-back-to-bracket (get-cm))})\n```\n\n`.scanForBracket`\u3067\u524d\u306b\u3042\u308b\u304b\u3063\u3053\u306e\u4f4d\u7f6e\u3092\u691c\u7d22\u3057\u3066\u3001\u305d\u306e\u4f4d\u7f6e+1\u306e\u5024\u3092\u8fd4\u3059\u95a2\u6570\u3092`.extendSelectionsBy`\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u8907\u6570\u30ab\u30fc\u30bd\u30eb\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u306e\u304c\u3059\u3070\u3089\u3057\u3044\u3067\u3059\u3002\n\n# Delete to bracket, Delete back to bracket\u30b3\u30de\u30f3\u30c9\n\n\u4f5c\u6210\u3057\u305f\u30b3\u30de\u30f3\u30c9\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u304b\u3063\u3053\u306e\u4f4d\u7f6e\u307e\u3067\u524a\u9664\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n```user.cljs\n(defn delete-to-bracket [cm command]\n  (.setExtending cm true)\n  (cmd/exec! command)\n  (.replaceSelection cm \"\")\n  (.setExtending cm false))\n\n(cmd/command {:command :user.delete-to-bracket\n              :desc \"User: Delete to bracket\"\n              :exec #(delete-to-bracket (get-cm) :editor.sublime.goToBracket)})\n\n(cmd/command {:command :user.delete-back-to-bracket\n              :desc \"User: Delete back to bracket\"\n              :exec #(delete-to-bracket (get-cm) :user.go-back-to-bracket)})\n```\n\n`.setExtending`\u306fShift\u30ad\u30fc\u3092\u62bc\u3057\u3066\u3044\u308b\u306e\u3068\u540c\u3058\u3088\u3046\u306a\u52b9\u679c\u3092\u6301\u3061\u307e\u3059\u3002\n`cmd/exec!`\u3092\u4f7f\u3046\u3068\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n`.replaceSelection`\u306f\u305d\u306e\u307e\u3093\u307e\u9078\u629e\u7b87\u6240\u306e\u7f6e\u63db\u3067\u3059\u3002\n\n# keymap\u306b\u8a2d\u5b9a\u3059\u308b\n\nkeymap\u3067\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30ad\u30fc\u3092\u8a2d\u5b9a\u3057\u3066\u4f7f\u3046\u3068\u4fbf\u5229\u3067\u3059\u3002\n\n```clj:user.keymap\u629c\u7c8b\n [:editor \"ctrl-f12\" :user.undo-selection]\n [:editor \"ctrl-left\" :user.go-back-to-bracket]\n [:editor \"ctrl-shift-left\" :user.go-back-to-bracket]\n [:editor \"ctrl-del\" :user.delete-to-bracket]\n [:editor \"ctrl-backspace\" :user.delete-back-to-bracket]\n```\n\n# \u53c2\u8003\uff1aUser keymap\u5168\u4f53\n\n```clj:user.keymap\n[\n [:editor.keys.hinting.active \"-enter\" :passthrough]\n\n ;; watch\n [:tabs \"-pmeta-w\" :passthrough]\n [:editor \"ctrl-w\" :editor.watch.watch-selection]\n [:editor \"ctrl-shift-w\" :editor.watch.remove-all]\n [:editor.clojure \"ctrl-e\" (:eval.custom \"(macroexpand-1 '__SELECTION__)\")]\n\n ;; edit\n [:editor \"ctrl-/\" :toggle-comment-selection]\n [:editor \"ctrl-i\" :smart-indent-selection]\n [:editor \"ins right\" :paredit.grow.right]\n [:editor \"ins left\" :paredit.grow.left]\n [:editor \"ctrl-del\" :user.delete-to-bracket]\n [:editor \"ctrl-backspace\" :user.delete-back-to-bracket]\n\n ;; move\n [:editor \"f3\" :find.next]\n [:editor \"shift-f3\" :find.prev]\n [:editor \"ctrl-right\" :editor.sublime.goToBracket]\n [:editor \"ctrl-left\" :user.go-back-to-bracket]\n\n ;; select\n [:editor \"f4\" :paredit.select.parent]\n [:editor \"f5\" :paredit.select.clear :editor.sublime.selectBetweenBrackets]\n [:editor \"f12\" :editor.sublime.selectNextOccurrence]\n [:editor \"ctrl-f12\" :user.undo-selection]\n [:editor \"ctrl-shift-right\" :editor.sublime.goToBracket]\n [:editor \"ctrl-shift-left\" :user.go-back-to-bracket]\n\n ;; window\n [:app \"ctrl-q\" :workspace.show]\n [:app \"ctrl-pageup\" :window.zoom-in]\n [:app \"ctrl-pagedown\" :window.zoom-out]\n [:app \"f11\" :window.fullscreen]\n [:app \"esc\" :find.clear :find.hide :eval.cancel-all!]\n [:app \"ctrl-shift-c\" :toggle-console :clear-console]\n\n]\n```\n", "tags": ["LightTable0.7.2", "Clojure", "ClojureScript"]}