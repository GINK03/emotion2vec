{"context": "Angular2\u306e\u52c9\u5f37\u4e2d\u3002\n\u307e\u305a\u306f\u30d3\u30eb\u30c9\u74b0\u5883\u3092\u6574\u3048\u3064\u3064Angular2\u306e\u4ed5\u7d44\u307f\u3092\u7406\u89e3\u3057\u3066\u307f\u307e\u3059\u3002\n\u6700\u521d\u306b\u4e00\u8a00\u3001\u3081\u3063\u3061\u3083\u82e6\u52b4\u3057\u307e\u3057\u305f\u3002\u30de\u30b8\u3067\u3002\n\u30b5\u30e9\u3063\u3068\u7c21\u5358\u306b\u66f8\u3044\u3066\u307e\u3059\u304c\u3001\u307b\u307c\u534a\u65e5\u683c\u95d8\u3057\u307e\u3057\u305f\uff08\u82e6\u7b11\uff09\n\u9593\u9055\u3063\u3066\u3044\u308b\u70b9\u7b49\u3042\u308c\u3070\u3054\u6307\u6458\u3044\u305f\u3060\u3051\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\u3044\u308d\u3044\u308d\u59a5\u5354\u3057\u305f\u90e8\u5206\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u5341\u5206\u5b9f\u7528\u7684\u306b\u306a\u3063\u305f\u306e\u3067\u4eca\u5f8c\u306f\u3053\u308c\u3067\u9032\u3081\u307e\u3059\u3002\n\n\u4eca\u56de\u3084\u308a\u305f\u3044\u3053\u3068\n\nAngular2\u306e\u30bd\u30fc\u30b9\u306fTypeScript\u3067\u66f8\u304d\u305f\u3044\nsrc\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb(.js\u3084.map)\u3092\u5c55\u958b\u3057\u305f\u304f\u306a\u3044\nstyle\u306e\u6307\u5b9a\u3067\u306fsass\u3068postcss\u3092\u4f7f\u3044\u305f\u3044\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306etemplate\u3084style\u306f\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u3067\u4fdd\u5b58\u3057\u305f\u3044\n4\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3059\u3079\u3066\u30d3\u30eb\u30c9\u6642\u306b\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3057\u305f\u3044\n\nhtml, css, js \u3059\u3079\u3066\u6700\u5c0f\u5316\uff08minity\uff09\u3057\u305f\u3044\ntemplate\u306fejs\u3082\u5229\u7528\u53ef\u80fd\u306b\u3057\u305f\u3044\n\u751f\u6210\u3055\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u306bhash\u5024\u3092\u542b\u307f\u3001index.html\u3067\u53d6\u308a\u8fbc\u307f\u305f\u3044\n\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30ea\u30ea\u30fc\u30b9\u7528\u30bd\u30fc\u30b9\u3092\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u3067\u52d5\u4f5c\u3055\u305b\u305f\u3044\n\u958b\u767a\u6642\u306fwebpack\u5316\u305b\u305a\u306b\u3001\u7de8\u96c6\u5f8c\u6570\u79d2\u4ee5\u5185\u306b\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\n\n10. \u958b\u767a\u6642\u306fwebpack\u5316\u305b\u305a\u306b\u3001\u7de8\u96c6\u5f8c\u6570\u79d2\u4ee5\u5185\u306b\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3001\u306f\u6b21\u56de\u306e\u8a18\u4e8b\u3067\u66f8\u304d\u307e\u3059\u3002\n\n\u4f8b\uff1a\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u3067\u8868\u73fe\n\ngit\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u7ba1\u7406\u3059\u308b\u7528\u306e\u30bd\u30fc\u30b9\uff08\u30d3\u30eb\u30c9\u524d\uff09\n\nsrc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nnode_modules/\n  \u2514\u2500 ... \u5168\u3066\u306enode\u30e9\u30a4\u30d6\u30e9\u30ea\nsrc/\n  \u251c\u2500 app/\n  \u2502    \u251c\u2500 bank-table\n  \u2502    \u2502   \u251c\u2500 bank-table.component.html\n  \u2502    \u2502   \u251c\u2500 bank-table.component.sass  -- \u8a72\u5f53\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u5c02\u7528\u306estyle\u60c5\u5831\n  \u2502    \u2502   \u2514\u2500 bank-table.component.ts    -- html\u3068css(.sass\u3067\u306f\u306a\u3044\uff09\u3092\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u8aad\u8fbc\u3057\u3066\u3044\u308b\n  \u2502    \u2502\n  \u2502    \u251c\u2500 _setting.sass    -- \u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u5171\u901a\u5229\u7528\u3059\u308b\u3088\u3046\u306asass\u306e\u5909\u6570\u3092\u683c\u7d0d\n  \u2502    \u251c\u2500 app.component.ts\n  \u2502    \u251c\u2500 app.module.ts\n  \u2502    \u2514\u2500 main.ts\n  \u2502\n  \u251c\u2500 css/\n  \u2502    \u251c\u2500 _reset.sass\n  \u2502    \u251c\u2500 _base.sass\n  \u2502    \u2514\u2500 common.sass      -- _reset.sass\u3068_base.sass\u3092import\u3057\u3066\u3044\u308b\u5171\u901astyle\u60c5\u5831\u3002\n  \u2502\n  \u251c\u2500 index.ejs             -- \u6b21\u56de\u306e\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u7528\u306e\u5206\u5c90\u7b49\u304c\u5fc5\u8981\u306a\u305f\u3081ejs\u3067\u8a18\u8ff0\n  \u2514\u2500 systemjs.config.js    -- webpack\u3059\u308b\u5834\u5408\u306f\u4e0d\u8981\u3002\u6b21\u56de\u306e\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u6642\u3067\u5229\u7528\u3059\u308b\u3002\n\n\n\n\u30ea\u30ea\u30fc\u30b9\u3092\u3059\u308b\u7528\u306e\u30bd\u30fc\u30b9\uff08\u30d3\u30eb\u30c9\u5f8c\uff09\n\ndist\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\ndist/\n  \u251c\u2500 css/\n  \u2502    \u2514\u2500 common.css\n  \u251c\u2500 js/\n  \u2502    \u251c\u2500 main.bundle.6114f73f73ce49e6cfef.js      -- \u30ad\u30e3\u30c3\u30b7\u30e5\u5bfe\u7b56\u3067\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u542b\u3080\n  \u2502    \u2514\u2500 main.bundle.6114f73f73ce49e6cfef.js.map  -- map\u60c5\u5831\u3002(html\u304b\u3089\u306f\u8aad\u307f\u8fbc\u307e\u306a\u3044)\n  \u2502\n  \u2514\u2500 index.html\n\n\napp\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3059\u3079\u3066bundle\u7528js(main.bunlde.*.js)\u306b\u3072\u3068\u307e\u3068\u3081\u306b\u306a\u308a\u307e\u3059\u3002\nnode_modules\u5185\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u3001\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u306f\u5168\u90e8\u3072\u3068\u307e\u3068\u3081\u306b\u3059\u308b\u305f\u3081\u5fc5\u8981\u3068\u3057\u307e\u305b\u3093\u3002\n\u203b\u8aad\u307f\u8fbc\u3080\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5897\u3048\u3059\u304e\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u304c1M\u3092\u8d85\u3048\u3066\u304f\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u306e\u6642\u307e\u305f\u8003\u3048\u307e\u3059()\n\n\u88dc\u8db3\nangular-cli\u3067\u306e\u69cb\u7bc9\u3060\u3068\u4e00\u767a\u3067\u884c\u3048\u305d\u3046\u3067\u3057\u305f\u304c\u3001Windows10 + node.js\u3060\u3068\u30d0\u30b0\u304c\u3042\u3063\u305f\u305f\u3081\u898b\u9001\u308a\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001gulp\u3067\u884c\u3063\u3066\u3044\u305f\u65b9\u304c\u5f8c\u3005\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3084\u3059\u3044\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308agulp\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n=> \u203bWindows10\u3067\u306e\u4e0d\u5177\u5408\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\uff08\u6700\u65b0\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u898b\u308b\u306bnode.js v7.2.0\u3067\u76f4\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\uff09\n\n\u524d\u63d0\u6761\u4ef6\n\u904e\u53bb\u306e\u8a18\u4e8b\u300cAngular2\u3067Hello world\uff01\u300d\u3067\u69cb\u7bc9\u3057\u305f\u74b0\u5883\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u74b0\u5883\u3092\u518d\u63b2\nMicrosoft Surface Pro4 (i5 2.4GHz, Mem 4GB)\nOS:Windows 10 Pro\nnode.js v7.1.9\nnpm v3.10.9\n\n\u4eca\u56dedevDependencies\u3068\u3057\u3066\u8ffd\u52a0\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u89a7\n\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\n\u7528\u9014\n\u30b3\u30de\u30f3\u30c9\n\n\n\n\ngulp-ejs\n\u958b\u767a\u7528\u3068\u30ea\u30ea\u30fc\u30b9\u7528\u3067html\u306e\u8a18\u8ff0\u304c\u7570\u306a\u308b\u7b87\u6240\u306e\u5206\u5c90\u3092gulp\u304b\u3089\u6ce8\u5165\u3059\u308b\u305f\u3081\u306b\u5229\u7528\nnpm i gulp-ejs --save-dev\n\n\ngulp-inline-ng2-template\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5916\u90e8html\u3068css\u3092\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3059\u308b\u305f\u3081\u306b\u5229\u7528\nnpm i gulp-inline-ng2-template --save-dev\n\n\ngulp-minify-css\ncss\u306e\u6700\u5c0f\u5316\u306b\u5229\u7528\nnpm i gulp-minify-css --save-dev\n\n\ngulp-minify-html\nhtml\u306e\u6700\u5c0f\u5316\u306b\u5229\u7528\nnpm i gulp-minify-html --save-dev\n\n\ngulp-plumber\nts\u3084ejs\u306e\u30d3\u30eb\u30c9\u5931\u6557\u3067gulp\u306ewatch\u304c\u505c\u6b62\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u5229\u7528\nnpm i gulp-plumber --save-dev\n\n\n\nnpm install --save-dev gulp-plumber\n\n\n\ngulp-postcss\nFuture CSS syntax\u3092\u4f7f\u3044\u305f\u3044\u30ef\u30b1\u3067\u306f\u306a\u304f\u3001\u30d6\u30e9\u30a6\u30b6\u4f9d\u5b58\u306eprefix\u81ea\u52d5\u4ed8\u4e0e\u304c\u76ee\u7684\nnpm i gulp-postcss --save-dev\n\n\ngulp-sass\nstyle\u306e\u7ba1\u7406\u306fsass\u3067\u7d71\u4e00\u3057\u305f\u3044\u305f\u3081\nnpm i gulp-sass --save-dev\n\n\ngulp-sourcemaps\nmap\u30d5\u30a1\u30a4\u30eb\u751f\u6210\u7528\nnpm i gulp-sourcemaps --save-dev\n\n\ngulp-symlink\n\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u6642\u306bnode_modules\u3078\u306e\u30b7\u30e0\u30ea\u30f3\u30af\u3092\u5f35\u308b\u305f\u3081\u3002\u203b\u6b21\u56de\u306e\u8a18\u4e8b\u3067\u5229\u7528\nnpm i gulp-symlink --save-dev\n\n\ngulp-typescript\ntypescript\u3092commonjs\u306b\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\nnpm i gulp-typescript --save-dev\n\n\ngulp-webpack\n\u4eca\u56de\u306e\u4e3b\u5f79\u3002\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u30921\u3064\u306b\u3059\u308b\u305f\u3081\nnpm i gulp-webpack --save-dev\n\n\ngulp-webserver\n\u30d3\u30eb\u30c9\u5f8c\u3059\u3050\u306b\u30ed\u30fc\u30ab\u30eb\u3067\u78ba\u8a8d\u3092\u3059\u308b\u305f\u3081\nnpm i gulp-webserver --save-dev\n\n\npostcss-cssnext\npostcss\u3067\u5229\u7528\u3059\u308b\u305f\u3081\nnpm i postcss-cssnext --save-dev\n\n\nrun-sequence\ngulp\u306etask\u306e\u76f4\u5217\u5b9f\u884c\u3092\u884c\u3046\u305f\u3081\nnpm i run-sequence --save-dev\n\n\nts-loader\nwebpack\u3067typescript\u3092\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306b\u5229\u7528\nnpm i ts-loader --save-dev\n\n\n\n\n\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb\n\npackage.json\n\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3059\u3079\u3066devDependencies\u306b\u8a18\u8ff0\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u306epackage.json\u3092\u30b3\u30d4\u30fc\u3057\u3066npm install\u3059\u308c\u3070\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u5168\u3066\u63c3\u3044\u307e\u3059\u3002\nnmp\u30b3\u30de\u30f3\u30c9\u3067\u306e\u5b9f\u884c\u306f\u884c\u308f\u306a\u3044\u305f\u3081\u3001scripts\u90e8\u5206\u306f\u7a7a\u306b\u3057\u3066\u307e\u3059\u3002\n\npackage.json\n{\n  \"name\": \"angular-webpack-sample\",\n  \"version\": \"1.0.0\",\n  \"licenses\": [\n    {\n      \"type\": \"MIT\",\n      \"url\": \"https://github.com/angular/angular.io/blob/master/LICENSE\"\n    }\n  ],\n  \"dependencies\": {\n    \"@angular/common\": \"^2.1.2\",\n    \"@angular/compiler\": \"^2.1.2\",\n    \"@angular/core\": \"^2.1.2\",\n    \"@angular/forms\": \"~2.1.1\",\n    \"@angular/http\": \"~2.1.1\",\n    \"@angular/platform-browser\": \"^2.1.2\",\n    \"@angular/platform-browser-dynamic\": \"^2.1.2\",\n    \"@angular/router\": \"~3.1.1\",\n    \"@angular/upgrade\": \"~2.1.1\",\n    \"angular-in-memory-web-api\": \"~0.1.13\",\n    \"core-js\": \"^2.4.1\",\n    \"reflect-metadata\": \"^0.1.8\",\n    \"rxjs\": \"^5.0.0-beta.12\",\n    \"systemjs\": \"0.19.39\",\n    \"zone.js\": \"^0.6.26\"\n  },\n  \"devDependencies\": {\n    \"@types/core-js\": \"^0.9.34\",\n    \"@types/node\": \"^6.0.45\",\n    \"concurrently\": \"^3.0.0\",\n    \"core-js\": \"^2.4.1\",\n    \"del\": \"^2.2.2\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-ejs\": \"^2.2.1\",\n    \"gulp-inline-ng2-template\": \"^4.0.0\",\n    \"gulp-minify-css\": \"^1.2.4\",\n    \"gulp-minify-html\": \"^1.0.6\",\n    \"gulp-plumber\": \"^1.1.0\",\n    \"gulp-postcss\": \"^6.2.0\",\n    \"gulp-sass\": \"^2.3.2\",\n    \"gulp-sourcemaps\": \"^2.2.0\",\n    \"gulp-symlink\": \"^2.1.4\",\n    \"gulp-typescript\": \"^3.1.3\",\n    \"gulp-webpack\": \"^1.5.0\",\n    \"gulp-webserver\": \"^0.9.1\",\n    \"postcss-cssnext\": \"^2.8.0\",\n    \"run-sequence\": \"^1.2.2\",\n    \"rxjs\": \"^5.0.0-rc.4\",\n    \"ts-loader\": \"^1.2.2\",\n    \"typescript\": \"^2.0.3\",\n    \"zone.js\": \"^0.6.26\"\n  }\n}\n\n\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u5b9f\u884c\nnpm install\n\n\n\ntsconfig.json\nTypeScript\u306e\u30d5\u30a1\u30a4\u30eb\u3092js\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\u3059\u308b\u969b\u306etsc\u30b3\u30de\u30f3\u30c9\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n\u57fa\u672c\u7684\u306bgulp\u5074\u304b\u3089\u5b9f\u884c\u3059\u308b\u306e\u3067outDir\u306f\u3069\u3053\u3067\u3082\u3044\u3044\u3067\u3059\u3002\n\ntsconfig.json\n{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"moduleResolution\": \"node\",\n        \"outDir\": \"dest/\",\n        \"sourceMap\": true,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"removeComments\": false,\n        \"noImplicitAny\": true\n    },\n    \"include\": [\n        \"src/**/*\"\n    ],\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n\n\n\nwebpack.config.js\n\u4eca\u56de\u306e\u6c5a\u70b9\u305d\u306e1\u3002entry\u30dd\u30a4\u30f3\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u304c./src\u3067\u306f\u306a\u304f./tmp\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u8a73\u7d30\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u304c\u3001\u7406\u7531\u3068\u3057\u3066\u306finline-ng2-template\u3067\u300c\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u306e\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\uff08\u76ee\u76844\u30685)\u300d\u304c\u884c\u308f\u308c\u305fts\u30d5\u30a1\u30a4\u30eb\u304c./tmp\u306b\u5c55\u958b\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\njs\u3092Uglify\u306b\u3088\u3063\u3066\u5727\u7e2e\u30fb\u6700\u9069\u5316\u884c\u3046\u305f\u3081\u306bplugin\u306e\u6307\u5b9a\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001node_modules\u5185\u306e\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3082bundle\u3059\u308b\u305f\u3081\u306b\u3001resolve\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\nwebpack.config.js\nconst webpack = require(\"webpack\");\n\nmodule.exports = {\n    entry: {\n        main: './tmp/app/main.ts'\n    },\n    output: {\n        filename: '[name].bundle.[hash].js'\n    },\n    devtool: 'source-map',\n    plugins: [\n        new webpack.optimize.UglifyJsPlugin()\n    ],\n    resolve: {\n        root: ['./node_modules'],\n        extensions: ['', '.webpack.js', '.web.js', '.ts',  '.js']\n    },\n    module: {\n        loaders: [\n            { test: /\\.ts$/, loader: 'ts-loader' },\n        ]\n    }\n};\n\n\n\ngulpconfig.json\n\u308f\u3056\u308f\u3056\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u5316\u3059\u308b\u8a18\u8ff0\u91cf\u3067\u3082\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30d1\u30b9\u60c5\u5831\u306a\u306e\u3067\u4e00\u5fdc\u5916\u51fa\u3057\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u203blocalDir\u306f\u6b21\u56de\u306e\u8a18\u4e8b\u3067\u5229\u7528\u3057\u307e\u3059\n\ngulpconfig.json\n{\n  \"srcDir\": \"./src\",\n  \"localDir\": \"./local\",\n  \"inlineDir\": \"./tmp\",\n  \"distDir\": \"./dist\"\n}\n\n\n\ngulpfile.js\n\u4eca\u56de\u306e\u4e3b\u5f79\u3067\u3059\u3002\n\u4eca\u56de\u306e\u6c5a\u70b9\u305d\u306e2\u3001sass\u306ecss\u5316\u306fsrc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u3067\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\u7406\u60f3\u306f\u300c\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u306f.sass\u3092\u8aad\u307f\u8fbc\u307f\u3001\u30d3\u30eb\u30c9\u6642\u306bcss\u5316&\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u304c\u30e1\u30e2\u30ea\u4e0a\u3067\u884c\u308f\u308c\u308b\u300d\u3067\u3057\u305f\u304c\u3001\u8a66\u884c\u932f\u8aa4\u3057\u305f\u3082\u306e\u306e\u3046\u307e\u304f\u3044\u304b\u305a\u8ae6\u3081\u3066\u4eca\u56de\u306e\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u8aad\u307f\u8fbc\u3093\u3067\u3044\u308bstyleUrls\u306fsass\u3067\u306f\u306a\u304f\u30d3\u30eb\u30c9\u5f8c\u306ecss\u3067\u3059\u3002\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n1. [build-clean] \u30af\u30ea\u30fc\u30cb\u30f3\u30b0\u51e6\u7406\u3002tmp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001dist\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u524a\u9664\u3002src\u914d\u4e0b\u306e.css\u306e\u524a\u9664\u3002\n2. [sass] sass\u306e\u30d3\u30eb\u30c9\u3002src\u914d\u4e0b\u306e.sass\u3092\u30d3\u30eb\u30c9\u3057\u3001\u540c\u968e\u5c64\u306b\u6700\u9069\u5316\u6e08\u307fcss\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\uff08\u6c5a\u70b92)\n3. [build-inline] \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\uff08template, style\uff09\u3092\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3057\u305f.ts\u30d5\u30a1\u30a4\u30eb\u3092./tmp\u4ee5\u4e0b\u306b\u751f\u6210\uff08\u6c5a\u70b91)\n4. [build-webpack] webpack\u5316\u306e\u5b9f\u65bd\u3002\u5bfe\u8c61\u304c./src\u3067\u306f\u306a\u304f3\u3067\u751f\u6210\u3055\u308c\u305f./tmp\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n5. [build-statics] 4\u3068\u4e26\u5217\u5b9f\u884c\u3002\u5171\u901acss\u3084js\u30d5\u30a1\u30a4\u30eb\u3092 ./dist\u914d\u4e0b\u306b\u540c\u3058\u968e\u5c64\u3067\u30b3\u30d4\u30fc\u3059\u308b\u3002\n6. [build-ejs] \u5f8c\u8ff0\u3057\u307e\u3059\u3002.ejs\u30d5\u30a1\u30a4\u30eb\u3092.html\u3068\u3057\u3066\u30d3\u30eb\u30c9\u3057\u3001./dist\u914d\u4e0b\u306b\u540c\u3058\u968e\u5c64\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n7. [build-server] ./dist\u3092root\u3068\u3057\u305fhttp\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3002\u30d6\u30e9\u30a6\u30b6\u3092\u81ea\u52d5\u3067\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n8. [build-after] \u30d3\u30eb\u30c9\u5f8c\u306e\u304a\u6383\u9664\u3002./tmp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u524a\u9664\u3092\u3057\u307e\u3059\u3002\n\ngulpfile.js\nvar gulp = require('gulp');\nvar typescript = require('gulp-typescript');\nvar plumber = require('gulp-plumber');\nvar runSequence = require('run-sequence');\nvar inlineNg2Template = require('gulp-inline-ng2-template');\nvar webpack = require('gulp-webpack');\nvar sourcemaps = require('gulp-sourcemaps');\nvar webserver = require('gulp-webserver');\nvar del = require('del');\nvar sass = require('gulp-sass');\nvar postcss = require('gulp-postcss');\nvar cssnext = require('postcss-cssnext');\nvar minifycss = require('gulp-minify-css');\nvar minifyhtml = require('gulp-minify-html');\nvar symlink = require('gulp-symlink'); //\u6b21\u56de\u3067\u5229\u7528\nvar ejs = require(\"gulp-ejs\");\nvar fs   = require('fs');\nvar path = require('path');\n\nvar conf = {\n  'gulp' : require('./gulpconfig'),\n  'webpack' : require('./webpack.config.js'),\n  'ts' : require('./tsconfig')\n}\n\ngulp.task('build-ejs', function () {\n  return gulp.src(conf.gulp.srcDir + '/**/*.ejs')\n    .pipe(\n      ejs({\n        type: \"build\",\n        bundleFileList: fs.readdirSync(conf.gulp.distDir + \"/js\")\n          .filter(function (file) {\n            // dist/js \u4ee5\u4e0b\u306e.js\u30d5\u30a1\u30a4\u30eb\u306f\u3059\u3079\u3066\u57cb\u3081\u8fbc\u3080\n            if( /\\.js$/.exec(file)){ return true; }\n          })\n        },\n        {\"ext\": \".html\"}\n    ))\n    .pipe(minifyhtml())\n    .pipe(gulp.dest(conf.gulp.distDir));\n});\n\ngulp.task('sass', function () {\n  var processors = [cssnext()];\n  return gulp.src(conf.gulp.srcDir + '/**/*.sass', {base: conf.gulp.srcDir})\n    .pipe(sass().on('error', sass.logError))\n    .pipe(postcss(processors))\n    .pipe(minifycss())\n    .pipe(gulp.dest(conf.gulp.srcDir))\n});\n\ngulp.task('build-inline', function () {\n  return gulp.src(conf.gulp.srcDir + '/**/*.ts', {base: conf.gulp.srcDir})\n    .pipe(inlineNg2Template({ UseRelativePaths: true, indent: 0, removeLineBreaks: true, base: conf.gulp.srcDir}))\n    .pipe(gulp.dest(conf.gulp.inlineDir));\n});\n\ngulp.task('build-clean', function (cb) {\n  return del([conf.gulp.inlineDir,\n      conf.gulp.distDir,\n      conf.gulp.srcDir + '/**/*.css',\n    ], cb);\n});\n\ngulp.task('build-after', function (cb) {\n  return del([conf.gulp.inlineDir,\n    conf.gulp.srcDir + '/**/*.css'], cb);\n});\n\ngulp.task('build-webpack', function () {\n  return gulp.src(conf.webpack.entry.main)\n    .pipe(webpack(conf.webpack))\n    .pipe(gulp.dest(conf.gulp.distDir + '/js'));\n});\n\ngulp.task('build-statics', function () {\n  return gulp.src(\n      [ conf.gulp.srcDir + '*.html',\n        conf.gulp.srcDir + '/css/*.css',\n        conf.gulp.srcDir + '/js/*.js' ],\n      { base: conf.gulp.srcDir }\n    ).pipe( gulp.dest(conf.gulp.distDir));\n});\n\ngulp.task('build-server', function () {\n  gulp.src(conf.gulp.distDir)\n    .pipe(webserver({\n        host: 'localhost',\n        port: 8100,\n        open: true,\n        livereload: false //\u81ea\u52d5\u30ea\u30ed\u30fc\u30c9\u306f\u3057\u306a\u3044\n    }));\n});\n\ngulp.task('build', function (cb) {\n  return runSequence(\n    'build-clean',\n    'sass',\n    'build-inline',\n    ['build-webpack', 'build-statics'],\n    'build-ejs', //ejs\u3067\u57cb\u3081\u8fbc\u3080js\u306e\u30d1\u30b9\u306fwebpack\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u306e\u3067\u3053\u306e\u4f4d\u7f6e\n    'build-server',\n    'build-after',\n    cb\n  );\n});\n\n\n\nindex.ejs\n\u524d\u8ff0\u306egulp\u3067\u306ebuid-ejs\u30bf\u30b9\u30af\u304c\u4f55\u3092\u3084\u3063\u3066\u3044\u308b\u306e\u304b\u610f\u5473\u4e0d\u660e\u3060\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u305d\u3061\u3089\u306e\u89e3\u8aac\u3067\u3059\u3002\n\u4eca\u56de\u306ewebpack\u7248\u3067\u306findex.html\u3067\u306f\u751f\u6210\u3055\u308c\u305fjs\u30921\u3064\u8aad\u307f\u8fbc\u3080\u3060\u3051\u3067\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u30d3\u30eb\u30c9\u306f30\u79d2\u4ee5\u4e0a\u304b\u304b\u308a\u307e\u3059\u3002\n\u958b\u767a\u6642\u306b\u30d3\u30eb\u30c9\u3067\u6bce\u56de30\u79d2\u3082\u304b\u304b\u3063\u3066\u3044\u305f\u3089\u4f7f\u3044\u7269\u306b\u306a\u308a\u307e\u305b\u3093\u3002\n\u305d\u306e\u305f\u3081\u3001\u958b\u767a\u6642\u306fbundle\u305b\u305a\u306b\u901a\u5e38\u306e\u30d3\u30eb\u30c9\u3092\u884c\u3046\u5f62\u3067\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306e\u69cb\u7bc9\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\uff08\u3053\u308c\u306f\u6b21\u56de\u306e\u8a18\u4e8b\u30cd\u30bf\uff09\n\u305f\u3060\u3057\u3001SystemJs\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001webpack\u5316\u3059\u308b\u5834\u5408\u3068\u3057\u306a\u3044\u5834\u5408\u3067\u591a\u5c11\u8d77\u52d5\u6642\u306e\u8a18\u8ff0\u3092\u5909\u3048\u3066\u3044\u307e\u3059\u3002\n\u203b\u3053\u308c\u306f\u7b46\u8005\u304c\u8a66\u884c\u932f\u8aa4\u3057\u3066\u8ae6\u3081\u305f\u3060\u3051\u306a\u306e\u3067\u3001\u4f55\u304b\u826f\u3044\u65b9\u6cd5\u304c\u3042\u308b\u306f\u305a\n\u305d\u306e\u7570\u306a\u308b\u8a18\u8ff0\u90e8\u5206\u3092ejs\u306e\u5206\u5c90\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067gulp\u5074\u304b\u3089\u5236\u5fa1\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\uff08type\u306e\u5024\u3092gulp\u304b\u3089\u6e21\u3057\u3066\u3044\u308b\uff09\n\u4eca\u56de\u5229\u7528\u3057\u3066\u3044\u308bindex.html\u306e\u5143\u306b\u306a\u308bejs\u30d5\u30a1\u30a4\u30eb\u304c\u4ee5\u4e0b\u3067\u3059\u3002\n\nindex.ejs\n<html>\n  <head>\n    <title>Angular QuickStart</title>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n    <% if (type == 'local') { %>\n      <script src=\"/node_modules/systemjs/dist/system.src.js\"></script>\n      <script src=\"/systemjs.config.js\"></script>\n      <script>\n          System.import('app').then(function(m){\n              m.init();\n          }).catch(function(err){\n              console.error(err);\n          });\n      </script>\n    <% } else { %>\n      <% for (var bundleFilePath of bundleFileList) { %>\n        <script src=\"/js/<%= bundleFilePath %>\"></script>\n      <% } %>\n    <% } %>\n\n    <link href=\"/css/common.css\" media=\"all\" rel=\"stylesheet\" />\n  </head>\n  <!-- 3. Display the application -->\n  <body>\n    <my-app>Loading...</my-app>\n    <my-app2>aa</my-app2>\n  </body>\n</html>\n\n\n\u4eee\u306bwebpack\u306e\u3053\u3068\u3092\u3060\u3051\u3092\u8003\u3048\u3001js\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u30cf\u30c3\u30b7\u30e5\u5316\u3082\u884c\u308f\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u672c\u6765\u306f\u4ee5\u4e0b\u3067\u3082OK\u3067\u3059\u3002\n\n\u6700\u5c0f\u69cb\u6210\u306eindex.html\n<html>\n  <head>\n    <title>Angular Webpack Sample</title>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <script src=\"/js/bundle.js\"></script>\n    <link href=\"/css/common.css\" media=\"all\" rel=\"stylesheet\" />\n  </head>\n  <body>\n    <my-app>Loading...</my-app>\n  </body>\n</html>\n\n\n\nmain.ts\n\u6700\u5f8c\u306b\u3082\u3046\u4e00\u3064\u3001main.ts\u306e\u8a18\u8ff0\u306b\u3082\u30b3\u30c4\u304c\u5fc5\u8981\u3067\u3059\u3002\nAngular2\u3067Hello world\uff01 \u306e\u969b\u306b\u306fcore-js\u7b49\u306e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u306fscript\u30bf\u30b0\u3067\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306f\u305d\u308c\u3089\u3082bundle\u3057\u305f\u3044\u305f\u3081import\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3055\u3089\u306b\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u3001bootstrapModule\u3078\u306e\u30bb\u30c3\u30c8\u306fDOMContentLoaded\u767a\u706b\u6642\u306b\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306b\u3088\u308aSystem.import\u3092\u3057\u306a\u304f\u3066\u3082Angular\u304c\u5b9f\u884c\u3055\u308c\u3066\u304f\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\nmain.ts\nimport \"core-js\";\nimport \"zone.js\";\nimport \"rxjs/Rx\";\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app.module';\nconst platform = platformBrowserDynamic();\n\nexport function init(): void {\n    platform.bootstrapModule(AppModule);\n}\ndocument.addEventListener(\"DOMContentLoaded\", init);\n\n\n\n\u5b9f\u884c\n\n\u3053\u3053\u307e\u3067\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002\n\uff08app\u4ee5\u4e0b\u306f\u81ea\u7531\u3067\u3059\u3002angular\u3068\u3057\u3066\u52d5\u3044\u3066\u3044\u308c\u3070\u306a\u3093\u3067\u3082OK\u3002\uff09\n\n\u6700\u7d42\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\u251c node_modules/\n\u2502   \u2514\u2500 ... \n\u251c src/\n\u2502   \u251c\u2500 app/\n\u2502   \u2502    \u251c\u2500 bank-table\n\u2502   \u2502    \u2502   \u251c\u2500 bank-table.component.html\n\u2502   \u2502    \u2502   \u251c\u2500 bank-table.component.sass\n\u2502   \u2502    \u2502   \u2514\u2500 bank-table.component.ts\n\u2502   \u2502    \u2502\n\u2502   \u2502    \u251c\u2500 _setting.sass\n\u2502   \u2502    \u251c\u2500 app.component.ts\n\u2502   \u2502    \u251c\u2500 app.module.ts\n\u2502   \u2502    \u2514\u2500 main.ts\n\u2502   \u2502\n\u2502   \u251c\u2500 css/\n\u2502   \u2502    \u251c\u2500 _reset.sass\n\u2502   \u2502    \u251c\u2500 _base.sass\n\u2502   \u2502    \u2514\u2500 common.sass\n\u2502   \u2502\n\u2502   \u251c\u2500 index.ejs\n\u2502   \u2514\u2500 systemjs.config.js\n\u2502\n\u251c gulpconfig.json\n\u251c gulpfile.js\n\u251c package.json\n\u251c tsconfig.json\n\u2514 webpack.config.js\n\n\n\n\u5b9f\u884c\n\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089gulp\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u5b9f\u884c\n>gulp build\n\n\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u30ed\u30b0\n[01:10:44] Using gulpfile  C:\\works\\angular\\qiita\\gulpfile.js\n[01:10:44] Starting 'build'...\n[01:10:44] Starting 'build-clean'...\n[01:10:44] Finished 'build-clean' after 26 ms\n[01:10:44] Starting 'sass'...\n[01:10:45] Finished 'sass' after 1.17 s\n[01:10:45] Starting 'build-inline'...\n[01:10:45] Finished 'build-inline' after 392 ms\n[01:10:45] Starting 'build-webpack'...\n[01:10:46] Starting 'build-statics'...\nts-loader: Using typescript@2.0.10 and C:\\works\\angular\\qiita\\tsconfig.json\n[01:10:50] Finished 'build-statics' after 4.9 s\n[01:11:13] Version: webpack 1.13.3\n                                  Asset     Size  Chunks             Chunk Names\n    main.bundle.3d13a2d7934cdf2b279e.js   881 kB       0  [emitted]  main\nmain.bundle.3d13a2d7934cdf2b279e.js.map  5.79 MB       0  [emitted]  main\n\n\uff5ewebpack\u3067\u8272\u3005warning\u304c\u51fa\u307e\u3059\u304c\u7121\u8996\uff5e\n\n[01:11:14] Finished 'build-webpack' after 28 s\n[01:11:14] Starting 'build-ejs'...\n[01:11:14] Finished 'build-ejs' after 40 ms\n[01:11:14] Starting 'build-server'...\n[01:11:14] Webserver started at http://localhost:8100\n[01:11:14] Finished 'build-server' after 16 ms\n[01:11:14] Starting 'build-after'...\n[01:11:14] Finished 'build-after' after 50 ms\n[01:11:14] Finished 'build' after 30 s\n\n\n\u73fe\u72b6\u3067\u30d3\u30eb\u30c9\u6642\u959330\u79d2\u3082\u304b\u304b\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u80a5\u5927\u5316\u3059\u308c\u30703\uff5e5\u5206\u7a0b\u5ea6\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\u305d\u308c\u3088\u308a\u3082\u554f\u984c\u306f\u3001\u3059\u3067\u306b\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u304c881KB\u3082\u3042\u308b\u3053\u3068\u3067\u3059\u306d\u7b11\n\u3053\u308c\u306f\u4eca\u5f8c\u306e\u72b6\u6cc1\u306b\u5408\u308f\u305b\u3066\u3088\u308a\u3088\u3044\u65b9\u6cd5\u3092\u63a2\u3057\u3066\u3044\u304f\u4e88\u5b9a\u3067\u3059\u3002\n\u307e\u3042gulp\u306a\u306e\u3067\u305d\u306e\u8fba\u308a\u306f\u81ea\u5206\u6b21\u7b2c\u3001\u3067\u3059\u306d\u3002\n\u3067\u306f\u3001\u660e\u65e5\u306f\u300cAngular2\u958b\u767a\u3092TypeScript+Sass+ejs\u3067\u884c\u3046 & gulp\u3067src\u3068\u5225\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u69cb\u7bc9\u300d\u3092\u66f4\u65b0\u4e88\u5b9a\u3067\u3059\u3002\uff08\u9577\u3044\u2026\uff09\n\uff5e\u3067\u306f\u307e\u305f\u6b21\u56de\uff5e\nAngular2\u306e\u52c9\u5f37\u4e2d\u3002\n\u307e\u305a\u306f\u30d3\u30eb\u30c9\u74b0\u5883\u3092\u6574\u3048\u3064\u3064Angular2\u306e\u4ed5\u7d44\u307f\u3092\u7406\u89e3\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u6700\u521d\u306b\u4e00\u8a00\u3001**\u3081\u3063\u3061\u3083\u82e6\u52b4\u3057\u307e\u3057\u305f\u3002\u30de\u30b8\u3067\u3002**\n\u30b5\u30e9\u3063\u3068\u7c21\u5358\u306b\u66f8\u3044\u3066\u307e\u3059\u304c\u3001\u307b\u307c\u534a\u65e5\u683c\u95d8\u3057\u307e\u3057\u305f\uff08\u82e6\u7b11\uff09\n\u9593\u9055\u3063\u3066\u3044\u308b\u70b9\u7b49\u3042\u308c\u3070\u3054\u6307\u6458\u3044\u305f\u3060\u3051\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n\u3044\u308d\u3044\u308d\u59a5\u5354\u3057\u305f\u90e8\u5206\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u5341\u5206\u5b9f\u7528\u7684\u306b\u306a\u3063\u305f\u306e\u3067\u4eca\u5f8c\u306f\u3053\u308c\u3067\u9032\u3081\u307e\u3059\u3002\n\n## \u4eca\u56de\u3084\u308a\u305f\u3044\u3053\u3068\n\n1. Angular2\u306e\u30bd\u30fc\u30b9\u306fTypeScript\u3067\u66f8\u304d\u305f\u3044\n2. src\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb(.js\u3084.map)\u3092\u5c55\u958b\u3057\u305f\u304f\u306a\u3044\n3. style\u306e\u6307\u5b9a\u3067\u306f**sass\u3068postcss\u3092\u4f7f\u3044\u305f\u3044**\n4. \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306etemplate\u3084style\u306f\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u3067\u4fdd\u5b58\u3057\u305f\u3044\n5. 4\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3059\u3079\u3066**\u30d3\u30eb\u30c9\u6642\u306b\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3057\u305f\u3044**\n6. html, css, js \u3059\u3079\u3066\u6700\u5c0f\u5316\uff08minity\uff09\u3057\u305f\u3044\n7. template\u306fejs\u3082\u5229\u7528\u53ef\u80fd\u306b\u3057\u305f\u3044\n8. \u751f\u6210\u3055\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u306bhash\u5024\u3092\u542b\u307f\u3001index.html\u3067\u53d6\u308a\u8fbc\u307f\u305f\u3044\n9. \u30d3\u30eb\u30c9\u3055\u308c\u305f\u30ea\u30ea\u30fc\u30b9\u7528\u30bd\u30fc\u30b9\u3092\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u3067\u52d5\u4f5c\u3055\u305b\u305f\u3044\n10. ~~\u958b\u767a\u6642\u306fwebpack\u5316\u305b\u305a\u306b\u3001\u7de8\u96c6\u5f8c\u6570\u79d2\u4ee5\u5185\u306b\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044~~\n\n<font color=\"Red\">10. \u958b\u767a\u6642\u306fwebpack\u5316\u305b\u305a\u306b\u3001\u7de8\u96c6\u5f8c\u6570\u79d2\u4ee5\u5185\u306b\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044</font>\u3001\u306f[\u6b21\u56de\u306e\u8a18\u4e8b](http://qiita.com/silverfox/items/ec649b2eb1d9e6b4e188)\u3067\u66f8\u304d\u307e\u3059\u3002\n\n### \u4f8b\uff1a\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u3067\u8868\u73fe\n\n#### git\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u7ba1\u7406\u3059\u308b\u7528\u306e\u30bd\u30fc\u30b9\uff08\u30d3\u30eb\u30c9\u524d\uff09\n```text:src\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nnode_modules/\n  \u2514\u2500 ... \u5168\u3066\u306enode\u30e9\u30a4\u30d6\u30e9\u30ea\nsrc/\n  \u251c\u2500 app/\n  \u2502    \u251c\u2500 bank-table\n  \u2502    \u2502   \u251c\u2500 bank-table.component.html\n  \u2502    \u2502   \u251c\u2500 bank-table.component.sass  -- \u8a72\u5f53\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u5c02\u7528\u306estyle\u60c5\u5831\n  \u2502    \u2502   \u2514\u2500 bank-table.component.ts    -- html\u3068css(.sass\u3067\u306f\u306a\u3044\uff09\u3092\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u8aad\u8fbc\u3057\u3066\u3044\u308b\n  \u2502    \u2502\n  \u2502    \u251c\u2500 _setting.sass    -- \u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u5171\u901a\u5229\u7528\u3059\u308b\u3088\u3046\u306asass\u306e\u5909\u6570\u3092\u683c\u7d0d\n  \u2502    \u251c\u2500 app.component.ts\n  \u2502    \u251c\u2500 app.module.ts\n  \u2502    \u2514\u2500 main.ts\n  \u2502\n  \u251c\u2500 css/\n  \u2502    \u251c\u2500 _reset.sass\n  \u2502    \u251c\u2500 _base.sass\n  \u2502    \u2514\u2500 common.sass      -- _reset.sass\u3068_base.sass\u3092import\u3057\u3066\u3044\u308b\u5171\u901astyle\u60c5\u5831\u3002\n  \u2502\n  \u251c\u2500 index.ejs             -- \u6b21\u56de\u306e\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u7528\u306e\u5206\u5c90\u7b49\u304c\u5fc5\u8981\u306a\u305f\u3081ejs\u3067\u8a18\u8ff0\n  \u2514\u2500 systemjs.config.js    -- webpack\u3059\u308b\u5834\u5408\u306f\u4e0d\u8981\u3002\u6b21\u56de\u306e\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u6642\u3067\u5229\u7528\u3059\u308b\u3002\n```\n\n#### \u30ea\u30ea\u30fc\u30b9\u3092\u3059\u308b\u7528\u306e\u30bd\u30fc\u30b9\uff08\u30d3\u30eb\u30c9\u5f8c\uff09\n```text:dist\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\ndist/\n  \u251c\u2500 css/\n  \u2502    \u2514\u2500 common.css\n  \u251c\u2500 js/\n  \u2502    \u251c\u2500 main.bundle.6114f73f73ce49e6cfef.js      -- \u30ad\u30e3\u30c3\u30b7\u30e5\u5bfe\u7b56\u3067\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u542b\u3080\n  \u2502    \u2514\u2500 main.bundle.6114f73f73ce49e6cfef.js.map  -- map\u60c5\u5831\u3002(html\u304b\u3089\u306f\u8aad\u307f\u8fbc\u307e\u306a\u3044)\n  \u2502\n  \u2514\u2500 index.html\n```\n\n**app\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3059\u3079\u3066bundle\u7528js(main.bunlde.*.js)\u306b\u3072\u3068\u307e\u3068\u3081\u306b\u306a\u308a\u307e\u3059\u3002**\nnode_modules\u5185\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u3001\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u306f\u5168\u90e8\u3072\u3068\u307e\u3068\u3081\u306b\u3059\u308b\u305f\u3081\u5fc5\u8981\u3068\u3057\u307e\u305b\u3093\u3002\n\u203b\u8aad\u307f\u8fbc\u3080\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5897\u3048\u3059\u304e\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u304c1M\u3092\u8d85\u3048\u3066\u304f\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u306e\u6642\u307e\u305f\u8003\u3048\u307e\u3059()\n\n### \u88dc\u8db3\n\nangular-cli\u3067\u306e\u69cb\u7bc9\u3060\u3068\u4e00\u767a\u3067\u884c\u3048\u305d\u3046\u3067\u3057\u305f\u304c\u3001Windows10 + node.js\u3060\u3068\u30d0\u30b0\u304c\u3042\u3063\u305f\u305f\u3081\u898b\u9001\u308a\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001gulp\u3067\u884c\u3063\u3066\u3044\u305f\u65b9\u304c\u5f8c\u3005\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3084\u3059\u3044\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308agulp\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n=> [\u203bWindows10\u3067\u306e\u4e0d\u5177\u5408\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089](https://github.com/angular/angular-cli/issues/3102)\uff08\u6700\u65b0\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u898b\u308b\u306bnode.js v7.2.0\u3067\u76f4\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\uff09\n\n\n## \u524d\u63d0\u6761\u4ef6\n\n\u904e\u53bb\u306e\u8a18\u4e8b\u300c[Angular2\u3067Hello world\uff01](http://qiita.com/silverfox/items/3ef3e20966343604a921)\u300d\u3067\u69cb\u7bc9\u3057\u305f\u74b0\u5883\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n### \u74b0\u5883\u3092\u518d\u63b2\n\nMicrosoft Surface Pro4 (i5 2.4GHz, Mem 4GB)\nOS:Windows 10 Pro\nnode.js v7.1.9\nnpm v3.10.9\n\n### \u4eca\u56dedevDependencies\u3068\u3057\u3066\u8ffd\u52a0\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u89a7\n\n|\u30d1\u30c3\u30b1\u30fc\u30b8\u540d|\u7528\u9014|\u30b3\u30de\u30f3\u30c9|\n|---|---|---|\n|gulp-ejs|\u958b\u767a\u7528\u3068\u30ea\u30ea\u30fc\u30b9\u7528\u3067html\u306e\u8a18\u8ff0\u304c\u7570\u306a\u308b\u7b87\u6240\u306e\u5206\u5c90\u3092gulp\u304b\u3089\u6ce8\u5165\u3059\u308b\u305f\u3081\u306b\u5229\u7528|npm i gulp-ejs --save-dev|\n|gulp-inline-ng2-template|\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5916\u90e8html\u3068css\u3092\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3059\u308b\u305f\u3081\u306b\u5229\u7528|npm i gulp-inline-ng2-template --save-dev|\n|gulp-minify-css|css\u306e\u6700\u5c0f\u5316\u306b\u5229\u7528|npm i gulp-minify-css --save-dev|\n|gulp-minify-html|html\u306e\u6700\u5c0f\u5316\u306b\u5229\u7528|npm i gulp-minify-html --save-dev|\n|gulp-plumber|ts\u3084ejs\u306e\u30d3\u30eb\u30c9\u5931\u6557\u3067gulp\u306ewatch\u304c\u505c\u6b62\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u5229\u7528|npm i gulp-plumber --save-dev|\n||npm install --save-dev gulp-plumber|\n|gulp-postcss|Future CSS syntax\u3092\u4f7f\u3044\u305f\u3044\u30ef\u30b1\u3067\u306f\u306a\u304f\u3001\u30d6\u30e9\u30a6\u30b6\u4f9d\u5b58\u306eprefix\u81ea\u52d5\u4ed8\u4e0e\u304c\u76ee\u7684|npm i gulp-postcss --save-dev|\n|gulp-sass|style\u306e\u7ba1\u7406\u306fsass\u3067\u7d71\u4e00\u3057\u305f\u3044\u305f\u3081|npm i gulp-sass --save-dev|\n|gulp-sourcemaps|map\u30d5\u30a1\u30a4\u30eb\u751f\u6210\u7528|npm i gulp-sourcemaps --save-dev|\n|gulp-symlink|\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u6642\u306bnode_modules\u3078\u306e\u30b7\u30e0\u30ea\u30f3\u30af\u3092\u5f35\u308b\u305f\u3081\u3002\u203b\u6b21\u56de\u306e\u8a18\u4e8b\u3067\u5229\u7528|npm i gulp-symlink --save-dev|\n|gulp-typescript|typescript\u3092commonjs\u306b\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081|npm i gulp-typescript --save-dev|\n|gulp-webpack|\u4eca\u56de\u306e\u4e3b\u5f79\u3002\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u30921\u3064\u306b\u3059\u308b\u305f\u3081|npm i gulp-webpack --save-dev|\n|gulp-webserver|\u30d3\u30eb\u30c9\u5f8c\u3059\u3050\u306b\u30ed\u30fc\u30ab\u30eb\u3067\u78ba\u8a8d\u3092\u3059\u308b\u305f\u3081|npm i gulp-webserver --save-dev|\n|postcss-cssnext|postcss\u3067\u5229\u7528\u3059\u308b\u305f\u3081|npm i postcss-cssnext --save-dev|\n|run-sequence|gulp\u306etask\u306e\u76f4\u5217\u5b9f\u884c\u3092\u884c\u3046\u305f\u3081|npm i run-sequence --save-dev|\n|ts-loader|webpack\u3067typescript\u3092\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306b\u5229\u7528|npm i ts-loader --save-dev|\n\n## \u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb\n\n### package.json\n\n\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3059\u3079\u3066devDependencies\u306b\u8a18\u8ff0\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u306epackage.json\u3092\u30b3\u30d4\u30fc\u3057\u3066`npm install`\u3059\u308c\u3070\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u5168\u3066\u63c3\u3044\u307e\u3059\u3002\nnmp\u30b3\u30de\u30f3\u30c9\u3067\u306e\u5b9f\u884c\u306f\u884c\u308f\u306a\u3044\u305f\u3081\u3001scripts\u90e8\u5206\u306f\u7a7a\u306b\u3057\u3066\u307e\u3059\u3002\n\n```json:package.json\n{\n  \"name\": \"angular-webpack-sample\",\n  \"version\": \"1.0.0\",\n  \"licenses\": [\n    {\n      \"type\": \"MIT\",\n      \"url\": \"https://github.com/angular/angular.io/blob/master/LICENSE\"\n    }\n  ],\n  \"dependencies\": {\n    \"@angular/common\": \"^2.1.2\",\n    \"@angular/compiler\": \"^2.1.2\",\n    \"@angular/core\": \"^2.1.2\",\n    \"@angular/forms\": \"~2.1.1\",\n    \"@angular/http\": \"~2.1.1\",\n    \"@angular/platform-browser\": \"^2.1.2\",\n    \"@angular/platform-browser-dynamic\": \"^2.1.2\",\n    \"@angular/router\": \"~3.1.1\",\n    \"@angular/upgrade\": \"~2.1.1\",\n    \"angular-in-memory-web-api\": \"~0.1.13\",\n    \"core-js\": \"^2.4.1\",\n    \"reflect-metadata\": \"^0.1.8\",\n    \"rxjs\": \"^5.0.0-beta.12\",\n    \"systemjs\": \"0.19.39\",\n    \"zone.js\": \"^0.6.26\"\n  },\n  \"devDependencies\": {\n    \"@types/core-js\": \"^0.9.34\",\n    \"@types/node\": \"^6.0.45\",\n    \"concurrently\": \"^3.0.0\",\n    \"core-js\": \"^2.4.1\",\n    \"del\": \"^2.2.2\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-ejs\": \"^2.2.1\",\n    \"gulp-inline-ng2-template\": \"^4.0.0\",\n    \"gulp-minify-css\": \"^1.2.4\",\n    \"gulp-minify-html\": \"^1.0.6\",\n    \"gulp-plumber\": \"^1.1.0\",\n    \"gulp-postcss\": \"^6.2.0\",\n    \"gulp-sass\": \"^2.3.2\",\n    \"gulp-sourcemaps\": \"^2.2.0\",\n    \"gulp-symlink\": \"^2.1.4\",\n    \"gulp-typescript\": \"^3.1.3\",\n    \"gulp-webpack\": \"^1.5.0\",\n    \"gulp-webserver\": \"^0.9.1\",\n    \"postcss-cssnext\": \"^2.8.0\",\n    \"run-sequence\": \"^1.2.2\",\n    \"rxjs\": \"^5.0.0-rc.4\",\n    \"ts-loader\": \"^1.2.2\",\n    \"typescript\": \"^2.0.3\",\n    \"zone.js\": \"^0.6.26\"\n  }\n}\n```\n\n```:\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u5b9f\u884c\nnpm install\n```\n\n### tsconfig.json\n\nTypeScript\u306e\u30d5\u30a1\u30a4\u30eb\u3092js\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\u3059\u308b\u969b\u306e`tsc`\u30b3\u30de\u30f3\u30c9\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u8a2d\u5b9a\u3067\u3059\u3002\n\u57fa\u672c\u7684\u306bgulp\u5074\u304b\u3089\u5b9f\u884c\u3059\u308b\u306e\u3067outDir\u306f\u3069\u3053\u3067\u3082\u3044\u3044\u3067\u3059\u3002\n\n```ts:tsconfig.json\n{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"moduleResolution\": \"node\",\n        \"outDir\": \"dest/\",\n        \"sourceMap\": true,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"removeComments\": false,\n        \"noImplicitAny\": true\n    },\n    \"include\": [\n        \"src/**/*\"\n    ],\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n```\n\n### webpack.config.js\n\n**\u4eca\u56de\u306e\u6c5a\u70b9\u305d\u306e1\u3002entry\u30dd\u30a4\u30f3\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u304c./src\u3067\u306f\u306a\u304f./tmp\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002**\n\u8a73\u7d30\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u304c\u3001\u7406\u7531\u3068\u3057\u3066\u306f`inline-ng2-template`\u3067\u300c\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u306e\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\uff08\u76ee\u76844\u30685)\u300d\u304c\u884c\u308f\u308c\u305fts\u30d5\u30a1\u30a4\u30eb\u304c./tmp\u306b\u5c55\u958b\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\n\njs\u3092Uglify\u306b\u3088\u3063\u3066\u5727\u7e2e\u30fb\u6700\u9069\u5316\u884c\u3046\u305f\u3081\u306bplugin\u306e\u6307\u5b9a\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001node_modules\u5185\u306e\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3082bundle\u3059\u308b\u305f\u3081\u306b\u3001resolve\u3067\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```js:webpack.config.js\nconst webpack = require(\"webpack\");\n\nmodule.exports = {\n    entry: {\n        main: './tmp/app/main.ts'\n    },\n    output: {\n        filename: '[name].bundle.[hash].js'\n    },\n    devtool: 'source-map',\n    plugins: [\n        new webpack.optimize.UglifyJsPlugin()\n    ],\n    resolve: {\n        root: ['./node_modules'],\n        extensions: ['', '.webpack.js', '.web.js', '.ts',  '.js']\n    },\n    module: {\n        loaders: [\n            { test: /\\.ts$/, loader: 'ts-loader' },\n        ]\n    }\n};\n```\n\n### gulpconfig.json\n\n\u308f\u3056\u308f\u3056\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u5316\u3059\u308b\u8a18\u8ff0\u91cf\u3067\u3082\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30d1\u30b9\u60c5\u5831\u306a\u306e\u3067\u4e00\u5fdc\u5916\u51fa\u3057\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u203blocalDir\u306f\u6b21\u56de\u306e\u8a18\u4e8b\u3067\u5229\u7528\u3057\u307e\u3059\n\n```json:gulpconfig.json\n{\n  \"srcDir\": \"./src\",\n  \"localDir\": \"./local\",\n  \"inlineDir\": \"./tmp\",\n  \"distDir\": \"./dist\"\n}\n```\n\n### gulpfile.js\n\n\u4eca\u56de\u306e\u4e3b\u5f79\u3067\u3059\u3002\n**\u4eca\u56de\u306e\u6c5a\u70b9\u305d\u306e2\u3001sass\u306ecss\u5316\u306fsrc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u3067\u884c\u3063\u3066\u3044\u307e\u3059\u3002**\n\u7406\u60f3\u306f\u300c\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u306f.sass\u3092\u8aad\u307f\u8fbc\u307f\u3001\u30d3\u30eb\u30c9\u6642\u306bcss\u5316&\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u304c\u30e1\u30e2\u30ea\u4e0a\u3067\u884c\u308f\u308c\u308b\u300d\u3067\u3057\u305f\u304c\u3001\u8a66\u884c\u932f\u8aa4\u3057\u305f\u3082\u306e\u306e\u3046\u307e\u304f\u3044\u304b\u305a\u8ae6\u3081\u3066\u4eca\u56de\u306e\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n<font color=\"red\">\u305d\u306e\u305f\u3081\u3001\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u8aad\u307f\u8fbc\u3093\u3067\u3044\u308bstyleUrls\u306fsass\u3067\u306f\u306a\u304f\u30d3\u30eb\u30c9\u5f8c\u306ecss\u3067\u3059\u3002</font>\n\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n1. [build-clean] \u30af\u30ea\u30fc\u30cb\u30f3\u30b0\u51e6\u7406\u3002tmp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001dist\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u524a\u9664\u3002src\u914d\u4e0b\u306e.css\u306e\u524a\u9664\u3002\n2. [sass] sass\u306e\u30d3\u30eb\u30c9\u3002src\u914d\u4e0b\u306e.sass\u3092\u30d3\u30eb\u30c9\u3057\u3001\u540c\u968e\u5c64\u306b\u6700\u9069\u5316\u6e08\u307fcss\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\uff08\u6c5a\u70b92)\n3. [build-inline] \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\uff08template, style\uff09\u3092\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3057\u305f.ts\u30d5\u30a1\u30a4\u30eb\u3092./tmp\u4ee5\u4e0b\u306b\u751f\u6210\uff08\u6c5a\u70b91)\n4. [build-webpack] webpack\u5316\u306e\u5b9f\u65bd\u3002\u5bfe\u8c61\u304c./src\u3067\u306f\u306a\u304f3\u3067\u751f\u6210\u3055\u308c\u305f./tmp\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n5. [build-statics] 4\u3068\u4e26\u5217\u5b9f\u884c\u3002\u5171\u901acss\u3084js\u30d5\u30a1\u30a4\u30eb\u3092 ./dist\u914d\u4e0b\u306b\u540c\u3058\u968e\u5c64\u3067\u30b3\u30d4\u30fc\u3059\u308b\u3002\n6. [build-ejs] \u5f8c\u8ff0\u3057\u307e\u3059\u3002.ejs\u30d5\u30a1\u30a4\u30eb\u3092.html\u3068\u3057\u3066\u30d3\u30eb\u30c9\u3057\u3001./dist\u914d\u4e0b\u306b\u540c\u3058\u968e\u5c64\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n7. [build-server] ./dist\u3092root\u3068\u3057\u305fhttp\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3002\u30d6\u30e9\u30a6\u30b6\u3092\u81ea\u52d5\u3067\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002\n8. [build-after] \u30d3\u30eb\u30c9\u5f8c\u306e\u304a\u6383\u9664\u3002./tmp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u524a\u9664\u3092\u3057\u307e\u3059\u3002\n\n```js:gulpfile.js\nvar gulp = require('gulp');\nvar typescript = require('gulp-typescript');\nvar plumber = require('gulp-plumber');\nvar runSequence = require('run-sequence');\nvar inlineNg2Template = require('gulp-inline-ng2-template');\nvar webpack = require('gulp-webpack');\nvar sourcemaps = require('gulp-sourcemaps');\nvar webserver = require('gulp-webserver');\nvar del = require('del');\nvar sass = require('gulp-sass');\nvar postcss = require('gulp-postcss');\nvar cssnext = require('postcss-cssnext');\nvar minifycss = require('gulp-minify-css');\nvar minifyhtml = require('gulp-minify-html');\nvar symlink = require('gulp-symlink'); //\u6b21\u56de\u3067\u5229\u7528\nvar ejs = require(\"gulp-ejs\");\nvar fs   = require('fs');\nvar path = require('path');\n\nvar conf = {\n  'gulp' : require('./gulpconfig'),\n  'webpack' : require('./webpack.config.js'),\n  'ts' : require('./tsconfig')\n}\n\ngulp.task('build-ejs', function () {\n  return gulp.src(conf.gulp.srcDir + '/**/*.ejs')\n    .pipe(\n      ejs({\n        type: \"build\",\n        bundleFileList: fs.readdirSync(conf.gulp.distDir + \"/js\")\n          .filter(function (file) {\n            // dist/js \u4ee5\u4e0b\u306e.js\u30d5\u30a1\u30a4\u30eb\u306f\u3059\u3079\u3066\u57cb\u3081\u8fbc\u3080\n            if( /\\.js$/.exec(file)){ return true; }\n          })\n        },\n        {\"ext\": \".html\"}\n    ))\n    .pipe(minifyhtml())\n    .pipe(gulp.dest(conf.gulp.distDir));\n});\n\ngulp.task('sass', function () {\n  var processors = [cssnext()];\n  return gulp.src(conf.gulp.srcDir + '/**/*.sass', {base: conf.gulp.srcDir})\n    .pipe(sass().on('error', sass.logError))\n    .pipe(postcss(processors))\n    .pipe(minifycss())\n    .pipe(gulp.dest(conf.gulp.srcDir))\n});\n\ngulp.task('build-inline', function () {\n  return gulp.src(conf.gulp.srcDir + '/**/*.ts', {base: conf.gulp.srcDir})\n    .pipe(inlineNg2Template({ UseRelativePaths: true, indent: 0, removeLineBreaks: true, base: conf.gulp.srcDir}))\n    .pipe(gulp.dest(conf.gulp.inlineDir));\n});\n\ngulp.task('build-clean', function (cb) {\n  return del([conf.gulp.inlineDir,\n      conf.gulp.distDir,\n      conf.gulp.srcDir + '/**/*.css',\n    ], cb);\n});\n\ngulp.task('build-after', function (cb) {\n  return del([conf.gulp.inlineDir,\n    conf.gulp.srcDir + '/**/*.css'], cb);\n});\n\ngulp.task('build-webpack', function () {\n  return gulp.src(conf.webpack.entry.main)\n    .pipe(webpack(conf.webpack))\n    .pipe(gulp.dest(conf.gulp.distDir + '/js'));\n});\n\ngulp.task('build-statics', function () {\n  return gulp.src(\n      [ conf.gulp.srcDir + '*.html',\n        conf.gulp.srcDir + '/css/*.css',\n        conf.gulp.srcDir + '/js/*.js' ],\n      { base: conf.gulp.srcDir }\n    ).pipe( gulp.dest(conf.gulp.distDir));\n});\n\ngulp.task('build-server', function () {\n  gulp.src(conf.gulp.distDir)\n    .pipe(webserver({\n        host: 'localhost',\n        port: 8100,\n        open: true,\n        livereload: false //\u81ea\u52d5\u30ea\u30ed\u30fc\u30c9\u306f\u3057\u306a\u3044\n    }));\n});\n\ngulp.task('build', function (cb) {\n  return runSequence(\n    'build-clean',\n    'sass',\n    'build-inline',\n    ['build-webpack', 'build-statics'],\n    'build-ejs', //ejs\u3067\u57cb\u3081\u8fbc\u3080js\u306e\u30d1\u30b9\u306fwebpack\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u306e\u3067\u3053\u306e\u4f4d\u7f6e\n    'build-server',\n    'build-after',\n    cb\n  );\n});\n```\n\n### index.ejs\n\n\u524d\u8ff0\u306egulp\u3067\u306ebuid-ejs\u30bf\u30b9\u30af\u304c\u4f55\u3092\u3084\u3063\u3066\u3044\u308b\u306e\u304b\u610f\u5473\u4e0d\u660e\u3060\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u305d\u3061\u3089\u306e\u89e3\u8aac\u3067\u3059\u3002\n\u4eca\u56de\u306ewebpack\u7248\u3067\u306findex.html\u3067\u306f\u751f\u6210\u3055\u308c\u305fjs\u30921\u3064\u8aad\u307f\u8fbc\u3080\u3060\u3051\u3067\u826f\u3044\u306e\u3067\u3059\u304c\u3001**\u3053\u306e\u30d3\u30eb\u30c9\u306f30\u79d2\u4ee5\u4e0a\u304b\u304b\u308a\u307e\u3059\u3002**\n<font color=\"Red\">\u958b\u767a\u6642\u306b\u30d3\u30eb\u30c9\u3067\u6bce\u56de30\u79d2\u3082\u304b\u304b\u3063\u3066\u3044\u305f\u3089\u4f7f\u3044\u7269\u306b\u306a\u308a\u307e\u305b\u3093\u3002</font>\n\u305d\u306e\u305f\u3081\u3001\u958b\u767a\u6642\u306fbundle\u305b\u305a\u306b\u901a\u5e38\u306e\u30d3\u30eb\u30c9\u3092\u884c\u3046\u5f62\u3067\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306e\u69cb\u7bc9\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\uff08\u3053\u308c\u306f[\u6b21\u56de\u306e\u8a18\u4e8b](http://qiita.com/silverfox/items/ec649b2eb1d9e6b4e188)\u30cd\u30bf\uff09\n\n\u305f\u3060\u3057\u3001SystemJs\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001webpack\u5316\u3059\u308b\u5834\u5408\u3068\u3057\u306a\u3044\u5834\u5408\u3067\u591a\u5c11\u8d77\u52d5\u6642\u306e\u8a18\u8ff0\u3092\u5909\u3048\u3066\u3044\u307e\u3059\u3002\n\u203b\u3053\u308c\u306f\u7b46\u8005\u304c\u8a66\u884c\u932f\u8aa4\u3057\u3066\u8ae6\u3081\u305f\u3060\u3051\u306a\u306e\u3067\u3001\u4f55\u304b\u826f\u3044\u65b9\u6cd5\u304c\u3042\u308b\u306f\u305a\n\u305d\u306e\u7570\u306a\u308b\u8a18\u8ff0\u90e8\u5206\u3092ejs\u306e\u5206\u5c90\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067gulp\u5074\u304b\u3089\u5236\u5fa1\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\uff08type\u306e\u5024\u3092gulp\u304b\u3089\u6e21\u3057\u3066\u3044\u308b\uff09\n\n\u4eca\u56de\u5229\u7528\u3057\u3066\u3044\u308bindex.html\u306e\u5143\u306b\u306a\u308bejs\u30d5\u30a1\u30a4\u30eb\u304c\u4ee5\u4e0b\u3067\u3059\u3002\n\n```html:index.ejs\n<html>\n  <head>\n    <title>Angular QuickStart</title>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n    <% if (type == 'local') { %>\n      <script src=\"/node_modules/systemjs/dist/system.src.js\"></script>\n      <script src=\"/systemjs.config.js\"></script>\n      <script>\n          System.import('app').then(function(m){\n              m.init();\n          }).catch(function(err){\n              console.error(err);\n          });\n      </script>\n    <% } else { %>\n      <% for (var bundleFilePath of bundleFileList) { %>\n        <script src=\"/js/<%= bundleFilePath %>\"></script>\n      <% } %>\n    <% } %>\n\n    <link href=\"/css/common.css\" media=\"all\" rel=\"stylesheet\" />\n  </head>\n  <!-- 3. Display the application -->\n  <body>\n    <my-app>Loading...</my-app>\n    <my-app2>aa</my-app2>\n  </body>\n</html>\n```\n\n\u4eee\u306bwebpack\u306e\u3053\u3068\u3092\u3060\u3051\u3092\u8003\u3048\u3001js\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u30cf\u30c3\u30b7\u30e5\u5316\u3082\u884c\u308f\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u672c\u6765\u306f\u4ee5\u4e0b\u3067\u3082OK\u3067\u3059\u3002\n\n```html:\u6700\u5c0f\u69cb\u6210\u306eindex.html\n<html>\n  <head>\n    <title>Angular Webpack Sample</title>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <script src=\"/js/bundle.js\"></script>\n    <link href=\"/css/common.css\" media=\"all\" rel=\"stylesheet\" />\n  </head>\n  <body>\n    <my-app>Loading...</my-app>\n  </body>\n</html>\n```\n\n### main.ts\n\n\u6700\u5f8c\u306b\u3082\u3046\u4e00\u3064\u3001main.ts\u306e\u8a18\u8ff0\u306b\u3082\u30b3\u30c4\u304c\u5fc5\u8981\u3067\u3059\u3002\n[Angular2\u3067Hello world\uff01](http://qiita.com/silverfox/items/3ef3e20966343604a921) \u306e\u969b\u306b\u306fcore-js\u7b49\u306e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u306fscript\u30bf\u30b0\u3067\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306f\u305d\u308c\u3089\u3082bundle\u3057\u305f\u3044\u305f\u3081import\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n**\u3055\u3089\u306b\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u3001bootstrapModule\u3078\u306e\u30bb\u30c3\u30c8\u306fDOMContentLoaded\u767a\u706b\u6642\u306b\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002**\n\u3053\u308c\u306b\u3088\u308aSystem.import\u3092\u3057\u306a\u304f\u3066\u3082Angular\u304c\u5b9f\u884c\u3055\u308c\u3066\u304f\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```ts:main.ts\nimport \"core-js\";\nimport \"zone.js\";\nimport \"rxjs/Rx\";\n  \nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app.module';\nconst platform = platformBrowserDynamic();\n\nexport function init(): void {\n    platform.bootstrapModule(AppModule);\n}\ndocument.addEventListener(\"DOMContentLoaded\", init);\n```\n\n## \u5b9f\u884c\n\n### \u3053\u3053\u307e\u3067\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002\n\uff08app\u4ee5\u4e0b\u306f\u81ea\u7531\u3067\u3059\u3002angular\u3068\u3057\u3066\u52d5\u3044\u3066\u3044\u308c\u3070\u306a\u3093\u3067\u3082OK\u3002\uff09\n\n```text:\u6700\u7d42\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\u251c node_modules/\n\u2502   \u2514\u2500 ... \n\u251c src/\n\u2502   \u251c\u2500 app/\n\u2502   \u2502    \u251c\u2500 bank-table\n\u2502   \u2502    \u2502   \u251c\u2500 bank-table.component.html\n\u2502   \u2502    \u2502   \u251c\u2500 bank-table.component.sass\n\u2502   \u2502    \u2502   \u2514\u2500 bank-table.component.ts\n\u2502   \u2502    \u2502\n\u2502   \u2502    \u251c\u2500 _setting.sass\n\u2502   \u2502    \u251c\u2500 app.component.ts\n\u2502   \u2502    \u251c\u2500 app.module.ts\n\u2502   \u2502    \u2514\u2500 main.ts\n\u2502   \u2502\n\u2502   \u251c\u2500 css/\n\u2502   \u2502    \u251c\u2500 _reset.sass\n\u2502   \u2502    \u251c\u2500 _base.sass\n\u2502   \u2502    \u2514\u2500 common.sass\n\u2502   \u2502\n\u2502   \u251c\u2500 index.ejs\n\u2502   \u2514\u2500 systemjs.config.js\n\u2502\n\u251c gulpconfig.json\n\u251c gulpfile.js\n\u251c package.json\n\u251c tsconfig.json\n\u2514 webpack.config.js\n```\n\n### \u5b9f\u884c\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089gulp\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```:\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u5b9f\u884c\n>gulp build\n```\n\n```text:\u30b3\u30f3\u30bd\u30fc\u30eb\u30ed\u30b0\n[01:10:44] Using gulpfile  C:\\works\\angular\\qiita\\gulpfile.js\n[01:10:44] Starting 'build'...\n[01:10:44] Starting 'build-clean'...\n[01:10:44] Finished 'build-clean' after 26 ms\n[01:10:44] Starting 'sass'...\n[01:10:45] Finished 'sass' after 1.17 s\n[01:10:45] Starting 'build-inline'...\n[01:10:45] Finished 'build-inline' after 392 ms\n[01:10:45] Starting 'build-webpack'...\n[01:10:46] Starting 'build-statics'...\nts-loader: Using typescript@2.0.10 and C:\\works\\angular\\qiita\\tsconfig.json\n[01:10:50] Finished 'build-statics' after 4.9 s\n[01:11:13] Version: webpack 1.13.3\n                                  Asset     Size  Chunks             Chunk Names\n    main.bundle.3d13a2d7934cdf2b279e.js   881 kB       0  [emitted]  main\nmain.bundle.3d13a2d7934cdf2b279e.js.map  5.79 MB       0  [emitted]  main\n\n\uff5ewebpack\u3067\u8272\u3005warning\u304c\u51fa\u307e\u3059\u304c\u7121\u8996\uff5e\n\n[01:11:14] Finished 'build-webpack' after 28 s\n[01:11:14] Starting 'build-ejs'...\n[01:11:14] Finished 'build-ejs' after 40 ms\n[01:11:14] Starting 'build-server'...\n[01:11:14] Webserver started at http://localhost:8100\n[01:11:14] Finished 'build-server' after 16 ms\n[01:11:14] Starting 'build-after'...\n[01:11:14] Finished 'build-after' after 50 ms\n[01:11:14] Finished 'build' after 30 s\n```\n\n\u73fe\u72b6\u3067\u30d3\u30eb\u30c9\u6642\u959330\u79d2\u3082\u304b\u304b\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u80a5\u5927\u5316\u3059\u308c\u30703\uff5e5\u5206\u7a0b\u5ea6\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\u305d\u308c\u3088\u308a\u3082\u554f\u984c\u306f\u3001\u3059\u3067\u306b\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u304c881KB\u3082\u3042\u308b\u3053\u3068\u3067\u3059\u306d\u7b11\n\n\u3053\u308c\u306f\u4eca\u5f8c\u306e\u72b6\u6cc1\u306b\u5408\u308f\u305b\u3066\u3088\u308a\u3088\u3044\u65b9\u6cd5\u3092\u63a2\u3057\u3066\u3044\u304f\u4e88\u5b9a\u3067\u3059\u3002\n\u307e\u3042gulp\u306a\u306e\u3067\u305d\u306e\u8fba\u308a\u306f\u81ea\u5206\u6b21\u7b2c\u3001\u3067\u3059\u306d\u3002\n\n\n\u3067\u306f\u3001\u660e\u65e5\u306f\u300c[Angular2\u958b\u767a\u3092TypeScript+Sass+ejs\u3067\u884c\u3046 & gulp\u3067src\u3068\u5225\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u69cb\u7bc9](http://qiita.com/silverfox/items/ec649b2eb1d9e6b4e188)\u300d\u3092\u66f4\u65b0\u4e88\u5b9a\u3067\u3059\u3002\uff08\u9577\u3044\u2026\uff09\n\n\uff5e\u3067\u306f\u307e\u305f\u6b21\u56de\uff5e\n", "tags": ["Angular2", "JavaScript", "TypeScript", "gulp", "webpack"]}