{"tags": ["JavaScript", "nodejs", "Evernote"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\u74b0\u5883\u306fCentOS6.6\u3067\u3059\u3002\n\u30c7\u30d9\u30ed\u30c3\u30d1\u30fc\u30c8\u30fc\u30af\u30f3\u306f\u3059\u3067\u306b\u53d6\u5f97\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3092\u524d\u63d0\u3068\u3057\u307e\u3059\u3002\n\nnode.js\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum groupinstall 'Development tools'\n$ wget http://nodejs.org/dist/v0.12.0/node-v0.12.0.tar.gz\n$ tar xvf node-v0.12.0.tar.gz\n$ cd node-v0.12.0/\n$ ./configure --prefix=/usr/local\n$ make\n$ sudo make install\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3002\n$ node -v\nv0.12.0\n$ npm -v\n2.5.1\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210&\u79fb\u52d5\u3057\u3066\u3001js\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ mkdir EvernoteSampleApp\n$ cd EvernoteSampleApp\n$ touch index.js\n\n\n\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install evernote\n$ npm install enml-js\n$ npm install --save node-note\n$ npm install async\n\n\n\u30b3\u30fc\u30c9\nindex.js\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u3044\u3066\u30ab\u30bf\u30ab\u30bf\u3002\u3061\u306a\u307f\u306b\u79c1\u306fAtom\u3067\u3002\n\u3053\u3053\u3067\u3084\u3063\u3066\u308b\u306e\u306f\u3001\u65b0\u898f\u30ce\u30fc\u30c8\u306e\u4f5c\u6210\u3068\u3001\u6700\u521d\u306e\u30ce\u30fc\u30c8\u306e\u60c5\u5831\u3092\u53d6\u5f97\u2192ENML\u2192HTML\u5909\u63db\u3002\n\nindex.js\nvar Evernote = require('evernote').Evernote;\nvar ENML = require('enml-js');                  //ENML\u3092HTML\u306b\u3057\u3066\u304f\u308c\u305f\u308a\u3002\nvar nodeNote = require('node-note');            //\u30ce\u30fc\u30c8\u3092\u7c21\u5358\u306b\u4f5c\u6210\u3057\u3066\u304f\u308c\u305f\u308a\u3002\nvar async = require('async');                   //\u975e\u540c\u671f\u51e6\u7406\u3092\u697d\u306b\u3057\u3066\u304f\u308c\u305f\u308a\u3002\n\nvar DEVELOPER_TOKEN = \"<YOUR_DEVELOPER_TOKEN>\";  //\u30c7\u30d9\u30ed\u30c3\u30d1\u30fc\u30c8\u30fc\u30af\u30f3\n\nvar client = new Evernote.Client({ token: DEVELOPER_TOKEN });\nvar noteStore = client.getNoteStore();\nvar noteFilter = new Evernote.NoteFilter();\nvar notesMetadataResultSpec;\n\n// \u65b0\u898f\u30ce\u30fc\u30c8\u4f5c\u6210\n/*--------------------------------------------------------------------*/\nvar evernote = new nodeNote({token: DEVELOPER_TOKEN, sandbox: true});\n\nvar options = {\n  title: 'hoge',\n  body: 'Create new note'\n};\n\nevernote.createNote(options, function (err,createdNote) {\n  console.log('Create new note : complete' );\n});\n\n\n// \u30ce\u30fc\u30c8\u306e\u5404\u60c5\u5831\u3092\u53d6\u5f97\n/*--------------------------------------------------------------------*/\n\nnotesMetadataResultSpec = new Evernote.NotesMetadataResultSpec({\n    includeTitle: true,\n    includeAttributes: true\n});\n\n// \u975e\u540c\u671f\u51e6\u7406\nasync.waterfall([\n\n    // \u30ce\u30fc\u30c8\u691c\u7d22\uff1f\n    function(callback){\n        noteStore.findNotesMetadata(noteFilter, 0, 100, notesMetadataResultSpec, function(err, notes) {\n            console.log(err || notes);\n            if(notes){\n                callback( null, JSON.stringify(notes) );\n            }\n        });\n    },\n\n],function(err, result){\n\n    // \u3072\u3068\u3064\u76ee\u306e\u30ce\u30fc\u30c8\u305d\u53d6\u5f97\u3057\u3066HTML\u5f62\u5f0f\u3067\u8868\u793a\n    var getMetaData = JSON.parse(result);\n    noteStore.getNote(getMetaData.notes[0].guid, true, true, true, true, function(err, note) {\n        console.log(err || ENML.HTMLOfENML(note.content, note.resources));\n    });\n\n});\n\n\n\n\nENML\u306f\u3001Evernote\u30ce\u30fc\u30c8\u306e\u8a18\u8ff0\u306b\u4f7f\u7528\u3055\u308c\u308b\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u8a00\u8a9e\u3002\nHTML\u30bf\u30b0\u3082\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u308b\u3051\u3069\u3001id\u3068\u304bclass\u3068\u304b\u306f\u4f7f\u3048\u306a\u3044\u3002\n\n\n\u5b9f\u884c\n$ node index.js\n\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n[1].npm\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u307e\u3068\u3081 - \u3046\u306a\u306e\u65e5\u8a18\n[2].Node.js error in noteStore.findNotes and noteStore.findNotesMetadata - Evernote for Developers - Evernote User Forum\n[3].node.js\u306e\u3044\u308d\u3044\u308d\u306a\u30e2\u30b8\u30e5\u30fc\u30eb17 \u2013 async\u3067\u975e\u540c\u671f\u51e6\u7406\u306e\u30d5\u30ed\u30fc\u5236\u5fa1\n\n\u74b0\u5883\u306fCentOS6.6\u3067\u3059\u3002\n\u30c7\u30d9\u30ed\u30c3\u30d1\u30fc\u30c8\u30fc\u30af\u30f3\u306f\u3059\u3067\u306b\u53d6\u5f97\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3092\u524d\u63d0\u3068\u3057\u307e\u3059\u3002\n##node.js\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum groupinstall 'Development tools'\n$ wget http://nodejs.org/dist/v0.12.0/node-v0.12.0.tar.gz\n$ tar xvf node-v0.12.0.tar.gz\n$ cd node-v0.12.0/\n$ ./configure --prefix=/usr/local\n$ make\n$ sudo make install\n```\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\u3002\n\n```\n$ node -v\nv0.12.0\n$ npm -v\n2.5.1\n```\n\n\n##\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210&\u79fb\u52d5\u3057\u3066\u3001js\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n$ mkdir EvernoteSampleApp\n$ cd EvernoteSampleApp\n$ touch index.js\n```\n\n###\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ npm install evernote\n$ npm install enml-js\n$ npm install --save node-note\n$ npm install async\n```\n\n###\u30b3\u30fc\u30c9\nindex.js\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u3044\u3066\u30ab\u30bf\u30ab\u30bf\u3002\u3061\u306a\u307f\u306b\u79c1\u306f[Atom](https://atom.io/)\u3067\u3002\n\u3053\u3053\u3067\u3084\u3063\u3066\u308b\u306e\u306f\u3001\u65b0\u898f\u30ce\u30fc\u30c8\u306e\u4f5c\u6210\u3068\u3001\u6700\u521d\u306e\u30ce\u30fc\u30c8\u306e\u60c5\u5831\u3092\u53d6\u5f97\u2192ENML\u2192HTML\u5909\u63db\u3002\n\n```javascript:index.js\nvar Evernote = require('evernote').Evernote;\nvar ENML = require('enml-js');                  //ENML\u3092HTML\u306b\u3057\u3066\u304f\u308c\u305f\u308a\u3002\nvar nodeNote = require('node-note');            //\u30ce\u30fc\u30c8\u3092\u7c21\u5358\u306b\u4f5c\u6210\u3057\u3066\u304f\u308c\u305f\u308a\u3002\nvar async = require('async');                   //\u975e\u540c\u671f\u51e6\u7406\u3092\u697d\u306b\u3057\u3066\u304f\u308c\u305f\u308a\u3002\n\nvar DEVELOPER_TOKEN = \"<YOUR_DEVELOPER_TOKEN>\";  //\u30c7\u30d9\u30ed\u30c3\u30d1\u30fc\u30c8\u30fc\u30af\u30f3\n\nvar client = new Evernote.Client({ token: DEVELOPER_TOKEN });\nvar noteStore = client.getNoteStore();\nvar noteFilter = new Evernote.NoteFilter();\nvar notesMetadataResultSpec;\n\n// \u65b0\u898f\u30ce\u30fc\u30c8\u4f5c\u6210\n/*--------------------------------------------------------------------*/\nvar evernote = new nodeNote({token: DEVELOPER_TOKEN, sandbox: true});\n\nvar options = {\n  title: 'hoge',\n  body: 'Create new note'\n};\n\nevernote.createNote(options, function (err,createdNote) {\n  console.log('Create new note : complete' );\n});\n\n\n// \u30ce\u30fc\u30c8\u306e\u5404\u60c5\u5831\u3092\u53d6\u5f97\n/*--------------------------------------------------------------------*/\n\nnotesMetadataResultSpec = new Evernote.NotesMetadataResultSpec({\n    includeTitle: true,\n    includeAttributes: true\n});\n\n// \u975e\u540c\u671f\u51e6\u7406\nasync.waterfall([\n\n    // \u30ce\u30fc\u30c8\u691c\u7d22\uff1f\n    function(callback){\n        noteStore.findNotesMetadata(noteFilter, 0, 100, notesMetadataResultSpec, function(err, notes) {\n            console.log(err || notes);\n            if(notes){\n                callback( null, JSON.stringify(notes) );\n            }\n        });\n    },\n\n],function(err, result){\n\n    // \u3072\u3068\u3064\u76ee\u306e\u30ce\u30fc\u30c8\u305d\u53d6\u5f97\u3057\u3066HTML\u5f62\u5f0f\u3067\u8868\u793a\n    var getMetaData = JSON.parse(result);\n    noteStore.getNote(getMetaData.notes[0].guid, true, true, true, true, function(err, note) {\n        console.log(err || ENML.HTMLOfENML(note.content, note.resources));\n    });\n\n});\n\n```\n\n>ENML\u306f\u3001Evernote\u30ce\u30fc\u30c8\u306e\u8a18\u8ff0\u306b\u4f7f\u7528\u3055\u308c\u308b\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u8a00\u8a9e\u3002\n>HTML\u30bf\u30b0\u3082\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u308b\u3051\u3069\u3001id\u3068\u304bclass\u3068\u304b\u306f\u4f7f\u3048\u306a\u3044\u3002\n\n###\u5b9f\u884c\n```\n$ node index.js\n```\n\n##\u53c2\u8003\u30b5\u30a4\u30c8\n\n\n[1].[npm\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u307e\u3068\u3081 - \u3046\u306a\u306e\u65e5\u8a18](http://unageanu.hatenablog.com/entry/20150308/1425779692)\n[2].[Node.js error in noteStore.findNotes and noteStore.findNotesMetadata - Evernote for Developers - Evernote User Forum](https://discussion.evernote.com/topic/53202-nodejs-error-in-notestorefindnotes-and-notestorefindnotesmetadata/)\n[3].[node.js\u306e\u3044\u308d\u3044\u308d\u306a\u30e2\u30b8\u30e5\u30fc\u30eb17 \u2013 async\u3067\u975e\u540c\u671f\u51e6\u7406\u306e\u30d5\u30ed\u30fc\u5236\u5fa1](http://dev.classmethod.jp/server-side/asyn/)\n"}