{"context": " More than 1 year has passed since last update.\n\n\u5185\u5bb9\nSKScene\u4e0a\u3067SNS\u6295\u7a3f\u753b\u9762\u3092\u8868\u793a\u3057\u3001Twitter\u3084Facebook\u3078\u6295\u7a3f\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\n\nUIViewController\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u3042\u308c\u3070\u3001\npresentViewController()\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u3048\u308b\u306e\u3067\u3001\u7c21\u5358\u306bViewController\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4f8b:\n\nSwift\nvar next = NextViewController()\nself.presentViewController(next, animated: true, completion: nil)\n\n\n\u3057\u304b\u3057\u3001SKScene\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u306fUIViewController\u30af\u30e9\u30b9\u3092(\u591a\u91cd)\u7d99\u627f\u3067\u304d\u306a\u3044\u306e\u3067\u3001  presentViewController()\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u3048\u307e\u305b\u3093\u3002SKScene\u304b\u3089SNS\u306e\u6295\u7a3f\u753b\u9762\u306a\u3069\u65b0\u3057\u3044ViewController\u3092\u547c\u3073\u305f\u3044\u6642\u306b\u3069\u3046\u3059\u308b\u3079\u304d\u306a\u306e\u304b\u3002\n\u60f3\u5b9a\u30b1\u30fc\u30b9:\n(a) FaceBook\u30dc\u30bf\u30f3\u3084Twitter\u30dc\u30bf\u30f3\u3092\u8a2d\u7f6e\u3057\u3001\u30dc\u30bf\u30f3\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3068\u3001\u6295\u7a3f\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u3001\u6295\u7a3f\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\n\n(b) GameCenter\u30dc\u30bf\u30f3\u3092\u8a2d\u7f6e\u3057\u3001\u30dc\u30bf\u30f3\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3068GameCenter\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u8868\u793a\u3057\u305f\u3044\n\n\u306a\u3069\u306a\u3069\n\n\n\u89e3\u6c7a\u65b9\u6cd5\nNSNotification \u3092\u4f7f\u3044\u307e\u3059\u3002\n(\u3082\u3063\u3068\u52b9\u7387\u7684\u306a\u65b9\u6cd5\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\uff09\n\nFacebook\u30fbTwitter\u3078\u6295\u7a3f\u3059\u308b\n\n\u958b\u767a\u74b0\u5883\nSwift1.2\nXCode6.4\n\n\n(1) \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n\u4e8b\u524d\u306bSocial.framework\u3068 Accounts.framework\u3092Project\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n\nGameViewController.swift\nimport UIKit\nimport SpriteKit\nimport Social // \u2190\u8a18\u8ff0\u3059\u308b!!!!!!!!!!\n\n\n(2) \u30dc\u30bf\u30f3\u753b\u50cf\u3092Project\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\nTwitter\u3084Facebook\u304c\u516c\u5f0f\u306b\u30a2\u30a4\u30b3\u30f3\u753b\u50cf\u3092\u914d\u5e03\u3057\u3066\u308b\u306e\u3067\u3001\n\u4e0b\u8a18\u540d\u79f0\u3067images.xcassets\u306bdrag and drop\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n(\u4efb\u610f\u306e\u753b\u50cf\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\ntwitter_icon\nfacebooK_icon\n\n(3) \u30b3\u30fc\u30c9\u3092\u8a18\u8ff0(\u5fc5\u8981\u6700\u4f4e\u9650\u306e\u3068\u3053\u308d\u306e\u307f\u66f8\u3044\u3066\u307e\u3059\uff09\n\nGameViewController.swift\nimport UIKit\nimport SpriteKit\nimport Social\n\nclass GameViewController: UIViewController{\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        NSNotificationCenter.defaultCenter().addObserver(self, selector: \"showSocialShare:\", name: \"socialShare\", object: nil)\n\n        // GameScene\u3092SKView\u306b\u8ffd\u52a0\u3057\u3066\u304a\u304f\n        let scene = GameScene()\n        let skView = self.view as! SKView\n        scene.scaleMode = .AspectFill\n        scene.size = skView.frame.size\n        skView.presentScene(scene)\n\n    }\n\n    func showSocialShare(notification: NSNotification) {\n\n        // (1) \u30aa\u30d6\u30b6\u30fc\u30d0\u30fc\u304b\u3089\u6e21\u3063\u3066\u304d\u305fuserInfo\u304b\u3089\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n        let userInfo:Dictionary<String,NSData!> = notification.userInfo as! Dictionary<String,NSData!>\n        let message = NSString(data: userInfo[\"message\"]!, encoding: UInt())\n        let social = NSString(data: userInfo[\"social\"]!, encoding: UInt())\n\n        // (2) userInfo\u306e\u60c5\u5831\u3092\u3082\u3068\u306bTwitter/Facebook\u30dc\u30bf\u30f3\u3069\u3061\u3089\u304c\u62bc\u3055\u308c\u305f\u306e\u304b\u7279\u5b9a\u3059\u308b\n        var type = String()\n        if social == \"twitter\" {\n            type = SLServiceTypeTwitter\n        } else if social == \"facebook\" {\n            type = SLServiceTypeFacebook\n        }\n\n        // (3) shareViewController\u3092\u4f5c\u6210\u3001\u8868\u793a\u3059\u308b\n        var shareView = SLComposeViewController(forServiceType: type)\n        shareView.setInitialText(message as! String)\n\n        shareView.completionHandler = {\n            (result:SLComposeViewControllerResult) -> () in\n            switch (result) {\n            case SLComposeViewControllerResult.Done:\n                println(\"SLComposeViewControllerResult.Done\")\n            case SLComposeViewControllerResult.Cancelled:\n                println(\"SLComposeViewControllerResult.Cancelled\")\n            }\n        }\n        self.presentViewController(shareView, animated: true, completion: nil)\n    }\n}\n\n\n\nGameScene.swift\nimport SpriteKit\n\nclass GameScene: SKScene{\n\n    // \u5909\u6570\u5b9a\u7fa9\n    let twButton = SKSpriteNode(imageNamed:\"twitter_icon\")\n    let fbButton = SKSpriteNode(imageNamed:\"facebook_icon\")\n    var touchButtonName:String? = \"\"\n\n    // \u30e1\u30a4\u30f3\n    override func didMoveToView(view: SKView) {\n\n        twButton.position = CGPoint(x: self.frame.width * 0.45, y: self.frame.size.height * 0.15)\n        twButton.name = \"twitter_button\"\n        self.addChild(twButton)\n\n        fbButton.position = CGPoint(x: self.frame.width * 0.65, y: self.frame.size.height * 0.15)\n        fbButton.name = \"facebook_button\"\n        self.addChild(fbButton)\n    }\n\n    // Twitter/Facebook\u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u3068\u304d\n    func socialButtonTapped(social:String){\n\n        // share\u753b\u9762\u3067\u8868\u793a\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u683c\u7d0d\n        var message = String()\n        if social == \"twitter\" {\n            message = \"Twitter Share\"\n        } else {\n            message = \"Facebook Share\"\n        }\n\n        // userinfo\u306b\u60c5\u5831(social\u306e\u7a2e\u985e\u3068message)\u3092\u683c\u7d0d\n        let userInfo = [\"social\": social.dataUsingEncoding(NSUTF8StringEncoding, allowLossyConversion: true)!,\"message\": message.dataUsingEncoding(NSUTF8StringEncoding, allowLossyConversion: true)!]\n\n        // userInfo\u3082\u542b\u3081\u3066\u3001\"socialShare\"\u3068\u3044\u3046\u540d\u79f0\u306e\u901a\u77e5\u3092\u3053\u3053\u3067\u98db\u3070\u3059\n        NSNotificationCenter.defaultCenter().postNotificationName(\"socialShare\", object: nil, userInfo: userInfo)\n\n    }\n\n    // \u753b\u9762\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u3068\u304d\n    override func touchesBegan(touches: Set<NSObject>, withEvent event: UIEvent) {\n        for touch: AnyObject in touches {\n            let location = touch.locationInNode(self)\n            touchButtonName = nodeAtPoint(location).name\n\n            if (touchButtonName == \"twitter_button\") {\n                socialButtonTapped(\"twitter\")\n            } else if (touchButtonName == \"facebook_button\") {\n                socialButtonTapped(\"facebook\")\n            }\n        }\n    }\n}\n\n\n\u3053\u308c\u3067SKScene\u4e0a\u3067SNS\u6295\u7a3f\u753b\u9762\u3092\u8868\u793a\u3057\u3001\nTwitter\u3084Facebook\u3078\u6295\u7a3f\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n## \u5185\u5bb9\n\nSKScene\u4e0a\u3067SNS\u6295\u7a3f\u753b\u9762\u3092\u8868\u793a\u3057\u3001Twitter\u3084Facebook\u3078\u6295\u7a3f\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\n![iOS Simulator Screen Shot Jul 15, 27 Heisei, 01.05.47.png](https://qiita-image-store.s3.amazonaws.com/0/30253/9f4be1f3-4322-9fe3-b2bc-8dd13a53094c.png)\n\n\nUIViewController\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u3042\u308c\u3070\u3001\n`presentViewController()`\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u3048\u308b\u306e\u3067\u3001\u7c21\u5358\u306bViewController\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u4f8b:\n\n``` Swift:Swift\nvar next = NextViewController()\nself.presentViewController(next, animated: true, completion: nil)\n```\n\n\u3057\u304b\u3057\u3001`SKScene`\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u306fUIViewController\u30af\u30e9\u30b9\u3092(\u591a\u91cd)\u7d99\u627f\u3067\u304d\u306a\u3044\u306e\u3067\u3001  `presentViewController()`\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u3048\u307e\u305b\u3093\u3002`SKScene`\u304b\u3089SNS\u306e\u6295\u7a3f\u753b\u9762\u306a\u3069\u65b0\u3057\u3044ViewController\u3092\u547c\u3073\u305f\u3044\u6642\u306b\u3069\u3046\u3059\u308b\u3079\u304d\u306a\u306e\u304b\u3002\n\n**\u60f3\u5b9a\u30b1\u30fc\u30b9:**\n\n```\n(a) FaceBook\u30dc\u30bf\u30f3\u3084Twitter\u30dc\u30bf\u30f3\u3092\u8a2d\u7f6e\u3057\u3001\u30dc\u30bf\u30f3\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3068\u3001\u6295\u7a3f\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u3001\u6295\u7a3f\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\n\n(b) GameCenter\u30dc\u30bf\u30f3\u3092\u8a2d\u7f6e\u3057\u3001\u30dc\u30bf\u30f3\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3068GameCenter\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u8868\u793a\u3057\u305f\u3044\n\n\u306a\u3069\u306a\u3069\n```\n\n## \u89e3\u6c7a\u65b9\u6cd5\n`NSNotification` \u3092\u4f7f\u3044\u307e\u3059\u3002\n(\u3082\u3063\u3068\u52b9\u7387\u7684\u306a\u65b9\u6cd5\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\uff09\n\n\n\n\n\n\n###  Facebook\u30fbTwitter\u3078\u6295\u7a3f\u3059\u308b\n```html:\u958b\u767a\u74b0\u5883\nSwift1.2\nXCode6.4\n```\n\n(1) \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n\u4e8b\u524d\u306b`Social.framework`\u3068 `Accounts.framework`\u3092Project\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n![Screen_Shot_0027-07-14_at_21_16_14.png](https://qiita-image-store.s3.amazonaws.com/0/30253/7afb8369-fb11-e01e-9e6c-454b91e8e3b9.png)\n\n``` Swift:GameViewController.swift\nimport UIKit\nimport SpriteKit\nimport Social // \u2190\u8a18\u8ff0\u3059\u308b!!!!!!!!!!\n```\n\n(2) \u30dc\u30bf\u30f3\u753b\u50cf\u3092Project\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\n\nTwitter\u3084Facebook\u304c\u516c\u5f0f\u306b\u30a2\u30a4\u30b3\u30f3\u753b\u50cf\u3092\u914d\u5e03\u3057\u3066\u308b\u306e\u3067\u3001\n\u4e0b\u8a18\u540d\u79f0\u3067`images.xcassets`\u306bdrag and drop\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n(\u4efb\u610f\u306e\u753b\u50cf\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\n\n```\ntwitter_icon\nfacebooK_icon\n```\n\n(3) \u30b3\u30fc\u30c9\u3092\u8a18\u8ff0(\u5fc5\u8981\u6700\u4f4e\u9650\u306e\u3068\u3053\u308d\u306e\u307f\u66f8\u3044\u3066\u307e\u3059\uff09\n\n``` Swift:GameViewController.swift\nimport UIKit\nimport SpriteKit\nimport Social\n\nclass GameViewController: UIViewController{\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        NSNotificationCenter.defaultCenter().addObserver(self, selector: \"showSocialShare:\", name: \"socialShare\", object: nil)\n        \n        // GameScene\u3092SKView\u306b\u8ffd\u52a0\u3057\u3066\u304a\u304f\n        let scene = GameScene()\n        let skView = self.view as! SKView\n        scene.scaleMode = .AspectFill\n        scene.size = skView.frame.size\n        skView.presentScene(scene)\n\n    }\n    \n    func showSocialShare(notification: NSNotification) {\n        \n        // (1) \u30aa\u30d6\u30b6\u30fc\u30d0\u30fc\u304b\u3089\u6e21\u3063\u3066\u304d\u305fuserInfo\u304b\u3089\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\n        let userInfo:Dictionary<String,NSData!> = notification.userInfo as! Dictionary<String,NSData!>\n        let message = NSString(data: userInfo[\"message\"]!, encoding: UInt())\n        let social = NSString(data: userInfo[\"social\"]!, encoding: UInt())\n        \n        // (2) userInfo\u306e\u60c5\u5831\u3092\u3082\u3068\u306bTwitter/Facebook\u30dc\u30bf\u30f3\u3069\u3061\u3089\u304c\u62bc\u3055\u308c\u305f\u306e\u304b\u7279\u5b9a\u3059\u308b\n        var type = String()\n        if social == \"twitter\" {\n            type = SLServiceTypeTwitter\n        } else if social == \"facebook\" {\n            type = SLServiceTypeFacebook\n        }\n        \n        // (3) shareViewController\u3092\u4f5c\u6210\u3001\u8868\u793a\u3059\u308b\n        var shareView = SLComposeViewController(forServiceType: type)\n        shareView.setInitialText(message as! String)\n        \n        shareView.completionHandler = {\n            (result:SLComposeViewControllerResult) -> () in\n            switch (result) {\n            case SLComposeViewControllerResult.Done:\n                println(\"SLComposeViewControllerResult.Done\")\n            case SLComposeViewControllerResult.Cancelled:\n                println(\"SLComposeViewControllerResult.Cancelled\")\n            }\n        }\n        self.presentViewController(shareView, animated: true, completion: nil)\n    }\n}\n```\n\n\n``` Swift:GameScene.swift\nimport SpriteKit\n\nclass GameScene: SKScene{\n\n    // \u5909\u6570\u5b9a\u7fa9\n    let twButton = SKSpriteNode(imageNamed:\"twitter_icon\")\n    let fbButton = SKSpriteNode(imageNamed:\"facebook_icon\")\n    var touchButtonName:String? = \"\"\n    \n    // \u30e1\u30a4\u30f3\n    override func didMoveToView(view: SKView) {\n\n        twButton.position = CGPoint(x: self.frame.width * 0.45, y: self.frame.size.height * 0.15)\n        twButton.name = \"twitter_button\"\n        self.addChild(twButton)\n        \n        fbButton.position = CGPoint(x: self.frame.width * 0.65, y: self.frame.size.height * 0.15)\n        fbButton.name = \"facebook_button\"\n        self.addChild(fbButton)\n    }\n    \n    // Twitter/Facebook\u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u3068\u304d\n    func socialButtonTapped(social:String){\n        \n        // share\u753b\u9762\u3067\u8868\u793a\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u683c\u7d0d\n        var message = String()\n        if social == \"twitter\" {\n            message = \"Twitter Share\"\n        } else {\n            message = \"Facebook Share\"\n        }\n        \n        // userinfo\u306b\u60c5\u5831(social\u306e\u7a2e\u985e\u3068message)\u3092\u683c\u7d0d\n        let userInfo = [\"social\": social.dataUsingEncoding(NSUTF8StringEncoding, allowLossyConversion: true)!,\"message\": message.dataUsingEncoding(NSUTF8StringEncoding, allowLossyConversion: true)!]\n        \n        // userInfo\u3082\u542b\u3081\u3066\u3001\"socialShare\"\u3068\u3044\u3046\u540d\u79f0\u306e\u901a\u77e5\u3092\u3053\u3053\u3067\u98db\u3070\u3059\n        NSNotificationCenter.defaultCenter().postNotificationName(\"socialShare\", object: nil, userInfo: userInfo)\n        \n    }\n    \n    // \u753b\u9762\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u3068\u304d\n    override func touchesBegan(touches: Set<NSObject>, withEvent event: UIEvent) {\n        for touch: AnyObject in touches {\n            let location = touch.locationInNode(self)\n            touchButtonName = nodeAtPoint(location).name\n            \n            if (touchButtonName == \"twitter_button\") {\n                socialButtonTapped(\"twitter\")\n            } else if (touchButtonName == \"facebook_button\") {\n                socialButtonTapped(\"facebook\")\n            }\n        }\n    }\n}\n```\n\n\u3053\u308c\u3067SKScene\u4e0a\u3067SNS\u6295\u7a3f\u753b\u9762\u3092\u8868\u793a\u3057\u3001\nTwitter\u3084Facebook\u3078\u6295\u7a3f\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n", "tags": ["Swift", "SpriteKit", "game", "iOS8"]}