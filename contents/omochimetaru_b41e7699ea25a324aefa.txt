{"tags": ["Swift", "LLVM"], "context": " More than 1 year has passed since last update.\n\n\u5c0e\u5165\nSwift\u3067\u306f\u901a\u5e38\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u5909\u6570\u306e\u578b\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf(associated type)\u3092\u6301\u3064\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5909\u6570\u306f\u4f5c\u308c\u307e\u305b\u3093\u3002\n\u975e\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u4f8b\nprotocol Hogeable {\n    func hoge() -> Int\n}\nstruct HogeCat: Hogeable {\n    func hoge() -> Int { return 1111 }\n}\nlet cat = HogeCat()\nlet hogeable: Hogeable = cat\n// \u30b3\u30f3\u30d1\u30a4\u30ebOK\n\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u4f8b\nprotocol Fugable {\n    typealias Element\n    func fug() -> Element\n}\nstruct FugaDog: Fugable {\n    func fuga() -> Int { return 2222 }\n}\nlet dog = FugaDog()\nlet fugable: Fugable = dog \n// \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n// protocol 'Fugable' can only be used as a generic constraint because it has Self or associated type requirements\n\n\u3053\u308c\u306fJava\u306e\u611f\u899a\u304b\u3089\u3059\u308b\u3068\u4e0d\u4fbf\u3067\u3059\u3002\n\u306a\u305c\u3053\u308c\u304c\u3067\u304d\u306a\u3044\u306e\u304b\u8003\u3048\u3092\u6df1\u3081\u308b\u305f\u3081\u306b\u3001\n\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u751f\u6210\u3059\u308b\u4e2d\u9593\u30b3\u30fc\u30c9\u3092\u898b\u3066\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u7d50\u8ad6\n\u308f\u304b\u3063\u305f\u3053\u3068\u304b\u3089\u306e\u63a8\u6e2c\u306b\u306a\u308a\u307e\u3059\u304c\u3001\n\u6700\u9069\u5316\u3057\u3084\u3059\u3044\u30b3\u30fc\u30c9\u304c\u81ea\u7136\u3068\u591a\u304f\u751f\u6210\u3055\u308c\u308b\u3088\u3046\u306b\u3001\n\u3042\u3048\u3066\u305d\u308c\u3092\u963b\u5bb3\u3059\u308b\u3053\u306e\u6a5f\u80fd\u3092\u8a00\u8a9e\u4ed5\u69d8\u306b\u542b\u3081\u3066\u3044\u306a\u3044\n\u306e\u3060\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n\u74b0\u5883\nApple Swift version 2.1.1 (swiftlang-700.1.101.15 clang-700.1.81)\n\n\u95a2\u9023\u30c6\u30af\u30cb\u30c3\u30af\n\u305d\u3082\u305d\u3082\u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3001\n\u3044\u304f\u3064\u304b\u306e\u59a5\u5354\u6848\u304c\u5b58\u5728\u3059\u308b\u306e\u3067\u5148\u306b\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nType Erasure\ntry! Swift\u3067\u306f\u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3001\n\u4e0b\u8a18\u306e\u3088\u3046\u306bType Erasure\u3092\u4f5c\u308b\u30ef\u30fc\u30af\u30a2\u30e9\u30a6\u30f3\u30c9\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\nType Erasure\u306e\u4f8b\nstruct AnyFugable<T>: Fugable {\n    typealias Element = T\n    private let fuga_: () -> T\n    init<F: Fugable where F.Element == T>(inner: F) {\n        fuga_ = { inner.fuga() }\n    }\n    func fuga() -> T { return fuga_() }\n}\nlet dog = FugaDog()\nlet fugable: AnyFugable = AnyFugable(inner: dog)\n\nSwift\u306e\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3082SequenceType\u306b\u5bfe\u3057\u3066AnySequence\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306a\u3069\u3001\n\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u306e\u554f\u984c\u70b9\u3068\u3057\u3066\u3001\nAnyFugable\u306e\u4e2d\u306b\u5165\u308c\u305finner\u304c\u3001\n\u52d5\u7684\u578b\u5224\u5b9a\u3084\u30ad\u30e3\u30b9\u30c8\u306b\u3088\u3063\u3066\u53d6\u308a\u51fa\u3059\u4e8b\u304c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306b\u3088\u308a\u3001\u5305\u3093\u3060\u3068\u3053\u308d\u3067\u5185\u90e8\u306e\u5024\u304c\u3082\u3063\u3066\u3044\u308b\u4ed6\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3082\u5931\u308f\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u305f\u3060\u3001SequenceType\u306e\u3088\u3046\u306b\u3001\u5024\u7684\u306b\u6271\u3048\u308b\u578b\u3067\u3042\u308c\u3070\u305d\u308c\u3067\u56f0\u308b\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u3053\u308c\u3089\u3092Java\u306einterface\u3068\u6bd4\u3079\u308b\u3068\u3001\nJava\u3067\u306f\u578b\u5224\u5b9a\u3068\u30c0\u30a6\u30f3\u30ad\u30e3\u30b9\u30c8\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3066Swift\u306f\u4e0d\u4fbf\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u308c\u3068\u3001\u5b9f\u88c5\u304c\u9762\u5012\u304f\u3055\u3044\u3067\u3059\u3002\n\n\u305d\u3082\u305d\u3082Class\u3092\u4f7f\u3046\n\u305d\u3082\u305d\u3082\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u306f\u306a\u304fClass\u3092\u4f7f\u3063\u3066\u3001\n\u30aa\u30fc\u30d0\u30e9\u30a4\u30c9\u306b\u3088\u308b\u30dd\u30ea\u30e2\u30fc\u30d5\u30a3\u30ba\u30e0\u3067\u8a2d\u8a08\u3059\u308c\u3070\u578b\u30d1\u30e9\u3092\u542b\u3080\u53c2\u7167\u578b\u306e\u5909\u6570\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u3067\u6e08\u3080\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001\u30af\u30e9\u30b9\u3060\u3068\u591a\u91cd\u7d99\u627f\u3067\u304d\u306a\u3044\u306a\u3069\u306e\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u7279\u5b9a\u306eStruct\u306b\u5909\u63db\u3059\u308b\n\u4f8b\u3048\u3070SequenceType\u306e\u5834\u5408\u306f\u3001Array<T>\u306b\u5909\u63db\u3057\u3066\u3057\u307e\u3048\u3070\u4fdd\u6301\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u3067\u6e08\u3080\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\u3057\u304b\u3057\u3053\u306e\u5834\u5408\u3001\u4e00\u5ea6Array\u306b\u3059\u308b\u305f\u3081\u306b\u8981\u7d20\u306e\u30b3\u30d4\u30fc\u304c\u5fc5\u8981\u3067\u3001\u51e6\u7406\u30b3\u30b9\u30c8\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001\u3082\u3068\u3082\u3068\u306eSequenceType\u304c\u6301\u3063\u3066\u3044\u305f\u30c7\u30fc\u30bf\u69cb\u9020\u3068\u306f\u95a2\u4fc2\u306a\u304f\u306a\u308b\u305f\u3081\u3001\n\u30e1\u30bd\u30c3\u30c9\u306b\u5bfe\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3054\u3068\u306b\u3075\u308b\u307e\u3044\u3092\u5909\u3048\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\nJava\u3060\u3068List\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3001\nArrayList\u3092\u5165\u308c\u305f\u308aLinkedList\u3092\u5165\u308c\u305f\u308a\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u304c\u57fa\u672c\u3067\u3059\u304c\u3001\n\u305d\u308c\u304c\u3067\u304d\u307e\u305b\u3093\u3002\nAnySequence\u3067\u306f\u5143\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4fdd\u6301\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n\u3075\u308b\u307e\u3044\u306f\u4fdd\u6301\u3055\u308c\u307e\u3059\u3002\n\n\u5909\u6570\u306f\u4f5c\u308c\u306a\u3044\u304c\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u95a2\u6570\u306f\u4f5c\u308c\u308b\nlet fugable: Fugable\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u3064\u307e\u308a\u3001\u578b\u30d1\u30e9\u3092\u7279\u6b8a\u5316\u3057\u305f\u578b\u3068\u3057\u3066\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u5024\u3092\u4fdd\u6301\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u3067\u3059\u304c\u3001\u578b\u30d1\u30e9\u3092\u7279\u6b8a\u5316\u3057\u305f\u578b\u306b\u5024\u3092\u4e0e\u3048\u308b\u4e8b\u306f\u3067\u304d\u307e\u3059\u3002\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u3067\u3059\u3002\nfunc callIntFugableFuga<F: Fugable where F.Element == Int>(fugable: F) -> Int {\n    return fugable.fuga()\n}\nlet dog = FugaDog()\ncallIntFugableFuga(dog)\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u3066\u52d5\u304d\u307e\u3059\u3002\ncallIntFugableFuga\u306e\u5f15\u6570fugable\u306e\u578b\u306f\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bfElement\u304cInt\u306b\u5236\u7d04\u3055\u308c\u305fFugable\u3067\u3059\u3002\n\u672c\u6765\u3001\u5024\u3092\u5909\u6570\u3078\u4ee3\u5165\u3059\u308b\u5834\u5408\u3068\u3001\n\u5024\u3092\u95a2\u6570\u306e\u5f15\u6570\u3078\u6e21\u3059\u5834\u5408\u306e\u3001\n\u578b\u30b7\u30b9\u30c6\u30e0\u3068\u3057\u3066\u306e\u30eb\u30fc\u30eb\u306f\u540c\u3058\u3067\u3059\u304c\u3001\n\u5909\u6570\u306b\u5b9a\u7fa9\u3059\u308b\u4e8b\u306f\u3067\u304d\u306a\u304f\u3066\u3082\u3001\n\u95a2\u6570\u306e\u4eee\u5f15\u6570\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u306b\u675f\u7e1b\u3059\u308b\u4e8b\u306f\u53ef\u80fd\u306a\u306e\u3067\u3059\u3002\n\u3053\u308c\u3092\u8ef8\u306b\u8abf\u67fb\u3092\u9032\u3081\u307e\u3057\u305f\u3002\n\n\u30d7\u30ed\u30b3\u30c8\u30eb\u306b\u3088\u308b\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u306e\u5b9f\u88c5 (SIL)\n\u305d\u3082\u305d\u3082\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u3057\u3066\u5024\u3092\u6271\u3046\u3068\u3044\u3046\u306e\u306f\u3069\u3046\u3044\u3046\u4e8b\u306a\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\u4f8b\u3048\u3070\u3001\u540c\u3058Fugable\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u6e80\u305f\u3057\u3066\u3044\u308bstruct FugaDog\u3068\u3001struct FugaElephant\u304c\u3042\u3063\u305f\u6642\u3001\n\u306a\u305c\u3069\u3061\u3089\u3082\u540c\u3058\u3088\u3046\u306bFugable\u578b\u306e\u5909\u6570\u306b\u4ee3\u5165\u3067\u304d\u308b\u306e\u3067\u3057\u3087\u3046\u3002\n\u4e21\u65b9\u3068\u3082\u5024\u578b\u3067\u3001\u7570\u306a\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3001\u30e1\u30bd\u30c3\u30c9\u5b9a\u7fa9\u3092\u6301\u3064\u306e\u306b\u3001\n\u306a\u305c\u4e92\u63db\u6027\u306e\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u6271\u3048\u3001\n\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u5206\u3051\u308b\u4e8b\u304c\u3067\u304d\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\u5b9f\u969b\u306b\u305d\u306e\u5909\u63db\u304c\u884c\u308f\u308c\u308b\u3068\u3053\u308d\u3092\u4e2d\u9593\u30b3\u30fc\u30c9\u3067\u898b\u3066\u307f\u308c\u3070\u3001\n\u3088\u308a\u5185\u90e8\u306e\u7406\u89e3\u304c\u3067\u304d\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\u307e\u305a\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n// 1.swift\nprotocol Hogeable {\n    func hoge() -> Int\n}\nstruct HogeCat: Hogeable {\n    func hoge() -> Int { return 1111 }\n}\n\nfunc callHogeableHoge(hogeable: Hogeable) -> Int {\n    return hogeable.hoge()\n}\nfunc callCatHoge(cat: HogeCat) -> Int {\n    return callHogeableHoge(cat)\n}\n\nprint(callCatHoge(HogeCat()))\n\ncallHogeableHoge\u306fHogeable\u306e\u5f15\u6570\u3092\u53d6\u308a\u307e\u3059\u3002\ncallCatHoge\u306fHogeCat\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001callHogeableHoge\u306b\u6e21\u3057\u307e\u3059\u3002\n\u306a\u306e\u3067\u3001callCatHoge\u306e\u5185\u90e8\u3067\u3001HogeCat\u304b\u3089Hogeable\u3078\u306e\u5909\u63db\u304c\u8d77\u3053\u308a\u307e\u3059\u3002\n\u3053\u306e\u90e8\u5206\u306e\u751f\u6210\u30b3\u30fc\u30c9\u3092\u7279\u306b\u8abf\u3079\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nSIL\u306b\u3064\u3044\u3066\n\u306a\u304a\u3001Swift\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u3001\u307e\u305aSIL\u3068\u3044\u3046\u4e2d\u9593\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u3001\n\u305d\u3053\u304b\u3089LLVM IR\u3068\u3044\u3046\u4e2d\u9593\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u3001\n\u6700\u5f8c\u306b\u30cd\u30a4\u30c6\u30a3\u30d6\u30d0\u30a4\u30ca\u30ea\u3092\u751f\u6210\u3057\u307e\u3059\u3002\nSIL\u306f\u578b\u30b7\u30b9\u30c6\u30e0\u3068\u3057\u3066\u306fSwift\u30ec\u30d9\u30eb\u306e\u3082\u306e\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u304c\u3001\n\u30e1\u30bd\u30c3\u30c9\u5b9a\u7fa9\u306a\u3069\u306f\u95a2\u6570\u5b9a\u7fa9\u306b\u66f8\u304d\u4e0b\u3055\u308c\u3001\n\u5236\u5fa1\u69cb\u6587\u306f\u30a2\u30bb\u30f3\u30d6\u30ea\u7684\u306a\u30e9\u30d9\u30eb\u30b8\u30e3\u30f3\u30d7\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nSIL\u306b\u306fraw SIL\u3068canonical SIL\u304c\u3042\u308a\u3001\nraw\u304b\u3089canonical\u3078\u306e\u5909\u63db\u6642\u306b\u3044\u304f\u3064\u304b\u306e\u6700\u9069\u5316\u304c\u884c\u308f\u308c\u307e\u3059\u3002\n\u4eca\u56de\u306f\u307e\u305a\u3001Swift\u304b\u3089\u306a\u308b\u3079\u304f\u8fd1\u3044\u3001\u6700\u9069\u5316\u7121\u3057\u306eraw SIL\u3092\u8abf\u3079\u3066\u307f\u307e\u3059\u3002\n\u306a\u304a\u3001SIL\u306e\u30b3\u30fc\u30c9\u3092\u8aad\u3080\u3068\u304d\u306f\u3001\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u3068\u826f\u3044\u3067\u3059\u3002\n\nSIL\u30b3\u30fc\u30c9\u3092\u8aad\u3080\n\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30d1\u30a4\u30e9\u3067SIL\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\u6700\u9069\u5316\u3092\u3057\u306a\u3044\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\nswiftc -emit-silgen -Onone 1.swift > 1-rawsil.sil\n\n\u51fa\u529b\u7d50\u679c\u304b\u3089\u4f59\u8a08\u306a\u3082\u306e\u3092\u524a\u9664\u3057\u3066\u90e8\u5206\u5f15\u7528\u3057\u307e\u3059\u3002\n// main.HogeCat.hoge (main.HogeCat)() -> Swift.Int\nsil hidden @_TFV4main7HogeCat4hogefS0_FT_Si : $@convention(method) (HogeCat) -> Int {\n    ...\n}\n// protocol witness for main.Hogeable.hoge <A where A: main.Hogeable> (A)() -> Swift.Int in conformance main.HogeCat : main.Hogeable in main\nsil hidden [transparent] [thunk] @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si : $@convention(witness_method) (@in_guaranteed HogeCat) -> Int {\n    ...\n}\n// main.callHogeableHoge (main.Hogeable) -> Swift.Int\nsil hidden @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int {\n    ...\n}\n// main.callCatHoge (main.HogeCat) -> Swift.Int\nsil hidden @_TF4main11callCatHogeFVS_7HogeCatSi : $@convention(thin) (HogeCat) -> Int {\n    ...\n}\nsil_witness_table hidden HogeCat: Hogeable module main {\n    ...\n}\n\nsil\u3067\u59cb\u307e\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u95a2\u6570\u5b9a\u7fa9\u3067\u3059\u3002\n\u3044\u307e\u30014\u3064\u306e\u95a2\u6570\u5b9a\u7fa9\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e00\u756a\u6c17\u306b\u306a\u308bcallCatHoge\u306e\u5b9f\u88c5\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n// main.callCatHoge (main.HogeCat) -> Swift.Int\nsil hidden @_TF4main11callCatHogeFVS_7HogeCatSi : $@convention(thin) (HogeCat) -> Int {\nbb0(%0 : $HogeCat):\n  debug_value %0 : $HogeCat  // let cat           // id: %1\n  // function_ref main.callHogeableHoge (main.Hogeable) -> Swift.Int\n  %2 = function_ref @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int // user: %6\n  %3 = alloc_stack $Hogeable                      // users: %4, %6, %7\n  %4 = init_existential_addr %3#1 : $*Hogeable, $HogeCat // user: %5\n  store %0 to %4 : $*HogeCat                      // id: %5\n  %6 = apply %2(%3#1) : $@convention(thin) (@in Hogeable) -> Int // user: %8\n  dealloc_stack %3#0 : $*@local_storage Hogeable  // id: %7\n  return %6 : $Int                                // id: %8\n}\n\n\u3053\u306e\u884c\u3067\u3001\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u305fHogeCat\u578b\u306e\u5909\u6570\u3092\u3001%0\u3068\u540d\u524d\u4ed8\u3051\u3057\u3066\u3044\u307e\u3059\u3002\nbb0(%0 : $HogeCat):\n\n\u3053\u306e\u884c\u3067\u3001\u95a2\u6570@_TF4main16callHogeableHogeFPS_8Hogeable_Si\u3092%2\u306b\u4ee3\u5165\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u95a2\u6570\u306f\u3001\u6700\u521d\u306b\u5f15\u7528\u3057\u305f\u3068\u304a\u308a\u3001callHogeableHoge\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u305f\u3082\u306e\u3067\u3059\u3002\n%2 = function_ref @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int // user: %6\n\n\u6b21\u306e\u884c\u3067\u3001\u30b9\u30bf\u30c3\u30af\u30e1\u30e2\u30ea\u306b$Hogeable\u578b\u306e\u30b5\u30a4\u30ba\u306e\u9818\u57df\u3092\u78ba\u4fdd\u3057\u3001\u305d\u306e\u30dd\u30a4\u30f3\u30bf\u3092%3\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u6b21\u3067\u3001\u305d\u306e\u9818\u57df(%3)\u3092HogeCat\u7528\u306eHogeable\u9818\u57df\u3068\u3057\u3066\u521d\u671f\u5316\u3057\u3001\n\u305d\u306e\u6b21\u3067\u3001\u305d\u306e\u9818\u57df(%4)\u306b\u5f15\u6570\u3067\u53d7\u3051\u305fcat(%0)\u3092\u30b3\u30d4\u30fc\u3057\u3066\u3044\u307e\u3059\u3002\n(%3\u306e\u5f8c\u308d\u306b\u4ed8\u3044\u3066\u3044\u308b#1\u306e\u610f\u5473\u306f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u30b9\u30eb\u30fc\u3057\u307e\u3059\u3002)\n  %3 = alloc_stack $Hogeable                      // users: %4, %6, %7\n  %4 = init_existential_addr %3#1 : $*Hogeable, $HogeCat // user: %5\n  store %0 to %4 : $*HogeCat                      // id: %5\n\n\u6700\u5f8c\u306b\u3001%2\u306b\u7528\u610f\u3057\u305f\u95a2\u6570\u3092\u3001cat\u304b\u3089\u4f5c\u3063\u305f$Hogeable\u3078\u306e\u30dd\u30a4\u30f3\u30bf%3\u3092\u6e21\u3057\u3066\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n  %6 = apply %2(%3#1) : $@convention(thin) (@in Hogeable) -> Int // user: %8\n\n\u3064\u307e\u308a\u3001\u3053\u3053\u307e\u3067\u306e\u5185\u5bb9\u306b\u3088\u308a\u3001\nHogeCat\u3092Hogeable\u3068\u3057\u3066\u6e21\u3059\u3068\u304d\u306b\u306f\u3001\nHogeCat\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u305d\u306e\u307e\u307e\u6e21\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u3001\n\u3044\u3063\u305f\u3093\u30a2\u30af\u30bb\u30b9\u3092\u4ef2\u4ecb\u3059\u308b\u305f\u3081\u306e$Hogeable\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u3001\nHogeable\u304b\u3089HogeCat\u3092\u9593\u63a5\u7684\u306b\u53c2\u7167\u3055\u305b\u308b\u5f62\u3092\u4f5c\u3063\u3066\u547c\u3073\u51fa\u3057\u3066\u3044\u305f\u4e8b\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\u3055\u3066\u3001\u5f8c\u308d\u306e\u65b9\u306b\u95a2\u6570\u5b9a\u7fa9\u3068\u306f\u5225\u306e\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\nsil_witness_table hidden HogeCat: Hogeable module main {\n  method #Hogeable.hoge!1: @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si    // protocol witness for main.Hogeable.hoge <A where A: main.Hogeable> (A)() -> Swift.Int in conformance main.HogeCat : main.Hogeable in main\n}\n\n\u3053\u308c\u306fwitness\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u30b3\u30fc\u30c9\u3067\u3059\u3002\nwitness\u30c6\u30fc\u30d6\u30eb\u3068\u3044\u3046\u3082\u306e\u306b\u3064\u3044\u3066\u8abf\u3079\u305f\u7d50\u679c\u3001\n\u3053\u308c\u306f\u96d1\u306b\u8a00\u3046\u3068\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u7248\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u3002\n\u3053\u3053\u3067\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u306fHogeCat\u304cHogeable\u3068\u3057\u3066\u632f\u308b\u821e\u3046\u6642\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4f7f\u3046\u305f\u3081\u306e\u3001\n\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u30c6\u30fc\u30d6\u30eb\u3067\u3059\u3002\nHogeable\u306b\u306f\u30e1\u30bd\u30c3\u30c9hoge\u304c\u4e00\u3064\u3060\u3051\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\n\u305d\u308c\u306b\u5bfe\u5fdc\u3057\u3066\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u3082\u3001\u30e1\u30bd\u30c3\u30c9#Hogeable.hoge!1\u3068\u3057\u3066\u3001\n\u95a2\u6570@_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306e\u5b9a\u7fa9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n// protocol witness for main.Hogeable.hoge <A where A: main.Hogeable> (A)() -> Swift.Int in conformance main.HogeCat : main.Hogeable in main\nsil hidden [transparent] [thunk] @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si : $@convention(witness_method) (@in_guaranteed HogeCat) -> Int {\nbb0(%0 : $*HogeCat):\n  %1 = alloc_stack $HogeCat                       // users: %2, %3, %6\n  copy_addr %0 to [initialization] %1#1 : $*HogeCat // id: %2\n  %3 = load %1#1 : $*HogeCat                      // user: %5\n  // function_ref main.HogeCat.hoge (main.HogeCat)() -> Swift.Int\n  %4 = function_ref @_TFV4main7HogeCat4hogefS0_FT_Si : $@convention(method) (HogeCat) -> Int // user: %5\n  %5 = apply %4(%3) : $@convention(method) (HogeCat) -> Int // user: %7\n  dealloc_stack %1#0 : $*@local_storage HogeCat   // id: %6\n  return %5 : $Int                                // id: %7\n}\n\n\u3056\u3063\u304f\u308a\u8aad\u3080\u3068\u3001\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066$HogeCat\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u53d7\u3051\u53d6\u308a\u3001\n\u305d\u306e\u53d7\u3051\u53d6\u3063\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3001\n\u95a2\u6570@_TFV4main7HogeCat4hogefS0_FT_Si\u306b\u6e21\u3057\u3066\u547c\u3073\u51fa\u3059\u3001\n\u3068\u3044\u3046\u5f62\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\u95a2\u6570@_TFV4main7HogeCat4hogefS0_FT_Si\u306fHogeCat\u306ehoge\u30e1\u30bd\u30c3\u30c9\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u305f\u3082\u306e\u3067\u3001\n\u5f15\u6570\u3068\u3057\u3066$HogeCat\u3092\u53d7\u3051\u53d6\u308a\u3001\u305d\u306e\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001witness\u30c6\u30fc\u30d6\u30eb\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u95a2\u6570\u306f\u3001\nHogeCat\u3068\u3044\u3046\u5b9f\u969b\u306e\u578b\u304cHogeable\u3068\u3044\u3046\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u3057\u3066\u4f7f\u308f\u308c\u3066\u3044\u308b\u6642\u306e\u305f\u3081\u306e\u3001\nHogeCat\u306e\u672c\u5f53\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u30b0\u30eb\u30fc\u30b3\u30fc\u30c9\u304c\u66f8\u304b\u308c\u305f\u3082\u306e\u3001\n\u3068\u3044\u3046\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u6700\u5f8c\u306b\u3001callHogeableHoge\u306eSIL\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n// main.callHogeableHoge (main.Hogeable) -> Swift.Int\nsil hidden @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int {\nbb0(%0 : $*Hogeable):\n  debug_value_addr %0 : $*Hogeable  // let hogeable // id: %1\n  %2 = open_existential_addr %0 : $*Hogeable to $*@opened(\"0EAE1E88-E6A6-11E5-97B8-A8667F09828A\") Hogeable // users: %3, %4\n  %3 = witness_method $@opened(\"0EAE1E88-E6A6-11E5-97B8-A8667F09828A\") Hogeable, #Hogeable.hoge!1, %2 : $*@opened(\"0EAE1E88-E6A6-11E5-97B8-A8667F09828A\") Hogeable : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Hogeable> (@in_guaranteed \u03c4_0_0) -> Int // user: %4\n  %4 = apply %3<@opened(\"0EAE1E88-E6A6-11E5-97B8-A8667F09828A\") Hogeable>(%2) : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Hogeable> (@in_guaranteed \u03c4_0_0) -> Int // user: %6\n  destroy_addr %0 : $*Hogeable                    // id: %5\n  return %4 : $Int                                // id: %6\n}\n\n\u306a\u3093\u3060\u304b\u3088\u304f\u308f\u304b\u3089\u306a\u3044UUID\u304c\u51fa\u3066\u304d\u3066\u8aad\u307f\u3065\u3089\u3044\u3067\u3059\u304c\u3001\n\u3056\u3063\u304f\u308a\u3068\u69cb\u9020\u3092\u8aad\u307f\u53d6\u308b\u3068\u3001\n\u5f15\u6570\u3067\u53d7\u3051\u53d6\u3063\u305f$Hogeable\u3078\u306e\u30dd\u30a4\u30f3\u30bf%0\u304c\u3001\n%2\u3092\u7d4c\u7531\u3057\u3066\u3001witness_method\u547d\u4ee4\u306b\u6e21\u3055\u308c\u3001\n\u53d6\u5f97\u3057\u305f\u95a2\u6570%3\u3092\u3001\u3053\u308c\u307e\u3067\u540c\u69d8apply\u3067\u547c\u3073\u51fa\u3059\u3001\u3068\u3044\u3046\u5f62\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u307e\u3067\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u95a2\u6570\u3092\u53c2\u7167\u3059\u308b\u3068\u3053\u308d\u306f\u3001\nfunction_ref\u547d\u4ee4\u3092\u4f7f\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\u3053\u306e\u547d\u4ee4\u306f\u3001\u5f15\u6570\u3068\u3057\u3066@\u304b\u3089\u59cb\u307e\u308b\u95a2\u6570\u540d\u3060\u3051\u3092\u7528\u3044\u3066\u3001\u95a2\u6570\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u3057\u304b\u3057\u3053\u3053\u3067\u306f\u3001witness_method\u547d\u4ee4\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\nHogeable\u3068\u3044\u3046\u578b\u540d\u3001\n#Hogeable.hoge!1\u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u540d\u3001\n\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8(%2)\u306e3\u3064\u306e\u5f15\u6570\u3092\u7528\u3044\u3066\u95a2\u6570\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u90e8\u5206\u306b\u3066\u3001\n\u5148\u307b\u3069\u898b\u305fwitness\u30c6\u30fc\u30d6\u30eb\u306e\u30a8\u30f3\u30c8\u30ea\u304c\u53d6\u308a\u51fa\u3055\u308c\u3001\nHogeable\u3068\u3057\u3066\u6271\u308f\u308c\u3066\u3044\u308b\u5b9f\u969b\u306e\u578b\u306b\u5fdc\u3058\u305f\u95a2\u6570\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u3001\n\u3068\u3044\u3046\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u52d5\u4f5c\u306e\u307e\u3068\u3081\n\u3053\u3053\u307e\u3067\u306e\u7d50\u679c\u3092\u307e\u3068\u3081\u308b\u3068\u3001HogeCat\u304cHogeable\u3068\u3057\u3066\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u3001\n\u305d\u306ehoge\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u904e\u7a0b\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n(callHogeableHoge\u3092\u4ecb\u3059\u90e8\u5206\u3092\u7701\u7565\u3057\u307e\u3059\u3002)\n\n\nHogeable\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\u3002\n\u3053\u308c\u3092HogeCat\u7528\u306b\u521d\u671f\u5316\u3057\u3001HogeCat\u306e\u5024\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\u4f5c\u3063\u305fHogeable\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u3001\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u305f\u5024\u3068\u3057\u3066\u6271\u3046\u3002\n\nHogeable\u306e\u30dd\u30a4\u30f3\u30bf\u304b\u3089\u3001\u305d\u306e\u5024\u7528\u306ewitness\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3057\u3001\n\u30e1\u30bd\u30c3\u30c9\u3068\u306a\u308b\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u547c\u3073\u51fa\u3059\u3002\nwitness\u30c6\u30fc\u30d6\u30eb\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u305f\u95a2\u6570\u306f\u3001\nwitness\u30c6\u30fc\u30d6\u30eb\u7528\u306e\u30b0\u30eb\u30fc\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\u5f15\u6570\u3067\u6e21\u3055\u308c\u305f\u30a2\u30c9\u30ec\u30b9\u306fHogeCat\u306e\u30dd\u30a4\u30f3\u30bf\u3068\u306a\u3063\u3066\u3044\u308b\u3002\n\u3053\u308c\u3092\u7528\u3044\u3066\u3001HogeCat\u306e\u30e1\u30bd\u30c3\u30c9\u672c\u4f53\u3092\u547c\u3073\u51fa\u3059\u3002\n\nHogeCat\u306e\u30e1\u30bd\u30c3\u30c9\u672c\u4f53\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u3002\n\n\u3053\u308c\u3067\u306a\u305c\u3001struct\u304c\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u3057\u3066\u6271\u3048\u3001\n\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u304c\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u3067\u304d\u308b\u304b\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\n\u6700\u9069\u5316\u306b\u3064\u3044\u3066\n\u306a\u304a\u3001\u4e0a\u8a18\u306e\u7d50\u679c\u306f\u7d50\u69cb\u3084\u3084\u3053\u3057\u3044\u904e\u7a0b\u3092\u7d4c\u3066\u3044\u307e\u3059\u304c\u3001\n\u5b9f\u969b\u306b\u306f\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u3088\u3063\u3066\u3053\u3053\u304b\u3089\u6700\u9069\u5316\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u6700\u9069\u5316\u3042\u308a\u306ecanonical SIL\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\nswiftc -emit-sil -O 1.swift > 1-canosil-o.sil\n\n\u4e0b\u8a18\u304c\u51fa\u529b\u3067\u3059\u3002\n// main.HogeCat.hoge (main.HogeCat)() -> Swift.Int\nsil hidden @_TFV4main7HogeCat4hogefS0_FT_Si : $@convention(method) (HogeCat) -> Int {\nbb0(%0 : $HogeCat):\n  %1 = integer_literal $Builtin.Int64, 1111       // user: %2\n  %2 = struct $Int (%1 : $Builtin.Int64)          // user: %3\n  return %2 : $Int                                // id: %3\n}\n\n// protocol witness for main.Hogeable.hoge <A where A: main.Hogeable> (A)() -> Swift.Int in conformance main.HogeCat : main.Hogeable in main\nsil hidden [transparent] [thunk] @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si : $@convention(witness_method) (@in_guaranteed HogeCat) -> Int {\nbb0(%0 : $*HogeCat):\n  %1 = integer_literal $Builtin.Int64, 1111       // user: %2\n  %2 = struct $Int (%1 : $Builtin.Int64)          // user: %3\n  return %2 : $Int                                // id: %3\n}\n\n// main.callHogeableHoge (main.Hogeable) -> Swift.Int\nsil hidden @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int {\nbb0(%0 : $*Hogeable):\n  debug_value_addr %0 : $*Hogeable  // let hogeable // id: %1\n  %2 = open_existential_addr %0 : $*Hogeable to $*@opened(\"3CD6449A-E6AE-11E5-A7DB-A8667F09828A\") Hogeable // users: %3, %4\n  %3 = witness_method $@opened(\"3CD6449A-E6AE-11E5-A7DB-A8667F09828A\") Hogeable, #Hogeable.hoge!1, %2 : $*@opened(\"3CD6449A-E6AE-11E5-A7DB-A8667F09828A\") Hogeable : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Hogeable> (@in_guaranteed \u03c4_0_0) -> Int // user: %4\n  %4 = apply %3<@opened(\"3CD6449A-E6AE-11E5-A7DB-A8667F09828A\") Hogeable>(%2) : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Hogeable> (@in_guaranteed \u03c4_0_0) -> Int // user: %6\n  destroy_addr %0 : $*Hogeable                    // id: %5\n  return %4 : $Int                                // id: %6\n}\n\n\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u90e8\u5206\u304c\u3001\nwitness_method\u547d\u4ee4\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u304c\u3001\nHogeCat\u306ehoge\u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u4f53@_TFV4main7HogeCat4hogefS0_FT_Si\u3068\u3001\nHogeCat\u306ewitness\u30e1\u30bd\u30c3\u30c9@_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si\u304c\u3001\n\u305d\u308c\u305e\u308c\u30a4\u30f3\u30e9\u30a4\u30f3\u5c55\u958b\u3055\u308c\u3001\u540c\u3058\u5185\u5bb9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nwitness\u30e1\u30bd\u30c3\u30c9\u306f\u3082\u306f\u3084\u30b0\u30eb\u30fc\u30b3\u30fc\u30c9\u3067\u306f\u306a\u304f\u3001\u72ec\u81ea\u306b\u5b9f\u88c5\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u3088\u308b\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u306e\u5b9f\u88c5 (LLVM IR)\n\u3057\u304b\u3057\u3001witness\u30c6\u30fc\u30d6\u30eb\u3068\u304bwitness_method\u547d\u4ee4\u3068\u304b\u3001\n\u3053\u3053\u3089\u3078\u3093\u306e\u6319\u52d5\u306f\u8b0e\u306e\u307e\u307e\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001SIL\u304b\u3089\u3055\u3089\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u9032\u3081\u3066\u3001LLVM IR\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\nLLVM IR\u306b\u3064\u3044\u3066\nLLVM IR\u306f\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u57fa\u76e4LLVM\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u4e2d\u9593\u8a00\u8a9e\u3067\u3059\u3002\n\u3053\u306e\u8a00\u8a9e\u306f\u3001Swift\u3068\u306f\u72ec\u7acb\u3057\u305f\u3082\u306e\u3067\u3001\nclang\u3067C++\u306a\u3069\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u969b\u3082\u3001LLVM IR\u304c\u7d4c\u7531\u3055\u308c\u307e\u3059\u3002\nSwift\u3068\u306f\u72ec\u7acb\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n\u578b\u30b7\u30b9\u30c6\u30e0\u306fSwift\u3068\u95a2\u4fc2\u306a\u304f\u3001\nwitness\u30c6\u30fc\u30d6\u30eb\u3068\u3044\u3063\u305f\u6982\u5ff5\u3082\u306a\u304f\u3001\n\u305d\u308c\u3089\u306e\u30e1\u30e2\u30ea\u4e0a\u3067\u306e\u8868\u73fe\u304c\u76f4\u63a5\u30b3\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\u30a2\u30bb\u30f3\u30d6\u30ea\u306b\u8fd1\u3044\u3088\u3046\u306a\u8a00\u8a9e\u4ed5\u69d8\u3067\u3059\u304c\u3001\n\u51e6\u7406\u7cfb\u306b\u8fd1\u3044\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b\u3001\u69cb\u9020\u4f53\u3001\u30dd\u30a4\u30f3\u30bf\u306a\u3069\u306e\u578b\u4fee\u98fe\u3001\u95a2\u6570\u5b9a\u7fa9\u3001\n\u3068\u3044\u3063\u305f\u6a5f\u80fd\u304c\u3042\u308b\u306e\u3067\u3001\n\u751f\u306e\u30a2\u30bb\u30f3\u30d6\u30ea\u3088\u308a\u3082\u3060\u3044\u3076\u69cb\u9020\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nC\u8a00\u8a9e\u3068\u30a2\u30bb\u30f3\u30d6\u30ea\u306e\u9593\u3050\u3089\u3044\u306b\u3042\u308b\u3088\u3046\u306a\u8a00\u8a9e\u3067\u3059\u3002\nLLVM IR\u3092\u8aad\u3080\u3068\u304d\u306f\u3001\u3053\u306e\u8cc7\u6599\u3092\u53c2\u7167\u3059\u308b\u3068\u826f\u3044\u3067\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001callCatHoge, callHogeableHoge\u306e\u5b9f\u88c5\u3068\u3001\nwitness\u30c6\u30fc\u30d6\u30eb\u307e\u308f\u308a\u306e\u5b9f\u88c5\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\nLLVM IR\u3092\u5f97\u308b\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u3082\u6700\u9069\u5316\u3092\u5207\u3063\u3066\u304a\u304d\u307e\u3059\u3002\nswiftc -emit-ir -Onone 1.swift > 1-ir.ll\n\n\u305f\u3060\u3001\u3061\u3087\u3063\u3068\u6700\u9069\u5316\u304c\u52b9\u3044\u3066\u3057\u307e\u3063\u3066\u8aac\u660e\u306b\u90fd\u5408\u304c\u308f\u308b\u304b\u3063\u305f\u306e\u3067\u3001\nswift\u30b3\u30fc\u30c9\u3092\u3061\u3087\u3063\u3068\u4fee\u6b63\u3057\u307e\u3059\u3002\nstruct HogeCat: Hogeable {\n    var a: Int = 1111\n    func hoge() -> Int { return a }\n}\n\nHogeCat\u306f\u30d5\u30a3\u30fc\u30eb\u30c9a\u306e\u5024\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nLLVM IR\u3092\u8aad\u3080\n\u751f\u6210\u3055\u308c\u305f\u30b3\u30fc\u30c9\u306fSIL\u306e\u3088\u3046\u306b\u30b3\u30e1\u30f3\u30c8\u304c\u3042\u307e\u308a\u7121\u304f\u3001\n\u884c\u6570\u3082\u591a\u3044\u306e\u3067\u3059\u304c\u3001SIL\u3067\u751f\u6210\u3055\u308c\u305f\u95a2\u6570\u540d\u3068\u540c\u3058\u540d\u524d\u3067\u95a2\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u308b\u306e\u3067\u3001\n\u305d\u308c\u3089\u3092\u8d77\u70b9\u306b\u8fbf\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u307e\u305a\u306f\u3001HogeCat\u306e\u5b9f\u4f53\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nSIL\u3067\u306fwitness\u30e1\u30bd\u30c3\u30c9\u306fHogeCat\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u53d6\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\u305d\u306e\u95a2\u6570\u306f@_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si\u3067\u3057\u305f\u3002\nIR\u3067\u540c\u3058\u540d\u524d\u3092\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\ndefine hidden i64 @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si(%V4main7HogeCat* noalias nocapture dereferenceable(8), %swift.type* %Self) #0 {\nentry:\n  %.a = getelementptr inbounds %V4main7HogeCat* %0, i32 0, i32 0\n  %.a.value = getelementptr inbounds %Si* %.a, i32 0, i32 0\n  %1 = load i64* %.a.value, align 8\n  %2 = call i64 @_TFV4main7HogeCat4hogefS0_FT_Si(i64 %1) #3\n  ret i64 %2\n}\n\n\u7b2c1\u5f15\u6570\u304c\u578b%V4main7HogeCat\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u7b2c2\u5f15\u6570\u304c%swift.type\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u5143\u306eSIL\u306e\u95a2\u6570\u3068\u304f\u3089\u3079\u3066\u3001\u7b2c2\u5f15\u6570\u304c\u5897\u3048\u3066\u3044\u307e\u3059\u306d\u3002\n\u3055\u3066\u3001\u3053\u306e\u7b2c1\u5f15\u6570\u306e\u578b\u306e\u5b9a\u7fa9\u3092\u63a2\u3059\u3068\u4e0b\u8a18\u304c\u898b\u3064\u304b\u308a\u307e\u3059\u3002\n%Si = type <{ i64 }>\n%V4main7HogeCat = type <{ %Si }>\n\nHogeCat\u3068\u3044\u3046\u578b\u304c\u3001\u6574\u6570\u578b\u4e00\u3064\u3068\u5b9a\u7fa9\u3055\u308c\u3001\n\u6574\u6570\u578b\u304c64bit\u6574\u6570\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u307e\u305f\u3053\u306e\u95a2\u6570\u306e\u5185\u90e8\u3067\u3001HogeCat\u306ehoge\u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u4f53\u3001\n@_TFV4main7HogeCat4hogefS0_FT_Si\u304c\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u5f15\u6570\u306fi64 %1\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u300164bit\u6574\u6570\u4e00\u3064\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\nHogeCat\u306f2\u968e\u5c64\u306e\u69cb\u9020\u4f53\u3067\u3059\u304c\u3001\u7d50\u5c40i64\u30d5\u30a3\u30fc\u30eb\u30c91\u3064\u3057\u304b\u3082\u305f\u306a\u3044\u305f\u3081\u3001\ni64\u304cHogeCat\u306e\u76f4\u63a5\u8868\u73fe\u3068\u3057\u3066\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\nwitness\u95a2\u6570\u306fSIL\u3068\u540c\u69d8\u3067\u3042\u308b\u4e8b\u304c\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u3001\n\u6b21\u306bwitness\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u90e8\u5206\u3001callHogeableHoge\u3092\u898b\u3066\u307f\u307e\u3059\u3002\ndefine hidden i64 @_TF4main16callHogeableHogeFPS_8Hogeable_Si(%P4main8Hogeable_* noalias nocapture dereferenceable(40)) #0 {\nentry:\n  %.metadata1 = alloca %swift.type*, align 8\n  %1 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 1\n  %.metadata = load %swift.type** %1, align 8\n  %2 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 0\n  %3 = bitcast %swift.type* %.metadata to i8***\n  %4 = getelementptr inbounds i8*** %3, i64 -1\n  %.metadata.valueWitnesses = load i8*** %4, align 8, !invariant.load !12, !dereferenceable !13\n  %5 = getelementptr inbounds i8** %.metadata.valueWitnesses, i32 2\n  %6 = load i8** %5, align 8, !invariant.load !12\n  %projectBuffer = bitcast i8* %6 to %swift.opaque* ([24 x i8]*, %swift.type*)*\n  %7 = call %swift.opaque* %projectBuffer([24 x i8]* %2, %swift.type* %.metadata) #2\n  %8 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 2\n  %witness-table = load i8*** %8, align 8\n  store %swift.type* %.metadata, %swift.type** %.metadata1, align 8\n  %9 = load i8** %witness-table, align 8, !invariant.load !12\n  %10 = bitcast i8* %9 to i64 (%swift.opaque*, %swift.type*)*\n  %11 = call i64 %10(%swift.opaque* noalias nocapture %7, %swift.type* %.metadata)\n  %12 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 1\n  %.metadata2 = load %swift.type** %12, align 8\n  %13 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 0\n  %14 = bitcast %swift.type* %.metadata2 to i8***\n  %15 = getelementptr inbounds i8*** %14, i64 -1\n  %.metadata2.valueWitnesses = load i8*** %15, align 8, !invariant.load !12, !dereferenceable !13\n  %16 = load i8** %.metadata2.valueWitnesses, align 8, !invariant.load !12\n  %destroyBuffer = bitcast i8* %16 to void ([24 x i8]*, %swift.type*)*\n  call void %destroyBuffer([24 x i8]* %13, %swift.type* %.metadata2) #2\n  ret i64 %11\n}\n\n\u307e\u305a\u5f15\u6570\u306e\u578b\u306f%P4main8Hogeable_*\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306fSIL\u3067\u306fHogeable\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3057\u305f\u3002\n\u5b9a\u7fa9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n%swift.type = type { i64 }\n%P4main8Hogeable_ = type { [24 x i8], %swift.type*, i8** }\n\n\u3053\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n24\u30d0\u30a4\u30c8\u306e\u9818\u57df\u3001\u578b\u3092\u8868\u3059\u578b(%swift.type)\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u30d0\u30a4\u30c8\u9818\u57df\u3078\u306e\u30c0\u30d6\u30eb\u30dd\u30a4\u30f3\u30bf\u306e3\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u304c\u898b\u3089\u308c\u308b\u306e\u304c\u3001SIL\u3068IR\u306e\u9055\u3044\u306e\u4e00\u3064\u3067\u3059\u306d\u3002\n\u30b9\u30bf\u30c3\u30af\u306b\u578b\u306e\u578b\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u78ba\u4fdd\u3057\u3001\u305d\u306e\u30a2\u30c9\u30ec\u30b9\u3092%.metadata1\u3068\u3057\u307e\u3059\u3002\n  %.metadata1 = alloca %swift.type*, align 8\n\n%P4main8Hogeable_\u306e\u30dd\u30a4\u30f3\u30bf%0\u304b\u3089\u30010\u756a\u76ee\u306e\u8981\u7d20\u306e\u3001\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092%1\u306b\u4ee3\u5165\u3057\u307e\u3059\u3002\n\u3053\u308c\u306f\u3055\u3063\u304d\u898b\u305f\u5b9a\u7fa9\u306e\u901a\u308a\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u306f%swift.type*\u3060\u3063\u305f\u306e\u3067\u3001\n%1\u306e\u578b\u306f%swift.type**\u3068\u306a\u308a\u307e\u3059\u3002\n(\u4ee5\u964d\u3001\u30dd\u30a4\u30f3\u30bf\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u6570\u3084\u914d\u5217\u306e\u8981\u7d20\u6570\u306f0\u756a\u76ee\u304b\u3089\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u306f1\u756a\u76ee\u304b\u3089\u3001\u95a2\u6570\u306e\u5f15\u6570\u306f1\u756a\u76ee\u304b\u3089\u3068\u6570\u3048\u307e\u3059\u3002)\n\u306a\u304a\u3001getelementptr\u547d\u4ee4\u306e\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067\u898b\u308c\u307e\u3059\u3002\n  %1 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 1\n\n%1\u306e\u793a\u3059\u5148\u3092\u5909\u6570\u306b\u53d6\u308a\u51fa\u3057\u307e\u3059\u3002\n%.metadata\u306e\u578b\u306f%swift.type*\u3068\u306a\u308a\u307e\u3059\u3002\n\u3088\u3046\u3059\u308b\u306b\u3001Hogeable\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u53d6\u308a\u51fa\u3057\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n  %.metadata = load %swift.type** %1, align 8\n\n\u4eca\u5ea6\u306f%0\u304b\u30890\u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308a\u307e\u3059\u3002%2: [24 x i8]*\u3067\u3059\u3002\n  %2 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 0\n\n%swift.type*\u578b\u306e%.metadata\u3092i8***\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066%3\u306b\u5165\u308c\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001%3\u306e-1\u756a\u76ee\u306e\u8981\u7d20\u306e\u30a2\u30c9\u30ec\u30b9\u3092%4\u306b\u5165\u308c\u307e\u3059\u3002\n\u3064\u307e\u308a%swift.type*\u304c\u6307\u3057\u793a\u3059\u30e1\u30e2\u30ea\u9818\u57df\u3001\u3064\u307e\u308a%swift.type\u306e\u9818\u57df\u306e\u3001\u30dd\u30a4\u30f3\u30bf1\u3064\u5206\u624b\u524d\u306e\u30e1\u30e2\u30ea\u9818\u57df\u306b\u306f\u3001\ni8**\u304c\u5165\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3057\u3087\u3046\u3002\n  %3 = bitcast %swift.type* %.metadata to i8***\n  %4 = getelementptr inbounds i8*** %3, i64 -1\n\n%.metadata.valueWitnesses\u3068\u3057\u3066\u3001%4\u304c\u6307\u3059\u5024\u304c\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\u578b\u306fi8**\u3067\u3059\u306d\u3002\n  %.metadata.valueWitnesses = load i8*** %4, align 8, !invariant.load !12, !dereferenceable !13\n\n%.metadata.valueWitnesses\u304c\u793a\u3059\u30dd\u30a4\u30f3\u30bf\u306e2\u3064\u3081\u306e\u8981\u7d20\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u53d6\u308a\u3001\n\u305d\u306e\u5024\u3092%6\u306b\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002%6\u306e\u578b\u306fi8*\u3067\u3059\u306d\u3002\n  %5 = getelementptr inbounds i8** %.metadata.valueWitnesses, i32 2\n  %6 = load i8** %5, align 8, !invariant.load !12\n\n\u3053\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u3001\n[24 x i8]*\u3092\u7b2c1\u5f15\u6570, \n%swift.type*\u3092\u7b2c2\u5f15\u6570,\n\u8fd4\u308a\u5024\u306e\u578b\u304c%swift.opaque\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3042\u308b\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3068\u3057\u3066\u30ad\u30e3\u30b9\u30c8\u3057\u3001%projectBuffer\u3068\u3057\u307e\u3059\u3002\n2\u3064\u306e\u5f15\u6570\u306f\u3001Hogeable\u306e\u7b2c1, 2\u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u540c\u3058\u578b\u3067\u3059\u306d\u3002\n\u305d\u3057\u3066\u305d\u306e\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\u7b2c1\u5f15\u6570\u304c%2\u3001\u7b2c2\u5f15\u6570\u304c%.metadata\u3067\u3059\u306e\u3067\u3001\n\u7d50\u5c40\u306e\u3068\u3053\u308d%0\u306eHogeable\u306e\u7b2c1, \u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6e21\u3057\u3066\u547c\u3073\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u7d50\u679c\u304c%7\u306b\u4fdd\u6301\u3055\u308c\u307e\u3059\u3002\n  %projectBuffer = bitcast i8* %6 to %swift.opaque* ([24 x i8]*, %swift.type*)*\n  %7 = call %swift.opaque* %projectBuffer([24 x i8]* %2, %swift.type* %.metadata) #2\n\n%0\u306e\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092%8\u306b\u5165\u308c\u307e\u3059\u3002i8***\u3067\u3059\u306d\u3002\n  %8 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 2\n\n%8\u306e\u53c2\u7167\u5148\u3092%witness-table\u3068\u3057\u3066\u4ee3\u5165\u3057\u307e\u3059\u3002\n\u3064\u3044\u306bwitness\u30c6\u30fc\u30d6\u30eb\u304ci8**\u578b\u306e\u5024\u3068\u3057\u3066\u767b\u5834\u3057\u307e\u3057\u305f\u3002\nHogeable\u306e\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u306fwitness\u30c6\u30fc\u30d6\u30eb\u3060\u3063\u305f\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n  %witness-table = load i8*** %8, align 8\n\n%.metadata\u306e\u4e2d\u8eab\u3092%.metadata1\u304c\u793a\u3059\u9818\u57df\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\u3053\u306e\u9818\u57df\u306e\u578b\u306f\u30b9\u30bf\u30c3\u30af\u306b\u78ba\u4fdd\u3057\u305f%swift.type*\u3067\u3057\u305f\u3002\n  store %swift.type* %.metadata, %swift.type** %.metadata1, align 8\n\n%witness-table\u306e\u793a\u3059\u5024\u3092%9\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002%9\u306fi8*\u3067\u3059\u3002\n\u3064\u307e\u308a\u3053\u308c\u306f\u3001i8**\u3092\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u3068\u8003\u3048\u305f\u6642\u306b\u3001\u7b2c0\u8981\u7d20\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\n  %9 = load i8** %witness-table, align 8, !invariant.load !12\n\n%9\u3092\u3001\u7b2c1\u5f15\u6570%swift.opaque*\u3001\u7b2c2\u5f15\u6570%swift.type*\u3001\u8fd4\u308a\u5024i64\u306e\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066%10\u306b\u5165\u308c\u307e\u3059\u3002\n  %10 = bitcast i8* %9 to i64 (%swift.opaque*, %swift.type*)*\n\n%10\u306b\u3001%7\u3068%.metadata\u3092\u4e0e\u3048\u3066\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n%7\u306f%projectBuffer\u95a2\u6570\u306e\u8fd4\u308a\u5024\u3067\u3057\u305f\u3002%.metadata\u306f%0\u306e\u8fd4\u308a\u5024\u3067\u3059\u3002\n  %11 = call i64 %10(%swift.opaque* noalias nocapture %7, %swift.type* %.metadata)\n\n\u3055\u3066\u3053\u3053\u3067\u3001%11\u306b\u7d50\u679c\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u6700\u5f8c\u306e\u3068\u3053\u308d\u3067\u3053\u308c\u3092return\u3057\u3066\u3044\u307e\u3059\u3002\n  ret i64 %11\n\n\u3068\u3044\u3046\u3053\u3068\u306f\u3001%11\u3092\u8fd4\u3057\u305fcall\u547d\u4ee4\u304cwitness\u30e1\u30bd\u30c3\u30c9\u306e\u547c\u3073\u51fa\u3057\u3067\u3059\u3002\n\u306a\u306e\u3067\u3053\u306e\u9593\u306e\u30b3\u30fc\u30c9\u306f\u7121\u8996\u3057\u307e\u3059\u3002\n\u3055\u3066\u3001\u5fc5\u8981\u306a\u90e8\u5206\u3092\u898b\u7d42\u308f\u3063\u305f\u306e\u3067\u6574\u7406\u3057\u307e\u3059\u3002\n%0\u306fHogeable*\u3067\u3057\u305f\u3002\nHogeable\u306f3\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6301\u3063\u3066\u3044\u3066\u3001\n\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u8b0e\u306e24\u30d0\u30a4\u30c8\u3001\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u578b\u60c5\u5831(metadata)\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001\n\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u304cwitness\u30c6\u30fc\u30d6\u30eb\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3057\u305f\u3002\n\u578b\u60c5\u5831\u306e\u3059\u3050\u4e0a\u306b\u306f\u3001valueWitnesses\u3068\u3044\u3046i8**\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u3064\u307e\u308a\u3001\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u3067\u3059\u3002\n\u3053\u306e\u914d\u5217\u306e2\u756a\u76ee\u306e\u8981\u7d20(\u30a4\u30f3\u30c7\u30c3\u30af\u30b92)\u306e\u8981\u7d20\u3092\u95a2\u6570\u30dd\u30a4\u30f3\u30bf%projectBuffer\u3068\u3057\u3066\u53d6\u308a\u51fa\u3057\u307e\u3057\u305f\u3002\n%projectBuffer\u306b\u3001\n\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8b0e\u306e24\u30d0\u30a4\u30c8\u3092\u6307\u3059\u30dd\u30a4\u30f3\u30bf\u3068\u3001\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u60c5\u5831\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u4e0e\u3048\u308b\u3068\u8fd4\u3063\u3066\u304f\u308b\u306e\u304c\u3001\nHogeCat\u3078\u306e\u30dd\u30a4\u30f3\u30bf(%7)\u3067\u3059\u3002\n\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u304cwitness\u30c6\u30fc\u30d6\u30eb\u3067\u3001\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u3067\u3059\u3002\n\u3053\u306e\u914d\u5217\u306e0\u756a\u76ee\u306e\u8981\u7d20\u304c\u3001HogeCat\u306ehoge\u306ewitness\u95a2\u6570\u3067\u3059\u3002\n\u3053\u306ewitness\u95a2\u6570\u306b\u3001%projectBuffer\u306b\u3088\u308a\u53d6\u308a\u51fa\u3057\u305fHogeCat\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3068\u3001\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u60c5\u5831\u3092\u6e21\u3057\u3066\u547c\u3073\u51fa\u3059\u306e\u304c\u3001\nwitness\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306e\u6d41\u308c\u3067\u3059\u3002\n\u56f3\u306b\u3059\u308b\u3068\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\n\u6b21\u306f\u3055\u3089\u306b\u3001Hogeable\u306e\u5024\u9818\u57df\u304c\u5b9f\u969b\u306b\u3069\u306e\u3088\u3046\u306a\u30e1\u30e2\u30ea\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304b\u3092\u3001\nIR\u304b\u3089\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\nSIL\u3067\u306f\u3001callCatHoge\u306e\u5185\u90e8\u3067HogeCat\u304b\u3089Hogeable\u3078\u306e\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u304c\u3055\u308c\u308b\u3068\u304d\u306b\u3001\nHogeable\u306e\u5b9f\u4f53\u3092\u30b9\u30bf\u30c3\u30af\u30e1\u30e2\u30ea\u306b\u4f5c\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\u306a\u306e\u3067callCatHoge\u3092\u898b\u308c\u3070Hogeable\u306e\u69cb\u7bc9\u90e8\u5206\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u3002\ndefine hidden i64 @_TF4main11callCatHogeFVS_7HogeCatSi(i64) #0 {\nentry:\n  %1 = alloca %P4main8Hogeable_, align 8\n  %2 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 1\n  store %swift.type* bitcast (i64* getelementptr inbounds ({ i8**, i64, { i64, i8*, i32, i32, i8*, %swift.type** (%swift.type*)*, %swift.type_pattern*, i32, i32, i32 }*, %swift.type*, i64 }* @_TMfV4main7HogeCat, i32 0, i32 1) to %swift.type*), %swift.type** %2, align 8\n  %3 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 2\n  store i8** getelementptr inbounds ([1 x i8*]* @_TWPV4main7HogeCatS_8HogeableS_, i32 0, i32 0), i8*** %3, align 8\n  %4 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 0\n  %object = bitcast [24 x i8]* %4 to %V4main7HogeCat*\n  %object.a = getelementptr inbounds %V4main7HogeCat* %object, i32 0, i32 0\n  %object.a.value = getelementptr inbounds %Si* %object.a, i32 0, i32 0\n  store i64 %0, i64* %object.a.value, align 8\n  %5 = call i64 @_TF4main16callHogeableHogeFPS_8Hogeable_Si(%P4main8Hogeable_* noalias nocapture dereferenceable(40) %1)\n  ret i64 %5\n}\n\nIR\u3067\u3082\u3001\u306f\u3058\u3081\u306balloca\u3067\u30b9\u30bf\u30c3\u30af\u4e0a\u306bHogeable\u3092\u78ba\u4fdd\u3057\u3001\u305d\u306e\u30a2\u30c9\u30ec\u30b9\u3092%1\u306b\u5165\u308c\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u5f8c\u3001%2\u306b\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3001%3\u306b\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u3001%4\u306b\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\nswift.type*\u3067\u3042\u308b%2\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3078\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5024\u3092\u66f8\u304d\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\n  store %swift.type* bitcast (\n    i64* getelementptr inbounds (\n        {\n             i8**, \n             i64, \n             {\n                i64, i8*, i32, i32, i8*, \n                %swift.type** (%swift.type*)*, \n                %swift.type_pattern*, \n                i32, i32, i32 \n             }*,\n             %swift.type*,\n             i64 \n        }* @_TMfV4main7HogeCat,\n        i32 0, \n        i32 1\n    ) to %swift.type*\n  ),\n  %swift.type** %2,\n  align 8\n\n\u3053\u308c\u306f\u30015\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6301\u3064\u69cb\u9020\u4f53\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3042\u308b@_TMfV4main7HogeCat\u306e0\u756a\u30aa\u30d5\u30bb\u30c3\u30c8\u306e\u3001\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u306e\u3067\u3001\u3053\u306ei64\u3068\u306a\u3063\u3066\u3044\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308a\u3001\n\u305d\u308c\u3092%swift.type*\u3068\u3057\u3066\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a\u3053\u306e%swift.type\u306fi64\u3060\u3063\u305f\u306e\u3067\u3001\u7dba\u9e97\u3067\u3059\u306d\u3002\n\u30b3\u30fc\u30c9\u4e2d\u3092\u63a2\u3059\u3068\u3001@_TMfV4main7HogeCat\u306e\u5b9a\u7fa9\u304c\u3042\u308a\u307e\u3059\u3002\n@_TMfV4main7HogeCat = internal constant { \n    i8**, \n    i64, \n    { \n        i64, i8*, i32, i32, i8*, \n        %swift.type** (%swift.type*)*, \n        %swift.type_pattern*, \n        i32, i32, i32 \n    }*, \n    %swift.type*, \n    i64 \n} \n{ \n    i8** getelementptr inbounds (\n        [20 x i8*]* @_TWVV4main7HogeCat, i32 0, i32 0\n    ), \n    i64 1, \n    { \n        i64, i8*, i32, i32, i8*, \n        %swift.type** (%swift.type*)*,\n        %swift.type_pattern*, \n        i32, i32, i32 \n    }* @_TMnV4main7HogeCat, \n    %swift.type* null, \n    i64 0 \n}\n\n\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u306b\u521d\u671f\u5316\u3055\u308c\u308b\u5024\u3060\u3068\u308f\u304b\u308a\u307e\u3059\u3002\n\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u306ei8**\u306f\u3001\n\u8981\u7d2020\u500b\u306e\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001@_TWVV4main7HogeCat\u3092\u3001\n\u30dd\u30a4\u30f3\u30bf0\u30aa\u30d5\u30bb\u30c3\u30c8\u306e\u914d\u5217\u7b2c0\u8981\u7d20\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u3053\u3068\u3067\u3001\n\u3064\u307e\u308ai8**\u3068\u3057\u3066\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u3044\u307e\u3059\u306d\u3002\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e%swift.type\u3067\u3042\u308bi64\u306f1\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u69cb\u9020\u4f53\u30dd\u30a4\u30f3\u30bf\u306b\u306f\u3001@_TMnV4main7HogeCat\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\u7b2c4\u306fnull, \u7b2c5\u306f0\u3067\u3059\u3002\n\u623b\u3063\u3066\u8003\u3048\u308b\u3068\u3001\n\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u5b9a\u6570@_TMfV4main7HogeCat\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u3001\nHogeable\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5165\u308c\u3066\u3044\u305f\u306e\u3067\u3057\u305f\u3002\n\u6b21\u306b\u3001Hogeable\u306ewitness\u30c6\u30fc\u30d6\u30eb\u3067\u3042\u308b\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u3078\u306e\u66f8\u304d\u8fbc\u307f\u3067\u3059\u3002\n  store i8** getelementptr inbounds (\n    [1 x i8*]* @_TWPV4main7HogeCatS_8HogeableS_,\n    i32 0, \n    i32 0\n  ), \n  i8*** %3, \n  align 8\n\n\u3053\u306e\u3088\u3046\u306b\u3001\u8981\u7d20\u304c1\u3064\u306e\u30dd\u30a4\u30f3\u30bf\u914d\u5217\u3078\u306e\u30dd\u30a4\u30f3\u30bf@_TWPV4main7HogeCatS_8HogeableS_\u3092\u3001\n\u5148\u7a0b\u3068\u540c\u69d80, 0\u3078\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u3053\u3068\u3067i8**\u3078\u3068\u30ad\u30e3\u30b9\u30c8\u3057\u307e\u3059\u3002\n@_TWPV4main7HogeCatS_8HogeableS_\u306e\u5b9a\u7fa9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n@_TWPV4main7HogeCatS_8HogeableS_ = \nhidden constant [1 x i8*] \n[\n    i8* bitcast (\n        i64 (\n            %V4main7HogeCat*, \n            %swift.type*\n        )* @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si \n        to i8*\n    )\n],\nalign 8\n\n\u3053\u308c\u306f\u307e\u3055\u306bwitness\u30c6\u30fc\u30d6\u30eb\u3067\u3059\u306d\u3002\n\u4e00\u3064\u5165\u3063\u3066\u3044\u308b\u30a8\u30f3\u30c8\u30ea\u306e@_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si\u306f\u3001\nSIL\u306ewitness\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u306b\u66f8\u3044\u3066\u3042\u3063\u305f\u3082\u306e\u3068\u540c\u3058\u3067\u3001\n\u7b2c1\u5f15\u6570\u304cHogeCat*\u3001\u7b2c2\u5f15\u6570\u304c%swift.type*\u3067\u3059\u3002\n\u6700\u5f8c\u306b\u3001\u8b0e\u306e24\u30d0\u30a4\u30c8\u306e\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9%4\u306e\u521d\u671f\u5316\u3092\u898b\u307e\u3059\u3002\n  %object = bitcast [24 x i8]* %4 to %V4main7HogeCat*\n  %object.a = getelementptr inbounds %V4main7HogeCat* %object, i32 0, i32 0\n  %object.a.value = getelementptr inbounds %Si* %object.a, i32 0, i32 0\n  store i64 %0, i64* %object.a.value, align 8\n\n\u307e\u305a\u3001\u305d\u306e24\u30d0\u30a4\u30c8\u306e\u9818\u57df\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u3001HogeCat\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3068\u898b\u306a\u3057\u3066%object\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9a\u306e\u30a2\u30c9\u30ec\u30b9\u3092%object\u304b\u3089\u53d6\u308a\u51fa\u3057%object.a\u3068\u3057\u3001\n\u3055\u3089\u306b\u305d\u306e\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9value\u306e\u30a2\u30c9\u30ec\u30b9\u3092%object.a\u304b\u3089\u53d6\u308a\u51fa\u3057%object.a.value\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u6700\u5f8c\u306b\u305d\u306e\u9818\u57df\u3092%0\u306e\u6307\u3059\u5024\u3001\u3064\u307e\u308aHogeCat\u5168\u4f53\u3067\u57cb\u3081\u3066\u3044\u307e\u3059\u3002\n\u4eca\u30e1\u30e2\u30ea\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u3057\u3066\u306f\u3001HogeCat\u3068HogeCat.a.value\u304c\u5b8c\u5168\u306b\u91cd\u306a\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002\n\u3064\u307e\u308a\u3001Hogeable\u306e\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u306e24\u30d0\u30a4\u30c8\u306e\u5148\u982d8\u30d0\u30a4\u30c8\u306b\u3001\nHogeCat\u306e\u502424\u30d0\u30a4\u30c8\u304c\u76f4\u63a5\u57cb\u3081\u8fbc\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u3002\n\u307e\u305f\u3001\u3053\u306eHogeCat\u306e3\u91cd\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u69cb\u9020\u3067\u3059\u304c\u3001Swift\u30bd\u30fc\u30b9\u306e\u4e0b\u8a18\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\nstruct HogeCat: Hogeable {\n    var a: Int\n}\nstruct Int : SignedIntegerType, Comparable, Equatable {\n    var value: Builtin.Int64\n}\n\n\u3061\u306a\u307f\u306b\u300124\u30d0\u30a4\u30c8\u3092\u8d85\u3048\u308bstruct\u3092\u4f5c\u3063\u3066\u307f\u305f\u3089\u3001\nmalloc\u306b\u3088\u308b\u30d2\u30fc\u30d7\u78ba\u4fdd\u306b\u306a\u308a\u3001Hogeable\u306e\u5148\u982d8\u30d0\u30a4\u30c8\u306b\u305d\u306e\u30dd\u30a4\u30f3\u30bf\u304c\u5165\u308b\u3088\u3046\u306b\u4ee3\u308f\u308a\u307e\u3057\u305f\u3002\nstruct HogeDog: Hogeable {\n    var a: Int = 2222\n    var b: Int = 3333\n    var c: Int = 4444\n    var d: Int = 5555\n    func hoge() -> Int { return a + b + c + d }\n}\nfunc callDogHoge(dog: HogeDog) -> Int {\n    return callHogeableHoge(dog)\n}\n\n\u4e0b\u8a18\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u5f8c\u3067\u3059\u3002\n%10\u306724\u30d0\u30a4\u30c8\u9818\u57df\u3092\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3001\n\u305d\u306e\u6b21\u306estore\u3067\u305d\u306e\u914d\u5217\u306e\u7b2c0\u8981\u7d20\u306b%9\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n%9\u306f@swift_slowAlloc\u306e\u8fd4\u308a\u5024\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3059\u3002\ndefine hidden i64 @_TF4main11callDogHogeFVS_7HogeDogSi(%V4main7HogeDog* noalias nocapture dereferenceable(32)) #0 {\nentry:\n  %1 = alloca %P4main8Hogeable_, align 8\n  %.a = getelementptr inbounds %V4main7HogeDog* %0, i32 0, i32 0\n  %.a.value = getelementptr inbounds %Si* %.a, i32 0, i32 0\n  %2 = load i64* %.a.value, align 8\n  %.b = getelementptr inbounds %V4main7HogeDog* %0, i32 0, i32 1\n  %.b.value = getelementptr inbounds %Si* %.b, i32 0, i32 0\n  %3 = load i64* %.b.value, align 8\n  %.c = getelementptr inbounds %V4main7HogeDog* %0, i32 0, i32 2\n  %.c.value = getelementptr inbounds %Si* %.c, i32 0, i32 0\n  %4 = load i64* %.c.value, align 8\n  %.d = getelementptr inbounds %V4main7HogeDog* %0, i32 0, i32 3\n  %.d.value = getelementptr inbounds %Si* %.d, i32 0, i32 0\n  %5 = load i64* %.d.value, align 8\n  %6 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 1\n  store %swift.type* bitcast (i64* getelementptr inbounds ({ i8**, i64, { i64, i8*, i32, i32, i8*, %swift.type** (%swift.type*)*, %swift.type_pattern*, i32, i32, i32 }*, %swift.type*, i64, i64, i64, i64 }* @_TMfV4main7HogeDog, i32 0, i32 1) to %swift.type*), %swift.type** %6, align 8\n  %7 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 2\n  store i8** getelementptr inbounds ([1 x i8*]* @_TWPV4main7HogeDogS_8HogeableS_, i32 0, i32 0), i8*** %7, align 8\n  %8 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 0\n  %9 = call noalias i8* @swift_slowAlloc(i64 32, i64 7) #4\n  %10 = bitcast [24 x i8]* %8 to i8**\n  store i8* %9, i8** %10, align 8\n  %11 = bitcast i8* %9 to %V4main7HogeDog*\n  %.a1 = getelementptr inbounds %V4main7HogeDog* %11, i32 0, i32 0\n  %.a1.value = getelementptr inbounds %Si* %.a1, i32 0, i32 0\n  store i64 %2, i64* %.a1.value, align 8\n  %.b2 = getelementptr inbounds %V4main7HogeDog* %11, i32 0, i32 1\n  %.b2.value = getelementptr inbounds %Si* %.b2, i32 0, i32 0\n  store i64 %3, i64* %.b2.value, align 8\n  %.c3 = getelementptr inbounds %V4main7HogeDog* %11, i32 0, i32 2\n  %.c3.value = getelementptr inbounds %Si* %.c3, i32 0, i32 0\n  store i64 %4, i64* %.c3.value, align 8\n  %.d4 = getelementptr inbounds %V4main7HogeDog* %11, i32 0, i32 3\n  %.d4.value = getelementptr inbounds %Si* %.d4, i32 0, i32 0\n  store i64 %5, i64* %.d4.value, align 8\n  %12 = call i64 @_TF4main16callHogeableHogeFPS_8Hogeable_Si(%P4main8Hogeable_* noalias nocapture dereferenceable(40) %1)\n  ret i64 %12\n}\n\n\u3055\u3066\u3001\u3053\u308c\u3067callCatHoge\u306e\u4e2d\u3067\u4f5c\u3063\u305fHogeable\u306e\u30d5\u30a3\u30fc\u30eb\u30c93\u3064\u304c\u57cb\u307e\u308a\u307e\u3057\u305f\u3002\n\u6700\u5f8c\u306f\u305d\u306eHogeable\u306e\u30dd\u30a4\u30f3\u30bf\u3092callHogeableHoge\u306b\u6e21\u3059\u3060\u3051\u3067\u3059\u3002\n  %5 = call i64 @_TF4main16callHogeableHogeFPS_8Hogeable_Si(%P4main8Hogeable_* noalias nocapture dereferenceable(40) %1)\n  ret i64 %5\n\n\u3053\u308c\u3067\u3001Hogeable\u3078\u306e\u5024HogeCat\u306e\u57cb\u3081\u8fbc\u307f\u3001\nmetadata\u3001witness\u30c6\u30fc\u30d6\u30eb\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u3082\u30461\u3064\u3053\u3053\u307e\u3067\u3067\u51fa\u3066\u304d\u305f\u3082\u306e\u3068\u3057\u3066\u3001%swift.type\u306e1\u3064\u524d\u304b\u3089\u3001\nvalueWitness\u30c6\u30fc\u30d6\u30eb\u304c\u8fbf\u308c\u308b\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u3053\u308c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\nmetadata\u304c\u6307\u3057\u3066\u3044\u308b\u306e\u306f\u3001\u6b21\u306e\u69cb\u9020\u4f53\u306ei64\u578b\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n@_TMfV4main7HogeCat = internal constant { \n    i8**, \n    i64, \n    { \n        i64, i8*, i32, i32, i8*, \n        %swift.type** (%swift.type*)*, \n        %swift.type_pattern*, \n        i32, i32, i32 \n    }*, \n    %swift.type*, \n    i64 \n} \n{ \n    i8** getelementptr inbounds (\n        [20 x i8*]* @_TWVV4main7HogeCat, i32 0, i32 0\n    ), \n    i64 1, \n    { \n        i64, i8*, i32, i32, i8*, \n        %swift.type** (%swift.type*)*,\n        %swift.type_pattern*, \n        i32, i32, i32 \n    }* @_TMnV4main7HogeCat, \n    %swift.type* null, \n    i64 0 \n}\n\n\u5148\u307b\u3069\u3082\u898b\u305f\u3068\u304a\u308a\u3001\u305d\u306ei64\u306e\u524d\u306b\u306fi8**\u306b\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u305f@_TWVV4main7HogeCat\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u304cHogeCat\u306evalueWitness\u30c6\u30fc\u30d6\u30eb\u3068\u3044\u3046\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\nvalueWitness\u30c6\u30fc\u30d6\u30eb\u306e\u7b2c2\u8981\u7d20\u306e\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\nHogeable*\u304b\u3089HogeCat*\u3092\u53d6\u308a\u51fa\u3059\u306e\u3067\u3057\u305f\u3002\n\u3053\u308c\u3092\u8ffd\u3044\u304b\u3051\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n@_TWVV4main7HogeCat = constant [20 x i8*] \n[\n    i8* bitcast (void (i8*, %swift.type*)* @__swift_noop_void_return to i8*), \n    i8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n    i8* bitcast (i8* (i8*, %swift.type*)* @__swift_noop_self_return to i8*), \n    i8* bitcast (void (i8*, %swift.type*)* @__swift_noop_void_return to i8*), \n    i8* bitcast (void (i8*, %swift.type*)* @__swift_noop_void_return to i8*), \n    i8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n    i8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n    i8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n    i8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n    i8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n    i8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n    i8* bitcast (i8* (i8*, %swift.type*)* @__swift_noop_self_return to i8*), \n    i8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n    i8* bitcast (void (i8*, %swift.type*)* @__swift_noop_void_return to i8*), \n    i8* bitcast (i8* (i8*, i8*, i64, %swift.type*)* @__swift_memcpy_array8_8 to i8*), \n    i8* bitcast (i8* (i8*, i8*, i64, %swift.type*)* @__swift_memmove_array8_8 to i8*), \n    i8* bitcast (i8* (i8*, i8*, i64, %swift.type*)* @__swift_memmove_array8_8 to i8*), \n    i8* inttoptr (i64 8 to i8*), i8* inttoptr (i64 7 to i8*), i8* inttoptr (i64 8 to i8*)\n]\n\n\u305f\u3057\u304b\u306b\u7b2c2\u8981\u7d20\u304c\u3001i8*\u3068%swift.type*\u3092\u53d7\u3051\u53d6\u308b\u578b\u306e\u95a2\u6570\u3001@__swift_noop_self_return\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3082\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n; Function Attrs: nounwind\ndefine linkonce_odr hidden i8* @__swift_noop_self_return(i8*, %swift.type*) #2 {\nentry:\n  ret i8* %0\n}\n\n\u3061\u3083\u3093\u3068\u7b2c1\u5f15\u6570%0\u3092\u305d\u306e\u307e\u307ereturn\u3059\u308b\u95a2\u6570\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nHogeCat\u306fHogeable\u306e\u5148\u982d24\u30d0\u30a4\u30c8\u306e\u6700\u521d\u306e8\u30d0\u30a4\u30c8\u306b\u57cb\u3081\u8fbc\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3001\n\u3053\u308c\u3067\u3061\u3083\u3093\u3068HogeCat*\u304c\u8fd4\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u3053\u308c\u3067\u3001HogeCat\u3092Hogeable\u306b\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u547c\u3073\u51fa\u3059\u6642\u3001\n\u3069\u306e\u3088\u3046\u306a\u30e1\u30e2\u30ea\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u53c2\u7167\u304c\u69cb\u7bc9\u3055\u308c\u308b\u304b\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\u305d\u3057\u3066\u3001SIL\u3067\u898b\u305f\u5834\u5408\u3088\u308a\u3082\u5177\u4f53\u7684\u306b\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5834\u5408\n\u3053\u3053\u307e\u3067\u306e\u8abf\u67fb\u3067\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u3067\u306a\u3044\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u3057\u3066\u3001struct\u3092\u3069\u3046\u3084\u3063\u3066\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u3044\u308b\u304b\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\u305d\u3057\u3066Hogeable\u306f\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u524d\u306b\u751f\u6210\u3055\u308c\u3066\u304a\u308a\u3001\n\u3053\u308c\u3092\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3057\u3066\u4f7f\u3063\u305f\u5834\u5408\u306f\u3001\u3053\u306eHogeable\u578b\u304c\u4f7f\u308f\u308c\u308b\u306e\u3060\u308d\u3046\u3068\u308f\u304b\u308a\u307e\u3059\u3002\n\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u95a2\u6570callIntFugableFuga\u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u306f\u4f55\u304c\u8d77\u304d\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\nfunc callIntFugableFuga<F: Fugable where F.Element == Int>(fugable: F) -> Int {\n    return fugable.fuga()\n}\n\ncallHogeableHoge\u306e\u6642\u306f\u3001Hogeable\u578b\u306e\u5024\u3092\u4f5c\u3063\u3066\u304b\u3089callHogeableHoge\u306b\u305d\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u540c\u69d8\u306b\u8003\u3048\u308c\u3070\u3001callIntFugableFuga\u306e\u5f15\u6570\u3068\u3057\u3066\u6e21\u3059\u305f\u3081\u306e\u3001\nElement\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u304cInt\u306b\u675f\u7e1b\u3055\u308c\u3066\u3044\u308b\u6642\u306eFugable\u578b\u306e\u5024\u304c\u4f5c\u3089\u308c\u3001\n\u305d\u306e\u30a2\u30c9\u30ec\u30b9\u304ccallIntFugableFuga\u306b\u6e21\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u306f\u3001Int\u306b\u7279\u6b8a\u5316\u3055\u308c\u305fFugable\u306e\u5024\u578b\u3068\u3044\u3046\u3082\u306e\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u3001\n\u306a\u305c\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u4fdd\u6301\u3067\u304d\u306a\u3044\u306e\u304b\u3001\u3068\u3044\u3046\u7591\u554f\u304c\u751f\u307e\u308c\u307e\u3059\u3002\n\nSIL\u3092\u898b\u308b\n\u65e9\u901f\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u5143\u3068\u306a\u308bSwift\u30bd\u30fc\u30b9\u306f\u4e0b\u8a18\u306b\u306a\u308a\u307e\u3059\u3002\nprotocol Fugable {\n    typealias Element\n    func fuga() -> Element\n}\nstruct FugaDog: Fugable {\n    var aaa: Int = 3333\n    @inline(never) func fuga() -> Int {\n        return aaa\n    }\n}\n@inline(never) func callIntFugableFuga<F: Fugable where F.Element == Int>(fugable: F) -> Int {\n    return fugable.fuga()\n}\nfunc callDogFuga(dog: FugaDog) -> Int {\n    return callIntFugableFuga(dog)\n}\n\nprint(callDogFuga(FugaDog()))\n\n@inline(never)\u306f\u5f8c\u306e\u8aac\u660e\u306e\u90fd\u5408\u3067\u3064\u3044\u3066\u3044\u307e\u3059\u3002\n\u3055\u3066\u3053\u308c\u3092silgen\u3057\u3066\u3001callDogFuga\u306e\u90e8\u5206\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n// main.callDogFuga (main.FugaDog) -> Swift.Int\nsil hidden @_TF4main11callDogFugaFVS_7FugaDogSi : $@convention(thin) (FugaDog) -> Int {\nbb0(%0 : $FugaDog):\n  debug_value %0 : $FugaDog  // let dog           // id: %1\n  // function_ref main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\n  %2 = function_ref @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) <\u03c4_0_0 where \u03c4_0_0 : Fugable, \u03c4_0_0.Element == Int> (@in \u03c4_0_0) -> Int // user: %5\n  %3 = alloc_stack $FugaDog                       // users: %4, %5, %6\n  store %0 to %3#1 : $*FugaDog                    // id: %4\n  %5 = apply %2<FugaDog>(%3#1) : $@convention(thin) <\u03c4_0_0 where \u03c4_0_0 : Fugable, \u03c4_0_0.Element == Int> (@in \u03c4_0_0) -> Int // user: %7\n  dealloc_stack %3#0 : $*@local_storage FugaDog   // id: %6\n  return %5 : $Int                                // id: %7\n}\n\n\u3053\u308c\u306b\u306f\u3061\u3087\u3063\u3068\u9a5a\u304d\u307e\u3057\u305f\u3002\nfunction_ref\u547d\u4ee4\u3067\u53d6\u308a\u51fa\u3057\u305f\u95a2\u6570\u306f\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u542b\u3080\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u578b\u5b9a\u7fa9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001apply\u547d\u4ee4\u306b\u306f\u3001\n\u305d\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u57cb\u3081\u308b<FugaDog>\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\u547c\u3073\u51fa\u3057\u5148\u306ecallIntFugable\u306e\u5b9a\u7fa9\u3082\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n// main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\nsil hidden [noinline] @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) <F where F : Fugable, F.Element == Int> (@in F) -> Int {\nbb0(%0 : $*F):\n  debug_value_addr %0 : $*F  // let fugable       // id: %1\n  %2 = witness_method $F, #Fugable.fuga!1 : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Fugable> (@out \u03c4_0_0.Element, @in_guaranteed \u03c4_0_0) -> () // user: %4\n  %3 = alloc_stack $Int                           // users: %4, %5, %6\n  %4 = apply %2<F, Int>(%3#1, %0) : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Fugable> (@out \u03c4_0_0.Element, @in_guaranteed \u03c4_0_0) -> ()\n  %5 = load %3#1 : $*Int                          // user: %8\n  dealloc_stack %3#0 : $*@local_storage Int       // id: %6\n  destroy_addr %0 : $*F                           // id: %7\n  return %5 : $Int                                // id: %8\n}\n\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u540dF\u304c\u6b8b\u3063\u305f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306b\u306a\u3063\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001Int\u306b\u7279\u6b8a\u5316\u3055\u308c\u305fFugable\u306e\u3088\u3046\u306a\u578b\u306f\u51fa\u3066\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u547c\u3073\u51fa\u3057\u5074\u3067apply\u306b\u6e21\u3057\u3066\u3044\u308b\u306e\u306fFugaDog\u306e\u30dd\u30a4\u30f3\u30bf\u305d\u306e\u307e\u307e\u3067\u3059\u3002\n\u3064\u307e\u308a\u30011\u3064\u306e\u7b54\u3048\u3068\u3057\u3066\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nSIL\u306e\u30ec\u30d9\u30eb\u3067\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4fdd\u6301\u3059\u308b\u578b\u304c\u5b58\u5728\u3057\u306a\u3044\u305f\u3081\u3001\n\u305d\u306e\u3088\u3046\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002\n\u4e00\u65b9\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306b\u5236\u7d04\u3092\u4e0e\u3048\u305f\u578b\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u306f\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5236\u7d04\u3092SIL\u306e\u30ec\u30d9\u30eb\u3067\u8868\u73fe\u3067\u304d\u308b\u304b\u3089\u3002\n\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002\n\u3057\u304b\u3057\u3001SIL\u306e\u30ec\u30d9\u30eb\u3067\u306f\u305d\u3046\u3067\u3042\u3063\u305f\u3068\u3057\u3066\u3082\u3001\nLLVM IR\u306e\u30ec\u30d9\u30eb\u3067\u306f\u305d\u306e\u3088\u3046\u306a\u8a00\u8a9e\u6a5f\u80fd\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u5b9f\u884c\u3067\u304d\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306aFugable\u3068\u3057\u3066\u30dd\u30ea\u30e2\u30fc\u30d5\u30a3\u30ba\u30e0\u3059\u308b\u30b3\u30fc\u30c9\u304c\u3001\n\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\u305d\u308c\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\nLLVM IR\u3092\u898b\u308b\n\u547c\u3073\u51fa\u3057\u5074\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\ndefine hidden i64 @_TF4main11callDogFugaFVS_7FugaDogSi(i64) #0 {\nentry:\n  %1 = alloca %V4main7FugaDog, align 8\n  %.aaa = getelementptr inbounds %V4main7FugaDog* %1, i32 0, i32 0\n  %.aaa.value = getelementptr inbounds %Si* %.aaa, i32 0, i32 0\n  store i64 %0, i64* %.aaa.value, align 8\n  %2 = bitcast %V4main7FugaDog* %1 to %swift.opaque*\n  %3 = call i64 @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si(%swift.opaque* noalias nocapture %2, %swift.type* bitcast (i64* getelementptr inbounds ({ i8**, i64, { i64, i8*, i32, i32, i8*, %swift.type** (%swift.type*)*, %swift.type_pattern*, i32, i32, i32 }*, %swift.type*, i64 }* @_TMfV4main7FugaDog, i32 0, i32 1) to %swift.type*), i8** getelementptr inbounds ([2 x i8*]* @_TWPV4main7FugaDogS_7FugableS_, i32 0, i32 0))\n  ret i64 %3\n}\n\n\u30b9\u30bf\u30c3\u30af\u306bFugaDog\u3092\u4f5c\u308a%1\u3067\u30a2\u30c9\u30ec\u30b9\u3092\u6301\u3061\u3001\n\u5f15\u6570%0\u306eFugaDog\u3092\u30b3\u30d4\u30fc\u3057\u3066\u521d\u671f\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n%1\u306eFugaDog*\u3092%swift.opaque*\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066%2\u3068\u3057\u3066\u3044\u307e\u3059\u3002\ncall\u3067\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u306e\u306fSIL\u3067\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u3060\u3063\u305fcallIntFugableFuga\u3067\u3059\u3002\n  %3 = call i64 @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si(\n    %swift.opaque* noalias nocapture %2, \n    %swift.type* bitcast (\n        i64* getelementptr inbounds (\n            {\n                i8**,\n                i64, \n                {\n                    i64, i8*, i32, i32, i8*, \n                    %swift.type** (%swift.type*)*, \n                    %swift.type_pattern*,\n                    i32, i32, i32 \n                }*, \n                %swift.type*, \n                i64 \n            }* @_TMfV4main7FugaDog, \n            i32 0, \n            i32 1\n        ) \n        to %swift.type*\n    ), \n    i8** getelementptr inbounds (\n        [2 x i8*]* @_TWPV4main7FugaDogS_7FugableS_,\n        i32 0, \n        i32 0\n    )\n  )\n\ncallHogeableHoge\u306e\u6642\u306fHogeable*\u3060\u3051\u304c\u5f15\u6570\u3060\u3063\u305f\u306e\u306b\u5bfe\u3057\u3001\n\u547c\u3073\u51fa\u3057\u5f15\u6570\u304c3\u3064\u306b\u5897\u3048\u3066\u3044\u307e\u3059\u3002\n\u7b2c1\u5f15\u6570\u306f%2\u306e%swift.opaque*\u3067\u3059\u3002\u3053\u308c\u306f\u5b9f\u969b\u306b\u306fFugaDog*\u306e\u30ad\u30e3\u30b9\u30c8\u3067\u3059\u3002\n\u7b2c2\u5f15\u6570\u306f\u5148\u7a0b\u306fHogeable\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3057\u3066\u51fa\u3066\u304d\u305f%swift.type*\u3092\u3001\n\u540c\u3058\u3088\u3046\u306bstatic\u5b9a\u6570@_TMfV4main7FugaDog\u306ei64\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e1\u3064\u524d\u306b\u306fvalueWitnessTable\u304c\u3042\u308b\u3084\u3064\u3067\u3059\u3002\n\u7b2c3\u5f15\u6570\u3082Hogeable\u306e\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u306ewitness\u30c6\u30fc\u30d6\u30eb\u306e\u521d\u671f\u5316\u3068\u540c\u3058\u3084\u308a\u65b9\u3067\u3001\n@_TWPV4main7FugaDogS_7FugableS_\u306ewitness\u30c6\u30fc\u30d6\u30eb\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u5168\u4f53\u3068\u3057\u3066\u3001\u3055\u3063\u304d\u306eHogeable\u3092\u30d5\u30a3\u30fc\u30eb\u30c9\u3054\u3068\u306b\u30d0\u30e9\u3057\u3066\u5f15\u6570\u306b\u3057\u305f\u3088\u3046\u306a\u5f62\u3067\u3059\u306d\u3002\n\u306a\u304a\u3001witness\u30c6\u30fc\u30d6\u30eb\u306e\u30a8\u30f3\u30c8\u30ea\u6570\u304c1\u304b\u30892\u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n@_TWPV4main7FugaDogS_7FugableS_ = hidden constant [2 x i8*] \n[\n    i8* null, \n    i8* bitcast (\n        void (%Si*, %V4main7FugaDog*, %swift.type*)* \n        @_TTWV4main7FugaDogS_7FugableS_FS1_4fugauRq_S1__fq_FT_qq_S1_7Element\n        to i8*\n    )\n], align 8\n\n\u7b2c0\u8981\u7d20\u304cnull\u306b\u306a\u308a\u3001\u7b2c1\u8981\u7d20\u306bfuga\u306ewitness\u95a2\u6570\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001\u8fd4\u308a\u5024\u304cInt\u3067\u306f\u306a\u304fvoid\u306b\u306a\u308a\u3001\n\u7b2c1\u5f15\u6570\u304c%Si*\u3068Int\u3092\u30dd\u30a4\u30f3\u30bf\u7d4c\u7531\u3067\u8fd4\u3059\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u7b2c2\u5f15\u6570\u3068\u7b2c3\u5f15\u6570\u306b\u3064\u3044\u3066\u306f\u3001Hogeable\u306ewitness\u95a2\u6570\u306e\u3068\u304d\u3068\u540c\u3058\u5f62\u3067\u3059\u3002\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u52d5\u4f5c\u306b\u3059\u308b\u305f\u3081\u3001\u8fd4\u308a\u5024\u306e\u8fd4\u3057\u578b\u304c\u30dd\u30a4\u30f3\u30bf\u6e21\u3057\u306b\u5909\u5316\u3057\u305f\u3088\u3046\u3067\u3059\u306d\u3002\n\u3055\u3066\u3001\u95a2\u6570\u672c\u4f53\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n; Function Attrs: noinline\ndefine hidden i64 @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si(%swift.opaque* noalias nocapture, %swift.type* %F, i8** %F.Fugable) #1 {\nentry:\n  %F1 = alloca %swift.type*, align 8\n  %1 = alloca %Si, align 8\n  store %swift.type* %F, %swift.type** %F1, align 8\n  %2 = getelementptr inbounds i8** %F.Fugable, i32 1\n  %3 = load i8** %2, align 8, !invariant.load !12\n  %4 = bitcast i8* %3 to void (%swift.opaque*, %swift.opaque*, %swift.type*)*\n  %5 = bitcast %Si* %1 to %swift.opaque*\n  call void %4(%swift.opaque* noalias nocapture sret %5, %swift.opaque* noalias nocapture %0, %swift.type* %F)\n  %.value = getelementptr inbounds %Si* %1, i32 0, i32 0\n  %6 = load i64* %.value, align 8\n  %7 = bitcast %swift.type* %F to i8***\n  %8 = getelementptr inbounds i8*** %7, i64 -1\n  %F.valueWitnesses = load i8*** %8, align 8, !invariant.load !12, !dereferenceable !13\n  %9 = getelementptr inbounds i8** %F.valueWitnesses, i32 4\n  %10 = load i8** %9, align 8, !invariant.load !12\n  %destroy = bitcast i8* %10 to void (%swift.opaque*, %swift.type*)*\n  call void %destroy(%swift.opaque* %0, %swift.type* %F) #2\n  ret i64 %6\n}\n\n%1\u304c\u78ba\u4fdd\u3055\u308c\u3001%.value\u3067\u53c2\u7167\u3057\u3001%6\u3067\u305d\u308c\u3092\u30ed\u30fc\u30c9\u3057\u3001ret\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n%1\u304c\u95a2\u6570\u304b\u3089\u8fd4\u308a\u5024\u3092\u53d7\u3051\u53d6\u308b\u305f\u3081\u306e\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u3067\u3059\u3002\n\u7b2c2\u5f15\u6570\u3067\u6e21\u3055\u308c\u305f%F: %swift.type*\u306f\u30ed\u30fc\u30ab\u30eb\u5909\u6570%F1\u306b\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002\n\u7b2c3\u5f15\u6570\u306ewitness\u30c6\u30fc\u30d6\u30eb\u306e\u7b2c1\u8981\u7d20\u304b\u3089\u95a2\u6570\u3092\u53d6\u308a\u51fa\u3057\u3001%2,%3,%4\u3068\u51e6\u7406\u3057\u3066\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3068\u306a\u308a\u307e\u3059\u3002\n%1\u306f%5\u3067%swift.opaque*\u3078\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u3067witness\u95a2\u6570\u3068\u305d\u306e\u5f15\u65703\u3064\u304c\u63c3\u3046\u306e\u3067\u3001call\u3067\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\n\u7d50\u8ad6\u3068\u3057\u3066\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u3067\u306f\u3001\n\u5024\u306e\u578b\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u578b\u60c5\u5831\u3001witness\u30c6\u30fc\u30d6\u30eb\u306e3\u3064\u3092\u30d7\u30ed\u30c8\u30b3\u30eb\u578b\u306e\u5024\u306e\u5909\u308f\u308a\u306b\u4f7f\u3046\u3053\u3068\u3067\u3001\n\u52d5\u7684\u306a\u5024\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\u30dd\u30a4\u30f3\u30bf\u306e\u578b\u306fopaque\u30dd\u30a4\u30f3\u30bf\u3068\u3059\u308b\u3053\u3068\u3067\u6d88\u3055\u308c\u3001\n\u8fd4\u308a\u5024\u304c\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u5834\u5408\u306f\u5024\u306e\u8fd4\u5374\u304c\u5f15\u6570\u306e\u30dd\u30a4\u30f3\u30bf\u7d4c\u7531\u3068\u306a\u308a\u3001\n\u3053\u308c\u3082\u307e\u305fopaque\u30dd\u30a4\u30f3\u30bf\u3068\u306a\u308a\u307e\u3059\u3002\n\u3053\u3053\u307e\u3067\u308f\u304b\u3063\u3066\u3001\u9006\u306b\u7591\u554f\u304c\u751f\u307e\u308c\u307e\u3059\u3002\n\u5024\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u578b\u60c5\u5831\u3001witness\u30c6\u30fc\u30d6\u30eb\u306e3\u3064\u306e\u5024\u304c\u3042\u308c\u3070\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u3042\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5024\u304c\u53d6\u308a\u6271\u3048\u308b\u3068\u3044\u3046\u4e8b\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\nSIL\u4e0a\u306b\u306f\u305d\u306e\u3088\u3046\u306a\u6a5f\u80fd\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\nLLVM IR\u3067\u305d\u306e\u3088\u3046\u306b\u6271\u3048\u308b\u306e\u3060\u304b\u3089\u3001\nSIL\u5074\u306b\u5bfe\u5fdc\u3059\u308b\u4ed5\u69d8\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u3089\u305d\u308c\u3067\u52d5\u304f\u306f\u305a\u3067\u3059\u3002\n3\u3064\u306e\u5024\u3092\u4e26\u3079\u305f\u5024\u306e\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3082\u56fa\u5b9a\u3067\u3059\u304b\u3089\u3001\n\u3053\u3093\u306a\u611f\u3058\u3067IR\u306e\u4e16\u754c\u3067\u3082\u69cb\u9020\u4f53\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3001\n\u305d\u3046\u3057\u305f\u3089\u3082\u3046\u5148\u307b\u3069\u306eHogeable\u3068\u307b\u307c\u540c\u3058\u3067\u3059\u3002\n%P4main7Fugable_ = type { %swift.opaque*, %swift.type*, i8** }\n\n\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u6280\u8853\u7684\u306a\u5236\u7d04\u3067\u306f\u306a\u304f\u3001\n\u8a2d\u8a08\u4e0a\u306e\u9078\u629e\u3067\u3042\u308d\u3046\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\nSIL\u3068\u6700\u9069\u5316\nSIL\u306e\u4ed5\u69d8\u3068\u3057\u3066\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u304c\u5c0e\u5165\u3055\u308c\u3066\u3044\u308b\u4e8b\u3068\u95a2\u9023\u3057\u3066\u3001\nraw SIL\u304b\u3089canonical SIL\u3078\u306e\u5909\u63db\u6642\u306e\u6700\u9069\u5316\u3068\u3057\u3066\u3001\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u7279\u6b8a\u5316\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u3053\u307e\u3067\u306e\u8abf\u67fb\u3067\u306f\u6700\u9069\u5316\u3092\u6291\u5236\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\n\u3053\u3053\u3067\u6700\u9069\u5316\u3042\u308a\u306ecanonical SIL\u306e\u51fa\u529b\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n// generic specialization <main.FugaDog with main.FugaDog : main.Fugable in main> of main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\nsil shared [noinline] @_TTSg5V4main7FugaDogS0_S_7FugableS____TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) (@in FugaDog) -> Int {\nbb0(%0 : $*FugaDog):\n  debug_value_addr %0 : $*FugaDog  // let fugable // id: %1\n  %2 = load %0 : $*FugaDog                        // user: %4\n  // function_ref main.FugaDog.fuga (main.FugaDog)() -> Swift.Int\n  %3 = function_ref @_TFV4main7FugaDog4fugafS0_FT_Si : $@convention(method) (FugaDog) -> Int // user: %4\n  %4 = apply %3(%2) : $@convention(method) (FugaDog) -> Int // user: %5\n  return %4 : $Int                                // id: %5\n}\n\n// main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\nsil hidden [noinline] @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) <F where F : Fugable, F.Element == Int> (@in F) -> Int {\nbb0(%0 : $*F):\n  debug_value_addr %0 : $*F  // let fugable       // id: %1\n  %2 = witness_method $F, #Fugable.fuga!1 : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Fugable> (@out \u03c4_0_0.Element, @in_guaranteed \u03c4_0_0) -> () // user: %4\n  %3 = alloc_stack $Int                           // users: %4, %5, %6\n  %4 = apply %2<F, Int>(%3#1, %0) : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Fugable> (@out \u03c4_0_0.Element, @in_guaranteed \u03c4_0_0) -> ()\n  %5 = load %3#1 : $*Int                          // user: %8\n  dealloc_stack %3#0 : $*@local_storage Int       // id: %6\n  destroy_addr %0 : $*F                           // id: %7\n  return %5 : $Int                                // id: %8\n}\n\n\u306a\u3093\u3068\u3001FugaDog\u306b\u7279\u6b8a\u5316\u3055\u308c\u305fcallIntFugableFuga\u3068\u3001\n\u5148\u307b\u3069\u3068\u540c\u3058\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306acallIntFugableFuga\u306e\u4e21\u65b9\u306e\u30b3\u30fc\u30c9\u304c\u751f\u6210\u3055\u308c\u307e\u3057\u305f\u3002\n\u7279\u6b8a\u5316\u7248\u306f\u3001\u305d\u306e\u5185\u90e8\u3067\u3001\u5f15\u6570\u3067\u53d7\u3051\u305fFugaDog*\u306efuga\u3092\u547c\u3073\u51fa\u3059\u6642\u3082\u3001\nFugaDog.fuga\u306e\u672c\u4f53\u3092\u5024\u578b\u3067\u547c\u3073\u51fa\u305b\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u5b09\u3057\u3044\u3053\u3068\u306b\u3001callDogFuga\u306e\u4e2d\u304b\u3089\u547c\u3073\u51fa\u3055\u308c\u308b\u30b1\u30fc\u30b9\u3067\u306f\u3001\u7279\u6b8a\u5316\u3055\u308c\u305f\u7248\u306ecallIntFugableFuga\u304c\u547c\u3070\u308c\u3066\u3044\u307e\u3059\u3002\n// main.callDogFuga (main.FugaDog) -> Swift.Int\nsil hidden @_TF4main11callDogFugaFVS_7FugaDogSi : $@convention(thin) (FugaDog) -> Int {\nbb0(%0 : $FugaDog):\n  debug_value %0 : $FugaDog  // let dog           // id: %1\n  %2 = alloc_stack $FugaDog                       // users: %3, %5, %6\n  store %0 to %2#1 : $*FugaDog                    // id: %3\n  // function_ref generic specialization <main.FugaDog with main.FugaDog : main.Fugable in main> of main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\n  %4 = function_ref @_TTSg5V4main7FugaDogS0_S_7FugableS____TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) (@in FugaDog) -> Int // user: %5\n  %5 = apply %4(%2#1) : $@convention(thin) (@in FugaDog) -> Int // user: %7\n  dealloc_stack %2#0 : $*@local_storage FugaDog   // id: %6\n  return %5 : $Int                                // id: %7\n}\n\ncallDogFuga -> callIntFugableFuga -> DogFuga.fuga\u306e\u547c\u3073\u51fa\u3057\u30c1\u30a7\u30fc\u30f3\u306b\u304a\u3044\u3066\u3001\n\u95a2\u6570\u53c2\u7167\u306f\u5168\u3066\u9759\u7684\u306afunction_ref\u306b\u306a\u3063\u3066\u304a\u308a\u3001\n\u3082\u306f\u3084witness\u30c6\u30fc\u30d6\u30eb\u306e\u53c2\u7167\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u3082\u3061\u308d\u3093\u3001witness\u30c6\u30fc\u30d6\u30eb\u306b\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u7248\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nsil_witness_table hidden FugaDog: Fugable module main {\n  associated_type Element: Int\n  method #Fugable.fuga!1: @_TTWV4main7FugaDogS_7FugableS_FS1_4fugauRq_S1__fq_FT_qq_S1_7Element  // protocol witness for main.Fugable.fuga <A where A: main.Fugable> (A)() -> A.Element in conformance main.FugaDog : main.Fugable in main\n}\n\n\u305d\u3057\u3066\u3053\u3053\u307e\u3067inline\u5316\u3092\u6291\u5236\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u3092\u5916\u3059\u3068\u3053\u3046\u306a\u308a\u307e\u3059\u3002\n// main.callDogFuga (main.FugaDog) -> Swift.Int\nsil hidden @_TF4main11callDogFugaFVS_7FugaDogSi : $@convention(thin) (FugaDog) -> Int {\nbb0(%0 : $FugaDog):\n  debug_value %0 : $FugaDog  // let dog           // id: %1\n  %2 = struct_extract %0 : $FugaDog, #FugaDog.aaa // user: %3\n  return %2 : $Int                                // id: %3\n}\n\ncallDogFuga\u306e\u4e2d\u3067\u3001FugaDog\u578b\u306e\u5024\u304b\u3089\u76f4\u63a5\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5024\u3092\u8aad\u3093\u3067\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\ncallIntFugableFuga\u3068\u3001\u305d\u306e\u5148\u306eDogFuga.fuga\u306e\u4e21\u65b9\u304c\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3055\u308c\u305f\u7d50\u679c\u3001\n\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u306e\u3088\u3046\u306a\u6700\u9069\u5316\u304c\u3067\u304d\u308b\u306e\u306f\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u304c\u5236\u7d04\u306e\u5f62\u3067\u66f8\u304b\u308c\u3066\u3044\u3066\u3001\n\u547c\u3073\u51fa\u3057\u3068\u5bfe\u5fdc\u3057\u3066\u5b9f\u969b\u306e\u578b\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u78ba\u5b9a\u3059\u308b\u304b\u3089\u3067\u3059\u3002\n\n\u8003\u5bdf\n\u3053\u3053\u307e\u3067\u8abf\u3079\u305f\u4e0a\u3067\u306e\u50d5\u306e\u63a8\u6e2c\u306f\u3001\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u30d7\u30ed\u30d1\u30c6\u30a3(\u5909\u6570)\u3092\u4f5c\u308c\u306a\u3044\u4ed5\u69d8\u306b\u3057\u3066\u3044\u308b\u306e\u306f\u3001\n\u3082\u3057\u4f5c\u3063\u305f\u5834\u5408\u306b\u306f\u3001\u305d\u308c\u306b\u306f\u3053\u306e\u6700\u9069\u5316\u304c\u52b9\u304b\u306a\u3044\u4e8b\u3092\u5acc\u3063\u305f\u304b\u3089\u3060\u3068\u601d\u3044\u307e\u3059\u3002\nJava\u3067\u3088\u304f\u77e5\u3089\u308c\u305fList\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30b9\u30bf\u30a4\u30eb\u304c\u3042\u308b\u306e\u3067\u3001\n\u304a\u305d\u3089\u304f\u305d\u308c\u304c\u3067\u304d\u308b\u8a00\u8a9e\u4ed5\u69d8\u3067\u3042\u308c\u3070\u3001\n\u3068\u308a\u3042\u3048\u305a\u591a\u304f\u306e\u4eba\u304c\u305d\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u53d6\u308a\u56de\u3059\u3088\u3046\u306b\u306a\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\u305d\u3057\u3066\u4f8b\u3048\u3070\u3001\u305d\u306e\u3088\u3046\u306aInt\u306eSequence\u306a\u3069\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d7\u3051\u53d6\u308b\u30af\u30e9\u30b9\u304c\u3042\u308c\u3070\u3001\n\u305d\u306e\u30af\u30e9\u30b9\u304b\u3089\u305d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53c2\u7167\u3057\u3066\u4f55\u304b\u3059\u308b\u5225\u306e\u30af\u30e9\u30b9\u3082Sequence\u3067\u6271\u3046\u3001\n\u3068\u3044\u3046\u3088\u3046\u306b\u578b\u5b9a\u7fa9\u306e\u4f1d\u642c\u304c\u81ea\u7136\u3068\u8d77\u3053\u308a\u3001\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u307b\u3068\u3093\u3069\u5168\u4f53\u3067Sequence\u306b\u3088\u3063\u3066\u53d6\u308a\u56de\u3059\u4e8b\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\u4e00\u65b9\u3001\u305d\u308c\u3092\u7981\u6b62\u3057\u305f\u4ed5\u69d8\u306b\u3057\u3066\u304a\u3051\u3070\u3001\n\u307b\u3068\u3093\u3069\u5168\u3066\u306e\u30b1\u30fc\u30b9\u3067\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u578b\u5236\u7d04\u3067\u5b9f\u88c5\u3055\u308c\u305f\u95a2\u6570\u7fa4\u306f\u3001\n\u5b9f\u969b\u306estruct\u306e\u578b\u3067\u7279\u6b8a\u5316\u53ef\u80fd\u306b\u306a\u308a\u3001\n\u9759\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u3068\u306a\u308a\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001\u9045\u3044\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u52d5\u4f5c\u3068\u306a\u308b\u306e\u306f\u3001\n\u30e6\u30fc\u30b6\u30fc\u304c\u81ea\u3089Type Erasure\u3092\u305b\u3053\u305b\u3053\u5b9f\u88c5\u3057\u305f\u5834\u5408\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\u3053\u308c\u306f\u524d\u8005\u3068\u6bd4\u8f03\u3059\u308b\u3068\u7d50\u69cb\u306a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u9055\u3044\u3092\u751f\u307f\u305d\u3046\u306b\u601d\u3044\u307e\u3059\u3002\n\u7279\u306b\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u578b\u3067\u4ee3\u8868\u7684\u306a\u3082\u306e\u306f\u3084\u306f\u308a\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u3001\nO(n)\u306e\u30aa\u30fc\u30c0\u30fc\u3092\u6301\u3064\u51e6\u7406\u3068\u7d61\u307f\u3084\u3059\u3044\u305f\u3081\u3001\u30a2\u30d7\u30ea\u306e\u52d5\u4f5c\u901f\u5ea6\u306b\u304a\u3051\u308b\u30a6\u30a7\u30a4\u30c8\u304c\u5927\u304d\u305d\u3046\u3067\u3059\u3002\nSwift\u306f\u751f\u6210\u30d0\u30a4\u30ca\u30ea\u306e\u52d5\u4f5c\u304c\u901f\u3044\u4e8b\u3082\u8a00\u8a9e\u8a2d\u8a08\u76ee\u6a19\u306e1\u3064\u306b\u3057\u3066\u3044\u307e\u3059\u3002\nC++\u3068Java\u306e\u9593\u306b\u3053\u306e\u30c6\u30fc\u30de\u306b\u95a2\u3057\u3066\u306f\u305d\u308c\u306a\u308a\u306e\u6027\u80fd\u5dee\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u3002\nC++\u3067\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30af\u30e9\u30b9\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u30bd\u30fc\u30b9\u30ec\u30d9\u30eb\u3067\u5c55\u958b\u3055\u308c\u308b\u305f\u3081\u9ad8\u901f\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\u4e00\u65b9Java\u3067\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001\n\u578b\u30d1\u30e9T\u306e\u578b\u3092\u3082\u3064\u90e8\u5206\u306f\u5168\u3066\u53c2\u7167\u578b\u3068\u306a\u308a\u3001\n\u5024\u578b\u306fBoxing\u3055\u308c\u3001\n\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306f\u5e38\u306b\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306b\u3088\u308b\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u306b\u306a\u308a\u307e\u3059\u3002\nSwift\u306f\u52d5\u4f5c\u901f\u5ea6\u306b\u304a\u3044\u3066\u3001C++\u4e26\u306e\u6027\u80fd\u304c\u3067\u308b\u3088\u3046\u306b\u3053\u306e\u3088\u3046\u306a\u9078\u629e\u3092\u3057\u305f\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\u307e\u305fC++\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30af\u30e9\u30b9\u3067\u3001\nSwift\u306eSequenceType\u306e\u3088\u3046\u306a\u4e8b\u3092\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u3092\u8003\u3048\u3066\u307f\u307e\u3059\u3002\nC++\u306estd::vector<T>\u306f\u5b9f\u969b\u306e\u5024\u578b\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u3067\u3001Swift\u306eArray<T>\u306b\u3042\u305f\u308a\u307e\u3059\u3002\n\u3053\u3053\u3067Swift\u3067\u306f\u3001SequenceType\u3068\u3044\u3046\u30d7\u30ed\u30b3\u30c8\u30eb\u3092\u6e80\u305f\u3059\u578b\u306b\u5bfe\u3057\u3066\u3001\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u5f62\u3067\u518d\u5229\u7528\u53ef\u80fd\u306a\u90e8\u54c1\u3092\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\nC++\u3067\u3082\u78ba\u304b\u540c\u3058\u3088\u3046\u306bstd::vector\u3067\u3082std::list\u3067\u3082\u6e21\u3057\u3066\u4f7f\u3048\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u53ef\u80fd\u3067\u3059\u304c\u3001\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u69cb\u6587\u3092\u7d50\u69cb\u6df1\u304f\u4f7f\u3044\u3053\u306a\u3059\u5fc5\u8981\u304c\u3042\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\nSwift\u306f\u305d\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u304cprotocol\u6587\u3060\u3051\u3067\u7c21\u5358\u306b\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u8a00\u8a9e\u4ed5\u69d8\u306b\u3059\u308b\u554f\u984c\u70b9\u306f\u3001\n\u5143\u306e\u5024\u306e\u632f\u308b\u821e\u3044\u3092\u4fdd\u6301\u3057\u305f\u307e\u307e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6271\u3044\u305f\u3044\u5834\u5408\u3067\u3001\n\u304b\u3064\u3001\u8907\u6570\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u540c\u6642\u306b\u6e80\u305f\u3059\u30af\u30e9\u30b9\u3092\u53d6\u308a\u6271\u3046\u4e8b\u304c\u3067\u304d\u306a\u3044\u4e8b\u3067\u3059\u3002\n1\u3064\u3081\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u305f\u3081\u306bType Erasure\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\n\u30d7\u30ed\u30c8\u30b3\u30ebA\u306eAnyA, \u30d7\u30ed\u30c8\u30b3\u30ebB\u306eAnyB\u306f\u305d\u308c\u305e\u308c\u5143\u306e\u5024\u3092\u96a0\u853d\u3057\u3066\u3057\u307e\u3046\u305f\u3081\u3001\n\u3069\u3061\u3089\u304b\u306b\u5305\u3093\u3060\u77ac\u9593\u306b\u3082\u3046\u7247\u65b9\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u5931\u308f\u308c\u307e\u3059\u3002\n\u3084\u308d\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u30d7\u30ed\u30c8\u30b3\u30ebA\u3068\u30d7\u30ed\u30c8\u30b3\u30ebB\u306e\u4e21\u65b9\u3092\u6e80\u305f\u3057\u305fType Erasure\u3067\u3042\u308bAnyAorB\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\n\u3053\u306e\u7d44\u307f\u5408\u308f\u305b\u65b9\u3054\u3068\u306bErasure\u306e\u5b9f\u88c5\u304c\u5fc5\u8981\u306a\u305f\u3081\u975e\u73fe\u5b9f\u7684\u3067\u3059\u3002\n\u3057\u304b\u3057\u306a\u3093\u3068\u306a\u304f\u3001\u305d\u306e\u3088\u3046\u306a\u8907\u96d1\u306a\u6a5f\u80fd\u3092\u3082\u3063\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u3063\u305f\u3053\u3068\u306f\u3001\n\u3042\u307e\u308a\u3053\u308c\u307e\u3067\u306b\u7121\u304b\u3063\u305f\u3088\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u3002\n\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u6cbc\u306b\u306f\u307e\u308a\u305d\u3046\u306a\u306e\u304c\u5fc3\u914d\u3067\u3001\n\u3069\u306e\u7a0b\u5ea6\u5c0e\u5165\u3059\u308b\u3079\u304d\u304b\u60a9\u307e\u3057\u3044\u72b6\u614b\u304c\u7d9a\u3044\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\n\u4eca\u56de\u81ea\u5206\u306a\u308a\u306b\u306f\u3044\u308d\u3044\u308d\u30af\u30ea\u30a2\u306b\u306a\u3063\u3066\u304d\u305f\u306e\u3067\u3001\n\u4eca\u5f8c\u306f\u3082\u3063\u3068struct\u3068protocol\u3092\u6d3b\u7528\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n# \u5c0e\u5165\n\nSwift\u3067\u306f\u901a\u5e38\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u5909\u6570\u306e\u578b\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf(associated type)\u3092\u6301\u3064\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5909\u6570\u306f\u4f5c\u308c\u307e\u305b\u3093\u3002\n\n\u975e\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u4f8b\n\n```swift\nprotocol Hogeable {\n\tfunc hoge() -> Int\n}\nstruct HogeCat: Hogeable {\n\tfunc hoge() -> Int { return 1111 }\n}\nlet cat = HogeCat()\nlet hogeable: Hogeable = cat\n// \u30b3\u30f3\u30d1\u30a4\u30ebOK\n```\n\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u4f8b\n\n```swift\nprotocol Fugable {\n\ttypealias Element\n\tfunc fug() -> Element\n}\nstruct FugaDog: Fugable {\n\tfunc fuga() -> Int { return 2222 }\n}\nlet dog = FugaDog()\nlet fugable: Fugable = dog \n// \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n// protocol 'Fugable' can only be used as a generic constraint because it has Self or associated type requirements\n```\n\n\u3053\u308c\u306fJava\u306e\u611f\u899a\u304b\u3089\u3059\u308b\u3068\u4e0d\u4fbf\u3067\u3059\u3002\n\u306a\u305c\u3053\u308c\u304c\u3067\u304d\u306a\u3044\u306e\u304b\u8003\u3048\u3092\u6df1\u3081\u308b\u305f\u3081\u306b\u3001\n\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u751f\u6210\u3059\u308b\u4e2d\u9593\u30b3\u30fc\u30c9\u3092\u898b\u3066\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n\n# \u7d50\u8ad6\n\n\u308f\u304b\u3063\u305f\u3053\u3068\u304b\u3089\u306e\u63a8\u6e2c\u306b\u306a\u308a\u307e\u3059\u304c\u3001\n\u6700\u9069\u5316\u3057\u3084\u3059\u3044\u30b3\u30fc\u30c9\u304c\u81ea\u7136\u3068\u591a\u304f\u751f\u6210\u3055\u308c\u308b\u3088\u3046\u306b\u3001\n\u3042\u3048\u3066\u305d\u308c\u3092\u963b\u5bb3\u3059\u308b\u3053\u306e\u6a5f\u80fd\u3092\u8a00\u8a9e\u4ed5\u69d8\u306b\u542b\u3081\u3066\u3044\u306a\u3044\n\u306e\u3060\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n# \u74b0\u5883\n\nApple Swift version 2.1.1 (swiftlang-700.1.101.15 clang-700.1.81)\n\n# \u95a2\u9023\u30c6\u30af\u30cb\u30c3\u30af\n\n\u305d\u3082\u305d\u3082\u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3001\n\u3044\u304f\u3064\u304b\u306e\u59a5\u5354\u6848\u304c\u5b58\u5728\u3059\u308b\u306e\u3067\u5148\u306b\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n## Type Erasure\n\ntry! Swift\u3067\u306f\u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3001\n\u4e0b\u8a18\u306e\u3088\u3046\u306bType Erasure\u3092\u4f5c\u308b\u30ef\u30fc\u30af\u30a2\u30e9\u30a6\u30f3\u30c9\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\nType Erasure\u306e\u4f8b\n\n```swift\nstruct AnyFugable<T>: Fugable {\n    typealias Element = T\n    private let fuga_: () -> T\n    init<F: Fugable where F.Element == T>(inner: F) {\n        fuga_ = { inner.fuga() }\n    }\n    func fuga() -> T { return fuga_() }\n}\nlet dog = FugaDog()\nlet fugable: AnyFugable = AnyFugable(inner: dog)\n```\n\nSwift\u306e\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3082`SequenceType`\u306b\u5bfe\u3057\u3066`AnySequence`\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306a\u3069\u3001\n\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u306e\u554f\u984c\u70b9\u3068\u3057\u3066\u3001\n`AnyFugable`\u306e\u4e2d\u306b\u5165\u308c\u305f`inner`\u304c\u3001\n\u52d5\u7684\u578b\u5224\u5b9a\u3084\u30ad\u30e3\u30b9\u30c8\u306b\u3088\u3063\u3066\u53d6\u308a\u51fa\u3059\u4e8b\u304c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306b\u3088\u308a\u3001\u5305\u3093\u3060\u3068\u3053\u308d\u3067\u5185\u90e8\u306e\u5024\u304c\u3082\u3063\u3066\u3044\u308b\u4ed6\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3082\u5931\u308f\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u305f\u3060\u3001SequenceType\u306e\u3088\u3046\u306b\u3001\u5024\u7684\u306b\u6271\u3048\u308b\u578b\u3067\u3042\u308c\u3070\u305d\u308c\u3067\u56f0\u308b\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u3053\u308c\u3089\u3092Java\u306einterface\u3068\u6bd4\u3079\u308b\u3068\u3001\nJava\u3067\u306f\u578b\u5224\u5b9a\u3068\u30c0\u30a6\u30f3\u30ad\u30e3\u30b9\u30c8\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3066Swift\u306f\u4e0d\u4fbf\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u308c\u3068\u3001\u5b9f\u88c5\u304c\u9762\u5012\u304f\u3055\u3044\u3067\u3059\u3002\n\n## \u305d\u3082\u305d\u3082Class\u3092\u4f7f\u3046 \n\n\u305d\u3082\u305d\u3082\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u306f\u306a\u304fClass\u3092\u4f7f\u3063\u3066\u3001\n\u30aa\u30fc\u30d0\u30e9\u30a4\u30c9\u306b\u3088\u308b\u30dd\u30ea\u30e2\u30fc\u30d5\u30a3\u30ba\u30e0\u3067\u8a2d\u8a08\u3059\u308c\u3070\u578b\u30d1\u30e9\u3092\u542b\u3080\u53c2\u7167\u578b\u306e\u5909\u6570\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u3067\u6e08\u3080\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u3057\u304b\u3057\u3001\u30af\u30e9\u30b9\u3060\u3068\u591a\u91cd\u7d99\u627f\u3067\u304d\u306a\u3044\u306a\u3069\u306e\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002\n\n## \u7279\u5b9a\u306eStruct\u306b\u5909\u63db\u3059\u308b\n\n\u4f8b\u3048\u3070`SequenceType`\u306e\u5834\u5408\u306f\u3001`Array<T>`\u306b\u5909\u63db\u3057\u3066\u3057\u307e\u3048\u3070\u4fdd\u6301\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u3067\u6e08\u3080\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u3057\u304b\u3057\u3053\u306e\u5834\u5408\u3001\u4e00\u5ea6Array\u306b\u3059\u308b\u305f\u3081\u306b\u8981\u7d20\u306e\u30b3\u30d4\u30fc\u304c\u5fc5\u8981\u3067\u3001\u51e6\u7406\u30b3\u30b9\u30c8\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\u307e\u305f\u3001\u3082\u3068\u3082\u3068\u306eSequenceType\u304c\u6301\u3063\u3066\u3044\u305f\u30c7\u30fc\u30bf\u69cb\u9020\u3068\u306f\u95a2\u4fc2\u306a\u304f\u306a\u308b\u305f\u3081\u3001\n\u30e1\u30bd\u30c3\u30c9\u306b\u5bfe\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3054\u3068\u306b\u3075\u308b\u307e\u3044\u3092\u5909\u3048\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\nJava\u3060\u3068List\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3001\nArrayList\u3092\u5165\u308c\u305f\u308aLinkedList\u3092\u5165\u308c\u305f\u308a\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u304c\u57fa\u672c\u3067\u3059\u304c\u3001\n\u305d\u308c\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\nAnySequence\u3067\u306f\u5143\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4fdd\u6301\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n\u3075\u308b\u307e\u3044\u306f\u4fdd\u6301\u3055\u308c\u307e\u3059\u3002\n\n# \u5909\u6570\u306f\u4f5c\u308c\u306a\u3044\u304c\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u95a2\u6570\u306f\u4f5c\u308c\u308b\n\n`let fugable: Fugable`\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u3064\u307e\u308a\u3001\u578b\u30d1\u30e9\u3092\u7279\u6b8a\u5316\u3057\u305f\u578b\u3068\u3057\u3066\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u5024\u3092\u4fdd\u6301\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u3067\u3059\u304c\u3001\u578b\u30d1\u30e9\u3092\u7279\u6b8a\u5316\u3057\u305f\u578b\u306b\u5024\u3092\u4e0e\u3048\u308b\u4e8b\u306f\u3067\u304d\u307e\u3059\u3002\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u3067\u3059\u3002\n\n```Swift\nfunc callIntFugableFuga<F: Fugable where F.Element == Int>(fugable: F) -> Int {\n\treturn fugable.fuga()\n}\nlet dog = FugaDog()\ncallIntFugableFuga(dog)\n```\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u3066\u52d5\u304d\u307e\u3059\u3002\n`callIntFugableFuga`\u306e\u5f15\u6570`fugable`\u306e\u578b\u306f\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bfElement\u304cInt\u306b\u5236\u7d04\u3055\u308c\u305fFugable\u3067\u3059\u3002\n\n\u672c\u6765\u3001\u5024\u3092\u5909\u6570\u3078\u4ee3\u5165\u3059\u308b\u5834\u5408\u3068\u3001\n\u5024\u3092\u95a2\u6570\u306e\u5f15\u6570\u3078\u6e21\u3059\u5834\u5408\u306e\u3001\n\u578b\u30b7\u30b9\u30c6\u30e0\u3068\u3057\u3066\u306e\u30eb\u30fc\u30eb\u306f\u540c\u3058\u3067\u3059\u304c\u3001\n\u5909\u6570\u306b\u5b9a\u7fa9\u3059\u308b\u4e8b\u306f\u3067\u304d\u306a\u304f\u3066\u3082\u3001\n\u95a2\u6570\u306e\u4eee\u5f15\u6570\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u306b\u675f\u7e1b\u3059\u308b\u4e8b\u306f\u53ef\u80fd\u306a\u306e\u3067\u3059\u3002\n\n\u3053\u308c\u3092\u8ef8\u306b\u8abf\u67fb\u3092\u9032\u3081\u307e\u3057\u305f\u3002\n\n# \u30d7\u30ed\u30b3\u30c8\u30eb\u306b\u3088\u308b\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u306e\u5b9f\u88c5 (SIL)\n\n\u305d\u3082\u305d\u3082\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u3057\u3066\u5024\u3092\u6271\u3046\u3068\u3044\u3046\u306e\u306f\u3069\u3046\u3044\u3046\u4e8b\u306a\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\u4f8b\u3048\u3070\u3001\u540c\u3058Fugable\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u6e80\u305f\u3057\u3066\u3044\u308b`struct FugaDog`\u3068\u3001`struct FugaElephant`\u304c\u3042\u3063\u305f\u6642\u3001\n\u306a\u305c\u3069\u3061\u3089\u3082\u540c\u3058\u3088\u3046\u306bFugable\u578b\u306e\u5909\u6570\u306b\u4ee3\u5165\u3067\u304d\u308b\u306e\u3067\u3057\u3087\u3046\u3002\n\n\u4e21\u65b9\u3068\u3082\u5024\u578b\u3067\u3001\u7570\u306a\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3001\u30e1\u30bd\u30c3\u30c9\u5b9a\u7fa9\u3092\u6301\u3064\u306e\u306b\u3001\n\u306a\u305c\u4e92\u63db\u6027\u306e\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u6271\u3048\u3001\n\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u5206\u3051\u308b\u4e8b\u304c\u3067\u304d\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u5b9f\u969b\u306b\u305d\u306e\u5909\u63db\u304c\u884c\u308f\u308c\u308b\u3068\u3053\u308d\u3092\u4e2d\u9593\u30b3\u30fc\u30c9\u3067\u898b\u3066\u307f\u308c\u3070\u3001\n\u3088\u308a\u5185\u90e8\u306e\u7406\u89e3\u304c\u3067\u304d\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n\u307e\u305a\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\n```swift \n// 1.swift\nprotocol Hogeable {\n    func hoge() -> Int\n}\nstruct HogeCat: Hogeable {\n    func hoge() -> Int { return 1111 }\n}\n\nfunc callHogeableHoge(hogeable: Hogeable) -> Int {\n\treturn hogeable.hoge()\n}\nfunc callCatHoge(cat: HogeCat) -> Int {\n\treturn callHogeableHoge(cat)\n}\n\nprint(callCatHoge(HogeCat()))\n```\n\n`callHogeableHoge`\u306f`Hogeable`\u306e\u5f15\u6570\u3092\u53d6\u308a\u307e\u3059\u3002\n`callCatHoge`\u306f`HogeCat`\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001`callHogeableHoge`\u306b\u6e21\u3057\u307e\u3059\u3002\n\n\u306a\u306e\u3067\u3001`callCatHoge`\u306e\u5185\u90e8\u3067\u3001`HogeCat`\u304b\u3089`Hogeable`\u3078\u306e\u5909\u63db\u304c\u8d77\u3053\u308a\u307e\u3059\u3002\n\u3053\u306e\u90e8\u5206\u306e\u751f\u6210\u30b3\u30fc\u30c9\u3092\u7279\u306b\u8abf\u3079\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n## SIL\u306b\u3064\u3044\u3066\n\n\u306a\u304a\u3001Swift\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u3001\u307e\u305aSIL\u3068\u3044\u3046\u4e2d\u9593\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u3001\n\u305d\u3053\u304b\u3089LLVM IR\u3068\u3044\u3046\u4e2d\u9593\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u3001\n\u6700\u5f8c\u306b\u30cd\u30a4\u30c6\u30a3\u30d6\u30d0\u30a4\u30ca\u30ea\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\nSIL\u306f\u578b\u30b7\u30b9\u30c6\u30e0\u3068\u3057\u3066\u306fSwift\u30ec\u30d9\u30eb\u306e\u3082\u306e\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u304c\u3001\n\u30e1\u30bd\u30c3\u30c9\u5b9a\u7fa9\u306a\u3069\u306f\u95a2\u6570\u5b9a\u7fa9\u306b\u66f8\u304d\u4e0b\u3055\u308c\u3001\n\u5236\u5fa1\u69cb\u6587\u306f\u30a2\u30bb\u30f3\u30d6\u30ea\u7684\u306a\u30e9\u30d9\u30eb\u30b8\u30e3\u30f3\u30d7\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nSIL\u306b\u306fraw SIL\u3068canonical SIL\u304c\u3042\u308a\u3001\nraw\u304b\u3089canonical\u3078\u306e\u5909\u63db\u6642\u306b\u3044\u304f\u3064\u304b\u306e\u6700\u9069\u5316\u304c\u884c\u308f\u308c\u307e\u3059\u3002\n\n\u4eca\u56de\u306f\u307e\u305a\u3001Swift\u304b\u3089\u306a\u308b\u3079\u304f\u8fd1\u3044\u3001\u6700\u9069\u5316\u7121\u3057\u306eraw SIL\u3092\u8abf\u3079\u3066\u307f\u307e\u3059\u3002\n\n[\u306a\u304a\u3001SIL\u306e\u30b3\u30fc\u30c9\u3092\u8aad\u3080\u3068\u304d\u306f\u3001\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u3068\u826f\u3044\u3067\u3059\u3002](https://github.com/apple/swift/blob/master/docs/SIL.rst)\n\n## SIL\u30b3\u30fc\u30c9\u3092\u8aad\u3080\n\n\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30d1\u30a4\u30e9\u3067SIL\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\u6700\u9069\u5316\u3092\u3057\u306a\u3044\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\nswiftc -emit-silgen -Onone 1.swift > 1-rawsil.sil\n```\n\n\u51fa\u529b\u7d50\u679c\u304b\u3089\u4f59\u8a08\u306a\u3082\u306e\u3092\u524a\u9664\u3057\u3066\u90e8\u5206\u5f15\u7528\u3057\u307e\u3059\u3002\n\n```\n// main.HogeCat.hoge (main.HogeCat)() -> Swift.Int\nsil hidden @_TFV4main7HogeCat4hogefS0_FT_Si : $@convention(method) (HogeCat) -> Int {\n\t...\n}\n// protocol witness for main.Hogeable.hoge <A where A: main.Hogeable> (A)() -> Swift.Int in conformance main.HogeCat : main.Hogeable in main\nsil hidden [transparent] [thunk] @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si : $@convention(witness_method) (@in_guaranteed HogeCat) -> Int {\n\t...\n}\n// main.callHogeableHoge (main.Hogeable) -> Swift.Int\nsil hidden @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int {\n\t...\n}\n// main.callCatHoge (main.HogeCat) -> Swift.Int\nsil hidden @_TF4main11callCatHogeFVS_7HogeCatSi : $@convention(thin) (HogeCat) -> Int {\n\t...\n}\nsil_witness_table hidden HogeCat: Hogeable module main {\n\t...\n}\n```\n\nsil\u3067\u59cb\u307e\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u95a2\u6570\u5b9a\u7fa9\u3067\u3059\u3002\n\u3044\u307e\u30014\u3064\u306e\u95a2\u6570\u5b9a\u7fa9\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e00\u756a\u6c17\u306b\u306a\u308b`callCatHoge`\u306e\u5b9f\u88c5\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```\n// main.callCatHoge (main.HogeCat) -> Swift.Int\nsil hidden @_TF4main11callCatHogeFVS_7HogeCatSi : $@convention(thin) (HogeCat) -> Int {\nbb0(%0 : $HogeCat):\n  debug_value %0 : $HogeCat  // let cat           // id: %1\n  // function_ref main.callHogeableHoge (main.Hogeable) -> Swift.Int\n  %2 = function_ref @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int // user: %6\n  %3 = alloc_stack $Hogeable                      // users: %4, %6, %7\n  %4 = init_existential_addr %3#1 : $*Hogeable, $HogeCat // user: %5\n  store %0 to %4 : $*HogeCat                      // id: %5\n  %6 = apply %2(%3#1) : $@convention(thin) (@in Hogeable) -> Int // user: %8\n  dealloc_stack %3#0 : $*@local_storage Hogeable  // id: %7\n  return %6 : $Int                                // id: %8\n}\n```\n\n\u3053\u306e\u884c\u3067\u3001\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u305fHogeCat\u578b\u306e\u5909\u6570\u3092\u3001`%0`\u3068\u540d\u524d\u4ed8\u3051\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\nbb0(%0 : $HogeCat):\n```\n\n\u3053\u306e\u884c\u3067\u3001\u95a2\u6570`@_TF4main16callHogeableHogeFPS_8Hogeable_Si`\u3092`%2`\u306b\u4ee3\u5165\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u95a2\u6570\u306f\u3001\u6700\u521d\u306b\u5f15\u7528\u3057\u305f\u3068\u304a\u308a\u3001`callHogeableHoge`\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u305f\u3082\u306e\u3067\u3059\u3002\n\n```\n%2 = function_ref @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int // user: %6\n```\n\n\u6b21\u306e\u884c\u3067\u3001\u30b9\u30bf\u30c3\u30af\u30e1\u30e2\u30ea\u306b`$Hogeable`\u578b\u306e\u30b5\u30a4\u30ba\u306e\u9818\u57df\u3092\u78ba\u4fdd\u3057\u3001\u305d\u306e\u30dd\u30a4\u30f3\u30bf\u3092`%3`\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u6b21\u3067\u3001\u305d\u306e\u9818\u57df(`%3`)\u3092HogeCat\u7528\u306eHogeable\u9818\u57df\u3068\u3057\u3066\u521d\u671f\u5316\u3057\u3001\n\u305d\u306e\u6b21\u3067\u3001\u305d\u306e\u9818\u57df(`%4`)\u306b\u5f15\u6570\u3067\u53d7\u3051\u305fcat(`%0`)\u3092\u30b3\u30d4\u30fc\u3057\u3066\u3044\u307e\u3059\u3002\n(`%3`\u306e\u5f8c\u308d\u306b\u4ed8\u3044\u3066\u3044\u308b`#1`\u306e\u610f\u5473\u306f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u30b9\u30eb\u30fc\u3057\u307e\u3059\u3002)\n\n```\n  %3 = alloc_stack $Hogeable                      // users: %4, %6, %7\n  %4 = init_existential_addr %3#1 : $*Hogeable, $HogeCat // user: %5\n  store %0 to %4 : $*HogeCat                      // id: %5\n```\n\n\u6700\u5f8c\u306b\u3001`%2`\u306b\u7528\u610f\u3057\u305f\u95a2\u6570\u3092\u3001cat\u304b\u3089\u4f5c\u3063\u305f`$Hogeable`\u3078\u306e\u30dd\u30a4\u30f3\u30bf`%3`\u3092\u6e21\u3057\u3066\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n```\n  %6 = apply %2(%3#1) : $@convention(thin) (@in Hogeable) -> Int // user: %8\n```\n\n\u3064\u307e\u308a\u3001\u3053\u3053\u307e\u3067\u306e\u5185\u5bb9\u306b\u3088\u308a\u3001\n`HogeCat`\u3092`Hogeable`\u3068\u3057\u3066\u6e21\u3059\u3068\u304d\u306b\u306f\u3001\n`HogeCat`\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u305d\u306e\u307e\u307e\u6e21\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u3001\n\u3044\u3063\u305f\u3093\u30a2\u30af\u30bb\u30b9\u3092\u4ef2\u4ecb\u3059\u308b\u305f\u3081\u306e`$Hogeable`\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308a\u3001\n`Hogeable`\u304b\u3089`HogeCat`\u3092\u9593\u63a5\u7684\u306b\u53c2\u7167\u3055\u305b\u308b\u5f62\u3092\u4f5c\u3063\u3066\u547c\u3073\u51fa\u3057\u3066\u3044\u305f\u4e8b\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\n\u3055\u3066\u3001\u5f8c\u308d\u306e\u65b9\u306b\u95a2\u6570\u5b9a\u7fa9\u3068\u306f\u5225\u306e\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\n\n```\nsil_witness_table hidden HogeCat: Hogeable module main {\n  method #Hogeable.hoge!1: @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si\t// protocol witness for main.Hogeable.hoge <A where A: main.Hogeable> (A)() -> Swift.Int in conformance main.HogeCat : main.Hogeable in main\n}\n```\n\n\u3053\u308c\u306fwitness\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u30b3\u30fc\u30c9\u3067\u3059\u3002\n\n[witness\u30c6\u30fc\u30d6\u30eb\u3068\u3044\u3046\u3082\u306e\u306b\u3064\u3044\u3066\u8abf\u3079\u305f\u7d50\u679c\u3001](https://github.com/apple/swift/blob/master/docs/SIL.rst#witness-tables)\n\u3053\u308c\u306f\u96d1\u306b\u8a00\u3046\u3068\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u7248\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u3002\n\n\u3053\u3053\u3067\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u306f`HogeCat`\u304c`Hogeable`\u3068\u3057\u3066\u632f\u308b\u821e\u3046\u6642\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4f7f\u3046\u305f\u3081\u306e\u3001\n\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u30c6\u30fc\u30d6\u30eb\u3067\u3059\u3002\n\n`Hogeable`\u306b\u306f\u30e1\u30bd\u30c3\u30c9`hoge`\u304c\u4e00\u3064\u3060\u3051\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\n\u305d\u308c\u306b\u5bfe\u5fdc\u3057\u3066\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u3082\u3001\u30e1\u30bd\u30c3\u30c9`#Hogeable.hoge!1`\u3068\u3057\u3066\u3001\n\u95a2\u6570`@_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si`\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u308c\u306e\u5b9a\u7fa9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```\n// protocol witness for main.Hogeable.hoge <A where A: main.Hogeable> (A)() -> Swift.Int in conformance main.HogeCat : main.Hogeable in main\nsil hidden [transparent] [thunk] @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si : $@convention(witness_method) (@in_guaranteed HogeCat) -> Int {\nbb0(%0 : $*HogeCat):\n  %1 = alloc_stack $HogeCat                       // users: %2, %3, %6\n  copy_addr %0 to [initialization] %1#1 : $*HogeCat // id: %2\n  %3 = load %1#1 : $*HogeCat                      // user: %5\n  // function_ref main.HogeCat.hoge (main.HogeCat)() -> Swift.Int\n  %4 = function_ref @_TFV4main7HogeCat4hogefS0_FT_Si : $@convention(method) (HogeCat) -> Int // user: %5\n  %5 = apply %4(%3) : $@convention(method) (HogeCat) -> Int // user: %7\n  dealloc_stack %1#0 : $*@local_storage HogeCat   // id: %6\n  return %5 : $Int                                // id: %7\n}\n```\n\n\u3056\u3063\u304f\u308a\u8aad\u3080\u3068\u3001\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066`$HogeCat`\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u53d7\u3051\u53d6\u308a\u3001\n\u305d\u306e\u53d7\u3051\u53d6\u3063\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3001\n\u95a2\u6570`@_TFV4main7HogeCat4hogefS0_FT_Si`\u306b\u6e21\u3057\u3066\u547c\u3073\u51fa\u3059\u3001\n\u3068\u3044\u3046\u5f62\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u95a2\u6570`@_TFV4main7HogeCat4hogefS0_FT_Si`\u306f`HogeCat`\u306e`hoge`\u30e1\u30bd\u30c3\u30c9\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u305f\u3082\u306e\u3067\u3001\n\u5f15\u6570\u3068\u3057\u3066`$HogeCat`\u3092\u53d7\u3051\u53d6\u308a\u3001\u305d\u306e\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u3001\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\n\u3064\u307e\u308a\u3001witness\u30c6\u30fc\u30d6\u30eb\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u95a2\u6570\u306f\u3001\n`HogeCat`\u3068\u3044\u3046\u5b9f\u969b\u306e\u578b\u304c`Hogeable`\u3068\u3044\u3046\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u3057\u3066\u4f7f\u308f\u308c\u3066\u3044\u308b\u6642\u306e\u305f\u3081\u306e\u3001\n`HogeCat`\u306e\u672c\u5f53\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u30b0\u30eb\u30fc\u30b3\u30fc\u30c9\u304c\u66f8\u304b\u308c\u305f\u3082\u306e\u3001\n\u3068\u3044\u3046\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u6700\u5f8c\u306b\u3001`callHogeableHoge`\u306eSIL\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```\n// main.callHogeableHoge (main.Hogeable) -> Swift.Int\nsil hidden @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int {\nbb0(%0 : $*Hogeable):\n  debug_value_addr %0 : $*Hogeable  // let hogeable // id: %1\n  %2 = open_existential_addr %0 : $*Hogeable to $*@opened(\"0EAE1E88-E6A6-11E5-97B8-A8667F09828A\") Hogeable // users: %3, %4\n  %3 = witness_method $@opened(\"0EAE1E88-E6A6-11E5-97B8-A8667F09828A\") Hogeable, #Hogeable.hoge!1, %2 : $*@opened(\"0EAE1E88-E6A6-11E5-97B8-A8667F09828A\") Hogeable : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Hogeable> (@in_guaranteed \u03c4_0_0) -> Int // user: %4\n  %4 = apply %3<@opened(\"0EAE1E88-E6A6-11E5-97B8-A8667F09828A\") Hogeable>(%2) : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Hogeable> (@in_guaranteed \u03c4_0_0) -> Int // user: %6\n  destroy_addr %0 : $*Hogeable                    // id: %5\n  return %4 : $Int                                // id: %6\n}\n```\n\n\u306a\u3093\u3060\u304b\u3088\u304f\u308f\u304b\u3089\u306a\u3044UUID\u304c\u51fa\u3066\u304d\u3066\u8aad\u307f\u3065\u3089\u3044\u3067\u3059\u304c\u3001\n\u3056\u3063\u304f\u308a\u3068\u69cb\u9020\u3092\u8aad\u307f\u53d6\u308b\u3068\u3001\n\u5f15\u6570\u3067\u53d7\u3051\u53d6\u3063\u305f`$Hogeable`\u3078\u306e\u30dd\u30a4\u30f3\u30bf`%0`\u304c\u3001\n`%2`\u3092\u7d4c\u7531\u3057\u3066\u3001`witness_method`\u547d\u4ee4\u306b\u6e21\u3055\u308c\u3001\n\u53d6\u5f97\u3057\u305f\u95a2\u6570`%3`\u3092\u3001\u3053\u308c\u307e\u3067\u540c\u69d8`apply`\u3067\u547c\u3073\u51fa\u3059\u3001\u3068\u3044\u3046\u5f62\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u3053\u307e\u3067\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u95a2\u6570\u3092\u53c2\u7167\u3059\u308b\u3068\u3053\u308d\u306f\u3001\n`function_ref`\u547d\u4ee4\u3092\u4f7f\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\u3053\u306e\u547d\u4ee4\u306f\u3001\u5f15\u6570\u3068\u3057\u3066`@`\u304b\u3089\u59cb\u307e\u308b\u95a2\u6570\u540d\u3060\u3051\u3092\u7528\u3044\u3066\u3001\u95a2\u6570\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u3057\u304b\u3057\u3053\u3053\u3067\u306f\u3001`witness_method`\u547d\u4ee4\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\n`Hogeable`\u3068\u3044\u3046\u578b\u540d\u3001\n`#Hogeable.hoge!1`\u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u540d\u3001\n\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8(`%2`)\u306e3\u3064\u306e\u5f15\u6570\u3092\u7528\u3044\u3066\u95a2\u6570\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u90e8\u5206\u306b\u3066\u3001\n\u5148\u307b\u3069\u898b\u305fwitness\u30c6\u30fc\u30d6\u30eb\u306e\u30a8\u30f3\u30c8\u30ea\u304c\u53d6\u308a\u51fa\u3055\u308c\u3001\n`Hogeable`\u3068\u3057\u3066\u6271\u308f\u308c\u3066\u3044\u308b\u5b9f\u969b\u306e\u578b\u306b\u5fdc\u3058\u305f\u95a2\u6570\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u3001\n\u3068\u3044\u3046\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n## \u52d5\u4f5c\u306e\u307e\u3068\u3081\n\n\u3053\u3053\u307e\u3067\u306e\u7d50\u679c\u3092\u307e\u3068\u3081\u308b\u3068\u3001`HogeCat`\u304c`Hogeable`\u3068\u3057\u3066\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u3001\n\u305d\u306e`hoge`\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u904e\u7a0b\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n(callHogeableHoge\u3092\u4ecb\u3059\u90e8\u5206\u3092\u7701\u7565\u3057\u307e\u3059\u3002)\n\n1. `Hogeable`\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\u3002\n2. \u3053\u308c\u3092`HogeCat`\u7528\u306b\u521d\u671f\u5316\u3057\u3001`HogeCat`\u306e\u5024\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n3. \u4f5c\u3063\u305f`Hogeable`\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u3001\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u305f\u5024\u3068\u3057\u3066\u6271\u3046\u3002\n4. `Hogeable`\u306e\u30dd\u30a4\u30f3\u30bf\u304b\u3089\u3001\u305d\u306e\u5024\u7528\u306ewitness\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3057\u3001\n\t\u30e1\u30bd\u30c3\u30c9\u3068\u306a\u308b\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u547c\u3073\u51fa\u3059\u3002\n5. witness\u30c6\u30fc\u30d6\u30eb\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u305f\u95a2\u6570\u306f\u3001\n\twitness\u30c6\u30fc\u30d6\u30eb\u7528\u306e\u30b0\u30eb\u30fc\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\t\u5f15\u6570\u3067\u6e21\u3055\u308c\u305f\u30a2\u30c9\u30ec\u30b9\u306f`HogeCat`\u306e\u30dd\u30a4\u30f3\u30bf\u3068\u306a\u3063\u3066\u3044\u308b\u3002\n\t\u3053\u308c\u3092\u7528\u3044\u3066\u3001`HogeCat`\u306e\u30e1\u30bd\u30c3\u30c9\u672c\u4f53\u3092\u547c\u3073\u51fa\u3059\u3002\n6. `HogeCat`\u306e\u30e1\u30bd\u30c3\u30c9\u672c\u4f53\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u3002\n\n\u3053\u308c\u3067\u306a\u305c\u3001struct\u304c\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u3057\u3066\u6271\u3048\u3001\n\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u304c\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u3067\u304d\u308b\u304b\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\n## \u6700\u9069\u5316\u306b\u3064\u3044\u3066\n\n\u306a\u304a\u3001\u4e0a\u8a18\u306e\u7d50\u679c\u306f\u7d50\u69cb\u3084\u3084\u3053\u3057\u3044\u904e\u7a0b\u3092\u7d4c\u3066\u3044\u307e\u3059\u304c\u3001\n\u5b9f\u969b\u306b\u306f\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u3088\u3063\u3066\u3053\u3053\u304b\u3089\u6700\u9069\u5316\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\n\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u6700\u9069\u5316\u3042\u308a\u306ecanonical SIL\u30b3\u30fc\u30c9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```\nswiftc -emit-sil -O 1.swift > 1-canosil-o.sil\n```\n\n\u4e0b\u8a18\u304c\u51fa\u529b\u3067\u3059\u3002\n\n```\n// main.HogeCat.hoge (main.HogeCat)() -> Swift.Int\nsil hidden @_TFV4main7HogeCat4hogefS0_FT_Si : $@convention(method) (HogeCat) -> Int {\nbb0(%0 : $HogeCat):\n  %1 = integer_literal $Builtin.Int64, 1111       // user: %2\n  %2 = struct $Int (%1 : $Builtin.Int64)          // user: %3\n  return %2 : $Int                                // id: %3\n}\n\n// protocol witness for main.Hogeable.hoge <A where A: main.Hogeable> (A)() -> Swift.Int in conformance main.HogeCat : main.Hogeable in main\nsil hidden [transparent] [thunk] @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si : $@convention(witness_method) (@in_guaranteed HogeCat) -> Int {\nbb0(%0 : $*HogeCat):\n  %1 = integer_literal $Builtin.Int64, 1111       // user: %2\n  %2 = struct $Int (%1 : $Builtin.Int64)          // user: %3\n  return %2 : $Int                                // id: %3\n}\n\n// main.callHogeableHoge (main.Hogeable) -> Swift.Int\nsil hidden @_TF4main16callHogeableHogeFPS_8Hogeable_Si : $@convention(thin) (@in Hogeable) -> Int {\nbb0(%0 : $*Hogeable):\n  debug_value_addr %0 : $*Hogeable  // let hogeable // id: %1\n  %2 = open_existential_addr %0 : $*Hogeable to $*@opened(\"3CD6449A-E6AE-11E5-A7DB-A8667F09828A\") Hogeable // users: %3, %4\n  %3 = witness_method $@opened(\"3CD6449A-E6AE-11E5-A7DB-A8667F09828A\") Hogeable, #Hogeable.hoge!1, %2 : $*@opened(\"3CD6449A-E6AE-11E5-A7DB-A8667F09828A\") Hogeable : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Hogeable> (@in_guaranteed \u03c4_0_0) -> Int // user: %4\n  %4 = apply %3<@opened(\"3CD6449A-E6AE-11E5-A7DB-A8667F09828A\") Hogeable>(%2) : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Hogeable> (@in_guaranteed \u03c4_0_0) -> Int // user: %6\n  destroy_addr %0 : $*Hogeable                    // id: %5\n  return %4 : $Int                                // id: %6\n}\n```\n\n\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u90e8\u5206\u304c\u3001\n`witness_method`\u547d\u4ee4\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u304c\u3001\n`HogeCat`\u306e`hoge`\u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u4f53`@_TFV4main7HogeCat4hogefS0_FT_Si`\u3068\u3001\n`HogeCat`\u306ewitness\u30e1\u30bd\u30c3\u30c9`@_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si`\u304c\u3001\n\u305d\u308c\u305e\u308c\u30a4\u30f3\u30e9\u30a4\u30f3\u5c55\u958b\u3055\u308c\u3001\u540c\u3058\u5185\u5bb9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nwitness\u30e1\u30bd\u30c3\u30c9\u306f\u3082\u306f\u3084\u30b0\u30eb\u30fc\u30b3\u30fc\u30c9\u3067\u306f\u306a\u304f\u3001\u72ec\u81ea\u306b\u5b9f\u88c5\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\n# \u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u3088\u308b\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u306e\u5b9f\u88c5 (LLVM IR)\n\n\u3057\u304b\u3057\u3001witness\u30c6\u30fc\u30d6\u30eb\u3068\u304bwitness_method\u547d\u4ee4\u3068\u304b\u3001\n\u3053\u3053\u3089\u3078\u3093\u306e\u6319\u52d5\u306f\u8b0e\u306e\u307e\u307e\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001SIL\u304b\u3089\u3055\u3089\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u9032\u3081\u3066\u3001LLVM IR\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n## LLVM IR\u306b\u3064\u3044\u3066\n\nLLVM IR\u306f\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u57fa\u76e4LLVM\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u4e2d\u9593\u8a00\u8a9e\u3067\u3059\u3002\n\u3053\u306e\u8a00\u8a9e\u306f\u3001Swift\u3068\u306f\u72ec\u7acb\u3057\u305f\u3082\u306e\u3067\u3001\nclang\u3067C++\u306a\u3069\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u969b\u3082\u3001LLVM IR\u304c\u7d4c\u7531\u3055\u308c\u307e\u3059\u3002\n\nSwift\u3068\u306f\u72ec\u7acb\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n\u578b\u30b7\u30b9\u30c6\u30e0\u306fSwift\u3068\u95a2\u4fc2\u306a\u304f\u3001\nwitness\u30c6\u30fc\u30d6\u30eb\u3068\u3044\u3063\u305f\u6982\u5ff5\u3082\u306a\u304f\u3001\n\u305d\u308c\u3089\u306e\u30e1\u30e2\u30ea\u4e0a\u3067\u306e\u8868\u73fe\u304c\u76f4\u63a5\u30b3\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\n\u30a2\u30bb\u30f3\u30d6\u30ea\u306b\u8fd1\u3044\u3088\u3046\u306a\u8a00\u8a9e\u4ed5\u69d8\u3067\u3059\u304c\u3001\n\u51e6\u7406\u7cfb\u306b\u8fd1\u3044\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b\u3001\u69cb\u9020\u4f53\u3001\u30dd\u30a4\u30f3\u30bf\u306a\u3069\u306e\u578b\u4fee\u98fe\u3001\u95a2\u6570\u5b9a\u7fa9\u3001\n\u3068\u3044\u3063\u305f\u6a5f\u80fd\u304c\u3042\u308b\u306e\u3067\u3001\n\u751f\u306e\u30a2\u30bb\u30f3\u30d6\u30ea\u3088\u308a\u3082\u3060\u3044\u3076\u69cb\u9020\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nC\u8a00\u8a9e\u3068\u30a2\u30bb\u30f3\u30d6\u30ea\u306e\u9593\u3050\u3089\u3044\u306b\u3042\u308b\u3088\u3046\u306a\u8a00\u8a9e\u3067\u3059\u3002\n\n[LLVM IR\u3092\u8aad\u3080\u3068\u304d\u306f\u3001\u3053\u306e\u8cc7\u6599\u3092\u53c2\u7167\u3059\u308b\u3068\u826f\u3044\u3067\u3059\u3002](http://llvm.org/docs/LangRef.html)\n\n\u3053\u3053\u3067\u306f\u3001`callCatHoge`, `callHogeableHoge`\u306e\u5b9f\u88c5\u3068\u3001\nwitness\u30c6\u30fc\u30d6\u30eb\u307e\u308f\u308a\u306e\u5b9f\u88c5\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\nLLVM IR\u3092\u5f97\u308b\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u3082\u6700\u9069\u5316\u3092\u5207\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\nswiftc -emit-ir -Onone 1.swift > 1-ir.ll\n```\n\n\u305f\u3060\u3001\u3061\u3087\u3063\u3068\u6700\u9069\u5316\u304c\u52b9\u3044\u3066\u3057\u307e\u3063\u3066\u8aac\u660e\u306b\u90fd\u5408\u304c\u308f\u308b\u304b\u3063\u305f\u306e\u3067\u3001\nswift\u30b3\u30fc\u30c9\u3092\u3061\u3087\u3063\u3068\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```swift\nstruct HogeCat: Hogeable {\n\tvar a: Int = 1111\n    func hoge() -> Int { return a }\n}\n```\n\n`HogeCat`\u306f\u30d5\u30a3\u30fc\u30eb\u30c9`a`\u306e\u5024\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n## LLVM IR\u3092\u8aad\u3080\n\n\u751f\u6210\u3055\u308c\u305f\u30b3\u30fc\u30c9\u306fSIL\u306e\u3088\u3046\u306b\u30b3\u30e1\u30f3\u30c8\u304c\u3042\u307e\u308a\u7121\u304f\u3001\n\u884c\u6570\u3082\u591a\u3044\u306e\u3067\u3059\u304c\u3001SIL\u3067\u751f\u6210\u3055\u308c\u305f\u95a2\u6570\u540d\u3068\u540c\u3058\u540d\u524d\u3067\u95a2\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u308b\u306e\u3067\u3001\n\u305d\u308c\u3089\u3092\u8d77\u70b9\u306b\u8fbf\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u307e\u305a\u306f\u3001`HogeCat`\u306e\u5b9f\u4f53\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nSIL\u3067\u306fwitness\u30e1\u30bd\u30c3\u30c9\u306f`HogeCat`\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u53d6\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\u305d\u306e\u95a2\u6570\u306f`@_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si`\u3067\u3057\u305f\u3002\nIR\u3067\u540c\u3058\u540d\u524d\u3092\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```\ndefine hidden i64 @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si(%V4main7HogeCat* noalias nocapture dereferenceable(8), %swift.type* %Self) #0 {\nentry:\n  %.a = getelementptr inbounds %V4main7HogeCat* %0, i32 0, i32 0\n  %.a.value = getelementptr inbounds %Si* %.a, i32 0, i32 0\n  %1 = load i64* %.a.value, align 8\n  %2 = call i64 @_TFV4main7HogeCat4hogefS0_FT_Si(i64 %1) #3\n  ret i64 %2\n}\n```\n\n\u7b2c1\u5f15\u6570\u304c\u578b`%V4main7HogeCat`\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u7b2c2\u5f15\u6570\u304c`%swift.type`\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u5143\u306eSIL\u306e\u95a2\u6570\u3068\u304f\u3089\u3079\u3066\u3001\u7b2c2\u5f15\u6570\u304c\u5897\u3048\u3066\u3044\u307e\u3059\u306d\u3002\n\n\u3055\u3066\u3001\u3053\u306e\u7b2c1\u5f15\u6570\u306e\u578b\u306e\u5b9a\u7fa9\u3092\u63a2\u3059\u3068\u4e0b\u8a18\u304c\u898b\u3064\u304b\u308a\u307e\u3059\u3002\n\n```\n%Si = type <{ i64 }>\n%V4main7HogeCat = type <{ %Si }>\n```\n\n`HogeCat`\u3068\u3044\u3046\u578b\u304c\u3001\u6574\u6570\u578b\u4e00\u3064\u3068\u5b9a\u7fa9\u3055\u308c\u3001\n\u6574\u6570\u578b\u304c64bit\u6574\u6570\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u307e\u305f\u3053\u306e\u95a2\u6570\u306e\u5185\u90e8\u3067\u3001`HogeCat`\u306e`hoge`\u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u4f53\u3001\n`@_TFV4main7HogeCat4hogefS0_FT_Si`\u304c\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u5f15\u6570\u306f`i64 %1`\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u300164bit\u6574\u6570\u4e00\u3064\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n`HogeCat`\u306f2\u968e\u5c64\u306e\u69cb\u9020\u4f53\u3067\u3059\u304c\u3001\u7d50\u5c40`i64`\u30d5\u30a3\u30fc\u30eb\u30c91\u3064\u3057\u304b\u3082\u305f\u306a\u3044\u305f\u3081\u3001\n`i64`\u304c`HogeCat`\u306e\u76f4\u63a5\u8868\u73fe\u3068\u3057\u3066\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\n\nwitness\u95a2\u6570\u306fSIL\u3068\u540c\u69d8\u3067\u3042\u308b\u4e8b\u304c\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u3001\n\u6b21\u306bwitness\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u90e8\u5206\u3001`callHogeableHoge`\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```\ndefine hidden i64 @_TF4main16callHogeableHogeFPS_8Hogeable_Si(%P4main8Hogeable_* noalias nocapture dereferenceable(40)) #0 {\nentry:\n  %.metadata1 = alloca %swift.type*, align 8\n  %1 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 1\n  %.metadata = load %swift.type** %1, align 8\n  %2 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 0\n  %3 = bitcast %swift.type* %.metadata to i8***\n  %4 = getelementptr inbounds i8*** %3, i64 -1\n  %.metadata.valueWitnesses = load i8*** %4, align 8, !invariant.load !12, !dereferenceable !13\n  %5 = getelementptr inbounds i8** %.metadata.valueWitnesses, i32 2\n  %6 = load i8** %5, align 8, !invariant.load !12\n  %projectBuffer = bitcast i8* %6 to %swift.opaque* ([24 x i8]*, %swift.type*)*\n  %7 = call %swift.opaque* %projectBuffer([24 x i8]* %2, %swift.type* %.metadata) #2\n  %8 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 2\n  %witness-table = load i8*** %8, align 8\n  store %swift.type* %.metadata, %swift.type** %.metadata1, align 8\n  %9 = load i8** %witness-table, align 8, !invariant.load !12\n  %10 = bitcast i8* %9 to i64 (%swift.opaque*, %swift.type*)*\n  %11 = call i64 %10(%swift.opaque* noalias nocapture %7, %swift.type* %.metadata)\n  %12 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 1\n  %.metadata2 = load %swift.type** %12, align 8\n  %13 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 0\n  %14 = bitcast %swift.type* %.metadata2 to i8***\n  %15 = getelementptr inbounds i8*** %14, i64 -1\n  %.metadata2.valueWitnesses = load i8*** %15, align 8, !invariant.load !12, !dereferenceable !13\n  %16 = load i8** %.metadata2.valueWitnesses, align 8, !invariant.load !12\n  %destroyBuffer = bitcast i8* %16 to void ([24 x i8]*, %swift.type*)*\n  call void %destroyBuffer([24 x i8]* %13, %swift.type* %.metadata2) #2\n  ret i64 %11\n}\n```\n\n\u307e\u305a\u5f15\u6570\u306e\u578b\u306f`%P4main8Hogeable_*`\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306fSIL\u3067\u306f`Hogeable`\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3057\u305f\u3002\n\u5b9a\u7fa9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```\n%swift.type = type { i64 }\n%P4main8Hogeable_ = type { [24 x i8], %swift.type*, i8** }\n```\n\n\u3053\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n24\u30d0\u30a4\u30c8\u306e\u9818\u57df\u3001\u578b\u3092\u8868\u3059\u578b(`%swift.type`)\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u30d0\u30a4\u30c8\u9818\u57df\u3078\u306e\u30c0\u30d6\u30eb\u30dd\u30a4\u30f3\u30bf\u306e3\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u304c\u898b\u3089\u308c\u308b\u306e\u304c\u3001SIL\u3068IR\u306e\u9055\u3044\u306e\u4e00\u3064\u3067\u3059\u306d\u3002\n\n\u30b9\u30bf\u30c3\u30af\u306b\u578b\u306e\u578b\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u78ba\u4fdd\u3057\u3001\u305d\u306e\u30a2\u30c9\u30ec\u30b9\u3092`%.metadata1`\u3068\u3057\u307e\u3059\u3002\n\n```\n  %.metadata1 = alloca %swift.type*, align 8\n```\n\n`%P4main8Hogeable_`\u306e\u30dd\u30a4\u30f3\u30bf`%0`\u304b\u3089\u30010\u756a\u76ee\u306e\u8981\u7d20\u306e\u3001\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092`%1`\u306b\u4ee3\u5165\u3057\u307e\u3059\u3002\n\u3053\u308c\u306f\u3055\u3063\u304d\u898b\u305f\u5b9a\u7fa9\u306e\u901a\u308a\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u306f`%swift.type*`\u3060\u3063\u305f\u306e\u3067\u3001\n`%1`\u306e\u578b\u306f`%swift.type**`\u3068\u306a\u308a\u307e\u3059\u3002\n(\u4ee5\u964d\u3001\u30dd\u30a4\u30f3\u30bf\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u6570\u3084\u914d\u5217\u306e\u8981\u7d20\u6570\u306f0\u756a\u76ee\u304b\u3089\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u306f1\u756a\u76ee\u304b\u3089\u3001\u95a2\u6570\u306e\u5f15\u6570\u306f1\u756a\u76ee\u304b\u3089\u3068\u6570\u3048\u307e\u3059\u3002)\n\n[\u306a\u304a\u3001getelementptr\u547d\u4ee4\u306e\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067\u898b\u308c\u307e\u3059\u3002](http://llvm.org/docs/LangRef.html#getelementptr-instruction)\n\n```\n  %1 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 1\n```\n\n`%1`\u306e\u793a\u3059\u5148\u3092\u5909\u6570\u306b\u53d6\u308a\u51fa\u3057\u307e\u3059\u3002\n`%.metadata`\u306e\u578b\u306f`%swift.type*`\u3068\u306a\u308a\u307e\u3059\u3002\n\u3088\u3046\u3059\u308b\u306b\u3001Hogeable\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u53d6\u308a\u51fa\u3057\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n  %.metadata = load %swift.type** %1, align 8\n```\n\n\u4eca\u5ea6\u306f`%0`\u304b\u30890\u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308a\u307e\u3059\u3002`%2: [24 x i8]*`\u3067\u3059\u3002\n\n```\n  %2 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 0\n```\n\n`%swift.type*`\u578b\u306e`%.metadata`\u3092`i8***`\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066`%3`\u306b\u5165\u308c\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001`%3`\u306e-1\u756a\u76ee\u306e\u8981\u7d20\u306e\u30a2\u30c9\u30ec\u30b9\u3092`%4`\u306b\u5165\u308c\u307e\u3059\u3002\n\u3064\u307e\u308a`%swift.type*`\u304c\u6307\u3057\u793a\u3059\u30e1\u30e2\u30ea\u9818\u57df\u3001\u3064\u307e\u308a`%swift.type`\u306e\u9818\u57df\u306e\u3001\u30dd\u30a4\u30f3\u30bf1\u3064\u5206\u624b\u524d\u306e\u30e1\u30e2\u30ea\u9818\u57df\u306b\u306f\u3001\n`i8**`\u304c\u5165\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3057\u3087\u3046\u3002\n\n```\n  %3 = bitcast %swift.type* %.metadata to i8***\n  %4 = getelementptr inbounds i8*** %3, i64 -1\n```\n\n`%.metadata.valueWitnesses`\u3068\u3057\u3066\u3001`%4`\u304c\u6307\u3059\u5024\u304c\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\u578b\u306f`i8**`\u3067\u3059\u306d\u3002\n\n```\n  %.metadata.valueWitnesses = load i8*** %4, align 8, !invariant.load !12, !dereferenceable !13\n```\n\n`%.metadata.valueWitnesses`\u304c\u793a\u3059\u30dd\u30a4\u30f3\u30bf\u306e2\u3064\u3081\u306e\u8981\u7d20\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u53d6\u308a\u3001\n\u305d\u306e\u5024\u3092`%6`\u306b\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002`%6`\u306e\u578b\u306f`i8*`\u3067\u3059\u306d\u3002\n\n```\n  %5 = getelementptr inbounds i8** %.metadata.valueWitnesses, i32 2\n  %6 = load i8** %5, align 8, !invariant.load !12\n```\n\n\u3053\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u3001\n`[24 x i8]*`\u3092\u7b2c1\u5f15\u6570, \n`%swift.type*`\u3092\u7b2c2\u5f15\u6570,\n\u8fd4\u308a\u5024\u306e\u578b\u304c`%swift.opaque`\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3042\u308b\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3068\u3057\u3066\u30ad\u30e3\u30b9\u30c8\u3057\u3001`%projectBuffer`\u3068\u3057\u307e\u3059\u3002\n2\u3064\u306e\u5f15\u6570\u306f\u3001`Hogeable`\u306e\u7b2c1, 2\u756a\u76ee\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u540c\u3058\u578b\u3067\u3059\u306d\u3002\n\n\u305d\u3057\u3066\u305d\u306e\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\u7b2c1\u5f15\u6570\u304c`%2`\u3001\u7b2c2\u5f15\u6570\u304c`%.metadata`\u3067\u3059\u306e\u3067\u3001\n\u7d50\u5c40\u306e\u3068\u3053\u308d`%0`\u306eHogeable\u306e\u7b2c1, \u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6e21\u3057\u3066\u547c\u3073\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u7d50\u679c\u304c`%7`\u306b\u4fdd\u6301\u3055\u308c\u307e\u3059\u3002\n\n```\n  %projectBuffer = bitcast i8* %6 to %swift.opaque* ([24 x i8]*, %swift.type*)*\n  %7 = call %swift.opaque* %projectBuffer([24 x i8]* %2, %swift.type* %.metadata) #2\n```\n\n`%0`\u306e\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092`%8`\u306b\u5165\u308c\u307e\u3059\u3002`i8***`\u3067\u3059\u306d\u3002\n\n```\n  %8 = getelementptr inbounds %P4main8Hogeable_* %0, i32 0, i32 2\n```\n\n`%8`\u306e\u53c2\u7167\u5148\u3092`%witness-table`\u3068\u3057\u3066\u4ee3\u5165\u3057\u307e\u3059\u3002\n\u3064\u3044\u306bwitness\u30c6\u30fc\u30d6\u30eb\u304c`i8**`\u578b\u306e\u5024\u3068\u3057\u3066\u767b\u5834\u3057\u307e\u3057\u305f\u3002\n`Hogeable`\u306e\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u306fwitness\u30c6\u30fc\u30d6\u30eb\u3060\u3063\u305f\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n```\n  %witness-table = load i8*** %8, align 8\n```\n\n`%.metadata`\u306e\u4e2d\u8eab\u3092`%.metadata1`\u304c\u793a\u3059\u9818\u57df\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\u3053\u306e\u9818\u57df\u306e\u578b\u306f\u30b9\u30bf\u30c3\u30af\u306b\u78ba\u4fdd\u3057\u305f`%swift.type*`\u3067\u3057\u305f\u3002\n\n```\n  store %swift.type* %.metadata, %swift.type** %.metadata1, align 8\n```\n\n`%witness-table`\u306e\u793a\u3059\u5024\u3092`%9`\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002`%9`\u306f`i8*`\u3067\u3059\u3002\n\u3064\u307e\u308a\u3053\u308c\u306f\u3001`i8**`\u3092\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u3068\u8003\u3048\u305f\u6642\u306b\u3001\u7b2c0\u8981\u7d20\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\n  %9 = load i8** %witness-table, align 8, !invariant.load !12\n```\n\n`%9`\u3092\u3001\u7b2c1\u5f15\u6570`%swift.opaque*`\u3001\u7b2c2\u5f15\u6570`%swift.type*`\u3001\u8fd4\u308a\u5024`i64`\u306e\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066`%10`\u306b\u5165\u308c\u307e\u3059\u3002\n\n```\n  %10 = bitcast i8* %9 to i64 (%swift.opaque*, %swift.type*)*\n```\n\n`%10`\u306b\u3001`%7`\u3068`%.metadata`\u3092\u4e0e\u3048\u3066\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n`%7`\u306f`%projectBuffer`\u95a2\u6570\u306e\u8fd4\u308a\u5024\u3067\u3057\u305f\u3002`%.metadata`\u306f`%0`\u306e\u8fd4\u308a\u5024\u3067\u3059\u3002\n\n```\n  %11 = call i64 %10(%swift.opaque* noalias nocapture %7, %swift.type* %.metadata)\n```\n\n\u3055\u3066\u3053\u3053\u3067\u3001`%11`\u306b\u7d50\u679c\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u6700\u5f8c\u306e\u3068\u3053\u308d\u3067\u3053\u308c\u3092return\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\n  ret i64 %11\n```\n\n\u3068\u3044\u3046\u3053\u3068\u306f\u3001`%11`\u3092\u8fd4\u3057\u305f`call`\u547d\u4ee4\u304cwitness\u30e1\u30bd\u30c3\u30c9\u306e\u547c\u3073\u51fa\u3057\u3067\u3059\u3002\n\u306a\u306e\u3067\u3053\u306e\u9593\u306e\u30b3\u30fc\u30c9\u306f\u7121\u8996\u3057\u307e\u3059\u3002\n\n\u3055\u3066\u3001\u5fc5\u8981\u306a\u90e8\u5206\u3092\u898b\u7d42\u308f\u3063\u305f\u306e\u3067\u6574\u7406\u3057\u307e\u3059\u3002\n\n`%0`\u306f`Hogeable*`\u3067\u3057\u305f\u3002\n\n`Hogeable`\u306f3\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6301\u3063\u3066\u3044\u3066\u3001\n\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u8b0e\u306e24\u30d0\u30a4\u30c8\u3001\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u578b\u60c5\u5831(metadata)\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001\n\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u304cwitness\u30c6\u30fc\u30d6\u30eb\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3057\u305f\u3002\n\n\u578b\u60c5\u5831\u306e\u3059\u3050\u4e0a\u306b\u306f\u3001`valueWitnesses`\u3068\u3044\u3046`i8**`\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u3064\u307e\u308a\u3001\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u3067\u3059\u3002\n\u3053\u306e\u914d\u5217\u306e2\u756a\u76ee\u306e\u8981\u7d20(\u30a4\u30f3\u30c7\u30c3\u30af\u30b92)\u306e\u8981\u7d20\u3092\u95a2\u6570\u30dd\u30a4\u30f3\u30bf`%projectBuffer`\u3068\u3057\u3066\u53d6\u308a\u51fa\u3057\u307e\u3057\u305f\u3002\n\n`%projectBuffer`\u306b\u3001\n\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8b0e\u306e24\u30d0\u30a4\u30c8\u3092\u6307\u3059\u30dd\u30a4\u30f3\u30bf\u3068\u3001\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u60c5\u5831\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u4e0e\u3048\u308b\u3068\u8fd4\u3063\u3066\u304f\u308b\u306e\u304c\u3001\n`HogeCat`\u3078\u306e\u30dd\u30a4\u30f3\u30bf(`%7`)\u3067\u3059\u3002\n\n\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u304cwitness\u30c6\u30fc\u30d6\u30eb\u3067\u3001\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u3067\u3059\u3002\n\u3053\u306e\u914d\u5217\u306e0\u756a\u76ee\u306e\u8981\u7d20\u304c\u3001`HogeCat`\u306e`hoge`\u306ewitness\u95a2\u6570\u3067\u3059\u3002\n\n\u3053\u306ewitness\u95a2\u6570\u306b\u3001`%projectBuffer`\u306b\u3088\u308a\u53d6\u308a\u51fa\u3057\u305f`HogeCat`\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3068\u3001\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u60c5\u5831\u3092\u6e21\u3057\u3066\u547c\u3073\u51fa\u3059\u306e\u304c\u3001\nwitness\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306e\u6d41\u308c\u3067\u3059\u3002\n\n\u56f3\u306b\u3059\u308b\u3068\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\n![witness-table.jpeg](https://qiita-image-store.s3.amazonaws.com/0/20130/9f1d2c5c-38a7-4b6f-3f0a-c84f0aa22c82.jpeg)\n\n\u6b21\u306f\u3055\u3089\u306b\u3001`Hogeable`\u306e\u5024\u9818\u57df\u304c\u5b9f\u969b\u306b\u3069\u306e\u3088\u3046\u306a\u30e1\u30e2\u30ea\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u304b\u3092\u3001\nIR\u304b\u3089\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\nSIL\u3067\u306f\u3001`callCatHoge`\u306e\u5185\u90e8\u3067`HogeCat`\u304b\u3089`Hogeable`\u3078\u306e\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u304c\u3055\u308c\u308b\u3068\u304d\u306b\u3001\n`Hogeable`\u306e\u5b9f\u4f53\u3092\u30b9\u30bf\u30c3\u30af\u30e1\u30e2\u30ea\u306b\u4f5c\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\u306a\u306e\u3067`callCatHoge`\u3092\u898b\u308c\u3070`Hogeable`\u306e\u69cb\u7bc9\u90e8\u5206\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u3002\n\n```\ndefine hidden i64 @_TF4main11callCatHogeFVS_7HogeCatSi(i64) #0 {\nentry:\n  %1 = alloca %P4main8Hogeable_, align 8\n  %2 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 1\n  store %swift.type* bitcast (i64* getelementptr inbounds ({ i8**, i64, { i64, i8*, i32, i32, i8*, %swift.type** (%swift.type*)*, %swift.type_pattern*, i32, i32, i32 }*, %swift.type*, i64 }* @_TMfV4main7HogeCat, i32 0, i32 1) to %swift.type*), %swift.type** %2, align 8\n  %3 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 2\n  store i8** getelementptr inbounds ([1 x i8*]* @_TWPV4main7HogeCatS_8HogeableS_, i32 0, i32 0), i8*** %3, align 8\n  %4 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 0\n  %object = bitcast [24 x i8]* %4 to %V4main7HogeCat*\n  %object.a = getelementptr inbounds %V4main7HogeCat* %object, i32 0, i32 0\n  %object.a.value = getelementptr inbounds %Si* %object.a, i32 0, i32 0\n  store i64 %0, i64* %object.a.value, align 8\n  %5 = call i64 @_TF4main16callHogeableHogeFPS_8Hogeable_Si(%P4main8Hogeable_* noalias nocapture dereferenceable(40) %1)\n  ret i64 %5\n}\n```\n\nIR\u3067\u3082\u3001\u306f\u3058\u3081\u306b`alloca`\u3067\u30b9\u30bf\u30c3\u30af\u4e0a\u306b`Hogeable`\u3092\u78ba\u4fdd\u3057\u3001\u305d\u306e\u30a2\u30c9\u30ec\u30b9\u3092`%1`\u306b\u5165\u308c\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u5f8c\u3001`%2`\u306b\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3001`%3`\u306b\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u3001`%4`\u306b\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\n\n`swift.type*`\u3067\u3042\u308b`%2`\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3078\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5024\u3092\u66f8\u304d\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\n\n```\n  store %swift.type* bitcast (\n  \ti64* getelementptr inbounds (\n  \t\t{\n  \t\t\t i8**, \n  \t\t\t i64, \n  \t\t\t {\n  \t\t\t \ti64, i8*, i32, i32, i8*, \n  \t\t\t \t%swift.type** (%swift.type*)*, \n  \t\t\t \t%swift.type_pattern*, \n  \t\t\t \ti32, i32, i32 \n  \t\t\t }*,\n  \t\t\t %swift.type*,\n  \t\t\t i64 \n  \t\t}* @_TMfV4main7HogeCat,\n  \t\ti32 0, \n  \t\ti32 1\n  \t) to %swift.type*\n  ),\n  %swift.type** %2,\n  align 8\n```\n\n\u3053\u308c\u306f\u30015\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6301\u3064\u69cb\u9020\u4f53\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3042\u308b`@_TMfV4main7HogeCat`\u306e0\u756a\u30aa\u30d5\u30bb\u30c3\u30c8\u306e\u3001\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u306e\u3067\u3001\u3053\u306e`i64`\u3068\u306a\u3063\u3066\u3044\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308a\u3001\n\u305d\u308c\u3092`%swift.type*`\u3068\u3057\u3066\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a\u3053\u306e`%swift.type`\u306f`i64`\u3060\u3063\u305f\u306e\u3067\u3001\u7dba\u9e97\u3067\u3059\u306d\u3002\n\n\u30b3\u30fc\u30c9\u4e2d\u3092\u63a2\u3059\u3068\u3001`@_TMfV4main7HogeCat`\u306e\u5b9a\u7fa9\u304c\u3042\u308a\u307e\u3059\u3002\n\n```\n@_TMfV4main7HogeCat = internal constant { \n\ti8**, \n\ti64, \n\t{ \n\t\ti64, i8*, i32, i32, i8*, \n\t\t%swift.type** (%swift.type*)*, \n\t\t%swift.type_pattern*, \n\t\ti32, i32, i32 \n\t}*, \n\t%swift.type*, \n\ti64 \n} \n{ \n\ti8** getelementptr inbounds (\n\t\t[20 x i8*]* @_TWVV4main7HogeCat, i32 0, i32 0\n\t), \n\ti64 1, \n\t{ \n\t\ti64, i8*, i32, i32, i8*, \n\t\t%swift.type** (%swift.type*)*,\n\t\t%swift.type_pattern*, \n\t\ti32, i32, i32 \n\t}* @_TMnV4main7HogeCat, \n\t%swift.type* null, \n\ti64 0 \n}\n```\n\n\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u306b\u521d\u671f\u5316\u3055\u308c\u308b\u5024\u3060\u3068\u308f\u304b\u308a\u307e\u3059\u3002\n\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u306e`i8**`\u306f\u3001\n\u8981\u7d2020\u500b\u306e\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001`@_TWVV4main7HogeCat`\u3092\u3001\n\u30dd\u30a4\u30f3\u30bf0\u30aa\u30d5\u30bb\u30c3\u30c8\u306e\u914d\u5217\u7b2c0\u8981\u7d20\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u3053\u3068\u3067\u3001\n\u3064\u307e\u308a`i8**`\u3068\u3057\u3066\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u3044\u307e\u3059\u306d\u3002\n\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e`%swift.type`\u3067\u3042\u308b`i64`\u306f1\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u69cb\u9020\u4f53\u30dd\u30a4\u30f3\u30bf\u306b\u306f\u3001`@_TMnV4main7HogeCat`\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\u7b2c4\u306fnull, \u7b2c5\u306f0\u3067\u3059\u3002\n\n\u623b\u3063\u3066\u8003\u3048\u308b\u3068\u3001\n\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u5b9a\u6570`@_TMfV4main7HogeCat`\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u3001\n`Hogeable`\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5165\u308c\u3066\u3044\u305f\u306e\u3067\u3057\u305f\u3002\n\n\u6b21\u306b\u3001Hogeable\u306ewitness\u30c6\u30fc\u30d6\u30eb\u3067\u3042\u308b\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u3078\u306e\u66f8\u304d\u8fbc\u307f\u3067\u3059\u3002\n\n```\n  store i8** getelementptr inbounds (\n  \t[1 x i8*]* @_TWPV4main7HogeCatS_8HogeableS_,\n  \ti32 0, \n  \ti32 0\n  ), \n  i8*** %3, \n  align 8\n```\n\n\u3053\u306e\u3088\u3046\u306b\u3001\u8981\u7d20\u304c1\u3064\u306e\u30dd\u30a4\u30f3\u30bf\u914d\u5217\u3078\u306e\u30dd\u30a4\u30f3\u30bf`@_TWPV4main7HogeCatS_8HogeableS_`\u3092\u3001\n\u5148\u7a0b\u3068\u540c\u69d80, 0\u3078\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u3053\u3068\u3067`i8**`\u3078\u3068\u30ad\u30e3\u30b9\u30c8\u3057\u307e\u3059\u3002\n\n`@_TWPV4main7HogeCatS_8HogeableS_`\u306e\u5b9a\u7fa9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```\n@_TWPV4main7HogeCatS_8HogeableS_ = \nhidden constant [1 x i8*] \n[\n\ti8* bitcast (\n\t\ti64 (\n\t\t\t%V4main7HogeCat*, \n\t\t\t%swift.type*\n\t\t)* @_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si \n\t\tto i8*\n\t)\n],\nalign 8\n```\n\n\u3053\u308c\u306f\u307e\u3055\u306bwitness\u30c6\u30fc\u30d6\u30eb\u3067\u3059\u306d\u3002\n\u4e00\u3064\u5165\u3063\u3066\u3044\u308b\u30a8\u30f3\u30c8\u30ea\u306e`@_TTWV4main7HogeCatS_8HogeableS_FS1_4hogeuRq_S1__fq_FT_Si`\u306f\u3001\nSIL\u306ewitness\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u306b\u66f8\u3044\u3066\u3042\u3063\u305f\u3082\u306e\u3068\u540c\u3058\u3067\u3001\n\u7b2c1\u5f15\u6570\u304c`HogeCat*`\u3001\u7b2c2\u5f15\u6570\u304c`%swift.type*`\u3067\u3059\u3002\n\n\u6700\u5f8c\u306b\u3001\u8b0e\u306e24\u30d0\u30a4\u30c8\u306e\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9`%4`\u306e\u521d\u671f\u5316\u3092\u898b\u307e\u3059\u3002\n\n```\n  %object = bitcast [24 x i8]* %4 to %V4main7HogeCat*\n  %object.a = getelementptr inbounds %V4main7HogeCat* %object, i32 0, i32 0\n  %object.a.value = getelementptr inbounds %Si* %object.a, i32 0, i32 0\n  store i64 %0, i64* %object.a.value, align 8\n```\n\n\u307e\u305a\u3001\u305d\u306e24\u30d0\u30a4\u30c8\u306e\u9818\u57df\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u3001`HogeCat`\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3068\u898b\u306a\u3057\u3066`%object`\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9a\u306e\u30a2\u30c9\u30ec\u30b9\u3092`%object`\u304b\u3089\u53d6\u308a\u51fa\u3057`%object.a`\u3068\u3057\u3001\n\u3055\u3089\u306b\u305d\u306e\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9value\u306e\u30a2\u30c9\u30ec\u30b9\u3092`%object.a`\u304b\u3089\u53d6\u308a\u51fa\u3057`%object.a.value`\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u6700\u5f8c\u306b\u305d\u306e\u9818\u57df\u3092`%0`\u306e\u6307\u3059\u5024\u3001\u3064\u307e\u308a`HogeCat`\u5168\u4f53\u3067\u57cb\u3081\u3066\u3044\u307e\u3059\u3002\n\u4eca\u30e1\u30e2\u30ea\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u3057\u3066\u306f\u3001`HogeCat`\u3068`HogeCat.a.value`\u304c\u5b8c\u5168\u306b\u91cd\u306a\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002\n\n\u3064\u307e\u308a\u3001`Hogeable`\u306e\u7b2c1\u30d5\u30a3\u30fc\u30eb\u30c9\u306e24\u30d0\u30a4\u30c8\u306e\u5148\u982d8\u30d0\u30a4\u30c8\u306b\u3001\n`HogeCat`\u306e\u502424\u30d0\u30a4\u30c8\u304c\u76f4\u63a5\u57cb\u3081\u8fbc\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u3002\n\n\u307e\u305f\u3001\u3053\u306e`HogeCat`\u306e3\u91cd\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u69cb\u9020\u3067\u3059\u304c\u3001Swift\u30bd\u30fc\u30b9\u306e\u4e0b\u8a18\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\nstruct HogeCat: Hogeable {\n\tvar a: Int\n}\nstruct Int : SignedIntegerType, Comparable, Equatable {\n    var value: Builtin.Int64\n}\n```\n\n\u3061\u306a\u307f\u306b\u300124\u30d0\u30a4\u30c8\u3092\u8d85\u3048\u308bstruct\u3092\u4f5c\u3063\u3066\u307f\u305f\u3089\u3001\nmalloc\u306b\u3088\u308b\u30d2\u30fc\u30d7\u78ba\u4fdd\u306b\u306a\u308a\u3001`Hogeable`\u306e\u5148\u982d8\u30d0\u30a4\u30c8\u306b\u305d\u306e\u30dd\u30a4\u30f3\u30bf\u304c\u5165\u308b\u3088\u3046\u306b\u4ee3\u308f\u308a\u307e\u3057\u305f\u3002\n\n```swift\nstruct HogeDog: Hogeable {\n\tvar a: Int = 2222\n\tvar b: Int = 3333\n\tvar c: Int = 4444\n\tvar d: Int = 5555\n\tfunc hoge() -> Int { return a + b + c + d }\n}\nfunc callDogHoge(dog: HogeDog) -> Int {\n\treturn callHogeableHoge(dog)\n}\n```\n\n\u4e0b\u8a18\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u5f8c\u3067\u3059\u3002\n`%10`\u306724\u30d0\u30a4\u30c8\u9818\u57df\u3092\u30dd\u30a4\u30f3\u30bf\u306e\u914d\u5217\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3001\n\u305d\u306e\u6b21\u306estore\u3067\u305d\u306e\u914d\u5217\u306e\u7b2c0\u8981\u7d20\u306b`%9`\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n`%9`\u306f`@swift_slowAlloc`\u306e\u8fd4\u308a\u5024\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3059\u3002\n\n```\ndefine hidden i64 @_TF4main11callDogHogeFVS_7HogeDogSi(%V4main7HogeDog* noalias nocapture dereferenceable(32)) #0 {\nentry:\n  %1 = alloca %P4main8Hogeable_, align 8\n  %.a = getelementptr inbounds %V4main7HogeDog* %0, i32 0, i32 0\n  %.a.value = getelementptr inbounds %Si* %.a, i32 0, i32 0\n  %2 = load i64* %.a.value, align 8\n  %.b = getelementptr inbounds %V4main7HogeDog* %0, i32 0, i32 1\n  %.b.value = getelementptr inbounds %Si* %.b, i32 0, i32 0\n  %3 = load i64* %.b.value, align 8\n  %.c = getelementptr inbounds %V4main7HogeDog* %0, i32 0, i32 2\n  %.c.value = getelementptr inbounds %Si* %.c, i32 0, i32 0\n  %4 = load i64* %.c.value, align 8\n  %.d = getelementptr inbounds %V4main7HogeDog* %0, i32 0, i32 3\n  %.d.value = getelementptr inbounds %Si* %.d, i32 0, i32 0\n  %5 = load i64* %.d.value, align 8\n  %6 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 1\n  store %swift.type* bitcast (i64* getelementptr inbounds ({ i8**, i64, { i64, i8*, i32, i32, i8*, %swift.type** (%swift.type*)*, %swift.type_pattern*, i32, i32, i32 }*, %swift.type*, i64, i64, i64, i64 }* @_TMfV4main7HogeDog, i32 0, i32 1) to %swift.type*), %swift.type** %6, align 8\n  %7 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 2\n  store i8** getelementptr inbounds ([1 x i8*]* @_TWPV4main7HogeDogS_8HogeableS_, i32 0, i32 0), i8*** %7, align 8\n  %8 = getelementptr inbounds %P4main8Hogeable_* %1, i32 0, i32 0\n  %9 = call noalias i8* @swift_slowAlloc(i64 32, i64 7) #4\n  %10 = bitcast [24 x i8]* %8 to i8**\n  store i8* %9, i8** %10, align 8\n  %11 = bitcast i8* %9 to %V4main7HogeDog*\n  %.a1 = getelementptr inbounds %V4main7HogeDog* %11, i32 0, i32 0\n  %.a1.value = getelementptr inbounds %Si* %.a1, i32 0, i32 0\n  store i64 %2, i64* %.a1.value, align 8\n  %.b2 = getelementptr inbounds %V4main7HogeDog* %11, i32 0, i32 1\n  %.b2.value = getelementptr inbounds %Si* %.b2, i32 0, i32 0\n  store i64 %3, i64* %.b2.value, align 8\n  %.c3 = getelementptr inbounds %V4main7HogeDog* %11, i32 0, i32 2\n  %.c3.value = getelementptr inbounds %Si* %.c3, i32 0, i32 0\n  store i64 %4, i64* %.c3.value, align 8\n  %.d4 = getelementptr inbounds %V4main7HogeDog* %11, i32 0, i32 3\n  %.d4.value = getelementptr inbounds %Si* %.d4, i32 0, i32 0\n  store i64 %5, i64* %.d4.value, align 8\n  %12 = call i64 @_TF4main16callHogeableHogeFPS_8Hogeable_Si(%P4main8Hogeable_* noalias nocapture dereferenceable(40) %1)\n  ret i64 %12\n}\n```\n\n\u3055\u3066\u3001\u3053\u308c\u3067`callCatHoge`\u306e\u4e2d\u3067\u4f5c\u3063\u305f`Hogeable`\u306e\u30d5\u30a3\u30fc\u30eb\u30c93\u3064\u304c\u57cb\u307e\u308a\u307e\u3057\u305f\u3002\n\u6700\u5f8c\u306f\u305d\u306e`Hogeable`\u306e\u30dd\u30a4\u30f3\u30bf\u3092`callHogeableHoge`\u306b\u6e21\u3059\u3060\u3051\u3067\u3059\u3002\n\n```\n  %5 = call i64 @_TF4main16callHogeableHogeFPS_8Hogeable_Si(%P4main8Hogeable_* noalias nocapture dereferenceable(40) %1)\n  ret i64 %5\n```\n\n\u3053\u308c\u3067\u3001`Hogeable`\u3078\u306e\u5024`HogeCat`\u306e\u57cb\u3081\u8fbc\u307f\u3001\nmetadata\u3001witness\u30c6\u30fc\u30d6\u30eb\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u3082\u30461\u3064\u3053\u3053\u307e\u3067\u3067\u51fa\u3066\u304d\u305f\u3082\u306e\u3068\u3057\u3066\u3001`%swift.type`\u306e1\u3064\u524d\u304b\u3089\u3001\nvalueWitness\u30c6\u30fc\u30d6\u30eb\u304c\u8fbf\u308c\u308b\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n\u3053\u308c\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\n\nmetadata\u304c\u6307\u3057\u3066\u3044\u308b\u306e\u306f\u3001\u6b21\u306e\u69cb\u9020\u4f53\u306e`i64`\u578b\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n\n```\n@_TMfV4main7HogeCat = internal constant { \n\ti8**, \n\ti64, \n\t{ \n\t\ti64, i8*, i32, i32, i8*, \n\t\t%swift.type** (%swift.type*)*, \n\t\t%swift.type_pattern*, \n\t\ti32, i32, i32 \n\t}*, \n\t%swift.type*, \n\ti64 \n} \n{ \n\ti8** getelementptr inbounds (\n\t\t[20 x i8*]* @_TWVV4main7HogeCat, i32 0, i32 0\n\t), \n\ti64 1, \n\t{ \n\t\ti64, i8*, i32, i32, i8*, \n\t\t%swift.type** (%swift.type*)*,\n\t\t%swift.type_pattern*, \n\t\ti32, i32, i32 \n\t}* @_TMnV4main7HogeCat, \n\t%swift.type* null, \n\ti64 0 \n}\n```\n\n\u5148\u307b\u3069\u3082\u898b\u305f\u3068\u304a\u308a\u3001\u305d\u306e`i64`\u306e\u524d\u306b\u306f`i8**`\u306b\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u305f`@_TWVV4main7HogeCat`\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u304cHogeCat\u306evalueWitness\u30c6\u30fc\u30d6\u30eb\u3068\u3044\u3046\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\nvalueWitness\u30c6\u30fc\u30d6\u30eb\u306e\u7b2c2\u8981\u7d20\u306e\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\n`Hogeable*`\u304b\u3089`HogeCat*`\u3092\u53d6\u308a\u51fa\u3059\u306e\u3067\u3057\u305f\u3002\n\u3053\u308c\u3092\u8ffd\u3044\u304b\u3051\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```\n@_TWVV4main7HogeCat = constant [20 x i8*] \n[\n\ti8* bitcast (void (i8*, %swift.type*)* @__swift_noop_void_return to i8*), \n\ti8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n\ti8* bitcast (i8* (i8*, %swift.type*)* @__swift_noop_self_return to i8*), \n\ti8* bitcast (void (i8*, %swift.type*)* @__swift_noop_void_return to i8*), \n\ti8* bitcast (void (i8*, %swift.type*)* @__swift_noop_void_return to i8*), \n\ti8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n\ti8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n\ti8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n\ti8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n\ti8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n\ti8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n\ti8* bitcast (i8* (i8*, %swift.type*)* @__swift_noop_self_return to i8*), \n\ti8* bitcast (i8* (i8*, i8*, %swift.type*)* @__swift_memcpy8_8 to i8*), \n\ti8* bitcast (void (i8*, %swift.type*)* @__swift_noop_void_return to i8*), \n\ti8* bitcast (i8* (i8*, i8*, i64, %swift.type*)* @__swift_memcpy_array8_8 to i8*), \n\ti8* bitcast (i8* (i8*, i8*, i64, %swift.type*)* @__swift_memmove_array8_8 to i8*), \n\ti8* bitcast (i8* (i8*, i8*, i64, %swift.type*)* @__swift_memmove_array8_8 to i8*), \n\ti8* inttoptr (i64 8 to i8*), i8* inttoptr (i64 7 to i8*), i8* inttoptr (i64 8 to i8*)\n]\n```\n\n\u305f\u3057\u304b\u306b\u7b2c2\u8981\u7d20\u304c\u3001`i8*`\u3068`%swift.type*`\u3092\u53d7\u3051\u53d6\u308b\u578b\u306e\u95a2\u6570\u3001`@__swift_noop_self_return`\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u308c\u3082\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n; Function Attrs: nounwind\ndefine linkonce_odr hidden i8* @__swift_noop_self_return(i8*, %swift.type*) #2 {\nentry:\n  ret i8* %0\n}\n```\n\n\u3061\u3083\u3093\u3068\u7b2c1\u5f15\u6570`%0`\u3092\u305d\u306e\u307e\u307ereturn\u3059\u308b\u95a2\u6570\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n`HogeCat`\u306f`Hogeable`\u306e\u5148\u982d24\u30d0\u30a4\u30c8\u306e\u6700\u521d\u306e8\u30d0\u30a4\u30c8\u306b\u57cb\u3081\u8fbc\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3001\n\u3053\u308c\u3067\u3061\u3083\u3093\u3068`HogeCat*`\u304c\u8fd4\u308b\u308f\u3051\u3067\u3059\u3002\n\n---\n\n\u3053\u308c\u3067\u3001`HogeCat`\u3092`Hogeable`\u306b\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u547c\u3073\u51fa\u3059\u6642\u3001\n\u3069\u306e\u3088\u3046\u306a\u30e1\u30e2\u30ea\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u53c2\u7167\u304c\u69cb\u7bc9\u3055\u308c\u308b\u304b\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\u305d\u3057\u3066\u3001SIL\u3067\u898b\u305f\u5834\u5408\u3088\u308a\u3082\u5177\u4f53\u7684\u306b\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\n\n# \u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5834\u5408\n\n\u3053\u3053\u307e\u3067\u306e\u8abf\u67fb\u3067\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u3067\u306a\u3044\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u3057\u3066\u3001struct\u3092\u3069\u3046\u3084\u3063\u3066\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u3044\u308b\u304b\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\u305d\u3057\u3066`Hogeable`\u306f\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u524d\u306b\u751f\u6210\u3055\u308c\u3066\u304a\u308a\u3001\n\u3053\u308c\u3092\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3057\u3066\u4f7f\u3063\u305f\u5834\u5408\u306f\u3001\u3053\u306e`Hogeable`\u578b\u304c\u4f7f\u308f\u308c\u308b\u306e\u3060\u308d\u3046\u3068\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u95a2\u6570`callIntFugableFuga`\u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u306f\u4f55\u304c\u8d77\u304d\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\n```swift\nfunc callIntFugableFuga<F: Fugable where F.Element == Int>(fugable: F) -> Int {\n    return fugable.fuga()\n}\n```\n\n`callHogeableHoge`\u306e\u6642\u306f\u3001`Hogeable`\u578b\u306e\u5024\u3092\u4f5c\u3063\u3066\u304b\u3089`callHogeableHoge`\u306b\u305d\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u540c\u69d8\u306b\u8003\u3048\u308c\u3070\u3001`callIntFugableFuga`\u306e\u5f15\u6570\u3068\u3057\u3066\u6e21\u3059\u305f\u3081\u306e\u3001\n`Element`\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u304c`Int`\u306b\u675f\u7e1b\u3055\u308c\u3066\u3044\u308b\u6642\u306e`Fugable`\u578b\u306e\u5024\u304c\u4f5c\u3089\u308c\u3001\n\u305d\u306e\u30a2\u30c9\u30ec\u30b9\u304c`callIntFugableFuga`\u306b\u6e21\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u306f\u3001`Int`\u306b\u7279\u6b8a\u5316\u3055\u308c\u305f`Fugable`\u306e\u5024\u578b\u3068\u3044\u3046\u3082\u306e\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u3001\n\u306a\u305c\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u4fdd\u6301\u3067\u304d\u306a\u3044\u306e\u304b\u3001\u3068\u3044\u3046\u7591\u554f\u304c\u751f\u307e\u308c\u307e\u3059\u3002\n\n## SIL\u3092\u898b\u308b\n\n\u65e9\u901f\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u5143\u3068\u306a\u308bSwift\u30bd\u30fc\u30b9\u306f\u4e0b\u8a18\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\nprotocol Fugable {\n\ttypealias Element\n\tfunc fuga() -> Element\n}\nstruct FugaDog: Fugable {\n\tvar aaa: Int = 3333\n\t@inline(never) func fuga() -> Int {\n\t\treturn aaa\n\t}\n}\n@inline(never) func callIntFugableFuga<F: Fugable where F.Element == Int>(fugable: F) -> Int {\n    return fugable.fuga()\n}\nfunc callDogFuga(dog: FugaDog) -> Int {\n\treturn callIntFugableFuga(dog)\n}\n\nprint(callDogFuga(FugaDog()))\n```\n\n`@inline(never)`\u306f\u5f8c\u306e\u8aac\u660e\u306e\u90fd\u5408\u3067\u3064\u3044\u3066\u3044\u307e\u3059\u3002\n\n\u3055\u3066\u3053\u308c\u3092silgen\u3057\u3066\u3001`callDogFuga`\u306e\u90e8\u5206\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```\n// main.callDogFuga (main.FugaDog) -> Swift.Int\nsil hidden @_TF4main11callDogFugaFVS_7FugaDogSi : $@convention(thin) (FugaDog) -> Int {\nbb0(%0 : $FugaDog):\n  debug_value %0 : $FugaDog  // let dog           // id: %1\n  // function_ref main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\n  %2 = function_ref @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) <\u03c4_0_0 where \u03c4_0_0 : Fugable, \u03c4_0_0.Element == Int> (@in \u03c4_0_0) -> Int // user: %5\n  %3 = alloc_stack $FugaDog                       // users: %4, %5, %6\n  store %0 to %3#1 : $*FugaDog                    // id: %4\n  %5 = apply %2<FugaDog>(%3#1) : $@convention(thin) <\u03c4_0_0 where \u03c4_0_0 : Fugable, \u03c4_0_0.Element == Int> (@in \u03c4_0_0) -> Int // user: %7\n  dealloc_stack %3#0 : $*@local_storage FugaDog   // id: %6\n  return %5 : $Int                                // id: %7\n}\n```\n\n\u3053\u308c\u306b\u306f\u3061\u3087\u3063\u3068\u9a5a\u304d\u307e\u3057\u305f\u3002\n`function_ref`\u547d\u4ee4\u3067\u53d6\u308a\u51fa\u3057\u305f\u95a2\u6570\u306f\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u542b\u3080\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u578b\u5b9a\u7fa9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001`apply`\u547d\u4ee4\u306b\u306f\u3001\n\u305d\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u57cb\u3081\u308b`<FugaDog>`\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\n\u547c\u3073\u51fa\u3057\u5148\u306e`callIntFugable`\u306e\u5b9a\u7fa9\u3082\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```\n// main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\nsil hidden [noinline] @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) <F where F : Fugable, F.Element == Int> (@in F) -> Int {\nbb0(%0 : $*F):\n  debug_value_addr %0 : $*F  // let fugable       // id: %1\n  %2 = witness_method $F, #Fugable.fuga!1 : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Fugable> (@out \u03c4_0_0.Element, @in_guaranteed \u03c4_0_0) -> () // user: %4\n  %3 = alloc_stack $Int                           // users: %4, %5, %6\n  %4 = apply %2<F, Int>(%3#1, %0) : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Fugable> (@out \u03c4_0_0.Element, @in_guaranteed \u03c4_0_0) -> ()\n  %5 = load %3#1 : $*Int                          // user: %8\n  dealloc_stack %3#0 : $*@local_storage Int       // id: %6\n  destroy_addr %0 : $*F                           // id: %7\n  return %5 : $Int                                // id: %8\n}\n```\n\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u540d`F`\u304c\u6b8b\u3063\u305f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306b\u306a\u3063\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001`Int`\u306b\u7279\u6b8a\u5316\u3055\u308c\u305f`Fugable`\u306e\u3088\u3046\u306a\u578b\u306f\u51fa\u3066\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u547c\u3073\u51fa\u3057\u5074\u3067`apply`\u306b\u6e21\u3057\u3066\u3044\u308b\u306e\u306f`FugaDog`\u306e\u30dd\u30a4\u30f3\u30bf\u305d\u306e\u307e\u307e\u3067\u3059\u3002\n\n\u3064\u307e\u308a\u30011\u3064\u306e\u7b54\u3048\u3068\u3057\u3066\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nSIL\u306e\u30ec\u30d9\u30eb\u3067\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4fdd\u6301\u3059\u308b\u578b\u304c\u5b58\u5728\u3057\u306a\u3044\u305f\u3081\u3001\n\u305d\u306e\u3088\u3046\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002\n\u4e00\u65b9\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306b\u5236\u7d04\u3092\u4e0e\u3048\u305f\u578b\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u306f\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5236\u7d04\u3092SIL\u306e\u30ec\u30d9\u30eb\u3067\u8868\u73fe\u3067\u304d\u308b\u304b\u3089\u3002\n\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002\n\n\u3057\u304b\u3057\u3001SIL\u306e\u30ec\u30d9\u30eb\u3067\u306f\u305d\u3046\u3067\u3042\u3063\u305f\u3068\u3057\u3066\u3082\u3001\nLLVM IR\u306e\u30ec\u30d9\u30eb\u3067\u306f\u305d\u306e\u3088\u3046\u306a\u8a00\u8a9e\u6a5f\u80fd\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u5b9f\u884c\u3067\u304d\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306aFugable\u3068\u3057\u3066\u30dd\u30ea\u30e2\u30fc\u30d5\u30a3\u30ba\u30e0\u3059\u308b\u30b3\u30fc\u30c9\u304c\u3001\n\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u305d\u308c\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n## LLVM IR\u3092\u898b\u308b\n\n\u547c\u3073\u51fa\u3057\u5074\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```\ndefine hidden i64 @_TF4main11callDogFugaFVS_7FugaDogSi(i64) #0 {\nentry:\n  %1 = alloca %V4main7FugaDog, align 8\n  %.aaa = getelementptr inbounds %V4main7FugaDog* %1, i32 0, i32 0\n  %.aaa.value = getelementptr inbounds %Si* %.aaa, i32 0, i32 0\n  store i64 %0, i64* %.aaa.value, align 8\n  %2 = bitcast %V4main7FugaDog* %1 to %swift.opaque*\n  %3 = call i64 @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si(%swift.opaque* noalias nocapture %2, %swift.type* bitcast (i64* getelementptr inbounds ({ i8**, i64, { i64, i8*, i32, i32, i8*, %swift.type** (%swift.type*)*, %swift.type_pattern*, i32, i32, i32 }*, %swift.type*, i64 }* @_TMfV4main7FugaDog, i32 0, i32 1) to %swift.type*), i8** getelementptr inbounds ([2 x i8*]* @_TWPV4main7FugaDogS_7FugableS_, i32 0, i32 0))\n  ret i64 %3\n}\n```\n\n\u30b9\u30bf\u30c3\u30af\u306bFugaDog\u3092\u4f5c\u308a`%1`\u3067\u30a2\u30c9\u30ec\u30b9\u3092\u6301\u3061\u3001\n\u5f15\u6570`%0`\u306eFugaDog\u3092\u30b3\u30d4\u30fc\u3057\u3066\u521d\u671f\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n`%1`\u306e`FugaDog*`\u3092`%swift.opaque*`\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066`%2`\u3068\u3057\u3066\u3044\u307e\u3059\u3002\ncall\u3067\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u306e\u306fSIL\u3067\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u3060\u3063\u305fcallIntFugableFuga\u3067\u3059\u3002\n\n```\n  %3 = call i64 @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si(\n  \t%swift.opaque* noalias nocapture %2, \n  \t%swift.type* bitcast (\n  \t\ti64* getelementptr inbounds (\n  \t\t\t{\n  \t\t\t\ti8**,\n  \t\t\t\ti64, \n  \t\t\t\t{\n  \t\t\t\t\ti64, i8*, i32, i32, i8*, \n  \t\t\t\t\t%swift.type** (%swift.type*)*, \n  \t\t\t\t\t%swift.type_pattern*,\n  \t\t\t\t\ti32, i32, i32 \n  \t\t\t\t}*, \n  \t\t\t\t%swift.type*, \n  \t\t\t\ti64 \n  \t\t\t}* @_TMfV4main7FugaDog, \n  \t\t\ti32 0, \n  \t\t\ti32 1\n  \t\t) \n  \t\tto %swift.type*\n  \t), \n  \ti8** getelementptr inbounds (\n  \t\t[2 x i8*]* @_TWPV4main7FugaDogS_7FugableS_,\n  \t\ti32 0, \n  \t\ti32 0\n  \t)\n  )\n```\n\n`callHogeableHoge`\u306e\u6642\u306f`Hogeable*`\u3060\u3051\u304c\u5f15\u6570\u3060\u3063\u305f\u306e\u306b\u5bfe\u3057\u3001\n\u547c\u3073\u51fa\u3057\u5f15\u6570\u304c3\u3064\u306b\u5897\u3048\u3066\u3044\u307e\u3059\u3002\n\n\u7b2c1\u5f15\u6570\u306f`%2`\u306e`%swift.opaque*`\u3067\u3059\u3002\u3053\u308c\u306f\u5b9f\u969b\u306b\u306f`FugaDog*`\u306e\u30ad\u30e3\u30b9\u30c8\u3067\u3059\u3002\n\n\u7b2c2\u5f15\u6570\u306f\u5148\u7a0b\u306f`Hogeable`\u306e\u7b2c2\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3057\u3066\u51fa\u3066\u304d\u305f`%swift.type*`\u3092\u3001\n\u540c\u3058\u3088\u3046\u306bstatic\u5b9a\u6570`@_TMfV4main7FugaDog`\u306e`i64`\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e1\u3064\u524d\u306b\u306fvalueWitnessTable\u304c\u3042\u308b\u3084\u3064\u3067\u3059\u3002\n\n\u7b2c3\u5f15\u6570\u3082`Hogeable`\u306e\u7b2c3\u30d5\u30a3\u30fc\u30eb\u30c9\u306ewitness\u30c6\u30fc\u30d6\u30eb\u306e\u521d\u671f\u5316\u3068\u540c\u3058\u3084\u308a\u65b9\u3067\u3001\n`@_TWPV4main7FugaDogS_7FugableS_`\u306ewitness\u30c6\u30fc\u30d6\u30eb\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5168\u4f53\u3068\u3057\u3066\u3001\u3055\u3063\u304d\u306e`Hogeable`\u3092\u30d5\u30a3\u30fc\u30eb\u30c9\u3054\u3068\u306b\u30d0\u30e9\u3057\u3066\u5f15\u6570\u306b\u3057\u305f\u3088\u3046\u306a\u5f62\u3067\u3059\u306d\u3002\n\n\u306a\u304a\u3001witness\u30c6\u30fc\u30d6\u30eb\u306e\u30a8\u30f3\u30c8\u30ea\u6570\u304c1\u304b\u30892\u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n\n```\n@_TWPV4main7FugaDogS_7FugableS_ = hidden constant [2 x i8*] \n[\n\ti8* null, \n\ti8* bitcast (\n\t\tvoid (%Si*, %V4main7FugaDog*, %swift.type*)* \n\t\t@_TTWV4main7FugaDogS_7FugableS_FS1_4fugauRq_S1__fq_FT_qq_S1_7Element\n\t\tto i8*\n\t)\n], align 8\n```\n\n\u7b2c0\u8981\u7d20\u304cnull\u306b\u306a\u308a\u3001\u7b2c1\u8981\u7d20\u306bfuga\u306ewitness\u95a2\u6570\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001\u8fd4\u308a\u5024\u304cInt\u3067\u306f\u306a\u304fvoid\u306b\u306a\u308a\u3001\n\u7b2c1\u5f15\u6570\u304c`%Si*`\u3068Int\u3092\u30dd\u30a4\u30f3\u30bf\u7d4c\u7531\u3067\u8fd4\u3059\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u7b2c2\u5f15\u6570\u3068\u7b2c3\u5f15\u6570\u306b\u3064\u3044\u3066\u306f\u3001`Hogeable`\u306ewitness\u95a2\u6570\u306e\u3068\u304d\u3068\u540c\u3058\u5f62\u3067\u3059\u3002\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u52d5\u4f5c\u306b\u3059\u308b\u305f\u3081\u3001\u8fd4\u308a\u5024\u306e\u8fd4\u3057\u578b\u304c\u30dd\u30a4\u30f3\u30bf\u6e21\u3057\u306b\u5909\u5316\u3057\u305f\u3088\u3046\u3067\u3059\u306d\u3002\n\n\u3055\u3066\u3001\u95a2\u6570\u672c\u4f53\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```\n; Function Attrs: noinline\ndefine hidden i64 @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si(%swift.opaque* noalias nocapture, %swift.type* %F, i8** %F.Fugable) #1 {\nentry:\n  %F1 = alloca %swift.type*, align 8\n  %1 = alloca %Si, align 8\n  store %swift.type* %F, %swift.type** %F1, align 8\n  %2 = getelementptr inbounds i8** %F.Fugable, i32 1\n  %3 = load i8** %2, align 8, !invariant.load !12\n  %4 = bitcast i8* %3 to void (%swift.opaque*, %swift.opaque*, %swift.type*)*\n  %5 = bitcast %Si* %1 to %swift.opaque*\n  call void %4(%swift.opaque* noalias nocapture sret %5, %swift.opaque* noalias nocapture %0, %swift.type* %F)\n  %.value = getelementptr inbounds %Si* %1, i32 0, i32 0\n  %6 = load i64* %.value, align 8\n  %7 = bitcast %swift.type* %F to i8***\n  %8 = getelementptr inbounds i8*** %7, i64 -1\n  %F.valueWitnesses = load i8*** %8, align 8, !invariant.load !12, !dereferenceable !13\n  %9 = getelementptr inbounds i8** %F.valueWitnesses, i32 4\n  %10 = load i8** %9, align 8, !invariant.load !12\n  %destroy = bitcast i8* %10 to void (%swift.opaque*, %swift.type*)*\n  call void %destroy(%swift.opaque* %0, %swift.type* %F) #2\n  ret i64 %6\n}\n```\n\n`%1`\u304c\u78ba\u4fdd\u3055\u308c\u3001`%.value`\u3067\u53c2\u7167\u3057\u3001`%6`\u3067\u305d\u308c\u3092\u30ed\u30fc\u30c9\u3057\u3001ret\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n`%1`\u304c\u95a2\u6570\u304b\u3089\u8fd4\u308a\u5024\u3092\u53d7\u3051\u53d6\u308b\u305f\u3081\u306e\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u3067\u3059\u3002\n\n\u7b2c2\u5f15\u6570\u3067\u6e21\u3055\u308c\u305f`%F: %swift.type*`\u306f\u30ed\u30fc\u30ab\u30eb\u5909\u6570`%F1`\u306b\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002\n\n\u7b2c3\u5f15\u6570\u306ewitness\u30c6\u30fc\u30d6\u30eb\u306e\u7b2c1\u8981\u7d20\u304b\u3089\u95a2\u6570\u3092\u53d6\u308a\u51fa\u3057\u3001`%2`,`%3`,`%4`\u3068\u51e6\u7406\u3057\u3066\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3068\u306a\u308a\u307e\u3059\u3002\n`%1`\u306f`%5`\u3067`%swift.opaque*`\u3078\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u308c\u3067witness\u95a2\u6570\u3068\u305d\u306e\u5f15\u65703\u3064\u304c\u63c3\u3046\u306e\u3067\u3001`call`\u3067\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\n\n\u7d50\u8ad6\u3068\u3057\u3066\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u3067\u306f\u3001\n\u5024\u306e\u578b\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u578b\u60c5\u5831\u3001witness\u30c6\u30fc\u30d6\u30eb\u306e3\u3064\u3092\u30d7\u30ed\u30c8\u30b3\u30eb\u578b\u306e\u5024\u306e\u5909\u308f\u308a\u306b\u4f7f\u3046\u3053\u3068\u3067\u3001\n\u52d5\u7684\u306a\u5024\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\u30dd\u30a4\u30f3\u30bf\u306e\u578b\u306fopaque\u30dd\u30a4\u30f3\u30bf\u3068\u3059\u308b\u3053\u3068\u3067\u6d88\u3055\u308c\u3001\n\u8fd4\u308a\u5024\u304c\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u5834\u5408\u306f\u5024\u306e\u8fd4\u5374\u304c\u5f15\u6570\u306e\u30dd\u30a4\u30f3\u30bf\u7d4c\u7531\u3068\u306a\u308a\u3001\n\u3053\u308c\u3082\u307e\u305fopaque\u30dd\u30a4\u30f3\u30bf\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u3053\u307e\u3067\u308f\u304b\u3063\u3066\u3001\u9006\u306b\u7591\u554f\u304c\u751f\u307e\u308c\u307e\u3059\u3002\n\n\u5024\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u578b\u60c5\u5831\u3001witness\u30c6\u30fc\u30d6\u30eb\u306e3\u3064\u306e\u5024\u304c\u3042\u308c\u3070\u3001\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u3042\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u5024\u304c\u53d6\u308a\u6271\u3048\u308b\u3068\u3044\u3046\u4e8b\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\nSIL\u4e0a\u306b\u306f\u305d\u306e\u3088\u3046\u306a\u6a5f\u80fd\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001\nLLVM IR\u3067\u305d\u306e\u3088\u3046\u306b\u6271\u3048\u308b\u306e\u3060\u304b\u3089\u3001\nSIL\u5074\u306b\u5bfe\u5fdc\u3059\u308b\u4ed5\u69d8\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u3089\u305d\u308c\u3067\u52d5\u304f\u306f\u305a\u3067\u3059\u3002\n\n3\u3064\u306e\u5024\u3092\u4e26\u3079\u305f\u5024\u306e\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3082\u56fa\u5b9a\u3067\u3059\u304b\u3089\u3001\n\u3053\u3093\u306a\u611f\u3058\u3067IR\u306e\u4e16\u754c\u3067\u3082\u69cb\u9020\u4f53\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3001\n\u305d\u3046\u3057\u305f\u3089\u3082\u3046\u5148\u307b\u3069\u306e`Hogeable`\u3068\u307b\u307c\u540c\u3058\u3067\u3059\u3002\n\n```\n%P4main7Fugable_ = type { %swift.opaque*, %swift.type*, i8** }\n```\n\n\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u6280\u8853\u7684\u306a\u5236\u7d04\u3067\u306f\u306a\u304f\u3001\n\u8a2d\u8a08\u4e0a\u306e\u9078\u629e\u3067\u3042\u308d\u3046\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n# SIL\u3068\u6700\u9069\u5316\n\nSIL\u306e\u4ed5\u69d8\u3068\u3057\u3066\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u304c\u5c0e\u5165\u3055\u308c\u3066\u3044\u308b\u4e8b\u3068\u95a2\u9023\u3057\u3066\u3001\nraw SIL\u304b\u3089canonical SIL\u3078\u306e\u5909\u63db\u6642\u306e\u6700\u9069\u5316\u3068\u3057\u3066\u3001\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u7279\u6b8a\u5316\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3053\u3053\u307e\u3067\u306e\u8abf\u67fb\u3067\u306f\u6700\u9069\u5316\u3092\u6291\u5236\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\n\u3053\u3053\u3067\u6700\u9069\u5316\u3042\u308a\u306ecanonical SIL\u306e\u51fa\u529b\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```\n// generic specialization <main.FugaDog with main.FugaDog : main.Fugable in main> of main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\nsil shared [noinline] @_TTSg5V4main7FugaDogS0_S_7FugableS____TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) (@in FugaDog) -> Int {\nbb0(%0 : $*FugaDog):\n  debug_value_addr %0 : $*FugaDog  // let fugable // id: %1\n  %2 = load %0 : $*FugaDog                        // user: %4\n  // function_ref main.FugaDog.fuga (main.FugaDog)() -> Swift.Int\n  %3 = function_ref @_TFV4main7FugaDog4fugafS0_FT_Si : $@convention(method) (FugaDog) -> Int // user: %4\n  %4 = apply %3(%2) : $@convention(method) (FugaDog) -> Int // user: %5\n  return %4 : $Int                                // id: %5\n}\n\n// main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\nsil hidden [noinline] @_TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) <F where F : Fugable, F.Element == Int> (@in F) -> Int {\nbb0(%0 : $*F):\n  debug_value_addr %0 : $*F  // let fugable       // id: %1\n  %2 = witness_method $F, #Fugable.fuga!1 : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Fugable> (@out \u03c4_0_0.Element, @in_guaranteed \u03c4_0_0) -> () // user: %4\n  %3 = alloc_stack $Int                           // users: %4, %5, %6\n  %4 = apply %2<F, Int>(%3#1, %0) : $@convention(witness_method) <\u03c4_0_0 where \u03c4_0_0 : Fugable> (@out \u03c4_0_0.Element, @in_guaranteed \u03c4_0_0) -> ()\n  %5 = load %3#1 : $*Int                          // user: %8\n  dealloc_stack %3#0 : $*@local_storage Int       // id: %6\n  destroy_addr %0 : $*F                           // id: %7\n  return %5 : $Int                                // id: %8\n}\n```\n\n\u306a\u3093\u3068\u3001FugaDog\u306b\u7279\u6b8a\u5316\u3055\u308c\u305f`callIntFugableFuga`\u3068\u3001\n\u5148\u307b\u3069\u3068\u540c\u3058\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a`callIntFugableFuga`\u306e\u4e21\u65b9\u306e\u30b3\u30fc\u30c9\u304c\u751f\u6210\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u7279\u6b8a\u5316\u7248\u306f\u3001\u305d\u306e\u5185\u90e8\u3067\u3001\u5f15\u6570\u3067\u53d7\u3051\u305f`FugaDog*`\u306e`fuga`\u3092\u547c\u3073\u51fa\u3059\u6642\u3082\u3001\n`FugaDog.fuga`\u306e\u672c\u4f53\u3092\u5024\u578b\u3067\u547c\u3073\u51fa\u305b\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u5b09\u3057\u3044\u3053\u3068\u306b\u3001`callDogFuga`\u306e\u4e2d\u304b\u3089\u547c\u3073\u51fa\u3055\u308c\u308b\u30b1\u30fc\u30b9\u3067\u306f\u3001\u7279\u6b8a\u5316\u3055\u308c\u305f\u7248\u306e`callIntFugableFuga`\u304c\u547c\u3070\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n// main.callDogFuga (main.FugaDog) -> Swift.Int\nsil hidden @_TF4main11callDogFugaFVS_7FugaDogSi : $@convention(thin) (FugaDog) -> Int {\nbb0(%0 : $FugaDog):\n  debug_value %0 : $FugaDog  // let dog           // id: %1\n  %2 = alloc_stack $FugaDog                       // users: %3, %5, %6\n  store %0 to %2#1 : $*FugaDog                    // id: %3\n  // function_ref generic specialization <main.FugaDog with main.FugaDog : main.Fugable in main> of main.callIntFugableFuga <A where A: main.Fugable, A.Element == Swift.Int> (A) -> Swift.Int\n  %4 = function_ref @_TTSg5V4main7FugaDogS0_S_7FugableS____TF4main18callIntFugableFugauRq_S_7Fugablezqq_S0_7ElementSi_Fq_Si : $@convention(thin) (@in FugaDog) -> Int // user: %5\n  %5 = apply %4(%2#1) : $@convention(thin) (@in FugaDog) -> Int // user: %7\n  dealloc_stack %2#0 : $*@local_storage FugaDog   // id: %6\n  return %5 : $Int                                // id: %7\n}\n```\n\n`callDogFuga` -> `callIntFugableFuga` -> `DogFuga.fuga`\u306e\u547c\u3073\u51fa\u3057\u30c1\u30a7\u30fc\u30f3\u306b\u304a\u3044\u3066\u3001\n\u95a2\u6570\u53c2\u7167\u306f\u5168\u3066\u9759\u7684\u306a`function_ref`\u306b\u306a\u3063\u3066\u304a\u308a\u3001\n\u3082\u306f\u3084witness\u30c6\u30fc\u30d6\u30eb\u306e\u53c2\u7167\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u3082\u3061\u308d\u3093\u3001witness\u30c6\u30fc\u30d6\u30eb\u306b\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u7248\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\nsil_witness_table hidden FugaDog: Fugable module main {\n  associated_type Element: Int\n  method #Fugable.fuga!1: @_TTWV4main7FugaDogS_7FugableS_FS1_4fugauRq_S1__fq_FT_qq_S1_7Element\t// protocol witness for main.Fugable.fuga <A where A: main.Fugable> (A)() -> A.Element in conformance main.FugaDog : main.Fugable in main\n}\n```\n\n\u305d\u3057\u3066\u3053\u3053\u307e\u3067inline\u5316\u3092\u6291\u5236\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u3092\u5916\u3059\u3068\u3053\u3046\u306a\u308a\u307e\u3059\u3002\n\n```\n// main.callDogFuga (main.FugaDog) -> Swift.Int\nsil hidden @_TF4main11callDogFugaFVS_7FugaDogSi : $@convention(thin) (FugaDog) -> Int {\nbb0(%0 : $FugaDog):\n  debug_value %0 : $FugaDog  // let dog           // id: %1\n  %2 = struct_extract %0 : $FugaDog, #FugaDog.aaa // user: %3\n  return %2 : $Int                                // id: %3\n}\n```\n\n`callDogFuga`\u306e\u4e2d\u3067\u3001`FugaDog`\u578b\u306e\u5024\u304b\u3089\u76f4\u63a5\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5024\u3092\u8aad\u3093\u3067\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\n`callIntFugableFuga`\u3068\u3001\u305d\u306e\u5148\u306e`DogFuga.fuga`\u306e\u4e21\u65b9\u304c\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u3055\u308c\u305f\u7d50\u679c\u3001\n\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u3053\u306e\u3088\u3046\u306a\u6700\u9069\u5316\u304c\u3067\u304d\u308b\u306e\u306f\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u304c\u5236\u7d04\u306e\u5f62\u3067\u66f8\u304b\u308c\u3066\u3044\u3066\u3001\n\u547c\u3073\u51fa\u3057\u3068\u5bfe\u5fdc\u3057\u3066\u5b9f\u969b\u306e\u578b\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u78ba\u5b9a\u3059\u308b\u304b\u3089\u3067\u3059\u3002\n\n# \u8003\u5bdf\n\n\u3053\u3053\u307e\u3067\u8abf\u3079\u305f\u4e0a\u3067\u306e\u50d5\u306e\u63a8\u6e2c\u306f\u3001\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u30d7\u30ed\u30d1\u30c6\u30a3(\u5909\u6570)\u3092\u4f5c\u308c\u306a\u3044\u4ed5\u69d8\u306b\u3057\u3066\u3044\u308b\u306e\u306f\u3001\n\u3082\u3057\u4f5c\u3063\u305f\u5834\u5408\u306b\u306f\u3001\u305d\u308c\u306b\u306f\u3053\u306e\u6700\u9069\u5316\u304c\u52b9\u304b\u306a\u3044\u4e8b\u3092\u5acc\u3063\u305f\u304b\u3089\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\nJava\u3067\u3088\u304f\u77e5\u3089\u308c\u305fList\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30b9\u30bf\u30a4\u30eb\u304c\u3042\u308b\u306e\u3067\u3001\n\u304a\u305d\u3089\u304f\u305d\u308c\u304c\u3067\u304d\u308b\u8a00\u8a9e\u4ed5\u69d8\u3067\u3042\u308c\u3070\u3001\n\u3068\u308a\u3042\u3048\u305a\u591a\u304f\u306e\u4eba\u304c\u305d\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u53d6\u308a\u56de\u3059\u3088\u3046\u306b\u306a\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u4f8b\u3048\u3070\u3001\u305d\u306e\u3088\u3046\u306aInt\u306eSequence\u306a\u3069\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d7\u3051\u53d6\u308b\u30af\u30e9\u30b9\u304c\u3042\u308c\u3070\u3001\n\u305d\u306e\u30af\u30e9\u30b9\u304b\u3089\u305d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53c2\u7167\u3057\u3066\u4f55\u304b\u3059\u308b\u5225\u306e\u30af\u30e9\u30b9\u3082Sequence\u3067\u6271\u3046\u3001\n\u3068\u3044\u3046\u3088\u3046\u306b\u578b\u5b9a\u7fa9\u306e\u4f1d\u642c\u304c\u81ea\u7136\u3068\u8d77\u3053\u308a\u3001\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u307b\u3068\u3093\u3069\u5168\u4f53\u3067Sequence\u306b\u3088\u3063\u3066\u53d6\u308a\u56de\u3059\u4e8b\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n\u4e00\u65b9\u3001\u305d\u308c\u3092\u7981\u6b62\u3057\u305f\u4ed5\u69d8\u306b\u3057\u3066\u304a\u3051\u3070\u3001\n\u307b\u3068\u3093\u3069\u5168\u3066\u306e\u30b1\u30fc\u30b9\u3067\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u578b\u5236\u7d04\u3067\u5b9f\u88c5\u3055\u308c\u305f\u95a2\u6570\u7fa4\u306f\u3001\n\u5b9f\u969b\u306estruct\u306e\u578b\u3067\u7279\u6b8a\u5316\u53ef\u80fd\u306b\u306a\u308a\u3001\n\u9759\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u3068\u306a\u308a\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u5316\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001\u9045\u3044\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u52d5\u4f5c\u3068\u306a\u308b\u306e\u306f\u3001\n\u30e6\u30fc\u30b6\u30fc\u304c\u81ea\u3089Type Erasure\u3092\u305b\u3053\u305b\u3053\u5b9f\u88c5\u3057\u305f\u5834\u5408\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\n\u3053\u308c\u306f\u524d\u8005\u3068\u6bd4\u8f03\u3059\u308b\u3068\u7d50\u69cb\u306a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u9055\u3044\u3092\u751f\u307f\u305d\u3046\u306b\u601d\u3044\u307e\u3059\u3002\n\u7279\u306b\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u578b\u3067\u4ee3\u8868\u7684\u306a\u3082\u306e\u306f\u3084\u306f\u308a\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u3001\n`O(n)`\u306e\u30aa\u30fc\u30c0\u30fc\u3092\u6301\u3064\u51e6\u7406\u3068\u7d61\u307f\u3084\u3059\u3044\u305f\u3081\u3001\u30a2\u30d7\u30ea\u306e\u52d5\u4f5c\u901f\u5ea6\u306b\u304a\u3051\u308b\u30a6\u30a7\u30a4\u30c8\u304c\u5927\u304d\u305d\u3046\u3067\u3059\u3002\n\nSwift\u306f\u751f\u6210\u30d0\u30a4\u30ca\u30ea\u306e\u52d5\u4f5c\u304c\u901f\u3044\u4e8b\u3082\u8a00\u8a9e\u8a2d\u8a08\u76ee\u6a19\u306e1\u3064\u306b\u3057\u3066\u3044\u307e\u3059\u3002\nC++\u3068Java\u306e\u9593\u306b\u3053\u306e\u30c6\u30fc\u30de\u306b\u95a2\u3057\u3066\u306f\u305d\u308c\u306a\u308a\u306e\u6027\u80fd\u5dee\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u3002\nC++\u3067\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30af\u30e9\u30b9\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u30bd\u30fc\u30b9\u30ec\u30d9\u30eb\u3067\u5c55\u958b\u3055\u308c\u308b\u305f\u3081\u9ad8\u901f\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\u4e00\u65b9Java\u3067\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001\n\u578b\u30d1\u30e9T\u306e\u578b\u3092\u3082\u3064\u90e8\u5206\u306f\u5168\u3066\u53c2\u7167\u578b\u3068\u306a\u308a\u3001\n\u5024\u578b\u306fBoxing\u3055\u308c\u3001\n\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306f\u5e38\u306b\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306b\u3088\u308b\u52d5\u7684\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u306b\u306a\u308a\u307e\u3059\u3002\nSwift\u306f\u52d5\u4f5c\u901f\u5ea6\u306b\u304a\u3044\u3066\u3001C++\u4e26\u306e\u6027\u80fd\u304c\u3067\u308b\u3088\u3046\u306b\u3053\u306e\u3088\u3046\u306a\u9078\u629e\u3092\u3057\u305f\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n\u307e\u305fC++\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30af\u30e9\u30b9\u3067\u3001\nSwift\u306eSequenceType\u306e\u3088\u3046\u306a\u4e8b\u3092\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u3092\u8003\u3048\u3066\u307f\u307e\u3059\u3002\nC++\u306e`std::vector<T>`\u306f\u5b9f\u969b\u306e\u5024\u578b\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u3067\u3001Swift\u306e`Array<T>`\u306b\u3042\u305f\u308a\u307e\u3059\u3002\n\u3053\u3053\u3067Swift\u3067\u306f\u3001`SequenceType`\u3068\u3044\u3046\u30d7\u30ed\u30b3\u30c8\u30eb\u3092\u6e80\u305f\u3059\u578b\u306b\u5bfe\u3057\u3066\u3001\n\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u5f62\u3067\u518d\u5229\u7528\u53ef\u80fd\u306a\u90e8\u54c1\u3092\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\nC++\u3067\u3082\u78ba\u304b\u540c\u3058\u3088\u3046\u306b`std::vector`\u3067\u3082`std::list`\u3067\u3082\u6e21\u3057\u3066\u4f7f\u3048\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u53ef\u80fd\u3067\u3059\u304c\u3001\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u69cb\u6587\u3092\u7d50\u69cb\u6df1\u304f\u4f7f\u3044\u3053\u306a\u3059\u5fc5\u8981\u304c\u3042\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\nSwift\u306f\u305d\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u304c`protocol`\u6587\u3060\u3051\u3067\u7c21\u5358\u306b\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u8a00\u8a9e\u4ed5\u69d8\u306b\u3059\u308b\u554f\u984c\u70b9\u306f\u3001\n\u5143\u306e\u5024\u306e\u632f\u308b\u821e\u3044\u3092\u4fdd\u6301\u3057\u305f\u307e\u307e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6271\u3044\u305f\u3044\u5834\u5408\u3067\u3001\n\u304b\u3064\u3001\u8907\u6570\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u540c\u6642\u306b\u6e80\u305f\u3059\u30af\u30e9\u30b9\u3092\u53d6\u308a\u6271\u3046\u4e8b\u304c\u3067\u304d\u306a\u3044\u4e8b\u3067\u3059\u3002\n\n1\u3064\u3081\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u305f\u3081\u306bType Erasure\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\n\u30d7\u30ed\u30c8\u30b3\u30ebA\u306eAnyA, \u30d7\u30ed\u30c8\u30b3\u30ebB\u306eAnyB\u306f\u305d\u308c\u305e\u308c\u5143\u306e\u5024\u3092\u96a0\u853d\u3057\u3066\u3057\u307e\u3046\u305f\u3081\u3001\n\u3069\u3061\u3089\u304b\u306b\u5305\u3093\u3060\u77ac\u9593\u306b\u3082\u3046\u7247\u65b9\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u5931\u308f\u308c\u307e\u3059\u3002\n\n\u3084\u308d\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u30d7\u30ed\u30c8\u30b3\u30ebA\u3068\u30d7\u30ed\u30c8\u30b3\u30ebB\u306e\u4e21\u65b9\u3092\u6e80\u305f\u3057\u305fType Erasure\u3067\u3042\u308bAnyAorB\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\n\u3053\u306e\u7d44\u307f\u5408\u308f\u305b\u65b9\u3054\u3068\u306bErasure\u306e\u5b9f\u88c5\u304c\u5fc5\u8981\u306a\u305f\u3081\u975e\u73fe\u5b9f\u7684\u3067\u3059\u3002\n\n\u3057\u304b\u3057\u306a\u3093\u3068\u306a\u304f\u3001\u305d\u306e\u3088\u3046\u306a\u8907\u96d1\u306a\u6a5f\u80fd\u3092\u3082\u3063\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u3063\u305f\u3053\u3068\u306f\u3001\n\u3042\u307e\u308a\u3053\u308c\u307e\u3067\u306b\u7121\u304b\u3063\u305f\u3088\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u3002\n\n\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u6cbc\u306b\u306f\u307e\u308a\u305d\u3046\u306a\u306e\u304c\u5fc3\u914d\u3067\u3001\n\u3069\u306e\u7a0b\u5ea6\u5c0e\u5165\u3059\u308b\u3079\u304d\u304b\u60a9\u307e\u3057\u3044\u72b6\u614b\u304c\u7d9a\u3044\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\n\u4eca\u56de\u81ea\u5206\u306a\u308a\u306b\u306f\u3044\u308d\u3044\u308d\u30af\u30ea\u30a2\u306b\u306a\u3063\u3066\u304d\u305f\u306e\u3067\u3001\n\u4eca\u5f8c\u306f\u3082\u3063\u3068struct\u3068protocol\u3092\u6d3b\u7528\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\n\n"}