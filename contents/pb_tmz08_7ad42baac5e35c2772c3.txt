{"context": " More than 1 year has passed since last update.\u4ee5\u524d\u306e\u8a18\u4e8b\u304b\u3089\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n[FFmpeg] ffmpeg \u306b libx265 \u3092\u30ea\u30f3\u30af\u3059\u308b\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n$ cd /path/to/libx265\n$ hg update\n$ cd build\n$ cmake .\n-- cmake version 2.8.8\n-- Detected x86 target processor\n-- Could NOT find NUMA (missing:  NUMA_ROOT_DIR NUMA_INCLUDE_DIR NUMA_LIBRARY)\n-- Found Yasm 1.2.0 to build assembly primitives\n-- hg found at /usr/bin/hg\n-- x265 version 1.6+298-4a7176bab742\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /path/to/x265/build\n\nNUMA\u3063\u3066\u306a\u3093\u305e\u3084\uff1f\nNUMA -wikipedia-\n\nNUMA \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install numactl numactl-devel\n\n# ls /usr/lib64/libnuma.*\n/usr/lib64/libnuma.a  /usr/lib64/libnuma.so  /usr/lib64/libnuma.so.1\n\n$ cmake .\n-- cmake version 2.8.8\n-- Detected x86 target processor\n-- Found NUMA: /usr\n-- Looking for numa_node_of_cpu\n-- Looking for numa_node_of_cpu - found\n-- libnuma found, building with support for NUMA nodes\n-- Found Yasm 1.2.0 to build assembly primitives\n-- hg found at /usr/bin/hg\n-- x265 version 1.6+298-4a7176bab742\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /path/to/x265/build\n\n\nx265 \u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ make\n# make install\n[ 63%] Built target common\n[ 87%] Built target encoder\n[ 87%] Built target x265-shared\n[100%] Built target cli\n[100%] Built target x265-static\nInstall the project...\n-- Install configuration: \"Release\"\n-- Installing: /usr/local/lib/libx265.a\n-- Installing: /usr/local/include/x265.h\n-- Installing: /usr/local/include/x265_config.h\n-- Installing: /usr/local/lib/libx265.so.56\n-- Installing: /usr/local/lib/libx265.so\n-- Installing: /usr/local/lib/pkgconfig/x265.pc\n-- Installing: /usr/local/bin/x265\n-- Removed runtime path from \"/usr/local/bin/x265\"\n\n\n\u78ba\u8a8d\n$ ldd /usr/local/bin/x265\n        linux-vdso.so.1 =>  (0x00007fff090d7000)\n        libx265.so.56 => not found\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003c24400000)\n        librt.so.1 => /lib64/librt.so.1 (0x0000003c25000000)\n        libnuma.so.1 => /usr/lib64/libnuma.so.1 (0x00007f1a94dd7000)\n        libstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x0000003c28c00000)\n        libm.so.6 => /lib64/libm.so.6 (0x0000003c24000000)\n        libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x0000003c27800000)\n        libc.so.6 => /lib64/libc.so.6 (0x0000003c23c00000)\n        /lib64/ld-linux-x86-64.so.2 (0x0000003c23800000)\n\n\u524d\u56de\u540c\u69d8\u3001\u30ea\u30f3\u30af\u3057\u3066\u306a\u3044\n# ldconfig -v\n# ldd /usr/local/bin/x265\n        linux-vdso.so.1 =>  (0x00007fff491ff000)\n        libx265.so.56 => /usr/local/lib/libx265.so.56 (0x00007f33cc80e000)\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003c24400000)\n        librt.so.1 => /lib64/librt.so.1 (0x0000003c25000000)\n        libnuma.so.1 => /usr/lib64/libnuma.so.1 (0x00007f33cc602000)\n        libstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x0000003c28c00000)\n        libm.so.6 => /lib64/libm.so.6 (0x0000003c24000000)\n        libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x0000003c27800000)\n        libc.so.6 => /lib64/libc.so.6 (0x0000003c23c00000)\n        /lib64/ld-linux-x86-64.so.2 (0x0000003c23800000)\n\n# x265 -h\nx265 [info]: HEVC encoder version 1.6+298-4a7176bab742\nx265 [info]: build info [Linux][GCC 4.4.7][64 bit] 8bpp\n\n\n\u304a\uff4b\uff01\n\u4ee5\u524d\u306e\u8a18\u4e8b\u304b\u3089\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n[[FFmpeg] ffmpeg \u306b libx265 \u3092\u30ea\u30f3\u30af\u3059\u308b](http://qiita.com/pb_tmz08/items/29165f4c3ef9bc4285ab)\n\n### \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n```shell-session\n$ cd /path/to/libx265\n$ hg update\n$ cd build\n$ cmake .\n-- cmake version 2.8.8\n-- Detected x86 target processor\n-- Could NOT find NUMA (missing:  NUMA_ROOT_DIR NUMA_INCLUDE_DIR NUMA_LIBRARY)\n-- Found Yasm 1.2.0 to build assembly primitives\n-- hg found at /usr/bin/hg\n-- x265 version 1.6+298-4a7176bab742\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /path/to/x265/build\n```\n\nNUMA\u3063\u3066\u306a\u3093\u305e\u3084\uff1f\n\n[NUMA -wikipedia-](http://ja.wikipedia.org/wiki/NUMA)\n\n### NUMA \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell-session\n# yum install numactl numactl-devel\n\n# ls /usr/lib64/libnuma.*\n/usr/lib64/libnuma.a  /usr/lib64/libnuma.so  /usr/lib64/libnuma.so.1\n\n$ cmake .\n-- cmake version 2.8.8\n-- Detected x86 target processor\n-- Found NUMA: /usr\n-- Looking for numa_node_of_cpu\n-- Looking for numa_node_of_cpu - found\n-- libnuma found, building with support for NUMA nodes\n-- Found Yasm 1.2.0 to build assembly primitives\n-- hg found at /usr/bin/hg\n-- x265 version 1.6+298-4a7176bab742\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /path/to/x265/build\n```\n\n### x265 \u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell-session\n$ make\n# make install\n[ 63%] Built target common\n[ 87%] Built target encoder\n[ 87%] Built target x265-shared\n[100%] Built target cli\n[100%] Built target x265-static\nInstall the project...\n-- Install configuration: \"Release\"\n-- Installing: /usr/local/lib/libx265.a\n-- Installing: /usr/local/include/x265.h\n-- Installing: /usr/local/include/x265_config.h\n-- Installing: /usr/local/lib/libx265.so.56\n-- Installing: /usr/local/lib/libx265.so\n-- Installing: /usr/local/lib/pkgconfig/x265.pc\n-- Installing: /usr/local/bin/x265\n-- Removed runtime path from \"/usr/local/bin/x265\"\n```\n\n### \u78ba\u8a8d\n\n```shell-session\n$ ldd /usr/local/bin/x265\n        linux-vdso.so.1 =>  (0x00007fff090d7000)\n        libx265.so.56 => not found\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003c24400000)\n        librt.so.1 => /lib64/librt.so.1 (0x0000003c25000000)\n        libnuma.so.1 => /usr/lib64/libnuma.so.1 (0x00007f1a94dd7000)\n        libstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x0000003c28c00000)\n        libm.so.6 => /lib64/libm.so.6 (0x0000003c24000000)\n        libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x0000003c27800000)\n        libc.so.6 => /lib64/libc.so.6 (0x0000003c23c00000)\n        /lib64/ld-linux-x86-64.so.2 (0x0000003c23800000)\n```\n\n\u524d\u56de\u540c\u69d8\u3001\u30ea\u30f3\u30af\u3057\u3066\u306a\u3044\n\n```shell-session\n# ldconfig -v\n# ldd /usr/local/bin/x265\n        linux-vdso.so.1 =>  (0x00007fff491ff000)\n        libx265.so.56 => /usr/local/lib/libx265.so.56 (0x00007f33cc80e000)\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003c24400000)\n        librt.so.1 => /lib64/librt.so.1 (0x0000003c25000000)\n        libnuma.so.1 => /usr/lib64/libnuma.so.1 (0x00007f33cc602000)\n        libstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x0000003c28c00000)\n        libm.so.6 => /lib64/libm.so.6 (0x0000003c24000000)\n        libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x0000003c27800000)\n        libc.so.6 => /lib64/libc.so.6 (0x0000003c23c00000)\n        /lib64/ld-linux-x86-64.so.2 (0x0000003c23800000)\n\n# x265 -h\nx265 [info]: HEVC encoder version 1.6+298-4a7176bab742\nx265 [info]: build info [Linux][GCC 4.4.7][64 bit] 8bpp\n\n```\n\n\n\u304a\uff4b\uff01\n", "tags": ["ffmpeg", "x2651.6+298-4a7176bab742"]}