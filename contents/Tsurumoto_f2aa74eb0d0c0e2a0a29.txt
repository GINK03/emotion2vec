{"tags": ["\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc", "UITextView"], "context": "\n\n\u3084\u3063\u305f\u3053\u3068\n\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u4ed8\u304d\u306eUITextView\u3092Swift\u3067\u5b9f\u88c5\u3057\u3066\u307f\u305f\u3002\n\n\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nPlaceHolderTextView.swift\nimport UIKit\n\nclass PlaceHolderTextView: UITextView {\n\n    // \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u7528\u306e\u30e9\u30d9\u30eb\n    var m_labelForPlaceHolder:UILabel?\n\n    // \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u306e\u6587\u8a00\n    var m_strPlaceHolder:String?\n\n    // \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u8272\n    var m_colorForPlaceHolder:UIColor?\n\n    func initialize() {\n        NSNotificationCenter.defaultCenter().addObserver(self, selector: #selector(self.TextChanged(_:)), name: UITextViewTextDidChangeNotification, object: nil)\n\n        m_labelForPlaceHolder = UILabel(frame: CGRect(x: 8, y: 8, width: self.bounds.size.width - 16, height: 0))\n        m_labelForPlaceHolder?.numberOfLines = 0\n        m_labelForPlaceHolder?.font = UIFont.systemFontOfSize(14.0)\n        m_labelForPlaceHolder?.lineBreakMode = NSLineBreakMode.ByCharWrapping\n\n        // \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\n        self.placeHolder = \"\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\"\n        self.PlaceHolderColor = UIColor(red: 0.8, green: 0.8, blue: 0.8, alpha: 1)\n\n        // \u67a0\u7dda\u3092\u3064\u3051\u308b\n        self.layer.borderWidth = 2\n        self.layer.borderColor = UIColor.grayColor().CGColor\n\n        self.addSubview(m_labelForPlaceHolder!)\n    }\n\n    init(frame:CGRect) {\n        super.init(frame: frame, textContainer: nil)\n        initialize()\n    }\n\n    required init?(coder aDecoder: NSCoder) {\n        super.init(coder: aDecoder)\n        initialize()\n    }\n\n    deinit {\n        NSNotificationCenter.defaultCenter().removeObserver(self)\n    }\n\n    var PlaceHolderColor:UIColor? {\n        get {\n            return m_colorForPlaceHolder\n        }\n        set {\n            m_colorForPlaceHolder = newValue\n            if nil == m_colorForPlaceHolder {\n                m_colorForPlaceHolder = UIColor(red: 0.8, green: 0.8, blue: 0.8, alpha: 1)\n            }\n            m_labelForPlaceHolder?.textColor = m_colorForPlaceHolder\n        }\n    }\n    var placeHolder:String? {\n        get {\n            return m_strPlaceHolder\n        }\n        set {\n            m_strPlaceHolder = newValue\n            if nil == m_strPlaceHolder {\n                m_strPlaceHolder = \"\"\n            }\n            // frame\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\n            m_labelForPlaceHolder?.frame = CGRect(x: 8, y: 8, width: self.bounds.size.width - 16, height: 0)\n\n            m_labelForPlaceHolder?.text = m_strPlaceHolder\n            m_labelForPlaceHolder?.sizeToFit()\n        }\n    }\n\n    // \u30c6\u30ad\u30b9\u30c8\u304c\u5909\u66f4\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b\n    func TextChanged(niti:NSNotification) {\n        if 0 == self.text.characters.count {\n            m_labelForPlaceHolder?.hidden = false\n        }\n        else {\n            m_labelForPlaceHolder?.hidden = true\n        }\n    }\n}\n\n\n\n\u4f7f\u7528\u4f8b\n override func viewDidLoad() {\n        super.viewDidLoad()\n\n        let placeHolder:PlaceHolderTextView = PlaceHolderTextView.init(frame: CGRect(x: 10, y: 200, width: 300, height: 100))\n        placeHolder.placeHolder = \"\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u4ed8\u304dUITextView\"\n        placeHolder.PlaceHolderColor = UIColor.blueColor()\n\n        self.view.addSubview(placeHolder)\n    }\n\n\n\u30c7\u30e1\u30ea\u30c3\u30c8\n\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u306a\u3044\u6642\u306e\u30ad\u30e3\u30ec\u30c3\u30c8\u3068\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u306e\u8ddd\u96e2\u304cUITextField\u3068\u6bd4\u3079\u308b\u3068\u5c11\u3057\u96e2\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u3002\n\n\u53c2\u8003\u6587\u732e\n\nhttp://himaratsu.hatenablog.com/entry/objc/placeholderview\n\n# \u3084\u3063\u305f\u3053\u3068\n\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u4ed8\u304d\u306eUITextView\u3092Swift\u3067\u5b9f\u88c5\u3057\u3066\u307f\u305f\u3002\n\n#\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\n![\u30d5\u309a\u30ec\u30fc\u30b9\u30db\u30eb\u30bf\u3099\u30fc.gif](https://qiita-image-store.s3.amazonaws.com/0/120029/c0aeef55-bdfc-8b0e-7415-99aac4477bb9.gif)\n\n\n#\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n```lang:PlaceHolderTextView.swift\nimport UIKit\n\nclass PlaceHolderTextView: UITextView {\n\n    // \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u7528\u306e\u30e9\u30d9\u30eb\n    var m_labelForPlaceHolder:UILabel?\n    \n    // \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u306e\u6587\u8a00\n    var m_strPlaceHolder:String?\n    \n    // \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u8272\n    var m_colorForPlaceHolder:UIColor?\n    \n    func initialize() {\n        NSNotificationCenter.defaultCenter().addObserver(self, selector: #selector(self.TextChanged(_:)), name: UITextViewTextDidChangeNotification, object: nil)\n        \n        m_labelForPlaceHolder = UILabel(frame: CGRect(x: 8, y: 8, width: self.bounds.size.width - 16, height: 0))\n        m_labelForPlaceHolder?.numberOfLines = 0\n        m_labelForPlaceHolder?.font = UIFont.systemFontOfSize(14.0)\n        m_labelForPlaceHolder?.lineBreakMode = NSLineBreakMode.ByCharWrapping\n            \n        // \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\n        self.placeHolder = \"\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\"\n        self.PlaceHolderColor = UIColor(red: 0.8, green: 0.8, blue: 0.8, alpha: 1)\n        \n        // \u67a0\u7dda\u3092\u3064\u3051\u308b\n        self.layer.borderWidth = 2\n        self.layer.borderColor = UIColor.grayColor().CGColor\n        \n        self.addSubview(m_labelForPlaceHolder!)\n    }\n    \n    init(frame:CGRect) {\n        super.init(frame: frame, textContainer: nil)\n        initialize()\n    }\n    \n    required init?(coder aDecoder: NSCoder) {\n        super.init(coder: aDecoder)\n        initialize()\n    }\n    \n    deinit {\n        NSNotificationCenter.defaultCenter().removeObserver(self)\n    }\n    \n    var PlaceHolderColor:UIColor? {\n        get {\n            return m_colorForPlaceHolder\n        }\n        set {\n            m_colorForPlaceHolder = newValue\n            if nil == m_colorForPlaceHolder {\n                m_colorForPlaceHolder = UIColor(red: 0.8, green: 0.8, blue: 0.8, alpha: 1)\n            }\n            m_labelForPlaceHolder?.textColor = m_colorForPlaceHolder\n        }\n    }\n    var placeHolder:String? {\n        get {\n            return m_strPlaceHolder\n        }\n        set {\n            m_strPlaceHolder = newValue\n            if nil == m_strPlaceHolder {\n                m_strPlaceHolder = \"\"\n            }\n            // frame\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\n            m_labelForPlaceHolder?.frame = CGRect(x: 8, y: 8, width: self.bounds.size.width - 16, height: 0)\n            \n            m_labelForPlaceHolder?.text = m_strPlaceHolder\n            m_labelForPlaceHolder?.sizeToFit()\n        }\n    }\n    \n    // \u30c6\u30ad\u30b9\u30c8\u304c\u5909\u66f4\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b\n    func TextChanged(niti:NSNotification) {\n        if 0 == self.text.characters.count {\n            m_labelForPlaceHolder?.hidden = false\n        }\n        else {\n            m_labelForPlaceHolder?.hidden = true\n        }\n    }\n}\n```\n\n#\u4f7f\u7528\u4f8b\n```\n override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        let placeHolder:PlaceHolderTextView = PlaceHolderTextView.init(frame: CGRect(x: 10, y: 200, width: 300, height: 100))\n        placeHolder.placeHolder = \"\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u4ed8\u304dUITextView\"\n        placeHolder.PlaceHolderColor = UIColor.blueColor()\n        \n        self.view.addSubview(placeHolder)\n    }\n```\n\n#\u30c7\u30e1\u30ea\u30c3\u30c8\n\u30c6\u30ad\u30b9\u30c8\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u306a\u3044\u6642\u306e\u30ad\u30e3\u30ec\u30c3\u30c8\u3068\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u306e\u8ddd\u96e2\u304cUITextField\u3068\u6bd4\u3079\u308b\u3068\u5c11\u3057\u96e2\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u3002\n\n#\u53c2\u8003\u6587\u732e\n>http://himaratsu.hatenablog.com/entry/objc/placeholderview\n\n\n"}