{"context": " More than 1 year has passed since last update.\n\n\u4f7f\u7528\u6a5f\u6750\nRaspberry PI B+\nraspbian: raspberrypi 3.18.7+ #755 PREEMPT Thu Feb 12 17:14:31 GMT 2015\nGarmin GLO: Bluetooth GPS\u30ec\u30b7\u30fc\u30d0\nBluetooth\u30c9\u30f3\u30b0\u30eb: Elecom-Logitec LBT-UAN04C1 (Linux\u3060\u3068\u5b9a\u8a55\u3042\u308bCSR\u793e\u30c1\u30c3\u30d7\u30bb\u30c3\u30c8)\n\n\u6e96\u5099\n\u30e2\u30b8\u30e5\u30fc\u30eb\u985e\u3092\u5c0e\u5165\u3057\u307e\u3057\u3087\u3046\n\napt-get install bluez bluez-utils\n\npython ver.2\u3067\u306e\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u3059\u308b\u5411\u304d\u306b\u306f apt-get install python-bluez \u3082\u5fd8\u308c\u305a\u306b\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u306eGarmin GLO\u63a5\u7d9a\u30c6\u30b9\u30c8\n(1) hcitool scan\nGarmin GLO \u3092\u30b9\u30ad\u30e3\u30f3\u3057\u307e\u3059\u300212:34:56:78:90:AB \u307f\u305f\u3044\u306a\u30a2\u30c9\u30ec\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3002\n(2) \u30dd\u30fc\u30c8\u63a5\u7d9a\n\nsudo rfcomm bind /dev/rfcomm1 12:34:56:78:90:AB 1\n\n\u3053\u308c\u3067\u3001Garmin GLO \u306eVirtual COM\u30dd\u30fc\u30c8\u304c\u3001/dev/rfcomm1\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3067\u3059\u304c\u3001GLO\u306ebluetooth\u72b6\u614bLED\u306f\u3001\u3086\u3063\u304f\u308a\u3068\u3057\u305f\u70b9\u6ec5\u306e\u307e\u307e\u3067\u3059\u3002(\u30da\u30a2\u30ea\u30f3\u30b0\u3055\u308c\u305f\u72b6\u614b\u3067\u306f\u3042\u308a\u307e\u305b\u3093)\n(3) \u30dd\u30fc\u30c8\u304b\u3089\u306e\u30c7\u30fc\u30bf\u5438\u51fa\u3057\n\u304a\u624b\u8efd\u306f\u65b9\u6cd5\u3068\u3057\u3066\u306f\n\ncat < /dev/rfcomm1\n\n\u3067\u3059\u3002\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u9045\u308c\u3066GLO\u306ebluetooth\u72b6\u614bLED\u304c\u70b9\u706f\u3057\u305f\u72b6\u614b\uff08\u3059\u306a\u308f\u3061\u30da\u30a2\u30ea\u30f3\u30b0\u72b6\u614b)\u3068\u306a\u308a\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u306bNMEA\u51fa\u529b\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u7d42\u4e86\u6642\u306fctrl-c\u3067\u629c\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\u3082\u3057\u304f\u306f\u3001\n\ndd if=/dev/rfcomm1 of= ...\n\n\u3082OK\u3067\u3059\u3002\n\nPython (ver.2)\npython ver.2\u3067\u306f\u3001PyBluez\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\nsudo apt-get install python-bluez\n\n\u3067\u5c0e\u5165\u3057\u307e\u3057\u3087\u3046\u3002\nimport bluetooth\n\nbd_addr = \"12:34:56:78:90:AB\"\nport = 1\n\nsock=bluetooth.BluetoothSocket(bluetooth.RFCOMM)\nsock.connect((bd_addr, port))\ndata=sock.recv(1024)\n\nsock.close()\nprint data\n\n\u3053\u306e\u5834\u5408\u3001sock.recv()\u306e\u8fd4\u3059 data \u306f\u3001str\u578b\u3068\u306a\u308a\u307e\u3059\u3002\n\nPython3\npython3\u3067\u306f\u3001\u6a19\u6e96\u306esocket\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nimport socket\n\nbd_addr = \"12:34:56:78:90:AB\"\nport = 1\n\nsock = socket.socket(socket.AF_BLUETOOTH, socket.SOCK_STREAM, socket.BTPROTO_RFCOMM)\nsock.connect((bd_addr, port))\ndata = sock.recv(1024)\n\nsock.close()\n\ndataReadable = data.decode('utf-8')\nprint(dataReadable)\n\n\u3053\u306e\u5834\u5408\u3001sock.recv()\u306e\u8fd4\u3059 data \u306f\u3001bytes\u578b\u3068\u306a\u308a\u307e\u3059\u3002\u3067\u3059\u306e\u3067\u3001decode()\u306b\u3066str\u3078\u5909\u63db\u3057\u307e\u3057\u3087\u3046\u3002\n# \u4f7f\u7528\u6a5f\u6750\n**Raspberry PI B+**\n**raspbian**: raspberrypi 3.18.7+ #755 PREEMPT Thu Feb 12 17:14:31 GMT 2015\n**Garmin GLO**: Bluetooth GPS\u30ec\u30b7\u30fc\u30d0\nBluetooth\u30c9\u30f3\u30b0\u30eb: Elecom-Logitec **LBT-UAN04C1** (Linux\u3060\u3068\u5b9a\u8a55\u3042\u308bCSR\u793e\u30c1\u30c3\u30d7\u30bb\u30c3\u30c8)\n\n# \u6e96\u5099\n\u30e2\u30b8\u30e5\u30fc\u30eb\u985e\u3092\u5c0e\u5165\u3057\u307e\u3057\u3087\u3046\n```\napt-get install bluez bluez-utils\n```\n\npython ver.2\u3067\u306e\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u3059\u308b\u5411\u304d\u306b\u306f apt-get install python-bluez \u3082\u5fd8\u308c\u305a\u306b\n\n# \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u306eGarmin GLO\u63a5\u7d9a\u30c6\u30b9\u30c8\n**(1) hcitool scan**\nGarmin GLO \u3092\u30b9\u30ad\u30e3\u30f3\u3057\u307e\u3059\u300212:34:56:78:90:AB \u307f\u305f\u3044\u306a\u30a2\u30c9\u30ec\u30b9\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3002\n**(2) \u30dd\u30fc\u30c8\u63a5\u7d9a**\n```\nsudo rfcomm bind /dev/rfcomm1 12:34:56:78:90:AB 1\n```\n\u3053\u308c\u3067\u3001Garmin GLO \u306eVirtual COM\u30dd\u30fc\u30c8\u304c\u3001/dev/rfcomm1\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3067\u3059\u304c\u3001GLO\u306ebluetooth\u72b6\u614bLED\u306f\u3001\u3086\u3063\u304f\u308a\u3068\u3057\u305f\u70b9\u6ec5\u306e\u307e\u307e\u3067\u3059\u3002(\u30da\u30a2\u30ea\u30f3\u30b0\u3055\u308c\u305f\u72b6\u614b\u3067\u306f\u3042\u308a\u307e\u305b\u3093)\n**(3) \u30dd\u30fc\u30c8\u304b\u3089\u306e\u30c7\u30fc\u30bf\u5438\u51fa\u3057**\n\u304a\u624b\u8efd\u306f\u65b9\u6cd5\u3068\u3057\u3066\u306f\n```\ncat < /dev/rfcomm1\n```\n\u3067\u3059\u3002\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u9045\u308c\u3066GLO\u306ebluetooth\u72b6\u614bLED\u304c\u70b9\u706f\u3057\u305f\u72b6\u614b\uff08\u3059\u306a\u308f\u3061\u30da\u30a2\u30ea\u30f3\u30b0\u72b6\u614b)\u3068\u306a\u308a\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u306bNMEA\u51fa\u529b\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u7d42\u4e86\u6642\u306fctrl-c\u3067\u629c\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3082\u3057\u304f\u306f\u3001\n```\ndd if=/dev/rfcomm1 of= ...\n```\n\u3082OK\u3067\u3059\u3002\n\n# Python (ver.2)\npython ver.2\u3067\u306f\u3001PyBluez\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n```\nsudo apt-get install python-bluez\n```\n\u3067\u5c0e\u5165\u3057\u307e\u3057\u3087\u3046\u3002\n\n```py\nimport bluetooth\n\nbd_addr = \"12:34:56:78:90:AB\"\nport = 1\n\nsock=bluetooth.BluetoothSocket(bluetooth.RFCOMM)\nsock.connect((bd_addr, port))\ndata=sock.recv(1024)\n\nsock.close()\nprint data\n```\n\n\u3053\u306e\u5834\u5408\u3001sock.recv()\u306e\u8fd4\u3059 data \u306f\u3001str\u578b\u3068\u306a\u308a\u307e\u3059\u3002\n\n# Python3\npython3\u3067\u306f\u3001\u6a19\u6e96\u306esocket\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n```py3\nimport socket\n\nbd_addr = \"12:34:56:78:90:AB\"\nport = 1\n\nsock = socket.socket(socket.AF_BLUETOOTH, socket.SOCK_STREAM, socket.BTPROTO_RFCOMM)\nsock.connect((bd_addr, port))\ndata = sock.recv(1024)\n\nsock.close()\n\ndataReadable = data.decode('utf-8')\nprint(dataReadable)\n```\n\u3053\u306e\u5834\u5408\u3001sock.recv()\u306e\u8fd4\u3059 data \u306f\u3001bytes\u578b\u3068\u306a\u308a\u307e\u3059\u3002\u3067\u3059\u306e\u3067\u3001decode()\u306b\u3066str\u3078\u5909\u63db\u3057\u307e\u3057\u3087\u3046\u3002\n", "tags": ["RaspberryPi", "bluetooth", "Garmin", "Python"]}