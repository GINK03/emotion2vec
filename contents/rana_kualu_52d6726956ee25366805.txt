{"tags": ["PHP", "Smarty", "twig"], "context": " More than 1 year has passed since last update.\u4f7f\u7528\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306fSmarty3.1.27\u3001twig1.20.0\u3002\n<?php\n    $data = [\n        'text'=>'<b>\u3042</b>',\n        'text2'=>\"abc\\n\\ndefg\",\n        'arr' =>[\n            ['href'=>'link1'],\n            'key'=>['href'=>'link2'],\n        ],\n        'int' => 1,\n        'hoge' => null,\n        'obj' => (object)['key'=>'value'],\n        'select' => range(date('Y'), date('Y')+10),\n    ];\n\n    // Twig\n    require_once('path/to/twig/Autoloader.php');\n    Twig_Autoloader::register();\n    $twig = new Twig_Environment(new Twig_Loader_Filesystem('./'), ['debug' => true]);\n    $twig->addExtension(new Twig_Extension_Debug());\n    echo $twig->render('twig_template.html', $data);\n\n    // Smarty\n    require_once('path/to/smarty/Smarty.class.php');\n    $smarty = new Smarty();\n    $smarty->assign($data);\n    $smarty->display('smarty_template.html');\n\n\ntwig_template.html\n{% extends 'twig_parent.html' %}\n{% block body %}\n    <h2>\u5024\u3092\u8868\u793a\u3059\u308b</h2>\n    {{ text }}\n    {{ text|raw }}\n    {{ obj.key }}\n\n    <h2>\u4fee\u6b63\u5b50</h2>\n    {{ text2|nl2br|upper|slice(0,10) }}\n    {{ date().format('Y-m-d H:i:s') }}\n\n    <h2>\u7e70\u308a\u8fd4\u3057</h2>\n    {% for k, v in arr %}\n        <a href=\"{{ v.href }}\">{{ k }}</a><br />\n        {% if loop.last %}\u30eb\u30fc\u30d7\u306e\u6700\u5f8c{% endif %}\n    {% endfor %}\n    {% for v in 1..10 %} {{ v }} {% endfor %} ..\u3067range\n\n    <h2>\u7d99\u627f</h2>\n    {% include 'twig_include.html' with {'var1':'val1'} %}\n\n    <h2>\u6761\u4ef6\u5206\u5c90</h2>\n    {% if int == true %} ===\u306f\u300cX is same as(Y)\u300d\u3068\u66f8\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002 {% endif %}\n    {{ 6 is divisible by(3) }} 3\u3067\u5272\u308a\u5207\u308c\u308b\u304b\u3002\n    {{ 5 is odd }} \u5947\u6570\u304b\u3002\n    {{ hoge is empty }} \u672a\u5b9a\u7fa9\u304b\u3002false\u306ftrue\u30010\u306ffalse\u306b\u306a\u308b\u306e\u3067PHP\u306eempty\u3068\u306f\u9055\u3046\u3088\u3046\u3060\u3002\n    {{ hoge is defined }} empty\u306e\u9006\u3067\u306f\u306a\u3044\u3002null\u3067\u3082\u4f55\u3067\u3082\u5b58\u5728\u3055\u3048\u3057\u3066\u3044\u308c\u3070true\u3002\n    {{ [] is iterable }} Traversable\u3082\u3057\u304f\u306f\u914d\u5217\u3002\n\n    <h2>\u5b9a\u7fa9\u6e08</h2>\n    {{ constant('PHP_VERSION') }}\n    \u30b9\u30fc\u30d1\u30fc\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u306f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\uff1f\n\n    <h2>\u30d5\u30a9\u30fc\u30e0</h2>\n    <input type=\"text\" name=\"name\" value=\"{{ text|e }}\"/>\n    <select name=\"year\">\n        {% for year in select %}\n            <option value=\"{{ year|e }}\">{{ year|e }}</option>\n        {% endfor %}\n    </select>\u5e74\n\n    <h2>\u95a2\u6570</h2>\n    {% macro func1(arg) %}{{ dump(arg) }} {% endmacro %}\n    {% import _self as dummy %}\n    {{ dummy.func1([1,2,3]) }}\n    dump\u3092\u4f7f\u3046\u306b\u306fTwig_Environment\u306bdebug=true\u3001Twig_Extension_Debug\u3092addExtension\u306e2\u624b\u9806\u304c\u5fc5\u8981\u3002\n    \u540c\u4e00\u30d5\u30a1\u30a4\u30eb\u5185\u306emacro\u3092\u4f7f\u3046\u306b\u306f_self\u3092import\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\n    <h2>\u69cb\u9020</h2>\n    {# \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 {{ {% {# #}\n    {% verbatim  %}\u69cb\u6587\u89e3\u6790\u3092\u30d1\u30b9 {{ {% {# {% endverbatim  %}\n\n{% endblock %}\n\n\n\ntwig_parent.html\n    <html>\n    <body>\n    {% block body %}\u30c6\u30f3\u30d7\u30ec\u7d99\u627f{% endblock %}\n    </body>\n    </html>\n\n\n\ntwig_include.html\n    \u30a4\u30f3\u30af\u30eb\u30fc\u30c9 {{ var1 }}\n\n\n\nsmarty_template.html\n{extends file='smarty_parent.html'}\n{block name=body}\n    <h2>\u5024\u3092\u8868\u793a\u3059\u308b</h2>\n    {$text|escape}\n    {$text}\n    {$obj->key}\n\n    <h2>\u4fee\u6b63\u5b50</h2>\n    {$text2|nl2br|upper|truncate:10:'':true}\n    {$smarty.now|date_format:'Y-m-d H:i:s' }\n\n    <h2>\u7e70\u308a\u8fd4\u3057</h2>\n    {foreach $arr as $v}\n        <a href=\"{$v.href|escape}\">{$v@key|escape}</a><br />\n        {if $v@last}\u30eb\u30fc\u30d7\u306e\u6700\u5f8c{/if}\n    {/foreach}\n\n    <h2>\u7d99\u627f</h2>\n    {include file='smarty_include.html'  var1='val1'}\n\n    <h2>\u6761\u4ef6\u5206\u5c90</h2>\n    {if $int == true } ===\u306f\u305d\u306e\u307e\u307e\u66f8\u3051\u308b\u3002 {/if}\n    {6 is div by 3} 3\u3067\u5272\u308a\u5207\u308c\u308b\u304b\u3002\n    {5 is not div by 2} \u5947\u6570\u304b\u3002\n    {$hoge|defined} \u5b9f\u306f\u5168\u3066\u306ePHP\u95a2\u6570\u3092\u4fee\u6b63\u5b50\u3068\u3057\u3066\u547c\u3079\u308b\u3002\n    {$hoge|default:false} empty\u306f\u8a00\u8a9e\u69cb\u9020\u306a\u306e\u3067\u4fee\u6b63\u5b50\u3068\u3057\u3066\u547c\u3079\u306a\u3044\u3002\n    {[]|is_a:'Traversable'} Traversable\u304b\u3002\n\n    <h2>\u5b9a\u7fa9\u6e08</h2>\n    {$smarty.const.PHP_VERSION}\n    {$smarty.session.hoge|escape|default:''}\n\n    <h2>\u30d5\u30a9\u30fc\u30e0</h2>\n    <input type=\"text\" name=\"name\" value=\"{$text|escape}\"/>\n    <select name=\"year\">\n        {html_options options=$select }\n    </select>\u5e74\n\n    <h2>\u95a2\u6570</h2>\n    {function name=func1} {$arg|var_dump} {/function}\n    {call name=func1 arg=[1]}\n\n    <h2>\u69cb\u9020</h2>\n    {* \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 { {* *}\n    {literal}\u69cb\u6587\u89e3\u6790\u3092\u30d1\u30b9 { {* {/literal}\n\n{/block}\n\n\n\nsmarty_parent.html\n    <html>\n    <body>\n    {block name=body}\u30c6\u30f3\u30d7\u30ec\u7d99\u627f{/block}\n    </body>\n    </html>\n\n\n\nsmarty_include.html\n    \u30a4\u30f3\u30af\u30eb\u30fc\u30c9 {$var1|escape}\n\n\n\u7121\u8a2d\u5b9a\u6642\u306e\u521d\u671f\u5024\u306fSmarty\u304c\u30a8\u30b9\u30b1\u30fc\u30d7\u7121\u3057\u3001Twig\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u6709\u308a\u3067\u3059\u304c\u3001\n\u305d\u306e\u3042\u305f\u308a\u306f\u8a2d\u5b9a\u3067\u5909\u3048\u3089\u308c\u308b\u306e\u3067\u7279\u306b\u512a\u52a3\u306b\u306f\u95a2\u4fc2\u3057\u306a\u3044\u3067\u3057\u3087\u3046\u3002\n\u30de\u30cb\u30e5\u30a2\u30eb\u306f\u5727\u5012\u7684\u306bSmarty\u306e\u52dd\u5229\u3002\n\u306a\u306b\u305b\u65e5\u672c\u8a9e\u304c\u3042\u308b\u304b\u3089\u306d\u3002\n\u3069\u3063\u3061\u304c\u3044\u3044\u304b\uff1f\u3069\u3063\u3061\u3092\u9078\u3076\u3079\u304d\u304b\uff1f\n\u3069\u3063\u3061\u3067\u3082\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3067\u3084\u308a\u305f\u3044\u3088\u3046\u306a\u3053\u3068\u306f\u3001\u3069\u3061\u3089\u3092\u4f7f\u3063\u3066\u3082\u3060\u3044\u305f\u3044\u3067\u304d\u308b\u306e\u3067\u3001\u597d\u304d\u306a\u65b9\u3092\u9078\u3079\u3070\u3044\u3044\u3068\u601d\u3046\u3088\u3002\n\u79c1\u3068\u3057\u3066\u306f\u3001Twig\u3092\u4f7f\u3044\u6163\u308c\u3066\u306a\u3044\u304b\u3089\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u304c\u3001Smarty\u306e\u307b\u3046\u304c\u697d\u3068\u3044\u3046\u611f\u60f3\u3067\u3059\u3002\n\u4eca\u6642define\u3068\u304brequire_once\u5c71\u76db\u308a\u3067\u30bd\u30fc\u30b9\u306f\u53e4\u81ed\u3044\u3057\u3001\u4fee\u6b63\u5b50\u306ffunction\u3079\u305f\u66f8\u304d\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u6c5a\u67d3\u3059\u308b\u3057\u3068\u6b8b\u5ff5\u306a\u611f\u3058\u3060\u3051\u3069\u3001\u4f7f\u3046\u3076\u3093\u306b\u306f\u3042\u3093\u307e\u308a\u95a2\u4fc2\u306a\u3044\u3057\u306d\u3002\n\u3048\uff1f\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u9045\u3044\uff1f\n\u305d\u3093\u306a\u30b7\u30d3\u30a2\u306a\u30b5\u30a4\u30c8\u306bPHP\u306a\u3093\u3066\u4f7f\u3063\u3066\u308b\u3093\u3058\u3083\u306a\u3044\u3002\n\u4f7f\u7528\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306fSmarty3.1.27\u3001twig1.20.0\u3002\n\n```php\n<?php\n\t$data = [\n\t\t'text'=>'<b>\u3042</b>',\n\t\t'text2'=>\"abc\\n\\ndefg\",\n\t\t'arr' =>[\n\t\t\t['href'=>'link1'],\n\t\t\t'key'=>['href'=>'link2'],\n\t\t],\n\t\t'int' => 1,\n\t\t'hoge' => null,\n\t\t'obj' => (object)['key'=>'value'],\n\t\t'select' => range(date('Y'), date('Y')+10),\n\t];\n\t\n\t// Twig\n\trequire_once('path/to/twig/Autoloader.php');\n\tTwig_Autoloader::register();\n\t$twig = new Twig_Environment(new Twig_Loader_Filesystem('./'), ['debug' => true]);\n\t$twig->addExtension(new Twig_Extension_Debug());\n\techo $twig->render('twig_template.html', $data);\n\n\t// Smarty\n\trequire_once('path/to/smarty/Smarty.class.php');\n\t$smarty = new Smarty();\n\t$smarty->assign($data);\n\t$smarty->display('smarty_template.html');\n```\n\n```php:twig_template.html\n{% extends 'twig_parent.html' %}\n{% block body %}\n\t<h2>\u5024\u3092\u8868\u793a\u3059\u308b</h2>\n\t{{ text }}\n\t{{ text|raw }}\n\t{{ obj.key }}\n\t\n\t<h2>\u4fee\u6b63\u5b50</h2>\n\t{{ text2|nl2br|upper|slice(0,10) }}\n\t{{ date().format('Y-m-d H:i:s') }}\n\n\t<h2>\u7e70\u308a\u8fd4\u3057</h2>\n\t{% for k, v in arr %}\n\t    <a href=\"{{ v.href }}\">{{ k }}</a><br />\n\t    {% if loop.last %}\u30eb\u30fc\u30d7\u306e\u6700\u5f8c{% endif %}\n\t{% endfor %}\n\t{% for v in 1..10 %} {{ v }} {% endfor %} ..\u3067range\n\t\n\t<h2>\u7d99\u627f</h2>\n\t{% include 'twig_include.html' with {'var1':'val1'} %}\n\t\n\t<h2>\u6761\u4ef6\u5206\u5c90</h2>\n\t{% if int == true %} ===\u306f\u300cX is same as(Y)\u300d\u3068\u66f8\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002 {% endif %}\n\t{{ 6 is divisible by(3) }} 3\u3067\u5272\u308a\u5207\u308c\u308b\u304b\u3002\n\t{{ 5 is odd }} \u5947\u6570\u304b\u3002\n\t{{ hoge is empty }} \u672a\u5b9a\u7fa9\u304b\u3002false\u306ftrue\u30010\u306ffalse\u306b\u306a\u308b\u306e\u3067PHP\u306eempty\u3068\u306f\u9055\u3046\u3088\u3046\u3060\u3002\n\t{{ hoge is defined }} empty\u306e\u9006\u3067\u306f\u306a\u3044\u3002null\u3067\u3082\u4f55\u3067\u3082\u5b58\u5728\u3055\u3048\u3057\u3066\u3044\u308c\u3070true\u3002\n\t{{ [] is iterable }} Traversable\u3082\u3057\u304f\u306f\u914d\u5217\u3002\n\t\n\t<h2>\u5b9a\u7fa9\u6e08</h2>\n\t{{ constant('PHP_VERSION') }}\n\t\u30b9\u30fc\u30d1\u30fc\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u306f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\uff1f\n\t\n\t<h2>\u30d5\u30a9\u30fc\u30e0</h2>\n\t<input type=\"text\" name=\"name\" value=\"{{ text|e }}\"/>\n\t<select name=\"year\">\n\t\t{% for year in select %}\n\t\t\t<option value=\"{{ year|e }}\">{{ year|e }}</option>\n\t\t{% endfor %}\n\t</select>\u5e74\n\t\n\t<h2>\u95a2\u6570</h2>\n\t{% macro func1(arg) %}{{ dump(arg) }} {% endmacro %}\n\t{% import _self as dummy %}\n\t{{ dummy.func1([1,2,3]) }}\n\tdump\u3092\u4f7f\u3046\u306b\u306fTwig_Environment\u306bdebug=true\u3001Twig_Extension_Debug\u3092addExtension\u306e2\u624b\u9806\u304c\u5fc5\u8981\u3002\n\t\u540c\u4e00\u30d5\u30a1\u30a4\u30eb\u5185\u306emacro\u3092\u4f7f\u3046\u306b\u306f_self\u3092import\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\t\n\t<h2>\u69cb\u9020</h2>\n\t{# \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 {{ {% {# #}\n\t{% verbatim  %}\u69cb\u6587\u89e3\u6790\u3092\u30d1\u30b9 {{ {% {# {% endverbatim  %}\n\t\n{% endblock %}\n```\n\n```php:twig_parent.html\n\t<html>\n\t<body>\n\t{% block body %}\u30c6\u30f3\u30d7\u30ec\u7d99\u627f{% endblock %}\n\t</body>\n\t</html>\n```\n\n```php:twig_include.html\n\t\u30a4\u30f3\u30af\u30eb\u30fc\u30c9 {{ var1 }}\n```\n\n```php:smarty_template.html\n{extends file='smarty_parent.html'}\n{block name=body}\n\t<h2>\u5024\u3092\u8868\u793a\u3059\u308b</h2>\n\t{$text|escape}\n\t{$text}\n\t{$obj->key}\n\t\n\t<h2>\u4fee\u6b63\u5b50</h2>\n\t{$text2|nl2br|upper|truncate:10:'':true}\n\t{$smarty.now|date_format:'Y-m-d H:i:s' }\n\n\t<h2>\u7e70\u308a\u8fd4\u3057</h2>\n\t{foreach $arr as $v}\n\t    <a href=\"{$v.href|escape}\">{$v@key|escape}</a><br />\n\t    {if $v@last}\u30eb\u30fc\u30d7\u306e\u6700\u5f8c{/if}\n\t{/foreach}\n\t\n\t<h2>\u7d99\u627f</h2>\n\t{include file='smarty_include.html'  var1='val1'}\n\t\n\t<h2>\u6761\u4ef6\u5206\u5c90</h2>\n\t{if $int == true } ===\u306f\u305d\u306e\u307e\u307e\u66f8\u3051\u308b\u3002 {/if}\n\t{6 is div by 3} 3\u3067\u5272\u308a\u5207\u308c\u308b\u304b\u3002\n\t{5 is not div by 2} \u5947\u6570\u304b\u3002\n\t{$hoge|defined} \u5b9f\u306f\u5168\u3066\u306ePHP\u95a2\u6570\u3092\u4fee\u6b63\u5b50\u3068\u3057\u3066\u547c\u3079\u308b\u3002\n\t{$hoge|default:false} empty\u306f\u8a00\u8a9e\u69cb\u9020\u306a\u306e\u3067\u4fee\u6b63\u5b50\u3068\u3057\u3066\u547c\u3079\u306a\u3044\u3002\n\t{[]|is_a:'Traversable'} Traversable\u304b\u3002\n\n\t<h2>\u5b9a\u7fa9\u6e08</h2>\n\t{$smarty.const.PHP_VERSION}\n\t{$smarty.session.hoge|escape|default:''}\n\t\n\t<h2>\u30d5\u30a9\u30fc\u30e0</h2>\n\t<input type=\"text\" name=\"name\" value=\"{$text|escape}\"/>\n\t<select name=\"year\">\n\t\t{html_options options=$select }\n\t</select>\u5e74\n\t\n\t<h2>\u95a2\u6570</h2>\n\t{function name=func1} {$arg|var_dump} {/function}\n\t{call name=func1 arg=[1]}\n\t\n\t<h2>\u69cb\u9020</h2>\n\t{* \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 { {* *}\n\t{literal}\u69cb\u6587\u89e3\u6790\u3092\u30d1\u30b9 { {* {/literal}\n\t\n{/block}\n```\n\n```php:smarty_parent.html\n\t<html>\n\t<body>\n\t{block name=body}\u30c6\u30f3\u30d7\u30ec\u7d99\u627f{/block}\n\t</body>\n\t</html>\n```\n\n```php:smarty_include.html\n\t\u30a4\u30f3\u30af\u30eb\u30fc\u30c9 {$var1|escape}\n```\n\n\u7121\u8a2d\u5b9a\u6642\u306e\u521d\u671f\u5024\u306fSmarty\u304c\u30a8\u30b9\u30b1\u30fc\u30d7\u7121\u3057\u3001Twig\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u6709\u308a\u3067\u3059\u304c\u3001\n\u305d\u306e\u3042\u305f\u308a\u306f\u8a2d\u5b9a\u3067\u5909\u3048\u3089\u308c\u308b\u306e\u3067\u7279\u306b\u512a\u52a3\u306b\u306f\u95a2\u4fc2\u3057\u306a\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u30de\u30cb\u30e5\u30a2\u30eb\u306f\u5727\u5012\u7684\u306bSmarty\u306e\u52dd\u5229\u3002\n\u306a\u306b\u305b\u65e5\u672c\u8a9e\u304c\u3042\u308b\u304b\u3089\u306d\u3002\n\n\u3069\u3063\u3061\u304c\u3044\u3044\u304b\uff1f\u3069\u3063\u3061\u3092\u9078\u3076\u3079\u304d\u304b\uff1f\n\u3069\u3063\u3061\u3067\u3082\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3067\u3084\u308a\u305f\u3044\u3088\u3046\u306a\u3053\u3068\u306f\u3001\u3069\u3061\u3089\u3092\u4f7f\u3063\u3066\u3082\u3060\u3044\u305f\u3044\u3067\u304d\u308b\u306e\u3067\u3001\u597d\u304d\u306a\u65b9\u3092\u9078\u3079\u3070\u3044\u3044\u3068\u601d\u3046\u3088\u3002\n\u79c1\u3068\u3057\u3066\u306f\u3001Twig\u3092\u4f7f\u3044\u6163\u308c\u3066\u306a\u3044\u304b\u3089\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u304c\u3001Smarty\u306e\u307b\u3046\u304c\u697d\u3068\u3044\u3046\u611f\u60f3\u3067\u3059\u3002\n\u4eca\u6642define\u3068\u304brequire_once\u5c71\u76db\u308a\u3067\u30bd\u30fc\u30b9\u306f\u53e4\u81ed\u3044\u3057\u3001\u4fee\u6b63\u5b50\u306ffunction\u3079\u305f\u66f8\u304d\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u6c5a\u67d3\u3059\u308b\u3057\u3068\u6b8b\u5ff5\u306a\u611f\u3058\u3060\u3051\u3069\u3001\u4f7f\u3046\u3076\u3093\u306b\u306f\u3042\u3093\u307e\u308a\u95a2\u4fc2\u306a\u3044\u3057\u306d\u3002\n\n\u3048\uff1f\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u9045\u3044\uff1f\n\u305d\u3093\u306a\u30b7\u30d3\u30a2\u306a\u30b5\u30a4\u30c8\u306bPHP\u306a\u3093\u3066\u4f7f\u3063\u3066\u308b\u3093\u3058\u3083\u306a\u3044\u3002\n"}