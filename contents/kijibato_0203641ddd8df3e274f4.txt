{"tags": ["Puppet", "devops"], "context": "\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u5909\u66f4\u3092\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u884c\u3046\u3068\u304d\u3001\u30c4\u30fc\u30eb\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u308b\u3068\uff08\u8ab0\u304b\u304c\u30a8\u30c7\u30a3\u30bf\u30fc\u3067\u76f4\u63a5\u5909\u66f4\u306a\u3069\uff09\u3001\u7d50\u69cb\u5927\u5909\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u304c\u30c7\u30b0\u308b\u306e\u304c\u6016\u3044\u306e\u3067\u3001\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u304c\u610f\u5916\u3068\u91cd\u8981\u3067\u3059\u3002\nPuppet4.6.0\u304b\u3089\u3001\u524d\u56dePuppet\u3067\u5909\u66f4\u3057\u3066\u304b\u3089\u4eca\u56dePuppet\u3092\u5b9f\u884c\u3057\u305f\u9593\u306b\u3001Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u78ba\u8a8d\u3067\u304d\u308b\u5834\u6240\n\u5b9f\u884c\u6642\u30ed\u30b0\u3067\u306f\u306a\u304f\u3001reports\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001/opt/puppetlabs/puppet/cache/reports/\u30b5\u30fc\u30d0\u30fc\u540d/\u306e\u4e0b\u306b\u30ec\u30dd\u30fc\u30c8\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002Puppet\u5b9f\u884c\u3054\u3068\u306b\u30ec\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u76f4\u8fd1\u306e\u7d50\u679c\u306f\u4e00\u756a\u65b0\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u306a\u304a\u3001\u30ec\u30dd\u30fc\u30c8\u3092\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u308b\u8a2d\u5b9a\u306b\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u30fc\u306b\u3082\u30ec\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\n[root@6bce16e83e4b /]# ls -lR /opt/puppetlabs/puppet/cache/reports/\n/opt/puppetlabs/puppet/cache/reports/:\ntotal 4\ndrwxr-x--- 2 root root 4096 Aug 26 04:51 6bce16e83e4b\n\n/opt/puppetlabs/puppet/cache/reports/6bce16e83e4b:\ntotal 192\n-rw-r----- 1 root root 7575 Aug 26 02:58 201608260258.yaml\n-rw-r----- 1 root root 6145 Aug 26 02:59 201608260259.yaml\n-rw-r----- 1 root root 7329 Aug 26 03:00 201608260300.yaml\n...\n\n\u8ab0\u304b\u304c\u5909\u66f4\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30ec\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306ecorrective_change\u304ctrue\u306b\u306a\u308a\u307e\u3059\u3002\nPuppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001corrective_change\u304cfalse\u3067\u3059\u3002\ncorrective_change: true\n\n\n\u8ab0\u304b\u304c\u5909\u66f4\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u30ec\u30dd\u30fc\u30c8\u7d50\u679c\u4f8b\n\u4f8b\u3068\u3057\u3066\u3001Puppet\u3067\u8a2d\u5b9a\u7ba1\u7406\u3057\u3066\u3044\u308b/tmp/hello_puppet.txt\u3092\u3001\u76f4\u63a5\u30a8\u30c7\u30a3\u30bf\u30fc\u3067\u5909\u66f4\u3057\u305f\u5f8c\u306b\u3001Puppet\u306e\u5b9f\u884c\u3057\u305f\u3068\u304d\u306e\u30ec\u30dd\u30fc\u30c8\u7d50\u679c\u3067\u3059\u3002Puppet\u5b9f\u884c\u3054\u3068\u306b\u30ec\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u308b\u305f\u3081\u3001/opt/puppetlabs/puppet/cache/reports/\u306b\u3042\u308b\u4e00\u756a\u65b0\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u3092cat\u3057\u3066\u3044\u307e\u3059\u3002\n\uff08\u30ec\u30dd\u30fc\u30c8\u304c\u9577\u3044\u306e\u3067\u629c\u7c8b\u3067\u3059\u3002#\u53f3\u5074\u306f\u8aac\u660e\u7528\u306b\u8ffd\u8a18\u3057\u305f\u6587\u3067\u3059\u3002\uff09\n[root@6bce16e83e4b /]# find /opt/puppetlabs/puppet/cache/reports/ -type f | xargs ls -l --time-style=long-iso | sort -k 6,7 | tail -1 | cut -d ' ' -f 8-8 | xargs cat\n--- !ruby/object:Puppet::Transaction::Report\nmetrics:\n  resources: !ruby/object:Puppet::Util::Metric\n    name: resources\n    label: Resources\n    values:\n    - - total\n      - Total\n      - 8\n    - - skipped\n      - Skipped\n      - 0\n    - - failed\n      - Failed\n      - 0\n    - - failed_to_restart\n      - Failed to restart\n      - 0\n    - - restarted\n      - Restarted\n      - 0\n    - - changed\n      - Changed\n      - 0\n    - - out_of_sync\n      - Out of sync\n      - 1\n    - - scheduled\n      - Scheduled\n      - 0\n    - - corrective_change\n      - Corrective change\n      - 1 # Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\u306e\u6570\n# \u4e2d\u7565\nresource_statuses:\n  File[/tmp/hello_puppet.txt]: !ruby/object:Puppet::Resource::Status\n    title: \"/tmp/hello_puppet.txt\"\n    file: \"/file.pp\"\n    line: 1\n    resource: File[/tmp/hello_puppet.txt]\n    resource_type: File\n    containment_path:\n    - Stage[main]\n    - Main\n    - File[/tmp/hello_puppet.txt]\n    evaluation_time: 0.016081488\n    tags:\n    - file\n    - class\n    time: '2016-08-26T04:47:03.011544781+00:00'\n    failed: false\n    changed: false\n    out_of_sync: true\n    skipped: false\n    change_count: 0\n    out_of_sync_count: 1\n    events:\n    - !ruby/object:Puppet::Transaction::Event\n      audited: false\n      property: content\n      previous_value: \"{md5}a630ec71439b539ba2754031dd61f4bd\"\n      desired_value: \"{md5}4cdb039380c678cac7863cebc1606bea\"\n      historical_value:\n      message: current_value {md5}a630ec71439b539ba2754031dd61f4bd, should be {md5}4cdb039380c678cac7863cebc1606bea\n        (noop)\n      name: :content_changed\n      status: noop\n      time: 2016-08-26 04:47:03.018419317 +00:00\n      redacted:\n      corrective_change: true\n    corrective_change: true # /tmp/hello_puppet.txt\u304cPuppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\n# \u4e2d\u7565\n# \u30ec\u30dd\u30fc\u30c8\u306e\u4e00\u756a\u6700\u5f8c\ncorrective_change: true # Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\u304c\u3042\u308b\n\n\u5909\u66f4\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u3001grep\u3057\u305f\u65b9\u304c\u3088\u3044\u304b\u3082\u3067\u3059\u3002(\u30ec\u30dd\u30fc\u30c8\u306e\u8868\u793a\u9806\u306f\u3001Puppet\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u5909\u308f\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002)\n[root@6bce16e83e4b /]# find /opt/puppetlabs/puppet/cache/reports/ -type f | xargs ls -l --time-style=long-iso | sort -k 6,7 | tail -1 | cut -d ' ' -f 8-8 | xargs grep -e 'corrective_change: true' -e 'resource:'\n    resource: File[/tmp/hello_puppet.txt]\n      corrective_change: true # \u3053\u306e\u884c\u306e\u3059\u3050\u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u304c\u624b\u3067\u5909\u66f4\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\n    corrective_change: true\n    resource: Schedule[puppet]\n    resource: Schedule[hourly]\n    resource: Schedule[daily]\n    resource: Schedule[weekly]\n    resource: Schedule[monthly]\n    resource: Schedule[never]\n    resource: Filebucket[puppet]\ncorrective_change: true\n\n\u3053\u3046\u3044\u3046\u5834\u5408\u3001\u524d\u56dePuppet\u5b9f\u884c\u6642\u304b\u3089\u4eca\u56de\u5b9f\u884c\u3057\u305f\u9593\u306b\u3001Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u5dee\u5206\u3092\u5165\u5ff5\u306b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nPuppet\u3067\u3057\u304b\u5909\u66f4\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306e\u30ec\u30dd\u30fc\u30c8\u7d50\u679c\u4f8b\n\u53c2\u8003\u307e\u3067\u306b\u3001Puppet\u306e\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u3092\u66f4\u65b0\u3057\u305f\u5834\u5408\u306b\u3001\u5dee\u5206\u304c\u767a\u751f\u3059\u308b\u5834\u5408\u306e\u30ec\u30dd\u30fc\u30c8\u7d50\u679c\u3067\u3059\u3002corrective_change\u304cfalse\u306a\u306e\u3067\u3001Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n[root@6bce16e83e4b /]# find /opt/puppetlabs/puppet/cache/reports/ -type f | xargs ls -l --time-style=long-iso | sort -k 6,7 | tail -1 | cut -d ' ' -f 8-8 | xargs cat\n--- !ruby/object:Puppet::Transaction::Report\nmetrics:\n  resources: !ruby/object:Puppet::Util::Metric\n    name: resources\n    label: Resources\n    values:\n    - - total\n      - Total\n      - 8\n    - - skipped\n      - Skipped\n      - 0\n    - - failed\n      - Failed\n      - 0\n    - - failed_to_restart\n      - Failed to restart\n      - 0\n    - - restarted\n      - Restarted\n      - 0\n    - - changed\n      - Changed\n      - 1\n    - - out_of_sync\n      - Out of sync\n      - 1\n    - - scheduled\n      - Scheduled\n      - 0\n    - - corrective_change\n      - Corrective change\n      - 0\n# \u4e2d\u7565\nresource_statuses:\n  File[/tmp/hello_puppet.txt]: !ruby/object:Puppet::Resource::Status\n    title: \"/tmp/hello_puppet.txt\"\n    file: \"/file.pp\"\n    line: 1\n    resource: File[/tmp/hello_puppet.txt]\n    resource_type: File\n    containment_path:\n    - Stage[main]\n    - Main\n    - File[/tmp/hello_puppet.txt]\n    evaluation_time: 0.048850239\n    tags:\n    - file\n    - class\n    time: '2016-08-26T04:51:17.097576288+00:00'\n    failed: false\n    changed: true\n    out_of_sync: true\n    skipped: false\n    change_count: 1\n    out_of_sync_count: 1\n    events:\n    - !ruby/object:Puppet::Transaction::Event\n      audited: false\n      property: content\n      previous_value: \"{md5}4cdb039380c678cac7863cebc1606bea\"\n      desired_value: \"{md5}8e03c9189653240eb4b5f9ba187e12c9\"\n      historical_value:\n      message: content changed '{md5}4cdb039380c678cac7863cebc1606bea' to '{md5}8e03c9189653240eb4b5f9ba187e12c9'\n      name: :content_changed\n      status: success\n      time: 2016-08-26 04:51:17.106767383 +00:00\n      redacted:\n      corrective_change: false\n    corrective_change: false\n# \u4e2d\u7565\ncorrective_change: false\n\n[root@6bce16e83e4b /]# find /opt/puppetlabs/puppet/cache/reports/ -type f | xargs ls -l --time-style=long-iso | sort -k 6,7 | tail -1 | cut -d ' ' -f 8-8 | xargs grep -e 'corrective_change: true' -e 'resource:'\n    resource: File[/tmp/hello_puppet.txt]\n    resource: Schedule[puppet]\n    resource: Schedule[hourly]\n    resource: Schedule[daily]\n    resource: Schedule[weekly]\n    resource: Schedule[monthly]\n    resource: Schedule[never]\n    resource: Filebucket[puppet]\n\n\n\u8a66\u3057\u305f\u611f\u60f3\n\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u7248\u3060\u3068\u3001\u30ec\u30dd\u30fc\u30c8\u3092\u898b\u308b\u306e\u306b\u3061\u3087\u3063\u3068\u30b3\u30c4\u304c\u3044\u308a\u307e\u3059\u304c\u3001\u4eca\u307e\u3067\u306e\u5dee\u5206\u3092\u3072\u305f\u3059\u3089\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3088\u308a\u306f\u697d\u306b\u306a\u3063\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002Puppet Enterprise\u306e\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb\u3068\u304b\u3067\u3042\u308c\u3070\u3082\u3046\u5c11\u3057\u307f\u3084\u3059\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\u304c\u3001\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u7248\u3060\u3068\u30ec\u30dd\u30fc\u30c8\u78ba\u8a8d\u304c\u3061\u3087\u3063\u3068\u5927\u5909\u3067\u3059\u3002\u3067\u304d\u308c\u3070\u3001\u5b9f\u884c\u6642\u30ed\u30b0\u306e\u65b9\u306b\u3082\u3001\u8868\u793a\u3055\u308c\u308b\u3068\u3046\u308c\u3057\u3044\u306e\u3067\u3059\u304c\u3002\u3002\u3002\n\n\u8a66\u3057\u305f\u74b0\u5883\n\nCentOS Linux release 7.2.1511 (Core)\nPuppet 4.6.1\n\n\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u5909\u66f4\u3092\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u884c\u3046\u3068\u304d\u3001\u30c4\u30fc\u30eb\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u308b\u3068\uff08\u8ab0\u304b\u304c\u30a8\u30c7\u30a3\u30bf\u30fc\u3067\u76f4\u63a5\u5909\u66f4\u306a\u3069\uff09\u3001\u7d50\u69cb\u5927\u5909\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002**\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u304c\u30c7\u30b0\u308b\u306e\u304c\u6016\u3044\u306e\u3067\u3001\u69cb\u6210\u7ba1\u7406\u30c4\u30fc\u30eb\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u304c\u610f\u5916\u3068\u91cd\u8981\u3067\u3059**\u3002\n\nPuppet4.6.0\u304b\u3089\u3001\u524d\u56dePuppet\u3067\u5909\u66f4\u3057\u3066\u304b\u3089\u4eca\u56dePuppet\u3092\u5b9f\u884c\u3057\u305f\u9593\u306b\u3001Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n# \u78ba\u8a8d\u3067\u304d\u308b\u5834\u6240\n\n\u5b9f\u884c\u6642\u30ed\u30b0\u3067\u306f\u306a\u304f\u3001reports\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001/opt/puppetlabs/puppet/cache/reports/\u30b5\u30fc\u30d0\u30fc\u540d/\u306e\u4e0b\u306b\u30ec\u30dd\u30fc\u30c8\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002**Puppet\u5b9f\u884c\u3054\u3068\u306b\u30ec\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u76f4\u8fd1\u306e\u7d50\u679c\u306f\u4e00\u756a\u65b0\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002**\u306a\u304a\u3001\u30ec\u30dd\u30fc\u30c8\u3092\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u308b\u8a2d\u5b9a\u306b\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u30fc\u306b\u3082\u30ec\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\n\n```\n[root@6bce16e83e4b /]# ls -lR /opt/puppetlabs/puppet/cache/reports/\n/opt/puppetlabs/puppet/cache/reports/:\ntotal 4\ndrwxr-x--- 2 root root 4096 Aug 26 04:51 6bce16e83e4b\n\n/opt/puppetlabs/puppet/cache/reports/6bce16e83e4b:\ntotal 192\n-rw-r----- 1 root root 7575 Aug 26 02:58 201608260258.yaml\n-rw-r----- 1 root root 6145 Aug 26 02:59 201608260259.yaml\n-rw-r----- 1 root root 7329 Aug 26 03:00 201608260300.yaml\n...\n```\n\n\u8ab0\u304b\u304c\u5909\u66f4\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30ec\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306ecorrective_change\u304ctrue\u306b\u306a\u308a\u307e\u3059\u3002\nPuppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001corrective_change\u304cfalse\u3067\u3059\u3002\n\n```\ncorrective_change: true\n```\n\n# \u8ab0\u304b\u304c\u5909\u66f4\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u30ec\u30dd\u30fc\u30c8\u7d50\u679c\u4f8b\n\n\u4f8b\u3068\u3057\u3066\u3001Puppet\u3067\u8a2d\u5b9a\u7ba1\u7406\u3057\u3066\u3044\u308b/tmp/hello_puppet.txt\u3092\u3001\u76f4\u63a5\u30a8\u30c7\u30a3\u30bf\u30fc\u3067\u5909\u66f4\u3057\u305f\u5f8c\u306b\u3001Puppet\u306e\u5b9f\u884c\u3057\u305f\u3068\u304d\u306e\u30ec\u30dd\u30fc\u30c8\u7d50\u679c\u3067\u3059\u3002Puppet\u5b9f\u884c\u3054\u3068\u306b\u30ec\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u308b\u305f\u3081\u3001/opt/puppetlabs/puppet/cache/reports/\u306b\u3042\u308b\u4e00\u756a\u65b0\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u3092cat\u3057\u3066\u3044\u307e\u3059\u3002\n\uff08\u30ec\u30dd\u30fc\u30c8\u304c\u9577\u3044\u306e\u3067\u629c\u7c8b\u3067\u3059\u3002#\u53f3\u5074\u306f\u8aac\u660e\u7528\u306b\u8ffd\u8a18\u3057\u305f\u6587\u3067\u3059\u3002\uff09\n\n```\n[root@6bce16e83e4b /]# find /opt/puppetlabs/puppet/cache/reports/ -type f | xargs ls -l --time-style=long-iso | sort -k 6,7 | tail -1 | cut -d ' ' -f 8-8 | xargs cat\n--- !ruby/object:Puppet::Transaction::Report\nmetrics:\n  resources: !ruby/object:Puppet::Util::Metric\n    name: resources\n    label: Resources\n    values:\n    - - total\n      - Total\n      - 8\n    - - skipped\n      - Skipped\n      - 0\n    - - failed\n      - Failed\n      - 0\n    - - failed_to_restart\n      - Failed to restart\n      - 0\n    - - restarted\n      - Restarted\n      - 0\n    - - changed\n      - Changed\n      - 0\n    - - out_of_sync\n      - Out of sync\n      - 1\n    - - scheduled\n      - Scheduled\n      - 0\n    - - corrective_change\n      - Corrective change\n      - 1 # Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\u306e\u6570\n# \u4e2d\u7565\nresource_statuses:\n  File[/tmp/hello_puppet.txt]: !ruby/object:Puppet::Resource::Status\n    title: \"/tmp/hello_puppet.txt\"\n    file: \"/file.pp\"\n    line: 1\n    resource: File[/tmp/hello_puppet.txt]\n    resource_type: File\n    containment_path:\n    - Stage[main]\n    - Main\n    - File[/tmp/hello_puppet.txt]\n    evaluation_time: 0.016081488\n    tags:\n    - file\n    - class\n    time: '2016-08-26T04:47:03.011544781+00:00'\n    failed: false\n    changed: false\n    out_of_sync: true\n    skipped: false\n    change_count: 0\n    out_of_sync_count: 1\n    events:\n    - !ruby/object:Puppet::Transaction::Event\n      audited: false\n      property: content\n      previous_value: \"{md5}a630ec71439b539ba2754031dd61f4bd\"\n      desired_value: \"{md5}4cdb039380c678cac7863cebc1606bea\"\n      historical_value:\n      message: current_value {md5}a630ec71439b539ba2754031dd61f4bd, should be {md5}4cdb039380c678cac7863cebc1606bea\n        (noop)\n      name: :content_changed\n      status: noop\n      time: 2016-08-26 04:47:03.018419317 +00:00\n      redacted:\n      corrective_change: true\n    corrective_change: true # /tmp/hello_puppet.txt\u304cPuppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\n# \u4e2d\u7565\n# \u30ec\u30dd\u30fc\u30c8\u306e\u4e00\u756a\u6700\u5f8c\ncorrective_change: true # Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\u304c\u3042\u308b\n```\n\n\u5909\u66f4\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u3001grep\u3057\u305f\u65b9\u304c\u3088\u3044\u304b\u3082\u3067\u3059\u3002(\u30ec\u30dd\u30fc\u30c8\u306e\u8868\u793a\u9806\u306f\u3001Puppet\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u5909\u308f\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002)\n\n```\n[root@6bce16e83e4b /]# find /opt/puppetlabs/puppet/cache/reports/ -type f | xargs ls -l --time-style=long-iso | sort -k 6,7 | tail -1 | cut -d ' ' -f 8-8 | xargs grep -e 'corrective_change: true' -e 'resource:'\n    resource: File[/tmp/hello_puppet.txt]\n      corrective_change: true # \u3053\u306e\u884c\u306e\u3059\u3050\u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u304c\u624b\u3067\u5909\u66f4\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\n    corrective_change: true\n    resource: Schedule[puppet]\n    resource: Schedule[hourly]\n    resource: Schedule[daily]\n    resource: Schedule[weekly]\n    resource: Schedule[monthly]\n    resource: Schedule[never]\n    resource: Filebucket[puppet]\ncorrective_change: true\n```\n\n\u3053\u3046\u3044\u3046\u5834\u5408\u3001\u524d\u56dePuppet\u5b9f\u884c\u6642\u304b\u3089\u4eca\u56de\u5b9f\u884c\u3057\u305f\u9593\u306b\u3001**Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u5dee\u5206\u3092\u5165\u5ff5\u306b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059**\u3002\n\n# Puppet\u3067\u3057\u304b\u5909\u66f4\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306e\u30ec\u30dd\u30fc\u30c8\u7d50\u679c\u4f8b\n\n\u53c2\u8003\u307e\u3067\u306b\u3001Puppet\u306e\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u3092\u66f4\u65b0\u3057\u305f\u5834\u5408\u306b\u3001\u5dee\u5206\u304c\u767a\u751f\u3059\u308b\u5834\u5408\u306e\u30ec\u30dd\u30fc\u30c8\u7d50\u679c\u3067\u3059\u3002corrective_change\u304cfalse\u306a\u306e\u3067\u3001Puppet\u4ee5\u5916\u3067\u5909\u66f4\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n```\n[root@6bce16e83e4b /]# find /opt/puppetlabs/puppet/cache/reports/ -type f | xargs ls -l --time-style=long-iso | sort -k 6,7 | tail -1 | cut -d ' ' -f 8-8 | xargs cat\n--- !ruby/object:Puppet::Transaction::Report\nmetrics:\n  resources: !ruby/object:Puppet::Util::Metric\n    name: resources\n    label: Resources\n    values:\n    - - total\n      - Total\n      - 8\n    - - skipped\n      - Skipped\n      - 0\n    - - failed\n      - Failed\n      - 0\n    - - failed_to_restart\n      - Failed to restart\n      - 0\n    - - restarted\n      - Restarted\n      - 0\n    - - changed\n      - Changed\n      - 1\n    - - out_of_sync\n      - Out of sync\n      - 1\n    - - scheduled\n      - Scheduled\n      - 0\n    - - corrective_change\n      - Corrective change\n      - 0\n# \u4e2d\u7565\nresource_statuses:\n  File[/tmp/hello_puppet.txt]: !ruby/object:Puppet::Resource::Status\n    title: \"/tmp/hello_puppet.txt\"\n    file: \"/file.pp\"\n    line: 1\n    resource: File[/tmp/hello_puppet.txt]\n    resource_type: File\n    containment_path:\n    - Stage[main]\n    - Main\n    - File[/tmp/hello_puppet.txt]\n    evaluation_time: 0.048850239\n    tags:\n    - file\n    - class\n    time: '2016-08-26T04:51:17.097576288+00:00'\n    failed: false\n    changed: true\n    out_of_sync: true\n    skipped: false\n    change_count: 1\n    out_of_sync_count: 1\n    events:\n    - !ruby/object:Puppet::Transaction::Event\n      audited: false\n      property: content\n      previous_value: \"{md5}4cdb039380c678cac7863cebc1606bea\"\n      desired_value: \"{md5}8e03c9189653240eb4b5f9ba187e12c9\"\n      historical_value:\n      message: content changed '{md5}4cdb039380c678cac7863cebc1606bea' to '{md5}8e03c9189653240eb4b5f9ba187e12c9'\n      name: :content_changed\n      status: success\n      time: 2016-08-26 04:51:17.106767383 +00:00\n      redacted:\n      corrective_change: false\n    corrective_change: false\n# \u4e2d\u7565\ncorrective_change: false\n```\n\n```\n[root@6bce16e83e4b /]# find /opt/puppetlabs/puppet/cache/reports/ -type f | xargs ls -l --time-style=long-iso | sort -k 6,7 | tail -1 | cut -d ' ' -f 8-8 | xargs grep -e 'corrective_change: true' -e 'resource:'\n    resource: File[/tmp/hello_puppet.txt]\n    resource: Schedule[puppet]\n    resource: Schedule[hourly]\n    resource: Schedule[daily]\n    resource: Schedule[weekly]\n    resource: Schedule[monthly]\n    resource: Schedule[never]\n    resource: Filebucket[puppet]\n```\n\n# \u8a66\u3057\u305f\u611f\u60f3\n\n\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u7248\u3060\u3068\u3001\u30ec\u30dd\u30fc\u30c8\u3092\u898b\u308b\u306e\u306b\u3061\u3087\u3063\u3068\u30b3\u30c4\u304c\u3044\u308a\u307e\u3059\u304c\u3001\u4eca\u307e\u3067\u306e\u5dee\u5206\u3092\u3072\u305f\u3059\u3089\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3088\u308a\u306f\u697d\u306b\u306a\u3063\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002Puppet Enterprise\u306e\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb\u3068\u304b\u3067\u3042\u308c\u3070\u3082\u3046\u5c11\u3057\u307f\u3084\u3059\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\u304c\u3001\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u7248\u3060\u3068\u30ec\u30dd\u30fc\u30c8\u78ba\u8a8d\u304c\u3061\u3087\u3063\u3068\u5927\u5909\u3067\u3059\u3002\u3067\u304d\u308c\u3070\u3001\u5b9f\u884c\u6642\u30ed\u30b0\u306e\u65b9\u306b\u3082\u3001\u8868\u793a\u3055\u308c\u308b\u3068\u3046\u308c\u3057\u3044\u306e\u3067\u3059\u304c\u3002\u3002\u3002\n\n# \u8a66\u3057\u305f\u74b0\u5883\n\n- CentOS Linux release 7.2.1511 (Core)\n- Puppet 4.6.1\n"}