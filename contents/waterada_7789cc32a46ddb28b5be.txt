{"context": "2016-10-09 \u8ffd\u8a18:\n\u8a18\u4e8b\u304c\u8272\u3005\u307e\u305c\u3053\u305c\u3067\u89e3\u308a\u3065\u3089\u304b\u3063\u305f\u3088\u3046\u306b\u601d\u3048\u305f\u306e\u3067\u6280\u8853\u306e\u95a2\u5fc3\u4e8b\u3054\u3068\u306b\u5206\u3051\u3066\u4ee5\u4e0b\u306b\u66f8\u304d\u76f4\u3057\u307e\u3057\u305f\u3002\nhttp://qiita.com/waterada/items/53ec02a521d6f49dded3\n\u300c\u7bc4\u56f2\u9078\u629e\u3057\u3066Google\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u8ffd\u52a0\u3059\u308b\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u306e\u4f5c\u308a\u65b9\u300d\n\u6982\u8981\n\u65e5\u4ed8\u3084\u6642\u523b\u306e\u542b\u307e\u308c\u305fWeb\u30da\u30fc\u30b8\u3092\u7bc4\u56f2\u9078\u629e\u3057\u3066\nGoogle \u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306e\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u958b\u304f\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\uff08JavaScript\u3092\u4ed5\u8fbc\u3093\u3060\u30d6\u30c3\u30af\u30de\u30fc\u30af\u306e\u3053\u3068\uff09\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\uff08\u305f\u3060\u3057\u3001ES6 \u3092\u4f7f\u3063\u3066\u308b\u306e\u3067 Chrome \u7528\u3002\uff09\n\u305d\u306e\u969b\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30c6\u30af\u30cb\u30c3\u30af\u3092\u4f7f\u3063\u3066\u308b\u306e\u3067\u3001\u3042\u3048\u3066\u6652\u3057\u3066\u307f\u308b\u3053\u3068\u3067\u3001\uff11\u3064\u3067\u3082\u7686\u3055\u3093\u306e\u53c2\u8003\u306b\u306a\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u306e\u65b9\u304c\u826f\u3044\u3068\u304b\u3001\u306a\u305c\u3053\u3093\u306a\u65b9\u6cd5\u3057\u3066\u308b\u306e\u3068\u304b\u30b3\u30e1\u30f3\u30c8\u3082\u3089\u3048\u308b\u3068\u5b09\u3057\u3044\u3067\u3059\u3002\n\u4f7f\u3063\u3066\u308b\u30c6\u30af\u30cb\u30c3\u30af:\n\n\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\n\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u304b\u3089 github \u306e\u30bd\u30fc\u30b9\u306b\u30ea\u30f3\u30af\u3055\u305b\u308b\n\u69d8\u3005\u306a\u65e5\u6642\u3092\u89e3\u91c8\u3059\u308b\u6b63\u898f\u8868\u73fe\nES6 (ECMAScript6)\n\u5358\u4f53\u30c6\u30b9\u30c8\n\u30bd\u30fc\u30b9\u3092\u7dba\u9e97\u306b\u898b\u305b\u308b\u305f\u3081\u306e\u5de5\u592b\n\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3057\u3084\u3059\u304f\u3059\u308b\u5de5\u592b\n\u305d\u306e\u307b\u304b\u3001\u69d8\u3005\u306a\u7d30\u304b\u3044\u30c6\u30af\u30cb\u30c3\u30af\n\n\u3068\u308a\u3042\u3048\u305a\u30bd\u30fc\u30b9\u3092\u3001\u3068\u3044\u3046\u65b9\u306f\u3053\u3061\u3089:\nhttps://github.com/waterada/bookmarklet-google-calendar-add\n\n\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u306e\u4f5c\u308a\u65b9\n\u305f\u3060\u306e\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3068\u9055\u3063\u3066\u3001URL\u306e\u4ee3\u308f\u308a\u306bJavaScript\u3092\u4ed5\u8fbc\u307f\u307e\u3059\u3002\njavascript:(function(d, ...others){\nlet s=d.createElement('script');s.src='https://waterada.github.io/bookmarklet-google-calendar-add/src.js';d.body.appendChild(s);bookmarkletToAddToGoogleCalendar(...others);\n})(document, window.getSelection()+'', window.open)\n\n\n\u3010bookmarklet\u3011javascript: \u3067\u59cb\u3081\u308b\u3053\u3068\u3067 JavaScript \u3092\u52d5\u304b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3010bookmarklet\u3011(function(\uff5e){ \uff5e })(\uff5e) \u306e\u3088\u3046\u306b\u95a2\u6570\u3067\u56f2\u3080\u3093\u3067\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u540d\u524d\u7a7a\u9593\u3092\u6c5a\u3055\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3010bookmarklet\u3011\u307e\u305f\u3001\u305d\u306e\u969b\u3001(document, window.getSelection()+'', window.open) \u306e\u3088\u3046\u306b\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u3082\u306e\u3092\u3059\u3079\u3066\u5f15\u6570\u3067\u6e21\u3059\u3053\u3068\u3067\u5916\u90e8\u3068\u306e\u7d50\u5408\u3092\u660e\u3089\u304b\u306b\u3057\u3001\u3082\u3063\u3068\u8907\u96d1\u306a\u99ac\u5408\u306b\u306f\u30d6\u30c3\u30af\u30de\u30fc\u30af\u6587\u5b57\u5217\u3092\u77ed\u304f\u306a\u308b\u52b9\u679c\u3082\u671f\u5f85\u3067\u304d\u307e\u3059\u3002\n\u3010JavaScript\u3011window.getSelection() \u306f\u9078\u629e\u7bc4\u56f2\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u8fd4\u3057\u307e\u3059\u3002+'' \u306b\u3088\u3063\u3066\u624b\u3063\u53d6\u308a\u65e9\u304f\u6587\u5b57\u5217\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n\u3010JavaScript\u3011window.open \u306f\u65b0\u3057\u3044\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3055\u305b\u308bJavaScript\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n\u3010ES6\u3011function(d, ...others){ \u306e\u3088\u3046\u306b\u5f15\u6570\u306b , ...others \u3092\u3064\u3051\u308b\u3053\u3068\u3067\u6b8b\u308a\u306e\u5f15\u6570\u304c\u3059\u3079\u3066 others \u3068\u3044\u3046\u914d\u5217\u306e\u4e2d\u306b\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a function(d, text, open){ var others = [text, open]; \u3068\u66f8\u3044\u305f\u306e\u3068\u540c\u3058\u3067\u3059\u3002\n\u3010ES6\u3011let s= \u306f var s= \u3068\u307b\u307c\u540c\u7b49\u3067\u3059\u304c\u3001var \u306f function(){ \uff5e } \u306e\u30b9\u30b3\u30fc\u30d7\u3067\u3042\u308b\u306e\u306b\u5bfe\u3057\u3001let \u306f { \uff5e } \u306e\u30b9\u30b3\u30fc\u30d7\u3067\u3059\u3002ES6\u3067\u306f\u901a\u5e38\u3053\u3061\u3089\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u3010bookmarklet\u3011let s=d.createElement('script');s.src='\uff5eURL\uff5e';d.body.appendChild(s); \u3067\u3001\u52d5\u304b\u3057\u305f\u3044\u5916\u90e8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30da\u30fc\u30b8\u306b\u5dee\u3057\u8fbc\u307f\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u306e\u30ed\u30b8\u30c3\u30af\u3092\u5916\u306b\u51fa\u305b\u307e\u3059\u3002\n\u3010ES6\u3011bookmarkletToAddToGoogleCalendar(...others) \u306e\u3088\u3046\u306b\u5f15\u6570\u306b ... \u3092\u4f7f\u3046\u3068\u3001others \u306e\u4e2d\u8eab\u304c\u5f15\u6570\u3068\u3057\u3066\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a bookmarkletToAddToGoogleCalendar(others[0], others[1]) \u3068\u66f8\u3044\u305f\u306e\u3068\u540c\u3058\u3067\u3059\u3002\n\u3010github\u3011https://waterada.github.io/bookmarklet-google-calendar-add/src.js \u306f github \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092 web \u30b5\u30fc\u30d0\u7684\u306b\u516c\u958b\u3067\u304d\u308b\u4ed5\u7d44\u307f\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002https://github.com/waterada/bookmarklet-google-calendar-add/ \u3068\u3044\u3046\u30ea\u30dd\u30b8\u30c8\u30ea\u306b gh-pages \u3068\u3044\u3046\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3067 https://waterada.github.io/bookmarklet-google-calendar-add/ \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u30e1\u30a4\u30f3\u306e\u30bd\u30fc\u30b9\nfunction bookmarkletToAddToGoogleCalendar(selected, open, NOW) {\n\n}\n\n\n\u3010bookmarklet\u3011\u540d\u524d\u7a7a\u9593\u3092\u3067\u304d\u308b\u3060\u3051\u6c5a\u3055\u306a\u3044\u3088\u3046\u306b\u5916\u5074\u3092\u95a2\u6570\u3067\u56f2\u3093\u3067\u3042\u308a\u307e\u3059\u3002\n\u3010\u5358\u4f53\u30c6\u30b9\u30c8\u3011\u307e\u305f\u3001\u30c6\u30b9\u30c8\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u5916\u90e8\u4f9d\u5b58\u306e\u3042\u308b\u3082\u306e\uff08\u9078\u629e\u6587\u5b57\u5217\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u30e1\u30bd\u30c3\u30c9\u3001\u73fe\u5728\u6642\u523b\uff09\u306f\u5f15\u6570\u3067\u53d7\u3051\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\n\n    NOW = NOW || new Date();\n\n\n\u3010JavaScript\u3011\u7b2c\uff13\u5f15\u6570 NOW \u304c\u7701\u7565\u3055\u308c\u305f\u3089\uff08\u666e\u901a\u306f\u7701\u7565\uff09\u3001\u73fe\u5728\u6642\u523b\u3092\u4f7f\u3046\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u73fe\u5728\u6642\u523b\u3092\u5916\u304b\u3089\u6e21\u305b\u306a\u3044\u3068\u5358\u4f53\u30c6\u30b9\u30c8\u304c\u3084\u308a\u3065\u3089\u304f\u306a\u308b\u306e\u3067\u3001\u3053\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n    class RegExpSweet {\n        constructor() {\n            this.replaces = [];\n        }\n        addSyntax(replacements) {\n            for (let search of Object.keys(replacements)) {\n                let replace = replacements[search];\n                if (search.match(/^\\w+$/)) { search = `\\\\b${search}\\\\b`; }\n                search = new RegExp(search, 'g');\n                this.replaces.unshift({search, replace});\n            }\n            return this;\n        }\n        toRegExp(regExpStr, flags) {\n            for (let a of this.replaces) {\n                regExpStr = regExpStr.replace(a.search, a.replace);\n            }\n            return new RegExp(regExpStr, flags || 'g');\n        }\n    }\n    const reSweetDate = new RegExpSweet();\n    reSweetDate.addSyntax({'\uff08': '[\uff08\\\\(]', '\uff09': '[\\\\)\uff09]'});\n    reSweetDate.addSyntax({' ': '\\\\s*'});\n    reSweetDate.addSyntax({'  ': '\\\\s+'});\n    reSweetDate.addSyntax({'<': '(?:', '>': ')?'});\n    reSweetDate.addSyntax({\n        WEEK: '\uff08[\u6708\u706b\u6c34\u6728\u91d1\u571f\u65e5]\uff09',\n        TO: '(?:\u304b\u3089|\uff5e|-|\uff0d)',\n        D2: '\\\\d{1,2}',\n        HEISEI: '(?:\u5e73\u6210?|[Hh]\\\\.?)',\n        SHOWA: '(?:\u662d\u548c?|[Ss]\\\\.?)',\n        YYYY: `(?:\\\\d{4}|(?:HEISEI|SHOWA) \\\\d{1,2})`,\n        TIME_JA: '(D2)\u6642 <(D2\u5206|\u534a) <D2\u79d2>>',\n        TIME_EN: '(D2):(D2)<:D2>',\n    });\n\n\n\u3010\u30c6\u30af\u30cb\u30c3\u30af\u3011RegExpSweet \u306f\u6b63\u898f\u8868\u73fe\u3092\u30e1\u30f3\u30c6\u3057\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\u304a\u6c7a\u307e\u308a\u306e\u30bb\u30f3\u30c6\u30f3\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u6b63\u898f\u8868\u73fe\u3092\u66f8\u304f\u969b\u306e\u30b1\u30a2\u30ec\u30b9\u30df\u30b9\u3092\u9632\u304e\u3001\u53ef\u8aad\u6027\u3092\u3042\u3052\u307e\u3059\u3002\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30b7\u30e5\u30ac\u30fc\u7684\u306a\u3084\u3064\u3067\u3059\u3002\u305f\u3068\u3048\u3070 \n\n\n\n \u2192 \\s*  (\u7a7a\u767d0\u500b\u4ee5\u4e0a\u306e\u610f\u5473)\n\n< \u2192 (?:  (\u7701\u7565\u53ef\u80fd\u306e\u958b\u59cb\u30ab\u30c3\u30b3)\n\n> \u2192 )?  (\u7701\u7565\u53ef\u80fd\u306e\u7d42\u4e86\u30ab\u30c3\u30b3)\n\u3068\u5b9a\u7fa9\u3057\u3066\u304a\u304f\u3053\u3068\u3067 (A)(?:\\s*(B)(?:\\s*(C))?)? \u304c (A)< (B)< (C)>> \u3068\u66f8\u3051\u307e\u3059\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u30af\u30e9\u30b9\u3092\u5373\u5e2d\u3067\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u5229\u7528\u3059\u308b\u3068\u304d\u306b\u306f reSweetDate.toRegExp('(A)< (B)< (C)>>') \u3068\u3057\u3066\u6b63\u5f0f\u306a\u6b63\u898f\u8868\u73fe\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n\n\n\u3010ES6\u3011ES6 \u3067\u306f class \u69cb\u6587\u304c\u4f7f\u3048\u307e\u3059\u3002\u4fbf\u5229\u3067\u3059\u306d\u3002function() {} \u306e\u4e2d\u3067\u5b9a\u7fa9\u3059\u308c\u3070\u3001\u305d\u308c\u306f\u305d\u306e\u4e2d\u3060\u3051\u306e\u30b9\u30b3\u30fc\u30d7\u306b\u306a\u308a\u307e\u3059\u3002\n\u3010ES6\u3011class \u306e\u4e2d\u3067\u306f constructor() \u3067\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\u3010ES6\u3011for (let \u5909\u6570 of \u30a4\u30c6\u30ec\u30fc\u30bf\u53ef\u80fd\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8) { \u3067\u5f93\u6765\u306e for (var \u5909\u6570 in \u30aa\u30d6\u30b8\u30a7\u30af\u30c8) { \u3088\u308a\u3082\u7684\u78ba\u306b\u30eb\u30fc\u30d7\u3067\u304d\u307e\u3059\u3002 \n\u3010ES6\u3011Object.keys(replacements) \u3067\u9023\u60f3\u914d\u5217\u304b\u3089\u30ad\u30fc\u306e\u914d\u5217\u3092\u53d6\u308a\u51fa\u305b\u307e\u3059\u3002\n\u3010ES6\u3011`\\\\b${search}\\\\b` \u306e\u3088\u3046\u306b `\uff5e` \u3067\u56f2\u3080\u3053\u3068\u3067 ${\uff5e} \u3092\u5c55\u958b\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3064\u307e\u308a '\\\\b' + search + '\\\\b' \u3068\u66f8\u3044\u305f\u306e\u3068\u540c\u3058\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3010ES6\u3011{search, replace} \u306e\u3088\u3046\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ea\u30c6\u30e9\u30eb\u306b\u5909\u6570\u3092\u6e21\u3059\u3068\u3001{search: search, replace: replace} \u3068\u66f8\u304f\u306e\u3068\u540c\u3058\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002\u5197\u9577\u306a\u8868\u8a18\u304c\u6e1b\u308a\u3001\u305d\u306e\u5206\u3001\u91cd\u8981\u306a\u90e8\u5206\u304c\u7d1b\u308c\u3065\u3089\u304f\u306a\u308a\u307e\u3059\u3002\n\u3010\u6b63\u898f\u8868\u73fe\u3011if (search.match(/^\\w+$/)) { \u306f\u5358\u8a9e\u306b\u4f7f\u3046\u6587\u5b57(a-zA-Z0-9_)\u306e\u307f\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u305f\u3089\u3068\u3044\u3046\u610f\u5473\u3067\u3059\u3002\n\n    const RE_DATES = [\n        '<(YYYY)\u5e74> (D2)\u6708 (D2)\u65e5 <WEEK> ',\n        '<(YYYY)/>(D2)/(D2)(?: WEEK |\\\\b )',\n        '(YYYY)-(D2)-(D2)(?: WEEK |\\\\b )',\n        '<(YYYY)\\\\.>(D2)\\\\.(D2)(?: WEEK |\\\\b )',\n    ];\n    const RE_TIMES = [\n        '(D2)() TO (D2)() \u6642',\n        'TIME_JA <TO TIME_JA>',\n        'TIME_EN <TO TIME_EN>',\n        '()()()()',\n    ];\n\n\n\u3010\u8aac\u660e\u3011\u65e5\u306e\u66f8\u304d\u65b9\u3068\u3001\u6642\u306e\u66f8\u304d\u65b9\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u629c\u304d\u51fa\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u3042\u3068\u3067\u3059\u3079\u3066\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u4f5c\u3063\u3066\u3042\u3068\u3067\u7dcf\u5f53\u308a\u30c1\u30a7\u30c3\u30af\u3055\u305b\u307e\u3059\u3002\n\u3010\u8aac\u660e\u3011\u4e00\u756a\u4e0b\u306e ()()()() \u306f\u3001\u6642\u523b\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002\u5f8c\u306e\u51e6\u7406\u3067\uff4e\u756a\u76ee\u306e\u30ab\u30c3\u30b3\u306e\u4e2d\u8eab\u3068\u3044\u3046\u5177\u5408\u306b\u53d6\u5f97\u3059\u308b\u306e\u3067 () \u306e\u6570\u3092\u540c\u3058\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3010ES6\u3011const \u306f\u5b9a\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002let \u3068\u540c\u69d8 { \uff5e } \u306e\u30b9\u30b3\u30fc\u30d7\u3067\u3059\u3002\u9055\u3044\u306f\u66f8\u304d\u63db\u3048\u3089\u308c\u307e\u305b\u3093\u3002\u305f\u3060\u3057\u3001\u5b9a\u6570\u305d\u306e\u3082\u306e\u304c\u66f8\u304d\u63db\u3048\u3089\u308c\u306a\u3044\u3060\u3051\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u3084\u914d\u5217\u306e\u8981\u7d20\u306f\u66f8\u304d\u63db\u3048\u53ef\u80fd\u3067\u3059\u3002\n\n    let dtReList = [];\n    for (let d of RE_DATES) {\n        for (let t of RE_TIMES) {\n            let re = reSweetDate.toRegExp(`\\\\s*${d}${t}\\\\s*`);\n            dtReList.push(re);\n        }\n    }\n\n\n\u3010\u30c6\u30af\u30cb\u30c3\u30af\u3011\u65e5\u3068\u6642\u3001\uff14\u3064\u305a\u3064\u3042\u308b\u30d1\u30bf\u30fc\u30f3\u306e\u7dcf\u5f53\u308a\u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u300216\u30d1\u30bf\u30fc\u30f3\u306e\u6b63\u898f\u8868\u73fe\u304c\u4f5c\u3089\u308c\u307e\u3059\u3002\u30d1\u30bf\u30fc\u30f3\u304c\u5897\u3048\u308b\u3068\u639b\u3051\u7b97\u3067\u7dcf\u6570\u304c\u5897\u3048\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u3068\u3044\u3046\u4f7f\u7528\u65b9\u6cd5\u306a\u3089\u3001\u5fae\u3005\u305f\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3088\u308a\u3082\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u6027\u304c\u512a\u5148\u3055\u308c\u308b\u306e\u3067\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u9078\u629e\u7bc4\u56f2\u306f\u305d\u308c\u307b\u3069\u5927\u304d\u304f\u3082\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u72a0\u7272\u3068\u3044\u3063\u3066\u3082\u5224\u3089\u306a\u3044\u307b\u3069\u3067\u3057\u3087\u3046\u3002\n\n    const zf = n => ('0' + n).slice(-2);\n\n\n\u3010JavaScript\u3011('0' + n).slice(-2) \u306f\uff12\u6841\u3067\u30bc\u30ed\u57cb\u3081\u3059\u308b\u4e00\u822c\u7684\u306a\u624b\u6cd5\u3067\u3059\u3002\n\u3010ES6\u3011const zf = n => \uff5e ; \u306f\u30e9\u30e0\u30c0\u5f0f\u3067\u95a2\u6570 zf \u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002const zf = function (n) { return \uff5e; }; \u3068\u66f8\u304f\u306e\u3068\u307b\u307c\u540c\u3058\u3067\u3059\u3002\u30e9\u30e0\u30c0\u5f0f\u306f\u30ed\u30b8\u30c3\u30af\u3092 function \u306a\u3069\u306e\u9577\u3044\u6587\u5b57\u5217\u306a\u3057\u306b\u7aef\u7684\u306b\u8868\u73fe\u3067\u304d\u307e\u3059\u3002\u6587\u6cd5\u306e\u305f\u3081\u306e\u6587\u5b57\u304c\u6e1b\u308b\u3053\u3068\u3067\u3001\u30ed\u30b8\u30c3\u30af\u304c\u898b\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\u3055\u304d\u307b\u3069\u300c\u307b\u307c\u300d\u540c\u3058\u3068\u8a00\u3063\u305f\u306e\u306f this \u304c\u7f6e\u304d\u63db\u308f\u3089\u306a\u3044\u70b9\u3068\u3001var \u306e\u30b9\u30b3\u30fc\u30d7\u5bfe\u8c61\u306b\u306a\u3089\u306a\u3044\u70b9\u304c\u7570\u306a\u308b\u305f\u3081\u3067\u3059\u3002\n\n    const analyzeYmd = (is2nd, y, m, d) => {\n        let dt = new Date(`${y}-${m}-${d}`);\n        if (isNaN(dt)) { return; }\n        if (is2nd) { //\u65e5\u6642\u306e\uff12\u3064\u76ee\u306f\u7fcc\u65e5\n            dt = new Date(dt.getTime() + 24 * 3600 * 1000);\n        }\n        return {\n            hasHi: false,\n            str: `${y}${zf(dt.getMonth()+1)}${zf(dt.getDate())}`\n        };\n    };\n\n\n\u3010\u8aac\u660e\u3011\u5f15\u6570 y, m, d \u3092\u53d7\u3051\u53d6\u3063\u3066\u3001\u65e5\u4ed8\u3068\u3057\u3066\u6b63\u3057\u3044\u304b\u3092\u8a55\u4fa1\u3057\u3001\u6b63\u3057\u3051\u308c\u3070 Google \u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u6e21\u305b\u308b\u5f62\u5f0f\u306e\u65e5\u4ed8\u6587\u5b57\u5217\uff08\u3092\u542b\u3080\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\u3092\u8fd4\u3057\u3001\u6b63\u3057\u304f\u306a\u3051\u308c\u3070\u4f55\u3082\u8fd4\u3055\u306a\u3044\u95a2\u6570\u3067\u3059\u3002\n\u3010JavaScript\u3011isNaN(dt) \u306f Date \u578b\u3067\u65e5\u4ed8\u304c\u4e0d\u6b63\u306a\u5834\u5408\u306b true \u306b\u306a\u308b\u306e\u3067\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u3010Google\u30ab\u30ec\u30f3\u30c0\u30fc\u3011\u6642\u523b\u304c\u306a\u3044\u5834\u5408\u306f yyyymmdd/yyyymmdd \u3068\u3044\u3046\u6587\u5b57\u5217\u3067\u65e5\u4ed8\u7bc4\u56f2\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u3068\u304d\u3001\uff12\u3064\u76ee\u306e\u65e5\u4ed8\u306f\u7fcc\u65e5\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3064\u307e\u308a 2000/1/1\uff5e2000/1/2 \u306a\u3089 20000101/20000103 \u3068\u306a\u308a\u307e\u3059\u3002\n\u3010JavaScript\u3011dt = new Date(dt.getTime() + 24 * 3600 * 1000) \u306f\u7fcc\u65e5\u306b\u3059\u308b\u4e00\u822c\u7684\u306a\u65b9\u6cd5\u3067\u3059\u3002\n\n    const analyzeYmdhi = (is2nd, y, m, d, h, i) => {\n        i = i || '00';\n        if (i === '\u534a') { i = '30'; }\n        i = i.replace(/\u5206$/, '');\n        let dt = new Date(`${y}-${m}-${d} ${h}:${i}`);\n        if (isNaN(dt)) { //\u6642\u9593\u3068\u3063\u3066\u3082\u6210\u7acb\u304b\n            return analyzeYmd(is2nd, y, m, d);\n        }\n        return {\n            hasHi: true,\n            str: dt.toISOString().replace(/(:|-|\\.\\d+)/g, '')\n        };\n    };\n\n\n\u3010\u8aac\u660e\u3011\u5f15\u6570 y, m, d, h, i \u3092\u53d7\u3051\u53d6\u3063\u3066\u3001\u65e5\u6642\u3068\u3057\u3066\u6b63\u3057\u3044\u304b\u3092\u8a55\u4fa1\u3057\u3001\u6b63\u3057\u3051\u308c\u3070 Google \u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u6e21\u305b\u308b\u5f62\u5f0f\u306e\u65e5\u4ed8\u6587\u5b57\u5217\uff08\u3092\u542b\u3080\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\u3092\u8fd4\u3057\u307e\u3059\u3002\u6b63\u3057\u304f\u306a\u3051\u308c\u3070\u65e5\u4ed8\u3060\u3051\u3067\u89e3\u91c8\u53ef\u80fd\u304b\u3092\u8a66\u307f\u307e\u3059\u3002\n\u3010\u8aac\u660e\u3011i \u306f\u300c\u5206\u300d\u306e\u610f\u5473\u3067\u3059\u3002m \u3067\u306f\u300c\u6708\u300d\u3068\u88ab\u308a\u307e\u3059\u3057\u3001mysql \u3084 php \u306a\u3069\u306e\u65e5\u4ed8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u306f ymdhis \u3068\u8868\u73fe\u3055\u308c\u308b\u3053\u3068\u304c\u591a\u3044\u305f\u3081\u3001\u3053\u3053\u3067\u306f i \u3068\u3044\u3046\u540d\u524d\u3092\u3064\u3051\u3066\u3044\u307e\u3059\u3002\n\u3010Google\u30ab\u30ec\u30f3\u30c0\u30fc\u3011\u6642\u523b\u304c\u3042\u308b\u5834\u5408\u306f yyyymmddThhii00Z/yyyymmddThhii00Z \u3068\u3044\u3046\u6587\u5b57\u5217\u3067\u65e5\u4ed8\u7bc4\u56f2\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002GMT\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3067\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\uff12\u3064\u76ee\u306e\u65e5\u4ed8\u306f\u7279\u306b\u7fcc\u65e5\u306b\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u30022000/1/1 09:00\uff5e2000/1/1 10:00 \u306a\u3089 20000101T000000Z/20000101T010000Z \u3068\u306a\u308a\u307e\u3059\u3002\n\u3010\u30c6\u30af\u30cb\u30c3\u30af\u3011dt.toISOString() \u306f GMT \u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3067 yyyy-mm-ddThh:ii:ss.mmmZ \u3068\u3044\u3046\u6587\u5b57\u5217\u3092\u8fd4\u3057\u307e\u3059\u306e\u3067\u3001\u3053\u3053\u304b\u3089 .replace(/(:|-|\\.\\d+)/g, '') \u3067\u4f59\u5206\u306a\u6587\u5b57\u3092\u64a4\u53bb\u3057\u3066\u3001\u6b32\u3057\u3044\u6587\u5b57\u5217\u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u304c\u4e00\u756a\u7c21\u5358\u304b\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n    let date1 = null, date2 = null;\n    const pickupDate = (...args) => {\n        if (date2) { return ''; }\n        let [a, y, m, d, h, i, h2, i2] = args;\n        y = y || (date1 && date1.args[1]) || NOW.getFullYear();\n        if (y.replace) {\n            y = y.replace(reSweetDate.toRegExp('^HEISEI (\\\\d+)'), (a, y) => y * 1 + 1988);\n            y = y.replace(reSweetDate.toRegExp('^SHOWA (\\\\d+)'), (a, y) => y * 1 + 1925);\n        }\n        let obj;\n        if (h) {\n            obj = analyzeYmdhi(!!date1, y, m, d, h, i);\n        } else {\n            obj = analyzeYmd(!!date1, y, m, d);\n        }\n        if (!obj) { return a; }\n        if (date1 && date1.hasHi != obj.hasHi) { return a; } //\u524d\u3068\u66f8\u5f0f\u304c\u9055\u3046\u306a\u3089\n        if (date1) {\n            date2 = obj;\n        } else {\n            obj.args = args;\n            date1 = obj;\n        }\n        if (h2) {\n            pickupDate(a, y, m, d, h2, i2);\n        }\n        return '';\n    };\n\n\n\u3010\u8aac\u660e\u3011pickupDate() \u306f\u9078\u629e\u7bc4\u56f2\u5185\u3067\u65e5\u4ed8\u304c\u30d2\u30c3\u30c8\u3059\u308b\u305f\u3073\u306b\u547c\u3070\u308c\u308b\u95a2\u6570\u3067\u3059\u3002replace() \u306e\u7b2c\uff12\u5f15\u6570\u3067\u7f6e\u304d\u63db\u3048\u6587\u5b57\u5217\u306e\u4ee3\u308f\u308a\u306b\u6e21\u3057\u307e\u3059\u3002\u95a2\u6570\u306e\u4e2d\u3067\u306f\uff11\u3064\u76ee\u306b\u30d2\u30c3\u30c8\u3057\u305f\u65e5\u6642\u306f date1 \u306b\u3001\uff12\u3064\u76ee\u306f date2 \u306b\u30bb\u30c3\u30c8\u3057\u3001\uff13\u3064\u76ee\u4ee5\u964d\u306f\u7121\u8996\u3057\u307e\u3059\u3002\n\u3010\u30c6\u30af\u30cb\u30c3\u30af\uff1f\u3011\u6700\u521d\u306f dates \u3068\u3044\u3046\u914d\u5217\u3092\u4f7f\u3063\u3066 dates[0] \u3068\u3084\u3063\u3066\u305f\u306e\u3067\u3059\u304c\u3001\u7d50\u5c40\u306f date1 \u306e\u307b\u3046\u304c\u76f4\u611f\u7684\u3067\u8aad\u307f\u3084\u3059\u304f\u306a\u3063\u305f\u306e\u3067\u3001\u3053\u3061\u3089\u306b\u3057\u307e\u3057\u305f\u3002\n\u3010ES6\u3011let [a, y, m, d, h, i, h2, i2] = args; \u306f\u3001args \u306e\u4e2d\u8eab\u3092\u9806\u306b\u5909\u6570\u306b\u5272\u308a\u5f53\u3066\u307e\u3059\u3002a \u306b\u306f args[0] \u306e\u5024\u304c\u5165\u308a\u3001y \u306b\u306f args[1] \u306e\u5024\u304c\u5165\u308a\u307e\u3059\u3002\n\u3010JavaScript\u3011y = y || (date1 && date1.args[1]) || NOW.getFullYear(); \u306f y \u304c\u3042\u308c\u3070 y \u3001\u306a\u3051\u308c\u3070 (date1 && date1.args[1])\u3001\u3053\u308c\u3082\u306a\u3051\u308c\u3070 NOW.getFullYear() \u3068\u3044\u3046\u3088\u3046\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092 || \u533a\u5207\u308a\u3067\u8868\u8a18\u3067\u304d\u307e\u3059\u3002\n\u3010JavaScript\u3011y = y.replace(reSweetDate.toRegExp('^HEISEI (\\\\d+)'), (a, y) => y * 1 + 1988) \u306f\u3001\u300c\u5e73\u6210\u300d\u3068\u3044\u3046\u6587\u5b57\u306e\u7f6e\u304d\u63db\u3048\u3092\u8a66\u307f\u3066\u3001\u30d2\u30c3\u30c8\u3057\u305f\u3089\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u547c\u3070\u308c\u308b\u4ed5\u7d44\u307f\u3067\u3059\u3002\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u306f\u3001a \u306b\u30d2\u30c3\u30c8\u3057\u305f\u6587\u5b57\u5217\u5168\u4f53\u304c\u3001y \u306b\u306f\u6700\u521d\u306e\u30ab\u30c3\u30b3\u306e\u5024\u304c(\u6587\u5b57\u5217\u3067)\u5165\u308a\u307e\u3059\u306e\u3067\u3001* 1 \u3067\u6570\u5024\u5316\u3057\u3066 1988 \u3092\u8db3\u3059\u3053\u3068\u3067\u897f\u66a6\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n\u3010JavaScript\u3011analyzeYmdhi(!!date1, y, m, d, h, i) \u306b !! \u3068\u3044\u3046\u6f14\u7b97\u5b50\u304c\u51fa\u3066\u304d\u3066\u9a5a\u3044\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u308c\u306f ! \u3092\uff12\u56de\u884c\u3046\u3053\u3068\u3067 (date1 ? true : false) \u3068\u540c\u3058\u610f\u5473\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a \u660e\u793a\u7684\u306b boolean \u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u9014\u4e2d\u3067\u3059\u304c\n\u4e00\u65e6\u3053\u3053\u307e\u3067\u3067\u30a2\u30c3\u30d7\u3057\u3066\u307f\u307e\u3059\u3002\n\u66f8\u304d\u306a\u304c\u3089\u8aac\u660e\u3057\u3065\u3089\u3044\u306a\u30fc\u3063\u3068\u611f\u3058\u305f\u3068\u3053\u308d\u306f\u9069\u5b9c\u3001\u30ea\u30d5\u30a1\u30af\u30bf\u3057\u306a\u304c\u3089\u9032\u3081\u307e\u3057\u305f\u3002\n\u305d\u306e\u969b\u3082\u5358\u4f53\u30c6\u30b9\u30c8\u304c\u3042\u308b\u306e\u3067\u30ea\u30d5\u30a1\u30af\u30bf\u304c\u975e\u5e38\u306b\u697d\u3067\u3059\u3002\u5358\u4f53\u30c6\u30b9\u30c8\u3067\u697d\u306b\u306a\u308b\u306e\u3092\u77e5\u3089\u306a\u3044\u4eba\u306f\u305c\u3072\u77e5\u3063\u3066\u3082\u3089\u3044\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u306d\u3002\n\u53cd\u97ff\u304c\u3042\u308c\u3070\u3001\u6b21\u56de\u306f\u5f8c\u534a\u90e8\u5206\u3068\u3001\u5358\u4f53\u30c6\u30b9\u30c8\u306e\u8aac\u660e\u3092\u66f8\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n2016-10-09 \u8ffd\u8a18:\n\u8a18\u4e8b\u304c\u8272\u3005\u307e\u305c\u3053\u305c\u3067\u89e3\u308a\u3065\u3089\u304b\u3063\u305f\u3088\u3046\u306b\u601d\u3048\u305f\u306e\u3067\u6280\u8853\u306e\u95a2\u5fc3\u4e8b\u3054\u3068\u306b\u5206\u3051\u3066\u4ee5\u4e0b\u306b\u66f8\u304d\u76f4\u3057\u307e\u3057\u305f\u3002\nhttp://qiita.com/waterada/items/53ec02a521d6f49dded3\n\u300c\u7bc4\u56f2\u9078\u629e\u3057\u3066Google\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u8ffd\u52a0\u3059\u308b\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u306e\u4f5c\u308a\u65b9\u300d\n\n\n\n\n\u6982\u8981\n\n\u65e5\u4ed8\u3084\u6642\u523b\u306e\u542b\u307e\u308c\u305fWeb\u30da\u30fc\u30b8\u3092\u7bc4\u56f2\u9078\u629e\u3057\u3066\nGoogle \u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306e\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u958b\u304f\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\uff08JavaScript\u3092\u4ed5\u8fbc\u3093\u3060\u30d6\u30c3\u30af\u30de\u30fc\u30af\u306e\u3053\u3068\uff09\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\uff08\u305f\u3060\u3057\u3001ES6 \u3092\u4f7f\u3063\u3066\u308b\u306e\u3067 Chrome \u7528\u3002\uff09\n\n\u305d\u306e\u969b\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30c6\u30af\u30cb\u30c3\u30af\u3092\u4f7f\u3063\u3066\u308b\u306e\u3067\u3001\u3042\u3048\u3066\u6652\u3057\u3066\u307f\u308b\u3053\u3068\u3067\u3001\uff11\u3064\u3067\u3082\u7686\u3055\u3093\u306e\u53c2\u8003\u306b\u306a\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u306e\u65b9\u304c\u826f\u3044\u3068\u304b\u3001\u306a\u305c\u3053\u3093\u306a\u65b9\u6cd5\u3057\u3066\u308b\u306e\u3068\u304b\u30b3\u30e1\u30f3\u30c8\u3082\u3089\u3048\u308b\u3068\u5b09\u3057\u3044\u3067\u3059\u3002\n\n\u4f7f\u3063\u3066\u308b\u30c6\u30af\u30cb\u30c3\u30af:\n\n- \u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\n- \u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u304b\u3089 github \u306e\u30bd\u30fc\u30b9\u306b\u30ea\u30f3\u30af\u3055\u305b\u308b\n- \u69d8\u3005\u306a\u65e5\u6642\u3092\u89e3\u91c8\u3059\u308b\u6b63\u898f\u8868\u73fe\n- ES6 (ECMAScript6)\n- \u5358\u4f53\u30c6\u30b9\u30c8\n- \u30bd\u30fc\u30b9\u3092\u7dba\u9e97\u306b\u898b\u305b\u308b\u305f\u3081\u306e\u5de5\u592b\n- \u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3057\u3084\u3059\u304f\u3059\u308b\u5de5\u592b\n- \u305d\u306e\u307b\u304b\u3001\u69d8\u3005\u306a\u7d30\u304b\u3044\u30c6\u30af\u30cb\u30c3\u30af\n\n\u3068\u308a\u3042\u3048\u305a\u30bd\u30fc\u30b9\u3092\u3001\u3068\u3044\u3046\u65b9\u306f\u3053\u3061\u3089:\nhttps://github.com/waterada/bookmarklet-google-calendar-add\n\n\n\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u306e\u4f5c\u308a\u65b9\n==========================\n\n\u305f\u3060\u306e\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3068\u9055\u3063\u3066\u3001URL\u306e\u4ee3\u308f\u308a\u306bJavaScript\u3092\u4ed5\u8fbc\u307f\u307e\u3059\u3002\n\n```JavaScript\njavascript:(function(d, ...others){\nlet s=d.createElement('script');s.src='https://waterada.github.io/bookmarklet-google-calendar-add/src.js';d.body.appendChild(s);bookmarkletToAddToGoogleCalendar(...others);\n})(document, window.getSelection()+'', window.open)\n```\n\n- \u3010bookmarklet\u3011`javascript:` \u3067\u59cb\u3081\u308b\u3053\u3068\u3067 JavaScript \u3092\u52d5\u304b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n- \u3010bookmarklet\u3011`(function(\uff5e){ \uff5e })(\uff5e)` \u306e\u3088\u3046\u306b\u95a2\u6570\u3067\u56f2\u3080\u3093\u3067\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u540d\u524d\u7a7a\u9593\u3092\u6c5a\u3055\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n- \u3010bookmarklet\u3011\u307e\u305f\u3001\u305d\u306e\u969b\u3001`(document, window.getSelection()+'', window.open)` \u306e\u3088\u3046\u306b\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u3082\u306e\u3092\u3059\u3079\u3066\u5f15\u6570\u3067\u6e21\u3059\u3053\u3068\u3067\u5916\u90e8\u3068\u306e\u7d50\u5408\u3092\u660e\u3089\u304b\u306b\u3057\u3001\u3082\u3063\u3068\u8907\u96d1\u306a\u99ac\u5408\u306b\u306f\u30d6\u30c3\u30af\u30de\u30fc\u30af\u6587\u5b57\u5217\u3092\u77ed\u304f\u306a\u308b\u52b9\u679c\u3082\u671f\u5f85\u3067\u304d\u307e\u3059\u3002\n- \u3010JavaScript\u3011`window.getSelection()` \u306f\u9078\u629e\u7bc4\u56f2\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u8fd4\u3057\u307e\u3059\u3002`+''` \u306b\u3088\u3063\u3066\u624b\u3063\u53d6\u308a\u65e9\u304f\u6587\u5b57\u5217\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n- \u3010JavaScript\u3011`window.open` \u306f\u65b0\u3057\u3044\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3055\u305b\u308bJavaScript\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\n- \u3010ES6\u3011`function(d, ...others){` \u306e\u3088\u3046\u306b\u5f15\u6570\u306b `, ...others` \u3092\u3064\u3051\u308b\u3053\u3068\u3067\u6b8b\u308a\u306e\u5f15\u6570\u304c\u3059\u3079\u3066 `others` \u3068\u3044\u3046\u914d\u5217\u306e\u4e2d\u306b\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a `function(d, text, open){ var others = [text, open];` \u3068\u66f8\u3044\u305f\u306e\u3068\u540c\u3058\u3067\u3059\u3002\n- \u3010ES6\u3011`let s=` \u306f `var s=` \u3068\u307b\u307c\u540c\u7b49\u3067\u3059\u304c\u3001`var` \u306f `function(){ \uff5e }` \u306e\u30b9\u30b3\u30fc\u30d7\u3067\u3042\u308b\u306e\u306b\u5bfe\u3057\u3001`let` \u306f `{ \uff5e }` \u306e\u30b9\u30b3\u30fc\u30d7\u3067\u3059\u3002ES6\u3067\u306f\u901a\u5e38\u3053\u3061\u3089\u3092\u4f7f\u3044\u307e\u3059\u3002\n- \u3010bookmarklet\u3011`let s=d.createElement('script');s.src='\uff5eURL\uff5e';d.body.appendChild(s);` \u3067\u3001\u52d5\u304b\u3057\u305f\u3044\u5916\u90e8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30da\u30fc\u30b8\u306b\u5dee\u3057\u8fbc\u307f\u307e\u3059\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u306e\u30ed\u30b8\u30c3\u30af\u3092\u5916\u306b\u51fa\u305b\u307e\u3059\u3002\n- \u3010ES6\u3011`bookmarkletToAddToGoogleCalendar(...others)` \u306e\u3088\u3046\u306b\u5f15\u6570\u306b `...` \u3092\u4f7f\u3046\u3068\u3001`others` \u306e\u4e2d\u8eab\u304c\u5f15\u6570\u3068\u3057\u3066\u5c55\u958b\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a `bookmarkletToAddToGoogleCalendar(others[0], others[1])` \u3068\u66f8\u3044\u305f\u306e\u3068\u540c\u3058\u3067\u3059\u3002\n- \u3010github\u3011`https://waterada.github.io/bookmarklet-google-calendar-add/src.js` \u306f github \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092 web \u30b5\u30fc\u30d0\u7684\u306b\u516c\u958b\u3067\u304d\u308b\u4ed5\u7d44\u307f\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002`https://github.com/waterada/bookmarklet-google-calendar-add/` \u3068\u3044\u3046\u30ea\u30dd\u30b8\u30c8\u30ea\u306b `gh-pages` \u3068\u3044\u3046\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3067 `https://waterada.github.io/bookmarklet-google-calendar-add/` \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u30e1\u30a4\u30f3\u306e\u30bd\u30fc\u30b9\n==========================\n\n```JavaScript\nfunction bookmarkletToAddToGoogleCalendar(selected, open, NOW) {\n    \n}\n```\n- \u3010bookmarklet\u3011\u540d\u524d\u7a7a\u9593\u3092\u3067\u304d\u308b\u3060\u3051\u6c5a\u3055\u306a\u3044\u3088\u3046\u306b\u5916\u5074\u3092\u95a2\u6570\u3067\u56f2\u3093\u3067\u3042\u308a\u307e\u3059\u3002\n- \u3010\u5358\u4f53\u30c6\u30b9\u30c8\u3011\u307e\u305f\u3001\u30c6\u30b9\u30c8\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u5916\u90e8\u4f9d\u5b58\u306e\u3042\u308b\u3082\u306e\uff08\u9078\u629e\u6587\u5b57\u5217\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u30e1\u30bd\u30c3\u30c9\u3001\u73fe\u5728\u6642\u523b\uff09\u306f\u5f15\u6570\u3067\u53d7\u3051\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\n\n```JavaScript\n    NOW = NOW || new Date();\n```\n\n- \u3010JavaScript\u3011\u7b2c\uff13\u5f15\u6570 `NOW` \u304c\u7701\u7565\u3055\u308c\u305f\u3089\uff08\u666e\u901a\u306f\u7701\u7565\uff09\u3001\u73fe\u5728\u6642\u523b\u3092\u4f7f\u3046\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u73fe\u5728\u6642\u523b\u3092\u5916\u304b\u3089\u6e21\u305b\u306a\u3044\u3068\u5358\u4f53\u30c6\u30b9\u30c8\u304c\u3084\u308a\u3065\u3089\u304f\u306a\u308b\u306e\u3067\u3001\u3053\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```JavaScript\n    class RegExpSweet {\n        constructor() {\n            this.replaces = [];\n        }\n        addSyntax(replacements) {\n            for (let search of Object.keys(replacements)) {\n                let replace = replacements[search];\n                if (search.match(/^\\w+$/)) { search = `\\\\b${search}\\\\b`; }\n                search = new RegExp(search, 'g');\n                this.replaces.unshift({search, replace});\n            }\n            return this;\n        }\n        toRegExp(regExpStr, flags) {\n            for (let a of this.replaces) {\n                regExpStr = regExpStr.replace(a.search, a.replace);\n            }\n            return new RegExp(regExpStr, flags || 'g');\n        }\n    }\n    const reSweetDate = new RegExpSweet();\n    reSweetDate.addSyntax({'\uff08': '[\uff08\\\\(]', '\uff09': '[\\\\)\uff09]'});\n    reSweetDate.addSyntax({' ': '\\\\s*'});\n    reSweetDate.addSyntax({'  ': '\\\\s+'});\n    reSweetDate.addSyntax({'<': '(?:', '>': ')?'});\n    reSweetDate.addSyntax({\n        WEEK: '\uff08[\u6708\u706b\u6c34\u6728\u91d1\u571f\u65e5]\uff09',\n        TO: '(?:\u304b\u3089|\uff5e|-|\uff0d)',\n        D2: '\\\\d{1,2}',\n        HEISEI: '(?:\u5e73\u6210?|[Hh]\\\\.?)',\n        SHOWA: '(?:\u662d\u548c?|[Ss]\\\\.?)',\n        YYYY: `(?:\\\\d{4}|(?:HEISEI|SHOWA) \\\\d{1,2})`,\n        TIME_JA: '(D2)\u6642 <(D2\u5206|\u534a) <D2\u79d2>>',\n        TIME_EN: '(D2):(D2)<:D2>',\n    });\n```\n\n- \u3010\u30c6\u30af\u30cb\u30c3\u30af\u3011`RegExpSweet` \u306f\u6b63\u898f\u8868\u73fe\u3092\u30e1\u30f3\u30c6\u3057\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\u304a\u6c7a\u307e\u308a\u306e\u30bb\u30f3\u30c6\u30f3\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u6b63\u898f\u8868\u73fe\u3092\u66f8\u304f\u969b\u306e\u30b1\u30a2\u30ec\u30b9\u30df\u30b9\u3092\u9632\u304e\u3001\u53ef\u8aad\u6027\u3092\u3042\u3052\u307e\u3059\u3002\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30b7\u30e5\u30ac\u30fc\u7684\u306a\u3084\u3064\u3067\u3059\u3002\u305f\u3068\u3048\u3070 \n    - ` ` \u2192 `\\s*`  (\u7a7a\u767d0\u500b\u4ee5\u4e0a\u306e\u610f\u5473)\n    - `<` \u2192 `(?:`  (\u7701\u7565\u53ef\u80fd\u306e\u958b\u59cb\u30ab\u30c3\u30b3)\n    - `>` \u2192 `)?`  (\u7701\u7565\u53ef\u80fd\u306e\u7d42\u4e86\u30ab\u30c3\u30b3)\n    \u3068\u5b9a\u7fa9\u3057\u3066\u304a\u304f\u3053\u3068\u3067 `(A)(?:\\s*(B)(?:\\s*(C))?)?` \u304c `(A)< (B)< (C)>>` \u3068\u66f8\u3051\u307e\u3059\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u30af\u30e9\u30b9\u3092\u5373\u5e2d\u3067\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u5229\u7528\u3059\u308b\u3068\u304d\u306b\u306f `reSweetDate.toRegExp('(A)< (B)< (C)>>')` \u3068\u3057\u3066\u6b63\u5f0f\u306a\u6b63\u898f\u8868\u73fe\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n- \u3010ES6\u3011ES6 \u3067\u306f `class` \u69cb\u6587\u304c\u4f7f\u3048\u307e\u3059\u3002\u4fbf\u5229\u3067\u3059\u306d\u3002`function() {}` \u306e\u4e2d\u3067\u5b9a\u7fa9\u3059\u308c\u3070\u3001\u305d\u308c\u306f\u305d\u306e\u4e2d\u3060\u3051\u306e\u30b9\u30b3\u30fc\u30d7\u306b\u306a\u308a\u307e\u3059\u3002\n- \u3010ES6\u3011`class` \u306e\u4e2d\u3067\u306f `constructor()` \u3067\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n- \u3010ES6\u3011`for (let \u5909\u6570 of \u30a4\u30c6\u30ec\u30fc\u30bf\u53ef\u80fd\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8) {` \u3067\u5f93\u6765\u306e `for (var \u5909\u6570 in \u30aa\u30d6\u30b8\u30a7\u30af\u30c8) {` \u3088\u308a\u3082\u7684\u78ba\u306b\u30eb\u30fc\u30d7\u3067\u304d\u307e\u3059\u3002 \n- \u3010ES6\u3011`Object.keys(replacements)` \u3067\u9023\u60f3\u914d\u5217\u304b\u3089\u30ad\u30fc\u306e\u914d\u5217\u3092\u53d6\u308a\u51fa\u305b\u307e\u3059\u3002\n- \u3010ES6\u3011`` `\\\\b${search}\\\\b` `` \u306e\u3088\u3046\u306b `` `\uff5e` `` \u3067\u56f2\u3080\u3053\u3068\u3067 `${\uff5e}` \u3092\u5c55\u958b\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3064\u307e\u308a `'\\\\b' + search + '\\\\b'` \u3068\u66f8\u3044\u305f\u306e\u3068\u540c\u3058\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n- \u3010ES6\u3011`{search, replace}` \u306e\u3088\u3046\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ea\u30c6\u30e9\u30eb\u306b\u5909\u6570\u3092\u6e21\u3059\u3068\u3001`{search: search, replace: replace}` \u3068\u66f8\u304f\u306e\u3068\u540c\u3058\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002\u5197\u9577\u306a\u8868\u8a18\u304c\u6e1b\u308a\u3001\u305d\u306e\u5206\u3001\u91cd\u8981\u306a\u90e8\u5206\u304c\u7d1b\u308c\u3065\u3089\u304f\u306a\u308a\u307e\u3059\u3002\n- \u3010\u6b63\u898f\u8868\u73fe\u3011`if (search.match(/^\\w+$/)) {` \u306f\u5358\u8a9e\u306b\u4f7f\u3046\u6587\u5b57(a-zA-Z0-9_)\u306e\u307f\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u305f\u3089\u3068\u3044\u3046\u610f\u5473\u3067\u3059\u3002\n\n\n```JavaScript\n    const RE_DATES = [\n        '<(YYYY)\u5e74> (D2)\u6708 (D2)\u65e5 <WEEK> ',\n        '<(YYYY)/>(D2)/(D2)(?: WEEK |\\\\b )',\n        '(YYYY)-(D2)-(D2)(?: WEEK |\\\\b )',\n        '<(YYYY)\\\\.>(D2)\\\\.(D2)(?: WEEK |\\\\b )',\n    ];\n    const RE_TIMES = [\n        '(D2)() TO (D2)() \u6642',\n        'TIME_JA <TO TIME_JA>',\n        'TIME_EN <TO TIME_EN>',\n        '()()()()',\n    ];\n```\n\n- \u3010\u8aac\u660e\u3011\u65e5\u306e\u66f8\u304d\u65b9\u3068\u3001\u6642\u306e\u66f8\u304d\u65b9\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u629c\u304d\u51fa\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u3042\u3068\u3067\u3059\u3079\u3066\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u4f5c\u3063\u3066\u3042\u3068\u3067\u7dcf\u5f53\u308a\u30c1\u30a7\u30c3\u30af\u3055\u305b\u307e\u3059\u3002\n- \u3010\u8aac\u660e\u3011\u4e00\u756a\u4e0b\u306e `()()()()` \u306f\u3001\u6642\u523b\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002\u5f8c\u306e\u51e6\u7406\u3067\uff4e\u756a\u76ee\u306e\u30ab\u30c3\u30b3\u306e\u4e2d\u8eab\u3068\u3044\u3046\u5177\u5408\u306b\u53d6\u5f97\u3059\u308b\u306e\u3067 `()` \u306e\u6570\u3092\u540c\u3058\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n- \u3010ES6\u3011`const` \u306f\u5b9a\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002`let` \u3068\u540c\u69d8 `{ \uff5e }` \u306e\u30b9\u30b3\u30fc\u30d7\u3067\u3059\u3002\u9055\u3044\u306f\u66f8\u304d\u63db\u3048\u3089\u308c\u307e\u305b\u3093\u3002\u305f\u3060\u3057\u3001\u5b9a\u6570\u305d\u306e\u3082\u306e\u304c\u66f8\u304d\u63db\u3048\u3089\u308c\u306a\u3044\u3060\u3051\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u3084\u914d\u5217\u306e\u8981\u7d20\u306f\u66f8\u304d\u63db\u3048\u53ef\u80fd\u3067\u3059\u3002\n\n```JavaScript\n    let dtReList = [];\n    for (let d of RE_DATES) {\n        for (let t of RE_TIMES) {\n            let re = reSweetDate.toRegExp(`\\\\s*${d}${t}\\\\s*`);\n            dtReList.push(re);\n        }\n    }\n```\n\n- \u3010\u30c6\u30af\u30cb\u30c3\u30af\u3011\u65e5\u3068\u6642\u3001\uff14\u3064\u305a\u3064\u3042\u308b\u30d1\u30bf\u30fc\u30f3\u306e\u7dcf\u5f53\u308a\u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u300216\u30d1\u30bf\u30fc\u30f3\u306e\u6b63\u898f\u8868\u73fe\u304c\u4f5c\u3089\u308c\u307e\u3059\u3002\u30d1\u30bf\u30fc\u30f3\u304c\u5897\u3048\u308b\u3068\u639b\u3051\u7b97\u3067\u7dcf\u6570\u304c\u5897\u3048\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u30d6\u30c3\u30af\u30de\u30fc\u30af\u30ec\u30c3\u30c8\u3068\u3044\u3046\u4f7f\u7528\u65b9\u6cd5\u306a\u3089\u3001\u5fae\u3005\u305f\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3088\u308a\u3082\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u6027\u304c\u512a\u5148\u3055\u308c\u308b\u306e\u3067\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u9078\u629e\u7bc4\u56f2\u306f\u305d\u308c\u307b\u3069\u5927\u304d\u304f\u3082\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u72a0\u7272\u3068\u3044\u3063\u3066\u3082\u5224\u3089\u306a\u3044\u307b\u3069\u3067\u3057\u3087\u3046\u3002\n\n```JavaScript\n    const zf = n => ('0' + n).slice(-2);\n```\n\n- \u3010JavaScript\u3011`('0' + n).slice(-2)` \u306f\uff12\u6841\u3067\u30bc\u30ed\u57cb\u3081\u3059\u308b\u4e00\u822c\u7684\u306a\u624b\u6cd5\u3067\u3059\u3002\n- \u3010ES6\u3011`const zf = n => \uff5e ;` \u306f\u30e9\u30e0\u30c0\u5f0f\u3067\u95a2\u6570 zf \u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002`const zf = function (n) { return \uff5e; };` \u3068\u66f8\u304f\u306e\u3068\u307b\u307c\u540c\u3058\u3067\u3059\u3002\u30e9\u30e0\u30c0\u5f0f\u306f\u30ed\u30b8\u30c3\u30af\u3092 `function` \u306a\u3069\u306e\u9577\u3044\u6587\u5b57\u5217\u306a\u3057\u306b\u7aef\u7684\u306b\u8868\u73fe\u3067\u304d\u307e\u3059\u3002\u6587\u6cd5\u306e\u305f\u3081\u306e\u6587\u5b57\u304c\u6e1b\u308b\u3053\u3068\u3067\u3001\u30ed\u30b8\u30c3\u30af\u304c\u898b\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\u3055\u304d\u307b\u3069\u300c\u307b\u307c\u300d\u540c\u3058\u3068\u8a00\u3063\u305f\u306e\u306f `this` \u304c\u7f6e\u304d\u63db\u308f\u3089\u306a\u3044\u70b9\u3068\u3001`var` \u306e\u30b9\u30b3\u30fc\u30d7\u5bfe\u8c61\u306b\u306a\u3089\u306a\u3044\u70b9\u304c\u7570\u306a\u308b\u305f\u3081\u3067\u3059\u3002\n\n\n```JavaScript\n    const analyzeYmd = (is2nd, y, m, d) => {\n        let dt = new Date(`${y}-${m}-${d}`);\n        if (isNaN(dt)) { return; }\n        if (is2nd) { //\u65e5\u6642\u306e\uff12\u3064\u76ee\u306f\u7fcc\u65e5\n            dt = new Date(dt.getTime() + 24 * 3600 * 1000);\n        }\n        return {\n            hasHi: false,\n            str: `${y}${zf(dt.getMonth()+1)}${zf(dt.getDate())}`\n        };\n    };\n```\n\n- \u3010\u8aac\u660e\u3011\u5f15\u6570 `y`, `m`, `d` \u3092\u53d7\u3051\u53d6\u3063\u3066\u3001\u65e5\u4ed8\u3068\u3057\u3066\u6b63\u3057\u3044\u304b\u3092\u8a55\u4fa1\u3057\u3001\u6b63\u3057\u3051\u308c\u3070 Google \u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u6e21\u305b\u308b\u5f62\u5f0f\u306e\u65e5\u4ed8\u6587\u5b57\u5217\uff08\u3092\u542b\u3080\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\u3092\u8fd4\u3057\u3001\u6b63\u3057\u304f\u306a\u3051\u308c\u3070\u4f55\u3082\u8fd4\u3055\u306a\u3044\u95a2\u6570\u3067\u3059\u3002\n- \u3010JavaScript\u3011`isNaN(dt)` \u306f Date \u578b\u3067\u65e5\u4ed8\u304c\u4e0d\u6b63\u306a\u5834\u5408\u306b true \u306b\u306a\u308b\u306e\u3067\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n- \u3010Google\u30ab\u30ec\u30f3\u30c0\u30fc\u3011\u6642\u523b\u304c\u306a\u3044\u5834\u5408\u306f `yyyymmdd/yyyymmdd` \u3068\u3044\u3046\u6587\u5b57\u5217\u3067\u65e5\u4ed8\u7bc4\u56f2\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u3068\u304d\u3001\uff12\u3064\u76ee\u306e\u65e5\u4ed8\u306f\u7fcc\u65e5\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3064\u307e\u308a 2000/1/1\uff5e2000/1/2 \u306a\u3089 `20000101/20000103` \u3068\u306a\u308a\u307e\u3059\u3002\n- \u3010JavaScript\u3011`dt = new Date(dt.getTime() + 24 * 3600 * 1000)` \u306f\u7fcc\u65e5\u306b\u3059\u308b\u4e00\u822c\u7684\u306a\u65b9\u6cd5\u3067\u3059\u3002\n\n\n```JavaScript\n    const analyzeYmdhi = (is2nd, y, m, d, h, i) => {\n        i = i || '00';\n        if (i === '\u534a') { i = '30'; }\n        i = i.replace(/\u5206$/, '');\n        let dt = new Date(`${y}-${m}-${d} ${h}:${i}`);\n        if (isNaN(dt)) { //\u6642\u9593\u3068\u3063\u3066\u3082\u6210\u7acb\u304b\n            return analyzeYmd(is2nd, y, m, d);\n        }\n        return {\n            hasHi: true,\n            str: dt.toISOString().replace(/(:|-|\\.\\d+)/g, '')\n        };\n    };\n```\n\n- \u3010\u8aac\u660e\u3011\u5f15\u6570 `y`, `m`, `d`, `h`, `i` \u3092\u53d7\u3051\u53d6\u3063\u3066\u3001\u65e5\u6642\u3068\u3057\u3066\u6b63\u3057\u3044\u304b\u3092\u8a55\u4fa1\u3057\u3001\u6b63\u3057\u3051\u308c\u3070 Google \u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u6e21\u305b\u308b\u5f62\u5f0f\u306e\u65e5\u4ed8\u6587\u5b57\u5217\uff08\u3092\u542b\u3080\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\u3092\u8fd4\u3057\u307e\u3059\u3002\u6b63\u3057\u304f\u306a\u3051\u308c\u3070\u65e5\u4ed8\u3060\u3051\u3067\u89e3\u91c8\u53ef\u80fd\u304b\u3092\u8a66\u307f\u307e\u3059\u3002\n- \u3010\u8aac\u660e\u3011`i` \u306f\u300c\u5206\u300d\u306e\u610f\u5473\u3067\u3059\u3002`m` \u3067\u306f\u300c\u6708\u300d\u3068\u88ab\u308a\u307e\u3059\u3057\u3001mysql \u3084 php \u306a\u3069\u306e\u65e5\u4ed8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u306f `ymdhis` \u3068\u8868\u73fe\u3055\u308c\u308b\u3053\u3068\u304c\u591a\u3044\u305f\u3081\u3001\u3053\u3053\u3067\u306f `i` \u3068\u3044\u3046\u540d\u524d\u3092\u3064\u3051\u3066\u3044\u307e\u3059\u3002\n- \u3010Google\u30ab\u30ec\u30f3\u30c0\u30fc\u3011\u6642\u523b\u304c\u3042\u308b\u5834\u5408\u306f `yyyymmddThhii00Z/yyyymmddThhii00Z` \u3068\u3044\u3046\u6587\u5b57\u5217\u3067\u65e5\u4ed8\u7bc4\u56f2\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002GMT\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3067\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\uff12\u3064\u76ee\u306e\u65e5\u4ed8\u306f\u7279\u306b\u7fcc\u65e5\u306b\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u30022000/1/1 09:00\uff5e2000/1/1 10:00 \u306a\u3089 `20000101T000000Z/20000101T010000Z` \u3068\u306a\u308a\u307e\u3059\u3002\n- \u3010\u30c6\u30af\u30cb\u30c3\u30af\u3011`dt.toISOString()` \u306f GMT \u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3067 yyyy-mm-ddThh:ii:ss.mmmZ \u3068\u3044\u3046\u6587\u5b57\u5217\u3092\u8fd4\u3057\u307e\u3059\u306e\u3067\u3001\u3053\u3053\u304b\u3089 `.replace(/(:|-|\\.\\d+)/g, '')` \u3067\u4f59\u5206\u306a\u6587\u5b57\u3092\u64a4\u53bb\u3057\u3066\u3001\u6b32\u3057\u3044\u6587\u5b57\u5217\u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u304c\u4e00\u756a\u7c21\u5358\u304b\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n\n\n```JavaScript\n    let date1 = null, date2 = null;\n    const pickupDate = (...args) => {\n        if (date2) { return ''; }\n        let [a, y, m, d, h, i, h2, i2] = args;\n        y = y || (date1 && date1.args[1]) || NOW.getFullYear();\n        if (y.replace) {\n            y = y.replace(reSweetDate.toRegExp('^HEISEI (\\\\d+)'), (a, y) => y * 1 + 1988);\n            y = y.replace(reSweetDate.toRegExp('^SHOWA (\\\\d+)'), (a, y) => y * 1 + 1925);\n        }\n        let obj;\n        if (h) {\n            obj = analyzeYmdhi(!!date1, y, m, d, h, i);\n        } else {\n            obj = analyzeYmd(!!date1, y, m, d);\n        }\n        if (!obj) { return a; }\n        if (date1 && date1.hasHi != obj.hasHi) { return a; } //\u524d\u3068\u66f8\u5f0f\u304c\u9055\u3046\u306a\u3089\n        if (date1) {\n            date2 = obj;\n        } else {\n            obj.args = args;\n            date1 = obj;\n        }\n        if (h2) {\n            pickupDate(a, y, m, d, h2, i2);\n        }\n        return '';\n    };\n```\n\n- \u3010\u8aac\u660e\u3011`pickupDate()` \u306f\u9078\u629e\u7bc4\u56f2\u5185\u3067\u65e5\u4ed8\u304c\u30d2\u30c3\u30c8\u3059\u308b\u305f\u3073\u306b\u547c\u3070\u308c\u308b\u95a2\u6570\u3067\u3059\u3002`replace()` \u306e\u7b2c\uff12\u5f15\u6570\u3067\u7f6e\u304d\u63db\u3048\u6587\u5b57\u5217\u306e\u4ee3\u308f\u308a\u306b\u6e21\u3057\u307e\u3059\u3002\u95a2\u6570\u306e\u4e2d\u3067\u306f\uff11\u3064\u76ee\u306b\u30d2\u30c3\u30c8\u3057\u305f\u65e5\u6642\u306f `date1` \u306b\u3001\uff12\u3064\u76ee\u306f `date2` \u306b\u30bb\u30c3\u30c8\u3057\u3001\uff13\u3064\u76ee\u4ee5\u964d\u306f\u7121\u8996\u3057\u307e\u3059\u3002\n- \u3010\u30c6\u30af\u30cb\u30c3\u30af\uff1f\u3011\u6700\u521d\u306f `dates` \u3068\u3044\u3046\u914d\u5217\u3092\u4f7f\u3063\u3066 `dates[0]` \u3068\u3084\u3063\u3066\u305f\u306e\u3067\u3059\u304c\u3001\u7d50\u5c40\u306f `date1` \u306e\u307b\u3046\u304c\u76f4\u611f\u7684\u3067\u8aad\u307f\u3084\u3059\u304f\u306a\u3063\u305f\u306e\u3067\u3001\u3053\u3061\u3089\u306b\u3057\u307e\u3057\u305f\u3002\n- \u3010ES6\u3011`let [a, y, m, d, h, i, h2, i2] = args;` \u306f\u3001`args` \u306e\u4e2d\u8eab\u3092\u9806\u306b\u5909\u6570\u306b\u5272\u308a\u5f53\u3066\u307e\u3059\u3002`a` \u306b\u306f `args[0]` \u306e\u5024\u304c\u5165\u308a\u3001`y` \u306b\u306f `args[1]` \u306e\u5024\u304c\u5165\u308a\u307e\u3059\u3002\n- \u3010JavaScript\u3011`y = y || (date1 && date1.args[1]) || NOW.getFullYear();` \u306f `y` \u304c\u3042\u308c\u3070 `y` \u3001\u306a\u3051\u308c\u3070 `(date1 && date1.args[1])`\u3001\u3053\u308c\u3082\u306a\u3051\u308c\u3070 `NOW.getFullYear()` \u3068\u3044\u3046\u3088\u3046\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092 `||` \u533a\u5207\u308a\u3067\u8868\u8a18\u3067\u304d\u307e\u3059\u3002\n- \u3010JavaScript\u3011`y = y.replace(reSweetDate.toRegExp('^HEISEI (\\\\d+)'), (a, y) => y * 1 + 1988)` \u306f\u3001\u300c\u5e73\u6210\u300d\u3068\u3044\u3046\u6587\u5b57\u306e\u7f6e\u304d\u63db\u3048\u3092\u8a66\u307f\u3066\u3001\u30d2\u30c3\u30c8\u3057\u305f\u3089\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u547c\u3070\u308c\u308b\u4ed5\u7d44\u307f\u3067\u3059\u3002\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u306f\u3001`a` \u306b\u30d2\u30c3\u30c8\u3057\u305f\u6587\u5b57\u5217\u5168\u4f53\u304c\u3001`y` \u306b\u306f\u6700\u521d\u306e\u30ab\u30c3\u30b3\u306e\u5024\u304c(\u6587\u5b57\u5217\u3067)\u5165\u308a\u307e\u3059\u306e\u3067\u3001`* 1` \u3067\u6570\u5024\u5316\u3057\u3066 `1988` \u3092\u8db3\u3059\u3053\u3068\u3067\u897f\u66a6\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n- \u3010JavaScript\u3011`analyzeYmdhi(!!date1, y, m, d, h, i)` \u306b `!!` \u3068\u3044\u3046\u6f14\u7b97\u5b50\u304c\u51fa\u3066\u304d\u3066\u9a5a\u3044\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u308c\u306f `!` \u3092\uff12\u56de\u884c\u3046\u3053\u3068\u3067 `(date1 ? true : false)` \u3068\u540c\u3058\u610f\u5473\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a \u660e\u793a\u7684\u306b boolean \u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u9014\u4e2d\u3067\u3059\u304c\n============\n\n\u4e00\u65e6\u3053\u3053\u307e\u3067\u3067\u30a2\u30c3\u30d7\u3057\u3066\u307f\u307e\u3059\u3002\n\u66f8\u304d\u306a\u304c\u3089\u8aac\u660e\u3057\u3065\u3089\u3044\u306a\u30fc\u3063\u3068\u611f\u3058\u305f\u3068\u3053\u308d\u306f\u9069\u5b9c\u3001\u30ea\u30d5\u30a1\u30af\u30bf\u3057\u306a\u304c\u3089\u9032\u3081\u307e\u3057\u305f\u3002\n\u305d\u306e\u969b\u3082\u5358\u4f53\u30c6\u30b9\u30c8\u304c\u3042\u308b\u306e\u3067\u30ea\u30d5\u30a1\u30af\u30bf\u304c\u975e\u5e38\u306b\u697d\u3067\u3059\u3002\u5358\u4f53\u30c6\u30b9\u30c8\u3067\u697d\u306b\u306a\u308b\u306e\u3092\u77e5\u3089\u306a\u3044\u4eba\u306f\u305c\u3072\u77e5\u3063\u3066\u3082\u3089\u3044\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u306d\u3002\n\u53cd\u97ff\u304c\u3042\u308c\u3070\u3001\u6b21\u56de\u306f\u5f8c\u534a\u90e8\u5206\u3068\u3001\u5358\u4f53\u30c6\u30b9\u30c8\u306e\u8aac\u660e\u3092\u66f8\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["bookmarklet", "Chrome", "JavaScript", "es6"]}