{"context": " More than 1 year has passed since last update.\n\nGiLab CI | GiLab CI \u3067 branch \u3054\u3068\u306b build \u5185\u5bb9\u3092\u5207\u308a\u66ff\u3048\u308b\n\n\u6982\u8981\nGiLab CI \u3067 branch \u3054\u3068\u306b build \u5185\u5bb9\u3092\u5207\u308a\u66ff\u3048\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3002\nGitLab CI \u306f push \u306b\u5bfe\u3057\u3066\u5e38\u306b build script \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n branch \u3054\u3068\u306b build \u5185\u5bb9\u3092\u5207\u308a\u66ff\u3048\u305f\u3044\u5834\u5408\u306f\u3001 build script \u5185\u3067\n$CI_BUILD_REF_NAME \u74b0\u5883\u5909\u6570\u3092\u5229\u7528\u3057\u3066\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u53c2\u7167\u3057\u3001\u51e6\u7406\u3092\u5206\u5c90\u3092\u3055\u305b\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\n\nbuild-script\nif [ $CI_BUILD_REF_NAME = \"master\" ] ; then\n  echo \"build master\"\n  git submodule update --init\n  ls -la\n  bundle install\n  rspec\n  exit 0\nelif [[ \"$CI_BUILD_REF_NAME\" =~ ^tp_.*$ ]] ; then\n  echo \"build topic branch\"\n  git submodule update --init\n  ls -la\n  bundle install\n  rspec\n  exit 0\nelse\n  echo \"not target branch\"\n  exit 0\nfi\n\n\n\n\u30c7\u30d7\u30ed\u30a4\u8a66\u884c\n\nmaster \u30d6\u30e9\u30f3\u30c1\u3092 push\nGitLab CI \u306e\u30c7\u30d7\u30ed\u30a4 \u30ed\u30b0\u3092\u78ba\u8a8d\n# :\n# \u7565\n# :\necho \"build master\"\nbuild master\n# :\n# \u7565\n# :\n8 examples, 0 failures\nexit 0\n\n\ntp_some_topic \u30d6\u30e9\u30f3\u30c1\u3092 push\nGitLab CI \u306e\u30c7\u30d7\u30ed\u30a4 \u30ed\u30b0\u3092\u78ba\u8a8d\n# :\n# \u7565\n# :\necho \"build topic branch\"\nbuild topic branch\n# :\n# \u7565\n# :\n8 examples, 0 failures\nexit 0\n\n\nother \u30d6\u30e9\u30f3\u30c1\u3092 push\nGitLab CI \u306e\u30c7\u30d7\u30ed\u30a4 \u30ed\u30b0\u3092\u78ba\u8a8d\n# :\n# \u7565\n# :\necho \"not target branch\"\nnot target branch\nexit 0\n\n# GiLab CI | GiLab CI \u3067 branch \u3054\u3068\u306b build \u5185\u5bb9\u3092\u5207\u308a\u66ff\u3048\u308b\n\n## \u6982\u8981\nGiLab CI \u3067 branch \u3054\u3068\u306b build \u5185\u5bb9\u3092\u5207\u308a\u66ff\u3048\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3002\n\nGitLab CI \u306f *push* \u306b\u5bfe\u3057\u3066\u5e38\u306b *build script* \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n branch \u3054\u3068\u306b build \u5185\u5bb9\u3092\u5207\u308a\u66ff\u3048\u305f\u3044\u5834\u5408\u306f\u3001 *build script* \u5185\u3067\n$CI_BUILD_REF_NAME \u74b0\u5883\u5909\u6570\u3092\u5229\u7528\u3057\u3066\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u53c2\u7167\u3057\u3001\u51e6\u7406\u3092\u5206\u5c90\u3092\u3055\u305b\u307e\u3059\u3002\n\n## \u30b5\u30f3\u30d7\u30eb\n\n~~~bash:build-script\nif [ $CI_BUILD_REF_NAME = \"master\" ] ; then\n  echo \"build master\"\n  git submodule update --init\n  ls -la\n  bundle install\n  rspec\n  exit 0\nelif [[ \"$CI_BUILD_REF_NAME\" =~ ^tp_.*$ ]] ; then\n  echo \"build topic branch\"\n  git submodule update --init\n  ls -la\n  bundle install\n  rspec\n  exit 0\nelse\n  echo \"not target branch\"\n  exit 0\nfi\n~~~\n\n## \u30c7\u30d7\u30ed\u30a4\u8a66\u884c\n### master \u30d6\u30e9\u30f3\u30c1\u3092 push\n\nGitLab CI \u306e\u30c7\u30d7\u30ed\u30a4 \u30ed\u30b0\u3092\u78ba\u8a8d\n\n~~~\n# :\n# \u7565\n# :\necho \"build master\"\nbuild master\n# :\n# \u7565\n# :\n8 examples, 0 failures\nexit 0\n~~~\n\n### tp_some_topic \u30d6\u30e9\u30f3\u30c1\u3092 push\n\nGitLab CI \u306e\u30c7\u30d7\u30ed\u30a4 \u30ed\u30b0\u3092\u78ba\u8a8d\n\n~~~\n# :\n# \u7565\n# :\necho \"build topic branch\"\nbuild topic branch\n# :\n# \u7565\n# :\n8 examples, 0 failures\nexit 0\n~~~\n\n### other \u30d6\u30e9\u30f3\u30c1\u3092 push\n\nGitLab CI \u306e\u30c7\u30d7\u30ed\u30a4 \u30ed\u30b0\u3092\u78ba\u8a8d\n\n~~~\n# :\n# \u7565\n# :\necho \"not target branch\"\nnot target branch\nexit 0\n~~~\n", "tags": ["GitLab-CI5", "GitLab7"]}