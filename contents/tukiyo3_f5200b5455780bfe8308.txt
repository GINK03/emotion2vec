{"context": " More than 1 year has passed since last update.\n\n\u554f\u984c\n\u4e0b\u8a18\u306e\u3088\u3046\u306bcert\u3092\u524a\u9664\u3057\u305f\u3068\u3059\u308b\u3002\n\npuppetmaster\n# sudo puppet cert --list\nclient.local\n# sudo puppet cert --clean client.local\n\n\n\nclient.local(\u3053\u308c\u306f\u52d5\u304f)\n# sudo puppet agent --server puppetmaster.local --test --noop --verbose\n\n\n\u3053\u306e\u72b6\u614b\u3060\u3068puppetmaster\u5074\u304b\u3089client\u5074\u306bpuppet kick\u304c\u51fa\u6765\u306a\u304f\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3046\u3002\n\npuppet client\u5074\u3067\u5b9f\u65bd\n\n\u3082\u3057\u8d77\u52d5\u3057\u3066\u3044\u305f\u3089\u6b62\u3081\u308b\n# service puppet stop\n\n\n\n/var/lib/puppet/ssl/\u3092\u3056\u3063\u304f\u308a\u524a\u9664\n# mv /var/lib/puppet/ssl/ ~/ssl.gomi/\n\n\n# sudo puppet agent --server puppetmaster.local --test --noop --verbose\n\n\u3053\u308c\u3067puppetmaster\u5074\u306b\u3066cert --list\u3067\u8868\u793a\u3055\u308c\u308b\u3002\n\npuppetmaster\n# sudo puppet cert --list\nclient.local\n\n\n\u3042\u3068\u306fsign\u3057\u3066\u3042\u3052\u308c\u3070\u3088\u3044\u3002\n## \u554f\u984c\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306bcert\u3092\u524a\u9664\u3057\u305f\u3068\u3059\u308b\u3002\n\n```bash:puppetmaster\n# sudo puppet cert --list\nclient.local\n# sudo puppet cert --clean client.local\n```\n\n```bash:client.local(\u3053\u308c\u306f\u52d5\u304f)\n# sudo puppet agent --server puppetmaster.local --test --noop --verbose\n```\n\n\u3053\u306e\u72b6\u614b\u3060\u3068puppetmaster\u5074\u304b\u3089client\u5074\u306b`puppet kick`\u304c\u51fa\u6765\u306a\u304f\u306a\u3063\u3066\u3044\u308b\u3068\u601d\u3046\u3002\n\n## puppet client\u5074\u3067\u5b9f\u65bd\n\n```bash:\u3082\u3057\u8d77\u52d5\u3057\u3066\u3044\u305f\u3089\u6b62\u3081\u308b\n# service puppet stop\n```\n\n```bash:/var/lib/puppet/ssl/\u3092\u3056\u3063\u304f\u308a\u524a\u9664\n# mv /var/lib/puppet/ssl/ ~/ssl.gomi/\n```\n\n```bash:\n# sudo puppet agent --server puppetmaster.local --test --noop --verbose\n```\n\n\u3053\u308c\u3067puppetmaster\u5074\u306b\u3066`cert --list`\u3067\u8868\u793a\u3055\u308c\u308b\u3002\n\n```bash:puppetmaster\n# sudo puppet cert --list\nclient.local\n```\n\n\u3042\u3068\u306fsign\u3057\u3066\u3042\u3052\u308c\u3070\u3088\u3044\u3002\n", "tags": ["Puppet"]}