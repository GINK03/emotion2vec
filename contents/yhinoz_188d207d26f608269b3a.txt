{"context": " More than 1 year has passed since last update.\u4ed5\u4e8b\u3067\u3069\u3046\u3057\u3066\u3082FuelPHP\u3067Oracle\u3092\u6271\u3046\u5fc5\u8981\u304c\u3042\u308a\u3001\n\u6a19\u6e96\u306eORM\u3067\u306f\u6271\u3046\u3053\u3068\u304c\u51fa\u6765\u306a\u304b\u3063\u305f\u305f\u3081\u4ed6\u306e\u624b\u6bb5\u3092\u63a2\u3057\u3066\u3044\u305f\u3002\nSymfony\u3067\u4f7f\u308f\u308c\u3066\u3044\u308bdoctrine2\u304c\u4f7f\u3048\u308c\u3070\u697d\u3060\u306a\u3068\u601d\u3044\u5c11\u3057\u8a66\u3057\u305f\u8a71\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\n\u203b \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c6\u30fc\u30d6\u30eb\u306f\u4f5c\u3063\u3066\u3042\u308b\u524d\u63d0\n\ndoctrine2\u3092\u4f7f\u3046\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\n\u8abf\u3079\u3066\u307f\u308b\u3068\u65e2\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u3063\u305f\u306e\u3067\u305d\u308c\u3092\u5229\u7528\u3057\u3066\u307f\u308b\u3002\nhttps://github.com/aspendigital/fuel-doctrine2\n\n\u69cb\u6210\n\u6700\u521d\u306f\u4ee5\u4e0b\u306e\u69d8\u306a\u6a19\u6e96\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306b\u3059\u308b\u3002\nyourdirectory/\n    core/               # fuelphp\u306ecore \n    packages/           # fuelphp\u306epackages\n    app/                # fuelphp\u306eapp\n        bootstrap.php\n        classes/\n        config/\n        views/\n        vendor/         # \u3053\u306e\u4e0b\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u7f6e\u304f\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ncomposer\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u53ef\u80fd\u306a\u306e\u3067\u3001\u307e\u305acomposer.json\u3092\u4f5c\u308b\u3002\n\ncomposer.json\n{\n    \"require\": {\n        \"aspendigital/fuel-doctrine2\": \"dev-master\"\n    },\n    \"config\": {\n        \"vendor-dir\": \"app/vendor\"\n    },\n    \"minimum-stability\": \"dev\"\n}\n\n\ncomposer\u3067install\u3059\u308b\u3002\n$ curl -s 'http://getcomposer.org/installer' |php\n$ php composer.phar install\n\n\u3061\u3083\u3093\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308c\u3070 app/vendor \u306e\u4e0b\u306b\u8272\u3005\u7f6e\u304b\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n\ndoctrine2\u3092\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a\n\nautoload\n\u4f55\u3082\u3057\u306a\u3044\u3068\u8aad\u307f\u8fbc\u307e\u308c\u305a\u4f7f\u3048\u306a\u3044\u306e\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\napp/bootstrap.php\n<?php\n\n// Load in the Autoloader\nrequire COREPATH.'classes'.DIRECTORY_SEPARATOR.'autoloader.php';\nclass_alias('Fuel\\\\Core\\\\Autoloader', 'Autoloader');\n\n// Bootstrap the framework DO NOT edit this\nrequire COREPATH.'bootstrap.php';\n\n/**\n * \u3053\u3053\u304b\u3089\u8ffd\u52a0\n */\n// app/vendor\u4ee5\u4e0b\u3092autoload\u3059\u308b\nrequire APPPATH.'vendor'.DIRECTORY_SEPARATOR.'autoload.php';\n\n// Entity\u3068Repository\u304c\u5c5e\u3059\u308b\\Entity\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u3092FuelPHP\u306eAutoloader\u306b\u8ffd\u52a0\nAutoloader::add_namespace('Entity', APPPATH.'classes'.DIRECTORY_SEPARATOR.'entity'.DIRECTORY_SEPARATOR);\n/**\n * \u3053\u3053\u307e\u3067\n */\n\nAutoloader::add_classes(array(\n));\n\n// Register the autoloader\nAutoloader::register();\n\n/**\n * Your environment.  Can be set to any of the following:\n *\n * Fuel::DEVELOPMENT\n * Fuel::TEST\n * Fuel::STAGING\n * Fuel::PRODUCTION\n */\nFuel::$env = (isset($_SERVER['FUEL_ENV']) ? $_SERVER['FUEL_ENV'] : Fuel::DEVELOPMENT);\n\n// Initialize the framework with the config file.\nFuel::init('config.php');\n\n\n\ndb\ndatabase\u306e\u8a2d\u5b9a\u3082\u3084\u3089\u306a\u3044\u3068\u4f7f\u3048\u306a\u3044\u3002\n\napp/config/db.php\n<?php\n\nreturn array(\n    'doctrine2' => array(\n        'proxy_dir' => APPPATH.'classes'.DIRECTORY_SEPARATOR.'proxy',\n        'proxy_namespace' => 'Proxy',\n        'metadata_path' => APPPATH.'classes'.DIRECTORY_SEPARATOR.'entity',\n    ),\n    'default' => array(\n        'type' => 'pdo',\n        'connection' => array(\n            'dsn' => 'oci:dbname=yourdb',       // \u3053\u308c\u306foracle\u7528\u306e\u8a2d\u5b9a\n            'username' => 'yourdbusername',\n            'password' => 'yourdbpasswd',\n            'persistent' => false,\n        ),\n        'identifier' => '',\n        'table_prefix' => '',\n        'charset' => 'utf8',\n        'caching' => true,\n        'profiling' => false,\n    ),\n);\n\n\n\nview\nEntity\u30af\u30e9\u30b9\u304cFuelPHP\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u6a5f\u80fd\u306b\u5f15\u3063\u304b\u304b\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001view\u3067\u6271\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\u90fd\u5ea6\u8ffd\u52a0\u3059\u308b\u306e\u306f\u3081\u3093\u3069\u304f\u3055\u3044\u306e\u3067\u57fa\u5e95\u30af\u30e9\u30b9\u3092\u4f5c\u308a\u305d\u308c\u3092\u7d99\u627f\u3001\u7d99\u627f\u3057\u3066\u3044\u308b\u3082\u306e\u3060\u3051\u8a31\u53ef\u3092\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\napp/config/config.php\n<?php\n\nreturn array(\n    // ...\n    'security' => array(\n        'whitelisted_classes' => array(\n            'Fuel\\\\Core\\\\Response',\n            'Fuel\\\\Core\\\\View',\n            'Fuel\\\\Core\\\\ViewModel',\n            'Closure',\n            'Entity\\\\Base',             // \u3053\u308c\u3092\u8ffd\u52a0\u3059\u308b\n        ),\n    ),\n    // ...\n);\n\n\n\n\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f5c\u308b\n\u5b9a\u7fa9\u3092yaml\u306a\u3069\u3067\u4f5c\u3063\u3066\u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u308c\u308b\u3002\n...\u304c\u3001\u8272\u3005\u5de5\u592b\u3057\u306a\u3044\u3068\u4f5c\u308c\u305a\u3001\u4eca\u56de\u306f\u304a\u8a66\u3057\u306a\u306e\u3067\u4e00\u65e6\u624b\u4f5c\u696d\u3067\u4f5c\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\u4eca\u56de\u306f\u7c21\u5358\u306b\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f5c\u308b\u3060\u3051\u306b\u3059\u308b\u3002\n\napp/classes/entity/base.php\n<?php\n\nnamespace Entity;\n\n/**\n * View\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u6a5f\u80fd\u3092\u901a\u904e\u3055\u305b\u308b\u70ba\u306b\u4f5c\u308b\u57fa\u5e95\u30af\u30e9\u30b9\n */\nclass Base\n{\n}\n\n\n\napp/classes/entity/campaign.php\n<?php\n\nnamespace Entity;\n\nuse Doctrine\\ORM\\Mapping as ORM;\n\n/**\n * @Entity(repositoryClass=\"Entity\\CampaignRepository\")\n * @Table(name=\"campaigns\")\n */\nclass Campaign extends Base\n{\n    /**\n     * @Id\n     * @Column(type=\"integer\")\n     * @GeneratedValue(strategy=\"AUTO\")\n     */\n    protected $id;\n\n    /**\n     * @Column(type=\"string\", length=512)\n     */\n    protected $title;\n\n    public function setId($id)\n    {\n        $this->id = $id;\n\n        return $this;\n    }\n\n    public function setTitle($title)\n    {\n        $this->title = $title;\n\n        return $this;\n    }\n\n    public function getId()\n    {\n        return $this->id;\n    }\n\n    public function getTitle()\n    {\n        return $this->title;\n    }\n}\n\n\n\u30ea\u30dd\u30b8\u30c8\u30ea\u3082\u4f5c\u308b\u3002\n\u30e1\u30bd\u30c3\u30c9\u306f\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u3060\u3051\u3002\n\napp/classes/entity/campaignrepository.php\n<?php\n\nnamespace Entity;\n\nuse Doctrine\\ORM\\EntityRepository;\n\nclass CampaignRepository extends EntityRepository\n{\n    public function getCampaignList()\n    {\n        $qb = $this->createQueryBuilder('c');\n        return $qb->getQuery()->getResult();\n    }\n}\n\n\n\nController\u304b\u3089\u4f7f\u3063\u3066\u307f\u308b\n\u5148\u307b\u3069\u4f5c\u3063\u3066\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u3060\u3051\u306e\u7c21\u5358\u306a\u3082\u306e\u3092\u4f5c\u6210\u3002\n\napp/classes/controller/campaign.php\n<?php\n\nuse \\Fuel\\Core\\Controller;\n\nclass Controller_Campaign extends Controller\n{\n    public function action_list()\n    {\n        $em = \\Fuel\\Doctrine::manager();        \n        $campaigns = $em->getRepository('Entity\\Campaign')->getCampaignList();\n\n        $this->theme\n            ->set_template('campaign/list.html.twig')\n            ->set(array(\n                'campaigns' => $campaigns,\n            ));\n\n        return \\Response::forge($this->theme);\n    }\n}\n\n\n\nView\u304b\u3089\u4f7f\u3046\nController\u306b\u3066\u53d6\u5f97\u3057\u305f\u3082\u306e\u3092View\u304b\u3089\u4f7f\u3044\u8868\u793a\u3059\u308b\u3002\n\napp/views/pc/campaign/list.html.twig\n{% extends 'pc/layout.html.twig' %}\n\n{% block contents %}\n<h1>\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u4e00\u89a7</h1>\n\n{% if campaigns is empty %}\n<p>\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u306f\u3042\u308a\u307e\u305b\u3093</p>\n{% else %}\n<ul>\n    {% for campaign in campaigns %}\n        <li>{{ campaign.id }} : {{ campaign.title }}</li>\n    {% endfor %}\n</ul>\n{% endif %}\n{% endblock contents %}\n\n\n\n\u7d42\u308f\u308a\n\u57fa\u672c\u306efetch\u3067\u304d\u308b\u304b\u3060\u3051\u8a66\u3057\u305f\u3002\ninsert,update,delete\u3082\u8a66\u3057\u305f\u3044\u3057\u3001pagination\u3068\u304b\u3082\u8a66\u3057\u305f\u3044\u6240\u3060\u3051\u3069\u6642\u9593\u304c\u306a\u304f\u65ad\u5ff5\u3002\n\u4ee5\u4e0a\u3002\n\n\u4ed5\u4e8b\u3067\u3069\u3046\u3057\u3066\u3082FuelPHP\u3067Oracle\u3092\u6271\u3046\u5fc5\u8981\u304c\u3042\u308a\u3001\n\u6a19\u6e96\u306eORM\u3067\u306f\u6271\u3046\u3053\u3068\u304c\u51fa\u6765\u306a\u304b\u3063\u305f\u305f\u3081\u4ed6\u306e\u624b\u6bb5\u3092\u63a2\u3057\u3066\u3044\u305f\u3002\n\nSymfony\u3067\u4f7f\u308f\u308c\u3066\u3044\u308bdoctrine2\u304c\u4f7f\u3048\u308c\u3070\u697d\u3060\u306a\u3068\u601d\u3044\u5c11\u3057\u8a66\u3057\u305f\u8a71\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\n\n\u203b \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c6\u30fc\u30d6\u30eb\u306f\u4f5c\u3063\u3066\u3042\u308b\u524d\u63d0\n\n## doctrine2\u3092\u4f7f\u3046\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\n\n\u8abf\u3079\u3066\u307f\u308b\u3068\u65e2\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u3063\u305f\u306e\u3067\u305d\u308c\u3092\u5229\u7528\u3057\u3066\u307f\u308b\u3002\n\nhttps://github.com/aspendigital/fuel-doctrine2\n\n## \u69cb\u6210\n\n\u6700\u521d\u306f\u4ee5\u4e0b\u306e\u69d8\u306a\u6a19\u6e96\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306b\u3059\u308b\u3002\n\n```\nyourdirectory/\n\tcore/\t\t\t\t# fuelphp\u306ecore \n\tpackages/\t\t\t# fuelphp\u306epackages\n\tapp/\t\t\t\t# fuelphp\u306eapp\n\t\tbootstrap.php\n\t\tclasses/\n\t\tconfig/\n\t\tviews/\n\t\tvendor/\t\t\t# \u3053\u306e\u4e0b\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u7f6e\u304f\n```\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\ncomposer\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u53ef\u80fd\u306a\u306e\u3067\u3001\u307e\u305acomposer.json\u3092\u4f5c\u308b\u3002\n\n```json:composer.json\n{\n\t\"require\": {\n\t\t\"aspendigital/fuel-doctrine2\": \"dev-master\"\n\t},\n\t\"config\": {\n\t\t\"vendor-dir\": \"app/vendor\"\n\t},\n\t\"minimum-stability\": \"dev\"\n}\n```\n\ncomposer\u3067install\u3059\u308b\u3002\n\n```\n$ curl -s 'http://getcomposer.org/installer' |php\n$ php composer.phar install\n```\n\n\u3061\u3083\u3093\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308c\u3070 app/vendor \u306e\u4e0b\u306b\u8272\u3005\u7f6e\u304b\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n\n## doctrine2\u3092\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a\n\n### autoload\n\n\u4f55\u3082\u3057\u306a\u3044\u3068\u8aad\u307f\u8fbc\u307e\u308c\u305a\u4f7f\u3048\u306a\u3044\u306e\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\n```php:app/bootstrap.php\n<?php\n\n// Load in the Autoloader\nrequire COREPATH.'classes'.DIRECTORY_SEPARATOR.'autoloader.php';\nclass_alias('Fuel\\\\Core\\\\Autoloader', 'Autoloader');\n\n// Bootstrap the framework DO NOT edit this\nrequire COREPATH.'bootstrap.php';\n\n/**\n * \u3053\u3053\u304b\u3089\u8ffd\u52a0\n */\n// app/vendor\u4ee5\u4e0b\u3092autoload\u3059\u308b\nrequire APPPATH.'vendor'.DIRECTORY_SEPARATOR.'autoload.php';\n\n// Entity\u3068Repository\u304c\u5c5e\u3059\u308b\\Entity\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u3092FuelPHP\u306eAutoloader\u306b\u8ffd\u52a0\nAutoloader::add_namespace('Entity', APPPATH.'classes'.DIRECTORY_SEPARATOR.'entity'.DIRECTORY_SEPARATOR);\n/**\n * \u3053\u3053\u307e\u3067\n */\n\nAutoloader::add_classes(array(\n));\n\n// Register the autoloader\nAutoloader::register();\n\n/**\n * Your environment.  Can be set to any of the following:\n *\n * Fuel::DEVELOPMENT\n * Fuel::TEST\n * Fuel::STAGING\n * Fuel::PRODUCTION\n */\nFuel::$env = (isset($_SERVER['FUEL_ENV']) ? $_SERVER['FUEL_ENV'] : Fuel::DEVELOPMENT);\n\n// Initialize the framework with the config file.\nFuel::init('config.php');\n```\n\n### db\n\ndatabase\u306e\u8a2d\u5b9a\u3082\u3084\u3089\u306a\u3044\u3068\u4f7f\u3048\u306a\u3044\u3002\n\n```php:app/config/db.php\n<?php\n\nreturn array(\n\t'doctrine2' => array(\n\t\t'proxy_dir' => APPPATH.'classes'.DIRECTORY_SEPARATOR.'proxy',\n\t\t'proxy_namespace' => 'Proxy',\n\t\t'metadata_path' => APPPATH.'classes'.DIRECTORY_SEPARATOR.'entity',\n\t),\n\t'default' => array(\n\t\t'type' => 'pdo',\n\t\t'connection' => array(\n\t\t\t'dsn' => 'oci:dbname=yourdb',\t\t// \u3053\u308c\u306foracle\u7528\u306e\u8a2d\u5b9a\n\t\t\t'username' => 'yourdbusername',\n\t\t\t'password' => 'yourdbpasswd',\n\t\t\t'persistent' => false,\n\t\t),\n\t\t'identifier' => '',\n\t\t'table_prefix' => '',\n\t\t'charset' => 'utf8',\n\t\t'caching' => true,\n\t\t'profiling' => false,\n\t),\n);\n```\n\n### view\n\nEntity\u30af\u30e9\u30b9\u304cFuelPHP\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u6a5f\u80fd\u306b\u5f15\u3063\u304b\u304b\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001view\u3067\u6271\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\u90fd\u5ea6\u8ffd\u52a0\u3059\u308b\u306e\u306f\u3081\u3093\u3069\u304f\u3055\u3044\u306e\u3067\u57fa\u5e95\u30af\u30e9\u30b9\u3092\u4f5c\u308a\u305d\u308c\u3092\u7d99\u627f\u3001\u7d99\u627f\u3057\u3066\u3044\u308b\u3082\u306e\u3060\u3051\u8a31\u53ef\u3092\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\n```php:app/config/config.php\n<?php\n\nreturn array(\n\t// ...\n\t'security' => array(\n\t\t'whitelisted_classes' => array(\n\t\t\t'Fuel\\\\Core\\\\Response',\n\t\t\t'Fuel\\\\Core\\\\View',\n\t\t\t'Fuel\\\\Core\\\\ViewModel',\n\t\t\t'Closure',\n\t\t\t'Entity\\\\Base',\t\t\t\t// \u3053\u308c\u3092\u8ffd\u52a0\u3059\u308b\n\t\t),\n\t),\n\t// ...\n);\n```\n\n## \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f5c\u308b\n\n\u5b9a\u7fa9\u3092yaml\u306a\u3069\u3067\u4f5c\u3063\u3066\u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u308c\u308b\u3002\n...\u304c\u3001\u8272\u3005\u5de5\u592b\u3057\u306a\u3044\u3068\u4f5c\u308c\u305a\u3001\u4eca\u56de\u306f\u304a\u8a66\u3057\u306a\u306e\u3067\u4e00\u65e6\u624b\u4f5c\u696d\u3067\u4f5c\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\n\u4eca\u56de\u306f\u7c21\u5358\u306b\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u4f5c\u308b\u3060\u3051\u306b\u3059\u308b\u3002\n\n```php:app/classes/entity/base.php\n<?php\n\nnamespace Entity;\n\n/**\n * View\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u6a5f\u80fd\u3092\u901a\u904e\u3055\u305b\u308b\u70ba\u306b\u4f5c\u308b\u57fa\u5e95\u30af\u30e9\u30b9\n */\nclass Base\n{\n}\n```\n\n```php:app/classes/entity/campaign.php\n<?php\n\nnamespace Entity;\n\nuse Doctrine\\ORM\\Mapping as ORM;\n\n/**\n * @Entity(repositoryClass=\"Entity\\CampaignRepository\")\n * @Table(name=\"campaigns\")\n */\nclass Campaign extends Base\n{\n\t/**\n\t * @Id\n\t * @Column(type=\"integer\")\n\t * @GeneratedValue(strategy=\"AUTO\")\n\t */\n\tprotected $id;\n\n\t/**\n\t * @Column(type=\"string\", length=512)\n\t */\n\tprotected $title;\n\n\tpublic function setId($id)\n\t{\n\t\t$this->id = $id;\n\n\t\treturn $this;\n\t}\n\n\tpublic function setTitle($title)\n\t{\n\t\t$this->title = $title;\n\n\t\treturn $this;\n\t}\n\n\tpublic function getId()\n\t{\n\t\treturn $this->id;\n\t}\n\n\tpublic function getTitle()\n\t{\n\t\treturn $this->title;\n\t}\n}\n```\n\n\u30ea\u30dd\u30b8\u30c8\u30ea\u3082\u4f5c\u308b\u3002\n\u30e1\u30bd\u30c3\u30c9\u306f\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u3060\u3051\u3002\n\n```php:app/classes/entity/campaignrepository.php\n<?php\n\nnamespace Entity;\n\nuse Doctrine\\ORM\\EntityRepository;\n\nclass CampaignRepository extends EntityRepository\n{\n\tpublic function getCampaignList()\n\t{\n\t\t$qb = $this->createQueryBuilder('c');\n\t\treturn $qb->getQuery()->getResult();\n\t}\n}\n```\n\n## Controller\u304b\u3089\u4f7f\u3063\u3066\u307f\u308b\n\n\u5148\u307b\u3069\u4f5c\u3063\u3066\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u3060\u3051\u306e\u7c21\u5358\u306a\u3082\u306e\u3092\u4f5c\u6210\u3002\n\n```php:app/classes/controller/campaign.php\n<?php\n\nuse \\Fuel\\Core\\Controller;\n\nclass Controller_Campaign extends Controller\n{\n\tpublic function action_list()\n\t{\n\t\t$em = \\Fuel\\Doctrine::manager();\t\t\n\t\t$campaigns = $em->getRepository('Entity\\Campaign')->getCampaignList();\n\n\t\t$this->theme\n\t\t\t->set_template('campaign/list.html.twig')\n\t\t\t->set(array(\n\t\t\t\t'campaigns' => $campaigns,\n\t\t\t));\n\n\t\treturn \\Response::forge($this->theme);\n\t}\n}\n```\n\n## View\u304b\u3089\u4f7f\u3046\n\nController\u306b\u3066\u53d6\u5f97\u3057\u305f\u3082\u306e\u3092View\u304b\u3089\u4f7f\u3044\u8868\u793a\u3059\u308b\u3002\n\n```twig:app/views/pc/campaign/list.html.twig\n{% extends 'pc/layout.html.twig' %}\n\n{% block contents %}\n<h1>\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u4e00\u89a7</h1>\n\n{% if campaigns is empty %}\n<p>\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u306f\u3042\u308a\u307e\u305b\u3093</p>\n{% else %}\n<ul>\n\t{% for campaign in campaigns %}\n\t\t<li>{{ campaign.id }} : {{ campaign.title }}</li>\n\t{% endfor %}\n</ul>\n{% endif %}\n{% endblock contents %}\n```\n\n## \u7d42\u308f\u308a\n\n\u57fa\u672c\u306efetch\u3067\u304d\u308b\u304b\u3060\u3051\u8a66\u3057\u305f\u3002\ninsert,update,delete\u3082\u8a66\u3057\u305f\u3044\u3057\u3001pagination\u3068\u304b\u3082\u8a66\u3057\u305f\u3044\u6240\u3060\u3051\u3069\u6642\u9593\u304c\u306a\u304f\u65ad\u5ff5\u3002\n\n\u4ee5\u4e0a\u3002\n", "tags": ["FuelPHP", "Doctrine2", "PHP"]}