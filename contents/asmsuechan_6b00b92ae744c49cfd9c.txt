{"context": "\u305f\u3060fluentd\u306edocker image\u306bfluent-plugin-bigquery\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3060\u3051\u3067docker-compose run fluentd \u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u3066fluentd\u304c\u8d77\u52d5\u3057\u307e\u305b\u3093\u3002\n2017-02-14 02:06:20 +0000 [info]: starting fluentd-0.12.31\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-mixin-config-placeholders' version '0.4.0'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-mixin-plaintextformatter' version '0.2.6'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-plugin-bigquery' version '0.4.0'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-plugin-buffer-lightening' version '0.0.2'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-plugin-td' version '0.10.29'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluentd' version '0.12.31'\n2017-02-14 02:06:21 +0000 [info]: adding match in @mainstream pattern=\"docker.**\" type=\"stdout\"\n2017-02-14 02:06:21 +0000 [info]: adding match in @mainstream pattern=\"**\" type=\"file\"\n2017-02-14 02:06:21 +0000 [info]: adding match in @mainstream pattern=\"bigquery.**\" type=\"bigquery\"\n/usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require': cannot load such file -- bigdecimal/util (LoadError)\n    from /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n(\u4e2d\u7565)\n2017-02-14 02:06:21 +0000 [info]: process finished code=256\n2017-02-14 02:06:21 +0000 [warn]: process died within 1 second. exit.\n\ncannot load such file -- bigdecimal/util \u3068\u8a00\u308f\u308c\u3066\u3044\u308b\u3053\u3068\u3088\u308a\u3001\u3069\u3046\u3084\u3089bigquery\u304c\u3044\u306a\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u3002\nfluent-plugin-bigquery\u306eissue\u3092\u898b\u308b\u3068\u5168\u304f\u540c\u3058\u75c7\u72b6\u306e\u3082\u306e\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nhttps://github.com/kaizenplatform/fluent-plugin-bigquery/issues/106\n\u7d50\u8ad6\u7684\u306b\u306f\u3001fluentd\u306edocker image\u3067\u4f7f\u308f\u308c\u3066\u3044\u308balpine\u304c\u30a4\u30e1\u30fc\u30b8\u5bb9\u91cf\u524a\u6e1b\u306e\u305f\u3081ruby-bigdecimal\u3092\u7d44\u307f\u8fbc\u3093\u3067\u3044\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u306e\u3088\u3046\u3067\u3059\u3002\u3053\u3053\u3067fluentd\u306edocker image\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u898b\u305f\u3089\u3053\u306e\u554f\u984c\u306b\u95a2\u9023\u3057\u305fPR\u304c\u3042\u308a\u307e\u3057\u305f\u3002\nhttps://github.com/fluent/fluentd-docker-image/pull/31\n\u3053\u308c\u306ffluent-plugin-bigquery\u3092\u52d5\u304b\u305d\u3046\u3068\u3057\u305f\u3089bigdecimal\u3067\u6012\u3089\u308c\u308b\u304b\u3089\u8ffd\u52a0\u3057\u305f\u3088\u3001\u3068\u3044\u3046PR\u3067\u3059\u304c\u3001close\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u7406\u7531\u3092\u898b\u305f\u3089\u3084\u306f\u308a\u30a4\u30e1\u30fc\u30b8\u306e\u5bb9\u91cf\u3092\u5897\u3084\u3057\u305f\u304f\u306a\u3044\u305d\u3046\u3067\u3059\u3002fluent-plugin-bigquery\u304cActiveSupport\u306b\u4f9d\u5b58\u3057\u3066\u304a\u308a\u3001\u3053\u308c\u304cbigdecimal\u3092\u4f7f\u3046\u304b\u3089\u5fc5\u8981\u3067\u3042\u3063\u3066\u3001\u305d\u3082\u305d\u3082ActiveSupport\u4f9d\u5b58\u306f\u826f\u304f\u306a\u3044\u306e\u3067fluent-plugin-bigquery\u5074\u306e\u554f\u984c\u3067\u3042\u308b\u8a00\u53ca\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u89e3\u6c7a\u65b9\u6cd5\nfluentd\u306eDockerfile\u3067ruby-bigdecimal\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u3061\u306a\u307f\u306bdocker-compose build\u3057\u3066 docker-compose run fluent\u3059\u308b\u3068Unknown output plugin 'bigquery'\u3063\u3066\u8a00\u308f\u308c\u305f\u306e\u306f\u4ee5\u4e0b\u3088\u308a\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002\nhttps://github.com/fluent/fluentd-docker-image/issues/21\nDockerfile\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\nFROM fluent/fluentd\nCOPY fluent.conf /fluentd/etc/\nUSER root\nRUN apk --no-cache --update add ruby-bigdecimal\nUSER fluent\nRUN gem install fluent-plugin-bigquery\n\n\u3053\u308c\u3067\u7121\u4e8b\u306b\u52d5\u304d\u307e\u3057\u305f\u3002\n\u305f\u3060fluentd\u306edocker image\u306bfluent-plugin-bigquery\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3060\u3051\u3067`docker-compose run fluentd` \u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u3066fluentd\u304c\u8d77\u52d5\u3057\u307e\u305b\u3093\u3002\n\n```\n2017-02-14 02:06:20 +0000 [info]: starting fluentd-0.12.31\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-mixin-config-placeholders' version '0.4.0'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-mixin-plaintextformatter' version '0.2.6'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-plugin-bigquery' version '0.4.0'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-plugin-buffer-lightening' version '0.0.2'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluent-plugin-td' version '0.10.29'\n2017-02-14 02:06:21 +0000 [info]: gem 'fluentd' version '0.12.31'\n2017-02-14 02:06:21 +0000 [info]: adding match in @mainstream pattern=\"docker.**\" type=\"stdout\"\n2017-02-14 02:06:21 +0000 [info]: adding match in @mainstream pattern=\"**\" type=\"file\"\n2017-02-14 02:06:21 +0000 [info]: adding match in @mainstream pattern=\"bigquery.**\" type=\"bigquery\"\n/usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require': cannot load such file -- bigdecimal/util (LoadError)\n\tfrom /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n(\u4e2d\u7565)\n2017-02-14 02:06:21 +0000 [info]: process finished code=256\n2017-02-14 02:06:21 +0000 [warn]: process died within 1 second. exit.\n```\n\n`cannot load such file -- bigdecimal/util` \u3068\u8a00\u308f\u308c\u3066\u3044\u308b\u3053\u3068\u3088\u308a\u3001\u3069\u3046\u3084\u3089bigquery\u304c\u3044\u306a\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\nfluent-plugin-bigquery\u306eissue\u3092\u898b\u308b\u3068\u5168\u304f\u540c\u3058\u75c7\u72b6\u306e\u3082\u306e\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\nhttps://github.com/kaizenplatform/fluent-plugin-bigquery/issues/106\n\n\u7d50\u8ad6\u7684\u306b\u306f\u3001fluentd\u306edocker image\u3067\u4f7f\u308f\u308c\u3066\u3044\u308balpine\u304c\u30a4\u30e1\u30fc\u30b8\u5bb9\u91cf\u524a\u6e1b\u306e\u305f\u3081ruby-bigdecimal\u3092\u7d44\u307f\u8fbc\u3093\u3067\u3044\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u306e\u3088\u3046\u3067\u3059\u3002\u3053\u3053\u3067fluentd\u306edocker image\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u898b\u305f\u3089\u3053\u306e\u554f\u984c\u306b\u95a2\u9023\u3057\u305fPR\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\nhttps://github.com/fluent/fluentd-docker-image/pull/31\n\n\u3053\u308c\u306ffluent-plugin-bigquery\u3092\u52d5\u304b\u305d\u3046\u3068\u3057\u305f\u3089bigdecimal\u3067\u6012\u3089\u308c\u308b\u304b\u3089\u8ffd\u52a0\u3057\u305f\u3088\u3001\u3068\u3044\u3046PR\u3067\u3059\u304c\u3001close\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u7406\u7531\u3092\u898b\u305f\u3089\u3084\u306f\u308a\u30a4\u30e1\u30fc\u30b8\u306e\u5bb9\u91cf\u3092\u5897\u3084\u3057\u305f\u304f\u306a\u3044\u305d\u3046\u3067\u3059\u3002fluent-plugin-bigquery\u304cActiveSupport\u306b\u4f9d\u5b58\u3057\u3066\u304a\u308a\u3001\u3053\u308c\u304cbigdecimal\u3092\u4f7f\u3046\u304b\u3089\u5fc5\u8981\u3067\u3042\u3063\u3066\u3001\u305d\u3082\u305d\u3082ActiveSupport\u4f9d\u5b58\u306f\u826f\u304f\u306a\u3044\u306e\u3067fluent-plugin-bigquery\u5074\u306e\u554f\u984c\u3067\u3042\u308b\u8a00\u53ca\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n## \u89e3\u6c7a\u65b9\u6cd5\nfluentd\u306eDockerfile\u3067ruby-bigdecimal\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b`docker-compose build`\u3057\u3066 `docker-compose run fluent`\u3059\u308b\u3068Unknown output plugin 'bigquery'\u3063\u3066\u8a00\u308f\u308c\u305f\u306e\u306f\u4ee5\u4e0b\u3088\u308a\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002\nhttps://github.com/fluent/fluentd-docker-image/issues/21\n\nDockerfile\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\n\n```\nFROM fluent/fluentd\nCOPY fluent.conf /fluentd/etc/\nUSER root\nRUN apk --no-cache --update add ruby-bigdecimal\nUSER fluent\nRUN gem install fluent-plugin-bigquery\n```\n\n\u3053\u308c\u3067\u7121\u4e8b\u306b\u52d5\u304d\u307e\u3057\u305f\u3002\n", "tags": ["fluent", "bigquery", "docker"]}