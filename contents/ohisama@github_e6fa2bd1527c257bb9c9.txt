{"context": " More than 1 year has passed since last update.\n\n\u3000\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngo get github.com/ohisama/serial\n\n\u3000\u753b\u50cf\n\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\npackage main\nimport (\n    \"bufio\"\n    \"fmt\"\n    \"github.com/ohisama/serial\"\n    \"os\"\n)\nfunc main() {\n    device := \"COM5\"\n    baud := 9600\n    fmt.Println(\"open\", device, \"at\", baud)\n    port, err := serial.Open(device, baud)\n    if err != nil {\n        fmt.Println(\"open failed:\", err)\n        return\n    }\n    defer port.Close()\n    fmt.Println(\"ready\")\n    scanner := bufio.NewScanner(os.Stdin)\n    buf := make([]byte, 100)\n    for scanner.Scan() {\n        n, err := port.Write([]byte(scanner.Text() + \"\\r\"))\n        if err != nil {\n            fmt.Println(\"serial write error:\", err)\n        }\n        fmt.Println(\"Sent -> \", n)\n        n, err = port.Read(buf)\n        if err != nil {\n            fmt.Println(\"serial read error:\", err)\n            break\n        }\n        fmt.Println(n, \"-> read \", string(buf[:n]))\n    }\n}\n\n\n##\u3000\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n   go get github.com/ohisama/serial\n##\u3000\u753b\u50cf\n![serial.PNG](https://qiita-image-store.s3.amazonaws.com/0/18104/c7cf4c44-33e8-4668-38f9-b5267730beb4.png)\n\n\n## \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n```\npackage main\nimport (\n\t\"bufio\"\n\t\"fmt\"\n\t\"github.com/ohisama/serial\"\n\t\"os\"\n)\nfunc main() {\n\tdevice := \"COM5\"\n\tbaud := 9600\n\tfmt.Println(\"open\", device, \"at\", baud)\n\tport, err := serial.Open(device, baud)\n\tif err != nil {\n\t\tfmt.Println(\"open failed:\", err)\n\t\treturn\n\t}\n\tdefer port.Close()\n\tfmt.Println(\"ready\")\n\tscanner := bufio.NewScanner(os.Stdin)\n\tbuf := make([]byte, 100)\n\tfor scanner.Scan() {\n\t\tn, err := port.Write([]byte(scanner.Text() + \"\\r\"))\n\t\tif err != nil {\n\t\t\tfmt.Println(\"serial write error:\", err)\n\t\t}\n\t\tfmt.Println(\"Sent -> \", n)\n\t\tn, err = port.Read(buf)\n\t\tif err != nil {\n\t\t\tfmt.Println(\"serial read error:\", err)\n\t\t\tbreak\n\t\t}\n\t\tfmt.Println(n, \"-> read \", string(buf[:n]))\n\t}\n}\n\n```\n", "tags": ["Go", "RS232C", "Windows"]}