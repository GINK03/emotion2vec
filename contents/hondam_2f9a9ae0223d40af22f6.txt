{"tags": ["dns", "PowerDNS", "PowerDNS-Admin"], "context": "\u3069\u30fc\u3082\u3001hondam \u3067\u3059\u3002\n\u306a\u3093\u3067\u3053\u306e\u30cd\u30bf\u306b\u3057\u305f\u304b\u3063\u3066\u3044\u3046\u3068(\u30cd\u30bf\u3092\u8003\u3048\u308b\u6642\u9593\u304c1\u65e5\u3057\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u3084\u3063\u3064\u3051\u306a\u3093\u3066\u8a00\u3048\u306a\u3044)\u3001\u6700\u8fd1\u3088\u304f\u793e\u5185\u3067BIND\u796d\u304c\u3042\u308b\u306e\u3068\u3001\u904e\u53bb(3\u5e74\u524d)\u306b\u81ea\u5206\u304c\u66f8\u3044\u305f\u300c[DNS] PowerDNS\u3068Atomia DNS\u3092\u4f7f\u3063\u3066\u307f\u308b\u300d\u3068\u3044\u3046\u6295\u7a3f\u304c\u610f\u5916\uff1f\u3068\u8aad\u307e\u308c\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u305d\u3046\u3044\u3048\u3070PowerDNS\u3063\u3066\u6700\u8fd1\u3069\u3046\u3057\u3066\u308b\u3093\u3060\u308d\u3046\u3001\u606f\u3057\u3066\u308b\u306e\u304b\u306a\uff1f\u3068\u601d\u3063\u305f\u304b\u3089\u3067\u3059\u3002\n\n  PowerDNS\u304a\u3055\u3089\u3044\nPowerDNS\u306fGPL\u30e9\u30a4\u30bb\u30f3\u30b9\u306eC++\u3067\u5b9f\u88c5\u3055\u308c\u305fDNS\u30b5\u30fc\u30d0\u3067\u3059\u3002\u307b\u3068\u3093\u3069\u306eUNIX\u30e9\u30a4\u30af\u306aOS\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002PowerDNS\u306f\u30b7\u30f3\u30d7\u30eb\u306aBIND\u30b9\u30bf\u30a4\u30eb\u306e\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u304b\u3089RDBMS\u3084\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0\uff0f\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u307e\u3067\u591a\u5c90\u306b\u6e21\u308b\u7279\u5fb4\u304c\u3042\u308a\u307e\u3059\u3002\u5225\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u3057\u3066DNS recursor\u3082\u542b\u307f\u307e\u3059\u3002\nPowerDNS\u306f\u30aa\u30e9\u30f3\u30c0\u306e\u4f01\u696dPowerDNS.COM BV\u3068\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30b3\u30df\u30e5\u30cb\u304b\u3089\u306e\u591a\u304f\u306e\u8ca2\u732e\u306b\u3088\u3063\u3066\u751f\u307f\u51fa\u3055\u308c\u307e\u3057\u305f\u3002\u8457\u540d\u306a\u30c7\u30d9\u30ed\u30c3\u30d1\u306fBer Hubert\u6c0f\u3067\u3059\u3002\n\n  2013\u5e74\u304b\u3089\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n3\u5e74\u524d\u306b\u4f7f\u3063\u3066\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306fAuthoritative Server\u306e3.2\u3067\u3059\u3002\u305d\u3053\u304b\u3089\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u5c65\u6b74\u3067\u3059\u304c\u3001SA\u3084CVE\u3067\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304cBIND\u3068\u6bd4\u3079\u308b\u3068\u65ad\u7136\u5c11\u306a\u3044\u3067\u3059\u306d\u3002\u3042\u307e\u308a\u4f7f\u308f\u308c\u3066\u306a\u3044\uff1f\u3068\u3044\u3046\u898b\u65b9\u3082\u3042\u308a\u307e\u3059\u304c...\u796d\u308a\u306f\u5c11\u306a\u3044\u3002\n\n4.0.1 2016\u5e747\u670829\u65e5 CVE-2016-6172.\n4.0.0 2016\u5e747\u670811\u65e5 ... ALIAS\u30ec\u30b3\u30fc\u30c9\u5bfe\u5fdc\n3.4.9 2016\u5e745\u670817\u65e5\n3.4.8 2016\u5e742\u67083\u65e5 \n3.4.7 2015\u5e7411\u67083\u65e5 Security Advisory 2015-03\n3.4.6 2015\u5e748\u670828\u65e5 Security Advisory 2015-02\n3.4.5 2015\u5e746\u67089\u65e5 Security Advisory 2015-01\n3.4.4 2015\u5e744\u670823\u65e5 Security Advisory 2015-01\n3.4.3 2015\u5e743\u67082\u65e5\n3.4.2 2015\u5e742\u67083\u65e5\n3.4.1 2014\u5e7410\u670830\u65e5\n3.4.0 2014\u5e749\u670830\u65e5 ... REST API\u5bfe\u5fdc\n3.3.1 2013\u5e7412\u670817\u65e5\n3.3 2013\u5e747\u67085\u65e5\n\n\n  \u3068\u308a\u3042\u3048\u305a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u74b0\u5883\u306f\u4ee5\u4e0b\u3068\u306a\u308a\u307e\u3059\u3002\u305f\u307e\u306b\u306f\u4ed6\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u304b\u306a\u3068\u3044\u3046\u3053\u3068\u3067\u67d0VPS(\u306e\u6708900\u5186\u304f\u3089\u3044\u306e)\u306b\u3057\u307e\u3057\u305f\u3002\n# cat /etc/redhat-release\nCentOS Linux release 7.2.1511 (Core)\n\n# cat /proc/version\nLinux version 3.10.0-327.10.1.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.3 20140911 (Red Hat 4.8.3-9) (GCC) ) #1 SMP Tue Feb 16 17:03:50 UTC 2016\n\n\u3067\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\u30d0\u30c3\u30af\u30a8\u30f3\u30c9DB\u306f\u3068\u308a\u3042\u3048\u305aMySQL\u3067\u3044\u304d\u307e\u3059\u3002\nPowerDNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30de\u30cb\u30e5\u30a2\u30eb\u306f\u516c\u5f0f\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001DB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u307e\u3067\u306f\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n# yum install mariadb mariadb-server\n\n\u301c\u4e2d\u7565\u301c\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  mariadb.x86_64 1:5.5.50-1.el7_2\n  mariadb-server.x86_64 1:5.5.50-1.el7_2\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n\n\u5fc5\u8981\u3042\u308c\u3070 /etc/my.cnf \u306a\u3069\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n# vi /etc/my.cnf\n[mysqld]\ncharacter-set-server=utf8 # \u8ffd\u52a0\u3059\u308b\u3068\u304b\n\nsystemctl\u3067MySQL\u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n# systemctl list-unit-files --type=service | grep mariadb\nmariadb.service                             disabled\n# systemctl enable mariadb.service\n# systemctl start mariadb.service\n\n# ps xa | grep mysql\n19272 ?        Ss     0:00 /bin/sh /usr/bin/mysqld_safe --basedir=/usr\n19441 ?        Sl     0:00 /usr/libexec/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib64/mysql/plugin --log-error=/var/log/mariadb/mariadb.log --pid-file=/var/run/mariadb/mariadb.pid --socket=/var/lib/mysql/mysql.sock\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u4ed5\u4e0a\u3052\u306b mysql_secure_installation \u3092\u5b9f\u884c\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306froot\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u3084\u3001anonymous\u30e6\u30fc\u30b6\u30fc\u306e\u524a\u9664\u306a\u3069\u3092\u884c\u3046\u3082\u306e\u306a\u306e\u3067\u3001\u7279\u306b\u5b9f\u884c\u3057\u306a\u304f\u3066\u3082OK\u3067\u3059\u3002\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n# mysql_secure_installation\nOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none):\n\n\u301c\u4e2d\u7565\u301c\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n\nmysql_secure_installation\u3067root\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3057\u305f\u306e\u3067\u3001\u63a5\u7d9a\u53ef\u80fd\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n# mysql -u root -p\nEnter password:\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 11\nServer version: 5.5.50-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]>\n\nOK\u3067\u3059\u306d\u3002\u3067\u306f\u3053\u306e\u6bb5\u968e\u3067PowerDNS\u7528\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3002\n\u307e\u305a\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f pdns \u3068\u3057\u307e\u3059\u3002\n# mysql -u root -p  -e \"CREATE DATABASE pdns CHARACTER SET utf8;\"\n\n\u6b21\u306bPowerDNS\u7528\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n# vi pdns_tables.sql\nCREATE TABLE domains (\n  id                    INT AUTO_INCREMENT,\n  name                  VARCHAR(255) NOT NULL,\n  master                VARCHAR(128) DEFAULT NULL,\n  last_check            INT DEFAULT NULL,\n  type                  VARCHAR(6) NOT NULL,\n  notified_serial       INT DEFAULT NULL,\n  account               VARCHAR(40) DEFAULT NULL,\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE UNIQUE INDEX name_index ON domains(name);\n\n\nCREATE TABLE records (\n  id                    INT AUTO_INCREMENT,\n  domain_id             INT DEFAULT NULL,\n  name                  VARCHAR(255) DEFAULT NULL,\n  type                  VARCHAR(10) DEFAULT NULL,\n  content               VARCHAR(64000) DEFAULT NULL,\n  ttl                   INT DEFAULT NULL,\n  prio                  INT DEFAULT NULL,\n  change_date           INT DEFAULT NULL,\n  disabled              TINYINT(1) DEFAULT 0,\n  ordername             VARCHAR(255) BINARY DEFAULT NULL,\n  auth                  TINYINT(1) DEFAULT 1,\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE INDEX nametype_index ON records(name,type);\nCREATE INDEX domain_id ON records(domain_id);\nCREATE INDEX recordorder ON records (domain_id, ordername);\n\n\nCREATE TABLE supermasters (\n  ip                    VARCHAR(64) NOT NULL,\n  nameserver            VARCHAR(255) NOT NULL,\n  account               VARCHAR(40) NOT NULL,\n  PRIMARY KEY (ip, nameserver)\n) Engine=InnoDB;\n\n\nCREATE TABLE comments (\n  id                    INT AUTO_INCREMENT,\n  domain_id             INT NOT NULL,\n  name                  VARCHAR(255) NOT NULL,\n  type                  VARCHAR(10) NOT NULL,\n  modified_at           INT NOT NULL,\n  account               VARCHAR(40) NOT NULL,\n  comment               VARCHAR(64000) NOT NULL,\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE INDEX comments_domain_id_idx ON comments (domain_id);\nCREATE INDEX comments_name_type_idx ON comments (name, type);\nCREATE INDEX comments_order_idx ON comments (domain_id, modified_at);\n\n\nCREATE TABLE domainmetadata (\n  id                    INT AUTO_INCREMENT,\n  domain_id             INT NOT NULL,\n  kind                  VARCHAR(32),\n  content               TEXT,\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE INDEX domainmetadata_idx ON domainmetadata (domain_id, kind);\n\n\nCREATE TABLE cryptokeys (\n  id                    INT AUTO_INCREMENT,\n  domain_id             INT NOT NULL,\n  flags                 INT NOT NULL,\n  active                BOOL,\n  content               TEXT,\n  PRIMARY KEY(id)\n) Engine=InnoDB;\n\nCREATE INDEX domainidindex ON cryptokeys(domain_id);\n\n\nCREATE TABLE tsigkeys (\n  id                    INT AUTO_INCREMENT,\n  name                  VARCHAR(255),\n  algorithm             VARCHAR(50),\n  secret                VARCHAR(255),\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE UNIQUE INDEX namealgoindex ON tsigkeys(name, algorithm);\n\n\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fpdns\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n# mysql -u root -p -D pdns < pdns_tables.sql\n\n\u3053\u308c\u3067MySQL\u306e\u6e96\u5099\u306fOK\u3067\u3059\u306d\u3002\n\u3067\u306f\u6b21\u306bPowerDNS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# yum info pdns\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\n * base: ftp.iij.ad.jp\n * epel: ftp.riken.jp\n * epel-debuginfo: ftp.riken.jp\n * epel-source: ftp.riken.jp\n * extras: ftp.iij.ad.jp\n * updates: ftp.iij.ad.jp\n\u5229\u7528\u53ef\u80fd\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\n\u540d\u524d                : pdns\n\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc    : x86_64\n\u30d0\u30fc\u30b8\u30e7\u30f3          : 3.4.10\n\u30ea\u30ea\u30fc\u30b9            : 1.el7\n\u5bb9\u91cf                : 2.1 M\n\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc        : epel/x86_64\n\u8981\u7d04                : A modern, advanced and high performance authoritative-only nameserver\nURL                 : http://powerdns.com\n\u30e9\u30a4\u30bb\u30f3\u30b9          : GPLv2\n\u8aac\u660e                : The PowerDNS Nameserver is a modern, advanced and high performance\n                    : authoritative-only nameserver. It is written from scratch and conforms\n                    : to all relevant DNS standards documents.\n                    : Furthermore, PowerDNS interfaces with almost any database.\n\n3\u5e74\u524d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f3.2\u3067\u3057\u305f\u304c\u30013.4.10\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n# yum install pdns pdns-backend-mysql\n\n\u301c\u4e2d\u7565\u301c\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  pdns.x86_64 0:3.4.10-1.el7\n  pdns-backend-mysql.x86_64 0:3.4.10-1.el7\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n\n\u6b21\u306b pdns.conf \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fMySQL\u3092\u4f7f\u3046\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n# egrep -v '^\\s*(#|$)' /etc/pdns/pdns.conf\nsetuid=pdns\nsetgid=pdns\nlaunch=bind\n\nMySQL\u306e\u30e6\u30fc\u30b6\u3084\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u9069\u5b9c\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u3053\u3067\u306froot\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n# vi /etc/pdns/pdns.conf\nsetuid=pdns\nsetgid=pdns\nlaunch=gmysql\ngmysql-host=127.0.0.1\ngmysql-user=root\ngmysql-dbname=pdns\ngmysql-password=[\u8a2d\u5b9a\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9]\n\n# systemctl list-unit-files --type=service | grep pdns\npdns.service                             disabled\n# systemctl enable pdns.service\n# systemctl start pdns.service\n\n\u3061\u306a\u307f\u306b pdns.service \u306e\u4e2d\u8eab\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u306d\u3002\n# cat /etc/systemd/system/multi-user.target.wants/pdns.service\n[Unit]\nDescription=PowerDNS Authoritative Server\nWants=network-online.target\nAfter=network-online.target mariadb.service postgresql.service slapd.service\n\n[Service]\nType=forking\nExecStart=/usr/sbin/pdns_server --daemon\nExecStop=/usr/bin/pdns_control quit\nRestart=on-failure\nRestartSec=2\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n\n\u3067\u306fPowerDNS\u3092\u8d77\u52d5\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u540d\u524d\u89e3\u6c7a\u3067\u304d\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3002\n# dig +short www.example.com @127.0.0.1\n\n\u5f53\u7136\u7d50\u679c\u306f\u4f55\u3082\u8fd4\u3063\u3066\u304d\u307e\u305b\u3093\u306d\u3002\n\u3067\u306f\u30c6\u30b9\u30c8\u306e\u30be\u30fc\u30f3\u60c5\u5831\u3092\u767b\u9332\u3057\u3066\u307f\u307e\u3059\u3002\n# vi example.com.zone.sql\nINSERT INTO domains (name, type) values ('example.com', 'NATIVE');\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'example.com','localhost ahu@ds9a.nl 1','SOA',86400,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'example.com','dns-us1.powerdns.net','NS',86400,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'example.com','dns-eu1.powerdns.net','NS',86400,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'www.example.com','192.0.2.10','A',120,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'mail.example.com','192.0.2.12','A',120,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'localhost.example.com','127.0.0.1','A',120,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'example.com','mail.example.com','MX',120,25);\n\n# mysql -u root -p -D pdns < example.com.zone.sql\n\n\u304a\u3082\u3080\u308d\u306b\u518d\u5b9f\u884c\u3059\u308b\u3068...\n# dig +short www.example.com @127.0.0.1\n192.0.2.10\n\n# dig +short example.com MX @127.0.0.1\n25 mail.example.com.\n\nOK\u3067\u3059\u306d\u3002\u3053\u308c\u3067\u3072\u3068\u307e\u305aMySQL\u3092\u4f7f\u3063\u3066PowerDNS\u304c\u52d5\u304f\u72b6\u6cc1\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n3\u5e74\u524d\u306e\u8a18\u4e8b\u3067\u306f\u3053\u3053\u304b\u3089Atomia DNS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u304c\u3001\u306f\u305f\u3057\u3066\u72b6\u6cc1\u306f\u5909\u308f\u3063\u3066\u308b\u3067\u3057\u3087\u3046\u304b\u3002\nPowerDNS\u5411\u3051\u306e\u30c4\u30fc\u30eb\u306f\u3001PowerDNS\u306eAPI\u3092\u547c\u3073\u51fa\u3059\u3082\u306e\u3068\u3001SQL\u5b9f\u884c\u3059\u308b\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u306f\u305d\u306e\u4e00\u89a7\u3067\u3059\u3002GitHub\u306ePowerDNS\u306eWiki\u306b\u8a18\u8f09\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\nAtomia DNS\u3082\u66f4\u65b0\u306f\u3042\u308b\u3088\u3046\u3067\u3059\u306d\u3002\n\nPowerDNS\u306eAPI\u3092\u5229\u7528\u3059\u308b\u30bf\u30a4\u30d7\n\n\n\n\u540d\u79f0\n\u4f7f\u7528\u8a00\u8a9e\n\u66f4\u65b0\u5c65\u6b74\n\n\n\n\nnsedit\nPHP/JS\nActive\n\n\nPowerDNS-Admin\nPython/JS\nActive\n\n\n\nPowerDNS-Shell-Wrapper(API based command-line tool)\nShell/Curl/JQ\nActive\n\n\npdnscontrol\nPython/JS\nLatest Commit 2016-03-30\n\n\nyapdnsui\nexpress.js\nLatest Commit 2016-02-12\n\n\nPoweREST\nReact.js\nLatest Commit 2015-05-31\n\n\npowr\nAngularJS\nLatest Commit 2015-02-15\n\n\n\n\nSQL\u3092\u5229\u7528\u3059\u308b\u30bf\u30a4\u30d7\n\n\n\n\u540d\u79f0\n\u4f7f\u7528\u8a00\u8a9e\n\u66f4\u65b0\u5c65\u6b74\n\n\n\n\ndjango-powerdns-manager\nDjango\nActive, Work in progress\n\n\nDnsShop\nPHP/JS\nActive, code is since 2011 in production\n\n\nNicTool\nPerl\nActive\n\n\nPDNS Manager\nPHP\nActive\n\n\nPoweradmin\nPHP\nActive\n\n\natomiadns\nJS\nActive\n\n\nPowerDNS on Rails\nRuby on Rails\nLast Commit 2015-09-30\n\n\npdns-gui\nPHP\nLast Commit 2014-11-18, but apparently in active use\n\n\nfreshdns\nPHP, AJAX\nLast Commit 2014-06-13\n\n\nPowerdns Tango\nPerl\nLast Commit 2014-05-21\n\n\nJPower Admin\nJava\nLast Release 2014-02-12\n\n\npdnsui\nRamaze\nLast Commit 2014-01-09\n\n\nZoneAdmin\nPHP\nLast Release 2013-10-07\n\n\nGNUPanel\nPHP\nLast Release 2013-07-20\n\n\nphpDNSAdmin\nPHP\nLast Release 2013-05-16\n\n\npowerdns-webinterface\nPHP\nLast Commit 2013-05-14\n\n\nPowerDNS Administration\nPHP\nLast Release 2013-03-22\n\n\nDNS Master\nPHP, jQuery\nReleased 2012-10-09\n\n\nMoxieDNS\n???\ndemo-url & project dead? (2012-05-15)\n\n\nGOsa\u00b2\nPHP\nLast Release 2012-05-09\n\n\nPDNSOps\nPHP\nLast Commit 2012-02-12\n\n\npdns-ror-admin\nRuby on Rails\nFirst/Last Commit in 2007-06-01\n\n\nTUPA\nPHP, AJAX\nLast Release 2006-03-16\n\n\ndjdns\nDjango\nLast Commit in 2009\n\n\npdns-tools\nPython\nLast Commit in 2009\n\n\npdnsfront\nPHP\nLast Commit in 2008\n\n\n\n\u8272\u3005\u3042\u308a\u307e\u3059\u304c\u3001\u606f\u3057\u3066\u308b\u306e\u306f\u5c11\u306a\u3044\u304b\u306a\u3002Atomia DNS\u306f\u7121\u4e8b\u306a\u3088\u3046\u3067\u3059\u3002\n\nPowerDNS-Admin\n\u4eca\u56de\u30c1\u30e7\u30a4\u30b9\u3057\u305f\u306e\u306f PowerDNS-Admin \u3067\u3059\u3002 \n\u5358\u7d14\u306bGitHub\u306eStar\u306e\u6570\u3068\u898b\u305f\u76ee\u3067\u9078\u3073\u307e\u3057\u305f\u3002\n\u3067\u306f\u52d5\u304f\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u65e9\u901f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\npdns.conf \u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n# vi /etc/pdns/pdns.conf\nexperimental-json-interface=yes\nexperimental-api-key=[\u9069\u5b9ckey\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044]\nwebserver=yes\n\n\u3053\u306e\u8a2d\u5b9a\u3067PowerDNS\u306eREST API\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n\u3067\u306fAPI\u304c\u6709\u52b9\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n# curl -s -H 'X-API-Key: experimental-api-key\u306e\u5024' http://127.0.0.1:8081/servers/localhost/zones | jq \".\"\n[\n  {\n    \"id\": \"example.com.\",\n    \"url\": \"/servers/localhost/zones/example.com.\",\n    \"name\": \"example.com\",\n    \"kind\": \"Native\",\n    \"dnssec\": false,\n    \"account\": \"\",\n    \"masters\": [],\n    \"serial\": 1,\n    \"notified_serial\": 0,\n    \"last_check\": 0\n  }\n]\n\nOK\u3067\u3059\u306d\u3002\n\u3067\u306f\u6b21\u306bPowerDNS-Admin\u7528\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n# mysql -u root -p  -e \"CREATE DATABASE powerdnsadmin CHARACTER SET utf8;\"\n# mysql -u root -p  -e \"GRANT ALL PRIVILEGES ON powerdnsadmin.* TO powerdnsadmin@'%' IDENTIFIED BY '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044';\"\n\n\u3067\u306fPowerDNS-Admin\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u8d77\u52d5\u306b\u4f34\u3044\u3001\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u3001\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u306e\u3067\u884c\u3044\u307e\u3059\u3002\n\u74b0\u5883\u306b\u3088\u3063\u3066\u306f\u65e2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001\u904e\u4e0d\u8db3\u3042\u308c\u3070\u9069\u5b9c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nPowerDNS-Admin \u306f Python\u306e\u30de\u30a4\u30af\u30ed\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30afFlask\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n# python -V\nPython 2.7.5\n\n# yum install python-pip\n# yum install mariadb-devel\n# yum install gcc\n\n# git clone https://github.com/ngoduykhanh/PowerDNS-Admin.git\n# cd PowerDNS-Admin\n\nmariadb-devel \u306f MySQL-python\u3067\u5fc5\u8981\u3060\u3063\u305f\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059\u3002\ngcc\u306fldap\u95a2\u9023\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306e\u306b\u5fc5\u8981\u3067\u3057\u305f\u3002(\u4eca\u56de\u306fLDAP\u8a8d\u8a3c\u4f7f\u3063\u3066\u307e\u305b\u3093\u304c)\n# pip install --upgrade pip\n# pip install virtualenv\n# pip install MySQL-python\n\n# virtualenv flask\n# source ./flask/bin/activate\n(flask)# pip install -r requirements.txt\n(flask)# cp config_template.py config.py \n\n(flask)# vi config.py\n# DATABASE CONFIG\nSQLA_DB_USER = 'powerdnsadmin'\nSQLA_DB_PASSWORD = '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044'\nSQLA_DB_HOST = '127.0.0.1'\nSQLA_DB_NAME = 'powerdnsadmin'\n\n# POWERDNS CONFIG\nPDNS_STATS_URL = '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044'\nPDNS_API_KEY = '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044'\nPDNS_VERSION = '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044'\n\nconfig.py\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8\u304c9393\u3060\u3063\u305f\u306e\u3067\u3001firewall-cmd\u30679393\u30dd\u30fc\u30c8\u3092\u958b\u3051\u307e\u3057\u305f\u3002\n\u6700\u5f8c\u306b./run.py\u3059\u308c\u3070\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002\n(flask)# ./create_db.py\n(flask)# firewall-cmd --add-port=9393/tcp --zone=public\n(flask)# ./run.py\n\n\n\n\n\u30ed\u30b0\u30a4\u30f3\u753b\u9762\n\n\n\n\n\n\n\n\n\n\n\n\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u753b\u9762\n\n\n\n\n\n\n\n\n\n\n\n\u30ec\u30b3\u30fc\u30c9\u7de8\u96c6\u753b\u9762\n\n\n\n\n\n\n\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u7121\u4e8bPowerDNS-Admin\u304c\u8d77\u52d5\u3067\u304d\u307e\u3057\u305f\u3002\n\u6700\u521d\u306b\u30c6\u30b9\u30c8\u3067\u767b\u9332\u3057\u305f\u30be\u30fc\u30f3\u60c5\u5831\u304c\u95b2\u89a7\u30fb\u5909\u66f4\u3067\u304d\u307e\u3059\u306d\u3002\n\u307e\u3068\u3082\u306b\u6a29\u5a01DNS\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u306b\u306f\u3082\u3063\u3068\u3061\u3083\u3093\u3068\u3057\u305f\u8a2d\u5b9a\u3084Slave\u3082\u5fc5\u8981\u3067\u3059\u304c\u3001\u7c21\u5358\u305d\u3046\u306a\u306e\u306f\u4f1d\u308f\u3063\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n  \u4e45\u3057\u3076\u308a\u306b\u3055\u308f\u3063\u305fPowerDNS\u307e\u3068\u3081\n\n\u796d\u308a\u306f\u5c11\u306a\u3044(\u305f\u3060\u3042\u307e\u308a\u4f7f\u308f\u308c\u3066\u306a\u3044\u3068\u3044\u3046\u898b\u65b9\u3082)\u3002BIND\u306b\u75b2\u308c\u305f\u3089\u3002\nPowerDNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u7c21\u5358(\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092DB\u306b\u3059\u308b\u3068\u591a\u5c11\u904b\u7528\u304c\u9762\u5012)\n\u3044\u3064\u306e\u307e\u306b\u304bREST API\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u305f\u306e\u3067\u5922\u306f\u5e83\u304c\u308a\u305d\u3046\nAtomia DNS\u4ee5\u5916\u306b\u30a4\u30b1\u3066\u305d\u3046\u306aUI\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3082\u8a95\u751f\u3057\u3066\u308b\n\n\u3068\u3044\u3046\u3053\u3068\u306712\u67081\u65e5\u62c5\u5f53\u306e hondam \u3067\u3057\u305f\u3002\n\u3069\u30fc\u3082\u3001hondam \u3067\u3059\u3002\n\n\u306a\u3093\u3067\u3053\u306e\u30cd\u30bf\u306b\u3057\u305f\u304b\u3063\u3066\u3044\u3046\u3068(~~\u30cd\u30bf\u3092\u8003\u3048\u308b\u6642\u9593\u304c1\u65e5\u3057\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u3084\u3063\u3064\u3051\u306a\u3093\u3066\u8a00\u3048\u306a\u3044~~)\u3001\u6700\u8fd1\u3088\u304f\u793e\u5185\u3067BIND\u796d\u304c\u3042\u308b\u306e\u3068\u3001\u904e\u53bb(3\u5e74\u524d)\u306b\u81ea\u5206\u304c\u66f8\u3044\u305f\u300c[[DNS] PowerDNS\u3068Atomia DNS\u3092\u4f7f\u3063\u3066\u307f\u308b](http://qiita.com/hondam/items/65b29e069b9f0d5238a8)\u300d\u3068\u3044\u3046\u6295\u7a3f\u304c\u610f\u5916\uff1f\u3068\u8aad\u307e\u308c\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u305d\u3046\u3044\u3048\u3070PowerDNS\u3063\u3066\u6700\u8fd1\u3069\u3046\u3057\u3066\u308b\u3093\u3060\u308d\u3046\u3001\u606f\u3057\u3066\u308b\u306e\u304b\u306a\uff1f\u3068\u601d\u3063\u305f\u304b\u3089\u3067\u3059\u3002\n\n# \b:repeat:  PowerDNS\u304a\u3055\u3089\u3044\nPowerDNS\u306fGPL\u30e9\u30a4\u30bb\u30f3\u30b9\u306eC++\u3067\u5b9f\u88c5\u3055\u308c\u305fDNS\u30b5\u30fc\u30d0\u3067\u3059\u3002\u307b\u3068\u3093\u3069\u306eUNIX\u30e9\u30a4\u30af\u306aOS\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002PowerDNS\u306f\u30b7\u30f3\u30d7\u30eb\u306aBIND\u30b9\u30bf\u30a4\u30eb\u306e\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u304b\u3089RDBMS\u3084\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0\uff0f\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u307e\u3067\u591a\u5c90\u306b\u6e21\u308b\u7279\u5fb4\u304c\u3042\u308a\u307e\u3059\u3002\u5225\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u3057\u3066DNS recursor\u3082\u542b\u307f\u307e\u3059\u3002\n\nPowerDNS\u306f\u30aa\u30e9\u30f3\u30c0\u306e\u4f01\u696dPowerDNS.COM BV\u3068\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30b3\u30df\u30e5\u30cb\u304b\u3089\u306e\u591a\u304f\u306e\u8ca2\u732e\u306b\u3088\u3063\u3066\u751f\u307f\u51fa\u3055\u308c\u307e\u3057\u305f\u3002\u8457\u540d\u306a\u30c7\u30d9\u30ed\u30c3\u30d1\u306fBer Hubert\u6c0f\u3067\u3059\u3002\n\n# :date:  2013\u5e74\u304b\u3089\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n3\u5e74\u524d\u306b\u4f7f\u3063\u3066\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306fAuthoritative Server\u306e3.2\u3067\u3059\u3002\u305d\u3053\u304b\u3089\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u5c65\u6b74\u3067\u3059\u304c\u3001SA\u3084CVE\u3067\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304cBIND\u3068\u6bd4\u3079\u308b\u3068\u65ad\u7136\u5c11\u306a\u3044\u3067\u3059\u306d\u3002\u3042\u307e\u308a\u4f7f\u308f\u308c\u3066\u306a\u3044\uff1f\u3068\u3044\u3046\u898b\u65b9\u3082\u3042\u308a\u307e\u3059\u304c...\u796d\u308a\u306f\u5c11\u306a\u3044\u3002\n\n* 4.0.1 2016\u5e747\u670829\u65e5 CVE-2016-6172.\n* 4.0.0 2016\u5e747\u670811\u65e5 ... ALIAS\u30ec\u30b3\u30fc\u30c9\u5bfe\u5fdc\n* 3.4.9 2016\u5e745\u670817\u65e5\n* 3.4.8 2016\u5e742\u67083\u65e5 \n* 3.4.7 2015\u5e7411\u67083\u65e5 Security Advisory 2015-03\n* 3.4.6 2015\u5e748\u670828\u65e5 Security Advisory 2015-02\n* 3.4.5 2015\u5e746\u67089\u65e5 Security Advisory 2015-01\n* 3.4.4 2015\u5e744\u670823\u65e5 Security Advisory 2015-01\n* 3.4.3 2015\u5e743\u67082\u65e5\n* 3.4.2 2015\u5e742\u67083\u65e5\n* 3.4.1 2014\u5e7410\u670830\u65e5\n* 3.4.0 2014\u5e749\u670830\u65e5 ... REST API\u5bfe\u5fdc\n* 3.3.1 2013\u5e7412\u670817\u65e5\n* 3.3 2013\b\u5e747\u67085\u65e5\n\n# :pencil:  \u3068\u308a\u3042\u3048\u305a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u74b0\u5883\u306f\u4ee5\u4e0b\u3068\u306a\u308a\u307e\u3059\u3002\u305f\u307e\u306b\u306f\u4ed6\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u304b\u306a\u3068\u3044\u3046\u3053\u3068\u3067\u67d0VPS(\u306e\u6708900\u5186\u304f\u3089\u3044\u306e)\u306b\u3057\u307e\u3057\u305f\u3002\n\n```\n# cat /etc/redhat-release\nCentOS Linux release 7.2.1511 (Core)\n\n# cat /proc/version\nLinux version 3.10.0-327.10.1.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.3 20140911 (Red Hat 4.8.3-9) (GCC) ) #1 SMP Tue Feb 16 17:03:50 UTC 2016\n```\n\n\u3067\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\u30d0\u30c3\u30af\u30a8\u30f3\u30c9DB\u306f\u3068\u308a\u3042\u3048\u305aMySQL\u3067\u3044\u304d\u307e\u3059\u3002\nPowerDNS\u306e[\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30de\u30cb\u30e5\u30a2\u30eb](https://doc.powerdns.com/md/authoritative/installation/)\u306f\u516c\u5f0f\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001DB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u307e\u3067\u306f\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\n```\n# yum install mariadb mariadb-server\n\n\u301c\u4e2d\u7565\u301c\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  mariadb.x86_64 1:5.5.50-1.el7_2\n  mariadb-server.x86_64 1:5.5.50-1.el7_2\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n```\n\n\u5fc5\u8981\u3042\u308c\u3070 `/etc/my.cnf` \u306a\u3069\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n# vi /etc/my.cnf\n[mysqld]\ncharacter-set-server=utf8 # \u8ffd\u52a0\u3059\u308b\u3068\u304b\n```\n\nsystemctl\u3067MySQL\u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n# systemctl list-unit-files --type=service | grep mariadb\nmariadb.service                             disabled\n# systemctl enable mariadb.service\n# systemctl start mariadb.service\n\n# ps xa | grep mysql\n19272 ?        Ss     0:00 /bin/sh /usr/bin/mysqld_safe --basedir=/usr\n19441 ?        Sl     0:00 /usr/libexec/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib64/mysql/plugin --log-error=/var/log/mariadb/mariadb.log --pid-file=/var/run/mariadb/mariadb.pid --socket=/var/lib/mysql/mysql.sock\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u4ed5\u4e0a\u3052\u306b `mysql_secure_installation` \u3092\u5b9f\u884c\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306froot\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u3084\u3001anonymous\u30e6\u30fc\u30b6\u30fc\u306e\u524a\u9664\u306a\u3069\u3092\u884c\u3046\u3082\u306e\u306a\u306e\u3067\u3001\u7279\u306b\u5b9f\u884c\u3057\u306a\u304f\u3066\u3082OK\u3067\u3059\u3002\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n# mysql_secure_installation\nOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none):\n\n\u301c\u4e2d\u7565\u301c\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n```\n\n`mysql_secure_installation`\u3067root\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3057\u305f\u306e\u3067\u3001\u63a5\u7d9a\u53ef\u80fd\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n# mysql -u root -p\nEnter password:\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 11\nServer version: 5.5.50-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]>\n```\n\nOK\u3067\u3059\u306d\u3002\u3067\u306f\u3053\u306e\u6bb5\u968e\u3067PowerDNS\u7528\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3002\n\u307e\u305a\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f `pdns` \u3068\u3057\u307e\u3059\u3002\n\n```\n# mysql -u root -p  -e \"CREATE DATABASE pdns CHARACTER SET utf8;\"\n```\n\n\u6b21\u306bPowerDNS\u7528\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n# vi pdns_tables.sql\nCREATE TABLE domains (\n  id                    INT AUTO_INCREMENT,\n  name                  VARCHAR(255) NOT NULL,\n  master                VARCHAR(128) DEFAULT NULL,\n  last_check            INT DEFAULT NULL,\n  type                  VARCHAR(6) NOT NULL,\n  notified_serial       INT DEFAULT NULL,\n  account               VARCHAR(40) DEFAULT NULL,\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE UNIQUE INDEX name_index ON domains(name);\n\n\nCREATE TABLE records (\n  id                    INT AUTO_INCREMENT,\n  domain_id             INT DEFAULT NULL,\n  name                  VARCHAR(255) DEFAULT NULL,\n  type                  VARCHAR(10) DEFAULT NULL,\n  content               VARCHAR(64000) DEFAULT NULL,\n  ttl                   INT DEFAULT NULL,\n  prio                  INT DEFAULT NULL,\n  change_date           INT DEFAULT NULL,\n  disabled              TINYINT(1) DEFAULT 0,\n  ordername             VARCHAR(255) BINARY DEFAULT NULL,\n  auth                  TINYINT(1) DEFAULT 1,\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE INDEX nametype_index ON records(name,type);\nCREATE INDEX domain_id ON records(domain_id);\nCREATE INDEX recordorder ON records (domain_id, ordername);\n\n\nCREATE TABLE supermasters (\n  ip                    VARCHAR(64) NOT NULL,\n  nameserver            VARCHAR(255) NOT NULL,\n  account               VARCHAR(40) NOT NULL,\n  PRIMARY KEY (ip, nameserver)\n) Engine=InnoDB;\n\n\nCREATE TABLE comments (\n  id                    INT AUTO_INCREMENT,\n  domain_id             INT NOT NULL,\n  name                  VARCHAR(255) NOT NULL,\n  type                  VARCHAR(10) NOT NULL,\n  modified_at           INT NOT NULL,\n  account               VARCHAR(40) NOT NULL,\n  comment               VARCHAR(64000) NOT NULL,\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE INDEX comments_domain_id_idx ON comments (domain_id);\nCREATE INDEX comments_name_type_idx ON comments (name, type);\nCREATE INDEX comments_order_idx ON comments (domain_id, modified_at);\n\n\nCREATE TABLE domainmetadata (\n  id                    INT AUTO_INCREMENT,\n  domain_id             INT NOT NULL,\n  kind                  VARCHAR(32),\n  content               TEXT,\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE INDEX domainmetadata_idx ON domainmetadata (domain_id, kind);\n\n\nCREATE TABLE cryptokeys (\n  id                    INT AUTO_INCREMENT,\n  domain_id             INT NOT NULL,\n  flags                 INT NOT NULL,\n  active                BOOL,\n  content               TEXT,\n  PRIMARY KEY(id)\n) Engine=InnoDB;\n\nCREATE INDEX domainidindex ON cryptokeys(domain_id);\n\n\nCREATE TABLE tsigkeys (\n  id                    INT AUTO_INCREMENT,\n  name                  VARCHAR(255),\n  algorithm             VARCHAR(50),\n  secret                VARCHAR(255),\n  PRIMARY KEY (id)\n) Engine=InnoDB;\n\nCREATE UNIQUE INDEX namealgoindex ON tsigkeys(name, algorithm);\n```\n\n\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f`pdns`\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n```\n# mysql -u root -p -D pdns < pdns_tables.sql\n```\n\n\u3053\u308c\u3067MySQL\u306e\u6e96\u5099\u306fOK\u3067\u3059\u306d\u3002\n\u3067\u306f\u6b21\u306bPowerDNS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n# yum info pdns\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\n * base: ftp.iij.ad.jp\n * epel: ftp.riken.jp\n * epel-debuginfo: ftp.riken.jp\n * epel-source: ftp.riken.jp\n * extras: ftp.iij.ad.jp\n * updates: ftp.iij.ad.jp\n\u5229\u7528\u53ef\u80fd\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\n\u540d\u524d                : pdns\n\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc    : x86_64\n\u30d0\u30fc\u30b8\u30e7\u30f3          : 3.4.10\n\u30ea\u30ea\u30fc\u30b9            : 1.el7\n\u5bb9\u91cf                : 2.1 M\n\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc        : epel/x86_64\n\u8981\u7d04                : A modern, advanced and high performance authoritative-only nameserver\nURL                 : http://powerdns.com\n\u30e9\u30a4\u30bb\u30f3\u30b9          : GPLv2\n\u8aac\u660e                : The PowerDNS Nameserver is a modern, advanced and high performance\n                    : authoritative-only nameserver. It is written from scratch and conforms\n                    : to all relevant DNS standards documents.\n                    : Furthermore, PowerDNS interfaces with almost any database.\n```\n\n3\u5e74\u524d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f3.2\u3067\u3057\u305f\u304c\u30013.4.10\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n```\n# yum install pdns pdns-backend-mysql\n\n\u301c\u4e2d\u7565\u301c\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  pdns.x86_64 0:3.4.10-1.el7\n  pdns-backend-mysql.x86_64 0:3.4.10-1.el7\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n```\n\n\u6b21\u306b `pdns.conf` \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fMySQL\u3092\u4f7f\u3046\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\n```\n# egrep -v '^\\s*(#|$)' /etc/pdns/pdns.conf\nsetuid=pdns\nsetgid=pdns\nlaunch=bind\n```\n\nMySQL\u306e\u30e6\u30fc\u30b6\u3084\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u9069\u5b9c\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u3053\u3067\u306froot\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\n# vi /etc/pdns/pdns.conf\nsetuid=pdns\nsetgid=pdns\nlaunch=gmysql\ngmysql-host=127.0.0.1\ngmysql-user=root\ngmysql-dbname=pdns\ngmysql-password=[\u8a2d\u5b9a\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9]\n```\n\n```\n# systemctl list-unit-files --type=service | grep pdns\npdns.service                             disabled\n# systemctl enable pdns.service\n# systemctl start pdns.service\n```\n\n\u3061\u306a\u307f\u306b `pdns.service` \u306e\u4e2d\u8eab\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u306d\u3002\n\n```\n# cat /etc/systemd/system/multi-user.target.wants/pdns.service\n[Unit]\nDescription=PowerDNS Authoritative Server\nWants=network-online.target\nAfter=network-online.target mariadb.service postgresql.service slapd.service\n\n[Service]\nType=forking\nExecStart=/usr/sbin/pdns_server --daemon\nExecStop=/usr/bin/pdns_control quit\nRestart=on-failure\nRestartSec=2\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n```\n\n\u3067\u306fPowerDNS\u3092\u8d77\u52d5\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u540d\u524d\u89e3\u6c7a\u3067\u304d\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3002\n\n```\n# dig +short www.example.com @127.0.0.1\n```\n\n\u5f53\u7136\u7d50\u679c\u306f\u4f55\u3082\u8fd4\u3063\u3066\u304d\u307e\u305b\u3093\u306d\u3002\n\u3067\u306f\u30c6\u30b9\u30c8\u306e\u30be\u30fc\u30f3\u60c5\u5831\u3092\u767b\u9332\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\n# vi example.com.zone.sql\nINSERT INTO domains (name, type) values ('example.com', 'NATIVE');\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'example.com','localhost ahu@ds9a.nl 1','SOA',86400,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'example.com','dns-us1.powerdns.net','NS',86400,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'example.com','dns-eu1.powerdns.net','NS',86400,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'www.example.com','192.0.2.10','A',120,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'mail.example.com','192.0.2.12','A',120,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'localhost.example.com','127.0.0.1','A',120,NULL);\nINSERT INTO records (domain_id, name, content, type,ttl,prio) VALUES (1,'example.com','mail.example.com','MX',120,25);\n\n# mysql -u root -p -D pdns < example.com.zone.sql\n```\n\n\u304a\u3082\u3080\u308d\u306b\u518d\u5b9f\u884c\u3059\u308b\u3068...\n\n```\n# dig +short www.example.com @127.0.0.1\n192.0.2.10\n\n# dig +short example.com MX @127.0.0.1\n25 mail.example.com.\n```\n\nOK\u3067\u3059\u306d\u3002\u3053\u308c\u3067\u3072\u3068\u307e\u305aMySQL\u3092\u4f7f\u3063\u3066PowerDNS\u304c\u52d5\u304f\u72b6\u6cc1\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n3\u5e74\u524d\u306e\u8a18\u4e8b\u3067\u306f\u3053\u3053\u304b\u3089Atomia DNS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u304c\u3001\u306f\u305f\u3057\u3066\u72b6\u6cc1\u306f\u5909\u308f\u3063\u3066\u308b\u3067\u3057\u3087\u3046\u304b\u3002\n\nPowerDNS\u5411\u3051\u306e\u30c4\u30fc\u30eb\u306f\u3001PowerDNS\u306eAPI\u3092\u547c\u3073\u51fa\u3059\u3082\u306e\u3068\u3001SQL\u5b9f\u884c\u3059\u308b\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u306f\u305d\u306e\u4e00\u89a7\u3067\u3059\u3002GitHub\u306ePowerDNS\u306e[Wiki](https://github.com/PowerDNS/pdns/wiki/WebFrontends)\u306b\u8a18\u8f09\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\nAtomia DNS\u3082\u66f4\u65b0\u306f\u3042\u308b\u3088\u3046\u3067\u3059\u306d\u3002\n\n## PowerDNS\u306eAPI\u3092\u5229\u7528\u3059\u308b\u30bf\u30a4\u30d7\n\n| \u540d\u79f0 | \u4f7f\u7528\u8a00\u8a9e | \u66f4\u65b0\u5c65\u6b74 |\n| ------- | -------- | -------|\n| [nsedit](https://github.com/tuxis-ie/nsedit) | PHP/JS | Active |\n| [PowerDNS-Admin](https://github.com/ngoduykhanh/PowerDNS-Admin) | Python/JS | Active |\n| [PowerDNS-Shell-Wrapper](https://github.com/opensource-expert/powerdns-shell-wrapper)<br>(API based command-line tool) | Shell/Curl/JQ | Active |\n| [pdnscontrol](https://github.com/PowerDNS/pdnscontrol) | Python/JS | Latest Commit 2016-03-30 |\n| [yapdnsui](https://github.com/xbgmsharp/yapdnsui) | express.js | Latest Commit 2016-02-12 |\n| [PoweREST](https://github.com/alexdo/powerest) | React.js | Latest Commit 2015-05-31 |\n| [powr](https://github.com/porjo/powr) | AngularJS | Latest Commit 2015-02-15 |\n\n## SQL\u3092\u5229\u7528\u3059\u308b\u30bf\u30a4\u30d7\n\n| \u540d\u79f0 | \u4f7f\u7528\u8a00\u8a9e | \u66f4\u65b0\u5c65\u6b74 |\n| ------- | -------- | -------|\n| [django-powerdns-manager](http://pypi.python.org/pypi/django-powerdns-manager) | Django | Active, Work in progress |\n| [DnsShop](https://github.com/tools4isp/dnsshop/) | PHP/JS | Active, code is since 2011 in production |\n| [NicTool](http://www.nictool.com/) | Perl | Active |\n| [PDNS Manager](https://pdnsmanager.lmitsystems.de/)| PHP | Active |\n| [Poweradmin](https://github.com/poweradmin/poweradmin) | PHP | Active |\n| [atomiadns](https://github.com/atomia/atomiadns/tree/develop/webapp) | JS | Active |\n| [PowerDNS on Rails](http://kennethkalmer.github.com/powerdns-on-rails/) | Ruby on Rails | Last Commit 2015-09-30 |\n| [pdns-gui](http://code.google.com/p/pdns-gui/) | PHP | Last Commit 2014-11-18, but apparently in active use |\n| [freshdns](https://github.com/funzoneq/freshdns) | PHP, AJAX | Last Commit 2014-06-13 |\n| [Powerdns Tango](https://github.com/averna-syd/PowerdnsTango) | Perl  | Last Commit 2014-05-21 |\n| [JPower Admin](http://www.nicmus.com/community.html) | Java | Last Release 2014-02-12 |\n| [pdnsui](https://github.com/leucos/pdnsui) | Ramaze | Last Commit 2014-01-09 |\n| [ZoneAdmin](http://open.megabit.net/index.php?section=pro_home&project=ZoneAdmin) | PHP | Last Release 2013-10-07 |\n| [GNUPanel](http://gnupanel.org/) | PHP | Last Release 2013-07-20 |\n| [phpDNSAdmin](http://sourceforge.net/projects/phpdnsadmin/) | PHP | Last Release 2013-05-16 |\n| [powerdns-webinterface](http://code.google.com/p/powerdns-webinterface/) | PHP | Last Commit 2013-05-14 |\n| [PowerDNS Administration](http://sourceforge.net/projects/powerdnsadmin/) | PHP | Last Release 2013-03-22 |\n| [DNS Master](http://sourceforge.net/projects/dmsmaster/) | PHP, jQuery | Released 2012-10-09 |\n| [MoxieDNS](http://moxiefoxtrot.com/2009/01/07/powerdns-web-frontend/) | ??? | demo-url & project dead? (2012-05-15) |\n| [GOsa\u00b2](https://oss.gonicus.de/labs/gosa) | PHP | Last Release 2012-05-09 |\n| [PDNSOps](https://code.google.com/p/pdnsops/) | PHP | Last Commit 2012-02-12 |\n| [pdns-ror-admin](http://code.google.com/p/pdns-ror-admin/) | Ruby on Rails | First/Last Commit in 2007-06-01 |\n| [TUPA](http://tupa-dns.org/) | PHP, AJAX | Last Release 2006-03-16 |\n| [djdns](http://code.google.com/p/djdns/) | Django | Last Commit in 2009 |\n| [pdns-tools](http://code.google.com/p/pdns-tools/) | Python | Last Commit in 2009 |\n| [pdnsfront](http://code.google.com/p/pdnsfront/) | PHP | Last Commit in 2008 |\n\n\u8272\u3005\u3042\u308a\u307e\u3059\u304c\u3001\u606f\u3057\u3066\u308b\u306e\u306f\u5c11\u306a\u3044\u304b\u306a\u3002Atomia DNS\u306f\u7121\u4e8b\u306a\u3088\u3046\u3067\u3059\u3002\n\n## PowerDNS-Admin\n\u4eca\u56de\u30c1\u30e7\u30a4\u30b9\u3057\u305f\u306e\u306f [PowerDNS-Admin](https://github.com/ngoduykhanh/PowerDNS-Admin) \u3067\u3059\u3002 \n\u5358\u7d14\u306bGitHub\u306eStar\u306e\u6570\u3068\u898b\u305f\u76ee\u3067\u9078\u3073\u307e\u3057\u305f\u3002\n\n\u3067\u306f\u52d5\u304f\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u65e9\u901f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n`pdns.conf` \u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\n# vi /etc/pdns/pdns.conf\nexperimental-json-interface=yes\nexperimental-api-key=[\u9069\u5b9ckey\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044]\nwebserver=yes\n```\n\n\u3053\u306e\u8a2d\u5b9a\u3067PowerDNS\u306eREST API\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n\u3067\u306fAPI\u304c\u6709\u52b9\u304b\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```\n# curl -s -H 'X-API-Key: experimental-api-key\u306e\u5024' http://127.0.0.1:8081/servers/localhost/zones | jq \".\"\n[\n  {\n    \"id\": \"example.com.\",\n    \"url\": \"/servers/localhost/zones/example.com.\",\n    \"name\": \"example.com\",\n    \"kind\": \"Native\",\n    \"dnssec\": false,\n    \"account\": \"\",\n    \"masters\": [],\n    \"serial\": 1,\n    \"notified_serial\": 0,\n    \"last_check\": 0\n  }\n]\n```\n\nOK\u3067\u3059\u306d\u3002\n\u3067\u306f\u6b21\u306bPowerDNS-Admin\u7528\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n# mysql -u root -p  -e \"CREATE DATABASE powerdnsadmin CHARACTER SET utf8;\"\n# mysql -u root -p  -e \"GRANT ALL PRIVILEGES ON powerdnsadmin.* TO powerdnsadmin@'%' IDENTIFIED BY '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044';\"\n```\n\n\u3067\u306fPowerDNS-Admin\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u8d77\u52d5\u306b\u4f34\u3044\u3001\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u3001\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u306e\u3067\u884c\u3044\u307e\u3059\u3002\n\u74b0\u5883\u306b\u3088\u3063\u3066\u306f\u65e2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3082\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001\u904e\u4e0d\u8db3\u3042\u308c\u3070\u9069\u5b9c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nPowerDNS-Admin \u306f Python\u306e\u30de\u30a4\u30af\u30ed\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af[Flask](http://flask.pocoo.org/)\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\n# python -V\nPython 2.7.5\n```\n\n```\n# yum install python-pip\n# yum install mariadb-devel\n# yum install gcc\n\n# git clone https://github.com/ngoduykhanh/PowerDNS-Admin.git\n# cd PowerDNS-Admin\n```\n\nmariadb-devel \u306f MySQL-python\u3067\u5fc5\u8981\u3060\u3063\u305f\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059\u3002\ngcc\u306fldap\u95a2\u9023\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306e\u306b\u5fc5\u8981\u3067\u3057\u305f\u3002(\u4eca\u56de\u306fLDAP\u8a8d\u8a3c\u4f7f\u3063\u3066\u307e\u305b\u3093\u304c)\n\n```\n# pip install --upgrade pip\n# pip install virtualenv\n# pip install MySQL-python\n```\n\n```\n# virtualenv flask\n# source ./flask/bin/activate\n(flask)# pip install -r requirements.txt\n(flask)# cp config_template.py config.py \n\n(flask)# vi config.py\n# DATABASE CONFIG\nSQLA_DB_USER = 'powerdnsadmin'\nSQLA_DB_PASSWORD = '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044'\nSQLA_DB_HOST = '127.0.0.1'\nSQLA_DB_NAME = 'powerdnsadmin'\n\n# POWERDNS CONFIG\nPDNS_STATS_URL = '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044'\nPDNS_API_KEY = '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044'\nPDNS_VERSION = '\u9069\u5b9c\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044'\n```\n\nconfig.py\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8\u304c9393\u3060\u3063\u305f\u306e\u3067\u3001firewall-cmd\u30679393\u30dd\u30fc\u30c8\u3092\u958b\u3051\u307e\u3057\u305f\u3002\n\u6700\u5f8c\u306b./run.py\u3059\u308c\u3070\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002\n\n```\n(flask)# ./create_db.py\n(flask)# firewall-cmd --add-port=9393/tcp --zone=public\n(flask)# ./run.py\n```\n\n| \u30ed\u30b0\u30a4\u30f3\u753b\u9762 |\n|---|\n| ![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-30 15.54.57.png](https://qiita-image-store.s3.amazonaws.com/0/4305/32b5a9b6-c3cc-050b-2b4a-034a63654d6c.png) |\n\n| \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u753b\u9762 |\n|---|\n| ![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-30 15.53.01.png](https://qiita-image-store.s3.amazonaws.com/0/4305/c74785b4-0d00-c34e-29fd-21e5cc5e66a9.png) |\n\n| \u30ec\u30b3\u30fc\u30c9\u7de8\u96c6\u753b\u9762 |\n|---|\n| ![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-30 16.17.19.png](https://qiita-image-store.s3.amazonaws.com/0/4305/be1b4cab-e62d-37c5-2fb2-8a5089641d37.png) |\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u7121\u4e8bPowerDNS-Admin\u304c\u8d77\u52d5\u3067\u304d\u307e\u3057\u305f\u3002\n\u6700\u521d\u306b\u30c6\u30b9\u30c8\u3067\u767b\u9332\u3057\u305f\u30be\u30fc\u30f3\u60c5\u5831\u304c\u95b2\u89a7\u30fb\u5909\u66f4\u3067\u304d\u307e\u3059\u306d\u3002\n\n\u307e\u3068\u3082\u306b\u6a29\u5a01DNS\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u306b\u306f\u3082\u3063\u3068\u3061\u3083\u3093\u3068\u3057\u305f\u8a2d\u5b9a\u3084Slave\u3082\u5fc5\u8981\u3067\u3059\u304c\u3001\u7c21\u5358\u305d\u3046\u306a\u306e\u306f\u4f1d\u308f\u3063\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n# :notebook:  \u4e45\u3057\u3076\u308a\u306b\u3055\u308f\u3063\u305fPowerDNS\u307e\u3068\u3081\n* \u796d\u308a\u306f\u5c11\u306a\u3044(\u305f\u3060\u3042\u307e\u308a\u4f7f\u308f\u308c\u3066\u306a\u3044\u3068\u3044\u3046\u898b\u65b9\u3082)\u3002BIND\u306b\u75b2\u308c\u305f\u3089\u3002\n* PowerDNS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u7c21\u5358(\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092DB\u306b\u3059\u308b\u3068\u591a\u5c11\u904b\u7528\u304c\u9762\u5012)\n* \u3044\u3064\u306e\u307e\u306b\u304bREST API\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u305f\u306e\u3067\u5922\u306f\u5e83\u304c\u308a\u305d\u3046\n* Atomia DNS\u4ee5\u5916\u306b\u30a4\u30b1\u3066\u305d\u3046\u306aUI\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3082\u8a95\u751f\u3057\u3066\u308b\n\n\u3068\u3044\u3046\u3053\u3068\u306712\u67081\u65e5\u62c5\u5f53\u306e hondam \u3067\u3057\u305f\u3002\n"}