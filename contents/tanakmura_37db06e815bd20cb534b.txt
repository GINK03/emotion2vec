{"context": " More than 1 year has passed since last update.AVX-512ER(Exponential and Reciprocal) \u306f\u305d\u306e\u540d\u524d\u306e\u3068\u304a\u308a\u3001exp\u7528\u306e\u547d\u4ee4\u3082\u3042\u308a\u307e\u3059\u3002\n28bit \u9006\u6570(vrcp28pd) \u3084 KN\uff23 \u306b\u3042\u3063\u305f\u300123bit exp2(vexp223ps) \u306f\u3001\u305d\u306e\u547d\u4ee4\u306e\u30cb\u30fc\u30e2\u30cb\u30c3\u30af\u306b\u3001\u7cbe\u5ea6\u3092\u793a\u3059\u6570\u5024\u304c\u5165\u3063\u3066\u304a\u308a\u3001\u81ea\u5206\u304c\u8fd1\u4f3c\u5024\u3057\u304b\u6c42\u3081\u306a\u3044\u3053\u3068\u3092\u4e3b\u5f35\u3059\u308b\u8b19\u865a\u306a\u59ff\u52e2\u3092\u898b\u305b\u3066\u3044\u307e\u3057\u305f\u304c\u3001AVX-512ER \u306e\u300123bit exp2\u306f\u3001\nvexp2pd\n\u3068\u3044\u3046\u8b19\u865a\u3055\u3092\u611f\u3058\u3055\u305b\u306a\u3044\u30cb\u30fc\u30e2\u30cb\u30c3\u30af\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n#include <immintrin.h>\n#include <stdio.h>\n\ndouble in[8] = {2.2,3.3,4.4,5.5, 6.6,7.7,8.8,9.9};\ndouble out[8];\n\nint\nmain()\n{\n    __m512d v = _mm512_loadu_pd(in);\n    __m512d r = _mm512_exp2a23_pd(v);\n    _mm512_storeu_pd(out, r);\n\n    for (int i=0; i<8; i++) {\n        printf(\"%f\\n\", out[i]);\n    }\n}\n\n4.594793\n9.849155\n21.112125\n45.254833\n97.005859\n207.936615\n445.721893\n955.425781\n\nKNC\u306eexp223\u306f\u56fa\u5b9a\u5c0f\u6570\u3092\u3068\u3063\u3066\u3044\u307e\u3057\u305f\u304c(\u4f55\u6545?)\u3001\u3053\u308c\u306f\u500d\u7cbe\u5ea6\u5024\u3092\u5165\u308c\u308c\u3070\u3088\u3044\u3067\u3059\u3002\n\u4ed6\u306b\u3001AV512-ER\u306b\u306f\u300128bit\u9006\u6570\u5e73\u65b9\u6839(vrsqrt28pd)\u3082\u3042\u308a\u307e\u3059\u3002\nKNC\u306b\u3042\u3063\u305f\u3001log2 \u306f\u30ea\u30b9\u30c8\u30e9\u3055\u308c\u305f\u3088\u3046\u3067\u3059\u3002\u3055\u3088\u3046\u306a\u3089\u2026\n\u660e\u65e5\u306f\u3001@tanakmura \u304c vplzcntd \u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3059\u3002\nAVX-512ER(Exponential and Reciprocal) \u306f\u305d\u306e\u540d\u524d\u306e\u3068\u304a\u308a\u3001exp\u7528\u306e\u547d\u4ee4\u3082\u3042\u308a\u307e\u3059\u3002\n\n28bit \u9006\u6570(vrcp28pd) \u3084 KN\uff23 \u306b\u3042\u3063\u305f\u300123bit exp2(vexp223ps) \u306f\u3001\u305d\u306e\u547d\u4ee4\u306e\u30cb\u30fc\u30e2\u30cb\u30c3\u30af\u306b\u3001\u7cbe\u5ea6\u3092\u793a\u3059\u6570\u5024\u304c\u5165\u3063\u3066\u304a\u308a\u3001\u81ea\u5206\u304c\u8fd1\u4f3c\u5024\u3057\u304b\u6c42\u3081\u306a\u3044\u3053\u3068\u3092\u4e3b\u5f35\u3059\u308b\u8b19\u865a\u306a\u59ff\u52e2\u3092\u898b\u305b\u3066\u3044\u307e\u3057\u305f\u304c\u3001AVX-512ER \u306e\u300123bit exp2\u306f\u3001\n\nvexp2pd\n\n\u3068\u3044\u3046\u8b19\u865a\u3055\u3092\u611f\u3058\u3055\u305b\u306a\u3044\u30cb\u30fc\u30e2\u30cb\u30c3\u30af\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\n```cpp\n#include <immintrin.h>\n#include <stdio.h>\n\ndouble in[8] = {2.2,3.3,4.4,5.5, 6.6,7.7,8.8,9.9};\ndouble out[8];\n\nint\nmain()\n{\n    __m512d v = _mm512_loadu_pd(in);\n    __m512d r = _mm512_exp2a23_pd(v);\n    _mm512_storeu_pd(out, r);\n\n    for (int i=0; i<8; i++) {\n        printf(\"%f\\n\", out[i]);\n    }\n}\n```\n\n```\n4.594793\n9.849155\n21.112125\n45.254833\n97.005859\n207.936615\n445.721893\n955.425781\n```\n\nKNC\u306eexp223\u306f\u56fa\u5b9a\u5c0f\u6570\u3092\u3068\u3063\u3066\u3044\u307e\u3057\u305f\u304c(\u4f55\u6545?)\u3001\u3053\u308c\u306f\u500d\u7cbe\u5ea6\u5024\u3092\u5165\u308c\u308c\u3070\u3088\u3044\u3067\u3059\u3002\n\n\n\u4ed6\u306b\u3001AV512-ER\u306b\u306f\u300128bit\u9006\u6570\u5e73\u65b9\u6839(vrsqrt28pd)\u3082\u3042\u308a\u307e\u3059\u3002\n\n\nKNC\u306b\u3042\u3063\u305f\u3001log2 \u306f\u30ea\u30b9\u30c8\u30e9\u3055\u308c\u305f\u3088\u3046\u3067\u3059\u3002\u3055\u3088\u3046\u306a\u3089\u2026\n\n\n\u660e\u65e5\u306f\u3001@tanakmura \u304c vplzcntd \u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3059\u3002\n", "tags": ["avx512"]}