{"context": "AndroidTest\u3067NavigationView\u64cd\u4f5c\u3057\u305f\u3044\u3088\u306d\uff1f\n\u3061\u3087\u3063\u3068\u524d\u306b\u9759\u304b\u306bRelease\u3055\u308c\u3066\u3044\u305fEspresso 2.2.2\u306bNavigationView\u3092\u64cd\u4f5c\u3059\u308bNavigationViewActions\u3068\u3044\u3046\u306e\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u305d\u306e\u304a\u8a71\u3002\nNavigationView\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u306f\u4ee5\u4e0b\u306eQiita\u306b\u304a\u4efb\u305b\u3059\u308b\u305c\u30fc\u3002\n\"NavigationView\u3092\u4f7f\u3063\u3066Google Play\u98a8\u306e\u30e1\u30cb\u30e5\u30fc\u3092\u4f5c\u308b\u3010Android Design Support Library\u3011\"\nhttp://qiita.com/chuross/items/60af0aca3e1c3f946f09\n\nDrawerLayout\u3068NavigationView\u306f\u4ef2\u826f\u3057\u3053\u3088\u3057\n\u307e\u305a\u3001NavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u306e\u7279\u5fb4\u3068\u3057\u3066\u3001\u305d\u308c\u305e\u308c\u306e\u30e1\u30cb\u30e5\u30fc\u304c\u500b\u5225\u306eid\u3092\u6301\u3063\u3066\u3044\u308b\u3063\u3066\u3053\u3068\u3002\n\u300c\u3042\u30fc\u306a\u3089\u305d\u306eid\u6307\u5b9a\u3057\u3066\u3069\u308c\u9078\u629e\u3059\u308b\u304b\u66f8\u3044\u3066\u3042\u3052\u308c\u3070\u3044\u3044\u306e\u306d\u30fc\u300d\u3063\u3066\u3053\u3068\u306b\u306a\u308b\u3002\n\u305f\u3060NavigationView\u306f\u57fa\u672c\u7684\u306bDrawerLayout\u306e\u5b50View\u3068\u3057\u3066\u8ffd\u52a0\u3057\u3066\u4f7f\u3046\u3053\u3068\u304c\u591a\u3044\u3068\u601d\u3063\u3066\u308b\u3002\nDroidKaigi\u30a2\u30d7\u30ea\u306eTop\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u304b\u898b\u308b\u3068\u307e\u3042\u308f\u304b\u308b\u3068\u601d\u3046\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306bDrawerLayout\u306e\u5b50View\u3068\u3057\u3066NavigationView\u3092\u4f7f\u3063\u3066\u308b\u3002\n\ngithub.com/konifar/droidkaigi2016/blob/master/app/src/main/res/layout/activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:context=\"io.github.droidkaigi.confsched.activity.MainActivity\">\n\n    <android.support.v4.widget.DrawerLayout\n        android:id=\"@+id/drawer\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fitsSystemWindows=\"true\"\n        tools:openDrawer=\"start\">\n\n        ....\n\n        <android.support.design.widget.NavigationView\n            android:id=\"@+id/nav_view\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"start\"\n            android:fitsSystemWindows=\"true\"\n            app:headerLayout=\"@layout/nav_header\"\n            app:itemTextColor=\"@color/nav_view_colors\"\n            app:menu=\"@menu/drawer_menu\"\n            app:insetForeground=\"#4000\"/>\n    </android.support.v4.widget.DrawerLayout>\n</layout>\n\n\n\u4f55\u304c\u8a00\u3044\u305f\u3044\u306e\u304b\u3068\u3044\u3046\u3068\u3001NavigationView\u3092NavigationViewActions\u3067\u64cd\u4f5c\u3059\u308b\u306b\u306f\u3001\u307e\u305a\u306fDrawerLayout\u3092Open\u3057\u306a\u3044\u3068NavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u304cUI\u4e0a\u8868\u793a\u3055\u308c\u306a\u304f\u3066\u64cd\u4f5c\u3067\u304d\u306a\u3044\u3063\u3066\u3053\u3068\u3002\nDrawerLayout\u3092Open\u3057\u306a\u3044\u307e\u307e\u5f8c\u307b\u3069\u7d39\u4ecb\u3059\u308bNavigationViewActions\u3092\u4f7f\u3046\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\n\u300cClick\u3067\u304d\u306a\u3044\u30fc(\u00b4\u30fb\u03c9\u30fb\uff40)\u300d\u3063\u3066\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002\nandroid.support.test.espresso.PerformException: \nError performing 'click on menu item with id' on view 'with id: \nio.github.droidkaigi.confsched.develop.debug:id/nav_view'.\n\n\nNavigationViewActions\u306e\u4f7f\u3044\u65b9\n\u3067\u306f\u3067\u306f\u3001\u4ee5\u4e0a\u306e\u3053\u3068\u3092\u3075\u307e\u3048\u3066DroidKaigi\u30a2\u30d7\u30ea\u306eNavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u3092\u64cd\u4f5c\u3057\u3066AndroidTest\u3067\u305d\u308c\u305e\u308c\u306e\u753b\u9762\u3092\u8868\u793a\u3057\u3066\u307f\u305f\u3002\n\u307e\u305a\u306f\u3001build.gradle\u306edependencies\u306bEspresso2.2.2\u3068\u304b\u3082\u308d\u3082\u305d\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u96d1\u306bdependencies\u90e8\u5206\u3060\u3051\u629c\u304d\u51fa\u3057\u3002\u3061\u306a\u307f\u306b\u3001\u4f7f\u3063\u3066\u308bsupport lib\u306b\u3088\u3063\u3066\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u9055\u3046\u305e\uff01\u3068\u304b\u6012\u3089\u308c\u308b\u306e\u3067\u3001Espresso\u306b\u542b\u307e\u308c\u3066\u308b\u3082\u306e\u306fexclude\u3067\u629c\u3044\u3066\u304a\u304f\u306e\u304c\u3044\u3044\u3088\u3002\n\napp/build.gradle\ndependencies {\n    compile \"com.android.support:appcompat-v7:23.2.0\"\n    compile \"com.android.support:design:23.2.0\"\n\n    androidTestCompile('com.android.support.test:runner:0.5') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    androidTestCompile('com.android.support.test:rules:0.5') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    androidTestCompile('com.android.support.test.espresso:espresso-intents:2.2.2') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    androidTestCompile ('com.android.support.test.espresso:espresso-contrib:2.2.2') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n        exclude group: 'com.android.support', module: 'support-v4'\n        exclude group: 'com.android.support', module: 'recyclerview-v7'\n        exclude group: 'com.android.support', module: 'appcompat-v7'\n        exclude group: 'com.android.support', module: 'design'\n    }\n}\n\n\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u5074\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306bDrawerLayout Open -> NavigationViewActions.navigateTo(id)\u3092\u7e70\u308a\u8fd4\u3057\u3066\u5404\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u3044\u3066\u3044\u304f\u3002\nThread.sleep\u306f\u958b\u3044\u305f\u306e\u3092\u3061\u3083\u3093\u3068\u76ee\u8996\u3059\u308b\u305f\u3081\u306b\u30e1\u30cb\u30e5\u30fc\u304c\u5207\u308a\u66ff\u308f\u3063\u305f\u3089\u3061\u3087\u3063\u3068\u6b62\u3081\u3066\u308b\u3060\u3051\u3002\n\nMainActivityTest.java\n@RunWith(AndroidJUnit4.class)\npublic class MainActivityTest {\n\n    @Rule\n    public IntentsTestRule<MainActivity> activityRule = new IntentsTestRule<>(MainActivity.class);\n\n    @Test\n    public void test_navigation_view() throws InterruptedException {\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_my_schedule));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_map));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_settings));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_sponsors));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_about));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_all_sessions));\n        Thread.sleep(1500);\n    }\n}\n\n\n\u57fa\u672c\u306f\u4ee5\u4e0b\u306e\u4e8c\u884c\u3067\u3059\u3002\nDrawerActions.open\u3067DrawerLayout\u3092\u958b\u304f\u3068UI\u4e0a\u306bNavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001NavigationViewActions.navigateTo(id)\u3067\u9078\u629e\u3057\u305f\u3044\u30e1\u30cb\u30e5\u30fc\u306eid\u3092\u5f15\u6570\u306b\u6e21\u3057\u307e\u3059\u3002\nonView(withId(R.id.drawer)).perform(DrawerActions.open());\nonView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_all_sessions));\n\n\u3061\u3087\u3063\u3068\u6ce8\u610f\u3057\u3066\u6b32\u3057\u3044\u306e\u306fDrawerLayout\u3092Open\u3059\u308b\u65b9\u6cd5\u306fDrawerActions.open\u3092\u4f7f\u3044\u306e\u304c\u3088\u3044\u3067\u3059\u3002\n\u6614\u306fDrawerActions.openDrawer\u3063\u3066\u3082\u306e\u304c\u3042\u3063\u305f\u3093\u3060\u3051\u3069\u3001\u3053\u308c\u306fDeprecated\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n// Good!!\nonView(withId(R.id.drawer)).perform(DrawerActions.open()); \n\n// Deprecated!! NO!!\nDrawerActions.openDrawer(R.id.drawer);\n\n\u7aef\u672b\u4e0a\u3067\u52d5\u304b\u3059\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3061\u3083\u3093\u3068DrawerLayout\u3092Open\u3057\u3066NavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u3092\u9078\u629e\u3057\u3066\u753b\u9762\u304c\u5207\u308a\u66ff\u308f\u3063\u3066\u307e\u3059\u3002\n\n\nNavigationViewActions\u306e\u60c5\u5831\n\u4ee5\u4e0a\u306e\u3088\u3046\u306a\u611f\u3058\u3067NavigationView\u3092NavigationViewActions\u3067\u64cd\u4f5c\u3067\u304d\u305f\u308f\u3051\u3067\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u3053\u308c\u3044\u3064\u8ffd\u52a0\u3055\u308c\u305f\u3093\u3084\u30fc\uff01\uff01\u3063\u3066\u8a71\u306a\u3093\u3067\u3059\u3088\u3002\n\u3093\u3067\u3001\u3053\u308c\u3092\u898b\u3064\u3051\u305f\u304d\u3063\u304b\u3051\u306f\u3061\u3089\u3063\u3068\u4ee5\u4e0b\u306eAndroid Testing Support Library\u306eRelease Notes\u3092\u898b\u305f\u306e\u304c\u304d\u3063\u304b\u3051\u3002\nhttps://google.github.io/android-testing-support-library/downloads/release-notes/index.html\n\nEspresso 2.2.2, Runner/Rules 0.5 (2016-02-22, silent release)\nNew Features\n\nespresso\n\n\nIssue 194253: Add support for NavigationView in android support design library\n\n\n\n\n\u307b\u3080\u307b\u3080\u3002Espresso 2.2.2\u3067NavigationView\u306e\u64cd\u4f5c\u3092Support\u3057\u305f\u3088\uff01\uff01\u3063\u3066\u611f\u3058\u3002\n\u3093\u3058\u3083\u3001NavigationView\u3092\u64cd\u4f5c\u3059\u308b\u30af\u30e9\u30b9\u306a\u306b\u3088\uff1f\uff1f\u3063\u3066\u8a71\u3067\u3001Espresso\u306eJavadoc\u898b\u3066\u307f\u305f\u3002\n\u300cClasses\u898b\u308c\u3070\u8ffd\u52a0\u3055\u308c\u3066\u308b\u306f\u305a\u3060\u3088\u306d\u30fc\u266a\u300d\nhttp://developer.android.com/reference/android/support/test/espresso/contrib/package-summary.html\n\n...(\u00b4\u30fb\u03c9\u30fb\uff40)\n\u304a\u5206\u304b\u308a\u3044\u305f\u3060\u3051\u308b\u3060\u308d\u3046\u304b\n\u306a\u3093\u3068Javadoc\u306bNavigationViewActions\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u306a\u3044\u3002\n\u3069\u3046\u3084\u3089Espresso 2.2.2, Runner/Rules 0.5 \u306eRelease\u5185\u5bb9\u304cJavadoc\u306b\u53cd\u6620\u3055\u308c\u3066\u3044\u306a\u3044\u3002\nSilent Release\u3060\u304b\u3089\uff1f\uff1f\u305d\u308c\u3068\u3082\u5225\u306b\u6700\u65b0\u306eJavadoc\u3042\u308b\u306e\uff1f\uff1f\u77e5\u3063\u3066\u3044\u308b\u4eba\u3044\u305f\u3089\u6559\u3048\u3066\u307b\u3057\u3044...\u3002\n\u30ed\u30fc\u30ab\u30eb\u306ejar\u3068\u304b\u898b\u308c\u3070NavigationViewActions\u306e\u5b9f\u88c5\u898b\u308c\u308b\u3051\u3069\u9762\u5012\u306f\u4eba\u306fNavigationViewActions\u306e\u4e2d\u8eab\u3092Gist\u306b\u79fb\u3057\u305f\u306e\u3067\u53c2\u8003\u307e\u3067\u306b\u3002\nhttps://gist.github.com/operando/b10eb858fb7a341ce3de\n\u3061\u306a\u307f\u306b\u3001NavigationViewActions\u306e\u5b9f\u88c5\u306f\u5143\u3005android-testing\u306ecustom action\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u305f\u3082\u306e\u3092\u307b\u307c\u307b\u307c\u305d\u306e\u307e\u307e\u63a1\u7528\u3057\u305f\u3063\u307d\u3044\u5b9f\u88c5\u306b\u306a\u3063\u3066\u3044\u308b\u3002\nhttps://github.com/googlecodelabs/android-testing/blob/master/app/src/androidTest/java/com/example/android/testing/notes/custom/action/NavigationViewActions.java\n\nNavigationViewActions Sample\nNavigationViewActions\u3092\u4f7f\u3063\u305f\u96d1\u306aSample\u3092\u4f5c\u3063\u305f\u307f\u305f\u306e\u3067\u624b\u5143\u3067\u52d5\u304b\u3057\u305f\u3044\u4eba\u306f\u3053\u308c\u3067\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/operando/NavigationViewActionsSample\n\n\u307e\u3068\u3081\nNavigationView\u304c\u7c21\u5358\u306b\u64cd\u4f5c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3081\u3067\u305f\u3057\u3081\u3067\u305f\u3057\u3067\u3057\u305f\u3002\nAndroidTest\u3067NavigationView\u64cd\u4f5c\u3057\u305f\u3044\u3088\u306d\uff1f\n\n\u3061\u3087\u3063\u3068\u524d\u306b\u9759\u304b\u306bRelease\u3055\u308c\u3066\u3044\u305f**Espresso 2.2.2\u306bNavigationView\u3092\u64cd\u4f5c\u3059\u308bNavigationViewActions**\u3068\u3044\u3046\u306e\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u305d\u306e\u304a\u8a71\u3002\n\nNavigationView\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u306f\u4ee5\u4e0b\u306eQiita\u306b\u304a\u4efb\u305b\u3059\u308b\u305c\u30fc\u3002\n\n**\"NavigationView\u3092\u4f7f\u3063\u3066Google Play\u98a8\u306e\u30e1\u30cb\u30e5\u30fc\u3092\u4f5c\u308b\u3010Android Design Support Library\u3011\"**\nhttp://qiita.com/chuross/items/60af0aca3e1c3f946f09\n\n## DrawerLayout\u3068NavigationView\u306f\u4ef2\u826f\u3057\u3053\u3088\u3057\n\n\u307e\u305a\u3001NavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u306e\u7279\u5fb4\u3068\u3057\u3066\u3001\u305d\u308c\u305e\u308c\u306e\u30e1\u30cb\u30e5\u30fc\u304c\u500b\u5225\u306eid\u3092\u6301\u3063\u3066\u3044\u308b\u3063\u3066\u3053\u3068\u3002\n\n\u300c\u3042\u30fc\u306a\u3089\u305d\u306eid\u6307\u5b9a\u3057\u3066\u3069\u308c\u9078\u629e\u3059\u308b\u304b\u66f8\u3044\u3066\u3042\u3052\u308c\u3070\u3044\u3044\u306e\u306d\u30fc\u300d\u3063\u3066\u3053\u3068\u306b\u306a\u308b\u3002\n\n\u305f\u3060NavigationView\u306f\u57fa\u672c\u7684\u306b**DrawerLayout\u306e\u5b50View\u3068\u3057\u3066\u8ffd\u52a0\u3057\u3066\u4f7f\u3046\u3053\u3068\u304c\u591a\u3044**\u3068\u601d\u3063\u3066\u308b\u3002\n\n[DroidKaigi\u30a2\u30d7\u30ea\u306eTop\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8](https://github.com/konifar/droidkaigi2016/blob/master/app/src/main/res/layout/activity_main.xml)\u3068\u304b\u898b\u308b\u3068\u307e\u3042\u308f\u304b\u308b\u3068\u601d\u3046\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306bDrawerLayout\u306e\u5b50View\u3068\u3057\u3066NavigationView\u3092\u4f7f\u3063\u3066\u308b\u3002\n\n```xml:github.com/konifar/droidkaigi2016/blob/master/app/src/main/res/layout/activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:context=\"io.github.droidkaigi.confsched.activity.MainActivity\">\n\n    <android.support.v4.widget.DrawerLayout\n        android:id=\"@+id/drawer\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fitsSystemWindows=\"true\"\n        tools:openDrawer=\"start\">\n\n        ....\n\n        <android.support.design.widget.NavigationView\n            android:id=\"@+id/nav_view\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"start\"\n            android:fitsSystemWindows=\"true\"\n            app:headerLayout=\"@layout/nav_header\"\n            app:itemTextColor=\"@color/nav_view_colors\"\n            app:menu=\"@menu/drawer_menu\"\n            app:insetForeground=\"#4000\"/>\n    </android.support.v4.widget.DrawerLayout>\n</layout>\n```\n\n\u4f55\u304c\u8a00\u3044\u305f\u3044\u306e\u304b\u3068\u3044\u3046\u3068\u3001NavigationView\u3092NavigationViewActions\u3067\u64cd\u4f5c\u3059\u308b\u306b\u306f\u3001**\u307e\u305a\u306fDrawerLayout\u3092Open\u3057\u306a\u3044\u3068NavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u304cUI\u4e0a\u8868\u793a\u3055\u308c\u306a\u304f\u3066\u64cd\u4f5c\u3067\u304d\u306a\u3044**\u3063\u3066\u3053\u3068\u3002\n\nDrawerLayout\u3092Open\u3057\u306a\u3044\u307e\u307e\u5f8c\u307b\u3069\u7d39\u4ecb\u3059\u308bNavigationViewActions\u3092\u4f7f\u3046\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\n\u300cClick\u3067\u304d\u306a\u3044\u30fc(\u00b4\u30fb\u03c9\u30fb\uff40)\u300d\u3063\u3066\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002\n\n```java\nandroid.support.test.espresso.PerformException: \nError performing 'click on menu item with id' on view 'with id: \nio.github.droidkaigi.confsched.develop.debug:id/nav_view'.\n```\n\n## NavigationViewActions\u306e\u4f7f\u3044\u65b9\n\n\u3067\u306f\u3067\u306f\u3001\u4ee5\u4e0a\u306e\u3053\u3068\u3092\u3075\u307e\u3048\u3066DroidKaigi\u30a2\u30d7\u30ea\u306eNavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u3092\u64cd\u4f5c\u3057\u3066AndroidTest\u3067\u305d\u308c\u305e\u308c\u306e\u753b\u9762\u3092\u8868\u793a\u3057\u3066\u307f\u305f\u3002\n\n\u307e\u305a\u306f\u3001build.gradle\u306edependencies\u306bEspresso2.2.2\u3068\u304b\u3082\u308d\u3082\u305d\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\u96d1\u306bdependencies\u90e8\u5206\u3060\u3051\u629c\u304d\u51fa\u3057\u3002\u3061\u306a\u307f\u306b\u3001\u4f7f\u3063\u3066\u308bsupport lib\u306b\u3088\u3063\u3066\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u9055\u3046\u305e\uff01\u3068\u304b\u6012\u3089\u308c\u308b\u306e\u3067\u3001Espresso\u306b\u542b\u307e\u308c\u3066\u308b\u3082\u306e\u306fexclude\u3067\u629c\u3044\u3066\u304a\u304f\u306e\u304c\u3044\u3044\u3088\u3002\n\n```gradle:app/build.gradle\ndependencies {\n    compile \"com.android.support:appcompat-v7:23.2.0\"\n    compile \"com.android.support:design:23.2.0\"\n\n    androidTestCompile('com.android.support.test:runner:0.5') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    androidTestCompile('com.android.support.test:rules:0.5') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    androidTestCompile('com.android.support.test.espresso:espresso-intents:2.2.2') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    androidTestCompile ('com.android.support.test.espresso:espresso-contrib:2.2.2') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n        exclude group: 'com.android.support', module: 'support-v4'\n        exclude group: 'com.android.support', module: 'recyclerview-v7'\n        exclude group: 'com.android.support', module: 'appcompat-v7'\n        exclude group: 'com.android.support', module: 'design'\n    }\n}\n```\n\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u5074\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b**DrawerLayout Open -> NavigationViewActions.navigateTo(id)**\u3092\u7e70\u308a\u8fd4\u3057\u3066\u5404\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u3044\u3066\u3044\u304f\u3002\n\nThread.sleep\u306f\u958b\u3044\u305f\u306e\u3092\u3061\u3083\u3093\u3068\u76ee\u8996\u3059\u308b\u305f\u3081\u306b\u30e1\u30cb\u30e5\u30fc\u304c\u5207\u308a\u66ff\u308f\u3063\u305f\u3089\u3061\u3087\u3063\u3068\u6b62\u3081\u3066\u308b\u3060\u3051\u3002\n\n```java:MainActivityTest.java\n@RunWith(AndroidJUnit4.class)\npublic class MainActivityTest {\n\n    @Rule\n    public IntentsTestRule<MainActivity> activityRule = new IntentsTestRule<>(MainActivity.class);\n\n    @Test\n    public void test_navigation_view() throws InterruptedException {\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_my_schedule));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_map));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_settings));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_sponsors));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_about));\n        Thread.sleep(1500);\n\n        onView(withId(R.id.drawer)).perform(DrawerActions.open());\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_all_sessions));\n        Thread.sleep(1500);\n    }\n}\n```\n\n\u57fa\u672c\u306f\u4ee5\u4e0b\u306e\u4e8c\u884c\u3067\u3059\u3002\n\n`DrawerActions.open`\u3067DrawerLayout\u3092\u958b\u304f\u3068UI\u4e0a\u306bNavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001`NavigationViewActions.navigateTo(id)`\u3067\u9078\u629e\u3057\u305f\u3044\u30e1\u30cb\u30e5\u30fc\u306eid\u3092\u5f15\u6570\u306b\u6e21\u3057\u307e\u3059\u3002\n\n```java\nonView(withId(R.id.drawer)).perform(DrawerActions.open());\nonView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_all_sessions));\n```\n\n\n\u3061\u3087\u3063\u3068\u6ce8\u610f\u3057\u3066\u6b32\u3057\u3044\u306e\u306f**DrawerLayout\u3092Open\u3059\u308b\u65b9\u6cd5\u306f[DrawerActions.open](http://developer.android.com/reference/android/support/test/espresso/contrib/DrawerActions.html#open())\u3092\u4f7f\u3044\u306e\u304c\u3088\u3044\u3067\u3059\u3002**\n\n\u6614\u306f[DrawerActions.openDrawer](http://developer.android.com/reference/android/support/test/espresso/contrib/DrawerActions.html#openDrawer(int))\u3063\u3066\u3082\u306e\u304c\u3042\u3063\u305f\u3093\u3060\u3051\u3069\u3001\u3053\u308c\u306fDeprecated\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\n```java\n// Good!!\nonView(withId(R.id.drawer)).perform(DrawerActions.open()); \n\n// Deprecated!! NO!!\nDrawerActions.openDrawer(R.id.drawer);\n```\n\n\n\n\u7aef\u672b\u4e0a\u3067\u52d5\u304b\u3059\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3061\u3083\u3093\u3068DrawerLayout\u3092Open\u3057\u3066NavigationView\u306e\u5404\u30e1\u30cb\u30e5\u30fc\u3092\u9078\u629e\u3057\u3066\u753b\u9762\u304c\u5207\u308a\u66ff\u308f\u3063\u3066\u307e\u3059\u3002\n\n![test.gif](https://raw.githubusercontent.com/operando/tmp/master/hammerheadMMB29Vshinobu03222016194953.gif)\n\n\n## NavigationViewActions\u306e\u60c5\u5831\n\n\u4ee5\u4e0a\u306e\u3088\u3046\u306a\u611f\u3058\u3067NavigationView\u3092NavigationViewActions\u3067\u64cd\u4f5c\u3067\u304d\u305f\u308f\u3051\u3067\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u3053\u308c\u3044\u3064\u8ffd\u52a0\u3055\u308c\u305f\u3093\u3084\u30fc\uff01\uff01\u3063\u3066\u8a71\u306a\u3093\u3067\u3059\u3088\u3002\n\n\u3093\u3067\u3001\u3053\u308c\u3092\u898b\u3064\u3051\u305f\u304d\u3063\u304b\u3051\u306f\u3061\u3089\u3063\u3068\u4ee5\u4e0b\u306eAndroid Testing Support Library\u306eRelease Notes\u3092\u898b\u305f\u306e\u304c\u304d\u3063\u304b\u3051\u3002\n\nhttps://google.github.io/android-testing-support-library/downloads/release-notes/index.html\n\n> **Espresso 2.2.2, Runner/Rules 0.5 (2016-02-22, silent release)**\n> New Features\n\n> * espresso\n>  * Issue 194253: Add support for NavigationView in android support design library\n\n\u307b\u3080\u307b\u3080\u3002Espresso 2.2.2\u3067NavigationView\u306e\u64cd\u4f5c\u3092Support\u3057\u305f\u3088\uff01\uff01\u3063\u3066\u611f\u3058\u3002\n\n\u3093\u3058\u3083\u3001NavigationView\u3092\u64cd\u4f5c\u3059\u308b\u30af\u30e9\u30b9\u306a\u306b\u3088\uff1f\uff1f\u3063\u3066\u8a71\u3067\u3001Espresso\u306eJavadoc\u898b\u3066\u307f\u305f\u3002\n\n\u300cClasses\u898b\u308c\u3070\u8ffd\u52a0\u3055\u308c\u3066\u308b\u306f\u305a\u3060\u3088\u306d\u30fc\u266a\u300d\n\nhttp://developer.android.com/reference/android/support/test/espresso/contrib/package-summary.html\n\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-03-22 18.25.27.png](https://qiita-image-store.s3.amazonaws.com/0/43637/5e707414-9e7a-bf09-22cf-0415294639e2.png)\n\n...(\u00b4\u30fb\u03c9\u30fb\uff40)\n\n**\u304a\u5206\u304b\u308a\u3044\u305f\u3060\u3051\u308b\u3060\u308d\u3046\u304b**\n\n\u306a\u3093\u3068Javadoc\u306bNavigationViewActions\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u306a\u3044\u3002\n\n\u3069\u3046\u3084\u3089**Espresso 2.2.2, Runner/Rules 0.5 \u306eRelease\u5185\u5bb9\u304cJavadoc\u306b\u53cd\u6620\u3055\u308c\u3066\u3044\u306a\u3044\u3002**\n\nSilent Release\u3060\u304b\u3089\uff1f\uff1f\u305d\u308c\u3068\u3082\u5225\u306b\u6700\u65b0\u306eJavadoc\u3042\u308b\u306e\uff1f\uff1f\u77e5\u3063\u3066\u3044\u308b\u4eba\u3044\u305f\u3089\u6559\u3048\u3066\u307b\u3057\u3044...\u3002\n\n\u30ed\u30fc\u30ab\u30eb\u306ejar\u3068\u304b\u898b\u308c\u3070NavigationViewActions\u306e\u5b9f\u88c5\u898b\u308c\u308b\u3051\u3069\u9762\u5012\u306f\u4eba\u306fNavigationViewActions\u306e\u4e2d\u8eab\u3092Gist\u306b\u79fb\u3057\u305f\u306e\u3067\u53c2\u8003\u307e\u3067\u306b\u3002\n\nhttps://gist.github.com/operando/b10eb858fb7a341ce3de\n\n\u3061\u306a\u307f\u306b\u3001NavigationViewActions\u306e\u5b9f\u88c5\u306f\u5143\u3005[android-testing](https://github.com/googlecodelabs/android-testing)\u306ecustom action\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u305f\u3082\u306e\u3092\u307b\u307c\u307b\u307c\u305d\u306e\u307e\u307e\u63a1\u7528\u3057\u305f\u3063\u307d\u3044\u5b9f\u88c5\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\nhttps://github.com/googlecodelabs/android-testing/blob/master/app/src/androidTest/java/com/example/android/testing/notes/custom/action/NavigationViewActions.java\n\n## NavigationViewActions Sample\n\nNavigationViewActions\u3092\u4f7f\u3063\u305f\u96d1\u306aSample\u3092\u4f5c\u3063\u305f\u307f\u305f\u306e\u3067\u624b\u5143\u3067\u52d5\u304b\u3057\u305f\u3044\u4eba\u306f\u3053\u308c\u3067\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\nhttps://github.com/operando/NavigationViewActionsSample\n\n## \u307e\u3068\u3081\n\nNavigationView\u304c\u7c21\u5358\u306b\u64cd\u4f5c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3081\u3067\u305f\u3057\u3081\u3067\u305f\u3057\u3067\u3057\u305f\u3002\n", "tags": ["Android", "android\u958b\u767a"]}