{"tags": ["bioinformatics", "Galaxy", "docker"], "context": "\n\n\u6982\u8981\n\ngalaxy/job_conf.xml.sample_advanced at dev \u00b7 galaxyproject/galaxy\n\ndocker_volumes\u306e\u4f8b\u304c\u3067\u3066\u3044\u305f\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u7d76\u5bfe\u30d1\u30b9\u304c\uff11\u3064\u306e\u4f8b\u3057\u304b\u306a\u304b\u3063\u305f\u3002\n\u3053\u306e\u5834\u5408\u306f\u3001-v /mnt/galaxyData/libraries:/mnt/galaxyData/libraries:ro \u3068\u306a\u308b\u3088\u3046\u3060\n<param id=\"docker_volumes\">$defaults,/mnt/galaxyData/libraries:ro,/mnt/galaxyData/indices:ro</param>\n\n\u6b21\u306e\u3088\u3046\u306b\u3001\u30db\u30b9\u30c8\u5074\u3068\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u3068\u3067\u9055\u3046\u30d1\u30b9\u3092\u6307\u5b9a\u3067\u304d\u308b\u306e\u304b\u8abf\u3079\u3066\u307f\u305f\u3002\n/home/hogehoge/dummy:/dummy:ro\n\n\n\u7d50\u8ad6\n\u53ef\u80fd\n            <param id=\"docker_volumes\">$defaults,/home/hogehoge/dummy:/dummy:ro</param>\n\n\nSGE \u3068 docker \u3092\u5229\u7528\u3059\u308b\u3001\u30b5\u30f3\u30d7\u30eb\u30b3\u30f3\u30d5\u30a3\u30b0\n<?xml version=\"1.0\"?>\n<job_conf>\n    <plugins workers=\"8\">\n        <plugin id=\"sge\" type=\"runner\" load=\"galaxy.jobs.runners.drmaa:DRMAAJobRunner\">\n            <param id=\"drmaa_library_path\">/usr/lib/gridengine-drmaa/lib/libdrmaa.so.1.0</param>\n        </plugin>\n    </plugins>\n    <handlers>\n        <handler id=\"main\"/>\n    </handlers>\n    <destinations default=\"cluster\">\n        <destination id=\"cluster\" runner=\"sge\">\n            <param id=\"embed_metadata_in_job\">False</param>\n            <param id=\"docker_enabled\">true</param>\n            <param id=\"docker_sudo\">false</param>\n            <param id=\"docker_volumes\">$defaults,/home/hogehoge/dummy:/dummy:ro</param>\n        </destination>\n    </destinations>\n    <limits>\n        <limit type=\"registered_user_concurrent_jobs\">1</limit>\n        <limit type=\"anonymous_user_concurrent_jobs\">1</limit>\n        <limit type=\"destination_user_concurrent_jobs\">1</limit>\n        <limit type=\"destination_total_concurrent_jobs\">1</limit>\n        <limit type=\"unregistered_user_concurrent_jobs\">1</limit>\n    </limits>\n</job_conf>\n\n# \u6982\u8981\n\n* [galaxy/job_conf.xml.sample_advanced at dev \u00b7 galaxyproject/galaxy](https://github.com/galaxyproject/galaxy/blob/dev/config/job_conf.xml.sample_advanced)\n\ndocker_volumes\u306e\u4f8b\u304c\u3067\u3066\u3044\u305f\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u7d76\u5bfe\u30d1\u30b9\u304c\uff11\u3064\u306e\u4f8b\u3057\u304b\u306a\u304b\u3063\u305f\u3002\n\u3053\u306e\u5834\u5408\u306f\u3001***-v /mnt/galaxyData/libraries:/mnt/galaxyData/libraries:ro*** \u3068\u306a\u308b\u3088\u3046\u3060\n\n```\n<param id=\"docker_volumes\">$defaults,/mnt/galaxyData/libraries:ro,/mnt/galaxyData/indices:ro</param>\n```\n\n\u6b21\u306e\u3088\u3046\u306b\u3001\u30db\u30b9\u30c8\u5074\u3068\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u3068\u3067\u9055\u3046\u30d1\u30b9\u3092\u6307\u5b9a\u3067\u304d\u308b\u306e\u304b\u8abf\u3079\u3066\u307f\u305f\u3002\n\n```\n/home/hogehoge/dummy:/dummy:ro\n```\n\n\n# \u7d50\u8ad6\n\n\u53ef\u80fd\n\n```\n            <param id=\"docker_volumes\">$defaults,/home/hogehoge/dummy:/dummy:ro</param>\n```\n\n## SGE \u3068 docker \u3092\u5229\u7528\u3059\u308b\u3001\u30b5\u30f3\u30d7\u30eb\u30b3\u30f3\u30d5\u30a3\u30b0\n\n```\n<?xml version=\"1.0\"?>\n<job_conf>\n    <plugins workers=\"8\">\n        <plugin id=\"sge\" type=\"runner\" load=\"galaxy.jobs.runners.drmaa:DRMAAJobRunner\">\n            <param id=\"drmaa_library_path\">/usr/lib/gridengine-drmaa/lib/libdrmaa.so.1.0</param>\n        </plugin>\n    </plugins>\n    <handlers>\n        <handler id=\"main\"/>\n    </handlers>\n    <destinations default=\"cluster\">\n        <destination id=\"cluster\" runner=\"sge\">\n            <param id=\"embed_metadata_in_job\">False</param>\n            <param id=\"docker_enabled\">true</param>\n            <param id=\"docker_sudo\">false</param>\n            <param id=\"docker_volumes\">$defaults,/home/hogehoge/dummy:/dummy:ro</param>\n        </destination>\n    </destinations>\n    <limits>\n        <limit type=\"registered_user_concurrent_jobs\">1</limit>\n        <limit type=\"anonymous_user_concurrent_jobs\">1</limit>\n        <limit type=\"destination_user_concurrent_jobs\">1</limit>\n        <limit type=\"destination_total_concurrent_jobs\">1</limit>\n        <limit type=\"unregistered_user_concurrent_jobs\">1</limit>\n    </limits>\n</job_conf>\n```\n"}