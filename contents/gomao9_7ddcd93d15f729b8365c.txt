{"context": " More than 1 year has passed since last update.\n\n\u52d5\u6a5f\nLTH\u306e\u9ad8\u5c71\u7d17\u4ee3\u5b50\u30bd\u30ed\u66f2\u304c vivid color \u304b Vivid Color \u304b VIVID COLOR \u3060\u3063\u305f\u304b\u5206\u304b\u3089\u306a\u304f\u306a\u308a\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u30a2\u30a4\u30de\u30b9\u697d\u66f2\u306e\u6b63\u5f0f\u540d\u79f0\u3092\u691c\u7d22\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u304b\u3063\u305f\u3002\n\n\u5b9f\u88c5\u65b9\u6cd5\n\nJSON\u3092\u8fd4\u3059Sinatra\u30b5\u30fc\u30d0\u3092Heroku\u306b\u7acb\u3066\u3066\u3001\u30ed\u30fc\u30ab\u30eb\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u53e9\u304f\u3002\n\u697d\u66f2\u60c5\u5831\u306f\u30a2\u30a4\u30de\u30b9\u697d\u66f2\u30fbCD\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9(\u60c5\u5831\u307e\u3068\u3081)\u3088\u308a\u62dd\u501f\u3002\n\n\n\u3064\u304f\u3063\u305f\u3082\u306e\ngomao9/imas-songs\n\n\u30b5\u30fc\u30d0\n\napp.rb\n\nrequire 'sinatra'\nrequire 'nokogiri'\nrequire 'open-uri'\nrequire 'json'\nrequire 'unicode'\n\nURL ='http://imas-db.jp/song/detail/'\n\nget '/search' do\n  title(params['keyword']).to_json\nend\n\nhelpers do\n  def title keyword\n    html = open(URL).read\n    doc = Nokogiri::HTML.parse(html)\n    songs = doc.css('div.section > ul > li').map(&:text).to_a\n    songs.select do |song|\n      Unicode::nfkc(song).include?  Unicode::nfkc(keyword)\n    end\n  end\nend\n\n\n\n\u30ed\u30fc\u30ab\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n\nimas_songs.rb\n#! /usr/bin/env ruby\nrequire 'json'\nrequire 'uri'\nrequire 'open-uri'\n\nkeyword = ARGV.first\nurl = \"https://imas-song-title.herokuapp.com/search?keyword=#{keyword}\"\nsongs = JSON.parse(open(URI.escape url).read)\nputs songs\n\n\n$ ./imas_songs.rb vivid\nvivid color\n\n## \u52d5\u6a5f\nLTH\u306e\u9ad8\u5c71\u7d17\u4ee3\u5b50\u30bd\u30ed\u66f2\u304c vivid color \u304b Vivid Color \u304b VIVID COLOR \u3060\u3063\u305f\u304b\u5206\u304b\u3089\u306a\u304f\u306a\u308a\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u30a2\u30a4\u30de\u30b9\u697d\u66f2\u306e\u6b63\u5f0f\u540d\u79f0\u3092\u691c\u7d22\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u304b\u3063\u305f\u3002\n\n## \u5b9f\u88c5\u65b9\u6cd5\n- JSON\u3092\u8fd4\u3059Sinatra\u30b5\u30fc\u30d0\u3092Heroku\u306b\u7acb\u3066\u3066\u3001\u30ed\u30fc\u30ab\u30eb\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u53e9\u304f\u3002\n- \u697d\u66f2\u60c5\u5831\u306f[\u30a2\u30a4\u30de\u30b9\u697d\u66f2\u30fbCD\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9(\u60c5\u5831\u307e\u3068\u3081)](http://imas-db.jp/song/detail/)\u3088\u308a\u62dd\u501f\u3002\n\n## \u3064\u304f\u3063\u305f\u3082\u306e\n[gomao9/imas-songs](https://github.com/gomao9/imas-songs)\n\n### \u30b5\u30fc\u30d0\n``` app.rb\n\nrequire 'sinatra'\nrequire 'nokogiri'\nrequire 'open-uri'\nrequire 'json'\nrequire 'unicode'\n\nURL ='http://imas-db.jp/song/detail/'\n\nget '/search' do\n  title(params['keyword']).to_json\nend\n\nhelpers do\n  def title keyword\n    html = open(URL).read\n    doc = Nokogiri::HTML.parse(html)\n    songs = doc.css('div.section > ul > li').map(&:text).to_a\n    songs.select do |song|\n      Unicode::nfkc(song).include?  Unicode::nfkc(keyword)\n    end\n  end\nend\n```\n\n### \u30ed\u30fc\u30ab\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n``` imas_songs.rb\n#! /usr/bin/env ruby\nrequire 'json'\nrequire 'uri'\nrequire 'open-uri'\n\nkeyword = ARGV.first\nurl = \"https://imas-song-title.herokuapp.com/search?keyword=#{keyword}\"\nsongs = JSON.parse(open(URI.escape url).read)\nputs songs\n```\n\n``` shell-session\n$ ./imas_songs.rb vivid\nvivid color\n```\n", "tags": ["Ruby", "\u30a2\u30a4\u30c9\u30eb\u30de\u30b9\u30bf\u30fc", "Nokogiri", "Sinatra"]}