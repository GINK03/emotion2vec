{"context": " More than 1 year has passed since last update.\n\n\u540c\u4e00\u30c9\u30e1\u30a4\u30f3\u306e\u5834\u5408\nPHP\u3067http only\u306e\u8a2d\u5b9a\u3092\u89e3\u9664\u3059\u308c\u3070\u3001\u53d6\u5f97\u53ef\u80fd\u3002\n$.post(url, params)\n    .done(function(res, status, XHR) {\n        console.log('url: '+url+' OK');\n        var cookie = XHR.getResponseHeader('Set-Cookie');\n    })\n    .fail(function(XHR, status, res) {\n        console.log('url: '+url+' NG');\n        console.log(status);\n    });\n\n\n\u5916\u90e8\u30c9\u30e1\u30a4\u30f3\u306e\u5834\u5408\n\u30b5\u30fc\u30d0\u30fc\u9593\u901a\u4fe1\u3067\u306f\u53d6\u5f97\u53ef\u80fd\u3060\u304cjavascript\u3067\u306f\u3001\u53d6\u5f97\u306f\u3067\u304d\u306a\u3044\u3002\uff08\u305f\u3076\u3093\uff09\najax\u3067\u306e\u9001\u4fe1\u306f\u51fa\u6765\u308b\u304b\u3082\u3002\n$.post(url, params)\n    .done(function(res, status, XHR) {\n        console.log('url: '+url+' OK');\n        var cookie = XHR.getResponseHeader('Set-Cookie');\n    })\n    .fail(function(XHR, status, res) {\n        console.log('url: '+url+' NG');\n        console.log(status);\n    });\n\n$response->set_header('Access-Control-Allow-Origin', 'http://localhost');\n        $response->set_header('Access-Control-Allow-Headers', 'Content-Type, X-Requested-With');\n        $response->set_header('Access-Control-Allow-Methods', 'PUT, GET, POST, DELETE, OPTIONS');\n        $response->set_header('Access-Control-Max-Age', 0);\n        $response->set_header('Content-Language', 'ja');\n        $response->set_header('Content-Type', 'application/json; charset=utf-8');\n\n         // cookie\u306a\u3069\u306e\u60c5\u5831\u3092\u9001\u308b\u304b\u3069\u3046\u304b\n        $response->set_header('Access-Control-Allow-Credentials', 'true');\n         // 3\u30d1\u30fc\u30c6\u30a3\u30fc\u304b\u3089\u306e\u66f8\u304d\u8fbc\u307f\u3092\u8a31\u53ef\u3059\u308b\u304b\uff1f\uff08IE\u5bfe\u7b56\uff1f\uff09\n        $response->set_header(\"P3P\", \"CP='CAO PSA OUR'\");\n\n\n----\n\n### \u540c\u4e00\u30c9\u30e1\u30a4\u30f3\u306e\u5834\u5408\nPHP\u3067http only\u306e\u8a2d\u5b9a\u3092\u89e3\u9664\u3059\u308c\u3070\u3001\u53d6\u5f97\u53ef\u80fd\u3002\n\n```\n$.post(url, params)\n\t.done(function(res, status, XHR) {\n\t\tconsole.log('url: '+url+' OK');\n\t\tvar cookie = XHR.getResponseHeader('Set-Cookie');\n\t})\n\t.fail(function(XHR, status, res) {\n\t\tconsole.log('url: '+url+' NG');\n\t\tconsole.log(status);\n\t});\n```\n\n\n### \u5916\u90e8\u30c9\u30e1\u30a4\u30f3\u306e\u5834\u5408\n\u30b5\u30fc\u30d0\u30fc\u9593\u901a\u4fe1\u3067\u306f\u53d6\u5f97\u53ef\u80fd\u3060\u304cjavascript\u3067\u306f\u3001\u53d6\u5f97\u306f\u3067\u304d\u306a\u3044\u3002\uff08\u305f\u3076\u3093\uff09\najax\u3067\u306e\u9001\u4fe1\u306f\u51fa\u6765\u308b\u304b\u3082\u3002\n\n```\n$.post(url, params)\n\t.done(function(res, status, XHR) {\n\t\tconsole.log('url: '+url+' OK');\n\t\tvar cookie = XHR.getResponseHeader('Set-Cookie');\n\t})\n\t.fail(function(XHR, status, res) {\n\t\tconsole.log('url: '+url+' NG');\n\t\tconsole.log(status);\n\t});\n\n$response->set_header('Access-Control-Allow-Origin', 'http://localhost');\n        $response->set_header('Access-Control-Allow-Headers', 'Content-Type, X-Requested-With');\n        $response->set_header('Access-Control-Allow-Methods', 'PUT, GET, POST, DELETE, OPTIONS');\n        $response->set_header('Access-Control-Max-Age', 0);\n        $response->set_header('Content-Language', 'ja');\n        $response->set_header('Content-Type', 'application/json; charset=utf-8');\n\n\t\t // cookie\u306a\u3069\u306e\u60c5\u5831\u3092\u9001\u308b\u304b\u3069\u3046\u304b\n        $response->set_header('Access-Control-Allow-Credentials', 'true');\n\t\t // 3\u30d1\u30fc\u30c6\u30a3\u30fc\u304b\u3089\u306e\u66f8\u304d\u8fbc\u307f\u3092\u8a31\u53ef\u3059\u308b\u304b\uff1f\uff08IE\u5bfe\u7b56\uff1f\uff09\n        $response->set_header(\"P3P\", \"CP='CAO PSA OUR'\");\n\n```\n\n", "tags": ["cookie"]}