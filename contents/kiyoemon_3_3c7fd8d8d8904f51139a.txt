{"tags": ["PHP", "CakePHP", "fabricate", "\u30c6\u30b9\u30c8", "DB"], "context": "\u30e1\u30e2\nCakePHP\u306b\u304a\u3051\u308b\u95a2\u9023\u3092\u6301\u3064\u30c6\u30fc\u30d6\u30eb\u306eFabricate\u306e\u66f8\u304d\u65b9\n\uff7d\uff6f\uff77\uff98\n\u203b https://github.com/sizuhiko/Fabricate\n$id = 1;\n$userId = 'test_user';\n$modelA = ['id' => $id, 'user_id' => $userId];\n$modelB = ['user_id' => $userId, 'modelA_id' => $id];\n\nFabricate::create('ModalA', 1, $modelA);\nFabricate::create('ModalB', 2, $modelB);\n\n// \u30c6\u30b9\u30c8\u5b9f\u884c\n...\n\n\n\u3082\u3046\uff11\u3064\u306e\u65b9\u6cd5\n$id = 1;\n$userId = 'test_user';\nFabricate::create(\n    'ModelA',\n    1,\n    function ($data, $world) use ($userId) {\n        return [\n            'user_id' => $userId,\n            'ModleB' => $world->association(\n                'ModleB',\n                2,\n                function ($data, $world) use ($userId) {\n                    return [\n                        'user_id' => $userId,\n                    ];\n                }\n            )\n        ];\n    }\n);\n\n\u30e1\u30e2\nCakePHP\u306b\u304a\u3051\u308b\u95a2\u9023\u3092\u6301\u3064\u30c6\u30fc\u30d6\u30eb\u306eFabricate\u306e\u66f8\u304d\u65b9\n\uff7d\uff6f\uff77\uff98\n\u203b https://github.com/sizuhiko/Fabricate\n\n```.php\n$id = 1;\n$userId = 'test_user';\n$modelA = ['id' => $id, 'user_id' => $userId];\n$modelB = ['user_id' => $userId, 'modelA_id' => $id];\n\nFabricate::create('ModalA', 1, $modelA);\nFabricate::create('ModalB', 2, $modelB);\n\n// \u30c6\u30b9\u30c8\u5b9f\u884c\n...\n\n```\n\n\u3082\u3046\uff11\u3064\u306e\u65b9\u6cd5\n\n```.php\n$id = 1;\n$userId = 'test_user';\nFabricate::create(\n    'ModelA',\n    1,\n    function ($data, $world) use ($userId) {\n        return [\n            'user_id' => $userId,\n            'ModleB' => $world->association(\n                'ModleB',\n                2,\n                function ($data, $world) use ($userId) {\n                    return [\n                        'user_id' => $userId,\n                    ];\n                }\n            )\n        ];\n    }\n);\n```\n\n\n"}