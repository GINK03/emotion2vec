{"context": " More than 1 year has passed since last update.\n\nGroovy\u306eGStringTemplateEngine\u3067\u30af\u30ed\u30fc\u30b8\u30e3\u3092bind\u3057\u3066\u4f7f\u3063\u3066\u307f\u308b\u3002\n\u203b http://www.glamenv-septzen.net/view/1168 \u3088\u308a\u8ee2\u8f09\n\u691c\u8a3c\u74b0\u5883\uff1a\n\nWin7 Pro 64bit\nJDK 1.7 64bit\nGroovy 1.8.9\n\n\n\u554f\u984c\u70b9\nGStringTemplateEngine\u3067\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30c6\u30ad\u30b9\u30c8\u306f groovy.tmp.templates.GStringTemplateScript[N] ([N]\u306b\u306f\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3055\u308c\u308b\u6570\u5b57\u304c\u5165\u308b)\u306eclosure\u5185\u3067\u51e6\u7406\u3055\u308c\u307e\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5185\u3067 \n<%= dump() %>\n<%= inspect() %>\n\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \n\u2193\u2193\"<%= dump() %>\"\u306e\u51fa\u529b\n<groovy.tmp.templates.GStringTemplateScript9$_getTemplate_closure1@73b05494 \\\n    delegate=groovy.lang.Binding@3d80fbe2 \\\n    owner=groovy.tmp.templates.GStringTemplateScript9@5f18d1f9 \\\n    thisObject=groovy.tmp.templates.GStringTemplateScript9@5f18d1f9 ...\n\n\u2193\u2193\"<%= inspect() %>\"\u306e\u51fa\u529b\ngroovy.tmp.templates.GStringTemplateScript9$_getTemplate_closure1@73b05494\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001 \ndef binding = [\n    title : \"...\",\n    c : { s -> ... },\n\n\u3068\u3057\u305f\u5834\u5408\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e2d\u3067 \n<%= c(title) %>\n\n\u3068\u3057\u3066\u3082\u3001\u300cgroovy.tmp.templates.GStringTemplateScript[N]\u306b\u306fc()\u306a\u3093\u3066\u30e1\u30bd\u30c3\u30c9\u3042\u308a\u307e\u305b\u3093\u300d\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002 \n\n\u65b9\u6cd5\u305d\u306e1\uff1a\"call()\"\u3067\u660e\u793a\u7684\u306b\u547c\u3076\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\"call()\"\u30e1\u30bd\u30c3\u30c9\u3067\u660e\u793a\u7684\u306bclosure\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002 \n<%= c.call(title) %>\n\n\u4f8b\uff1a\n@Grapes([\n@Grab(group='org.apache.commons', module='commons-lang3', version='3.1'),\n])\n\nimport org.apache.commons.lang3.*\n\nString input_s = \"<hello, 'bonjour' & \\\"evening\\\">\"\ndef binding = [\n    title : input_s,\n    h1 : { s -> StringEscapeUtils.escapeHtml4(s).replace(\"'\", '&#39;') },\n    h2 : { s ->\n        s.toString().replace('&', '&amp;').replace('<', '&lt;')\n        .replace('>', '&gt;').replace('\"', '&quot;').replace(\"'\", '&#39;')\n        },\n]\nprintln binding.h1(input_s)\nprintln binding.h2(input_s)\n\ndef engine = new groovy.text.GStringTemplateEngine()\ndef text = '''\\\nRaw Title : [<%= title %>]\nHTML Escaped Title(1) : [<%= h1.call(title) %>]\nHTML Escaped Title(2) : [<%= h2.call(title) %>]\n'''\ndef template = engine.createTemplate(text).make(binding)\nprintln template.toString()\n\n\u5b9f\u884c\u7d50\u679c\uff1a\n&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;\n&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;\nRaw Title : [<hello, 'bonjour' & \"evening\">]\nHTML Escaped Title(1) : [&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;]\nHTML Escaped Title(2) : [&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;]\n\n\n\u65b9\u6cd5\u305d\u306e2\uff1aObject.mixin\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u547c\u3079\u308b\u3088\u3046\u306b\u3059\u308b\n\"Object\"\u30af\u30e9\u30b9\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u4f7f\u3044\u305f\u3044\u30e1\u30bd\u30c3\u30c9\u3092mixin\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u4e00\u7a2e\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u95a2\u6570\u3068\u3057\u3066\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u4ed6\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u306e\u885d\u7a81\u3092\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u308a\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6c17\u306b\u3059\u308b\u5834\u5408\u306f\u691c\u8a3c\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u308a\u3068\u3001\u4e00\u898b\u5f37\u529b\u3067\u9b45\u529b\u7684\u306b\u898b\u3048\u308b\u53cd\u9762\u3001\u3069\u3053\u3067\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u304b\u4e88\u6e2c\u304c\u96e3\u3057\u304f\u306a\u308b\u30c7\u30e1\u30ea\u30c3\u30c8\u3082\u305d\u308c\u306a\u308a\u306b\u5927\u304d\u304f\u306a\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\u4f8b\uff1a\n@Grapes([\n@Grab(group='org.apache.commons', module='commons-lang3', version='3.1'),\n])\n\nimport org.apache.commons.lang3.*\n\nString input_s = \"<hello, 'bonjour' & \\\"evening\\\">\"\n\nclass Helper {\n    String h1(String s) { StringEscapeUtils.escapeHtml4(s).replace(\"'\", '&#39;') }\n    String h2(String s) {\n        s.toString().replace('&', '&amp;').replace('<', '&lt;')\n            .replace('>', '&gt;').replace('\"', '&quot;').replace(\"'\", '&#39;')\n    }\n}\nObject.mixin(Helper)\n\ndef binding = [\n    title : input_s,\n]\nprintln h1(input_s)\nprintln h2(input_s)\n\ndef engine = new groovy.text.GStringTemplateEngine()\ndef text = '''\\\nRaw Title : [<%= title %>]\nHTML Escaped Title(1) : [<%= h1(title) %>]\nHTML Escaped Title(2) : [<%= h2(title) %>]\n'''\ndef template = engine.createTemplate(text).make(binding)\nprintln template.toString()\n\n\u5b9f\u884c\u7d50\u679c\uff1a\n&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;\n&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;\nRaw Title : [<hello, 'bonjour' & \"evening\">]\nHTML Escaped Title(1) : [&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;]\nHTML Escaped Title(2) : [&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;]\n\n# Groovy\u306eGStringTemplateEngine\u3067\u30af\u30ed\u30fc\u30b8\u30e3\u3092bind\u3057\u3066\u4f7f\u3063\u3066\u307f\u308b\u3002\n\n\u203b http://www.glamenv-septzen.net/view/1168 \u3088\u308a\u8ee2\u8f09\n\n\u691c\u8a3c\u74b0\u5883\uff1a\n\n- Win7 Pro 64bit\n- JDK 1.7 64bit\n- Groovy 1.8.9\n\n# \u554f\u984c\u70b9\n\nGStringTemplateEngine\u3067\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30c6\u30ad\u30b9\u30c8\u306f `groovy.tmp.templates.GStringTemplateScript[N]` ([N]\u306b\u306f\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3055\u308c\u308b\u6570\u5b57\u304c\u5165\u308b)\u306eclosure\u5185\u3067\u51e6\u7406\u3055\u308c\u307e\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5185\u3067 \n\n```\n<%= dump() %>\n<%= inspect() %>\n```\n\n\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \n\n```\n\u2193\u2193\"<%= dump() %>\"\u306e\u51fa\u529b\n<groovy.tmp.templates.GStringTemplateScript9$_getTemplate_closure1@73b05494 \\\n    delegate=groovy.lang.Binding@3d80fbe2 \\\n    owner=groovy.tmp.templates.GStringTemplateScript9@5f18d1f9 \\\n    thisObject=groovy.tmp.templates.GStringTemplateScript9@5f18d1f9 ...\n\n\u2193\u2193\"<%= inspect() %>\"\u306e\u51fa\u529b\ngroovy.tmp.templates.GStringTemplateScript9$_getTemplate_closure1@73b05494\n```\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001 \n\n```groovy\ndef binding = [\n    title : \"...\",\n    c : { s -> ... },\n```\n\n\u3068\u3057\u305f\u5834\u5408\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e2d\u3067 \n\n```\n<%= c(title) %>\n```\n\n\u3068\u3057\u3066\u3082\u3001\u300cgroovy.tmp.templates.GStringTemplateScript[N]\u306b\u306fc()\u306a\u3093\u3066\u30e1\u30bd\u30c3\u30c9\u3042\u308a\u307e\u305b\u3093\u300d\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002 \n\n# \u65b9\u6cd5\u305d\u306e1\uff1a\"call()\"\u3067\u660e\u793a\u7684\u306b\u547c\u3076\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\"call()\"\u30e1\u30bd\u30c3\u30c9\u3067\u660e\u793a\u7684\u306bclosure\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002 \n\n```\n<%= c.call(title) %>\n```\n\n\u4f8b\uff1a\n\n```groovy\n@Grapes([\n@Grab(group='org.apache.commons', module='commons-lang3', version='3.1'),\n])\n\nimport org.apache.commons.lang3.*\n\nString input_s = \"<hello, 'bonjour' & \\\"evening\\\">\"\ndef binding = [\n    title : input_s,\n    h1 : { s -> StringEscapeUtils.escapeHtml4(s).replace(\"'\", '&#39;') },\n    h2 : { s ->\n        s.toString().replace('&', '&amp;').replace('<', '&lt;')\n        .replace('>', '&gt;').replace('\"', '&quot;').replace(\"'\", '&#39;')\n        },\n]\nprintln binding.h1(input_s)\nprintln binding.h2(input_s)\n\ndef engine = new groovy.text.GStringTemplateEngine()\ndef text = '''\\\nRaw Title : [<%= title %>]\nHTML Escaped Title(1) : [<%= h1.call(title) %>]\nHTML Escaped Title(2) : [<%= h2.call(title) %>]\n'''\ndef template = engine.createTemplate(text).make(binding)\nprintln template.toString()\n```\n\n\u5b9f\u884c\u7d50\u679c\uff1a\n\n```\n&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;\n&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;\nRaw Title : [<hello, 'bonjour' & \"evening\">]\nHTML Escaped Title(1) : [&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;]\nHTML Escaped Title(2) : [&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;]\n```\n\n# \u65b9\u6cd5\u305d\u306e2\uff1aObject.mixin\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u547c\u3079\u308b\u3088\u3046\u306b\u3059\u308b\n\n\"Object\"\u30af\u30e9\u30b9\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u4f7f\u3044\u305f\u3044\u30e1\u30bd\u30c3\u30c9\u3092mixin\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u4e00\u7a2e\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u95a2\u6570\u3068\u3057\u3066\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u4ed6\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u306e\u885d\u7a81\u3092\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u308a\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6c17\u306b\u3059\u308b\u5834\u5408\u306f\u691c\u8a3c\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u308a\u3068\u3001\u4e00\u898b\u5f37\u529b\u3067\u9b45\u529b\u7684\u306b\u898b\u3048\u308b\u53cd\u9762\u3001\u3069\u3053\u3067\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u304b\u4e88\u6e2c\u304c\u96e3\u3057\u304f\u306a\u308b\u30c7\u30e1\u30ea\u30c3\u30c8\u3082\u305d\u308c\u306a\u308a\u306b\u5927\u304d\u304f\u306a\u308b\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n\u4f8b\uff1a\n\n```groovy\n@Grapes([\n@Grab(group='org.apache.commons', module='commons-lang3', version='3.1'),\n])\n\nimport org.apache.commons.lang3.*\n\nString input_s = \"<hello, 'bonjour' & \\\"evening\\\">\"\n\nclass Helper {\n    String h1(String s) { StringEscapeUtils.escapeHtml4(s).replace(\"'\", '&#39;') }\n    String h2(String s) {\n        s.toString().replace('&', '&amp;').replace('<', '&lt;')\n            .replace('>', '&gt;').replace('\"', '&quot;').replace(\"'\", '&#39;')\n    }\n}\nObject.mixin(Helper)\n\ndef binding = [\n    title : input_s,\n]\nprintln h1(input_s)\nprintln h2(input_s)\n\ndef engine = new groovy.text.GStringTemplateEngine()\ndef text = '''\\\nRaw Title : [<%= title %>]\nHTML Escaped Title(1) : [<%= h1(title) %>]\nHTML Escaped Title(2) : [<%= h2(title) %>]\n'''\ndef template = engine.createTemplate(text).make(binding)\nprintln template.toString()\n```\n\n\u5b9f\u884c\u7d50\u679c\uff1a\n\n```\n&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;\n&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;\nRaw Title : [<hello, 'bonjour' & \"evening\">]\nHTML Escaped Title(1) : [&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;]\nHTML Escaped Title(2) : [&lt;hello, &#39;bonjour&#39; &amp; &quot;evening&quot;&gt;]\n```\n\n\n", "tags": ["Groovy", "GStringTemplateEngine"]}