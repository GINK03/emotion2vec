{"tags": ["docker", "swarm"], "context": "\n\n\u4e3b\u306a\u30b3\u30de\u30f3\u30c9\n\n\u30af\u30e9\u30b9\u30bf\u306e\u8d77\u52d5\n\u30af\u30e9\u30b9\u30bf\u8d77\u52d5\u306e\u969b\u306b\u306fdocker swarm init\u3092\u5b9f\u884c\u3059\u308b\u3002\n\u306a\u304a\u3001\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306b\u306f\u30af\u30e9\u30b9\u30bf\u306b\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u969b\u306e\n\u30c8\u30fc\u30af\u30f3\u60c5\u5831\u306e\u8868\u793a\u3082\u884c\u308f\u308c\u308b\u3002\n(\u5225\u306b\u3053\u3053\u3067\u8a18\u9332\u3057\u306a\u304f\u3068\u3082\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067\u6539\u3081\u3066\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002)\n\n\u30af\u30e9\u30b9\u30bf\u306e\u8d77\u52d5\ndocker swarm init --advertise-addr=\"192.168.100.19\" --listen-addr=0.0.0.0:2377\n\n\n\n\n\n\u30b3\u30de\u30f3\u30c9\n\u610f\u5473\n\u5099\u8003\n\n\n\n\ndocker swarm init\n\u30af\u30e9\u30b9\u30bf\u306e\u8d77\u52d5\n\u7279\u306b\u306a\u3057\n\n\n--advertise-addr=\"192.168.100.19\"\n\u4ed6\u30ce\u30fc\u30c9\u3068\u901a\u4fe1\u3059\u308b\u969b\u306e\u9001\u4fe1\u5143\u30a2\u30c9\u30ec\u30b9?\n\u8907\u6570\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u30ce\u30fc\u30c9\u304c\u6301\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u5fc5\u8981\n\n\n--listen-addr=0.0.0.0:2377\n\u4ed6\u306e\u30ce\u30fc\u30c9\u3068\u306e\u901a\u4fe1\u306b\u7528\u3044\u308b\u30ea\u30c3\u30b9\u30f3\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u306e\u6307\u5b9a\n\u5168\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e2377\u756a\u30dd\u30fc\u30c8\u3067\u30ea\u30c3\u30b9\u30f3\n\n\n\n\n\u30af\u30e9\u30b9\u30bf\u3078\u306e\u30ce\u30fc\u30c9\u306e\u53c2\u52a0\n\nswarm\u30af\u30e9\u30b9\u30bf\u3078\u306e\u30ce\u30fc\u30c9\u53c2\u52a0\ndocker swarm join 192.168.100.19 --advertise-addr=\"192.168.100.20\" --listen-addr=0.0.0.0:2377 --token=\"SWMTKN-1-5ttd4rei5x2ltr5xa4balwu607lhg8cpggznhx22vxqwireuyj-dikln7ne6okdxu30ycrevdpwz\"\n\n\n\n\n\n\u30b3\u30de\u30f3\u30c9\n\u610f\u5473\n\u5099\u8003\n\n\n\n\ndocker swarm join\n\u30af\u30e9\u30b9\u30bf\u306b\u53c2\u52a0\u3059\u308b\n\u5229\u7528\u3059\u308b\u30c8\u30fc\u30af\u30f3\u306b\u3088\u3063\u3066\u30de\u30cd\u30fc\u30b8\u30e3\u307e\u305f\u306f\u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u306b\u306a\u308b\n\n\n--advertise-addr=\"192.168.100.20\"\n\u30a2\u30c9\u30d0\u30bf\u30a4\u30ba\u306b\u4f7f\u7528\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3059\u308b\n\u8907\u6570\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u6301\u3064\u5834\u5408\u306f\u6307\u5b9a\u5fc5\u9808\n\n\n--listen-addr=0.0.0.0:2377\n\u4ed6\u306e\u30ce\u30fc\u30c9\u3068\u306e\u901a\u4fe1\u306b\u7528\u3044\u308b\u30ea\u30c3\u30b9\u30f3\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u306e\u6307\u5b9a\n\u3053\u306e\u5834\u5408\u306f\u5168\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306eTCP2377\u756a\u30dd\u30fc\u30c8\u3067\u30ea\u30c3\u30b9\u30f3\u3059\u308b\n\n\n--token=\"\uff5e\uff5e\uff5e\"\n\u30af\u30e9\u30b9\u30bf\u3078\u306e\u53c2\u52a0\u7528\u30c8\u30fc\u30af\u30f3\n\u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u3068\u3057\u3066\u53c2\u52a0\u3059\u308b\u5834\u5408\u3068\u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u3068\u3057\u3066\u53c2\u52a0\u3059\u308b\u5834\u5408\u3067\u30c8\u30fc\u30af\u30f3\u304c\u7570\u306a\u308b\n\n\n\n\n\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\nswarm\u30af\u30e9\u30b9\u30bf\u306e\u4e2d\u306b\u542b\u307e\u308c\u308b\u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u3067\ndocker swarm join-token\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u30c8\u30fc\u30af\u30f3\u3092\u30af\u30e9\u30b9\u30bf\u53c2\u52a0\u7528\u306e\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306f\u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u307e\u305f\u306f\n\u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\u3092\u884c\u308f\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\n\n\u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\n\n\u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\ndocker swarm join-token manager\nTo add a manager to this swarm, run the following command:\n    docker swarm join \\\n    --token SWMTKN-1-5ttd4rei5x2ltr5xa4balwu607lhg8cpggznhx22vxqwireuyj-dikln7ne6okdxu30ycrevdpwz\n\n\n\n\u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\n\n\u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\ndocker swarm join-token worker\nTo add a worker to this swarm, run the following command:\n    docker swarm join \\\n    --token SWMTKN-1-5ttd4rei5x2ltr5xa4balwu607lhg8cpggznhx22vxqwireuyj-1c6c7kfkfbvn0pim5tb89bgug\n\n\n\n\u72b6\u614b\u78ba\u8a8d\n\n\u30af\u30e9\u30b9\u30bf\u306e\u72b6\u614b\u78ba\u8a8d\n\n\u30af\u30e9\u30b9\u30bf\u306e\u72b6\u614b\u78ba\u8a8d\ndocker node list\nID                           HOSTNAME    STATUS  AVAILABILITY  MANAGER STATUS\n74ir4572w3n9155wl2jgala4o    ubuntu-001  Ready   Active        Leader\n8gag9kyuf6azs4ylojkyrui4s    ubuntu-002  Ready   Active        Reachable\na7kyx0ut9xn9mct2ersixuesz *  ubuntu-003  Ready   Active        Reachable\n\n\n\n\u500b\u5225\u306e\u30ce\u30fc\u30c9\u306e\u72b6\u614b\u78ba\u8a8d\n\n\u500b\u5225\u30ce\u30fc\u30c9\u306e\u72b6\u614b\u78ba\u8a8d\ndocker info\nContainers: 0\n Running: 0\n Paused: 0\n Stopped: 0\n \uff5e\uff5e\uff5e\uff5e\u4e2d\u7565\uff5e\uff5e\uff5e\uff5e\nSwarm: active\n NodeID: a7kyx0ut9xn9mct2ersixuesz\n Is Manager: true\n ClusterID: 1m4lxrlz5u1obrptp0n8zw60t\n Managers: 3\n Nodes: 3\n Orchestration:\n  Task History Retention Limit: 5\n Raft:\n  Snapshot interval: 10000\n  Heartbeat tick: 1\n  Election tick: 3\n Dispatcher:\n  Heartbeat period: 5 seconds\n CA configuration:\n  Expiry duration: 3 months\n Node Address: 192.168.100.21\n\uff5e\uff5e\uff5e\uff5e\u4e2d\u7565\uff5e\uff5e\uff5e\uff5e\nRegistry: https://index.docker.io/v1/\nWARNING: No swap limit support\nInsecure Registries:\n 127.0.0.0/8\n\n\nSwarm\u304cactive\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u30af\u30e9\u30b9\u30bf\u306f\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3002\n\n\n# \u4e3b\u306a\u30b3\u30de\u30f3\u30c9\n\n## \u30af\u30e9\u30b9\u30bf\u306e\u8d77\u52d5\n\n\u30af\u30e9\u30b9\u30bf\u8d77\u52d5\u306e\u969b\u306b\u306fdocker swarm init\u3092\u5b9f\u884c\u3059\u308b\u3002\n\u306a\u304a\u3001\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306b\u306f\u30af\u30e9\u30b9\u30bf\u306b\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u969b\u306e\n\u30c8\u30fc\u30af\u30f3\u60c5\u5831\u306e\u8868\u793a\u3082\u884c\u308f\u308c\u308b\u3002\n(\u5225\u306b\u3053\u3053\u3067\u8a18\u9332\u3057\u306a\u304f\u3068\u3082\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067\u6539\u3081\u3066\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002)\n\n```bash:\u30af\u30e9\u30b9\u30bf\u306e\u8d77\u52d5\ndocker swarm init --advertise-addr=\"192.168.100.19\" --listen-addr=0.0.0.0:2377\n```\n\n|\u30b3\u30de\u30f3\u30c9|\u610f\u5473|\u5099\u8003|\n|---|---|---|\n|docker swarm init|\u30af\u30e9\u30b9\u30bf\u306e\u8d77\u52d5|\u7279\u306b\u306a\u3057|\n|--advertise-addr=\"192.168.100.19\"|\u4ed6\u30ce\u30fc\u30c9\u3068\u901a\u4fe1\u3059\u308b\u969b\u306e\u9001\u4fe1\u5143\u30a2\u30c9\u30ec\u30b9?|\u8907\u6570\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u30ce\u30fc\u30c9\u304c\u6301\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u5fc5\u8981|\n|--listen-addr=0.0.0.0:2377|\u4ed6\u306e\u30ce\u30fc\u30c9\u3068\u306e\u901a\u4fe1\u306b\u7528\u3044\u308b\u30ea\u30c3\u30b9\u30f3\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u306e\u6307\u5b9a|\u5168\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e2377\u756a\u30dd\u30fc\u30c8\u3067\u30ea\u30c3\u30b9\u30f3|\n\n## \u30af\u30e9\u30b9\u30bf\u3078\u306e\u30ce\u30fc\u30c9\u306e\u53c2\u52a0\n\n```bash:swarm\u30af\u30e9\u30b9\u30bf\u3078\u306e\u30ce\u30fc\u30c9\u53c2\u52a0\ndocker swarm join 192.168.100.19 --advertise-addr=\"192.168.100.20\" --listen-addr=0.0.0.0:2377 --token=\"SWMTKN-1-5ttd4rei5x2ltr5xa4balwu607lhg8cpggznhx22vxqwireuyj-dikln7ne6okdxu30ycrevdpwz\"\n```\n\n|\u30b3\u30de\u30f3\u30c9|\u610f\u5473|\u5099\u8003|\n|---|---|---|\n|docker swarm join|\u30af\u30e9\u30b9\u30bf\u306b\u53c2\u52a0\u3059\u308b|\u5229\u7528\u3059\u308b\u30c8\u30fc\u30af\u30f3\u306b\u3088\u3063\u3066\u30de\u30cd\u30fc\u30b8\u30e3\u307e\u305f\u306f\u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u306b\u306a\u308b|\n|--advertise-addr=\"192.168.100.20\"|\u30a2\u30c9\u30d0\u30bf\u30a4\u30ba\u306b\u4f7f\u7528\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3059\u308b|\u8907\u6570\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u6301\u3064\u5834\u5408\u306f\u6307\u5b9a\u5fc5\u9808|\n|--listen-addr=0.0.0.0:2377|\u4ed6\u306e\u30ce\u30fc\u30c9\u3068\u306e\u901a\u4fe1\u306b\u7528\u3044\u308b\u30ea\u30c3\u30b9\u30f3\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u306e\u6307\u5b9a|\u3053\u306e\u5834\u5408\u306f\u5168\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306eTCP2377\u756a\u30dd\u30fc\u30c8\u3067\u30ea\u30c3\u30b9\u30f3\u3059\u308b|\n|--token=\"\uff5e\uff5e\uff5e\"|\u30af\u30e9\u30b9\u30bf\u3078\u306e\u53c2\u52a0\u7528\u30c8\u30fc\u30af\u30f3|\u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u3068\u3057\u3066\u53c2\u52a0\u3059\u308b\u5834\u5408\u3068\u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u3068\u3057\u3066\u53c2\u52a0\u3059\u308b\u5834\u5408\u3067\u30c8\u30fc\u30af\u30f3\u304c\u7570\u306a\u308b|\n\n### \u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\n\nswarm\u30af\u30e9\u30b9\u30bf\u306e\u4e2d\u306b\u542b\u307e\u308c\u308b\u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u3067\ndocker swarm join-token\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u30c8\u30fc\u30af\u30f3\u3092\u30af\u30e9\u30b9\u30bf\u53c2\u52a0\u7528\u306e\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306f\u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u307e\u305f\u306f\n\u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\u3092\u884c\u308f\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\n\n#### \u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\n\n```bash:\u30de\u30cd\u30fc\u30b8\u30e3\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\ndocker swarm join-token manager\nTo add a manager to this swarm, run the following command:\n    docker swarm join \\\n    --token SWMTKN-1-5ttd4rei5x2ltr5xa4balwu607lhg8cpggznhx22vxqwireuyj-dikln7ne6okdxu30ycrevdpwz\n```\n\n#### \u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\n\n```bash:\u30ef\u30fc\u30ab\u30ce\u30fc\u30c9\u7528\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\ndocker swarm join-token worker\nTo add a worker to this swarm, run the following command:\n    docker swarm join \\\n    --token SWMTKN-1-5ttd4rei5x2ltr5xa4balwu607lhg8cpggznhx22vxqwireuyj-1c6c7kfkfbvn0pim5tb89bgug\n```\n\n# \u72b6\u614b\u78ba\u8a8d\n\n## \u30af\u30e9\u30b9\u30bf\u306e\u72b6\u614b\u78ba\u8a8d\n\n```bash:\u30af\u30e9\u30b9\u30bf\u306e\u72b6\u614b\u78ba\u8a8d\ndocker node list\nID                           HOSTNAME    STATUS  AVAILABILITY  MANAGER STATUS\n74ir4572w3n9155wl2jgala4o    ubuntu-001  Ready   Active        Leader\n8gag9kyuf6azs4ylojkyrui4s    ubuntu-002  Ready   Active        Reachable\na7kyx0ut9xn9mct2ersixuesz *  ubuntu-003  Ready   Active        Reachable\n```\n\n## \u500b\u5225\u306e\u30ce\u30fc\u30c9\u306e\u72b6\u614b\u78ba\u8a8d\n\n```bash:\u500b\u5225\u30ce\u30fc\u30c9\u306e\u72b6\u614b\u78ba\u8a8d\ndocker info\nContainers: 0\n Running: 0\n Paused: 0\n Stopped: 0\n \uff5e\uff5e\uff5e\uff5e\u4e2d\u7565\uff5e\uff5e\uff5e\uff5e\nSwarm: active\n NodeID: a7kyx0ut9xn9mct2ersixuesz\n Is Manager: true\n ClusterID: 1m4lxrlz5u1obrptp0n8zw60t\n Managers: 3\n Nodes: 3\n Orchestration:\n  Task History Retention Limit: 5\n Raft:\n  Snapshot interval: 10000\n  Heartbeat tick: 1\n  Election tick: 3\n Dispatcher:\n  Heartbeat period: 5 seconds\n CA configuration:\n  Expiry duration: 3 months\n Node Address: 192.168.100.21\n\uff5e\uff5e\uff5e\uff5e\u4e2d\u7565\uff5e\uff5e\uff5e\uff5e\nRegistry: https://index.docker.io/v1/\nWARNING: No swap limit support\nInsecure Registries:\n 127.0.0.0/8\n```\n\nSwarm\u304cactive\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u30af\u30e9\u30b9\u30bf\u306f\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3002\n"}