{"context": " More than 1 year has passed since last update.\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306e\u7279\u5b9a\u30d1\u30bf\u30fc\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u307frsync\u3057\u305f\u3044\u3002\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067gz\u62e1\u5f35\u5b50\u306e\u30d5\u30a1\u30a4\u30eb\u3060\u3051rsync\u3057\u305f\u3044\u3002gz\u62e1\u5f35\u5b50\u3092\u542b\u307e\u306a\u3044sub3\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306frsync\u3057\u305f\u304f\u306a\u3044\u3068\u3059\u308b\u3002\n$ tree src\nsrc/\n\u251c\u2500\u2500 a.gz\n\u251c\u2500\u2500 sub1/\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 b.gz\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 sub2/\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 c.gz\n\u2514\u2500\u2500 sub3/\n    \u2514\u2500\u2500 other.log\n\n\u3053\u308c\u3092\u3053\u3046\u30b3\u30d4\u30fc\u3057\u305f\u3044\u3002\ndst/\n\u251c\u2500\u2500 a.gz\n\u2514\u2500\u2500 sub1/\n    \u251c\u2500\u2500 b.gz\n    \u2514\u2500\u2500 sub2/\n        \u2514\u2500\u2500 c.gz\n\n\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u306b\u3042\u305f\u3063\u3066\u7d50\u69cb\u306a\u6642\u9593\u306f\u307e\u3063\u305f\u306e\u3067\u30e1\u30e2\u3059\u308b\u3002\n\n\n--include, --exclude\u306f\u5b9a\u7fa9\u3057\u305f\u9806\u306b\u8a55\u4fa1\u3055\u308c\u308b\u3002\u30de\u30c3\u30c1\u3057\u305f\u3089\u305d\u3053\u3067\u8a55\u4fa1\u7d42\u308f\u308a\u3002\n\n--include=\"*.gz\"\u3092\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3082\u9069\u7528\u3059\u308b\u306b\u306f--include=\"*/\" --include=\"*.gz\" --exclude=\"*\" \u3068\u66f8\u304f\u3002--include=\"*/\"\u304c\u30dd\u30a4\u30f3\u30c8\u3002\n\n--include=\"*/\"\u3068\u3057\u305f\u306e\u3067sub3\u304c\u7a7a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u5b9b\u5148\u306b\u30b3\u30d4\u30fc\u3055\u308c\u3066\u3057\u307e\u3046\u3002\u3053\u308c\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u306f-m (prune empty directory chains from file-list) \u3092\u4ed8\u3051\u308b\u3002\u3053\u308c\u3067sub3\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3054\u3068\u30b3\u30d4\u30fc\u3055\u308c\u306a\u304f\u306a\u308b\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u6700\u7d42\u7684\u306b\u306f\u4ee5\u4e0b\u3067\u3002\n$ rsync -arm --include=\"*/\" --include=\"*.gz\" --exclude=\"*\" src/ dst/\n\n\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306e\u7279\u5b9a\u30d1\u30bf\u30fc\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u307frsync\u3057\u305f\u3044\u3002\n\n\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067gz\u62e1\u5f35\u5b50\u306e\u30d5\u30a1\u30a4\u30eb\u3060\u3051rsync\u3057\u305f\u3044\u3002gz\u62e1\u5f35\u5b50\u3092\u542b\u307e\u306a\u3044sub3\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306frsync\u3057\u305f\u304f\u306a\u3044\u3068\u3059\u308b\u3002\n\n```\n$ tree src\nsrc/\n\u251c\u2500\u2500 a.gz\n\u251c\u2500\u2500 sub1/\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 b.gz\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 sub2/\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 c.gz\n\u2514\u2500\u2500 sub3/\n    \u2514\u2500\u2500 other.log\n```\n\n\u3053\u308c\u3092\u3053\u3046\u30b3\u30d4\u30fc\u3057\u305f\u3044\u3002\n\n```\ndst/\n\u251c\u2500\u2500 a.gz\n\u2514\u2500\u2500 sub1/\n    \u251c\u2500\u2500 b.gz\n    \u2514\u2500\u2500 sub2/\n        \u2514\u2500\u2500 c.gz\n```\n\n\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u306b\u3042\u305f\u3063\u3066\u7d50\u69cb\u306a\u6642\u9593\u306f\u307e\u3063\u305f\u306e\u3067\u30e1\u30e2\u3059\u308b\u3002\n\n* `--include`, `--exclude`\u306f\u5b9a\u7fa9\u3057\u305f\u9806\u306b\u8a55\u4fa1\u3055\u308c\u308b\u3002\u30de\u30c3\u30c1\u3057\u305f\u3089\u305d\u3053\u3067\u8a55\u4fa1\u7d42\u308f\u308a\u3002\n* `--include=\"*.gz\"`\u3092\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3082\u9069\u7528\u3059\u308b\u306b\u306f`--include=\"*/\" --include=\"*.gz\" --exclude=\"*\"` \u3068\u66f8\u304f\u3002`--include=\"*/\"`\u304c\u30dd\u30a4\u30f3\u30c8\u3002\n* `--include=\"*/\"`\u3068\u3057\u305f\u306e\u3067sub3\u304c\u7a7a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u5b9b\u5148\u306b\u30b3\u30d4\u30fc\u3055\u308c\u3066\u3057\u307e\u3046\u3002\u3053\u308c\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u306f`-m` (prune empty directory chains from file-list) \u3092\u4ed8\u3051\u308b\u3002\u3053\u308c\u3067sub3\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3054\u3068\u30b3\u30d4\u30fc\u3055\u308c\u306a\u304f\u306a\u308b\u3002\n\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u6700\u7d42\u7684\u306b\u306f\u4ee5\u4e0b\u3067\u3002\n\n```\n$ rsync -arm --include=\"*/\" --include=\"*.gz\" --exclude=\"*\" src/ dst/\n```\n", "tags": ["rsync"]}