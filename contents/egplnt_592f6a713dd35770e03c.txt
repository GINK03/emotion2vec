{"context": "\u521d\u3081\u3066Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3001\u3068\u3044\u3046\u304b\u305f\u306e\u305f\u3081\u306e\u30ac\u30a4\u30c9\u3067\u3059\u3002\nWatson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b\u3067IoT\u30a2\u30d7\u30ea\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30ed\u30fc\u3067\u306f\u3001Watson Speech to Text\u3068Text to Speech\u3092IoT\u306b\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\nNode-RED\u30a2\u30d7\u30ea\u306eSpeech-to-Text\u30ce\u30fc\u30c9\u3067\u65e5\u672c\u8a9e\u3092\u5165\u529b\u3057\u3066\u307f\u307e\u3059\n\n\nSpeech-to-Text\u3067\u65e5\u672c\u8a9e\u3092\u5165\u529b\n[{\"id\":\"d56bc006.f5ba18\",\"type\":\"inject\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\u3053\u3093\u306b\u3061\u306f\",\"payloadType\":\"str\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":100,\"y\":80,\"wires\":[[\"10088110.ab7aaf\"]]},{\"id\":\"e41fc208.f8f238\",\"type\":\"watson-speech-to-text\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"continuous\":true,\"lang\":\"ja-JP\",\"langhidden\":\"ja-JP\",\"band\":\"BroadbandModel\",\"bandhidden\":\"\",\"password\":\"\",\"x\":540,\"y\":200,\"wires\":[[\"e63fba9a.1fec48\",\"fec8004b.22762\"]]},{\"id\":\"10088110.ab7aaf\",\"type\":\"watson-text-to-speech\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"lang\":\"ja-JP\",\"langhidden\":\"ja-JP\",\"voice\":\"ja-JP_EmiVoice\",\"voicehidden\":\"\",\"format\":\"audio/wav\",\"password\":\"\",\"x\":300,\"y\":80,\"wires\":[[\"5da68ff1.a23b1\"]]},{\"id\":\"5da68ff1.a23b1\",\"type\":\"function\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"func\":\"msg.payload = msg.speech;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":470,\"y\":80,\"wires\":[[\"e41fc208.f8f238\",\"b0fcb6a9.2c19b8\",\"84cb7b02.26a3b\"]]},{\"id\":\"e63fba9a.1fec48\",\"type\":\"debug\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"transcription\",\"x\":770,\"y\":200,\"wires\":[]},{\"id\":\"2044f684.753e2a\",\"type\":\"template\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"field\":\"\",\"fieldType\":\"msg\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html>\\n<head>\\n  <title>IBM Watson - Text To Speech</title>\\n  <script src=\\\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js\\\"></script>\\n  \\n  <script type=\\\"text/javascript\\\">\\n    var socketaddy = \\\"ws://\\\" + window.location.host + \\\"/ws/audio\\\";\\n\\n    $(document).ready(function(){\\n      var output = document.getElementById('output')\\n      $('#output').on('playing', function () {\\n          $('#text').text('Playing audio.')\\n          \\n      });\\n      $('#output').on('ended', function () {\\n          $('#text').text('Waiting for audio...')\\n          \\n      });\\n      sock = new WebSocket(socketaddy);\\n      sock.onopen = function(){\\n          $('#text').text('Waiting for audio...');\\n          console.log(\\\"Connected websocket\\\");\\n      };\\n      sock.onerror = function(){ \\n          console.log(\\\"Websocket error\\\"); \\n      };\\n      sock.onclose = function () {\\n          $('#text').text('Not connected. Refresh the page?')\\n      }\\n      sock.onmessage = function(evt){\\n        console.log(\\\"Websocket message\\\", evt); \\n        output.src = window.URL.createObjectURL(evt.data);\\n        output.play();\\n      };\\n    });\\n  </script>\\n  \\n</head>\\n<body style=\\\"font-size: 56px; font-family: helvetica; text-align: center; margin-top: 100px;\\\">\\n  <div id=\\\"text\\\">Connecting...</div>\\n  <audio id=\\\"output\\\"></audio>\\n</body>\\n</html>\",\"x\":330,\"y\":400,\"wires\":[[\"be653d4b.5ccd98\"]]},{\"id\":\"a482035f.ff3618\",\"type\":\"http in\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"url\":\"/example\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":170,\"y\":400,\"wires\":[[\"2044f684.753e2a\"]]},{\"id\":\"be653d4b.5ccd98\",\"type\":\"http response\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"x\":470,\"y\":400,\"wires\":[]},{\"id\":\"fec8004b.22762\",\"type\":\"debug\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"fullresult\",\"x\":750,\"y\":240,\"wires\":[]},{\"id\":\"b0fcb6a9.2c19b8\",\"type\":\"debug\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"false\",\"x\":670,\"y\":80,\"wires\":[]},{\"id\":\"b409da32.66bef\",\"type\":\"websocket in\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"server\":\"980c543e.9b243\",\"client\":\"\",\"x\":180,\"y\":200,\"wires\":[[\"e41fc208.f8f238\"]]},{\"id\":\"84cb7b02.26a3b\",\"type\":\"websocket out\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"server\":\"ef01d000.7b2a3\",\"client\":\"\",\"x\":680,\"y\":120,\"wires\":[]},{\"id\":\"980c543e.9b243\",\"type\":\"websocket-listener\",\"z\":\"9fe951bc.13a808\",\"path\":\"/ws/example\",\"wholemsg\":\"false\"},{\"id\":\"ef01d000.7b2a3\",\"type\":\"websocket-listener\",\"z\":\"a2732fef.b2b1f8\",\"path\":\"/ws/audio\",\"wholemsg\":\"false\"}]\n\n\n\n\n\n\u4ed6\u306eBluemix\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u306a\u3069\u3092\u53c2\u7167\u3057\u3001Watson Speech-to-Text\u30b5\u30fc\u30d3\u30b9\u3068Watson Text-to-Speech\u30b5\u30fc\u30d3\u30b9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u3001\u6b21\u9805\u3067\u65b0\u305f\u306b\u4f5c\u6210\u3059\u308bNode-RED\u30a2\u30d7\u30ea\u304b\u3089\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u6e96\u5099\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u65b0\u3057\u3044Node-RED\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u3001Bluemix\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306e\u300c\u63a5\u7d9a\u300d\u30bf\u30d6\u304b\u3089\u524d\u9805\u3067\u6e96\u5099\u3057\u305fWatson Speech-to-Text\u30b5\u30fc\u30d3\u30b9\u3068Watson Text-to-Speech\u30b5\u30fc\u30d3\u30b9\u3092\u300c\u65e2\u5b58\u306b\u63a5\u7d9a\u300d\u3067\u63a5\u7d9a\u3057\u3001\u4e0a\u8a18\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u3066\u65e5\u672c\u8a9e\u3067\u306e\u5165\u529b\u3092\u53ef\u80fd\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nWAV\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002(Github: https://github.com/e00893/wiotp404)\n\u4e0a\u8a18audio12.html\u30d5\u30a1\u30a4\u30eb\u306e\uff19\uff17\u884c\u76ee\u3092\u7de8\u96c6\u3057\u3001\u524d\u9805\u3067\u4f5c\u6210\u3057\u305fIoT\u30a2\u30d7\u30ea\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u300c\u9332\u97f3\u300d\u30dc\u30bf\u30f3\u3067\u9332\u97f3\u3092\u958b\u59cb\u3057\u3001\u300c\u505c\u6b62\u300d\u30dc\u30bf\u30f3\u3067WAV\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066Nodr-RED\u306eWebSocket\u3078\u9001\u4ed8\u3057\u307e\u3059\u3002\n\n\n\u53c2\u8003\uff1a\u30d6\u30e9\u30a6\u30b6\u306b\u304a\u3051\u308b\u9332\u97f3\u53ca\u3073\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\u3001\u8ee2\u9001\u3000\u5927\u5909\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\u3069\u3046\u3082\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\u521d\u3081\u3066Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3001\u3068\u3044\u3046\u304b\u305f\u306e\u305f\u3081\u306e\u30ac\u30a4\u30c9\u3067\u3059\u3002\n[Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b](http://qiita.com/egplnt/items/af867711a7191923b2ff)\u3067IoT\u30a2\u30d7\u30ea\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30ed\u30fc\u3067\u306f\u3001Watson Speech to Text\u3068Text to Speech\u3092IoT\u306b\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n\n# Node-RED\u30a2\u30d7\u30ea\u306eSpeech-to-Text\u30ce\u30fc\u30c9\u3067\u65e5\u672c\u8a9e\u3092\u5165\u529b\u3057\u3066\u307f\u307e\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-20 12.57.41.png](https://qiita-image-store.s3.amazonaws.com/0/125842/4ff34368-501d-0b26-f411-4707258d3e8e.png)\n\n```lang:Speech-to-Text\u3067\u65e5\u672c\u8a9e\u3092\u5165\u529b\n[{\"id\":\"d56bc006.f5ba18\",\"type\":\"inject\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\u3053\u3093\u306b\u3061\u306f\",\"payloadType\":\"str\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":100,\"y\":80,\"wires\":[[\"10088110.ab7aaf\"]]},{\"id\":\"e41fc208.f8f238\",\"type\":\"watson-speech-to-text\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"continuous\":true,\"lang\":\"ja-JP\",\"langhidden\":\"ja-JP\",\"band\":\"BroadbandModel\",\"bandhidden\":\"\",\"password\":\"\",\"x\":540,\"y\":200,\"wires\":[[\"e63fba9a.1fec48\",\"fec8004b.22762\"]]},{\"id\":\"10088110.ab7aaf\",\"type\":\"watson-text-to-speech\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"lang\":\"ja-JP\",\"langhidden\":\"ja-JP\",\"voice\":\"ja-JP_EmiVoice\",\"voicehidden\":\"\",\"format\":\"audio/wav\",\"password\":\"\",\"x\":300,\"y\":80,\"wires\":[[\"5da68ff1.a23b1\"]]},{\"id\":\"5da68ff1.a23b1\",\"type\":\"function\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"func\":\"msg.payload = msg.speech;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":470,\"y\":80,\"wires\":[[\"e41fc208.f8f238\",\"b0fcb6a9.2c19b8\",\"84cb7b02.26a3b\"]]},{\"id\":\"e63fba9a.1fec48\",\"type\":\"debug\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"transcription\",\"x\":770,\"y\":200,\"wires\":[]},{\"id\":\"2044f684.753e2a\",\"type\":\"template\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"field\":\"\",\"fieldType\":\"msg\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html>\\n<head>\\n  <title>IBM Watson - Text To Speech</title>\\n  <script src=\\\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js\\\"></script>\\n  \\n  <script type=\\\"text/javascript\\\">\\n    var socketaddy = \\\"ws://\\\" + window.location.host + \\\"/ws/audio\\\";\\n\\n    $(document).ready(function(){\\n      var output = document.getElementById('output')\\n      $('#output').on('playing', function () {\\n          $('#text').text('Playing audio.')\\n          \\n      });\\n      $('#output').on('ended', function () {\\n          $('#text').text('Waiting for audio...')\\n          \\n      });\\n      sock = new WebSocket(socketaddy);\\n      sock.onopen = function(){\\n          $('#text').text('Waiting for audio...');\\n          console.log(\\\"Connected websocket\\\");\\n      };\\n      sock.onerror = function(){ \\n          console.log(\\\"Websocket error\\\"); \\n      };\\n      sock.onclose = function () {\\n          $('#text').text('Not connected. Refresh the page?')\\n      }\\n      sock.onmessage = function(evt){\\n        console.log(\\\"Websocket message\\\", evt); \\n        output.src = window.URL.createObjectURL(evt.data);\\n        output.play();\\n      };\\n    });\\n  </script>\\n  \\n</head>\\n<body style=\\\"font-size: 56px; font-family: helvetica; text-align: center; margin-top: 100px;\\\">\\n  <div id=\\\"text\\\">Connecting...</div>\\n  <audio id=\\\"output\\\"></audio>\\n</body>\\n</html>\",\"x\":330,\"y\":400,\"wires\":[[\"be653d4b.5ccd98\"]]},{\"id\":\"a482035f.ff3618\",\"type\":\"http in\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"url\":\"/example\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":170,\"y\":400,\"wires\":[[\"2044f684.753e2a\"]]},{\"id\":\"be653d4b.5ccd98\",\"type\":\"http response\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"x\":470,\"y\":400,\"wires\":[]},{\"id\":\"fec8004b.22762\",\"type\":\"debug\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"fullresult\",\"x\":750,\"y\":240,\"wires\":[]},{\"id\":\"b0fcb6a9.2c19b8\",\"type\":\"debug\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"false\",\"x\":670,\"y\":80,\"wires\":[]},{\"id\":\"b409da32.66bef\",\"type\":\"websocket in\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"server\":\"980c543e.9b243\",\"client\":\"\",\"x\":180,\"y\":200,\"wires\":[[\"e41fc208.f8f238\"]]},{\"id\":\"84cb7b02.26a3b\",\"type\":\"websocket out\",\"z\":\"9fe951bc.13a808\",\"name\":\"\",\"server\":\"ef01d000.7b2a3\",\"client\":\"\",\"x\":680,\"y\":120,\"wires\":[]},{\"id\":\"980c543e.9b243\",\"type\":\"websocket-listener\",\"z\":\"9fe951bc.13a808\",\"path\":\"/ws/example\",\"wholemsg\":\"false\"},{\"id\":\"ef01d000.7b2a3\",\"type\":\"websocket-listener\",\"z\":\"a2732fef.b2b1f8\",\"path\":\"/ws/audio\",\"wholemsg\":\"false\"}]\n\n```\n\n\n1. [\u4ed6\u306eBluemix\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b](http://qiita.com/egplnt/items/0924dd0c31993826d217)\u306a\u3069\u3092\u53c2\u7167\u3057\u3001`Watson Speech-to-Text`\u30b5\u30fc\u30d3\u30b9\u3068`Watson Text-to-Speech`\u30b5\u30fc\u30d3\u30b9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u3001\u6b21\u9805\u3067\u65b0\u305f\u306b\u4f5c\u6210\u3059\u308bNode-RED\u30a2\u30d7\u30ea\u304b\u3089\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u6e96\u5099\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n2. \u65b0\u3057\u3044Node-RED\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u3001Bluemix\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306e\u300c\u63a5\u7d9a\u300d\u30bf\u30d6\u304b\u3089\u524d\u9805\u3067\u6e96\u5099\u3057\u305f`Watson Speech-to-Text`\u30b5\u30fc\u30d3\u30b9\u3068`Watson Text-to-Speech`\u30b5\u30fc\u30d3\u30b9\u3092\u300c\u65e2\u5b58\u306b\u63a5\u7d9a\u300d\u3067\u63a5\u7d9a\u3057\u3001\u4e0a\u8a18\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u3066\u65e5\u672c\u8a9e\u3067\u306e\u5165\u529b\u3092\u53ef\u80fd\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n3. [WAV\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306e\u30b5\u30f3\u30d7\u30eb](https://github.com/e00893/wiotp404)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002(Github: https://github.com/e00893/wiotp404)\n4. \u4e0a\u8a18audio12.html\u30d5\u30a1\u30a4\u30eb\u306e\uff19\uff17\u884c\u76ee\u3092\u7de8\u96c6\u3057\u3001\u524d\u9805\u3067\u4f5c\u6210\u3057\u305fIoT\u30a2\u30d7\u30ea\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n5. \u300c\u9332\u97f3\u300d\u30dc\u30bf\u30f3\u3067\u9332\u97f3\u3092\u958b\u59cb\u3057\u3001\u300c\u505c\u6b62\u300d\u30dc\u30bf\u30f3\u3067WAV\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066Nodr-RED\u306eWebSocket\u3078\u9001\u4ed8\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-20 12.16.15.png](https://qiita-image-store.s3.amazonaws.com/0/125842/b1b429a9-f238-d017-c4fb-a80564d4e091.png)\n\n\u53c2\u8003\uff1a[\u30d6\u30e9\u30a6\u30b6\u306b\u304a\u3051\u308b\u9332\u97f3\u53ca\u3073\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\u3001\u8ee2\u9001]\n(http://tech.at-iroha.jp/?p=663)\u3000\u5927\u5909\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\u3069\u3046\u3082\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n", "tags": ["watsoniotplatform", "node-red", "IoT", "wiotp", "wiotp404"]}