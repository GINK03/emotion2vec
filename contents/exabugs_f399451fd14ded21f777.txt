{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u5f62\u614b\u7d20\u89e3\u6790\u3068\u3044\u3048\u3070 MeCab\u3001Kuromoji \u304c\u6709\u540d\u3067\u3059\u304c\u3001\u4e2d\u3067\u3082TinySegmenter\u306e\u8efd\u91cf\u3055\u306b\u306f\u30d3\u30d3\u3063\u3066\u307e\u3057\u305f\u3002\n\u3068\u3053\u308d\u304c\u77e5\u3089\u306c\u9593\u306b\u3001\u697d\u5929\u3055\u3093\u304c\u3001\u3055\u3089\u306b\u3059\u3054\u3044\u3084\u3064\u3092\u30ea\u30ea\u30fc\u30b9\u3057\u3066\u3044\u307e\u3057\u305f\uff01\n\nhttps://github.com/rakuten-nlp/rakutenma\n\n\u30d4\u30e5\u30a2 JavaScript\n\u65e5\u672c\u8a9e/\u4e2d\u56fd\u8a9e(\u7c21\u4f53\u5b57) \u5bfe\u5fdc\n\u54c1\u8a5e\u4ed8\u304d\n\n\u3053\u308c\u306f\u30e9\u30f3\u30dc\u30fc\u306b\u5165\u308c\u3061\u3083\u3046\u3057\u304b\u306a\u3044\u3067\u3059\uff01\n\u30e9\u30f3\u30dc\u30fc\u3068\u306f\uff1ahttp://qiita.com/exabugs/items/e868df55333d0805acb2\n\nAWS\u8a2d\u5b9a\n\nStep 1: Lambda\u8a2d\u5b9a\n\n\u30e9\u30f3\u30dc\u30fc\u306eLambda\u95a2\u6570\u3092\u3001\u5dee\u3057\u66ff\u3048\u307e\u3059\u3002\nLambda\u306f npm \u30e2\u30b8\u30e5\u30fc\u30eb\u542b\u307f\u306ezip\u3092\u6271\u3048\u308b\u306e\u3067\u3059\u304c\u3001RakutenMA \u30d5\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u3060\u3068 50MByte \u3092\u8d85\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u6700\u5c0f\u69cb\u6210\u306a\u3089\u3001zip \u3067 2MByte \u5f31\u3067\u3044\u3051\u3061\u3083\u3046\n\nrakutenma.js\nhanzenkaku.js\nmodel_ja.min.json (\u8f9e\u66f8) \n\n\nLambda\u95a2\u6570\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n(\u4e00\u5f0f\u306f\u3053\u3061\u3089 GitHub : https://github.com/exabugs/Lambot-MA )\n\nvar fs = require(\"fs\");\n\nvar RakutenMA = require(\"./rakutenma/rakutenma\");\nvar HanZenKaku = require(\"./rakutenma/hanzenkaku\").HanZenKaku;\nvar model = JSON.parse(fs.readFileSync(\"./rakutenma/model_ja.min.json\"));\n\nrma = new RakutenMA(model);\nrma.featset = RakutenMA.default_featset_ja;\nrma.hash_func = RakutenMA.create_hash_func(15);\n\n\nexports.handler = function(event, context) {\n\n  // han->zen\n  var text = series([HanZenKaku.h2z, HanZenKaku.hw2fw, HanZenKaku.hs2fs], event.text);\n\n  var tokens = rma.tokenize(text);\n\n  tokens = tokens.reduce(function (memo, token) {\n    // remove white space tokens.\n    if (token[1] !== 'W') {\n      // zen->han\n      token[0] = series([HanZenKaku.fs2hs, HanZenKaku.fw2hw], token[0]);\n      memo.push(token);\n    }\n    return memo;\n  }, []);\n\n  text = tokens.join(\"\\n\");\n\n  context.done(null, {text: text});\n};\n\n// utility\nfunction series(array, input) {\n  return array.reduce(function (input, func) {\n    return func(input);\n  }, input);\n}\n\n\n\nStep 2: Configure function\n\nMemory: \u4f7f\u7528\u30e1\u30e2\u30ea\u3092 128 \u2192 192 \u306b\u5897\u3084\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\u78ba\u8a8d\nSlack\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\u304a\u3049\u3001\u30e9\u30f3\u30dc\u30fc\u3067\u5f62\u614b\u7d20\u89e3\u6790\u3067\u304d\u3066\u3044\u307e\u3059\uff01\n\u6771\u4eac\u90fd-\u4eac\u90fd \u554f\u984c\u3082\u3001\u5927\u4e08\u592b\u3067\u3059\u306d\u3002\n\u30e9\u30f3\u30dc\u30fc\u304c\u5f90\u3005\u306b\u8ce2\u304f\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\n\n\u307e\u3068\u3081\n\nAWS Lambda \u4e0a\u306b\u3001\u5f62\u614b\u7d20\u89e3\u6790\u304c\u53ef\u80fd\u306a Slack\u7528 \u30dc\u30c3\u30c8 (\u30e9\u30f3\u30dc\u30fc) \u3092\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\n\u30e9\u30f3\u30dc\u30fc\u306f\u4f4e\u6599\u91d1\u3067\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u3001\u304b\u3064\u3001\u30a4\u30f3\u30d5\u30e9\u7ba1\u7406\u304c\u4e0d\u8981\u3067\u3059\u3002\nLambda\u3067\u306f\u5b9f\u884c\u74b0\u5883(\u30b3\u30f3\u30c6\u30ca)\u304c\u518d\u5229\u7528\u3055\u308c\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u91cd\u3081\u306e\u521d\u671f\u5316\u51e6\u7406\u304c\u3042\u3063\u305f\u3068\u3057\u3066\u3082\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u901f\u3044\u3067\u3059\u3002\n\n\n\u6ce8\u610f\n\nRakutenMA\n\n\nmin\u8f9e\u66f8\u3067\u306f\u5b66\u7fd2\u306f\u4e0d\u53ef\u306e\u3088\u3046\u3067\u3059\u3002\n\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c86\u6587\u5b57\u4ee5\u4e0a\u306e\u9023\u7d9a\u306f\u51e6\u7406\u304c\u304a\u304b\u3057\u3044?\n\n\n\n## \u306f\u3058\u3081\u306b\n\u5f62\u614b\u7d20\u89e3\u6790\u3068\u3044\u3048\u3070 `MeCab`\u3001`Kuromoji` \u304c\u6709\u540d\u3067\u3059\u304c\u3001\u4e2d\u3067\u3082`TinySegmenter`\u306e\u8efd\u91cf\u3055\u306b\u306f\u30d3\u30d3\u3063\u3066\u307e\u3057\u305f\u3002\n\u3068\u3053\u308d\u304c\u77e5\u3089\u306c\u9593\u306b\u3001\u697d\u5929\u3055\u3093\u304c\u3001\u3055\u3089\u306b\u3059\u3054\u3044\u3084\u3064\u3092\u30ea\u30ea\u30fc\u30b9\u3057\u3066\u3044\u307e\u3057\u305f\uff01\n\n![rakutenma_logo.png](https://qiita-image-store.s3.amazonaws.com/0/69410/2b7554ce-c504-a242-2bca-cc7aae8528d6.png)\nhttps://github.com/rakuten-nlp/rakutenma\n\n - \u30d4\u30e5\u30a2 JavaScript\n - \u65e5\u672c\u8a9e/\u4e2d\u56fd\u8a9e(\u7c21\u4f53\u5b57) \u5bfe\u5fdc\n - \u54c1\u8a5e\u4ed8\u304d\n\n\u3053\u308c\u306f\u30e9\u30f3\u30dc\u30fc\u306b\u5165\u308c\u3061\u3083\u3046\u3057\u304b\u306a\u3044\u3067\u3059\uff01\n\n\u30e9\u30f3\u30dc\u30fc\u3068\u306f\uff1ahttp://qiita.com/exabugs/items/e868df55333d0805acb2\n\n\n## AWS\u8a2d\u5b9a\n### Step 1: Lambda\u8a2d\u5b9a\n\n - \u30e9\u30f3\u30dc\u30fc\u306eLambda\u95a2\u6570\u3092\u3001\u5dee\u3057\u66ff\u3048\u307e\u3059\u3002\n\n - Lambda\u306f npm \u30e2\u30b8\u30e5\u30fc\u30eb\u542b\u307f\u306ezip\u3092\u6271\u3048\u308b\u306e\u3067\u3059\u304c\u3001RakutenMA \u30d5\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u3060\u3068 50MByte \u3092\u8d85\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n - \u4ee5\u4e0b\u306e\u6700\u5c0f\u69cb\u6210\u306a\u3089\u3001zip \u3067 2MByte \u5f31\u3067\u3044\u3051\u3061\u3083\u3046\n   - rakutenma.js\n   - hanzenkaku.js\n   - model_ja.min.json (\u8f9e\u66f8) \n\n - Lambda\u95a2\u6570\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n(\u4e00\u5f0f\u306f\u3053\u3061\u3089 GitHub : https://github.com/exabugs/Lambot-MA )\n\n```js\nvar fs = require(\"fs\");\n\nvar RakutenMA = require(\"./rakutenma/rakutenma\");\nvar HanZenKaku = require(\"./rakutenma/hanzenkaku\").HanZenKaku;\nvar model = JSON.parse(fs.readFileSync(\"./rakutenma/model_ja.min.json\"));\n\nrma = new RakutenMA(model);\nrma.featset = RakutenMA.default_featset_ja;\nrma.hash_func = RakutenMA.create_hash_func(15);\n\n\nexports.handler = function(event, context) {\n\n  // han->zen\n  var text = series([HanZenKaku.h2z, HanZenKaku.hw2fw, HanZenKaku.hs2fs], event.text);\n\n  var tokens = rma.tokenize(text);\n\n  tokens = tokens.reduce(function (memo, token) {\n    // remove white space tokens.\n    if (token[1] !== 'W') {\n      // zen->han\n      token[0] = series([HanZenKaku.fs2hs, HanZenKaku.fw2hw], token[0]);\n      memo.push(token);\n    }\n    return memo;\n  }, []);\n\n  text = tokens.join(\"\\n\");\n\n  context.done(null, {text: text});\n};\n\n// utility\nfunction series(array, input) {\n  return array.reduce(function (input, func) {\n    return func(input);\n  }, input);\n}\n\n```\n\n### Step 2: Configure function\n - Memory: \u4f7f\u7528\u30e1\u30e2\u30ea\u3092 128 \u2192 192 \u306b\u5897\u3084\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8_2015-11-03_22_17_48.png](https://qiita-image-store.s3.amazonaws.com/0/69410/b6b03c8c-d6e5-bfd4-8287-3102b69e76b4.png)\n\n## \u78ba\u8a8d\n\nSlack\u3067\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3059\u3002\u304a\u3049\u3001\u30e9\u30f3\u30dc\u30fc\u3067\u5f62\u614b\u7d20\u89e3\u6790\u3067\u304d\u3066\u3044\u307e\u3059\uff01\n\u6771\u4eac\u90fd-\u4eac\u90fd \u554f\u984c\u3082\u3001\u5927\u4e08\u592b\u3067\u3059\u306d\u3002\n\u30e9\u30f3\u30dc\u30fc\u304c\u5f90\u3005\u306b\u8ce2\u304f\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8_2015-11-03_18_49_35.png](https://qiita-image-store.s3.amazonaws.com/0/69410/4914c52a-1176-2e8b-54e3-3a2da39e2caa.png)\n\n\n\n## \u307e\u3068\u3081\n - AWS Lambda \u4e0a\u306b\u3001\u5f62\u614b\u7d20\u89e3\u6790\u304c\u53ef\u80fd\u306a Slack\u7528 \u30dc\u30c3\u30c8 (\u30e9\u30f3\u30dc\u30fc) \u3092\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\n - \u30e9\u30f3\u30dc\u30fc\u306f\u4f4e\u6599\u91d1\u3067\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u3001\u304b\u3064\u3001\u30a4\u30f3\u30d5\u30e9\u7ba1\u7406\u304c\u4e0d\u8981\u3067\u3059\u3002\n - Lambda\u3067\u306f\u5b9f\u884c\u74b0\u5883(\u30b3\u30f3\u30c6\u30ca)\u304c\u518d\u5229\u7528\u3055\u308c\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u91cd\u3081\u306e\u521d\u671f\u5316\u51e6\u7406\u304c\u3042\u3063\u305f\u3068\u3057\u3066\u3082\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u901f\u3044\u3067\u3059\u3002\n\n## \u6ce8\u610f\n - RakutenMA\n     - min\u8f9e\u66f8\u3067\u306f\u5b66\u7fd2\u306f\u4e0d\u53ef\u306e\u3088\u3046\u3067\u3059\u3002\n     - \u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c86\u6587\u5b57\u4ee5\u4e0a\u306e\u9023\u7d9a\u306f\u51e6\u7406\u304c\u304a\u304b\u3057\u3044?\n", "tags": ["Slack", "lambda", "\u5f62\u614b\u7d20\u89e3\u6790", "RakutenMA"]}