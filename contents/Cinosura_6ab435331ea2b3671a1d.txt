{"context": " More than 1 year has passed since last update.\u3000\u521d\u3081\u3066Raspberry Pi\u306b\u624b\u3092\u51fa\u3057\u3066\u3001\u8a66\u884c\u932f\u8aa4\u3057\u306a\u304c\u3089\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u3092\u4f5c\u3063\u305f\u3051\u308c\u3069\u3001\u5f8c\u304b\u3089\u8003\u3048\u308c\u3070\u3053\u3046\u3059\u308c\u3070\u826f\u304b\u3063\u305f\u3068\u601d\u3046\u3068\u3053\u308d\u304c\u591a\u3005\u3042\u308b\u3002\u3082\u3057\u3001\u3082\u3046\u4e00\u56de\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3059\u3068\u3057\u305f\u3089\u3001\u3053\u3046\u3059\u308c\u3070\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u3044\u3046\u3053\u3068\u3092\u8003\u3048\u306a\u304c\u3089\u3001\u81ea\u5206\u306a\u308a\u306b\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u307f\u305f\u3002\n\n\u524d\u63d0\n\nWindows\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306b\u5229\u7528\u3057\u3066\u3044\u305fUSB\u5916\u4ed8\u3051HDD\u3092\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u7b49\u305b\u305a\u306bNTFS\u5f62\u5f0f\u306e\u307e\u307e\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u5316\u3059\u308b\u3002\n\u81ea\u5206\u3057\u304b\u3044\u306a\u3044\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u4e2d\u3060\u3051\u3067\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u73fe\u6642\u70b9\u3067\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u7279\u306b\u8003\u3048\u306a\u3044\u3002\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306e\u969b\u306b\u30e2\u30cb\u30bf\u3084\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u63a5\u7d9a\u3059\u308b\u306e\u306f\u9762\u5012\u306a\u306e\u3067\u3001\u3059\u3079\u3066Mac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304bWindows\u306eTera Term\u304b\u3089\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u8a2d\u5b9a\u3059\u308b\u3002\n\n\n\u8cfc\u5165\u3059\u308b\u7269\n\nRaspberry Pi 2 Model B\nRaspberry Pi\u30b9\u30bf\u30fc\u30bf\u30fc\u30d1\u30c3\u30af (Pi2\u7528Economy)\n\n\u3000\u81ea\u5206\u306f\u30b1\u30fc\u30b9\u4ed8\u304d\u306e\u30e2\u30c7\u30eb\u3068\u304b\u3001Standard\u7248\u306e\u30b9\u30bf\u30fc\u30bf\u30fc\u30d1\u30c3\u30af\u3068\u304b\u3001\u30d2\u30fc\u30c8\u30b7\u30f3\u30af\u3082\u8cb7\u3063\u3066\u3057\u307e\u3063\u305f\u3051\u308c\u3069\u3001\u5f8c\u304b\u3089\u8003\u3048\u308c\u3070\u8cb7\u3046\u306e\u306f\u3053\u306e2\u70b9\u3060\u3051\u3067\u826f\u304b\u3063\u305f\u3002\n\n\u305d\u306e\u7406\u7531\n\n\u30d7\u30e9\u30b9\u30c1\u30c3\u30af\u30b1\u30fc\u30b9\u3067\u3059\u3063\u307d\u308a\u8986\u3063\u3066\u3057\u307e\u3046\u306e\u306f\u3001\u71b1\u304c\u4e0d\u5b89\u3002\n\u5c0f\u578b\u30d2\u30fc\u30c8\u30b7\u30f3\u30af\u3067\u306f\u6c17\u4f11\u3081\u306a\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u71b1\u5bfe\u7b56\u3059\u308b\u306a\u3089\u30d5\u30a1\u30f3\u306e\u5897\u8a2d\u7b49\u3092\u691c\u8a0e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\nLAN\u30b1\u30fc\u30d6\u30eb\u306f\u81ea\u524d\u306e\u3082\u306e\u304c\u3042\u308b\u306e\u3067\u4e0d\u8981\u3060\u3063\u305f\u3002\n\u30d8\u30c3\u30c9\u30ec\u30b9\u3067\u8a2d\u5b9a\u3059\u308b\u306e\u3067\u3001HDMI\u30b1\u30fc\u30d6\u30eb\u306f\u8981\u3089\u306a\u304b\u3063\u305f\u3002\n\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\u3000\u30b9\u30bf\u30fc\u30bf\u30fc\u30d1\u30c3\u30af\u306e\u30de\u30a4\u30af\u30edSD\u30ab\u30fc\u30c9\u306b\u306fRaspbian-2015-05-05\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306a\u306e\u3067\u3001\u30de\u30a4\u30af\u30edSD\u30ab\u30fc\u30c9\u3092\u5dee\u3057\u8fbc\u3093\u3067\u3001LAN\u30b1\u30fc\u30d6\u30eb\u3092\u3064\u306a\u3044\u3067\u3001\u96fb\u6e90\u3092\u5dee\u3057\u8fbc\u3081\u3070\u8d77\u52d5\u3059\u308b\u7b48\u3002\n\u3000\u8d77\u52d5\u3057\u305f\u3089\u3001Mac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089arp -a\u3092\u53e9\u304f\u306a\u308a\u3001Fing\u3067LAN\u5185\u3092\u63a2\u7d22\u3059\u308b\u306a\u308a\u3057\u3066\u3001b8\u304b\u3089\u306f\u3058\u307e\u308bRaspberry Pi\u306e\u30d9\u30f3\u30c0\u30fc\u30b3\u30fc\u30c9\u306b\u7d10\u4ed8\u3044\u305fIP\u30a2\u30c9\u30ec\u30b9\u3092\u898b\u3064\u3051\u308b\u3002\n\u3000\u8a72\u5f53\u306eIP\u30a2\u30c9\u30ec\u30b9\u306bssh\u3067\u30ed\u30b0\u30a4\u30f3\u3002\u521d\u671f\u30e6\u30fc\u30b6\u306fpi\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306fraspberry\u3002\n\u3000\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u305f\u3089\u3001sudo raspi-config\u3092\u53e9\u3044\u3066\u3001\u4e0b\u8a18\u9805\u76ee\u3092\u8a2d\u5b9a\u3002\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u62e1\u5f35\n\u30ed\u30b1\u30fc\u30eb\u3092ja_JP.UTF-8\u306b\u5909\u66f4\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092Tokyo\u306b\u8a2d\u5b9a\nGPU\u30e1\u30e2\u30ea\u309264\u304b\u308916\u306b\u5909\u66f4\n\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30c7\u30a3\u30bc\u30fc\u30d6\u30eb\u306b\n\n\u3000\u5b8c\u4e86\u5f8c\u3001\u305d\u306e\u307e\u307e\u518d\u8d77\u52d5\u3002\n\nRaspbian\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n\u3000\u518d\u8d77\u52d5\u3057\u305f\u3089ssh\u3067\u5165\u308a\u76f4\u3057\u3066\u3001\u307e\u305a\u306f\u30b7\u30b9\u30c6\u30e0\u3092\u6700\u65b0\u7248\u306b\u3059\u308b\u3002\n\u3000\u81ea\u5206\u306f\u4e00\u901a\u308awheezy\u3067\u8a2d\u5b9a\u3057\u305f\u5f8c\u3067\u5909\u66f4\u3057\u305f\u3051\u308c\u3069\u3001\u3053\u306e\u6642\u70b9\u3067/etc/apt/sources.list\u3092\u66f8\u304d\u63db\u3048\u3066\u3001\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u524d\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u5148\u3092\u56fd\u5185\u306eJAIST\u306a\u3069\u306b\u5909\u66f4\u3057\u305f\u65b9\u304c\u3001\u5f8c\u3005\u306e\u4f5c\u696d\u304c\u65e9\u3044\u3068\u601d\u3046\u3002\u3042\u3068\u3001wheezy\u304b\u3089jessie\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u66f8\u304d\u63db\u3048\u3066\u3001\u6700\u65b0\u7248\u306eRaspbian\u3082\u5165\u308c\u3066\u3057\u307e\u3046\u3002\npi@raspberrypi ~ $ cat /etc/apt/sources.list\n#deb http://mirrordirector.raspbian.org/raspbian/ jessie main contrib non-free rpi\ndeb http://ftp.jaist.ac.jp/raspbian jessie main contrib non-free rpi\n# Uncomment line below then 'apt-get update' to enable 'apt-get source'\n#deb-src http://archive.raspbian.org/raspbian/ jessie main contrib non-free rpi\npi@raspberrypi ~ $\n\n\u3000\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u7cfb\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4e00\u901a\u308a\u5b9f\u65bd\u3002\npi@raspberrypi ~ $ #\u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30b9\u30c8\u306e\u66f4\u65b0\npi@raspberrypi ~ $ sudo apt-get update\npi@raspberrypi ~ $ #\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\npi@raspberrypi ~ $ sudo apt-get upgrade\npi@raspberrypi ~ $ #\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u66f4\u65b0\npi@raspberrypi ~ $ sudo apt-get dist-upgrade\npi@raspberrypi ~ $ #\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u66f4\u65b0\npi@raspberrypi ~ $ sudo rpi-update\npi@raspberrypi ~ $ #\u4f9d\u5b58\u95a2\u4fc2\u3092\u6e80\u305f\u3059\u305f\u3081\u4e00\u6642\u7684\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u4e0d\u8981\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\npi@raspberrypi ~ $ sudo apt-get autoremove\npi@raspberrypi ~ $ #\u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u524a\u9664\npi@raspberrypi ~ $ sudo apt-get autoclean\n\n\u3000Debian\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u624b\u5f15\u304d\u3092\u53c2\u8003\u306b\u3001\u524a\u9664\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5b8c\u5168\u524a\u9664\u3082\u5b9f\u65bd\u3002\npi@raspberrypi ~ $ dpkg -l | awk '/^rc/ { print $2 }'\npi@raspberrypi ~ $ sudo apt-get purge $(dpkg -l | awk '/^rc/ { print $2 }')\n\n\u3000\u30b7\u30b9\u30c6\u30e0\u304c\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\npi@raspberrypi ~ $ cat /etc/debian_version\n8.0\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ hostnamectl\n   Static hostname: raspberrypi\n         Icon name: computer\n           Chassis: n/a\n        Machine ID: 440a68c6f28d3e287c6b6c7b554a9684\n           Boot ID: ec13f69de49744fcbd0258bd4afde2df\n  Operating System: Raspbian GNU/Linux 8 (jessie)\n            Kernel: Linux 4.1.13-v7+\n      Architecture: arm\npi@raspberrypi ~ $\n\n\u3000\u78ba\u8a8d\u5f8c\u3001\u4e00\u5ea6\u518d\u8d77\u52d5\u3057\u3066\u5165\u308a\u76f4\u3059\u3002\n\u3000\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e9\u30f3\u30ec\u30d9\u30eb\u30925\u76f8\u5f53\u304b\u30893\u76f8\u5f53\u306b\u5909\u66f4\u3002\npi@raspberrypi ~ $ systemctl get-default\ngraphical.target\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ sudo systemctl set-default multi-user.target\nCreated symlink from /etc/systemd/system/default.target to /lib/systemd/system/multi-user.target.\npi@raspberrypi ~ $\n\n\nUSB\u5916\u4ed8\u3051HDD\u306e\u30de\u30a6\u30f3\u30c8\n\u3000NTFS\u5f62\u5f0f\u306eHDD\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u305f\u3081\u306b\u3001sudo apt-get install ntfs-3g\u3092\u53e9\u3044\u3066\u3001ntfs-3g\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\u3000\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u306f\u3001\u5b9f\u969b\u306b\u30de\u30a6\u30f3\u30c8\u3059\u308b\u524d\u306b\u4e00\u65e6\u30b7\u30b9\u30c6\u30e0\u3092\u518d\u8d77\u52d5\u3057\u306a\u3044\u3068\u3001\u4e0b\u8a18\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3089\u3057\u3044\u3002\u3068\u3044\u3046\u304b\u3001\u51fa\u305f\u3002\npi@raspberrypi ~ $ sudo mount -t ntfs-3g /dev/sda1 /mnt/hdd1\nlibkmod: ERROR ../libkmod/libkmod.c:554 kmod_search_moddep: could not open moddep file '/lib/modules/3.18.11-v7+/modules.dep.bin'\nfuse: device not found, try 'modprobe fuse' first\npi@raspberrypi ~ $\n\n\u3000Windows\u3067\u4f7f\u7528\u3057\u3066\u3044\u305fUSB\u5916\u4ed8\u3051HDD\u3092\u3001Raspberry Pi\u306b\u3064\u306a\u3044\u3067\u78ba\u8a8d\u3002\npi@raspberrypi ~ $ sudo fdisk -l\n\nDisk /dev/mmcblk0: 15.8 GB, 15804137472 bytes\n4 heads, 16 sectors/track, 482304 cylinders, total 30867456 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk identifier: 0xa6202af7\n\n        Device Boot      Start         End      Blocks   Id  System\n/dev/mmcblk0p1            8192      122879       57344    c  W95 FAT32 (LBA)\n/dev/mmcblk0p2          122880    30867455    15372288   83  Linux\n\nDisk /dev/sda: 2000.4 GB, 2000398934016 bytes\n255 heads, 63 sectors/track, 243201 cylinders, total 3907029168 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk identifier: 0x11961247\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1            2048  3907026943  1953512448    7  HPFS/NTFS/exFAT\npi@raspberrypi ~ $\n\n\u3000/dev/sda1\u3068\u3057\u3066HDD\u304c\u8a8d\u8b58\u3055\u308c\u305f\u306e\u3067\u3001\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066HDD\u3092\u30de\u30a6\u30f3\u30c8\u3002\npi@raspberrypi ~ $ sudo mkdir /mnt/hdd1\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ sudo mount -t ntfs-3g /dev/sda1 /mnt/hdd1\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ df -h\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9   \u30b5\u30a4\u30ba  \u4f7f\u7528  \u6b8b\u308a \u4f7f\u7528% \u30de\u30a6\u30f3\u30c8\u4f4d\u7f6e\n/dev/root         15G  2.8G   12G   20% /\ndevtmpfs         483M     0  483M    0% /dev\ntmpfs             98M  236K   98M    1% /run\ntmpfs            5.0M     0  5.0M    0% /run/lock\ntmpfs            195M     0  195M    0% /run/shm\n/dev/mmcblk0p1    56M   20M   37M   36% /boot\n/dev/sda1        1.9T  578G  1.3T   32% /mnt/hdd1\npi@raspberrypi ~ $\n\n\u3000\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u7684\u306b\u30de\u30a6\u30f3\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u3001HDD\u306eUUID\u3092\u78ba\u8a8d\u3057\u3066\u3001fstab\u306b\u30de\u30a6\u30f3\u30c8\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3002\npi@raspberrypi ~ $ sudo blkid /dev/sda1\n/dev/sda1: LABEL=\"M-cM-^CM-^\\M-cM-^CM-*M-cM-^CM-%M-cM-^CM-<M-cM-^CM- \" UUID=\"A25CF7FB5CF7C855\" TYPE=\"ntfs\"\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ cat /etc/fstab\nproc            /proc           proc    defaults          0       0\n/dev/mmcblk0p1  /boot           vfat    defaults          0       2\n/dev/mmcblk0p2  /               ext4    defaults,noatime  0       1\nUUID=\"A25CF7FB5CF7C855\" /mnt/hdd1       ntfs-3g defaults,nofail 0       0\n# a swapfile is not a swap partition, so no using swapon|off from here on, use  dphys-swapfile swap[on|off]  for that\npi@raspberrypi ~ $\n\n\u3000wheezy\u3067\u306f\u30de\u30a6\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306bdefaults\u3060\u3051\u3092\u8a18\u8f09\u3057\u3066\u3044\u305f\u3051\u308c\u3069\u3001jessie\u3067\u306fsystemd \u914d\u4e0b\u3067\u306e\u8d77\u52d5\u6642\u306e\u30de\u30a6\u30f3\u30c8\u5931\u6557\u306b\u5bfe\u3059\u308b\u3001\u3088\u308a\u53b3\u683c\u306a\u53d6\u308a\u6271\u3044\u306b\u3088\u308b\u3068\u3001\u30ea\u30e0\u30fc\u30d0\u30d6\u30eb\u30c9\u30e9\u30a4\u30d6\u306e\u30de\u30a6\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306fnoauto\u304bnofail\u3092\u4ed8\u3051\u308b\u3088\u3046\u306b\u3068\u306e\u3053\u3068\u306a\u306e\u3067\u3001nofail\u3092\u8ffd\u52a0\u3057\u305f\u3002\n\n\"/etc/fstab\u306e\u30d1\u30fc\u30b9\u304cHDD\u8a8d\u8b58\u3068\u540c\u6642\u307e\u305f\u306f\u305d\u308c\u4ee5\u524d\u306b\u884c\u308f\u308c\u3066\u3057\u307e\u3046\"\u554f\u984c\u306e\u5bfe\u51e6\n\u3000wheezy\u306e\u6642\u306f\u518d\u8d77\u52d5\u3059\u308b\u3068\u6642\u3005HDD\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u3001Raspberry pi 2\u304c\u5916\u4ed8\u3051HDD\u3092\u81ea\u52d5\u8a8d\u8b58\u3057\u3066\u304f\u308c\u306a\u304b\u3063\u305f- Qiita\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u3001/boot/cmdline.txt\u306brootdelay=10\u3092\u8ffd\u52a0\u3057\u305f\u3002\npi@raspberrypi ~ $ cat /boot/cmdline.txt\ndwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait rootdelay=10\n\n\u3000\u305f\u3060\u3001jessie\u306b\u3057\u305f\u6642\u306b\u30de\u30a6\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306bnofail\u3092\u8ffd\u52a0\u3057\u305f\u306e\u3067\u3001rootdelay=10\u306f\u3082\u3046\u5fc5\u8981\u306a\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u3082\u601d\u3046\u306e\u3060\u3051\u3069\u3001\u78ba\u8a3c\u304c\u306a\u3044\u306e\u3067\u305d\u306e\u307e\u307e\u306b\u3057\u3066\u3042\u308b\u3002\n\nUSB\u5916\u4ed8\u3051HDD\u306e\u81ea\u52d5\u505c\u6b62\u8a2d\u5b9a\n\n8.USBHDD\u306e\u5b9a\u671f\u7684\u306a\u30b9\u30d4\u30f3\u30c0\u30a6\u30f3\u65b9\u6cd5 - RaspberryPi\u3067\u5404\u7a2e\u30b5\u30fc\u30d0\u30fc\u4f5c\u308a\uff01 - \u3042\u308b\u962a\u5927\u751f\u306e\u7269\u7f6e\u5c0f\u5c4b\n\n\u3000\u3053\u3061\u3089\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u3066\u3001\u5916\u4ed8\u3051HDD\u306b\u4e00\u5b9a\u6642\u9593\u30a2\u30af\u30bb\u30b9\u304c\u306a\u304b\u3063\u305f\u5834\u5408\u81ea\u52d5\u7684\u306b\u505c\u6b62\u3059\u308b\u8a2d\u5b9a\u3092\u5b9f\u65bd\u3057\u305f\u3002\n\u3000sudo apt-get install sdparm\u3068sudo apt-get install hdparm\u3092\u53e9\u3044\u3066\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002sudo sdparm -r --command=stop /dev/sda1\u3084sudo hdparm -y /dev/sda1\u3092\u53e9\u3044\u3066\u3001\u3069\u3061\u3089\u306e\u30b3\u30de\u30f3\u30c9\u3067HDD\u304c\u505c\u6b62\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3002\n\u3000\u5f53\u521d\u3001sdparm\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066HDD\u304c\u505c\u6b62\u3059\u308b\u304b\u8a66\u3057\u305f\u3068\u3053\u308d\u3001\u505c\u6b62\u3057\u305f\u76f4\u5f8c\u306b\u52d5\u304d\u51fa\u3057\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3053\u3061\u3089\u3067\u306f\u99c4\u76ee\u306a\u306e\u304b\u3068\u601d\u3044hdparm\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3057\u307e\u3063\u305f\u3051\u308c\u3069\u3001\u5358\u306bsdparm\u306e\u30b3\u30de\u30f3\u30c9\u306br\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u8db3\u308a\u306a\u304b\u3063\u305f\u3060\u3051\u3067\u3001\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3069\u3061\u3089\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3082HDD\u3092\u505c\u6b62\u3067\u304d\u305f\u3002\n\u3000\u3042\u3068\u306f\u4e0a\u8a18\u30da\u30fc\u30b8\u3067\u7d39\u4ecb\u3055\u308c\u3066\u3044\u308b\u901a\u308a\u306bhdd_spindown.sh\u3092\u4f5c\u6210\u3057\u3001systemd\u3067\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u8a2d\u5b9a\u3002\n\u3000\u81ea\u5206\u306fHDD\u304c60\u79d2\u3067\u505c\u6b62\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305f\u3002\n\nSamba\u5c0e\u5165\n\u3000\u81ea\u5206\u306fwheezy\u306e\u6642\u306bsudo apt-get install samba\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001jessie\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u6642\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\u304c\u304b\u304b\u3063\u3066\u3044\u305f\u3051\u308c\u3069\u3001jessie\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u3082\u7279\u306b\u5909\u308f\u3089\u306a\u3044\u3060\u308d\u3046\u3068\u601d\u3046\u3002\n\u3000\u4e00\u5fdc\u3001jessie\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u5f8c\u306eSamba\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u72b6\u614b\u306f\u3053\u3093\u306a\u611f\u3058\u3060\u3063\u305f\u3002\npi@raspberrypi ~ $ dpkg -l samba*\n\u8981\u671b=(U)\u4e0d\u660e/(I)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb/(R)\u524a\u9664/(P)\u5b8c\u5168\u524a\u9664/(H)\u4fdd\u6301\n| \u72b6\u614b=(N)\u7121/(I)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08/(C)\u8a2d\u5b9a/(U)\u5c55\u958b/(F)\u8a2d\u5b9a\u5931\u6557/(H)\u534a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb/(W)\u30c8\u30ea\u30ac\u5f85\u3061/(T)\u30c8\u30ea\u30ac\u4fdd\u7559\n|/ \u30a8\u30e9\u30fc?=(\u7a7a\u6b04)\u7121/(R)\u8981\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (\u72b6\u614b,\u30a8\u30e9\u30fc\u306e\u5927\u6587\u5b57=\u7570\u5e38)\n||/ \u540d\u524d           \u30d0\u30fc\u30b8\u30e7\u30f3   \u30a2\u30fc\u30ad\u30c6\u30af\u30c1 \u8aac\u660e\n+++-==============-============-============-=================================\nii  samba          2:4.1.17+dfs armhf        SMB/CIFS file, print, and login s\nun  samba-ad-dc    <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nun  samba-client   <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nii  samba-common   2:4.1.17+dfs all          common files used by both the Sam\nii  samba-common-b 2:4.1.17+dfs armhf        Samba common files used by both t\nun  samba-doc      <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nii  samba-dsdb-mod 2:4.1.17+dfs armhf        Samba Directory Services Database\nii  samba-libs:arm 2:4.1.17+dfs armhf        Samba core libraries\nun  samba-tools    <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nii  samba-vfs-modu 2:4.1.17+dfs armhf        Samba Virtual FileSystem plugins\nun  samba4         <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nun  samba4-clients <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nun  samba4-common  <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nun  samba4-common- <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ smbd -V\nVersion 4.1.17-Debian\npi@raspberrypi ~ $\n\n\u3000\u73fe\u5728\u306esmb.conf\u3092sudo cp /etc/samba/smb.conf /etc/samba/smb.conf.org\u306a\u3069\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3002\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u305f\u3002\npi@raspberrypi ~ $ cat /etc/samba/smb.conf\n[global]\n        server role = standalone server\n        map to guest = Bad User\n        obey pam restrictions = Yes\n        pam password change = Yes\n        passwd program = /usr/bin/passwd %u\n        passwd chat = *Enter\\snew\\s*\\spassword:* %n\\n *Retype\\snew\\s*\\spassword:* %n\\n *password\\supdated\\ssuccessfully* .\n        unix password sync = Yes\n        syslog = 0\n        log file = /var/log/samba/log.%m\n        max log size = 10\n        client max protocol = SMB3\n        dns proxy = No\n        usershare allow guests = Yes\n        panic action = /usr/share/samba/panic-action %d\n        idmap config * : backend = tdb\n        hosts deny = 192.168.0.100\n        printing = bsd\n\n[nas]\n        comment = raspberrypi_nas\n        path = /mnt/hdd1\n        force user = pi\n        read only = No\n        guest ok = Yes\npi@raspberrypi ~ $\n\n\u3000smb.conf\u306e\u7de8\u96c6\u306f\u3001\u8cc7\u6599\u3092\u53c2\u8003\u306b\u3042\u308b\u7a0b\u5ea6\u9069\u5f53\u306b\u66f8\u304d\u63db\u3048\u305f\u3089\u3001\u4e00\u5ea6testparm\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3044\u3066\u51fa\u529b\u3055\u308c\u305f\u7d50\u679c\u3092\u4e0d\u8981\u306a\u9805\u76ee\u3092\u524a\u9664\u3057\u3066smb.conf\u306b\u6d41\u3057\u8fbc\u307f\u3001testparm -v\u3092\u53e9\u3044\u3066\u5024\u304c\u5909\u308f\u3063\u3066\u3044\u3066\u6b32\u3057\u3044\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u9805\u76ee\u3092\u8ffd\u8a18\u3059\u308b\u5f62\u3067\u5b9f\u65bd\u3057\u3066\u307f\u305f\u3002\n\u3000host deny = 192.168.0.100\u3092\u5165\u308c\u3066\u3044\u308b\u306e\u306f\u3001\u3046\u3061\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306b\u5b58\u5728\u3059\u308b\u6771\u829d\u30ec\u30b0\u30b6\uff08\u30c6\u30ec\u30d3\uff09\u304c\u3001Samba\u306b\u5bfe\u3057\u30665\u5206\u306b1\u56de\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u308b\u5f71\u97ff\u3067\u3001HDD\u304c\u8d77\u52d5\u3068\u81ea\u52d5\u505c\u6b62\u3092\u7e70\u308a\u8fd4\u3057\u3066\u3057\u307e\u3046\u304b\u3089\u3002\u30ec\u30b0\u30b6\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u56fa\u5b9a\u3057\u3066\u3001\u8a72\u5f53\u30a2\u30c9\u30ec\u30b9\u3092\u5f3e\u304f\u3088\u3046\u306b\u3057\u305f\u3002\n\u3000printing = bsd\u3092\u5165\u308c\u305f\u3060\u3051\u3060\u3068\u3001\u307e\u3060\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u305f\u306e\u3067\u3001sudo touch /etc/printcap\u3092\u53e9\u3044\u3066printcap\u3092\u4f5c\u6210\u3057\u305f\u3002\n[2015/11/22 09:52:06.503937,  0] printing/print_standard.c:68(std_pcap_cache_reload)\n  Unable to open printcap file /etc/printcap for read!\n\n\u3000client max protocol = SMB3\u3092\u5165\u308c\u305f\u3053\u3068\u3067\u3001\u5b9f\u969b\u306bMac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067smbutil statshares -a\u3092\u53e9\u3044\u3066SMB_VERSION\u304cSMB_3.0\u3068\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\u305f\u3060\u3001\u3046\u3061\u306e\u74b0\u5883\u3067\u306f\u7d50\u5c40Mac\uff08El Capitan\uff09\u304b\u3089Samba\u304c\u307e\u3068\u3082\u306b\u6271\u3048\u306a\u3044\u72b6\u6cc1\u306f\u89e3\u6d88\u3067\u304d\u306a\u304b\u3063\u305f\u3002net.inet.tcp.delayed_ack=0\u306a\u3069\u3082\u8a66\u3057\u305f\u3051\u308c\u3069\u3001\u52b9\u679c\u306a\u3057\u3002\n\u3000Windows\u304b\u3089\u306f\u3082\u3061\u308d\u3093\u3001iPad\u4e0a\u306eCommic Glass\u3068\u3044\u3063\u305f\u30a2\u30d7\u30ea\u304b\u3089\u3082\u3001\u5168\u304f\u554f\u984c\u306a\u304fSamba\u3078\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002MacOSX - El Capitan\u304b\u3089\u306eSMB\u63a5\u7d9a\u3067\u3001\u6fc1\u70b9\u30fb\u534a\u6fc1\u70b9\u306e\u3042\u308b\u30d5\u30a9\u30eb\u30c0\u304c\u958b\u3051\u306a\u3044 - Qiita\u306a\u3069\u306e\u554f\u984c\u3082\u3042\u308b\u3089\u3057\u3044\u306e\u3067\u3001\u73fe\u6642\u70b9\u3067\u306fMac\u304b\u3089Samba\u3092\u6271\u3046\u3053\u3068\u306f\u8ae6\u3081\u305f\u3002\n\u3000Mac\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u306b\u306f\u3001SFTP\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u305f\u3002ssh\u304c\u4f7f\u3048\u308c\u3070\u5229\u7528\u53ef\u80fd\u306a\u306e\u3067\u3001\u307b\u307c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5229\u7528\u53ef\u80fd\u3060\u3057\u3001\u5b9f\u969bYummy FTP\u3067SFTP\u63a5\u7d9a\u3059\u308b\u3068\u975e\u5e38\u306b\u901f\u3044\u3002\n\u3000\u7de8\u96c6\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3002\npi@raspberrypi ~ $ sudo systemctl restart smbd\npi@raspberrypi ~ $ sudo systemctl restart nmbd\n\n\nIP\u30a2\u30c9\u30ec\u30b9\u306e\u56fa\u5b9a\n\u3000\u5f53\u521d\u3001wheezy\u3067/etc/network/interfaces\u306bIP\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u8fbc\u3093\u3060\u307e\u307ejessie\u306b\u5f15\u304d\u7d99\u3044\u3067\u3044\u305f\u306e\u3060\u3051\u3069\u3001Fing\u3067\u78ba\u8a8d\u3059\u308b\u3068Raspberry Pi\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305fIP\u30a2\u30c9\u30ec\u30b9\u304c2\u3064\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u305f\u3002Raspbian 2015-05-05\u4ee5\u964d\u3001\u8a2d\u5b9a\u7b87\u6240\u304c/etc/network/interfaces\u304b\u3089/etc/dhcpcd.conf\u306b\u5909\u66f4\u306b\u306a\u3063\u305f\u3068\u306e\u60c5\u5831\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u3001/etc/network/interfaces\u306f\u5143\u3069\u304a\u308a\u306b\u5dee\u3057\u623b\u3057\u3066\u3001\u8a2d\u5b9a\u3092\u3084\u308a\u76f4\u3057\u305f\u3002\n\u3000/etc/dhcpcd.conf\u306e\u672b\u5c3e\u306b\u8a2d\u5b9a\u3092\u8ffd\u8a18\u3002\ninterface eth0\nstatic ip_address=192.168.0.101/24\nstatic routers=192.168.0.1\nstatic domain_name_servers=192.168.0.1\n\n\u3000\u518d\u8d77\u52d5\u3057\u3066\u3001\u8a2d\u5b9a\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u3067\u30ed\u30b0\u30a4\u30f3\u304c\u53ef\u80fd\u3067\u3001Fing\u4e0a\u3067Raspberry Pi\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305fIP\u30a2\u30c9\u30ec\u30b9\u304c\u8a2d\u5b9a\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u4e00\u500b\u306b\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u3002\n\nNTP\u5148\u3092NICT\u306b\u5909\u66f4\n\u3000NTP\u5148\u3082\u56fd\u5185\u306b\u5909\u66f4\u3057\u3066\u304a\u3044\u305f\u65b9\u304c\u3044\u3044\u3060\u308d\u3046\u3068\u3001NICT\u3078\u5909\u66f4\u3057\u305f\u3002\n\u3000/etc/ntp.conf\u3092\u7de8\u96c6\u3002\npi@raspberrypi ~ $ diff /etc/ntp.conf /etc/ntp.conf.org\n21,25c21,24\n< #server 0.debian.pool.ntp.org iburst\n< #server 1.debian.pool.ntp.org iburst\n< #server 2.debian.pool.ntp.org iburst\n< #server 3.debian.pool.ntp.org iburst\n< pool ntp.nict.jp iburst\n---\n> server 0.debian.pool.ntp.org iburst\n> server 1.debian.pool.ntp.org iburst\n> server 2.debian.pool.ntp.org iburst\n> server 3.debian.pool.ntp.org iburst\npi@raspberrypi ~ $\n\n\nrsyslogd-2007: action 'action 17' suspended\u304c\u30ed\u30b0\u306b\u51fa\u529b\u3055\u308c\u7d9a\u3051\u308b\u554f\u984c\u306e\u5bfe\u51e6\n\u3000\u30d8\u30c3\u30c9\u30ec\u30b9\u3067\u904b\u7528\u3057\u3066\u3044\u308b\u6240\u70ba\u304b\u3001\u4e0b\u8a18\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u4f55\u5ea6\u3082\u51fa\u529b\u3055\u308c\u3066\u3057\u307e\u3046\u3002\nNov 30 03:35:01 raspberrypi rsyslogd-2007: action 'action 17' suspended, next retry is Mon Nov 30 03:36:31 2015 [try http://www.rsyslog.com/e/2007 ]\n\n\u3000rsyslogd-2007: action 'action 18' suspended \u304c\u51fa\u308b\u5834\u5408\u306e\u5bfe\u7b56 [tosihisa's public notebook]\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u3001/etc/rsyslog.conf\u306e\u6700\u5f8c\u306b\u3042\u308b\u6bb5\u843d\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u305f\u3002\npi@raspberrypi ~ $ diff /etc/rsyslog.conf /etc/rsyslog.conf.org\n118,121c118,121\n< #daemon.*;mail.*;\\\n< #     news.err;\\\n< #     *.=debug;*.=info;\\\n< #     *.=notice;*.=warn       |/dev/xconsole\n---\n> daemon.*;mail.*;\\\n>       news.err;\\\n>       *.=debug;*.=info;\\\n>       *.=notice;*.=warn       |/dev/xconsole\npi@raspberrypi ~ $\n\n\n\u3068\u308a\u3042\u3048\u305a\u7de0\u3081\n\u3000\u3068\u308a\u3042\u3048\u305a\u3001\u4eca\u306e\u3068\u3053\u308d\u306f\u3053\u3053\u307e\u3067\u3002\n\u3000Raspberry Pi\u306f\u624b\u5143\u306b\u5916\u4ed8\u3051HDD\u304c\u3042\u308c\u3070\u4e00\u4e07\u5186\u672a\u6e80\u3067\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u304c\u4f5c\u308c\u3066\u3001\u3064\u3044\u3067\u306bLinux\u3092\u3044\u3058\u3063\u3066\u904a\u3079\u308b\u306e\u306f\u60aa\u304f\u306a\u3044\u306a\u3042\u3068\u601d\u3046\u3002\n\n\u3000\u521d\u3081\u3066Raspberry Pi\u306b\u624b\u3092\u51fa\u3057\u3066\u3001\u8a66\u884c\u932f\u8aa4\u3057\u306a\u304c\u3089\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u3092\u4f5c\u3063\u305f\u3051\u308c\u3069\u3001\u5f8c\u304b\u3089\u8003\u3048\u308c\u3070\u3053\u3046\u3059\u308c\u3070\u826f\u304b\u3063\u305f\u3068\u601d\u3046\u3068\u3053\u308d\u304c\u591a\u3005\u3042\u308b\u3002\u3082\u3057\u3001\u3082\u3046\u4e00\u56de\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3059\u3068\u3057\u305f\u3089\u3001\u3053\u3046\u3059\u308c\u3070\u3044\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u3044\u3046\u3053\u3068\u3092\u8003\u3048\u306a\u304c\u3089\u3001\u81ea\u5206\u306a\u308a\u306b\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u307f\u305f\u3002\n\n### \u524d\u63d0\n\n- Windows\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306b\u5229\u7528\u3057\u3066\u3044\u305fUSB\u5916\u4ed8\u3051HDD\u3092\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u7b49\u305b\u305a\u306bNTFS\u5f62\u5f0f\u306e\u307e\u307e\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u5316\u3059\u308b\u3002\n- \u81ea\u5206\u3057\u304b\u3044\u306a\u3044\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u4e2d\u3060\u3051\u3067\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u73fe\u6642\u70b9\u3067\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u7279\u306b\u8003\u3048\u306a\u3044\u3002\n- \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306e\u969b\u306b\u30e2\u30cb\u30bf\u3084\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u63a5\u7d9a\u3059\u308b\u306e\u306f\u9762\u5012\u306a\u306e\u3067\u3001\u3059\u3079\u3066Mac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304bWindows\u306eTera Term\u304b\u3089\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u8a2d\u5b9a\u3059\u308b\u3002\n\n### \u8cfc\u5165\u3059\u308b\u7269\n\n- [Raspberry Pi 2 Model B](http://www.amazon.co.jp/gp/product/B00T356SFO/)\n- [Raspberry Pi\u30b9\u30bf\u30fc\u30bf\u30fc\u30d1\u30c3\u30af (Pi2\u7528Economy)](http://www.amazon.co.jp/gp/product/B00TLGADII/)\n\n\u3000\u81ea\u5206\u306f\u30b1\u30fc\u30b9\u4ed8\u304d\u306e\u30e2\u30c7\u30eb\u3068\u304b\u3001Standard\u7248\u306e\u30b9\u30bf\u30fc\u30bf\u30fc\u30d1\u30c3\u30af\u3068\u304b\u3001\u30d2\u30fc\u30c8\u30b7\u30f3\u30af\u3082\u8cb7\u3063\u3066\u3057\u307e\u3063\u305f\u3051\u308c\u3069\u3001\u5f8c\u304b\u3089\u8003\u3048\u308c\u3070\u8cb7\u3046\u306e\u306f\u3053\u306e2\u70b9\u3060\u3051\u3067\u826f\u304b\u3063\u305f\u3002\n\n#### \u305d\u306e\u7406\u7531\n\n- \u30d7\u30e9\u30b9\u30c1\u30c3\u30af\u30b1\u30fc\u30b9\u3067\u3059\u3063\u307d\u308a\u8986\u3063\u3066\u3057\u307e\u3046\u306e\u306f\u3001\u71b1\u304c\u4e0d\u5b89\u3002\n- \u5c0f\u578b\u30d2\u30fc\u30c8\u30b7\u30f3\u30af\u3067\u306f\u6c17\u4f11\u3081\u306a\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u71b1\u5bfe\u7b56\u3059\u308b\u306a\u3089\u30d5\u30a1\u30f3\u306e\u5897\u8a2d\u7b49\u3092\u691c\u8a0e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n- LAN\u30b1\u30fc\u30d6\u30eb\u306f\u81ea\u524d\u306e\u3082\u306e\u304c\u3042\u308b\u306e\u3067\u4e0d\u8981\u3060\u3063\u305f\u3002\n- \u30d8\u30c3\u30c9\u30ec\u30b9\u3067\u8a2d\u5b9a\u3059\u308b\u306e\u3067\u3001HDMI\u30b1\u30fc\u30d6\u30eb\u306f\u8981\u3089\u306a\u304b\u3063\u305f\u3002\n\n### \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n\u3000\u30b9\u30bf\u30fc\u30bf\u30fc\u30d1\u30c3\u30af\u306e\u30de\u30a4\u30af\u30edSD\u30ab\u30fc\u30c9\u306b\u306fRaspbian-2015-05-05\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306a\u306e\u3067\u3001\u30de\u30a4\u30af\u30edSD\u30ab\u30fc\u30c9\u3092\u5dee\u3057\u8fbc\u3093\u3067\u3001LAN\u30b1\u30fc\u30d6\u30eb\u3092\u3064\u306a\u3044\u3067\u3001\u96fb\u6e90\u3092\u5dee\u3057\u8fbc\u3081\u3070\u8d77\u52d5\u3059\u308b\u7b48\u3002\n\n\u3000\u8d77\u52d5\u3057\u305f\u3089\u3001Mac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089`arp -a`\u3092\u53e9\u304f\u306a\u308a\u3001Fing\u3067LAN\u5185\u3092\u63a2\u7d22\u3059\u308b\u306a\u308a\u3057\u3066\u3001b8\u304b\u3089\u306f\u3058\u307e\u308bRaspberry Pi\u306e\u30d9\u30f3\u30c0\u30fc\u30b3\u30fc\u30c9\u306b\u7d10\u4ed8\u3044\u305fIP\u30a2\u30c9\u30ec\u30b9\u3092\u898b\u3064\u3051\u308b\u3002\n\n\u3000\u8a72\u5f53\u306eIP\u30a2\u30c9\u30ec\u30b9\u306bssh\u3067\u30ed\u30b0\u30a4\u30f3\u3002\u521d\u671f\u30e6\u30fc\u30b6\u306fpi\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306fraspberry\u3002\n\n\u3000\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u305f\u3089\u3001`sudo raspi-config`\u3092\u53e9\u3044\u3066\u3001\u4e0b\u8a18\u9805\u76ee\u3092\u8a2d\u5b9a\u3002\n\n- \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u62e1\u5f35\n- \u30ed\u30b1\u30fc\u30eb\u3092ja_JP.UTF-8\u306b\u5909\u66f4\n- \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092Tokyo\u306b\u8a2d\u5b9a\n- GPU\u30e1\u30e2\u30ea\u309264\u304b\u308916\u306b\u5909\u66f4\n- \u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30c7\u30a3\u30bc\u30fc\u30d6\u30eb\u306b\n\n\u3000\u5b8c\u4e86\u5f8c\u3001\u305d\u306e\u307e\u307e\u518d\u8d77\u52d5\u3002\n\n### Raspbian\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\n\n\u3000\u518d\u8d77\u52d5\u3057\u305f\u3089ssh\u3067\u5165\u308a\u76f4\u3057\u3066\u3001\u307e\u305a\u306f\u30b7\u30b9\u30c6\u30e0\u3092\u6700\u65b0\u7248\u306b\u3059\u308b\u3002\n\n\u3000\u81ea\u5206\u306f\u4e00\u901a\u308awheezy\u3067\u8a2d\u5b9a\u3057\u305f\u5f8c\u3067\u5909\u66f4\u3057\u305f\u3051\u308c\u3069\u3001\u3053\u306e\u6642\u70b9\u3067/etc/apt/sources.list\u3092\u66f8\u304d\u63db\u3048\u3066\u3001\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u524d\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u5148\u3092\u56fd\u5185\u306eJAIST\u306a\u3069\u306b\u5909\u66f4\u3057\u305f\u65b9\u304c\u3001\u5f8c\u3005\u306e\u4f5c\u696d\u304c\u65e9\u3044\u3068\u601d\u3046\u3002\u3042\u3068\u3001wheezy\u304b\u3089jessie\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u66f8\u304d\u63db\u3048\u3066\u3001\u6700\u65b0\u7248\u306eRaspbian\u3082\u5165\u308c\u3066\u3057\u307e\u3046\u3002\n\n```\npi@raspberrypi ~ $ cat /etc/apt/sources.list\n#deb http://mirrordirector.raspbian.org/raspbian/ jessie main contrib non-free rpi\ndeb http://ftp.jaist.ac.jp/raspbian jessie main contrib non-free rpi\n# Uncomment line below then 'apt-get update' to enable 'apt-get source'\n#deb-src http://archive.raspbian.org/raspbian/ jessie main contrib non-free rpi\npi@raspberrypi ~ $\n```\n\n\u3000\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u7cfb\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4e00\u901a\u308a\u5b9f\u65bd\u3002\n\n```\npi@raspberrypi ~ $ #\u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30b9\u30c8\u306e\u66f4\u65b0\npi@raspberrypi ~ $ sudo apt-get update\npi@raspberrypi ~ $ #\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\npi@raspberrypi ~ $ sudo apt-get upgrade\npi@raspberrypi ~ $ #\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u66f4\u65b0\npi@raspberrypi ~ $ sudo apt-get dist-upgrade\npi@raspberrypi ~ $ #\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u66f4\u65b0\npi@raspberrypi ~ $ sudo rpi-update\npi@raspberrypi ~ $ #\u4f9d\u5b58\u95a2\u4fc2\u3092\u6e80\u305f\u3059\u305f\u3081\u4e00\u6642\u7684\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u4e0d\u8981\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\npi@raspberrypi ~ $ sudo apt-get autoremove\npi@raspberrypi ~ $ #\u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u524a\u9664\npi@raspberrypi ~ $ sudo apt-get autoclean\n```\n\n\u3000[Debian\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u624b\u5f15\u304d](https://www.debian.org/releases/stable/i386/release-notes/ch-upgrading.ja.html#nownownow)\u3092\u53c2\u8003\u306b\u3001\u524a\u9664\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5b8c\u5168\u524a\u9664\u3082\u5b9f\u65bd\u3002\n\n```\npi@raspberrypi ~ $ dpkg -l | awk '/^rc/ { print $2 }'\npi@raspberrypi ~ $ sudo apt-get purge $(dpkg -l | awk '/^rc/ { print $2 }')\n```\n\n\u3000\u30b7\u30b9\u30c6\u30e0\u304c\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\n\n```\npi@raspberrypi ~ $ cat /etc/debian_version\n8.0\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ hostnamectl\n   Static hostname: raspberrypi\n         Icon name: computer\n           Chassis: n/a\n        Machine ID: 440a68c6f28d3e287c6b6c7b554a9684\n           Boot ID: ec13f69de49744fcbd0258bd4afde2df\n  Operating System: Raspbian GNU/Linux 8 (jessie)\n            Kernel: Linux 4.1.13-v7+\n      Architecture: arm\npi@raspberrypi ~ $\n```\n\n\u3000\u78ba\u8a8d\u5f8c\u3001\u4e00\u5ea6\u518d\u8d77\u52d5\u3057\u3066\u5165\u308a\u76f4\u3059\u3002\n\n\u3000\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e9\u30f3\u30ec\u30d9\u30eb\u30925\u76f8\u5f53\u304b\u30893\u76f8\u5f53\u306b\u5909\u66f4\u3002\n\n```\npi@raspberrypi ~ $ systemctl get-default\ngraphical.target\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ sudo systemctl set-default multi-user.target\nCreated symlink from /etc/systemd/system/default.target to /lib/systemd/system/multi-user.target.\npi@raspberrypi ~ $\n```\n\n### USB\u5916\u4ed8\u3051HDD\u306e\u30de\u30a6\u30f3\u30c8\n\n\u3000NTFS\u5f62\u5f0f\u306eHDD\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u305f\u3081\u306b\u3001`sudo apt-get install ntfs-3g`\u3092\u53e9\u3044\u3066\u3001ntfs-3g\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n\u3000\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u306f\u3001\u5b9f\u969b\u306b\u30de\u30a6\u30f3\u30c8\u3059\u308b\u524d\u306b\u4e00\u65e6\u30b7\u30b9\u30c6\u30e0\u3092\u518d\u8d77\u52d5\u3057\u306a\u3044\u3068\u3001\u4e0b\u8a18\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3089\u3057\u3044\u3002\u3068\u3044\u3046\u304b\u3001\u51fa\u305f\u3002\n\n```\npi@raspberrypi ~ $ sudo mount -t ntfs-3g /dev/sda1 /mnt/hdd1\nlibkmod: ERROR ../libkmod/libkmod.c:554 kmod_search_moddep: could not open moddep file '/lib/modules/3.18.11-v7+/modules.dep.bin'\nfuse: device not found, try 'modprobe fuse' first\npi@raspberrypi ~ $\n```\n\n\u3000Windows\u3067\u4f7f\u7528\u3057\u3066\u3044\u305fUSB\u5916\u4ed8\u3051HDD\u3092\u3001Raspberry Pi\u306b\u3064\u306a\u3044\u3067\u78ba\u8a8d\u3002\n\n```\npi@raspberrypi ~ $ sudo fdisk -l\n\nDisk /dev/mmcblk0: 15.8 GB, 15804137472 bytes\n4 heads, 16 sectors/track, 482304 cylinders, total 30867456 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk identifier: 0xa6202af7\n\n        Device Boot      Start         End      Blocks   Id  System\n/dev/mmcblk0p1            8192      122879       57344    c  W95 FAT32 (LBA)\n/dev/mmcblk0p2          122880    30867455    15372288   83  Linux\n\nDisk /dev/sda: 2000.4 GB, 2000398934016 bytes\n255 heads, 63 sectors/track, 243201 cylinders, total 3907029168 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk identifier: 0x11961247\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1            2048  3907026943  1953512448    7  HPFS/NTFS/exFAT\npi@raspberrypi ~ $\n```\n\n\u3000/dev/sda1\u3068\u3057\u3066HDD\u304c\u8a8d\u8b58\u3055\u308c\u305f\u306e\u3067\u3001\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066HDD\u3092\u30de\u30a6\u30f3\u30c8\u3002\n\n```\npi@raspberrypi ~ $ sudo mkdir /mnt/hdd1\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ sudo mount -t ntfs-3g /dev/sda1 /mnt/hdd1\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ df -h\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9   \u30b5\u30a4\u30ba  \u4f7f\u7528  \u6b8b\u308a \u4f7f\u7528% \u30de\u30a6\u30f3\u30c8\u4f4d\u7f6e\n/dev/root         15G  2.8G   12G   20% /\ndevtmpfs         483M     0  483M    0% /dev\ntmpfs             98M  236K   98M    1% /run\ntmpfs            5.0M     0  5.0M    0% /run/lock\ntmpfs            195M     0  195M    0% /run/shm\n/dev/mmcblk0p1    56M   20M   37M   36% /boot\n/dev/sda1        1.9T  578G  1.3T   32% /mnt/hdd1\npi@raspberrypi ~ $\n```\n\n\u3000\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u7684\u306b\u30de\u30a6\u30f3\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u3001HDD\u306eUUID\u3092\u78ba\u8a8d\u3057\u3066\u3001fstab\u306b\u30de\u30a6\u30f3\u30c8\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3002\n\n```\npi@raspberrypi ~ $ sudo blkid /dev/sda1\n/dev/sda1: LABEL=\"M-cM-^CM-^\\M-cM-^CM-*M-cM-^CM-%M-cM-^CM-<M-cM-^CM- \" UUID=\"A25CF7FB5CF7C855\" TYPE=\"ntfs\"\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ cat /etc/fstab\nproc            /proc           proc    defaults          0       0\n/dev/mmcblk0p1  /boot           vfat    defaults          0       2\n/dev/mmcblk0p2  /               ext4    defaults,noatime  0       1\nUUID=\"A25CF7FB5CF7C855\" /mnt/hdd1       ntfs-3g defaults,nofail 0       0\n# a swapfile is not a swap partition, so no using swapon|off from here on, use  dphys-swapfile swap[on|off]  for that\npi@raspberrypi ~ $\n```\n\n\u3000wheezy\u3067\u306f\u30de\u30a6\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306bdefaults\u3060\u3051\u3092\u8a18\u8f09\u3057\u3066\u3044\u305f\u3051\u308c\u3069\u3001jessie\u3067\u306f[systemd \u914d\u4e0b\u3067\u306e\u8d77\u52d5\u6642\u306e\u30de\u30a6\u30f3\u30c8\u5931\u6557\u306b\u5bfe\u3059\u308b\u3001\u3088\u308a\u53b3\u683c\u306a\u53d6\u308a\u6271\u3044](https://www.debian.org/releases/jessie/i386/release-notes/ch-information.ja.html#systemd-auto-mounts-incompat)\u306b\u3088\u308b\u3068\u3001\u30ea\u30e0\u30fc\u30d0\u30d6\u30eb\u30c9\u30e9\u30a4\u30d6\u306e\u30de\u30a6\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306fnoauto\u304bnofail\u3092\u4ed8\u3051\u308b\u3088\u3046\u306b\u3068\u306e\u3053\u3068\u306a\u306e\u3067\u3001nofail\u3092\u8ffd\u52a0\u3057\u305f\u3002\n\n#### \"/etc/fstab\u306e\u30d1\u30fc\u30b9\u304cHDD\u8a8d\u8b58\u3068\u540c\u6642\u307e\u305f\u306f\u305d\u308c\u4ee5\u524d\u306b\u884c\u308f\u308c\u3066\u3057\u307e\u3046\"\u554f\u984c\u306e\u5bfe\u51e6\n\n\u3000wheezy\u306e\u6642\u306f\u518d\u8d77\u52d5\u3059\u308b\u3068\u6642\u3005HDD\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u3001[Raspberry pi 2\u304c\u5916\u4ed8\u3051HDD\u3092\u81ea\u52d5\u8a8d\u8b58\u3057\u3066\u304f\u308c\u306a\u304b\u3063\u305f- Qiita](http://qiita.com/c01o/items/f45bc9cf6785342ab573)\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u3001/boot/cmdline.txt\u306brootdelay=10\u3092\u8ffd\u52a0\u3057\u305f\u3002\n\n```\npi@raspberrypi ~ $ cat /boot/cmdline.txt\ndwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait rootdelay=10\n```\n\n\u3000\u305f\u3060\u3001jessie\u306b\u3057\u305f\u6642\u306b\u30de\u30a6\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306bnofail\u3092\u8ffd\u52a0\u3057\u305f\u306e\u3067\u3001rootdelay=10\u306f\u3082\u3046\u5fc5\u8981\u306a\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u3082\u601d\u3046\u306e\u3060\u3051\u3069\u3001\u78ba\u8a3c\u304c\u306a\u3044\u306e\u3067\u305d\u306e\u307e\u307e\u306b\u3057\u3066\u3042\u308b\u3002\n\n### USB\u5916\u4ed8\u3051HDD\u306e\u81ea\u52d5\u505c\u6b62\u8a2d\u5b9a\n\n- [8.USBHDD\u306e\u5b9a\u671f\u7684\u306a\u30b9\u30d4\u30f3\u30c0\u30a6\u30f3\u65b9\u6cd5 - RaspberryPi\u3067\u5404\u7a2e\u30b5\u30fc\u30d0\u30fc\u4f5c\u308a\uff01 - \u3042\u308b\u962a\u5927\u751f\u306e\u7269\u7f6e\u5c0f\u5c4b](http://kassyjp.ninja-web.net/ras/jessie/spindown.htm)\n\n\u3000\u3053\u3061\u3089\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u3066\u3001\u5916\u4ed8\u3051HDD\u306b\u4e00\u5b9a\u6642\u9593\u30a2\u30af\u30bb\u30b9\u304c\u306a\u304b\u3063\u305f\u5834\u5408\u81ea\u52d5\u7684\u306b\u505c\u6b62\u3059\u308b\u8a2d\u5b9a\u3092\u5b9f\u65bd\u3057\u305f\u3002\n\n\u3000`sudo apt-get install sdparm`\u3068`sudo apt-get install hdparm`\u3092\u53e9\u3044\u3066\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002`sudo sdparm -r --command=stop /dev/sda1`\u3084`sudo hdparm -y /dev/sda1`\u3092\u53e9\u3044\u3066\u3001\u3069\u3061\u3089\u306e\u30b3\u30de\u30f3\u30c9\u3067HDD\u304c\u505c\u6b62\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3002\n\n\u3000\u5f53\u521d\u3001sdparm\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066HDD\u304c\u505c\u6b62\u3059\u308b\u304b\u8a66\u3057\u305f\u3068\u3053\u308d\u3001\u505c\u6b62\u3057\u305f\u76f4\u5f8c\u306b\u52d5\u304d\u51fa\u3057\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3053\u3061\u3089\u3067\u306f\u99c4\u76ee\u306a\u306e\u304b\u3068\u601d\u3044hdparm\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3057\u307e\u3063\u305f\u3051\u308c\u3069\u3001\u5358\u306bsdparm\u306e\u30b3\u30de\u30f3\u30c9\u306br\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u8db3\u308a\u306a\u304b\u3063\u305f\u3060\u3051\u3067\u3001\u81ea\u5206\u306e\u74b0\u5883\u3067\u306f\u3069\u3061\u3089\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3082HDD\u3092\u505c\u6b62\u3067\u304d\u305f\u3002\n\n\u3000\u3042\u3068\u306f\u4e0a\u8a18\u30da\u30fc\u30b8\u3067\u7d39\u4ecb\u3055\u308c\u3066\u3044\u308b\u901a\u308a\u306bhdd_spindown.sh\u3092\u4f5c\u6210\u3057\u3001systemd\u3067\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u8a2d\u5b9a\u3002\n\n\u3000\u81ea\u5206\u306fHDD\u304c60\u79d2\u3067\u505c\u6b62\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305f\u3002\n\n### Samba\u5c0e\u5165\n\n\u3000\u81ea\u5206\u306fwheezy\u306e\u6642\u306b`sudo apt-get install samba`\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001jessie\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u6642\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\u304c\u304b\u304b\u3063\u3066\u3044\u305f\u3051\u308c\u3069\u3001jessie\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u3082\u7279\u306b\u5909\u308f\u3089\u306a\u3044\u3060\u308d\u3046\u3068\u601d\u3046\u3002\n\n\u3000\u4e00\u5fdc\u3001jessie\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u5f8c\u306eSamba\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u72b6\u614b\u306f\u3053\u3093\u306a\u611f\u3058\u3060\u3063\u305f\u3002\n\n```\npi@raspberrypi ~ $ dpkg -l samba*\n\u8981\u671b=(U)\u4e0d\u660e/(I)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb/(R)\u524a\u9664/(P)\u5b8c\u5168\u524a\u9664/(H)\u4fdd\u6301\n| \u72b6\u614b=(N)\u7121/(I)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08/(C)\u8a2d\u5b9a/(U)\u5c55\u958b/(F)\u8a2d\u5b9a\u5931\u6557/(H)\u534a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb/(W)\u30c8\u30ea\u30ac\u5f85\u3061/(T)\u30c8\u30ea\u30ac\u4fdd\u7559\n|/ \u30a8\u30e9\u30fc?=(\u7a7a\u6b04)\u7121/(R)\u8981\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (\u72b6\u614b,\u30a8\u30e9\u30fc\u306e\u5927\u6587\u5b57=\u7570\u5e38)\n||/ \u540d\u524d           \u30d0\u30fc\u30b8\u30e7\u30f3   \u30a2\u30fc\u30ad\u30c6\u30af\u30c1 \u8aac\u660e\n+++-==============-============-============-=================================\nii  samba          2:4.1.17+dfs armhf        SMB/CIFS file, print, and login s\nun  samba-ad-dc    <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nun  samba-client   <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nii  samba-common   2:4.1.17+dfs all          common files used by both the Sam\nii  samba-common-b 2:4.1.17+dfs armhf        Samba common files used by both t\nun  samba-doc      <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nii  samba-dsdb-mod 2:4.1.17+dfs armhf        Samba Directory Services Database\nii  samba-libs:arm 2:4.1.17+dfs armhf        Samba core libraries\nun  samba-tools    <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nii  samba-vfs-modu 2:4.1.17+dfs armhf        Samba Virtual FileSystem plugins\nun  samba4         <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nun  samba4-clients <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nun  samba4-common  <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\nun  samba4-common- <\u306a\u3057>       <\u306a\u3057>       (\u8aac\u660e (description) \u304c\u3042\u308a\u307e\u305b\u3093)\npi@raspberrypi ~ $\n\npi@raspberrypi ~ $ smbd -V\nVersion 4.1.17-Debian\npi@raspberrypi ~ $\n```\n\n\u3000\u73fe\u5728\u306esmb.conf\u3092`sudo cp /etc/samba/smb.conf /etc/samba/smb.conf.org`\u306a\u3069\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3002\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u305f\u3002\n\n```\npi@raspberrypi ~ $ cat /etc/samba/smb.conf\n[global]\n        server role = standalone server\n        map to guest = Bad User\n        obey pam restrictions = Yes\n        pam password change = Yes\n        passwd program = /usr/bin/passwd %u\n        passwd chat = *Enter\\snew\\s*\\spassword:* %n\\n *Retype\\snew\\s*\\spassword:* %n\\n *password\\supdated\\ssuccessfully* .\n        unix password sync = Yes\n        syslog = 0\n        log file = /var/log/samba/log.%m\n        max log size = 10\n        client max protocol = SMB3\n        dns proxy = No\n        usershare allow guests = Yes\n        panic action = /usr/share/samba/panic-action %d\n        idmap config * : backend = tdb\n        hosts deny = 192.168.0.100\n        printing = bsd\n\n[nas]\n        comment = raspberrypi_nas\n        path = /mnt/hdd1\n        force user = pi\n        read only = No\n        guest ok = Yes\npi@raspberrypi ~ $\n```\n\n\u3000smb.conf\u306e\u7de8\u96c6\u306f\u3001\u8cc7\u6599\u3092\u53c2\u8003\u306b\u3042\u308b\u7a0b\u5ea6\u9069\u5f53\u306b\u66f8\u304d\u63db\u3048\u305f\u3089\u3001\u4e00\u5ea6`testparm`\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3044\u3066\u51fa\u529b\u3055\u308c\u305f\u7d50\u679c\u3092\u4e0d\u8981\u306a\u9805\u76ee\u3092\u524a\u9664\u3057\u3066smb.conf\u306b\u6d41\u3057\u8fbc\u307f\u3001`testparm -v`\u3092\u53e9\u3044\u3066\u5024\u304c\u5909\u308f\u3063\u3066\u3044\u3066\u6b32\u3057\u3044\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u9805\u76ee\u3092\u8ffd\u8a18\u3059\u308b\u5f62\u3067\u5b9f\u65bd\u3057\u3066\u307f\u305f\u3002\n\n\u3000host deny = 192.168.0.100\u3092\u5165\u308c\u3066\u3044\u308b\u306e\u306f\u3001\u3046\u3061\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306b\u5b58\u5728\u3059\u308b\u6771\u829d\u30ec\u30b0\u30b6\uff08\u30c6\u30ec\u30d3\uff09\u304c\u3001Samba\u306b\u5bfe\u3057\u30665\u5206\u306b1\u56de\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u308b\u5f71\u97ff\u3067\u3001HDD\u304c\u8d77\u52d5\u3068\u81ea\u52d5\u505c\u6b62\u3092\u7e70\u308a\u8fd4\u3057\u3066\u3057\u307e\u3046\u304b\u3089\u3002\u30ec\u30b0\u30b6\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u56fa\u5b9a\u3057\u3066\u3001\u8a72\u5f53\u30a2\u30c9\u30ec\u30b9\u3092\u5f3e\u304f\u3088\u3046\u306b\u3057\u305f\u3002\n\n\u3000printing = bsd\u3092\u5165\u308c\u305f\u3060\u3051\u3060\u3068\u3001\u307e\u3060\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u305f\u306e\u3067\u3001`sudo touch /etc/printcap`\u3092\u53e9\u3044\u3066printcap\u3092\u4f5c\u6210\u3057\u305f\u3002\n\n```\n[2015/11/22 09:52:06.503937,  0] printing/print_standard.c:68(std_pcap_cache_reload)\n  Unable to open printcap file /etc/printcap for read!\n```\n\n\u3000client max protocol = SMB3\u3092\u5165\u308c\u305f\u3053\u3068\u3067\u3001\u5b9f\u969b\u306bMac\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067`smbutil statshares -a`\u3092\u53e9\u3044\u3066SMB_VERSION\u304cSMB_3.0\u3068\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\u305f\u3060\u3001\u3046\u3061\u306e\u74b0\u5883\u3067\u306f\u7d50\u5c40Mac\uff08El Capitan\uff09\u304b\u3089Samba\u304c\u307e\u3068\u3082\u306b\u6271\u3048\u306a\u3044\u72b6\u6cc1\u306f\u89e3\u6d88\u3067\u304d\u306a\u304b\u3063\u305f\u3002net.inet.tcp.delayed_ack=0\u306a\u3069\u3082\u8a66\u3057\u305f\u3051\u308c\u3069\u3001\u52b9\u679c\u306a\u3057\u3002\n\n\u3000Windows\u304b\u3089\u306f\u3082\u3061\u308d\u3093\u3001iPad\u4e0a\u306eCommic Glass\u3068\u3044\u3063\u305f\u30a2\u30d7\u30ea\u304b\u3089\u3082\u3001\u5168\u304f\u554f\u984c\u306a\u304fSamba\u3078\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002[MacOSX - El Capitan\u304b\u3089\u306eSMB\u63a5\u7d9a\u3067\u3001\u6fc1\u70b9\u30fb\u534a\u6fc1\u70b9\u306e\u3042\u308b\u30d5\u30a9\u30eb\u30c0\u304c\u958b\u3051\u306a\u3044 - Qiita](http://qiita.com/tatsuki_kokita/items/035ded011e80d9a26c76)\u306a\u3069\u306e\u554f\u984c\u3082\u3042\u308b\u3089\u3057\u3044\u306e\u3067\u3001\u73fe\u6642\u70b9\u3067\u306fMac\u304b\u3089Samba\u3092\u6271\u3046\u3053\u3068\u306f\u8ae6\u3081\u305f\u3002\n\n\u3000Mac\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u306b\u306f\u3001SFTP\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u305f\u3002ssh\u304c\u4f7f\u3048\u308c\u3070\u5229\u7528\u53ef\u80fd\u306a\u306e\u3067\u3001\u307b\u307c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5229\u7528\u53ef\u80fd\u3060\u3057\u3001\u5b9f\u969bYummy FTP\u3067SFTP\u63a5\u7d9a\u3059\u308b\u3068\u975e\u5e38\u306b\u901f\u3044\u3002\n\n\u3000\u7de8\u96c6\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3002\n\n```\npi@raspberrypi ~ $ sudo systemctl restart smbd\npi@raspberrypi ~ $ sudo systemctl restart nmbd\n```\n\n### IP\u30a2\u30c9\u30ec\u30b9\u306e\u56fa\u5b9a\n\n\u3000\u5f53\u521d\u3001wheezy\u3067/etc/network/interfaces\u306bIP\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u8fbc\u3093\u3060\u307e\u307ejessie\u306b\u5f15\u304d\u7d99\u3044\u3067\u3044\u305f\u306e\u3060\u3051\u3069\u3001Fing\u3067\u78ba\u8a8d\u3059\u308b\u3068Raspberry Pi\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305fIP\u30a2\u30c9\u30ec\u30b9\u304c2\u3064\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u305f\u3002Raspbian 2015-05-05\u4ee5\u964d\u3001\u8a2d\u5b9a\u7b87\u6240\u304c/etc/network/interfaces\u304b\u3089/etc/dhcpcd.conf\u306b\u5909\u66f4\u306b\u306a\u3063\u305f\u3068\u306e\u60c5\u5831\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u3001/etc/network/interfaces\u306f\u5143\u3069\u304a\u308a\u306b\u5dee\u3057\u623b\u3057\u3066\u3001\u8a2d\u5b9a\u3092\u3084\u308a\u76f4\u3057\u305f\u3002\n\n\u3000/etc/dhcpcd.conf\u306e\u672b\u5c3e\u306b\u8a2d\u5b9a\u3092\u8ffd\u8a18\u3002\n\n```\ninterface eth0\nstatic ip_address=192.168.0.101/24\nstatic routers=192.168.0.1\nstatic domain_name_servers=192.168.0.1\n```\n\n\u3000\u518d\u8d77\u52d5\u3057\u3066\u3001\u8a2d\u5b9a\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u3067\u30ed\u30b0\u30a4\u30f3\u304c\u53ef\u80fd\u3067\u3001Fing\u4e0a\u3067Raspberry Pi\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305fIP\u30a2\u30c9\u30ec\u30b9\u304c\u8a2d\u5b9a\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u4e00\u500b\u306b\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u3002\n\n### NTP\u5148\u3092NICT\u306b\u5909\u66f4\n\n\u3000NTP\u5148\u3082\u56fd\u5185\u306b\u5909\u66f4\u3057\u3066\u304a\u3044\u305f\u65b9\u304c\u3044\u3044\u3060\u308d\u3046\u3068\u3001NICT\u3078\u5909\u66f4\u3057\u305f\u3002\n\n\u3000/etc/ntp.conf\u3092\u7de8\u96c6\u3002\n\n```\npi@raspberrypi ~ $ diff /etc/ntp.conf /etc/ntp.conf.org\n21,25c21,24\n< #server 0.debian.pool.ntp.org iburst\n< #server 1.debian.pool.ntp.org iburst\n< #server 2.debian.pool.ntp.org iburst\n< #server 3.debian.pool.ntp.org iburst\n< pool ntp.nict.jp iburst\n---\n> server 0.debian.pool.ntp.org iburst\n> server 1.debian.pool.ntp.org iburst\n> server 2.debian.pool.ntp.org iburst\n> server 3.debian.pool.ntp.org iburst\npi@raspberrypi ~ $\n```\n\n### rsyslogd-2007: action 'action 17' suspended\u304c\u30ed\u30b0\u306b\u51fa\u529b\u3055\u308c\u7d9a\u3051\u308b\u554f\u984c\u306e\u5bfe\u51e6\n\n\u3000\u30d8\u30c3\u30c9\u30ec\u30b9\u3067\u904b\u7528\u3057\u3066\u3044\u308b\u6240\u70ba\u304b\u3001\u4e0b\u8a18\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u4f55\u5ea6\u3082\u51fa\u529b\u3055\u308c\u3066\u3057\u307e\u3046\u3002\n\n```\nNov 30 03:35:01 raspberrypi rsyslogd-2007: action 'action 17' suspended, next retry is Mon Nov 30 03:36:31 2015 [try http://www.rsyslog.com/e/2007 ]\n```\n\n\u3000[rsyslogd-2007: action 'action 18' suspended \u304c\u51fa\u308b\u5834\u5408\u306e\u5bfe\u7b56 [tosihisa's public notebook]](https://www.netfort.gr.jp/~tosihisa/notebook/doku.php/raspberrypi/log20151101_rsyslogd-2007)\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u3001/etc/rsyslog.conf\u306e\u6700\u5f8c\u306b\u3042\u308b\u6bb5\u843d\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u305f\u3002\n\n```\npi@raspberrypi ~ $ diff /etc/rsyslog.conf /etc/rsyslog.conf.org\n118,121c118,121\n< #daemon.*;mail.*;\\\n< #     news.err;\\\n< #     *.=debug;*.=info;\\\n< #     *.=notice;*.=warn       |/dev/xconsole\n---\n> daemon.*;mail.*;\\\n>       news.err;\\\n>       *.=debug;*.=info;\\\n>       *.=notice;*.=warn       |/dev/xconsole\npi@raspberrypi ~ $\n```\n\n### \u3068\u308a\u3042\u3048\u305a\u7de0\u3081\n\n\u3000\u3068\u308a\u3042\u3048\u305a\u3001\u4eca\u306e\u3068\u3053\u308d\u306f\u3053\u3053\u307e\u3067\u3002\n\n\u3000Raspberry Pi\u306f\u624b\u5143\u306b\u5916\u4ed8\u3051HDD\u304c\u3042\u308c\u3070\u4e00\u4e07\u5186\u672a\u6e80\u3067\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u304c\u4f5c\u308c\u3066\u3001\u3064\u3044\u3067\u306bLinux\u3092\u3044\u3058\u3063\u3066\u904a\u3079\u308b\u306e\u306f\u60aa\u304f\u306a\u3044\u306a\u3042\u3068\u601d\u3046\u3002\n", "tags": ["RaspberryPi", "raspbian", "Jessie"]}