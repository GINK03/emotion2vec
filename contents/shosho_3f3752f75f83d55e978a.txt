{"context": "Vue.js\u3092\u4f7f\u3063\u3066Connpass\u306eAPI\u3092\u5229\u7528\u3057\u305f\u30a2\u30d7\u30ea\u3092\u4f5c\u308d\u3046\u3068\u601d\u3063\u305f\u3002\n\n\u30af\u30ed\u30b9\u30aa\u30ea\u30b8\u30f3\u5236\u7d04\n\u30d5\u30ed\u30f3\u30c8\u304b\u3089\uff08jQuery\uff09\u76f4\u63a5API\u3092\u305f\u305f\u304f\u3053\u3068\u306f\u51fa\u6765\u306a\u3044\uff08\u30af\u30ed\u30b9\u30aa\u30ea\u30b8\u30f3\u5236\u7d04\uff09\u3002\n\u3057\u304b\u3057PHP\u306a\u3089\u53ef\u80fd\u3002\n\u305d\u306e\u5834\u5408 Guzzle \u3068\u3044\u3046\u3082\u306e\u3092\u4f7f\u3046\u3002\u4e0b\u306e\u3088\u3046\u306a\u9806\u756a\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3002\n\nphp\u3067Guzzle\u4f7f\u3063\u3066API\u3092\u305f\u305f\u304f\nJSON\u3067JS\u30d5\u30a1\u30a4\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\nVue.js\u3067\u30d5\u30ed\u30f3\u30c8\u306b\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u308b\n\n\nGuzzle\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ composer init //composer.json\u3064\u304f\u308b\n$ composer require guzzlehttp/guzzle\n$ composer require illuminate/http\n\n\n\u5148\u306bhttp\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066JSON\u3092\u8fd4\u305b\u308b\u3088\u3046\u306b\u7df4\u7fd2\nhttp\u30e9\u30a4\u30d6\u30e9\u30ea\u306eJsonResponse\u3092\u4f7f\u3046\u3002\n\npublic/api/event.php\n<?php\nrequire __DIR__ . \"/../../vendor/autoload.php\";\n\nuse Illuminate\\Http\\JsonResponse;\n\n$data = [\n    \"message\" => \"Hello World\",\n    \"hogehoge\" => \"hogehoge\",\n    \"event\" => [\n        \"php\u52c9\u5f37\u4f1a\",\n        \"laravel\u52c9\u5f37\u4f1a\",\n        \"jQuery\u52c9\u5f37\u4f1a\",\n    ]\n];\n\n$response = JsonResponse::create($data,200);\n$response->send();\n\n\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u30a8\u30e9\u30fc\u304c\u3067\u308b\u3068\u304d\nerror_reporting(0);\n\n\u3092\u6700\u521d\u306b\u5165\u308c\u308b\u3002\n\n\u539f\u56e0\nphp ini\u30d5\u30a1\u30a4\u30eb\u3067\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u304c\u306a\u3044\u72b6\u614b\u3089\u3057\u3044\u3002\n\u4e0a\u8a18\u30b3\u30fc\u30c9\u3067\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u30a8\u30e9\u30fc\u306f\u306a\u304f\u306a\u308b\u3002\n\u3067\u3082\u6839\u672c\u7684\u306a\u89e3\u6c7a\u3067\u306f\u306a\u3044\u304b\u3089\u3067\u304d\u308c\u3070php ini\u30d5\u30a1\u30a4\u30eb\u3092Asia/Tokyo\u306b\u76f4\u3059\u65b9\u304c\u826f\u3044\u3002\n\nguzzle\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066\u5916\u90e8API\u3092\u305f\u305f\u304f\n\u3044\u3088\u3044\u3088API\u3092\u305f\u305f\u304f\u3002\n\npublic/api/event.php\n<?php\nrequire __DIR__ . \"/../../vendor/autoload.php\";\n\nuse Illuminate\\Http\\JsonResponse;\nuse GuzzleHttp\\Client;\n\n$url = \"http://connpass.com/api/v1/event/\";\n\n$client = new Client();\n$res = $client->get($url, [\n    \"query\" => [\n        \"start\" => $start\n    ]\n]);\n\n$data = json_decode($res->getBody(),true);\n\n$response = JsonResponse::create($data,200);\n$response->send();\n\n\n\n$data = json_decode($res->getBody(),true); \u306e true/false \u306f array/object \u3067\u8fd4\u3063\u3066\u304f\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3002\n\u3061\u306a\u307f\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068false\u306b\u306a\u308b\u306e\u3067 object \u3067\u8fd4\u3063\u3066\u304f\u308b\u306e\u3067\u6ce8\u610f\u3002\n\u30ad\u30e3\u30b9\u30c8\u3092\u4f7f\u3063\u305f\u5834\u5408\u306f\u305d\u306e\u7b87\u6240\u3067\u3057\u304b\u914d\u5217\u306b\u306a\u3089\u306a\u3044\u3002\n\n\u554f\u984c\u767a\u751f\uff1aphp\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u30b3\u30fc\u30c9\u304c\u305d\u306e\u307e\u3093\u307e\u8fd4\u3063\u3066\u304d\u3066\u3057\u307e\u3046\n\ncommon.js\n$(function(){\n    var app = new Vue ({\n        el: \"#app\",\n        data: {\n            posts: []\n        },\n        created: function(){\n            var xhr = $.get(\"./api/event.php\", {start: 0});\n            xhr.success(function(data){\n                app.posts = data.events;\n            });\n            xhr.error(function(){\n                alert(\"\u901a\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\"); //\u5931\u6557\u6642\u306e\u51e6\u7406\n            });\n        }\n    });\n});\n\n\n\u3053\u308c\u3067\u672c\u6765\u306a\u3089API\u306e\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n\u306a\u306e\u306bphp\u306e\u751f\u30b3\u30fc\u30c9\u304c\u8fd4\u3055\u308c\u308b\u3060\u3051\u3060\u3063\u305f\u30fb\u30fb\u30fb\u3002\n\n\u539f\u56e0\uff1aGuzzle\u3067API\u3092\u305f\u305f\u304f\u306a\u3089php\u306e\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u308f\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u3002\nGulp\u306eWeb\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3063\u3066\u3044\u305f\u3053\u3068\u304c\u539f\u56e0\u3002\nphp\u306e\u30b5\u30fc\u30d0\u30fc\u306e\u4e0a\u306bGulp\u306e\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u30fc\u3092\u3064\u3051\u308b\u611f\u3058\u3089\u3057\u3044\u3002\n\uff08\u3042\u307e\u308a\u826f\u304f\u308f\u304b\u3063\u3066\u306a\u3044\uff09\n\ngulpfile.js\nvar gulp = require(\"gulp\");\nvar browser = require(\"browser-sync\");\nvar php = require(\"gulp-connect-php\");\n\ngulp.task(\"server\", function(){\n    var config = {\n        proxy: \"***.*.*.*:8000\",\n        open: \"external\"\n        //notify: false\n    };\n\n    var server = {\n        base: \"./public\" /*php\u306e\u30b5\u30fc\u30d0\u30fc*/\n    };\n\n    php.server(server,() => {\n        browser(config)\n    });\n\n    gulp.watch(`./public/**/*`, () => {\n        setTimeout(function(){\n            browser.reload();\n        },500);\n    });\n\n    gulp.watch([\n        \"./frontend/assets/sass/**/*.scss\"\n    ], function(){\n        setTimeout(function(){\n            browser.reload();\n        }, 500);\n    })\n});```\n\n\n\nVue.js\u3092\u4f7f\u3063\u3066Connpass\u306eAPI\u3092\u5229\u7528\u3057\u305f\u30a2\u30d7\u30ea\u3092\u4f5c\u308d\u3046\u3068\u601d\u3063\u305f\u3002\n\n#\u30af\u30ed\u30b9\u30aa\u30ea\u30b8\u30f3\u5236\u7d04\n\n\u30d5\u30ed\u30f3\u30c8\u304b\u3089\uff08jQuery\uff09\u76f4\u63a5API\u3092\u305f\u305f\u304f\u3053\u3068\u306f\u51fa\u6765\u306a\u3044\uff08\u30af\u30ed\u30b9\u30aa\u30ea\u30b8\u30f3\u5236\u7d04\uff09\u3002\n\u3057\u304b\u3057PHP\u306a\u3089\u53ef\u80fd\u3002\n\u305d\u306e\u5834\u5408 **Guzzle** \u3068\u3044\u3046\u3082\u306e\u3092\u4f7f\u3046\u3002\u4e0b\u306e\u3088\u3046\u306a\u9806\u756a\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3002\n\n1. php\u3067Guzzle\u4f7f\u3063\u3066API\u3092\u305f\u305f\u304f\n2. JSON\u3067JS\u30d5\u30a1\u30a4\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\n3. Vue.js\u3067\u30d5\u30ed\u30f3\u30c8\u306b\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u308b\n\n#Guzzle\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ composer init //composer.json\u3064\u304f\u308b\n$ composer require guzzlehttp/guzzle\n$ composer require illuminate/http\n```\n\n#\u5148\u306bhttp\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066JSON\u3092\u8fd4\u305b\u308b\u3088\u3046\u306b\u7df4\u7fd2\n\nhttp\u30e9\u30a4\u30d6\u30e9\u30ea\u306eJsonResponse\u3092\u4f7f\u3046\u3002\n\n```php:public/api/event.php\n<?php\nrequire __DIR__ . \"/../../vendor/autoload.php\";\n\nuse Illuminate\\Http\\JsonResponse;\n\n$data = [\n    \"message\" => \"Hello World\",\n    \"hogehoge\" => \"hogehoge\",\n    \"event\" => [\n        \"php\u52c9\u5f37\u4f1a\",\n        \"laravel\u52c9\u5f37\u4f1a\",\n        \"jQuery\u52c9\u5f37\u4f1a\",\n    ]\n];\n\n$response = JsonResponse::create($data,200);\n$response->send();\n```\n\n##\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u30a8\u30e9\u30fc\u304c\u3067\u308b\u3068\u304d\n\n```\nerror_reporting(0);\n```\n\n\u3092\u6700\u521d\u306b\u5165\u308c\u308b\u3002\n\n###\u539f\u56e0\n\nphp ini\u30d5\u30a1\u30a4\u30eb\u3067\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u304c\u306a\u3044\u72b6\u614b\u3089\u3057\u3044\u3002\n\u4e0a\u8a18\u30b3\u30fc\u30c9\u3067\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u30a8\u30e9\u30fc\u306f\u306a\u304f\u306a\u308b\u3002\n\u3067\u3082\u6839\u672c\u7684\u306a\u89e3\u6c7a\u3067\u306f\u306a\u3044\u304b\u3089\u3067\u304d\u308c\u3070php ini\u30d5\u30a1\u30a4\u30eb\u3092Asia/Tokyo\u306b\u76f4\u3059\u65b9\u304c\u826f\u3044\u3002\n\n#guzzle\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066\u5916\u90e8API\u3092\u305f\u305f\u304f\n\n\u3044\u3088\u3044\u3088API\u3092\u305f\u305f\u304f\u3002\n\n```php:public/api/event.php\n<?php\nrequire __DIR__ . \"/../../vendor/autoload.php\";\n\nuse Illuminate\\Http\\JsonResponse;\nuse GuzzleHttp\\Client;\n\n$url = \"http://connpass.com/api/v1/event/\";\n\n$client = new Client();\n$res = $client->get($url, [\n\t\"query\" => [\n\t\t\"start\" => $start\n\t]\n]);\n\n$data = json_decode($res->getBody(),true);\n\n$response = JsonResponse::create($data,200);\n$response->send();\n\n```\n\n`$data = json_decode($res->getBody(),true);` \u306e **true/false** \u306f **array/object** \u3067\u8fd4\u3063\u3066\u304f\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3002\n\u3061\u306a\u307f\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068false\u306b\u306a\u308b\u306e\u3067 **object** \u3067\u8fd4\u3063\u3066\u304f\u308b\u306e\u3067\u6ce8\u610f\u3002\n\u30ad\u30e3\u30b9\u30c8\u3092\u4f7f\u3063\u305f\u5834\u5408\u306f\u305d\u306e\u7b87\u6240\u3067\u3057\u304b\u914d\u5217\u306b\u306a\u3089\u306a\u3044\u3002\n\n#\u554f\u984c\u767a\u751f\uff1aphp\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u30b3\u30fc\u30c9\u304c\u305d\u306e\u307e\u3093\u307e\u8fd4\u3063\u3066\u304d\u3066\u3057\u307e\u3046\n\n```js:common.js\n$(function(){\n    var app = new Vue ({\n        el: \"#app\",\n        data: {\n            posts: []\n        },\n        created: function(){\n            var xhr = $.get(\"./api/event.php\", {start: 0});\n            xhr.success(function(data){\n                app.posts = data.events;\n            });\n            xhr.error(function(){\n                alert(\"\u901a\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\"); //\u5931\u6557\u6642\u306e\u51e6\u7406\n            });\n        }\n    });\n});\n```\n\n\u3053\u308c\u3067\u672c\u6765\u306a\u3089API\u306e\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u3066\u3044\u308b\u306f\u305a\u3002\n\u306a\u306e\u306bphp\u306e\u751f\u30b3\u30fc\u30c9\u304c\u8fd4\u3055\u308c\u308b\u3060\u3051\u3060\u3063\u305f\u30fb\u30fb\u30fb\u3002\n\n##\u539f\u56e0\uff1aGuzzle\u3067API\u3092\u305f\u305f\u304f\u306a\u3089php\u306e\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u308f\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u3002\n\nGulp\u306eWeb\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u3063\u3066\u3044\u305f\u3053\u3068\u304c\u539f\u56e0\u3002\nphp\u306e\u30b5\u30fc\u30d0\u30fc\u306e\u4e0a\u306bGulp\u306e\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u30fc\u3092\u3064\u3051\u308b\u611f\u3058\u3089\u3057\u3044\u3002\n\uff08\u3042\u307e\u308a\u826f\u304f\u308f\u304b\u3063\u3066\u306a\u3044\uff09\n\n```js:gulpfile.js\nvar gulp = require(\"gulp\");\nvar browser = require(\"browser-sync\");\nvar php = require(\"gulp-connect-php\");\n\ngulp.task(\"server\", function(){\n    var config = {\n        proxy: \"***.*.*.*:8000\",\n        open: \"external\"\n        //notify: false\n    };\n\n    var server = {\n        base: \"./public\" /*php\u306e\u30b5\u30fc\u30d0\u30fc*/\n    };\n\n    php.server(server,() => {\n        browser(config)\n    });\n\n    gulp.watch(`./public/**/*`, () => {\n        setTimeout(function(){\n            browser.reload();\n        },500);\n    });\n\n    gulp.watch([\n        \"./frontend/assets/sass/**/*.scss\"\n    ], function(){\n        setTimeout(function(){\n            browser.reload();\n        }, 500);\n    })\n});```\n", "tags": ["api", "gulp", "Guzzle", "\u30af\u30ed\u30b9\u30aa\u30ea\u30b8\u30f3\u5236\u7d04"]}