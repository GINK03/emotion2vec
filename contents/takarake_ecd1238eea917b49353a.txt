{"context": " More than 1 year has passed since last update.\n\n\u307e\u305a\u306f\u3001\u73fe\u72b6\u306e\u78ba\u8a8d\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u304c\u3053\u3053\u306e\u6a21\u69d8\u3002Stash\u306e\u753b\u9762\u306b\u3066\u78ba\u8a8d\u3002\n$ cd /opt/atlassian-stash-2.7.XX/\n\n//tomcat\u304c\u52d5\u4f5c\u3057\u3066\u308b\u304b\u78ba\u8a8d\u3002\u52d5\u4f5c\u3057\u3066\u308b\u306f\u305a\u3002\n$ ps aux | grep tomcat\n\n//JAVA\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\n$ java -version\n\n//Perl\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\n$ perl --version\n\n//Git\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\n$ git --version\n\n//history\u3092\u898b\u308b\u3068\u3001\u300cstash\u300d\u30e6\u30fc\u30b6\u3067\u8d77\u52d5\u3057\u3066\u305f\u3088\u3046\u306a\u306e\u3067\u3001\u540c\u3058\u3082\u306e\u3067STOP\u3092\u5b9f\u884c\n$ sudo su stash ./bin/stop-stash.sh \n\n//PID\u30d5\u30a1\u30a4\u30eb\u304c\u6d88\u3048\u305f\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3002\n$ ls work/catalina.pid\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u524d\u306b\u5fc5\u8981\u306a\u5bfe\u5fdc\nSupported platforms - Stash latest (3.8) - Atlassian Documentation https://confluence.atlassian.com/display/STASH/Supported+platforms\nStash upgrade guide - Stash latest (3.8) - Atlassian Documentation https://confluence.atlassian.com/display/STASH/Stash+upgrade+guide#Stashupgradeguide-installer\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u305f\u3081\u306b\u306f\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304c\u5fc5\u8981\u306a\u6a21\u69d8\u306e\u305f\u3081\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n$ sudo yum update git \n\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u3066\u308b\u304b\u78ba\u8a8d\u3002\n$ perl --version\n$ git --version\n\n//\u6b21\u306bJAVA\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum search java\n$ sudo yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64\n\n//JAVA\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u304b\u78ba\u8a8d\n$ java -version\n\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n$ wget https://www.atlassian.com/software/stash/downloads/binary/atlassian-stash-3.8.0-x64.bin\n\n// \u5b9f\u884c\u6a29\u9650\u3092\u4e0e\u3048\u308b\n$ chmod +x atlassian-stash-3.8.0-x64.bin\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u5b9f\u884c\n$ sudo ./atlassian-stash-3.8.0-x64.bin \nStarting Installer ...\n\nThis will install Stash 3.8.0 on your computer.\nOK [o, Enter], Cancel [c]\no\nPlease choose one of the following:\nInstall a new Stash instance [1, Enter], Upgrade an existing Stash instance [2]\n2\nWhere should Stash be installed?\n\n[/opt/atlassian/stash/3.8.0]\n/opt/atlassian-stash-3.8.0   \u2190\u65b0\u3057\u3044\u30d5\u30a9\u30eb\u30c0\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u308b         \nDefault location for Stash home directory\n\nThe location for Stash data.\nPlease provide the location of your existing Stash home directory, where\nyour repositories, plugins, and other data are stored.\n\nBe sure to STOP your current Stash instance and create a backup before\nproceeding.\n[/var/atlassian/application-data/stash]\n/opt/stash-home\u3000\u3000\u2190Stash\u4e0a\u306e\u30b7\u30b9\u30c6\u30e0\u60c5\u5831\u304b\u3089\u63a2\u3059\u3002Stash Home\nConfigure which ports Stash will use.\n\n\nStash requires two TCP ports that are not being used by any other\napplications.\n\nThe HTTP port is where users will access Stash through their browsers. The\ncontrol port is used to start and stop Stash.\nHTTP Port Number\n[7990]\u3000\u2190\u30c7\u30d5\u30a9\u30eb\u30c8\n\nControl Port Number\n[8006]\u3000\u2190\u30c7\u30d5\u30a9\u30eb\u30c8\n\nPlease review your Stash installation settings\n\n\nInstallation Directory: /opt/atlassian-stash-3.8.0 \nHome Directory: /opt/stash-home \nHTTP Port: 7990 \nControl Port: 8006 \n\nInstall [i, Enter], Exit [e]\ni\n\nExtracting files ...\n\nInstallation of Stash is complete\nWould you like to launch Stash?\nYes [y, Enter], No [n]\ny\n\nPlease wait a few moments while Stash starts up.\nLaunching Stash ...\nInstallation of Stash 3.8.0 is complete\nYour installation of Stash 3.8.0 is now ready and can be accessed via your\nbrowser.\nStash 3.8.0 can be accessed at http://localhost:7990\nLaunch Stash 3.8.0 in browser?\nYes [y, Enter], No [n]\ny\n\n\n\u30db\u30b9\u30c8\u540d\u304cssh\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u308b\u30db\u30b9\u30c8\u3068\u540c\u3058\u304b\u78ba\u8a8d\n$ vim /etc/hosts\n$ sudo vim /etc/hosts\n\n\nmysql\u304c\u8d77\u52d5\u3057\u3066\u306a\u3044\u5834\u5408\u306f\u8d77\u52d5\u3059\u308b\n$ sudo service mysqld status\n$ sudo service mysqld start\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u306e\u30aa\u30fc\u30ca\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5fc5\u8981\u3067\u3042\u308c\u3070\u3001chown\u3067\u5909\u66f4\n$ sudo chown -R stash. /opt/atlassian-stash-3.8.0\n$ sudo chown -R stash. /opt/stash-home\n\n\n\u9806\u756a\u3092\u30df\u30b9\u3063\u305f\u308a\u3057\u305f\u5834\u5408\u306f\u3001\u4e00\u65e6STOP\u3057\u3066\u3001\u8d77\u52d5\u3059\u308c\u3070DB\u3082\u518d\u63a5\u7d9a\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u3066\u304f\u308b\u6a21\u69d8\u3002\n$ sudo su stash ./stop-stash.sh\n$ sudo su stash ./start-stash.sh\n\u304a\u3057\u307e\u3044\n\n# \u307e\u305a\u306f\u3001\u73fe\u72b6\u306e\u78ba\u8a8d\n```bash\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u304c\u3053\u3053\u306e\u6a21\u69d8\u3002Stash\u306e\u753b\u9762\u306b\u3066\u78ba\u8a8d\u3002\n$ cd /opt/atlassian-stash-2.7.XX/\n\n//tomcat\u304c\u52d5\u4f5c\u3057\u3066\u308b\u304b\u78ba\u8a8d\u3002\u52d5\u4f5c\u3057\u3066\u308b\u306f\u305a\u3002\n$ ps aux | grep tomcat\n\n//JAVA\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\n$ java -version\n\n//Perl\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\n$ perl --version\n\n//Git\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\n$ git --version\n\n//history\u3092\u898b\u308b\u3068\u3001\u300cstash\u300d\u30e6\u30fc\u30b6\u3067\u8d77\u52d5\u3057\u3066\u305f\u3088\u3046\u306a\u306e\u3067\u3001\u540c\u3058\u3082\u306e\u3067STOP\u3092\u5b9f\u884c\n$ sudo su stash ./bin/stop-stash.sh \n\n//PID\u30d5\u30a1\u30a4\u30eb\u304c\u6d88\u3048\u305f\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3002\n$ ls work/catalina.pid\n```\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u524d\u306b\u5fc5\u8981\u306a\u5bfe\u5fdc\nSupported platforms - Stash latest (3.8) - Atlassian Documentation https://confluence.atlassian.com/display/STASH/Supported+platforms\nStash upgrade guide - Stash latest (3.8) - Atlassian Documentation https://confluence.atlassian.com/display/STASH/Stash+upgrade+guide#Stashupgradeguide-installer\n\n```bash\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u305f\u3081\u306b\u306f\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304c\u5fc5\u8981\u306a\u6a21\u69d8\u306e\u305f\u3081\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n$ sudo yum update git \n\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u3066\u308b\u304b\u78ba\u8a8d\u3002\n$ perl --version\n$ git --version\n\n//\u6b21\u306bJAVA\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum search java\n$ sudo yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64\n\n//JAVA\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u304b\u78ba\u8a8d\n$ java -version\n\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n$ wget https://www.atlassian.com/software/stash/downloads/binary/atlassian-stash-3.8.0-x64.bin\n\n// \u5b9f\u884c\u6a29\u9650\u3092\u4e0e\u3048\u308b\n$ chmod +x atlassian-stash-3.8.0-x64.bin\n```\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n```bash\n//\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u5b9f\u884c\n$ sudo ./atlassian-stash-3.8.0-x64.bin \nStarting Installer ...\n\nThis will install Stash 3.8.0 on your computer.\nOK [o, Enter], Cancel [c]\no\nPlease choose one of the following:\nInstall a new Stash instance [1, Enter], Upgrade an existing Stash instance [2]\n2\nWhere should Stash be installed?\n\n[/opt/atlassian/stash/3.8.0]\n/opt/atlassian-stash-3.8.0   \u2190\u65b0\u3057\u3044\u30d5\u30a9\u30eb\u30c0\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u308b         \nDefault location for Stash home directory\n\nThe location for Stash data.\nPlease provide the location of your existing Stash home directory, where\nyour repositories, plugins, and other data are stored.\n\nBe sure to STOP your current Stash instance and create a backup before\nproceeding.\n[/var/atlassian/application-data/stash]\n/opt/stash-home\u3000\u3000\u2190Stash\u4e0a\u306e\u30b7\u30b9\u30c6\u30e0\u60c5\u5831\u304b\u3089\u63a2\u3059\u3002Stash Home\nConfigure which ports Stash will use.\n\n\nStash requires two TCP ports that are not being used by any other\napplications.\n\nThe HTTP port is where users will access Stash through their browsers. The\ncontrol port is used to start and stop Stash.\nHTTP Port Number\n[7990]\u3000\u2190\u30c7\u30d5\u30a9\u30eb\u30c8\n\nControl Port Number\n[8006]\u3000\u2190\u30c7\u30d5\u30a9\u30eb\u30c8\n\nPlease review your Stash installation settings\n\n\nInstallation Directory: /opt/atlassian-stash-3.8.0 \nHome Directory: /opt/stash-home \nHTTP Port: 7990 \nControl Port: 8006 \n\nInstall [i, Enter], Exit [e]\ni\n\nExtracting files ...\n                                                                           \nInstallation of Stash is complete\nWould you like to launch Stash?\nYes [y, Enter], No [n]\ny\n\nPlease wait a few moments while Stash starts up.\nLaunching Stash ...\nInstallation of Stash 3.8.0 is complete\nYour installation of Stash 3.8.0 is now ready and can be accessed via your\nbrowser.\nStash 3.8.0 can be accessed at http://localhost:7990\nLaunch Stash 3.8.0 in browser?\nYes [y, Enter], No [n]\ny\n```\n\n# \u30db\u30b9\u30c8\u540d\u304cssh\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u308b\u30db\u30b9\u30c8\u3068\u540c\u3058\u304b\u78ba\u8a8d\n```bash\n$ vim /etc/hosts\n$ sudo vim /etc/hosts\n```\n\n# mysql\u304c\u8d77\u52d5\u3057\u3066\u306a\u3044\u5834\u5408\u306f\u8d77\u52d5\u3059\u308b\n```bash\n$ sudo service mysqld status\n$ sudo service mysqld start\n```\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u306e\u30aa\u30fc\u30ca\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5fc5\u8981\u3067\u3042\u308c\u3070\u3001chown\u3067\u5909\u66f4\n```bash\n$ sudo chown -R stash. /opt/atlassian-stash-3.8.0\n$ sudo chown -R stash. /opt/stash-home\n```\n\n# \u9806\u756a\u3092\u30df\u30b9\u3063\u305f\u308a\u3057\u305f\u5834\u5408\u306f\u3001\u4e00\u65e6STOP\u3057\u3066\u3001\u8d77\u52d5\u3059\u308c\u3070DB\u3082\u518d\u63a5\u7d9a\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u3066\u304f\u308b\u6a21\u69d8\u3002\n```bash\n$ sudo su stash ./stop-stash.sh\n$ sudo su stash ./start-stash.sh\n\u304a\u3057\u307e\u3044\n```\n\n", "tags": ["stash", "Atlassian", "EC2"]}