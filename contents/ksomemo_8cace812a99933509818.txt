{"context": "\n\n\u52d5\u6a5f\n\uff12\u3064\u306eDataFrame\u3092\u6bd4\u8f03\u3057\u3066\u6b63\u3057\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\n\n\u6e96\u5099\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\n\n\nNA\u3092\u542b\u3080DataFrame\u3092\u4f5c\u6210\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.random_integers(1, 4, size=(3, 4)), columns=list(\"abcde\"))\ndf[\"c\"] = np.nan\nother = df.copy()\ndf\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n1\n4\nNaN\n1\n\n\n1\n4\n4\nNaN\n4\n\n\n2\n2\n4\nNaN\n3\n\n\n\n\n\n\u5404\u8981\u7d20\u304c\u7b49\u3057\u3044\u304b, DataFrame\u540c\u58eb\u304c\u7b49\u3057\u3044\u304b\u3092\u78ba\u8a8d\ndf == other\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\nTrue\nTrue\nFalse\nTrue\n\n\n1\nTrue\nTrue\nFalse\nTrue\n\n\n2\nTrue\nTrue\nFalse\nTrue\n\n\n\n\nnp.nan == np.nan, np.nan != np.nan\n\n(False, True)\n\ndf.equals(other)\n\nTrue\n\nNA\u540c\u58eb\u306f\u7b49\u3057\u304f\u306a\u3044(SQL\u306b\u304a\u3051\u308bNULL)\u304c\u3001DataFrame\u3068\u3057\u3066\u306f\u7b49\u3057\u3044\n\n\u7b49\u3057\u304f\u306a\u3044\u5834\u5408\u3001\u3069\u3053\u304c\u7b49\u3057\u304f\u306a\u3044\u304b\u3092\u78ba\u8a8d\u3059\u308b\n\nNA\u3092\u7279\u5b9a\u306e\u6587\u5b57\u5217\u306b\u3057\u3001\u8981\u7d20\u306e\u6bd4\u8f03\u3092\u3057\u305f\u3068\u304d\u306b\u7b49\u3057\u304f\u306a\u308b\u3088\u3046\u306b\u3059\u308b\nDataFrame\u540c\u58eb\u304c\u7b49\u3057\u304f\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001other\u3092\u5909\u66f4\u3059\u308b\n\ndf = df.fillna(\"NA String\")\nother = other.fillna(\"NA String\")\nother[\"a\"] = 4\nother.iloc[0, 1] = 100\nother\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n4\n100\nNA String\n1\n\n\n1\n4\n4\nNA String\n4\n\n\n2\n4\n4\nNA String\n3\n\n\n\n\n# == \u306e method version\neq = df.eq(other)\neq\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\nFalse\nFalse\nTrue\nTrue\n\n\n1\nTrue\nTrue\nTrue\nTrue\n\n\n2\nFalse\nTrue\nTrue\nTrue\n\n\n\n\ndf.equals(other)\n\nFalse\n\n\nNA\u3067\u3042\u3063\u305f\u8981\u7d20\u306f\u7b49\u3057\u304f\u306a\u3063\u3066\u3044\u308b\n\u5909\u66f4\u3092\u3057\u305f\u305f\u3081\u3001DataFrame\u3068\u3057\u3066\u306f\u7b49\u3057\u304f\u306a\u3044\n\n\n\u7b49\u3057\u304f\u306a\u3044Column\u3068Index\u306e\u7279\u5b9a\u304a\u3088\u3073\u3069\u308c\u304f\u3089\u3044\u7b49\u3057\u3044\u304b\n\u8981\u7d20\u6bd4\u8f03\u7d50\u679c\u306eDataFrame\u306b\u5bfe\u3057\u3066all\u3092Column\u3068Index\u65b9\u5411\u306e\u4e21\u65b9\u306b\u9069\u7528\u3057\u3066\u7279\u5b9a\u3059\u308b\npd.DataFrame(eq.all(axis=1))\n\n\n\n\n\n\n0\n\n\n\n\n0\nFalse\n\n\n1\nTrue\n\n\n2\nFalse\n\n\n\n\npd.DataFrame(eq.all()).T\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\nFalse\nFalse\nTrue\nTrue\n\n\n\n\npd.concat(\n    [\n        pd.DataFrame(eq.sum()).T,\n        pd.DataFrame(eq.sum()).T / len(df)\n    ]\n, ignore_index=True)\n\n\n\n\n\n\n\na\nb\nc\nd\n\n\n\n\n0\n1.000000\n2.000000\n3\n3\n\n\n1\n0.333333\n0.666667\n1\n1\n\n\n\n\nprint(pd.options.display.float_format)\nwith pd.option_context(\"display.float_format\", \"{:.2f}%\".format):\n    print(pd.DataFrame(eq.sum()).T / len(df) * 100)\n\nNone\n       a      b       c       d\n0 33.33% 66.67% 100.00% 100.00%\n\n\n## \u52d5\u6a5f\n\uff12\u3064\u306eDataFrame\u3092\u6bd4\u8f03\u3057\u3066\u6b63\u3057\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\n\n## \u6e96\u5099\n```python\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\n```\n\n## NA\u3092\u542b\u3080DataFrame\u3092\u4f5c\u6210\n\n\n```python\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.random_integers(1, 4, size=(3, 4)), columns=list(\"abcde\"))\ndf[\"c\"] = np.nan\nother = df.copy()\ndf\n```\n\n\n\n\n<div>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>a</th>\n      <th>b</th>\n      <th>c</th>\n      <th>d</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1</td>\n      <td>4</td>\n      <td>NaN</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>4</td>\n      <td>4</td>\n      <td>NaN</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2</td>\n      <td>4</td>\n      <td>NaN</td>\n      <td>3</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n## \u5404\u8981\u7d20\u304c\u7b49\u3057\u3044\u304b, DataFrame\u540c\u58eb\u304c\u7b49\u3057\u3044\u304b\u3092\u78ba\u8a8d\n\n\n```python\ndf == other\n```\n\n\n\n\n<div>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>a</th>\n      <th>b</th>\n      <th>c</th>\n      <th>d</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>True</td>\n      <td>True</td>\n      <td>False</td>\n      <td>True</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>True</td>\n      <td>True</td>\n      <td>False</td>\n      <td>True</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>True</td>\n      <td>True</td>\n      <td>False</td>\n      <td>True</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n\n```python\nnp.nan == np.nan, np.nan != np.nan\n```\n\n\n\n\n    (False, True)\n\n\n\n\n```python\ndf.equals(other)\n```\n\n\n\n\n    True\n\n\n\n\nNA\u540c\u58eb\u306f\u7b49\u3057\u304f\u306a\u3044(SQL\u306b\u304a\u3051\u308bNULL)\u304c\u3001DataFrame\u3068\u3057\u3066\u306f\u7b49\u3057\u3044\n\n## \u7b49\u3057\u304f\u306a\u3044\u5834\u5408\u3001\u3069\u3053\u304c\u7b49\u3057\u304f\u306a\u3044\u304b\u3092\u78ba\u8a8d\u3059\u308b\n\n- NA\u3092\u7279\u5b9a\u306e\u6587\u5b57\u5217\u306b\u3057\u3001\u8981\u7d20\u306e\u6bd4\u8f03\u3092\u3057\u305f\u3068\u304d\u306b\u7b49\u3057\u304f\u306a\u308b\u3088\u3046\u306b\u3059\u308b\n- DataFrame\u540c\u58eb\u304c\u7b49\u3057\u304f\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001other\u3092\u5909\u66f4\u3059\u308b\n\n\n```python\ndf = df.fillna(\"NA String\")\nother = other.fillna(\"NA String\")\nother[\"a\"] = 4\nother.iloc[0, 1] = 100\nother\n```\n\n\n\n\n<div>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>a</th>\n      <th>b</th>\n      <th>c</th>\n      <th>d</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>4</td>\n      <td>100</td>\n      <td>NA String</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>4</td>\n      <td>4</td>\n      <td>NA String</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>4</td>\n      <td>4</td>\n      <td>NA String</td>\n      <td>3</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n\n```python\n# == \u306e method version\neq = df.eq(other)\neq\n```\n\n\n\n\n<div>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>a</th>\n      <th>b</th>\n      <th>c</th>\n      <th>d</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>False</td>\n      <td>False</td>\n      <td>True</td>\n      <td>True</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>True</td>\n      <td>True</td>\n      <td>True</td>\n      <td>True</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>False</td>\n      <td>True</td>\n      <td>True</td>\n      <td>True</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n\n```python\ndf.equals(other)\n```\n\n\n\n\n    False\n\n\n\n- NA\u3067\u3042\u3063\u305f\u8981\u7d20\u306f\u7b49\u3057\u304f\u306a\u3063\u3066\u3044\u308b\n- \u5909\u66f4\u3092\u3057\u305f\u305f\u3081\u3001DataFrame\u3068\u3057\u3066\u306f\u7b49\u3057\u304f\u306a\u3044\n\n## \u7b49\u3057\u304f\u306a\u3044Column\u3068Index\u306e\u7279\u5b9a\u304a\u3088\u3073\u3069\u308c\u304f\u3089\u3044\u7b49\u3057\u3044\u304b\n\n\u8981\u7d20\u6bd4\u8f03\u7d50\u679c\u306eDataFrame\u306b\u5bfe\u3057\u3066all\u3092Column\u3068Index\u65b9\u5411\u306e\u4e21\u65b9\u306b\u9069\u7528\u3057\u3066\u7279\u5b9a\u3059\u308b\n\n\n```python\npd.DataFrame(eq.all(axis=1))\n```\n\n\n\n\n<div>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>0</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>False</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>True</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>False</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n\n```python\npd.DataFrame(eq.all()).T\n```\n\n\n\n\n<div>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>a</th>\n      <th>b</th>\n      <th>c</th>\n      <th>d</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>False</td>\n      <td>False</td>\n      <td>True</td>\n      <td>True</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n\n```python\npd.concat(\n    [\n        pd.DataFrame(eq.sum()).T,\n        pd.DataFrame(eq.sum()).T / len(df)\n    ]\n, ignore_index=True)\n\n```\n\n\n\n\n<div>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>a</th>\n      <th>b</th>\n      <th>c</th>\n      <th>d</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1.000000</td>\n      <td>2.000000</td>\n      <td>3</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>0.333333</td>\n      <td>0.666667</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n\n\n\n```python\nprint(pd.options.display.float_format)\nwith pd.option_context(\"display.float_format\", \"{:.2f}%\".format):\n    print(pd.DataFrame(eq.sum()).T / len(df) * 100)\n```\n\n    None\n           a      b       c       d\n    0 33.33% 66.67% 100.00% 100.00%\n", "tags": ["pandas0.17.1"]}