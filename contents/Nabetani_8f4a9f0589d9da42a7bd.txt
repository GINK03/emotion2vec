{"context": " More than 1 year has passed since last update.\u7b2c\u4e00\u56de \u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f( http://atnd.org/events/30285 )\u3002\n\u554f\u984c\u306f http://nabetani.sakura.ne.jp/hena/1/\n\u5f53\u65e5\u305d\u306e\u5834\u3067\u66f8\u3044\u305f\u3082\u306e\u3002\n#!ruby\n#coding:utf-8\n\ndata= <<DATA.enum_for( :scan, /\\d{3,}/ ).map{|i| i.chars.map{ |c| c.to_i } }\n1   79538246    x won.\n2   35497162193 x won.\n3   61978543    x won.\n4   254961323121    x won.\n5   6134278187  x won.\n6   4319581 Foul : x won.\n7   9625663381  Foul : x won.\n8   7975662 Foul : x won.\n9   2368799597  Foul : x won.\n10  18652368566 Foul : x won.\n11  965715  o won.\n12  38745796    o won.\n13  371929  o won.\n14  758698769   o won.\n15  42683953    o won.\n16  618843927   Foul : o won.\n17  36535224    Foul : o won.\n18  882973  Foul : o won.\n19  653675681   Foul : o won.\n20  9729934662  Foul : o won.\n21  972651483927    Draw game.\n22  5439126787  Draw game.\n23  142583697   Draw game.\n24  42198637563 Draw game.\n25  657391482   Draw game.\nDATA\n\ndef side( ix )\n  %w( o x )[ix%2]\nend\n\ndef line( board, st, dir )\n  c=(0..2).map{ |d|\n    position=(0..1).map{ |i| st[i]+dir[i]*d }.join\n    return false unless ( r = board[ position ] )\n    r\n  }.join\n  c=='xxx' || c=='ooo'\nend\n\ndef completed( board )\n  [ [2,0],[1,0],[0,0],[0,1],[0,2] ].any?{ |st|\n    [ [0,1],[1,0],[1,1],[-1,1] ].any?{ |dir|\n      line( board, st, dir )\n    }\n  }\nend\n\ndef titato( game )\n  board={}\n  game.each_with_index{ |h,ix|\n    position=[(h-1)%3,(h-1)/3].join\n    return \"Foul : #{side(ix+1)} won.\" if board[position]\n    board[position]=side(ix)\n    return \"#{side(ix)} won.\" if completed(board)\n    return \"Draw game.\" if ix==8\n  }\nend\n\ndata.each{ |game|\n  puts titato( game )\n}\n\n\u4eca\u307e\u3067\u306b\u66f8\u3044\u305f\u306e\u3068\u306f\u7d4c\u8def\u3092\u5909\u3048\u3088\u3046\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4e00\u5217\u63c3\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u306e\u5224\u65ad\u3092\u5909\u3048\u3066\u307f\u305f\u3002\n\u516b\u901a\u308a\u3057\u304b\u306a\u3044\u304b\u3089\u5168\u90e8\u66f8\u3053\u3046\u3068\u3044\u3046\u4f5c\u6226\u3092\u3084\u3081\u3001\u307e\u3063\u3059\u3050\u4e26\u3093\u3060\u4e09\u30de\u30b9\u3068\u306f\u3069\u3046\u3044\u3046\u3082\u306e\u304b\u3092\u8a08\u7b97\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3002\u9045\u3044\u3051\u3069\u3002\n\u66f8\u3044\u3066\u307f\u305f\u3068\u3053\u308d\u3001\u3053\u308c\u306f any? \u306e\u4f7f\u3044\u6240\u3060\u3001\u3068\u6c17\u3065\u304d\u3001 any? \u306b\u66f8\u304d\u63db\u3048\u305f\u3002\n\u7b2c\u4e00\u56de \u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f( http://atnd.org/events/30285 )\u3002\n\u554f\u984c\u306f http://nabetani.sakura.ne.jp/hena/1/\n\u5f53\u65e5\u305d\u306e\u5834\u3067\u66f8\u3044\u305f\u3082\u306e\u3002\n\n```ruby\n#!ruby\n#coding:utf-8\n\ndata= <<DATA.enum_for( :scan, /\\d{3,}/ ).map{|i| i.chars.map{ |c| c.to_i } }\n1\t79538246\tx won.\n2\t35497162193\tx won.\n3\t61978543\tx won.\n4\t254961323121\tx won.\n5\t6134278187\tx won.\n6\t4319581\tFoul : x won.\n7\t9625663381\tFoul : x won.\n8\t7975662\tFoul : x won.\n9\t2368799597\tFoul : x won.\n10\t18652368566\tFoul : x won.\n11\t965715\to won.\n12\t38745796\to won.\n13\t371929\to won.\n14\t758698769\to won.\n15\t42683953\to won.\n16\t618843927\tFoul : o won.\n17\t36535224\tFoul : o won.\n18\t882973\tFoul : o won.\n19\t653675681\tFoul : o won.\n20\t9729934662\tFoul : o won.\n21\t972651483927\tDraw game.\n22\t5439126787\tDraw game.\n23\t142583697\tDraw game.\n24\t42198637563\tDraw game.\n25\t657391482\tDraw game.\nDATA\n\ndef side( ix )\n  %w( o x )[ix%2]\nend\n\ndef line( board, st, dir )\n  c=(0..2).map{ |d|\n    position=(0..1).map{ |i| st[i]+dir[i]*d }.join\n    return false unless ( r = board[ position ] )\n    r\n  }.join\n  c=='xxx' || c=='ooo'\nend\n\ndef completed( board )\n  [ [2,0],[1,0],[0,0],[0,1],[0,2] ].any?{ |st|\n    [ [0,1],[1,0],[1,1],[-1,1] ].any?{ |dir|\n      line( board, st, dir )\n    }\n  }\nend\n  \ndef titato( game )\n  board={}\n  game.each_with_index{ |h,ix|\n    position=[(h-1)%3,(h-1)/3].join\n    return \"Foul : #{side(ix+1)} won.\" if board[position]\n    board[position]=side(ix)\n    return \"#{side(ix)} won.\" if completed(board)\n    return \"Draw game.\" if ix==8\n  }\nend\n\ndata.each{ |game|\n  puts titato( game )\n}\n```\n\n\u4eca\u307e\u3067\u306b\u66f8\u3044\u305f\u306e\u3068\u306f\u7d4c\u8def\u3092\u5909\u3048\u3088\u3046\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4e00\u5217\u63c3\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u306e\u5224\u65ad\u3092\u5909\u3048\u3066\u307f\u305f\u3002\n\u516b\u901a\u308a\u3057\u304b\u306a\u3044\u304b\u3089\u5168\u90e8\u66f8\u3053\u3046\u3068\u3044\u3046\u4f5c\u6226\u3092\u3084\u3081\u3001\u307e\u3063\u3059\u3050\u4e26\u3093\u3060\u4e09\u30de\u30b9\u3068\u306f\u3069\u3046\u3044\u3046\u3082\u306e\u304b\u3092\u8a08\u7b97\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3002\u9045\u3044\u3051\u3069\u3002\n\n\u66f8\u3044\u3066\u307f\u305f\u3068\u3053\u308d\u3001\u3053\u308c\u306f any? \u306e\u4f7f\u3044\u6240\u3060\u3001\u3068\u6c17\u3065\u304d\u3001 any? \u306b\u66f8\u304d\u63db\u3048\u305f\u3002\n", "tags": ["\u52c9\u5f37\u4f1a", "\u3069\u3046\u66f8\u304f", "Ruby"]}