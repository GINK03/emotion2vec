{"context": " More than 1 year has passed since last update.\n\nRequirements\n\nUbuntu 12.04LTS\nInstall path is /opt/hivemq (linked from /opt/hivemq-{version})\n\n\nInstallation\n\nInstall JDK\n$ sudo add-apt-repository ppa:dlecan/openjdk\n$ sudo apt-get update\n$ apt-get install openjdk-7-jdk\n\n\nInstall HiveMQ\nHiveMQ documentation is helpful to install HiveMQ. Please refer it as well. \nhttp://www.hivemq.com/docs/hivemq/1.4.1/\n$ cd /opt\n$ wget --content-disposition http://www.hivemq.com/downloads/releases/latest\n$ unzip hivemq-{version}.zip\n$ ln -s hivemq-{version} hivemq\n\n\nCreate HiveMQ user\n$ sudo useradd -d /opt/hivemq hivemq\n\n\nMake scripts executable and change owner to hivemq user\n$ sudo chown -R hivemq.hivemq /opt/hivemq-{version}\n$ sudo chown -R hivemq.hivemq /opt/hivemq\n$ cd /opt/hivemq\n$ sudo chmod +x ./bin/run.sh\n\n\nRegister starup\n$ sudo cp /opt/hivemq/bin/init-script/hivemq /etc/init.d/hivemq\n$ sudo chmod -x /etc/init.d/hivemq\n$ sudo update-rc.d hivemq defaults\n\n\nStarting HiveMQ\n$ sudo service hivemq start\n\nIf you see any errors at starting hivemq, please start with /opt/hivemq/bin/run.sh as debug.\n\nInstall Plugin\nDownload plugins from here. http://www.hivemq.com/plugins/\nAll plugins described on the web page is just located in /opt/hivemq/plugins\n\nConfiguration\nConfiguration file is located in /opt/hivemq/conf directory.\n\nSSL/TLS\nPlease refer http://www.hivemq.com/docs/hivemq/1.4.1/#hivemqdocs_ssl_tls as well.\nhttp://mosquitto.org/man/mosquitto-tls-7.html is also helpful.\nEdit configuration file.\n\n/opt/hivemq/conf/configuration.properties\nssl.enable=ture\nssl.port=8883\nssl.protocol=TLS\nkeystore.location=/opt/hivemq/conf/certs/server.key\nkeystore.password={password}\ntruststore.location=/opt/hivemq/conf/certs/ca.cert\ntruststore.password={password}\nssl.clientAuthenticationMode=none\nssl.handshakeTimeout=0\nssl.hybridMode=true\n\n\nGenerate a certificate authority certificate and key.\n$ openssl req -new -x509 -days 1024 -extensions v3_ca -keyout ca.key -out ca.crt\n\nGenerate a server key, sign requests to send to the CA, send the CSR to the CA.\n$ openssl genrsa -des3 -out server.key 2048\n$ openssl req -out server.csr -key server.key -new\n$ openssl x509 -req -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out\nserver.crt -days 1024\n\nCopy key and cert file.\n$ sudo cp server.key ca.crt  /opt/hivemq/conf/certs\n\nRestart HiveMQ.\nAnd here is a command creating client certification. Please enter the command on CA server.\n$ openssl genrsa -des3 -out client.key 2048\n$ openssl req -out client.csr -key client.key -new\n$ openssl x509 -req in client.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out client.crt -days 1024\n\n\n\n## Requirements\n\n* Ubuntu 12.04LTS\n* Install path is /opt/hivemq (linked from /opt/hivemq-{version})\n\n\n## Installation\n\n### Install JDK\n\n```\n$ sudo add-apt-repository ppa:dlecan/openjdk\n$ sudo apt-get update\n$ apt-get install openjdk-7-jdk\n```\n\n###Install HiveMQ\n\nHiveMQ documentation is helpful to install HiveMQ. Please refer it as well. \nhttp://www.hivemq.com/docs/hivemq/1.4.1/\n\n\n```\n$ cd /opt\n$ wget --content-disposition http://www.hivemq.com/downloads/releases/latest\n$ unzip hivemq-{version}.zip\n$ ln -s hivemq-{version} hivemq\n```\n\n### Create HiveMQ user\n\n```\n$ sudo useradd -d /opt/hivemq hivemq\n```\n\n### Make scripts executable and change owner to hivemq user\n```\n$ sudo chown -R hivemq.hivemq /opt/hivemq-{version}\n$ sudo chown -R hivemq.hivemq /opt/hivemq\n$ cd /opt/hivemq\n$ sudo chmod +x ./bin/run.sh\n```\n\n### Register starup\n```\n$ sudo cp /opt/hivemq/bin/init-script/hivemq /etc/init.d/hivemq\n$ sudo chmod -x /etc/init.d/hivemq\n$ sudo update-rc.d hivemq defaults\n```\n\n### Starting HiveMQ\n\n```\n$ sudo service hivemq start\n```\n\nIf you see any errors at starting hivemq, please start with ``/opt/hivemq/bin/run.sh`` as debug.\n\n## Install Plugin\n\nDownload plugins from here. http://www.hivemq.com/plugins/\n\nAll plugins described on the web page is just located in /opt/hivemq/plugins\n\n\n\n## Configuration\n\nConfiguration file is located in /opt/hivemq/conf directory.\n\n### SSL/TLS\n\nPlease refer http://www.hivemq.com/docs/hivemq/1.4.1/#hivemqdocs_ssl_tls as well.\nhttp://mosquitto.org/man/mosquitto-tls-7.html is also helpful.\n\nEdit configuration file.\n\n```/opt/hivemq/conf/configuration.properties\nssl.enable=ture\nssl.port=8883\nssl.protocol=TLS\nkeystore.location=/opt/hivemq/conf/certs/server.key\nkeystore.password={password}\ntruststore.location=/opt/hivemq/conf/certs/ca.cert\ntruststore.password={password}\nssl.clientAuthenticationMode=none\nssl.handshakeTimeout=0\nssl.hybridMode=true\n```\n\nGenerate a certificate authority certificate and key.\n\n```\n$ openssl req -new -x509 -days 1024 -extensions v3_ca -keyout ca.key -out ca.crt\n```\n\nGenerate a server key, sign requests to send to the CA, send the CSR to the CA.\n\n```\n$ openssl genrsa -des3 -out server.key 2048\n$ openssl req -out server.csr -key server.key -new\n$ openssl x509 -req -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out\nserver.crt -days 1024\n```\n\nCopy key and cert file.\n\n```\n$ sudo cp server.key ca.crt  /opt/hivemq/conf/certs\n```\n\nRestart HiveMQ.\n\nAnd here is a command creating client certification. Please enter the command on CA server.\n\n```\n$ openssl genrsa -des3 -out client.key 2048\n$ openssl req -out client.csr -key client.key -new\n$ openssl x509 -req in client.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out client.crt -days 1024\n```\n\n\n\n\n\n\n\n\n", "tags": ["mqtt"]}