{"context": "\u3053\u306e\u8a18\u4e8b\u306fMachine Learning Advent Calendar19\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\nHivemall\u304cApache Incubation\u5165\u308a\u3057\u305f\u8a71\u3068\u3001\u6765\u5e74\u30ea\u30ea\u30fc\u30b9\u4e88\u5b9a\u306e\u65b0\u6a5f\u80fd\u306b\u95a2\u3057\u3066\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u795d Apache Incubator!\n\n\u307e\u305a\u4eca\u5e74\u306fHivemall\u304cApache Incubation project\u306b\u9078\u3070\u308c\u307e\u3057\u305f\u3002\n\u6a5f\u68b0\u5b66\u7fd2\u30e9\u30a4\u30d6\u30e9\u30eaHivemall\u304c\u7c73\u56fdApache\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u8ca1\u56e3\u306e\u80b2\u6210\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u8a8d\u5b9a\n\u65e5\u672c\u767a\u306eOSS\u3068\u3057\u3066\u306f\u521d\u3081\u3066\u306e\u3053\u3068\u3089\u3057\u3044\u3067\u3059\u3002Hivemall\u306fHadoop\u3084Spark\u4e0a\u3067\u52d5\u4f5c\u3059\u308bUDF\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u3066\u3001\u6a5f\u68b0\u5b66\u7fd2\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3060\u3051\u3067\u306a\u304ffeature engineering\u3084\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u3001\u66f4\u306b\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0(mix server)\u306e\u5b9f\u88c5\u306a\u3069\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u6a5f\u80fd\u3082\u8c4a\u5bcc\u306aHivemall\u3067\u3059\u304c\u3001\u4ed6\u306e\u6a5f\u68b0\u5b66\u7fd2\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u6bd4\u8f03\u3057\u3066\u7279\u5fb4\u3065\u3051\u3089\u308c\u308b\u3082\u306e\u3068\u3057\u3066\u4ee5\u4e0b\u306e\uff12\u70b9\u304c\u3042\u3052\u3089\u308c\u307e\u3059\u3002\n\nSQL\u30af\u30a8\u30ea\u3067\u5b9f\u884c\u3067\u304d\u308b\u305f\u3081\u65b0\u3057\u3044syntax\u3084\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u899a\u3048\u308b\u5fc5\u8981\u304c\u306a\u3044\nHadoop\u3084Spark\u306a\u3069\u65e2\u5b58\u306e\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u4e0a\u3067\u52d5\u4f5c\u3059\u308b\n\n\u3053\u3046\u3044\u3063\u305f\u70b9\u3082\u8a55\u4fa1\u3055\u308c\u3066Incubation\u5165\u308a\u3092\u679c\u305f\u3057\u307e\u3057\u305f\u3002Apache Incubator\u306f\u30c8\u30c3\u30d7\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3078\u306e\u6607\u683c\u306e\u305f\u3081\u306e\u767b\u7adc\u9580\u3068\u3044\u3046\u4f4d\u7f6e\u3065\u3051\u306a\u306e\u3067\u3001\u3053\u308c\u304b\u3089\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3092\u62e1\u5927\u3055\u305b\u305f\u308a\u3001\u958b\u767a\u3092\u52a0\u901f\u3055\u305b\u308b\u3053\u3068\u3067\u30c8\u30c3\u30d7\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5165\u308a\u3092\u76ee\u6307\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u3093\u306aHivemall\u3067\u3059\u304c\u3001\u6765\u5e74\u306e\u65e9\u3044\u6642\u671f\u306bIncubator\u5f8c\u6700\u521d\u306e\u30ea\u30ea\u30fc\u30b9\u3092\u4e88\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u6b21\u306e\u30ea\u30ea\u30fc\u30b9\u3067\u4e88\u5b9a\u3055\u308c\u3066\u3044\u308b\u6a5f\u80fd\u306e\u3044\u304f\u3064\u304b\u3092\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u307e\u3060under review\u306a\u3082\u306e\u3082\u542b\u307e\u308c\u307e\u3059\u306e\u3067\u3001\u8a73\u7d30\u306f\u30ea\u30ea\u30fc\u30b9\u6642\u3068\u7570\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u96f0\u56f2\u6c17\u3060\u3051\u8aad\u3093\u3067\u3044\u305f\u3060\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\nDocs & Resources\n\u307e\u305aHivemall\u306e\u30b5\u30a4\u30c8, GitHub\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u65b0\u3057\u304f\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306fIncubation\u306b\u4f34\u3063\u305f\u3082\u306e\u3067\u3059\u304c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u898b\u3084\u3059\u304f\u306a\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u4eca\u5f8c\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\u4f7f\u3044\u65b9\u306f\u4eca\u307e\u3067\u5909\u308f\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u4eca\u307e\u3067\u306e\u30ea\u30ea\u30fc\u30b9\u306fGitHub releases\u306b\u3042\u308a\u3001\u3053\u308c\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066Hive console\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306bjar\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nadd jar /home/myui/tmp/hivemall-core-xxx-with-dependencies.jar;\nsource /home/myui/tmp/define-all.hive;\n\n\u3082\u3057\u81ea\u524d\u3067\u30d3\u30eb\u30c9\u3057\u305f\u3082\u306e\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u3001\u30d3\u30eb\u30c9\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\uff0e\n# This is a workaround for resolving xgboost dependencies.\n$ mvn validate -Pxgboost\n\n$ mvn clean package\n\n\u30b5\u30a4\u30c8\u306e\u30ea\u30bd\u30fc\u30b9\u306f\u30ea\u30dd\u30b8\u30c8\u30ea\u306esrc/site\u306b\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u52a0\u7b46\u4fee\u6b63\u5fc5\u8981\u306a\u7b87\u6240\u898b\u3064\u3051\u307e\u3057\u305f\u3089Pull Request\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\nKernelized Passive Aggressive\nTreasure Data\u6625\u306e\u30a4\u30f3\u30bf\u30fc\u30f3\u3067\u6765\u3066\u304f\u308c\u305f\u3000L3Sota\u3055\u3093\u304c\u958b\u767a\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\nPassive Aggressive\u3092\u4f7f\u3063\u305fregressor, classifier\u306f\u65e2\u306bHivemall\u306b\u306f\u3042\u3063\u305f\u306e\u3067\u3059\u304c\u3001Kernelized Passive Aggressive\u306f\u4e88\u6e2c\u30b9\u30b3\u30a2\u3092\u8a08\u7b97\u3059\u308b\u3068\u304d\u306b\u30e2\u30c7\u30eb\u30d1\u30e9\u30e1\u30bf\u3068\u306e\u7a4d\u3067\u306f\u306a\u304f\u3001\u5404\u30b5\u30dd\u30fc\u30c8\u30d9\u30af\u30c8\u30eb\u3068\u306e\u8ddd\u96e2\u3092\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u4f7f\u3063\u3066\u8a08\u7b97\u3057\u307e\u3059\u3002\nPassive Aggressive\u306f\u4e0b\u8a18\u306e\u30e2\u30c7\u30eb\u3067\u8868\u73fe\u3055\u308c\u308bww\\bf{w}\u3092\u6700\u9069\u5316\u3059\u308b\u3088\u3046\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3059\u304c\n\\phi_{PA}(\\bf{x}) = \\bf{w} \\dot \\bf{x} - \\bf{b}\n\u03d5PA(x)=w\u02d9x\u2212b\u03d5PA(x)=w\u02d9x\u2212b{\\phi_{PA}(\\bf{x}) = \\bf{w} \\dot \\bf{x} - \\bf{b}\n}\nKernelized PA\u3067\u306f\u30e2\u30c7\u30eb\u306f\u4e0b\u8a18\u3067\u8868\u3055\u308c\u307e\u3059\u3002\n\\phi_{KPA} ( \\bf{x} ) = \\sum_{i} \\alpha_{i} K(\\bf{x}, \\bf{x_i})\n\u03d5KPA(x)=\u2211i\u03b1iK(x,xi){\\phi_{KPA} ( \\bf{x} ) = \\sum_{i} \\alpha_{i} K(\\bf{x}, \\bf{x_i})\n}\nxi\\bf{x_i}\u306f\u30b5\u30dd\u30fc\u30c8\u30d9\u30af\u30c8\u30eb\u3002KK\u306f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3002\u03b1\\alpha\u304c\u5b66\u7fd2\u3059\u3079\u304d\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306a\u308a\u307e\u3059\u3002Kernel SVM\u3068\u540c\u3058\u3088\u3046\u306b\u30b5\u30f3\u30d7\u30eb\u3092\u3088\u308a\u9ad8\u6b21\u5143\u3078\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u3066\u6697\u306b\u8a08\u7b97\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u7dda\u5f62\u30e2\u30c7\u30eb\u3088\u308a\u3082\u8868\u73fe\u529b\u306e\u9ad8\u3044\u30e2\u30c7\u30eb\u306b\u306a\u308a\u307e\u3059\u3002\nHivemall\u306e\u5b9f\u88c5\u3067\u306f\u3053\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u591a\u9805\u5f0f\u30ab\u30fc\u30cd\u30eb\u306e\u307f\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nK(\\bf{x}, \\bf{x_i}) = (\\bf{x} \\dot \\bf{x_i} + c)^d\nK(x,xi)=(x\u02d9xi+c)d{K(\\bf{x}, \\bf{x_i}) = (\\bf{x} \\dot \\bf{x_i} + c)^d\n}\n\u307b\u307cKernel SVM\u3068\u540c\u3058\u3088\u3046\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306a\u306e\u3067\u3059\u304c\u3001\n\n\u5206\u985e\u306b\u5931\u6557\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u306e\u307f\u30d1\u30e9\u30e1\u30bf\u03b1\\alpha\u3092\u66f4\u65b0\n\n    protected void updateKernel(final float label, \n      final float loss, final PredictionResult margin,\n            FeatureValue[] features) {\n        if (loss > 0.f) { // y * p < 1\n            float eta = pa1 ? eta1(loss, margin) : pa2 ? eta2(loss, margin) : eta(loss, margin);\n            float diff = eta * label;\n            alpha.add(diff);\n        } else {\n           // \u4e88\u6e2c\u306b\u306f\u4f7f\u308f\u306a\u3044\n            alpha.add(0.f);\n        }\n    }\n\n\u3068\u3044\u3046\u70b9\u304c\u7279\u5fb4\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u5b9f\u88c5\u306fPR 13\u3067under review\u3067\u3059\u3002\nref: Spring 2016 Intern at Treasure Data\n\nNew Optimizer system\n\u4eca\u307e\u3067\u306eHivemall\u3067\u306f\u5206\u985e\u306e\u305f\u3081\u306eUDF\u3068\u30d1\u30e9\u30e1\u30bf\u306e\u6700\u9069\u5316\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u5bc6\u7d50\u5408\u3057\u3066\u3044\u3066\u3001\u6700\u9069\u5316\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u67d4\u8edf\u306b\u5909\u66f4\u3057\u305f\u308a\u3001\u3042\u308b\u3044\u306f\u8907\u6570\u306eUDF\u3067\u5171\u6709\u3057\u305f\u308a\u3068\u3044\u3046\u306e\u304c\u96e3\u3057\u304f\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u3002\u305d\u3053\u3067\u3053\u308c\u3092\u5206\u96e2\u3057\u3066\u4f7f\u3044\u3084\u3059\u304f\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u306e\u304c\u4e0b\u8a18\u306ePR\u306b\u306a\u308a\u307e\u3059\u3002\nPR 14\nOptimizer\u30af\u30e9\u30b9\u306f\u4e0b\u8a18\u306eAPI\u3092\u6301\u3061\u307e\u3059\u3002\n public interface Optimizer {\n\n    /**\n     * Update the weights of models thru this interface.\n     */\n    float computeUpdatedValue(@Nonnull Object feature, float weight, float gradient);\n\n    // Count up #step to tune learning rate\n    void proceedStep();\n\n}\n\ncomputeUpdatedValue\u3067\u306ffeature\u3068\u305d\u308c\u306b\u5bfe\u5fdc\u3059\u308b\u30e2\u30c7\u30eb\u306e\u91cd\u307f\u30d1\u30e9\u30e1\u30bf\u3001\u305d\u3057\u3066\u305d\u306e\u52fe\u914d\u3092\u53d7\u53d6\u308a\u3001\u66f4\u65b0\u5f8c\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002Hivemall\u3067\u306f\u7279\u5fb4\u306fFeatureValue\u3068\u3044\u3046\u30af\u30e9\u30b9\u3067\u8868\u73fe\u3055\u308c\u3066\u304a\u308a\u3001\u7279\u5fb4\u304b\u3089\u305d\u306e\u5024\u3078\u306eKey-Value\u30da\u30a2\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002feature\u306f\u3053\u306e\u30ad\u30fc\u306e\u65b9\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002proceedStep\u306f\u5b66\u7fd2\u7387\u306e\u8abf\u6574\u3092\u884c\u3046\u305f\u3081\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u3072\u3068\u3064\u9032\u3081\u307e\u3059\u3002\n\u3053\u306e\u30af\u30e9\u30b9\u306f\u5206\u985e\u554f\u984c\u3001\u56de\u5e30\u554f\u984c\u7528\u306e\u5404\u62bd\u8c61\u30af\u30e9\u30b9(GeneralClassifierUDTF, GeneralRegressionUDTF)\u306e\u4e2d\u3067\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\n// \u7279\u5fb4\u3092\u53d6\u5f97\nObject feature = f.getFeature();\n// \u305d\u306e\u7279\u5fb4\u306e\u5024\u3092\u53d6\u5f97\nfloat xi = f.getValueAsFloat();\n// \u305d\u306e\u7279\u5fb4\u306b\u5bfe\u5fdc\u3059\u308b\u30e2\u30c7\u30eb\u30d1\u30e9\u30e1\u30bf\u306e\u73fe\u5728\u5730\u3092\u53d6\u5f97\nfloat weight = model.getWeight(feature);\n// \u6b21\u306e\u5024\u3092\u8a08\u7b97\u3002\u3053\u3053\u3067`Optimizer`\u3092\u4f7f\u3046\nfloat new_weight = optimizerImpl.computeUpdatedValue(feature, weight, -label * xi);\nmodel.setWeight(feature, new_weight);\n\n\u3053\u306eOptimizer\u306f\u73fe\u5728\n\nStochastic Gradient Descent\nAdaDelta\nAdaGrad\nAdam\n\n\u306e4\u7a2e\u985e\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u304cUDF\u3068\u3057\u3066\u30e6\u30fc\u30b6\u304b\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u5229\u7528\u3067\u304d\u308b\u306e\u306fAdaGrad\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u4eca\u5f8c\u5897\u3084\u3057\u3066\u884c\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nSystem Test Framework\nHive UDF\u306e\u30c6\u30b9\u30c8\u306f\u304d\u3061\u3093\u3068\u3084\u308d\u3046\u3068\u3059\u308b\u3068Hadoop\u306e\u74b0\u5883\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3092\u8d70\u3089\u305b\u3088\u3046\u3068\u601d\u3046\u3068\u7d50\u69cb\u305f\u3044\u3078\u3093\u3067\u3057\u305f\u3002\u3088\u308a\u7c21\u5358\u306b\u5b9f\u74b0\u5883\u306b\u8fd1\u3044\u5f62\u3067\u30c6\u30b9\u30c8\u3092\u53ef\u80fd\u306b\u3057\u305f\u306e\u304cSystem Test Framework\u3067\u3059\u3002\u3053\u306eSystem Test Framework\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306bRunner\u3068Team\u3068\u3044\u3046\u3082\u306e\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002Runner\u306f\u30c6\u30b9\u30c8\u3092\u8d70\u3089\u305b\u308b\u74b0\u5883\u3001Team\u304c\u305d\u306e\u4e0a\u3067\u8d70\u308b\u30c6\u30b9\u30c8\u30b9\u30a4\u30fc\u30c8\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002Runner\u3068\u3057\u3066\u73fe\u5728\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u306f\u4e0b\u8a18\u306e2\u3064\u3067\u3059\u3002\n\nHiveSystemTestRunner: Hive UDF\u7528\u306e\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af HiveRunner\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\nTDSystemTestRunner: Treasure Data Service\u306e\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\nHiveSystemTestRunner\u304c\u4e3b\u306b\u30ed\u30fc\u30ab\u30eb\u3067\u306e\u30c6\u30b9\u30c8\u7528\u3001TDSystemTestRunner\u304c\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u3067\u3042\u308bTreasure Data\u4e0a\u3067\u306e\u78ba\u8a8d\u7528\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002\n\u4f7f\u3044\u65b9\u3068\u3057\u3066\u4f8b\u3048\u3070\u4e0b\u8a18\u306e\u3088\u3046\u306bRunner\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u306fHiveSystemTestRunner\u3067\u3059\u3002\n    @ClassRule\n    public static HiveSystemTestRunner hRunner = new HiveSystemTestRunner(ci) {\n        {\n            // \u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n            initBy(HQ.uploadByResourcePathAsNewTable(\"color\", ci.initDir + \"color.tsv\",\n                    new LinkedHashMap<String, String>() {\n                        {\n                            put(\"name\", \"string\");\n                            put(\"red\", \"int\");\n                            put(\"green\", \"int\");\n                            put(\"blue\", \"int\");\n                        }\n                    })); // create table `color`, which is marked as immutable, for this test class\n\n            // \u30c6\u30b9\u30c8\u306b\u5fc5\u8981\u306aUDF\u3001\u95a2\u6570\u3092\u3053\u3053\u3067\u767b\u9332\u3057\u307e\u3059\u3002\n            initBy(HQ.fromStatement(\"CREATE TEMPORARY FUNCTION hivemall_version as 'hivemall.HivemallVersionUDF'\"));\n        }\n    };\n\n\u6b21\u306b\u3053\u306eRunner\u3092team\u306b\u8ffd\u52a0\u3057\u3066\u3001\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n// \u30c7\u30d5\u30a9\u30eb\u30c8\u306eRunner\u3068\u3057\u3066\u5148\u7a0b\u306eHiveSystemTestRunner\u3092\u8ffd\u52a0\n@Rule\npublic SystemTestTeam team = new SystemTestTeam(hRunner); \n\n@Test\npublic void test0() throws Exception {\n    team.add(otherRunner); // \u5fc5\u8981\u3067\u3042\u308c\u3070\u4ed6\u306eRunner\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\n    // \u30c6\u30b9\u30c8\u30af\u30a8\u30ea\u3068expectation\u3092\u30bb\u30c3\u30c8\n    team.set(HQ.fromStatement(\"SELECT name FROM color WHERE blue = 255 ORDER BY name\"), \"azure\\tblue\\tmagenta\", true);\n    // \u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u691c\u8a3c\u3059\u308b\n    team.run(); \n}\n\n\u3053\u308c\u3060\u3051\u3067Hivemall UDF\u306e\u30c6\u30b9\u30c8\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u958b\u767a\u304c\u3088\u308a\u7c21\u5358\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u306fTreasure Data\u590f\u306e\u30a4\u30f3\u30bf\u30fc\u30f3\u6765\u3066\u304f\u308c\u3066\u3044\u305famaya382\u3055\u3093\u304c\u958b\u767a\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\nsee: PR 12\n\n\u305d\u306e\u4ed6\n\u3053\u306e\u4ed6\u306e\u65b0\u6a5f\u80fd\u3082\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nSST based Change finder\nSingular Spectrum Transformation\u3092\u4f7f\u3063\u305fChange finder\u3067\u3059\u3002Anomaly Detection\u306a\u3069\u306b\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3082Treasure Data\u590f\u306e\u30a4\u30f3\u30bf\u30fc\u30f3\u306b\u6765\u3066\u304f\u308c\u3066\u3044\u305ftakuti\u3055\u3093\u304c\u958b\u767a\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\nsee: PR 11\n\nFeature binning, Onehot encoding\nFeature Transformation\u306e\u3072\u3068\u3064\u3068\u3057\u3066Feature Binning\u3068Onehot Encoding\u304c\u5b9f\u88c5\u3055\u308c\u307e\u3057\u305f\u3002\nFeature Binning\u306f\u9023\u7d9a\u7684\u306a\u7279\u5fb4\u3092\u4e88\u3081\u5b9a\u7fa9\u3055\u308c\u305f\u7bc4\u56f2\u306e\u4e0b\u3067\u30e9\u30d9\u30eb\u5024\u306b\u5909\u63db\u3059\u308bUDF\u3067\u3059\u3002\nOnehot Encoding\u306f\u30e9\u30d9\u30eb\u7279\u5fb4\u91cf\u3092one-of-k\u7b26\u53f7\u5316\u30672\u5024\u30d9\u30af\u30c8\u30eb\u306b\u5909\u63db\u3059\u308bUDF\u3067\u3059\u3002\nsee: Implement feature binning (#322)\nsee: Onehot encoding (#357)\n\nBinary responses measures for item recommendation\n\u4e3b\u306b\u30ec\u30b3\u30e1\u30f3\u30c7\u30fc\u30b7\u30e7\u30f3\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u8a55\u4fa1\u3059\u308b\u305f\u3081\u306emetrics\u304c\u5e7e\u3064\u304b\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\nPrecision\nRecall\nMRR(Mean Reciprocal Rank)\nMAP(Mean Average Precision)\nAUC(Area under the ROC curve)\n\nsee: Implemented UDAFs of the additional binary responses measures\n\n\u307e\u3068\u3081\n\u5927\u4e8b\u306a\u3053\u3068\u3067\u3059\u304c\u3001\u3053\u3053\u3067\u7d39\u4ecb\u3057\u305f\u6a5f\u80fd\u306f\u30ea\u30ea\u30fc\u30b9\u6642\u306b\u306f\u5b9f\u88c5\u3001\u4f7f\u3044\u65b9\u542b\u3081\u3066\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u5229\u7528\u3055\u308c\u308b\u5834\u5408\u306f\u6539\u3081\u3066User Guide\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\u307e\u305fHivemall\u306fApache Incubator\u306b\u306a\u308a\u4e00\u5c64User, Developer\u304b\u3089\u306efeedback, contribution\u3092\u6b53\u8fce\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u662f\u975eMailing List, JIRA\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u53c2\u7167\n\nApache Hivemall site\nApache Hivemall JIRA\nApache Hivemall Mailing List\nApache Hivemall User Guide\n\"Real-world Machine Learning\" by takuti\n\"Internship final report\" by amaya382\n\n\u3053\u306e\u8a18\u4e8b\u306f[Machine Learning Advent Calendar](http://qiita.com/advent-calendar/2016/machine-learning)19\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\nHivemall\u304cApache Incubation\u5165\u308a\u3057\u305f\u8a71\u3068\u3001\u6765\u5e74\u30ea\u30ea\u30fc\u30b9\u4e88\u5b9a\u306e\u65b0\u6a5f\u80fd\u306b\u95a2\u3057\u3066\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u795d Apache Incubator!\n\n<img width=\"734\" alt=\"Screen Shot 2016-12-18 at 16.43.08.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/7129/ed96c6c1-dcb3-f7ba-9159-0aadfe6b7a09.png\">\n\n\n\u307e\u305a\u4eca\u5e74\u306fHivemall\u304cApache Incubation project\u306b\u9078\u3070\u308c\u307e\u3057\u305f\u3002:congratulations:\n\n[\u6a5f\u68b0\u5b66\u7fd2\u30e9\u30a4\u30d6\u30e9\u30eaHivemall\u304c\u7c73\u56fdApache\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u8ca1\u56e3\u306e\u80b2\u6210\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u8a8d\u5b9a](https://www.treasuredata.com/press_release_jp/20161208_apache_hivemall/)\n\n\u65e5\u672c\u767a\u306eOSS\u3068\u3057\u3066\u306f\u521d\u3081\u3066\u306e\u3053\u3068\u3089\u3057\u3044\u3067\u3059\u3002Hivemall\u306fHadoop\u3084Spark\u4e0a\u3067\u52d5\u4f5c\u3059\u308bUDF\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u3066\u3001\u6a5f\u68b0\u5b66\u7fd2\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3060\u3051\u3067\u306a\u304ffeature engineering\u3084\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u3001\u66f4\u306b\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u30b5\u30fc\u30d0(mix server)\u306e\u5b9f\u88c5\u306a\u3069\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u6a5f\u80fd\u3082\u8c4a\u5bcc\u306aHivemall\u3067\u3059\u304c\u3001\u4ed6\u306e\u6a5f\u68b0\u5b66\u7fd2\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u6bd4\u8f03\u3057\u3066\u7279\u5fb4\u3065\u3051\u3089\u308c\u308b\u3082\u306e\u3068\u3057\u3066\u4ee5\u4e0b\u306e\uff12\u70b9\u304c\u3042\u3052\u3089\u308c\u307e\u3059\u3002\n\n* SQL\u30af\u30a8\u30ea\u3067\u5b9f\u884c\u3067\u304d\u308b\u305f\u3081\u65b0\u3057\u3044syntax\u3084\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u899a\u3048\u308b\u5fc5\u8981\u304c\u306a\u3044\n* Hadoop\u3084Spark\u306a\u3069\u65e2\u5b58\u306e\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u4e0a\u3067\u52d5\u4f5c\u3059\u308b\n\n\u3053\u3046\u3044\u3063\u305f\u70b9\u3082\u8a55\u4fa1\u3055\u308c\u3066Incubation\u5165\u308a\u3092\u679c\u305f\u3057\u307e\u3057\u305f\u3002Apache Incubator\u306f\u30c8\u30c3\u30d7\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3078\u306e\u6607\u683c\u306e\u305f\u3081\u306e\u767b\u7adc\u9580\u3068\u3044\u3046\u4f4d\u7f6e\u3065\u3051\u306a\u306e\u3067\u3001\u3053\u308c\u304b\u3089\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3092\u62e1\u5927\u3055\u305b\u305f\u308a\u3001\u958b\u767a\u3092\u52a0\u901f\u3055\u305b\u308b\u3053\u3068\u3067\u30c8\u30c3\u30d7\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5165\u308a\u3092\u76ee\u6307\u3057\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u305d\u3093\u306aHivemall\u3067\u3059\u304c\u3001\u6765\u5e74\u306e\u65e9\u3044\u6642\u671f\u306bIncubator\u5f8c\u6700\u521d\u306e\u30ea\u30ea\u30fc\u30b9\u3092\u4e88\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u6b21\u306e\u30ea\u30ea\u30fc\u30b9\u3067\u4e88\u5b9a\u3055\u308c\u3066\u3044\u308b\u6a5f\u80fd\u306e\u3044\u304f\u3064\u304b\u3092\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u307e\u3060under review\u306a\u3082\u306e\u3082\u542b\u307e\u308c\u307e\u3059\u306e\u3067\u3001\u8a73\u7d30\u306f\u30ea\u30ea\u30fc\u30b9\u6642\u3068\u7570\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u96f0\u56f2\u6c17\u3060\u3051\u8aad\u3093\u3067\u3044\u305f\u3060\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n# Docs & Resources\n\n\u307e\u305a[Hivemall\u306e\u30b5\u30a4\u30c8](http://hivemall.incubator.apache.org/), [GitHub\u30ea\u30dd\u30b8\u30c8\u30ea](https://github.com/apache/incubator-hivemall)\u304c\u65b0\u3057\u304f\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306fIncubation\u306b\u4f34\u3063\u305f\u3082\u306e\u3067\u3059\u304c\u3001[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://hivemall.incubator.apache.org/userguide/index.html)\u3082\u898b\u3084\u3059\u304f\u306a\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u4eca\u5f8c\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n[\u4f7f\u3044\u65b9](http://hivemall.incubator.apache.org/userguide/getting_started/installation.html)\u306f\u4eca\u307e\u3067\u5909\u308f\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u4eca\u307e\u3067\u306e\u30ea\u30ea\u30fc\u30b9\u306f[GitHub releases](https://github.com/myui/hivemall/releases)\u306b\u3042\u308a\u3001\u3053\u308c\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066Hive console\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306bjar\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nadd jar /home/myui/tmp/hivemall-core-xxx-with-dependencies.jar;\nsource /home/myui/tmp/define-all.hive;\n```\n\n\u3082\u3057\u81ea\u524d\u3067\u30d3\u30eb\u30c9\u3057\u305f\u3082\u306e\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u3001[\u30d3\u30eb\u30c9\u624b\u9806](http://hivemall.incubator.apache.org/contributing.html)\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\uff0e\n\n```bash\n# This is a workaround for resolving xgboost dependencies.\n$ mvn validate -Pxgboost\n \n$ mvn clean package\n```\n\n\u30b5\u30a4\u30c8\u306e\u30ea\u30bd\u30fc\u30b9\u306f[\u30ea\u30dd\u30b8\u30c8\u30ea\u306esrc/site](https://github.com/apache/incubator-hivemall/tree/master/src/site)\u306b\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u52a0\u7b46\u4fee\u6b63\u5fc5\u8981\u306a\u7b87\u6240\u898b\u3064\u3051\u307e\u3057\u305f\u3089Pull Request\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n# Kernelized Passive Aggressive\n\nTreasure Data\u6625\u306e\u30a4\u30f3\u30bf\u30fc\u30f3\u3067\u6765\u3066\u304f\u308c\u305f\u3000[L3Sota](https://github.com/L3Sota)\u3055\u3093\u304c\u958b\u767a\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\nPassive Aggressive\u3092\u4f7f\u3063\u305fregressor, classifier\u306f\u65e2\u306bHivemall\u306b\u306f\u3042\u3063\u305f\u306e\u3067\u3059\u304c\u3001Kernelized Passive Aggressive\u306f\u4e88\u6e2c\u30b9\u30b3\u30a2\u3092\u8a08\u7b97\u3059\u308b\u3068\u304d\u306b\u30e2\u30c7\u30eb\u30d1\u30e9\u30e1\u30bf\u3068\u306e\u7a4d\u3067\u306f\u306a\u304f\u3001\u5404\u30b5\u30dd\u30fc\u30c8\u30d9\u30af\u30c8\u30eb\u3068\u306e\u8ddd\u96e2\u3092\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u4f7f\u3063\u3066\u8a08\u7b97\u3057\u307e\u3059\u3002\n\nPassive Aggressive\u306f\u4e0b\u8a18\u306e\u30e2\u30c7\u30eb\u3067\u8868\u73fe\u3055\u308c\u308b$\\bf{w}$\u3092\u6700\u9069\u5316\u3059\u308b\u3088\u3046\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3059\u304c\n\n```math\n\\phi_{PA}(\\bf{x}) = \\bf{w} \\dot \\bf{x} - \\bf{b}\n```\n\nKernelized PA\u3067\u306f\u30e2\u30c7\u30eb\u306f\u4e0b\u8a18\u3067\u8868\u3055\u308c\u307e\u3059\u3002\n\n```math\n\\phi_{KPA} ( \\bf{x} ) = \\sum_{i} \\alpha_{i} K(\\bf{x}, \\bf{x_i})\n```\n\n$\\bf{x_i}$\u306f\u30b5\u30dd\u30fc\u30c8\u30d9\u30af\u30c8\u30eb\u3002$K$\u306f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3002$\\alpha$\u304c\u5b66\u7fd2\u3059\u3079\u304d\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306a\u308a\u307e\u3059\u3002Kernel SVM\u3068\u540c\u3058\u3088\u3046\u306b\u30b5\u30f3\u30d7\u30eb\u3092\u3088\u308a\u9ad8\u6b21\u5143\u3078\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u3066\u6697\u306b\u8a08\u7b97\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u7dda\u5f62\u30e2\u30c7\u30eb\u3088\u308a\u3082\u8868\u73fe\u529b\u306e\u9ad8\u3044\u30e2\u30c7\u30eb\u306b\u306a\u308a\u307e\u3059\u3002\n\nHivemall\u306e\u5b9f\u88c5\u3067\u306f\u3053\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u591a\u9805\u5f0f\u30ab\u30fc\u30cd\u30eb\u306e\u307f\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```math\nK(\\bf{x}, \\bf{x_i}) = (\\bf{x} \\dot \\bf{x_i} + c)^d\n```\n\n\u307b\u307cKernel SVM\u3068\u540c\u3058\u3088\u3046\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306a\u306e\u3067\u3059\u304c\u3001\n\n* \u5206\u985e\u306b\u5931\u6557\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u306e\u307f\u30d1\u30e9\u30e1\u30bf$\\alpha$\u3092\u66f4\u65b0\n\n```java\n    protected void updateKernel(final float label, \n      final float loss, final PredictionResult margin,\n            FeatureValue[] features) {\n        if (loss > 0.f) { // y * p < 1\n            float eta = pa1 ? eta1(loss, margin) : pa2 ? eta2(loss, margin) : eta(loss, margin);\n            float diff = eta * label;\n            alpha.add(diff);\n        } else {\n           // \u4e88\u6e2c\u306b\u306f\u4f7f\u308f\u306a\u3044\n            alpha.add(0.f);\n        }\n    }\n```\n\n\u3068\u3044\u3046\u70b9\u304c\u7279\u5fb4\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u5b9f\u88c5\u306f[PR 13](https://github.com/apache/incubator-hivemall/pull/13)\u3067under review\u3067\u3059\u3002\n\nref: [Spring 2016 Intern at Treasure Data](http://www.slideshare.net/SotaroSugimoto/spring-2016-intern-at-treasure-data)\n\n# New Optimizer system\n\n\u4eca\u307e\u3067\u306eHivemall\u3067\u306f\u5206\u985e\u306e\u305f\u3081\u306eUDF\u3068\u30d1\u30e9\u30e1\u30bf\u306e\u6700\u9069\u5316\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u5bc6\u7d50\u5408\u3057\u3066\u3044\u3066\u3001\u6700\u9069\u5316\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u67d4\u8edf\u306b\u5909\u66f4\u3057\u305f\u308a\u3001\u3042\u308b\u3044\u306f\u8907\u6570\u306eUDF\u3067\u5171\u6709\u3057\u305f\u308a\u3068\u3044\u3046\u306e\u304c\u96e3\u3057\u304f\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u3002\u305d\u3053\u3067\u3053\u308c\u3092\u5206\u96e2\u3057\u3066\u4f7f\u3044\u3084\u3059\u304f\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u306e\u304c\u4e0b\u8a18\u306ePR\u306b\u306a\u308a\u307e\u3059\u3002\n\n[PR 14](https://github.com/apache/incubator-hivemall/pull/14)\n\n`Optimizer`\u30af\u30e9\u30b9\u306f\u4e0b\u8a18\u306eAPI\u3092\u6301\u3061\u307e\u3059\u3002\n\n```java\n public interface Optimizer {\n\n    /**\n     * Update the weights of models thru this interface.\n     */\n    float computeUpdatedValue(@Nonnull Object feature, float weight, float gradient);\n\n    // Count up #step to tune learning rate\n    void proceedStep();\n\n}\n```\n\n`computeUpdatedValue`\u3067\u306f`feature`\u3068\u305d\u308c\u306b\u5bfe\u5fdc\u3059\u308b\u30e2\u30c7\u30eb\u306e\u91cd\u307f\u30d1\u30e9\u30e1\u30bf\u3001\u305d\u3057\u3066\u305d\u306e\u52fe\u914d\u3092\u53d7\u53d6\u308a\u3001\u66f4\u65b0\u5f8c\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002Hivemall\u3067\u306f\u7279\u5fb4\u306f`FeatureValue`\u3068\u3044\u3046\u30af\u30e9\u30b9\u3067\u8868\u73fe\u3055\u308c\u3066\u304a\u308a\u3001\u7279\u5fb4\u304b\u3089\u305d\u306e\u5024\u3078\u306eKey-Value\u30da\u30a2\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002`feature`\u306f\u3053\u306e\u30ad\u30fc\u306e\u65b9\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002`proceedStep`\u306f\u5b66\u7fd2\u7387\u306e\u8abf\u6574\u3092\u884c\u3046\u305f\u3081\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u3072\u3068\u3064\u9032\u3081\u307e\u3059\u3002\n\n\u3053\u306e\u30af\u30e9\u30b9\u306f\u5206\u985e\u554f\u984c\u3001\u56de\u5e30\u554f\u984c\u7528\u306e\u5404\u62bd\u8c61\u30af\u30e9\u30b9(`GeneralClassifierUDTF`, `GeneralRegressionUDTF`)\u306e\u4e2d\u3067\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002\n\n```java\n// \u7279\u5fb4\u3092\u53d6\u5f97\nObject feature = f.getFeature();\n// \u305d\u306e\u7279\u5fb4\u306e\u5024\u3092\u53d6\u5f97\nfloat xi = f.getValueAsFloat();\n// \u305d\u306e\u7279\u5fb4\u306b\u5bfe\u5fdc\u3059\u308b\u30e2\u30c7\u30eb\u30d1\u30e9\u30e1\u30bf\u306e\u73fe\u5728\u5730\u3092\u53d6\u5f97\nfloat weight = model.getWeight(feature);\n// \u6b21\u306e\u5024\u3092\u8a08\u7b97\u3002\u3053\u3053\u3067`Optimizer`\u3092\u4f7f\u3046\nfloat new_weight = optimizerImpl.computeUpdatedValue(feature, weight, -label * xi);\nmodel.setWeight(feature, new_weight);\n```\n\n\u3053\u306e`Optimizer`\u306f\u73fe\u5728\n\n* Stochastic Gradient Descent\n* AdaDelta\n* AdaGrad\n* Adam\n\n\u306e4\u7a2e\u985e\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u304cUDF\u3068\u3057\u3066\u30e6\u30fc\u30b6\u304b\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u5229\u7528\u3067\u304d\u308b\u306e\u306fAdaGrad\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u4eca\u5f8c\u5897\u3084\u3057\u3066\u884c\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n# System Test Framework\n\nHive UDF\u306e\u30c6\u30b9\u30c8\u306f\u304d\u3061\u3093\u3068\u3084\u308d\u3046\u3068\u3059\u308b\u3068Hadoop\u306e\u74b0\u5883\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3092\u8d70\u3089\u305b\u3088\u3046\u3068\u601d\u3046\u3068\u7d50\u69cb\u305f\u3044\u3078\u3093\u3067\u3057\u305f\u3002\u3088\u308a\u7c21\u5358\u306b\u5b9f\u74b0\u5883\u306b\u8fd1\u3044\u5f62\u3067\u30c6\u30b9\u30c8\u3092\u53ef\u80fd\u306b\u3057\u305f\u306e\u304cSystem Test Framework\u3067\u3059\u3002\u3053\u306eSystem Test Framework\u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306bRunner\u3068Team\u3068\u3044\u3046\u3082\u306e\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002Runner\u306f\u30c6\u30b9\u30c8\u3092\u8d70\u3089\u305b\u308b\u74b0\u5883\u3001Team\u304c\u305d\u306e\u4e0a\u3067\u8d70\u308b\u30c6\u30b9\u30c8\u30b9\u30a4\u30fc\u30c8\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002Runner\u3068\u3057\u3066\u73fe\u5728\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u306f\u4e0b\u8a18\u306e2\u3064\u3067\u3059\u3002\n\n* HiveSystemTestRunner: Hive UDF\u7528\u306e\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af [HiveRunner](https://github.com/klarna/HiveRunner)\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\n* TDSystemTestRunner: Treasure Data Service\u306e\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\nHiveSystemTestRunner\u304c\u4e3b\u306b\u30ed\u30fc\u30ab\u30eb\u3067\u306e\u30c6\u30b9\u30c8\u7528\u3001TDSystemTestRunner\u304c\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u3067\u3042\u308bTreasure Data\u4e0a\u3067\u306e\u78ba\u8a8d\u7528\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002\n\n\u4f7f\u3044\u65b9\u3068\u3057\u3066\u4f8b\u3048\u3070\u4e0b\u8a18\u306e\u3088\u3046\u306bRunner\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u306fHiveSystemTestRunner\u3067\u3059\u3002\n\n```\n    @ClassRule\n    public static HiveSystemTestRunner hRunner = new HiveSystemTestRunner(ci) {\n        {\n            // \u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n            initBy(HQ.uploadByResourcePathAsNewTable(\"color\", ci.initDir + \"color.tsv\",\n                    new LinkedHashMap<String, String>() {\n                        {\n                            put(\"name\", \"string\");\n                            put(\"red\", \"int\");\n                            put(\"green\", \"int\");\n                            put(\"blue\", \"int\");\n                        }\n                    })); // create table `color`, which is marked as immutable, for this test class\n                    \n            // \u30c6\u30b9\u30c8\u306b\u5fc5\u8981\u306aUDF\u3001\u95a2\u6570\u3092\u3053\u3053\u3067\u767b\u9332\u3057\u307e\u3059\u3002\n            initBy(HQ.fromStatement(\"CREATE TEMPORARY FUNCTION hivemall_version as 'hivemall.HivemallVersionUDF'\"));\n        }\n    };\n```\n\n\u6b21\u306b\u3053\u306eRunner\u3092team\u306b\u8ffd\u52a0\u3057\u3066\u3001\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```java\n// \u30c7\u30d5\u30a9\u30eb\u30c8\u306eRunner\u3068\u3057\u3066\u5148\u7a0b\u306eHiveSystemTestRunner\u3092\u8ffd\u52a0\n@Rule\npublic SystemTestTeam team = new SystemTestTeam(hRunner); \n\n@Test\npublic void test0() throws Exception {\n    team.add(otherRunner); // \u5fc5\u8981\u3067\u3042\u308c\u3070\u4ed6\u306eRunner\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\n    // \u30c6\u30b9\u30c8\u30af\u30a8\u30ea\u3068expectation\u3092\u30bb\u30c3\u30c8\n    team.set(HQ.fromStatement(\"SELECT name FROM color WHERE blue = 255 ORDER BY name\"), \"azure\\tblue\\tmagenta\", true);\n    // \u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u691c\u8a3c\u3059\u308b\n    team.run(); \n}\n```\n\n\u3053\u308c\u3060\u3051\u3067Hivemall UDF\u306e\u30c6\u30b9\u30c8\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u958b\u767a\u304c\u3088\u308a\u7c21\u5358\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u306fTreasure Data\u590f\u306e\u30a4\u30f3\u30bf\u30fc\u30f3\u6765\u3066\u304f\u308c\u3066\u3044\u305f[amaya382\u3055\u3093](https://github.com/amaya382)\u304c\u958b\u767a\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n\nsee: [PR 12](https://github.com/apache/incubator-hivemall/pull/12)\n\n# \u305d\u306e\u4ed6\n\n\u3053\u306e\u4ed6\u306e\u65b0\u6a5f\u80fd\u3082\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n## SST based Change finder\n\nSingular Spectrum Transformation\u3092\u4f7f\u3063\u305fChange finder\u3067\u3059\u3002Anomaly Detection\u306a\u3069\u306b\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3082Treasure Data\u590f\u306e\u30a4\u30f3\u30bf\u30fc\u30f3\u306b\u6765\u3066\u304f\u308c\u3066\u3044\u305f[takuti](https://github.com/takuti)\u3055\u3093\u304c\u958b\u767a\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n\nsee: [PR 11](https://github.com/apache/incubator-hivemall/pull/11)\n\n## Feature binning, Onehot encoding\n\nFeature Transformation\u306e\u3072\u3068\u3064\u3068\u3057\u3066Feature Binning\u3068Onehot Encoding\u304c\u5b9f\u88c5\u3055\u308c\u307e\u3057\u305f\u3002\n\nFeature Binning\u306f\u9023\u7d9a\u7684\u306a\u7279\u5fb4\u3092\u4e88\u3081\u5b9a\u7fa9\u3055\u308c\u305f\u7bc4\u56f2\u306e\u4e0b\u3067\u30e9\u30d9\u30eb\u5024\u306b\u5909\u63db\u3059\u308bUDF\u3067\u3059\u3002\nOnehot Encoding\u306f\u30e9\u30d9\u30eb\u7279\u5fb4\u91cf\u3092one-of-k\u7b26\u53f7\u5316\u30672\u5024\u30d9\u30af\u30c8\u30eb\u306b\u5909\u63db\u3059\u308bUDF\u3067\u3059\u3002\n\nsee: [Implement feature binning (#322)](https://github.com/apache/incubator-hivemall/commit/07729e17e6aafa1f5bc3ee23fd43fd61ef53fced)\nsee: [Onehot encoding (#357)](https://github.com/apache/incubator-hivemall/commit/ebdbb004b7e9fa1dadd6620a3483784d0b4edbcb)\n\n## Binary responses measures for item recommendation\n\n\u4e3b\u306b\u30ec\u30b3\u30e1\u30f3\u30c7\u30fc\u30b7\u30e7\u30f3\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u8a55\u4fa1\u3059\u308b\u305f\u3081\u306emetrics\u304c\u5e7e\u3064\u304b\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\n* Precision\n* Recall\n* MRR(Mean Reciprocal Rank)\n* MAP(Mean Average Precision)\n* AUC(Area under the ROC curve)\n\nsee: [Implemented UDAFs of the additional binary responses measures](https://github.com/apache/incubator-hivemall/commit/8b199f4b2c38af6d9bf3d14f3ddeb610c2883239)\n\n# \u307e\u3068\u3081\n\n\u5927\u4e8b\u306a\u3053\u3068\u3067\u3059\u304c\u3001\u3053\u3053\u3067\u7d39\u4ecb\u3057\u305f\u6a5f\u80fd\u306f\u30ea\u30ea\u30fc\u30b9\u6642\u306b\u306f**\u5b9f\u88c5\u3001\u4f7f\u3044\u65b9\u542b\u3081\u3066\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002**\u5229\u7528\u3055\u308c\u308b\u5834\u5408\u306f\u6539\u3081\u3066[User Guide](http://hivemall.incubator.apache.org/userguide/index.html)\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\u307e\u305fHivemall\u306fApache Incubator\u306b\u306a\u308a\u4e00\u5c64User, Developer\u304b\u3089\u306efeedback, contribution\u3092\u6b53\u8fce\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u662f\u975e[Mailing List](http://hivemall.incubator.apache.org/mail-lists.html), [JIRA](https://issues.apache.org/jira/browse/HIVEMALL/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel)\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n# \u53c2\u7167\n\n* [Apache Hivemall site](http://hivemall.incubator.apache.org/)\n* [Apache Hivemall JIRA](https://issues.apache.org/jira/browse/HIVEMALL)\n* [Apache Hivemall Mailing List](http://hivemall.incubator.apache.org/mail-lists.html)\n* [Apache Hivemall User Guide](http://hivemall.incubator.apache.org/userguide/index.html)\n* [\"Real-world Machine Learning\" by takuti](https://speakerdeck.com/takuti/treasure-data-summer-internship-2016)\n* [\"Internship final report\" by amaya382](http://www.slideshare.net/amaya_382/internship-final-reporttreasure-data-inc)\n\n\n\n\n\n\n", "tags": ["hivemall", "TreasureData", "hive", "MachineLearning"]}