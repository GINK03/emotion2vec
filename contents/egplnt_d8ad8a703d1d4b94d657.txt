{"context": "\u521d\u3081\u3066Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3001\u3068\u3044\u3046\u304b\u305f\u306e\u305f\u3081\u306e\u30ac\u30a4\u30c9\u3067\u3059\u3002\nWatson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b\u3067IoT\u30a2\u30d7\u30ea\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30ed\u30fc\u3067\u306f\u3001svg\u3067\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb-\uff11\uff1a\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\n\n\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3059\u308b\n[{\"id\":\"dce700e3.62a8d\",\"type\":\"function\",\"z\":\"aa507e14.56a818\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === \\\"restart\\\") {\\n    context.set(\\\"x0\\\",250);\\n    context.set(\\\"y0\\\",250);\\n}\\nvar x = context.get(\\\"x0\\\")||250;\\nvar y = context.get(\\\"y0\\\")||250;\\n\\n//var i = context.get(\\\"i0\\\")||0;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\n//xa = [100,120,140,160,180];\\n//ya = [100,120,140,160,180];\\n\\nvar x1 = Math.floor(Math.random () * 10) - 5;\\nvar y1 = Math.floor(Math.random () * 10) - 5;\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\n\\n/*i++\\nif ( i >= xa.length) { \\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n*/\\nx += x1;\\ncontext.set(\\\"x0\\\",x);\\ny += y1;\\ncontext.set(\\\"y0\\\",y);\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\nvar data = [[time],[x],[y],[temp],[humid]];\\n//var data = [[time],[x],[y],[temp],[humid]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":592,\"y\":252,\"wires\":[[]]},{\"id\":\"2f121138.c4a716\",\"type\":\"template\",\"z\":\"aa507e14.56a818\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n\u3000</head>\\n\u3000<body>\\n\\t\u3000\u3000<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t\\t\\t  <h1>\u4f4d\u7f6e\u306b\u3088\u308bIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t\\t\\t    <br />\\n\\t\\t\\t    <p>\\n\\t\\t\\t      IoT\u30c7\u30fc\u30bf\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t\\t\\t    </p>\\n\\t\\t\\t</div>\\n\\n\\n<div id='example'>\\n<svg id=\\\"svg.svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"500\\\" height=\\\"500\\\" viewBox=\\\"0 0 500 500\\\">\\n\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"0\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"500\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"500\\\" x2=\\\"500\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n\\n  <line x1=\\\"0\\\" y1=\\\"100\\\" x2=\\\"500\\\" y2=\\\"100\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"200\\\" x2=\\\"500\\\" y2=\\\"200\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"300\\\" x2=\\\"500\\\" y2=\\\"300\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"400\\\" x2=\\\"500\\\" y2=\\\"400\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <line x1=\\\"100\\\" y1=\\\"0\\\" x2=\\\"100\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"200\\\" y1=\\\"0\\\" x2=\\\"200\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"300\\\" y1=\\\"0\\\" x2=\\\"300\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"400\\\" y1=\\\"0\\\" x2=\\\"400\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <text id=\\\"t01\\\" x=\\\"70\\\" y=\\\"50\\\">\u30d3\u30fc\u30b3\u30f3\uff03\uff11</text>\\n  <text id=\\\"t02\\\" x=\\\"70\\\" y=\\\"70\\\" font-size=\\\"12\\\">\u6e29\u5ea6\u3001\u6e7f\u5ea6</text>\\n\\n  <circle id=\\\"c01\\\" cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"10\\\" fill=\\\"#98fb98\\\"></circle>\\n\\n</svg>\\n</div>\\n\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\n    <h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fcX\u5ea7\u6a19\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fcY\u5ea7\u6a19\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e29\u5ea6\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\u2103\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e7f\u5ea6\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output5\\\"></span>\uff05\\n\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n  <div class=\\\"category\\\">\u53c2\u8003URL</div>\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  <div class=\\\"category\\\">\u30de\u30cb\u30e5\u30a2\u30eb</div>\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n\\n<script>\\n\\nvar connection = new WebSocket('wss://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/wss/flow36');\\n\\nconnection.onopen = function () {\\n  console.log(\\\"websocket connected\\\");\\n};\\n\\n// Log errors\\nconnection.onerror = function (error) {\\n  console.log('WebSocket Error ' + error);\\n};\\n\\n// Log messages from the server\\nconnection.onmessage = function (m) {\\n  //console.log('Server: ' + m.data);\\n\\tdoIt(m);\\n};\\n\\n//function doIt\\nfunction doIt(msg){\\n  console.log(\\\"doit:\\\" + msg.data);\\n\\tvar msgs = JSON.parse(msg.data);\\n\\n\\t//\u5186\u8981\u7d20\u3092\u53d6\u5f97\u3057\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar c = document.querySelector('circle');\\n\\t(function(){\\n\\t\\tvar c0x = parseInt(msgs[1]);\\n\\t\\tvar c0y = parseInt(msgs[2]);\\n\\t  c.setAttribute('cx', c0x );\\n\\t\\tc.setAttribute('cy', c0y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u3092\u914d\u5217\u3067\u53d6\u5f97\u3057\u3001\u5404text\u3092\u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar t = document.querySelectorAll('text');\\n\\tvar t0x = parseInt(msgs[1]) + 20;\\n\\tvar t0y = parseInt(msgs[2]);\\n\\t(function(){\\n\\t  t[0].setAttribute('x', t0x );\\n\\t\\tt[0].setAttribute('y', t0y );\\n\\t})();\\n\\tvar t1x = parseInt(msgs[1]) + 20;\\n\\tvar t1y = parseInt(msgs[2]) + 20;\\n\\t(function(){\\n\\t  t[1].setAttribute('x', t1x );\\n\\t\\tt[1].setAttribute('y', t1y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u306e\u6587\u5b57\u5217\u3092\u5909\u66f4\\n\\tvar t2 = document.getElementById('t02');\\n\\t(function(){\\n\\t  t2.textContent=\\\"\u6e29\u5ea6:\\\" + msgs[3] + \\\"\u2103\u3001\u6e7f\u5ea6:\\\" + msgs[4] + \\\"\uff05\\\";\\n\\t})();\\n\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\t//for (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[3];\\n\\ttarget = document.getElementById(\\\"output5\\\");\\n\\ttarget.innerHTML = msgs[4];\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":436,\"y\":369,\"wires\":[[\"1a059c25.5d640c\"]]},{\"id\":\"80ecd37e.a6c348\",\"type\":\"inject\",\"z\":\"aa507e14.56a818\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":226,\"y\":209,\"wires\":[[\"29f85685.9b382a\"]]},{\"id\":\"b451edbc.a15f68\",\"type\":\"inject\",\"z\":\"aa507e14.56a818\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":226,\"y\":249,\"wires\":[[\"29f85685.9b382a\"]]},{\"id\":\"f1e8b8b3.89b388\",\"type\":\"debug\",\"z\":\"aa507e14.56a818\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":812,\"y\":212,\"wires\":[]},{\"id\":\"1c8e2b6d.5a0075\",\"type\":\"comment\",\"z\":\"aa507e14.56a818\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":316,\"y\":169,\"wires\":[]},{\"id\":\"8e750556.fb7e9\",\"type\":\"http in\",\"z\":\"aa507e14.56a818\",\"name\":\"\",\"url\":\"/test36\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":246,\"y\":369,\"wires\":[[\"2f121138.c4a716\"]]},{\"id\":\"1a059c25.5d640c\",\"type\":\"http response\",\"z\":\"aa507e14.56a818\",\"name\":\"\",\"x\":626,\"y\":369,\"wires\":[]},{\"id\":\"2ebdfbd5.32c384\",\"type\":\"comment\",\"z\":\"aa507e14.56a818\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\",\"info\":\"\",\"x\":316,\"y\":329,\"wires\":[]},{\"id\":\"29f85685.9b382a\",\"type\":\"function\",\"z\":\"aa507e14.56a818\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":396,\"y\":229,\"wires\":[[\"8083f8a9.e70ab\"]]},{\"id\":\"222ffd2.fe30482\",\"type\":\"debug\",\"z\":\"aa507e14.56a818\",\"name\":\"\u6642\u523b\u306e\u8868\u793a\",\"active\":false,\"console\":\"false\",\"complete\":\"date\",\"x\":832,\"y\":172,\"wires\":[]},{\"id\":\"93e4db17.f9dd78\",\"type\":\"websocket out\",\"z\":\"aa507e14.56a818\",\"name\":\"\",\"server\":\"a744f60f.bf473\",\"client\":\"\",\"x\":852,\"y\":252,\"wires\":[]},{\"id\":\"8083f8a9.e70ab\",\"type\":\"function\",\"z\":\"aa507e14.56a818\",\"name\":\"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\",\"func\":\"var i = context.get(\\\"i0\\\")||0;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nxa = [50,70,90,110,130,150,150,150,150,150,150,170,190,210,230,250,250,250,250,250,250,270,290,310,330,350,350,350,350,350,350,350,350,350,350,350,330,310,290,270,250,250,250,250,250,250,250,250,250,250,230,210,190,170,150,130,110, 90, 70, 50, 50, 50, 50, 50, 50, 70, 90,110,130,150,150,150,150,150,150,150,150,150,150,150,130,110, 90, 70, 50, 50, 50, 50, 50];\\nya = [50,50,50,50, 50, 50, 70, 90, 110,130,150,150,150,150,150,150,130,110, 90, 70, 50, 50, 50, 50, 50, 50, 70, 90,110,130,150,170,190,210,230,250,250,250,250,250,250,270,290,310,350,370,390,410,430,450,450,450,450,450,450,450,450,450,450,450,430,410,390,370,350,350,350,350,350,350,330,310,290,270,250,230,210,190,170,150,150,150,150,150,150,130,110, 90, 70];\\n\\nvar x = xa[i];\\nvar y = ya[i];\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\ni++;\\nif ( i >= xa.length) { \\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\nvar data = [[time],[x],[y],[temp],[humid]];\\n//var data = [[time],[x],[y],[temp],[humid]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":582,\"y\":212,\"wires\":[[\"93e4db17.f9dd78\",\"f1e8b8b3.89b388\"]]},{\"id\":\"a744f60f.bf473\",\"type\":\"websocket-listener\",\"z\":\"aa507e14.56a818\",\"path\":\"/wss/flow36\",\"wholemsg\":\"false\"}]\n\n\n\n\n\nNode-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n\u4e0b\u6bb5\u306e\u300cIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001101\u884c\u76ee\u306enew WebSocket('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow36');\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\nNode-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n\u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test36\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f/we/flow36\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb-2\uff1aArea/Far/Near/Immediate\u3092\u8868\u793a\u3057\u307e\u3059\n\nAra/Far/Near/Immediate\u3092\u8868\u793a\u3057\u307e\u3059\n[{\"id\":\"e4835546.4173f\",\"type\":\"function\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === \\\"restart\\\") {\\n    context.set(\\\"x0\\\",250);\\n    context.set(\\\"y0\\\",250);\\n}\\nvar x = context.get(\\\"x0\\\")||250;\\nvar y = context.get(\\\"y0\\\")||250;\\n\\n//var i = context.get(\\\"i0\\\")||0;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\n//xa = [100,120,140,160,180];\\n//ya = [100,120,140,160,180];\\n\\nvar x1 = Math.floor(Math.random () * 10) - 5;\\nvar y1 = Math.floor(Math.random () * 10) - 5;\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\n\\n/*i++\\nif ( i >= xa.length) { \\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n*/\\nx += x1;\\ncontext.set(\\\"x0\\\",x);\\ny += y1;\\ncontext.set(\\\"y0\\\",y);\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\nvar data = [[time],[x],[y],[temp],[humid]];\\n//var data = [[time],[x],[y],[temp],[humid]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":470,\"y\":140,\"wires\":[[]]},{\"id\":\"1101965e.4c38aa\",\"type\":\"template\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n\u3000</head>\\n\u3000<body>\\n\\t\u3000\u3000<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t\\t\\t  <h1>\u4f4d\u7f6e\u306b\u3088\u308bIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t\\t\\t    <br />\\n\\t\\t\\t    <p>\\n\\t\\t\\t      \u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t\\t\\t\\t\\t\\t\u534a\u5f84\u306e\u5927\u304d\u3044\u5186\u304b\u3089Area/Far/Near/Immediate\u3092\u8868\u3057\u307e\u3059\\n\\t\\t\\t    </p>\\n\\t\\t\\t</div>\\n\\n\\n<div id='example'>\\n<svg id=\\\"svg.svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"500\\\" height=\\\"500\\\" viewBox=\\\"0 0 500 500\\\">\\n\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"0\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"500\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"500\\\" x2=\\\"500\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n\\n  <line x1=\\\"0\\\" y1=\\\"100\\\" x2=\\\"500\\\" y2=\\\"100\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"200\\\" x2=\\\"500\\\" y2=\\\"200\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"300\\\" x2=\\\"500\\\" y2=\\\"300\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"400\\\" x2=\\\"500\\\" y2=\\\"400\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <line x1=\\\"100\\\" y1=\\\"0\\\" x2=\\\"100\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"200\\\" y1=\\\"0\\\" x2=\\\"200\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"300\\\" y1=\\\"0\\\" x2=\\\"300\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"400\\\" y1=\\\"0\\\" x2=\\\"400\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <circle id=\\\"c00\\\" cx=\\\"10000\\\" cy=\\\"100\\\" r=\\\"60\\\" fill=\\\"#e0ffe0\\\"></circle>\\n  <circle id=\\\"c01\\\" cx=\\\"10000\\\" cy=\\\"100\\\" r=\\\"40\\\" fill=\\\"#98fb98\\\"></circle>\\n  <circle id=\\\"c02\\\" cx=\\\"10000\\\" cy=\\\"100\\\" r=\\\"20\\\" fill=\\\"#00ff00\\\"></circle>\\n  <circle id=\\\"c03\\\" cx=\\\"10000\\\" cy=\\\"100\\\" r=\\\"5\\\" fill=\\\"#228b22\\\"></circle>\\n\\n\\t<text id=\\\"t01\\\" x=\\\"12000\\\" y=\\\"100\\\">\u30d3\u30fc\u30b3\u30f3\uff03\uff11</text>\\n  <text id=\\\"t02\\\" x=\\\"12000\\\" y=\\\"120\\\" font-size=\\\"12\\\">\u691c\u77e5\u4f4d\u7f6e</text>\\n\\t<text id=\\\"t03\\\" x=\\\"12000\\\" y=\\\"120\\\" font-size=\\\"12\\\">\u6e29\u5ea6\u3001\u6e7f\u5ea6</text>\\n\\n</svg>\\n</div>\\n\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\n    <h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n \\t\\t<h2>\u30d3\u30fc\u30b3\u30f3\u4f4d\u7f6e\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e29\u5ea6\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\u2103\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e7f\u5ea6\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\uff05\\n\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n  <div class=\\\"category\\\">\u53c2\u8003URL</div>\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  <div class=\\\"category\\\">\u30de\u30cb\u30e5\u30a2\u30eb</div>\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n\\n<script>\\n\\nvar connection = new WebSocket('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow38');\\n\\nconnection.onopen = function () {\\n  console.log(\\\"websocket connected\\\");\\n};\\n\\n// Log errors\\nconnection.onerror = function (error) {\\n  console.log('WebSocket Error ' + error);\\n};\\n\\n// Log messages from the server\\nconnection.onmessage = function (m) {\\n  console.log('Server: ' + m.data);\\n\\tdoIt(m);\\n};\\n\\n//function doIt\\nfunction doIt(msg){\\n  console.log(\\\"doit:\\\" + msg.data);\\n\\tvar msgs = JSON.parse(msg.data);\\n\\n\\t//\u5186\u8981\u7d20\u3092\u53d6\u5f97\u3057\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar c = document.querySelectorAll('circle');\\n  var c0x = parseInt(msgs[1]);\\n  var c0y = parseInt(msgs[2]);\\n\\t(function(){\\n\\t  c[0].setAttribute('cx', c0x );\\n\\t\\tc[0].setAttribute('cy', c0y );\\n\\t})();\\n  var c1x = parseInt(msgs[3]);\\n  var c1y = parseInt(msgs[4]);\\n\\t(function(){\\n\\t  c[1].setAttribute('cx', c1x );\\n\\t\\tc[1].setAttribute('cy', c1y );\\n\\t})();\\n  var c2x = parseInt(msgs[5]);\\n  var c2y = parseInt(msgs[6]);\\n\\t(function(){\\n\\t  c[2].setAttribute('cx', c2x );\\n\\t\\tc[2].setAttribute('cy', c2y );\\n\\t})();\\n  var c3x = parseInt(msgs[7]);\\n  var c3y = parseInt(msgs[8]);\\n\\t(function(){\\n\\t  c[3].setAttribute('cx', c3x );\\n\\t\\tc[3].setAttribute('cy', c3y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u3092\u914d\u5217\u3067\u53d6\u5f97\u3057\u3001\u5404text\u3092\u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar t = document.querySelectorAll('text');\\n\\tvar t0x = parseInt(msgs[9]) + 20;\\n\\tvar t0y = parseInt(msgs[10]);\\n\\t(function(){\\n\\t  t[0].setAttribute('x', t0x );\\n\\t\\tt[0].setAttribute('y', t0y );\\n\\t})();\\n\\tvar t1x = parseInt(msgs[9]) + 20;\\n\\tvar t1y = parseInt(msgs[10]) + 20;\\n\\t(function(){\\n\\t  t[1].setAttribute('x', t1x );\\n\\t\\tt[1].setAttribute('y', t1y );\\n\\t})();\\n\\tvar t2x = parseInt(msgs[9]) + 20;\\n\\tvar t2y = parseInt(msgs[10]) + 40;\\n\\t(function(){\\n\\t  t[2].setAttribute('x', t2x );\\n\\t\\tt[2].setAttribute('y', t2y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u306e\u6587\u5b57\u5217\u3092\u5909\u66f4\\n\\tvar t2 = document.getElementById('t02');\\n\\t(function(){\\n\\t  t2.textContent=msgs[13];\\n\\t})();\\n\\tvar t3 = document.getElementById('t03');\\n\\t(function(){\\n\\t  t3.textContent=\\\"\u6e29\u5ea6:\\\" + msgs[11] + \\\"\u2103\u3001\u6e7f\u5ea6:\\\" + msgs[12] + \\\"\uff05\\\";\\n\\t})();\\n\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\t//for (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[13];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[11];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[12];\\n//\\ttarget = document.getElementById(\\\"output4\\\");\\n//\\ttarget.innerHTML = msgs[3];\\n//\\ttarget = document.getElementById(\\\"output5\\\");\\n//\\ttarget.innerHTML = msgs[4];\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":314,\"y\":257,\"wires\":[[\"34d646c1.150922\"]]},{\"id\":\"8823d830.00d258\",\"type\":\"inject\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":104,\"y\":97,\"wires\":[[]]},{\"id\":\"5a588ca2.eae6ac\",\"type\":\"inject\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":104,\"y\":137,\"wires\":[[\"534f5be0.e664ac\"]]},{\"id\":\"95533b1.5f338c8\",\"type\":\"debug\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":690,\"y\":100,\"wires\":[]},{\"id\":\"5e2eb54a.038a6c\",\"type\":\"comment\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":184,\"y\":57,\"wires\":[]},{\"id\":\"ecd8e595.5caf4\",\"type\":\"http in\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\",\"url\":\"/test38\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":124,\"y\":257,\"wires\":[[\"1101965e.4c38aa\"]]},{\"id\":\"34d646c1.150922\",\"type\":\"http response\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\",\"x\":504,\"y\":257,\"wires\":[]},{\"id\":\"2653adc5.275fca\",\"type\":\"comment\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\",\"info\":\"\",\"x\":174,\"y\":217,\"wires\":[]},{\"id\":\"534f5be0.e664ac\",\"type\":\"function\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":274,\"y\":117,\"wires\":[[\"2f354439.37eeac\"]]},{\"id\":\"4dfca3a2.789a6c\",\"type\":\"debug\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u6642\u523b\u306e\u8868\u793a\",\"active\":false,\"console\":\"false\",\"complete\":\"date\",\"x\":710,\"y\":60,\"wires\":[]},{\"id\":\"2bfad213.7ed286\",\"type\":\"websocket out\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\",\"server\":\"ddf813cc.0064d8\",\"client\":\"\",\"x\":720,\"y\":140,\"wires\":[]},{\"id\":\"2f354439.37eeac\",\"type\":\"function\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\",\"func\":\"var i = context.get(\\\"i0\\\")||0;\\n// \u4fdd\u5b58\u3057\u305f\u5404\u5186\u306e\u5ea7\u6a19\u3092\u53d6\u5f97\\nvar c0x = context.get(\\\"c0x\\\")||0;\\nvar c0y = context.get(\\\"c0y\\\")||0;\\nvar c1x = context.get(\\\"c1x\\\")||0;\\nvar c1y = context.get(\\\"c1y\\\")||0;\\nvar c2x = context.get(\\\"c2x\\\")||0;\\nvar c2y = context.get(\\\"c2y\\\")||0;\\nvar c3x = context.get(\\\"c3x\\\")||0;\\nvar c3y = context.get(\\\"c3y\\\")||0;\\nvar tx = context.get(\\\"tx\\\")||0;\\nvar ty = context.get(\\\"ty\\\")||0;\\nvar tz;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nar = [\\\"g11ai\\\",\\\"g11fi\\\",\\\"g11ni\\\",\\\"g11ii\\\",\\\"g11io\\\",\\\"g11no\\\",\\\"g11fo\\\",\\\"g11ao\\\",\\n      \\\"g12ai\\\",\\\"g12fi\\\",\\\"g12ni\\\",\\\"g12ii\\\",\\\"g12io\\\",\\\"g12no\\\",\\\"g12fo\\\",\\\"g12ao\\\",\\n      \\\"g22ai\\\",\\\"g22fi\\\",\\\"g22ni\\\",\\\"g22ii\\\",\\\"g22io\\\",\\\"g22no\\\",\\\"g22fo\\\",\\\"g22ao\\\",\\n      \\\"g23ai\\\",\\\"g23fi\\\",\\\"g23ni\\\",\\\"g23ii\\\",\\\"g23io\\\",\\\"g23no\\\",\\\"g23fo\\\",\\\"g23ao\\\",\\n      \\\"g33ai\\\",\\\"g33fi\\\",\\\"g33ni\\\",\\\"g33ii\\\",\\\"g33io\\\",\\\"g33no\\\",\\\"g33fo\\\",\\\"g33ao\\\",\\n      \\\"g32ai\\\",\\\"g32fi\\\",\\\"g32ni\\\",\\\"g32ii\\\",\\\"g32io\\\",\\\"g32no\\\",\\\"g32fo\\\",\\\"g32ao\\\",\\n      \\\"g31ai\\\",\\\"g31fi\\\",\\\"g31ni\\\",\\\"g31ii\\\",\\\"g31io\\\",\\\"g31no\\\",\\\"g31fo\\\",\\\"g31ao\\\",\\n      \\\"g21ai\\\",\\\"g21fi\\\",\\\"g21ni\\\",\\\"g21ii\\\",\\\"g21io\\\",\\\"g21no\\\",\\\"g21fo\\\",\\\"g21ao\\\"];\\n\\nvar z = ar[i];\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\n//\u5404\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u4f4d\u7f6e\u304b\u3089\u5ea7\u6a19\u3092\u6307\u5b9a\\nif (z == \\\"g11ai\\\") { c0x = 100; c0y = 100; tx = 100; ty = 100; tz = \\\"G11, Area-In\\\";}\\nif (z == \\\"g11fi\\\") { c1x = 100; c1y = 100; tx = 100; ty = 100; tz = \\\"G11, Far-In\\\";}\\nif (z == \\\"g11ni\\\") { c2x = 100; c2y = 100; tx = 100; ty = 100; tz = \\\"G11, Near-In\\\";}\\nif (z == \\\"g11ii\\\") { c3x = 100; c3y = 100; tx = 100; ty = 100; tz = \\\"G11, Immediate-In\\\";}\\n\\nif (z == \\\"g11io\\\") { c3x = 10000; c3y = 100; tx = 100; ty = 100; tz = \\\"G11, Immediate-Out\\\"}\\nif (z == \\\"g11no\\\") { c2x = 10000; c2y = 100; tx = 100; ty = 100; tz = \\\"G11, Near-Out\\\"}\\nif (z == \\\"g11fo\\\") { c1x = 10000; c1y = 100; tx = 100; ty = 100; tz = \\\"G11, Far-Out\\\"}\\nif (z == \\\"g11ao\\\") { c0x = 1000; c0y = 100; tx = 10000; ty = 100; tz = \\\"G11, Area-Out\\\"}\\n\\n\\nif (z == \\\"g12ai\\\") { c0x = 200; c0y = 100; tx = 200; ty = 100; tz = \\\"G12, Area-In\\\";}\\nif (z == \\\"g12fi\\\") { c1x = 200; c1y = 100; tx = 200; ty = 100; tz = \\\"G12, Far-In\\\";}\\nif (z == \\\"g12ni\\\") { c2x = 200; c2y = 100; tx = 200; ty = 100; tz = \\\"G12, Near-In\\\";}\\nif (z == \\\"g12ii\\\") { c3x = 200; c3y = 100; tx = 200; ty = 100; tz = \\\"G12, Immediate-In\\\";}\\n\\nif (z == \\\"g12io\\\") { c3x = 10000; c3y = 100; tx = 200; ty = 100; tz = \\\"G12, Immediate-Out\\\"}\\nif (z == \\\"g12no\\\") { c2x = 10000; c2y = 100; tx = 200; ty = 100; tz = \\\"G12, Near-Out\\\"}\\nif (z == \\\"g12fo\\\") { c1x = 10000; c1y = 100; tx = 200; ty = 100; tz = \\\"G12, Far-Out\\\"}\\nif (z == \\\"g12ao\\\") { c0x = 10000; c0y = 100; tx = 10000; ty = 100; tz = \\\"G12, Area-Out\\\"}\\n\\n\\nif (z == \\\"g22ai\\\") { c0x = 200; c0y = 200; tx = 200; ty = 200; tz = \\\"G22, Area-In\\\";}\\nif (z == \\\"g22fi\\\") { c1x = 200; c1y = 200; tx = 200; ty = 200; tz = \\\"G22, Far-In\\\";}\\nif (z == \\\"g22ni\\\") { c2x = 200; c2y = 200; tx = 200; ty = 200; tz = \\\"G22, Near-In\\\";}\\nif (z == \\\"g22ii\\\") { c3x = 200; c3y = 200; tx = 200; ty = 200; tz = \\\"G22, Immediate-In\\\";}\\n\\nif (z == \\\"g22io\\\") { c3x = 10000; c3y = 200; tx = 200; ty = 200; tz = \\\"G22, Immediate-Out\\\"}\\nif (z == \\\"g22no\\\") { c2x = 10000; c2y = 200; tx = 200; ty = 200; tz = \\\"G22, Near-Out\\\"}\\nif (z == \\\"g22fo\\\") { c1x = 10000; c1y = 200; tx = 200; ty = 200; tz = \\\"G22, Far-Out\\\"}\\nif (z == \\\"g22ao\\\") { c0x = 10000; c0y = 200; tx = 10000; ty = 200; tz = \\\"G22, Area-Out\\\"}\\n\\n\\nif (z == \\\"g23ai\\\") { c0x = 300; c0y = 200; tx = 300; ty = 200; tz = \\\"G23, Area-In\\\";}\\nif (z == \\\"g23fi\\\") { c1x = 300; c1y = 200; tx = 300; ty = 200; tz = \\\"G23, Far-In\\\";}\\nif (z == \\\"g23ni\\\") { c2x = 300; c2y = 200; tx = 300; ty = 200; tz = \\\"G23, Near-In\\\";}\\nif (z == \\\"g23ii\\\") { c3x = 300; c3y = 200; tx = 300; ty = 200; tz = \\\"G23, Immediate-In\\\";}\\n\\nif (z == \\\"g23io\\\") { c3x = 10000; c3y = 200; tx = 300; ty = 200; tz = \\\"G23, Immediate-Out\\\"}\\nif (z == \\\"g23no\\\") { c2x = 10000; c2y = 200; tx = 300; ty = 200; tz = \\\"G23, Near-Out\\\"}\\nif (z == \\\"g23fo\\\") { c1x = 10000; c1y = 200; tx = 300; ty = 200; tz = \\\"G23, Far-Out\\\"}\\nif (z == \\\"g23ao\\\") { c0x = 10000; c0y = 200; tx = 10000; ty = 200; tz = \\\"G23, Area-Out\\\"}\\n\\n\\nif (z == \\\"g33ai\\\") { c0x = 300; c0y = 300; tx = 300; ty = 300; tz = \\\"G33, Area-In\\\";}\\nif (z == \\\"g33fi\\\") { c1x = 300; c1y = 300; tx = 300; ty = 300; tz = \\\"G33, Far-In\\\";}\\nif (z == \\\"g33ni\\\") { c2x = 300; c2y = 300; tx = 300; ty = 300; tz = \\\"G33, Near-In\\\";}\\nif (z == \\\"g33ii\\\") { c3x = 300; c3y = 300; tx = 300; ty = 300; tz = \\\"G33, Immediate-In\\\";}\\n\\nif (z == \\\"g33io\\\") { c3x = 10000; c3y = 300; tx = 300; ty = 300; tz = \\\"G33, Immediate-Out\\\"}\\nif (z == \\\"g33no\\\") { c2x = 10000; c2y = 300; tx = 300; ty = 300; tz = \\\"G33, Near-Out\\\"}\\nif (z == \\\"g33fo\\\") { c1x = 10000; c1y = 300; tx = 300; ty = 300; tz = \\\"G33, Far-Out\\\"}\\nif (z == \\\"g33ao\\\") { c0x = 10000; c0y = 300; tx = 10000; ty = 300; tz = \\\"G33, Area-Out\\\"}\\n\\n\\nif (z == \\\"g32ai\\\") { c0x = 200; c0y = 300; tx = 200; ty = 300; tz = \\\"G32, Area-In\\\";}\\nif (z == \\\"g32fi\\\") { c1x = 200; c1y = 300; tx = 200; ty = 300; tz = \\\"G32, Far-In\\\";}\\nif (z == \\\"g32ni\\\") { c2x = 200; c2y = 300; tx = 200; ty = 300; tz = \\\"G32, Near-In\\\";}\\nif (z == \\\"g32ii\\\") { c3x = 200; c3y = 300; tx = 200; ty = 300; tz = \\\"G32, Immediate-In\\\";}\\n\\nif (z == \\\"g32io\\\") { c3x = 10000; c3y = 300; tx = 200; ty = 300; tz = \\\"G32, Immediate-Out\\\"}\\nif (z == \\\"g32no\\\") { c2x = 10000; c2y = 300; tx = 200; ty = 300; tz = \\\"G32, Near-Out\\\"}\\nif (z == \\\"g32fo\\\") { c1x = 10000; c1y = 300; tx = 200; ty = 300; tz = \\\"G32, Far-Out\\\"}\\nif (z == \\\"g32ao\\\") { c0x = 10000; c0y = 300; tx = 10000; ty = 300; tz = \\\"G32, Area-Out\\\"}\\n\\n\\nif (z == \\\"g31ai\\\") { c0x = 100; c0y = 300; tx = 100; ty = 300; tz = \\\"G31, Area-In\\\";}\\nif (z == \\\"g31fi\\\") { c1x = 100; c1y = 300; tx = 100; ty = 300; tz = \\\"G31, Far-In\\\";}\\nif (z == \\\"g31ni\\\") { c2x = 100; c2y = 300; tx = 100; ty = 300; tz = \\\"G31, Near-In\\\";}\\nif (z == \\\"g31ii\\\") { c3x = 100; c3y = 300; tx = 100; ty = 300; tz = \\\"G31, Immediate-In\\\";}\\n\\nif (z == \\\"g31io\\\") { c3x = 10000; c3y = 300; tx = 100; ty = 300; tz = \\\"G31, Immediate-Out\\\"}\\nif (z == \\\"g31no\\\") { c2x = 10000; c2y = 300; tx = 100; ty = 300; tz = \\\"G31, Near-Out\\\"}\\nif (z == \\\"g31fo\\\") { c1x = 10000; c1y = 300; tx = 100; ty = 300; tz = \\\"G31, Far-Out\\\"}\\nif (z == \\\"g31ao\\\") { c0x = 10000; c0y = 300; tx = 10000; ty = 300; tz = \\\"G31, Area-Out\\\"}\\n\\n\\nif (z == \\\"g21ai\\\") { c0x = 100; c0y = 200; tx = 100; ty = 200; tz = \\\"G21, Area-In\\\";}\\nif (z == \\\"g21fi\\\") { c1x = 100; c1y = 200; tx = 100; ty = 200; tz = \\\"G21, Far-In\\\";}\\nif (z == \\\"g21ni\\\") { c2x = 100; c2y = 200; tx = 100; ty = 200; tz = \\\"G21, Near-In\\\";}\\nif (z == \\\"g21ii\\\") { c3x = 100; c3y = 200; tx = 100; ty = 200; tz = \\\"G21, Immediate-In\\\";}\\n\\nif (z == \\\"g21io\\\") { c3x = 10000; c3y = 200; tx = 100; ty = 200; tz = \\\"G21, Immediate-Out\\\"}\\nif (z == \\\"g21no\\\") { c2x = 10000; c2y = 200; tx = 100; ty = 200; tz = \\\"G21, Near-Out\\\"}\\nif (z == \\\"g21fo\\\") { c1x = 10000; c1y = 200; tx = 100; ty = 200; tz = \\\"G21, Far-Out\\\"}\\nif (z == \\\"g21ao\\\") { c0x = 10000; c0y = 200; tx = 10000; ty = 200; tz = \\\"G21, Area-Out\\\"}\\n\\n\\ni++;\\nif ( i >= ar.length) {\\n    i = 0;\\n}\\n//\u5ea7\u6a19\u60c5\u5831\u3092\u4fdd\u5b58\\ncontext.set(\\\"i0\\\", i);\\ncontext.set(\\\"c0x\\\", c0x);\\ncontext.set(\\\"c0y\\\", c0y);\\ncontext.set(\\\"c1x\\\", c1x);\\ncontext.set(\\\"c1y\\\", c1y);\\ncontext.set(\\\"c2x\\\", c2x);\\ncontext.set(\\\"c2y\\\", c2y);\\ncontext.set(\\\"c3x\\\", c3x);\\ncontext.set(\\\"c3y\\\", c3y);\\ncontext.set(\\\"tx\\\", tx);\\ncontext.set(\\\"ty\\\", ty);\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\n//\u5ea7\u6a19\u60c5\u5831\u3092\u9001\u51fa\\nvar data = [[time],[c0x],[c0y],[c1x],[c1y],[c2x],[c2y],[c3x],[c3y],[tx],[ty],[temp],[humid],[tz]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":460,\"y\":100,\"wires\":[[\"2bfad213.7ed286\",\"95533b1.5f338c8\"]]},{\"id\":\"ddf813cc.0064d8\",\"type\":\"websocket-listener\",\"z\":\"1f1ccf2d.e2b139\",\"path\":\"/ws/flow38\",\"wholemsg\":\"false\"}]\n\n\n\n\n\u5b9f\u969b\u306e\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u30b7\u30b0\u30ca\u30eb\u306b\u5408\u308f\u305b\u3001Area/Far/Near/Immediate\u306eIn/Out\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb-\uff13\uff1a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u683c\u7d0d\u3055\u308c\u305f\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\n\n1. \u4f4d\u7f6e\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u7528\u610f\u3057\u307e\u3059\n\n\u65e2\u306b\u4f7f\u7528\u3057\u3066\u3044\u308bdashDB\u30b5\u30fc\u30d3\u30b9\u304c\u7121\u3044\u5834\u5408\u3001\u65b0\u305f\u306b\u4e00\u3064\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\nIoT\u30a2\u30d7\u30ea\uff08Node-RED\u304c\u7a3c\u50cd\u3057\u3066\u3044\u308b\u30a2\u30d7\u30ea\uff09\u306b\u3001dashDB\u30b5\u30fc\u30d3\u30b9\u3092\u63a5\u7d9a\u3057\u307e\u3059\n\"Create a Table\"\u30e1\u30cb\u30e5\u30fc\u3067\u3001\u4ee5\u4e0b\u306eDDL\u3092\u5b9f\u884c\u3057\u3001\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\"LATEST\"\u3068\u3044\u3046\u540d\u306e\u8868\u3092\u7528\u610f\u3057\u307e\u3059\n\n\n\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\u8868\nCREATE TABLE \"LATEST\" \n(\n  \"ID\" INT PRIMARY KEY NOT NULL,\n  \"EVENT\" VARCHAR(30),\n  \"X\" INT,\n  \"Y\" INT \n);\n\n\n\n\n\u8868\u304c\u4f5c\u6210\u3055\u308c\u305f\u3089\u3001\"Run SQL\"\u30e1\u30cb\u30e5\u30fc\u306a\u3069\u3092\u4f7f\u7528\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aSQL\u6587\u3067\u3066\u521d\u671f\u5024\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n\n\n\u8868\u3078\u521d\u671f\u5024\u3092\u66f8\u304d\u8fbc\u3080\ninsert into dashxxxx.latest (id, event, x, y) values(1, 'Beacon#1 NearIn', 150, 100);\n\n\n\n\n\u8868\u3078\u306e\u30c7\u30fc\u30bf\u306e\u66f8\u304d\u8fbc\u307f\u306fNode-RED\u306edashDB\u30ce\u30fc\u30c9\u3067\u3082\u53ef\u80fd\u3067\u3059\u3002\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30d5\u30ed\u30fc\u3092\u4f7f\u7528\u53ef\u80fd\u3067\u3059\n\n\n\n\ndashDB\u306e\u8868\u3078\u521d\u671f\u5024\u3092\u66f8\u304d\u8fbc\u3080\n[{\"id\":\"9bdeed4c.dce98\",\"type\":\"function\",\"z\":\"e98e4621.ecc648\",\"name\":\"\u8868\u3078\u66f8\u304d\u8fbc\u3080\",\"func\":\"msg.payload = \\n{ \\n\\tID : 1,\\n\\tEVENT : \\\"Beacon#1 NearIn\\\",\\n\\tX : 150,\\n\\tY : 100\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":340,\"y\":80,\"wires\":[[\"aa2746c4.63c578\"]]},{\"id\":\"94270249.32d73\",\"type\":\"inject\",\"z\":\"e98e4621.ecc648\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":140,\"y\":80,\"wires\":[[\"9bdeed4c.dce98\"]]},{\"id\":\"aa2746c4.63c578\",\"type\":\"dashDB out\",\"z\":\"e98e4621.ecc648\",\"service\":\"\",\"table\":\"LATEST\",\"name\":\"\",\"x\":540,\"y\":80,\"wires\":[]}]\n\n\n\n\n2. \u30d3\u30fc\u30b3\u30f3\u304b\u3089\u53d6\u5f97\u3055\u308c\u308b\u4f4d\u7f6e\u60c5\u5831\u3092\u968f\u6642\u4e0a\u8a18\u306e\u8868\u3078\u66f4\u65b0\u3057\u307e\u3059\n\n\u3053\u3053\u3067\u306f\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\uff09\u3067\u4f4d\u7f6e\u60c5\u5831\u3092\u66f4\u65b0\u3057\u3066\u3044\u304d\u307e\u3059\n\n\n\n\n\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u66f8\u304d\u8fbc\u3080\n[{\"id\":\"bccae16c.303868\",\"type\":\"inject\",\"z\":\"43384da6.15b854\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":130,\"y\":140,\"wires\":[[]]},{\"id\":\"24a8f3ce.490e94\",\"type\":\"function\",\"z\":\"43384da6.15b854\",\"name\":\"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\",\"func\":\"var i = context.get(\\\"i0\\\")||0;\\n\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nxa = [150,200,250,300,350,400,450,500,550,600,650,700,750,800,850,850,850,850,850,800,750,700,650,600,550,500,450,400,350,300,250,200,150,150,150,150];\\nya = [100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,150,200,250,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,250,200,150];\\nmsg.x = xa[i];\\nmsg.y = ya[i];\\n\\ni++;\\nif ( i >= xa.length) {\\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n\\nreturn msg;\\n\\n\",\"outputs\":1,\"noerr\":0,\"x\":340,\"y\":140,\"wires\":[[\"42fd7415.f0a0d4\"]]},{\"id\":\"5e0f9661.a423f\",\"type\":\"debug\",\"z\":\"43384da6.15b854\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"payload\",\"x\":730,\"y\":140,\"wires\":[]},{\"id\":\"fa4fe98.00edf18\",\"type\":\"comment\",\"z\":\"43384da6.15b854\",\"name\":\"\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":170,\"y\":80,\"wires\":[]},{\"id\":\"42fd7415.f0a0d4\",\"type\":\"dashDB in\",\"z\":\"43384da6.15b854\",\"service\":\"\",\"query\":\"UPDATE LATEST SET X = ?, Y = ? WHERE ID=1;\",\"params\":\"msg.x,msg.y\",\"name\":\"\",\"x\":540,\"y\":140,\"wires\":[[\"5e0f9661.a423f\"]]}]\n\n\n\n\ndashDB\u306e\u30ce\u30fc\u30c9\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f4\u65b0\u3057\u307e\u3059\u3002\u4e0a\u624b\u304f\u7e4b\u304c\u3089\u306a\u3044\u5834\u5408\u3001dashDB\u306e\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3001\u65b0\u305f\u306b\u4f5c\u6210\u3057\u307e\u3059\nInject\u30ce\u30fc\u30c9\u304b\u3089\u306f\u6bce\u79d2\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u9001\u4fe1\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\n\n\n3. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\n\n\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\n\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3059\u308b\n[{\"id\":\"80fc02f0.c86b7\",\"type\":\"comment\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\",\"info\":\"\",\"x\":210,\"y\":240,\"wires\":[]},{\"id\":\"c7e4293.d855d58\",\"type\":\"websocket out\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"server\":\"89c843d3.9f96e\",\"client\":\"\",\"x\":780,\"y\":180,\"wires\":[]},{\"id\":\"d0fa4c87.c37cd\",\"type\":\"inject\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":150,\"y\":140,\"wires\":[[]]},{\"id\":\"b8686c79.31f6c\",\"type\":\"comment\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\u4f4d\u7f6e\u60c5\u5831\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u66f4\u65b0\",\"info\":\"\",\"x\":190,\"y\":80,\"wires\":[]},{\"id\":\"22796522.8e4652\",\"type\":\"function\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\",\"func\":\"//var i = context.get(\\\"i0\\\")||0;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nvar x = msg.payload.X;\\nvar y = msg.payload.Y;\\nvar ev = msg.payload.EVENT;\\n\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\n/*i++;\\nif ( i >= xa.length) {\\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n*/\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\nvar data = [[time],[x],[y],[ev],[temp],[humid]];\\n//var data = [[time],[x],[y],[temp],[humid]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":600,\"y\":200,\"wires\":[[\"c7e4293.d855d58\",\"12287212.4619be\"]]},{\"id\":\"a7cd8506.ca0d58\",\"type\":\"function\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":480,\"y\":140,\"wires\":[[\"22796522.8e4652\"]]},{\"id\":\"12287212.4619be\",\"type\":\"debug\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"false\",\"x\":770,\"y\":220,\"wires\":[]},{\"id\":\"e721517c.c01fb8\",\"type\":\"template\",\"z\":\"4a5aa97c.fff478\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n\u3000</head>\\n\u3000<body>\\n\\t\u3000\u3000<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t\\t\\t  <h1>\u4f4d\u7f6e\u306b\u3088\u308bIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t\\t\\t    <br />\\n\\t\\t\\t    <p>\\n\\t\\t\\t      IoT\u30c7\u30fc\u30bf\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t\\t\\t    </p>\\n\\t\\t\\t</div>\\n\\n\\n<div id='example'>\\n<svg id=\\\"svg.svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1000\\\" height=\\\"550\\\" viewBox=\\\"0 0 1000 550\\\">\\n\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"1000\\\" y2=\\\"0\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"1000\\\" y1=\\\"0\\\" x2=\\\"1000\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"550\\\" x2=\\\"1000\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n\\n\\t<line x1=\\\"0\\\" y1=\\\"50\\\" x2=\\\"1000\\\" y2=\\\"50\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"250\\\" x2=\\\"1000\\\" y2=\\\"250\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"450\\\" x2=\\\"1000\\\" y2=\\\"450\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <line x1=\\\"100\\\" y1=\\\"0\\\" x2=\\\"100\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"200\\\" y1=\\\"0\\\" x2=\\\"200\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"300\\\" y1=\\\"0\\\" x2=\\\"300\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"400\\\" y1=\\\"0\\\" x2=\\\"400\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"500\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"600\\\" y1=\\\"0\\\" x2=\\\"600\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"700\\\" y1=\\\"0\\\" x2=\\\"700\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"800\\\" y1=\\\"0\\\" x2=\\\"800\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"900\\\" y1=\\\"0\\\" x2=\\\"900\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <rect x=\\\"80\\\"  y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"480\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"580\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"680\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"780\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"880\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n\\t<rect x=\\\"80\\\"  y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"480\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"580\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"680\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"780\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"880\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\"  y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"480\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"580\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"680\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"780\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"880\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"880\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <circle id=\\\"c01\\\" cx=\\\"150\\\" cy=\\\"100\\\" r=\\\"10\\\" fill=\\\"#98fb98\\\"></circle>\\n\\n\\t<text id=\\\"t01\\\" x=\\\"170\\\" y=\\\"100\\\">Beacon8185</text>\\n  <text id=\\\"t02\\\" x=\\\"170\\\" y=\\\"120\\\" font-size=\\\"12\\\">\u6e29\u5ea6\u3001\u6e7f\u5ea6</text>\\n\\n</svg>\\n</div>\\n\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\n<p>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t\u6642\u523b\uff1a<div style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output1\\\"></div><br>\\n\\t\\t\u30bb\u30f3\u30b5\u30fcX\u5ea7\u6a19\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output2\\\"></span><br>\\n\\t\\t\u30bb\u30f3\u30b5\u30fcY\u5ea7\u6a19\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output3\\\"></span><br>\\n\\t\\t\u30a4\u30d9\u30f3\u30c8\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output4\\\"></span><br>\\n\\t\\t\u30bb\u30f3\u30b5\u30fc\u6e29\u5ea6\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output5\\\"></span>\u2103<br>\\n\\t\\t\u30bb\u30f3\u30b5\u30fc\u6e7f\u5ea6\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output6\\\"></span>\uff05<br>\\n</p>\\n<!---\\n\\t\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t\\t<h2>\u30bb\u30f3\u30b5\u30fcX\u5ea7\u6a19\u3000</h2>\\n\\t\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t\\t<h2>\u30bb\u30f3\u30b5\u30fcY\u5ea7\u6a19\u3000</h2>\\n\\t\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n\\t\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e29\u5ea6\u3000</h2>\\n\\t\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\u2103\\n\\t\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e7f\u5ea6\u3000</h2>\\n\\t\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output5\\\"></span>\uff05\\n--->\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n  <div class=\\\"category\\\">\u53c2\u8003URL</div>\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  <div class=\\\"category\\\">\u30de\u30cb\u30e5\u30a2\u30eb</div>\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n\\n<script>\\n\\nvar connection = new WebSocket('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u540d.mybluemix.net/ws/flow38');\\n\\nconnection.onopen = function () {\\n  console.log(\\\"websocket connected\\\");\\n};\\n\\n// Log errors\\nconnection.onerror = function (error) {\\n  console.log('WebSocket Error ' + error);\\n};\\n\\n// Log messages from the server\\nconnection.onmessage = function (m) {\\n  //console.log('Server: ' + m.data);\\n\\tdoIt(m);\\n};\\n\\n//function doIt\\nfunction doIt(msg){\\n  console.log(\\\"doit:\\\" + msg.data);\\n\\tvar msgs = JSON.parse(msg.data);\\n\\n\\t//\u5186\u8981\u7d20\u3092\u53d6\u5f97\u3057\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar c = document.querySelector('circle');\\n\\t(function(){\\n\\t\\tvar c0x = parseInt(msgs[1]);\\n\\t\\tvar c0y = parseInt(msgs[2]);\\n\\t  c.setAttribute('cx', c0x );\\n\\t\\tc.setAttribute('cy', c0y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u3092\u914d\u5217\u3067\u53d6\u5f97\u3057\u3001\u5404text\u3092\u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar t = document.querySelectorAll('text');\\n\\tvar t0x = parseInt(msgs[1]) + 20;\\n\\tvar t0y = parseInt(msgs[2]);\\n\\t(function(){\\n\\t  t[0].setAttribute('x', t0x );\\n\\t\\tt[0].setAttribute('y', t0y );\\n\\t})();\\n\\tvar t1x = parseInt(msgs[1]) + 20;\\n\\tvar t1y = parseInt(msgs[2]) + 20;\\n\\t(function(){\\n\\t  t[1].setAttribute('x', t1x );\\n\\t\\tt[1].setAttribute('y', t1y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u306e\u6587\u5b57\u5217\u3092\u5909\u66f4\\n\\tvar t2 = document.getElementById('t02');\\n\\t(function(){\\n\\t  t2.textContent=\\\"\u6e29\u5ea6:\\\" + msgs[4] + \\\"\u2103\u3001\u6e7f\u5ea6:\\\" + msgs[5] + \\\"\uff05\\\";\\n\\t})();\\n\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\t//for (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[3];\\n\\ttarget = document.getElementById(\\\"output5\\\");\\n\\ttarget.innerHTML = msgs[4];\\n\\ttarget = document.getElementById(\\\"output6\\\");\\n\\ttarget.innerHTML = msgs[5];\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":340,\"y\":300,\"wires\":[[\"568c11f3.6cd9c8\"]]},{\"id\":\"fd5250a9.3ed978\",\"type\":\"http in\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"url\":\"/test38\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":150,\"y\":300,\"wires\":[[\"e721517c.c01fb8\"]]},{\"id\":\"568c11f3.6cd9c8\",\"type\":\"http response\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"x\":530,\"y\":300,\"wires\":[]},{\"id\":\"81f6330.6d5025\",\"type\":\"dashDB in\",\"z\":\"4a5aa97c.fff478\",\"service\":\"\",\"query\":\"SELECT * FROM LATEST WHERE ID=1;\",\"params\":\"\",\"name\":\"\",\"x\":320,\"y\":140,\"wires\":[[\"a7cd8506.ca0d58\"]]},{\"id\":\"89c843d3.9f96e\",\"type\":\"websocket-listener\",\"z\":\"4a5aa97c.fff478\",\"path\":\"/ws/flow38\",\"wholemsg\":\"false\"}]\n\n\n\n\ndashDB\u306e\u30ce\u30fc\u30c9\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f4\u65b0\u3057\u307e\u3059\u3002\u4e0a\u624b\u304f\u7e4b\u304c\u3089\u306a\u3044\u5834\u5408\u3001dashDB\u306e\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3001\u65b0\u305f\u306b\u4f5c\u6210\u3057\u307e\u3059\n\"ws\u7528html\u3092\u8fd4\u3059\"template\u30ce\u30fc\u30c9\u306e131\u884c\u76ee\u306e\u6b21\u306e\u9805\u76ee\u3092\u7a3c\u50cd\u3055\u305b\u308bIoT\u30a2\u30d7\u30ea\u540d\u306b\u5909\u66f4\u3057\u307e\u3059\u3002new WebSocket('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u540d.mybluemix.net/ws/flow38');\n\nInject\u30ce\u30fc\u30c9\u304b\u3089\u306f\u6bce\u79d2\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u9001\u4fe1\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\n\u30d6\u30e9\u30a6\u30b6\u3067IoT\u30a2\u30d7\u30ea\u540d.mybluemix.net/test38\u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n\n\n\u521d\u3081\u3066Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3001\u3068\u3044\u3046\u304b\u305f\u306e\u305f\u3081\u306e\u30ac\u30a4\u30c9\u3067\u3059\u3002\n[Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b](http://qiita.com/egplnt/items/af867711a7191923b2ff)\u3067IoT\u30a2\u30d7\u30ea\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30ed\u30fc\u3067\u306f\u3001svg\u3067\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\u3002\n\n# \u30b5\u30f3\u30d7\u30eb-\uff11\uff1a\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\n\n```lang:\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3059\u308b\n[{\"id\":\"dce700e3.62a8d\",\"type\":\"function\",\"z\":\"aa507e14.56a818\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === \\\"restart\\\") {\\n    context.set(\\\"x0\\\",250);\\n    context.set(\\\"y0\\\",250);\\n}\\nvar x = context.get(\\\"x0\\\")||250;\\nvar y = context.get(\\\"y0\\\")||250;\\n\\n//var i = context.get(\\\"i0\\\")||0;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\n//xa = [100,120,140,160,180];\\n//ya = [100,120,140,160,180];\\n\\nvar x1 = Math.floor(Math.random () * 10) - 5;\\nvar y1 = Math.floor(Math.random () * 10) - 5;\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\n\\n/*i++\\nif ( i >= xa.length) { \\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n*/\\nx += x1;\\ncontext.set(\\\"x0\\\",x);\\ny += y1;\\ncontext.set(\\\"y0\\\",y);\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\nvar data = [[time],[x],[y],[temp],[humid]];\\n//var data = [[time],[x],[y],[temp],[humid]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":592,\"y\":252,\"wires\":[[]]},{\"id\":\"2f121138.c4a716\",\"type\":\"template\",\"z\":\"aa507e14.56a818\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n\u3000</head>\\n\u3000<body>\\n\\t\u3000\u3000<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t\\t\\t  <h1>\u4f4d\u7f6e\u306b\u3088\u308bIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t\\t\\t    <br />\\n\\t\\t\\t    <p>\\n\\t\\t\\t      IoT\u30c7\u30fc\u30bf\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t\\t\\t    </p>\\n\\t\\t\\t</div>\\n\\n\\n<div id='example'>\\n<svg id=\\\"svg.svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"500\\\" height=\\\"500\\\" viewBox=\\\"0 0 500 500\\\">\\n\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"0\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"500\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"500\\\" x2=\\\"500\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n\\n  <line x1=\\\"0\\\" y1=\\\"100\\\" x2=\\\"500\\\" y2=\\\"100\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"200\\\" x2=\\\"500\\\" y2=\\\"200\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"300\\\" x2=\\\"500\\\" y2=\\\"300\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"400\\\" x2=\\\"500\\\" y2=\\\"400\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <line x1=\\\"100\\\" y1=\\\"0\\\" x2=\\\"100\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"200\\\" y1=\\\"0\\\" x2=\\\"200\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"300\\\" y1=\\\"0\\\" x2=\\\"300\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"400\\\" y1=\\\"0\\\" x2=\\\"400\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <text id=\\\"t01\\\" x=\\\"70\\\" y=\\\"50\\\">\u30d3\u30fc\u30b3\u30f3\uff03\uff11</text>\\n  <text id=\\\"t02\\\" x=\\\"70\\\" y=\\\"70\\\" font-size=\\\"12\\\">\u6e29\u5ea6\u3001\u6e7f\u5ea6</text>\\n\\n  <circle id=\\\"c01\\\" cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"10\\\" fill=\\\"#98fb98\\\"></circle>\\n\\n</svg>\\n</div>\\n\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\n    <h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fcX\u5ea7\u6a19\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fcY\u5ea7\u6a19\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e29\u5ea6\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\u2103\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e7f\u5ea6\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output5\\\"></span>\uff05\\n\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n  <div class=\\\"category\\\">\u53c2\u8003URL</div>\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  <div class=\\\"category\\\">\u30de\u30cb\u30e5\u30a2\u30eb</div>\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n\\n<script>\\n\\nvar connection = new WebSocket('wss://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/wss/flow36');\\n\\nconnection.onopen = function () {\\n  console.log(\\\"websocket connected\\\");\\n};\\n\\n// Log errors\\nconnection.onerror = function (error) {\\n  console.log('WebSocket Error ' + error);\\n};\\n\\n// Log messages from the server\\nconnection.onmessage = function (m) {\\n  //console.log('Server: ' + m.data);\\n\\tdoIt(m);\\n};\\n\\n//function doIt\\nfunction doIt(msg){\\n  console.log(\\\"doit:\\\" + msg.data);\\n\\tvar msgs = JSON.parse(msg.data);\\n\\n\\t//\u5186\u8981\u7d20\u3092\u53d6\u5f97\u3057\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar c = document.querySelector('circle');\\n\\t(function(){\\n\\t\\tvar c0x = parseInt(msgs[1]);\\n\\t\\tvar c0y = parseInt(msgs[2]);\\n\\t  c.setAttribute('cx', c0x );\\n\\t\\tc.setAttribute('cy', c0y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u3092\u914d\u5217\u3067\u53d6\u5f97\u3057\u3001\u5404text\u3092\u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar t = document.querySelectorAll('text');\\n\\tvar t0x = parseInt(msgs[1]) + 20;\\n\\tvar t0y = parseInt(msgs[2]);\\n\\t(function(){\\n\\t  t[0].setAttribute('x', t0x );\\n\\t\\tt[0].setAttribute('y', t0y );\\n\\t})();\\n\\tvar t1x = parseInt(msgs[1]) + 20;\\n\\tvar t1y = parseInt(msgs[2]) + 20;\\n\\t(function(){\\n\\t  t[1].setAttribute('x', t1x );\\n\\t\\tt[1].setAttribute('y', t1y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u306e\u6587\u5b57\u5217\u3092\u5909\u66f4\\n\\tvar t2 = document.getElementById('t02');\\n\\t(function(){\\n\\t  t2.textContent=\\\"\u6e29\u5ea6:\\\" + msgs[3] + \\\"\u2103\u3001\u6e7f\u5ea6:\\\" + msgs[4] + \\\"\uff05\\\";\\n\\t})();\\n\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\t//for (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[3];\\n\\ttarget = document.getElementById(\\\"output5\\\");\\n\\ttarget.innerHTML = msgs[4];\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":436,\"y\":369,\"wires\":[[\"1a059c25.5d640c\"]]},{\"id\":\"80ecd37e.a6c348\",\"type\":\"inject\",\"z\":\"aa507e14.56a818\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":226,\"y\":209,\"wires\":[[\"29f85685.9b382a\"]]},{\"id\":\"b451edbc.a15f68\",\"type\":\"inject\",\"z\":\"aa507e14.56a818\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":226,\"y\":249,\"wires\":[[\"29f85685.9b382a\"]]},{\"id\":\"f1e8b8b3.89b388\",\"type\":\"debug\",\"z\":\"aa507e14.56a818\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":812,\"y\":212,\"wires\":[]},{\"id\":\"1c8e2b6d.5a0075\",\"type\":\"comment\",\"z\":\"aa507e14.56a818\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":316,\"y\":169,\"wires\":[]},{\"id\":\"8e750556.fb7e9\",\"type\":\"http in\",\"z\":\"aa507e14.56a818\",\"name\":\"\",\"url\":\"/test36\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":246,\"y\":369,\"wires\":[[\"2f121138.c4a716\"]]},{\"id\":\"1a059c25.5d640c\",\"type\":\"http response\",\"z\":\"aa507e14.56a818\",\"name\":\"\",\"x\":626,\"y\":369,\"wires\":[]},{\"id\":\"2ebdfbd5.32c384\",\"type\":\"comment\",\"z\":\"aa507e14.56a818\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\",\"info\":\"\",\"x\":316,\"y\":329,\"wires\":[]},{\"id\":\"29f85685.9b382a\",\"type\":\"function\",\"z\":\"aa507e14.56a818\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":396,\"y\":229,\"wires\":[[\"8083f8a9.e70ab\"]]},{\"id\":\"222ffd2.fe30482\",\"type\":\"debug\",\"z\":\"aa507e14.56a818\",\"name\":\"\u6642\u523b\u306e\u8868\u793a\",\"active\":false,\"console\":\"false\",\"complete\":\"date\",\"x\":832,\"y\":172,\"wires\":[]},{\"id\":\"93e4db17.f9dd78\",\"type\":\"websocket out\",\"z\":\"aa507e14.56a818\",\"name\":\"\",\"server\":\"a744f60f.bf473\",\"client\":\"\",\"x\":852,\"y\":252,\"wires\":[]},{\"id\":\"8083f8a9.e70ab\",\"type\":\"function\",\"z\":\"aa507e14.56a818\",\"name\":\"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\",\"func\":\"var i = context.get(\\\"i0\\\")||0;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nxa = [50,70,90,110,130,150,150,150,150,150,150,170,190,210,230,250,250,250,250,250,250,270,290,310,330,350,350,350,350,350,350,350,350,350,350,350,330,310,290,270,250,250,250,250,250,250,250,250,250,250,230,210,190,170,150,130,110, 90, 70, 50, 50, 50, 50, 50, 50, 70, 90,110,130,150,150,150,150,150,150,150,150,150,150,150,130,110, 90, 70, 50, 50, 50, 50, 50];\\nya = [50,50,50,50, 50, 50, 70, 90, 110,130,150,150,150,150,150,150,130,110, 90, 70, 50, 50, 50, 50, 50, 50, 70, 90,110,130,150,170,190,210,230,250,250,250,250,250,250,270,290,310,350,370,390,410,430,450,450,450,450,450,450,450,450,450,450,450,430,410,390,370,350,350,350,350,350,350,330,310,290,270,250,230,210,190,170,150,150,150,150,150,150,130,110, 90, 70];\\n\\nvar x = xa[i];\\nvar y = ya[i];\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\ni++;\\nif ( i >= xa.length) { \\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\nvar data = [[time],[x],[y],[temp],[humid]];\\n//var data = [[time],[x],[y],[temp],[humid]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":582,\"y\":212,\"wires\":[[\"93e4db17.f9dd78\",\"f1e8b8b3.89b388\"]]},{\"id\":\"a744f60f.bf473\",\"type\":\"websocket-listener\",\"z\":\"aa507e14.56a818\",\"path\":\"/wss/flow36\",\"wholemsg\":\"false\"}]\n\n```\n\n1. [Node-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5](http://qiita.com/egplnt/items/84b244a50d8bdaced324)\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n2. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n3. \u4e0b\u6bb5\u306e\u300cIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001101\u884c\u76ee\u306e`new WebSocket('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow36');`\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n4. Node-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n5. \u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001`IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test36`\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n6. \u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f`/we/flow36`\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-30 15.23.30.png](https://qiita-image-store.s3.amazonaws.com/0/125842/53ff8f51-3ab8-85d5-0357-90d56952b867.png)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-30 15.23.52.png](https://qiita-image-store.s3.amazonaws.com/0/125842/c5e1f8f2-3fdb-b372-3ff8-a35a6632b001.png)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-30 15.36.53.png](https://qiita-image-store.s3.amazonaws.com/0/125842/89802403-aef8-bd34-648f-6de4ac90a086.png)\n\n\n# \u30b5\u30f3\u30d7\u30eb-2\uff1aArea/Far/Near/Immediate\u3092\u8868\u793a\u3057\u307e\u3059\n\n```lang:Ara/Far/Near/Immediate\u3092\u8868\u793a\u3057\u307e\u3059\n[{\"id\":\"e4835546.4173f\",\"type\":\"function\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === \\\"restart\\\") {\\n    context.set(\\\"x0\\\",250);\\n    context.set(\\\"y0\\\",250);\\n}\\nvar x = context.get(\\\"x0\\\")||250;\\nvar y = context.get(\\\"y0\\\")||250;\\n\\n//var i = context.get(\\\"i0\\\")||0;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\n//xa = [100,120,140,160,180];\\n//ya = [100,120,140,160,180];\\n\\nvar x1 = Math.floor(Math.random () * 10) - 5;\\nvar y1 = Math.floor(Math.random () * 10) - 5;\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\n\\n/*i++\\nif ( i >= xa.length) { \\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n*/\\nx += x1;\\ncontext.set(\\\"x0\\\",x);\\ny += y1;\\ncontext.set(\\\"y0\\\",y);\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\nvar data = [[time],[x],[y],[temp],[humid]];\\n//var data = [[time],[x],[y],[temp],[humid]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":470,\"y\":140,\"wires\":[[]]},{\"id\":\"1101965e.4c38aa\",\"type\":\"template\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n\u3000</head>\\n\u3000<body>\\n\\t\u3000\u3000<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t\\t\\t  <h1>\u4f4d\u7f6e\u306b\u3088\u308bIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t\\t\\t    <br />\\n\\t\\t\\t    <p>\\n\\t\\t\\t      \u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t\\t\\t\\t\\t\\t\u534a\u5f84\u306e\u5927\u304d\u3044\u5186\u304b\u3089Area/Far/Near/Immediate\u3092\u8868\u3057\u307e\u3059\\n\\t\\t\\t    </p>\\n\\t\\t\\t</div>\\n\\n\\n<div id='example'>\\n<svg id=\\\"svg.svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"500\\\" height=\\\"500\\\" viewBox=\\\"0 0 500 500\\\">\\n\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"0\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"500\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"500\\\" x2=\\\"500\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n\\n  <line x1=\\\"0\\\" y1=\\\"100\\\" x2=\\\"500\\\" y2=\\\"100\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"200\\\" x2=\\\"500\\\" y2=\\\"200\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"300\\\" x2=\\\"500\\\" y2=\\\"300\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"400\\\" x2=\\\"500\\\" y2=\\\"400\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <line x1=\\\"100\\\" y1=\\\"0\\\" x2=\\\"100\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"200\\\" y1=\\\"0\\\" x2=\\\"200\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"300\\\" y1=\\\"0\\\" x2=\\\"300\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"400\\\" y1=\\\"0\\\" x2=\\\"400\\\" y2=\\\"500\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"80\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"180\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"280\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"380\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <circle id=\\\"c00\\\" cx=\\\"10000\\\" cy=\\\"100\\\" r=\\\"60\\\" fill=\\\"#e0ffe0\\\"></circle>\\n  <circle id=\\\"c01\\\" cx=\\\"10000\\\" cy=\\\"100\\\" r=\\\"40\\\" fill=\\\"#98fb98\\\"></circle>\\n  <circle id=\\\"c02\\\" cx=\\\"10000\\\" cy=\\\"100\\\" r=\\\"20\\\" fill=\\\"#00ff00\\\"></circle>\\n  <circle id=\\\"c03\\\" cx=\\\"10000\\\" cy=\\\"100\\\" r=\\\"5\\\" fill=\\\"#228b22\\\"></circle>\\n\\n\\t<text id=\\\"t01\\\" x=\\\"12000\\\" y=\\\"100\\\">\u30d3\u30fc\u30b3\u30f3\uff03\uff11</text>\\n  <text id=\\\"t02\\\" x=\\\"12000\\\" y=\\\"120\\\" font-size=\\\"12\\\">\u691c\u77e5\u4f4d\u7f6e</text>\\n\\t<text id=\\\"t03\\\" x=\\\"12000\\\" y=\\\"120\\\" font-size=\\\"12\\\">\u6e29\u5ea6\u3001\u6e7f\u5ea6</text>\\n\\n</svg>\\n</div>\\n\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\n    <h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n \\t\\t<h2>\u30d3\u30fc\u30b3\u30f3\u4f4d\u7f6e\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e29\u5ea6\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\u2103\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e7f\u5ea6\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\uff05\\n\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n  <div class=\\\"category\\\">\u53c2\u8003URL</div>\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  <div class=\\\"category\\\">\u30de\u30cb\u30e5\u30a2\u30eb</div>\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n\\n<script>\\n\\nvar connection = new WebSocket('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow38');\\n\\nconnection.onopen = function () {\\n  console.log(\\\"websocket connected\\\");\\n};\\n\\n// Log errors\\nconnection.onerror = function (error) {\\n  console.log('WebSocket Error ' + error);\\n};\\n\\n// Log messages from the server\\nconnection.onmessage = function (m) {\\n  console.log('Server: ' + m.data);\\n\\tdoIt(m);\\n};\\n\\n//function doIt\\nfunction doIt(msg){\\n  console.log(\\\"doit:\\\" + msg.data);\\n\\tvar msgs = JSON.parse(msg.data);\\n\\n\\t//\u5186\u8981\u7d20\u3092\u53d6\u5f97\u3057\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar c = document.querySelectorAll('circle');\\n  var c0x = parseInt(msgs[1]);\\n  var c0y = parseInt(msgs[2]);\\n\\t(function(){\\n\\t  c[0].setAttribute('cx', c0x );\\n\\t\\tc[0].setAttribute('cy', c0y );\\n\\t})();\\n  var c1x = parseInt(msgs[3]);\\n  var c1y = parseInt(msgs[4]);\\n\\t(function(){\\n\\t  c[1].setAttribute('cx', c1x );\\n\\t\\tc[1].setAttribute('cy', c1y );\\n\\t})();\\n  var c2x = parseInt(msgs[5]);\\n  var c2y = parseInt(msgs[6]);\\n\\t(function(){\\n\\t  c[2].setAttribute('cx', c2x );\\n\\t\\tc[2].setAttribute('cy', c2y );\\n\\t})();\\n  var c3x = parseInt(msgs[7]);\\n  var c3y = parseInt(msgs[8]);\\n\\t(function(){\\n\\t  c[3].setAttribute('cx', c3x );\\n\\t\\tc[3].setAttribute('cy', c3y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u3092\u914d\u5217\u3067\u53d6\u5f97\u3057\u3001\u5404text\u3092\u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar t = document.querySelectorAll('text');\\n\\tvar t0x = parseInt(msgs[9]) + 20;\\n\\tvar t0y = parseInt(msgs[10]);\\n\\t(function(){\\n\\t  t[0].setAttribute('x', t0x );\\n\\t\\tt[0].setAttribute('y', t0y );\\n\\t})();\\n\\tvar t1x = parseInt(msgs[9]) + 20;\\n\\tvar t1y = parseInt(msgs[10]) + 20;\\n\\t(function(){\\n\\t  t[1].setAttribute('x', t1x );\\n\\t\\tt[1].setAttribute('y', t1y );\\n\\t})();\\n\\tvar t2x = parseInt(msgs[9]) + 20;\\n\\tvar t2y = parseInt(msgs[10]) + 40;\\n\\t(function(){\\n\\t  t[2].setAttribute('x', t2x );\\n\\t\\tt[2].setAttribute('y', t2y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u306e\u6587\u5b57\u5217\u3092\u5909\u66f4\\n\\tvar t2 = document.getElementById('t02');\\n\\t(function(){\\n\\t  t2.textContent=msgs[13];\\n\\t})();\\n\\tvar t3 = document.getElementById('t03');\\n\\t(function(){\\n\\t  t3.textContent=\\\"\u6e29\u5ea6:\\\" + msgs[11] + \\\"\u2103\u3001\u6e7f\u5ea6:\\\" + msgs[12] + \\\"\uff05\\\";\\n\\t})();\\n\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\t//for (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[13];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[11];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[12];\\n//\\ttarget = document.getElementById(\\\"output4\\\");\\n//\\ttarget.innerHTML = msgs[3];\\n//\\ttarget = document.getElementById(\\\"output5\\\");\\n//\\ttarget.innerHTML = msgs[4];\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":314,\"y\":257,\"wires\":[[\"34d646c1.150922\"]]},{\"id\":\"8823d830.00d258\",\"type\":\"inject\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":104,\"y\":97,\"wires\":[[]]},{\"id\":\"5a588ca2.eae6ac\",\"type\":\"inject\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":104,\"y\":137,\"wires\":[[\"534f5be0.e664ac\"]]},{\"id\":\"95533b1.5f338c8\",\"type\":\"debug\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":690,\"y\":100,\"wires\":[]},{\"id\":\"5e2eb54a.038a6c\",\"type\":\"comment\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":184,\"y\":57,\"wires\":[]},{\"id\":\"ecd8e595.5caf4\",\"type\":\"http in\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\",\"url\":\"/test38\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":124,\"y\":257,\"wires\":[[\"1101965e.4c38aa\"]]},{\"id\":\"34d646c1.150922\",\"type\":\"http response\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\",\"x\":504,\"y\":257,\"wires\":[]},{\"id\":\"2653adc5.275fca\",\"type\":\"comment\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\",\"info\":\"\",\"x\":174,\"y\":217,\"wires\":[]},{\"id\":\"534f5be0.e664ac\",\"type\":\"function\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":274,\"y\":117,\"wires\":[[\"2f354439.37eeac\"]]},{\"id\":\"4dfca3a2.789a6c\",\"type\":\"debug\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u6642\u523b\u306e\u8868\u793a\",\"active\":false,\"console\":\"false\",\"complete\":\"date\",\"x\":710,\"y\":60,\"wires\":[]},{\"id\":\"2bfad213.7ed286\",\"type\":\"websocket out\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\",\"server\":\"ddf813cc.0064d8\",\"client\":\"\",\"x\":720,\"y\":140,\"wires\":[]},{\"id\":\"2f354439.37eeac\",\"type\":\"function\",\"z\":\"1f1ccf2d.e2b139\",\"name\":\"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\",\"func\":\"var i = context.get(\\\"i0\\\")||0;\\n// \u4fdd\u5b58\u3057\u305f\u5404\u5186\u306e\u5ea7\u6a19\u3092\u53d6\u5f97\\nvar c0x = context.get(\\\"c0x\\\")||0;\\nvar c0y = context.get(\\\"c0y\\\")||0;\\nvar c1x = context.get(\\\"c1x\\\")||0;\\nvar c1y = context.get(\\\"c1y\\\")||0;\\nvar c2x = context.get(\\\"c2x\\\")||0;\\nvar c2y = context.get(\\\"c2y\\\")||0;\\nvar c3x = context.get(\\\"c3x\\\")||0;\\nvar c3y = context.get(\\\"c3y\\\")||0;\\nvar tx = context.get(\\\"tx\\\")||0;\\nvar ty = context.get(\\\"ty\\\")||0;\\nvar tz;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nar = [\\\"g11ai\\\",\\\"g11fi\\\",\\\"g11ni\\\",\\\"g11ii\\\",\\\"g11io\\\",\\\"g11no\\\",\\\"g11fo\\\",\\\"g11ao\\\",\\n      \\\"g12ai\\\",\\\"g12fi\\\",\\\"g12ni\\\",\\\"g12ii\\\",\\\"g12io\\\",\\\"g12no\\\",\\\"g12fo\\\",\\\"g12ao\\\",\\n      \\\"g22ai\\\",\\\"g22fi\\\",\\\"g22ni\\\",\\\"g22ii\\\",\\\"g22io\\\",\\\"g22no\\\",\\\"g22fo\\\",\\\"g22ao\\\",\\n      \\\"g23ai\\\",\\\"g23fi\\\",\\\"g23ni\\\",\\\"g23ii\\\",\\\"g23io\\\",\\\"g23no\\\",\\\"g23fo\\\",\\\"g23ao\\\",\\n      \\\"g33ai\\\",\\\"g33fi\\\",\\\"g33ni\\\",\\\"g33ii\\\",\\\"g33io\\\",\\\"g33no\\\",\\\"g33fo\\\",\\\"g33ao\\\",\\n      \\\"g32ai\\\",\\\"g32fi\\\",\\\"g32ni\\\",\\\"g32ii\\\",\\\"g32io\\\",\\\"g32no\\\",\\\"g32fo\\\",\\\"g32ao\\\",\\n      \\\"g31ai\\\",\\\"g31fi\\\",\\\"g31ni\\\",\\\"g31ii\\\",\\\"g31io\\\",\\\"g31no\\\",\\\"g31fo\\\",\\\"g31ao\\\",\\n      \\\"g21ai\\\",\\\"g21fi\\\",\\\"g21ni\\\",\\\"g21ii\\\",\\\"g21io\\\",\\\"g21no\\\",\\\"g21fo\\\",\\\"g21ao\\\"];\\n\\nvar z = ar[i];\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\n//\u5404\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u4f4d\u7f6e\u304b\u3089\u5ea7\u6a19\u3092\u6307\u5b9a\\nif (z == \\\"g11ai\\\") { c0x = 100; c0y = 100; tx = 100; ty = 100; tz = \\\"G11, Area-In\\\";}\\nif (z == \\\"g11fi\\\") { c1x = 100; c1y = 100; tx = 100; ty = 100; tz = \\\"G11, Far-In\\\";}\\nif (z == \\\"g11ni\\\") { c2x = 100; c2y = 100; tx = 100; ty = 100; tz = \\\"G11, Near-In\\\";}\\nif (z == \\\"g11ii\\\") { c3x = 100; c3y = 100; tx = 100; ty = 100; tz = \\\"G11, Immediate-In\\\";}\\n\\nif (z == \\\"g11io\\\") { c3x = 10000; c3y = 100; tx = 100; ty = 100; tz = \\\"G11, Immediate-Out\\\"}\\nif (z == \\\"g11no\\\") { c2x = 10000; c2y = 100; tx = 100; ty = 100; tz = \\\"G11, Near-Out\\\"}\\nif (z == \\\"g11fo\\\") { c1x = 10000; c1y = 100; tx = 100; ty = 100; tz = \\\"G11, Far-Out\\\"}\\nif (z == \\\"g11ao\\\") { c0x = 1000; c0y = 100; tx = 10000; ty = 100; tz = \\\"G11, Area-Out\\\"}\\n\\n\\nif (z == \\\"g12ai\\\") { c0x = 200; c0y = 100; tx = 200; ty = 100; tz = \\\"G12, Area-In\\\";}\\nif (z == \\\"g12fi\\\") { c1x = 200; c1y = 100; tx = 200; ty = 100; tz = \\\"G12, Far-In\\\";}\\nif (z == \\\"g12ni\\\") { c2x = 200; c2y = 100; tx = 200; ty = 100; tz = \\\"G12, Near-In\\\";}\\nif (z == \\\"g12ii\\\") { c3x = 200; c3y = 100; tx = 200; ty = 100; tz = \\\"G12, Immediate-In\\\";}\\n\\nif (z == \\\"g12io\\\") { c3x = 10000; c3y = 100; tx = 200; ty = 100; tz = \\\"G12, Immediate-Out\\\"}\\nif (z == \\\"g12no\\\") { c2x = 10000; c2y = 100; tx = 200; ty = 100; tz = \\\"G12, Near-Out\\\"}\\nif (z == \\\"g12fo\\\") { c1x = 10000; c1y = 100; tx = 200; ty = 100; tz = \\\"G12, Far-Out\\\"}\\nif (z == \\\"g12ao\\\") { c0x = 10000; c0y = 100; tx = 10000; ty = 100; tz = \\\"G12, Area-Out\\\"}\\n\\n\\nif (z == \\\"g22ai\\\") { c0x = 200; c0y = 200; tx = 200; ty = 200; tz = \\\"G22, Area-In\\\";}\\nif (z == \\\"g22fi\\\") { c1x = 200; c1y = 200; tx = 200; ty = 200; tz = \\\"G22, Far-In\\\";}\\nif (z == \\\"g22ni\\\") { c2x = 200; c2y = 200; tx = 200; ty = 200; tz = \\\"G22, Near-In\\\";}\\nif (z == \\\"g22ii\\\") { c3x = 200; c3y = 200; tx = 200; ty = 200; tz = \\\"G22, Immediate-In\\\";}\\n\\nif (z == \\\"g22io\\\") { c3x = 10000; c3y = 200; tx = 200; ty = 200; tz = \\\"G22, Immediate-Out\\\"}\\nif (z == \\\"g22no\\\") { c2x = 10000; c2y = 200; tx = 200; ty = 200; tz = \\\"G22, Near-Out\\\"}\\nif (z == \\\"g22fo\\\") { c1x = 10000; c1y = 200; tx = 200; ty = 200; tz = \\\"G22, Far-Out\\\"}\\nif (z == \\\"g22ao\\\") { c0x = 10000; c0y = 200; tx = 10000; ty = 200; tz = \\\"G22, Area-Out\\\"}\\n\\n\\nif (z == \\\"g23ai\\\") { c0x = 300; c0y = 200; tx = 300; ty = 200; tz = \\\"G23, Area-In\\\";}\\nif (z == \\\"g23fi\\\") { c1x = 300; c1y = 200; tx = 300; ty = 200; tz = \\\"G23, Far-In\\\";}\\nif (z == \\\"g23ni\\\") { c2x = 300; c2y = 200; tx = 300; ty = 200; tz = \\\"G23, Near-In\\\";}\\nif (z == \\\"g23ii\\\") { c3x = 300; c3y = 200; tx = 300; ty = 200; tz = \\\"G23, Immediate-In\\\";}\\n\\nif (z == \\\"g23io\\\") { c3x = 10000; c3y = 200; tx = 300; ty = 200; tz = \\\"G23, Immediate-Out\\\"}\\nif (z == \\\"g23no\\\") { c2x = 10000; c2y = 200; tx = 300; ty = 200; tz = \\\"G23, Near-Out\\\"}\\nif (z == \\\"g23fo\\\") { c1x = 10000; c1y = 200; tx = 300; ty = 200; tz = \\\"G23, Far-Out\\\"}\\nif (z == \\\"g23ao\\\") { c0x = 10000; c0y = 200; tx = 10000; ty = 200; tz = \\\"G23, Area-Out\\\"}\\n\\n\\nif (z == \\\"g33ai\\\") { c0x = 300; c0y = 300; tx = 300; ty = 300; tz = \\\"G33, Area-In\\\";}\\nif (z == \\\"g33fi\\\") { c1x = 300; c1y = 300; tx = 300; ty = 300; tz = \\\"G33, Far-In\\\";}\\nif (z == \\\"g33ni\\\") { c2x = 300; c2y = 300; tx = 300; ty = 300; tz = \\\"G33, Near-In\\\";}\\nif (z == \\\"g33ii\\\") { c3x = 300; c3y = 300; tx = 300; ty = 300; tz = \\\"G33, Immediate-In\\\";}\\n\\nif (z == \\\"g33io\\\") { c3x = 10000; c3y = 300; tx = 300; ty = 300; tz = \\\"G33, Immediate-Out\\\"}\\nif (z == \\\"g33no\\\") { c2x = 10000; c2y = 300; tx = 300; ty = 300; tz = \\\"G33, Near-Out\\\"}\\nif (z == \\\"g33fo\\\") { c1x = 10000; c1y = 300; tx = 300; ty = 300; tz = \\\"G33, Far-Out\\\"}\\nif (z == \\\"g33ao\\\") { c0x = 10000; c0y = 300; tx = 10000; ty = 300; tz = \\\"G33, Area-Out\\\"}\\n\\n\\nif (z == \\\"g32ai\\\") { c0x = 200; c0y = 300; tx = 200; ty = 300; tz = \\\"G32, Area-In\\\";}\\nif (z == \\\"g32fi\\\") { c1x = 200; c1y = 300; tx = 200; ty = 300; tz = \\\"G32, Far-In\\\";}\\nif (z == \\\"g32ni\\\") { c2x = 200; c2y = 300; tx = 200; ty = 300; tz = \\\"G32, Near-In\\\";}\\nif (z == \\\"g32ii\\\") { c3x = 200; c3y = 300; tx = 200; ty = 300; tz = \\\"G32, Immediate-In\\\";}\\n\\nif (z == \\\"g32io\\\") { c3x = 10000; c3y = 300; tx = 200; ty = 300; tz = \\\"G32, Immediate-Out\\\"}\\nif (z == \\\"g32no\\\") { c2x = 10000; c2y = 300; tx = 200; ty = 300; tz = \\\"G32, Near-Out\\\"}\\nif (z == \\\"g32fo\\\") { c1x = 10000; c1y = 300; tx = 200; ty = 300; tz = \\\"G32, Far-Out\\\"}\\nif (z == \\\"g32ao\\\") { c0x = 10000; c0y = 300; tx = 10000; ty = 300; tz = \\\"G32, Area-Out\\\"}\\n\\n\\nif (z == \\\"g31ai\\\") { c0x = 100; c0y = 300; tx = 100; ty = 300; tz = \\\"G31, Area-In\\\";}\\nif (z == \\\"g31fi\\\") { c1x = 100; c1y = 300; tx = 100; ty = 300; tz = \\\"G31, Far-In\\\";}\\nif (z == \\\"g31ni\\\") { c2x = 100; c2y = 300; tx = 100; ty = 300; tz = \\\"G31, Near-In\\\";}\\nif (z == \\\"g31ii\\\") { c3x = 100; c3y = 300; tx = 100; ty = 300; tz = \\\"G31, Immediate-In\\\";}\\n\\nif (z == \\\"g31io\\\") { c3x = 10000; c3y = 300; tx = 100; ty = 300; tz = \\\"G31, Immediate-Out\\\"}\\nif (z == \\\"g31no\\\") { c2x = 10000; c2y = 300; tx = 100; ty = 300; tz = \\\"G31, Near-Out\\\"}\\nif (z == \\\"g31fo\\\") { c1x = 10000; c1y = 300; tx = 100; ty = 300; tz = \\\"G31, Far-Out\\\"}\\nif (z == \\\"g31ao\\\") { c0x = 10000; c0y = 300; tx = 10000; ty = 300; tz = \\\"G31, Area-Out\\\"}\\n\\n\\nif (z == \\\"g21ai\\\") { c0x = 100; c0y = 200; tx = 100; ty = 200; tz = \\\"G21, Area-In\\\";}\\nif (z == \\\"g21fi\\\") { c1x = 100; c1y = 200; tx = 100; ty = 200; tz = \\\"G21, Far-In\\\";}\\nif (z == \\\"g21ni\\\") { c2x = 100; c2y = 200; tx = 100; ty = 200; tz = \\\"G21, Near-In\\\";}\\nif (z == \\\"g21ii\\\") { c3x = 100; c3y = 200; tx = 100; ty = 200; tz = \\\"G21, Immediate-In\\\";}\\n\\nif (z == \\\"g21io\\\") { c3x = 10000; c3y = 200; tx = 100; ty = 200; tz = \\\"G21, Immediate-Out\\\"}\\nif (z == \\\"g21no\\\") { c2x = 10000; c2y = 200; tx = 100; ty = 200; tz = \\\"G21, Near-Out\\\"}\\nif (z == \\\"g21fo\\\") { c1x = 10000; c1y = 200; tx = 100; ty = 200; tz = \\\"G21, Far-Out\\\"}\\nif (z == \\\"g21ao\\\") { c0x = 10000; c0y = 200; tx = 10000; ty = 200; tz = \\\"G21, Area-Out\\\"}\\n\\n\\ni++;\\nif ( i >= ar.length) {\\n    i = 0;\\n}\\n//\u5ea7\u6a19\u60c5\u5831\u3092\u4fdd\u5b58\\ncontext.set(\\\"i0\\\", i);\\ncontext.set(\\\"c0x\\\", c0x);\\ncontext.set(\\\"c0y\\\", c0y);\\ncontext.set(\\\"c1x\\\", c1x);\\ncontext.set(\\\"c1y\\\", c1y);\\ncontext.set(\\\"c2x\\\", c2x);\\ncontext.set(\\\"c2y\\\", c2y);\\ncontext.set(\\\"c3x\\\", c3x);\\ncontext.set(\\\"c3y\\\", c3y);\\ncontext.set(\\\"tx\\\", tx);\\ncontext.set(\\\"ty\\\", ty);\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\n//\u5ea7\u6a19\u60c5\u5831\u3092\u9001\u51fa\\nvar data = [[time],[c0x],[c0y],[c1x],[c1y],[c2x],[c2y],[c3x],[c3y],[tx],[ty],[temp],[humid],[tz]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":460,\"y\":100,\"wires\":[[\"2bfad213.7ed286\",\"95533b1.5f338c8\"]]},{\"id\":\"ddf813cc.0064d8\",\"type\":\"websocket-listener\",\"z\":\"1f1ccf2d.e2b139\",\"path\":\"/ws/flow38\",\"wholemsg\":\"false\"}]\n\n```\n\n1. \u5b9f\u969b\u306e\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u30b7\u30b0\u30ca\u30eb\u306b\u5408\u308f\u305b\u3001Area/Far/Near/Immediate\u306eIn/Out\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-03 10.11.58.png](https://qiita-image-store.s3.amazonaws.com/0/125842/eaf152bc-ca67-dbc5-259b-b42683bc5578.png)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-03 10.37.35.png](https://qiita-image-store.s3.amazonaws.com/0/125842/e7f61e2c-f1f2-7dfa-98cb-3ad44e807983.png)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-03 10.43.59.png](https://qiita-image-store.s3.amazonaws.com/0/125842/bccb8db9-d166-fa2c-6dee-2eb5e0538329.png)\n\n\n# \u30b5\u30f3\u30d7\u30eb-\uff13\uff1a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u683c\u7d0d\u3055\u308c\u305f\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\n\n#### 1. \u4f4d\u7f6e\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u7528\u610f\u3057\u307e\u3059\n- \u65e2\u306b\u4f7f\u7528\u3057\u3066\u3044\u308bdashDB\u30b5\u30fc\u30d3\u30b9\u304c\u7121\u3044\u5834\u5408\u3001\u65b0\u305f\u306b\u4e00\u3064\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\n- IoT\u30a2\u30d7\u30ea\uff08Node-RED\u304c\u7a3c\u50cd\u3057\u3066\u3044\u308b\u30a2\u30d7\u30ea\uff09\u306b\u3001dashDB\u30b5\u30fc\u30d3\u30b9\u3092\u63a5\u7d9a\u3057\u307e\u3059\n- \"Create a Table\"\u30e1\u30cb\u30e5\u30fc\u3067\u3001\u4ee5\u4e0b\u306eDDL\u3092\u5b9f\u884c\u3057\u3001\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\"LATEST\"\u3068\u3044\u3046\u540d\u306e\u8868\u3092\u7528\u610f\u3057\u307e\u3059\n\n```lang:\u30d3\u30fc\u30b3\u30f3\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\u8868\nCREATE TABLE \"LATEST\" \n(\n  \"ID\" INT PRIMARY KEY NOT NULL,\n  \"EVENT\" VARCHAR(30),\n  \"X\" INT,\n  \"Y\" INT \n);\n\n```\n\n- \u8868\u304c\u4f5c\u6210\u3055\u308c\u305f\u3089\u3001\"Run SQL\"\u30e1\u30cb\u30e5\u30fc\u306a\u3069\u3092\u4f7f\u7528\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306aSQL\u6587\u3067\u3066\u521d\u671f\u5024\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n\n```lang:\u8868\u3078\u521d\u671f\u5024\u3092\u66f8\u304d\u8fbc\u3080\ninsert into dashxxxx.latest (id, event, x, y) values(1, 'Beacon#1 NearIn', 150, 100);\n\n```\n\n- \u8868\u3078\u306e\u30c7\u30fc\u30bf\u306e\u66f8\u304d\u8fbc\u307f\u306fNode-RED\u306edashDB\u30ce\u30fc\u30c9\u3067\u3082\u53ef\u80fd\u3067\u3059\u3002\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30d5\u30ed\u30fc\u3092\u4f7f\u7528\u53ef\u80fd\u3067\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-11 10.53.48.png](https://qiita-image-store.s3.amazonaws.com/0/125842/327f9ca1-756d-a9ec-ed82-36b367af5bca.png)\n\n\n```lang:dashDB\u306e\u8868\u3078\u521d\u671f\u5024\u3092\u66f8\u304d\u8fbc\u3080\n[{\"id\":\"9bdeed4c.dce98\",\"type\":\"function\",\"z\":\"e98e4621.ecc648\",\"name\":\"\u8868\u3078\u66f8\u304d\u8fbc\u3080\",\"func\":\"msg.payload = \\n{ \\n\\tID : 1,\\n\\tEVENT : \\\"Beacon#1 NearIn\\\",\\n\\tX : 150,\\n\\tY : 100\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":340,\"y\":80,\"wires\":[[\"aa2746c4.63c578\"]]},{\"id\":\"94270249.32d73\",\"type\":\"inject\",\"z\":\"e98e4621.ecc648\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":140,\"y\":80,\"wires\":[[\"9bdeed4c.dce98\"]]},{\"id\":\"aa2746c4.63c578\",\"type\":\"dashDB out\",\"z\":\"e98e4621.ecc648\",\"service\":\"\",\"table\":\"LATEST\",\"name\":\"\",\"x\":540,\"y\":80,\"wires\":[]}]\n\n```\n\n\n#### 2. \u30d3\u30fc\u30b3\u30f3\u304b\u3089\u53d6\u5f97\u3055\u308c\u308b\u4f4d\u7f6e\u60c5\u5831\u3092\u968f\u6642\u4e0a\u8a18\u306e\u8868\u3078\u66f4\u65b0\u3057\u307e\u3059\n- \u3053\u3053\u3067\u306f\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\uff09\u3067\u4f4d\u7f6e\u60c5\u5831\u3092\u66f4\u65b0\u3057\u3066\u3044\u304d\u307e\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-11 10.56.09.png](https://qiita-image-store.s3.amazonaws.com/0/125842/48d018de-e762-ad64-08be-f10b71dabda9.png)\n\n```lang:\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u66f8\u304d\u8fbc\u3080\n[{\"id\":\"bccae16c.303868\",\"type\":\"inject\",\"z\":\"43384da6.15b854\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":130,\"y\":140,\"wires\":[[]]},{\"id\":\"24a8f3ce.490e94\",\"type\":\"function\",\"z\":\"43384da6.15b854\",\"name\":\"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\",\"func\":\"var i = context.get(\\\"i0\\\")||0;\\n\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nxa = [150,200,250,300,350,400,450,500,550,600,650,700,750,800,850,850,850,850,850,800,750,700,650,600,550,500,450,400,350,300,250,200,150,150,150,150];\\nya = [100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,150,200,250,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,250,200,150];\\nmsg.x = xa[i];\\nmsg.y = ya[i];\\n\\ni++;\\nif ( i >= xa.length) {\\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n\\nreturn msg;\\n\\n\",\"outputs\":1,\"noerr\":0,\"x\":340,\"y\":140,\"wires\":[[\"42fd7415.f0a0d4\"]]},{\"id\":\"5e0f9661.a423f\",\"type\":\"debug\",\"z\":\"43384da6.15b854\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"payload\",\"x\":730,\"y\":140,\"wires\":[]},{\"id\":\"fa4fe98.00edf18\",\"type\":\"comment\",\"z\":\"43384da6.15b854\",\"name\":\"\u30d3\u30fc\u30b3\u30f3\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":170,\"y\":80,\"wires\":[]},{\"id\":\"42fd7415.f0a0d4\",\"type\":\"dashDB in\",\"z\":\"43384da6.15b854\",\"service\":\"\",\"query\":\"UPDATE LATEST SET X = ?, Y = ? WHERE ID=1;\",\"params\":\"msg.x,msg.y\",\"name\":\"\",\"x\":540,\"y\":140,\"wires\":[[\"5e0f9661.a423f\"]]}]\n\n```\n\n- dashDB\u306e\u30ce\u30fc\u30c9\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f4\u65b0\u3057\u307e\u3059\u3002\u4e0a\u624b\u304f\u7e4b\u304c\u3089\u306a\u3044\u5834\u5408\u3001dashDB\u306e\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3001\u65b0\u305f\u306b\u4f5c\u6210\u3057\u307e\u3059\n- Inject\u30ce\u30fc\u30c9\u304b\u3089\u306f\u6bce\u79d2\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u9001\u4fe1\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\n\n\n#### 3. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\n- \u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-11 10.57.47.png](https://qiita-image-store.s3.amazonaws.com/0/125842/7fb64331-762f-c808-8e96-cc3b433f1d14.png)\n\n```lang:\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3059\u308b\n[{\"id\":\"80fc02f0.c86b7\",\"type\":\"comment\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\",\"info\":\"\",\"x\":210,\"y\":240,\"wires\":[]},{\"id\":\"c7e4293.d855d58\",\"type\":\"websocket out\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"server\":\"89c843d3.9f96e\",\"client\":\"\",\"x\":780,\"y\":180,\"wires\":[]},{\"id\":\"d0fa4c87.c37cd\",\"type\":\"inject\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":150,\"y\":140,\"wires\":[[]]},{\"id\":\"b8686c79.31f6c\",\"type\":\"comment\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\u4f4d\u7f6e\u60c5\u5831\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u66f4\u65b0\",\"info\":\"\",\"x\":190,\"y\":80,\"wires\":[]},{\"id\":\"22796522.8e4652\",\"type\":\"function\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\",\"func\":\"//var i = context.get(\\\"i0\\\")||0;\\n\\n//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 1;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nvar x = msg.payload.X;\\nvar y = msg.payload.Y;\\nvar ev = msg.payload.EVENT;\\n\\nvar temp  = 15 + Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\nvar humid = 40 + 2 * Math.floor(Math.random () *100 + 1) / 10;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\n/*i++;\\nif ( i >= xa.length) {\\n    i = 0;\\n}\\ncontext.set(\\\"i0\\\", i);\\n*/\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\nvar data = [[time],[x],[y],[ev],[temp],[humid]];\\n//var data = [[time],[x],[y],[temp],[humid]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":600,\"y\":200,\"wires\":[[\"c7e4293.d855d58\",\"12287212.4619be\"]]},{\"id\":\"a7cd8506.ca0d58\",\"type\":\"function\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":480,\"y\":140,\"wires\":[[\"22796522.8e4652\"]]},{\"id\":\"12287212.4619be\",\"type\":\"debug\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"false\",\"x\":770,\"y\":220,\"wires\":[]},{\"id\":\"e721517c.c01fb8\",\"type\":\"template\",\"z\":\"4a5aa97c.fff478\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n\u3000</head>\\n\u3000<body>\\n\\t\u3000\u3000<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t\\t\\t  <h1>\u4f4d\u7f6e\u306b\u3088\u308bIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t\\t\\t    <br />\\n\\t\\t\\t    <p>\\n\\t\\t\\t      IoT\u30c7\u30fc\u30bf\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t\\t\\t    </p>\\n\\t\\t\\t</div>\\n\\n\\n<div id='example'>\\n<svg id=\\\"svg.svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1000\\\" height=\\\"550\\\" viewBox=\\\"0 0 1000 550\\\">\\n\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"1000\\\" y2=\\\"0\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"1000\\\" y1=\\\"0\\\" x2=\\\"1000\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"550\\\" x2=\\\"1000\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-width=\\\"2\\\" />\\n\\n\\t<line x1=\\\"0\\\" y1=\\\"50\\\" x2=\\\"1000\\\" y2=\\\"50\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"250\\\" x2=\\\"1000\\\" y2=\\\"250\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"0\\\" y1=\\\"450\\\" x2=\\\"1000\\\" y2=\\\"450\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <line x1=\\\"100\\\" y1=\\\"0\\\" x2=\\\"100\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"200\\\" y1=\\\"0\\\" x2=\\\"200\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"300\\\" y1=\\\"0\\\" x2=\\\"300\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n  <line x1=\\\"400\\\" y1=\\\"0\\\" x2=\\\"400\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"500\\\" y1=\\\"0\\\" x2=\\\"500\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"600\\\" y1=\\\"0\\\" x2=\\\"600\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"700\\\" y1=\\\"0\\\" x2=\\\"700\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"800\\\" y1=\\\"0\\\" x2=\\\"800\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\t<line x1=\\\"900\\\" y1=\\\"0\\\" x2=\\\"900\\\" y2=\\\"550\\\" stroke=\\\"black\\\" stroke-dasharray=\\\"2\\\"\u3000stroke-width=\\\"1\\\" />\\n\\n  <rect x=\\\"80\\\"  y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"480\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"580\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"680\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"780\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"880\\\" y=\\\"30\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n\\t<rect x=\\\"80\\\"  y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"480\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"580\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"680\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"780\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"880\\\" y=\\\"230\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <rect x=\\\"80\\\"  y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"180\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"280\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n  <rect x=\\\"380\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"480\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"580\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"680\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"780\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"880\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\t<rect x=\\\"880\\\" y=\\\"430\\\" width=\\\"40\\\" height=\\\"40\\\" fill=\\\"#d2b48c\\\" />\\n\\n  <circle id=\\\"c01\\\" cx=\\\"150\\\" cy=\\\"100\\\" r=\\\"10\\\" fill=\\\"#98fb98\\\"></circle>\\n\\n\\t<text id=\\\"t01\\\" x=\\\"170\\\" y=\\\"100\\\">Beacon8185</text>\\n  <text id=\\\"t02\\\" x=\\\"170\\\" y=\\\"120\\\" font-size=\\\"12\\\">\u6e29\u5ea6\u3001\u6e7f\u5ea6</text>\\n\\n</svg>\\n</div>\\n\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\n<p>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t\u6642\u523b\uff1a<div style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output1\\\"></div><br>\\n\\t\\t\u30bb\u30f3\u30b5\u30fcX\u5ea7\u6a19\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output2\\\"></span><br>\\n\\t\\t\u30bb\u30f3\u30b5\u30fcY\u5ea7\u6a19\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output3\\\"></span><br>\\n\\t\\t\u30a4\u30d9\u30f3\u30c8\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output4\\\"></span><br>\\n\\t\\t\u30bb\u30f3\u30b5\u30fc\u6e29\u5ea6\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output5\\\"></span>\u2103<br>\\n\\t\\t\u30bb\u30f3\u30b5\u30fc\u6e7f\u5ea6\uff1a\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 12pt\\\" id=\\\"output6\\\"></span>\uff05<br>\\n</p>\\n<!---\\n\\t\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t\\t<h2>\u30bb\u30f3\u30b5\u30fcX\u5ea7\u6a19\u3000</h2>\\n\\t\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t\\t<h2>\u30bb\u30f3\u30b5\u30fcY\u5ea7\u6a19\u3000</h2>\\n\\t\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n\\t\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e29\u5ea6\u3000</h2>\\n\\t\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\u2103\\n\\t\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\u6e7f\u5ea6\u3000</h2>\\n\\t\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output5\\\"></span>\uff05\\n--->\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n  <div class=\\\"category\\\">\u53c2\u8003URL</div>\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  <div class=\\\"category\\\">\u30de\u30cb\u30e5\u30a2\u30eb</div>\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n\\n<script>\\n\\nvar connection = new WebSocket('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u540d.mybluemix.net/ws/flow38');\\n\\nconnection.onopen = function () {\\n  console.log(\\\"websocket connected\\\");\\n};\\n\\n// Log errors\\nconnection.onerror = function (error) {\\n  console.log('WebSocket Error ' + error);\\n};\\n\\n// Log messages from the server\\nconnection.onmessage = function (m) {\\n  //console.log('Server: ' + m.data);\\n\\tdoIt(m);\\n};\\n\\n//function doIt\\nfunction doIt(msg){\\n  console.log(\\\"doit:\\\" + msg.data);\\n\\tvar msgs = JSON.parse(msg.data);\\n\\n\\t//\u5186\u8981\u7d20\u3092\u53d6\u5f97\u3057\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar c = document.querySelector('circle');\\n\\t(function(){\\n\\t\\tvar c0x = parseInt(msgs[1]);\\n\\t\\tvar c0y = parseInt(msgs[2]);\\n\\t  c.setAttribute('cx', c0x );\\n\\t\\tc.setAttribute('cy', c0y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u3092\u914d\u5217\u3067\u53d6\u5f97\u3057\u3001\u5404text\u3092\u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u6307\u5b9a\\n\\tvar t = document.querySelectorAll('text');\\n\\tvar t0x = parseInt(msgs[1]) + 20;\\n\\tvar t0y = parseInt(msgs[2]);\\n\\t(function(){\\n\\t  t[0].setAttribute('x', t0x );\\n\\t\\tt[0].setAttribute('y', t0y );\\n\\t})();\\n\\tvar t1x = parseInt(msgs[1]) + 20;\\n\\tvar t1y = parseInt(msgs[2]) + 20;\\n\\t(function(){\\n\\t  t[1].setAttribute('x', t1x );\\n\\t\\tt[1].setAttribute('y', t1y );\\n\\t})();\\n\\n\\t//text\u8981\u7d20\u306e\u6587\u5b57\u5217\u3092\u5909\u66f4\\n\\tvar t2 = document.getElementById('t02');\\n\\t(function(){\\n\\t  t2.textContent=\\\"\u6e29\u5ea6:\\\" + msgs[4] + \\\"\u2103\u3001\u6e7f\u5ea6:\\\" + msgs[5] + \\\"\uff05\\\";\\n\\t})();\\n\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\t//for (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[3];\\n\\ttarget = document.getElementById(\\\"output5\\\");\\n\\ttarget.innerHTML = msgs[4];\\n\\ttarget = document.getElementById(\\\"output6\\\");\\n\\ttarget.innerHTML = msgs[5];\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":340,\"y\":300,\"wires\":[[\"568c11f3.6cd9c8\"]]},{\"id\":\"fd5250a9.3ed978\",\"type\":\"http in\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"url\":\"/test38\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":150,\"y\":300,\"wires\":[[\"e721517c.c01fb8\"]]},{\"id\":\"568c11f3.6cd9c8\",\"type\":\"http response\",\"z\":\"4a5aa97c.fff478\",\"name\":\"\",\"x\":530,\"y\":300,\"wires\":[]},{\"id\":\"81f6330.6d5025\",\"type\":\"dashDB in\",\"z\":\"4a5aa97c.fff478\",\"service\":\"\",\"query\":\"SELECT * FROM LATEST WHERE ID=1;\",\"params\":\"\",\"name\":\"\",\"x\":320,\"y\":140,\"wires\":[[\"a7cd8506.ca0d58\"]]},{\"id\":\"89c843d3.9f96e\",\"type\":\"websocket-listener\",\"z\":\"4a5aa97c.fff478\",\"path\":\"/ws/flow38\",\"wholemsg\":\"false\"}]\n\n```\n\n- dashDB\u306e\u30ce\u30fc\u30c9\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f4\u65b0\u3057\u307e\u3059\u3002\u4e0a\u624b\u304f\u7e4b\u304c\u3089\u306a\u3044\u5834\u5408\u3001dashDB\u306e\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3001\u65b0\u305f\u306b\u4f5c\u6210\u3057\u307e\u3059\n- \"ws\u7528html\u3092\u8fd4\u3059\"template\u30ce\u30fc\u30c9\u306e131\u884c\u76ee\u306e\u6b21\u306e\u9805\u76ee\u3092\u7a3c\u50cd\u3055\u305b\u308bIoT\u30a2\u30d7\u30ea\u540d\u306b\u5909\u66f4\u3057\u307e\u3059\u3002`new WebSocket('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u540d.mybluemix.net/ws/flow38');`\n- Inject\u30ce\u30fc\u30c9\u304b\u3089\u306f\u6bce\u79d2\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u9001\u4fe1\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\n\n- \u30d6\u30e9\u30a6\u30b6\u3067`IoT\u30a2\u30d7\u30ea\u540d.mybluemix.net/test38`\u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-11 11.11.39.png](https://qiita-image-store.s3.amazonaws.com/0/125842/1691957e-1aae-fc44-5d16-5ed0f43d9b7b.png)\n", "tags": ["watsoniotplatform", "node-red", "IoT", "wiotp", "wiotp405"]}