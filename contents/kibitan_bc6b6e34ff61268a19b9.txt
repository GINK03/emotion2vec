{"context": " More than 1 year has passed since last update.default_scope\u306b\u306f\u3001\u521d\u671f\u5024\u3092\u4ee3\u5165\u3059\u308b\u6a5f\u80fd\u304c\u3042\u308b\u3002\uff08\u3053\u308c\u81ea\u4f53\u3067\u30cf\u30de\u308b\u3053\u3068\u3082\u3042\u308b\u6c17\u304c\u3059\u308b\uff09\n\u3057\u304b\u3057\u3001default_scope\u3067\u306e\u6761\u4ef6\u306f\u500b\u5225\u306b\u306f\u5916\u305b\u306a\u3044\u306e\u3067\u3001\u907f\u3051\u305f\u307b\u3046\u304c\u7121\u96e3\u3002(unscoped\u3067\u5916\u305b\u308b\u3051\u308c\u3069\u3001\u3053\u308c\u306f\u5168\u3066\u306e\u6761\u4ef6\u3092\u6d88\u3057\u3055\u308b\u306e\u3067\u3001has_many \u7b49\u3092\u4ecb\u3057\u3066\u547c\u3093\u3060\u5834\u5408\u306e\u6761\u4ef6\u3082\u6d88\u3048\u3066\u3057\u307e\u3046\uff09\n\u3088\u304f\u3042\u308b\uff1fRails\u5931\u6557\u8ac7 default_scope\u7de8 | TechRacho\nhttp://techracho.bpsinc.jp/tsunekawa/2013_10_10/13553\n\u306a\u306e\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\nclass Model < ActiveRecord::Base\n  after_initialize :set_default_value\n\n  private\n  def set_default_value\n    self.number  ||= 0.0\n    self.bool_field = true if (self.has_attribute? :bool_value) && self.bool_field.nil?\n  end\nend\n\n\u53c2\u8003\uff1a\nruby on rails - How can I set default values in ActiveRecord? - Stack Overflow\nhttp://stackoverflow.com/questions/328525/how-can-i-set-default-values-in-activerecord\n\u8ffd\u8a18\uff1a\n\u3042\u3068\u304b\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304d\u306f\u3001\u65b0\u898f\u306b\u9650\u3063\u305f\u307b\u3046\u304c\u3088\u3044\uff1f\uff1f\nafter_initialize :set_default_value, if: :new_record?\n\n\ndefault_scope\u306b\u306f\u3001\u521d\u671f\u5024\u3092\u4ee3\u5165\u3059\u308b\u6a5f\u80fd\u304c\u3042\u308b\u3002\uff08\u3053\u308c\u81ea\u4f53\u3067\u30cf\u30de\u308b\u3053\u3068\u3082\u3042\u308b\u6c17\u304c\u3059\u308b\uff09\n\n\u3057\u304b\u3057\u3001default_scope\u3067\u306e\u6761\u4ef6\u306f\u500b\u5225\u306b\u306f\u5916\u305b\u306a\u3044\u306e\u3067\u3001\u907f\u3051\u305f\u307b\u3046\u304c\u7121\u96e3\u3002(unscoped\u3067\u5916\u305b\u308b\u3051\u308c\u3069\u3001\u3053\u308c\u306f\u5168\u3066\u306e\u6761\u4ef6\u3092\u6d88\u3057\u3055\u308b\u306e\u3067\u3001has_many \u7b49\u3092\u4ecb\u3057\u3066\u547c\u3093\u3060\u5834\u5408\u306e\u6761\u4ef6\u3082\u6d88\u3048\u3066\u3057\u307e\u3046\uff09\n\n\u3088\u304f\u3042\u308b\uff1fRails\u5931\u6557\u8ac7 default_scope\u7de8 | TechRacho\nhttp://techracho.bpsinc.jp/tsunekawa/2013_10_10/13553\n\n\n\u306a\u306e\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3059\u308b\n\n```ruby\nclass Model < ActiveRecord::Base\n  after_initialize :set_default_value\n  \n  private\n  def set_default_value\n    self.number  ||= 0.0\n    self.bool_field = true if (self.has_attribute? :bool_value) && self.bool_field.nil?\n  end\nend\n```\n\n\u53c2\u8003\uff1a\nruby on rails - How can I set default values in ActiveRecord? - Stack Overflow\nhttp://stackoverflow.com/questions/328525/how-can-i-set-default-values-in-activerecord\n\n\n\u8ffd\u8a18\uff1a\n\u3042\u3068\u304b\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304d\u306f\u3001\u65b0\u898f\u306b\u9650\u3063\u305f\u307b\u3046\u304c\u3088\u3044\uff1f\uff1f\n\n```\nafter_initialize :set_default_value, if: :new_record?\n```\n", "tags": ["Rails4", "Rails", "ActiveRecord"]}