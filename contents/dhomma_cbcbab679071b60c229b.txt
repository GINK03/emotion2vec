{"tags": ["Java", "debug", "JDB"], "context": " More than 1 year has passed since last update.\n\njdb \u306e\u4f7f\u3044\u65b9\n\nJDK \u306b\u6a19\u6e96\u3067\u4ed8\u5c5e\u3057\u3066\u3044\u308b\u30c7\u30d0\u30c3\u30ac\u306e jdb \u306b\u3064\u3044\u3066\u307e\u3068\u3081\u307e\u3059\n\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\nhttps://docs.oracle.com/javase/8/docs/technotes/tools/unix/jdb.html\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr011.html\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/jpda/\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/jpda/jdb.html\n\n\n\u6ce8\u610f\u4e8b\u9805\n\n\u30c7\u30d0\u30c3\u30b0\u5bfe\u8c61\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u6642\u306b -g \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u306a\u3044\u3068\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093\n\u4ee5\u4e0b\u306e\u5185\u5bb9\u306b\u9593\u9055\u3044\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u3054\u3081\u3093\u306a\u3055\u3044\n\n\n\u30c7\u30d0\u30c3\u30b0\u5bfe\u8c61\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nMyProg01.java\nimport java.time.*;\n\nclass MyProg01 {\n\n  private String time;\n\n  public static void main(String[] args) {\n\n    MyProg01 app = new MyProg01();\n    app.loop();\n\n  }\n\n  void loop() {\n\n    while(true) {\n      time();\n    }\n  }\n\n  void time() {\n\n    try {\n\n      this.time = LocalDateTime.now().toString();\n      Thread.sleep(1000);\n\n    } catch(Exception e) {\n      e.printStackTrace();\n    }\n\n  }\n\n}\n\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n# javac -g MyProg01.java \n\n\njdb \u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\n\n\u30c7\u30d0\u30c3\u30ac\u3068\u3068\u3082\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d77\u52d5\u3059\u308b\n# jdb MyProg01\nInitializing jdb ...\n> run\nrun MyProg01\nSet uncaught java.lang.Throwable\nSet deferred uncaught java.lang.Throwable\n> \nVM Started: \n> \n\n\n\u30af\u30e9\u30b9\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b : classes\n> classes\n** classes list **\nMyProg01\nboolean[]\nbyte[]\nchar[]\ndouble[]\nfloat[]\nint[]\njava.io.BufferedInputStream\njava.io.BufferedOutputStream\n...\n\n\n\u30e1\u30bd\u30c3\u30c9\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b : methods\n> methods MyProg01\n** methods list **\nMyProg01 <init>()\nMyProg01 main(java.lang.String[])\nMyProg01 loop()\nMyProg01 time()\njava.lang.Object <init>()\njava.lang.Object registerNatives()\n...\n\n\n\u30b9\u30ec\u30c3\u30c9\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b : threads\n> threads\nGroup system:\n  (java.lang.ref.Reference$ReferenceHandler)0x15b Reference Handler cond. waiting\n  (java.lang.ref.Finalizer$FinalizerThread)0x15a  Finalizer         cond. waiting\n  (java.lang.Thread)0x159                         Signal Dispatcher running\nGroup main:\n  (java.lang.Thread)0x1                           main              sleeping\n\n\n\u30c7\u30d0\u30c3\u30b0\u5bfe\u8c61\u306e\u30b9\u30ec\u30c3\u30c9\u3092\u8a2d\u5b9a\u3059\u308b : thread\n> thread 1\nmain[1] \n\n\n\u30e1\u30bd\u30c3\u30c9\u306b\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b : stop in\n\nstop in <class id>.<method> \u3067\u30e1\u30bd\u30c3\u30c9\u306b\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\n\nmain[1] stop in MyProg01.time\nSet breakpoint MyProg01.time\nmain[1] \nBreakpoint hit: \"thread=main\", MyProg01.time(), line=25 bci=0\n25          this.time = LocalDateTime.now().toString();\n\n\nstop at <class id>:<line> \u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u884c\u306b\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\n\n\n\u73fe\u5728\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u78ba\u8a8d\u3059\u308b : clear\nmain[1] clear\nBreakpoints set:\n    breakpoint MyProg01.time\n\n\n\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u524a\u9664\u3059\u308b : clear\n\nclear <class id>.<method> \u3067\u30e1\u30bd\u30c3\u30c9\u306b\u6307\u5b9a\u3057\u305f\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u524a\u9664\u3067\u304d\u307e\u3059\n\nmain[1] clear MyProg01.time\nRemoved: breakpoint MyProg01.time\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u884c\u306b\u6307\u5b9a\u3057\u305f\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u306f clear <class id>:<line> \u3067\u524a\u9664\u3067\u304d\u307e\u3059\n\n\n\u30b9\u30bf\u30c3\u30af\u30d5\u30ec\u30fc\u30e0\u3092\u8868\u793a\u3059\u308b : where\nmain[1] where\n  [1] MyProg01.time (MyProg01.java:25)\n  [2] MyProg01.loop (MyProg01.java:17)\n  [3] MyProg01.main (MyProg01.java:10)\n\n\n\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u3092\u8868\u793a\u3059\u308b : locals\nmain[1] locals\nNo local variables\n\n\n\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u3092\u4f7f\u3063\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3067\u3001No local variables \u304c\u51fa\u529b\u3055\u308c\u307e\u3059\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u8868\u793a\u3059\u308b : print\nmain[1] print this.time\n this.time = \"2016-01-22T17:33:51.001\"\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e2d\u306e\u5b9f\u884c\u7b87\u6240\u3092\u78ba\u8a8d\u3059\u308b : list\nmain[1] list\n21      void time() {\n22    \n23        try {\n24    \n25 =>       this.time = LocalDateTime.now().toString();\n26          Thread.sleep(1000);\n27    \n28        } catch(Exception e) {\n29          e.printStackTrace();\n30        }\n\n\n\u30b9\u30c6\u30c3\u30d7\u5b9f\u884c\u3059\u308b : step\nmain[1] step\n> \nStep completed: \"thread=main\", MyProg01.time(), line=26 bci=10\n26          Thread.sleep(1000);\n\nmain[1] list\n22    \n23        try {\n24    \n25          this.time = LocalDateTime.now().toString();\n26 =>       Thread.sleep(1000);\n27    \n28        } catch(Exception e) {\n29          e.printStackTrace();\n30        }\n31    \n\n\n\u6b21\u306e\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u307e\u3067\u51e6\u7406\u3092\u9032\u3081\u308b : cont\nmain[1] cont\n> \nBreakpoint hit: \"thread=main\", MyProg01.time(), line=25 bci=0\n25          this.time = LocalDateTime.now().toString();\n\n\n\n\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3067\u81ea\u52d5\u7684\u306b\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u8a2d\u5b9a\u3059\u308b : monitor\n\nmonitor <command> \u3067\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\n\nmain[1] monitor where\nmain[1] cont\n> \nBreakpoint hit: \"thread=main\", MyProg01.time(), line=25 bci=0\n\n  [1] MyProg01.time (MyProg01.java:25)\n  [2] MyProg01.loop (MyProg01.java:17)\n  [3] MyProg01.main (MyProg01.java:10)\n\n\nmonitor \u30b3\u30de\u30f3\u30c9\u3092\u8907\u6570\u56de\u5b9f\u884c\u3059\u308b\u3068\u3001\u8907\u6570\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n\n\n\u81ea\u52d5\u5b9f\u884c\u3055\u308c\u308b\u30b3\u30de\u30f3\u30c9\u3092\u78ba\u8a8d\u3059\u308b : monitor\nmain[1] monitor\n3:  where\n\n\n\u81ea\u52d5\u5b9f\u884c\u3055\u308c\u308b\u30b3\u30de\u30f3\u30c9\u3092\u524a\u9664\u3059\u308b : unmonitor\n\nunmonitor <monitor#> \u3067\u30b3\u30de\u30f3\u30c9\u3092\u524a\u9664\u3057\u307e\u3059\n\nmain[1] unmonitor 3\nUnmonitoring 3:  where \n\n\n\u30c7\u30d0\u30c3\u30ac\u3092\u629c\u3051\u308b : exit\nmain[1] exit\n\n\nagentlib \u3092\u4f7f\u7528\u3057\u3066\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3059\u308b\n\n\u30c7\u30d0\u30c3\u30b0\u3055\u308c\u308b\u5074\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u306b agentlib \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\n\n\n\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d77\u52d5\u3059\u308b : agentlib\n# java -agentlib:jdwp=transport=dt_socket,server=y MyProg01\nListening for transport dt_socket at address: 44411\n\n\njdb \u3092\u63a5\u7d9a\u3059\u308b : attach\n\njdb \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b attach \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u306b\u63a5\u7d9a\u3057\u307e\u3059\n\n# jdb -attach 44411\nSet uncaught java.lang.Throwable\nSet deferred uncaught java.lang.Throwable\nInitializing jdb ...\n> \nVM Started: No frames on the current call stack\n\nmain[1]\n\n\nagentlib \u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067\u8d77\u52d5\u3057\u305f\u30d7\u30ed\u30bb\u30b9\u306b\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u63a5\u7d9a\u3059\u308b\n\nagentlib \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u305a\u306b\u8d77\u52d5\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3059\u308b\u65b9\u6cd5\u3067\u3059\n\n\n\u30d7\u30ed\u30bb\u30b9 ID \u3092\u6307\u5b9a\u3057\u3066 jdb \u3092\u63a5\u7d9a\u3059\u308b : SAPIDAttachingConnector\n$ jps\n26073 Jps\n26059 MyProg01\n$ jdb -connect sun.jvm.hotspot.jdi.SAPIDAttachingConnector:pid=26059\nInitializing jdb ...\n\n\n\u63a5\u7d9a\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u306f\u51e6\u7406\u3092\u4e00\u6642\u505c\u6b62\u3057\u307e\u3059\n\"java.lang.InternalError: Metadata does not appear to be polymorphic\" \u30a8\u30e9\u30fc\u3067\u63a5\u7d9a\u3067\u304d\u306a\u304b\u3063\u305f\u308a\u3001\u63a5\u7d9a\u3067\u304d\u3066\u3082\u30b9\u30ec\u30c3\u30c9\u30ea\u30b9\u30c8\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u3088\u3046\u3067\u3057\u305f\n\n\njsadebugd \u7d4c\u7531\u3067 jdb \u3092\u63a5\u7d9a\u3059\u308b\n\n\u30d7\u30ed\u30bb\u30b9 ID \u3092\u6307\u5b9a\u3057\u3066 jdb \u3092\u63a5\u7d9a\u3059\u308b\u4ee3\u308f\u308a\u306b jsadebugd \u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\u3067\u3082 Java \u306e\u30d7\u30ed\u30bb\u30b9\u306b jdb \u3092\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\njsadebugd \u306e\u63a5\u7d9a\n\n$ jps\n26059 MyProg01\n26110 Jps\n$ jsadebugd 26059\nAttaching to process ID 26059 and starting RMI services, please wait...\nDebugger attached and RMI services started.\n\n\njsadebugd \u3092\u63a5\u7d9a\u3059\u308b\u3068\u3001\u63a5\u7d9a\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u306f\u51e6\u7406\u3092\u4e00\u6642\u505c\u6b62\u3057\u307e\u3059\njdb \u306e\u63a5\u7d9a\n\n$ jdb -connect sun.jvm.hotspot.jdi.SADebugServerAttachingConnector:debugServerName=localhost\nInitializing jdb ...\n> \n\n\n\"java.lang.InternalError: Metadata does not appear to be polymorphic\" \u30a8\u30e9\u30fc\u3067\u63a5\u7d9a\u3067\u304d\u306a\u304b\u3063\u305f\u308a\u3001\u63a5\u7d9a\u3067\u304d\u3066\u3082\u30b9\u30ec\u30c3\u30c9\u30ea\u30b9\u30c8\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u3088\u3046\u3067\u3057\u305f\n\n\njdb \u306e\u30b3\u30cd\u30af\u30bf\u30fc\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\n# jdb -listconnectors | grep Connector\n  Connector: com.sun.jdi.CommandLineLaunch  Transport: dt_socket\n  Connector: com.sun.jdi.RawCommandLineLaunch  Transport: dt_socket\n  Connector: com.sun.jdi.SocketAttach  Transport: dt_socket\n  Connector: com.sun.jdi.SocketListen  Transport: dt_socket\n  Connector: com.sun.jdi.ProcessAttach  Transport: local\n  Connector: sun.jvm.hotspot.jdi.SACoreAttachingConnector  Transport: filesystem\n  Connector: sun.jvm.hotspot.jdi.SADebugServerAttachingConnector  Transport: RMI\n  Connector: sun.jvm.hotspot.jdi.SAPIDAttachingConnector  Transport: local process\n\n\n# jdb \u306e\u4f7f\u3044\u65b9\n- JDK \u306b\u6a19\u6e96\u3067\u4ed8\u5c5e\u3057\u3066\u3044\u308b\u30c7\u30d0\u30c3\u30ac\u306e jdb \u306b\u3064\u3044\u3066\u307e\u3068\u3081\u307e\u3059\n\n## \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n- https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jdb.html\n- https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr011.html\n- https://docs.oracle.com/javase/8/docs/technotes/guides/jpda/\n- https://docs.oracle.com/javase/8/docs/technotes/guides/jpda/jdb.html\n\n## \u6ce8\u610f\u4e8b\u9805\n\n- \u30c7\u30d0\u30c3\u30b0\u5bfe\u8c61\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u6642\u306b -g \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u306a\u3044\u3068\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093\n- \u4ee5\u4e0b\u306e\u5185\u5bb9\u306b\u9593\u9055\u3044\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u3054\u3081\u3093\u306a\u3055\u3044\n\n## \u30c7\u30d0\u30c3\u30b0\u5bfe\u8c61\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\n\n### \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n````MyProg01.java \nimport java.time.*;\n\nclass MyProg01 {\n\n  private String time;\n\n  public static void main(String[] args) {\n\n    MyProg01 app = new MyProg01();\n    app.loop();\n\n  }\n\n  void loop() {\n\n    while(true) {\n      time();\n    }\n  }\n\n  void time() {\n\n    try {\n\n      this.time = LocalDateTime.now().toString();\n      Thread.sleep(1000);\n\n    } catch(Exception e) {\n      e.printStackTrace();\n    }\n\n  }\n\n}\n````\n\n### \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n````\n# javac -g MyProg01.java \n````\n\n## jdb \u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\n\n### \u30c7\u30d0\u30c3\u30ac\u3068\u3068\u3082\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d77\u52d5\u3059\u308b\n````\n# jdb MyProg01\nInitializing jdb ...\n> run\nrun MyProg01\nSet uncaught java.lang.Throwable\nSet deferred uncaught java.lang.Throwable\n> \nVM Started: \n> \n````\n\n### \u30af\u30e9\u30b9\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b : classes\n````\n> classes\n** classes list **\nMyProg01\nboolean[]\nbyte[]\nchar[]\ndouble[]\nfloat[]\nint[]\njava.io.BufferedInputStream\njava.io.BufferedOutputStream\n...\n````\n\n### \u30e1\u30bd\u30c3\u30c9\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b : methods\n````\n> methods MyProg01\n** methods list **\nMyProg01 <init>()\nMyProg01 main(java.lang.String[])\nMyProg01 loop()\nMyProg01 time()\njava.lang.Object <init>()\njava.lang.Object registerNatives()\n...\n````\n\n### \u30b9\u30ec\u30c3\u30c9\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b : threads\n\n````\n> threads\nGroup system:\n  (java.lang.ref.Reference$ReferenceHandler)0x15b Reference Handler cond. waiting\n  (java.lang.ref.Finalizer$FinalizerThread)0x15a  Finalizer         cond. waiting\n  (java.lang.Thread)0x159                         Signal Dispatcher running\nGroup main:\n  (java.lang.Thread)0x1                           main              sleeping\n````\n\n### \u30c7\u30d0\u30c3\u30b0\u5bfe\u8c61\u306e\u30b9\u30ec\u30c3\u30c9\u3092\u8a2d\u5b9a\u3059\u308b : thread\n````\n> thread 1\nmain[1] \n````\n\n### \u30e1\u30bd\u30c3\u30c9\u306b\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b : stop in\n- stop in &lt;class id>.&lt;method> \u3067\u30e1\u30bd\u30c3\u30c9\u306b\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\n\n````\nmain[1] stop in MyProg01.time\nSet breakpoint MyProg01.time\nmain[1] \nBreakpoint hit: \"thread=main\", MyProg01.time(), line=25 bci=0\n25          this.time = LocalDateTime.now().toString();\n````\n\n- stop at &lt;class id>:&lt;line> \u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u884c\u306b\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\n\n### \u73fe\u5728\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u78ba\u8a8d\u3059\u308b : clear\n\n````\nmain[1] clear\nBreakpoints set:\n\tbreakpoint MyProg01.time\n````\n\n### \u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u524a\u9664\u3059\u308b : clear\n- clear &lt;class id>.&lt;method> \u3067\u30e1\u30bd\u30c3\u30c9\u306b\u6307\u5b9a\u3057\u305f\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u524a\u9664\u3067\u304d\u307e\u3059\n\n````\nmain[1] clear MyProg01.time\nRemoved: breakpoint MyProg01.time\n````\n\n- \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u884c\u306b\u6307\u5b9a\u3057\u305f\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u306f clear &lt;class id>:&lt;line> \u3067\u524a\u9664\u3067\u304d\u307e\u3059\n\n### \u30b9\u30bf\u30c3\u30af\u30d5\u30ec\u30fc\u30e0\u3092\u8868\u793a\u3059\u308b : where\n\n````\nmain[1] where\n  [1] MyProg01.time (MyProg01.java:25)\n  [2] MyProg01.loop (MyProg01.java:17)\n  [3] MyProg01.main (MyProg01.java:10)\n````\n\n### \u30ed\u30fc\u30ab\u30eb\u5909\u6570\u3092\u8868\u793a\u3059\u308b : locals\n\n````\nmain[1] locals\nNo local variables\n````\n\n- \u30ed\u30fc\u30ab\u30eb\u5909\u6570\u3092\u4f7f\u3063\u3066\u3044\u306a\u304b\u3063\u305f\u306e\u3067\u3001No local variables \u304c\u51fa\u529b\u3055\u308c\u307e\u3059\n\n### \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u8868\u793a\u3059\u308b : print\n````\nmain[1] print this.time\n this.time = \"2016-01-22T17:33:51.001\"\n````\n\n### \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e2d\u306e\u5b9f\u884c\u7b87\u6240\u3092\u78ba\u8a8d\u3059\u308b : list\n\n````\nmain[1] list\n21      void time() {\n22    \n23        try {\n24    \n25 =>       this.time = LocalDateTime.now().toString();\n26          Thread.sleep(1000);\n27    \n28        } catch(Exception e) {\n29          e.printStackTrace();\n30        }\n````\n\n### \u30b9\u30c6\u30c3\u30d7\u5b9f\u884c\u3059\u308b : step\n\n````\nmain[1] step\n> \nStep completed: \"thread=main\", MyProg01.time(), line=26 bci=10\n26          Thread.sleep(1000);\n\nmain[1] list\n22    \n23        try {\n24    \n25          this.time = LocalDateTime.now().toString();\n26 =>       Thread.sleep(1000);\n27    \n28        } catch(Exception e) {\n29          e.printStackTrace();\n30        }\n31    \n````\n\n### \u6b21\u306e\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u307e\u3067\u51e6\u7406\u3092\u9032\u3081\u308b : cont\n````\nmain[1] cont\n> \nBreakpoint hit: \"thread=main\", MyProg01.time(), line=25 bci=0\n25          this.time = LocalDateTime.now().toString();\n\n````\n\n### \u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3067\u81ea\u52d5\u7684\u306b\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u8a2d\u5b9a\u3059\u308b : monitor\n- monitor &lt;command> \u3067\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\n\n````\nmain[1] monitor where\nmain[1] cont\n> \nBreakpoint hit: \"thread=main\", MyProg01.time(), line=25 bci=0\n\n  [1] MyProg01.time (MyProg01.java:25)\n  [2] MyProg01.loop (MyProg01.java:17)\n  [3] MyProg01.main (MyProg01.java:10)\n````\n\n- monitor \u30b3\u30de\u30f3\u30c9\u3092\u8907\u6570\u56de\u5b9f\u884c\u3059\u308b\u3068\u3001\u8907\u6570\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n\n### \u81ea\u52d5\u5b9f\u884c\u3055\u308c\u308b\u30b3\u30de\u30f3\u30c9\u3092\u78ba\u8a8d\u3059\u308b : monitor\n````\nmain[1] monitor\n3:  where\n````\n\n### \u81ea\u52d5\u5b9f\u884c\u3055\u308c\u308b\u30b3\u30de\u30f3\u30c9\u3092\u524a\u9664\u3059\u308b : unmonitor\n- unmonitor &lt;monitor#> \u3067\u30b3\u30de\u30f3\u30c9\u3092\u524a\u9664\u3057\u307e\u3059\n\n````\nmain[1] unmonitor 3\nUnmonitoring 3:  where \n````\n\n### \u30c7\u30d0\u30c3\u30ac\u3092\u629c\u3051\u308b : exit\n````\nmain[1] exit\n````\n\n## agentlib \u3092\u4f7f\u7528\u3057\u3066\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3059\u308b\n- \u30c7\u30d0\u30c3\u30b0\u3055\u308c\u308b\u5074\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u306b agentlib \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\n\n### \u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d77\u52d5\u3059\u308b : agentlib\n\n````\n# java -agentlib:jdwp=transport=dt_socket,server=y MyProg01\nListening for transport dt_socket at address: 44411\n````\n\n### jdb \u3092\u63a5\u7d9a\u3059\u308b : attach\n- jdb \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b attach \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u306b\u63a5\u7d9a\u3057\u307e\u3059\n\n````\n# jdb -attach 44411\nSet uncaught java.lang.Throwable\nSet deferred uncaught java.lang.Throwable\nInitializing jdb ...\n> \nVM Started: No frames on the current call stack\n\nmain[1]\n````\n\n## agentlib \u30aa\u30d7\u30b7\u30e7\u30f3\u7121\u3057\u3067\u8d77\u52d5\u3057\u305f\u30d7\u30ed\u30bb\u30b9\u306b\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u63a5\u7d9a\u3059\u308b\n- agentlib \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u305a\u306b\u8d77\u52d5\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30c7\u30d0\u30c3\u30b0\u3059\u308b\u65b9\u6cd5\u3067\u3059\n\n### \u30d7\u30ed\u30bb\u30b9 ID \u3092\u6307\u5b9a\u3057\u3066 jdb \u3092\u63a5\u7d9a\u3059\u308b : SAPIDAttachingConnector\n````\n$ jps\n26073 Jps\n26059 MyProg01\n$ jdb -connect sun.jvm.hotspot.jdi.SAPIDAttachingConnector:pid=26059\nInitializing jdb ...\n````\n\n- \u63a5\u7d9a\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u306f\u51e6\u7406\u3092\u4e00\u6642\u505c\u6b62\u3057\u307e\u3059\n- \"java.lang.InternalError: Metadata does not appear to be polymorphic\" \u30a8\u30e9\u30fc\u3067\u63a5\u7d9a\u3067\u304d\u306a\u304b\u3063\u305f\u308a\u3001\u63a5\u7d9a\u3067\u304d\u3066\u3082\u30b9\u30ec\u30c3\u30c9\u30ea\u30b9\u30c8\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u3088\u3046\u3067\u3057\u305f\n\n### jsadebugd \u7d4c\u7531\u3067 jdb \u3092\u63a5\u7d9a\u3059\u308b\n- \u30d7\u30ed\u30bb\u30b9 ID \u3092\u6307\u5b9a\u3057\u3066 jdb \u3092\u63a5\u7d9a\u3059\u308b\u4ee3\u308f\u308a\u306b jsadebugd \u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\u3067\u3082 Java \u306e\u30d7\u30ed\u30bb\u30b9\u306b jdb \u3092\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\n- jsadebugd \u306e\u63a5\u7d9a\n\n````\n$ jps\n26059 MyProg01\n26110 Jps\n$ jsadebugd 26059\nAttaching to process ID 26059 and starting RMI services, please wait...\nDebugger attached and RMI services started.\n````\n\n- jsadebugd \u3092\u63a5\u7d9a\u3059\u308b\u3068\u3001\u63a5\u7d9a\u3055\u308c\u305f\u30d7\u30ed\u30bb\u30b9\u306f\u51e6\u7406\u3092\u4e00\u6642\u505c\u6b62\u3057\u307e\u3059\n\n- jdb \u306e\u63a5\u7d9a\n\n````\n$ jdb -connect sun.jvm.hotspot.jdi.SADebugServerAttachingConnector:debugServerName=localhost\nInitializing jdb ...\n> \n````\n\n- \"java.lang.InternalError: Metadata does not appear to be polymorphic\" \u30a8\u30e9\u30fc\u3067\u63a5\u7d9a\u3067\u304d\u306a\u304b\u3063\u305f\u308a\u3001\u63a5\u7d9a\u3067\u304d\u3066\u3082\u30b9\u30ec\u30c3\u30c9\u30ea\u30b9\u30c8\u304c\u53d6\u5f97\u3067\u304d\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u3088\u3046\u3067\u3057\u305f\n\n### jdb \u306e\u30b3\u30cd\u30af\u30bf\u30fc\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\n\n````\n# jdb -listconnectors | grep Connector\n  Connector: com.sun.jdi.CommandLineLaunch  Transport: dt_socket\n  Connector: com.sun.jdi.RawCommandLineLaunch  Transport: dt_socket\n  Connector: com.sun.jdi.SocketAttach  Transport: dt_socket\n  Connector: com.sun.jdi.SocketListen  Transport: dt_socket\n  Connector: com.sun.jdi.ProcessAttach  Transport: local\n  Connector: sun.jvm.hotspot.jdi.SACoreAttachingConnector  Transport: filesystem\n  Connector: sun.jvm.hotspot.jdi.SADebugServerAttachingConnector  Transport: RMI\n  Connector: sun.jvm.hotspot.jdi.SAPIDAttachingConnector  Transport: local process\n````\n"}