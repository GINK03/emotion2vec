{"context": " More than 1 year has passed since last update.\n\nDNS\u3068\u306f\uff1f\n\u4eba\u9593\u306fdomain name, computer\u306fip address\u3092\u899a\u3048\u3066\u3001\u305d\u306edomain name\u21c4ip adress\u3092mapping\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u3002\n\n\u306a\u3093\u3067\u4f7f\u3046\u306e\n\u6614\u3001computer\u306e\u6570\u304c\u5c11\u306a\u3044\u3068\u304d\u306f\u3001DNS\u306f\u5b58\u5728\u3057\u306a\u304b\u3063\u305f\u3002\u6570\u767e\u306ecomputer\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u899a\u3048\u308b\u306e\u306f\u7c21\u5358\u3060\u3063\u305f\u306e\u3067\u3001\u5fc5\u8981\u304c\u306a\u304b\u3063\u305f\u3002\u3067\u3082\u3001computer\u306e\u6570\u304c\u5897\u3048\u308b\u306b\u3064\u308c\u3066\u3001\u899a\u3048\u3089\u308c\u306a\u304f\u306a\u3063\u3066\u304d\u305f\u3002\u305d\u3057\u3066\u3001\u540d\u524d\u3092\u3064\u3051\u3066\u4eba\u9593\u306b\u899a\u3048\u3084\u3059\u304f\u3001\u3067\u3082computer\u306b\u306f\u6570\u5b57\u306e\u65b9\u304c\u3044\u3044\u306e\u3067\u3001computer\u306b\u306f\u6570\u5b57\u3001\u4eba\u9593\u306b\u306f\u540d\u524d\u3067\u8a8d\u8b58\u3055\u305b\u308b\u3001DNS\u304c\u751f\u307e\u308c\u305f\u3002\n\n\u8ab0\u304c\u7ba1\u7406\u3057\u3066\u308b\u306e\n\u4e00\u3064\u306e\u30b5\u30fc\u30d0\u30fc\u304c\u5168\u3066\u306eDNS\u3092\u7ba1\u7406\u3059\u308b\u306e\u3067\u306f\u306a\u3044\u3002DNS\u306fdistributed database\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u3002\u3086\u3048\u306b\u3001\u4f8b\u3048\u3070\u3001\u4f1a\u793e\u3067\u3001host names\u3068ip address\u3092\u81ea\u793e\u306e\u30c9\u30e1\u30a4\u30f3\u5185\u3067\u5909\u3048\u305f\u3044\u6642\u306f\u3001\"\u4e2d\u5fc3\u306eserver\"\u7684\u306a\u3082\u306e\u306b\u5831\u544a\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u52dd\u624b\u306b\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u3053\u308c\u306f\u3001\u305d\u306e\u4f1a\u793e\u81ea\u4f53\u3082\u81ea\u5206\u3067\u3001\u81ea\u793e\u30c9\u30e1\u30a4\u30f3\u4ee5\u4e0b\u306e name server\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3042\u308b\u3002\n\nDNS server\u306e\u50cd\u304d\nA DNS server provides name resolution = conversion from a domain to an IP address.\n\na name server is a process listening on UDP/TCP port 53 for requests\nwhen detected, the name is resolved, and a reply is sent\n\n\n\u30d6\u30e9\u30a6\u30b6\u3092\u306f\u3058\u3081\u305f\u304f\u3055\u3093\u306e\u30a2\u30d7\u30ea\u304cDNS\u306eclient\nWeb request \u304c\u9001\u3089\u308c\u308b\u524d\u306b\u5168\u3066\u306edomain name\u306f\u307e\u305aDNS server\u304b\u3089IP address\u306e\u4f4d\u7f6e\u3092\u3044\u305f\u3060\u304f\u3002domain name\u3092\u4f7f\u3046\u6642\u306f\u3044\u3064\u3067\u3082\u3001DNS\u306e\u30b7\u30b9\u30c6\u30e0\u306e\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u3053\u3068\u3002\n\nDNS hierarchical database\n\u4e0a\u3067\u3001distributed\u3067\u3042\u308b\u3053\u3068\u306f\u8ff0\u3079\u305f\u304c\u3001\u305d\u306edistributed\u306adatabase\u305f\u3061\u306f\u968e\u5c64\u3092\u306a\u3057\u3066\u3044\u308b\u3088\u3068\u3044\u3046\u8a71\u3002\n\nRoot DNS server\n\n\u3059\u308b\u3053\u3068\n\u4e00\u756a\u4e0a\u306e\u968e\u5c64\u306b\u5b58\u5728\u3059\u308b\u306e\u304c\u3001Root DNS server. \u4e16\u754c\u4e2d\u5168\u3066\u306ecomputer\u3092\u628a\u63e1\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u304c\u3001what they do is they do have every top level domain in the world. \u3060\u304b\u3089\u3001.com\u30a2\u30c9\u30ec\u30b9\u306b\u95a2\u3057\u3066\u3001\u8ab0\u306b\u805e\u3051\u3070\u3044\u3044\u304b(com DNS servers)\u3001.org\u30a2\u30c9\u30ec\u30b9\u306b\u95a2\u3057\u3066\u8ab0\u306b\u805e\u3051\u3070\u3044\u3044\u304b(opg DNS servers)\u306a\u3069\u306a\u3069\u3092\u628a\u63e1\u3057\u3066\u3044\u308b\u3002\n\n\u4e16\u754c\u4e2d\u306b13\u3060\u3051\u5b58\u5728\n\u5c11\u306a\u3044\u306e\u3067\u3001\u3042\u307e\u308a\u983b\u7e41\u306b\u547c\u3070\u308c\u308b\u4ed5\u7d44\u307f\u3060\u3068\u56f0\u308b\u3088\u306d\u3002\u5b9f\u969b\u3001\u3042\u307e\u308acall\u3055\u308c\u306a\u3044\u3002\n\nTop-level domain (TLD) servers\n\n\u3059\u308b\u3053\u3068\n\u81ea\u5206\u4ee5\u4e0b\u306edomain\u306b\u5bfe\u3057\u3066\u3001\u6b21\u306e\u884c\u304d\u5148\u3092\u6559\u3048\u3066\u304f\u308c\u308b\u3002\u4f8b\u3048\u3070\u3001com DNS server\u3082TDL server\u306e\u4e00\u3064\u3060\u3051\u3069\u3001\u5f7c\u3089\u306f\u3001yahoo.com\u3060\u3063\u305f\u3089\u3001yahoo.com DNS server\u306b\u3001amazon.com\u3060\u3063\u305f\u3089\u3001amazon.com DNS server\u306b\u3064\u306a\u3044\u3067\u304f\u308c\u308b\u3002\n\nAuthoritative DNS servers\n\n\u3059\u308b\u3053\u3068\n\u81ea\u8eab\u30c9\u30e1\u30a4\u30f3\u5185\u306e\u3001\u5168\u3066\u306ecomputer\u306eaddress\u3092\u628a\u63e1\u3057\u3066\u308b\u3002\u4f8b\u3048\u3070\u3001yahoo.com\u306fAuthoritative DNS server\u306e\u4e00\u3064\u3060\u3051\u3069\u3001yahoo.com\u5185\u306edomain\u306eip address\u3092\u5168\u3066\u628a\u63e1\u3057\u3066\u308b\u3002\n\norganization's DNS servers, providing authoritative hostname to IP mappings for organization's servers\ncan be maintained by organization or service provider\n\n\nLocal name server\n\n\u3059\u308b\u3053\u3068\nhandles local DNS requests. Must know at least one root server. Caches resolved addresses.\n\u3042\u308bauthoritative name server\u304b\u3089\u6301\u3063\u3066\u3053\u3089\u308c\u305faddress\u3092cache\u3067\u8a18\u61b6\u3057\u3001local network\u5185\u3067\u306ename queries\u3092\u901f\u304f\u3057\u3066\u304f\u308c\u308b\u3002\u3082\u3057\u3001\u307e\u3060cache\u3055\u308c\u3066\u3044\u306a\u3044\u60c5\u5831\u3092\u6c42\u3081\u3089\u308c\u305f\u3089\u3001root DNS server\u306b\u805e\u304d\u306b\u3044\u304f\u3068\u304b\u3001\u305d\u308c\u304b\u65e2\u306bTLD server\u77e5\u3063\u3066\u305f\u3089\u305d\u3063\u3061\u306b\u805e\u304d\u306b\u3044\u304f\u3068\u304b\u3001\u6700\u521d\u306e\u4e00\u6b69\u3092\u62c5\u5f53\u3057\u3066\u304f\u308c\u308b\u3002\n\nDNS name resolution example\n\n\u3042\u308bhost\u304cgaia.cs.umass.edu\u306eIP address\u3092\u77e5\u308a\u305f\u3044\u3068\u3059\u308b\u6642\u306ename resolution\u306e\u6d41\u308c\u3092\u898b\u3088\u3046\u3002\n\niterative\u306a\u3084\u308a\u65b9\n\n1. \u307e\u305a\u306f\u3001local DNS server\u306b\u805e\u304d\u306b\u884c\u304f\u3002\u3082\u3057\u3001\u540c\u3058local DNS server\u4ee5\u4e0b\u306e\u4eba\u304c\u6700\u8fd1\u3001\u305d\u306edomain\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u3066\u3001local DNS server\u304c\u305d\u306eIP address\u3092\u4fdd\u6301\u3057\u3066\u3044\u305f\u3089\u3001\u901f\u653b\u8fd4\u3057\u3066\u304f\u308c\u308b(1\u21928\u306e\u30eb\u30fc\u30c8)\u3002\u3082\u3057local DNS server\u304c\u305d\u306e\u30c9\u30e1\u30a4\u30f3\u306b\u95a2\u3057\u3066\u3001.edu\u3082.umass\u3082\u4f55\u4e00\u3064\u77e5\u3089\u306a\u3051\u308c\u3070\u3001root server\u306b\u805e\u304d\u306b\u884c\u304f(1\u21922\u306e\u30eb\u30fc\u30c8)\u3002\n2-3. root DNS server\u306f\u3082\u3061\u308d\u3093\u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092cache\u3057\u3066\u306f\u3044\u306a\u3044\u306e\u3067\u3001\u4e0a\u306e\u8cea\u554f\u306b\u5bfe\u3057\u3066\u3001.edu\u306edns server\u3060\u3051\u6559\u3048\u3066\u304f\u308c\u3066\u3001local server\u306b\u3042\u3068\u306f\u81ea\u5206\u3067.edu server\u306b\u805e\u3044\u3066\u3001\u3068\u3044\u3046\u3002\n4-5. \u305d\u3057\u305f\u3089\u4eca\u5ea6\u306f\u3001.edu server\u304c\u3001dns.umass.edu \u3072\u3044\u3066\u306f dns.cs.umass.edu server\u306e\u5c45\u6240\u3092\u6559\u3048\u3066\u304f\u308c\u308b\u3002\n6-7. \u305d\u308c\u3092\u5143\u306blocal DNS server\u306f\u4eca\u5ea6\u306f\u3001gaia.cs.umass.edu\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u77e5\u3063\u3066\u308bauthoritaticve DNS server\u3067\u3042\u308bdns.cs.umass.edu server\u306bgaia.cs.umass.edu\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u6559\u3048\u3066\u3082\u3089\u3046\u3002\n\ngaia.cs.umass.edu\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u30b2\u30c3\u30c8\u3057\u3066\u3001http\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u958b\u59cb\u3067\u304d\u308b\u3002(http\u30ea\u30af\u30a8\u30b9\u30c8\u4f5c\u308b\u306b\u306f\u307e\u305aconnection\u304c\u5fc5\u8981)\n\n\u3053\u306e\u3088\u3046\u306b\u3001ip\u30a2\u30c9\u30ec\u30b9\u3092\u30b2\u30c3\u30c8\u3057\u306a\u3044\u3053\u3068\u306b\u306f\u3001\u4f55\u3082\u3067\u304d\u306a\u3044\u3002\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u306f\u3001iterative\u306a\u3084\u308a\u65b9\u3002\u6587\u5b57\u901a\u308a\u53cd\u5fa9\u7684\u306b\u7e70\u308a\u8fd4\u3057\u3066\u308b\u304b\u3089\u3002\n\nrecursive\u306a\u3084\u308a\u65b9\n\n\u4e0a\u56f3\u306e\u3088\u3046\u306b\u3001\u76ee\u7684\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u3084\u308a\u65b9\u306b\u306f\u6b20\u70b9\u304c\u3042\u308b\u3002\u30b3\u30f3\u30bf\u30af\u30c8\u3057\u305fname server\u5168\u3066\u3001\u6700\u5f8c\u306eip\u30a2\u30c9\u30ec\u30b9\u304c\u5e30\u3063\u3066\u304f\u308b\u307e\u3067\u3064\u306a\u304e\u7d9a\u3051\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3042\u308b\u3002\u6700\u60aa\u306a\u306e\u306f\u3001\u305d\u308c\u3092root DNS server\u306b\u95a2\u3057\u3066\u3082\u3057\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3002\u4e16\u754c\u306b13\u3057\u304b\u306a\u3044server\u3092\u305d\u3093\u306a\u8d05\u6ca2\u306b\u4f7f\u3046\u308f\u3051\u306b\u306f\u3044\u304b\u3093\u306d\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u57fa\u672c\u7684\u306b\u306fiterative\u306a\u3084\u308a\u65b9\u304c\u53d6\u3089\u308c\u3066\u3044\u308b\u3002\n\nDNS records\nDNS server\u306brecord\u3092\u767b\u9332\u3059\u308b\u3068\u304d\u3001\nRR format: (name, value, type, ttl)\n\u3067\u767b\u9332\u3055\u308c\u308b\u3002(ttl\u306ftime to leave\u3002\u3044\u3064\u307e\u3067\u60c5\u5831\u304c\u6709\u52b9\u304b\u3002)\n\nType = A \n\n\n\nname is hostname\n\nvalue is IP address\n\n\nType = NS \n\n\n\nname is domain (e.g. foo.com)\n\nvalue is hostname of authoritative name server for this domain\n\n\nType = CNAME\n\n\n\nname is alias name for some \"canonical\" (the real) name\n\u4f8b\u3048\u3070\u3001www.ibm.com(\u2190alias) \u306f\u672c\u5f53\u306f\u3001servereast.backup2.ibm.com(\u2190canonical)\u3063\u3066\u540d\u524d\u3060\u3063\u305f\u308a\u3002\u4e00\u3064\u306ehostname\u306b\u5bfe\u3057\u3066\u3001\u8907\u6570\u306ename\u3092\u7d50\u3073\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\nvalue is canonical name\n\n\nType = MX\n\n\n\nvalue is name of mailserver associated with name. domain\u306b\u5bfe\u3057\u3066mailserver\u304c\u3042\u308b\u3001\u305d\u308c\u3092\u53d6\u308b\u3002\n\n\n\n\nInserting records into DNS\nDNS\u306b\u81ea\u5206\u306e\u65b0\u3057\u3044record\u3092\u8ffd\u52a0\u3059\u308b\u6d41\u308c\u3092\u8003\u3048\u308b\u3002 \u4f8b\u3068\u3057\u3066\u3001\"Network Utopia\"\u3068\u3044\u3046\u540d\u524d\u306estartup\u3092\u3042\u306a\u305f\u304c\u4f5c\u308b\u3068\u3057\u3088\u3046\u3002\n1. Register name networkutopia.com at a registrar.\n   - need to provide registrar with names and IP addresses of your authoritative name server (primary and secondary)\n   - Registrar inserts two RRs into the com TLD server:\n(networkutopia.com, dns1.networkutpia.com, NS), (dns1.networkutopia.com, 212.212.212.1, A)\n2. Put in authoritative server Type A record for www.networkuyopia.com and Type MX record for networkutopia.com\n3. \u4eba\u3005\u304c\u3001www.networkutopia.com\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6642\u3001TLD server\u884c\u3063\u3066\u3001dns1.networkutopia.com\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u4e0a\u8a18\u306e\u4e8c\u3064\u306eRRs\u306b\u3088\u308a\u3082\u3089\u3063\u3066\u3001\u4eca\u5ea6\u306f\u305d\u306edns server\u306bwww.networkutopia.com\u306eip\u30a2\u30c9\u30ec\u30b9(network.com\u4ee5\u4e0b\u306ewww.\u306f\u3053\u306eip\u30a2\u30c9\u30ec\u30b9\u3060\u3088\u3063\u3066\u3044\u3046\u306e\u3092)\u3092\u3082\u3089\u3046\u3002\n\nAttacking DNS\n\u3053\u308c\u307e\u3067\u898b\u3066\u304d\u305f\u3088\u3046\u306bDNS\u306finternet\u306e\u30a4\u30f3\u30d5\u30e9\u3068\u3057\u3066\u3001\u3081\u3061\u3083\u304f\u3061\u3083\u5927\u4e8b\u3002\u305d\u308c\u3086\u3048\u306b\u3001DNS\u304c\u30c0\u30a6\u30f3\u3057\u305f\u3089\u56f0\u308b\u308f\u3051\u3067\u3001\u3069\u3093\u3060\u3051\u4e08\u592b\u306a\u306e\u304b\u3092\u898b\u3066\u307f\u3088\u3046\u3002\n\nDDoS attacks\n\nBombard root servers with traffics\n\n\nNot successful to date\nTraffic Filtering\nLocal DNS servers cache IPs of TLD servers, allowing root server bypass\n\n\n\nBombard TLD servers\n\n\nPotentially more dangerous because less likely to be cached. But still cached.\n\n\n\n\nRedirected attacks\n\nMan-in-middle\n\nintercept queries. the attacjer intercepts queries from hosts and returns bogus replies.\n\n\nDNS poisoning\n\n\nSend bogus replies to DNS server, which caches the wrong records.\n\n\n\n\nExploit DNS for DDoS\n\nSend queries with spoofed source address: target IP\nRequires amplification\n\n\n\n\u53c2\u8003\n\u672c\u300cComputer Networking A Top-Down Approach\u300d\n## DNS\u3068\u306f\uff1f\n\u4eba\u9593\u306fdomain name, computer\u306fip address\u3092\u899a\u3048\u3066\u3001\u305d\u306edomain name\u21c4ip adress\u3092mapping\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u3002\n### \u306a\u3093\u3067\u4f7f\u3046\u306e\n\u6614\u3001computer\u306e\u6570\u304c\u5c11\u306a\u3044\u3068\u304d\u306f\u3001DNS\u306f\u5b58\u5728\u3057\u306a\u304b\u3063\u305f\u3002\u6570\u767e\u306ecomputer\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u899a\u3048\u308b\u306e\u306f\u7c21\u5358\u3060\u3063\u305f\u306e\u3067\u3001\u5fc5\u8981\u304c\u306a\u304b\u3063\u305f\u3002\u3067\u3082\u3001computer\u306e\u6570\u304c\u5897\u3048\u308b\u306b\u3064\u308c\u3066\u3001\u899a\u3048\u3089\u308c\u306a\u304f\u306a\u3063\u3066\u304d\u305f\u3002\u305d\u3057\u3066\u3001\u540d\u524d\u3092\u3064\u3051\u3066\u4eba\u9593\u306b\u899a\u3048\u3084\u3059\u304f\u3001\u3067\u3082computer\u306b\u306f\u6570\u5b57\u306e\u65b9\u304c\u3044\u3044\u306e\u3067\u3001computer\u306b\u306f\u6570\u5b57\u3001\u4eba\u9593\u306b\u306f\u540d\u524d\u3067\u8a8d\u8b58\u3055\u305b\u308b\u3001DNS\u304c\u751f\u307e\u308c\u305f\u3002\n### \u8ab0\u304c\u7ba1\u7406\u3057\u3066\u308b\u306e\n\u4e00\u3064\u306e\u30b5\u30fc\u30d0\u30fc\u304c\u5168\u3066\u306eDNS\u3092\u7ba1\u7406\u3059\u308b\u306e\u3067\u306f\u306a\u3044\u3002DNS\u306fdistributed database\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u3002\u3086\u3048\u306b\u3001\u4f8b\u3048\u3070\u3001\u4f1a\u793e\u3067\u3001host names\u3068ip address\u3092\u81ea\u793e\u306e\u30c9\u30e1\u30a4\u30f3\u5185\u3067\u5909\u3048\u305f\u3044\u6642\u306f\u3001\"\u4e2d\u5fc3\u306eserver\"\u7684\u306a\u3082\u306e\u306b\u5831\u544a\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u52dd\u624b\u306b\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u3053\u308c\u306f\u3001\u305d\u306e\u4f1a\u793e\u81ea\u4f53\u3082\u81ea\u5206\u3067\u3001\u81ea\u793e\u30c9\u30e1\u30a4\u30f3\u4ee5\u4e0b\u306e name server\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3042\u308b\u3002\n### DNS server\u306e\u50cd\u304d\nA DNS server provides ***name resolution*** = conversion from a domain to an IP address.\n\n* a name server is a process listening on UDP/TCP port 53 for requests\n* when detected, the name is resolved, and a reply is sent\n\n### \u30d6\u30e9\u30a6\u30b6\u3092\u306f\u3058\u3081\u305f\u304f\u3055\u3093\u306e\u30a2\u30d7\u30ea\u304cDNS\u306eclient\nWeb request \u304c\u9001\u3089\u308c\u308b\u524d\u306b\u5168\u3066\u306edomain name\u306f\u307e\u305aDNS server\u304b\u3089IP address\u306e\u4f4d\u7f6e\u3092\u3044\u305f\u3060\u304f\u3002domain name\u3092\u4f7f\u3046\u6642\u306f\u3044\u3064\u3067\u3082\u3001\u0010DNS\u306e\u30b7\u30b9\u30c6\u30e0\u306e\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u3053\u3068\u3002\n\n## DNS hierarchical database\n\u4e0a\u3067\u3001distributed\u3067\u3042\u308b\u3053\u3068\u306f\u8ff0\u3079\u305f\u304c\u3001\u305d\u306edistributed\u306adatabase\u305f\u3061\u306f\u968e\u5c64\u3092\u306a\u3057\u3066\u3044\u308b\u3088\u3068\u3044\u3046\u8a71\u3002\n### Root DNS server\n#### \u3059\u308b\u3053\u3068\n\u4e00\u756a\u4e0a\u306e\u968e\u5c64\u306b\u5b58\u5728\u3059\u308b\u306e\u304c\u3001Root DNS server. \u4e16\u754c\u4e2d\u5168\u3066\u306ecomputer\u3092\u628a\u63e1\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u304c\u3001what they do is they do have every top level domain in the world. \u3060\u304b\u3089\u3001.com\u30a2\u30c9\u30ec\u30b9\u306b\u95a2\u3057\u3066\u3001\u8ab0\u306b\u805e\u3051\u3070\u3044\u3044\u304b(com DNS servers)\u3001.org\u30a2\u30c9\u30ec\u30b9\u306b\u95a2\u3057\u3066\u8ab0\u306b\u805e\u3051\u3070\u3044\u3044\u304b(opg DNS servers)\u306a\u3069\u306a\u3069\u3092\u628a\u63e1\u3057\u3066\u3044\u308b\u3002\n#### \u4e16\u754c\u4e2d\u306b13\u3060\u3051\u5b58\u5728\n\u5c11\u306a\u3044\u306e\u3067\u3001\u3042\u307e\u308a\u983b\u7e41\u306b\u547c\u3070\u308c\u308b\u4ed5\u7d44\u307f\u3060\u3068\u56f0\u308b\u3088\u306d\u3002\u5b9f\u969b\u3001\u3042\u307e\u308acall\u3055\u308c\u306a\u3044\u3002\n### Top-level domain (TLD) servers\n#### \u3059\u308b\u3053\u3068\n\u81ea\u5206\u4ee5\u4e0b\u306edomain\u306b\u5bfe\u3057\u3066\u3001\u6b21\u306e\u884c\u304d\u5148\u3092\u6559\u3048\u3066\u304f\u308c\u308b\u3002\u4f8b\u3048\u3070\u3001com DNS server\u3082TDL server\u306e\u4e00\u3064\u3060\u3051\u3069\u3001\u5f7c\u3089\u306f\u3001yahoo.com\u3060\u3063\u305f\u3089\u3001yahoo.com DNS server\u306b\u3001amazon.com\u3060\u3063\u305f\u3089\u3001amazon.com DNS server\u306b\u3064\u306a\u3044\u3067\u304f\u308c\u308b\u3002\n### Authoritative DNS servers\n#### \u3059\u308b\u3053\u3068\n\u81ea\u8eab\u30c9\u30e1\u30a4\u30f3\u5185\u306e\u3001\u5168\u3066\u306ecomputer\u306eaddress\u3092\u628a\u63e1\u3057\u3066\u308b\u3002\u4f8b\u3048\u3070\u3001yahoo.com\u306fAuthoritative DNS server\u306e\u4e00\u3064\u3060\u3051\u3069\u3001yahoo.com\u5185\u306edomain\u306eip address\u3092\u5168\u3066\u628a\u63e1\u3057\u3066\u308b\u3002\n\n* organization's DNS servers, providing authoritative hostname to IP mappings for organization's servers\n* can be maintained by organization or service provider\n\n### Local name server\n#### \u3059\u308b\u3053\u3068\nhandles local DNS requests. Must know at least one root server. Caches resolved addresses.\n\u3042\u308bauthoritative name server\u304b\u3089\u6301\u3063\u3066\u3053\u3089\u308c\u305faddress\u3092cache\u3067\u8a18\u61b6\u3057\u3001local network\u5185\u3067\u306ename queries\u3092\u901f\u304f\u3057\u3066\u304f\u308c\u308b\u3002\u3082\u3057\u3001\u307e\u3060cache\u3055\u308c\u3066\u3044\u306a\u3044\u60c5\u5831\u3092\u6c42\u3081\u3089\u308c\u305f\u3089\u3001root DNS server\u306b\u805e\u304d\u306b\u3044\u304f\u3068\u304b\u3001\u305d\u308c\u304b\u65e2\u306bTLD server\u77e5\u3063\u3066\u305f\u3089\u305d\u3063\u3061\u306b\u805e\u304d\u306b\u3044\u304f\u3068\u304b\u3001\u6700\u521d\u306e\u4e00\u6b69\u3092\u62c5\u5f53\u3057\u3066\u304f\u308c\u308b\u3002\n\n### DNS name resolution example\n![Screen Shot 2015-04-11 at 11.27.17 PM.png](https://qiita-image-store.s3.amazonaws.com/0/71621/8469c045-6e38-bf1f-7f54-ddfe5beb6811.png \"Screen Shot 2015-04-11 at 11.27.17 PM.png\")\n\n\u3042\u308bhost\u304c```gaia.cs.umass.edu```\u306eIP address\u3092\u77e5\u308a\u305f\u3044\u3068\u3059\u308b\u6642\u306ename resolution\u306e\u6d41\u308c\u3092\u898b\u3088\u3046\u3002\n\n#### iterative\u306a\u3084\u308a\u65b9\n\n2. 1. \u307e\u305a\u306f\u3001local DNS server\u306b\u805e\u304d\u306b\u884c\u304f\u3002\u3082\u3057\u3001\u540c\u3058local DNS server\u4ee5\u4e0b\u306e\u4eba\u304c\u6700\u8fd1\u3001\u305d\u306edomain\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u3066\u3001local DNS server\u304c\u305d\u306eIP address\u3092\u4fdd\u6301\u3057\u3066\u3044\u305f\u3089\u3001\u901f\u653b\u8fd4\u3057\u3066\u304f\u308c\u308b(1\u21928\u306e\u30eb\u30fc\u30c8)\u3002\u3082\u3057local DNS server\u304c\u305d\u306e\u30c9\u30e1\u30a4\u30f3\u306b\u95a2\u3057\u3066\u3001.edu\u3082.umass\u3082\u4f55\u4e00\u3064\u77e5\u3089\u306a\u3051\u308c\u3070\u3001root server\u306b\u805e\u304d\u306b\u884c\u304f(1\u21922\u306e\u30eb\u30fc\u30c8)\u3002\n2-3. root DNS server\u306f\u3082\u3061\u308d\u3093\u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092cache\u3057\u3066\u306f\u3044\u306a\u3044\u306e\u3067\u3001\u4e0a\u306e\u8cea\u554f\u306b\u5bfe\u3057\u3066\u3001.edu\u306edns server\u3060\u3051\u6559\u3048\u3066\u304f\u308c\u3066\u3001local server\u306b\u3042\u3068\u306f\u81ea\u5206\u3067.edu server\u306b\u805e\u3044\u3066\u3001\u3068\u3044\u3046\u3002\n4-5. \u305d\u3057\u305f\u3089\u4eca\u5ea6\u306f\u3001.edu server\u304c\u3001dns.umass.edu \u3072\u3044\u3066\u306f dns.cs.umass.edu server\u306e\u5c45\u6240\u3092\u6559\u3048\u3066\u304f\u308c\u308b\u3002\n6-7. \u305d\u308c\u3092\u5143\u306blocal DNS server\u306f\u4eca\u5ea6\u306f\u3001gaia.cs.umass.edu\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u77e5\u3063\u3066\u308bauthoritaticve DNS server\u3067\u3042\u308bdns.cs.umass.edu server\u306b```gaia.cs.umass.edu```\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u6559\u3048\u3066\u3082\u3089\u3046\u3002\n8. ```gaia.cs.umass.edu```\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u30b2\u30c3\u30c8\u3057\u3066\u3001http\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u958b\u59cb\u3067\u304d\u308b\u3002(http\u30ea\u30af\u30a8\u30b9\u30c8\u4f5c\u308b\u306b\u306f\u307e\u305aconnection\u304c\u5fc5\u8981)\n\n\u3053\u306e\u3088\u3046\u306b\u3001ip\u30a2\u30c9\u30ec\u30b9\u3092\u30b2\u30c3\u30c8\u3057\u306a\u3044\u3053\u3068\u306b\u306f\u3001\u4f55\u3082\u3067\u304d\u306a\u3044\u3002\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u306f\u3001iterative\u306a\u3084\u308a\u65b9\u3002\u6587\u5b57\u901a\u308a\u53cd\u5fa9\u7684\u306b\u7e70\u308a\u8fd4\u3057\u3066\u308b\u304b\u3089\u3002\n\n#### recursive\u306a\u3084\u308a\u65b9\n\n![Screen Shot 2015-04-19 at 6.03.14 PM.png](https://qiita-image-store.s3.amazonaws.com/0/71621/63ab6463-05c8-f9b6-88e9-414254c2fc08.png \"Screen Shot 2015-04-19 at 6.03.14 PM.png\")\n\n\u4e0a\u56f3\u306e\u3088\u3046\u306b\u3001\u76ee\u7684\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u3084\u308a\u65b9\u306b\u306f\u6b20\u70b9\u304c\u3042\u308b\u3002\u30b3\u30f3\u30bf\u30af\u30c8\u3057\u305fname server\u5168\u3066\u3001\u6700\u5f8c\u306eip\u30a2\u30c9\u30ec\u30b9\u304c\u5e30\u3063\u3066\u304f\u308b\u307e\u3067\u3064\u306a\u304e\u7d9a\u3051\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3042\u308b\u3002\u6700\u60aa\u306a\u306e\u306f\u3001\u305d\u308c\u3092root DNS server\u306b\u95a2\u3057\u3066\u3082\u3057\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3002\u4e16\u754c\u306b13\u3057\u304b\u306a\u3044server\u3092\u305d\u3093\u306a\u8d05\u6ca2\u306b\u4f7f\u3046\u308f\u3051\u306b\u306f\u3044\u304b\u3093\u306d\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u57fa\u672c\u7684\u306b\u306fiterative\u306a\u3084\u308a\u65b9\u304c\u53d6\u3089\u308c\u3066\u3044\u308b\u3002\n\n### DNS records\nDNS server\u306brecord\u3092\u767b\u9332\u3059\u308b\u3068\u304d\u3001\n```RR format: (name, value, type, ttl)```\n\u3067\u767b\u9332\u3055\u308c\u308b\u3002(ttl\u306ftime to leave\u3002\u3044\u3064\u307e\u3067\u60c5\u5831\u304c\u6709\u52b9\u304b\u3002)\n \n* Type = A \n - **name** is hostname\n - **value** is IP address\n* Type = NS \n - **name** is domain (e.g. foo.com)\n - **value** is hostname of authoritative name server for this domain\n* Type = CNAME\n - **name** is alias name for some \"canonical\" (the real) name  \n    \u4f8b\u3048\u3070\u3001www.ibm.com(\u2190alias) \u306f\u672c\u5f53\u306f\u3001servereast.backup2.ibm.com(\u2190canonical)\u3063\u3066\u540d\u524d\u3060\u3063\u305f\u308a\u3002\u4e00\u3064\u306ehostname\u306b\u5bfe\u3057\u3066\u3001\u8907\u6570\u306ename\u3092\u7d50\u3073\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n - **value** is canonical name\n* Type = MX\n - **value** is name of mailserver associated with **name**. domain\u306b\u5bfe\u3057\u3066mailserver\u304c\u3042\u308b\u3001\u305d\u308c\u3092\u53d6\u308b\u3002\n\n### Inserting records into DNS\nDNS\u306b\u81ea\u5206\u306e\u65b0\u3057\u3044record\u3092\u8ffd\u52a0\u3059\u308b\u6d41\u308c\u3092\u8003\u3048\u308b\u3002 \u4f8b\u3068\u3057\u3066\u3001\"Network Utopia\"\u3068\u3044\u3046\u540d\u524d\u306estartup\u3092\u3042\u306a\u305f\u304c\u4f5c\u308b\u3068\u3057\u3088\u3046\u3002\n1. Register name networkutopia.com at a registrar.\n   - need to provide registrar with names and IP addresses of your authoritative name server (primary and secondary)\n   - Registrar inserts two RRs into the com TLD server:\n     ```(networkutopia.com, dns1.networkutpia.com, NS)```, ```(dns1.networkutopia.com, 212.212.212.1, A)```\n2. Put in authoritative server Type A record for www.networkuyopia.com and Type MX record for networkutopia.com\n3. \u4eba\u3005\u304c\u3001www.networkutopia.com\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6642\u3001TLD server\u884c\u3063\u3066\u3001dns1.networkutopia.com\u306eip\u30a2\u30c9\u30ec\u30b9\u3092\u4e0a\u8a18\u306e\u4e8c\u3064\u306eRRs\u306b\u3088\u308a\u3082\u3089\u3063\u3066\u3001\u4eca\u5ea6\u306f\u305d\u306edns server\u306bwww.networkutopia.com\u306eip\u30a2\u30c9\u30ec\u30b9(network.com\u4ee5\u4e0b\u306ewww.\u306f\u3053\u306eip\u30a2\u30c9\u30ec\u30b9\u3060\u3088\u3063\u3066\u3044\u3046\u306e\u3092)\u3092\u3082\u3089\u3046\u3002\n\n### Attacking DNS\n\u3053\u308c\u307e\u3067\u898b\u3066\u304d\u305f\u3088\u3046\u306bDNS\u306finternet\u306e\u30a4\u30f3\u30d5\u30e9\u3068\u3057\u3066\u3001\u3081\u3061\u3083\u304f\u3061\u3083\u5927\u4e8b\u3002\u305d\u308c\u3086\u3048\u306b\u3001DNS\u304c\u30c0\u30a6\u30f3\u3057\u305f\u3089\u56f0\u308b\u308f\u3051\u3067\u3001\u3069\u3093\u3060\u3051\u4e08\u592b\u306a\u306e\u304b\u3092\u898b\u3066\u307f\u3088\u3046\u3002\n\n#### DDoS attacks\n- Bombard root servers with traffics\n   - Not successful to date\n   - Traffic Filtering\n   - Local DNS servers cache IPs of TLD servers, allowing root server bypass  \n- Bombard TLD servers\n   - Potentially more dangerous because less likely to be cached. But still cached.\n\n#### Redirected attacks\n- Man-in-middle  \n   - intercept queries. the attacjer intercepts queries from hosts and returns bogus replies.\n- DNS poisoning\n   - Send bogus replies to DNS server, which caches the wrong records.\n\n#### Exploit DNS for DDoS\n- Send queries with spoofed source address: target IP\n- Requires amplification\n\n******\n#### \u53c2\u8003\n\u672c\u300cComputer Networking A Top-Down Approach\u300d\n", "tags": ["Network", "dns"]}