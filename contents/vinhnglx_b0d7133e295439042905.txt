{"tags": ["migration", "ActiveRecord", "Rails"], "context": " More than 1 year has passed since last update.Add a column in a migration and populate it immediately after. \nreset_column_information\nExample\n    class AddNameToUser < ActiveRecord::Migration\n        def self.up\n            add_column :users, :name, :string\n            User.reset_column_information\n            User.find(:all).each do |user|\n                user.name = user.first_name + ' ' + user.last_name\n            end\n            remove_column :users, :first_name\n            remove_column :users, :last_name\n        end\n    end\n\n\n\nAdd a column in a migration and populate it immediately after. \n`reset_column_information`\n\n**Example**\n\n```ruby\n\tclass AddNameToUser < ActiveRecord::Migration\n  \t\tdef self.up\n    \t\tadd_column :users, :name, :string\n    \t\tUser.reset_column_information\n    \t\tUser.find(:all).each do |user|\n      \t\t\tuser.name = user.first_name + ' ' + user.last_name\n    \t\tend\n    \t\tremove_column :users, :first_name\n    \t\tremove_column :users, :last_name\n\t\tend\n  \tend\n```\n\n---\n\n"}