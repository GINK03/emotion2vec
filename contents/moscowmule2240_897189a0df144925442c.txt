{"context": " More than 1 year has passed since last update.\n\n\u81ea\u5206\u3067cookbook\u3092\u4f5c\u308b\n\u81ea\u5206\u3067\u4f5c\u3063\u305fcookbook\u306fsite-cookbooks\u306b\u7f6e\u304d\u307e\u3059\u3002\n\nyum -y update\u3092\u5b9f\u884c\u3059\u308bcookbook\u3092\u4f5c\u308b\n\ncookbook\u306e\u4f5c\u6210\nyum-update\u3068\u3044\u3046\u540d\u524d\u3067cookbook\u3092\u4f5c\u308a\u307e\u3059\u3002\nknife cookbook create yum-update -o site-cookbooks/\n\n\nrecipe\u306e\u4f5c\u6210\nsite-cookbooks/yum-update/recipes/default.rb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\u3053\u3053\u306b\u5b9f\u884c\u3059\u308b\u5185\u5bb9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\ndefault.rb\nyum_package \"yum-fastestmirror\" do\n  action :install\nend\n\nexecute \"yum-update\" do\n  user \"root\"\n  command \"yum -y update\"\n  action :run\nend\n\n\n\nrecipe\u306b\u8ffd\u52a0\nVagrantfile\u306brecipe\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n  config.vm.provision :chef_solo do |chef|\n    chef.cookbooks_path = [\"cookbooks\", \"site-cookbooks\"]\n    chef.add_recipe \"yum-update\"\n  end\n\n\nvagrant\u8d77\u52d5\nvagrant up\n\n\n\u30ea\u30f3\u30af\nVagrant\u521d\u671f\u8a2d\u5b9a\n\u81ea\u5206\u3067\u4f5c\u6210\u3057\u305fcookbook\u3092Vagrant\u3067\u9069\u7528\u3059\u308b\nVagrant\u3067CentOS\u5916\u90e8\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8ffd\u52a0\nVagrant\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306bMySQL5.5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVagrant\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306eMySQL\u306b\u63a5\u7d9a\nVagrant\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306bredis2.8.12\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# \u81ea\u5206\u3067cookbook\u3092\u4f5c\u308b\n\u81ea\u5206\u3067\u4f5c\u3063\u305fcookbook\u306fsite-cookbooks\u306b\u7f6e\u304d\u307e\u3059\u3002\n\n## yum -y update\u3092\u5b9f\u884c\u3059\u308bcookbook\u3092\u4f5c\u308b\n\n### cookbook\u306e\u4f5c\u6210\nyum-update\u3068\u3044\u3046\u540d\u524d\u3067cookbook\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n```\nknife cookbook create yum-update -o site-cookbooks/\n```\n\n### recipe\u306e\u4f5c\u6210\nsite-cookbooks/yum-update/recipes/default.rb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\u3053\u3053\u306b\u5b9f\u884c\u3059\u308b\u5185\u5bb9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```Ruby:default.rb\nyum_package \"yum-fastestmirror\" do\n  action :install\nend\n\nexecute \"yum-update\" do\n  user \"root\"\n  command \"yum -y update\"\n  action :run\nend\n```\n\n### recipe\u306b\u8ffd\u52a0\nVagrantfile\u306brecipe\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```Vagrantfile\n  config.vm.provision :chef_solo do |chef|\n    chef.cookbooks_path = [\"cookbooks\", \"site-cookbooks\"]\n    chef.add_recipe \"yum-update\"\n  end\n```\n\n### vagrant\u8d77\u52d5\n```\nvagrant up\n```\n\n## \u30ea\u30f3\u30af\n[Vagrant\u521d\u671f\u8a2d\u5b9a](http://qiita.com/moscowmule2240/items/c5b9d8e261af5737ef5a)\n[\u81ea\u5206\u3067\u4f5c\u6210\u3057\u305fcookbook\u3092Vagrant\u3067\u9069\u7528\u3059\u308b](http://qiita.com/moscowmule2240/items/897189a0df144925442c)\n[Vagrant\u3067CentOS\u5916\u90e8\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8ffd\u52a0](http://qiita.com/moscowmule2240/items/bf9bb3e0828e2986ce75)\n[Vagrant\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306bMySQL5.5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://qiita.com/moscowmule2240/items/5d1efc2deb89c6219fd5)\n[Vagrant\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306eMySQL\u306b\u63a5\u7d9a](http://qiita.com/moscowmule2240/items/88889195dc51948279fd)\n[Vagrant\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306bredis2.8.12\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://qiita.com/moscowmule2240/items/82cdf61a4168462f6644)\n", "tags": ["chef", "Yum", "vagrant"]}