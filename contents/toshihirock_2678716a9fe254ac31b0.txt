{"tags": ["Java", "Maven"], "context": "\u4f7f\u3063\u3066\u307f\u305f\u6642\u306e\u30e1\u30e2\u3002\nJava\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3002\n\nMaven \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nAmazonLinux\u306bmaven\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n$sudo su\n\n$wget http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo -O /etc/yum.repos.d/epel-apache-maven.repo\n\n$ sed -i s/\\$releasever/6/g /etc/yum.repos.d/epel-apache-maven.repo\n\n$yum -y install apache-maven\n\n$ mvn --version\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T16:41:47+00:00)\nMaven home: /usr/share/apache-maven\nJava version: 1.7.0_111, vendor: Oracle Corporation\nJava home: /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111.x86_64/jre\nDefault locale: ja_JP, platform encoding: UTF-8\nOS name: \"linux\", version: \"4.4.23-31.54.amzn1.x86_64\", arch: \"amd64\", family: \"unix\"\n\n\n\u4f7f\u3063\u3066\u307f\u308b\n\u4ee5\u4e0b\u306b\u5206\u304b\u308a\u3084\u3059\u304f\u307e\u3068\u307e\u3063\u3066\u304a\u308a\u307e\u3057\u305f\u3002\nMaven \u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\u304b\u3089\u30d3\u30eb\u30c9\u3001\u5b9f\u884c\u307e\u3067\u3092\u3084\u3063\u3066\u307f\u305f\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n$mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\n\n\u3053\u308c\u3067 Maven \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u96db\u5f62\u304c\u51fa\u6765\u4e0a\u304c\u308a\u307e\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3053\u3093\u306a\u611f\u3058\u306e\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\u3002\n$tree .\n.\n\u2514\u2500\u2500 my-app\n    \u251c\u2500\u2500 pom.xml\n    \u2514\u2500\u2500 src\n        \u251c\u2500\u2500 main\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 java\n        \u2502\u00a0\u00a0     \u2514\u2500\u2500 com\n        \u2502\u00a0\u00a0         \u2514\u2500\u2500 mycompany\n        \u2502\u00a0\u00a0             \u2514\u2500\u2500 app\n        \u2502\u00a0\u00a0                 \u2514\u2500\u2500 App.java\n        \u2514\u2500\u2500 test\n            \u2514\u2500\u2500 java\n                \u2514\u2500\u2500 com\n                    \u2514\u2500\u2500 mycompany\n                        \u2514\u2500\u2500 app\n                            \u2514\u2500\u2500 AppTest.java\n\n12 directories, 3 files\n\n\u3053\u3093\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u305f\u3002\n\nApp.java\npackage com.mycompany.app;\n\n/**\n * Hello world!\n *\n */\npublic class App\n{\n    public static void main( String[] args )\n    {\n        System.out.println( \"Hello World!\" );\n    }\n}\n\n\n\npom.xml \u306e\u7de8\u96c6\nmvn \u30b3\u30de\u30f3\u30c9\u304b\u3089 Java \u3092\u5b9f\u884c\u3067\u304d\u308b\u4fbf\u5229\u306a\u30d7\u30e9\u30b0\u30a4\u30f3exec-maven-plugin\u3057\u307e\u3059\u3002\nJUnit\u306f\u6700\u521d\u304b\u3089\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u306d\u3002\n\npom.xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n  <groupId>com.mycompany.app</groupId>\n  <artifactId>my-app</artifactId>\n  <packaging>jar</packaging>\n  <version>1.0-SNAPSHOT</version>\n  <name>my-app</name>\n  <url>http://maven.apache.org</url>\n\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.codehaus.mojo</groupId>\n        <artifactId>exec-maven-plugin</artifactId>\n        <configuration>\n          <mainClass>com.mycompany.app.App</mainClass>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n\n  <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n\n</project>\n\n\n\n\u30d3\u30eb\u30c9\u3059\u308b\n\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\n\u521d\u56de\u306f\u95a2\u4fc2\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306a\u3069\u3082\u3042\u308a\u3001\u5c11\u3057\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n$mvn package\n\u30fb\u30fb\u30fb\n\n[INFO] Building jar: /home/ec2-user/my-app/target/my-app-1.0-SNAPSHOT.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 36.587 s\n[INFO] Finished at: 2016-11-11T13:48:28+00:00\n[INFO] Final Memory: 15M/36M\n[INFO] ------------------------------------------------------------------------\n\n\u3067\u304d\u307e\u3057\u305f\u3002\ntarget\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u306b jar\u30d5\u30a1\u30a4\u30eb\u3084\u30af\u30e9\u30b9\u30d5\u30a1\u30a4\u30eb\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306d\u3002\n\n\u5b9f\u884c\u3059\u308b\n$mvn exec:java\n\u30fb\u30fb\u30fb\nHello World!\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.590 s\n[INFO] Finished at: 2016-11-11T13:50:14+00:00\n[INFO] Final Memory: 6M/15M\n[INFO] ------------------------------------------------------------------------\n\n\u51fa\u6765\u307e\u3057\u305f\uff01\n\u4f7f\u3063\u3066\u307f\u305f\u6642\u306e\u30e1\u30e2\u3002\nJava\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3002\n\n# Maven \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n[AmazonLinux\u306bmaven\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b](http://saratoga.jp/tips/528)\n\n```bash\n$sudo su\n\n$wget http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo -O /etc/yum.repos.d/epel-apache-maven.repo\n\n$ sed -i s/\\$releasever/6/g /etc/yum.repos.d/epel-apache-maven.repo\n\n$yum -y install apache-maven\n\n$ mvn --version\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T16:41:47+00:00)\nMaven home: /usr/share/apache-maven\nJava version: 1.7.0_111, vendor: Oracle Corporation\nJava home: /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111.x86_64/jre\nDefault locale: ja_JP, platform encoding: UTF-8\nOS name: \"linux\", version: \"4.4.23-31.54.amzn1.x86_64\", arch: \"amd64\", family: \"unix\"\n```\n\n# \u4f7f\u3063\u3066\u307f\u308b\n\n\u4ee5\u4e0b\u306b\u5206\u304b\u308a\u3084\u3059\u304f\u307e\u3068\u307e\u3063\u3066\u304a\u308a\u307e\u3057\u305f\u3002\n\n[Maven \u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\u304b\u3089\u30d3\u30eb\u30c9\u3001\u5b9f\u884c\u307e\u3067\u3092\u3084\u3063\u3066\u307f\u305f](http://a4dosanddos.hatenablog.com/entry/2015/02/22/163009)\n\n## \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\n```bash\n$mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\n```\n\n\u3053\u308c\u3067 Maven \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u96db\u5f62\u304c\u51fa\u6765\u4e0a\u304c\u308a\u307e\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3053\u3093\u306a\u611f\u3058\u306e\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\u3002\n\n```bash\n$tree .\n.\n\u2514\u2500\u2500 my-app\n    \u251c\u2500\u2500 pom.xml\n    \u2514\u2500\u2500 src\n        \u251c\u2500\u2500 main\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 java\n        \u2502\u00a0\u00a0     \u2514\u2500\u2500 com\n        \u2502\u00a0\u00a0         \u2514\u2500\u2500 mycompany\n        \u2502\u00a0\u00a0             \u2514\u2500\u2500 app\n        \u2502\u00a0\u00a0                 \u2514\u2500\u2500 App.java\n        \u2514\u2500\u2500 test\n            \u2514\u2500\u2500 java\n                \u2514\u2500\u2500 com\n                    \u2514\u2500\u2500 mycompany\n                        \u2514\u2500\u2500 app\n                            \u2514\u2500\u2500 AppTest.java\n\n12 directories, 3 files\n```\n\n\u3053\u3093\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u305f\u3002\n\n```App.java\npackage com.mycompany.app;\n\n/**\n * Hello world!\n *\n */\npublic class App\n{\n    public static void main( String[] args )\n    {\n        System.out.println( \"Hello World!\" );\n    }\n}\n```\n\n# pom.xml \u306e\u7de8\u96c6\n\nmvn \u30b3\u30de\u30f3\u30c9\u304b\u3089 Java \u3092\u5b9f\u884c\u3067\u304d\u308b\u4fbf\u5229\u306a\u30d7\u30e9\u30b0\u30a4\u30f3`exec-maven-plugin`\u3057\u307e\u3059\u3002\nJUnit\u306f\u6700\u521d\u304b\u3089\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u306d\u3002\n\n```pom.xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n  <groupId>com.mycompany.app</groupId>\n  <artifactId>my-app</artifactId>\n  <packaging>jar</packaging>\n  <version>1.0-SNAPSHOT</version>\n  <name>my-app</name>\n  <url>http://maven.apache.org</url>\n\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.codehaus.mojo</groupId>\n        <artifactId>exec-maven-plugin</artifactId>\n        <configuration>\n          <mainClass>com.mycompany.app.App</mainClass>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n\n  <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n\n</project>\n```\n\n# \u30d3\u30eb\u30c9\u3059\u308b\n\n\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\n\u521d\u56de\u306f\u95a2\u4fc2\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306a\u3069\u3082\u3042\u308a\u3001\u5c11\u3057\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\n\n```bash\n$mvn package\n\u30fb\u30fb\u30fb\n\n[INFO] Building jar: /home/ec2-user/my-app/target/my-app-1.0-SNAPSHOT.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 36.587 s\n[INFO] Finished at: 2016-11-11T13:48:28+00:00\n[INFO] Final Memory: 15M/36M\n[INFO] ------------------------------------------------------------------------\n```\n\n\u3067\u304d\u307e\u3057\u305f\u3002\ntarget\u30d5\u30a9\u30eb\u30c0\u914d\u4e0b\u306b jar\u30d5\u30a1\u30a4\u30eb\u3084\u30af\u30e9\u30b9\u30d5\u30a1\u30a4\u30eb\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306d\u3002\n\n# \u5b9f\u884c\u3059\u308b\n\n```bash\n$mvn exec:java\n\u30fb\u30fb\u30fb\nHello World!\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.590 s\n[INFO] Finished at: 2016-11-11T13:50:14+00:00\n[INFO] Final Memory: 6M/15M\n[INFO] ------------------------------------------------------------------------\n```\n\n\u51fa\u6765\u307e\u3057\u305f\uff01\n"}