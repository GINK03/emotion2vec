{"tags": ["AWS", "opsworks"], "context": " More than 1 year has passed since last update.\n\n1. arn\u3000\u60c5\u5831\u306e\u4f5c\u6210\narn\u306f\u3001\u30a2\u30ab\u30a6\u30f3\u30c8ID\u3068\u3001IAM\u30e6\u30fc\u30b6\u540d\u304c\u3042\u308c\u3070\u4f5c\u6210\u3067\u304d\u308b\u3002\n\u4ee5\u4e0b\u306e\u5f62\u3067arn\u3092\u4f5c\u6210\u3059\u308b\u3002\narn:aws:iam::<\u30a2\u30ab\u30a6\u30f3\u30c8ID>:user/<IAM\u30e6\u30fc\u30b6\u540d>\n\n2. SSH\u30ad\u30fc\u306e\u4f5c\u6210\nhttp://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/ec2-key-pairs.html#how-to-generate-your-own-key-and-import-it-to-aws\n$ ssh-keygen -t rsa -C \"<\u30e6\u30fc\u30b6\u540d>\" -f ./<\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d>.pem\n\npassword\u30922\u56de\u5165\u529b\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3002\n$ ssh-keygen -t rsa -C \"taro\" -f ./taro.pem\nGenerating public/private rsa key pair.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in ./taro.pem.\nYour public key has been saved in ./taro.pem.pub.\nThe key fingerprint is:\na7:79:fa:bc:4e:47:2b:df:2e:f3:4c:26:42:b1:32:c5 taro\nThe key's randomart image is:\n+--[ RSA 2048]----+\n|                 |\n|         .       |\n|          E      |\n|         . o     |\n|        S + .    |\n|         B . .   |\n|        o = + o  |\n|         = =o*   |\n|        .o=..==  |\n+-----------------+\n$ ls taro*\ntaro.pem  taro.pem.pub\n\n<\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d>.pem\n<\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d>.pem.pub\n\u304c\u4f5c\u6210\u3055\u308c\u308b.\n\n3. \u30e6\u30fc\u30b6\u60c5\u5831\u66f4\u65b0\nhttp://docs.aws.amazon.com/ja_jp/opsworks/latest/APIReference/API_UpdateUserProfile.html\naws opsworks update-user-profile \\\n--region us-east-1 \\\n--iam-user-arn arn:aws:iam::719778162096:user/taro \\\n--ssh-username taro \\\n--ssh-public-key \"ssh-rsa AAaaaaaaaaaaaaaaaa4jvMC/prbbbbbbbbbbbbbbb== taro\" //2\u3067\u4f5c\u6210\u3057\u305f<\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d>pem.pub\u306e\u5185\u5bb9\n\n\n### 1. arn\u3000\u60c5\u5831\u306e\u4f5c\u6210\n\narn\u306f\u3001\u30a2\u30ab\u30a6\u30f3\u30c8ID\u3068\u3001IAM\u30e6\u30fc\u30b6\u540d\u304c\u3042\u308c\u3070\u4f5c\u6210\u3067\u304d\u308b\u3002\n\n\u4ee5\u4e0b\u306e\u5f62\u3067arn\u3092\u4f5c\u6210\u3059\u308b\u3002\n```arn:aws:iam::<\u30a2\u30ab\u30a6\u30f3\u30c8ID>:user/<IAM\u30e6\u30fc\u30b6\u540d>```\n\n### 2. SSH\u30ad\u30fc\u306e\u4f5c\u6210\nhttp://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/ec2-key-pairs.html#how-to-generate-your-own-key-and-import-it-to-aws\n\n```\n$ ssh-keygen -t rsa -C \"<\u30e6\u30fc\u30b6\u540d>\" -f ./<\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d>.pem\n```\npassword\u30922\u56de\u5165\u529b\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3002\n\n```\n$ ssh-keygen -t rsa -C \"taro\" -f ./taro.pem\nGenerating public/private rsa key pair.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in ./taro.pem.\nYour public key has been saved in ./taro.pem.pub.\nThe key fingerprint is:\na7:79:fa:bc:4e:47:2b:df:2e:f3:4c:26:42:b1:32:c5 taro\nThe key's randomart image is:\n+--[ RSA 2048]----+\n|                 |\n|         .       |\n|          E      |\n|         . o     |\n|        S + .    |\n|         B . .   |\n|        o = + o  |\n|         = =o*   |\n|        .o=..==  |\n+-----------------+\n$ ls taro*\ntaro.pem  taro.pem.pub\n```\n\n<\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d>.pem\n<\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d>.pem.pub\n\u304c\u4f5c\u6210\u3055\u308c\u308b.\n\n### 3. \u30e6\u30fc\u30b6\u60c5\u5831\u66f4\u65b0\nhttp://docs.aws.amazon.com/ja_jp/opsworks/latest/APIReference/API_UpdateUserProfile.html\n\n\n```\naws opsworks update-user-profile \\\n--region us-east-1 \\\n--iam-user-arn arn:aws:iam::719778162096:user/taro \\\n--ssh-username taro \\\n--ssh-public-key \"ssh-rsa AAaaaaaaaaaaaaaaaa4jvMC/prbbbbbbbbbbbbbbb== taro\" //2\u3067\u4f5c\u6210\u3057\u305f<\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d>pem.pub\u306e\u5185\u5bb9\n\n```\n"}