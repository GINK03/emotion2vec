{"tags": ["smartos", "Ubuntu", "Virtualization"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002SmartOS\u306f\u4eee\u60f3\u5316\u30c6\u30af\u30ce\u30ed\u30b8\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\nSmartOS\u306b\u3088\u308bOS\u4eee\u60f3\u5316\uff08\u30b3\u30f3\u30c6\u30ca\uff09\uff1a\n\n\nSmartOS\u306eZone\nLinux\u306eZone\uff08LX Branded Zone\uff09\n\n\nSmartOS\u7d44\u307f\u8fbc\u307f\u306e\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\u30d9\u30fc\u30b9\u306e\u4eee\u60f3\u5316\n\n\nKVM\n\n\n\n\u3053\u3053\u3067\u306f\u3001SmarOS\u4e0a\u306eLinux\u30b3\u30f3\u30c6\u30ca\u3067\u3042\u308bLX Branded Zone\u3092\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\u3002\nSmartOS\u3092VMware Player\u3067\u6c17\u8efd\u306b\u8a66\u3057\u3066\u307f\u308b\u306b\u306f\u3001SmartOS\u3092VMware Player\u3067\u52d5\u304b\u3059\u3092\u3001SmartOS\u306eKVM\u4e0a\u3067CentOS\u3092\u52d5\u304b\u3057\u307f\u308b\u306b\u306f\u3001SmartOS\u306eKVM\u30b2\u30b9\u30c8\u3068\u3057\u3066CentOS7.1\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u3092\u307f\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\nimage source \u3092\u8a2d\u5b9a\u3059\u308b\nSmartOS\u3067\u306f\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092 imgadm import\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u306f\u3001images.joyent.com\u3067\u3059\u3002LX Branded Zone\u306e\u30a4\u30e1\u30fc\u30b8\u306f updates.joyent.com\u3068\u3044\u3046\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u304b\u3089\u3082\u5165\u624b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u6700\u521d\u306b\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u73fe\u5728\u306e\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u306e\u78ba\u8a8d\u306fimgadm sources\u3067\u3001\u8ffd\u52a0\u306fimgadm sources -a <URL>\u3067\u3059\u3002\n# imgadm sources\nhttps://images.joyent.com\n# imgadm sources -a https://updates.joyent.com\nAdded \"imgapi\" image source \"https://updates.joyent.com\"\n# imgadm sources\nhttps://images.joyent.com\nhttps://updates.joyent.com\n\nimgadm avail\u30b3\u30de\u30f3\u30c9\u3067\u3001\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u306b\u3042\u308bLX Branded Zone\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n# imgadm avail | grep lx-\nf7c19252-c998-11e4-be95-3315493f3741  lx-centos-6             20150313                                          other    2015-03-13T15:52:35Z\n818cc79e-ceb3-11e4-99ee-7bc8c674e754  lx-ubuntu-14.04         20150320                                          other    2015-03-20T03:45:09Z\n116deb8c-cf03-11e4-9b2d-7b1066800a6a  lx-debian-7             20150320                                          other    2015-03-20T13:14:41Z\neb4128ec-cf12-11e4-960d-8780cec6463f  lx-centos-6             20150320                                          other    2015-03-20T15:08:09Z\n\n\u3061\u306a\u307f\u306b grep \u3057\u306a\u3044\u3067\u30ea\u30b9\u30c8\u3059\u308b\u3068\u81a8\u5927\u306a\u30ea\u30b9\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u304cdocker\u304c\u591a\u6570\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\nLX Branded Zone\u306eimage\u3092import\u3059\u308b\n\u4eca\u56de\u306f\u3001Ubuntu 14.04 \u306e LX Branded Zone\u3092\u4f5c\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u30a4\u30e1\u30fc\u30b8\u3092import\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f\u3001imgadm import\u3067\u3059\u3002\n# imgadm import 818cc79e-ceb3-11e4-99ee-7bc8c674e754\nImporting 818cc79e-ceb3-11e4-99ee-7bc8c674e754 (lx-ubuntu-14.04@20150320) from \"https://images.joyent.com\"\nGather image 818cc79e-ceb3-11e4-99ee-7bc8c674e754 ancestry\nMust download and install 1 image (154.3 MiB)\nDownload 1 image                  [================================================================>] 100% 154.32MB 534.23KB/s  4m55s\nDownloaded image 818cc79e-ceb3-11e4-99ee-7bc8c674e754 (154.3 MiB)\n...9e-ceb3-11e4-99ee-7bc8c674e754 [================================================================>] 100% 154.32MB   1.62MB/s  1m35s\nImported image 818cc79e-ceb3-11e4-99ee-7bc8c674e754 (lx-ubuntu-14.04@20150320)\n\nimport \u3055\u308c\u3066\u3044\u308b image \u306f\u3001imgadm list\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n# imgadm list\nUUID                                  NAME             VERSION   OS     PUBLISHED\n818cc79e-ceb3-11e4-99ee-7bc8c674e754  lx-ubuntu-14.04  20150320  other  2015-03-20T03:45:09Z\nc41bf236-dc75-11e4-88e5-038814c07c11  centos-7         20150406  linux  2015-04-06T15:58:28Z\n\n\nUbuntu 14.04\u306eLX Branded Zone\u3092\u4f5c\u6210\u3059\u308b\nZone\u3084KVM VM\u3092\u4f5c\u6210\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f\u3001vmadm create\u3067\u3059\u3002LX Branded Zone\u3082\u3001\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001zone\u306e\u5c5e\u6027\u3092\u8a18\u8ff0\u3057\u305f json\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u3092\u5165\u529b\u3068\u3057\u307e\u3059\u304c\u3001-f\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308a\u30d5\u30a1\u30a4\u30eb\u3067\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u3068\u3057\u307e\u3059\u3002\n\n/var/tmp/lx-ubuntu-14-04.json\n{\n  \"alias\": \"lxubuntu 14.04\",\n  \"brand\": \"lx\",\n  \"kernel_version\": \"3.13.0\",\n  \"max_physical_memory\": 2048,\n  \"image_uuid\": \"b7493690-f019-4612-958b-bab5f844283e\",\n  \"nics\": [\n    {\n      \"nic_tag\": \"admin\",\n      \"ip\": \"dhcp\",\n      \"primary\": true\n    }\n  ],\n  \"qemu_extra_opts\": \"-k ja -usbdevice tablet\"\n}\n\n\nnic_tag\u3001ip\u7b49\u306f\u3001SmartOS\u306eKVM\u30b2\u30b9\u30c8\u3068\u3057\u3066CentOS7.1\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u3068\u540c\u3058\u3067\u3059\u3002\"kernel_version\"\u306f\u3001Ubuntu 14.04\u306e\u30ab\u30fc\u30cd\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\u3002\njson\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f\u304c\u3067\u304d\u305f\u3068\u3053\u308d\u3067\u3001\u3044\u3088\u3044\u3088 LX Branded Zone\u3092provision\u3057\u307e\u3059\u3002\n# vmadm create -f /var/tmp/lx-ubuntu-14-04.json\nSuccessfully created VM 16b4155b-e996-41e1-bb87-25eb0f0934ff\n\nvmadm create\u306f\u77ac\u6642\u306b\u5b8c\u4e86\u3057\u307e\u3059\u3002\nvmadm list\u3067\u3001\u78ba\u8a8d\u3057\u307e\u3059\u3002\n# vmadm list\nUUID                                  TYPE  RAM      STATE             ALIAS\na90640f4-0596-451e-8d6c-ad001d71f834  KVM   512      stopped           CentOS 7.1(1503) KVM\n16b4155b-e996-41e1-bb87-25eb0f0934ff  LX    1024     running           lxubuntu 14.04\n\nLX Branded Zone\u304c\u4f5c\u6210\u3055\u308c\u3066\u3001\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u65b0\u3057\u3044LX Branded Zone(Ubuntu)\u7528\u306e zfs \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n# df -h | grep -i zones\nzones                   19G   599K       5.6G     1%    /zones\nzones/archive           19G    19K       5.6G     1%    /zones/archive\nzones/cores             10G    19K       5.6G     1%    /zones/global/cores\nzones/var               19G   5.8M       5.6G     1%    /var\nzones/config            19G    43K       5.6G     1%    /etc/zones\nzones/opt               19G    22K       5.6G     1%    /opt\nzones/usbkey            19G   115K       5.6G     1%    /usbkey\nzones/a90640f4-0596-451e-8d6c-ad001d71f834    10G    40K       5.6G     1%    /zones/a90640f4-0596-451e-8d6c-ad001d71f834\nzones/cores/a90640f4-0596-451e-8d6c-ad001d71f834    10G    19K       5.6G     1%    /zones/a90640f4-0596-451e-8d6c-ad001d71f834/cores\nzones/818cc79e-ceb3-11e4-99ee-7bc8c674e754    19G   450M       5.6G     8%    /zones/818cc79e-ceb3-11e4-99ee-7bc8c674e754\nzones/16b4155b-e996-41e1-bb87-25eb0f0934ff    10G   450M       5.6G     8%    /zones/16b4155b-e996-41e1-bb87-25eb0f0934ff\nzones/cores/16b4155b-e996-41e1-bb87-25eb0f0934ff    10G    19K       5.6G     1%    /zones/16b4155b-e996-41e1-bb87-25eb0f0934ff/cores\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u540d\u524d\"zones/16b4155b-e996-41e1-bb87-25eb0f0934ff\"\u306bLX Branded Zone \u306eUUID\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u304b\u3089\u3001\u4eca\u4f5c\u6210\u3057\u305f Ubuntu \u306eLX Branded Zone\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\nUbuntu LX Branded Zone\u306b\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a\u3059\u308b(CLI\u30b3\u30f3\u30bd\u30fc\u30eb\u7de8)\n\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u306f\u3001zlogin -C \u30b3\u30de\u30f3\u30c9\u3067\u63a5\u7d9a\u3057\u307e\u3059\u304c\u3001zone\u4f5c\u6210\u6642\u70b9\u3067\u306f\u3001root\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u672a\u8a2d\u5b9a\u306e\u305f\u3081\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001zlogin\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u5f15\u6570\u3068\u3057\u3066\u3001\u63a5\u7d9a\u5148zone\u306eUUID\u304c\u5fc5\u8981\u3067\u3059\u3002\nUUID\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n# vmadm list\nUUID                                  TYPE  RAM      STATE             ALIAS\na90640f4-0596-451e-8d6c-ad001d71f834  KVM   512      stopped           CentOS 7.1(1503) KVM\n16b4155b-e996-41e1-bb87-25eb0f0934ff  LX    1024     running           lxubuntu 14.04\n\n\u3082\u3057\u304f\u306f\u3001\n# zoneadm list\nglobal\n16b4155b-e996-41e1-bb87-25eb0f0934ff\n\nzlogin\u3067\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u63a5\u7d9a\u3057\u307e\u3059\u3002\n# zlogin 16b4155b-e996-41e1-bb87-25eb0f0934ff\n[Connected to zone '16b4155b-e996-41e1-bb87-25eb0f0934ff' pts/3]\nWelcome to Ubuntu 14.04 LTS (GNU/Linux 3.13.0 x86_64)\n\n * Documentation:  https://help.ubuntu.com/\n\nThe programs included with the Ubuntu system are free software;\nthe exact distribution terms for each program are described in the\nindividual files in /usr/share/doc/*/copyright.\n\nUbuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by\napplicable law.\n\n   __        .                   .\n _|  |_      | .-. .  . .-. :--. |-\n|_    _|     ;|   ||  |(.-' |  | |\n  |__|   `--'  `-' `;-| `-' '  ' `-'\n                   /  ;  Instance (Ubuntu 14.04 LX Brand 20150320)\n                   `-'   https://docs.joyent.com/images\n\nroot@16b4155b-e996-41e1-bb87-25eb0f0934ff:~#\n\n\u672c\u5f53\u306b Ubuntu\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n~# cat /etc/os-release\nNAME=\"Ubuntu\"\nVERSION=\"14.04, Trusty Tahr\"\nID=ubuntu\nID_LIKE=debian\nPRETTY_NAME=\"Ubuntu 14.04 LTS\"\nVERSION_ID=\"14.04\"\nHOME_URL=\"http://www.ubuntu.com/\"\nSUPPORT_URL=\"http://help.ubuntu.com/\"\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\n\n\u672c\u5f53\u306b64\u30d3\u30c3\u30c8\u306a\u306e\u304b\u3001bash\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n~# file /bin/bash\n/bin/bash: ELF 64-bit LSB  executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.24, BuildID[sha1]=0aa3fddc66598b161d5b4407c9b61e021388fda0, stripped\n\nLinux\u30b3\u30f3\u30c6\u30ca\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\nlang:\n~# uname -a\nLinux 16b4155b-e996-41e1-bb87-25eb0f0934ff 3.13.0 BrandZ virtual linux x86_64 x86_64 x86_64 GNU/Linux\n~# ls -l /boot\ntotal 0\n\n\u78ba\u304b\u306b\u3001Linux\u30ab\u30fc\u30cd\u30eb\u304c\u3042\u308a\u307e\u305b\u3093\u3002\nroot\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n~# passwd\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: password updated successfully\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u63a5\u7d9a\u3057\u307e\u3059\u3002\n# zlogin -C 16b4155b-e996-41e1-bb87-25eb0f0934ff\n[Connected to zone '16b4155b-e996-41e1-bb87-25eb0f0934ff' console]\n\n\nUbuntu 14.04 LTS 16b4155b-e996-41e1-bb87-25eb0f0934ff console\n\n16b4155b-e996-41e1-bb87-25eb0f0934ff login: root\nPassword:\nLast login: Sun Apr 12 22:47:54 UTC 2015 from zone:global on pts/3\nWelcome to Ubuntu 14.04 LTS (GNU/Linux 3.13.0 x86_64)\n\n * Documentation:  https://help.ubuntu.com/\n   __        .                   .\n _|  |_      | .-. .  . .-. :--. |-\n|_    _|     ;|   ||  |(.-' |  | |\n  |__|   `--'  `-' `;-| `-' '  ' `-'\n                   /  ;  Instance (Ubuntu 14.04 LX Brand 20150320)\n                   `-'   https://docs.joyent.com/images\n\nroot@16b4155b-e996-41e1-bb87-25eb0f0934ff:~#\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a\u306f\u3001zone\u3092reboot\u3057\u3066\u3082\u7d99\u7d9a\u3057\u307e\u3059\u3002\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u629c\u3051\u308b\u306e\u306f~^D \uff08'~'\u30c1\u30eb\u30c0\u306b\u7d9a\u3051\u3066 [Ctrl] \u3068 [D] \u3092\u540c\u6642\u306b\u62bc\u3057\u307e\u3059\uff09\u3092\u5165\u529b\u3057\u307e\u3059\u3002 \n\u306a\u304a\u3001reboot\u3057\u3066\u307f\u308b\u3068\u3001\u3055\u305a\u304c\u30b3\u30f3\u30c6\u30ca\u3067\u3059\u4e00\u77ac\u3068\u3044\u3063\u3066\u3082\u826f\u3044\u304f\u3089\u3044\u306e\u6642\u9593\u3067 reboot \u3055\u308c\u307e\u3059\uff08\u30ab\u30fc\u30cd\u30eb\u3092reboot\u3059\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u5f53\u305f\u308a\u524d\u3067\u3059\u306d\uff09\u3002\nSmartOS\u306f\u4eee\u60f3\u5316\u30c6\u30af\u30ce\u30ed\u30b8\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\n* SmartOS\u306b\u3088\u308bOS\u4eee\u60f3\u5316\uff08\u30b3\u30f3\u30c6\u30ca\uff09\uff1a\n    * SmartOS\u306eZone\n    * Linux\u306eZone\uff08LX Branded Zone\uff09\n* SmartOS\u7d44\u307f\u8fbc\u307f\u306e\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\u30d9\u30fc\u30b9\u306e\u4eee\u60f3\u5316\n    * KVM\n\n\u3053\u3053\u3067\u306f\u3001SmarOS\u4e0a\u306eLinux\u30b3\u30f3\u30c6\u30ca\u3067\u3042\u308b**LX Branded Zone**\u3092\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\u3002\n\nSmartOS\u3092VMware Player\u3067\u6c17\u8efd\u306b\u8a66\u3057\u3066\u307f\u308b\u306b\u306f\u3001[SmartOS\u3092VMware Player\u3067\u52d5\u304b\u3059](http://qiita.com/kutsushitaneko/items/de7b1dd62be8efeac618)\u3092\u3001SmartOS\u306eKVM\u4e0a\u3067CentOS\u3092\u52d5\u304b\u3057\u307f\u308b\u306b\u306f\u3001[SmartOS\u306eKVM\u30b2\u30b9\u30c8\u3068\u3057\u3066CentOS7.1\u3092\u52d5\u304b\u3057\u3066\u307f\u308b](http://qiita.com/kutsushitaneko/items/afd3ddbacfe2b7614c19)\u3092\u307f\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n# image source \u3092\u8a2d\u5b9a\u3059\u308b\nSmartOS\u3067\u306f\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092 `imgadm import`\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u306f\u3001images.joyent.com\u3067\u3059\u3002LX Branded Zone\u306e\u30a4\u30e1\u30fc\u30b8\u306f updates.joyent.com\u3068\u3044\u3046\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u304b\u3089\u3082\u5165\u624b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u6700\u521d\u306b\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u73fe\u5728\u306e\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u306e\u78ba\u8a8d\u306f`imgadm sources`\u3067\u3001\u8ffd\u52a0\u306f`imgadm sources -a <URL>`\u3067\u3059\u3002\n\n```lang:\n# imgadm sources\nhttps://images.joyent.com\n# imgadm sources -a https://updates.joyent.com\nAdded \"imgapi\" image source \"https://updates.joyent.com\"\n# imgadm sources\nhttps://images.joyent.com\nhttps://updates.joyent.com\n```\n\n`imgadm avail`\u30b3\u30de\u30f3\u30c9\u3067\u3001\u30a4\u30e1\u30fc\u30b8\u30bd\u30fc\u30b9\u306b\u3042\u308bLX Branded Zone\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```lang:\n# imgadm avail | grep lx-\nf7c19252-c998-11e4-be95-3315493f3741  lx-centos-6             20150313                                          other    2015-03-13T15:52:35Z\n818cc79e-ceb3-11e4-99ee-7bc8c674e754  lx-ubuntu-14.04         20150320                                          other    2015-03-20T03:45:09Z\n116deb8c-cf03-11e4-9b2d-7b1066800a6a  lx-debian-7             20150320                                          other    2015-03-20T13:14:41Z\neb4128ec-cf12-11e4-960d-8780cec6463f  lx-centos-6             20150320                                          other    2015-03-20T15:08:09Z\n```\n\u3061\u306a\u307f\u306b grep \u3057\u306a\u3044\u3067\u30ea\u30b9\u30c8\u3059\u308b\u3068\u81a8\u5927\u306a\u30ea\u30b9\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u304cdocker\u304c\u591a\u6570\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n# LX Branded Zone\u306eimage\u3092import\u3059\u308b\n\n\u4eca\u56de\u306f\u3001Ubuntu 14.04 \u306e LX Branded Zone\u3092\u4f5c\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u30a4\u30e1\u30fc\u30b8\u3092import\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f\u3001`imgadm import`\u3067\u3059\u3002\n\n```lang:\n# imgadm import 818cc79e-ceb3-11e4-99ee-7bc8c674e754\nImporting 818cc79e-ceb3-11e4-99ee-7bc8c674e754 (lx-ubuntu-14.04@20150320) from \"https://images.joyent.com\"\nGather image 818cc79e-ceb3-11e4-99ee-7bc8c674e754 ancestry\nMust download and install 1 image (154.3 MiB)\nDownload 1 image                  [================================================================>] 100% 154.32MB 534.23KB/s  4m55s\nDownloaded image 818cc79e-ceb3-11e4-99ee-7bc8c674e754 (154.3 MiB)\n...9e-ceb3-11e4-99ee-7bc8c674e754 [================================================================>] 100% 154.32MB   1.62MB/s  1m35s\nImported image 818cc79e-ceb3-11e4-99ee-7bc8c674e754 (lx-ubuntu-14.04@20150320)\n```\n\nimport \u3055\u308c\u3066\u3044\u308b image \u306f\u3001imgadm list\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n```lang:\n# imgadm list\nUUID                                  NAME             VERSION   OS     PUBLISHED\n818cc79e-ceb3-11e4-99ee-7bc8c674e754  lx-ubuntu-14.04  20150320  other  2015-03-20T03:45:09Z\nc41bf236-dc75-11e4-88e5-038814c07c11  centos-7         20150406  linux  2015-04-06T15:58:28Z\n```\n# Ubuntu 14.04\u306eLX Branded Zone\u3092\u4f5c\u6210\u3059\u308b\n\nZone\u3084KVM VM\u3092\u4f5c\u6210\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f\u3001`vmadm create`\u3067\u3059\u3002LX Branded Zone\u3082\u3001\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001zone\u306e\u5c5e\u6027\u3092\u8a18\u8ff0\u3057\u305f json\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u3092\u5165\u529b\u3068\u3057\u307e\u3059\u304c\u3001-f\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308a\u30d5\u30a1\u30a4\u30eb\u3067\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u3068\u3057\u307e\u3059\u3002\n\n```lang:/var/tmp/lx-ubuntu-14-04.json\n{\n  \"alias\": \"lxubuntu 14.04\",\n  \"brand\": \"lx\",\n  \"kernel_version\": \"3.13.0\",\n  \"max_physical_memory\": 2048,\n  \"image_uuid\": \"b7493690-f019-4612-958b-bab5f844283e\",\n  \"nics\": [\n    {\n      \"nic_tag\": \"admin\",\n      \"ip\": \"dhcp\",\n      \"primary\": true\n    }\n  ],\n  \"qemu_extra_opts\": \"-k ja -usbdevice tablet\"\n}\n```\n\nnic_tag\u3001ip\u7b49\u306f\u3001[SmartOS\u306eKVM\u30b2\u30b9\u30c8\u3068\u3057\u3066CentOS7.1\u3092\u52d5\u304b\u3057\u3066\u307f\u308b](http://qiita.com/kutsushitaneko/items/afd3ddbacfe2b7614c19)\u3068\u540c\u3058\u3067\u3059\u3002\"kernel_version\"\u306f\u3001Ubuntu 14.04\u306e\u30ab\u30fc\u30cd\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\u3002\n\njson\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f\u304c\u3067\u304d\u305f\u3068\u3053\u308d\u3067\u3001\u3044\u3088\u3044\u3088 LX Branded Zone\u3092provision\u3057\u307e\u3059\u3002\n\n```lang:\n# vmadm create -f /var/tmp/lx-ubuntu-14-04.json\nSuccessfully created VM 16b4155b-e996-41e1-bb87-25eb0f0934ff\n```\n\n`vmadm create`\u306f\u77ac\u6642\u306b\u5b8c\u4e86\u3057\u307e\u3059\u3002\n\n`vmadm list`\u3067\u3001\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```lang:\n# vmadm list\nUUID                                  TYPE  RAM      STATE             ALIAS\na90640f4-0596-451e-8d6c-ad001d71f834  KVM   512      stopped           CentOS 7.1(1503) KVM\n16b4155b-e996-41e1-bb87-25eb0f0934ff  LX    1024     running           lxubuntu 14.04\n```\n\nLX Branded Zone\u304c\u4f5c\u6210\u3055\u308c\u3066\u3001\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u65b0\u3057\u3044LX Branded Zone(Ubuntu)\u7528\u306e zfs \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```lang:\n# df -h | grep -i zones\nzones                   19G   599K       5.6G     1%    /zones\nzones/archive           19G    19K       5.6G     1%    /zones/archive\nzones/cores             10G    19K       5.6G     1%    /zones/global/cores\nzones/var               19G   5.8M       5.6G     1%    /var\nzones/config            19G    43K       5.6G     1%    /etc/zones\nzones/opt               19G    22K       5.6G     1%    /opt\nzones/usbkey            19G   115K       5.6G     1%    /usbkey\nzones/a90640f4-0596-451e-8d6c-ad001d71f834    10G    40K       5.6G     1%    /zones/a90640f4-0596-451e-8d6c-ad001d71f834\nzones/cores/a90640f4-0596-451e-8d6c-ad001d71f834    10G    19K       5.6G     1%    /zones/a90640f4-0596-451e-8d6c-ad001d71f834/cores\nzones/818cc79e-ceb3-11e4-99ee-7bc8c674e754    19G   450M       5.6G     8%    /zones/818cc79e-ceb3-11e4-99ee-7bc8c674e754\nzones/16b4155b-e996-41e1-bb87-25eb0f0934ff    10G   450M       5.6G     8%    /zones/16b4155b-e996-41e1-bb87-25eb0f0934ff\nzones/cores/16b4155b-e996-41e1-bb87-25eb0f0934ff    10G    19K       5.6G     1%    /zones/16b4155b-e996-41e1-bb87-25eb0f0934ff/cores\n```\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u540d\u524d\"zones/16b4155b-e996-41e1-bb87-25eb0f0934ff\"\u306bLX Branded Zone \u306eUUID\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u304b\u3089\u3001\u4eca\u4f5c\u6210\u3057\u305f Ubuntu \u306eLX Branded Zone\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n# Ubuntu LX Branded Zone\u306b\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a\u3059\u308b(CLI\u30b3\u30f3\u30bd\u30fc\u30eb\u7de8)\n\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u306f\u3001`zlogin -C` \u30b3\u30de\u30f3\u30c9\u3067\u63a5\u7d9a\u3057\u307e\u3059\u304c\u3001zone\u4f5c\u6210\u6642\u70b9\u3067\u306f\u3001root\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u672a\u8a2d\u5b9a\u306e\u305f\u3081\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001`zlogin`\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u5f15\u6570\u3068\u3057\u3066\u3001\u63a5\u7d9a\u5148zone\u306eUUID\u304c\u5fc5\u8981\u3067\u3059\u3002\n\nUUID\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```lang:\n# vmadm list\nUUID                                  TYPE  RAM      STATE             ALIAS\na90640f4-0596-451e-8d6c-ad001d71f834  KVM   512      stopped           CentOS 7.1(1503) KVM\n16b4155b-e996-41e1-bb87-25eb0f0934ff  LX    1024     running           lxubuntu 14.04\n```\n\n\u3082\u3057\u304f\u306f\u3001\n\n```lang:\n# zoneadm list\nglobal\n16b4155b-e996-41e1-bb87-25eb0f0934ff\n```\n\nzlogin\u3067\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\n```lang:\n# zlogin 16b4155b-e996-41e1-bb87-25eb0f0934ff\n[Connected to zone '16b4155b-e996-41e1-bb87-25eb0f0934ff' pts/3]\nWelcome to Ubuntu 14.04 LTS (GNU/Linux 3.13.0 x86_64)\n\n * Documentation:  https://help.ubuntu.com/\n\nThe programs included with the Ubuntu system are free software;\nthe exact distribution terms for each program are described in the\nindividual files in /usr/share/doc/*/copyright.\n\nUbuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by\napplicable law.\n\n   __        .                   .\n _|  |_      | .-. .  . .-. :--. |-\n|_    _|     ;|   ||  |(.-' |  | |\n  |__|   `--'  `-' `;-| `-' '  ' `-'\n                   /  ;  Instance (Ubuntu 14.04 LX Brand 20150320)\n                   `-'   https://docs.joyent.com/images\n\nroot@16b4155b-e996-41e1-bb87-25eb0f0934ff:~#\n```\n\n\u672c\u5f53\u306b Ubuntu\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```lang:\n~# cat /etc/os-release\nNAME=\"Ubuntu\"\nVERSION=\"14.04, Trusty Tahr\"\nID=ubuntu\nID_LIKE=debian\nPRETTY_NAME=\"Ubuntu 14.04 LTS\"\nVERSION_ID=\"14.04\"\nHOME_URL=\"http://www.ubuntu.com/\"\nSUPPORT_URL=\"http://help.ubuntu.com/\"\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\n```\n\n\u672c\u5f53\u306b64\u30d3\u30c3\u30c8\u306a\u306e\u304b\u3001bash\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```lang:\n~# file /bin/bash\n/bin/bash: ELF 64-bit LSB  executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.24, BuildID[sha1]=0aa3fddc66598b161d5b4407c9b61e021388fda0, stripped\n```\n\nLinux\u30b3\u30f3\u30c6\u30ca\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n```lang:\n~# uname -a\nLinux 16b4155b-e996-41e1-bb87-25eb0f0934ff 3.13.0 BrandZ virtual linux x86_64 x86_64 x86_64 GNU/Linux\n~# ls -l /boot\ntotal 0\n```\n\u78ba\u304b\u306b\u3001Linux\u30ab\u30fc\u30cd\u30eb\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\nroot\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```lang:\n~# passwd\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: password updated successfully\n```\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\n```lang:\n# zlogin -C 16b4155b-e996-41e1-bb87-25eb0f0934ff\n[Connected to zone '16b4155b-e996-41e1-bb87-25eb0f0934ff' console]\n\n\nUbuntu 14.04 LTS 16b4155b-e996-41e1-bb87-25eb0f0934ff console\n\n16b4155b-e996-41e1-bb87-25eb0f0934ff login: root\nPassword:\nLast login: Sun Apr 12 22:47:54 UTC 2015 from zone:global on pts/3\nWelcome to Ubuntu 14.04 LTS (GNU/Linux 3.13.0 x86_64)\n\n * Documentation:  https://help.ubuntu.com/\n   __        .                   .\n _|  |_      | .-. .  . .-. :--. |-\n|_    _|     ;|   ||  |(.-' |  | |\n  |__|   `--'  `-' `;-| `-' '  ' `-'\n                   /  ;  Instance (Ubuntu 14.04 LX Brand 20150320)\n                   `-'   https://docs.joyent.com/images\n\nroot@16b4155b-e996-41e1-bb87-25eb0f0934ff:~#\n```\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a\u306f\u3001zone\u3092reboot\u3057\u3066\u3082\u7d99\u7d9a\u3057\u307e\u3059\u3002\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u629c\u3051\u308b\u306e\u306f~^D \uff08'~'\u30c1\u30eb\u30c0\u306b\u7d9a\u3051\u3066 [Ctrl] \u3068 [D] \u3092\u540c\u6642\u306b\u62bc\u3057\u307e\u3059\uff09\u3092\u5165\u529b\u3057\u307e\u3059\u3002 \n\n\u306a\u304a\u3001reboot\u3057\u3066\u307f\u308b\u3068\u3001\u3055\u305a\u304c\u30b3\u30f3\u30c6\u30ca\u3067\u3059\u4e00\u77ac\u3068\u3044\u3063\u3066\u3082\u826f\u3044\u304f\u3089\u3044\u306e\u6642\u9593\u3067 reboot \u3055\u308c\u307e\u3059\uff08\u30ab\u30fc\u30cd\u30eb\u3092reboot\u3059\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u5f53\u305f\u308a\u524d\u3067\u3059\u306d\uff09\u3002\n\n\n\n"}