{"context": "\u5fd8\u308c\u305d\u3046\u306a\u306e\u3067\u81ea\u5206\u7528\u30e1\u30e2\n\u3061\u3087\u3063\u3068\u3057\u305f\u5b9f\u9a13\u3092\u3057\u305f\u304f\u3066\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u3001\u3053\u3093\u306a\u611f\u3058\u306eVagrantfile\u3067ubuntu-16.04\u3092\u4e0a\u3052\u3088\u3046\u3068\u3057\u305f\u3089\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\n# -*- mode: ruby -*-\n# vi: set ft=ruby :\n\n# Vagrantfile API/syntax version. Don't touch unless you know what you're doing!\nVAGRANTFILE_API_VERSION = \"2\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  if Vagrant.has_plugin?(\"vagrant-cachier\")\n    config.cache.scope = :box\n  end\n\n  config.vm.define :server do |server|\n    server.vm.hostname = \"dev.example.com\"\n    server.vm.box = \"opscode_ubuntu-16.04\"\n    server.vm.box_url = \"http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-16.04_chef-provisionerless.box\"\n    server.vm.network :private_network, ip: \"192.168.53.30\"\n    server.vm.network :forwarded_port, host: 8422, guest: 22\n    server.vm.provider \"virtualbox\" do |vb|\n      vb.memory = \"2048\"\n    end\n  end\nend\n\n\u3053\u3093\u306a\u30a8\u30e9\u30fc\n==> server: Configuring and enabling network interfaces...\nThe following SSH command responded with a non-zero exit status.\nVagrant assumes that this means the command failed!\n\n/sbin/ifdown eth1 2> /dev/null\n\nStdout from the command:\n\n\n\nStderr from the command:\n\nmesg: ttyname failed: Inappropriate ioctl for device\n\n\u3069\u3046\u3082\u3001nic\u306eI/F\u540d\u304ceth0/eth1\u304b\u3089 enp0s3/enp0s8 \u3068\u304b\u306b\u5909\u308f\u3063\u305f\u3089\u3057\u304f\u6b21\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306eVagrant\u3067\u306f\u76f4\u308b\u3063\u307d\u3044\u3002\u3053\u306e\u8fba\u308a\u53c2\u7167 -> https://github.com/mitchellh/vagrant/issues/7155\nIP\u56fa\u5b9a\u3067\u304d\u306a\u3044\u3068\u8f9b\u3044\u306e\u3067\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u4eee\u5bfe\u5fdc\u3057\u305f\n...\n    server.vm.network :private_network, ip: \"192.168.53.30\", auto_config: false\n    server.vm.network :forwarded_port, host: 8422, guest: 22\n    server.vm.provider \"virtualbox\" do |vb|\n      vb.memory = \"2048\"\n    end\n\n    server.vm.provision 'shell', inline: \"ifconfig enp0s8 192.168.53.30\"\n...\n\nvagrant up\u6642\u306b\u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u3067\u308b\u3051\u3069\u3068\u308a\u3042\u3048\u305aIP\u306f\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u3002\n...\n==> server: Configuring cache buckets...\n==> server: Running provisioner: shell...\n    server: Running: inline script\n==> server: mesg:\n==> server: ttyname failed\n==> server: :\n==> server: Inappropriate ioctl for device\n==> server: Configuring cache buckets...\n\n$ vagrant ssh\nWelcome to Ubuntu 16.04 LTS (GNU/Linux 4.4.0-21-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com/\nvagrant@dev:~$ ifconfig\nenp0s3    Link encap:Ethernet  HWaddr 08:00:27:54:d5:fb\n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe54:d5fb/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2869 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:1800 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:554522 (554.5 KB)  TX bytes:261836 (261.8 KB)\n\nenp0s8    Link encap:Ethernet  HWaddr 08:00:27:4d:c0:0c\n          inet addr:192.168.53.30  Bcast:192.168.53.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe4d:c00c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:0 (0.0 B)  TX bytes:648 (648.0 B)\n\nlo        Link encap:Local Loopback\n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:12 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:12 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1\n          RX bytes:1092 (1.0 KB)  TX bytes:1092 (1.0 KB)\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u6307\u5b9a\u3057\u305fIP\u3067\u63a5\u7d9a\u3082\u3067\u304d\u305f\u3051\u3069\u3001provision\u3067ip\u3064\u3051\u3066\u308b\u3093\u3067vagrant up\u3059\u308b\u6642\u306b --provision\u3064\u3051\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u304c\u3044\u3051\u3066\u306a\u3044...\u3002\n\u3082\u3046\u3061\u3087\u3063\u3068\u30b9\u30de\u30fc\u30c8\u306a\u65b9\u6cd5\u306a\u3044\u304b\u306d\u30fc\u3002\n\u5fd8\u308c\u305d\u3046\u306a\u306e\u3067\u81ea\u5206\u7528\u30e1\u30e2\n\n\u3061\u3087\u3063\u3068\u3057\u305f\u5b9f\u9a13\u3092\u3057\u305f\u304f\u3066\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u3001\u3053\u3093\u306a\u611f\u3058\u306eVagrantfile\u3067ubuntu-16.04\u3092\u4e0a\u3052\u3088\u3046\u3068\u3057\u305f\u3089\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\n\n\n```\n# -*- mode: ruby -*-\n# vi: set ft=ruby :\n\n# Vagrantfile API/syntax version. Don't touch unless you know what you're doing!\nVAGRANTFILE_API_VERSION = \"2\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  if Vagrant.has_plugin?(\"vagrant-cachier\")\n    config.cache.scope = :box\n  end\n\n  config.vm.define :server do |server|\n    server.vm.hostname = \"dev.example.com\"\n    server.vm.box = \"opscode_ubuntu-16.04\"\n    server.vm.box_url = \"http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-16.04_chef-provisionerless.box\"\n    server.vm.network :private_network, ip: \"192.168.53.30\"\n    server.vm.network :forwarded_port, host: 8422, guest: 22\n    server.vm.provider \"virtualbox\" do |vb|\n      vb.memory = \"2048\"\n    end\n  end\nend\n```\n\n\u3053\u3093\u306a\u30a8\u30e9\u30fc\n\n```\n==> server: Configuring and enabling network interfaces...\nThe following SSH command responded with a non-zero exit status.\nVagrant assumes that this means the command failed!\n\n/sbin/ifdown eth1 2> /dev/null\n\nStdout from the command:\n\n\n\nStderr from the command:\n\nmesg: ttyname failed: Inappropriate ioctl for device\n```\n\n\u3069\u3046\u3082\u3001nic\u306eI/F\u540d\u304ceth0/eth1\u304b\u3089 enp0s3/enp0s8 \u3068\u304b\u306b\u5909\u308f\u3063\u305f\u3089\u3057\u304f\u6b21\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306eVagrant\u3067\u306f\u76f4\u308b\u3063\u307d\u3044\u3002\u3053\u306e\u8fba\u308a\u53c2\u7167 -> https://github.com/mitchellh/vagrant/issues/7155\n\nIP\u56fa\u5b9a\u3067\u304d\u306a\u3044\u3068\u8f9b\u3044\u306e\u3067\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u4eee\u5bfe\u5fdc\u3057\u305f\n\n```\n...\n    server.vm.network :private_network, ip: \"192.168.53.30\", auto_config: false\n    server.vm.network :forwarded_port, host: 8422, guest: 22\n    server.vm.provider \"virtualbox\" do |vb|\n      vb.memory = \"2048\"\n    end\n\n    server.vm.provision 'shell', inline: \"ifconfig enp0s8 192.168.53.30\"\n...\n```\n\nvagrant up\u6642\u306b\u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u3067\u308b\u3051\u3069\u3068\u308a\u3042\u3048\u305aIP\u306f\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u3002\n\n```\n...\n==> server: Configuring cache buckets...\n==> server: Running provisioner: shell...\n    server: Running: inline script\n==> server: mesg:\n==> server: ttyname failed\n==> server: :\n==> server: Inappropriate ioctl for device\n==> server: Configuring cache buckets...\n```\n\n```\n$ vagrant ssh\nWelcome to Ubuntu 16.04 LTS (GNU/Linux 4.4.0-21-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com/\nvagrant@dev:~$ ifconfig\nenp0s3    Link encap:Ethernet  HWaddr 08:00:27:54:d5:fb\n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe54:d5fb/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2869 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:1800 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:554522 (554.5 KB)  TX bytes:261836 (261.8 KB)\n\nenp0s8    Link encap:Ethernet  HWaddr 08:00:27:4d:c0:0c\n          inet addr:192.168.53.30  Bcast:192.168.53.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe4d:c00c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:0 (0.0 B)  TX bytes:648 (648.0 B)\n\nlo        Link encap:Local Loopback\n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:12 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:12 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1\n          RX bytes:1092 (1.0 KB)  TX bytes:1092 (1.0 KB)\n```\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u6307\u5b9a\u3057\u305fIP\u3067\u63a5\u7d9a\u3082\u3067\u304d\u305f\u3051\u3069\u3001provision\u3067ip\u3064\u3051\u3066\u308b\u3093\u3067vagrant up\u3059\u308b\u6642\u306b --provision\u3064\u3051\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u304c\u3044\u3051\u3066\u306a\u3044...\u3002\n\n\u3082\u3046\u3061\u3087\u3063\u3068\u30b9\u30de\u30fc\u30c8\u306a\u65b9\u6cd5\u306a\u3044\u304b\u306d\u30fc\u3002\n", "tags": ["Ubuntu", "ubuntu16.04", "VirtualBox", "vagrant"]}