{"context": "\n\n\u59cb\u3081\u306b\nC#\u3067SOAP\u901a\u4fe1\u3092\u884c\u3044\u3001\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u53d6\u5f97\u3057\u305f\u5024\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\n\n\u5b9f\u88c5\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u6982\u7565\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\nWeb\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u53d6\u5f97\u3057\u305f\u5024\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3059\u308b\u5358\u7d14\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092C#\u3067\u4f5c\u3063\u3066\u307f\u307e\u3059\n\nWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u30fc\u306bGlassFish\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306fJava1.8\u3067\u4f5c\u6210\u3057\u307e\u3059\n\u307e\u305f\u3001GlassFish\u306bDB\u63a5\u7d9a\u7528\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\n\nDB\u30b5\u30fc\u30d0\u30fc\nOracle12c\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\n\n\u5b9f\u88c5\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\n\n\u30b5\u30fc\u30d0\u30fc\u30a2\u30d7\u30ea\u306e\u5b9f\u88c5\n\nSimpleWeb.java\npackage simple;\n\nimport javax.jws.WebMethod;\nimport javax.jws.WebService;\nimport javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.sql.DataSource;\n\nimport org.apache.commons.dbutils.QueryRunner;\nimport org.apache.commons.dbutils.handlers.ArrayListHandler;\n@WebService\npublic class SimpleWeb {\n\n      @WebMethod\n      public String sayHello(String name) throws Exception{\n          return _sayHello(name);\n      }\n\n      private String _sayHello(String name)throws Exception{\n          try{\n              Context ctx = new InitialContext();\n              DataSource ds = (DataSource)ctx.lookup(\"jdbc/oracle12c\");\n\n              return ((new QueryRunner())\n              .query(ds.getConnection(), //\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306e\u53d6\u5f97\n                    \"select EMP_ID,EMP_NAME from EMP\",                 //\u5b9f\u884c\u3059\u308bSQL  zzzz\n                    new ArrayListHandler())\n              .stream()\n              .filter(array->array[0].equals(\"001\"))\n              .map(array -> String.format(\"\u5f93\u696d\u54e1ID:%s:\u5f93\u696d\u54e1\u540d\uff1a%s\",array[0],array[1]))\n              .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n              .toString());\n          }catch(Exception e){\n              e.printStackTrace();\n              return name;\n          }\n\n      }\n}\n\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(C#)\u306e\u30b5\u30fc\u30d3\u30b9\u53c2\u7167\u306e\u8ffd\u52a0\u65b9\u6cd5\u306b\u3064\u3044\u3066\n\uff11\uff0eVisualStudio\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u304b\u3089\u300cService Reference\u300d\u3092\u9078\u629e\u3057\u3001\u300c\u30b5\u30fc\u30d3\u30b9\u53c2\u7167\u306e\u8ffd\u52a0\u300d\u3092\u9078\u629e\u3059\u308b\n\n\uff12\uff0e\u300c\u30a2\u30c9\u30ec\u30b9\u300d\u306b\u53c2\u7167\u5148\u306eURL\u3092\u6307\u5b9a\u3057\u3001\u79fb\u52d5\u30dc\u30bf\u30f3\u3092\u62bc\u3059\n\n\uff13\uff0e\u300c\u30b5\u30fc\u30d3\u30b9\u300d\u306e\u6b04\u306b\u76ee\u7684\u306eWeb\u30b5\u30fc\u30d3\u30b9\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\u30b5\u30fc\u30d3\u30b9\u540d\u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306f\u300c\u540d\u524d\u7a7a\u9593\u300d\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\u3001\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5b9f\u88c5\n\nConsoleApplication4.cs\nusing System;\n\nnamespace ConsoleApplication4\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            MyWebService.SimpleWebClient client = new MyWebService.SimpleWebClient();\n            Console.WriteLine(client.sayHello(\"test\"));\n\n        }\n    }\n}\n\n\n\nWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u53c2\u7167\u3055\u308c\u308b\u30c6\u30fc\u30d6\u30eb\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u30b5\u30fc\u30d0\u30fc\u30a2\u30d7\u30ea\u3092\u547c\u3073\u51fa\u3057\u305f\u5b9f\u884c\u7d50\u679c\n\n#\u59cb\u3081\u306b\nC#\u3067SOAP\u901a\u4fe1\u3092\u884c\u3044\u3001\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u53d6\u5f97\u3057\u305f\u5024\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\n\n#\u5b9f\u88c5\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u6982\u7565\n##\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\nWeb\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u53d6\u5f97\u3057\u305f\u5024\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3059\u308b\u5358\u7d14\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092C#\u3067\u4f5c\u3063\u3066\u307f\u307e\u3059\n##Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u30fc\u306bGlassFish\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306fJava1.8\u3067\u4f5c\u6210\u3057\u307e\u3059\n\u307e\u305f\u3001GlassFish\u306bDB\u63a5\u7d9a\u7528\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\n##DB\u30b5\u30fc\u30d0\u30fc\nOracle12c\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\n\n#\u5b9f\u88c5\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\n##\u30b5\u30fc\u30d0\u30fc\u30a2\u30d7\u30ea\u306e\u5b9f\u88c5\n```SimpleWeb.java\npackage simple;\n\nimport javax.jws.WebMethod;\nimport javax.jws.WebService;\nimport javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.sql.DataSource;\n\nimport org.apache.commons.dbutils.QueryRunner;\nimport org.apache.commons.dbutils.handlers.ArrayListHandler;\n@WebService\npublic class SimpleWeb {\n\t   \n\t  @WebMethod\n\t  public String sayHello(String name) throws Exception{\n          return _sayHello(name);\n\t  }\n\t  \n\t  private String _sayHello(String name)throws Exception{\n\t\t  try{\n\t\t\t  Context ctx = new InitialContext();\n\t          DataSource ds = (DataSource)ctx.lookup(\"jdbc/oracle12c\");\n\n\t          return ((new QueryRunner())\n\t          .query(ds.getConnection(), //\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306e\u53d6\u5f97\n\t          \t\t\"select EMP_ID,EMP_NAME from EMP\",                 //\u5b9f\u884c\u3059\u308bSQL  zzzz\n\t          \t\tnew ArrayListHandler())\n\t          .stream()\n\t          .filter(array->array[0].equals(\"001\"))\n\t          .map(array -> String.format(\"\u5f93\u696d\u54e1ID:%s:\u5f93\u696d\u54e1\u540d\uff1a%s\",array[0],array[1]))\n\t          .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n\t          .toString());\n\t\t  }catch(Exception e){\n\t\t\t  e.printStackTrace();\n\t\t\t  return name;\n\t\t  }\n\t\t  \n\t  }\n}\n```\n##\u30af\u30e9\u30a4\u30a2\u30f3\u30c8(C#)\u306e\u30b5\u30fc\u30d3\u30b9\u53c2\u7167\u306e\u8ffd\u52a0\u65b9\u6cd5\u306b\u3064\u3044\u3066\n\uff11\uff0eVisualStudio\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u304b\u3089\u300cService Reference\u300d\u3092\u9078\u629e\u3057\u3001\u300c\u30b5\u30fc\u30d3\u30b9\u53c2\u7167\u306e\u8ffd\u52a0\u300d\u3092\u9078\u629e\u3059\u308b\n![image](https://qiita-image-store.s3.amazonaws.com/0/136860/d96bc934-d4fb-6667-37f0-323a6634b33f.png)\n\n\uff12\uff0e\u300c\u30a2\u30c9\u30ec\u30b9\u300d\u306b\u53c2\u7167\u5148\u306eURL\u3092\u6307\u5b9a\u3057\u3001\u79fb\u52d5\u30dc\u30bf\u30f3\u3092\u62bc\u3059\n![image](https://qiita-image-store.s3.amazonaws.com/0/136860/28ad8424-8e86-2ef7-0a2d-a3be6550aa95.png)\n\n\uff13\uff0e\u300c\u30b5\u30fc\u30d3\u30b9\u300d\u306e\u6b04\u306b\u76ee\u7684\u306eWeb\u30b5\u30fc\u30d3\u30b9\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\u30b5\u30fc\u30d3\u30b9\u540d\u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306f\u300c\u540d\u524d\u7a7a\u9593\u300d\u306e\u5024\u3092\u5909\u66f4\u3059\u308b\u3001\n![image](https://qiita-image-store.s3.amazonaws.com/0/136860/13d7f8a0-4c1b-38be-956f-65b96aedeb88.png)\n\n\n##\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5b9f\u88c5\n```ConsoleApplication4.cs\nusing System;\n\nnamespace ConsoleApplication4\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            MyWebService.SimpleWebClient client = new MyWebService.SimpleWebClient();\n            Console.WriteLine(client.sayHello(\"test\"));\n\n        }\n    }\n}\n```\n##Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u53c2\u7167\u3055\u308c\u308b\u30c6\u30fc\u30d6\u30eb\n![image](https://qiita-image-store.s3.amazonaws.com/0/136860/d7a89350-858c-3a4c-d8bb-d26b10cdf5c3.png)\n\n\n##\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u30b5\u30fc\u30d0\u30fc\u30a2\u30d7\u30ea\u3092\u547c\u3073\u51fa\u3057\u305f\u5b9f\u884c\u7d50\u679c\n![image](https://qiita-image-store.s3.amazonaws.com/0/136860/7408d6db-9212-beaf-4bde-8fb550553f98.png)\n\n\n", "tags": ["C#", "SOAP", "Java"]}