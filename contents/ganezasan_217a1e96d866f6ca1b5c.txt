{"context": " More than 1 year has passed since last update.\u300cIwate Developers Advent Calendar 2014\u300d\u306e18\u65e5\u76ee\u3092\u62c5\u5f53\u3057\u307e\u3059\u3002\n\u30c1\u30a4\u30ad\u30c3\u30c8\u306emanager\u3067\u3059\uff01\uff01\nAWS\u3063\u3066\u4fbf\u5229\u3067\u3059\u304c\u3001EC2\u3068\u304bRDS\u3068\u304b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u8a2d\u5b9a\u3068\u304b\u305d\u306e\u4ed6\u3044\u308d\u3044\u308d\u74b0\u5883\u69cb\u7bc9\u3059\u308b\u306b\u306f\u9762\u5012\u304f\u3055\u3044\u3053\u3068\u591a\u304f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\uff1f\n\u305d\u3093\u306a\u3068\u304d\u306fElasticBeanstalk\u3092\u4f7f\u3046\u306e\u3092\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u3059\uff01\n\u6700\u8fd1\u4f7f\u3044\u521d\u3081\u307e\u3057\u305f\u304c\u3001\u304b\u306a\u308a\u4fbf\u5229\u3060\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306fElasticBeanstalk\u3092\u4f7f\u3063\u3066Rails\u74b0\u5883\u306e\u69cb\u7bc9\u3092\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nElasticBeanstalk\u3068\u306f\uff1f\n\nAWS\u304c\u63d0\u4f9b\u3059\u308bPaas\u306b\u306a\u308a\u307e\u3059\u3002\nAWS\u7248\u306eHeroku\u3068\u601d\u3063\u3066\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\u5185\u90e8\u7684\u306b\u306fEC2\u3001RDS\u7b49\u306eAWS\u306e\u65e2\u5b58\u30b5\u30fc\u30d3\u30b9\u304c\u4f7f\u308f\u308c\u307e\u3059\u3002\n\u4eca\u56de\u306fAWS\u4e0a\u306e\u69cb\u6210\u306fELB+EC2\u306e\u69cb\u6210\u3067\u74b0\u5883\u3092\u4f5c\u308a\u307e\u3059\u3002\n\nawsebcli\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u753b\u9762\u304b\u3089\u3082\u8a2d\u5b9a\u306f\u3067\u304d\u307e\u3059\u304c\u3001\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u8a2d\u5b9a\u51fa\u6765\u305f\u307b\u3046\u304c\u4fbf\u5229\u3067\u3059\u3088\u306d\uff01\n\u4eca\u56de\u306fawsebcli\u3092\u4f7f\u3063\u3066ElasticBeanstalk\u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\npyenv\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrbenv\u306epython\u7248\u3067\u3059\u3002\npython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3092\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n$ brew install pyenv\n$ echo 'eval \"$(pyenv init -)\"' >> ~/.bash_profile\n$ source ~/.bash_profile\n$ pyenv install 2.7.8\n$ pyenv global 2.7.8\n\n\npyenv\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npyenv\u3067python\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u308b\u3068pip\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u307e\u3059\u306e\u3067\u3001\npip\u3067awsebcli\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n$ pip install awsebcli\n$ pyenv rehash\n\n\nRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u6e96\u5099\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n$ rails new myapp\n$ cd myapp/\n$ bundle install\n$ git init\n$ git add --all\n$ git commit -m \"init\"\n\n\nmyapp\u306e\u8d77\u52d5\n$ rails s\n\n\u30d6\u30e9\u30a6\u30b6\u306b\u4ee5\u4e0b\u306eURL\u3092\u5165\u529b\u3057\u3001\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\u3002\n\nhttp://localhost:3000\n\n\n\nScaffold\u3067\u30e6\u30fc\u30b6\u7ba1\u7406\u753b\u9762\u3092\u4f5c\u308b\n$ rails generate scaffold User name:string score:integer\n$ rake db:migrate\n$ vim config/routes.rb\n\n\n#\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\n   root 'users#index'\n\n$ rails s\n\n\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u306d\n\n\n\u6700\u5f8c\u306bgit\u30b3\u30df\u30c3\u30c8\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\n$ git add --all\n$ git commit -m \"add scaffold user\"\n\n\n\nElasticBeanstalk\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u521d\u671f\u5316\n\u6700\u521d\u306b\u30ea\u30fc\u30b8\u30e7\u30f3\u304c\u805e\u304b\u308c\u308b\u306e\u3067\u30018) Tokyo\u3092\u9078\u3073\u307e\u3057\u3087\u3046\uff01\n$ eb init\n\nSelect a default region\n1) us-east-1 : US East (N. Virginia)\n2) us-west-1 : US West (N. California)\n3) us-west-2 : US West (Oregon)\n4) eu-west-1 : EU (Ireland)\n5) eu-central-1 : EU (Frankfurt)\n6) ap-southeast-1 : Asia Pacific (Singapore)\n7) ap-southeast-2 : Asia Pacific (Sydney)\n8) ap-northeast-1 : Asia Pacific (Tokyo)\n9) sa-east-1 : South America (Sao Paulo)\n\n(default is 3): 8\n\n\n\u6b21\u306b\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3001\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u304c\u805e\u304b\u308c\u308b\u306e\u3067\u3001\nIAM\u30e6\u30fc\u30b6\u3067eb\u7528\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3001\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u3092\u53d6\u5f97\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\nYou have not yet set up your credentials or your credentials are incorrect \nYou must provide your credentials.\n(aws-access-id): XXXXXXXXXXXX\n(aws-secret-key): XXXXXXXXXXXXXX\n\n\u3042\u3068\u306f\u307b\u3068\u3093\u3069\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5927\u4e08\u592b\u3067\u3059\u304c\u3001\nkeypair\u306fEC2\u306e\u753b\u9762\u304b\u3089\u7528\u610f\u3057\u3066\u304a\u3044\u305f\u65b9\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\nEnter Application Name\n(default is \"myapp\"): \nApplication myapp has been created.\n\nIt appears you are using Ruby. Is this correct?\n(y/n): y\n\nSelect a platform version.\n1) Ruby 2.1 (Puma)\n2) Ruby 2.1 (Passenger Standalone)\n3) Ruby 2.0 (Puma)\n4) Ruby 2.0 (Passenger Standalone)\n5) Ruby 1.9.3\n(default is 1): 1\nDo you want to set up SSH for your instances?\n(y/n): y\n\nSelect a keypair.\n1) html5_iwate\n2) [ Create new KeyPair ]\n(default is 7): 1\n\n\u6700\u5f8c\u306b.gitignore\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u884c\u304c\u3042\u308b\u306e\u3067\u3001\n\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3057\u3087\u3046\n$ git add --all\n$ git commit -m \"Add Elastic Beanstalk files to .gitignore\"\n\n\nElastic Beanstalk \u74b0\u5883\u4f5c\u6210\nDNS\u306f\u7a7a\u304d\u304c\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u306e\u3067\u3001\n\u4eca\u56de\u306f\u300cmyapp-dev2\u300d\u306b\u3057\u307e\u3057\u305f\uff01\n--sample\u3067\u30b5\u30f3\u30d7\u30eb\u753b\u9762\u3092\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u307e\u305f\u3001RDS\u3092\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\n--database\u3000\u3092\u3064\u3051\u307e\u3059\u3002\n$ eb create --sample\nEnter Environment Name\n(default is myapp-dev): \nEnter DNS CNAME prefix\n(default is myapp-dev): myapp-dev2\nEnvironment details for: myapp-dev\n  Application name: myapp\n  Region: ap-northeast-1\n  Deployed Version: None\n  Environment ID: e-knj49kgphu\n  Platform: 64bit Amazon Linux 2014.09 v1.0.9 running Ruby 2.1 (Puma)\n  Tier: WebServer-Standard-1.0\n  CNAME: myapp-dev2.elasticbeanstalk.com\n  Updated: 2014-12-18 14:02:05.410000+00:00\nPrinting Status:\nINFO: createEnvironment is starting.\nINFO: Using elasticbeanstalk-ap-northeast-1-433739316714 as Amazon S3 storage bucket for environment data.\nINFO: Created load balancer named: awseb-e-k-AWSEBLoa-13KLV52G3KI44\nINFO: Created security group named: awseb-e-knj49kgphu-stack-AWSEBSecurityGroup-XR9M858Y54AI\nINFO: Created Auto Scaling launch configuration named: awseb-e-knj49kgphu-stack-AWSEBAutoScalingLaunchConfiguration-1Y0SZJD0YVADE\nINFO: Waiting for EC2 instances to launch. This may take a few minutes.\nINFO: Created Auto Scaling group named: awseb-e-knj49kgphu-stack-AWSEBAutoScalingGroup-17GB1XU0YEY3L\nINFO: Created Auto Scaling group policy named: arn:aws:autoscaling:ap-northeast-1:433739316714:scalingPolicy:6e1a8460-521f-45f7-928b-f79d3bbd57d2:autoScalingGroupName/awseb-e-knj49kgphu-stack-AWSEBAutoScalingGroup-17GB1XU0YEY3L:policyName/awseb-e-knj49kgphu-stack-AWSEBAutoScalingScaleUpPolicy-1FPR9I3UMZ4DG\nINFO: Created Auto Scaling group policy named: arn:aws:autoscaling:ap-northeast-1:433739316714:scalingPolicy:47f83451-d7ae-4c69-9437-5a11088f2250:autoScalingGroupName/awseb-e-knj49kgphu-stack-AWSEBAutoScalingGroup-17GB1XU0YEY3L:policyName/awseb-e-knj49kgphu-stack-AWSEBAutoScalingScaleDownPolicy-QVF31VE0UOR3\nINFO: Created CloudWatch alarm named: awseb-e-knj49kgphu-stack-AWSEBCloudwatchAlarmHigh-56M3QY8E2KGY\nINFO: Created CloudWatch alarm named: awseb-e-knj49kgphu-stack-AWSEBCloudwatchAlarmLow-MDDKYC14HWPT\nINFO: Added EC2 instance 'i-0bd4e012' to Auto Scaling Group 'awseb-e-knj49kgphu-stack-AWSEBAutoScalingGroup-17GB1XU0YEY3L'.\n\n\u3057\u3070\u3089\u304f\u3057\u3066\u3001\u6700\u5f8c\u306bSuccessfully\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u304a\uff4b\u3067\u3059\uff01\nINFO: Application available at myapp-dev2.elasticbeanstalk.com.\nINFO: Successfully launched environment: myapp-dev\n\n\n\u30b5\u30f3\u30d7\u30eb\u3092\u898b\u3066\u307f\u308b\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u304f\u3068\u30d6\u30e9\u30a6\u30b6\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002\neb open myapp-dev\n\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c7\u30d7\u30ed\u30a4\n$ eb setenv -e myapp-dev SECRET_KEY_BASE=`bin/rake secret`\n$ eb deploy myapp-dev\n$ eb open myapp-dev\n\n\u3055\u304d\u307b\u3069\u30ed\u30fc\u30ab\u30eb\u3067\u8a66\u3057\u305f\u901a\u308a\u306b\u8868\u793a\u3055\u308c\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n\u3053\u308c\u3067AWS\u4e0a\u306b\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u307e\u3057\u305f\u3002\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\nAWS\u306f\u5c11\u3005\u304a\u9ad8\u3044\u306e\u3067\u3001\u904a\u3093\u3060\u3042\u3068\u306f\u3061\u3083\u3093\u3068\u524a\u9664\u3057\u307e\u3057\u3087\u3046\neb terminate myapp-dev \n\n\n\n\u307e\u3068\u3081\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089ElasticBeanstalk\u3067\u3089\u304f\u3089\u304f\u74b0\u5883\u69cb\u7bc9\u3067\u304d\u307e\u3057\u305f\u306d\uff01\n\u4eca\u56de\u306f\u89e6\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067auto scaling\u306e\u8a2d\u5b9a\u3082\u3067\u304d\u3066\u3044\u308b\u306e\u3067\u3001\u7c21\u5358\u306b\u30b9\u30b1\u30fc\u30eb\u306b\u3082\u5bfe\u5fdc\u3067\u304d\u308b\u3068\u3044\u3046\u304b\u306a\u308a\u306e\u3059\u3050\u308c\u3082\u306e\u3067\u3059\u3002\n\u3055\u3089\u306b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3082\u3067\u304d\u3066\u3044\u307e\u3059\u3002\nElasticBeanstalk\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u5c11\u306a\u3044\u306e\u304c\u60b2\u3057\u3044\u3067\u3059\u304c\u3001\n\u3053\u308c\u3060\u3051\u7c21\u5358\u306a\u306e\u3067\u8a66\u307f\u308b\u4fa1\u5024\u306f\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u300cIwate Developers Advent Calendar 2014\u300d\u306e18\u65e5\u76ee\u3092\u62c5\u5f53\u3057\u307e\u3059\u3002\n\u30c1\u30a4\u30ad\u30c3\u30c8\u306emanager\u3067\u3059\uff01\uff01\n\nAWS\u3063\u3066\u4fbf\u5229\u3067\u3059\u304c\u3001EC2\u3068\u304bRDS\u3068\u304b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u8a2d\u5b9a\u3068\u304b\u305d\u306e\u4ed6\u3044\u308d\u3044\u308d\u74b0\u5883\u69cb\u7bc9\u3059\u308b\u306b\u306f\u9762\u5012\u304f\u3055\u3044\u3053\u3068\u591a\u304f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\uff1f\n\n\u305d\u3093\u306a\u3068\u304d\u306fElasticBeanstalk\u3092\u4f7f\u3046\u306e\u3092\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u3059\uff01\n\u6700\u8fd1\u4f7f\u3044\u521d\u3081\u307e\u3057\u305f\u304c\u3001\u304b\u306a\u308a\u4fbf\u5229\u3060\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306fElasticBeanstalk\u3092\u4f7f\u3063\u3066Rails\u74b0\u5883\u306e\u69cb\u7bc9\u3092\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n## ElasticBeanstalk\u3068\u306f\uff1f\n\n![elastic_beanstalk.png](https://qiita-image-store.s3.amazonaws.com/0/19316/8772658b-fd31-8d31-5377-02e587c9168f.png \"elastic_beanstalk.png\")\n\n\nAWS\u304c\u63d0\u4f9b\u3059\u308bPaas\u306b\u306a\u308a\u307e\u3059\u3002\nAWS\u7248\u306eHeroku\u3068\u601d\u3063\u3066\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\u5185\u90e8\u7684\u306b\u306fEC2\u3001RDS\u7b49\u306eAWS\u306e\u65e2\u5b58\u30b5\u30fc\u30d3\u30b9\u304c\u4f7f\u308f\u308c\u307e\u3059\u3002\n\n\u4eca\u56de\u306fAWS\u4e0a\u306e\u69cb\u6210\u306fELB+EC2\u306e\u69cb\u6210\u3067\u74b0\u5883\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n## awsebcli\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u753b\u9762\u304b\u3089\u3082\u8a2d\u5b9a\u306f\u3067\u304d\u307e\u3059\u304c\u3001\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u8a2d\u5b9a\u51fa\u6765\u305f\u307b\u3046\u304c\u4fbf\u5229\u3067\u3059\u3088\u306d\uff01\n\n\u4eca\u56de\u306fawsebcli\u3092\u4f7f\u3063\u3066ElasticBeanstalk\u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n### pyenv\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrbenv\u306epython\u7248\u3067\u3059\u3002\npython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3092\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n```\n$ brew install pyenv\n$ echo 'eval \"$(pyenv init -)\"' >> ~/.bash_profile\n$ source ~/.bash_profile\n$ pyenv install 2.7.8\n$ pyenv global 2.7.8\n```\n\n### pyenv\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npyenv\u3067python\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u308b\u3068pip\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u307e\u3059\u306e\u3067\u3001\npip\u3067awsebcli\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\n$ pip install awsebcli\n$ pyenv rehash\n```\n\n## Rails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u6e96\u5099\n\n### \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\n```\n$ rails new myapp\n$ cd myapp/\n$ bundle install\n$ git init\n$ git add --all\n$ git commit -m \"init\"\n```\n\n### myapp\u306e\u8d77\u52d5\n```\n$ rails s\n```\n\n\u30d6\u30e9\u30a6\u30b6\u306b\u4ee5\u4e0b\u306eURL\u3092\u5165\u529b\u3057\u3001\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\u3002\n> http://localhost:3000\n\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-18 22.46.18.png](https://qiita-image-store.s3.amazonaws.com/0/19316/ef6aa8c4-d0ca-745e-912b-d76cd8478cf6.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-18 22.46.18.png\")\n\n### Scaffold\u3067\u30e6\u30fc\u30b6\u7ba1\u7406\u753b\u9762\u3092\u4f5c\u308b\n\n```\n$ rails generate scaffold User name:string score:integer\n$ rake db:migrate\n$ vim config/routes.rb\n\n\n#\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\n   root 'users#index'\n\n$ rails s\n```\n\n\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u306d\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-19 0.36.18.png](https://qiita-image-store.s3.amazonaws.com/0/19316/785df566-9627-2c7c-b423-7d5939a7332f.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-19 0.36.18.png\")\n\n## \u6700\u5f8c\u306bgit\u30b3\u30df\u30c3\u30c8\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\n\n```\n$ git add --all\n$ git commit -m \"add scaffold user\"\n\n```\n\n\n## ElasticBeanstalk\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u521d\u671f\u5316\n\n\u6700\u521d\u306b\u30ea\u30fc\u30b8\u30e7\u30f3\u304c\u805e\u304b\u308c\u308b\u306e\u3067\u30018) Tokyo\u3092\u9078\u3073\u307e\u3057\u3087\u3046\uff01\n\n```\n$ eb init\n\nSelect a default region\n1) us-east-1 : US East (N. Virginia)\n2) us-west-1 : US West (N. California)\n3) us-west-2 : US West (Oregon)\n4) eu-west-1 : EU (Ireland)\n5) eu-central-1 : EU (Frankfurt)\n6) ap-southeast-1 : Asia Pacific (Singapore)\n7) ap-southeast-2 : Asia Pacific (Sydney)\n8) ap-northeast-1 : Asia Pacific (Tokyo)\n9) sa-east-1 : South America (Sao Paulo)\n\n(default is 3): 8\n\n```\n\n\u6b21\u306b\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3001\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u304c\u805e\u304b\u308c\u308b\u306e\u3067\u3001\nIAM\u30e6\u30fc\u30b6\u3067eb\u7528\u306e\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3001\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u3092\u53d6\u5f97\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n```\nYou have not yet set up your credentials or your credentials are incorrect \nYou must provide your credentials.\n(aws-access-id): XXXXXXXXXXXX\n(aws-secret-key): XXXXXXXXXXXXXX\n```\n\n\u3042\u3068\u306f\u307b\u3068\u3093\u3069\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5927\u4e08\u592b\u3067\u3059\u304c\u3001\nkeypair\u306fEC2\u306e\u753b\u9762\u304b\u3089\u7528\u610f\u3057\u3066\u304a\u3044\u305f\u65b9\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n```\nEnter Application Name\n(default is \"myapp\"): \nApplication myapp has been created.\n\nIt appears you are using Ruby. Is this correct?\n(y/n): y\n\nSelect a platform version.\n1) Ruby 2.1 (Puma)\n2) Ruby 2.1 (Passenger Standalone)\n3) Ruby 2.0 (Puma)\n4) Ruby 2.0 (Passenger Standalone)\n5) Ruby 1.9.3\n(default is 1): 1\nDo you want to set up SSH for your instances?\n(y/n): y\n\nSelect a keypair.\n1) html5_iwate\n2) [ Create new KeyPair ]\n(default is 7): 1\n```\n\n\u6700\u5f8c\u306b.gitignore\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u884c\u304c\u3042\u308b\u306e\u3067\u3001\n\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3057\u3087\u3046\n\n```\n$ git add --all\n$ git commit -m \"Add Elastic Beanstalk files to .gitignore\"\n```\n\n\n## Elastic Beanstalk \u74b0\u5883\u4f5c\u6210\n\nDNS\u306f\u7a7a\u304d\u304c\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u306e\u3067\u3001\n\u4eca\u56de\u306f\u300cmyapp-dev2\u300d\u306b\u3057\u307e\u3057\u305f\uff01\n--sample\u3067\u30b5\u30f3\u30d7\u30eb\u753b\u9762\u3092\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n\u307e\u305f\u3001RDS\u3092\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\n--database\u3000\u3092\u3064\u3051\u307e\u3059\u3002\n\n```\n$ eb create --sample\nEnter Environment Name\n(default is myapp-dev): \nEnter DNS CNAME prefix\n(default is myapp-dev): myapp-dev2\nEnvironment details for: myapp-dev\n  Application name: myapp\n  Region: ap-northeast-1\n  Deployed Version: None\n  Environment ID: e-knj49kgphu\n  Platform: 64bit Amazon Linux 2014.09 v1.0.9 running Ruby 2.1 (Puma)\n  Tier: WebServer-Standard-1.0\n  CNAME: myapp-dev2.elasticbeanstalk.com\n  Updated: 2014-12-18 14:02:05.410000+00:00\nPrinting Status:\nINFO: createEnvironment is starting.\nINFO: Using elasticbeanstalk-ap-northeast-1-433739316714 as Amazon S3 storage bucket for environment data.\nINFO: Created load balancer named: awseb-e-k-AWSEBLoa-13KLV52G3KI44\nINFO: Created security group named: awseb-e-knj49kgphu-stack-AWSEBSecurityGroup-XR9M858Y54AI\nINFO: Created Auto Scaling launch configuration named: awseb-e-knj49kgphu-stack-AWSEBAutoScalingLaunchConfiguration-1Y0SZJD0YVADE\nINFO: Waiting for EC2 instances to launch. This may take a few minutes.\nINFO: Created Auto Scaling group named: awseb-e-knj49kgphu-stack-AWSEBAutoScalingGroup-17GB1XU0YEY3L\nINFO: Created Auto Scaling group policy named: arn:aws:autoscaling:ap-northeast-1:433739316714:scalingPolicy:6e1a8460-521f-45f7-928b-f79d3bbd57d2:autoScalingGroupName/awseb-e-knj49kgphu-stack-AWSEBAutoScalingGroup-17GB1XU0YEY3L:policyName/awseb-e-knj49kgphu-stack-AWSEBAutoScalingScaleUpPolicy-1FPR9I3UMZ4DG\nINFO: Created Auto Scaling group policy named: arn:aws:autoscaling:ap-northeast-1:433739316714:scalingPolicy:47f83451-d7ae-4c69-9437-5a11088f2250:autoScalingGroupName/awseb-e-knj49kgphu-stack-AWSEBAutoScalingGroup-17GB1XU0YEY3L:policyName/awseb-e-knj49kgphu-stack-AWSEBAutoScalingScaleDownPolicy-QVF31VE0UOR3\nINFO: Created CloudWatch alarm named: awseb-e-knj49kgphu-stack-AWSEBCloudwatchAlarmHigh-56M3QY8E2KGY\nINFO: Created CloudWatch alarm named: awseb-e-knj49kgphu-stack-AWSEBCloudwatchAlarmLow-MDDKYC14HWPT\nINFO: Added EC2 instance 'i-0bd4e012' to Auto Scaling Group 'awseb-e-knj49kgphu-stack-AWSEBAutoScalingGroup-17GB1XU0YEY3L'.\n```\n\n\u3057\u3070\u3089\u304f\u3057\u3066\u3001\u6700\u5f8c\u306bSuccessfully\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u304a\uff4b\u3067\u3059\uff01\n\n```\nINFO: Application available at myapp-dev2.elasticbeanstalk.com.\nINFO: Successfully launched environment: myapp-dev\n```\n\n## \u30b5\u30f3\u30d7\u30eb\u3092\u898b\u3066\u307f\u308b\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u304f\u3068\u30d6\u30e9\u30a6\u30b6\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\neb open myapp-dev\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-18 23.09.26.png](https://qiita-image-store.s3.amazonaws.com/0/19316/681e61a5-5418-6e6b-83df-3c7935863185.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-18 23.09.26.png\")\n\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c7\u30d7\u30ed\u30a4\n\n```\n$ eb setenv -e myapp-dev SECRET_KEY_BASE=`bin/rake secret`\n$ eb deploy myapp-dev\n$ eb open myapp-dev\n```\n\n\u3055\u304d\u307b\u3069\u30ed\u30fc\u30ab\u30eb\u3067\u8a66\u3057\u305f\u901a\u308a\u306b\u8868\u793a\u3055\u308c\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n\u3053\u308c\u3067AWS\u4e0a\u306b\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u307e\u3057\u305f\u3002\n\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-19 0.36.18.png](https://qiita-image-store.s3.amazonaws.com/0/19316/7df4a394-5052-6e6a-1266-41497332bfc7.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-19 0.36.18.png\")\n\n\n## \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\n\nAWS\u306f\u5c11\u3005\u304a\u9ad8\u3044\u306e\u3067\u3001\u904a\u3093\u3060\u3042\u3068\u306f\u3061\u3083\u3093\u3068\u524a\u9664\u3057\u307e\u3057\u3087\u3046\n\n```\neb terminate myapp-dev \n\n```\n\n## \u307e\u3068\u3081\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089ElasticBeanstalk\u3067\u3089\u304f\u3089\u304f\u74b0\u5883\u69cb\u7bc9\u3067\u304d\u307e\u3057\u305f\u306d\uff01\n\u4eca\u56de\u306f\u89e6\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067auto scaling\u306e\u8a2d\u5b9a\u3082\u3067\u304d\u3066\u3044\u308b\u306e\u3067\u3001\u7c21\u5358\u306b\u30b9\u30b1\u30fc\u30eb\u306b\u3082\u5bfe\u5fdc\u3067\u304d\u308b\u3068\u3044\u3046\u304b\u306a\u308a\u306e\u3059\u3050\u308c\u3082\u306e\u3067\u3059\u3002\n\u3055\u3089\u306b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3082\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\nElasticBeanstalk\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u5c11\u306a\u3044\u306e\u304c\u60b2\u3057\u3044\u3067\u3059\u304c\u3001\n\u3053\u308c\u3060\u3051\u7c21\u5358\u306a\u306e\u3067\u8a66\u307f\u308b\u4fa1\u5024\u306f\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n", "tags": ["ElasticBeanstalk", "Rails", "AWS"]}