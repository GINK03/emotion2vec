{"context": "\n\ndb\u306b\u63a5\u7d9a\u3059\u308b\nmysql -uroot -p;\n\n\ndb\u3092\u4f5c\u308b\ncreate database phpsampel;\n\nMariaDB [phpsample]> \n\n\n\u4f5c\u3063\u305f db\u3092\u4f7f\u3046\nuse phpsample;\n\n\n\u30e6\u30fc\u30b6\u30fc\u3068\u30db\u30b9\u30c8\u3092\u898b\u308b\nphp\u5074\u304b\u3089db\u306b\u63a5\u7d9a\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u306froot\u3067host\u306f127.0.0.1\nMariaDB [phpsample]> SELECT user,host FROM mysql.user;\n\n+--------------+-----------+\n| user         | host      |\n+--------------+-----------+\n| root         | 127.0.0.1 |\n| root         | ::1       |\n| root         | localhost |\n| ur_wordpress | localhost |\n+--------------+-----------+\n\n\ndb\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306bPDO\u3092\u4f7f\u3044\u305f\u3044\npdh = new PDO('mysl=localhost; daname=phpsample', $root, $password)\n\n\n\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u66f8\u304d\u305f\u3044\n\n<?php\ntry {\n    $dbh = new PDO('mysql:host=localhost;dbname=test', $user, $pass);\n    foreach($dbh->query('SELECT * from FOO') as $row) {\n        print_r($row);\n    }\n    $dbh = null;\n} catch (PDOException $e) {\n    print \"\u30a8\u30e9\u30fc!: \" . $e->getMessage() . \"<br/>\";\n    die();\n}\n?>\n\n\n\n\u3061\u3083\u3093\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u305f\n\n\n\u4f8b\u5916\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u95a2\u6570\u3092\u899a\u3048\u305f\u3044\ngetMessage() \n\n\nelse{\n\nthrow new Exception(\"err\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\");\n\n} catch (Exception $e)\n\n$e-> getmessage();\n\n};\n\n?>\n\n\n\nvi\u3067\u30b3\u30d4\u30fc\u3057\u305f\u3089\u30a4\u30f3\u30c7\u30f3\u30c8\u304c\u5909\u306a\u611f\u3058\u306b\u306a\u3063\u305f\nset paste\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30c7\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u3066\u30b3\u30d4\u30da\u3067\u304d\u308b\n\n\u305a\u308c\u305f\u30a4\u30f3\u30c7\u30f3\u30c8\u3092vi\u3067\u4e00\u6c17\u306b\u6d88\u3057\u305f\u3044\n\u6d88\u3057\u59cb\u3081\u305f\u3044\u884c\u3067me\nme \n\u6d88\u3057\u7d42\u308f\u308a\u305f\u3044\u884c\u3067ms\nms \nEsc\u3092\u3057\u3066\u6700\u5f8c\u306b\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u6d88\u3048\u308b\n:'s,'ed\n\nDB\u306b\u63a5\u7d9a\u3057\u3066\u307f\u308b\n\n<?php\ntry {\n    $dbh = new PDO('mysql:host=160.16.120.119;dbname=phpsample', $root, $<pass>);\n    foreach($dbh->query('SELECT * from FOO') as $row) {\n        print_r($row);\n    }\n    $dbh = null;\n} catch (PDOException $e) {\n    print \"\u30a8\u30e9\u30fc!: \" . $e->getMessage() . \"<br/>\";\n    die();\n}\n?>\n\n\n\u3067\u304d\u3066\u306a\u3044\n\n('mysql:host=localhost;dbname=phpsample', $root, $urakaway115); foreach($dbh->query('SELECT * from FOO') as $row) { print_r($row); } $dbh = null; } catch (PDOException $e) { print \"\u30a8\u30e9\u30fc!: \" . $e->getMessage() . \"\n\"; die(); } ?>\n\n\n\u3044\u3084\u3001\u3053\u308c\u306f\u305d\u3082\u305d\u3082php\u306e\u69cb\u6587\u304c\u304a\u304b\u3057\u3044\u304b\u3089\u3053\u3093\u306a\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u308b\u3093\u3060\n\n\u76f4\u3059\n\nhttp://160.16.120.119/SampleTryChat.php\n\n160.16.120.119 \u30da\u30fc\u30b8\u306f\u6a5f\u80fd\u3057\u3066\u3044\u307e\u305b\u3093\n\n160.16.120.119 \u3067\u306f\u73fe\u5728\u3053\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3067\u304d\u307e\u305b\u3093\u3002\nHTTP ERROR 500\n\n\n\u306a\u304a\u3063\u3066\u306a\u3044\n\nappach \u306e\u30a8\u30e9\u30fc\u30ed\u30b0\u3092\u898b\u3066\u307f\u3088\u3046\n\u5168\u7136\u9055\u3046\u30a8\u30e9\u30fc\u30ed\u30b0\u304c\u591c\u4e2d\u306b\u51fa\u3066\u305d\u308c\u4ee5\u964d\u3068\u304f\u306b\u306a\u3044\n\u305d\u3057\u3066\u3001\u306a\u305c\u304b\nerror_log-201701229\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u4e8c\u3064\u3042\u308b\n\n[Sat Jan 28 06:23:04.234565 2017] [:error] [pid 1569] [client 91.196.50.33:55551] script '/var/www/html/testproxy.php' not found or unable to stat\n 84 [Sat Jan 28 19:25:53.409146 2017] [:error] [pid 1569] [client 185.49.14.190:38542] script '/var/www/html/testproxy.php' not found or unable to stat\n 85 [Sun Jan 29 03:50:01.582917 2017] [mpm_prefork:notice] [pid 1155] AH00171: Graceful restart requested, doing restart                                                                           error_log-20170129 (/var/log/httpd)                                                                                                                        \n\n\n\u3082\u3046\u4e00\u5ea6php\u306e\u69cb\u6587\u304b\u3089\u898b\u76f4\u3059\n\u306a\u3093\u304b\u3001\u3061\u3083\u3093\u3068\u3057\u305f\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\n\n\u30a8\u30e9\u30fc!: SQLSTATE[HY000] [1130] Host 'tk2-236-27615.vs.sakura.ne.jp' is not allowed to connect to this MariaDB server\n\n\n\n\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u3092\u7a76\u660e\u3057\u305f\u3044\n\u300c\u4ed6\u306e\u30b5\u30fc\u30d0\u306b\u5165\u308c\u306a\u3044\u3002MySQL\u3067\u4ed6\u306e\u30b5\u30fc\u30d0\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308bAdd Star\u300d\u3068\u3044\u3046\u305d\u308c\u3063\u307d\u3044\u8a18\u4e8b\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u8aad\u3093\u3067\u307f\u308b\nhttp://d.hatena.ne.jp/editnuki/20110813/1313177077\n\n\u8a31\u53ef\u3055\u308c\u3066\u308b\u30db\u30b9\u30c8\u3092\u898b\u305f\u3044\n| root         | 127.0.0.1 |\n\n\u305d\u3046\u304b\u3001localhost\u3063\u3066\u3053\u3068\u306f\u3001\u3053\u306e\u30d1\u30bd\u30b3\u30f3\u304b\u3089\u3057\u304b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3063\u3066\u3053\u3068\u3067\u3059\u304b\uff1f\u79c1\u306f\u3055\u3063\u304d\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e2d\u3067\u3001\u30db\u30b9\u30c8\u540d\u3092160.16.120.119\u306b\u3057\u3066\u305f\u3088\uff1f\u3066\u304b\u3001\u3053\u306e\u524d\u304b\u3089\u601d\u3063\u3066\u305f\u3093\u3060\u3051\u3069127.0.0.1\u3063\u3066\u306a\u306b\uff1f\n\nMariaDB [(none)]> select host from mysql.user;\n+-----------+\n| host      |\n+-----------+\n| 127.0.0.1 |\n| ::1       |\n| localhost |\n| localhost |\n+-----------+\n4 rows in set (0.00 sec)\n\n\n\n\n\n\u307e\u305f\u9055\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u305f\n\n\u30a8\u30e9\u30fc!: SQLSTATE[28000] [1045] Access denied for user 'apache'@'localhost' (using password: NO)\n\n\n\u305d\u308c\u3063\u307d\u3044\u8a18\u4e8b\u3092\u307f\u3064\u3051\u305f\nhttp://www.phpbook.jp/tutorial/pdo/index6.html\n\n\u63a5\u7d9a\u3067\u304d\u305f\uff01\uff01\uff01\u266a. \u266a~\u266a d(\u2312o\u2312)b\u266a~\u266a\uff97\uff9d\uff97\uff9d.\n\n<html>\n<head><title>PHP TEST</title></head>\n<body>\n\n<?php\n\n$dsn = 'mysql:dbname=uriage;host=localhost';\n$user = 'testuser';\n$password = 'testuser';\n\ntry{\n    $dbh = new PDO($dsn, $user, $password);\n\n    print('<br>');\n\n    if ($dbh == null){\n        print('\u63a5\u7d9a\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002<br>');\n    }else{\n        print('\u63a5\u7d9a\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002<br>');\n    }\n}catch (PDOException $e){\n    print('Error:'.$e->getMessage());\n    die();\n}\n\n$dbh = null;\n\n?>\n\n</body>\n</html>\n\n\n\n\u6b21\u3001db\u306e\u4e2d\u8eab\u3092html\u306b\u63cf\u753b\u3059\u308b\ndb\u306b\u306f\u63a5\u7d9a\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306f\u3001db\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u4e2d\u306e\u30ab\u30e9\u30e0\u3092\u8868\u793a\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u307e\u305a\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308a\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u4e2d\u306b\u30ab\u30e9\u30e0\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308b\u306e\u306f\n\ncreate table \u30c6\u30fc\u30d6\u30eb\u540d (\n\u30d5\u30a3\u30fc\u30eb\u30c9\u540d \u30c7\u30fc\u30bf\u578b,\n\u30d5\u30a3\u30fc\u30eb\u30c9\u540d \u30c7\u30fc\u30bf\u578b,\n\u30d5\u30a3\u30fc\u30eb\u30c9\u540d \u30c7\u30fc\u30bf\u578b\n);\n\n\n\n\u4f5c\u3063\u305f\u30c6\u30fc\u30d6\u30eb\u3092\u78ba\u8a8d\u3057\u305f\u3044\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\u3092\u307f\u308b\u306e\u306fshow tables \u3067\u30c6\u30fc\u30d6\u30eb\u306e\u4e2d\u306b\u5165\u308c\u305f\u30ab\u30e9\u30e0\u3092\u307f\u308b\u306e\u306f desc \u30c6\u30fc\u30d6\u30eb\u540d\u3067\u3059\u3002\n\nphpsample\n\ndesc user\n    -> ;\n+----------+--------------+------+-----+---------+-------+\n| Field    | Type         | Null | Key | Default | Extra |\n+----------+--------------+------+-----+---------+-------+\n| id       | int(11)      | YES  |     | NULL    |       |\n| username | varchar(255) | YES  |     | NULL    |       |\n| email    | varchar(255) | YES  |     | NULL    |       |\n| password | char(30)     | YES  |     | NULL    |       |\n+----------+--------------+------+-----+---------+-------+\n\n\n\n\u624b\u9806\n\u624b\u9806\u3068\u3057\u3066\u306f\u3001sql\u306e\u30bb\u30ec\u30af\u30c8\u6587\u3067\u3059\u3079\u3066\u3092\u9078\u629e\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u5909\u6570\u306b\u683c\u7d0d\u3059\u308b\u3002\u305d\u3057\u3066\u3001query\u3092\u5b9f\u884c\u3057\u3066\u8fd4\u308a\u5024\u3067\u53d7\u3051\u53d6\u308b\u3002foreach\u3067\u53d7\u3051\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u3092\u4e00\u3064\u305a\u3064\u3001\u307e\u305f\u5225\u306e\u5909\u6570\u306b\u3072\u3068\u3064\u3065\u3064\u683c\u7d0d\u3059\u308b\u3002\n\n\u7279\u306b\u51fa\u308b\u6c17\u914d\u306a\u3044\n\u305f\u3076\u3093\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u308a\u65b9\u3001\u6307\u5b9a\u306e\u4ed5\u65b9\u304c\u539f\u56e0\u3060\n\n// SELECT\u6587\u3092\u5909\u6570\u306b\u683c\u7d0d\n$sql = \"SELECT * FROM cities\";\n\n// SQL\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u3001\u7d50\u679c\u3092\u5909\u6570\u306b\u683c\u7d0d\n$stmt = $dbh->query($sql);\n\n// foreach\u6587\u3067\u914d\u5217\u306e\u4e2d\u8eab\u3092\u4e00\u884c\u305a\u3064\u51fa\u529b\nforeach ($stmt as $row) {\n\n  // \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3067\u51fa\u529b\n  echo $row['name'].'\uff1a'.$row['population'].'\u4eba';\n\n  // \u6539\u884c\u3092\u5165\u308c\u308b\n  echo '<br>';\n}\n\n```\u3000\u3000\n\n# db\u306b\u63a5\u7d9a\u3059\u308b\n\n```php\nmysql -uroot -p;\n```\n\n# db\u3092\u4f5c\u308b\n\n```php\ncreate database phpsampel;\n\nMariaDB [phpsample]> \n```\n\n# \u4f5c\u3063\u305f db\u3092\u4f7f\u3046\n\n```php\nuse phpsample;\n```\n\n# \u30e6\u30fc\u30b6\u30fc\u3068\u30db\u30b9\u30c8\u3092\u898b\u308b\n\nphp\u5074\u304b\u3089db\u306b\u63a5\u7d9a\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u306froot\u3067host\u306f127.0.0.1\n\n\n```php\nMariaDB [phpsample]> SELECT user,host FROM mysql.user;\n\n+--------------+-----------+\n| user         | host      |\n+--------------+-----------+\n| root         | 127.0.0.1 |\n| root         | ::1       |\n| root         | localhost |\n| ur_wordpress | localhost |\n+--------------+-----------+\n```\n\n# db\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306bPDO\u3092\u4f7f\u3044\u305f\u3044\n\n\n\n```php\npdh = new PDO('mysl=localhost; daname=phpsample', $root, $password)\n```\n\n# \u30a8\u30e9\u30fc\u51e6\u7406\u3092\u66f8\u304d\u305f\u3044\n\n\n```php\n\n<?php\ntry {\n    $dbh = new PDO('mysql:host=localhost;dbname=test', $user, $pass);\n    foreach($dbh->query('SELECT * from FOO') as $row) {\n        print_r($row);\n    }\n    $dbh = null;\n} catch (PDOException $e) {\n    print \"\u30a8\u30e9\u30fc!: \" . $e->getMessage() . \"<br/>\";\n    die();\n}\n?>\n\n```\n\n# \u3061\u3083\u3093\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u305f\n\n![ERR\u51e6\u7406.png](C:\\Users\\vaaav\\Desktop\\ERR\u51e6\u7406.png)\n\n# \u4f8b\u5916\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u95a2\u6570\u3092\u899a\u3048\u305f\u3044\n\ngetMessage() \n\n\n\n\n```php\n\n\nelse{\n\nthrow new Exception(\"err\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\");\n\n} catch (Exception $e)\n\n$e-> getmessage();\n\n};\n\n?>\n\n```\n\n# vi\u3067\u30b3\u30d4\u30fc\u3057\u305f\u3089\u30a4\u30f3\u30c7\u30f3\u30c8\u304c\u5909\u306a\u611f\u3058\u306b\u306a\u3063\u305f\n```mysql\nset paste\n```\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30c7\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u3066\u30b3\u30d4\u30da\u3067\u304d\u308b\n\n\n# \u305a\u308c\u305f\u30a4\u30f3\u30c7\u30f3\u30c8\u3092vi\u3067\u4e00\u6c17\u306b\u6d88\u3057\u305f\u3044\n\n\u6d88\u3057\u59cb\u3081\u305f\u3044\u884c\u3067me\n\nme \n\n\u6d88\u3057\u7d42\u308f\u308a\u305f\u3044\u884c\u3067ms\n\nms \n\n\nEsc\u3092\u3057\u3066\u6700\u5f8c\u306b\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u6d88\u3048\u308b\n\n:'s,'ed\n\n\n\n\n# DB\u306b\u63a5\u7d9a\u3057\u3066\u307f\u308b\n\n```php\n\n<?php\ntry {\n    $dbh = new PDO('mysql:host=160.16.120.119;dbname=phpsample', $root, $<pass>);\n    foreach($dbh->query('SELECT * from FOO') as $row) {\n        print_r($row);\n    }\n    $dbh = null;\n} catch (PDOException $e) {\n    print \"\u30a8\u30e9\u30fc!: \" . $e->getMessage() . \"<br/>\";\n    die();\n}\n?>\n\n```\n\n\u3067\u304d\u3066\u306a\u3044\n\n```php\n\n('mysql:host=localhost;dbname=phpsample', $root, $urakaway115); foreach($dbh->query('SELECT * from FOO') as $row) { print_r($row); } $dbh = null; } catch (PDOException $e) { print \"\u30a8\u30e9\u30fc!: \" . $e->getMessage() . \"\n\"; die(); } ?>\n\n```\n\n\u3044\u3084\u3001\u3053\u308c\u306f\u305d\u3082\u305d\u3082php\u306e\u69cb\u6587\u304c\u304a\u304b\u3057\u3044\u304b\u3089\u3053\u3093\u306a\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u308b\u3093\u3060\n\n\n# \u76f4\u3059\n\n```php\n\nhttp://160.16.120.119/SampleTryChat.php\n\n160.16.120.119 \u30da\u30fc\u30b8\u306f\u6a5f\u80fd\u3057\u3066\u3044\u307e\u305b\u3093\n\n160.16.120.119 \u3067\u306f\u73fe\u5728\u3053\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3067\u304d\u307e\u305b\u3093\u3002\nHTTP ERROR 500\n\n```\n\n\u306a\u304a\u3063\u3066\u306a\u3044\n\n# appach \u306e\u30a8\u30e9\u30fc\u30ed\u30b0\u3092\u898b\u3066\u307f\u3088\u3046\n\n\u5168\u7136\u9055\u3046\u30a8\u30e9\u30fc\u30ed\u30b0\u304c\u591c\u4e2d\u306b\u51fa\u3066\u305d\u308c\u4ee5\u964d\u3068\u304f\u306b\u306a\u3044\n\n\u305d\u3057\u3066\u3001\u306a\u305c\u304b\n\n error_log-201701229\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u4e8c\u3064\u3042\u308b\n\n```php\n\n[Sat Jan 28 06:23:04.234565 2017] [:error] [pid 1569] [client 91.196.50.33:55551] script '/var/www/html/testproxy.php' not found or unable to stat\n 84 [Sat Jan 28 19:25:53.409146 2017] [:error] [pid 1569] [client 185.49.14.190:38542] script '/var/www/html/testproxy.php' not found or unable to stat\n 85 [Sun Jan 29 03:50:01.582917 2017] [mpm_prefork:notice] [pid 1155] AH00171: Graceful restart requested, doing restart                                                                           error_log-20170129 (/var/log/httpd)                                                                                                                        \n ```\n# \u3082\u3046\u4e00\u5ea6php\u306e\u69cb\u6587\u304b\u3089\u898b\u76f4\u3059\n \n \u306a\u3093\u304b\u3001\u3061\u3083\u3093\u3068\u3057\u305f\u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\n \n```php\n\n\u30a8\u30e9\u30fc!: SQLSTATE[HY000] [1130] Host 'tk2-236-27615.vs.sakura.ne.jp' is not allowed to connect to this MariaDB server\n\n```\n\n# \u30a8\u30e9\u30fc\u306e\u539f\u56e0\u3092\u7a76\u660e\u3057\u305f\u3044\n\n\u300c\u4ed6\u306e\u30b5\u30fc\u30d0\u306b\u5165\u308c\u306a\u3044\u3002MySQL\u3067\u4ed6\u306e\u30b5\u30fc\u30d0\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308bAdd Star\u300d\u3068\u3044\u3046\u305d\u308c\u3063\u307d\u3044\u8a18\u4e8b\u3092\u898b\u3064\u3051\u305f\u306e\u3067\u8aad\u3093\u3067\u307f\u308b\n\nhttp://d.hatena.ne.jp/editnuki/20110813/1313177077\n\n\n# \u8a31\u53ef\u3055\u308c\u3066\u308b\u30db\u30b9\u30c8\u3092\u898b\u305f\u3044\n\n```php\n| root         | 127.0.0.1 |\n```\n\n\u305d\u3046\u304b\u3001localhost\u3063\u3066\u3053\u3068\u306f\u3001\u3053\u306e\u30d1\u30bd\u30b3\u30f3\u304b\u3089\u3057\u304b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3063\u3066\u3053\u3068\u3067\u3059\u304b\uff1f\u79c1\u306f\u3055\u3063\u304d\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e2d\u3067\u3001\u30db\u30b9\u30c8\u540d\u3092160.16.120.119\u306b\u3057\u3066\u305f\u3088\uff1f\u3066\u304b\u3001\u3053\u306e\u524d\u304b\u3089\u601d\u3063\u3066\u305f\u3093\u3060\u3051\u3069127.0.0.1\u3063\u3066\u306a\u306b\uff1f\n\n\n\n```sql\n\nMariaDB [(none)]> select host from mysql.user;\n+-----------+\n| host      |\n+-----------+\n| 127.0.0.1 |\n| ::1       |\n| localhost |\n| localhost |\n+-----------+\n4 rows in set (0.00 sec)\n\n\n\n```\n\n\n\n# \u307e\u305f\u9055\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u305f\n\n```php\n\n\u30a8\u30e9\u30fc!: SQLSTATE[28000] [1045] Access denied for user 'apache'@'localhost' (using password: NO)\n\n```\n\n\n\n\u305d\u308c\u3063\u307d\u3044\u8a18\u4e8b\u3092\u307f\u3064\u3051\u305f\n\nhttp://www.phpbook.jp/tutorial/pdo/index6.html\n\n\n# \u63a5\u7d9a\u3067\u304d\u305f\uff01\uff01\uff01\u266a. \u266a~\u266a d(\u2312o\u2312)b\u266a~\u266a\uff97\uff9d\uff97\uff9d.\n\n```php\n\n<html>\n<head><title>PHP TEST</title></head>\n<body>\n\n<?php\n\n$dsn = 'mysql:dbname=uriage;host=localhost';\n$user = 'testuser';\n$password = 'testuser';\n\ntry{\n    $dbh = new PDO($dsn, $user, $password);\n\n    print('<br>');\n\n    if ($dbh == null){\n        print('\u63a5\u7d9a\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002<br>');\n    }else{\n        print('\u63a5\u7d9a\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002<br>');\n    }\n}catch (PDOException $e){\n    print('Error:'.$e->getMessage());\n    die();\n}\n\n$dbh = null;\n\n?>\n\n</body>\n</html>\n\n```  \n\n\n# \u6b21\u3001db\u306e\u4e2d\u8eab\u3092html\u306b\u63cf\u753b\u3059\u308b\n\ndb\u306b\u306f\u63a5\u7d9a\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306f\u3001db\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u4e2d\u306e\u30ab\u30e9\u30e0\u3092\u8868\u793a\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u307e\u305a\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308a\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u4e2d\u306b\u30ab\u30e9\u30e0\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308b\u306e\u306f\n\n```php\n\ncreate table \u30c6\u30fc\u30d6\u30eb\u540d (\n\u30d5\u30a3\u30fc\u30eb\u30c9\u540d \u30c7\u30fc\u30bf\u578b,\n\u30d5\u30a3\u30fc\u30eb\u30c9\u540d \u30c7\u30fc\u30bf\u578b,\n\u30d5\u30a3\u30fc\u30eb\u30c9\u540d \u30c7\u30fc\u30bf\u578b\n);\n\n```\n\n# \u4f5c\u3063\u305f\u30c6\u30fc\u30d6\u30eb\u3092\u78ba\u8a8d\u3057\u305f\u3044\n\n\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\u3092\u307f\u308b\u306e\u306fshow tables \u3067\u30c6\u30fc\u30d6\u30eb\u306e\u4e2d\u306b\u5165\u308c\u305f\u30ab\u30e9\u30e0\u3092\u307f\u308b\u306e\u306f desc \u30c6\u30fc\u30d6\u30eb\u540d\u3067\u3059\u3002\n\n```php\n\nphpsample\n\ndesc user\n    -> ;\n+----------+--------------+------+-----+---------+-------+\n| Field    | Type         | Null | Key | Default | Extra |\n+----------+--------------+------+-----+---------+-------+\n| id       | int(11)      | YES  |     | NULL    |       |\n| username | varchar(255) | YES  |     | NULL    |       |\n| email    | varchar(255) | YES  |     | NULL    |       |\n| password | char(30)     | YES  |     | NULL    |       |\n+----------+--------------+------+-----+---------+-------+\n\n```\n\n\n# \u624b\u9806\n\n\u624b\u9806\u3068\u3057\u3066\u306f\u3001sql\u306e\u30bb\u30ec\u30af\u30c8\u6587\u3067\u3059\u3079\u3066\u3092\u9078\u629e\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u5909\u6570\u306b\u683c\u7d0d\u3059\u308b\u3002\u305d\u3057\u3066\u3001query\u3092\u5b9f\u884c\u3057\u3066\u8fd4\u308a\u5024\u3067\u53d7\u3051\u53d6\u308b\u3002foreach\u3067\u53d7\u3051\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u3092\u4e00\u3064\u305a\u3064\u3001\u307e\u305f\u5225\u306e\u5909\u6570\u306b\u3072\u3068\u3064\u3065\u3064\u683c\u7d0d\u3059\u308b\u3002\n\n\n\n# \u7279\u306b\u51fa\u308b\u6c17\u914d\u306a\u3044\n\n\u305f\u3076\u3093\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u308a\u65b9\u3001\u6307\u5b9a\u306e\u4ed5\u65b9\u304c\u539f\u56e0\u3060\n\n\n```php\n\n// SELECT\u6587\u3092\u5909\u6570\u306b\u683c\u7d0d\n$sql = \"SELECT * FROM cities\";\n \n// SQL\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u3001\u7d50\u679c\u3092\u5909\u6570\u306b\u683c\u7d0d\n$stmt = $dbh->query($sql);\n \n// foreach\u6587\u3067\u914d\u5217\u306e\u4e2d\u8eab\u3092\u4e00\u884c\u305a\u3064\u51fa\u529b\nforeach ($stmt as $row) {\n \n  // \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3067\u51fa\u529b\n  echo $row['name'].'\uff1a'.$row['population'].'\u4eba';\n \n  // \u6539\u884c\u3092\u5165\u308c\u308b\n  echo '<br>';\n}\n\n```\u3000\u3000\n", "tags": ["PHP", "mariadb", "MySQL", "SQL"]}