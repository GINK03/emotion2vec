{"context": "\u3082\u306e\u3059\u3054\u3044\u7c21\u5358\u3067\u3059\u3002\n\n\u524d\u63d0\npacman -S base-devel mingw-w64-i686-clang mingw-w64-x86_64-clang mingw-w64-i686-perl mingw-w64-x86_64-perl git\n\n\u307e\u3042\u3053\u306e\u304f\u3089\u3044\u306f\u3088\u304f\u4f7f\u3046\u306e\u3067\u5165\u308c\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\ninstall\nmsys2_shell.cmd\u304c\u3042\u308b\u3068\u3053\u308d\u3092\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u958b\u3044\u3066\n\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\ncall msys2_shell.cmd -mingw32\n\n\n\nmsys2_mingw32\nmkdir patches\ncd patches\ngit clone -v --progress --config core.autocrlf=false https://github.com/Alexpux/MINGW-packages.git ./\ncd mingw-w64-lcov\nmakepkg -csi\n\n\n\u540c\u69d8\u306b\u3057\u3066\n\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\ncall msys2_shell.cmd -mingw64\n\n\n\nmsys2_mingw64\ncd patches/mingw-w64-lcov\nmakepkg -csi\n\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\n\u6ce8\u610f:msys2 mingw clang\u3067\u306flink error\u306b\u306a\u308b\ncoverage\u3092\u53d6\u308b\u3068\u304d\u306f\u3001gcc\u3067\u3082clang\u3067\u3082\nclang++ test.cpp -o test.out -coverage -g -O0 -Wall -Wextra -std=c++14 -lWs2_32\n\n\u306e\u3088\u3046\u306b-coverage\u3092\u3064\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3093\u3067\u3059\u304c\u3001msys2 mingw clang\u3067\u306f\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xb5f2b): `llvm_gcda_emit_function' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xb5f3e): `llvm_gcda_emit_arcs' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xb5f43): `llvm_gcda_summary_info' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xb5f48): `llvm_gcda_end_file' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xf8923): `llvm_gcov_init' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\n\n\u3053\u3093\u306a\u611f\u3058\u306elink error\u304c\u3069\u3063\u3055\u308a\u51fa\u3066\u304d\u307e\u3059\u3002libprofile_rt.a\u304c\u306a\u3044\u305b\u3044\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u306e\u3067\u3001gcc\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002pacman\u304b\u3089\u3058\u3083\u306a\u304f\u3066\u81ea\u529b\u3067llvm\u3092\u30d3\u30eb\u30c9\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0\u3059\u308c\u3070\u30ef\u30f3\u3061\u3083\u3093(\u3081\u3093\uff44)\n\n\u53c2\u8003\n\nhttp://txt.arboreus.com/2015/05/29/howto-get-lcov-test-coverage-on-windows.html\nhttps://github.com/MaverickTse/lsw-build2/blob/master/get_patch.sh\nhttps://wiki.archlinuxjp.org/index.php/Makepkg#.E4.BD.BF.E7.94.A8.E6.96.B9.E6.B3.95\nhttp://clang-developers.42468.n3.nabble.com/Code-coverage-on-clang-td4033066.html\n\n\u3082\u306e\u3059\u3054\u3044\u7c21\u5358\u3067\u3059\u3002\n\n# \u524d\u63d0\n\n```\npacman -S base-devel mingw-w64-i686-clang mingw-w64-x86_64-clang mingw-w64-i686-perl mingw-w64-x86_64-perl git\n```\n\n\u307e\u3042\u3053\u306e\u304f\u3089\u3044\u306f\u3088\u304f\u4f7f\u3046\u306e\u3067\u5165\u308c\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n# install\n\n``msys2_shell.cmd``\u304c\u3042\u308b\u3068\u3053\u308d\u3092\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u958b\u3044\u3066\n\n```bat:\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\ncall msys2_shell.cmd -mingw32\n```\n\n```bash:msys2_mingw32\nmkdir patches\ncd patches\ngit clone -v --progress --config core.autocrlf=false https://github.com/Alexpux/MINGW-packages.git ./\ncd mingw-w64-lcov\nmakepkg -csi\n```\n\n\u540c\u69d8\u306b\u3057\u3066\n\n\n```bat:\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\ncall msys2_shell.cmd -mingw64\n```\n\n```bash:msys2_mingw64\ncd patches/mingw-w64-lcov\nmakepkg -csi\n```\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\n# \u6ce8\u610f:msys2 mingw clang\u3067\u306flink error\u306b\u306a\u308b\n\ncoverage\u3092\u53d6\u308b\u3068\u304d\u306f\u3001gcc\u3067\u3082clang\u3067\u3082\n\n```\nclang++ test.cpp -o test.out -coverage -g -O0 -Wall -Wextra -std=c++14 -lWs2_32\n```\n\n\u306e\u3088\u3046\u306b``-coverage``\u3092\u3064\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3093\u3067\u3059\u304c\u3001msys2 mingw clang\u3067\u306f\n\n```\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xb5f2b): `llvm_gcda_emit_function' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xb5f3e): `llvm_gcda_emit_arcs' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xb5f43): `llvm_gcda_summary_info' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xb5f48): `llvm_gcda_end_file' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\nC:\\msys64\\tmp\\test-9d9013.o:(.text+0xf8923): `llvm_gcov_init' \u306b\u5bfe\u3059\u308b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53c2\u7167\u3067\u3059\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306elink error\u304c\u3069\u3063\u3055\u308a\u51fa\u3066\u304d\u307e\u3059\u3002``libprofile_rt.a``\u304c\u306a\u3044\u305b\u3044\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u306e\u3067\u3001gcc\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002pacman\u304b\u3089\u3058\u3083\u306a\u304f\u3066\u81ea\u529b\u3067llvm\u3092\u30d3\u30eb\u30c9\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0\u3059\u308c\u3070\u30ef\u30f3\u3061\u3083\u3093(\u3081\u3093\uff44)\n\n# \u53c2\u8003\n\n- http://txt.arboreus.com/2015/05/29/howto-get-lcov-test-coverage-on-windows.html\n- https://github.com/MaverickTse/lsw-build2/blob/master/get_patch.sh\n- https://wiki.archlinuxjp.org/index.php/Makepkg#.E4.BD.BF.E7.94.A8.E6.96.B9.E6.B3.95\n- http://clang-developers.42468.n3.nabble.com/Code-coverage-on-clang-td4033066.html\n\n\n\n", "tags": ["msys2", "MinGW\uff0fmsys", "MinGW", "lcov", "LLVM"]}