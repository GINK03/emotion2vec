{"context": " More than 1 year has passed since last update.\u4f8b\uff1aApache2\u3092\u8d77\u52d5\n\nfabric.py\nfrom fabric.api import env, sudo\n\n\ndef servers():\n    env.hosts = [\"b13t.net\"]\n\n\ndef startd():\n    sudo(\"service apache2 start\")\n\n\n\u3068\u304b\u66f8\u3044\u3066\uff0cshell\u3067\n$ fab servers startd\n\n\u3068\u304b\u3059\u308b\u3068\uff0c\n[b13t.net] Executing task 'startd'\n[b13t.net] sudo: service apache2 start\n\n[b13t.net] out:  * Starting web server apache2\n[b13t.net] out: httpd (pid 20130618) already running\n[b13t.net] out:    ...done.\n[b13t.net] out: \n\n\nDone.\nDisconnecting from b13t.net:65537... done.\n\n\u306a\u3069\u3068\u30c9\u30e4\u9854\u3055\u308c\u307e\u3059\u304c\uff0c\u5b9f\u969b\u306bssh\u3067\u5165\u3063\u3066ps ax\u3057\u3066\u3082apache2\u306f\u5c45\u306a\u3044\u3057service apache2 state\u3057\u3066\u3082Not running\u3068\u304b\u8a00\u308f\u308c\u3066\u3053\u306e\u4e16\u306e\u7d76\u671b\u3092\u5473\u308f\u3046\u308f\u3051\u3067\u3059\uff0e\n\u3058\u3083\u3042\u7d76\u671b\u3092\u632f\u308a\u6255\u3046\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u3068\u3044\u3046\u3068\ndef startd():\n    sudo(\"service apache2 start\", pty=False)\n\n\u3068\uff0cpty=False\u3092\u66f8\u3051\u3070\u7d76\u671b\u305b\u305a\u306b\u5e78\u305b\u306b\u306a\u308b\u8a33\u3067\u3059\uff0e\n\u307c\u304f\u306f\u82f1\u8a9e\u304c\u8aad\u3081\u306a\u3044\u306e\u3067\u3088\u304f\u308f\u304b\u308a\u307e\u305b\u3093\u304c\uff0c\nhttp://stackoverflow.com/questions/6379484/fabric-appears-to-start-apache2-but-doesnt\nhttp://docs.fabfile.org/en/1.6/api/core/operations.html#fabric.operations.run\n\u3053\u3053\u3092\u8aad\u3080\u3068\uff0cpty=True\u306e\u6642\u306e\u4eee\u60f3\u7aef\u672b\u304c\u306a\u306b\u304b\u60c5\u5831\u3092\u6f0f\u3089\u3057\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff0e\n\u4e8b\u524d\u306bfabtools\u3092pip install\u3068\u304b\u3057\u3066env.user\u306b\u5341\u5206\u306a\u6a29\u9650\u3092\u4e0e\u3048\u3089\u308c\u305fuser\u3092\u6307\u5b9a\u3057\u3066\u3042\u308c\u3070\uff0c\u4ee5\u4e0b\u3067\u3082\u8d77\u52d5\u3059\u308b\u3088\u3046\u3067\u3059\uff0e\uff08\u672a\u691c\u8a3c\uff09\nfrom fabtools import service\ndef startd():\n    service.start(\"apache2\")\n\n\u4f8b\uff1aApache2\u3092\u8d77\u52d5\n\n```py:fabric.py\nfrom fabric.api import env, sudo\n\n\ndef servers():\n    env.hosts = [\"b13t.net\"]\n\n\ndef startd():\n    sudo(\"service apache2 start\")\n```\n\n\u3068\u304b\u66f8\u3044\u3066\uff0cshell\u3067\n\n```\n$ fab servers startd\n````\n\n\u3068\u304b\u3059\u308b\u3068\uff0c\n\n```\n[b13t.net] Executing task 'startd'\n[b13t.net] sudo: service apache2 start\n\n[b13t.net] out:  * Starting web server apache2\n[b13t.net] out: httpd (pid 20130618) already running\n[b13t.net] out:    ...done.\n[b13t.net] out: \n\n\nDone.\nDisconnecting from b13t.net:65537... done.\n```\n\u306a\u3069\u3068\u30c9\u30e4\u9854\u3055\u308c\u307e\u3059\u304c\uff0c\u5b9f\u969b\u306bssh\u3067\u5165\u3063\u3066ps ax\u3057\u3066\u3082apache2\u306f\u5c45\u306a\u3044\u3057service apache2 state\u3057\u3066\u3082Not running\u3068\u304b\u8a00\u308f\u308c\u3066\u3053\u306e\u4e16\u306e\u7d76\u671b\u3092\u5473\u308f\u3046\u308f\u3051\u3067\u3059\uff0e\n\n\u3058\u3083\u3042\u7d76\u671b\u3092\u632f\u308a\u6255\u3046\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u3068\u3044\u3046\u3068\n\n```py:\ndef startd():\n    sudo(\"service apache2 start\", pty=False)\n```\n\n\u3068\uff0cpty=False\u3092\u66f8\u3051\u3070\u7d76\u671b\u305b\u305a\u306b\u5e78\u305b\u306b\u306a\u308b\u8a33\u3067\u3059\uff0e\n\u307c\u304f\u306f\u82f1\u8a9e\u304c\u8aad\u3081\u306a\u3044\u306e\u3067\u3088\u304f\u308f\u304b\u308a\u307e\u305b\u3093\u304c\uff0c\nhttp://stackoverflow.com/questions/6379484/fabric-appears-to-start-apache2-but-doesnt\nhttp://docs.fabfile.org/en/1.6/api/core/operations.html#fabric.operations.run\n\u3053\u3053\u3092\u8aad\u3080\u3068\uff0cpty=True\u306e\u6642\u306e\u4eee\u60f3\u7aef\u672b\u304c\u306a\u306b\u304b\u60c5\u5831\u3092\u6f0f\u3089\u3057\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff0e\n\n\u4e8b\u524d\u306bfabtools\u3092pip install\u3068\u304b\u3057\u3066env.user\u306b\u5341\u5206\u306a\u6a29\u9650\u3092\u4e0e\u3048\u3089\u308c\u305fuser\u3092\u6307\u5b9a\u3057\u3066\u3042\u308c\u3070\uff0c\u4ee5\u4e0b\u3067\u3082\u8d77\u52d5\u3059\u308b\u3088\u3046\u3067\u3059\uff0e\uff08\u672a\u691c\u8a3c\uff09\n\n```py:\nfrom fabtools import service\ndef startd():\n    service.start(\"apache2\")\n```", "tags": ["Python", "fabric1.6.0"]}