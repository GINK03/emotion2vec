{"context": " More than 1 year has passed since last update.\u4ee5\u4e0b\u306e\u74b0\u5883\u3067\u3001docker\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n* Windows7 SP1\n* DockerToolbox-1.10.0\n\ndocker toolbox\u3092\u4f7f\u3063\u3066\u8272\u3005\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwindows\u306bdocker\u3092install\u3059\u308b\u5834\u5408\u3001docker toolbox\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u63a8\u5968\u3055\u308c\u3066\u3044\u307e\u3059\u3002\ndocker toolbox\u306f\u3053\u3053\u304b\u3089DL\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001proxy\u74b0\u5883\u4e0b\u3067\u306finstaller\u3092\u5b9f\u884c\u3057\u3066\u3082\u30d7\u30ed\u30bb\u30b9\u304c\u5fdc\u7b54\u306a\u3057\u306b\u306a\u3063\u305f\u307e\u307e\u3046\u3093\u3068\u3082\u3059\u3093\u3068\u3082\u8a00\u308f\u306a\u3044\u306e\u3067\u3069\u3046\u3057\u3088\u3046\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n~\u5b8c~\n\n\u539f\u56e0\n\u5c0e\u5165\u958b\u59cb\u3068\u540c\u6642\u306b\u8a70\u3093\u3060\u306e\u3067\u3001\u3057\u3070\u3057\u5446\u7136\u3068\u3057\u3066\u3044\u305f\u3068\u3053\u308d\u30015\u5206\u5f8c\u3050\u3089\u3044\u306b\u3072\u3087\u3063\u3053\u308a\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u73fe\u308c\u307e\u3057\u305f\u3002\ninstall\u9014\u4e2d\u3082\u30d7\u30ed\u30bb\u30b9\u304c\u5fdc\u7b54\u306a\u3057\u306b\u3061\u3087\u3044\u3061\u3087\u3044\u306a\u308a\u307e\u3059\u304c\u3001\u614c\u3066\u305a\u3086\u3063\u304f\u308a\u5f85\u3064\u3068\u3001\u305d\u306e\u3046\u3061install\u304c\u7d42\u308f\u308a\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001docker/toolbox\u306eissue\u3092\u898b\u3066\u307f\u305f\u3068\u3053\u308d\u3001\u540c\u69d8\u306e\u73fe\u8c61\u306b\u906d\u9047\u3057\u3066\u308b\u4eba\u305f\u3061\u304c\u5c45\u307e\u3057\u305f\u3002\n\u3084\u3063\u3071\u308aproxy\u7d4c\u7531\u3060\u3068\u8d77\u304d\u308b\u3063\u307d\u3044\u3067\u3059\u3002\n\ndocker machine\u306e\u4f5c\u6210\n\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u306e\u8aac\u660e\u3067\u306f\u3053\u306e\u5f8c\u3001Desktop\u306b\u751f\u6210\u3055\u308c\u305fDocker Quickstart Terminal\u3068\u3044\u3046\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u5b9f\u884c\u3059\u308b\u3068Looks like something went wrong...\u3068\u3044\u3046\u4e0d\u7a4f\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u3084\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\u3084\u3063\u3066\u308b\u3053\u3068\u306fdocker-machine\u3092\u4f5c\u3063\u3066\u308b\u3060\u3051\u3063\u307d\u3044\u306e\u3067\u3001\u81ea\u5206\u3067\u3084\u308a\u307e\u3057\u3087\u3046\u3002\nproxy\u5468\u308a\u3067\u3053\u3051\u3066\u3044\u308b\u3088\u3046\u306a\u6c17\u304c\u3057\u306a\u304f\u3082\u306a\u3044\u306e\u3067\u3001\u305d\u306e\u8fba\u3082\u3088\u3057\u306a\u306b\u3057\u307e\u3059\u3002\n\u3053\u3061\u3089\u306e\u60c5\u5831\u3092\u53c2\u8003\u306bdocker-machine\u3092\u4f5c\u308a\u307e\u3059\u3002\n(http_proxy\u3068https_proxy\u3068\u3044\u3046\u74b0\u5883\u5909\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u524d\u63d0\u3067\u3059\u3002)\n$ docker-machine create -d virtualbox --engine-env http_proxy=${http_proxy} --engine-env https_proxy=${https_proxy} default\n\n\u6b21\u306bdocker-machine\u7528\u306e\u74b0\u5883\u5909\u6570\u3092\u3001\u3053\u3053\u3092\u53c2\u8003\u306b\u3057\u306a\u304c\u3089\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ docker-machine env default --shell cmd\nSET DOCKER_TLS_VERIFY=1\nSET DOCKER_HOST=tcp://192.168.99.100:2376\nSET DOCKER_CERT_PATH=C:\\Users\\user\\.docker\\machine\\machines\\default\nSET DOCKER_MACHINE_NAME=default\nREM Run this command to configure your shell:\nREM     FOR /f \"tokens=*\" %i IN ('docker-machine env default --shell cmd') DO %i\n\n\u8a00\u308f\u308c\u305f\u3068\u304a\u308a\u306b\u3057\u307e\u3059\u3002\n$ FOR /f \"tokens=*\" %i IN ('docker-machine env default --shell\nmd') DO %i\nSET DOCKER_TLS_VERIFY=1\nSET DOCKER_HOST=tcp://192.168.99.100:2376\nSET DOCKER_CERT_PATH=C:\\Users\\user\\.docker\\machine\\machines\\default\nSET DOCKER_MACHINE_NAME=default\n\n\u3053\u308c\u3067\u3088\u3055\u305d\u3046\u3067\u3059\u304c\u3001\u3053\u306e\u307e\u307e\u3060\u3068\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u63a5\u7d9a\u3059\u308b\u3068\u304d\u3082proxy\u7d4c\u7531\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6012\u3089\u308c\u307e\u3059\u3002\n$ docker ps\nAn error occurred trying to connect: Get https://192.168.99.100:2376/v1.22/conta\niners/json: Forbidden\n\nproxy\u3092\u901a\u3089\u306a\u3044\u3088\u3046\u306b\u74b0\u5883\u5909\u6570\u3067\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n(IP\u30a2\u30c9\u30ec\u30b9\u306f\u4e0a\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8868\u793a\u3055\u308c\u305f\u3082\u306e\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044)\n$ SET NO_PROXY=192.168.99.100;\n\n\ndocker\u5074\u306eproxy\u8a2d\u5b9a\ndocker pull\u6642\u306bproxy\u3092\u77e5\u3089\u306a\u3044\u3068image\u304c\u53d6\u3063\u3066\u6765\u308c\u306a\u3044\u306e\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ docker-machine ssh\n# sudo vi /var/lib/boot2docker/profile\n\n\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\nexport HTTP_PROXY=http://xxx.xxx.xxx.xxx:8880\nexport HTTPS_PROXY=$HTTP_PROXY\nexport NO_PROXY=localhost,127.0.0.1,.sock\n\n\n\u3044\u3056\u5b9f\u884c\n\u3067\u306f\u6e80\u3092\u6301\u3057\u3066docker\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ docker run hello-world\nHello from Docker.\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker Hub account:\n https://hub.docker.com\n\nFor more examples and ideas, visit:\n https://docs.docker.com/userguide/\n\n\u3081\u3067\u305f\u3044\uff01\n\n\u4ee5\u4e0b\u306e\u74b0\u5883\u3067\u3001docker\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n* Windows7 SP1\n* DockerToolbox-1.10.0\n\n# docker toolbox\u3092\u4f7f\u3063\u3066\u8272\u3005\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwindows\u306bdocker\u3092install\u3059\u308b\u5834\u5408\u3001[docker toolbox\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u63a8\u5968\u3055\u308c\u3066\u3044\u307e\u3059\u3002](https://docs.docker.com/windows/step_one/)\ndocker toolbox\u306f[\u3053\u3053](https://www.docker.com/products/docker-toolbox)\u304b\u3089DL\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001proxy\u74b0\u5883\u4e0b\u3067\u306finstaller\u3092\u5b9f\u884c\u3057\u3066\u3082\u30d7\u30ed\u30bb\u30b9\u304c\u5fdc\u7b54\u306a\u3057\u306b\u306a\u3063\u305f\u307e\u307e\u3046\u3093\u3068\u3082\u3059\u3093\u3068\u3082\u8a00\u308f\u306a\u3044\u306e\u3067\u3069\u3046\u3057\u3088\u3046\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n~\u5b8c~\n\n## \u539f\u56e0\n\u5c0e\u5165\u958b\u59cb\u3068\u540c\u6642\u306b\u8a70\u3093\u3060\u306e\u3067\u3001\u3057\u3070\u3057\u5446\u7136\u3068\u3057\u3066\u3044\u305f\u3068\u3053\u308d\u30015\u5206\u5f8c\u3050\u3089\u3044\u306b\u3072\u3087\u3063\u3053\u308a\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u73fe\u308c\u307e\u3057\u305f\u3002  \ninstall\u9014\u4e2d\u3082\u30d7\u30ed\u30bb\u30b9\u304c\u5fdc\u7b54\u306a\u3057\u306b\u3061\u3087\u3044\u3061\u3087\u3044\u306a\u308a\u307e\u3059\u304c\u3001\u614c\u3066\u305a\u3086\u3063\u304f\u308a\u5f85\u3064\u3068\u3001\u305d\u306e\u3046\u3061install\u304c\u7d42\u308f\u308a\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3001[docker/toolbox](https://github.com/docker/toolbox)\u306e[issue](https://github.com/docker/toolbox/issues/385)\u3092\u898b\u3066\u307f\u305f\u3068\u3053\u308d\u3001\u540c\u69d8\u306e\u73fe\u8c61\u306b\u906d\u9047\u3057\u3066\u308b\u4eba\u305f\u3061\u304c\u5c45\u307e\u3057\u305f\u3002\n\u3084\u3063\u3071\u308aproxy\u7d4c\u7531\u3060\u3068\u8d77\u304d\u308b\u3063\u307d\u3044\u3067\u3059\u3002\n\n## docker machine\u306e\u4f5c\u6210\n\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u306e\u8aac\u660e\u3067\u306f\u3053\u306e\u5f8c\u3001Desktop\u306b\u751f\u6210\u3055\u308c\u305fDocker Quickstart Terminal\u3068\u3044\u3046\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u5b9f\u884c\u3059\u308b\u3068```Looks like something went wrong...```\u3068\u3044\u3046\u4e0d\u7a4f\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u3084\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\u3084\u3063\u3066\u308b\u3053\u3068\u306fdocker-machine\u3092\u4f5c\u3063\u3066\u308b\u3060\u3051\u3063\u307d\u3044\u306e\u3067\u3001\u81ea\u5206\u3067\u3084\u308a\u307e\u3057\u3087\u3046\u3002\nproxy\u5468\u308a\u3067\u3053\u3051\u3066\u3044\u308b\u3088\u3046\u306a\u6c17\u304c\u3057\u306a\u304f\u3082\u306a\u3044\u306e\u3067\u3001\u305d\u306e\u8fba\u3082\u3088\u3057\u306a\u306b\u3057\u307e\u3059\u3002\n[\u3053\u3061\u3089](http://qiita.com/tora470/items/cd9335f5ce638e11bb97)\u306e\u60c5\u5831\u3092\u53c2\u8003\u306bdocker-machine\u3092\u4f5c\u308a\u307e\u3059\u3002\n(http_proxy\u3068https_proxy\u3068\u3044\u3046\u74b0\u5883\u5909\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u524d\u63d0\u3067\u3059\u3002)\n\n```Shell\n$ docker-machine create -d virtualbox --engine-env http_proxy=${http_proxy} --engine-env https_proxy=${https_proxy} default\n```\n\n\u6b21\u306bdocker-machine\u7528\u306e\u74b0\u5883\u5909\u6570\u3092\u3001[\u3053\u3053](http://qiita.com/maemori/items/5467a286d3e3217f1365)\u3092\u53c2\u8003\u306b\u3057\u306a\u304c\u3089\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```Shell\n$ docker-machine env default --shell cmd\nSET DOCKER_TLS_VERIFY=1\nSET DOCKER_HOST=tcp://192.168.99.100:2376\nSET DOCKER_CERT_PATH=C:\\Users\\user\\.docker\\machine\\machines\\default\nSET DOCKER_MACHINE_NAME=default\nREM Run this command to configure your shell:\nREM     FOR /f \"tokens=*\" %i IN ('docker-machine env default --shell cmd') DO %i\n```\n\n\u8a00\u308f\u308c\u305f\u3068\u304a\u308a\u306b\u3057\u307e\u3059\u3002\n\n```Shell\n$ FOR /f \"tokens=*\" %i IN ('docker-machine env default --shell\nmd') DO %i\nSET DOCKER_TLS_VERIFY=1\nSET DOCKER_HOST=tcp://192.168.99.100:2376\nSET DOCKER_CERT_PATH=C:\\Users\\user\\.docker\\machine\\machines\\default\nSET DOCKER_MACHINE_NAME=default\n```\n\n\u3053\u308c\u3067\u3088\u3055\u305d\u3046\u3067\u3059\u304c\u3001\u3053\u306e\u307e\u307e\u3060\u3068\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u63a5\u7d9a\u3059\u308b\u3068\u304d\u3082proxy\u7d4c\u7531\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6012\u3089\u308c\u307e\u3059\u3002\n\n```Shell\n$ docker ps\nAn error occurred trying to connect: Get https://192.168.99.100:2376/v1.22/conta\niners/json: Forbidden\n```\n\nproxy\u3092\u901a\u3089\u306a\u3044\u3088\u3046\u306b\u74b0\u5883\u5909\u6570\u3067\u8a2d\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002\n(IP\u30a2\u30c9\u30ec\u30b9\u306f\u4e0a\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8868\u793a\u3055\u308c\u305f\u3082\u306e\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044)\n\n```Shell\n$ SET NO_PROXY=192.168.99.100;\n```\n# docker\u5074\u306eproxy\u8a2d\u5b9a\ndocker pull\u6642\u306bproxy\u3092\u77e5\u3089\u306a\u3044\u3068image\u304c\u53d6\u3063\u3066\u6765\u308c\u306a\u3044\u306e\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```Shell\n$ docker-machine ssh\n# sudo vi /var/lib/boot2docker/profile\n```\n\n\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```\nexport HTTP_PROXY=http://xxx.xxx.xxx.xxx:8880\nexport HTTPS_PROXY=$HTTP_PROXY\nexport NO_PROXY=localhost,127.0.0.1,.sock\n```\n\n# \u3044\u3056\u5b9f\u884c\n\u3067\u306f\u6e80\u3092\u6301\u3057\u3066docker\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```\n$ docker run hello-world\nHello from Docker.\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker Hub account:\n https://hub.docker.com\n\nFor more examples and ideas, visit:\n https://docs.docker.com/userguide/\n```\n\n\u3081\u3067\u305f\u3044\uff01\n", "tags": ["docker", "Windows", "docker-machine"]}