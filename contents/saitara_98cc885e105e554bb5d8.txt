{"tags": ["q", "CSV", "SQL"], "context": " More than 1 year has passed since last update.\n\nq \u3068\u306f\u4f55\u304b\nhttps://github.com/harelba/q\n\u30b0\u30b0\u30e9\u30d3\u30ea\u30c6\u30a3\u304c\u975e\u5e38\u306b\u4f4e\u305d\u3046\u3067\u3059\u304c\u3001\u6709\u7528\u5ea6\u306f\u975e\u5e38\u306b\u9ad8\u3044\u30c4\u30fc\u30eb\u3067\u3059\u3002\nCSV/TSV\u306b\u5bfe\u3057\u3066SQL(like)\u306a\u30af\u30a8\u30ea\u3092\u767a\u884c\u3067\u304d\u307e\u3059\u3002\n\n\u5c0e\u5165\u3059\u308b\n\nOSX\u3067\u306e\u5c0e\u5165\u65b9\u6cd5\n(\u79c1\u306e\u4f7f\u3063\u3066\u3044\u308b)OSX\u3067\u306fhomebrew\u3067\u5c0e\u5165\u3067\u304d\u307e\u3059\u3002\nbrew install q\n\n\n\u305d\u306e\u4ed6\u306eOS\u306e\u5834\u5408\u306e\u5c0e\u5165\u65b9\u6cd5\n\u516c\u5f0f\u30da\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u4f7f\u3046\n\n\u30c7\u30fc\u30bf\u3092\u6e96\u5099\u3059\u308b\nUTF-8\u3067\u3042\u308c\u3070\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u90f5\u4fbf\u756a\u53f7CSV\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066UTF-8\u3078\u5909\u63db\u3057\u307e\u3059\u3002\ncurl -vs http://www.post.japanpost.jp/zipcode/dl/oogaki/zip/ken_all.zip 2>/dev/null\\\n | tar -xvf- -O - 2>/dev/null\\\n | nkf -w > ken_all.csv\n\n\n\u30af\u30a8\u30ea\u3092\u767a\u884c\u3059\u308b\n\n\u90f5\u4fbf\u756a\u53f7\u304c\u6700\u3082\u591a\u3044\u90fd\u9053\u5e9c\u770c\u306f\u3069\u3053\u304b\nq -d',' \"select count(c7) as c,c7 from ken_all.csv group by c7 order by c desc\"|head -n 10\n\n8245,\u5317\u6d77\u9053\n7525,\u611b\u77e5\u770c\n6672,\u4eac\u90fd\u5e9c\n5435,\u65b0\u6f5f\u770c\n5217,\u5175\u5eab\u770c\n3934,\u798f\u5cf6\u770c\n3843,\u5927\u962a\u5e9c\n3808,\u6771\u4eac\u90fd\n3588,\u5343\u8449\u770c\n3368,\u5c90\u961c\u770c\n\n\n\u90f5\u4fbf\u756a\u53f7\u304c\u6700\u3082\u591a\u3044\u5e02\u533a\u753a\u6751\u306f\u3069\u3053\u304b\nq -d',' \"select count(c7||c8) as c,c7||c8 as ct from utf-8.csv group by ct order by c desc\"|head -n 10\n\n1147,\u5bcc\u5c71\u770c\u5bcc\u5c71\u5e02\n836,\u5c90\u961c\u770c\u5c90\u961c\u5e02\n775,\u6771\u4eac\u90fd\u6e2f\u533a\n753,\u65b0\u6f5f\u770c\u4e0a\u8d8a\u5e02\n696,\u6771\u4eac\u90fd\u65b0\u5bbf\u533a\n660,\u4eac\u90fd\u5e9c\u4eac\u90fd\u5e02\u4e0a\u4eac\u533a\n630,\u4eac\u90fd\u5e9c\u4eac\u90fd\u5e02\u4f0f\u898b\u533a\n601,\u4eac\u90fd\u5e9c\u4eac\u90fd\u5e02\u4e0b\u4eac\u533a\n582,\u65b0\u6f5f\u770c\u9577\u5ca1\u5e02\n557,\u4eac\u90fd\u5e9c\u4eac\u90fd\u5e02\u4e2d\u4eac\u533a\n\n\nToDo\nJOIN\u304c\u4f7f\u3048\u308b\u306e\u3067\u3059\u304c\u3001\u4f7f\u3048\u308b\u30cd\u30bf\u3092\u898b\u3064\u3051\u3066\u3044\u307e\u305b\u3093\u2026\u3002\n# q \u3068\u306f\u4f55\u304b\n\nhttps://github.com/harelba/q\n\n\u30b0\u30b0\u30e9\u30d3\u30ea\u30c6\u30a3\u304c\u975e\u5e38\u306b\u4f4e\u305d\u3046\u3067\u3059\u304c\u3001\u6709\u7528\u5ea6\u306f\u975e\u5e38\u306b\u9ad8\u3044\u30c4\u30fc\u30eb\u3067\u3059\u3002\nCSV/TSV\u306b\u5bfe\u3057\u3066SQL(like)\u306a\u30af\u30a8\u30ea\u3092\u767a\u884c\u3067\u304d\u307e\u3059\u3002\n\n# \u5c0e\u5165\u3059\u308b\n## OSX\u3067\u306e\u5c0e\u5165\u65b9\u6cd5\n\n(\u79c1\u306e\u4f7f\u3063\u3066\u3044\u308b)OSX\u3067\u306fhomebrew\u3067\u5c0e\u5165\u3067\u304d\u307e\u3059\u3002\n\n```\nbrew install q\n```\n\n## \u305d\u306e\u4ed6\u306eOS\u306e\u5834\u5408\u306e\u5c0e\u5165\u65b9\u6cd5\n\n[\u516c\u5f0f\u30da\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806](http://harelba.github.io/q/install.html)\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n# \u4f7f\u3046\n## \u30c7\u30fc\u30bf\u3092\u6e96\u5099\u3059\u308b\n\nUTF-8\u3067\u3042\u308c\u3070\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u90f5\u4fbf\u756a\u53f7CSV\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066UTF-8\u3078\u5909\u63db\u3057\u307e\u3059\u3002\n\n```\ncurl -vs http://www.post.japanpost.jp/zipcode/dl/oogaki/zip/ken_all.zip 2>/dev/null\\\n | tar -xvf- -O - 2>/dev/null\\\n | nkf -w > ken_all.csv\n```\n\n## \u30af\u30a8\u30ea\u3092\u767a\u884c\u3059\u308b\n### \u90f5\u4fbf\u756a\u53f7\u304c\u6700\u3082\u591a\u3044\u90fd\u9053\u5e9c\u770c\u306f\u3069\u3053\u304b\n\n```\nq -d',' \"select count(c7) as c,c7 from ken_all.csv group by c7 order by c desc\"|head -n 10\n```\n```\n8245,\u5317\u6d77\u9053\n7525,\u611b\u77e5\u770c\n6672,\u4eac\u90fd\u5e9c\n5435,\u65b0\u6f5f\u770c\n5217,\u5175\u5eab\u770c\n3934,\u798f\u5cf6\u770c\n3843,\u5927\u962a\u5e9c\n3808,\u6771\u4eac\u90fd\n3588,\u5343\u8449\u770c\n3368,\u5c90\u961c\u770c\n```\n\n### \u90f5\u4fbf\u756a\u53f7\u304c\u6700\u3082\u591a\u3044\u5e02\u533a\u753a\u6751\u306f\u3069\u3053\u304b\n\n```\nq -d',' \"select count(c7||c8) as c,c7||c8 as ct from utf-8.csv group by ct order by c desc\"|head -n 10\n```\n```\n1147,\u5bcc\u5c71\u770c\u5bcc\u5c71\u5e02\n836,\u5c90\u961c\u770c\u5c90\u961c\u5e02\n775,\u6771\u4eac\u90fd\u6e2f\u533a\n753,\u65b0\u6f5f\u770c\u4e0a\u8d8a\u5e02\n696,\u6771\u4eac\u90fd\u65b0\u5bbf\u533a\n660,\u4eac\u90fd\u5e9c\u4eac\u90fd\u5e02\u4e0a\u4eac\u533a\n630,\u4eac\u90fd\u5e9c\u4eac\u90fd\u5e02\u4f0f\u898b\u533a\n601,\u4eac\u90fd\u5e9c\u4eac\u90fd\u5e02\u4e0b\u4eac\u533a\n582,\u65b0\u6f5f\u770c\u9577\u5ca1\u5e02\n557,\u4eac\u90fd\u5e9c\u4eac\u90fd\u5e02\u4e2d\u4eac\u533a\n```\n\n# ToDo\n\nJOIN\u304c\u4f7f\u3048\u308b\u306e\u3067\u3059\u304c\u3001\u4f7f\u3048\u308b\u30cd\u30bf\u3092\u898b\u3064\u3051\u3066\u3044\u307e\u305b\u3093\u2026\u3002\n"}