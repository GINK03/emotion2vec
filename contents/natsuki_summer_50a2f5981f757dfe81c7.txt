{"context": "\n\n\u76ee\u7684\n\u4f8b\u3048\u3070\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u3001SQL\u767a\u884c\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3001\u3068\u304b\u9806\u5e8f\u3060\u3066\u3066\u3084\u3089\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u6642\u3001\u8907\u6570\u306e\u975e\u540c\u671f\u51e6\u7406\u3092\u30cd\u30b9\u30c8\u3057\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304b\u3089\u7f6e\u304d\u63db\u3048\u308b\n\n\u74b0\u5883\nnode v4~(v4.3.2 or v5.0.0\u3067\u78ba\u8a8d)\n\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af(\u66f8\u304d\u63db\u3048\u524d)\n\ncallback.js\nvar fs = require('fs');\n\nconsole.log('readFile ---- start.');\nfs.readFile('a.txt', function(err, data){\n    console.log('readFile ---- a.txt data : '+data);\n    fs.readFile('b.txt', function(err, data){\n        console.log('readFile ---- b.txt data : '+data);\n        fs.readFile('c.txt', function(err, data){\n            console.log('readFile ---- c.txt data : '+data);\n        });\n    });\n});\n\n\n$ node callback.js\nreadFile ---- start.\nreadFile ---- a.txt data : a.txt\u306e\u5185\u5bb9\nreadFile ---- b.txt data : b.txt\u306e\u5185\u5bb9\nreadFile ---- c.txt data : c.txt\u306e\u5185\u5bb9\n\n\nPromise(\u66f8\u304d\u63db\u3048\u5f8c)\n\npromise.js\n'use strict'\n\nconst fs = require('fs');\n\nnew Promise((resolve, reject)=>{\n    console.log('Promise ---- start.');\n    fs.readFile('a.txt', (err, data)=>{\n        !err ? resolve(data) : reject(err);\n    });\n}).then((result)=>{\n    console.log('Promise ---- a.txt result : '+result);\n    return new Promise((resolve, reject)=>{\n        fs.readFile('b.txt', (err, data)=>{\n            !err ? resolve(data) : reject(err);\n        });\n    })\n}).then((result)=>{\n    console.log('Promise ---- b.txt result : '+result);\n    return new Promise((resolve, reject)=>{\n        fs.readFile('c.txt', (err, data)=>{\n            !err ? resolve(data) : reject(err);\n        });\n    })\n}).then((result)=>{\n    console.log('Promise ---- c.txt result : '+result);\n},(err, hoge)=>{\n    console.log('Promise ---- err : '+err+' hoge:'+hoge);\n});\n\n\n\n$ node promise.js\nPromise ---- start.\nPromise ---- a.txt result : a.txt\u306e\u5185\u5bb9\nPromise ---- b.txt result : b.txt\u306e\u5185\u5bb9\nPromise ---- c.txt result : c.txt\u306e\u5185\u5bb9\n\n\u5c64\u304c\u6df1\u304f\u306a\u308c\u3070\u306a\u308b\u307b\u3069Promise\u306e\u304c\u898b\u3084\u3059\u304f\u306a\u308b\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4f9d\u5b58\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u66f8\u304f\u3064\u3082\u308a\n#\u76ee\u7684\n\u4f8b\u3048\u3070\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u3001SQL\u767a\u884c\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3001\u3068\u304b\u9806\u5e8f\u3060\u3066\u3066\u3084\u3089\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u6642\u3001\u8907\u6570\u306e\u975e\u540c\u671f\u51e6\u7406\u3092\u30cd\u30b9\u30c8\u3057\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304b\u3089\u7f6e\u304d\u63db\u3048\u308b\n\n#\u74b0\u5883\nnode v4~(v4.3.2 or v5.0.0\u3067\u78ba\u8a8d)\n\n\n#\u30b3\u30fc\u30eb\u30d0\u30c3\u30af(\u66f8\u304d\u63db\u3048\u524d)\n\n```js:callback.js\nvar fs = require('fs');\n\nconsole.log('readFile ---- start.');\nfs.readFile('a.txt', function(err, data){\n\tconsole.log('readFile ---- a.txt data : '+data);\n\tfs.readFile('b.txt', function(err, data){\n\t\tconsole.log('readFile ---- b.txt data : '+data);\n\t\tfs.readFile('c.txt', function(err, data){\n\t\t\tconsole.log('readFile ---- c.txt data : '+data);\n\t\t});\n\t});\n});\n```\n\n```shell-session\n$ node callback.js\nreadFile ---- start.\nreadFile ---- a.txt data : a.txt\u306e\u5185\u5bb9\nreadFile ---- b.txt data : b.txt\u306e\u5185\u5bb9\nreadFile ---- c.txt data : c.txt\u306e\u5185\u5bb9\n```\n\n#Promise(\u66f8\u304d\u63db\u3048\u5f8c)\n\n```js:promise.js\n'use strict'\n\nconst fs = require('fs');\n\nnew Promise((resolve, reject)=>{\n\tconsole.log('Promise ---- start.');\n\tfs.readFile('a.txt', (err, data)=>{\n\t\t!err ? resolve(data) : reject(err);\n\t});\n}).then((result)=>{\n\tconsole.log('Promise ---- a.txt result : '+result);\n\treturn new Promise((resolve, reject)=>{\n\t\tfs.readFile('b.txt', (err, data)=>{\n\t\t\t!err ? resolve(data) : reject(err);\n\t\t});\n\t})\n}).then((result)=>{\n\tconsole.log('Promise ---- b.txt result : '+result);\n\treturn new Promise((resolve, reject)=>{\n\t\tfs.readFile('c.txt', (err, data)=>{\n\t\t\t!err ? resolve(data) : reject(err);\n\t\t});\n\t})\n}).then((result)=>{\n\tconsole.log('Promise ---- c.txt result : '+result);\n},(err, hoge)=>{\n\tconsole.log('Promise ---- err : '+err+' hoge:'+hoge);\n});\n\n```\n\n```shell-session\n$ node promise.js\nPromise ---- start.\nPromise ---- a.txt result : a.txt\u306e\u5185\u5bb9\nPromise ---- b.txt result : b.txt\u306e\u5185\u5bb9\nPromise ---- c.txt result : c.txt\u306e\u5185\u5bb9\n```\n\n\u5c64\u304c\u6df1\u304f\u306a\u308c\u3070\u306a\u308b\u307b\u3069Promise\u306e\u304c\u898b\u3084\u3059\u304f\u306a\u308b\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4f9d\u5b58\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u66f8\u304f\u3064\u3082\u308a\n", "tags": ["nodejs", "promise"]}