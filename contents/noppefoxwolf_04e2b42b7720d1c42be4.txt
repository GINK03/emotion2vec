{"context": " More than 1 year has passed since last update.\n\nRealm+ObjectMapper\u306e\u554f\u984c\u70b9\n\u305f\u3068\u3048\u3070A\u306eAPI\u3067\nUser[\n id:1\n name:\"miko\"\n is_my_cat: true\n]\n\n\u304c\u8fd4\u3063\u3066\u304d\u3066\u3001B\u306eAPI\u3067\nUser[\n id:1\n name:\"miko\"\n]\n\n\u304c\u8fd4\u3063\u3066\u304f\u308b\u3068\u3057\u307e\u3059\u3002\n\u30af\u30e9\u30b9\u306f\u666e\u901a\u306b\u4ee5\u4e0b\u306e\u7528\u306b\u5b9f\u88c5\u3057\u307e\u3059\u3002\nimport Foundation\nimport ObjectMapper\nimport RealmSwift\n\nfinal class Cat:Object,Mappable{\n  required convenience init?(_ map: Map) {\n    self.init()\n    mapping(map)\n  }\n  func mapping(map: Map) {\n    id <- map[\"id\"]\n    name <- map[\"name\"]\n    isMyCat <- map[\"is_my_cat\"]\n  }\n  dynamic var id:Int = 0\n  dynamic var name:String = \"\"\n  dynamic var isMyCat:Bool = false\n  override class func primaryKey() -> String {\n    return \"id\"\n  }\n}\n\n\u3053\u306e\u6642\u306b\u3001A\u306eAPI\u3067\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u3066Realm\u3067\u4fdd\u5b58\u3057\u305f\u5f8c\u306bB\u3067\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u3066Realm\u306b\u4fdd\u5b58\u3059\u308b\u3068\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b\u2026\uff1f\nB\u306eAPI\u306b\u306fis_my_cat\u304c\u7121\u3044\u70ba\u3001\u30de\u30c3\u30d4\u30f3\u30b0\u6642\u306bisMyCat\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u306f\u884c\u308f\u308c\u305a\u306b\u5ba3\u8a00\u6642\u306b\u6307\u5b9a\u3055\u308c\u305ffalse\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002\nA\u3068B\u306eAPI\u3092\u540c\u3058\u30e2\u30c7\u30eb\u3067\u7ba1\u7406\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u5de5\u592b\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u89e3\u6c7a\u7b56\n\n  func loadLocalData(){\n    guard let primaryKey = objectSchema.primaryKeyProperty?.name else {return}\n    guard let primaryValue = valueForKey(primaryKey) else {return}\n    guard let object = try! Realm().dynamicObjectForPrimaryKey(objectSchema.className, key: primaryValue) else {return}\n    for property in objectSchema.properties {\n      let key   = property.name\n      let value = object.valueForKey(key)\n      setValue(value, forKey: key)\n    }\n  }\n\nloadLocalData()\u306f\u3001Realm\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u540c\u3058\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3066\u5168\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u9069\u7528\u3055\u305b\u308b\u95a2\u6570\u3067\u3059\u3002\n\u3053\u308c\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u306e\u524d\u306b\u547c\u3076\u3053\u3068\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u521d\u671f\u5024\u3092\u540c\u4e00\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u5024\u306e\u5024\u3067\u4e0a\u66f8\u304d\u3055\u305b\u3066ObjectMapper\u304c\u9069\u7528\u3055\u308c\u306a\u304b\u3063\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5024\u3092\u6700\u65b0\u306e\u72b6\u614b\u306b\u4fdd\u3064\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306fobjectSchema\u7b49\u306e\u30af\u30e9\u30b9\u4f9d\u5b58\u306e\u7121\u3044\u5f62\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u70ba\u3001Object\u3092\u7d99\u627f\u3055\u305b\u305fBaseObject\u7b49\u306b\u5b9f\u88c5\u3059\u308c\u3070\u3069\u306eRealm\u306eObject\u304b\u3089\u3082\nsuper.loadLocalData()\u3067\u9069\u7528\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nsuper.loadLocalData()\u306fmapping\u95a2\u6570\u306e\u5148\u982d\u3067\u547c\u3076\u3068\u826f\u3044\u3067\u3059\u3002\uff08init\u306b\u66f8\u3044\u3066\u3082\u968e\u5c64\u30de\u30c3\u30d4\u30f3\u30b0\u306e\u6642\u306b\u306f\u547c\u3070\u308c\u306a\u3044\u3053\u3068\u304c\u3042\u308b\uff09\n#Realm+ObjectMapper\u306e\u554f\u984c\u70b9\n\n\u305f\u3068\u3048\u3070A\u306eAPI\u3067\n\n```swift\nUser[\n id:1\n name:\"miko\"\n is_my_cat: true\n]\n```\n\n\u304c\u8fd4\u3063\u3066\u304d\u3066\u3001B\u306eAPI\u3067\n\n```swift\nUser[\n id:1\n name:\"miko\"\n]\n```\n\n\u304c\u8fd4\u3063\u3066\u304f\u308b\u3068\u3057\u307e\u3059\u3002\n\n\u30af\u30e9\u30b9\u306f\u666e\u901a\u306b\u4ee5\u4e0b\u306e\u7528\u306b\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n```swift\nimport Foundation\nimport ObjectMapper\nimport RealmSwift\n\nfinal class Cat:Object,Mappable{\n  required convenience init?(_ map: Map) {\n    self.init()\n    mapping(map)\n  }\n  func mapping(map: Map) {\n    id <- map[\"id\"]\n    name <- map[\"name\"]\n    isMyCat <- map[\"is_my_cat\"]\n  }\n  dynamic var id:Int = 0\n  dynamic var name:String = \"\"\n  dynamic var isMyCat:Bool = false\n  override class func primaryKey() -> String {\n    return \"id\"\n  }\n}\n```\n\n\u3053\u306e\u6642\u306b\u3001A\u306eAPI\u3067\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u3066Realm\u3067\u4fdd\u5b58\u3057\u305f\u5f8c\u306bB\u3067\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u3066Realm\u306b\u4fdd\u5b58\u3059\u308b\u3068\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b\u2026\uff1f\n\nB\u306eAPI\u306b\u306fis_my_cat\u304c\u7121\u3044\u70ba\u3001\u30de\u30c3\u30d4\u30f3\u30b0\u6642\u306bisMyCat\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u306f\u884c\u308f\u308c\u305a\u306b\u5ba3\u8a00\u6642\u306b\u6307\u5b9a\u3055\u308c\u305f**false**\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002\n\nA\u3068B\u306eAPI\u3092\u540c\u3058\u30e2\u30c7\u30eb\u3067\u7ba1\u7406\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u5de5\u592b\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n#\u89e3\u6c7a\u7b56\n\n```swift\n\n  func loadLocalData(){\n    guard let primaryKey = objectSchema.primaryKeyProperty?.name else {return}\n    guard let primaryValue = valueForKey(primaryKey) else {return}\n    guard let object = try! Realm().dynamicObjectForPrimaryKey(objectSchema.className, key: primaryValue) else {return}\n    for property in objectSchema.properties {\n      let key   = property.name\n      let value = object.valueForKey(key)\n      setValue(value, forKey: key)\n    }\n  }\n```\n\nloadLocalData()\u306f\u3001Realm\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u540c\u3058\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3066\u5168\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u9069\u7528\u3055\u305b\u308b\u95a2\u6570\u3067\u3059\u3002\n\n\u3053\u308c\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u306e\u524d\u306b\u547c\u3076\u3053\u3068\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u521d\u671f\u5024\u3092\u540c\u4e00\u30d7\u30e9\u30a4\u30de\u30ea\u30fc\u30ad\u30fc\u5024\u306e\u5024\u3067\u4e0a\u66f8\u304d\u3055\u305b\u3066ObjectMapper\u304c\u9069\u7528\u3055\u308c\u306a\u304b\u3063\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5024\u3092\u6700\u65b0\u306e\u72b6\u614b\u306b\u4fdd\u3064\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306fobjectSchema\u7b49\u306e\u30af\u30e9\u30b9\u4f9d\u5b58\u306e\u7121\u3044\u5f62\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u70ba\u3001Object\u3092\u7d99\u627f\u3055\u305b\u305fBaseObject\u7b49\u306b\u5b9f\u88c5\u3059\u308c\u3070\u3069\u306eRealm\u306eObject\u304b\u3089\u3082\nsuper.loadLocalData()\u3067\u9069\u7528\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nsuper.loadLocalData()\u306fmapping\u95a2\u6570\u306e\u5148\u982d\u3067\u547c\u3076\u3068\u826f\u3044\u3067\u3059\u3002\uff08init\u306b\u66f8\u3044\u3066\u3082\u968e\u5c64\u30de\u30c3\u30d4\u30f3\u30b0\u306e\u6642\u306b\u306f\u547c\u3070\u308c\u306a\u3044\u3053\u3068\u304c\u3042\u308b\uff09\n\n\n", "tags": ["Realm", "Swift", "ObjectMapper"]}