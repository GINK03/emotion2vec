{"context": " More than 1 year has passed since last update.\n\n\u4f55\u3053\u308c\uff1f\n\u7686\u3055\u3093\u3001\u304a\u306f\u3053\u3093\u3070\u3093\u3061\u306f\u3002\n\uff14\u6708\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\n\u65b0\u3057\u304f\u4f55\u304b\u3092\u59cb\u3081\u308b\u306b\u306f\u826f\u3044\u5b63\u7bc0\u3067\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3084\u308d\u3046\u3084\u308d\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u3067\u3042\u308d\u3046Elixir/Phoenix\u3001\u305d\u308d\u305d\u308d\u59cb\u3081\u307e\u3061\u3083\u3044\u307e\u3057\u3087\u3046\u3002\n\n\n\u3068\u3044\u3046\u8a18\u4e8b\u306b\u306a\u308a\u307e\u3059\u3001\u3054\u78ba\u8a8d\u4e0b\u3055\u3044\u3002\n\n\u606f\u3092\u5438\u3046\u3088\u3046\u306bDocker\u3067\u5165\u9580\u3057\u3061\u3083\u3044\u307e\u3057\u3087\u3046\n\u697d\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u901f\u3044\u3002\n\u56db\u306e\u4e94\u306e\u8a00\u308f\u305a\u306b\u307e\u305a\u306fdocker run\u3002\n\u3084\u308a\u65b9\u306fDocker\u306e\u30a4\u30e1\u30fc\u30b8\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u3063\u305f\u3093\u3067\u3001\u305d\u306ereadme\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/xtity/docker-centos7-elixir-phoenix\n\u5148\u7a0bDockerHub\u306b\u3082\u767b\u9332\u3057\u305f\u306e\u3067\u3001\u4e0a\u8a18\u306eRequirement\u306b\u3042\u308bboot2docker\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u4eba\u306f\u4e0b\u8a18\u3092\u5b9f\u884c\u3059\u308b\u3068Phoenix\u307e\u3067\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\uff08\u307e\u3060\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u306a\u3044\u4eba\u306f\u3001Requirement\u306e\u901a\u308a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\uff09\ndocker run -d -p 80:4000 --name phoenix -t xtity/docker-centos7-elixir-phoenix\n\n\u3067\u3001boot2docker ip \u3092\u53e9\u3044\u3066\u51fa\u305fIP\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u753b\u9762\u304c\u51fa\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u306d\u3001\u7c21\u5358\u3067\u3057\u3087\u3002\n\n\u5185\u5bb9\u7269\uff08Dockerfile\uff09\n\nCentOS 7\u7cfb\n\n\nen_US.UTF-8\n\n\n\u65e5\u672c\u8a9e\u3082\u6307\u5b9a\u53ef\n\n\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n\n\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\n\n\n\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\n\n\n#ENV LANG ja_JP.UTF-8\n#ENV LANGUAGE ja_JP:ja\n#ENV LC_ALL ja_JP.UTF-8\n\n\n\n\n\n\n\n\nErlang/OTP 17\u7cfb\nelixir 1.0.3\n\n\n\u4e0b\u8a18\u306e\u5024\u3067\u5909\u66f4\u53ef\n\n\nENV ELIXIR_VERSION 1.0.3\n\n\n\n\nPhoenix \u6700\u65b0\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\uff1asample\n\n\n\u4e0b\u8a18\u306e\u5024\u3067\u5909\u66f4\u53ef\n\n\nENV PHOENIX_APP_NAME sample\n\n\n\n\n\u30dd\u30fc\u30c8\uff1a4000\n\n\n\u4e0b\u8a18\u306e\u5024\u3067\u5909\u66f4\u53ef\n\n\nENV PHOENIX_APP_PORT 4000\n\ndocker run -p \u306e\u30dd\u30fc\u30c8\u3082\u5fd8\u308c\u305a\u306b\u5909\u66f4\n\n\n\n\nMIX_ENV\uff1aprod\n\n\ndev\u3082\u6307\u5b9a\u53ef\n\n\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n\n\n\nRUN yes | mix local.hex && yes | mix local.rebar && mix do deps.get && MIX_ENV=prod mix compile.protocols \nCMD [\"/bin/bash\", \"-c\", \"MIX_ENV=prod PORT=${PHOENIX_APP_PORT} elixir -pa _build/prod/consolidated -S mix phoenix.server\"]\n\n\n\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\n\n\n#RUN yes | mix local.hex && yes | mix local.rebar && mix do deps.get, compile\n#CMD [\"/bin/bash\", \"-c\", \"mix phoenix.server\"]\n\n\n\n\n\n\n\n\n\n\n\u305b\u3063\u304b\u304f\u306a\u3093\u3067\u30d9\u30f3\u30c1\u3082\u3068\u3063\u3066\u307f\u3088\u3046\u305a\n\u3053\u306e\u672c\u8aad\u3093\u3067\u66f8\u3044\u3066\u3042\u3063\u305f\u3060\u3051\u306a\u3093\u3067\u3059\u304c\u3001wrk\u3067\u30d9\u30f3\u30c1\u3067\u3082\u53d6\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nwrk -c15 -t15 -d60s http://(boot2docker ip\u3067\u51fa\u305fIP)/\n\n\u3068\u308a\u307e\u3001\uff11\uff15\u30b9\u30ec\u3067\uff11\u5206\u3002\n\u624b\u5143\u306e\uff11\uff10\u4e07\u5f8c\u534aMBP\u3060\u3068\u3053\u3093\u306a\u3093\u51fa\u307e\u3057\u305f\u3002\n\u3061\u306a\u3001Elixir Cookbook\u305d\u3053\u305d\u3053\u30aa\u30b9\u30b9\u30e1\u3067\u3059\u3002Mac\u7248Kindle\u3067\u691c\u7d22\u3057\u3066\u4f7f\u3063\u305f\u308a\u3059\u308b\u3068\u6357\u308a\u307e\u3059\u3002\nRunning 1m test @ http://192.168.59.103/\n  15 threads and 15 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    13.08ms   10.04ms  96.39ms   77.90%\n    Req/Sec    87.84     32.20   333.00     69.75%\n  78536 requests in 1.00m, 158.41MB read\nRequests/sec:   1308.79\nTransfer/sec:      2.64MB\n\n\u624b\u5143\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u7acb\u3063\u3066\u308b\u30e4\u30c4\u306a\u306e\u306b\u3001\u79d2\u95931300\u4ee5\u4e0a\u634c\u3051\u3066\u307e\u3059\u306d\u3002\nElixir/Phoenix\u3001\u6050\u308d\u3057\u3044\u5b50...\n\u56e0\u307f\u306b\u4e00\u676f\u30ed\u30b0\u51fa\u3061\u3083\u3044\u307e\u3059\u304c\u3001docker logs phoenix \u3059\u308b\u3068\u697d\u3057\u3044\u3067\u3059\u3002\n\u6570\u767e\u03bcs\u3067\u8fd4\u3063\u3066\u304d\u3066\u305f\u308a\u3059\u308b\u306e\u304c\u898b\u308c\u305f\u308a\u3057\u307e\u3059\u3002\n\u3088\u3046\u3053\u305d\u3001\u30de\u30a4\u30af\u30ed\u79d2\u306e\u4e16\u754c\u3078\n\n\u305d\u306e\u5f8c\u306e\u5165\u9580\n\u4e0a\u8a18\u306e\u516c\u5f0f\u3092\u898b\u308d\u3001\u4ee5\u4e0a\uff01\u3060\u3068\u6d41\u77f3\u306b\u30de\u30c3\u30c1\u30e7\u904e\u304e\u308b\u306e\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u65e5\u672c\u8a9e\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u898b\u306a\u304c\u3089\u3001docker exec -it phoenix bash \u3057\u305f\u5f8c\u8272\u3005\u30bd\u30fc\u30b9\u3092\u5f04\u3063\u3066\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u5f04\u3063\u3066\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3068\u304b\u304c\u308f\u308a\u3068\u901f\u7fd2\u306a\u6c17\u304c\u3057\u305f\u308a\u3001\u3057\u306a\u304b\u3063\u305f\u308a\u3002\n\nElixir\n\n\nhttps://github.com/niku/elixir-lang.github.com/tree/translate-into-japanese/getting_started\n\n\nPhoenix\n\n\nhttp://qiita.com/niku/items/b54fdc9ca3c027f95fc7\n\n\n\n\u52ff\u8ad6Docker\u3067iex\u3082\u30a4\u30f3\u30b9\u30b3\u6e08\u307f\u306a\u306e\u3067\u3001\u30b3\u30f3\u30c6\u30ca\u306e\u4e2d\u3067\u5927\u62b5\u306e\u4e8b\u306f\u51fa\u6765\u308b\u3067\u3057\u3087\u3046\u3002\n\n\u6b21\u56de\u4e88\u544a\n\u5165\u9580\u3057\u305f\u5f8c\u5fc5\u8981\u306a\u306e\u306f\u3001\u305d\u3046deploy\u3068\u3001CI\u3067\u3059\u306d\uff1f\uff08\u591a\u5206\ndeploy\u65b9\u6cd5\u306f\u3001mix release\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u3053\u306e\u524d\u6295\u3052\u305f\u62d9\u30d7\u30eb\u30ea\u30af\u3082\u7121\u4e8b\u30de\u30fc\u30b8\u3055\u308c\u305f\u3088\u3046\u306a\u306e\u3067\u3001\n\u4eca\u306a\u3089\u6700\u65b0\u306ephoenix\u3092clone\u3057\u3066\u304f\u308c\u3070\u3001mix release\u3067\u30d3\u30eb\u30c9\u3067\u304d\u308b\u306f\u305a\u3067\u3059b\nCI\u306f\u3001\u305b\u3063\u304b\u304fDocker\u3067\u5165\u9580\u3057\u305f\u306e\u3060\u304b\u3089\uff08\uff1f\uff09\u3001drone.io\u3067\u3084\u3063\u3066\u307f\u3088\u3046\u304b\u306a\u3068\u307c\u3093\u3084\u308a\u601d\u3063\u3066\u307e\u3059\u3002\n\n\u7d42\u308f\u308a\u306b\nElixir\u3001Phoenix\u71b1\u3044\u3067\u3059\u306d\u3002\n\u3053\u3093\u306a\u3064\u3076\u3084\u304d\u3082\u3042\u308b\u304f\u3089\u3044\u3067\u3059\u3002\n\n\u8ab0\u306a\u3093\u3067\u3057\u3087\u3046\u304b\u3001\u71b1\u3044\u3067\u3059\u306d\u3002\nElixir\u306f\u6700\u8fd1v1.0.3\u304c\u51fa\u3066\u3001Phoenix\u3082v0.10.0\u304c\u51fa\u307e\u3057\u305f\u3002\nElixir\u306e\u4e2d\u306e\u4eba\u3082Phoenix\u306b\u4e26\u3005\u306a\u3089\u306c\u60c5\u71b1\u3092\u62b1\u3044\u3066\u3044\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\u30d7\u30eb\u30ea\u30af\u51fa\u3057\u305f\u3089\u901f\u653b\u8fd4\u4e8b\u304d\u307e\u3059\u3088\u3001\u308f\u308a\u3068\uff08\u4f53\u9a13\u8ac7\uff09\u3002\n\u306a\u3093\u3067\u3001\u4eca\u306f\u7d50\u69cb\u4e01\u5ea6\u3044\u3044\u5165\u9580\u6642\u671f\u304b\u306a\u3068\u601d\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u7686\u3055\u3093\u3001\u662f\u975e\u662f\u975e\u826f\u3044Elixir/Phoenix\u30e9\u30a4\u30d5\u3092\u30ce\u30b7\n\n\u8ffd\u8a18\n\u7d50\u69cb\u53cd\u97ff\u304c\u5927\u304d\u304b\u3063\u305f\u3088\u3046\u3067\u3001\u901f\u653b\u30ec\u30b9\u304c\u3042\u3063\u305f\u3088\u3046\u306a\u6c17\u914d\u3092\u30ad\u30e3\u30c3\u30c1\u3057\u307e\u3057\u305f\u3002\n\u306a\u306b\u3088\u308a\u3067\u3059\u3002\n\u4ee5\u4e0b\u306b\u30b3\u30f3\u30c6\u30ca\u4e0a\u306ePhoenix\u3067\u306f\u306a\u304f\u3001MBP\u4e0a\u3067\u76f4\u306b\u52d5\u304b\u3057\u305fPhoenix\u306e\u30d9\u30f3\u30c1\u3082\u53c2\u8003\u3068\u3057\u3066\u306e\u305b\u3066\u304a\u304d\u307e\u3059\u30ce\u30b7\nRunning 1m test @ http://localhost:4000\n  15 threads and 15 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency     5.88ms    3.56ms  32.26ms   63.70%\n    Req/Sec   210.03     90.81   578.00     61.01%\n  184000 requests in 1.00m, 371.12MB read\nRequests/sec:   3066.63\nTransfer/sec:      6.19MB\n\n\u4e0a\u8a18\u306eCookbook\u306b\u8f09\u3063\u3066\u308b\u540c\u69d8\u306e\u30d9\u30f3\u30c1\u304c\u79d2\uff13\uff17\uff10\uff10\u304f\u3089\u3044\u306a\u3093\u3067\u3001\u307e\u3042\u3053\u3093\u306a\u3082\u3093\u3067\u3057\u3087\u3046\u3002\u6d41\u77f3\u306bVM\u4e0a\u3067\u52d5\u304b\u3059\u3068\u3053\u306e\u6570\u5b57\u306f\u7121\u7406\u30b2\u30fc\u3067\u3059\u3002\n\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u307e\u305b\u30fc\u3002\n\n\u8ffd\u8a18 \u305d\u306e\uff12\n\u53bb\u5e74\u4f5c\u3063\u305fRails\u306eDockerfile\u304c\u3053\u3044\u3064\u306e\u305b\u3044\u3067\u52d5\u304b\u306a\u304f\u306a\u3063\u3066\u305f\u306e\u3092\u76f4\u3057\u305f\u3064\u3044\u3067\u306b\u3001Ruby on Rails\u3092Docker\u4e0a\u3067\u8d70\u3089\u305b\u305f\u6642\u306e\u30d9\u30f3\u30c1\u3082\u53d6\u308a\u307e\u3057\u305f\u3002\n\u305b\u3063\u304b\u304f\u306a\u3093\u3067\u305d\u306e\u7d50\u679c\u3082\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\n\u56e0\u307f\u306b\u3001\u305d\u306eRails\u306e\u74b0\u5883\u306f\u4e0b\u8a18\u306eDockerfile\u3067\u69cb\u7bc9\u3057\u305f\u3082\u306e\u3067\u3059\u3002\nhttps://github.com/xtity/hello-docker-rails\n\u74b0\u5883\u5909\u6570\u7b49\u306e\u8a2d\u5b9a\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\n\nnet.core.somaxconn\uff1a1024\n\nRAILS_ENV\uff1aproduction\nTop\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3001rails generate controller welcome index\u3067\u8ffd\u52a0\u3057\u305f\u30da\u30fc\u30b8\u3092\u8fd4\u3059\u3088\u3046\u306broutes.rb\u3092\u8a2d\u5b9a\n\n\u4ee5\u4e0b\u3001\u30d9\u30f3\u30c1\u7d50\u679c\u3002\nRunning 1m test @ http://192.168.59.103/\n  15 threads and 15 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    86.21ms   16.54ms 285.79ms   79.97%\n    Req/Sec    11.40      2.56    18.00     73.61%\n  10644 requests in 1.00m, 13.37MB read\nRequests/sec:    177.34\nTransfer/sec:    228.08KB\n\n\u540c\u3058Docker\u4e0a\u3067Elixir on Phoenix\u304c\u79d21308.79\u3060\u3063\u305f\u306e\u3067\u3001Ruby on Rails\u3068\u6bd4\u3079\u3066\u3001\u7d047.4\u500d\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u304c\u51fa\u3066\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u306d\u3002\u306a\u304b\u306a\u304b\u3084\u3063\u3066\u304f\u308c\u307e\u3059\uff42\n## \u4f55\u3053\u308c\uff1f\n\u7686\u3055\u3093\u3001\u304a\u306f\u3053\u3093\u3070\u3093\u3061\u306f\u3002\n\n\uff14\u6708\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\n\u65b0\u3057\u304f\u4f55\u304b\u3092\u59cb\u3081\u308b\u306b\u306f\u826f\u3044\u5b63\u7bc0\u3067\u3059\u3002\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3084\u308d\u3046\u3084\u308d\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u3067\u3042\u308d\u3046[Elixir](http://elixir-lang.org/)/[Phoenix](phoenixframework.org)\u3001\u305d\u308d\u305d\u308d\u59cb\u3081\u307e\u3061\u3083\u3044\u307e\u3057\u3087\u3046\u3002\n![elixir-logo.png](https://qiita-image-store.s3.amazonaws.com/0/20725/c2635f1c-aae2-252d-6644-faa55a744253.png)\n\n\n![phoenixframework-logo.png](https://qiita-image-store.s3.amazonaws.com/0/20725/06ed9435-5dfe-6bc6-4dc3-af0ea182a323.png)\n\n\u3068\u3044\u3046\u8a18\u4e8b\u306b\u306a\u308a\u307e\u3059\u3001\u3054\u78ba\u8a8d\u4e0b\u3055\u3044\u3002\n\n## \u606f\u3092\u5438\u3046\u3088\u3046\u306bDocker\u3067\u5165\u9580\u3057\u3061\u3083\u3044\u307e\u3057\u3087\u3046\n\u697d\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u901f\u3044\u3002\n\u56db\u306e\u4e94\u306e\u8a00\u308f\u305a\u306b\u307e\u305a\u306fdocker run\u3002\n\n\u3084\u308a\u65b9\u306fDocker\u306e\u30a4\u30e1\u30fc\u30b8\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u3063\u305f\u3093\u3067\u3001\u305d\u306ereadme\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\nhttps://github.com/xtity/docker-centos7-elixir-phoenix\n\n\u5148\u7a0bDockerHub\u306b\u3082\u767b\u9332\u3057\u305f\u306e\u3067\u3001\u4e0a\u8a18\u306eRequirement\u306b\u3042\u308bboot2docker\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u4eba\u306f\u4e0b\u8a18\u3092\u5b9f\u884c\u3059\u308b\u3068Phoenix\u307e\u3067\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\uff08\u307e\u3060\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u306a\u3044\u4eba\u306f\u3001Requirement\u306e\u901a\u308a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\uff09\n\n``` bash\ndocker run -d -p 80:4000 --name phoenix -t xtity/docker-centos7-elixir-phoenix\n```\n\n\u3067\u3001``` boot2docker ip ``` \u3092\u53e9\u3044\u3066\u51fa\u305fIP\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u753b\u9762\u304c\u51fa\u308b\u306f\u305a\u3067\u3059\u3002\n\n![phoenix-home.png](https://qiita-image-store.s3.amazonaws.com/0/20725/49cdaa88-b66a-a5ce-3d03-03df8342ff7c.png)\n\n\u306d\u3001\u7c21\u5358\u3067\u3057\u3087\u3002\n\n## \u5185\u5bb9\u7269\uff08Dockerfile\uff09\n* CentOS 7\u7cfb\n    * en_US.UTF-8\n        * \u65e5\u672c\u8a9e\u3082\u6307\u5b9a\u53ef\n            * \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n                * ``` ENV LANG en_US.UTF-8 ```\n                * ``` ENV LANGUAGE en_US:en ```\n                * ``` ENV LC_ALL en_US.UTF-8 ```\n            * \u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\n                * ``` #ENV LANG ja_JP.UTF-8 ```\n                * ``` #ENV LANGUAGE ja_JP:ja ```\n                * ``` #ENV LC_ALL ja_JP.UTF-8 ```\n* Erlang/OTP 17\u7cfb\n* elixir 1.0.3\n    * \u4e0b\u8a18\u306e\u5024\u3067\u5909\u66f4\u53ef\n        * ``` ENV ELIXIR_VERSION 1.0.3 ```\n* Phoenix \u6700\u65b0\n    * \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\uff1asample\n        * \u4e0b\u8a18\u306e\u5024\u3067\u5909\u66f4\u53ef\n            * ``` ENV PHOENIX_APP_NAME sample ```\n    * \u30dd\u30fc\u30c8\uff1a4000\n        * \u4e0b\u8a18\u306e\u5024\u3067\u5909\u66f4\u53ef\n            * ``` ENV PHOENIX_APP_PORT 4000 ```\n            * ``` docker run -p ``` \u306e\u30dd\u30fc\u30c8\u3082\u5fd8\u308c\u305a\u306b\u5909\u66f4\n    * MIX_ENV\uff1aprod\n        * dev\u3082\u6307\u5b9a\u53ef\n            * \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n                * ``` RUN yes | mix local.hex && yes | mix local.rebar && mix do deps.get && MIX_ENV=prod mix compile.protocols ``` \n                * ``` CMD [\"/bin/bash\", \"-c\", \"MIX_ENV=prod PORT=${PHOENIX_APP_PORT} elixir -pa _build/prod/consolidated -S mix phoenix.server\"] ```\n            * \u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\n                * #RUN yes | mix local.hex && yes | mix local.rebar && mix do deps.get, compile\n                * #CMD [\"/bin/bash\", \"-c\", \"mix phoenix.server\"]\n\n## \u305b\u3063\u304b\u304f\u306a\u3093\u3067\u30d9\u30f3\u30c1\u3082\u3068\u3063\u3066\u307f\u3088\u3046\u305a\n[\u3053\u306e\u672c](http://www.amazon.com/Elixir-Cookbook-Paulo-A-Pereira/dp/1784397512)\u8aad\u3093\u3067\u66f8\u3044\u3066\u3042\u3063\u305f\u3060\u3051\u306a\u3093\u3067\u3059\u304c\u3001[wrk](https://github.com/wg/wrk)\u3067\u30d9\u30f3\u30c1\u3067\u3082\u53d6\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n``` bash\nwrk -c15 -t15 -d60s http://(boot2docker ip\u3067\u51fa\u305fIP)/\n```\n\n\u3068\u308a\u307e\u3001\uff11\uff15\u30b9\u30ec\u3067\uff11\u5206\u3002\n\u624b\u5143\u306e\uff11\uff10\u4e07\u5f8c\u534aMBP\u3060\u3068\u3053\u3093\u306a\u3093\u51fa\u307e\u3057\u305f\u3002\n\n\u3061\u306a\u3001Elixir Cookbook\u305d\u3053\u305d\u3053\u30aa\u30b9\u30b9\u30e1\u3067\u3059\u3002Mac\u7248Kindle\u3067\u691c\u7d22\u3057\u3066\u4f7f\u3063\u305f\u308a\u3059\u308b\u3068\u6357\u308a\u307e\u3059\u3002\n\n``` bash\nRunning 1m test @ http://192.168.59.103/\n  15 threads and 15 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    13.08ms   10.04ms  96.39ms   77.90%\n    Req/Sec    87.84     32.20   333.00     69.75%\n  78536 requests in 1.00m, 158.41MB read\nRequests/sec:   1308.79\nTransfer/sec:      2.64MB\n```\n\n\u624b\u5143\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u7acb\u3063\u3066\u308b\u30e4\u30c4\u306a\u306e\u306b\u3001\u79d2\u95931300\u4ee5\u4e0a\u634c\u3051\u3066\u307e\u3059\u306d\u3002\nElixir/Phoenix\u3001\u6050\u308d\u3057\u3044\u5b50...\n\n\u56e0\u307f\u306b\u4e00\u676f\u30ed\u30b0\u51fa\u3061\u3083\u3044\u307e\u3059\u304c\u3001``` docker logs phoenix ``` \u3059\u308b\u3068\u697d\u3057\u3044\u3067\u3059\u3002\n\u6570\u767e\u03bcs\u3067\u8fd4\u3063\u3066\u304d\u3066\u305f\u308a\u3059\u308b\u306e\u304c\u898b\u308c\u305f\u308a\u3057\u307e\u3059\u3002\n\n**\u3088\u3046\u3053\u305d\u3001\u30de\u30a4\u30af\u30ed\u79d2\u306e\u4e16\u754c\u3078**\n\n\n## \u305d\u306e\u5f8c\u306e\u5165\u9580\n\u4e0a\u8a18\u306e\u516c\u5f0f\u3092\u898b\u308d\u3001\u4ee5\u4e0a\uff01\u3060\u3068\u6d41\u77f3\u306b\u30de\u30c3\u30c1\u30e7\u904e\u304e\u308b\u306e\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u65e5\u672c\u8a9e\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u898b\u306a\u304c\u3089\u3001``` docker exec -it phoenix bash ``` \u3057\u305f\u5f8c\u8272\u3005\u30bd\u30fc\u30b9\u3092\u5f04\u3063\u3066\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u5f04\u3063\u3066\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3068\u304b\u304c\u308f\u308a\u3068\u901f\u7fd2\u306a\u6c17\u304c\u3057\u305f\u308a\u3001\u3057\u306a\u304b\u3063\u305f\u308a\u3002\n\n* Elixir\n    * https://github.com/niku/elixir-lang.github.com/tree/translate-into-japanese/getting_started\n* Phoenix\n    * http://qiita.com/niku/items/b54fdc9ca3c027f95fc7\n\n\u52ff\u8ad6Docker\u3067iex\u3082\u30a4\u30f3\u30b9\u30b3\u6e08\u307f\u306a\u306e\u3067\u3001\u30b3\u30f3\u30c6\u30ca\u306e\u4e2d\u3067\u5927\u62b5\u306e\u4e8b\u306f\u51fa\u6765\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n## \u6b21\u56de\u4e88\u544a\n\u5165\u9580\u3057\u305f\u5f8c\u5fc5\u8981\u306a\u306e\u306f\u3001\u305d\u3046``` deploy ```\u3068\u3001``` CI ```\u3067\u3059\u306d\uff1f\uff08\u591a\u5206\n\ndeploy\u65b9\u6cd5\u306f\u3001``` mix release ```\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u524d\u6295\u3052\u305f[\u62d9\u30d7\u30eb\u30ea\u30af](https://github.com/phoenixframework/phoenix/pull/730)\u3082\u7121\u4e8b\u30de\u30fc\u30b8\u3055\u308c\u305f\u3088\u3046\u306a\u306e\u3067\u3001\n\u4eca\u306a\u3089\u6700\u65b0\u306ephoenix\u3092clone\u3057\u3066\u304f\u308c\u3070\u3001``` mix release ```\u3067\u30d3\u30eb\u30c9\u3067\u304d\u308b\u306f\u305a\u3067\u3059b\n\nCI\u306f\u3001\u305b\u3063\u304b\u304fDocker\u3067\u5165\u9580\u3057\u305f\u306e\u3060\u304b\u3089\uff08\uff1f\uff09\u3001[drone.io](https://drone.io/)\u3067\u3084\u3063\u3066\u307f\u3088\u3046\u304b\u306a\u3068\u307c\u3093\u3084\u308a\u601d\u3063\u3066\u307e\u3059\u3002\n\n## \u7d42\u308f\u308a\u306b\nElixir\u3001Phoenix\u71b1\u3044\u3067\u3059\u306d\u3002\n\n\u3053\u3093\u306a\u3064\u3076\u3084\u304d\u3082\u3042\u308b\u304f\u3089\u3044\u3067\u3059\u3002\n\n<blockquote class=\"twitter-tweet\" lang=\"ja\"><p>\u8aad\u3093\u3060\u3002\u4f55\u6545Ruby on Rails, Scala on Play\u304b\u3089\u96e2\u308c\u308b\u306e\u304b\u3002\u305d\u308c\u306f\u6642\u9593\u3068\u3044\u3046\u4fa1\u5024\u3042\u308b\u3082\u306e\u306e\u305f\u3081\u3060\u3057\u3001\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306e\u6bce\u65e5\u306e\u30cf\u30fc\u30c9\u30ef\u30fc\u30af\u306e\u6709\u7121\u306e\u305f\u3081\u3060\u3068\u3002Web\u958b\u767a\u306b\u304a\u3051\u308b\u6b21\u306e\uff11\uff10\u5e74\u306e\u30d1\u30e9\u30c0\u30a4\u30e0\u304b\u3002\u71b1\u3044\u308f QT <a href=\"https://t.co/4KHEa0j951\">https://t.co/4KHEa0j951</a></p>&mdash; kousuke_sima (@kousuke_sima) <a href=\"https://twitter.com/kousuke_sima/status/572048276096077824\">2015, 3\u6708 1</a></blockquote>\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n\u8ab0\u306a\u3093\u3067\u3057\u3087\u3046\u304b\u3001\u71b1\u3044\u3067\u3059\u306d\u3002\n\nElixir\u306f\u6700\u8fd1v1.0.3\u304c\u51fa\u3066\u3001Phoenix\u3082v0.10.0\u304c\u51fa\u307e\u3057\u305f\u3002\nElixir\u306e\u4e2d\u306e\u4eba\u3082Phoenix\u306b\u4e26\u3005\u306a\u3089\u306c\u60c5\u71b1\u3092\u62b1\u3044\u3066\u3044\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\u30d7\u30eb\u30ea\u30af\u51fa\u3057\u305f\u3089\u901f\u653b\u8fd4\u4e8b\u304d\u307e\u3059\u3088\u3001\u308f\u308a\u3068\uff08\u4f53\u9a13\u8ac7\uff09\u3002\n\n\u306a\u3093\u3067\u3001\u4eca\u306f\u7d50\u69cb\u4e01\u5ea6\u3044\u3044\u5165\u9580\u6642\u671f\u304b\u306a\u3068\u601d\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\n\u305d\u308c\u3067\u306f\u7686\u3055\u3093\u3001\u662f\u975e\u662f\u975e\u826f\u3044Elixir/Phoenix\u30e9\u30a4\u30d5\u3092\u30ce\u30b7\n\n\n## \u8ffd\u8a18\n\u7d50\u69cb\u53cd\u97ff\u304c\u5927\u304d\u304b\u3063\u305f\u3088\u3046\u3067\u3001\u901f\u653b\u30ec\u30b9\u304c\u3042\u3063\u305f\u3088\u3046\u306a\u6c17\u914d\u3092\u30ad\u30e3\u30c3\u30c1\u3057\u307e\u3057\u305f\u3002\n\u306a\u306b\u3088\u308a\u3067\u3059\u3002\n\n\u4ee5\u4e0b\u306b\u30b3\u30f3\u30c6\u30ca\u4e0a\u306ePhoenix\u3067\u306f\u306a\u304f\u3001MBP\u4e0a\u3067\u76f4\u306b\u52d5\u304b\u3057\u305fPhoenix\u306e\u30d9\u30f3\u30c1\u3082\u53c2\u8003\u3068\u3057\u3066\u306e\u305b\u3066\u304a\u304d\u307e\u3059\u30ce\u30b7\n\n``` bash\nRunning 1m test @ http://localhost:4000\n  15 threads and 15 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency     5.88ms    3.56ms  32.26ms   63.70%\n    Req/Sec   210.03     90.81   578.00     61.01%\n  184000 requests in 1.00m, 371.12MB read\nRequests/sec:   3066.63\nTransfer/sec:      6.19MB\n```\n\n\u4e0a\u8a18\u306eCookbook\u306b\u8f09\u3063\u3066\u308b\u540c\u69d8\u306e\u30d9\u30f3\u30c1\u304c\u79d2\uff13\uff17\uff10\uff10\u304f\u3089\u3044\u306a\u3093\u3067\u3001\u307e\u3042\u3053\u3093\u306a\u3082\u3093\u3067\u3057\u3087\u3046\u3002\u6d41\u77f3\u306bVM\u4e0a\u3067\u52d5\u304b\u3059\u3068\u3053\u306e\u6570\u5b57\u306f\u7121\u7406\u30b2\u30fc\u3067\u3059\u3002\n\n\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u307e\u305b\u30fc\u3002\n\n\n## \u8ffd\u8a18 \u305d\u306e\uff12\n\u53bb\u5e74\u4f5c\u3063\u305fRails\u306eDockerfile\u304c[\u3053\u3044\u3064](http://t.co/ZywPwO05LP)\u306e\u305b\u3044\u3067\u52d5\u304b\u306a\u304f\u306a\u3063\u3066\u305f\u306e\u3092\u76f4\u3057\u305f\u3064\u3044\u3067\u306b\u3001Ruby on Rails\u3092Docker\u4e0a\u3067\u8d70\u3089\u305b\u305f\u6642\u306e\u30d9\u30f3\u30c1\u3082\u53d6\u308a\u307e\u3057\u305f\u3002\n\n\u305b\u3063\u304b\u304f\u306a\u3093\u3067\u305d\u306e\u7d50\u679c\u3082\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u56e0\u307f\u306b\u3001\u305d\u306eRails\u306e\u74b0\u5883\u306f\u4e0b\u8a18\u306eDockerfile\u3067\u69cb\u7bc9\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\nhttps://github.com/xtity/hello-docker-rails\n\n\u74b0\u5883\u5909\u6570\u7b49\u306e\u8a2d\u5b9a\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\n* ``` net.core.somaxconn```\uff1a1024\n* ``` RAILS_ENV```\uff1aproduction\n* Top\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3001``` rails generate controller welcome index ```\u3067\u8ffd\u52a0\u3057\u305f\u30da\u30fc\u30b8\u3092\u8fd4\u3059\u3088\u3046\u306b``` routes.rb ```\u3092\u8a2d\u5b9a\n\n\u4ee5\u4e0b\u3001\u30d9\u30f3\u30c1\u7d50\u679c\u3002\n\n``` bash\nRunning 1m test @ http://192.168.59.103/\n  15 threads and 15 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    86.21ms   16.54ms 285.79ms   79.97%\n    Req/Sec    11.40      2.56    18.00     73.61%\n  10644 requests in 1.00m, 13.37MB read\nRequests/sec:    177.34\nTransfer/sec:    228.08KB\n```\n\n\u540c\u3058Docker\u4e0a\u3067Elixir on Phoenix\u304c\u79d21308.79\u3060\u3063\u305f\u306e\u3067\u3001Ruby on Rails\u3068\u6bd4\u3079\u3066\u3001__\u7d047.4\u500d__\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u304c\u51fa\u3066\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u306d\u3002\u306a\u304b\u306a\u304b\u3084\u3063\u3066\u304f\u308c\u307e\u3059\uff42\n", "tags": ["CentOS7", "Elixir", "Phoenix", "Erlang"]}