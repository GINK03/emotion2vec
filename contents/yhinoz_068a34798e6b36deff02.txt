{"context": " More than 1 year has passed since last update.\u3056\u3063\u3068\u3001\u3053\u3093\u306a\u611f\u3058\uff1f\u3068\u3044\u3046\u306e\u3092\u30e1\u30e2\u3002\n\u30bd\u30fc\u30b9\u3092\u898b\u305f\u611f\u3058\u3001key_from \u3068 key_to \u3092\u914d\u5217\u306b\u3059\u308c\u3070\u826f\u3044\u3063\u307d\u3044\u3002\n\u203b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u3069\u3063\u304b\u306b\u66f8\u3044\u3066\u3042\u308b\u304b\u3082\n\n\u30e2\u30c7\u30eb\u305f\u3061\n<?php\nclass Model_Parent extends \\Orm\\Model\n{\n    protected static $_properties = array(\n        'id',\n        'name',\n    );\n\n    protected static $_has_many = array(\n        'child' => array(\n            'key_from' => 'id',\n            'model_to' => 'Model_Child',\n            'key_to' => 'pid',\n            'cascade_save' => true,\n            'cascade_delete' => true,\n        ),\n    );\n}\n\nclass Model_Child extends \\Orm\\Model\n{\n    protected static $_properties = array(\n        'id',\n        'pid',\n        'name',\n    );\n\n    protected static $_has_many = array(\n        'grandchild' => array(\n            'key_from' => array('id', 'pid'),\n            'model_to' => 'Model_GrandChild',\n            'key_to' => array('cid', 'pid'),\n            'cascade_save' => true,\n            'cascade_delete' => true,\n        ),\n    );\n}\n\nclass Model_GrandChild extends \\Orm\\Model\n{\n    protected static $_properties = array(\n        'id',\n        'cid',\n        'pid',\n        'name',\n    );\n}\n\n\n\nsave\u3059\u308b\u3068\u304d\u306f\u3001\u5b6b\u3092\u5b50\u306b\u3001\u5b50\u3092\u89aa\u306b\u30bb\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\nsave\u3059\u308b\n<?php\n$grandchild = Model_GrandChild::forge();\n\n$child = Model_Child::forge();\n$child->grandchild[] = $grandchild;\n\n$parent = Model_Parent::forge();\n$parent->child[] = $child;\n\n$parent->save();\n\n\n\n\n\u3056\u3063\u3068\u3001\u3053\u3093\u306a\u611f\u3058\uff1f\u3068\u3044\u3046\u306e\u3092\u30e1\u30e2\u3002\n\u30bd\u30fc\u30b9\u3092\u898b\u305f\u611f\u3058\u3001key_from \u3068 key_to \u3092\u914d\u5217\u306b\u3059\u308c\u3070\u826f\u3044\u3063\u307d\u3044\u3002\n\u203b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u3069\u3063\u304b\u306b\u66f8\u3044\u3066\u3042\u308b\u304b\u3082\n\n```php:\u30e2\u30c7\u30eb\u305f\u3061\n<?php\nclass Model_Parent extends \\Orm\\Model\n{\n\tprotected static $_properties = array(\n\t\t'id',\n\t\t'name',\n\t);\n\n\tprotected static $_has_many = array(\n\t\t'child' => array(\n\t\t\t'key_from' => 'id',\n\t\t\t'model_to' => 'Model_Child',\n\t\t\t'key_to' => 'pid',\n\t\t\t'cascade_save' => true,\n\t\t\t'cascade_delete' => true,\n\t\t),\n\t);\n}\n\nclass Model_Child extends \\Orm\\Model\n{\n\tprotected static $_properties = array(\n\t\t'id',\n\t\t'pid',\n\t\t'name',\n\t);\n\n\tprotected static $_has_many = array(\n\t\t'grandchild' => array(\n\t\t\t'key_from' => array('id', 'pid'),\n\t\t\t'model_to' => 'Model_GrandChild',\n\t\t\t'key_to' => array('cid', 'pid'),\n\t\t\t'cascade_save' => true,\n\t\t\t'cascade_delete' => true,\n\t\t),\n\t);\n}\n\nclass Model_GrandChild extends \\Orm\\Model\n{\n\tprotected static $_properties = array(\n\t\t'id',\n\t\t'cid',\n\t\t'pid',\n\t\t'name',\n\t);\n}\n\n```\n\nsave\u3059\u308b\u3068\u304d\u306f\u3001\u5b6b\u3092\u5b50\u306b\u3001\u5b50\u3092\u89aa\u306b\u30bb\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n```php:save\u3059\u308b\n<?php\n$grandchild = Model_GrandChild::forge();\n\n$child = Model_Child::forge();\n$child->grandchild[] = $grandchild;\n\n$parent = Model_Parent::forge();\n$parent->child[] = $child;\n\n$parent->save();\n\n```\n", "tags": ["PHP", "FuelPHP"]}