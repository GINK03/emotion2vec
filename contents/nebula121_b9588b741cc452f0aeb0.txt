{"context": "\n\n\u305d\u306e6 \u51e1\u4f8b\u306e\u8868\u793a\nPyQtGraph\u306e\u51e1\u4f8b\u306f\u878d\u901a\u304c\u5229\u304b\u306a\u3044\u306e\u3067\u3042\u307e\u308a\u597d\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u80cc\u666f\u8272\u306a\u3069\u5909\u66f4\u3067\u304d\u306a\u304b\u3063\u305f\u306f\u305a\u3067\u3059\u3002\n\u2191\u30b3\u30e1\u30f3\u30c8\u3067\u3054\u6307\u6458\u9802\u304d\u307e\u3057\u305f\u3002\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc(pyqtgraph\\graphicsItems\\LegendItem.py)\u3092\u4fee\u6b63\u3059\u308b\u3053\u3068\u3067\u80cc\u666f\u8272\u306e\u5909\u66f4\u81ea\u4f53\u306f\u53ef\u80fd\u3068\u306e\u3053\u3068\u3067\u3059\u3002\u8a73\u7d30\u306f\u30b3\u30e1\u30f3\u30c8\u6b04\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\nimport sys\nfrom PySide.QtCore import *\nfrom PySide.QtGui import *\nimport pyqtgraph as pg\n\n\nclass GraphWindow(QMainWindow):\n\n    def __init__(self, parent = None):\n\n        super(GraphWindow, self).__init__(parent)\n\n        pw = pg.PlotWidget(viewBox = pg.ViewBox(border = pg.mkPen(color='#000000'),\n                                                invertX = False, invertY = False))\n\n        self.setCentralWidget(pw)\n\n        pw.setBackground(\"#FFFFFF00\")\n\n        pw.setMinimumSize(500, 400)\n        pw.setMaximumSize(500, 400)\n\n        p1 = pw.plotItem\n        p2 = pg.ViewBox()\n        p3 = pg.ViewBox()\n        ax3 = pg.AxisItem(orientation = 'right')\n        self.setGraphFrameFont(p1, p2, p3, ax3)\n        self.setGraphMultipleAxis(p1, p2, p3, ax3)\n\n        p1.setLabels(bottom = \"X Axis\uff08\u3048\u3063\u304f\u3059\u8ef8\uff09\", \n                     left = \"Y1 Axis\uff08\u308f\u30441\u8ef8\uff09\", \n                     right = \"Y2 Axis\uff08\u308f\u30442\u8ef8\uff09\")\n        ax3.setLabel(\"Y3 Axis\uff08\u308f\u30443\u8ef8\uff09\")\n\n        fontCss = {'font-family': \"Times New Roman, \u30e1\u30a4\u30ea\u30aa\", 'font-size': '10.5pt', \"color\": \"black\"}\n        p1.getAxis('bottom').setLabel(**fontCss)\n        fontCss[\"color\"] = \"red\"\n        p1.getAxis('left').setLabel(**fontCss)\n        fontCss[\"color\"] = \"blue\"\n        p1.getAxis('right').setLabel(**fontCss)\n        fontCss[\"color\"] = \"green\"\n        ax3.setLabel(**fontCss)\n\n        p1.setRange(xRange = (-2, 6), yRange = (-2, 6), padding = 0)\n        p2.setRange(yRange = (-1, 5), padding = 0)\n        p3.setRange(yRange = (0, 4), padding = 0)\n\n        p1.getAxis('bottom').setTickSpacing(major = 2.5, minor = 1)\n        p1.getAxis('left').setTickSpacing(major = 2.5, minor = 1)\n        p1.getAxis('right').setTickSpacing(major = 2.5, minor = 1)\n        ax3.setTickSpacing(major = 2.5, minor = 1)\n\n        p1.addItem(pg.PlotCurveItem(x = [0, 1, 2, 3 ,4], \n                                    y = [0, 1, 2, 3 ,4], \n                                    pen = pg.mkPen(color = \"r\", style = Qt.SolidLine), \n                                    name = \"plot1\", \n                                    antialias = True))\n        p2.addItem(pg.ScatterPlotItem(x = [0, 1, 2, 3 ,4], \n                                      y = [4, 3, 2, 1, 0], \n                                      symbol = \"x\", \n                                      pen = pg.mkPen(None), \n                                      name = \"plot2\", \n                                      brush = pg.mkBrush(\"b\"),\n                                      size = 7.5,\n                                      antialias = True))\n        p3.addItem(pg.PlotCurveItem(x = [0, 1, 2, 3 ,4], \n                                    y = [0, 4, 0, 4, 0], \n                                    pen = pg.mkPen(color = \"g\", style = Qt.DashLine),\n                                    name = \"plot3\", \n                                    antialias = True))\n\n        ## 6 \u51e1\u4f8b\u3092\u8a2d\u5b9a\u3001\u8868\u793a\u3059\u308b\n        legend = p1.addLegend(offset = (10, 10))\n        fontCssLegend = '<style type=\"text/css\"> p {font-family: Times New Roman, \u30e1\u30a4\u30ea\u30aa; font-size: 10.5pt; color: \"#000000\"} </style>'\n        legend.addItem(pg.PlotCurveItem(pen = pg.mkPen(color = \"r\", style = Qt.SolidLine), antialias = True), \n                       name = fontCssLegend + '<p>plot1\uff08\u3077\u308d\u3063\u30681\uff09</p>')\n        legend.addItem(pg.ScatterPlotItem(symbol = \"x\", pen = pg.mkPen(None), brush = pg.mkBrush(\"b\"), size = 7.5, antialias = True), \n                       name = fontCssLegend + '<p>plot2\uff08\u3077\u308d\u3063\u30682\uff09</p>')\n        legend.addItem(pg.PlotCurveItem(pen = pg.mkPen(color = \"g\", style = Qt.DashLine), antialias = True), \n                       name = fontCssLegend + '<p>plot3\uff08\u3077\u308d\u3063\u30683\uff09</p>')\n\n\n    def setGraphFrameFont(self, p1, p2 = None, p3 = None, ax3 = None):\n        font = QFont(\"Times New Roman\", 7)\n\n        p1.getAxis('bottom').setPen(pg.mkPen(color='#000000'))\n        p1.getAxis('left').setPen(pg.mkPen(color='#000000'))\n        p1.getAxis('bottom').setHeight(3.5 * 10.5)\n        p1.getAxis('left').setWidth(4 * 10.5)\n\n        #p1.getAxis('bottom').setLabel(**self.fontCss)\n        p1.getAxis('bottom').tickFont = font\n        #p1.getAxis('left').setLabel(**self.fontCss)\n        p1.getAxis('left').tickFont = font\n\n        if p2 != None:\n            p1.getAxis('right').setPen(pg.mkPen(color='#000000'))\n            p1.getAxis('right').setWidth(4 * 10.5)\n\n            #p1.getAxis('right').setLabel(**self.fontCss)\n            p1.getAxis('right').tickFont = font\n\n        if p3 != None and ax3 != None:\n            ax3.setPen(pg.mkPen(color='#000000'))\n            ax3.setWidth(4 * 10.5)\n\n            #ax3.setLabel(**self.fontCss)\n            ax3.tickFont = font\n\n\n    def setGraphMultipleAxis(self, p1, p2, p3 = None, ax3 = None):\n        p1.showAxis('right')\n        p1.scene().addItem(p2)\n        p1.getAxis('right').linkToView(p2)\n        p2.setXLink(p1)\n\n        p2.sigRangeChanged.connect(lambda: p2.setGeometry(p1.vb.sceneBoundingRect()))\n\n        if p3 != None and ax3 != None:\n            spacer = QGraphicsWidget()\n            spacer.setMaximumSize(15,15)\n            p1.layout.addItem(spacer, 2, 3)\n\n            p1.layout.addItem(ax3, 2, 4)\n            p1.scene().addItem(p3)\n            ax3.linkToView(p3)\n            p3.setXLink(p1)\n\n            p3.sigRangeChanged.connect(lambda: p3.setGeometry(p1.vb.sceneBoundingRect()))\n\n\nif __name__ == '__main__':\n    # Qt Application\u3092\u4f5c\u308a\u307e\u3059\n    app = QApplication(sys.argv)\n    # form\u3092\u4f5c\u6210\u3057\u3066\u8868\u793a\u3057\u307e\u3059\n    mainWin = GraphWindow()\n    mainWin.show()\n    # Qt\u306e\u30e1\u30a4\u30f3\u30eb\u30fc\u30d7\u3092\u958b\u59cb\u3057\u307e\u3059\n    sys.exit(app.exec_())\n\n# \u305d\u306e6 \u51e1\u4f8b\u306e\u8868\u793a\n\nPyQtGraph\u306e\u51e1\u4f8b\u306f\u878d\u901a\u304c\u5229\u304b\u306a\u3044\u306e\u3067\u3042\u307e\u308a\u597d\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n~~\u80cc\u666f\u8272\u306a\u3069\u5909\u66f4\u3067\u304d\u306a\u304b\u3063\u305f\u306f\u305a\u3067\u3059\u3002~~\n\u2191\u30b3\u30e1\u30f3\u30c8\u3067\u3054\u6307\u6458\u9802\u304d\u307e\u3057\u305f\u3002\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc(pyqtgraph\\graphicsItems\\LegendItem.py)\u3092\u4fee\u6b63\u3059\u308b\u3053\u3068\u3067\u80cc\u666f\u8272\u306e\u5909\u66f4\u81ea\u4f53\u306f\u53ef\u80fd\u3068\u306e\u3053\u3068\u3067\u3059\u3002\u8a73\u7d30\u306f\u30b3\u30e1\u30f3\u30c8\u6b04\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n![6.png](https://qiita-image-store.s3.amazonaws.com/0/55744/6daaab6a-54b5-2d6f-6a85-631a919ac782.png)\n\n```py3\nimport sys\nfrom PySide.QtCore import *\nfrom PySide.QtGui import *\nimport pyqtgraph as pg\n\n\nclass GraphWindow(QMainWindow):\n\n    def __init__(self, parent = None):\n        \n        super(GraphWindow, self).__init__(parent)\n        \n        pw = pg.PlotWidget(viewBox = pg.ViewBox(border = pg.mkPen(color='#000000'),\n                                                invertX = False, invertY = False))\n\n        self.setCentralWidget(pw)\n\n        pw.setBackground(\"#FFFFFF00\")\n\n        pw.setMinimumSize(500, 400)\n        pw.setMaximumSize(500, 400)\n\n        p1 = pw.plotItem\n        p2 = pg.ViewBox()\n        p3 = pg.ViewBox()\n        ax3 = pg.AxisItem(orientation = 'right')\n        self.setGraphFrameFont(p1, p2, p3, ax3)\n        self.setGraphMultipleAxis(p1, p2, p3, ax3)\n\n        p1.setLabels(bottom = \"X Axis\uff08\u3048\u3063\u304f\u3059\u8ef8\uff09\", \n                     left = \"Y1 Axis\uff08\u308f\u30441\u8ef8\uff09\", \n                     right = \"Y2 Axis\uff08\u308f\u30442\u8ef8\uff09\")\n        ax3.setLabel(\"Y3 Axis\uff08\u308f\u30443\u8ef8\uff09\")\n\n        fontCss = {'font-family': \"Times New Roman, \u30e1\u30a4\u30ea\u30aa\", 'font-size': '10.5pt', \"color\": \"black\"}\n        p1.getAxis('bottom').setLabel(**fontCss)\n        fontCss[\"color\"] = \"red\"\n        p1.getAxis('left').setLabel(**fontCss)\n        fontCss[\"color\"] = \"blue\"\n        p1.getAxis('right').setLabel(**fontCss)\n        fontCss[\"color\"] = \"green\"\n        ax3.setLabel(**fontCss)\n\n        p1.setRange(xRange = (-2, 6), yRange = (-2, 6), padding = 0)\n        p2.setRange(yRange = (-1, 5), padding = 0)\n        p3.setRange(yRange = (0, 4), padding = 0)\n\n        p1.getAxis('bottom').setTickSpacing(major = 2.5, minor = 1)\n        p1.getAxis('left').setTickSpacing(major = 2.5, minor = 1)\n        p1.getAxis('right').setTickSpacing(major = 2.5, minor = 1)\n        ax3.setTickSpacing(major = 2.5, minor = 1)\n        \n        p1.addItem(pg.PlotCurveItem(x = [0, 1, 2, 3 ,4], \n                                    y = [0, 1, 2, 3 ,4], \n                                    pen = pg.mkPen(color = \"r\", style = Qt.SolidLine), \n                                    name = \"plot1\", \n                                    antialias = True))\n        p2.addItem(pg.ScatterPlotItem(x = [0, 1, 2, 3 ,4], \n                                      y = [4, 3, 2, 1, 0], \n                                      symbol = \"x\", \n                                      pen = pg.mkPen(None), \n                                      name = \"plot2\", \n                                      brush = pg.mkBrush(\"b\"),\n                                      size = 7.5,\n                                      antialias = True))\n        p3.addItem(pg.PlotCurveItem(x = [0, 1, 2, 3 ,4], \n                                    y = [0, 4, 0, 4, 0], \n                                    pen = pg.mkPen(color = \"g\", style = Qt.DashLine),\n                                    name = \"plot3\", \n                                    antialias = True))\n\n        ## 6 \u51e1\u4f8b\u3092\u8a2d\u5b9a\u3001\u8868\u793a\u3059\u308b\n        legend = p1.addLegend(offset = (10, 10))\n        fontCssLegend = '<style type=\"text/css\"> p {font-family: Times New Roman, \u30e1\u30a4\u30ea\u30aa; font-size: 10.5pt; color: \"#000000\"} </style>'\n        legend.addItem(pg.PlotCurveItem(pen = pg.mkPen(color = \"r\", style = Qt.SolidLine), antialias = True), \n                       name = fontCssLegend + '<p>plot1\uff08\u3077\u308d\u3063\u30681\uff09</p>')\n        legend.addItem(pg.ScatterPlotItem(symbol = \"x\", pen = pg.mkPen(None), brush = pg.mkBrush(\"b\"), size = 7.5, antialias = True), \n                       name = fontCssLegend + '<p>plot2\uff08\u3077\u308d\u3063\u30682\uff09</p>')\n        legend.addItem(pg.PlotCurveItem(pen = pg.mkPen(color = \"g\", style = Qt.DashLine), antialias = True), \n                       name = fontCssLegend + '<p>plot3\uff08\u3077\u308d\u3063\u30683\uff09</p>')\n\n\n    def setGraphFrameFont(self, p1, p2 = None, p3 = None, ax3 = None):\n        font = QFont(\"Times New Roman\", 7)\n\n        p1.getAxis('bottom').setPen(pg.mkPen(color='#000000'))\n        p1.getAxis('left').setPen(pg.mkPen(color='#000000'))\n        p1.getAxis('bottom').setHeight(3.5 * 10.5)\n        p1.getAxis('left').setWidth(4 * 10.5)\n\n        #p1.getAxis('bottom').setLabel(**self.fontCss)\n        p1.getAxis('bottom').tickFont = font\n        #p1.getAxis('left').setLabel(**self.fontCss)\n        p1.getAxis('left').tickFont = font\n\n        if p2 != None:\n            p1.getAxis('right').setPen(pg.mkPen(color='#000000'))\n            p1.getAxis('right').setWidth(4 * 10.5)\n\n            #p1.getAxis('right').setLabel(**self.fontCss)\n            p1.getAxis('right').tickFont = font\n\n        if p3 != None and ax3 != None:\n            ax3.setPen(pg.mkPen(color='#000000'))\n            ax3.setWidth(4 * 10.5)\n\n            #ax3.setLabel(**self.fontCss)\n            ax3.tickFont = font\n\n\n    def setGraphMultipleAxis(self, p1, p2, p3 = None, ax3 = None):\n        p1.showAxis('right')\n        p1.scene().addItem(p2)\n        p1.getAxis('right').linkToView(p2)\n        p2.setXLink(p1)\n\n        p2.sigRangeChanged.connect(lambda: p2.setGeometry(p1.vb.sceneBoundingRect()))\n        \n        if p3 != None and ax3 != None:\n            spacer = QGraphicsWidget()\n            spacer.setMaximumSize(15,15)\n            p1.layout.addItem(spacer, 2, 3)\n\n            p1.layout.addItem(ax3, 2, 4)\n            p1.scene().addItem(p3)\n            ax3.linkToView(p3)\n            p3.setXLink(p1)\n            \n            p3.sigRangeChanged.connect(lambda: p3.setGeometry(p1.vb.sceneBoundingRect()))\n\n\nif __name__ == '__main__':\n    # Qt Application\u3092\u4f5c\u308a\u307e\u3059\n    app = QApplication(sys.argv)\n    # form\u3092\u4f5c\u6210\u3057\u3066\u8868\u793a\u3057\u307e\u3059\n    mainWin = GraphWindow()\n    mainWin.show()\n    # Qt\u306e\u30e1\u30a4\u30f3\u30eb\u30fc\u30d7\u3092\u958b\u59cb\u3057\u307e\u3059\n    sys.exit(app.exec_())\n```\n", "tags": ["Python", "PySide", "PyQt", "PyQtGraph"]}