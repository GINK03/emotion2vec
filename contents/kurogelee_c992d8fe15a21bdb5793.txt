{"tags": ["Clojure1.6.0"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\u306a\u306b\u3052\u306b\u4fbf\u5229\u306amapcat\u3067\u3059\u304c\u3001\u305d\u306efor\u7248\u3082\u306a\u306b\u3052\u306b\u4fbf\u5229\u3060\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\nforcat.clj\n(defmacro forcat [seq-exprs & body-exprs]\n  `(apply concat (for ~seq-exprs (concat ~@body-exprs))))\n\n\nbody\u90e8\u306b\u8907\u6570\u30d5\u30a9\u30fc\u30e0\u5165\u308c\u3089\u308c\u308b\u3088\u3046\u306b\u3082\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nuser=> (forcat [x (range 3) y [:a :b]] [x] [y])\n(0 :a 0 :b 1 :a 1 :b 2 :a 2 :b)\n\n\n\u304a\u307e\u3051\n\u77ed\u304b\u3063\u305f\u306e\u3067\u5168\u304f\u5225\u306e\u3053\u3068\u3068\u3057\u3066partial apply\u306e\u5358\u306a\u308b\u30a8\u30a4\u30ea\u30a2\u30b9\u3068\u3057\u3066papply\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\npapply.clj\n(defn papply [f & args] (apply partial apply f args))\n\n\n\u3053\u308c\u3092\u3069\u3093\u306a\u3068\u304d\u306b\u4f7f\u3046\u304b\u3067\u3059\u304c\u3001(map #(* %1 %2) [[3 5] [6 9]])\u306e\u3088\u3046\u306a\u52d5\u304b\u306a\u3044\u30b3\u30fc\u30c9\u3092\u6539\u5584\u3059\u308b\u3068\u304d(map (fn [[v1 v2]] (* v1 v2)) [[3 5] [6 9]])\u3068\u3059\u308b\u4ee3\u308f\u308a\u306b(map (papply #(* %1 %2)) [[3 5] [6 9]])\u3068\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u306a\u306b\u3052\u306b\u4fbf\u5229\u306amapcat\u3067\u3059\u304c\u3001\u305d\u306efor\u7248\u3082\u306a\u306b\u3052\u306b\u4fbf\u5229\u3060\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n```forcat.clj\n(defmacro forcat [seq-exprs & body-exprs]\n  `(apply concat (for ~seq-exprs (concat ~@body-exprs))))\n```\n\nbody\u90e8\u306b\u8907\u6570\u30d5\u30a9\u30fc\u30e0\u5165\u308c\u3089\u308c\u308b\u3088\u3046\u306b\u3082\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n```\nuser=> (forcat [x (range 3) y [:a :b]] [x] [y])\n(0 :a 0 :b 1 :a 1 :b 2 :a 2 :b)\n```\n\n#### \u304a\u307e\u3051\n\u77ed\u304b\u3063\u305f\u306e\u3067\u5168\u304f\u5225\u306e\u3053\u3068\u3068\u3057\u3066`partial apply`\u306e\u5358\u306a\u308b\u30a8\u30a4\u30ea\u30a2\u30b9\u3068\u3057\u3066papply\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n```papply.clj\n(defn papply [f & args] (apply partial apply f args))\n```\n\n\u3053\u308c\u3092\u3069\u3093\u306a\u3068\u304d\u306b\u4f7f\u3046\u304b\u3067\u3059\u304c\u3001`(map #(* %1 %2) [[3 5] [6 9]])`\u306e\u3088\u3046\u306a\u52d5\u304b\u306a\u3044\u30b3\u30fc\u30c9\u3092\u6539\u5584\u3059\u308b\u3068\u304d`(map (fn [[v1 v2]] (* v1 v2)) [[3 5] [6 9]])`\u3068\u3059\u308b\u4ee3\u308f\u308a\u306b`(map (papply #(* %1 %2)) [[3 5] [6 9]])`\u3068\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n"}