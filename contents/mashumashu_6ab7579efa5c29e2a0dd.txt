{"context": " More than 1 year has passed since last update.\n\n\u3053\u3053\u3067\u7d39\u4ecb\u3059\u308b\u4ee5\u5916\u306b\u3082\u4ee5\u4e0b\u306e\u65b9\u6cd5\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002\n\nX11Forwarding + Xming\ntigervnc + VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\ntigervnc + xrdp + \u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\n\n\n\u30b2\u30b9\u30c8\u30de\u30b7\u30f3\u4e0a\u306e\u500b\u5225\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3060\u3051\u3092\u30db\u30b9\u30c8OS\u5074\u306b\u8868\u793a\u3059\u308b\u306a\u3089\u30011.\u3067\u53ef\u80fd\u3067\u3059\n\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u753b\u9762\u5168\u4f53\u3092\u8868\u793a\u3059\u308b\u306a\u3089\u30012.\u30013.\u3001\u304a\u3088\u3073\u3053\u3053\u3067\u7d39\u4ecb\u3059\u308b\u65b9\u6cd5\u3092\u63a1\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\n\n\n\nLinux\u30de\u30b7\u30f3\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u753b\u9762\u306b\u30ea\u30e2\u30fc\u30c8\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\n\n\u30e2\u30c1\u30d9\u30fc\u30b7\u30e7\u30f3\n\nVNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u8af8\u4e8b\u60c5\u3067\u4f7f\u3048\u306a\u3044\n\u30d6\u30e9\u30a6\u30b6\u3092\u4f7f\u3063\u3066Linux\u30de\u30b7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\n\n\n1. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u4ee5\u4e0b2\u3064\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n tigervnc-server\n\n tigervnc-server-applet\n\n\n\n\nCentOS\u306eDVD1\u679a\u76ee\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3066\u3001tigervnc-server\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u7e4b\u304c\u308b\u74b0\u5883\u306a\u3089riken\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\n# yum --disablerepo=\\* --enablerepo=centos-dvd -y install tigervnc-server\nLoaded plugins: fastestmirror, priorities, refresh-packagekit, security\nLoading mirror speeds from cached hostfile\nSetting up Install Process\nResolving Dependencies\n--> Running transaction check\n---> Package tigervnc-server.x86_64 0:1.1.0-5.el6_4.1 will be installed\n--> Processing Dependency: xorg-x11-fonts-misc for package: tigervnc-server-1.1.0-5.el6_4.1.x86_64\n--> Running transaction check\n---> Package xorg-x11-fonts-misc.noarch 0:7.2-9.1.el6 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n============================================================================================================\n Package                        Arch              Version                       Repository             Size\n============================================================================================================\nInstalling:\n tigervnc-server                x86_64            1.1.0-5.el6_4.1               centos-dvd            1.1 M\nInstalling for dependencies:\n xorg-x11-fonts-misc            noarch            7.2-9.1.el6                   centos-dvd            5.8 M\n\nTransaction Summary\n============================================================================================================\nInstall       2 Package(s)\n\nTotal download size: 6.9 M\nInstalled size: 9.7 M\nDownloading Packages:\n------------------------------------------------------------------------------------------------------------\nTotal                                                                       227 MB/s | 6.9 MB     00:00\nRunning rpm_check_debug\nRunning Transaction Test\nTransaction Test Succeeded\nRunning Transaction\n  Installing : xorg-x11-fonts-misc-7.2-9.1.el6.noarch                                                   1/2\n  Installing : tigervnc-server-1.1.0-5.el6_4.1.x86_64                                                   2/2\n  Verifying  : xorg-x11-fonts-misc-7.2-9.1.el6.noarch                                                   1/2\n  Verifying  : tigervnc-server-1.1.0-5.el6_4.1.x86_64                                                   2/2\n\nInstalled:\n  tigervnc-server.x86_64 0:1.1.0-5.el6_4.1\n\nDependency Installed:\n  xorg-x11-fonts-misc.noarch 0:7.2-9.1.el6\n\nComplete!\n\n\nCentOS\u306eDVD2\u679a\u76ee\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3066\u3001tigervnc-server-applet\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u7e4b\u304c\u308b\u74b0\u5883\u306a\u3089riken\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\n# yum --disablerepo=\\* --enablerepo=centos-dvd -y install tigervnc-server-applet\nLoaded plugins: fastestmirror, priorities, refresh-packagekit, security\nLoading mirror speeds from cached hostfile\nSetting up Install Process\nResolving Dependencies\n--> Running transaction check\n---> Package tigervnc-server-applet.noarch 0:1.1.0-5.el6_4.1 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n============================================================================================================\n Package                           Arch              Version                    Repository             Size\n============================================================================================================\nInstalling:\n tigervnc-server-applet            noarch            1.1.0-5.el6_4.1            centos-dvd            106 k\n\nTransaction Summary\n============================================================================================================\nInstall       1 Package(s)\n\nTotal download size: 106 k\nInstalled size: 114 k\nDownloading Packages:\nRunning rpm_check_debug\nRunning Transaction Test\nTransaction Test Succeeded\nRunning Transaction\n  Installing : tigervnc-server-applet-1.1.0-5.el6_4.1.noarch                                            1/1\n  Verifying  : tigervnc-server-applet-1.1.0-5.el6_4.1.noarch                                            1/1\n\nInstalled:\n  tigervnc-server-applet.noarch 0:1.1.0-5.el6_4.1\n\nComplete!\n\n\n2. VNC\u306e\u8a2d\u5b9a\n\n2.1 VNC\u30a2\u30af\u30bb\u30b9\u7528\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n\nadmin\u30b0\u30eb\u30fc\u30d7\u304c\u306a\u3051\u308c\u3070\u3001\u4f5c\u6210\u3059\u308b\n\n# grep ^admin /etc/group\n# groupadd -g 20001 admin\n\n\n\u3059\u3067\u306b\u3044\u308c\u3070\u3001\u6b21\u306b\n\n# grep ^admin /etc/group\nadmin:x:20001:vagrant\n\n\nVNC\u30a2\u30af\u30bb\u30b9\u7528\u30e6\u30fc\u30b6vncuser\u3092\u4f5c\u6210\u3057\u3066\u3001admin\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3055\u305b\u308b\n\n# groupadd -g 20002 vncuser\n# useradd -u 20002 -g 20002 vncuser\n# gpasswd -a vncuser admin\n# grep ^admin /etc/group\nadmin:x:20001:vagrant,vncuser\n# id vncuser\nuid=20002(vncuser) gid=20002(vncuser) \u6240\u5c5e\u30b0\u30eb\u30fc\u30d7=20002(vncuser),20001(admin)\n# passwd vncuser\n\u30e6\u30fc\u30b6\u30fc vncuser \u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3002\n\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9:\n\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044:\npasswd: \u5168\u3066\u306e\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u304c\u6b63\u3057\u304f\u66f4\u65b0\u3067\u304d\u307e\u3057\u305f\u3002\n\n\nVNC\u30a2\u30af\u30bb\u30b9\u6642\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\uff08\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3057\u305f\u30e6\u30fc\u30b6\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u306f\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\uff09\n\n# su - vncuser\n$ vncpasswd\nPassword:\nVerify:\n\n\n2.2 VNC\u306e\u8a2d\u5b9a\n\n\n/etc/sysconfig/vncservers\u672b\u5c3e\u306b\u4ee5\u4e0b2\u884c\u3092\u8ffd\u8a18\u3059\u308b\n\n\n VNCSERVERS=\"1:vncuser\"\u306f<\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u756a\u53f7>:<\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30e6\u30fc\u30b6>\u3092\u6307\u5b9a\u3059\u308b\n VNCSERVERARGS[1]=\"-geometry 800x600\"\u306f-geometry <\u753b\u9762\u89e3\u50cf\u5ea6>\u3092\u6307\u5b9a\u3059\u308b\n\n\n\n\n/etc/sysconfig/vncservers\n# The VNCSERVERS variable is a list of display:user pairs.\n#\n# Uncomment the lines below to start a VNC server on display :2\n# as my 'myusername' (adjust this to your own).  You will also\n# need to set a VNC password; run 'man vncpasswd' to see how\n# to do that.\n#\n# DO NOT RUN THIS SERVICE if your local area network is\n# untrusted!  For a secure way of using VNC, see this URL:\n# http://kbase.redhat.com/faq/docs/DOC-7028\n\n# Use \"-nolisten tcp\" to prevent X connections to your VNC server via TCP.\n\n# Use \"-localhost\" to prevent remote VNC clients connecting except when\n# doing so through a secure tunnel.  See the \"-via\" option in the\n# `man vncviewer' manual page.\n\n# VNCSERVERS=\"2:myusername\"\n# VNCSERVERARGS[2]=\"-geometry 800x600 -nolisten tcp -localhost\"\n\nVNCSERVERS=\"1:vncuser\"\nVNCSERVERARGS[1]=\"-geometry 1024x768\"\n\n\n\n\u8907\u6570\u30e6\u30fc\u30b6\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u3088\u3044\n\n\n/etc/sysconfig/vncservers\nVNCSERVERS=\"1:vncuser 2:root\"\nVNCSERVERARGS[1]=\"-geometry 1024x768\"\nVNCSERVERARGS[2]=\"-geometry 800x600\"\n\n\n\n2.3 \u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4fee\u6b63\n\nVNC\u3092\u8d77\u52d5\u3059\u308b\n\n# /etc/rc.d/init.d/vncserver start\nVNC \u30b5\u30fc\u30d0\u30fc \u3092\u8d77\u52d5\u4e2d: 1:vncuser\nNew 'centos65.example.com:1 (vncuser)' desktop is centos65.example.com:1\n\nStarting applications specified in /home/vncuser/.vnc/xstartup\nLog file is /home/vncuser/.vnc/centos65.example.com:1.log\n\n                                                           [  OK  ]\n\n\n\u30db\u30b9\u30c8\u540d\u306e\u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001VNC\u8d77\u52d5\u6642\u306b\u4ee5\u4e0b\u304c\u51fa\u529b\u3055\u308c\u308b\n\nxauth: (stdin):1:  bad display name \"centos65.example.com:1\" in \"add\" command\n\n\nGNOME\u3092\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8xstartup\u3092\u4fee\u6b63\u3059\u308b\n\n\n/home/vncuser/.vnc/xstartup\n#!/bin/sh\n\n[ -r /etc/sysconfig/i18n ] && . /etc/sysconfig/i18n\nexport LANG\nexport SYSFONT\nvncconfig -iconic &\nunset SESSION_MANAGER\nunset DBUS_SESSION_BUS_ADDRESS\nOS=`uname -s`\nif [ $OS = 'Linux' ]; then\n  case \"$WINDOWMANAGER\" in\n    *gnome*)\n      if [ -e /etc/SuSE-release ]; then\n        PATH=$PATH:/opt/gnome/bin\n        export PATH\n      fi\n      ;;\n  esac\nfi\nif [ -x /etc/X11/xinit/xinitrc ]; then\n  exec /etc/X11/xinit/xinitrc\nfi\nif [ -f /etc/X11/xinit/xinitrc ]; then\n  exec sh /etc/X11/xinit/xinitrc\nfi\n[ -r $HOME/.Xresources ] && xrdb $HOME/.Xresources\nxsetroot -solid grey\n#xterm -geometry 80x24+10+10 -ls -title \"$VNCDESKTOP Desktop\" &    \u2190 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n#twm &                                                             \u2190 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ngnome-session &                                                    \u2190 \u8ffd\u8a18\n\n\n\nVNC\u3092\u518d\u8d77\u52d5\n\n# /etc/rc.d/init.d/vncserver restart\nVNC \u30b5\u30fc\u30d0\u30fc \u3092\u505c\u6b62\u4e2d: 1:vncuser                           [  OK  ]\nVNC \u30b5\u30fc\u30d0\u30fc \u3092\u8d77\u52d5\u4e2d: 1:vncuser\nNew 'centos65.example.com:1 (vncuser)' desktop is centos65.example.com:1\n\nStarting applications specified in /home/vncuser/.vnc/xstartup\nLog file is /home/vncuser/.vnc/centos65.example.com:1.log\n\n                                                           [  OK  ]\n\n\nVNC\u3092\u81ea\u52d5\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n\n# chkconfig vncserver on\n# chkconfig --list vncserver\nvncserver       0:off   1:off   2:on    3:on    4:on    5:on    6:off\n\n\n3. \u52d5\u4f5c\u78ba\u8a8d\n\n\u30d6\u30e9\u30a6\u30b6\u3092\u8d77\u52d5\u3059\u308b\u30a2\u30af\u30bb\u30b9\u7aef\u672b\u306fWindows\u3092\u60f3\u5b9a\n\n\n3.1 VNC\u30b5\u30fc\u30d0\u8d77\u52d5\u72b6\u614b\u78ba\u8a8d\n\nLinux\u30de\u30b7\u30f3\u4e0a\u3067VNC\u30b5\u30fc\u30d0\u304cLISTEN\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n\n\n\"5801\"\u306f\u30d6\u30e9\u30a6\u30b6\uff08Java Applet\uff09\u30a2\u30af\u30bb\u30b9\n\"5901\"\u306fVNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30af\u30bb\u30b9\n\u30dd\u30fc\u30c8\u756a\u53f7\u306f\u305d\u308c\u305e\u308c5800+<\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u756a\u53f7>\u30015900+<\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u756a\u53f7>\n\n\n\n\n# netstat -lntp | egrep \":590|:580\"\ntcp        0      0 0.0.0.0:5901                0.0.0.0:*                   LISTEN      3305/Xvnc\ntcp        0      0 0.0.0.0:5801                0.0.0.0:*                   LISTEN      3305/Xvnc\n\n\n3.2 Java\u4f8b\u5916\u30b5\u30a4\u30c8\u8a2d\u5b9a\n\n\u672c\u7bc0\u306e\u5185\u5bb9\u3092\u5b9f\u65bd\u305b\u305a\u306b\u30d6\u30e9\u30a6\u30b6\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d6\u30ed\u30c3\u30af\u3055\u308c\u308b\n\n\n\nWindows\u306e\u30b9\u30bf\u30fc\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cConfigure Java\u300d\u3092\u9078\u629e\u3057\u3066Java\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u3092\u8d77\u52d5\u3059\u308b\nJava\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u306e\u4f8b\u5916\u30b5\u30a4\u30c8\u306bhttp://<Linux\u30b2\u30b9\u30c8IP\u30a2\u30c9\u30ec\u30b9>:5801\u3092\u8ffd\u52a0\u3059\u308b\n\n\n\n\n\n\n\n\u30d6\u30e9\u30a6\u30b6\u306bhttp://<Linux\u30b2\u30b9\u30c8IP\u30a2\u30c9\u30ec\u30b9>:5801\u3092\u6307\u5b9a\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\n\n\n\n\n* \u3053\u3053\u3067\u7d39\u4ecb\u3059\u308b\u4ee5\u5916\u306b\u3082\u4ee5\u4e0b\u306e\u65b9\u6cd5\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002\n    1. X11Forwarding + Xming\n    2. tigervnc + VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n    3. tigervnc + xrdp + \u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\n\n* \u30b2\u30b9\u30c8\u30de\u30b7\u30f3\u4e0a\u306e\u500b\u5225\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3060\u3051\u3092\u30db\u30b9\u30c8OS\u5074\u306b\u8868\u793a\u3059\u308b\u306a\u3089\u30011.\u3067\u53ef\u80fd\u3067\u3059\n* \u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u753b\u9762\u5168\u4f53\u3092\u8868\u793a\u3059\u308b\u306a\u3089\u30012.\u30013.\u3001\u304a\u3088\u3073\u3053\u3053\u3067\u7d39\u4ecb\u3059\u308b\u65b9\u6cd5\u3092\u63a1\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\n\n---\n\n# Linux\u30de\u30b7\u30f3\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u753b\u9762\u306b\u30ea\u30e2\u30fc\u30c8\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\n\n## \u30e2\u30c1\u30d9\u30fc\u30b7\u30e7\u30f3\n\n* VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u8af8\u4e8b\u60c5\u3067\u4f7f\u3048\u306a\u3044\n* \u30d6\u30e9\u30a6\u30b6\u3092\u4f7f\u3063\u3066Linux\u30de\u30b7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\n\n\n## 1. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n* \u4ee5\u4e0b2\u3064\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n    *  `tigervnc-server`\n    *  `tigervnc-server-applet`\n\n* CentOS\u306eDVD1\u679a\u76ee\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3066\u3001`tigervnc-server`\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    * \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u7e4b\u304c\u308b\u74b0\u5883\u306a\u3089riken\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell-session\n# yum --disablerepo=\\* --enablerepo=centos-dvd -y install tigervnc-server\nLoaded plugins: fastestmirror, priorities, refresh-packagekit, security\nLoading mirror speeds from cached hostfile\nSetting up Install Process\nResolving Dependencies\n--> Running transaction check\n---> Package tigervnc-server.x86_64 0:1.1.0-5.el6_4.1 will be installed\n--> Processing Dependency: xorg-x11-fonts-misc for package: tigervnc-server-1.1.0-5.el6_4.1.x86_64\n--> Running transaction check\n---> Package xorg-x11-fonts-misc.noarch 0:7.2-9.1.el6 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n============================================================================================================\n Package                        Arch              Version                       Repository             Size\n============================================================================================================\nInstalling:\n tigervnc-server                x86_64            1.1.0-5.el6_4.1               centos-dvd            1.1 M\nInstalling for dependencies:\n xorg-x11-fonts-misc            noarch            7.2-9.1.el6                   centos-dvd            5.8 M\n\nTransaction Summary\n============================================================================================================\nInstall       2 Package(s)\n\nTotal download size: 6.9 M\nInstalled size: 9.7 M\nDownloading Packages:\n------------------------------------------------------------------------------------------------------------\nTotal                                                                       227 MB/s | 6.9 MB     00:00\nRunning rpm_check_debug\nRunning Transaction Test\nTransaction Test Succeeded\nRunning Transaction\n  Installing : xorg-x11-fonts-misc-7.2-9.1.el6.noarch                                                   1/2\n  Installing : tigervnc-server-1.1.0-5.el6_4.1.x86_64                                                   2/2\n  Verifying  : xorg-x11-fonts-misc-7.2-9.1.el6.noarch                                                   1/2\n  Verifying  : tigervnc-server-1.1.0-5.el6_4.1.x86_64                                                   2/2\n\nInstalled:\n  tigervnc-server.x86_64 0:1.1.0-5.el6_4.1\n\nDependency Installed:\n  xorg-x11-fonts-misc.noarch 0:7.2-9.1.el6\n\nComplete!\n```\n\n* CentOS\u306eDVD2\u679a\u76ee\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3066\u3001`tigervnc-server-applet`\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    * \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u7e4b\u304c\u308b\u74b0\u5883\u306a\u3089riken\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell-session\n# yum --disablerepo=\\* --enablerepo=centos-dvd -y install tigervnc-server-applet\nLoaded plugins: fastestmirror, priorities, refresh-packagekit, security\nLoading mirror speeds from cached hostfile\nSetting up Install Process\nResolving Dependencies\n--> Running transaction check\n---> Package tigervnc-server-applet.noarch 0:1.1.0-5.el6_4.1 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n============================================================================================================\n Package                           Arch              Version                    Repository             Size\n============================================================================================================\nInstalling:\n tigervnc-server-applet            noarch            1.1.0-5.el6_4.1            centos-dvd            106 k\n\nTransaction Summary\n============================================================================================================\nInstall       1 Package(s)\n\nTotal download size: 106 k\nInstalled size: 114 k\nDownloading Packages:\nRunning rpm_check_debug\nRunning Transaction Test\nTransaction Test Succeeded\nRunning Transaction\n  Installing : tigervnc-server-applet-1.1.0-5.el6_4.1.noarch                                            1/1\n  Verifying  : tigervnc-server-applet-1.1.0-5.el6_4.1.noarch                                            1/1\n\nInstalled:\n  tigervnc-server-applet.noarch 0:1.1.0-5.el6_4.1\n\nComplete!\n```\n\n## 2. VNC\u306e\u8a2d\u5b9a\n\n### 2.1 VNC\u30a2\u30af\u30bb\u30b9\u7528\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n\n* admin\u30b0\u30eb\u30fc\u30d7\u304c\u306a\u3051\u308c\u3070\u3001\u4f5c\u6210\u3059\u308b\n\n```shell-session\n# grep ^admin /etc/group\n# groupadd -g 20001 admin\n```\n\n* \u3059\u3067\u306b\u3044\u308c\u3070\u3001\u6b21\u306b\n\n```shell-session\n# grep ^admin /etc/group\nadmin:x:20001:vagrant\n```\n\n* VNC\u30a2\u30af\u30bb\u30b9\u7528\u30e6\u30fc\u30b6`vncuser`\u3092\u4f5c\u6210\u3057\u3066\u3001admin\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3055\u305b\u308b\n\n```shell-session\n# groupadd -g 20002 vncuser\n# useradd -u 20002 -g 20002 vncuser\n# gpasswd -a vncuser admin\n# grep ^admin /etc/group\nadmin:x:20001:vagrant,vncuser\n# id vncuser\nuid=20002(vncuser) gid=20002(vncuser) \u6240\u5c5e\u30b0\u30eb\u30fc\u30d7=20002(vncuser),20001(admin)\n# passwd vncuser\n\u30e6\u30fc\u30b6\u30fc vncuser \u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3002\n\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9:\n\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044:\npasswd: \u5168\u3066\u306e\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u304c\u6b63\u3057\u304f\u66f4\u65b0\u3067\u304d\u307e\u3057\u305f\u3002\n```\n\n* VNC\u30a2\u30af\u30bb\u30b9\u6642\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\uff08\u4e0a\u8a18\u3067\u8a2d\u5b9a\u3057\u305f\u30e6\u30fc\u30b6\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u306f\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\uff09\n\n```shell-session\n# su - vncuser\n$ vncpasswd\nPassword:\nVerify:\n```\n\n### 2.2 VNC\u306e\u8a2d\u5b9a\n\n* `/etc/sysconfig/vncservers`\u672b\u5c3e\u306b\u4ee5\u4e0b2\u884c\u3092\u8ffd\u8a18\u3059\u308b\n    *  `VNCSERVERS=\"1:vncuser\"`\u306f`<\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u756a\u53f7>:<\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30e6\u30fc\u30b6>`\u3092\u6307\u5b9a\u3059\u308b\n    *  `VNCSERVERARGS[1]=\"-geometry 800x600\"`\u306f`-geometry <\u753b\u9762\u89e3\u50cf\u5ea6>`\u3092\u6307\u5b9a\u3059\u308b\n\n```bash:/etc/sysconfig/vncservers\n# The VNCSERVERS variable is a list of display:user pairs.\n#\n# Uncomment the lines below to start a VNC server on display :2\n# as my 'myusername' (adjust this to your own).  You will also\n# need to set a VNC password; run 'man vncpasswd' to see how\n# to do that.\n#\n# DO NOT RUN THIS SERVICE if your local area network is\n# untrusted!  For a secure way of using VNC, see this URL:\n# http://kbase.redhat.com/faq/docs/DOC-7028\n\n# Use \"-nolisten tcp\" to prevent X connections to your VNC server via TCP.\n\n# Use \"-localhost\" to prevent remote VNC clients connecting except when\n# doing so through a secure tunnel.  See the \"-via\" option in the\n# `man vncviewer' manual page.\n\n# VNCSERVERS=\"2:myusername\"\n# VNCSERVERARGS[2]=\"-geometry 800x600 -nolisten tcp -localhost\"\n\nVNCSERVERS=\"1:vncuser\"\nVNCSERVERARGS[1]=\"-geometry 1024x768\"\n```\n* \u8907\u6570\u30e6\u30fc\u30b6\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u3088\u3044\n\n```bash:/etc/sysconfig/vncservers\nVNCSERVERS=\"1:vncuser 2:root\"\nVNCSERVERARGS[1]=\"-geometry 1024x768\"\nVNCSERVERARGS[2]=\"-geometry 800x600\"\n```\n\n### 2.3 \u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4fee\u6b63\n\n* VNC\u3092\u8d77\u52d5\u3059\u308b\n\n```shell-session\n# /etc/rc.d/init.d/vncserver start\nVNC \u30b5\u30fc\u30d0\u30fc \u3092\u8d77\u52d5\u4e2d: 1:vncuser\nNew 'centos65.example.com:1 (vncuser)' desktop is centos65.example.com:1\n\nStarting applications specified in /home/vncuser/.vnc/xstartup\nLog file is /home/vncuser/.vnc/centos65.example.com:1.log\n\n                                                           [  OK  ]\n```\n\n* \u30db\u30b9\u30c8\u540d\u306e\u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001VNC\u8d77\u52d5\u6642\u306b\u4ee5\u4e0b\u304c\u51fa\u529b\u3055\u308c\u308b\n\n```shell-session\nxauth: (stdin):1:  bad display name \"centos65.example.com:1\" in \"add\" command\n```\n\n* GNOME\u3092\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8`xstartup`\u3092\u4fee\u6b63\u3059\u308b\n\n```bash:/home/vncuser/.vnc/xstartup\n#!/bin/sh\n\n[ -r /etc/sysconfig/i18n ] && . /etc/sysconfig/i18n\nexport LANG\nexport SYSFONT\nvncconfig -iconic &\nunset SESSION_MANAGER\nunset DBUS_SESSION_BUS_ADDRESS\nOS=`uname -s`\nif [ $OS = 'Linux' ]; then\n  case \"$WINDOWMANAGER\" in\n    *gnome*)\n      if [ -e /etc/SuSE-release ]; then\n        PATH=$PATH:/opt/gnome/bin\n        export PATH\n      fi\n      ;;\n  esac\nfi\nif [ -x /etc/X11/xinit/xinitrc ]; then\n  exec /etc/X11/xinit/xinitrc\nfi\nif [ -f /etc/X11/xinit/xinitrc ]; then\n  exec sh /etc/X11/xinit/xinitrc\nfi\n[ -r $HOME/.Xresources ] && xrdb $HOME/.Xresources\nxsetroot -solid grey\n#xterm -geometry 80x24+10+10 -ls -title \"$VNCDESKTOP Desktop\" &    \u2190 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n#twm &                                                             \u2190 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ngnome-session &                                                    \u2190 \u8ffd\u8a18\n```\n\n* VNC\u3092\u518d\u8d77\u52d5\n\n```shell-session\n# /etc/rc.d/init.d/vncserver restart\nVNC \u30b5\u30fc\u30d0\u30fc \u3092\u505c\u6b62\u4e2d: 1:vncuser                           [  OK  ]\nVNC \u30b5\u30fc\u30d0\u30fc \u3092\u8d77\u52d5\u4e2d: 1:vncuser\nNew 'centos65.example.com:1 (vncuser)' desktop is centos65.example.com:1\n\nStarting applications specified in /home/vncuser/.vnc/xstartup\nLog file is /home/vncuser/.vnc/centos65.example.com:1.log\n\n                                                           [  OK  ]\n```\n\n* VNC\u3092\u81ea\u52d5\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n\n```shell-session\n# chkconfig vncserver on\n# chkconfig --list vncserver\nvncserver       0:off   1:off   2:on    3:on    4:on    5:on    6:off\n```\n\n## 3. \u52d5\u4f5c\u78ba\u8a8d\n\n* \u30d6\u30e9\u30a6\u30b6\u3092\u8d77\u52d5\u3059\u308b\u30a2\u30af\u30bb\u30b9\u7aef\u672b\u306fWindows\u3092\u60f3\u5b9a\n\n### 3.1 VNC\u30b5\u30fc\u30d0\u8d77\u52d5\u72b6\u614b\u78ba\u8a8d\n\n* Linux\u30de\u30b7\u30f3\u4e0a\u3067VNC\u30b5\u30fc\u30d0\u304cLISTEN\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n    * \"5801\"\u306f\u30d6\u30e9\u30a6\u30b6\uff08Java Applet\uff09\u30a2\u30af\u30bb\u30b9\n    * \"5901\"\u306fVNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30af\u30bb\u30b9\n    * \u30dd\u30fc\u30c8\u756a\u53f7\u306f\u305d\u308c\u305e\u308c`5800+<\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u756a\u53f7>`\u3001`5900+<\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u756a\u53f7>`\n\n```shell-session\n# netstat -lntp | egrep \":590|:580\"\ntcp        0      0 0.0.0.0:5901                0.0.0.0:*                   LISTEN      3305/Xvnc\ntcp        0      0 0.0.0.0:5801                0.0.0.0:*                   LISTEN      3305/Xvnc\n```\n\n### 3.2 Java\u4f8b\u5916\u30b5\u30a4\u30c8\u8a2d\u5b9a\n\n* \u672c\u7bc0\u306e\u5185\u5bb9\u3092\u5b9f\u65bd\u305b\u305a\u306b\u30d6\u30e9\u30a6\u30b6\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d6\u30ed\u30c3\u30af\u3055\u308c\u308b\n\n![Java\u306b\u3088\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d6\u30ed\u30c3\u30af](https://lh4.googleusercontent.com/-stsl7w6CsYg/U_84i-DhlqI/AAAAAAAAAHU/XegP-I2BVxw/w566-h284-no/Java%E3%81%AB%E3%82%88%E3%82%8B%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF.png \"Java\u306b\u3088\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d6\u30ed\u30c3\u30af\")\n\n* Windows\u306e\u30b9\u30bf\u30fc\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cConfigure Java\u300d\u3092\u9078\u629e\u3057\u3066Java\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u3092\u8d77\u52d5\u3059\u308b\n\n* Java\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u306e\u4f8b\u5916\u30b5\u30a4\u30c8\u306b`http://<Linux\u30b2\u30b9\u30c8IP\u30a2\u30c9\u30ec\u30b9>:5801`\u3092\u8ffd\u52a0\u3059\u308b\n\n![Java\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30fb\u30d1\u30cd\u30eb](https://lh4.googleusercontent.com/-uCjWFc8xG4I/U_84h4GyGaI/AAAAAAAAAHQ/rIfuiYCKlMM/w570-h589-no/Java%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%BB%E3%83%91%E3%83%8D%E3%83%AB-001.png \"Java\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30fb\u30d1\u30cd\u30eb\")\n\n![\u4f8b\u5916\u30b5\u30a4\u30c8\u30fb\u30ea\u30b9\u30c8](https://lh4.googleusercontent.com/-cC5d83fgH6o/U_84hcqHqpI/AAAAAAAAAHI/a126nfr-BOM/w589-h398-no/Java%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%BB%E3%83%91%E3%83%8D%E3%83%AB-002_%E4%BE%8B%E5%A4%96%E3%82%B5%E3%82%A4%E3%83%88%E3%83%BB%E3%83%AA%E3%82%B9%E3%83%88.png \"\u4f8b\u5916\u30b5\u30a4\u30c8\u30fb\u30ea\u30b9\u30c8\")\n\n![\u4f8b\u5916\u30b5\u30a4\u30c8\u30fb\u30ea\u30b9\u30c8](https://lh5.googleusercontent.com/-LV2BKwBLrFk/U_84gtJbX_I/AAAAAAAAAHA/kvcsrmEidRE/w589-h398-no/Java%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%BB%E3%83%91%E3%83%8D%E3%83%AB-003_%E4%BE%8B%E5%A4%96%E3%82%B5%E3%82%A4%E3%83%88%E3%83%BB%E3%83%AA%E3%82%B9%E3%83%88.png \"\u4f8b\u5916\u30b5\u30a4\u30c8\u30fb\u30ea\u30b9\u30c8\")\n\n![\u4f8b\u5916\u30b5\u30a4\u30c8\u30fb\u30ea\u30b9\u30c8](https://lh4.googleusercontent.com/-xEfKKNXbCcI/U_84emQGOzI/AAAAAAAAAGs/JRkxDpqXmTI/w566-h325-no/Java%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%BB%E3%83%91%E3%83%8D%E3%83%AB-004_%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%AD%A6%E5%91%8A%2B-%2BHTTP%E3%83%AD%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3.png \"\u4f8b\u5916\u30b5\u30a4\u30c8\u30fb\u30ea\u30b9\u30c8\")\n\n![Java\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30fb\u30d1\u30cd\u30eb](https://lh5.googleusercontent.com/-5n28iFfdzNc/U_84frrUQqI/AAAAAAAAAG0/CJUwSJbyTyM/w570-h589-no/Java%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%BB%E3%83%91%E3%83%8D%E3%83%AB-005.png \"Java\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30fb\u30d1\u30cd\u30eb\")\n\n* \u30d6\u30e9\u30a6\u30b6\u306b`http://<Linux\u30b2\u30b9\u30c8IP\u30a2\u30c9\u30ec\u30b9>:5801`\u3092\u6307\u5b9a\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\n![\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8b66\u544a](https://lh5.googleusercontent.com/-5JmHC_DMer0/U_84d1kpUlI/AAAAAAAAAGk/tArcKdur7tQ/w653-h338-no/%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6-001_%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%AD%A6%E5%91%8A.png \"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8b66\u544a\")\n\n![\u30ed\u30b0\u30a4\u30f3\u753b\u9762](https://lh5.googleusercontent.com/-aEI1dRN39Lw/U_84chKcXkI/AAAAAAAAAGg/IIVo2Xl2WgM/w796-h617-no/%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6-002_%E3%83%AD%E3%82%B0%E3%82%A4%E3%83%B3%E7%94%BB%E9%9D%A2.png \"\u30ed\u30b0\u30a4\u30f3\u753b\u9762\")\n\n![\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u753b\u9762](https://lh6.googleusercontent.com/-GbQNY5CPW7E/U_84b3LS0pI/AAAAAAAAAHc/m0-nsIiIGPI/w897-h756-no/%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6-003_desktop.png \"\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u753b\u9762\")\n\n---\n", "tags": ["VNC", "CentOS", "RHEL"]}