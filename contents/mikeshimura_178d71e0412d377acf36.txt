{"tags": ["reactjs", "JavaScript", "flux"], "context": " More than 1 year has passed since last update.GitHub simplereactjs https://github.com/mikeshimura/simplereactjs\nReactjs\u306f\u3001\u672c\u6765 View\u306e\u307f\u306e\u90e8\u5206\u3067\u3001\u305d\u308c\u3092\u88dc\u5b8c\u3059\u308b\u305f\u3081\u306b\u3001flux\u3084redux\u304c\u5fc5\u8981\u3068\u8003\u3048\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001\u4e0b\u8a18\u306e\u539f\u5247\u306b\u305d\u3063\u3066\u8a18\u8ff0\u3059\u308c\u3070\u3001\u7c21\u5358\u306b\u5c11\u306a\u3044\u30b3\u30fc\u30c9\u3067\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\n\n\u72b6\u614b\u3092\u7ba1\u7406\u3059\u308b state\u306f\u3001\u4e00\u756a TOP\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u306e\u307f\u5b9a\u7fa9\u3059\u308b\u3002\n\u4e00\u756a TOP\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u53c2\u7167\u304c\u5bb9\u6613\u306b\u306a\u308b\u3088\u3046\u3001Global\u5909\u6570\uff08\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3000$w.app)\u306b\u8a2d\u5b9a\u3059\u308b\u3002\n\u4e0a\u8a18\u306eGlobal\u5909\u6570\u304b\u3089\u3001\u3069\u3053\u304b\u3089\u3067\u3082 state\u304c\u53c2\u7167\u3067\u304d\u308b\u3002\uff08\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3000$w.app.state)\nstate\u306e\u5909\u66f4\u306f\u3001\u5fc5\u305a SetState()\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\u3002\uff08\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3000$w.app.SetState(XXXXX))\nInput\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u3000name\u306f\u3001state\u306e\u968e\u5c64\u69cb\u9020\u3092#\u3067\u533a\u5207\u3063\u3066\u8a2d\u5b9a\u3059\u308b\u3002\n\u4f8b\u3048\u3070\u3001form.name\u306f form#name\u3002\n\u3053\u308c\u306b\u3088\u308a\u3001onChange event\u306f\u3001\u5171\u901a\u51e6\u7406 \u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3001\n\u4f8b\u3048\u3070 $c.onChange\u3092\u547c\u3073\u51fa\u3059\u3060\u3051\u3067\u3001\u81ea\u52d5\u7684\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u3002\uff08CheckBox\u306e\u5834\u5408\u306f\u3001$c.onChecked)\n\n\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\n\n\u306a\u304a\u5f53\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001Heroku\u3067Demo\u304c\u898b\u3089\u308c\u307e\u3059\u3002http://simplereactjs.herokuapp.com/\n\u307e\u305f\u4e0b\u8a18\u30ea\u30f3\u30af\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u89e3\u51cd\u3059\u308c\u3070\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304b\u305b\u307e\u3059\u3002\nindex.html\u3084main.jsx\u3092\u7de8\u96c6\u3057\u3066\u3001\u81ea\u5206\u3067\u8a66\u3059\u4e8b\u304c\u7c21\u5358\u306b\u51fa\u6765\u307e\u3059\u3002 \n\u306a\u304a\u4eca\u56de\u306f\u3001JSXTransforer\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u52d5\u304b\u3059\u3053\u3068\u3067\u3001jsx\u30d5\u30a1\u30a4\u30eb\u306e\u4e8b\u524d\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u4e0d\u8981\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306a\u304f\u30010.13.3\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\uff080.14\u4ee5\u964d\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\uff09  \nwindows\nmac amd64 \n\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u52d5\u304b\u3057\u65b9\n\n\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f\u30dc\u30bf\u30f3\n\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u30c6\u30fc\u30d6\u30eb\u306b\u8868\u793a\u3057\u307e\u3059\u3002\u4e0b\u306e\u30d5\u30a9\u30fc\u30e0\u306f\u30af\u30ea\u30a2\u3055\u308c\u307e\u3059\u3002\n\u30c6\u30fc\u30d6\u30eb\u5185\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u305d\u306e\u884c\u306e\u30c7\u30fc\u30bf\u304c\u9078\u629e\u3055\u308c\u3066\u4e0b\u306e\u30d5\u30a9\u30fc\u30e0\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \n\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.dataRead} name=\"btnSearch\"\n                style={{width:$w.W.b1,marginLeft:20}}>\u30c7\u30fc\u30bf\u8aad\u8fbc </b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    callback: function(res,status) { \n        var para =\n            {\n                rcds:res,\n                selRow:-1,\n                form:$c.deepCopy($w.app.state.blank)\n            }\n         $w.app.setState(para)\n    },    \n    dataRead: function() {    \n        $c.ajaxPostJson(\"dataget\",{},this.callback)\n    },\n\n\n\u66f4\u65b0\u30dc\u30bf\u30f3\n\u30d5\u30a9\u30fc\u30e0\u3067\u4fee\u6b63\u3057\u305f\u5185\u5bb9\u3092\u4e0a\u8a18\u30c6\u30fc\u30d6\u30eb\u306b\u53cd\u6620\u3057\u307e\u3059\u3002 \n\u672c\u6765\u306f\u30b5\u30fc\u30d0\u30fc\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308a\u3001\u623b\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u53cd\u6620\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u7701\u7565\u3057\u3066\u3001\u76f4\u63a5\u53cd\u6620\u3057\u3066\u3044\u307e\u3059\u3002\nID\u304cnull\u306e\u5834\u5408\u306f\u3001\u65b0\u898f\u8ffd\u52a0\u51e6\u7406\u3001\u5165\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30c7\u30fc\u30bf\u66f4\u65b0\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\n\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.updateClick} name=\"btnUpdate\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u66f4\u65b0</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    updateClick:function(e){\n        var para=$w.app.state\n        if ($w.app.state.form.id==null){\n            var len=$w.app.state.rcds.length\n            para.rcds[len]=$c.deepCopy($w.app.state.form)\n            para.rcds[len][\"id\"]=this.getId()\n            para.selRow=-1\n            para.form=$c.deepCopy($w.app.state.blank)\n        } else {\n            para.rcds[$w.app.state.selRow]=$c.deepCopy($w.app.state.form)\n        }\n        $w.app.setState(para)\n\n\n\u65b0\u898f\u30dc\u30bf\u30f3\n\u30d5\u30a9\u30fc\u30e0\u3092\u30af\u30ea\u30a2\u3057\u307e\u3059\u3002 \n\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.newClick} name=\"btnNew\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u65b0\u898f</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    newClick:function(e){\n        var para={\n            selRow:-1,\n            form:$c.deepCopy($w.app.state.blank)\n        }\n        $w.app.setState(para)\n    },\n\n\n\u524a\u9664\u30dc\u30bf\u30f3\n\u30d5\u30a9\u30fc\u30e0\u306e\u30c7\u30fc\u30bf\u3092\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u524a\u9664\u3057\u307e\u3059\u3002\n\u672c\u6765\u306f\u30b5\u30fc\u30d0\u30fc\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308a\u3001\u623b\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u53cd\u6620\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u7701\u7565\u3057\u3066\u3001\u76f4\u63a5\u53cd\u6620\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.deleteClick} name=\"btnDelete\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u524a\u9664</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    deleteClick:function(e){\n        var para=$w.app.state\n        para.rcds.splice(para.selRow,1)\n        para.selRow=-1\n        para.form=$c.deepCopy($w.app.state.blank)\n        $w.app.setState(para)\n    },\n\n\n\u30c0\u30a4\u30a2\u30ed\u30b0\u3000\u30dc\u30bf\u30f3\n\u30e2\u30fc\u30c0\u30eb\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.dialogTest} name=\"btnSearch2\"\n                style={{width:$w.W.b1,marginLeft:20}}>\u30c0\u30a4\u30a2\u30ed\u30b0</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    dialogTest:function(e){\n        para=$w.app.state.alert\n        para[\"isShow\"]=true\n        para[\"message\"]=\"\u3053\u308c\u306f\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\\n\u30c6\u30b9\u30c8\u3067\u3059\u3002\"\n        $w.app.setState(para)\n    }\n\n\n\u30c0\u30a4\u30a2\u30ed\u30b0\u3000\u306e\u4e86\u89e3 \u30dc\u30bf\u30f3\n\u30e2\u30fc\u30c0\u30eb\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u30af\u30ed\u30fc\u30ba\u3057\u307e\u3059\u3002\u3000\u5171\u901a\u306ejsx\u30d5\u30a1\u30a4\u30eb\u306b\u3042\u308a\u307e\u3059\u3002\n\n\n    <b.Button bsStyle=\"primary\" onClick={this.onClick} \n                name=\"alert#CloseBtn\">\u4e86\u89e3</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    onClick:function(){\n        para=$w.app.state.alert\n        para[\"isShow\"]=false\n        para[\"message\"]=\"\"\n        $w.app.setState(para)\n    }\n\n\nApplication\u5b9a\u7fa9\u306e\u6700\u521d\u306e\u90e8\u5206\uff08\u4f8b\uff09\n\u3053\u3053\u3067\u3001state\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u308b\u3002\n var Application = React.createClass({\n    getInitialState: function() {\n        $w.app = this; //\u3053\u3053\u3067Global\u5909\u6570\u306b\u8a2d\u5b9a\u3002\u306a\u304a$w\u306f\u4e88\u3081\u5b9a\u7fa9\u3057\u3066\u3042\u308b\u3002\n        return {\n                    blank:{\n                        action:false,\n                        id:null,\n                        mail:\"\",\n                        name:\"\",\n                        cat:\"\",\n                    },\n                    rcds:[],\n                    form:{\n                        action:false,\n                        id:null,\n                        mail:\"\",\n                        name:\"\",\n                        cat:\"\",\n                    },\n                    selRow:-1,\n                    alert:{\n                        isShow:false,\n                        message:\"\"\n                    }\n                  };\n    },\n\n\n\u30c6\u30ad\u30b9\u30c8 Input \uff08\u4f8b\uff09\n<b.Input type=\"text\" name=\"form#name\" \n                value={$w.app.state.form.name} onChange={$c.onChange} \n                style={{width:\"120\",marginLeft:20,color:\"#000000\"}}/>\n\n\n\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9 \uff08\u4f8b\uff09\n<b.Input type=\"checkbox\" name=\"form#action\" \n            checked={$w.app.state.form.action?\"checked\":\"\"}\u3000\n            onChange={$c.onChecked} \n            style={{width:\"20\",height:\"20\",marginTop:-10\n            ,marginLeft:0,color:\"#000000\"}}/>\n\n\n\u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9 \uff08\u4f8b\uff09\n<b.Input type=\"select\" label='' name={\"form#cat\"} \n              onChange={$c.onChange}  \n              style={{height:30, width:88,color:\"#000000\"}}>\n                {$c.Option($w.app.state.form.cat,$w.catMap)}\n            </b.Input>\n\n\nmain.jsx\n  $c.checkAndCreate(\"$w\");\n $w.tableColW={c1:120,c2:200,c3:40,c4:40,c5:40}\n $w.W={b1:100,b2:50,l1:60}\n $w.catMap={\n     \"\":\"\",\n     \"1\":\"CAT1\",\n     \"2\":\"CAT2\",\n     \"3\":\"CAT3\",\n }\n var b = ReactBootstrap;\n var Item = React.createClass({ \n  render: function() {\n    var c = this.props.rcd;\n    return (\n      <tr key={this.props.no*10} id={\"row\"+this.props.no} \n        onClick={$w.app.rowClick}  style={{backgroundColor: \n            (this.props.no==$w.app.state.selRow)?\"#FFD0D0\":\"#FFFFFF\"}} >\n        <td key={this.props.no*10+1}\n            style={{width:$w.tableColW.c1,border:1,borderStyle:\"solid\"}}>\n                {c.name}</td>\n        <td key={this.props.no*10+2}\n            style={{width:$w.tableColW.c2,border:1,borderStyle:\"solid\"}}>\n                {c.mail}</td>\n        <td key={this.props.no*10+3}\n            style={{width:$w.tableColW.c3,border:1,borderStyle:\"solid\"}}>\n                {c.action?\"\uff38\":\"\"}</td>\n        <td key={this.props.no*10+4}\n            style={{width:$w.tableColW.c4,border:1,borderStyle:\"solid\"}}>\n                {$w.catMap[c.cat]}</td>\n        <td key={this.props.no*10+5}\n            style={{width:$w.tableColW.c5,border:1,borderStyle:\"solid\"}}>\n                {c.id}</td>\n      </tr>\n    );\n  }\n });\n  var Application = React.createClass({\n    getInitialState: function() {\n        $w.app = this;\n        return {\n                    blank:{\n                        action:false,\n                        id:null,\n                        mail:\"\",\n                        name:\"\",\n                        cat:\"\",\n                    },\n                    rcds:[],\n                    form:{\n                        action:false,\n                        id:null,\n                        mail:\"\",\n                        name:\"\",\n                        cat:\"\",\n                    },\n                    selRow:-1,\n                    alert:{\n                        isShow:false,\n                        message:\"\"\n                    }\n                  };\n    },\n    render: function() {\n        var rcds = $w.app.state.rcds;\n        var object_list = [];\n        for (var i = 0; i < rcds.length; i++) {\n            object_list.push(\n                <Item rcd={rcds[i]} no={i}/>\n            );\n        }\n         return (  \n            <div style={{width:480}}>\n        <b.Row style={{margin:20}}>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.dataRead} name=\"btnSearch\"\n                style={{width:$w.W.b1,marginLeft:20}}>\u30c7\u30fc\u30bf\u8aad\u8fbc </b.Button>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.dialogTest} name=\"btnSearch2\"\n                style={{width:$w.W.b1,marginLeft:20}}>\u30c0\u30a4\u30a2\u30ed\u30b0</b.Button>\n        </b.Row>\n        <table cellPadding={10} cellSpacing={10} \n            style={{border:1,borderStyle:\"solid\",\n             width:500,backgroundColor: \"#F0F0F0\"}}>\n            <thead>\n            <tr>\n              <th width={$w.tableColW.c1} style={{border:1,borderStyle:\"solid\"}}>\n                \u540d\u524d</th>\n              <th width={$w.tableColW.c2} style={{border:1,borderStyle:\"solid\"}}>\n                \u30e1\u30fc\u30eb</th>\n              <th width={$w.tableColW.c3} style={{border:1,borderStyle:\"solid\"}}>\n                Action</th>\n              <th width={$w.tableColW.c4} style={{border:1,borderStyle:\"solid\"}}>\n                Cat</th>\n              <th width={$w.tableColW.c5} style={{border:1,borderStyle:\"solid\"}}>\n                id</th>\n            </tr>\n            </thead>\n            <tbody>\n\n            {object_list}\n            </tbody>\n        </table>        \n        <b.Row style={{margin:20}}>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.updateClick} name=\"btnUpdate\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u66f4\u65b0</b.Button>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.newClick} name=\"btnNew\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u65b0\u898f</b.Button>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.deleteClick} name=\"btnDelete\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u524a\u9664</b.Button>\n        </b.Row>  \n        <b.Row style={{marginLeft:20}}>\n            <span style={{width:$w.W.l1,marginLeft:20,float:\"left\",\n                color:\"#000000\"}}>\u540d\u524d</span>\n            <b.Input type=\"text\" name=\"form#name\" \n                value={$w.app.state.form.name} onChange={$c.onChange} \n                style={{width:\"120\",marginLeft:20,color:\"#000000\"}}/>\n          </b.Row> \n        <b.Row style={{marginLeft:20}}>\n            <span style={{width:$w.W.l1,marginLeft:20,float:\"left\",\n                color:\"#000000\"}}>\u30e1\u30fc\u30eb</span>\n             <b.Input type=\"text\" name=\"form#mail\" \n                value={$w.app.state.form.mail} onChange={$c.onChange}  \n                style={{width:\"300\",marginLeft:20,color:\"#000000\"}}/>\n        </b.Row> \n        <b.Row style={{marginLeft:20,height:40}}>\n           <span style={{width:$w.W.l1,marginLeft:20,float:\"left\",\n            color:\"#000000\"}}>Action</span>\n            <b.Input type=\"checkbox\" name=\"form#action\" \n            checked={$w.app.state.form.action?\"checked\":\"\"}\u3000\n            onChange={$c.onChecked} \n            style={{width:\"20\",height:\"20\",marginTop:-10\n            ,marginLeft:0,color:\"#000000\"}}/>\n        </b.Row> \n          <b.Row style={{marginLeft:20}}>\n            <span style={{width:$w.W.l1,marginLeft:20,float:\"left\",\n                color:\"#000000\"}}>CAT</span>\n            <b.Input type=\"select\" label='' name={\"form#cat\"} \n              onChange={$c.onChange}  \n              style={{height:30, width:88,color:\"#000000\"}}>\n                {$c.Option($w.app.state.form.cat,$w.catMap)}\n            </b.Input>\n        </b.Row> \n        <b.Row style={{marginLeft:20}}>\n            <span style={{width:$w.W.l1,float:\"left\",\n                marginLeft:20,color:\"#000000\"}}>ID</span>\n            <b.Input type=\"text\" value={$w.app.state.form.id}\n                disabled  style={{width:\"60\",color:\"#000000\"}}/>\n        </b.Row> \n        <span style={{clear:\"both\"}}></span>\n        <$c.Alert/>          \n        </div>\n        )\n    } ,\n    callback: function(res,status) { \n        var para =\n            {\n                rcds:res,\n                selRow:-1,\n                form:$c.deepCopy($w.app.state.blank)\n            }\n         $w.app.setState(para)\n    },    \n    dataRead: function() {    \n        $c.ajaxPostJson(\"dataget\",{},this.callback)\n    },\n    rowClick:function(e){\n        row=e.target.parentNode.id.substr(3)\n        var para={\n            selRow:parseInt(row,10),\n            form:$c.deepCopy($w.app.state.rcds[row])\n        }\n        $w.app.setState(para)\n    },\n    newClick:function(e){\n        var para={\n            selRow:-1,\n            form:$c.deepCopy($w.app.state.blank)\n        }\n        $w.app.setState(para)\n    },\n    getId:function(){\n        var maxid=-1\n        for (i=0;i<$w.app.state.rcds.length;i++){\n            if ($w.app.state.rcds[i][\"id\"] > maxid){\n                maxid = $w.app.state.rcds[i][\"id\"]\n            }\n        }\n        return maxid+1\n    },\n    deleteClick:function(e){\n        var para=$w.app.state\n        para.rcds.splice(para.selRow,1)\n        para.selRow=-1\n        para.form=$c.deepCopy($w.app.state.blank)\n        $w.app.setState(para)\n    },    \n    updateClick:function(e){\n        var para=$w.app.state\n        if ($w.app.state.form.id==null){\n            var len=$w.app.state.rcds.length\n            para.rcds[len]=$c.deepCopy($w.app.state.form)\n            para.rcds[len][\"id\"]=this.getId()\n            para.selRow=-1\n            para.form=$c.deepCopy($w.app.state.blank)\n        } else {\n            para.rcds[$w.app.state.selRow]=$c.deepCopy($w.app.state.form)\n        }\n        $w.app.setState(para)\n    },\n    dialogTest:function(e){\n        para=$w.app.state.alert\n        para[\"isShow\"]=true\n        para[\"message\"]=\"\u3053\u308c\u306f\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\\n\u30c6\u30b9\u30c8\u3067\u3059\u3002\"\n        $w.app.setState(para)\n    }\n  });\nReact.render(React.createElement(Application, null),\n     document.getElementById('content'));\n\n\ncommonjsx.jsx\nvar b = ReactBootstrap;\n$c.MulitLine = React.createClass({\n  render: function () {\n    var sarray = this.props.value.split(\"\\n\");\n    var lines = sarray.map(function(line,i){\n        if (i===0){\n          return <span key={i}>{line}</span>;\n        } else {\n          return <span  key={i}><br/>{line}</span>;\n        }\n      },this);\n    return (\n        <div>\n        {lines}\n        </div>\n      );\n  }\n});\n$c.Alert = React.createClass({\n    mixins: [b.OverlayMixin],\n    render: function () {\n        return (\n            <span/>\n        );\n    },\n    renderOverlay: function () {\n        if ($w.app.state.alert.isShow==false){\n            return (\n            <span/>\n        );\n    }\n    return (\n        <b.Modal onRequestHide={function(){}} className=\"alert\" >\n            <div className=\"modal-body\">\n            <$c.MulitLine value={$w.app.state.alert.message} />\n                </div>\n            <div className=\"modal-footer\">\n            <b.Button bsStyle=\"primary\" onClick={this.onClick} \n                name=\"alert#CloseBtn\">\u4e86\u89e3</b.Button>\n            </div>\n            </b.Modal>\n        );\n    },\n    onClick:function(){\n        para=$w.app.state.alert\n        para[\"isShow\"]=false\n        para[\"message\"]=\"\"\n        $w.app.setState(para)\n    }\n});  \n$c.Option= function(value,map){\nvar options = []\nfor (key in map){\n        options.push( \n        <option  \n        value={key} label={map[key]} \n        selected={(key==value)?\"selected\":\"\"}\n        >{map[key]}</option> )\n    }  \n    return options  \n}\n\n\ncommon.js\n\"use strict\";\nvar checkAndCreate;\ncheckAndCreate = function (v) {\n    if (window[v] == null) {\n        return window[v] = {};\n    }\n};\ncheckAndCreate(\"$c\");\n$c.checkAndCreate = checkAndCreate;\n$c.contextpath = \"/\";\n$c.onChange = function (e) {\n    var state = $w.app.state;\n    var names = e.target.name.split(\"#\")\n    switch (names.length) {\n        case 1: state[names[0]] = e.target.value\n            break;\n        case 2: state[names[0]][names[1]] = e.target.value\n            break;\n        case 3: state[names[0]][names[1]][names[2]] = e.target.value\n            break;\n        case 4: state[names[0]][names[1]][names[2]][names[3]]\n             = e.target.value\n            break;\n        default:\n            console.error(\"name length over\")\n    }\n    $w.app.setState(state)\n\n};\n$c.onChecked = function (e) {\n    var state = $w.app.state;\n    var names = e.target.name.split(\"#\")\n    switch (names.length) {\n        case 1: state[names[0]] = e.target.checked ? true : false\n            break;\n        case 2: state[names[0]][names[1]] = e.target.checked ?\n             true : false\n            break;\n        case 3: state[names[0]][names[1]][names[2]] =\n            e.target.checked ? true : false\n            break;\n        case 4: state[names[0]][names[1]][names[2]][names[3]] = \n            e.target.checked ? true : false\n            break;\n        default:\n            console.error(\"name length over\")\n    }\n    $w.app.setState(state)\n};\n$c.ajaxPost = function (url, data, contenttype, callback) {\n    $.ajax({\n        type: \"POST\",\n        url: $c.contextpath + url,\n        data: data,\n        contentType: contenttype\n    }).fail(function (jqXHR, textStatus) {\n        console.log(\"Internet or Server Error\")\n        callback(jqXHR, textStatus)\n    }).done(callback);\n}\n$c.ajaxPostJson = function (url, param, callback) {\n    var data = JSON.stringify(param);\n    $c.ajaxPost(url, data, \"text/json\", callback);\n}\n$c.deepCopy = function (obj) {\n    return $.extend(true, {}, obj)\n}\n\n\nGitHub [simplereactjs https://github.com/mikeshimura/simplereactjs](https://github.com/mikeshimura/simplereactjs)\n\nReactjs\u306f\u3001\u672c\u6765 View\u306e\u307f\u306e\u90e8\u5206\u3067\u3001\u305d\u308c\u3092\u88dc\u5b8c\u3059\u308b\u305f\u3081\u306b\u3001flux\u3084redux\u304c\u5fc5\u8981\u3068\u8003\u3048\u3089\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u3057\u304b\u3057\u3001\u4e0b\u8a18\u306e\u539f\u5247\u306b\u305d\u3063\u3066\u8a18\u8ff0\u3059\u308c\u3070\u3001\u7c21\u5358\u306b\u5c11\u306a\u3044\u30b3\u30fc\u30c9\u3067\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\n\n- \u72b6\u614b\u3092\u7ba1\u7406\u3059\u308b state\u306f\u3001\u4e00\u756a TOP\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u306e\u307f\u5b9a\u7fa9\u3059\u308b\u3002\n- \u4e00\u756a TOP\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u53c2\u7167\u304c\u5bb9\u6613\u306b\u306a\u308b\u3088\u3046\u3001Global\u5909\u6570\uff08\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3000$w.app)\u306b\u8a2d\u5b9a\u3059\u308b\u3002\n- \u4e0a\u8a18\u306eGlobal\u5909\u6570\u304b\u3089\u3001\u3069\u3053\u304b\u3089\u3067\u3082 state\u304c\u53c2\u7167\u3067\u304d\u308b\u3002\uff08\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3000$w.app.state)\n- state\u306e\u5909\u66f4\u306f\u3001\u5fc5\u305a SetState()\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\u3002\uff08\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3000$w.app.SetState(XXXXX))\n- Input\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u3000name\u306f\u3001state\u306e\u968e\u5c64\u69cb\u9020\u3092#\u3067\u533a\u5207\u3063\u3066\u8a2d\u5b9a\u3059\u308b\u3002  \n  \u4f8b\u3048\u3070\u3001form.name\u306f form#name\u3002  \n  \u3053\u308c\u306b\u3088\u308a\u3001onChange event\u306f\u3001\u5171\u901a\u51e6\u7406 \u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3001\n  \u4f8b\u3048\u3070 \\$c.onChange\u3092\u547c\u3073\u51fa\u3059\u3060\u3051\u3067\u3001\u81ea\u52d5\u7684\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u3002\uff08CheckBox\u306e\u5834\u5408\u306f\u3001$c.onChecked)\n\n## \u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\n![Simple1](https://bytebucket.org/mikeshimura/goreport/wiki/image/simplereactjs.jpg \"simplereactjs\")  \n\u306a\u304a\u5f53\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001Heroku\u3067Demo\u304c\u898b\u3089\u308c\u307e\u3059\u3002http://simplereactjs.herokuapp.com/  \n\u307e\u305f\u4e0b\u8a18\u30ea\u30f3\u30af\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u89e3\u51cd\u3059\u308c\u3070\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304b\u305b\u307e\u3059\u3002  \nindex.html\u3084main.jsx\u3092\u7de8\u96c6\u3057\u3066\u3001\u81ea\u5206\u3067\u8a66\u3059\u4e8b\u304c\u7c21\u5358\u306b\u51fa\u6765\u307e\u3059\u3002 \n\n\n\u306a\u304a\u4eca\u56de\u306f\u3001JSXTransforer\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u52d5\u304b\u3059\u3053\u3068\u3067\u3001jsx\u30d5\u30a1\u30a4\u30eb\u306e\u4e8b\u524d\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u4e0d\u8981\u306b\u3057\u3066\u3044\u307e\u3059\u3002  \n\u3053\u306e\u305f\u3081\u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306a\u304f\u30010.13.3\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\uff080.14\u4ee5\u964d\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\uff09  \n\n \n[windows](https://bytebucket.org/mikeshimura/goreport/wiki/excel-by-text/excel-by-ext_windows_amd64.exe)   \n[mac amd64](https://bytebucket.org/mikeshimura/goreport/wiki/excel-by-text/excel-by-text_darwin_386) \n\n## \u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u52d5\u304b\u3057\u65b9  \n\n- \u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f\u30dc\u30bf\u30f3  \n  \u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u30c6\u30fc\u30d6\u30eb\u306b\u8868\u793a\u3057\u307e\u3059\u3002\u4e0b\u306e\u30d5\u30a9\u30fc\u30e0\u306f\u30af\u30ea\u30a2\u3055\u308c\u307e\u3059\u3002  \n  \u30c6\u30fc\u30d6\u30eb\u5185\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u305d\u306e\u884c\u306e\u30c7\u30fc\u30bf\u304c\u9078\u629e\u3055\u308c\u3066\u4e0b\u306e\u30d5\u30a9\u30fc\u30e0\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \n\n```js\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.dataRead} name=\"btnSearch\"\n                style={{width:$w.W.b1,marginLeft:20}}>\u30c7\u30fc\u30bf\u8aad\u8fbc </b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    callback: function(res,status) { \n        var para =\n            {\n                rcds:res,\n                selRow:-1,\n                form:$c.deepCopy($w.app.state.blank)\n            }\n         $w.app.setState(para)\n    },    \n    dataRead: function() {    \n        $c.ajaxPostJson(\"dataget\",{},this.callback)\n    },\n``` \n- \u66f4\u65b0\u30dc\u30bf\u30f3  \n  \u30d5\u30a9\u30fc\u30e0\u3067\u4fee\u6b63\u3057\u305f\u5185\u5bb9\u3092\u4e0a\u8a18\u30c6\u30fc\u30d6\u30eb\u306b\u53cd\u6620\u3057\u307e\u3059\u3002 \n  \u672c\u6765\u306f\u30b5\u30fc\u30d0\u30fc\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308a\u3001\u623b\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u53cd\u6620\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u7701\u7565\u3057\u3066\u3001\u76f4\u63a5\u53cd\u6620\u3057\u3066\u3044\u307e\u3059\u3002  \n  ID\u304cnull\u306e\u5834\u5408\u306f\u3001\u65b0\u898f\u8ffd\u52a0\u51e6\u7406\u3001\u5165\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30c7\u30fc\u30bf\u66f4\u65b0\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002  \n\n```js\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.updateClick} name=\"btnUpdate\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u66f4\u65b0</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    updateClick:function(e){\n        var para=$w.app.state\n        if ($w.app.state.form.id==null){\n            var len=$w.app.state.rcds.length\n            para.rcds[len]=$c.deepCopy($w.app.state.form)\n            para.rcds[len][\"id\"]=this.getId()\n            para.selRow=-1\n            para.form=$c.deepCopy($w.app.state.blank)\n        } else {\n            para.rcds[$w.app.state.selRow]=$c.deepCopy($w.app.state.form)\n        }\n        $w.app.setState(para)\n```\n- \u65b0\u898f\u30dc\u30bf\u30f3  \n  \u30d5\u30a9\u30fc\u30e0\u3092\u30af\u30ea\u30a2\u3057\u307e\u3059\u3002 \n\n```js\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.newClick} name=\"btnNew\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u65b0\u898f</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    newClick:function(e){\n        var para={\n            selRow:-1,\n            form:$c.deepCopy($w.app.state.blank)\n        }\n        $w.app.setState(para)\n    },\n``` \n- \u524a\u9664\u30dc\u30bf\u30f3  \n  \u30d5\u30a9\u30fc\u30e0\u306e\u30c7\u30fc\u30bf\u3092\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u524a\u9664\u3057\u307e\u3059\u3002  \n\u672c\u6765\u306f\u30b5\u30fc\u30d0\u30fc\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308a\u3001\u623b\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u53cd\u6620\u3059\u308b\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u7701\u7565\u3057\u3066\u3001\u76f4\u63a5\u53cd\u6620\u3057\u3066\u3044\u307e\u3059\u3002  \n\n```js\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.deleteClick} name=\"btnDelete\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u524a\u9664</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    deleteClick:function(e){\n        var para=$w.app.state\n        para.rcds.splice(para.selRow,1)\n        para.selRow=-1\n        para.form=$c.deepCopy($w.app.state.blank)\n        $w.app.setState(para)\n    },\n```  \n- \u30c0\u30a4\u30a2\u30ed\u30b0\u3000\u30dc\u30bf\u30f3  \n  \u30e2\u30fc\u30c0\u30eb\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a\u3057\u307e\u3059\u3002  \n\n```js\n    <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.dialogTest} name=\"btnSearch2\"\n                style={{width:$w.W.b1,marginLeft:20}}>\u30c0\u30a4\u30a2\u30ed\u30b0</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    dialogTest:function(e){\n        para=$w.app.state.alert\n        para[\"isShow\"]=true\n        para[\"message\"]=\"\u3053\u308c\u306f\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\\n\u30c6\u30b9\u30c8\u3067\u3059\u3002\"\n        $w.app.setState(para)\n    }\n```      \n- \u30c0\u30a4\u30a2\u30ed\u30b0\u3000\u306e\u4e86\u89e3 \u30dc\u30bf\u30f3  \n  \u30e2\u30fc\u30c0\u30eb\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u30af\u30ed\u30fc\u30ba\u3057\u307e\u3059\u3002\u3000\u5171\u901a\u306ejsx\u30d5\u30a1\u30a4\u30eb\u306b\u3042\u308a\u307e\u3059\u3002  \n\n```js\n    <b.Button bsStyle=\"primary\" onClick={this.onClick} \n                name=\"alert#CloseBtn\">\u4e86\u89e3</b.Button>\n    ///////////////////////////////////////////////////////////////////////////\n    onClick:function(){\n        para=$w.app.state.alert\n        para[\"isShow\"]=false\n        para[\"message\"]=\"\"\n        $w.app.setState(para)\n    }\n```  \n## Application\u5b9a\u7fa9\u306e\u6700\u521d\u306e\u90e8\u5206\uff08\u4f8b\uff09 \n\u3053\u3053\u3067\u3001state\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u308b\u3002\n\n\n```js\n var Application = React.createClass({\n    getInitialState: function() {\n        $w.app = this; //\u3053\u3053\u3067Global\u5909\u6570\u306b\u8a2d\u5b9a\u3002\u306a\u304a$w\u306f\u4e88\u3081\u5b9a\u7fa9\u3057\u3066\u3042\u308b\u3002\n        return {\n                    blank:{\n                        action:false,\n                        id:null,\n                        mail:\"\",\n                        name:\"\",\n                        cat:\"\",\n                    },\n                    rcds:[],\n                    form:{\n                        action:false,\n                        id:null,\n                        mail:\"\",\n                        name:\"\",\n                        cat:\"\",\n                    },\n                    selRow:-1,\n                    alert:{\n                        isShow:false,\n                        message:\"\"\n                    }\n                  };\n    },\n```\n\n## \u30c6\u30ad\u30b9\u30c8 Input \uff08\u4f8b\uff09 \n\n```js\n<b.Input type=\"text\" name=\"form#name\" \n                value={$w.app.state.form.name} onChange={$c.onChange} \n                style={{width:\"120\",marginLeft:20,color:\"#000000\"}}/>\n```\n\n## \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9 \uff08\u4f8b\uff09 \n\n```js\n<b.Input type=\"checkbox\" name=\"form#action\" \n            checked={$w.app.state.form.action?\"checked\":\"\"}\u3000\n            onChange={$c.onChecked} \n            style={{width:\"20\",height:\"20\",marginTop:-10\n            ,marginLeft:0,color:\"#000000\"}}/>\n```\n\n## \u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9 \uff08\u4f8b\uff09 \n\n```js\n<b.Input type=\"select\" label='' name={\"form#cat\"} \n              onChange={$c.onChange}  \n              style={{height:30, width:88,color:\"#000000\"}}>\n                {$c.Option($w.app.state.form.cat,$w.catMap)}\n            </b.Input>\n```\n\n## main.jsx \n\n```js\n  $c.checkAndCreate(\"$w\");\n $w.tableColW={c1:120,c2:200,c3:40,c4:40,c5:40}\n $w.W={b1:100,b2:50,l1:60}\n $w.catMap={\n     \"\":\"\",\n     \"1\":\"CAT1\",\n     \"2\":\"CAT2\",\n     \"3\":\"CAT3\",\n }\n var b = ReactBootstrap;\n var Item = React.createClass({ \n  render: function() {\n    var c = this.props.rcd;\n    return (\n      <tr key={this.props.no*10} id={\"row\"+this.props.no} \n        onClick={$w.app.rowClick}  style={{backgroundColor: \n            (this.props.no==$w.app.state.selRow)?\"#FFD0D0\":\"#FFFFFF\"}} >\n        <td key={this.props.no*10+1}\n            style={{width:$w.tableColW.c1,border:1,borderStyle:\"solid\"}}>\n                {c.name}</td>\n        <td key={this.props.no*10+2}\n            style={{width:$w.tableColW.c2,border:1,borderStyle:\"solid\"}}>\n                {c.mail}</td>\n        <td key={this.props.no*10+3}\n            style={{width:$w.tableColW.c3,border:1,borderStyle:\"solid\"}}>\n                {c.action?\"\uff38\":\"\"}</td>\n        <td key={this.props.no*10+4}\n            style={{width:$w.tableColW.c4,border:1,borderStyle:\"solid\"}}>\n                {$w.catMap[c.cat]}</td>\n        <td key={this.props.no*10+5}\n            style={{width:$w.tableColW.c5,border:1,borderStyle:\"solid\"}}>\n                {c.id}</td>\n      </tr>\n    );\n  }\n });\n  var Application = React.createClass({\n    getInitialState: function() {\n        $w.app = this;\n        return {\n                    blank:{\n                        action:false,\n                        id:null,\n                        mail:\"\",\n                        name:\"\",\n                        cat:\"\",\n                    },\n                    rcds:[],\n                    form:{\n                        action:false,\n                        id:null,\n                        mail:\"\",\n                        name:\"\",\n                        cat:\"\",\n                    },\n                    selRow:-1,\n                    alert:{\n                        isShow:false,\n                        message:\"\"\n                    }\n                  };\n    },\n    render: function() {\n        var rcds = $w.app.state.rcds;\n        var object_list = [];\n        for (var i = 0; i < rcds.length; i++) {\n            object_list.push(\n                <Item rcd={rcds[i]} no={i}/>\n            );\n        }\n         return (  \n            <div style={{width:480}}>\n        <b.Row style={{margin:20}}>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.dataRead} name=\"btnSearch\"\n                style={{width:$w.W.b1,marginLeft:20}}>\u30c7\u30fc\u30bf\u8aad\u8fbc </b.Button>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.dialogTest} name=\"btnSearch2\"\n                style={{width:$w.W.b1,marginLeft:20}}>\u30c0\u30a4\u30a2\u30ed\u30b0</b.Button>\n        </b.Row>\n        <table cellPadding={10} cellSpacing={10} \n            style={{border:1,borderStyle:\"solid\",\n             width:500,backgroundColor: \"#F0F0F0\"}}>\n            <thead>\n            <tr>\n              <th width={$w.tableColW.c1} style={{border:1,borderStyle:\"solid\"}}>\n                \u540d\u524d</th>\n              <th width={$w.tableColW.c2} style={{border:1,borderStyle:\"solid\"}}>\n                \u30e1\u30fc\u30eb</th>\n              <th width={$w.tableColW.c3} style={{border:1,borderStyle:\"solid\"}}>\n                Action</th>\n              <th width={$w.tableColW.c4} style={{border:1,borderStyle:\"solid\"}}>\n                Cat</th>\n              <th width={$w.tableColW.c5} style={{border:1,borderStyle:\"solid\"}}>\n                id</th>\n            </tr>\n            </thead>\n            <tbody>\n\n            {object_list}\n            </tbody>\n        </table>        \n        <b.Row style={{margin:20}}>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.updateClick} name=\"btnUpdate\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u66f4\u65b0</b.Button>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.newClick} name=\"btnNew\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u65b0\u898f</b.Button>\n            <b.Button bsSize=\"small\" bsStyle=\"primary\" \n                onClick={this.deleteClick} name=\"btnDelete\"\n                style={{width:$w.W.b2,marginLeft:20}}>\u524a\u9664</b.Button>\n        </b.Row>  \n        <b.Row style={{marginLeft:20}}>\n            <span style={{width:$w.W.l1,marginLeft:20,float:\"left\",\n                color:\"#000000\"}}>\u540d\u524d</span>\n            <b.Input type=\"text\" name=\"form#name\" \n                value={$w.app.state.form.name} onChange={$c.onChange} \n                style={{width:\"120\",marginLeft:20,color:\"#000000\"}}/>\n          </b.Row> \n        <b.Row style={{marginLeft:20}}>\n            <span style={{width:$w.W.l1,marginLeft:20,float:\"left\",\n                color:\"#000000\"}}>\u30e1\u30fc\u30eb</span>\n             <b.Input type=\"text\" name=\"form#mail\" \n                value={$w.app.state.form.mail} onChange={$c.onChange}  \n                style={{width:\"300\",marginLeft:20,color:\"#000000\"}}/>\n        </b.Row> \n        <b.Row style={{marginLeft:20,height:40}}>\n           <span style={{width:$w.W.l1,marginLeft:20,float:\"left\",\n            color:\"#000000\"}}>Action</span>\n            <b.Input type=\"checkbox\" name=\"form#action\" \n            checked={$w.app.state.form.action?\"checked\":\"\"}\u3000\n            onChange={$c.onChecked} \n            style={{width:\"20\",height:\"20\",marginTop:-10\n            ,marginLeft:0,color:\"#000000\"}}/>\n        </b.Row> \n          <b.Row style={{marginLeft:20}}>\n            <span style={{width:$w.W.l1,marginLeft:20,float:\"left\",\n                color:\"#000000\"}}>CAT</span>\n            <b.Input type=\"select\" label='' name={\"form#cat\"} \n              onChange={$c.onChange}  \n              style={{height:30, width:88,color:\"#000000\"}}>\n                {$c.Option($w.app.state.form.cat,$w.catMap)}\n            </b.Input>\n        </b.Row> \n        <b.Row style={{marginLeft:20}}>\n            <span style={{width:$w.W.l1,float:\"left\",\n                marginLeft:20,color:\"#000000\"}}>ID</span>\n            <b.Input type=\"text\" value={$w.app.state.form.id}\n                disabled  style={{width:\"60\",color:\"#000000\"}}/>\n        </b.Row> \n        <span style={{clear:\"both\"}}></span>\n        <$c.Alert/>          \n        </div>\n        )\n    } ,\n    callback: function(res,status) { \n        var para =\n            {\n                rcds:res,\n                selRow:-1,\n                form:$c.deepCopy($w.app.state.blank)\n            }\n         $w.app.setState(para)\n    },    \n    dataRead: function() {    \n        $c.ajaxPostJson(\"dataget\",{},this.callback)\n    },\n    rowClick:function(e){\n        row=e.target.parentNode.id.substr(3)\n        var para={\n            selRow:parseInt(row,10),\n            form:$c.deepCopy($w.app.state.rcds[row])\n        }\n        $w.app.setState(para)\n    },\n    newClick:function(e){\n        var para={\n            selRow:-1,\n            form:$c.deepCopy($w.app.state.blank)\n        }\n        $w.app.setState(para)\n    },\n    getId:function(){\n        var maxid=-1\n        for (i=0;i<$w.app.state.rcds.length;i++){\n            if ($w.app.state.rcds[i][\"id\"] > maxid){\n                maxid = $w.app.state.rcds[i][\"id\"]\n            }\n        }\n        return maxid+1\n    },\n    deleteClick:function(e){\n        var para=$w.app.state\n        para.rcds.splice(para.selRow,1)\n        para.selRow=-1\n        para.form=$c.deepCopy($w.app.state.blank)\n        $w.app.setState(para)\n    },    \n    updateClick:function(e){\n        var para=$w.app.state\n        if ($w.app.state.form.id==null){\n            var len=$w.app.state.rcds.length\n            para.rcds[len]=$c.deepCopy($w.app.state.form)\n            para.rcds[len][\"id\"]=this.getId()\n            para.selRow=-1\n            para.form=$c.deepCopy($w.app.state.blank)\n        } else {\n            para.rcds[$w.app.state.selRow]=$c.deepCopy($w.app.state.form)\n        }\n        $w.app.setState(para)\n    },\n    dialogTest:function(e){\n        para=$w.app.state.alert\n        para[\"isShow\"]=true\n        para[\"message\"]=\"\u3053\u308c\u306f\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\\n\u30c6\u30b9\u30c8\u3067\u3059\u3002\"\n        $w.app.setState(para)\n    }\n  });\nReact.render(React.createElement(Application, null),\n     document.getElementById('content'));\n```\n\n## commonjsx.jsx \n\n```js\nvar b = ReactBootstrap;\n$c.MulitLine = React.createClass({\n  render: function () {\n    var sarray = this.props.value.split(\"\\n\");\n    var lines = sarray.map(function(line,i){\n        if (i===0){\n          return <span key={i}>{line}</span>;\n        } else {\n          return <span  key={i}><br/>{line}</span>;\n        }\n      },this);\n    return (\n        <div>\n        {lines}\n        </div>\n      );\n  }\n});\n$c.Alert = React.createClass({\n    mixins: [b.OverlayMixin],\n    render: function () {\n        return (\n            <span/>\n        );\n    },\n    renderOverlay: function () {\n        if ($w.app.state.alert.isShow==false){\n            return (\n            <span/>\n        );\n    }\n    return (\n        <b.Modal onRequestHide={function(){}} className=\"alert\" >\n            <div className=\"modal-body\">\n            <$c.MulitLine value={$w.app.state.alert.message} />\n                </div>\n            <div className=\"modal-footer\">\n            <b.Button bsStyle=\"primary\" onClick={this.onClick} \n                name=\"alert#CloseBtn\">\u4e86\u89e3</b.Button>\n            </div>\n            </b.Modal>\n        );\n    },\n    onClick:function(){\n        para=$w.app.state.alert\n        para[\"isShow\"]=false\n        para[\"message\"]=\"\"\n        $w.app.setState(para)\n    }\n});  \n$c.Option= function(value,map){\nvar options = []\nfor (key in map){\n        options.push( \n        <option  \n        value={key} label={map[key]} \n        selected={(key==value)?\"selected\":\"\"}\n        >{map[key]}</option> )\n    }  \n    return options  \n}\n```\n\n## common.js \n\n```js\n\"use strict\";\nvar checkAndCreate;\ncheckAndCreate = function (v) {\n    if (window[v] == null) {\n        return window[v] = {};\n    }\n};\ncheckAndCreate(\"$c\");\n$c.checkAndCreate = checkAndCreate;\n$c.contextpath = \"/\";\n$c.onChange = function (e) {\n    var state = $w.app.state;\n    var names = e.target.name.split(\"#\")\n    switch (names.length) {\n        case 1: state[names[0]] = e.target.value\n            break;\n        case 2: state[names[0]][names[1]] = e.target.value\n            break;\n        case 3: state[names[0]][names[1]][names[2]] = e.target.value\n            break;\n        case 4: state[names[0]][names[1]][names[2]][names[3]]\n             = e.target.value\n            break;\n        default:\n            console.error(\"name length over\")\n    }\n    $w.app.setState(state)\n\n};\n$c.onChecked = function (e) {\n    var state = $w.app.state;\n    var names = e.target.name.split(\"#\")\n    switch (names.length) {\n        case 1: state[names[0]] = e.target.checked ? true : false\n            break;\n        case 2: state[names[0]][names[1]] = e.target.checked ?\n             true : false\n            break;\n        case 3: state[names[0]][names[1]][names[2]] =\n            e.target.checked ? true : false\n            break;\n        case 4: state[names[0]][names[1]][names[2]][names[3]] = \n            e.target.checked ? true : false\n            break;\n        default:\n            console.error(\"name length over\")\n    }\n    $w.app.setState(state)\n};\n$c.ajaxPost = function (url, data, contenttype, callback) {\n    $.ajax({\n        type: \"POST\",\n        url: $c.contextpath + url,\n        data: data,\n        contentType: contenttype\n    }).fail(function (jqXHR, textStatus) {\n        console.log(\"Internet or Server Error\")\n        callback(jqXHR, textStatus)\n    }).done(callback);\n}\n$c.ajaxPostJson = function (url, param, callback) {\n    var data = JSON.stringify(param);\n    $c.ajaxPost(url, data, \"text/json\", callback);\n}\n$c.deepCopy = function (obj) {\n    return $.extend(true, {}, obj)\n}\n\n```\n"}