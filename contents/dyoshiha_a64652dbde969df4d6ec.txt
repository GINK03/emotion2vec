{"context": " More than 1 year has passed since last update.\n\nCisco Spark \u306b\u5bfe\u3057\u3066 REST-API \u3067\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\n\u5b66\u7fd2\u7528\u30b3\u30f3\u30c6\u30f3\u30c4\u304c Cisco DevNet \u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308b\uff08DevNet > Collaboration > Spark for Developers \u306b 3\u3064\u306e Learning Lab \u304c\u3042\u308b\uff09\u3002\n\nLearning Lab #1: Rooms and Messages\nLearning Lab #2: App Registration and Authentication\nLearning Lab #3: Webhooks\n\n\u61c7\u5207\u4e01\u5be7\u306a\u4f5c\u308a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u624b\u9806\u306b\u6cbf\u3063\u3066\u9032\u3081\u308c\u3070\u300cPOSTMAN \u3092\u4f7f\u3063\u3066 REST-API \u7d4c\u7531\u3067 Cisco Spark \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u65b9\u6cd5\u300d\u304c\u4e00\u901a\u308a\u5b66\u3079\u308b\u3002\n\u3053\u3053\u3067\u306f\u305d\u306e\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3068\u3057\u3066\u3001POSTMAN \u3092 Python \u3078\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u3092\u307e\u3068\u3081\u3066\u307f\u308b\u3002\n\n\u5b9f\u9a13\uff11\uff1aCisco Spark \u304b\u3089 Room List \u3092\u53d6\u5f97\u3059\u308b\n\u53c2\u8003\uff1aCisco Spark \u306e API Reference\nhttp GET \u3092\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u5b9f\u884c\u3059\u308c\u3070\u3088\u3044:\n\nURI: https://api.ciscospark.com/v1/rooms\n\nHeaders: Authorization: Bearer (Access Token)\nHeaders: Content-Type: application/json\n\nPython \u3067 HTTP GET \u3092\u5b9f\u884c\u3059\u308b\u306e\u306f requests \u3092\u4f7f\u3046\u3002\u30b3\u30fc\u30c9\u306f\u4f8b\u3048\u3070\u4ee5\u4e0b\uff1a\nimport requests\n\nurl = 'https://api.ciscospark.com/v1/rooms'\nheaders = {\n    'Authorization' : 'Bearer (Access Token)',\n    'Content-Type' : 'application/json'\n}\n\nr = requests.get(url, headers = headers)\n\nprint(r.json())\n\nRoom ID \u3060\u3051\u3092\u53d6\u308a\u51fa\u3057\u305f\u3044\u306e\u3067\u3042\u308c\u3070\u3001\u6700\u5f8c\u306e\u884c\u306e print(r.json()) \u3092\u4ee5\u4e0b\u306e\u5f62\u306b\u5909\u3048\u308b\uff1a\nfor line in r.json()['items']:\n    print line['id']\n\n\n\u5b9f\u9a13\uff12\uff1aCisco Spark \u304b\u3089 Room \u306e Message \u3092\u53d6\u5f97\u3059\u308b\nMessage \u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3001\u5b9f\u9a13\uff11\u3067\u53d6\u5f97\u3057\u305f Room ID \u3092\u4f7f\u3063\u3066 http GET \u3092\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u5b9f\u884c\u3059\u308c\u3070\u3088\u3044:\n\nURI: https://api.ciscospark.com/v1/messages\n\nHeaders: Authorization: Bearer (Access Token)\nHeaders: Content-Type: application/json\nPayload: 'roomId' : (Room ID)\n\n\u4ee5\u4e0b\u306f\u30e6\u30fc\u30b6\u306e\u30e1\u30fc\u30ebID\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\uff1a\n# -*- coding: utf-8 -*-\n\nimport requests\n\nurlr = 'https://api.ciscospark.com/v1/rooms'\nurlm = 'https://api.ciscospark.com/v1/messages'\nheaders = {\n    'Authorization' : 'Bearer (Access Token)',\n    'Content-Type' : 'application/json'\n}\n\nr = requests.get(urlr, headers = headers)\n\nfor line in r.json()['items']:\n    payload = {'roomId' : line['id']}\n    print '################### Room: ', line['title']\n    r2 = requests.get(urlm, headers = headers, params = payload)\n    for mline in r2.json()['items']:\n        try:\n            print mline['personEmail'], '>>>', mline['text']\n        except KeyError:\n            pass\n\n#Cisco Spark \u306b\u5bfe\u3057\u3066 REST-API \u3067\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\n\n\u5b66\u7fd2\u7528\u30b3\u30f3\u30c6\u30f3\u30c4\u304c [Cisco DevNet](https://developer.cisco.com/site/devnet/home/index.gsp) \u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308b\uff08DevNet > Collaboration > Spark for Developers \u306b 3\u3064\u306e Learning Lab \u304c\u3042\u308b\uff09\u3002\n\n* Learning Lab #1: Rooms and Messages\n* Learning Lab #2: App Registration and Authentication\n* Learning Lab #3: Webhooks\n\n\u61c7\u5207\u4e01\u5be7\u306a\u4f5c\u308a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u624b\u9806\u306b\u6cbf\u3063\u3066\u9032\u3081\u308c\u3070\u300cPOSTMAN \u3092\u4f7f\u3063\u3066 REST-API \u7d4c\u7531\u3067 Cisco Spark \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u65b9\u6cd5\u300d\u304c\u4e00\u901a\u308a\u5b66\u3079\u308b\u3002\n\n\u3053\u3053\u3067\u306f\u305d\u306e\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3068\u3057\u3066\u3001POSTMAN \u3092 Python \u3078\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u3092\u307e\u3068\u3081\u3066\u307f\u308b\u3002\n\n#\u5b9f\u9a13\uff11\uff1aCisco Spark \u304b\u3089 Room List \u3092\u53d6\u5f97\u3059\u308b\n\n\u53c2\u8003\uff1aCisco Spark \u306e [API Reference](https://developer.ciscospark.com/endpoint-rooms-get.html)\n\nhttp GET \u3092\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u5b9f\u884c\u3059\u308c\u3070\u3088\u3044:\n\n* URI: https://api.ciscospark.com/v1/rooms\n* Headers: Authorization: Bearer (Access Token)\n* Headers: Content-Type: application/json\n\nPython \u3067 HTTP GET \u3092\u5b9f\u884c\u3059\u308b\u306e\u306f [requests](http://docs.python-requests.org/en/latest/user/quickstart/) \u3092\u4f7f\u3046\u3002\u30b3\u30fc\u30c9\u306f\u4f8b\u3048\u3070\u4ee5\u4e0b\uff1a\n\n```\nimport requests\n\nurl = 'https://api.ciscospark.com/v1/rooms'\nheaders = {\n    'Authorization' : 'Bearer (Access Token)',\n    'Content-Type' : 'application/json'\n}\n\nr = requests.get(url, headers = headers)\n\nprint(r.json())\n```\n\nRoom ID \u3060\u3051\u3092\u53d6\u308a\u51fa\u3057\u305f\u3044\u306e\u3067\u3042\u308c\u3070\u3001\u6700\u5f8c\u306e\u884c\u306e print(r.json()) \u3092\u4ee5\u4e0b\u306e\u5f62\u306b\u5909\u3048\u308b\uff1a\n\n```\nfor line in r.json()['items']:\n    print line['id']\n```\n\n#\u5b9f\u9a13\uff12\uff1aCisco Spark \u304b\u3089 Room \u306e Message \u3092\u53d6\u5f97\u3059\u308b\n\nMessage \u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3001\u5b9f\u9a13\uff11\u3067\u53d6\u5f97\u3057\u305f Room ID \u3092\u4f7f\u3063\u3066 http GET \u3092\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u5b9f\u884c\u3059\u308c\u3070\u3088\u3044:\n\n* URI: https://api.ciscospark.com/v1/messages\n* Headers: Authorization: Bearer (Access Token)\n* Headers: Content-Type: application/json\n* Payload: 'roomId' : (Room ID)\n\n\u4ee5\u4e0b\u306f\u30e6\u30fc\u30b6\u306e\u30e1\u30fc\u30ebID\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\uff1a\n\n```\n# -*- coding: utf-8 -*-\n\nimport requests\n\nurlr = 'https://api.ciscospark.com/v1/rooms'\nurlm = 'https://api.ciscospark.com/v1/messages'\nheaders = {\n    'Authorization' : 'Bearer (Access Token)',\n    'Content-Type' : 'application/json'\n}\n\nr = requests.get(urlr, headers = headers)\n\nfor line in r.json()['items']:\n    payload = {'roomId' : line['id']}\n    print '################### Room: ', line['title']\n    r2 = requests.get(urlm, headers = headers, params = payload)\n    for mline in r2.json()['items']:\n        try:\n            print mline['personEmail'], '>>>', mline['text']\n        except KeyError:\n            pass\n```\n\n\n", "tags": ["REST-API", "CiscoSpark", "Python"]}