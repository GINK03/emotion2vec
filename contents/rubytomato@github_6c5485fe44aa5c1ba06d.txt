{"tags": ["nginx", "chocolatey"], "context": "\n\n\u6982\u8981\nWindows\u74b0\u5883\u306bchocolatey\u3092\u4f7f\u3063\u3066nginx 1.8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3068\u304d\u306e\u30e1\u30e2\u3067\u3059\u3002\n\u74b0\u5883\n\nWindows7 (64bit)\n\nchocolatey 0.9.9.11\n\nnginx 1.8\n\n\u53c2\u8003\n\nnginx for Windows\n\n\nnginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\ninstall\n> choco install nginx\nInstalling the following packages:\nnginx\nBy installing you accept licenses for the packages.\n\nnginx v1.8.0\nThe package nginx wants to run 'chocolateyInstall.ps1'.\nNote: If you don't run this script, the installation will fail.\nNote: To confirm automatically next time, use '-y' or consider setting\n 'allowGlobalConfirmation'. Run 'choco feature -h' for more details.\nDo you want to run the script?\n 1) yes\n 2) no\n 3) print\n1\n\n...\u7701\u7565...\n\n C:\\ProgramData\\chocolatey\\lib\\nginx\\tools\n ShimGen has successfully created a shim for nginx.exe\n The install of nginx was successful.\n\nChocolatey installed 1/1 package(s). 0 package(s) failed.\n See the log for details (C:\\ProgramData\\chocolatey\\logs\\chocolatey.log).\n\n\n\nversion\n\nversion\n> nginx -v\nnginx version: nginx/1.8.0\n\n\n\u5927\u6587\u5b57V\u306f\u30d3\u30eb\u30c9\u6642\u306econfigure\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4e0b\u8a18\u306e\u5185\u5bb9\u306f\u898b\u3084\u3059\u3044\u3088\u3046\u306b\u6539\u884c\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\nversion\n> nginx -V\nnginx version: nginx/1.8.0\nbuilt with OpenSSL 1.0.1m 19 Mar 2015\nTLS SNI support enabled\nconfigure arguments:\n--with-cc=cl\n--builddir=objs.msvc8\n--with-debug\n--prefix=\n--conf-path=conf/nginx.conf\n--pid-path=logs/nginx.pid\n--http-log-path=logs/access.log\n--error-log-path=logs/error.log\n--sbin-path=nginx.exe\n--http-client-body-temp-path=temp/client_body_temp\n--http-proxy-temp-path=temp/proxy_temp\n--http-fastcgi-temp-path=temp/fastcgi_temp\n--http-scgi-temp-path=temp/scgi_temp\n--http-uwsgi-temp-path=temp/uwsgi_temp\n--with-cc-opt=-DFD_SETSIZE=1024\n--with-pcre=objs.msvc8/lib/pcre-8.35\n--with-zlib=objs.msvc8/lib/zlib-1.2.8\n--with-select_module\n--with-http_realip_module\n--with-http_addition_module\n--with-http_sub_module\n--with-http_dav_module\n--with-http_stub_status_module\n--with-http_flv_module\n--with-http_mp4_module\n--with-http_gunzip_module\n--with-http_gzip_static_module\n--with-http_auth_request_module\n--with-http_random_index_module\n--with-http_secure_link_module\n--with-mail\n--with-openssl=objs.msvc8/lib/openssl-1.0.1m\n--with-openssl-opt=enable-tlsext\n--with-http_ssl_module\n--with-mail_ssl_module\n--with-ipv6\n\n\n\n\u30b3\u30de\u30f3\u30c9\n\u8d77\u52d5\n\nstart\n> start nginx\n\n\n\u4e0a\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067nginx\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u304c\u3001nginx\u3092\u505c\u6b62\u3055\u305b\u308b\u3064\u3082\u308a\u3067\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u3067Ctrl + C\u3092\u62bc\u3057\u3066\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u9589\u3058\u3066\u3082nginx\u306f\u8d77\u52d5\u3055\u308c\u305f\u305f\u307e\u307e\u3067\u3059\u3002\u505c\u6b62\u3055\u305b\u308b\u306b\u306f\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u505c\u6b62\n\nstop\n> nginx -s stop\n\n\nhelp\n\nhelp\n> nginx -h\nnginx version: nginx/1.8.0\nUsage: nginx [-?hvVtq] [-s signal] [-c filename] [-p prefix] [-g directives]\n\nOptions:\n  -?,-h         : this help\n  -v            : show version and exit\n  -V            : show version and configure options then exit\n  -t            : test configuration and exit\n  -q            : suppress non-error messages during configuration testing\n  -s signal     : send signal to a master process: stop, quit, reopen, reload\n  -p prefix     : set prefix path (default: NONE)\n  -c filename   : set configuration file (default: conf/nginx.conf)\n  -g directives : set global directives out of configuration file\n\n\n\n\u5b9f\u884c\u74b0\u5883\u69cb\u7bc9\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nD:\\dev\\nginx\n  \u251c\u2500 \\conf\n  \u251c\u2500 \\html\n  \u251c\u2500 \\logs\n  \u251c\u2500 \\temp\n  \u251c\u2500 server_start.bat\n  \u2514\u2500 server_stop.bat\n\nconf\nchocolatey\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(C:\\ProgramData\\chocolatey\\lib\\nginx\\tools\\nginx-1.8.0)\u306b\u3042\u308bconf\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3054\u3068\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\nhtml\nhtml\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u3053\u304cnginx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\nlogs\nlogs\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\ntemp\nchocolatey\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(C:\\ProgramData\\chocolatey\\lib\\nginx\\tools\\nginx-1.8.0)\u306b\u3042\u308btemp\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3054\u3068\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\nconf/nginx.conf\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u3082\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u30b3\u30e1\u30f3\u30c8\u3055\u308c\u3066\u3044\u305flog_format\u3068access_log\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\u3002\nlog_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                  '$status $body_bytes_sent \"$http_referer\" '\n                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\naccess_log  logs/access.log  main;\n\n\nconf\u30d5\u30a1\u30a4\u30eb\u306e\u30c6\u30b9\u30c8\nconf\u3092\u7de8\u96c6\u3057\u305f\u5834\u5408\u306fsyntax\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3063\u3066\u8a2d\u5b9a\u306b\u9593\u9055\u3044\u304c\u306a\u3044\u304b\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nsyntax_check\n> nginx -t\nnginx: the configuration file D:\\dev\\nginx/conf/nginx.conf syntax is ok\nnginx: configuration file D:\\dev\\nginx/conf/nginx.conf test is successful\n\n\n\n\u5b9f\u884c\u30fb\u505c\u6b62\u7528\u306ebat\n\nserver_start.bat\nstart nginx\n\n\n\nserver_stop.bat\nnginx -s stop\n\n\n\nnginx\u3067phpMyAdmin\n\nphp\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttps://secure.php.net/\nWindows\u3067php\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u5225\u9014\u3001Visual Studio 2012 Visual C++ \u518d\u9812\u5e03\u53ef\u80fd\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\nhttps://www.microsoft.com/ja-JP/download/details.aspx?id=30679\nVersion\n> php -v\nPHP 5.6.17 (cli) (built: Jan  6 2016 13:28:21)\nCopyright (c) 1997-2015 The PHP Group\nZend Engine v2.6.0, Copyright (c) 1998-2015 Zend Technologies\n\nphp.ini\nphp.ini-development\u3092php.ini\u306b\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u4e0b\u8a18\u306e\u7b87\u6240\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002(\u629c\u7c8b)\nextension_dir = \"D:\\dev\\php-5.6.17\\ext\"\nextension=php_mbstring.dll\nextension=php_mysql.dll\nextension=php_mysqli.dll\ndate.timezone = \"Asia/Tokyo\"\n\n\nphpMyAdmin\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttps://www.phpmyadmin.net/\n\u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u5c55\u958b\u3057\u3066\u51fa\u6765\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092nginx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306bphpMyAdmin\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\nconfig.inc.php\nconfig.sample.inc.php\u3092config.inc.php\u306b\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u4e0b\u8a18\u306e\u7b87\u6240\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002(\u629c\u7c8b)\n$cfg['blowfish_secret'] = '<\u9069\u5f53\u306a\u6587\u5b57\u5217\u3092\u8a18\u8ff0>'; /* YOU MUST FILL IN THIS FOR COOKIE AUTH! */\n$cfg['Servers'][$i]['controluser'] = 'pma';\n$cfg['Servers'][$i]['controlpass'] = '<pma\u30e6\u30fc\u30b6\u30fc\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a18\u8ff0>';\n\n\u3053\u3053\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u306f\u305a\u3057\u307e\u3059\u3002\n/* Storage database and tables */\n$cfg['Servers'][$i]['pmadb'] = 'phpmyadmin';\n$cfg['Servers'][$i]['bookmarktable'] = 'pma__bookmark';\n$cfg['Servers'][$i]['relation'] = 'pma__relation';\n$cfg['Servers'][$i]['table_info'] = 'pma__table_info';\n$cfg['Servers'][$i]['table_coords'] = 'pma__table_coords';\n$cfg['Servers'][$i]['pdf_pages'] = 'pma__pdf_pages';\n$cfg['Servers'][$i]['column_info'] = 'pma__column_info';\n$cfg['Servers'][$i]['history'] = 'pma__history';\n$cfg['Servers'][$i]['table_uiprefs'] = 'pma__table_uiprefs';\n$cfg['Servers'][$i]['tracking'] = 'pma__tracking';\n$cfg['Servers'][$i]['userconfig'] = 'pma__userconfig';\n$cfg['Servers'][$i]['recent'] = 'pma__recent';\n$cfg['Servers'][$i]['favorite'] = 'pma__favorite';\n$cfg['Servers'][$i]['users'] = 'pma__users';\n$cfg['Servers'][$i]['usergroups'] = 'pma__usergroups';\n$cfg['Servers'][$i]['navigationhiding'] = 'pma__navigationhiding';\n$cfg['Servers'][$i]['savedsearches'] = 'pma__savedsearches';\n$cfg['Servers'][$i]['central_columns'] = 'pma__central_columns';\n$cfg['Servers'][$i]['designer_settings'] = 'pma__designer_settings';\n$cfg['Servers'][$i]['export_templates'] = 'pma__export_templates';\n\nsql/create_tables.sql\nsql\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3084\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308bsql\u30d5\u30a1\u30a4\u30eb\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u30b3\u30e1\u30f3\u30c8\u306b\u306a\u3063\u3066\u3044\u308bGRANT\u6587\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n-- Privileges\n--\n-- (activate this statement if necessary)\nGRANT SELECT, INSERT, DELETE, UPDATE, ALTER ON `phpmyadmin`.* TO 'pma'@localhost;\n\n\nMySQL\nMySQL\u3092\u8d77\u52d5\u3057root\u30e6\u30fc\u30b6\u30fc\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u4e0a\u8a18\u306esql\u30d5\u30a1\u30a4\u30eb\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n> source D:\\dev\\nginx\\html\\phpMyAdmin\\sql\\create_tables.sql\n\npma\u30e6\u30fc\u30b6\u30fc\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n> set password for pma@localhost = password('<pma\u306e\u30d1\u30b9\u30ef\u30fc\u30c9>');\n\n\nnginx\u306e\u8a2d\u5b9a\nnginx.conf\nconf\u30d5\u30a1\u30a4\u30eb\u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\nserver {\n    listen       80;\n    server_name  phpmyadmin.localhost;\n\n    access_log  logs/php.access.log  main;\n\n    location / {\n        root   html/phpMyAdmin;\n        index  index.php;\n    }\n\n    location ~ \\.php$ {\n        root           html/phpMyAdmin;\n        fastcgi_pass   127.0.0.1:9001;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n\n}\n\nhosts\nhosts\u30d5\u30a1\u30a4\u30eb\u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n127.0.0.1  phpmyadmin.localhost\n\n\nphp-cgi\nnginx\u3067php\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046php-cgi\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n> php-cgi.exe -b 127.0.0.1:9001\n\n\n\u52d5\u4f5c\u78ba\u8a8d\nhttp://phpmyadmin.localhost/\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066phpMyAdmin\u306e\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306eweb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u9023\u643a\u3055\u305b\u308b\n\u540c\u4e00\u30db\u30b9\u30c8\u4e0a\u3067\u5b9f\u884c\u3057\u3066\u3044\u308bspring-boot\u3067\u4f5c\u6210\u3057\u305fweb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u9023\u643a\u3055\u305b\u307e\u3059\u3002\n\nnginx\u306e\u8a2d\u5b9a\nserver\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u8a18\u8ff0\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\nserver {\n    listen       80;\n    server_name  localhost;\n\n    access_log  logs/web.access.log  main;\n\n    location / {\n        proxy_http_version 1.1;\n        proxy_pass http://localhost:9000;\n        proxy_redirect http://localhost:9000/ /;\n        proxy_cookie_path / /;\n\n        proxy_set_header        Host              $host;\n        proxy_set_header        X-Forwarded-By    $server_addr:$server_port;\n        proxy_set_header        X-Forwarded-For   $proxy_add_x_forwarded_for;\n        proxy_set_header        X-Forwarded-Proto http;\n        proxy_set_header        X-Real-IP         $remote_addr;\n        proxy_set_header        X-Forwarded-Port  $server_port;\n\n        root   html;\n        index  index.html index.htm;\n    }\n\n    error_page  404              /404.html;\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   html;\n    }\n}\n\n\n\u52d5\u4f5c\u78ba\u8a8d\nhttp://localhost/\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066spring-boot\u3067\u4f5c\u6210\u3057\u305fweb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nnginx\u306essl\u8a2d\u5b9a\u306e\u53c2\u8003\n\nHowTo: Create a Self-Signed SSL Certificate on Nginx For CentOS / RHEL\nnginx managed SSL with Tomcat 7\n\n# \u6982\u8981\n\nWindows\u74b0\u5883\u306bchocolatey\u3092\u4f7f\u3063\u3066nginx 1.8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3068\u304d\u306e\u30e1\u30e2\u3067\u3059\u3002\n\n**\u74b0\u5883**\n\n* Windows7 (64bit)\n* [chocolatey] (https://chocolatey.org/) 0.9.9.11\n* [nginx] (https://chocolatey.org/packages/nginx) 1.8\n\n**\u53c2\u8003**\n\n* [nginx for Windows] (http://nginx.org/en/docs/windows.html)\n\n## nginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bat:install\n> choco install nginx\nInstalling the following packages:\nnginx\nBy installing you accept licenses for the packages.\n\nnginx v1.8.0\nThe package nginx wants to run 'chocolateyInstall.ps1'.\nNote: If you don't run this script, the installation will fail.\nNote: To confirm automatically next time, use '-y' or consider setting\n 'allowGlobalConfirmation'. Run 'choco feature -h' for more details.\nDo you want to run the script?\n 1) yes\n 2) no\n 3) print\n1\n\n...\u7701\u7565...\n\n C:\\ProgramData\\chocolatey\\lib\\nginx\\tools\n ShimGen has successfully created a shim for nginx.exe\n The install of nginx was successful.\n\nChocolatey installed 1/1 package(s). 0 package(s) failed.\n See the log for details (C:\\ProgramData\\chocolatey\\logs\\chocolatey.log).\n```\n\n### version\n\n```bat:version\n> nginx -v\nnginx version: nginx/1.8.0\n```\n\n\u5927\u6587\u5b57V\u306f\u30d3\u30eb\u30c9\u6642\u306econfigure\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4e0b\u8a18\u306e\u5185\u5bb9\u306f\u898b\u3084\u3059\u3044\u3088\u3046\u306b\u6539\u884c\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\n```bat:version\n> nginx -V\nnginx version: nginx/1.8.0\nbuilt with OpenSSL 1.0.1m 19 Mar 2015\nTLS SNI support enabled\nconfigure arguments:\n--with-cc=cl\n--builddir=objs.msvc8\n--with-debug\n--prefix=\n--conf-path=conf/nginx.conf\n--pid-path=logs/nginx.pid\n--http-log-path=logs/access.log\n--error-log-path=logs/error.log\n--sbin-path=nginx.exe\n--http-client-body-temp-path=temp/client_body_temp\n--http-proxy-temp-path=temp/proxy_temp\n--http-fastcgi-temp-path=temp/fastcgi_temp\n--http-scgi-temp-path=temp/scgi_temp\n--http-uwsgi-temp-path=temp/uwsgi_temp\n--with-cc-opt=-DFD_SETSIZE=1024\n--with-pcre=objs.msvc8/lib/pcre-8.35\n--with-zlib=objs.msvc8/lib/zlib-1.2.8\n--with-select_module\n--with-http_realip_module\n--with-http_addition_module\n--with-http_sub_module\n--with-http_dav_module\n--with-http_stub_status_module\n--with-http_flv_module\n--with-http_mp4_module\n--with-http_gunzip_module\n--with-http_gzip_static_module\n--with-http_auth_request_module\n--with-http_random_index_module\n--with-http_secure_link_module\n--with-mail\n--with-openssl=objs.msvc8/lib/openssl-1.0.1m\n--with-openssl-opt=enable-tlsext\n--with-http_ssl_module\n--with-mail_ssl_module\n--with-ipv6\n```\n\n### \u30b3\u30de\u30f3\u30c9\n\n*\u8d77\u52d5*\n\n```bat:start\n> start nginx\n```\n\n\u4e0a\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067nginx\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u304c\u3001nginx\u3092\u505c\u6b62\u3055\u305b\u308b\u3064\u3082\u308a\u3067\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u3067<kbd>Ctrl</kbd> + <kbd>C</kbd>\u3092\u62bc\u3057\u3066\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u9589\u3058\u3066\u3082nginx\u306f\u8d77\u52d5\u3055\u308c\u305f\u305f\u307e\u307e\u3067\u3059\u3002\u505c\u6b62\u3055\u305b\u308b\u306b\u306f\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n*\u505c\u6b62*\n\n```bat:stop\n> nginx -s stop\n```\n\n*help*\n\n```bat:help\n> nginx -h\nnginx version: nginx/1.8.0\nUsage: nginx [-?hvVtq] [-s signal] [-c filename] [-p prefix] [-g directives]\n\nOptions:\n  -?,-h         : this help\n  -v            : show version and exit\n  -V            : show version and configure options then exit\n  -t            : test configuration and exit\n  -q            : suppress non-error messages during configuration testing\n  -s signal     : send signal to a master process: stop, quit, reopen, reload\n  -p prefix     : set prefix path (default: NONE)\n  -c filename   : set configuration file (default: conf/nginx.conf)\n  -g directives : set global directives out of configuration file\n```\n\n\n### \u5b9f\u884c\u74b0\u5883\u69cb\u7bc9\n\n#### \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\n```text\nD:\\dev\\nginx\n  \u251c\u2500 \\conf\n  \u251c\u2500 \\html\n  \u251c\u2500 \\logs\n  \u251c\u2500 \\temp\n  \u251c\u2500 server_start.bat\n  \u2514\u2500 server_stop.bat\n```\n\n*conf*\n\nchocolatey\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(`C:\\ProgramData\\chocolatey\\lib\\nginx\\tools\\nginx-1.8.0`)\u306b\u3042\u308bconf\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3054\u3068\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n*html*\n\nhtml\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u3053\u304cnginx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\n*logs*\n\nlogs\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n*temp*\n\nchocolatey\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(`C:\\ProgramData\\chocolatey\\lib\\nginx\\tools\\nginx-1.8.0`)\u306b\u3042\u308btemp\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3054\u3068\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n#### conf/nginx.conf\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u3082\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u30b3\u30e1\u30f3\u30c8\u3055\u308c\u3066\u3044\u305flog_format\u3068access_log\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\u3002\n\n```text\nlog_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                  '$status $body_bytes_sent \"$http_referer\" '\n                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\naccess_log  logs/access.log  main;\n```\n\n##### conf\u30d5\u30a1\u30a4\u30eb\u306e\u30c6\u30b9\u30c8\n\nconf\u3092\u7de8\u96c6\u3057\u305f\u5834\u5408\u306fsyntax\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3063\u3066\u8a2d\u5b9a\u306b\u9593\u9055\u3044\u304c\u306a\u3044\u304b\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```bat:syntax_check\n> nginx -t\nnginx: the configuration file D:\\dev\\nginx/conf/nginx.conf syntax is ok\nnginx: configuration file D:\\dev\\nginx/conf/nginx.conf test is successful\n```\n\n#### \u5b9f\u884c\u30fb\u505c\u6b62\u7528\u306ebat\n\n```bat:server_start.bat\nstart nginx\n```\n\n```bat:server_stop.bat\nnginx -s stop\n```\n\n\n### nginx\u3067phpMyAdmin\n\n#### php\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nhttps://secure.php.net/\n\nWindows\u3067php\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u5225\u9014\u3001Visual Studio 2012 Visual C++ \u518d\u9812\u5e03\u53ef\u80fd\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n[https://www.microsoft.com/ja-JP/download/details.aspx?id=30679] (Visual Studio 2012 \u66f4\u65b0\u30d7\u30ed\u30b0\u30e9\u30e0 4 \u306e Visual C++ \u518d\u9812\u5e03\u53ef\u80fd\u30d1\u30c3\u30b1\u30fc\u30b8)\n\n*Version*\n\n```bat\n> php -v\nPHP 5.6.17 (cli) (built: Jan  6 2016 13:28:21)\nCopyright (c) 1997-2015 The PHP Group\nZend Engine v2.6.0, Copyright (c) 1998-2015 Zend Technologies\n```\n\n*php.ini*\n\nphp.ini-development\u3092php.ini\u306b\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u4e0b\u8a18\u306e\u7b87\u6240\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002(\u629c\u7c8b)\n\n```text\nextension_dir = \"D:\\dev\\php-5.6.17\\ext\"\nextension=php_mbstring.dll\nextension=php_mysql.dll\nextension=php_mysqli.dll\ndate.timezone = \"Asia/Tokyo\"\n```\n\n#### phpMyAdmin\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nhttps://www.phpmyadmin.net/\n\n\u30a2\u30fc\u30ab\u30a4\u30d6\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u5c55\u958b\u3057\u3066\u51fa\u6765\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092nginx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306b`phpMyAdmin`\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n*config.inc.php*\n\nconfig.sample.inc.php\u3092config.inc.php\u306b\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u4e0b\u8a18\u306e\u7b87\u6240\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002(\u629c\u7c8b)\n\n```php\n$cfg['blowfish_secret'] = '<\u9069\u5f53\u306a\u6587\u5b57\u5217\u3092\u8a18\u8ff0>'; /* YOU MUST FILL IN THIS FOR COOKIE AUTH! */\n$cfg['Servers'][$i]['controluser'] = 'pma';\n$cfg['Servers'][$i]['controlpass'] = '<pma\u30e6\u30fc\u30b6\u30fc\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a18\u8ff0>';\n```\n\n\u3053\u3053\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u306f\u305a\u3057\u307e\u3059\u3002\n\n```php\n/* Storage database and tables */\n$cfg['Servers'][$i]['pmadb'] = 'phpmyadmin';\n$cfg['Servers'][$i]['bookmarktable'] = 'pma__bookmark';\n$cfg['Servers'][$i]['relation'] = 'pma__relation';\n$cfg['Servers'][$i]['table_info'] = 'pma__table_info';\n$cfg['Servers'][$i]['table_coords'] = 'pma__table_coords';\n$cfg['Servers'][$i]['pdf_pages'] = 'pma__pdf_pages';\n$cfg['Servers'][$i]['column_info'] = 'pma__column_info';\n$cfg['Servers'][$i]['history'] = 'pma__history';\n$cfg['Servers'][$i]['table_uiprefs'] = 'pma__table_uiprefs';\n$cfg['Servers'][$i]['tracking'] = 'pma__tracking';\n$cfg['Servers'][$i]['userconfig'] = 'pma__userconfig';\n$cfg['Servers'][$i]['recent'] = 'pma__recent';\n$cfg['Servers'][$i]['favorite'] = 'pma__favorite';\n$cfg['Servers'][$i]['users'] = 'pma__users';\n$cfg['Servers'][$i]['usergroups'] = 'pma__usergroups';\n$cfg['Servers'][$i]['navigationhiding'] = 'pma__navigationhiding';\n$cfg['Servers'][$i]['savedsearches'] = 'pma__savedsearches';\n$cfg['Servers'][$i]['central_columns'] = 'pma__central_columns';\n$cfg['Servers'][$i]['designer_settings'] = 'pma__designer_settings';\n$cfg['Servers'][$i]['export_templates'] = 'pma__export_templates';\n```\n\n*sql/create_tables.sql*\n\nsql\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3084\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308bsql\u30d5\u30a1\u30a4\u30eb\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u30b3\u30e1\u30f3\u30c8\u306b\u306a\u3063\u3066\u3044\u308bGRANT\u6587\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\n```sql\n-- Privileges\n--\n-- (activate this statement if necessary)\nGRANT SELECT, INSERT, DELETE, UPDATE, ALTER ON `phpmyadmin`.* TO 'pma'@localhost;\n```\n\n#### MySQL\n\nMySQL\u3092\u8d77\u52d5\u3057root\u30e6\u30fc\u30b6\u30fc\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u4e0a\u8a18\u306esql\u30d5\u30a1\u30a4\u30eb\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```sql\n> source D:\\dev\\nginx\\html\\phpMyAdmin\\sql\\create_tables.sql\n```\n\npma\u30e6\u30fc\u30b6\u30fc\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```sql\n> set password for pma@localhost = password('<pma\u306e\u30d1\u30b9\u30ef\u30fc\u30c9>');\n```\n\n#### nginx\u306e\u8a2d\u5b9a\n\n*nginx.conf*\n\nconf\u30d5\u30a1\u30a4\u30eb\u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```text\nserver {\n    listen       80;\n    server_name  phpmyadmin.localhost;\n\n    access_log  logs/php.access.log  main;\n\n    location / {\n        root   html/phpMyAdmin;\n        index  index.php;\n    }\n\n    location ~ \\.php$ {\n        root           html/phpMyAdmin;\n        fastcgi_pass   127.0.0.1:9001;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n\n}\n```\n\n*hosts*\n\nhosts\u30d5\u30a1\u30a4\u30eb\u306b\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```text\n127.0.0.1  phpmyadmin.localhost\n```\n\n#### php-cgi\n\nnginx\u3067php\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046php-cgi\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```bat\n> php-cgi.exe -b 127.0.0.1:9001\n```\n\n##### \u52d5\u4f5c\u78ba\u8a8d\n\n`http://phpmyadmin.localhost/`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066phpMyAdmin\u306e\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n### \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306eweb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u9023\u643a\u3055\u305b\u308b\n\n\u540c\u4e00\u30db\u30b9\u30c8\u4e0a\u3067\u5b9f\u884c\u3057\u3066\u3044\u308bspring-boot\u3067\u4f5c\u6210\u3057\u305fweb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u9023\u643a\u3055\u305b\u307e\u3059\u3002\n\n#### nginx\u306e\u8a2d\u5b9a\n\nserver\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u8a18\u8ff0\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```text\nserver {\n    listen       80;\n    server_name  localhost;\n\n    access_log  logs/web.access.log  main;\n\n    location / {\n        proxy_http_version 1.1;\n        proxy_pass http://localhost:9000;\n        proxy_redirect http://localhost:9000/ /;\n        proxy_cookie_path / /;\n\n        proxy_set_header        Host              $host;\n        proxy_set_header        X-Forwarded-By    $server_addr:$server_port;\n        proxy_set_header        X-Forwarded-For   $proxy_add_x_forwarded_for;\n        proxy_set_header        X-Forwarded-Proto http;\n        proxy_set_header        X-Real-IP         $remote_addr;\n        proxy_set_header        X-Forwarded-Port  $server_port;\n\n        root   html;\n        index  index.html index.htm;\n    }\n\n    error_page  404              /404.html;\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   html;\n    }\n}\n```\n\n##### \u52d5\u4f5c\u78ba\u8a8d\n\n`http://localhost/`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066spring-boot\u3067\u4f5c\u6210\u3057\u305fweb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n\n### nginx\u306essl\u8a2d\u5b9a\u306e\u53c2\u8003\n\n* [HowTo: Create a Self-Signed SSL Certificate on Nginx For CentOS / RHEL] (http://www.cyberciti.biz/faq/nginx-self-signed-certificate-tutorial-on-centos-redhat-linux/)\n* [nginx managed SSL with Tomcat 7] (http://stackoverflow.com/questions/19916906/nginx-managed-ssl-with-tomcat-7)\n\n"}