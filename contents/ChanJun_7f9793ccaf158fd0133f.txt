{"context": "qnote Advent Calendar 2016 8\u65e5\u76ee\u3092\u62c5\u5f53\u3044\u305f\u3057\u307e\u3059\u3002\n\u30c1\u30e3\u30f3\u30fb\u30b8\u30e5\u30f3(\u65e5\u672c\u4eba)\u3067\u3059\u3002\n\u3088\u308d\u3057\u304f\u3069\u3046\u305e\n\u3055\u3066\u30012016\u5e74\u306f\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u306e\u5e74\u3067\u3057\u305f\u306d\u3002\n\u3057\u304b\u3057\u306a\u304c\u3089GetWild\u306fAdventCalendar\u304c\u3042\u308b\u306e\u306b\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u306b\u306fAdventCalendar\u304c\u7121\u3044\u3088\u3046\u3067\u3059\u3002\n\u305d\u3093\u306a\u308f\u3051\u3067\u3001\u4eca\u56de\u306f\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30a2\u30d7\u30ea\u3092Kotlin\u3067\u66f8\u304f\u304a\u8a71\u3067\u3059\n\u3061\u306a\u307f\u306b\u3001\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3000\u2192\u3000\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u307e\u3068\u3081\n\n\u307e\u305a\u306f\u6e96\u5099\u304b\u3089\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u307e\u305a\u306fKotlin\u3092\u4f7f\u3046\u305f\u3081\u306b\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u3000\u2192\u3000Kotlin\u5316\u3067\u3059\u304c\u3001\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306eKotolin\u5316\u306f2\u65e5\u76ee\u306e\u8a18\u4e8b\u3092\u5fa1\u89a7\u304f\u3060\u3055\u3044\u3002\n\u3055\u3066\u3001\u4eca\u56de\u306fbuild.gradle\u306b\u8272\u3005\u8ffd\u52a0\u3057\u307e\u3059\n\nbuild.gradle\napply plugin: 'kotlin-android-extensions'\n\n\n\u2191kotlinExtensions\u304c\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\nbuild.gradle\nandroid {\n    ...\n\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    ...\n\n    kapt 'com.android.databinding:compiler:1.0-rc5'\n}\n\nkapt {\n    generateStubs = true\n}\n\n\n\u2191kotlin\u3067dataBinding\u304c\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\nbuild.gradle\ndependencies {\n    ...\u7565\n\n    compile 'com.android.support:appcompat-v7:25.0.0'\n    compile \"com.android.support:cardview-v7:25.0.0\"\n    compile 'com.android.support:recyclerview-v7:25.0.0'\n}\n\n\n\u2191\u30b5\u30dd\u30fc\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u5834\u5408\u306b\u306f\u5fc5\u8981\u3067\u3059\n\u4eca\u56de\u306f\u30ab\u30fc\u30c9\u30d3\u30e5\u30fc\u3092\u4f7f\u3046\u6a5f\u4f1a\u304c\u306a\u3055\u3059\u304e\u305f\u306e\u3067\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n\nLet's \u30ba\u30f3\u30c9\u30b3\n\n\u30ba\u30f3\u30c9\u30b3DataBinding\n\nzundoko_card_layout.xml\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\n    <data>\n        <variable name=\"zundokoObj\" type=\"com.chanjun.zundoko.Zundoko\"/>\n    </data>\n\n    <android.support.v7.widget.CardView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"5dp\"\n        app:cardUseCompatPadding=\"true\"\n        app:cardCornerRadius=\"10dp\">\n\n        ...\n\n    </android.support.v7.widget.CardView>\n</layout>\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3070\u304b\u308a\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067CardView\u306e\u4e2d\u8eab\u306f\u7701\u7565\u3057\u307e\u3057\u305f\u304c\u30ba\u30f3\u30c9\u30b3\u8868\u793a\u3092\u884c\u3046TextView\u304c\u5165\u308a\u307e\u3059\u3002\n\u5f0f\u304c\u4f7f\u3048\u308b\u306e\u3067\u3053\u3093\u306a\u611f\u3058\u306b\u8a18\u8ff0\u3059\u308c\u3070OK\u3067\u3059\u3002\nandroid:text=\"@{zundokoObj.zundokoText}\"\n\nRecyclerView\u306b\u3064\u3044\u3066\u306f\u7279\u306b\u7279\u5225\u306a\u5b9f\u88c5\u306f\u306a\u3044\u306e\u3067\u5272\u611b\u3057\u3066\u6b21\u306fAdapter\u3067\u3059\u3002\nonCreateViewHolder\u3067\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u30af\u30e9\u30b9\u3092\u4f5c\u308b\u306e\u306f\u8aac\u660e\u4e0d\u8981\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u30ba\u30f3\u30c9\u30b3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30bb\u30c3\u30c8\u306fRecyclerView\u5185\u3067View\u306e\u4f7f\u3044\u56de\u3057\u304c\u767a\u751f\u3057\u305f\u6642\u306b\u30c7\u30fc\u30bf\u304c\u66f4\u65b0\u3055\u308c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067onBindViewHolder\u3067\u884c\u3046\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nZundokoAdapter.kt\nclass ZundokoAdapter(val context: Context) : RecyclerView.Adapter<ZundokoViewHolder>() {\n    override fun onBindViewHolder(holder: ZundokoViewHolder?, position: Int) {\n        holder?.layoutBinding?.zundokoObj = zundokoList.get(position)\n    }\n\n    ...\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ZundokoViewHolder {\n        return ZundokoViewHolder(ZundokoCardLayoutBinding.inflate(LayoutInflater.from(context), parent, false))\n    }\n\n}\n\n\nZundokoViewHolder\u3067\u306f\u3001\u4e0a\u8ff0\u3057\u305f\u4f7f\u3044\u56de\u3057\u306e\u305f\u3081\u306b\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u30af\u30e9\u30b9\u3092\u4fdd\u6301\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304b\u3089\u5909\u6570\u3092\u4ee3\u5165\u3057\u305f\u308a\u3057\u306a\u304f\u3066\u3044\u3044\u306e\u30671\u884c\u3067\u6e08\u307f\u307e\u3059\u3002\n{}\u3082\u4e0d\u8981\u3067\u3059\u3002\n\u5225\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\u5fc5\u8981\u3082\u7121\u3044\u306e\u3067Adapter\u3068\u4e00\u7dd2\u306b\u3057\u3066\u304a\u3051\u3070\u826f\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\nZundokoViewHolder.kt\nclass ZundokoViewHolder(val layoutBinding: ZundokoCardLayoutBinding) : RecyclerView.ViewHolder(layoutBinding.root)\n\n\nZundoko\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3055\u3089\u306bKotlin\u72ec\u7279\u306e\u66f8\u304d\u65b9\u306b\u306a\u308a\u307e\u3059\u306d\u3002\n\u7279\u306bfield = value\u3068\u3044\u3046\u66f8\u304d\u65b9\u306f\u308f\u304b\u308a\u3084\u3059\u304f\u3066\u597d\u307f\u3067\u3059\u3002\n\nZundoko.kt\nclass Zundoko() :BaseObservable() {\n    @get:Bindable\n    var zundokoText: String = \"\"\n        set(value) {\n            field = value\n            notifyPropertyChanged(BR.zundokoText)\n        }\n\n    @get:Bindable\n    var zundokoResult: String = \"\"\n        set(value) {\n            field = value\n            notifyPropertyChanged(BR.zundokoResult)\n        }\n}\n\n\n\n\u30ba\u30f3\u30c9\u30b3\u30ed\u30b8\u30c3\u30af\n\u30ba\u30f3\u30c9\u30b3\u6587\u5b57\u5217\u306e\u751f\u6210\u306f\u4e0b\u8a18\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002\naddZundokoObj()\u3067\u751f\u6210\u3055\u308c\u305f\u30ba\u30f3\u30c9\u30b3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5373\u5ea7\u306b\u30ea\u30b9\u30c8\u306b\u8ffd\u52a0\u3055\u308c\u3001\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u305d\u306e\u5f8czundokoLoop()\u3067\u6587\u5b57\u5217\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3044\u306a\u304c\u3089\u6587\u5b57\u5217\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u304d\u307e\u3059\u3002\n\u6700\u91cd\u8981\u30dd\u30a4\u30f3\u30c8\u306f500ms\u306e\u9045\u5ef6\u3067\u8868\u793a\u3055\u308c\u308b\u30ba\u30f3\u30c9\u30b3\u3092\u773a\u3081\u306a\u304c\u3089\u3001\n\u3042\u306e\u30e1\u30ed\u30c7\u30a3\u3092\u8133\u5185\u3067\u88dc\u5b8c\u3059\u308b\u3053\u3068\u3067\u3059\uff01\n/**\n * \u30ba\u30f3\u30c9\u30b3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u8ffd\u52a0\u30e1\u30bd\u30c3\u30c9\n */\nfun addZundokoObj() {\n    val zundokoObj = Zundoko()\n    zundokoObj.zundokoText = getZundokoText()\n    zundokoList.add(zundokoObj)\n    zundokoView.scrollToPosition(zundokoList.maxPosition())\n\n    //\u30ea\u30ba\u30e0\u826f\u304f\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30c7\u30a3\u30ec\u30a4\n    Handler().postDelayed({\n        zundokoObj.zundokoText += \"\uff01\"\n        zundokoLoop()\n    }, 500)\n}\n\nfun zundokoLoop() {\n    //\u30ea\u30ba\u30e0\u826f\u304f\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30c7\u30a3\u30ec\u30a4\n    Handler().postDelayed({\n        var zundokoObj = zundokoList.get(zundokoList.maxPosition())\n\n        if (checkZundokoFinal(zundokoObj.zundokoText)) {\n            zundokoObj.zundokoResult = successText\n            zundokoList.add(zundokoList.maxPosition(), zundokoObj)\n            return@postDelayed\n        }\n\n        if (checkZundoko(zundokoObj.zundokoText)) {\n            zundokoObj.zundokoText += getZundokoText()\n        } else {\n            zundokoObj.zundokoResult = failureText\n            addZundokoObj()\n            return@postDelayed\n        }\n        zundokoList.set(zundokoList.maxPosition(), zundokoObj)\n        zundokoLoop()\n    }, 500)\n}\n\n\n\u30ba\u30f3\u30c9\u30b3\u30c1\u30a7\u30c3\u30af\n\u3055\u3066\u3001\u809d\u5fc3\u306e\u30ba\u30f3\u30c9\u30b3\u30c1\u30a7\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u304c\u3001\u4eca\u56de\u306fTextUtils.equals(a, b)\u3068\u304b\u66f8\u304f\u306e\u306f\u306a\u3093\u304b\u3084\u3060\u306a\u3041\u3068\u3044\u3046\u3060\u3051\u306e\u7406\u7531\u3067\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3067\u884c\u3044\u307e\u3057\u305f\u3002\n\u6700\u7d42\u7684\u306bsuccessText\u3092\u51fa\u3059\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u306f()\u3067\u30b0\u30eb\u30fc\u30d7\u5316\u3057\u30015\u30b0\u30eb\u30fc\u30d7\u3042\u308b\u30d1\u30bf\u30fc\u30f3\u3067\u30de\u30c3\u30c1\u3057\u305f\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001var regex = \"($zun\uff01)\"\u3068\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u5909\u6570zun\u3092\"\"\u5185\u3067\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u3001\nvar regex = \"(\" + zun + \"\uff01)\"\u3068\u304b\u66f8\u304b\u306a\u304f\u3066\u3044\u3044\u306e\u3067\u5feb\u9069\u3067\u3059\u3002\n\u307e\u305f\u3001\u30ba\u30f3\u30c9\u30b3\u30d1\u30bf\u30fc\u30f3\u751f\u6210\u306e\u30eb\u30fc\u30d7\u3067\u306f\u30ec\u30f3\u30b8\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n2..zundoko.length / 2\u306f\u6f14\u7b97\u5b50\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u306a\u306e\u30672.rangeTo(zundoko.length / 2)\u3068\u8868\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nval zun = \"\u30ba\u30f3\"\nval doko = \"\u30c9\u30b3\"\n\nfun checkZundoko(zundoko: String): Boolean {\n    return zundokoMatcher(zundoko).find()\n}\n\nfun checkZundokoFinal(zundoko: String): Boolean {\n    val m = zundokoMatcher(zundoko)\n    return if (m.find())\n        m.groupCount() == 5\n    else\n        false\n}\n\nfun zundokoMatcher(zundoko: String): Matcher {\n    var regex = \"($zun\uff01)\"\n    for(i in 2..zundoko.length / 2) {\n        if (i == 5)\n            regex += \"($doko)\"\n        else\n            regex += \"($zun)\"\n    }\n    val pattern = Pattern.compile(regex)\n    return pattern.matcher(zundoko)\n}\n\n\n\u307e\u3068\u3081\n\u30b3\u30fc\u30c9\u66f8\u304f\u3088\u308a\u307e\u3068\u3081\u308b\u306e\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3057\u305f\nqnote Advent Calendar 2016 8\u65e5\u76ee\u3092\u62c5\u5f53\u3044\u305f\u3057\u307e\u3059\u3002\n\u30c1\u30e3\u30f3\u30fb\u30b8\u30e5\u30f3(\u65e5\u672c\u4eba)\u3067\u3059\u3002\n\u3088\u308d\u3057\u304f\u3069\u3046\u305e\n\n\u3055\u3066\u30012016\u5e74\u306f\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u306e\u5e74\u3067\u3057\u305f\u306d\u3002\n\u3057\u304b\u3057\u306a\u304c\u3089GetWild\u306fAdventCalendar\u304c\u3042\u308b\u306e\u306b\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u306b\u306fAdventCalendar\u304c\u7121\u3044\u3088\u3046\u3067\u3059\u3002\n\n\u305d\u3093\u306a\u308f\u3051\u3067\u3001\u4eca\u56de\u306f\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u30a2\u30d7\u30ea\u3092Kotlin\u3067\u66f8\u304f\u304a\u8a71\u3067\u3059\n\n\u3061\u306a\u307f\u306b\u3001\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3000\u2192\u3000[\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7\u307e\u3068\u3081](http://qiita.com/shunsugai@github/items/971a15461de29563bf90)\n\n## \u307e\u305a\u306f\u6e96\u5099\u304b\u3089\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u307e\u305a\u306fKotlin\u3092\u4f7f\u3046\u305f\u3081\u306b\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u3000\u2192\u3000Kotlin\u5316\u3067\u3059\u304c\u3001\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306eKotolin\u5316\u306f[2\u65e5\u76ee\u306e\u8a18\u4e8b](http://qiita.com/ChanJun/items/e095113def0a23b1f7c6)\u3092\u5fa1\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\u3055\u3066\u3001\u4eca\u56de\u306f`build.gradle`\u306b\u8272\u3005\u8ffd\u52a0\u3057\u307e\u3059\n\n\n```build.gradle\napply plugin: 'kotlin-android-extensions'\n```\n\u2191kotlinExtensions\u304c\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n```build.gradle\nandroid {\n\t...\n\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n\t...\n\n    kapt 'com.android.databinding:compiler:1.0-rc5'\n}\n\nkapt {\n    generateStubs = true\n}\n```\n\u2191kotlin\u3067dataBinding\u304c\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n```build.gradle\ndependencies {\n\t...\u7565\n\n    compile 'com.android.support:appcompat-v7:25.0.0'\n    compile \"com.android.support:cardview-v7:25.0.0\"\n    compile 'com.android.support:recyclerview-v7:25.0.0'\n}\n```\n\u2191\u30b5\u30dd\u30fc\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u5834\u5408\u306b\u306f\u5fc5\u8981\u3067\u3059\n\u4eca\u56de\u306f\u30ab\u30fc\u30c9\u30d3\u30e5\u30fc\u3092\u4f7f\u3046\u6a5f\u4f1a\u304c\u306a\u3055\u3059\u304e\u305f\u306e\u3067\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\n\n## Let's \u30ba\u30f3\u30c9\u30b3\n\n### \u30ba\u30f3\u30c9\u30b3DataBinding\n\n```zundoko_card_layout.xml\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\n    <data>\n        <variable name=\"zundokoObj\" type=\"com.chanjun.zundoko.Zundoko\"/>\n    </data>\n\n    <android.support.v7.widget.CardView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"5dp\"\n        app:cardUseCompatPadding=\"true\"\n        app:cardCornerRadius=\"10dp\">\n        \n        ...\n\n    </android.support.v7.widget.CardView>\n</layout>\n```\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3070\u304b\u308a\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067CardView\u306e\u4e2d\u8eab\u306f\u7701\u7565\u3057\u307e\u3057\u305f\u304c\u30ba\u30f3\u30c9\u30b3\u8868\u793a\u3092\u884c\u3046TextView\u304c\u5165\u308a\u307e\u3059\u3002\n\u5f0f\u304c\u4f7f\u3048\u308b\u306e\u3067\u3053\u3093\u306a\u611f\u3058\u306b\u8a18\u8ff0\u3059\u308c\u3070OK\u3067\u3059\u3002\n\n```\nandroid:text=\"@{zundokoObj.zundokoText}\"\n```\n\nRecyclerView\u306b\u3064\u3044\u3066\u306f\u7279\u306b\u7279\u5225\u306a\u5b9f\u88c5\u306f\u306a\u3044\u306e\u3067\u5272\u611b\u3057\u3066\u6b21\u306fAdapter\u3067\u3059\u3002\n`onCreateViewHolder`\u3067\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u30af\u30e9\u30b9\u3092\u4f5c\u308b\u306e\u306f\u8aac\u660e\u4e0d\u8981\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u30ba\u30f3\u30c9\u30b3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30bb\u30c3\u30c8\u306fRecyclerView\u5185\u3067View\u306e\u4f7f\u3044\u56de\u3057\u304c\u767a\u751f\u3057\u305f\u6642\u306b\u30c7\u30fc\u30bf\u304c\u66f4\u65b0\u3055\u308c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067`onBindViewHolder`\u3067\u884c\u3046\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```ZundokoAdapter.kt\nclass ZundokoAdapter(val context: Context) : RecyclerView.Adapter<ZundokoViewHolder>() {\n    override fun onBindViewHolder(holder: ZundokoViewHolder?, position: Int) {\n        holder?.layoutBinding?.zundokoObj = zundokoList.get(position)\n    }\n\n\t...\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ZundokoViewHolder {\n        return ZundokoViewHolder(ZundokoCardLayoutBinding.inflate(LayoutInflater.from(context), parent, false))\n    }\n\n}\n```\n\n`ZundokoViewHolder`\u3067\u306f\u3001\u4e0a\u8ff0\u3057\u305f\u4f7f\u3044\u56de\u3057\u306e\u305f\u3081\u306b\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u30af\u30e9\u30b9\u3092\u4fdd\u6301\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304b\u3089\u5909\u6570\u3092\u4ee3\u5165\u3057\u305f\u308a\u3057\u306a\u304f\u3066\u3044\u3044\u306e\u30671\u884c\u3067\u6e08\u307f\u307e\u3059\u3002\n{}\u3082\u4e0d\u8981\u3067\u3059\u3002\n\u5225\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\u5fc5\u8981\u3082\u7121\u3044\u306e\u3067Adapter\u3068\u4e00\u7dd2\u306b\u3057\u3066\u304a\u3051\u3070\u826f\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```ZundokoViewHolder.kt\nclass ZundokoViewHolder(val layoutBinding: ZundokoCardLayoutBinding) : RecyclerView.ViewHolder(layoutBinding.root)\n```\n\nZundoko\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3055\u3089\u306bKotlin\u72ec\u7279\u306e\u66f8\u304d\u65b9\u306b\u306a\u308a\u307e\u3059\u306d\u3002\n\u7279\u306b`field = value`\u3068\u3044\u3046\u66f8\u304d\u65b9\u306f\u308f\u304b\u308a\u3084\u3059\u304f\u3066\u597d\u307f\u3067\u3059\u3002\n\n```Zundoko.kt\nclass Zundoko() :BaseObservable() {\n    @get:Bindable\n    var zundokoText: String = \"\"\n        set(value) {\n            field = value\n            notifyPropertyChanged(BR.zundokoText)\n        }\n\n    @get:Bindable\n    var zundokoResult: String = \"\"\n        set(value) {\n            field = value\n            notifyPropertyChanged(BR.zundokoResult)\n        }\n}\n```\n\n\n### \u30ba\u30f3\u30c9\u30b3\u30ed\u30b8\u30c3\u30af\n\n\u30ba\u30f3\u30c9\u30b3\u6587\u5b57\u5217\u306e\u751f\u6210\u306f\u4e0b\u8a18\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002\n`addZundokoObj()`\u3067\u751f\u6210\u3055\u308c\u305f\u30ba\u30f3\u30c9\u30b3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5373\u5ea7\u306b\u30ea\u30b9\u30c8\u306b\u8ffd\u52a0\u3055\u308c\u3001\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u305d\u306e\u5f8c`zundokoLoop()`\u3067\u6587\u5b57\u5217\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3044\u306a\u304c\u3089\u6587\u5b57\u5217\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u6700\u91cd\u8981\u30dd\u30a4\u30f3\u30c8\u306f500ms\u306e\u9045\u5ef6\u3067\u8868\u793a\u3055\u308c\u308b\u30ba\u30f3\u30c9\u30b3\u3092\u773a\u3081\u306a\u304c\u3089\u3001\n**\u3042\u306e\u30e1\u30ed\u30c7\u30a3\u3092\u8133\u5185\u3067\u88dc\u5b8c\u3059\u308b\u3053\u3068\u3067\u3059\uff01**\n\n```kotlin\n/**\n * \u30ba\u30f3\u30c9\u30b3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u8ffd\u52a0\u30e1\u30bd\u30c3\u30c9\n */\nfun addZundokoObj() {\n    val zundokoObj = Zundoko()\n    zundokoObj.zundokoText = getZundokoText()\n    zundokoList.add(zundokoObj)\n    zundokoView.scrollToPosition(zundokoList.maxPosition())\n\n    //\u30ea\u30ba\u30e0\u826f\u304f\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30c7\u30a3\u30ec\u30a4\n    Handler().postDelayed({\n        zundokoObj.zundokoText += \"\uff01\"\n        zundokoLoop()\n    }, 500)\n}\n\nfun zundokoLoop() {\n    //\u30ea\u30ba\u30e0\u826f\u304f\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30c7\u30a3\u30ec\u30a4\n    Handler().postDelayed({\n        var zundokoObj = zundokoList.get(zundokoList.maxPosition())\n\n        if (checkZundokoFinal(zundokoObj.zundokoText)) {\n            zundokoObj.zundokoResult = successText\n            zundokoList.add(zundokoList.maxPosition(), zundokoObj)\n            return@postDelayed\n        }\n\n        if (checkZundoko(zundokoObj.zundokoText)) {\n            zundokoObj.zundokoText += getZundokoText()\n        } else {\n            zundokoObj.zundokoResult = failureText\n            addZundokoObj()\n            return@postDelayed\n        }\n        zundokoList.set(zundokoList.maxPosition(), zundokoObj)\n        zundokoLoop()\n    }, 500)\n}\n```\n\n### \u30ba\u30f3\u30c9\u30b3\u30c1\u30a7\u30c3\u30af\n\n\u3055\u3066\u3001\u809d\u5fc3\u306e\u30ba\u30f3\u30c9\u30b3\u30c1\u30a7\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u304c\u3001\u4eca\u56de\u306f`TextUtils.equals(a, b)`\u3068\u304b\u66f8\u304f\u306e\u306f\u306a\u3093\u304b\u3084\u3060\u306a\u3041\u3068\u3044\u3046\u3060\u3051\u306e\u7406\u7531\u3067\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3067\u884c\u3044\u307e\u3057\u305f\u3002\n\n\u6700\u7d42\u7684\u306bsuccessText\u3092\u51fa\u3059\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u30d1\u30bf\u30fc\u30f3\u6587\u5b57\u5217\u306f()\u3067\u30b0\u30eb\u30fc\u30d7\u5316\u3057\u30015\u30b0\u30eb\u30fc\u30d7\u3042\u308b\u30d1\u30bf\u30fc\u30f3\u3067\u30de\u30c3\u30c1\u3057\u305f\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001`var regex = \"($zun\uff01)\"`\u3068\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u5909\u6570zun\u3092\"\"\u5185\u3067\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u3001\n`var regex = \"(\" + zun + \"\uff01)\"`\u3068\u304b\u66f8\u304b\u306a\u304f\u3066\u3044\u3044\u306e\u3067\u5feb\u9069\u3067\u3059\u3002\n\n\u307e\u305f\u3001\u30ba\u30f3\u30c9\u30b3\u30d1\u30bf\u30fc\u30f3\u751f\u6210\u306e\u30eb\u30fc\u30d7\u3067\u306f\u30ec\u30f3\u30b8\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n`2..zundoko.length / 2`\u306f\u6f14\u7b97\u5b50\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u306a\u306e\u3067`2.rangeTo(zundoko.length / 2)`\u3068\u8868\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```kotlin\nval zun = \"\u30ba\u30f3\"\nval doko = \"\u30c9\u30b3\"\n\nfun checkZundoko(zundoko: String): Boolean {\n    return zundokoMatcher(zundoko).find()\n}\n\nfun checkZundokoFinal(zundoko: String): Boolean {\n    val m = zundokoMatcher(zundoko)\n    return if (m.find())\n        m.groupCount() == 5\n    else\n        false\n}\n\nfun zundokoMatcher(zundoko: String): Matcher {\n    var regex = \"($zun\uff01)\"\n    for(i in 2..zundoko.length / 2) {\n        if (i == 5)\n            regex += \"($doko)\"\n        else\n            regex += \"($zun)\"\n    }\n    val pattern = Pattern.compile(regex)\n    return pattern.matcher(zundoko)\n}\n```\n\n## \u307e\u3068\u3081\n**\u30b3\u30fc\u30c9\u66f8\u304f\u3088\u308a\u307e\u3068\u3081\u308b\u306e\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3057\u305f**\n", "tags": ["Android", "\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7", "Kotlin", "android\u958b\u767a"]}