{"tags": ["CentOS6", "xtradb", "percona"], "context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nCentOS6.7\u306bPercona XtraDB Cluster\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n\u74b0\u5883\n\nCentOS 6.7\nPercona XtraDB Cluster 5.6\n\n\n\u30b5\u30fc\u30d0\u69cb\u6210\n\n\n\nnode\n\u30db\u30b9\u30c8\u540d\nIP\u30a2\u30c9\u30ec\u30b9\n\n\n\n\nnode1\npercona01\n192.168.33.21\n\n\nnode2\npercona02\n192.168.33.22\n\n\nnode3\npercona03\n192.168.33.23\n\n\n\n\n\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\n$ sudo yum install http://www.percona.com/downloads/percona-release/redhat/0.1-3/percona-release-0.1-3.noarch.rpm\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, security\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51e6\u7406\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\nLoading mirror speeds from cached hostfile\n * base: ftp.riken.jp\n * extras: ftp.riken.jp\n * updates: ftp.riken.jp\n\u30d1\u30c3\u30b1\u30fc\u30b8 yum-3.2.29-69.el6.centos.noarch \u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u304b\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\n\u30d1\u30c3\u30b1\u30fc\u30b8 install \u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002\npercona-release-0.1-3.noarch.rpm                                                                                                      | 6.4 kB     00:00\n/var/tmp/yum-root-bV5j5D/percona-release-0.1-3.noarch.rpm \u3092\u8abf\u3079\u3066\u3044\u307e\u3059: percona-release-0.1-3.noarch\n/var/tmp/yum-root-bV5j5D/percona-release-0.1-3.noarch.rpm \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3068\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\n\u4f9d\u5b58\u6027\u306e\u89e3\u6c7a\u3092\u3057\u3066\u3044\u307e\u3059\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package percona-release.noarch 0:0.1-3 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u89e3\u6c7a\u3092\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n\u4f9d\u5b58\u6027\u3092\u89e3\u6c7a\u3057\u307e\u3057\u305f\n\n=============================================================================================================================================================\n \u30d1\u30c3\u30b1\u30fc\u30b8                            \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3               \u30d0\u30fc\u30b8\u30e7\u30f3                     \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc                                         \u5bb9\u91cf\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059:\n percona-release                       noarch                       0.1-3                          /percona-release-0.1-3.noarch                       5.8 k\n\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u8981\u7d04\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb         1 \u30d1\u30c3\u30b1\u30fc\u30b8\n\n\u5408\u8a08\u5bb9\u91cf: 5.8 k\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u5bb9\u91cf: 5.8 k\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059:\nrpm_check_debug \u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u6210\u529f\u3057\u307e\u3057\u305f\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : percona-release-0.1-3.noarch                                                                                                 1/1\n  Verifying               : percona-release-0.1-3.noarch                                                                                                 1/1\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  percona-release.noarch 0:0.1-3\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n\n$ sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, security\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51e6\u7406\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\nepel-release-latest-6.noarch.rpm                                                                                                      |  14 kB     00:00\n/var/tmp/yum-root-bV5j5D/epel-release-latest-6.noarch.rpm \u3092\u8abf\u3079\u3066\u3044\u307e\u3059: epel-release-6-8.noarch\n/var/tmp/yum-root-bV5j5D/epel-release-latest-6.noarch.rpm \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3068\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\nLoading mirror speeds from cached hostfile\n * base: ftp.riken.jp\n * extras: ftp.riken.jp\n * updates: ftp.riken.jp\n\u4f9d\u5b58\u6027\u306e\u89e3\u6c7a\u3092\u3057\u3066\u3044\u307e\u3059\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package epel-release.noarch 0:6-8 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u89e3\u6c7a\u3092\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n\u4f9d\u5b58\u6027\u3092\u89e3\u6c7a\u3057\u307e\u3057\u305f\n\n=============================================================================================================================================================\n \u30d1\u30c3\u30b1\u30fc\u30b8                           \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3                 \u30d0\u30fc\u30b8\u30e7\u30f3                  \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc                                           \u5bb9\u91cf\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059:\n epel-release                         noarch                         6-8                         /epel-release-latest-6.noarch                          22 k\n\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u8981\u7d04\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb         1 \u30d1\u30c3\u30b1\u30fc\u30b8\n\n\u5408\u8a08\u5bb9\u91cf: 22 k\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u5bb9\u91cf: 22 k\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059:\nrpm_check_debug \u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u6210\u529f\u3057\u307e\u3057\u305f\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : epel-release-6-8.noarch                                                                                                      1/1\n  Verifying               : epel-release-6-8.noarch                                                                                                      1/1\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  epel-release.noarch 0:6-8\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n\n$ yum repolist\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, security\nLoading mirror speeds from cached hostfile\nepel/metalink                                                                                                                         | 4.7 kB     00:00\n * base: www.ftp.ne.jp\n * epel: ftp.riken.jp\n * extras: www.ftp.ne.jp\n * updates: www.ftp.ne.jp\nepel                                                                                                                                  | 4.3 kB     00:00\nepel/primary_db                                                                                                                       | 5.7 MB     00:02\n\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc ID                                                \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc\u540d                                                                          \u72b6\u614b\nbase                                                           CentOS-6 - Base                                                                          6,575\nepel                                                           Extra Packages for Enterprise Linux 6 - x86_64                                          11,767\nextras                                                         CentOS-6 - Extras                                                                           35\npercona-release-noarch                                         Percona-Release YUM repository - noarch                                                     32\npercona-release-x86_64                                         Percona-Release YUM repository - x86_64                                                    594\nupdates                                                        CentOS-6 - Updates                                                                         298\nrepolist: 19,301\n\n\nPercona XtraDB Cluster\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install Percona-XtraDB-Cluster-56\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, security\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51e6\u7406\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\nLoading mirror speeds from cached hostfile\nepel/metalink                                                                                                                         | 5.5 kB     00:00\n * base: ftp.riken.jp\n * epel: ftp.riken.jp\n * extras: ftp.riken.jp\n * updates: ftp.riken.jp\nbase                                                                                                                                  | 3.7 kB     00:00\nepel                                                                                                                                  | 4.3 kB     00:00\nepel/primary_db                                                                                                                       | 5.7 MB     00:04\nextras                                                                                                                                | 3.4 kB     00:00\npercona-release-noarch                                                                                                                |  951 B     00:00\npercona-release-x86_64                                                                                                                |  951 B     00:00\nupdates                                                                                                                               | 3.4 kB     00:00\n\u4f9d\u5b58\u6027\u306e\u89e3\u6c7a\u3092\u3057\u3066\u3044\u307e\u3059\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package Percona-XtraDB-Cluster-56.x86_64 1:5.6.24-25.11.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: Percona-XtraDB-Cluster-server-56 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: Percona-XtraDB-Cluster-galera-3 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: Percona-XtraDB-Cluster-client-56 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package Percona-XtraDB-Cluster-client-56.x86_64 1:5.6.24-25.11.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: perl-DBI \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-client-56-5.6.24-25.11.1.el6.x86_64\n---> Package Percona-XtraDB-Cluster-galera-3.x86_64 0:3.11-1.rhel6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package Percona-XtraDB-Cluster-server-56.x86_64 1:5.6.24-25.11.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: percona-xtrabackup >= 2.2.5 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: perl-DBD-MySQL \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: Percona-XtraDB-Cluster-shared-56 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: socat \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package Percona-XtraDB-Cluster-shared-56.x86_64 1:5.6.24-25.11.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package percona-xtrabackup.x86_64 0:2.2.12-1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: perl(Time::HiRes) \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: percona-xtrabackup-2.2.12-1.el6.x86_64\n---> Package perl-DBD-MySQL.x86_64 0:4.013-3.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package perl-DBI.x86_64 0:1.609-4.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package socat.x86_64 0:1.7.2.3-1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: libreadline.so.5()(64bit) \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: socat-1.7.2.3-1.el6.x86_64\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package compat-readline5.x86_64 0:5.2-17.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package perl-Time-HiRes.x86_64 4:1.9721-141.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u89e3\u6c7a\u3092\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n\u4f9d\u5b58\u6027\u3092\u89e3\u6c7a\u3057\u307e\u3057\u305f\n\n=============================================================================================================================================================\n \u30d1\u30c3\u30b1\u30fc\u30b8                                       \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3         \u30d0\u30fc\u30b8\u30e7\u30f3                             \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc                            \u5bb9\u91cf\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059:\n Percona-XtraDB-Cluster-56                        x86_64                 1:5.6.24-25.11.1.el6                   percona-release-x86_64                  26 k\n\u4f9d\u5b58\u6027\u95a2\u9023\u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u307e\u3059\u3002:\n Percona-XtraDB-Cluster-client-56                 x86_64                 1:5.6.24-25.11.1.el6                   percona-release-x86_64                 6.1 M\n Percona-XtraDB-Cluster-galera-3                  x86_64                 3.11-1.rhel6                           percona-release-x86_64                 817 k\n Percona-XtraDB-Cluster-server-56                 x86_64                 1:5.6.24-25.11.1.el6                   percona-release-x86_64                  19 M\n Percona-XtraDB-Cluster-shared-56                 x86_64                 1:5.6.24-25.11.1.el6                   percona-release-x86_64                 684 k\n compat-readline5                                 x86_64                 5.2-17.1.el6                           base                                   130 k\n percona-xtrabackup                               x86_64                 2.2.12-1.el6                           percona-release-x86_64                 4.8 M\n perl-DBD-MySQL                                   x86_64                 4.013-3.el6                            base                                   134 k\n perl-DBI                                         x86_64                 1.609-4.el6                            base                                   705 k\n perl-Time-HiRes                                  x86_64                 4:1.9721-141.el6                       base                                    49 k\n socat                                            x86_64                 1.7.2.3-1.el6                          epel                                   246 k\n\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u8981\u7d04\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb        11 \u30d1\u30c3\u30b1\u30fc\u30b8\n\n\u7dcf\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5bb9\u91cf: 33 M\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u5bb9\u91cf: 147 M\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059:\n(1/11): Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64.rpm                                                                       |  26 kB     00:00\n(2/11): Percona-XtraDB-Cluster-client-56-5.6.24-25.11.1.el6.x86_64.rpm                                                                | 6.1 MB     00:27\n(3/11): Percona-XtraDB-Cluster-galera-3-3.11-1.rhel6.x86_64.rpm                                                                       | 817 kB     00:02\n(4/11): Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64.rpm                                                                |  19 MB     01:21\n(5/11): Percona-XtraDB-Cluster-shared-56-5.6.24-25.11.1.el6.x86_64.rpm                                                                | 684 kB     00:01\n(6/11): compat-readline5-5.2-17.1.el6.x86_64.rpm                                                                                      | 130 kB     00:00\n(7/11): percona-xtrabackup-2.2.12-1.el6.x86_64.rpm                                                                                    | 4.8 MB     00:18\n(8/11): perl-DBD-MySQL-4.013-3.el6.x86_64.rpm                                                                                         | 134 kB     00:00\n(9/11): perl-DBI-1.609-4.el6.x86_64.rpm                                                                                               | 705 kB     00:00\n(10/11): perl-Time-HiRes-1.9721-141.el6.x86_64.rpm                                                                                    |  49 kB     00:00\n(11/11): socat-1.7.2.3-1.el6.x86_64.rpm                                                                                               | 246 kB     00:00\n-------------------------------------------------------------------------------------------------------------------------------------------------------------\n\u5408\u8a08                                                                                                                         244 kB/s |  33 MB     02:18\n\u8b66\u544a: rpmts_HdrFromFdno: \u30d8\u30c3\u30c0 V4 DSA/SHA1 Signature, key ID cd2efd2a: NOKEY\nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-Percona\nImporting GPG key 0xCD2EFD2A:\n Userid : Percona MySQL Development Team <mysql-dev@percona.com>\n Package: percona-release-0.1-3.noarch (@/percona-release-0.1-3.noarch)\n From   : /etc/pki/rpm-gpg/RPM-GPG-KEY-Percona\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\nwarning: rpmts_HdrFromFdno: Header V3 RSA/SHA256 Signature, key ID 0608b895: NOKEY\nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6\nImporting GPG key 0x0608B895:\n Userid : EPEL (6) <epel@fedoraproject.org>\n Package: epel-release-6-8.noarch (@/epel-release-latest-6.noarch)\n From   : /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\nrpm_check_debug \u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u6210\u529f\u3057\u307e\u3057\u305f\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : perl-DBI-1.609-4.el6.x86_64                                                                                                 1/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 1:Percona-XtraDB-Cluster-client-56-5.6.24-25.11.1.el6.x86_64                                                                2/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : perl-DBD-MySQL-4.013-3.el6.x86_64                                                                                           3/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : Percona-XtraDB-Cluster-galera-3-3.11-1.rhel6.x86_64                                                                         4/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : compat-readline5-5.2-17.1.el6.x86_64                                                                                        5/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : socat-1.7.2.3-1.el6.x86_64                                                                                                  6/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 4:perl-Time-HiRes-1.9721-141.el6.x86_64                                                                                     7/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : percona-xtrabackup-2.2.12-1.el6.x86_64                                                                                      8/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 1:Percona-XtraDB-Cluster-shared-56-5.6.24-25.11.1.el6.x86_64                                                                9/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64                                                               10/11\n2015-09-16 22:08:21 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\n2015-09-16 22:08:21 0 [Note] /usr/sbin/mysqld (mysqld 5.6.24-72.2-56) starting as process 2464 ...\n2015-09-16 22:08:21 2464 [Note] WSREP: Read nil XID from storage engines, skipping position init\n2015-09-16 22:08:21 2464 [Note] WSREP: wsrep_load(): loading provider library 'none'\n2015-09-16 22:08:21 2464 [Note] InnoDB: Using atomics to ref count buffer pool pages\n2015-09-16 22:08:21 2464 [Note] InnoDB: The InnoDB memory heap is disabled\n2015-09-16 22:08:21 2464 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\n2015-09-16 22:08:21 2464 [Note] InnoDB: Memory barrier is not used\n2015-09-16 22:08:21 2464 [Note] InnoDB: Compressed tables use zlib 1.2.3\n2015-09-16 22:08:21 2464 [Note] InnoDB: Using Linux native AIO\n2015-09-16 22:08:21 2464 [Note] InnoDB: Not using CPU crc32 instructions\n2015-09-16 22:08:21 2464 [Note] InnoDB: Initializing buffer pool, size = 128.0M\n2015-09-16 22:08:21 2464 [Note] InnoDB: Completed initialization of buffer pool\n2015-09-16 22:08:21 2464 [Note] InnoDB: The first specified data file ./ibdata1 did not exist: a new database to be created!\n2015-09-16 22:08:21 2464 [Note] InnoDB: Setting file ./ibdata1 size to 12 MB\n2015-09-16 22:08:21 2464 [Note] InnoDB: Database physically writes the file full: wait...\n2015-09-16 22:08:21 2464 [Note] InnoDB: Setting log file ./ib_logfile101 size to 48 MB\n2015-09-16 22:08:21 2464 [Note] InnoDB: Setting log file ./ib_logfile1 size to 48 MB\n2015-09-16 22:08:21 2464 [Note] InnoDB: Renaming log file ./ib_logfile101 to ./ib_logfile0\n2015-09-16 22:08:21 2464 [Warning] InnoDB: New log files created, LSN=45781\n2015-09-16 22:08:21 2464 [Note] InnoDB: Doublewrite buffer not found: creating new\n2015-09-16 22:08:22 2464 [Note] InnoDB: Doublewrite buffer created\n2015-09-16 22:08:22 2464 [Note] InnoDB: 128 rollback segment(s) are active.\n2015-09-16 22:08:22 2464 [Warning] InnoDB: Creating foreign key constraint system tables.\n2015-09-16 22:08:22 2464 [Note] InnoDB: Foreign key constraint system tables created\n2015-09-16 22:08:22 2464 [Note] InnoDB: Creating tablespace and datafile system tables.\n2015-09-16 22:08:22 2464 [Note] InnoDB: Tablespace and datafile system tables created.\n2015-09-16 22:08:22 2464 [Note] InnoDB: Waiting for purge to start\n2015-09-16 22:08:22 2464 [Note] InnoDB:  Percona XtraDB (http://www.percona.com) 5.6.24-72.2 started; log sequence number 0\n2015-09-16 22:08:22 2464 [Note] RSA private key file not found: /var/lib/mysql//private_key.pem. Some authentication plugins will not work.\n2015-09-16 22:08:22 2464 [Note] RSA public key file not found: /var/lib/mysql//public_key.pem. Some authentication plugins will not work.\n2015-09-16 22:08:22 2464 [Note] WSREP: Service disconnected.\n2015-09-16 22:08:23 2464 [Note] WSREP: Some threads may fail to exit.\n2015-09-16 22:08:23 2464 [Note] Binlog end\n2015-09-16 22:08:23 2464 [Note] InnoDB: FTS optimize thread exiting.\n2015-09-16 22:08:23 2464 [Note] InnoDB: Starting shutdown...\n2015-09-16 22:08:25 2464 [Note] InnoDB: Shutdown completed; log sequence number 1625977\n\n\n2015-09-16 22:08:25 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\n2015-09-16 22:08:25 0 [Note] /usr/sbin/mysqld (mysqld 5.6.24-72.2-56) starting as process 2488 ...\n2015-09-16 22:08:25 2488 [Note] WSREP: Read nil XID from storage engines, skipping position init\n2015-09-16 22:08:25 2488 [Note] WSREP: wsrep_load(): loading provider library 'none'\n2015-09-16 22:08:25 2488 [Note] InnoDB: Using atomics to ref count buffer pool pages\n2015-09-16 22:08:25 2488 [Note] InnoDB: The InnoDB memory heap is disabled\n2015-09-16 22:08:25 2488 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\n2015-09-16 22:08:25 2488 [Note] InnoDB: Memory barrier is not used\n2015-09-16 22:08:25 2488 [Note] InnoDB: Compressed tables use zlib 1.2.3\n2015-09-16 22:08:25 2488 [Note] InnoDB: Using Linux native AIO\n2015-09-16 22:08:25 2488 [Note] InnoDB: Not using CPU crc32 instructions\n2015-09-16 22:08:25 2488 [Note] InnoDB: Initializing buffer pool, size = 128.0M\n2015-09-16 22:08:25 2488 [Note] InnoDB: Completed initialization of buffer pool\n2015-09-16 22:08:25 2488 [Note] InnoDB: Highest supported file format is Barracuda.\n2015-09-16 22:08:25 2488 [Note] InnoDB: 128 rollback segment(s) are active.\n2015-09-16 22:08:25 2488 [Note] InnoDB: Waiting for purge to start\n2015-09-16 22:08:25 2488 [Note] InnoDB:  Percona XtraDB (http://www.percona.com) 5.6.24-72.2 started; log sequence number 1625977\n2015-09-16 22:08:25 2488 [Note] RSA private key file not found: /var/lib/mysql//private_key.pem. Some authentication plugins will not work.\n2015-09-16 22:08:25 2488 [Note] RSA public key file not found: /var/lib/mysql//public_key.pem. Some authentication plugins will not work.\n2015-09-16 22:08:25 2488 [Note] WSREP: Service disconnected.\n2015-09-16 22:08:26 2488 [Note] WSREP: Some threads may fail to exit.\n2015-09-16 22:08:26 2488 [Note] Binlog end\n2015-09-16 22:08:26 2488 [Note] InnoDB: FTS optimize thread exiting.\n2015-09-16 22:08:26 2488 [Note] InnoDB: Starting shutdown...\n2015-09-16 22:08:28 2488 [Note] InnoDB: Shutdown completed; log sequence number 1625987\n\n\n\n\nPLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !\nTo do so, start the server, then issue the following commands:\n\n  /usr/bin/mysqladmin -u root password 'new-password'\n  /usr/bin/mysqladmin -u root -h localhost.localdomain password 'new-password'\n\nAlternatively you can run:\n\n  /usr/bin/mysql_secure_installation\n\nwhich will also give you the option of removing the test\ndatabases and anonymous user created by default.  This is\nstrongly recommended for production servers.\n\nSee the manual for more instructions.\n\nPlease report any problems with Percona XtraDB Cluster 5.6 at https://bugs.launchpad.net/percona-xtradb-cluster/+filebug\n\nThe latest information about Percona XtraDB Cluster 5.6 is available on the web at\n\n  http://www.percona.com/doc/percona-xtradb-cluster/5.6/\n\nSupport Percona XtraDB Cluster 5.6 by buying support at http://www.percona.com/products/mysql-support\n\nWARNING: Default config file /etc/my.cnf exists on the system\nThis file will be read by default by the MySQL server\nIf you do not want to use this, either remove it, or use the\n--defaults-file argument to mysqld_safe when starting the server\n\nPercona XtraDB Cluster is distributed with several useful UDFs from Percona Toolkit.\nRun the following commands to create these functions:\nmysql -e \"CREATE FUNCTION fnv1a_64 RETURNS INTEGER SONAME 'libfnv1a_udf.so'\"\nmysql -e \"CREATE FUNCTION fnv_64 RETURNS INTEGER SONAME 'libfnv_udf.so'\"\nmysql -e \"CREATE FUNCTION murmur_hash RETURNS INTEGER SONAME 'libmurmur_udf.so'\"\nSee  http://www.percona.com/doc/percona-server/5.5/management/udf_percona_toolkit.html for more details\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64                                                                      11/11\n  Verifying               : 1:Percona-XtraDB-Cluster-shared-56-5.6.24-25.11.1.el6.x86_64                                                                1/11\n  Verifying               : 1:Percona-XtraDB-Cluster-client-56-5.6.24-25.11.1.el6.x86_64                                                                2/11\n  Verifying               : socat-1.7.2.3-1.el6.x86_64                                                                                                  3/11\n  Verifying               : 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64                                                                4/11\n  Verifying               : 4:perl-Time-HiRes-1.9721-141.el6.x86_64                                                                                     5/11\n  Verifying               : compat-readline5-5.2-17.1.el6.x86_64                                                                                        6/11\n  Verifying               : percona-xtrabackup-2.2.12-1.el6.x86_64                                                                                      7/11\n  Verifying               : perl-DBI-1.609-4.el6.x86_64                                                                                                 8/11\n  Verifying               : perl-DBD-MySQL-4.013-3.el6.x86_64                                                                                           9/11\n  Verifying               : 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64                                                                      10/11\n  Verifying               : Percona-XtraDB-Cluster-galera-3-3.11-1.rhel6.x86_64                                                                        11/11\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  Percona-XtraDB-Cluster-56.x86_64 1:5.6.24-25.11.1.el6\n\n\u4f9d\u5b58\u6027\u95a2\u9023\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f:\n  Percona-XtraDB-Cluster-client-56.x86_64 1:5.6.24-25.11.1.el6                  Percona-XtraDB-Cluster-galera-3.x86_64 0:3.11-1.rhel6\n  Percona-XtraDB-Cluster-server-56.x86_64 1:5.6.24-25.11.1.el6                  Percona-XtraDB-Cluster-shared-56.x86_64 1:5.6.24-25.11.1.el6\n  compat-readline5.x86_64 0:5.2-17.1.el6                                        percona-xtrabackup.x86_64 0:2.2.12-1.el6\n  perl-DBD-MySQL.x86_64 0:4.013-3.el6                                           perl-DBI.x86_64 0:1.609-4.el6\n  perl-Time-HiRes.x86_64 4:1.9721-141.el6                                       socat.x86_64 0:1.7.2.3-1.el6\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nnode1(percona01)\n\n/etc/my.cnf\n\n\nmy.cnf\n[mysqld]\n\ndatadir=/var/lib/mysql\nuser=mysql\n\n# Path to Galera library\nwsrep_provider=/usr/lib64/libgalera_smm.so\n\n# Cluster connection URL contains the IPs of node#1, node#2 and node#3\nwsrep_cluster_address=gcomm://192.168.33.21,192.168.33.22,192.168.33.23\n\n# In order for Galera to work correctly binlog format should be ROW\nbinlog_format=ROW\n\n# MyISAM storage engine has only experimental support\ndefault_storage_engine=InnoDB\n\n# This changes how InnoDB autoincrement locks are managed and is a requirement for Galera\ninnodb_autoinc_lock_mode=2\n\n# Node #1 address\nwsrep_node_address=192.168.33.21\n\n# SST method\nwsrep_sst_method=xtrabackup-v2\n\n# Cluster name\nwsrep_cluster_name=my_centos_cluster\n\n# Authentication for SST method\nwsrep_sst_auth=\"sstuser:s3cret\"\n\n\n\n\u8d77\u52d5\n\n$ sudo service mysql bootstrap-pxc\nBootstrapping PXC (Percona XtraDB Cluster)Starting MySQL (Percona XtraDB Cluster). SUCCESS!\n\n\n\u72b6\u614b\u306e\u78ba\u8a8d\n\n$ mysql -u root\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 3\nServer version: 5.6.24-72.2-56 Percona XtraDB Cluster (GPL), Release rel72.2, Revision 1, WSREP version 25.11, wsrep_25.11\n\nCopyright (c) 2009-2015 Percona LLC and/or its affiliates\nCopyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> show status like 'wsrep%';\n+------------------------------+--------------------------------------+\n| Variable_name                | Value                                |\n+------------------------------+--------------------------------------+\n| wsrep_local_state_uuid       | fe401022-5c79-11e5-87cb-9ac1151f413c |\n| wsrep_protocol_version       | 7                                    |\n| wsrep_last_committed         | 0                                    |\n| wsrep_replicated             | 0                                    |\n| wsrep_replicated_bytes       | 0                                    |\n| wsrep_repl_keys              | 0                                    |\n| wsrep_repl_keys_bytes        | 0                                    |\n| wsrep_repl_data_bytes        | 0                                    |\n| wsrep_repl_other_bytes       | 0                                    |\n| wsrep_received               | 2                                    |\n| wsrep_received_bytes         | 158                                  |\n| wsrep_local_commits          | 0                                    |\n| wsrep_local_cert_failures    | 0                                    |\n| wsrep_local_replays          | 0                                    |\n| wsrep_local_send_queue       | 0                                    |\n| wsrep_local_send_queue_max   | 1                                    |\n| wsrep_local_send_queue_min   | 0                                    |\n| wsrep_local_send_queue_avg   | 0.000000                             |\n| wsrep_local_recv_queue       | 0                                    |\n| wsrep_local_recv_queue_max   | 2                                    |\n| wsrep_local_recv_queue_min   | 0                                    |\n| wsrep_local_recv_queue_avg   | 0.500000                             |\n| wsrep_local_cached_downto    | 0                                    |\n| wsrep_flow_control_paused_ns | 0                                    |\n| wsrep_flow_control_paused    | 0.000000                             |\n| wsrep_flow_control_sent      | 0                                    |\n| wsrep_flow_control_recv      | 0                                    |\n| wsrep_cert_deps_distance     | 0.000000                             |\n| wsrep_apply_oooe             | 0.000000                             |\n| wsrep_apply_oool             | 0.000000                             |\n| wsrep_apply_window           | 0.000000                             |\n| wsrep_commit_oooe            | 0.000000                             |\n| wsrep_commit_oool            | 0.000000                             |\n| wsrep_commit_window          | 0.000000                             |\n| wsrep_local_state            | 4                                    |\n| wsrep_local_state_comment    | Synced                               |\n| wsrep_cert_index_size        | 0                                    |\n| wsrep_cert_bucket_count      | 22                                   |\n| wsrep_gcache_pool_size       | 262144                               |\n| wsrep_causal_reads           | 0                                    |\n| wsrep_cert_interval          | 0.000000                             |\n| wsrep_incoming_addresses     | 192.168.33.21:3306                   |\n| wsrep_evs_delayed            |                                      |\n| wsrep_evs_evict_list         |                                      |\n| wsrep_evs_repl_latency       | 0/0/0/0/0                            |\n| wsrep_evs_state              | OPERATIONAL                          |\n| wsrep_gcomm_uuid             | fe3ef3c3-5c79-11e5-a8a4-cb18a2305a27 |\n| wsrep_cluster_conf_id        | 1                                    |\n| wsrep_cluster_size           | 1                                    |\n| wsrep_cluster_state_uuid     | fe401022-5c79-11e5-87cb-9ac1151f413c |\n| wsrep_cluster_status         | Primary                              |\n| wsrep_connected              | ON                                   |\n| wsrep_local_bf_aborts        | 0                                    |\n| wsrep_local_index            | 0                                    |\n| wsrep_provider_name          | Galera                               |\n| wsrep_provider_vendor        | Codership Oy <info@codership.com>    |\n| wsrep_provider_version       | 3.11(ra0189ab)                       |\n| wsrep_ready                  | ON                                   |\n+------------------------------+--------------------------------------+\n58 rows in set (0.01 sec)\n\n\n\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\n\nmysql> UPDATE mysql.user SET password=PASSWORD(\"Passw0rd\") where user='root';\nQuery OK, 4 rows affected (0.01 sec)\nRows matched: 4  Changed: 4  Warnings: 0\n\nmysql> FLUSH PRIVILEGES;\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql> CREATE USER 'sstuser'@'localhost' IDENTIFIED BY 's3cret';\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> GRANT RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO 'sstuser'@'localhost';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> FLUSH PRIVILEGES;\nQuery OK, 0 rows affected (0.00 sec)\n\n\nnode2(percona02)\n\n/etc/my.cnf\n\n\nmy.cnf\n[mysqld]\n\ndatadir=/var/lib/mysql\nuser=mysql\n\n# Path to Galera library\nwsrep_provider=/usr/lib64/libgalera_smm.so\n\n# Cluster connection URL contains IPs of node#1, node#2 and node#3\nwsrep_cluster_address=gcomm://192.168.33.21,192.168.33.22,192.168.33.23\n\n# In order for Galera to work correctly binlog format should be ROW\nbinlog_format=ROW\n\n# MyISAM storage engine has only experimental support\ndefault_storage_engine=InnoDB\n\n# This changes how InnoDB autoincrement locks are managed and is a requirement for Galera\ninnodb_autoinc_lock_mode=2\n\n# Node #2 address\nwsrep_node_address=192.168.33.22\n\n# Cluster name\nwsrep_cluster_name=my_centos_cluster\n\n# SST method\nwsrep_sst_method=xtrabackup-v2\n\n#Authentication for SST method\nwsrep_sst_auth=\"sstuser:s3cret\"\n\n\n\n\u8d77\u52d5\n\n$ sudo service mysql start\nStarting MySQL (Percona XtraDB Cluster)..State transfer in progress, setting sleep higher\n... SUCCESS!\n\n\n\u72b6\u614b\u306e\u78ba\u8a8d\n\n mysql -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 4\nServer version: 5.6.24-72.2-56 Percona XtraDB Cluster (GPL), Release rel72.2, Revision 1, WSREP version 25.11, wsrep_25.11\n\nCopyright (c) 2009-2015 Percona LLC and/or its affiliates\nCopyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> show status like 'wsrep%';\n+------------------------------+---------------------------------------+\n| Variable_name                | Value                                 |\n+------------------------------+---------------------------------------+\n| wsrep_local_state_uuid       | fe401022-5c79-11e5-87cb-9ac1151f413c  |\n| wsrep_protocol_version       | 7                                     |\n| wsrep_last_committed         | 4                                     |\n| wsrep_replicated             | 0                                     |\n| wsrep_replicated_bytes       | 0                                     |\n| wsrep_repl_keys              | 0                                     |\n| wsrep_repl_keys_bytes        | 0                                     |\n| wsrep_repl_data_bytes        | 0                                     |\n| wsrep_repl_other_bytes       | 0                                     |\n| wsrep_received               | 3                                     |\n| wsrep_received_bytes         | 252                                   |\n| wsrep_local_commits          | 0                                     |\n| wsrep_local_cert_failures    | 0                                     |\n| wsrep_local_replays          | 0                                     |\n| wsrep_local_send_queue       | 0                                     |\n| wsrep_local_send_queue_max   | 1                                     |\n| wsrep_local_send_queue_min   | 0                                     |\n| wsrep_local_send_queue_avg   | 0.000000                              |\n| wsrep_local_recv_queue       | 0                                     |\n| wsrep_local_recv_queue_max   | 1                                     |\n| wsrep_local_recv_queue_min   | 0                                     |\n| wsrep_local_recv_queue_avg   | 0.000000                              |\n| wsrep_local_cached_downto    | 0                                     |\n| wsrep_flow_control_paused_ns | 0                                     |\n| wsrep_flow_control_paused    | 0.000000                              |\n| wsrep_flow_control_sent      | 0                                     |\n| wsrep_flow_control_recv      | 0                                     |\n| wsrep_cert_deps_distance     | 0.000000                              |\n| wsrep_apply_oooe             | 0.000000                              |\n| wsrep_apply_oool             | 0.000000                              |\n| wsrep_apply_window           | 0.000000                              |\n| wsrep_commit_oooe            | 0.000000                              |\n| wsrep_commit_oool            | 0.000000                              |\n| wsrep_commit_window          | 0.000000                              |\n| wsrep_local_state            | 4                                     |\n| wsrep_local_state_comment    | Synced                                |\n| wsrep_cert_index_size        | 0                                     |\n| wsrep_cert_bucket_count      | 22                                    |\n| wsrep_gcache_pool_size       | 4096                                  |\n| wsrep_causal_reads           | 0                                     |\n| wsrep_cert_interval          | 0.000000                              |\n| wsrep_incoming_addresses     | 192.168.33.22:3306,192.168.33.21:3306 |\n| wsrep_evs_delayed            |                                       |\n| wsrep_evs_evict_list         |                                       |\n| wsrep_evs_repl_latency       | 0/0/0/0/0                             |\n| wsrep_evs_state              | OPERATIONAL                           |\n| wsrep_gcomm_uuid             | 698e93db-5c7d-11e5-a8d0-4b4a07e7dfdc  |\n| wsrep_cluster_conf_id        | 2                                     |\n| wsrep_cluster_size           | 2                                     |\n| wsrep_cluster_state_uuid     | fe401022-5c79-11e5-87cb-9ac1151f413c  |\n| wsrep_cluster_status         | Primary                               |\n| wsrep_connected              | ON                                    |\n| wsrep_local_bf_aborts        | 0                                     |\n| wsrep_local_index            | 0                                     |\n| wsrep_provider_name          | Galera                                |\n| wsrep_provider_vendor        | Codership Oy <info@codership.com>     |\n| wsrep_provider_version       | 3.11(ra0189ab)                        |\n| wsrep_ready                  | ON                                    |\n+------------------------------+---------------------------------------+\n58 rows in set (0.00 sec)\n\n\nnode3(percona03)\n\n/etc/my.cnf\n\n\nmy.cnf\n[mysqld]\n\ndatadir=/var/lib/mysql\nuser=mysql\n\n# Path to Galera library\nwsrep_provider=/usr/lib64/libgalera_smm.so\n\n# Cluster connection URL contains IPs of node#1, node#2 and node#3\nwsrep_cluster_address=gcomm://192.168.33.21,192.168.33.22,192.168.33.23\n\n# In order for Galera to work correctly binlog format should be ROW\nbinlog_format=ROW\n\n# MyISAM storage engine has only experimental support\ndefault_storage_engine=InnoDB\n\n# This changes how InnoDB autoincrement locks are managed and is a requirement for Galera\ninnodb_autoinc_lock_mode=2\n\n# Node #3 address\nwsrep_node_address=192.168.33.23\n\n# Cluster name\nwsrep_cluster_name=my_centos_cluster\n\n# SST method\nwsrep_sst_method=xtrabackup-v2\n\n#Authentication for SST method\nwsrep_sst_auth=\"sstuser:s3cret\"\n\n\n\n\u8d77\u52d5\n\n$ sudo service mysql start\nStarting MySQL (Percona XtraDB Cluster)..State transfer in progress, setting sleep higher\n... SUCCESS!\n\n\n\u72b6\u614b\u306e\u78ba\u8a8d\n\n$ mysql -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 4\nServer version: 5.6.24-72.2-56 Percona XtraDB Cluster (GPL), Release rel72.2, Revision 1, WSREP version 25.11, wsrep_25.11\n\nCopyright (c) 2009-2015 Percona LLC and/or its affiliates\nCopyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> show status like 'wsrep%';\n+------------------------------+----------------------------------------------------------+\n| Variable_name                | Value                                                    |\n+------------------------------+----------------------------------------------------------+\n| wsrep_local_state_uuid       | fe401022-5c79-11e5-87cb-9ac1151f413c                     |\n| wsrep_protocol_version       | 7                                                        |\n| wsrep_last_committed         | 4                                                        |\n| wsrep_replicated             | 0                                                        |\n| wsrep_replicated_bytes       | 0                                                        |\n| wsrep_repl_keys              | 0                                                        |\n| wsrep_repl_keys_bytes        | 0                                                        |\n| wsrep_repl_data_bytes        | 0                                                        |\n| wsrep_repl_other_bytes       | 0                                                        |\n| wsrep_received               | 3                                                        |\n| wsrep_received_bytes         | 338                                                      |\n| wsrep_local_commits          | 0                                                        |\n| wsrep_local_cert_failures    | 0                                                        |\n| wsrep_local_replays          | 0                                                        |\n| wsrep_local_send_queue       | 0                                                        |\n| wsrep_local_send_queue_max   | 1                                                        |\n| wsrep_local_send_queue_min   | 0                                                        |\n| wsrep_local_send_queue_avg   | 0.000000                                                 |\n| wsrep_local_recv_queue       | 0                                                        |\n| wsrep_local_recv_queue_max   | 1                                                        |\n| wsrep_local_recv_queue_min   | 0                                                        |\n| wsrep_local_recv_queue_avg   | 0.000000                                                 |\n| wsrep_local_cached_downto    | 0                                                        |\n| wsrep_flow_control_paused_ns | 0                                                        |\n| wsrep_flow_control_paused    | 0.000000                                                 |\n| wsrep_flow_control_sent      | 0                                                        |\n| wsrep_flow_control_recv      | 0                                                        |\n| wsrep_cert_deps_distance     | 0.000000                                                 |\n| wsrep_apply_oooe             | 0.000000                                                 |\n| wsrep_apply_oool             | 0.000000                                                 |\n| wsrep_apply_window           | 0.000000                                                 |\n| wsrep_commit_oooe            | 0.000000                                                 |\n| wsrep_commit_oool            | 0.000000                                                 |\n| wsrep_commit_window          | 0.000000                                                 |\n| wsrep_local_state            | 4                                                        |\n| wsrep_local_state_comment    | Synced                                                   |\n| wsrep_cert_index_size        | 0                                                        |\n| wsrep_cert_bucket_count      | 22                                                       |\n| wsrep_gcache_pool_size       | 4096                                                     |\n| wsrep_causal_reads           | 0                                                        |\n| wsrep_cert_interval          | 0.000000                                                 |\n| wsrep_incoming_addresses     | 192.168.33.23:3306,192.168.33.22:3306,192.168.33.21:3306 |\n| wsrep_evs_delayed            |                                                          |\n| wsrep_evs_evict_list         |                                                          |\n| wsrep_evs_repl_latency       | 0/0/0/0/0                                                |\n| wsrep_evs_state              | OPERATIONAL                                              |\n| wsrep_gcomm_uuid             | 1d096f60-5c81-11e5-aa27-5628214d872c                     |\n| wsrep_cluster_conf_id        | 1                                                        |\n| wsrep_cluster_size           | 3                                                        |\n| wsrep_cluster_state_uuid     | fe401022-5c79-11e5-87cb-9ac1151f413c                     |\n| wsrep_cluster_status         | Primary                                                  |\n| wsrep_connected              | ON                                                       |\n| wsrep_local_bf_aborts        | 0                                                        |\n| wsrep_local_index            | 0                                                        |\n| wsrep_provider_name          | Galera                                                   |\n| wsrep_provider_vendor        | Codership Oy <info@codership.com>                        |\n| wsrep_provider_version       | 3.11(ra0189ab)                                           |\n| wsrep_ready                  | ON                                                       |\n+------------------------------+----------------------------------------------------------+\n58 rows in set (0.00 sec)\n\n\n\u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u52d5\u4f5c\u78ba\u8a8d\n* node1\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| test               |\n+--------------------+\n4 rows in set (0.00 sec)\n\nmysql> CREATE DATABASE percona;\nQuery OK, 1 row affected (0.00 sec)\n\n\nnode2\n\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| percona            |\n| performance_schema |\n| test               |\n+--------------------+\n5 rows in set (0.00 sec)\n\nmysql> use percona;\nDatabase changed\n\nmysql> CREATE TABLE example (node_id INT PRIMARY KEY, node_name VARCHAR(30));\nQuery OK, 0 rows affected (0.05 sec)\n\n\nnode3\n\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| percona            |\n| performance_schema |\n| test               |\n+--------------------+\n5 rows in set (0.00 sec)\n\nmysql> use percona;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\n\nmysql> show tables;\n+-------------------+\n| Tables_in_percona |\n+-------------------+\n| example           |\n+-------------------+\n1 row in set (0.00 sec)\n\nmysql> INSERT INTO percona.example VALUES (1, 'percona1');\nQuery OK, 1 row affected (0.01 sec)\n\n\nnode1\n\nmysql> use percona;\nDatabase changed\n\nmysql> show tables;\n+-------------------+\n| Tables_in_percona |\n+-------------------+\n| example           |\n+-------------------+\n1 row in set (0.00 sec)\n\nmysql> select * from example;\n+---------+-----------+\n| node_id | node_name |\n+---------+-----------+\n|       1 | percona1  |\n+---------+-----------+\n1 row in set (0.00 sec)\n\nmysql> INSERT INTO percona.example VALUES (2, 'percona2');\nQuery OK, 1 row affected (0.02 sec)\n\n\nnode2\n\nmysql> show tables;\n+-------------------+\n| Tables_in_percona |\n+-------------------+\n| example           |\n+-------------------+\n1 row in set (0.00 sec)\n\nmysql> select * from example;\n+---------+-----------+\n| node_id | node_name |\n+---------+-----------+\n|       1 | percona1  |\n|       2 | percona2  |\n+---------+-----------+\n2 rows in set (0.00 sec)\n\nmysql> INSERT INTO percona.example VALUES (3, 'percona3');\nQuery OK, 1 row affected (0.01 sec)\n\n\nnode3\n\nmysql> select * from example;\n+---------+-----------+\n| node_id | node_name |\n+---------+-----------+\n|       1 | percona1  |\n|       2 | percona2  |\n|       3 | percona3  |\n+---------+-----------+\n3 rows in set (0.00 sec)\n\n\n\u53c2\u8003\n\n\nPercona XtraDB\n\nInstalling Percona XtraDB Cluster on CentOS\nPercona yum Repository\n\n\n\nEPEL\n\nExtra Packages for Enterprise Linux (EPEL)\n\n\n\n\n## \u306f\u3058\u3081\u306b\n\nCentOS6.7\u306bPercona XtraDB Cluster\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n## \u74b0\u5883\n\n* CentOS 6.7\n* Percona XtraDB Cluster 5.6\n\n## \u30b5\u30fc\u30d0\u69cb\u6210\n\n|node|\u30db\u30b9\u30c8\u540d|IP\u30a2\u30c9\u30ec\u30b9|\n|:-:|:-:|:-:|\n|node1|percona01|192.168.33.21|\n|node2|percona02|192.168.33.22|\n|node3|percona03|192.168.33.23|\n\n## \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\n\n```shell\n$ sudo yum install http://www.percona.com/downloads/percona-release/redhat/0.1-3/percona-release-0.1-3.noarch.rpm\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, security\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51e6\u7406\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\nLoading mirror speeds from cached hostfile\n * base: ftp.riken.jp\n * extras: ftp.riken.jp\n * updates: ftp.riken.jp\n\u30d1\u30c3\u30b1\u30fc\u30b8 yum-3.2.29-69.el6.centos.noarch \u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u304b\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\n\u30d1\u30c3\u30b1\u30fc\u30b8 install \u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002\npercona-release-0.1-3.noarch.rpm                                                                                                      | 6.4 kB     00:00\n/var/tmp/yum-root-bV5j5D/percona-release-0.1-3.noarch.rpm \u3092\u8abf\u3079\u3066\u3044\u307e\u3059: percona-release-0.1-3.noarch\n/var/tmp/yum-root-bV5j5D/percona-release-0.1-3.noarch.rpm \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3068\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\n\u4f9d\u5b58\u6027\u306e\u89e3\u6c7a\u3092\u3057\u3066\u3044\u307e\u3059\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package percona-release.noarch 0:0.1-3 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u89e3\u6c7a\u3092\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n\u4f9d\u5b58\u6027\u3092\u89e3\u6c7a\u3057\u307e\u3057\u305f\n\n=============================================================================================================================================================\n \u30d1\u30c3\u30b1\u30fc\u30b8                            \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3               \u30d0\u30fc\u30b8\u30e7\u30f3                     \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc                                         \u5bb9\u91cf\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059:\n percona-release                       noarch                       0.1-3                          /percona-release-0.1-3.noarch                       5.8 k\n\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u8981\u7d04\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb         1 \u30d1\u30c3\u30b1\u30fc\u30b8\n\n\u5408\u8a08\u5bb9\u91cf: 5.8 k\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u5bb9\u91cf: 5.8 k\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059:\nrpm_check_debug \u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u6210\u529f\u3057\u307e\u3057\u305f\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : percona-release-0.1-3.noarch                                                                                                 1/1\n  Verifying               : percona-release-0.1-3.noarch                                                                                                 1/1\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  percona-release.noarch 0:0.1-3\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n\n$ sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, security\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51e6\u7406\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\nepel-release-latest-6.noarch.rpm                                                                                                      |  14 kB     00:00\n/var/tmp/yum-root-bV5j5D/epel-release-latest-6.noarch.rpm \u3092\u8abf\u3079\u3066\u3044\u307e\u3059: epel-release-6-8.noarch\n/var/tmp/yum-root-bV5j5D/epel-release-latest-6.noarch.rpm \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3068\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\nLoading mirror speeds from cached hostfile\n * base: ftp.riken.jp\n * extras: ftp.riken.jp\n * updates: ftp.riken.jp\n\u4f9d\u5b58\u6027\u306e\u89e3\u6c7a\u3092\u3057\u3066\u3044\u307e\u3059\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package epel-release.noarch 0:6-8 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u89e3\u6c7a\u3092\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n\u4f9d\u5b58\u6027\u3092\u89e3\u6c7a\u3057\u307e\u3057\u305f\n\n=============================================================================================================================================================\n \u30d1\u30c3\u30b1\u30fc\u30b8                           \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3                 \u30d0\u30fc\u30b8\u30e7\u30f3                  \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc                                           \u5bb9\u91cf\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059:\n epel-release                         noarch                         6-8                         /epel-release-latest-6.noarch                          22 k\n\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u8981\u7d04\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb         1 \u30d1\u30c3\u30b1\u30fc\u30b8\n\n\u5408\u8a08\u5bb9\u91cf: 22 k\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u5bb9\u91cf: 22 k\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059:\nrpm_check_debug \u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u6210\u529f\u3057\u307e\u3057\u305f\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : epel-release-6-8.noarch                                                                                                      1/1\n  Verifying               : epel-release-6-8.noarch                                                                                                      1/1\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  epel-release.noarch 0:6-8\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n\n$ yum repolist\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, security\nLoading mirror speeds from cached hostfile\nepel/metalink                                                                                                                         | 4.7 kB     00:00\n * base: www.ftp.ne.jp\n * epel: ftp.riken.jp\n * extras: www.ftp.ne.jp\n * updates: www.ftp.ne.jp\nepel                                                                                                                                  | 4.3 kB     00:00\nepel/primary_db                                                                                                                       | 5.7 MB     00:02\n\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc ID                                                \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc\u540d                                                                          \u72b6\u614b\nbase                                                           CentOS-6 - Base                                                                          6,575\nepel                                                           Extra Packages for Enterprise Linux 6 - x86_64                                          11,767\nextras                                                         CentOS-6 - Extras                                                                           35\npercona-release-noarch                                         Percona-Release YUM repository - noarch                                                     32\npercona-release-x86_64                                         Percona-Release YUM repository - x86_64                                                    594\nupdates                                                        CentOS-6 - Updates                                                                         298\nrepolist: 19,301\n```\n\n## Percona XtraDB Cluster\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell\n$ sudo yum install Percona-XtraDB-Cluster-56\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, security\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51e6\u7406\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\nLoading mirror speeds from cached hostfile\nepel/metalink                                                                                                                         | 5.5 kB     00:00\n * base: ftp.riken.jp\n * epel: ftp.riken.jp\n * extras: ftp.riken.jp\n * updates: ftp.riken.jp\nbase                                                                                                                                  | 3.7 kB     00:00\nepel                                                                                                                                  | 4.3 kB     00:00\nepel/primary_db                                                                                                                       | 5.7 MB     00:04\nextras                                                                                                                                | 3.4 kB     00:00\npercona-release-noarch                                                                                                                |  951 B     00:00\npercona-release-x86_64                                                                                                                |  951 B     00:00\nupdates                                                                                                                               | 3.4 kB     00:00\n\u4f9d\u5b58\u6027\u306e\u89e3\u6c7a\u3092\u3057\u3066\u3044\u307e\u3059\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package Percona-XtraDB-Cluster-56.x86_64 1:5.6.24-25.11.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: Percona-XtraDB-Cluster-server-56 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: Percona-XtraDB-Cluster-galera-3 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: Percona-XtraDB-Cluster-client-56 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package Percona-XtraDB-Cluster-client-56.x86_64 1:5.6.24-25.11.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: perl-DBI \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-client-56-5.6.24-25.11.1.el6.x86_64\n---> Package Percona-XtraDB-Cluster-galera-3.x86_64 0:3.11-1.rhel6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package Percona-XtraDB-Cluster-server-56.x86_64 1:5.6.24-25.11.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: percona-xtrabackup >= 2.2.5 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: perl-DBD-MySQL \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: Percona-XtraDB-Cluster-shared-56 \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: socat \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package Percona-XtraDB-Cluster-shared-56.x86_64 1:5.6.24-25.11.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package percona-xtrabackup.x86_64 0:2.2.12-1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: perl(Time::HiRes) \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: percona-xtrabackup-2.2.12-1.el6.x86_64\n---> Package perl-DBD-MySQL.x86_64 0:4.013-3.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package perl-DBI.x86_64 0:1.609-4.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package socat.x86_64 0:1.7.2.3-1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u3059: libreadline.so.5()(64bit) \u306e\u30d1\u30c3\u30b1\u30fc\u30b8: socat-1.7.2.3-1.el6.x86_64\n--> \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n---> Package compat-readline5.x86_64 0:5.2-17.1.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---> Package perl-Time-HiRes.x86_64 4:1.9721-141.el6 will be \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--> \u4f9d\u5b58\u6027\u89e3\u6c7a\u3092\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n\u4f9d\u5b58\u6027\u3092\u89e3\u6c7a\u3057\u307e\u3057\u305f\n\n=============================================================================================================================================================\n \u30d1\u30c3\u30b1\u30fc\u30b8                                       \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3         \u30d0\u30fc\u30b8\u30e7\u30f3                             \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc                            \u5bb9\u91cf\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059:\n Percona-XtraDB-Cluster-56                        x86_64                 1:5.6.24-25.11.1.el6                   percona-release-x86_64                  26 k\n\u4f9d\u5b58\u6027\u95a2\u9023\u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u307e\u3059\u3002:\n Percona-XtraDB-Cluster-client-56                 x86_64                 1:5.6.24-25.11.1.el6                   percona-release-x86_64                 6.1 M\n Percona-XtraDB-Cluster-galera-3                  x86_64                 3.11-1.rhel6                           percona-release-x86_64                 817 k\n Percona-XtraDB-Cluster-server-56                 x86_64                 1:5.6.24-25.11.1.el6                   percona-release-x86_64                  19 M\n Percona-XtraDB-Cluster-shared-56                 x86_64                 1:5.6.24-25.11.1.el6                   percona-release-x86_64                 684 k\n compat-readline5                                 x86_64                 5.2-17.1.el6                           base                                   130 k\n percona-xtrabackup                               x86_64                 2.2.12-1.el6                           percona-release-x86_64                 4.8 M\n perl-DBD-MySQL                                   x86_64                 4.013-3.el6                            base                                   134 k\n perl-DBI                                         x86_64                 1.609-4.el6                            base                                   705 k\n perl-Time-HiRes                                  x86_64                 4:1.9721-141.el6                       base                                    49 k\n socat                                            x86_64                 1.7.2.3-1.el6                          epel                                   246 k\n\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u8981\u7d04\n=============================================================================================================================================================\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb        11 \u30d1\u30c3\u30b1\u30fc\u30b8\n\n\u7dcf\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5bb9\u91cf: 33 M\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u5bb9\u91cf: 147 M\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059:\n(1/11): Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64.rpm                                                                       |  26 kB     00:00\n(2/11): Percona-XtraDB-Cluster-client-56-5.6.24-25.11.1.el6.x86_64.rpm                                                                | 6.1 MB     00:27\n(3/11): Percona-XtraDB-Cluster-galera-3-3.11-1.rhel6.x86_64.rpm                                                                       | 817 kB     00:02\n(4/11): Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64.rpm                                                                |  19 MB     01:21\n(5/11): Percona-XtraDB-Cluster-shared-56-5.6.24-25.11.1.el6.x86_64.rpm                                                                | 684 kB     00:01\n(6/11): compat-readline5-5.2-17.1.el6.x86_64.rpm                                                                                      | 130 kB     00:00\n(7/11): percona-xtrabackup-2.2.12-1.el6.x86_64.rpm                                                                                    | 4.8 MB     00:18\n(8/11): perl-DBD-MySQL-4.013-3.el6.x86_64.rpm                                                                                         | 134 kB     00:00\n(9/11): perl-DBI-1.609-4.el6.x86_64.rpm                                                                                               | 705 kB     00:00\n(10/11): perl-Time-HiRes-1.9721-141.el6.x86_64.rpm                                                                                    |  49 kB     00:00\n(11/11): socat-1.7.2.3-1.el6.x86_64.rpm                                                                                               | 246 kB     00:00\n-------------------------------------------------------------------------------------------------------------------------------------------------------------\n\u5408\u8a08                                                                                                                         244 kB/s |  33 MB     02:18\n\u8b66\u544a: rpmts_HdrFromFdno: \u30d8\u30c3\u30c0 V4 DSA/SHA1 Signature, key ID cd2efd2a: NOKEY\nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-Percona\nImporting GPG key 0xCD2EFD2A:\n Userid : Percona MySQL Development Team <mysql-dev@percona.com>\n Package: percona-release-0.1-3.noarch (@/percona-release-0.1-3.noarch)\n From   : /etc/pki/rpm-gpg/RPM-GPG-KEY-Percona\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\nwarning: rpmts_HdrFromFdno: Header V3 RSA/SHA256 Signature, key ID 0608b895: NOKEY\nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6\nImporting GPG key 0x0608B895:\n Userid : EPEL (6) <epel@fedoraproject.org>\n Package: epel-release-6-8.noarch (@/epel-release-latest-6.noarch)\n From   : /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6\n\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u304b? [y/N]y\nrpm_check_debug \u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u6210\u529f\u3057\u307e\u3057\u305f\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : perl-DBI-1.609-4.el6.x86_64                                                                                                 1/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 1:Percona-XtraDB-Cluster-client-56-5.6.24-25.11.1.el6.x86_64                                                                2/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : perl-DBD-MySQL-4.013-3.el6.x86_64                                                                                           3/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : Percona-XtraDB-Cluster-galera-3-3.11-1.rhel6.x86_64                                                                         4/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : compat-readline5-5.2-17.1.el6.x86_64                                                                                        5/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : socat-1.7.2.3-1.el6.x86_64                                                                                                  6/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 4:perl-Time-HiRes-1.9721-141.el6.x86_64                                                                                     7/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : percona-xtrabackup-2.2.12-1.el6.x86_64                                                                                      8/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 1:Percona-XtraDB-Cluster-shared-56-5.6.24-25.11.1.el6.x86_64                                                                9/11\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64                                                               10/11\n2015-09-16 22:08:21 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\n2015-09-16 22:08:21 0 [Note] /usr/sbin/mysqld (mysqld 5.6.24-72.2-56) starting as process 2464 ...\n2015-09-16 22:08:21 2464 [Note] WSREP: Read nil XID from storage engines, skipping position init\n2015-09-16 22:08:21 2464 [Note] WSREP: wsrep_load(): loading provider library 'none'\n2015-09-16 22:08:21 2464 [Note] InnoDB: Using atomics to ref count buffer pool pages\n2015-09-16 22:08:21 2464 [Note] InnoDB: The InnoDB memory heap is disabled\n2015-09-16 22:08:21 2464 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\n2015-09-16 22:08:21 2464 [Note] InnoDB: Memory barrier is not used\n2015-09-16 22:08:21 2464 [Note] InnoDB: Compressed tables use zlib 1.2.3\n2015-09-16 22:08:21 2464 [Note] InnoDB: Using Linux native AIO\n2015-09-16 22:08:21 2464 [Note] InnoDB: Not using CPU crc32 instructions\n2015-09-16 22:08:21 2464 [Note] InnoDB: Initializing buffer pool, size = 128.0M\n2015-09-16 22:08:21 2464 [Note] InnoDB: Completed initialization of buffer pool\n2015-09-16 22:08:21 2464 [Note] InnoDB: The first specified data file ./ibdata1 did not exist: a new database to be created!\n2015-09-16 22:08:21 2464 [Note] InnoDB: Setting file ./ibdata1 size to 12 MB\n2015-09-16 22:08:21 2464 [Note] InnoDB: Database physically writes the file full: wait...\n2015-09-16 22:08:21 2464 [Note] InnoDB: Setting log file ./ib_logfile101 size to 48 MB\n2015-09-16 22:08:21 2464 [Note] InnoDB: Setting log file ./ib_logfile1 size to 48 MB\n2015-09-16 22:08:21 2464 [Note] InnoDB: Renaming log file ./ib_logfile101 to ./ib_logfile0\n2015-09-16 22:08:21 2464 [Warning] InnoDB: New log files created, LSN=45781\n2015-09-16 22:08:21 2464 [Note] InnoDB: Doublewrite buffer not found: creating new\n2015-09-16 22:08:22 2464 [Note] InnoDB: Doublewrite buffer created\n2015-09-16 22:08:22 2464 [Note] InnoDB: 128 rollback segment(s) are active.\n2015-09-16 22:08:22 2464 [Warning] InnoDB: Creating foreign key constraint system tables.\n2015-09-16 22:08:22 2464 [Note] InnoDB: Foreign key constraint system tables created\n2015-09-16 22:08:22 2464 [Note] InnoDB: Creating tablespace and datafile system tables.\n2015-09-16 22:08:22 2464 [Note] InnoDB: Tablespace and datafile system tables created.\n2015-09-16 22:08:22 2464 [Note] InnoDB: Waiting for purge to start\n2015-09-16 22:08:22 2464 [Note] InnoDB:  Percona XtraDB (http://www.percona.com) 5.6.24-72.2 started; log sequence number 0\n2015-09-16 22:08:22 2464 [Note] RSA private key file not found: /var/lib/mysql//private_key.pem. Some authentication plugins will not work.\n2015-09-16 22:08:22 2464 [Note] RSA public key file not found: /var/lib/mysql//public_key.pem. Some authentication plugins will not work.\n2015-09-16 22:08:22 2464 [Note] WSREP: Service disconnected.\n2015-09-16 22:08:23 2464 [Note] WSREP: Some threads may fail to exit.\n2015-09-16 22:08:23 2464 [Note] Binlog end\n2015-09-16 22:08:23 2464 [Note] InnoDB: FTS optimize thread exiting.\n2015-09-16 22:08:23 2464 [Note] InnoDB: Starting shutdown...\n2015-09-16 22:08:25 2464 [Note] InnoDB: Shutdown completed; log sequence number 1625977\n\n\n2015-09-16 22:08:25 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\n2015-09-16 22:08:25 0 [Note] /usr/sbin/mysqld (mysqld 5.6.24-72.2-56) starting as process 2488 ...\n2015-09-16 22:08:25 2488 [Note] WSREP: Read nil XID from storage engines, skipping position init\n2015-09-16 22:08:25 2488 [Note] WSREP: wsrep_load(): loading provider library 'none'\n2015-09-16 22:08:25 2488 [Note] InnoDB: Using atomics to ref count buffer pool pages\n2015-09-16 22:08:25 2488 [Note] InnoDB: The InnoDB memory heap is disabled\n2015-09-16 22:08:25 2488 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\n2015-09-16 22:08:25 2488 [Note] InnoDB: Memory barrier is not used\n2015-09-16 22:08:25 2488 [Note] InnoDB: Compressed tables use zlib 1.2.3\n2015-09-16 22:08:25 2488 [Note] InnoDB: Using Linux native AIO\n2015-09-16 22:08:25 2488 [Note] InnoDB: Not using CPU crc32 instructions\n2015-09-16 22:08:25 2488 [Note] InnoDB: Initializing buffer pool, size = 128.0M\n2015-09-16 22:08:25 2488 [Note] InnoDB: Completed initialization of buffer pool\n2015-09-16 22:08:25 2488 [Note] InnoDB: Highest supported file format is Barracuda.\n2015-09-16 22:08:25 2488 [Note] InnoDB: 128 rollback segment(s) are active.\n2015-09-16 22:08:25 2488 [Note] InnoDB: Waiting for purge to start\n2015-09-16 22:08:25 2488 [Note] InnoDB:  Percona XtraDB (http://www.percona.com) 5.6.24-72.2 started; log sequence number 1625977\n2015-09-16 22:08:25 2488 [Note] RSA private key file not found: /var/lib/mysql//private_key.pem. Some authentication plugins will not work.\n2015-09-16 22:08:25 2488 [Note] RSA public key file not found: /var/lib/mysql//public_key.pem. Some authentication plugins will not work.\n2015-09-16 22:08:25 2488 [Note] WSREP: Service disconnected.\n2015-09-16 22:08:26 2488 [Note] WSREP: Some threads may fail to exit.\n2015-09-16 22:08:26 2488 [Note] Binlog end\n2015-09-16 22:08:26 2488 [Note] InnoDB: FTS optimize thread exiting.\n2015-09-16 22:08:26 2488 [Note] InnoDB: Starting shutdown...\n2015-09-16 22:08:28 2488 [Note] InnoDB: Shutdown completed; log sequence number 1625987\n\n\n\n\nPLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !\nTo do so, start the server, then issue the following commands:\n\n  /usr/bin/mysqladmin -u root password 'new-password'\n  /usr/bin/mysqladmin -u root -h localhost.localdomain password 'new-password'\n\nAlternatively you can run:\n\n  /usr/bin/mysql_secure_installation\n\nwhich will also give you the option of removing the test\ndatabases and anonymous user created by default.  This is\nstrongly recommended for production servers.\n\nSee the manual for more instructions.\n\nPlease report any problems with Percona XtraDB Cluster 5.6 at https://bugs.launchpad.net/percona-xtradb-cluster/+filebug\n\nThe latest information about Percona XtraDB Cluster 5.6 is available on the web at\n\n  http://www.percona.com/doc/percona-xtradb-cluster/5.6/\n\nSupport Percona XtraDB Cluster 5.6 by buying support at http://www.percona.com/products/mysql-support\n\nWARNING: Default config file /etc/my.cnf exists on the system\nThis file will be read by default by the MySQL server\nIf you do not want to use this, either remove it, or use the\n--defaults-file argument to mysqld_safe when starting the server\n\nPercona XtraDB Cluster is distributed with several useful UDFs from Percona Toolkit.\nRun the following commands to create these functions:\nmysql -e \"CREATE FUNCTION fnv1a_64 RETURNS INTEGER SONAME 'libfnv1a_udf.so'\"\nmysql -e \"CREATE FUNCTION fnv_64 RETURNS INTEGER SONAME 'libfnv_udf.so'\"\nmysql -e \"CREATE FUNCTION murmur_hash RETURNS INTEGER SONAME 'libmurmur_udf.so'\"\nSee  http://www.percona.com/doc/percona-server/5.5/management/udf_percona_toolkit.html for more details\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059  : 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64                                                                      11/11\n  Verifying               : 1:Percona-XtraDB-Cluster-shared-56-5.6.24-25.11.1.el6.x86_64                                                                1/11\n  Verifying               : 1:Percona-XtraDB-Cluster-client-56-5.6.24-25.11.1.el6.x86_64                                                                2/11\n  Verifying               : socat-1.7.2.3-1.el6.x86_64                                                                                                  3/11\n  Verifying               : 1:Percona-XtraDB-Cluster-server-56-5.6.24-25.11.1.el6.x86_64                                                                4/11\n  Verifying               : 4:perl-Time-HiRes-1.9721-141.el6.x86_64                                                                                     5/11\n  Verifying               : compat-readline5-5.2-17.1.el6.x86_64                                                                                        6/11\n  Verifying               : percona-xtrabackup-2.2.12-1.el6.x86_64                                                                                      7/11\n  Verifying               : perl-DBI-1.609-4.el6.x86_64                                                                                                 8/11\n  Verifying               : perl-DBD-MySQL-4.013-3.el6.x86_64                                                                                           9/11\n  Verifying               : 1:Percona-XtraDB-Cluster-56-5.6.24-25.11.1.el6.x86_64                                                                      10/11\n  Verifying               : Percona-XtraDB-Cluster-galera-3-3.11-1.rhel6.x86_64                                                                        11/11\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  Percona-XtraDB-Cluster-56.x86_64 1:5.6.24-25.11.1.el6\n\n\u4f9d\u5b58\u6027\u95a2\u9023\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f:\n  Percona-XtraDB-Cluster-client-56.x86_64 1:5.6.24-25.11.1.el6                  Percona-XtraDB-Cluster-galera-3.x86_64 0:3.11-1.rhel6\n  Percona-XtraDB-Cluster-server-56.x86_64 1:5.6.24-25.11.1.el6                  Percona-XtraDB-Cluster-shared-56.x86_64 1:5.6.24-25.11.1.el6\n  compat-readline5.x86_64 0:5.2-17.1.el6                                        percona-xtrabackup.x86_64 0:2.2.12-1.el6\n  perl-DBD-MySQL.x86_64 0:4.013-3.el6                                           perl-DBI.x86_64 0:1.609-4.el6\n  perl-Time-HiRes.x86_64 4:1.9721-141.el6                                       socat.x86_64 0:1.7.2.3-1.el6\n\n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n```\n\n## \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n### node1(percona01)\n\n* /etc/my.cnf\n\n```conf:my.cnf\n[mysqld]\n\ndatadir=/var/lib/mysql\nuser=mysql\n\n# Path to Galera library\nwsrep_provider=/usr/lib64/libgalera_smm.so\n\n# Cluster connection URL contains the IPs of node#1, node#2 and node#3\nwsrep_cluster_address=gcomm://192.168.33.21,192.168.33.22,192.168.33.23\n\n# In order for Galera to work correctly binlog format should be ROW\nbinlog_format=ROW\n\n# MyISAM storage engine has only experimental support\ndefault_storage_engine=InnoDB\n\n# This changes how InnoDB autoincrement locks are managed and is a requirement for Galera\ninnodb_autoinc_lock_mode=2\n\n# Node #1 address\nwsrep_node_address=192.168.33.21\n\n# SST method\nwsrep_sst_method=xtrabackup-v2\n\n# Cluster name\nwsrep_cluster_name=my_centos_cluster\n\n# Authentication for SST method\nwsrep_sst_auth=\"sstuser:s3cret\"\n```\n\n* \u8d77\u52d5\n\n```shell\n$ sudo service mysql bootstrap-pxc\nBootstrapping PXC (Percona XtraDB Cluster)Starting MySQL (Percona XtraDB Cluster). SUCCESS!\n```\n\n* \u72b6\u614b\u306e\u78ba\u8a8d\n\n```shell\n$ mysql -u root\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 3\nServer version: 5.6.24-72.2-56 Percona XtraDB Cluster (GPL), Release rel72.2, Revision 1, WSREP version 25.11, wsrep_25.11\n\nCopyright (c) 2009-2015 Percona LLC and/or its affiliates\nCopyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> show status like 'wsrep%';\n+------------------------------+--------------------------------------+\n| Variable_name                | Value                                |\n+------------------------------+--------------------------------------+\n| wsrep_local_state_uuid       | fe401022-5c79-11e5-87cb-9ac1151f413c |\n| wsrep_protocol_version       | 7                                    |\n| wsrep_last_committed         | 0                                    |\n| wsrep_replicated             | 0                                    |\n| wsrep_replicated_bytes       | 0                                    |\n| wsrep_repl_keys              | 0                                    |\n| wsrep_repl_keys_bytes        | 0                                    |\n| wsrep_repl_data_bytes        | 0                                    |\n| wsrep_repl_other_bytes       | 0                                    |\n| wsrep_received               | 2                                    |\n| wsrep_received_bytes         | 158                                  |\n| wsrep_local_commits          | 0                                    |\n| wsrep_local_cert_failures    | 0                                    |\n| wsrep_local_replays          | 0                                    |\n| wsrep_local_send_queue       | 0                                    |\n| wsrep_local_send_queue_max   | 1                                    |\n| wsrep_local_send_queue_min   | 0                                    |\n| wsrep_local_send_queue_avg   | 0.000000                             |\n| wsrep_local_recv_queue       | 0                                    |\n| wsrep_local_recv_queue_max   | 2                                    |\n| wsrep_local_recv_queue_min   | 0                                    |\n| wsrep_local_recv_queue_avg   | 0.500000                             |\n| wsrep_local_cached_downto    | 0                                    |\n| wsrep_flow_control_paused_ns | 0                                    |\n| wsrep_flow_control_paused    | 0.000000                             |\n| wsrep_flow_control_sent      | 0                                    |\n| wsrep_flow_control_recv      | 0                                    |\n| wsrep_cert_deps_distance     | 0.000000                             |\n| wsrep_apply_oooe             | 0.000000                             |\n| wsrep_apply_oool             | 0.000000                             |\n| wsrep_apply_window           | 0.000000                             |\n| wsrep_commit_oooe            | 0.000000                             |\n| wsrep_commit_oool            | 0.000000                             |\n| wsrep_commit_window          | 0.000000                             |\n| wsrep_local_state            | 4                                    |\n| wsrep_local_state_comment    | Synced                               |\n| wsrep_cert_index_size        | 0                                    |\n| wsrep_cert_bucket_count      | 22                                   |\n| wsrep_gcache_pool_size       | 262144                               |\n| wsrep_causal_reads           | 0                                    |\n| wsrep_cert_interval          | 0.000000                             |\n| wsrep_incoming_addresses     | 192.168.33.21:3306                   |\n| wsrep_evs_delayed            |                                      |\n| wsrep_evs_evict_list         |                                      |\n| wsrep_evs_repl_latency       | 0/0/0/0/0                            |\n| wsrep_evs_state              | OPERATIONAL                          |\n| wsrep_gcomm_uuid             | fe3ef3c3-5c79-11e5-a8a4-cb18a2305a27 |\n| wsrep_cluster_conf_id        | 1                                    |\n| wsrep_cluster_size           | 1                                    |\n| wsrep_cluster_state_uuid     | fe401022-5c79-11e5-87cb-9ac1151f413c |\n| wsrep_cluster_status         | Primary                              |\n| wsrep_connected              | ON                                   |\n| wsrep_local_bf_aborts        | 0                                    |\n| wsrep_local_index            | 0                                    |\n| wsrep_provider_name          | Galera                               |\n| wsrep_provider_vendor        | Codership Oy <info@codership.com>    |\n| wsrep_provider_version       | 3.11(ra0189ab)                       |\n| wsrep_ready                  | ON                                   |\n+------------------------------+--------------------------------------+\n58 rows in set (0.01 sec)\n```\n\n* \u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\n\n```shell\nmysql> UPDATE mysql.user SET password=PASSWORD(\"Passw0rd\") where user='root';\nQuery OK, 4 rows affected (0.01 sec)\nRows matched: 4  Changed: 4  Warnings: 0\n\nmysql> FLUSH PRIVILEGES;\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql> CREATE USER 'sstuser'@'localhost' IDENTIFIED BY 's3cret';\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> GRANT RELOAD, LOCK TABLES, REPLICATION CLIENT ON *.* TO 'sstuser'@'localhost';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> FLUSH PRIVILEGES;\nQuery OK, 0 rows affected (0.00 sec)\n```\n\n### node2(percona02)\n\n* /etc/my.cnf\n\n```conf:my.cnf\n[mysqld]\n\ndatadir=/var/lib/mysql\nuser=mysql\n\n# Path to Galera library\nwsrep_provider=/usr/lib64/libgalera_smm.so\n\n# Cluster connection URL contains IPs of node#1, node#2 and node#3\nwsrep_cluster_address=gcomm://192.168.33.21,192.168.33.22,192.168.33.23\n\n# In order for Galera to work correctly binlog format should be ROW\nbinlog_format=ROW\n\n# MyISAM storage engine has only experimental support\ndefault_storage_engine=InnoDB\n\n# This changes how InnoDB autoincrement locks are managed and is a requirement for Galera\ninnodb_autoinc_lock_mode=2\n\n# Node #2 address\nwsrep_node_address=192.168.33.22\n\n# Cluster name\nwsrep_cluster_name=my_centos_cluster\n\n# SST method\nwsrep_sst_method=xtrabackup-v2\n\n#Authentication for SST method\nwsrep_sst_auth=\"sstuser:s3cret\"\n```\n\n* \u8d77\u52d5\n\n```shell\n$ sudo service mysql start\nStarting MySQL (Percona XtraDB Cluster)..State transfer in progress, setting sleep higher\n... SUCCESS!\n```\n\n* \u72b6\u614b\u306e\u78ba\u8a8d\n\n```shell\n mysql -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 4\nServer version: 5.6.24-72.2-56 Percona XtraDB Cluster (GPL), Release rel72.2, Revision 1, WSREP version 25.11, wsrep_25.11\n\nCopyright (c) 2009-2015 Percona LLC and/or its affiliates\nCopyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> show status like 'wsrep%';\n+------------------------------+---------------------------------------+\n| Variable_name                | Value                                 |\n+------------------------------+---------------------------------------+\n| wsrep_local_state_uuid       | fe401022-5c79-11e5-87cb-9ac1151f413c  |\n| wsrep_protocol_version       | 7                                     |\n| wsrep_last_committed         | 4                                     |\n| wsrep_replicated             | 0                                     |\n| wsrep_replicated_bytes       | 0                                     |\n| wsrep_repl_keys              | 0                                     |\n| wsrep_repl_keys_bytes        | 0                                     |\n| wsrep_repl_data_bytes        | 0                                     |\n| wsrep_repl_other_bytes       | 0                                     |\n| wsrep_received               | 3                                     |\n| wsrep_received_bytes         | 252                                   |\n| wsrep_local_commits          | 0                                     |\n| wsrep_local_cert_failures    | 0                                     |\n| wsrep_local_replays          | 0                                     |\n| wsrep_local_send_queue       | 0                                     |\n| wsrep_local_send_queue_max   | 1                                     |\n| wsrep_local_send_queue_min   | 0                                     |\n| wsrep_local_send_queue_avg   | 0.000000                              |\n| wsrep_local_recv_queue       | 0                                     |\n| wsrep_local_recv_queue_max   | 1                                     |\n| wsrep_local_recv_queue_min   | 0                                     |\n| wsrep_local_recv_queue_avg   | 0.000000                              |\n| wsrep_local_cached_downto    | 0                                     |\n| wsrep_flow_control_paused_ns | 0                                     |\n| wsrep_flow_control_paused    | 0.000000                              |\n| wsrep_flow_control_sent      | 0                                     |\n| wsrep_flow_control_recv      | 0                                     |\n| wsrep_cert_deps_distance     | 0.000000                              |\n| wsrep_apply_oooe             | 0.000000                              |\n| wsrep_apply_oool             | 0.000000                              |\n| wsrep_apply_window           | 0.000000                              |\n| wsrep_commit_oooe            | 0.000000                              |\n| wsrep_commit_oool            | 0.000000                              |\n| wsrep_commit_window          | 0.000000                              |\n| wsrep_local_state            | 4                                     |\n| wsrep_local_state_comment    | Synced                                |\n| wsrep_cert_index_size        | 0                                     |\n| wsrep_cert_bucket_count      | 22                                    |\n| wsrep_gcache_pool_size       | 4096                                  |\n| wsrep_causal_reads           | 0                                     |\n| wsrep_cert_interval          | 0.000000                              |\n| wsrep_incoming_addresses     | 192.168.33.22:3306,192.168.33.21:3306 |\n| wsrep_evs_delayed            |                                       |\n| wsrep_evs_evict_list         |                                       |\n| wsrep_evs_repl_latency       | 0/0/0/0/0                             |\n| wsrep_evs_state              | OPERATIONAL                           |\n| wsrep_gcomm_uuid             | 698e93db-5c7d-11e5-a8d0-4b4a07e7dfdc  |\n| wsrep_cluster_conf_id        | 2                                     |\n| wsrep_cluster_size           | 2                                     |\n| wsrep_cluster_state_uuid     | fe401022-5c79-11e5-87cb-9ac1151f413c  |\n| wsrep_cluster_status         | Primary                               |\n| wsrep_connected              | ON                                    |\n| wsrep_local_bf_aborts        | 0                                     |\n| wsrep_local_index            | 0                                     |\n| wsrep_provider_name          | Galera                                |\n| wsrep_provider_vendor        | Codership Oy <info@codership.com>     |\n| wsrep_provider_version       | 3.11(ra0189ab)                        |\n| wsrep_ready                  | ON                                    |\n+------------------------------+---------------------------------------+\n58 rows in set (0.00 sec)\n```\n\n### node3(percona03)\n\n* /etc/my.cnf\n\n```conf:my.cnf\n[mysqld]\n\ndatadir=/var/lib/mysql\nuser=mysql\n\n# Path to Galera library\nwsrep_provider=/usr/lib64/libgalera_smm.so\n\n# Cluster connection URL contains IPs of node#1, node#2 and node#3\nwsrep_cluster_address=gcomm://192.168.33.21,192.168.33.22,192.168.33.23\n\n# In order for Galera to work correctly binlog format should be ROW\nbinlog_format=ROW\n\n# MyISAM storage engine has only experimental support\ndefault_storage_engine=InnoDB\n\n# This changes how InnoDB autoincrement locks are managed and is a requirement for Galera\ninnodb_autoinc_lock_mode=2\n\n# Node #3 address\nwsrep_node_address=192.168.33.23\n\n# Cluster name\nwsrep_cluster_name=my_centos_cluster\n\n# SST method\nwsrep_sst_method=xtrabackup-v2\n\n#Authentication for SST method\nwsrep_sst_auth=\"sstuser:s3cret\"\n```\n\n* \u8d77\u52d5\n\n```shell\n$ sudo service mysql start\nStarting MySQL (Percona XtraDB Cluster)..State transfer in progress, setting sleep higher\n... SUCCESS!\n```\n\n* \u72b6\u614b\u306e\u78ba\u8a8d\n\n```shell\n$ mysql -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 4\nServer version: 5.6.24-72.2-56 Percona XtraDB Cluster (GPL), Release rel72.2, Revision 1, WSREP version 25.11, wsrep_25.11\n\nCopyright (c) 2009-2015 Percona LLC and/or its affiliates\nCopyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> show status like 'wsrep%';\n+------------------------------+----------------------------------------------------------+\n| Variable_name                | Value                                                    |\n+------------------------------+----------------------------------------------------------+\n| wsrep_local_state_uuid       | fe401022-5c79-11e5-87cb-9ac1151f413c                     |\n| wsrep_protocol_version       | 7                                                        |\n| wsrep_last_committed         | 4                                                        |\n| wsrep_replicated             | 0                                                        |\n| wsrep_replicated_bytes       | 0                                                        |\n| wsrep_repl_keys              | 0                                                        |\n| wsrep_repl_keys_bytes        | 0                                                        |\n| wsrep_repl_data_bytes        | 0                                                        |\n| wsrep_repl_other_bytes       | 0                                                        |\n| wsrep_received               | 3                                                        |\n| wsrep_received_bytes         | 338                                                      |\n| wsrep_local_commits          | 0                                                        |\n| wsrep_local_cert_failures    | 0                                                        |\n| wsrep_local_replays          | 0                                                        |\n| wsrep_local_send_queue       | 0                                                        |\n| wsrep_local_send_queue_max   | 1                                                        |\n| wsrep_local_send_queue_min   | 0                                                        |\n| wsrep_local_send_queue_avg   | 0.000000                                                 |\n| wsrep_local_recv_queue       | 0                                                        |\n| wsrep_local_recv_queue_max   | 1                                                        |\n| wsrep_local_recv_queue_min   | 0                                                        |\n| wsrep_local_recv_queue_avg   | 0.000000                                                 |\n| wsrep_local_cached_downto    | 0                                                        |\n| wsrep_flow_control_paused_ns | 0                                                        |\n| wsrep_flow_control_paused    | 0.000000                                                 |\n| wsrep_flow_control_sent      | 0                                                        |\n| wsrep_flow_control_recv      | 0                                                        |\n| wsrep_cert_deps_distance     | 0.000000                                                 |\n| wsrep_apply_oooe             | 0.000000                                                 |\n| wsrep_apply_oool             | 0.000000                                                 |\n| wsrep_apply_window           | 0.000000                                                 |\n| wsrep_commit_oooe            | 0.000000                                                 |\n| wsrep_commit_oool            | 0.000000                                                 |\n| wsrep_commit_window          | 0.000000                                                 |\n| wsrep_local_state            | 4                                                        |\n| wsrep_local_state_comment    | Synced                                                   |\n| wsrep_cert_index_size        | 0                                                        |\n| wsrep_cert_bucket_count      | 22                                                       |\n| wsrep_gcache_pool_size       | 4096                                                     |\n| wsrep_causal_reads           | 0                                                        |\n| wsrep_cert_interval          | 0.000000                                                 |\n| wsrep_incoming_addresses     | 192.168.33.23:3306,192.168.33.22:3306,192.168.33.21:3306 |\n| wsrep_evs_delayed            |                                                          |\n| wsrep_evs_evict_list         |                                                          |\n| wsrep_evs_repl_latency       | 0/0/0/0/0                                                |\n| wsrep_evs_state              | OPERATIONAL                                              |\n| wsrep_gcomm_uuid             | 1d096f60-5c81-11e5-aa27-5628214d872c                     |\n| wsrep_cluster_conf_id        | 1                                                        |\n| wsrep_cluster_size           | 3                                                        |\n| wsrep_cluster_state_uuid     | fe401022-5c79-11e5-87cb-9ac1151f413c                     |\n| wsrep_cluster_status         | Primary                                                  |\n| wsrep_connected              | ON                                                       |\n| wsrep_local_bf_aborts        | 0                                                        |\n| wsrep_local_index            | 0                                                        |\n| wsrep_provider_name          | Galera                                                   |\n| wsrep_provider_vendor        | Codership Oy <info@codership.com>                        |\n| wsrep_provider_version       | 3.11(ra0189ab)                                           |\n| wsrep_ready                  | ON                                                       |\n+------------------------------+----------------------------------------------------------+\n58 rows in set (0.00 sec)\n```\n\n## \u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u52d5\u4f5c\u78ba\u8a8d\n\n\b* node1\n\n```shell\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| test               |\n+--------------------+\n4 rows in set (0.00 sec)\n\nmysql> CREATE DATABASE percona;\nQuery OK, 1 row affected (0.00 sec)\n```\n\n* node2\n\n```shell\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| percona            |\n| performance_schema |\n| test               |\n+--------------------+\n5 rows in set (0.00 sec)\n\nmysql> use percona;\nDatabase changed\n\nmysql> CREATE TABLE example (node_id INT PRIMARY KEY, node_name VARCHAR(30));\nQuery OK, 0 rows affected (0.05 sec)\n```\n\n* node3\n\n```shell\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| percona            |\n| performance_schema |\n| test               |\n+--------------------+\n5 rows in set (0.00 sec)\n\nmysql> use percona;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\n\nmysql> show tables;\n+-------------------+\n| Tables_in_percona |\n+-------------------+\n| example           |\n+-------------------+\n1 row in set (0.00 sec)\n\nmysql> INSERT INTO percona.example VALUES (1, 'percona1');\nQuery OK, 1 row affected (0.01 sec)\n```\n\n* node1\n\n```shell\nmysql> use percona;\nDatabase changed\n\nmysql> show tables;\n+-------------------+\n| Tables_in_percona |\n+-------------------+\n| example           |\n+-------------------+\n1 row in set (0.00 sec)\n\nmysql> select * from example;\n+---------+-----------+\n| node_id | node_name |\n+---------+-----------+\n|       1 | percona1  |\n+---------+-----------+\n1 row in set (0.00 sec)\n\nmysql> INSERT INTO percona.example VALUES (2, 'percona2');\nQuery OK, 1 row affected (0.02 sec)\n```\n\n* node2\n\n```shell\nmysql> show tables;\n+-------------------+\n| Tables_in_percona |\n+-------------------+\n| example           |\n+-------------------+\n1 row in set (0.00 sec)\n\nmysql> select * from example;\n+---------+-----------+\n| node_id | node_name |\n+---------+-----------+\n|       1 | percona1  |\n|       2 | percona2  |\n+---------+-----------+\n2 rows in set (0.00 sec)\n\nmysql> INSERT INTO percona.example VALUES (3, 'percona3');\nQuery OK, 1 row affected (0.01 sec)\n```\n\n* node3\n\n```shell\nmysql> select * from example;\n+---------+-----------+\n| node_id | node_name |\n+---------+-----------+\n|       1 | percona1  |\n|       2 | percona2  |\n|       3 | percona3  |\n+---------+-----------+\n3 rows in set (0.00 sec)\n```\n\n## \u53c2\u8003\n* Percona XtraDB\n * [Installing Percona XtraDB Cluster on CentOS](https://www.percona.com/doc/percona-xtradb-cluster/5.6/howtos/centos_howto.html)\n * [Percona yum Repository](https://www.percona.com/doc/percona-xtradb-cluster/5.6/installation/yum_repo.html)\n\n* EPEL\n  * [Extra Packages for Enterprise Linux (EPEL)](https://fedoraproject.org/wiki/EPEL)\n"}