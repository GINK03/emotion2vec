{"context": "\n\n\u8d77\u304d\u305f\u3053\u3068\nMySQL5.7\u306bupgrade\u3057\u305f\u969b\u306b\u3001error\u30ed\u30b0\u3001slow\u30af\u30a8\u30ea\u30ed\u30b0\u306a\u3069\u3001\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\n\u6642\u9593\u304c\u304a\u304b\u3057\u3044\u3053\u3068\uff08utc\uff09\u306b\u306a\u3063\u3066\u3044\u305f\u3002\n\n\u78ba\u8a8d\u3057\u3066\u3082\u3001\u3069\u3053\u3082JST\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3001\u3001\n\nlinux\u306edate\u30b3\u30de\u30f3\u30c9\n\n$ date\n2017\u5e74  1\u6708 21\u65e5 \u6708\u66dc\u65e5 07:15:37 JST\n\n\nmysql\u306etimezone\u8a2d\u5b9a\n\nmysql> SHOW GLOBAL VARIABLES LIKE '%time_zone';\n+------------------+--------+\n| Variable_name    | Value  |\n+------------------+--------+\n| system_time_zone | JST    |\n| time_zone        | SYSTEM |\n+------------------+--------+\n2 rows in set (0.01 sec)\n\n\nmysql\u306edatetime\n\nmysql> SELECT NOW();\n+---------------------+\n| NOW()               |\n+---------------------+\n| 2017-01-21 07:15:37 |\n+---------------------+\n1 row in set (0.00 sec)\n\n\n\u539f\u56e0\u306f\u3001log_timestamps\nmysql\u306e\u8a2d\u5b9a\u306b\u3001log_timestamps\u3068\u3044\u3046\u9805\u76ee\u304c\u30015.7.2\u304b\u3089\u5c0e\u5165\u3055\u308c\u3066\u3044\u305f\u3002\n\u3053\u3044\u3064\u306b\u3088\u3063\u3066\u3001\u30ed\u30b0\u51fa\u529b\u6642\u306edate\u306f\u3001log_timestamps\u306e\u8a2d\u5b9a\u306b\u4f9d\u5b58\u3055\u308c\u3066\u3057\u307e\u3046\u3002\n\u305d\u3057\u3066\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304cutc\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u30ed\u30b0\u304c\u5168\u3066utc\u306b\u306a\u3063\u3066\u3044\u305f\u3002\nmysql> SELECT @@log_timestamps;\n+------------------+\n| @@log_timestamps |\n+------------------+\n| UTC              |\n+------------------+\n1 row in set (0.00 sec)\n\n\nmy.cnf\u3067\u8a2d\u5b9a\u5024\u3092\u5909\u66f4\n#/etc/my.cnf\n[mysqld]\nlog_timestamps=SYSTEM\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001SYSTEM\u306b\u5909\u66f4\u3057\u3066\u3042\u3052\u308b\u3053\u3068\u3067\u3001\n\u30ed\u30b0\u51fa\u529b\u6642\u306e\u6642\u523b\u306fOS\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u6642\u9593\u3092\u898b\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n\u518d\u8d77\u52d5\u3057\u3066\u3001\u53cd\u6620\u3092\u78ba\u8a8d\nmysql> SELECT @@log_timestamps;\n+------------------+\n| @@log_timestamps |\n+------------------+\n| SYSTEM           |\n+------------------+\n1 row in set (0.00 sec)\n\nerror.log, slow.log, general.log\u306a\u3069\u3001\u5404\u7a2e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304cjst\u3067\n\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\n# \u8d77\u304d\u305f\u3053\u3068\nMySQL5.7\u306bupgrade\u3057\u305f\u969b\u306b\u3001error\u30ed\u30b0\u3001slow\u30af\u30a8\u30ea\u30ed\u30b0\u306a\u3069\u3001\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\n\u6642\u9593\u304c\u304a\u304b\u3057\u3044\u3053\u3068\uff08utc\uff09\u306b\u306a\u3063\u3066\u3044\u305f\u3002\n\n# \u78ba\u8a8d\u3057\u3066\u3082\u3001\u3069\u3053\u3082JST\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3001\u3001\n\n* linux\u306edate\u30b3\u30de\u30f3\u30c9\n\n```\n$ date\n2017\u5e74  1\u6708 21\u65e5 \u6708\u66dc\u65e5 07:15:37 JST\n```\n\n* mysql\u306etimezone\u8a2d\u5b9a\n\n```\nmysql> SHOW GLOBAL VARIABLES LIKE '%time_zone';\n+------------------+--------+\n| Variable_name    | Value  |\n+------------------+--------+\n| system_time_zone | JST    |\n| time_zone        | SYSTEM |\n+------------------+--------+\n2 rows in set (0.01 sec)\n```\n\n* mysql\u306edatetime\n\n```\nmysql> SELECT NOW();\n+---------------------+\n| NOW()               |\n+---------------------+\n| 2017-01-21 07:15:37 |\n+---------------------+\n1 row in set (0.00 sec)\n```\n\n\n# \u539f\u56e0\u306f\u3001log_timestamps\n\nmysql\u306e\u8a2d\u5b9a\u306b\u3001log_timestamps\u3068\u3044\u3046\u9805\u76ee\u304c\u30015.7.2\u304b\u3089\u5c0e\u5165\u3055\u308c\u3066\u3044\u305f\u3002\n\u3053\u3044\u3064\u306b\u3088\u3063\u3066\u3001\u30ed\u30b0\u51fa\u529b\u6642\u306edate\u306f\u3001log_timestamps\u306e\u8a2d\u5b9a\u306b\u4f9d\u5b58\u3055\u308c\u3066\u3057\u307e\u3046\u3002\n\u305d\u3057\u3066\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304cutc\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u30ed\u30b0\u304c\u5168\u3066utc\u306b\u306a\u3063\u3066\u3044\u305f\u3002\n\n```\nmysql> SELECT @@log_timestamps;\n+------------------+\n| @@log_timestamps |\n+------------------+\n| UTC              |\n+------------------+\n1 row in set (0.00 sec)\n```\n\n# my.cnf\u3067\u8a2d\u5b9a\u5024\u3092\u5909\u66f4\n\n```\n#/etc/my.cnf\n[mysqld]\nlog_timestamps=SYSTEM\n```\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001SYSTEM\u306b\u5909\u66f4\u3057\u3066\u3042\u3052\u308b\u3053\u3068\u3067\u3001\n\u30ed\u30b0\u51fa\u529b\u6642\u306e\u6642\u523b\u306fOS\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u6642\u9593\u3092\u898b\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n# \u518d\u8d77\u52d5\u3057\u3066\u3001\u53cd\u6620\u3092\u78ba\u8a8d\n\n```\nmysql> SELECT @@log_timestamps;\n+------------------+\n| @@log_timestamps |\n+------------------+\n| SYSTEM           |\n+------------------+\n1 row in set (0.00 sec)\n```\n\nerror.log, slow.log, general.log\u306a\u3069\u3001\u5404\u7a2e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u304cjst\u3067\n\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\n\n", "tags": ["mysql5.7", "MySQL", "SQL", "DB", "log"]}