{"context": "\n\n\u5c0e\u5165\nCentOS 7\u306e\u516c\u5f0fYum\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308bApache\u3067\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306eOS\u3067\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u5834\u6240 (\u82f1\u8a9e) \u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306e\u521d\u671f\u5024\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308b\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n\nApache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb (*.conf) \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\nCentOS\u6a19\u6e96\u306eYum\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u306e\u3046\u3061Vim\u30fbEmacs\u4ee5\u5916\u306e\u30a8\u30c7\u30a3\u30bf\u306f\u3001\u521d\u671f\u72b6\u614b\u3067.conf\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u304c\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u306a\u3069\u3092\u884c\u3044\u3001\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\ngedit\n\nBug 612368 \u2013 Language definition for Apache configuration files\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n# Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7528\u306e\u8a00\u8a9e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nwget https://bug612368.bugzilla-attachments.gnome.org/attachment.cgi?id=195525 --output-document=apache.lang\n# \u8a00\u8a9e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4e2d\u306eclass\u5c5e\u6027\u3001class-disabled\u5c5e\u6027\u3092\u524a\u9664\u3002\u300c*.conf\u300d\u3092\u30cf\u30a4\u30e9\u30a4\u30c8\u3059\u308b\u3088\u3046\u306b\nsed --in-place --regexp-extended --expression 's/\\sclass(-disabled)?=\"[^\"]+\"//g' --expression 's/httpd\\.conf;httpd2\\.conf;apache\\.conf;apache2\\.conf/*.conf/' apache.lang\n# GtkSourceView\u306e\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\nsudo mv apache.lang /usr/share/gtksourceview-*/language-specs/\n\n\nnano\n\nArch Linux\u306enano-syntax-highlighting-git\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u307e\u3059\u30021 2\n# INI\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u884c\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nwget https://raw.githubusercontent.com/scopatz/nanorc/master/apacheconf.nanorc\n# .conf \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u6271\u3046\u3088\u3046\u306b\u3059\u308b\nsed --in-place 's/httpd\\\\\\.conf/.conf$/' apacheconf.nanorc\n# \u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u884c\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4fdd\u7ba1\u5834\u6240\u306b\u79fb\u52d5\nsudo mv apacheconf.nanorc /usr/share/nano/\n# nano\u306e\u500b\u4eba\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u3059\u308b\necho $'\\n\\n'## INI files$'\\n'include \"/usr/share/nano/apacheconf.nanorc\" >> ~/.nanorc\n\n\nKate\n\n\u30d5\u30a1\u30a4\u30eb\u540d\u304c.conf\u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u958b\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n/usr/share/kde*/apps/katepart/syntax/.xml\n<language name=\"Apache Configuration\" section=\"Configuration\"\n          version=\"1.11\" kateversion=\"2.0\"\n          extensions=\"*.conf;.htaccess*;.htpasswd*\"\n          mimetype=\"\"\n          author=\"Jan Janssen (medhefgo@googlemail.com)\" license=\"LGPL\">\n<!-- \u2191extensions\u5c5e\u6027\u5024\u306e\u300chttpd.conf;httpd2.conf;apache.conf;apache2.conf\u300d\u3092\u300c*.conf\u300d\u306b\u7f6e\u63db -->\n\n                    <!--##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############-->\n\n\n\n\u57fa\u672c\u8a2d\u5b9a\n\n/etc/httpd/conf/httpd.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n<IfModule unixd_module>\n#\n# If you wish httpd to run as a different user or group, you must run\n# httpd as root initially and it will switch.  \n#\n# User/Group: The name (or #number) of the user/group to run httpd as.\n# It is usually good practice to create a dedicated user and group for\n# running httpd, as with most system services.\n#\nUser apache\nGroup apache\n## \u2191\u4e21\u65b9\u3068\u3082 daemon \u304b\u3089 apache \u306b\u5909\u66f4\u3059\u308b (CentOS7\u6a19\u6e96\u306eApache\u3067\u306f\u8a2d\u5b9a\u6e08\u307f) ##\n\n</IfModule>\n\n# 'Main' server configuration\n#\n# The directives in this section set up the values used by the 'main'\n# server, which responds to any requests that aren't handled by a\n# <VirtualHost> definition.  These values also provide defaults for\n# any <VirtualHost> containers you may define later in the file.\n#\n# All of these directives may appear inside <VirtualHost> containers,\n# in which case these default settings will be overridden for the\n# virtual host being defined.\n#\n\n#\n# ServerAdmin: Your address, where problems with the server should be\n# e-mailed.  This address appears on some server-generated pages, such\n# as error documents.  e.g. admin@your-domain.com\n#\nServerAdmin webmaster@example.jp\n## \u2191\u30b5\u30fc\u30d0\u30fc\u7ba1\u7406\u8005\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u5148\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u66f4\u3059\u308b ##\n\n#\n# ServerName gives the name and port that the server uses to identify itself.\n# This can often be determined automatically, but we recommend you specify\n# it explicitly to prevent problems during startup.\n#\n# If your host doesn't have a registered DNS name, enter its IP address here.\n#\nServerName example.jp:80\n## \u2191\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3059\u308b ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n#\n# Relax access to content within /var/www.\n#\n#<Directory \"/var/www\">\n#    AllowOverride None\n#    # Allow open access:\n#    Require all granted\n#</Directory>\n## \u2191<Directory \"/var/www\"> \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b (CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408) ##\n\n## \u2193\u4e00\u3064\u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5909\u66f4\u3059\u308b ##\n<Directory \"/var/www\">\n    #\n    # Possible values for the Options directive are \"None\", \"All\",\n    # or any combination of:\n    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\n    #\n    # Note that \"MultiViews\" must be named *explicitly* --- \"Options All\"\n    # doesn't give it to you.\n    #\n    # The Options directive is both complicated and important.  Please see\n    # https://httpd.apache.org/docs/2.4/mod/core.html#options\n    # for more information.\n    #\n    Options FollowSymLinks\n    ## \u2191 Indexes \u3092\u524a\u9664\u3059\u308b ##\n\n    #\n    # AllowOverride controls what directives may be placed in .htaccess files.\n    # It can be \"All\", \"None\", or any combination of the keywords:\n    #   AllowOverride FileInfo AuthConfig Limit\n    #\n    AllowOverride None\n\n    #\n    # Controls who can get stuff from this server.\n    #\n    #Require all granted\n    ## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n</Directory>\n\n#\n# DirectoryIndex: sets the file that Apache will serve if a directory\n# is requested.\n#\n<IfModule dir_module>\n    DirectoryIndex index.html\n</IfModule>\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n#\n# LogLevel: Control the number of messages logged to the error_log.\n# Possible values include: debug, info, notice, warn, error, crit,\n# alert, emerg.\n#\n#LogLevel warn\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n#\n# Customizable error responses come in three flavors:\n# 1) plain text 2) local redirects 3) external redirects\n#\n# Some examples:\n#ErrorDocument 500 \"The server made a boo boo.\"\n#ErrorDocument 404 /missing.html\n#ErrorDocument 404 \"/cgi-bin/missing_handler.pl\"\n#ErrorDocument 402 http://www.example.com/subscription_info.html\n#\nErrorDocument 403 /not-found\nErrorDocument 404 /not-found\nErrorDocument 503 /internal-server-error\n## \u2191\u305d\u308c\u305e\u308c\u306e\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b ##\n\n                        ##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############\n\n\n \n\n\nUser \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u7ffb\u8a33)\n\nGroup \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u7ffb\u8a33)\n\nUser apacheGroup apache\n\nroot\u6a29\u9650\u3067\u8d77\u52d5\u3057\u305fApache\u306e\u89aa\u30d7\u30ed\u30bb\u30b9\u304c\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u751f\u6210\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30b0\u30eb\u30fc\u30d7\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001daemon\u304b\u3089\u3001Apache\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u81ea\u52d5\u4f5c\u6210\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc (\u30b0\u30eb\u30fc\u30d7) apache\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\nServerAdmin \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\nServerAdmin webmaster@example.jp\n\u30b5\u30fc\u30d0\u30fc\u7ba1\u7406\u8005\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u5148\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9 (\u307e\u305f\u306f\u5225\u30b5\u30fc\u30d0\u30fc\u306eURL) \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 webmaster@example.jp\u306f\u4f8b\u793a\u7528\u306e\u30a2\u30c9\u30ec\u30b9\u306a\u306e\u3067\u3001\u81ea\u5206\u304c\u7ba1\u7406\u3059\u308b\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002 \n\nServerName \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\nServerName example.jp:80\n\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u3068\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u5bfe\u3057\u3066\u3001DNS\u306ePTR\u30ec\u30b3\u30fc\u30c9 (\u9006\u5f15\u304d\u30ec\u30b3\u30fc\u30c9) \u3067\u8a2d\u5b9a\u3057\u305f\u30db\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3057\u3066\u304a\u304f\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u6b20\u3051\u3066\u3044\u308b\u3068\u3001\u300c\u6b63\u78ba\u306a\u30db\u30b9\u30c8\u540d\u3092\u6c7a\u5b9a\u3067\u304d\u306a\u304b\u3063\u305f\u300d\u3068\u3044\u3046\u65e8\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002 example.jp\u306f\u4f8b\u793a\u7528\u306e\u30db\u30b9\u30c8\u540d\u306a\u306e\u3067\u3001\u81ea\u5206\u306e\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u3001\u5f8c\u8ff0\u3059\u308b<VirtualHost> \u30bb\u30af\u30b7\u30e7\u30f3\u5185\u3067\u3082\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nOption \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\u5229\u7528\u3067\u304d\u308b\u6a5f\u80fd\u306e\u5236\u9650\u3092\u5f37\u5316\u3001\u307e\u305f\u306f\u7de9\u548c\u3057\u307e\u3059\u3002\u6700\u521d\u304b\u3089\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308bOptions Indexes FollowSymLinks\u306f\u3001Indexes\u6a5f\u80fd\u3068FollowSymLinks\u6a5f\u80fd\u304c\u6709\u52b9\u3067\u3059\u3002\u30b9\u30e9\u30c3\u30b7\u30e5\u3067\u7d42\u308f\u308bURL\u306b\u30a2\u30af\u30bb\u30b9\u304c\u3042\u3063\u305f\u5834\u5408\u3001 DirectoryIndex \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5b58\u5728\u3057\u306a\u3051\u308c\u3070\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u3092\u8fd4\u3059\u306e\u304cIndexes\u6a5f\u80fd\u3067\u3059\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u6b20\u3051\u3066\u3044\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u3042\u308bOptions All\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nRequire \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\n\u30b5\u30fc\u30d0\u30fc\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u63a5\u7d9a\u3057\u3066\u304f\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u3064\u3044\u3066\u3001\u8a31\u53ef\u30fb\u62d2\u5426\u3059\u308b\u6761\u4ef6\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u3059\u3002\u6614\u306fAllow \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3084Deny \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3057\u305f\u3002Require all granted\u306f\u3001\u3059\u3079\u3066\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002Require all denied\u306f\u3001\u3059\u3079\u3066\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u63a5\u7d9a\u3092\u62d2\u5426\u3057\u307e\u3059\u3002\n\n<Directory> \u30bb\u30af\u30b7\u30e7\u30f3\n\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u9069\u7528\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL (\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3067\u306f\u306a\u304fOS\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30eb\u30fc\u30c8\u3068\u3059\u308b\u30b9\u30e9\u30c3\u30b7\u30e5\u3067\u59cb\u307e\u308bURL) \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002* ? [ ]\u3092\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u30d1\u30b9\u533a\u5206 (\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306a\u3069) \u3092/\u4ee5\u5916 (Windows\u306e\\\\\u306a\u3069) \u3067\u533a\u5207\u308bOS\u3067\u3042\u3063\u3066\u3082\u3001\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u5f15\u6570\u3067\u306f/\u3092\u7528\u3044\u307e\u3059\u3002\n\u8a18\u8ff0\u3067\u304d\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u5236\u9650\u306a\u3069\u306f\u3042\u308a\u307e\u3059\u304c\u3001<Directory /var/www/html>\u5185\u306b\u8a18\u8ff0\u3059\u308b\u306e\u3068\u3001/var/www/html/.htaccess\u306b\u8a18\u8ff0\u3059\u308b\u306e\u306f\u540c\u7fa9\u3067\u3059\u3002\n\u6700\u521d\u306f<Directory \"/var/www/html\">\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306e\u8a2d\u5b9a\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u307e\u3059\u3002html\u4ee5\u5916\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u306e\u30a2\u30af\u30bb\u30b9\u304c\u3042\u308b\u306a\u3089\u3001<Directory \"/var/www\">\u306b\u5909\u66f4\u3057\u3001Require all granted\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nRedirect \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\u7b2c2\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305fURL\u3092\u3001\u7b2c3\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305fURL\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u306b\u306fHTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u306f\u7701\u7565\u53ef\u80fd\u3067\u3001\u7701\u7565\u3057\u305f\u5834\u5408302\u306b\u306a\u308a\u307e\u3059\u3002URL\u306f\u524d\u65b9\u4e00\u81f4\u3067\u3001Redirect /foo /bar\u3068\u8a18\u8ff0\u3059\u308b\u3068\u3001https://example.com/foo/test \u304c https://example.com/bar/test \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001https://example.com/foo2 \u306a\u3069\u306b\u306f\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002\n\u7b2c1\u5f15\u6570\u306b300\u301c399\u4ee5\u5916\u306e\u6570\u5024\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u3001\u3053\u306e\u5834\u5408\u7b2c3\u5f15\u6570\u306f\u6307\u5b9a\u3057\u307e\u305b\u3093\u3002\n\u7b2c1\u5f15\u6570\u306b\u304a\u3044\u3066\u3001301 302 303 410\u306f\u3001\u305d\u308c\u305e\u308cpermanent temp seeother gone\u3068\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u306a\u304a\u3001\u53e4\u3044HTTP\u4ed5\u69d8\u3067302\u306f\u3053\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u901a\u308aMoved Temporarily\u3067\u3057\u305f\u304c\u3001\u4ed5\u69d8\u304c\u5909\u66f4\u3055\u308c302 (Found)\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u4e00\u6642\u7684\u306a\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306b\u306f\u73fe\u5728307 (Temporary Redirect)\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nRedirectMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\u7b2c2\u5f15\u6570\u306b\u6b63\u898f\u8868\u73fe\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u4ee5\u5916\u306f\u3001Redirect \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3068\u540c\u3058\u3067\u3059\u3002\u6b63\u898f\u8868\u73fe\u5185\u306e\u5f8c\u65b9\u53c2\u7167\u306f\u3001\u7b2c3\u5f15\u6570\u3067$1\u306a\u3069\u3068\u6570\u5b57\u306b$\u3092\u524d\u7f6e\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001RedirectMatch ^/foo(/.*)?$ /bar$1\u306fRedirect /foo /bar\u3068\u540c\u3058\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002\n\nErrorDocument \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\nErrorDocument 404 /not-found\n\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u8fd4\u3059\u6587\u66f8\u7b49\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c2\u5f15\u6570\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001\u30d1\u30b9\u7d76\u5bfeURL (\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3092\u30eb\u30fc\u30c8\u3068\u3059\u308b\u30b9\u30e9\u30c3\u30b7\u30e5\u3067\u59cb\u307e\u308b\u30d1\u30b9) \u3067\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5b58\u5728\u81ea\u4f53\u3092\u96a0\u853d\u3059\u308b\u306a\u3069\u306e\u7406\u7531\u3067\u3001\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9\u304c403\u306e\u5834\u5408\u3067\u3082404\u306e\u5834\u5408\u3068\u540c\u3058\u6587\u66f8\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u7b2c2\u5f15\u6570\u306b\u3001404\u3092\u8fd4\u3059\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u305f\u308a\u3001RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e[R|redirect]\u30d5\u30e9\u30b0\u3067404\u3092\u8fd4\u3057\u305f\u308a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\nTLS (\u4fd7\u79f0: SSL) \u306e\u8a2d\u5b9a\n\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308c\u3070\u3053\u306e\u9805\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u7121\u6599\u3067DV\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3067\u304d\u308bLet\u2019s Encrypt\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059\u3002Let\u2019s Encrypt\u306f\u8a3c\u660e\u66f8\u3092\u81ea\u52d5\u767a\u884c\u3059\u308bACME\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u63a1\u7528\u3057\u3066\u304a\u308a\u3001Certbot\u306a\u3069\u306eACME\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u7c21\u5358\u306b\u5c0e\u5165\u3067\u304d\u307e\u3059\u3002\n\nCertbot\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u3082\u81ea\u52d5\u3067\u884c\u3048\u308bCertbot\u3092ACME\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\u3002\nLet\u2019s Encrypt \u306e\u4f7f\u3044\u65b9 \u2014 Let\u2019s Encrypt \u7dcf\u5408\u30dd\u30fc\u30bf\u30eb\n\u5404OS\u3054\u3068\u306e\u53d6\u5f97\u65b9\u6cd5\u306f\u4e0a\u8a18\u30da\u30fc\u30b8\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u306fCentOS7\u306e\u5834\u5408\u306b\u304a\u3051\u308b\u4f8b\u3067\u3059\u3002\n# \u3010\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3011EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3068mod_ssl\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install epel-release mod_ssl\n\n# Certbot\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install certbot python-certbot-apache\n# \u2191EPEL7\u306eGPG\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3093\u3067\u3082\u826f\u3044\u304b\u8a0a\u306d\u3089\u308c\u305f\u5834\u5408\u3001\n#   Fingerprint\u304c https://getfedora.org/ja/keys/ \u306e\u6307\u7d0b\u3068\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u7121\u8996\u3067\u4e00\u81f4\u3059\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n# \u3010\u672a\u8a2d\u5b9a\u306e\u5834\u5408\u3011443\u30dd\u30fc\u30c8\u3092\u958b\u3051\u308b\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --reload\n\n\n\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u9014\u4e2d\u3067Apache\u304c\u518d\u8d77\u52d5\u3055\u308c\u308b\u969b\u306b\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u305f\u3081\u3001\u5148\u306bApache\u3092\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nsudo apachectl start\nsudo certbot --apache --must-staple --hsts --redirect\n\n\u9014\u4e2d\u3067\u8a3c\u660e\u66f8\u3092\u767a\u884c\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u540d\u306e\u5165\u529b (\u8907\u6570\u306e\u5834\u5408\u306f\u7a7a\u767d\u304b\u30ab\u30f3\u30de\u533a\u5207\u308a)\u3001\u7dca\u6025\u9023\u7d61\u306a\u3069\u306b\u4f7f\u3046\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u5165\u529b\u3001\u304a\u3088\u3073Let\u2019s Encrypt\u5229\u7528\u898f\u7d04\u3078\u306e\u540c\u610f\u3092\u6c42\u3081\u3089\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u8a2d\u5b9a\u306e\u4fdd\u5b58\u5148\u3068\u3057\u3066 ssl.conf (CentOS\u306e\u5834\u5408) \u304c\u63d0\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u305d\u308c\u3092 <Select> \u3057\u307e\u3059\u3002\n\u5f8c\u8ff0\u306e\u8a2d\u5b9a\u3067\u8907\u6570\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u6271\u3046\u5834\u5408\u3001--redirect \u306e\u4ee3\u308f\u308a\u306b\u4e00\u65e6 --no-redirect \u3092\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nApache\u306e\u8a2d\u5b9a\n\n/etc/httpd/conf.d/ssl.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n# Use separate log files for the SSL virtual host; note that LogLevel\n# is not inherited from httpd.conf.\n#ErrorLog logs/ssl_error_log\n#TransferLog logs/ssl_access_log\n#LogLevel warn\n## \u21913\u884c\u3068\u3082\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n#   SSL Engine Switch:\n#   Enable/Disable SSL for this virtual host.\n#SSLEngine on\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n#   Server Certificate:\n# Point SSLCertificateFile at a PEM encoded certificate.  If\n# the certificate is encrypted, then you will be prompted for a\n# pass phrase.  Note that a kill -HUP will prompt again.  A new\n# certificate can be generated using the genkey(1) command.\nSSLCertificateFile /etc/letsencrypt/live/example.jp/cert.pem\n## \u2191Certbot\u306eApache\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u3063\u3066\u81ea\u52d5\u7684\u306b\u4fee\u6b63\u3055\u308c\u305f\u884c ##\n\n#   Server Private Key:\n#   If the key is not combined with the certificate, use this\n#   directive to point at the key file.  Keep in mind that if\n#   you've both a RSA and a DSA private key you can configure\n#   both in parallel (to also allow the use of DSA ciphers, etc.)\nSSLCertificateKeyFile /etc/letsencrypt/live/example.jp/privkey.pem\n## \u2191Certbot\u306eApache\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u3063\u3066\u81ea\u52d5\u7684\u306b\u4fee\u6b63\u3055\u308c\u305f\u884c ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n#   Per-Server Logging:\n#   The home of a custom SSL log file. Use this when you want a\n#   compact non-error SSL logfile on a virtual host basis.\nCustomLog logs/ssl_request_log \\\n          \"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \\\"%r\\\" %b\"\n\n# TLS\u306e\u57fa\u672c\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\nInclude /etc/letsencrypt/options-ssl-apache.conf\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n## \u2193\u3053\u308c\u4ee5\u964d\u306e\u884c\u304c\u3001Certbot\u306eApache\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u3063\u3066\u8ffd\u8a18\u3055\u308c\u305f\u6587\u5b57\u5217 ##\nServerName example.jp\nServerAlias sub1.example.jp sub2.example.jp\nHeader always set Strict-Transport-Security \"max-age=31536000\"\nSSLUseStapling on\nSSLCertificateChainFile /etc/letsencrypt/live/example.jp/chain.pem\n</VirtualHost>                                  \n\n<IfModule mod_ssl.c>\nSSLStaplingCache shmcb:/var/run/apache2/stapling_cache(128000)\n</IfModule>\n\n\n \n\n\nSSLProtocol \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nSSLProtocol all -SSLv2 -SSLv3\n\u4f7f\u7528\u3059\u308bSSL/TLS\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u5404\u5f15\u6570\u306e\u5148\u982d\u306b + - \u3092\u4ed8\u3051\u3001\u624b\u524d\u3067\u6307\u5b9a\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u8ffd\u52a0\u3059\u308b\u304b\u9664\u5916\u3059\u308b\u304b\u3092\u8868\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3059\u3079\u3066\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u3001(SSL 2.0)\u3001SSL 3.0 \u3092\u9664\u5916\u3057\u3066\u3044\u307e\u3059\u3002\u306a\u304a\u3001CentOS 7 \u306e ssl.conf \u306b\u306f\u6700\u521d SSLProtocol all -SSLv2 \u3068\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306e\u3001Apache 2.4 \u3067\u306f SSL 2.0 \u3092\u3059\u3067\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u30a8\u30e9\u30fc\u3053\u305d\u51fa\u307e\u305b\u3093\u304c\u3053\u306e\u6307\u5b9a\u306f\u7121\u610f\u5473\u3067\u3059\u3002\n\u3082\u3068\u3082\u3068 SSL 3.0 \u306f\u6a19\u6e96\u5316\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001RFC 7568\u306b\u3088\u3063\u3066\u4f7f\u7528\u304c\u7981\u6b62\u3055\u308c\u307e\u3057\u305f\u3002TLS 1.0\u3001\u304a\u3088\u3073TLS 1.1\u306f\u3001\u5b9f\u88c5\u9593\u3067\u3088\u308a\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3042\u308b\u5834\u5408\u306f\u4f7f\u7528\u3059\u3079\u304d\u3067\u306a\u3044\u3068RFC 7525\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002NetReader\u306a\u3069\u306eIE\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d6\u30e9\u30a6\u30b6\u306f\u3001Windows Vista\u3060\u3068TLS 1.1\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u30443\u306e\u3067\u30012017\u5e744\u670811\u65e5\u307e\u3067\u306fTLS 1.0\u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u30024\n\n\n\nSSLCipherSuite \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nSSLCipherSuite !DSS:EECDH+HIGH:EDH+HIGH:HIGH:MEDIUM:!aNULL:!MD5:!SEED:!IDEA\n\u4f7f\u7528\u3059\u308b\u6697\u53f7\u5316\u65b9\u5f0f\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u5404\u5f15\u6570\u306e\u5148\u982d\u306b + - ! \u3092\u4ed8\u3051\u3001\u624b\u524d\u3067\u6307\u5b9a\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u8ffd\u52a0\u3059\u308b\u304b\u9664\u5916\u3059\u308b\u304b\u3092\u8868\u3057\u307e\u3059\u3002\u5f15\u6570\u306e\u610f\u5473\u306b\u3064\u3044\u3066\u306f\u3001Apache\u3067OpenSSL\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5f37\u5316\u3059\u308b\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\nSSLHonorCipherOrder \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nSSLHonorCipherOrder on\n\u4f7f\u7528\u3059\u308b\u6697\u53f7\u5316\u65b9\u5f0f\u306e\u6c7a\u5b9a\u306b\u3064\u3044\u3066\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3088\u308a\u30b5\u30fc\u30d0\u30fc\u306e\u30ea\u30b9\u30c8\u3092\u512a\u5148\u3057\u307e\u3059\u3002\u65e2\u5b9a\u3067\u306f\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\nSSLCertificateFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nSSLCertificateFile /etc/letsencrypt/live/example.jp/cert.pem\nApache 2.4.7\u4ee5\u4e0b\u3067\u306f\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8 (Certbot\u3067\u53d6\u5f97\u3057\u305f\u5834\u5408\u306f cert.pem) \u3092\u3001Apache 2.4.8\u4ee5\u4e0a\u3067\u306f\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3068\u4e2d\u9593\u8a3c\u660e\u66f8\u3092\u7d50\u5408\u3057\u305f\u30d5\u30a1\u30a4\u30eb (Certbot\u3067\u53d6\u5f97\u3057\u305f\u5834\u5408\u306f fullchain.pem) \u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 2.4.7/2.4.8\u3092\u307e\u305f\u3044\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\u3059\u308b\u969b\u306f\u4fee\u6b63\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \n\u3053\u306e\u4f8b\u306fApache 2.4.6\u306e\u3082\u306e\u306a\u306e\u3067\u3001Certbot\u306b\u3088\u3063\u3066\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u306e\u30d1\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\nSSLCertificateKeyFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nSSLCertificateKeyFile /etc/letsencrypt/live/example.jp/privkey.pem\n\u79d8\u5bc6\u9375\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\nSSLCertificateChainFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nSSLCertificateChainFile /etc/letsencrypt/live/example.jp/chain.pem\nApache 2.4.7\u4ee5\u4e0b\u306b\u304a\u3044\u3066\u3001\u4e2d\u9593\u8a3c\u660e\u66f8 (Certbot\u3067\u53d6\u5f97\u3057\u305f\u5834\u5408\u306f chain.pem) \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002Apache 2.4.8\u4ee5\u964d\u3001SSLCertificateFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u7d71\u5408\u3059\u308b\u5f62\u3067\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002 2.4.7/2.4.8\u3092\u307e\u305f\u3044\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\u3059\u308b\u969b\u306f\u4fee\u6b63\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \n\u3053\u306e\u4f8b\u306fApache 2.4.6\u306e\u3082\u306e\u306a\u306e\u3067\u3001Certbot\u306b\u3088\u3063\u3066\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\nSSLUseStapling \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nSSLUseStapling on\n\nOCSP Stapling\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\n\n\nSSLStaplingCache \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nSSLStaplingCache shmcb:/var/run/apache2/stapling_cache(128000)\n\nOCSP Stapling\u306b\u304a\u3051\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4fdd\u5b58\u5148\u3068\u5bb9\u91cf\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n\n\u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u66f4\u65b0\u4f8b (systemd)\ncertbot renew \u3067\u671f\u9650\u5207\u308c\u304c\u8fd1\u3044\u8a3c\u660e\u66f8\u3092\u66f4\u65b0\u3067\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u306fsystemd\u3092\u63a1\u7528\u3057\u3066\u3044\u308bCentOS 7\u306a\u3069\u306b\u304a\u3051\u308b\u4f8b\u3067\u3059\u3002\n\n/etc/systemd/system/certbot.service\n[Unit]\nDescription=\u671f\u9650\u5207\u308c\u304c\u8fd1\u3044\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n[Service]\nExecStart=/usr/bin/certbot renew\n\n\n\n/etc/systemd/system/certbot.timer\n[Unit]\nDescription=\u6bce\u9031\u6708\u66dc\u65e5\u306e0\u6642\u301c24\u6642\u306e\u3042\u3044\u3060\u306b\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3092\u78ba\u8a8d\u3057\u3001\u671f\u9650\u5207\u308c\u304c\u8fd1\u3044\u3082\u306e\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n[Timer]\nOnCalendar=weekly\nPersistent=true\nRandomizedDelaySec=86400\n\n[Install]\nWantedBy=timers.target\n\n\n# certbot.timer\u306e\u6709\u52b9\u5316 (OS\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u7684\u306b\u8d77\u52d5\u3055\u305b\u308b)\nsudo systemctl enable certbot.timer\n# certbot.timer\u306e\u8d77\u52d5\nsudo systemctl start certbot.timer\n\nsystemctl status certbot.timer \u3092\u5b9f\u884c\u3057\u3066 systemd[1]: [/etc/systemd/system/certbot.timer:6] Unknown lvalue 'RandomizedDelaySec' in section 'Timer' \u306e\u3088\u3046\u306a\u30ed\u30b0\u304c\u6b8b\u3063\u3066\u3044\u305f\u5834\u5408\u3001RandomizedDelaySec \u304c\u6a5f\u80fd\u3057\u3066\u3044\u307e\u305b\u3093\u3002RandomizedDelaySec \u306f\u3001\u6708\u66dc0\u6642\u306b\u56fa\u5b9a\u3055\u308c\u305f OnCalendar=weekly \u3092\u30e9\u30f3\u30c0\u30e0\u306b\u9045\u5ef6\u3055\u305b\u308b\u8a2d\u5b9a\u3067\u3059\u30022016\u5e7411\u67083\u65e5\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f RHEL 7.3 \u3067\u540c\u8a2d\u5b9a\u306b\u5bfe\u5fdc\u3057\u305f5\u306e\u3067\u3001CentOS\u306a\u3069\u306eRHEL\u30af\u30ed\u30fc\u30f3\u3067\u3042\u308c\u30702016\u5e7411\u670828\u65e5\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u3001\u6642\u671f\u306b\u5bfe\u5fdc\u3059\u308b\u3067\u3057\u3087\u3046\u3002\u5bfe\u5fdc\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u3078\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u5f8c\u306f sudo systemctl daemon-reload \u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u3082\u3057\u4f7f\u7528\u3057\u3066\u3044\u308bOS\u306esystemd\u304c RandomizedDelaySec \u306b\u5bfe\u5fdc\u3059\u308b\u4e88\u5b9a\u304c\u306a\u3051\u308c\u3070\u3001\u4ed6\u306eOS\u3068\u540c\u69d8\u306bcrontab\u3092\u5229\u7528\u3059\u308b\u306e\u304c\u826f\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u76f4\u8fd1\u306e\u30ed\u30b0\u306f\u6b21\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3067\u8abf\u3079\u307e\u3059\u3002\n\nsudo cat /var/log/letsencrypt/letsencrypt.log\nsystemctl status certbot --full --lines 50\nsystemctl status certbot.timer --full\n\n\nHTTP\u5fdc\u7b54\u30d8\u30c3\u30c0\u306e\u8a2d\u5b9a\n\n/etc/httpd/conf/httpd.conf\n# XHTML\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\nSetEnvIfExpr \"!(%{HTTP_ACCEPT} -strcmatch '*application/xhtml+xml*') || %{HTTP_USER_AGENT} =~ m#UP\\\\.Browser/6\\\\.2|Nintendo 3DS| NX/1\\\\.|Trident/5\\\\.#\" LEGACY_BROWSER\n## \u2191\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u306b\u633f\u5165 ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n<IfModule mime_module>\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n    #\n    # Filters allow you to process content before it is sent to the client.\n    #\n    # To parse .shtml files for server-side includes (SSI):\n    # (You will also need to add \"Includes\" to the \"Options\" directive.)\n    #\n    #AddType text/html .shtml\n    #AddOutputFilter INCLUDES .shtml\n    ## \u2191\u3053\u306e2\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b (CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408) ##\n\n    ## \u2193<IfModule mime_module> \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u672b\u5c3e\u306b\u8ffd\u8a18 ##\n    <If \"-n reqenv('LEGACY_BROWSER')\">\n        # XHTML\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3051\u308c\u3070\n        AddType text/html .xhtml\n    </If>\n</IfModule>\n\n#\n# Specify a default charset for all content served; this enables\n# interpretation of all content as UTF-8 by default.  To use the \n# default browser choice (ISO-8859-1), or to allow the META tags\n# in HTML content to override this choice, comment out this\n# directive:\n#\n#AddDefaultCharset UTF-8\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n# content-type\u30d8\u30c3\u30c0\u306bcharset\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4ed8\u52a0\u3059\u308b\nAddCharset utf-8 .xhtml .html .css .es .js .txt .json .xml .csv\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n# content-language\u30d8\u30c3\u30c0\u3092\u9001\u51fa\u3059\u308b\nAddLanguage ja .xhtml .html\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n## \u2193\u30d5\u30a1\u30a4\u30eb\u306e\u672b\u5c3e\u306b\u8ffd\u8a18 ##\nServerTokens ProductOnly\nHeader always set x-content-type-options nosniff\n<If \"%{HTTP_USER_AGENT} =~ m#Trident/5\\\\.#\">\n    # Internet Explorer 9 \u306e\u4e92\u63db\u8868\u793a\u30dc\u30bf\u30f3\u3092\u6d88\u3059\n    Header always set x-ua-compatible IE=edge\n</If>\n\n\n\n/etc/httpd/conf.d/ssl.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\nServerName example.jp\nServerAlias sub1.example.jp sub2.example.jp\nHeader always set Strict-Transport-Security \"max-age=31536000; includeSubDomains; preload\"\n## \u2191\u300cincludeSubDomains\u300d\u300cpreload\u300d\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8ffd\u52a0 ##\nSSLUseStapling on\nSSLCertificateChainFile /etc/letsencrypt/live/example.jp/chain.pem\n</VirtualHost>                                  \n\n<IfModule mod_ssl.c>\nSSLStaplingCache shmcb:/var/run/apache2/stapling_cache(128000)\n</IfModule>\n\n\n\n/etc/httpd/conf.d/autoindex.conf\u3000(CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408)\n#\n# Directives controlling the display of server-generated directory listings.\n#\n# Required modules: mod_authz_core, mod_authz_host,\n#                   mod_autoindex, mod_alias\n#\n# To see the listing of a directory, the Options directive for the\n# directory must include \"Indexes\", and the directory must not contain\n# a file matching those listed in the DirectoryIndex directive.\n#\n\n#\n# IndexOptions: Controls the appearance of server-generated directory\n# listings.\n#\n#IndexOptions FancyIndexing HTMLTable VersionSort\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n# We include the /icons/ alias for FancyIndexed directory listings.  If\n# you do not use FancyIndexing, you may comment this out.\n#\n#Alias /icons/ \"/usr/share/httpd/icons/\"\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n                        ##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############\n\n\n\n/etc/httpd/conf.d/welcome.conf\u3000(CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408)\n# \n# This configuration file enables the default \"Welcome\" page if there\n# is no default index page present for the root URL.  To disable the\n# Welcome page, comment out all the lines below. \n#\n# NOTE: if this file is removed, it will be restored on upgrades.\n#\n#<LocationMatch \"^/+$\">\n#    Options -Indexes\n#    ErrorDocument 403 /.noindex.html\n#</LocationMatch>\n\n#<Directory /usr/share/httpd/noindex>\n#    AllowOverride None\n#    Require all granted\n#</Directory>\n\n#Alias /.noindex.html /usr/share/httpd/noindex/index.html\n#Alias /css/bootstrap.min.css /usr/share/httpd/noindex/css/bootstrap.min.css\n#Alias /css/open-sans.css /usr/share/httpd/noindex/css/open-sans.css\n#Alias /images/apache_pb.gif /usr/share/httpd/noindex/images/apache_pb.gif\n#Alias /images/poweredby.png /usr/share/httpd/noindex/images/poweredby.png\n## \u2191\u3059\u3079\u3066\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n\n \n\n\nSetEnvIfExpr \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(SetEvnIf \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u65e5\u672c\u8a9e\u8a33)\nSetEnvIfExpr \"!(%{HTTP_ACCEPT} -strcmatch '*application/xhtml+xml*') || %{HTTP_USER_AGENT} =~ m#UP\\\\.Browser/6\\\\.2|Nintendo 3DS| NX/1\\\\.|Trident/5\\\\.#\" LEGACY_BROWSER\n\u7b2c1\u5f15\u6570\u306e\u6761\u4ef6\u5f0f\u304c\u771f\u306a\u3089\u3001\u7b2c2\u5f15\u6570\u306e\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u6761\u4ef6\u5f0f\u306e\u69cb\u6587\u306fExpressions in Apache HTTP Server\u306b\u8f09\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u69cb\u6587\u306f<If> \u30bb\u30af\u30b7\u30e7\u30f3\u3084RewriteCond \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002LEGACY_BROWSER\u306e\u3088\u3046\u306b\u5909\u6570\u5024\u3092\u7701\u7565\u3059\u308b\u3053\u3068\u306f\u3001LEGACY_BROWSER=1\u306e\u3088\u3046\u306b\u5909\u6570\u5024\u3068\u3057\u30661\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3068\u540c\u7fa9\u3067\u3059\u3002\n\naccept\u8981\u6c42\u30d8\u30c3\u30c0\u306bapplication/xhtml+xml\u304c\u542b\u307e\u308c\u3066\u3044\u308c\u3070\u3001\u57fa\u672c\u7684\u306b\u305d\u308c\u306fXHTML\u6587\u66f8\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308bWeb\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3059\u3002\u3057\u304b\u3057\u305d\u306e\u4e2d\u306b\u306f\u3001XHTML\u6587\u66f8\u3092\u6b63\u5e38\u306b\u6271\u3048\u305a\u3001HTML\u6587\u66f8\u3092\u8fd4\u3057\u305f\u65b9\u304c\u826f\u3044\u30d6\u30e9\u30a6\u30b6\u3082\u3042\u308a\u307e\u3059\u3002httpd.conf\u306e\u5148\u982d\u306b\u4e0a\u8a18\u306e\u3088\u3046\u306aSetEnvIfExpr \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u3001XHTML\u6587\u66f8\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306b\u5bfe\u3057\u3001LEGACY_BROWSER\u3068\u3044\u3046\u74b0\u5883\u5909\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067XHTML\u6587\u66f8\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u3068\u3057\u3066\u6271\u3063\u3066\u3044\u308b\u306e\u306f\u3001accept\u8981\u6c42\u30d8\u30c3\u30c0\u306bapplication/xhtml+xml\u304c\u542b\u307e\u308c\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u3001Openwave Mobile Browser 6.2 (\u53e4\u3044EZ\u30d6\u30e9\u30a6\u30b6)\u3001NetFront Browser NX 1 (\u30cb\u30f3\u30c6\u30f3\u30c9\u30fc3DS\u7528\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u30fc)6\u3001Internet Explorer 97 8 \u3067\u3059\u3002\n\nAddType \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\nAddType image/vnd.microsoft.icon .ico .cur\n\u3069\u306e\u62e1\u5f35\u5b50\u304c\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u306b\u5bfe\u5fdc\u3059\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002mime.types\u30d5\u30a1\u30a4\u30eb\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u60c5\u5831\u3092\u5143\u306bcontent-type\u5fdc\u7b54\u30d8\u30c3\u30c0\u304c\u8fd4\u3055\u308c\u308b\u306e\u3067\u3001\u57fa\u672c\u7684\u306b\u306f\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u304b\u3063\u305f\u308a\u3001\u767b\u9332\u3055\u308c\u3066\u3044\u3066\u3082\u60c5\u5831\u304c\u53e4\u304b\u3063\u305f\u308a\u3059\u308b\u5834\u5408\u306b\u3001\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3057\u3066mime.types\u306e\u8a2d\u5b9a\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002\n\n<If> \u30bb\u30af\u30b7\u30e7\u30f3\n\n<ElseIf> \u30bb\u30af\u30b7\u30e7\u30f3\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\n\n<Else> \u30bb\u30af\u30b7\u30e7\u30f3\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\n\n<If \"-n reqenv('LEGACY_BROWSER')\">\u301c</If>\n\n\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u9069\u7528\u3059\u308b\u6761\u4ef6\u5f0f\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u305d\u306e\u3088\u3046\u306a\u8aac\u660e\u304c\u306a\u304f\u30a8\u30e9\u30fc\u3082\u51fa\u307e\u305b\u3093\u304c\u3001 \u3053\u308c\u3089\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5165\u308c\u5b50\u306b\u3059\u308b\u3068\u3001\u5185\u5074\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u4e2d\u8eab\u3054\u3068\u7121\u8996\u3055\u308c\u307e\u3059 \u3002\uff08Apache 2.4.7 \u73fe\u5728\uff09\n\n-n reqenv('LEGACY_BROWSER')\u306f\u3001LEGACY_BROWSER\u3068\u3044\u3046\u74b0\u5883\u5909\u6570\u304c\u7a7a\u3067\u306a\u3051\u308c\u3070\u771f\u3092\u8fd4\u3059\u5f0f\u3067\u3059\u3002\n\n\nInclude \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6IncludeOptional \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nInclude /etc/httpd/conf/extra/httpd-languages.conf\n\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4ed6\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u304b\u3001\u30b5\u30fc\u30d0\u30fc\u30eb\u30fc\u30c8 (CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fServerRoot \"/etc/httpd\"\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b) \u304b\u3089\u306e\u30d1\u30b9\u76f8\u5bfeURL\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3082\u4f7f\u7528\u53ef\u80fd\u3067\u3059\u3002IncludeOptional \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u307b\u307cInclude \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3068\u540c\u3058\u3067\u3059\u304c\u3001\u30d5\u30a1\u30a4\u30eb\u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3067\u3082\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u305b\u3093\u3002\n\nServerTokens \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\nserver\u5fdc\u7b54\u30d8\u30c3\u30c0\u3068\u30b5\u30fc\u30d0\u30fc\u304c\u751f\u6210\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30d5\u30c3\u30bf\u30fc\u306b\u8868\u793a\u3055\u308c\u308b\u30b5\u30fc\u30d0\u30fc\u60c5\u5831\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306fServerTokens Full\u3067\u3001Server: Apache/2.4.7 (Unix)\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002ServerTokens ProductOnly\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001Server: Apache\u3068\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\nHeader \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\nHeader always set x-content-type-options nosniff\nHTTP\u5fdc\u7b54\u30d8\u30c3\u30c0\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u5185\u90e8\u30d8\u30c3\u30c0\u30c6\u30fc\u30d6\u30eb\u306b\u306f\u30d8\u30c3\u30c0\u306e\u4e00\u89a7\u304c\u683c\u7d0d\u3055\u308c\u3066\u304a\u308a\u30012xx\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u5834\u5408\u306e\u307f\u5229\u7528\u3055\u308c\u308bonsuccess\u30c6\u30fc\u30d6\u30eb\u3068\u30012xx\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u542b\u3080\u3059\u3079\u3066\u306e\u5834\u5408\u3067\u5229\u7528\u3055\u308c\u308balways\u30c6\u30fc\u30d6\u30eb\u306e\u3069\u3061\u3089\u3092\u66f8\u304d\u63db\u3048\u308b\u304b\u3001\u7b2c1\u5f15\u6570\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u306f\u7701\u7565\u53ef\u80fd\u3067\u3001\u7701\u7565\u3057\u305f\u5834\u5408onsuccess\u306b\u306a\u308a\u307e\u3059\u3002\u7b2c2\u5f15\u6570\u3067\u5185\u90e8\u30d8\u30c3\u30c0\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u3069\u306e\u3088\u3046\u306a\u64cd\u4f5c\u3092\u884c\u3046\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u7b2c2\u5f15\u6570\u306b\u3064\u3044\u3066\u3001set\u306f\u65b0\u3057\u304f\u30d8\u30c3\u30c0\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u304c\u3001\u540c\u3058\u540d\u524d\u306e\u30d8\u30c3\u30c0\u304c\u65e2\u306b\u5b58\u5728\u3059\u308c\u3070\u305d\u308c\u3092\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002edit\u306f\u65e2\u5b58\u306e\u30d8\u30c3\u30c0\u306e\u7f6e\u63db\u3092\u884c\u3046\u8a2d\u5b9a\u3067\u3001\u7b2c3\u5f15\u6570\u306b\u6b63\u898f\u8868\u73fe\u3001\u7b2c4\u5f15\u6570\u306b\u7f6e\u63db\u5f8c\u306e\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nAddLanguage \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\nAddLanguage ja .xhtml .html\n\u3069\u306e\u62e1\u5f35\u5b50\u304c\u3069\u306e\u8a00\u8a9e\u306b\u5bfe\u5fdc\u3059\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\u4e0a\u8a18\u306e\u6307\u5b9a\u3067\u306f\u3001\u62e1\u5f35\u5b50\u304c.xhtml .html\u3067\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u304c\u3001HTTP\u5fdc\u7b54\u30d8\u30c3\u30c0\u3067Content-Language: ja\u3092\u9001\u51fa\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nAddCharset \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\nAddCharset UTF-8 .xhtml .html .css .es .js .txt .json .csv .xml\n\u3069\u306e\u62e1\u5f35\u5b50\u304c\u3069\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3059\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\u4e0a\u8a18\u306e\u6307\u5b9a\u3067\u306f\u3001\u62e1\u5f35\u5b50\u304c.xhtml .html .css .es .txt .json .csv\u3067\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u5fdc\u7b54\u30d8\u30c3\u30c0\u306b\u3001Content-Type: application/xhtml+xml; charset=UTF-8\u306e\u3088\u3046\u306bcharset\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u4ed8\u52a0\u3055\u308c\u307e\u3059\u3002.htm\u3084.xht\u7b49\u3001\u3053\u308c\u4ee5\u5916\u306e\u62e1\u5f35\u5b50\u3092\u6301\u3064\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u81ea\u5206\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u5b58\u5728\u3057\u3066\u3044\u308c\u3070\u3001\u305d\u308c\u3089\u3082\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u6587\u5b57\u5316\u3051\u306fXSS\u306b\u3064\u306a\u304c\u308b\u53ef\u80fd\u6027\u3082\u3042\u308b\u306e\u3067\u3001\u8a2d\u5b9a\u6f0f\u308c\u304c\u7121\u3044\u3088\u3046\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u306a\u304a\u3001application/json \u306b charset \u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u5b58\u5728\u305b\u305a\u3001\u4f8b\u306e\u901a\u308a\u8a18\u8ff0\u3057\u305f\u5834\u5408 Content-Type: application/json; charset=UTF-8 \u306e\u3088\u3046\u306a\u4e0d\u6b63\u306a\u30d8\u30c3\u30c0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u3057\u304b\u3057\u306a\u304c\u3089\u3001Content-Type: application/json \u3092\u51fa\u529b\u3059\u308b\u3068\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3068\u30d6\u30e9\u30a6\u30b6\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u3063\u3066\u306f\u6587\u5b57\u5316\u3051\u3057\u307e\u3059\u30029\n\n\n\n\n\n\nHTTP\u5fdc\u7b54\u30d8\u30c3\u30c0\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\n\n\n\n\n\ncontent-type\n\napplication/xhtml+xml\u3084text/css\u306a\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u7a2e\u985e\u3068\u3001\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u793a\u3057\u307e\u3059\u3002\u3053\u306e\u30d8\u30c3\u30c0\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u3068\u3001XSS\u306e\u767a\u751f\u306b\u3064\u306a\u304c\u308a\u307e\u3059\u3002\n\n\ncontent-language\nHTML\u6587\u66f8\u3001XHTML\u6587\u66f8 (\u4ee5\u4e0b\u3001HTML) \u3067\u306f\u3001\u3053\u306e\u30d8\u30c3\u30c0\u3084lang\u5c5e\u6027\u306b\u3088\u3063\u3066\u6587\u7ae0\u3084\u5358\u8a9e\u306e\u8a00\u8a9e\u304c\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u6307\u5b9a\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u3068\u3001\u610f\u56f3\u3057\u305f\u30d5\u30a9\u30f3\u30c8\u3067\u8868\u793a\u3055\u308c\u306a\u3044\u3068\u3044\u3063\u305f\u5f0a\u5bb3\u3082\u8d77\u304d\u307e\u3059\u3002\u306a\u304a\u3001\u3053\u308c\u3089\u306e\u5024\u306b\u6307\u5b9a\u3059\u308b\u8a00\u8a9e\u30bf\u30b0\u306b\u3064\u3044\u3066\u3001ja-JP (\u8a00\u8a9e\u3068\u5730\u57df\u3092-\u3067\u7e4b\u3044\u3067\u3044\u308b) \u306f\u6b63\u3057\u3044\u5024\u3067\u3059\u304c\u3001ja_JP (\u8a00\u8a9e\u3068\u5730\u57df\u3092_\u3067\u7e4b\u3044\u3067\u3044\u308b) \u3068\u66f8\u304f\u306e\u306f\u8aa4\u308a\u3067\u3059\u3002\n\n\nlink\nHTML\u306elink\u8981\u7d20\u3068\u540c\u3058\u610f\u5473\u3092\u6301\u3061\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001link: </common/development>; rel=stylesheet\u306f\u3001head\u8981\u7d20\u5185\u306b\u8a18\u8ff0\u3057\u305f<link href=\"/common/development\" rel=\"stylesheet\" />\u3068\u540c\u3058\u52b9\u679c\u304c\u3042\u308a\u307e\u3059\u30022013\u5e7411\u6708\u73fe\u5728\u3001Firefox\u306e\u307frel=stylesheet\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001HTML\u4ee5\u5916\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u305f\u5834\u5408\u306b\u3082\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002rel=icon\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n\nx-content-type-options\nInternet Explorer\u306econtent-type\u5fdc\u7b54\u30d8\u30c3\u30c0\u7121\u8996\u3092\u9632\u304e\u307e\u3059\u3002XSS\u3092\u9632\u6b62\u3059\u308b\u305f\u3081\u306b\u3082\u3001\u3053\u306e\u30d8\u30c3\u30c0\u306f\u5fc5\u305a\u9001\u51fa\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\n\nx-ua-compatible\n\n\u672c\u6765\u306fmeta\u8981\u7d20\u3067\u4f7f\u3046\u5c5e\u6027\u5024\u3067\u3001HTTP\u30d8\u30c3\u30c0\u3068\u3057\u3066\u306f\u975e\u6a19\u6e96\u3067\u3059\u3002 Internet Explorer 98 \u306e\u4e92\u63db\u8868\u793a\u30dc\u30bf\u30f3\u3092\u6d88\u3057\u307e\u3059\u3002\n\n\nstrict-transport-security\nHTTPS\u63a5\u7d9a\u3092\u5f37\u5236\u3059\u308b HTTP Strict Transport Security (HSTS) \u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\u3053\u306e\u6307\u5b9a\u306f\u3001\u540c\u4e00\u30c9\u30e1\u30a4\u30f3\u306b\u5bfe\u3057 max-age \u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u6307\u5b9a\u3057\u305f\u79d2\u6570\u3060\u3051\u8a18\u61b6\u3055\u308c\u307e\u3059\u3002includeSubDomains \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306b\u5bfe\u3057\u3066\u3082HTTPS\u63a5\u7d9a\u3092\u5f37\u5236\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u3088\u3046\u306a\u6761\u4ef6\u3092\u6e80\u305f\u305b\u3070\u3001\u30d6\u30e9\u30a6\u30b6\u304c\u521d\u3081\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u304d\u3082HTTPS\u3092\u77ef\u6b63\u3059\u308bHSTS Preload\u304c\u5229\u7528\u3067\u304d\u307e\u3059\u3002\nhttp://\u301c \u304b\u3089 https://\u301c \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u3044\u308b\n\u3059\u3079\u3066\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306bHTTPS\u63a5\u7d9a\u3067\u304d\u308b\n\nmax-age \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5024\u304c18\u9031\u9593 (10886400\u79d2) \u4ee5\u4e0a\n\nincludeSubDomains \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\n\u975e\u6a19\u6e96\u306e preload \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\n HSTS Preload List Submission\u304b\u3089HSTS Preload\u3092\u5229\u7528\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u767b\u9332\u3057\u307e\u3059\u3002\u30ea\u30b9\u30c8\u306fGoogle\u304c\u7ba1\u7406\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\ncontent-security-policyx-frame-options\n\n(\u5f8c\u8ff0)\n\n\n\n\nContent Security Policy\n\u30b5\u30a4\u30c8\u88fd\u4f5c\u8005\u306e\u610f\u56f3\u3057\u306a\u3044\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\u306a\u3069\u3092\u30d6\u30e9\u30a6\u30b6\u5074\u3067\u30d6\u30ed\u30c3\u30af\u3057\u3001XSS\u306a\u3069\u3092\u9632\u304e\u307e\u3059\u3002\nInternet Explorer \u306f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\u4ee5\u4e0b\u306bcontent-security-policy\u5fdc\u7b54\u30d8\u30c3\u30c0\u306e\u8a2d\u5b9a\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\n/etc/httpd/conf/httpd.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n# \u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u3067\u5171\u901a\u306e\u30dd\u30ea\u30b7\u30fc\nHeader always set content-security-policy \"default-src 'none'; disown-opener; frame-ancestors 'none'; style-src 'self'; img-src 'self'; upgrade-insecure-requests; report-uri [\u30ec\u30dd\u30fc\u30c8\u306e\u9001\u4fe1\u5148URL]\"\n<If \"%{HTTP_USER_AGENT} -strmatch '*Trident/*'\">\n    # Internet Explorer \u3067 frame-ancestors 'none' \u3092\u6a5f\u80fd\u3055\u305b\u308b\n    Header always set x-frame-options DENY\n</If>\n\n<DirectoryMatch ^/var/www/html/index$>\n    # \u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3078\u306eSVG\u753b\u50cf\u306e\u57cb\u3081\u8fbc\u307f\n    Header always edit content-security-policy $ \"; object-src 'self'; frame-src 'self'\"\n</DirectoryMatch>\n<DirectoryMatch ^/var/www/html/chat/index$>\n    # \u30c1\u30e3\u30c3\u30c8\u306estyle\u5c5e\u6027\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3001EventSource\u3001XMLHttpRequest\u3001\u304a\u3088\u3073\u30d9\u30eb\u97f3\n    Header always edit content-security-policy \"style-src 'self'\" \"style-src 'self' 'unsafe-inline'; script-src 'self'; connect-src 'self'; media-src 'self'\"\n</DirectoryMatch>\n<Directory /var/www/html/link>\n    # \u30ea\u30f3\u30af\u96c6\u306e\u30d0\u30ca\u30fc\n    Header always edit content-security-policy \"img-src 'self'\" \"img-src 'self' example.com example.jp example.co.jp example.ne.jp\"\n</Directory>\n<Directory /var/www/html/phpMyAdmin>\n    # phpMyAdmin\n    Header always edit content-security-policy \"style-src 'self'\" \"style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self'\"\n</Directory>\n<DirectoryMatch ^/var/www/html/phpinfo$>\n    # phpinfo()\u95a2\u6570\u306e\u7d50\u679c\u3092\u8868\u793a\u3059\u308b\u30da\u30fc\u30b8\n    Header always edit content-security-policy \"style-src 'self'\" \"style-src 'self' 'unsafe-inline'\"\n    Header always edit content-security-policy \"img-src 'self'\" \"img-src 'self' data:\"\n</DirectoryMatch>\n\n\n\u4ee5\u4e0a\u306e\u30b3\u30fc\u30c9\u4f8b\u306econtent-security-policy\u5fdc\u7b54\u30d8\u30c3\u30c0\u5024\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u610f\u5473\u306b\u306a\u308a\u307e\u3059 (disown-opener frame-ancestors upgrade-insecure-requests report-to \u7701\u7565)\u3002\n \n\ndefault-src 'none'; style-src 'self'; img-src 'self'\n\u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u306b\u9069\u7528\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3002\u540c\u4e00\u751f\u6210\u5143\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u3068\u540c\u4e00\u751f\u6210\u5143\u306e\u753b\u50cf\u306e\u307f\u8a31\u53ef\u3057\u3066\u3044\u308b\u3002\n\ndefault-src 'none'; style-src 'self'; img-src 'self'; object-src 'self'; frame-src 'self'\nobject\u8981\u7d20\u3067SVG\u753b\u50cf\u3092\u57cb\u3081\u8fbc\u3080\u5834\u5408\u3002Firefox\u306fobject\u3001Opera\u3068Google Chrome\u306fframe\u3068\u8a8d\u8b58\u3059\u308b\u305f\u3081\u3001\u4e21\u65b9\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u8a31\u53ef\u3057\u3066\u3044\u308b\u3002\n\ndefault-src 'none'; style-src 'self' 'unsafe-inline'; script-src 'self'; connect-src 'self'; media-src 'self'; img-src 'self'\n\u540c\u4e00\u751f\u6210\u5143\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u3001style\u8981\u7d20\u3068style\u5c5e\u6027\u306b\u3088\u308b\u6307\u5b9a\u3092\u8a31\u53ef\u3002\u540c\u4e00\u751f\u6210\u5143\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a31\u53ef\u3002XMLHttpRequest\u3084EventSource\u304b\u3089\u306e\u540c\u4e00\u751f\u6210\u5143\u306b\u5bfe\u3059\u308b\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3002audio\u8981\u7d20\u3068video\u8981\u7d20\u3067\u540c\u4e00\u751f\u6210\u5143\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8a31\u53ef\u3002\u540c\u4e00\u751f\u6210\u5143\u306e\u753b\u50cf\u3092\u8a31\u53ef\u3002\n\ndefault-src 'none'; style-src 'self'; img-src 'self' example.com example.jp example.co.jp example.ne.jp\n\u30ea\u30f3\u30af\u96c6\u306b\u9069\u7528\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3002\u540c\u4e00\u751f\u6210\u5143\u3068\u76f4\u30ea\u30f3\u30af\u3057\u3066\u3044\u308b\u30d0\u30ca\u30fc\u306e\u751f\u6210\u5143\u306e\u753b\u50cf\u3092\u8a31\u53ef\u3057\u3066\u3044\u308b\u3002\n\ndefault-src 'none'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self'; img-src 'self'\n\nphpMyAdmin\u306b\u9069\u7528\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3002phpMyAdmin\u3067\u306f\u30a4\u30f3\u30e9\u30a4\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u3084eval\u95a2\u6570\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001Content Security Policy\u304c\u6709\u52b9\u306b\u6d3b\u7528\u3067\u304d\u306a\u3044\u3002\n\ndefault-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self' data:\n\nPHP\u306ephpinfo\u95a2\u6570\u306e\u5b9f\u884c\u7d50\u679c\u306b\u9069\u7528\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3002\u540c\u4e00\u751f\u6210\u5143\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u3001style\u8981\u7d20\u3068style\u5c5e\u6027\u306b\u3088\u308b\u6307\u5b9a\u3092\u8a31\u53ef\u3002\u540c\u4e00\u751f\u6210\u5143\u3068data\u30b9\u30ad\u30fc\u30e0\u306e\u753b\u50cf\u3092\u8a31\u53ef\u3002\n\n\u4e3b\u306a\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6 (\u6307\u4ee4)\n\n\n\n\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u540d\n\u69cb\u6587\u3001\u4f5c\u7528\n\n\n\n\ndefault-src\n\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u7701\u7565\u3055\u308c\u3066\u3044\u305f\u3068\u304d\u306e\u65e2\u5b9a\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nchild-src\nconnect-src\nfont-src\nimg-src\nmedia-src\nobject-src\nscript-src\nstyle-src\n \u3053\u308c\u3089\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u5024\u3092\u7a7a\u767d\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n'none' (\u4f55\u3082\u8a31\u53ef\u3057\u306a\u3044)\n\n'self' (\u751f\u6210\u514310 \u304c\u540c\u3058\u3082\u306e\u3092\u8a31\u53ef)\n\nhttps://maxcdn.bootstrapcdn.com/bootstrap/ (\u30db\u30b9\u30c8\u30bd\u30fc\u30b9\u5f0f)\n \u4ee5\u4e0a\u306e\u3088\u3046\u306a\u5024\u306f\u30bd\u30fc\u30b9\u30ea\u30b9\u30c8\u3068\u547c\u3070\u308c\u307e\u3059\u3002\n\n\nstyle-src\n\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u8a31\u53ef\u3002'unsafe-inline'\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u3042\u3089\u3086\u308bstyle\u8981\u7d20\u3001style\u5c5e\u6027\u304c\u8a31\u53ef\u3055\u308c\u307e\u3059\u304c\u3001\u5b8c\u5168\u306b\u907f\u3051\u308b\u306e\u304c\u6700\u5584\u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002style\u8981\u7d20\u306b\u95a2\u3057\u3066\u306f\u3001hash-source\u3092\u4f7f\u3048\u3070\u6c7a\u307e\u3063\u305f\u4e2d\u8eab\u306estyle\u8981\u7d20\u306e\u307f\u8a31\u53ef\u3067\u304d\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728Microsoft Edge\u304c\u672a\u5bfe\u5fdc\u3067\u3059\u3002'unsafe-hashed-attributes'\u3092\u4f7f\u3048\u3070style\u5c5e\u6027\u5024\u3082hash-source\u306b\u3088\u308a\u5236\u5fa1\u3067\u304d\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728\u307e\u3060\u4ed5\u69d8\u304c\u4e0d\u5b89\u5b9a\u3067\u3059\u3002\n\n\nimg-src\n\u753b\u50cf\u306e\u8a31\u53ef\u3002\n\n\nmedia-src\n\u97f3\u58f0\u3001\u52d5\u753b\u3001\u5b57\u5e55\u306e\u8a31\u53ef\u3002\n\n\nscript-src\n\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u8a31\u53ef\u3002'unsafe-inline' \u5468\u308a\u306e\u4e8b\u60c5\u306f\u3001\u4e0a\u8a18 style-src \u3068\u5927\u4f53\u540c\u3058\u3067\u3059\u3002'strict-dynamic' \u3092\u6307\u5b9a\u3059\u308c\u3070\u3001(\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u3069\u306b\u3088\u3063\u3066) \u5f8c\u304b\u3089\u633f\u5165\u3055\u308c\u305fscript\u8981\u7d20\u306f\u30d6\u30ed\u30c3\u30af\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728\u30d6\u30e9\u30a6\u30b6\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u9032\u3093\u3067\u3044\u307e\u305b\u3093\u3002\n\n\nconnect-src\n\u6b21\u306e\u3088\u3046\u306aAPI\u306b\u304a\u3051\u308b\u63a5\u7d9a\u5148\u306e\u8a31\u53ef\u3002\nXMLHttpRquest\nEventSource\nWebSocket\nWindow#fetch()\na\u8981\u7d20\u306eping\u5c5e\u6027\nNavigator#sendBeacon()\n\n\n\n\nframe-src\niframe\u8981\u7d20\u306a\u3069\u3067\u57cb\u3081\u8fbc\u3080\u30da\u30fc\u30b8\u306e\u8a31\u53ef\u300211\n\n\n\nfont-src\n\u30d5\u30a9\u30f3\u30c8\u306e\u8a31\u53ef\u3002\n\n\nobject-src\nSWF\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u5185\u5bb9\u306e\u8a31\u53ef\u3002\n\n\nplugin-types\n\u8a31\u53ef\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u306eMIME\u578b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002SWF\u30d5\u30a1\u30a4\u30eb\u306eMIME\u578b\u306fapplication/vnd.adobe.flash-movie\u3067\u3059\u304cAdobe Flash Player\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u540c\u30d5\u30a1\u30a4\u30eb\u3092\u57cb\u3081\u8fbc\u3080\u5834\u5408\u306f\u3068\u308a\u3042\u3048\u305a plugin-types application/vnd.adobe.flash-movie application/x-shockwave-flash \u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001object\u8981\u7d20\u306a\u3069\u306etype\u5c5e\u6027\u304c\u5fc5\u9808\u3068\u306a\u308a\u307e\u3059\u300212\n\n\n\ndisown-opener\n\u79fb\u52d5\u5148\u306eWindow#opener\u3092 null \u306b\u3057\u307e\u3059\u3002\u30d5\u30a3\u30c3\u30b7\u30f3\u30b0\u8a50\u6b3a\u306e\u624b\u6cd5\u3067\u3042\u308bTabnabbing\u5bfe\u7b56\u306b\u306a\u308a\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728\u307e\u3060\u4ed5\u69d8\u304c\u4e0d\u5b89\u5b9a\u3067\u3059\u3002a\u8981\u7d20\u306e\u5834\u5408\u306f rel=noopener \u3092\u4ed8\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u8a72\u5f53\u306e\u30ea\u30f3\u30af\u306b\u5bfe\u3057\u3066\u306f\u540c\u69d8\u306e\u52b9\u679c\u3092\u6301\u305f\u305b\u3089\u308c\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728Opera\u3068Google Chrome\u3057\u304b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001rel=\"noopener noreferrer\" \u3068\u4f75\u8a18\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u300213\n\n\n\nframe-ancestors\n\u73fe\u5728\u306e\u30da\u30fc\u30b8\u3092\u57cb\u3081\u8fbc\u3081\u308b\u5148\u7956\u30a6\u30a3\u30f3\u30c9\u30a6\u306eURL\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30af\u30ea\u30c3\u30af\u30b8\u30e3\u30c3\u30ad\u30f3\u30b0\u5bfe\u7b56\u306a\u3069\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002Internet Explorer \u306f CSP \u81ea\u4f53\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001x-frame-options\u5fdc\u7b54\u30d8\u30c3\u30c0\u3067\u4f3c\u305f\u3088\u3046\u306a\u5bfe\u7b56\u304c\u53ef\u80fd\u3067\u3059\u3002\u305f\u3068\u3048\u3070 frame-ancestors 'none' \u306b\u5bfe\u5fdc\u3059\u308b\u5024\u306f DENY \u3067\u3059\u3002\n\n\nreport-uri\nCSP\u9055\u53cd\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306e\u5831\u544a\u5148\u3002report-uri.io\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u304c\u4fbf\u5229\u3067\u3059\u3002\n\n\nupgrade-insecure-requests\n\n\u6df7\u5728\u30b3\u30f3\u30c6\u30f3\u30c4\u306b\u306a\u308a\u305d\u3046\u306a\u753b\u50cf\u306a\u3069\u306b\u5bfe\u3057\u3066\u3001\u81ea\u52d5\u7684\u306b\u30bb\u30ad\u30e5\u30a2\u306aURL\u304b\u3089\u53d6\u5f97\u3057\u307e\u3059\u3002\u305f\u3068\u3048\u3070 <link src=\"http://example.jp/lib.css\" rel=\"stylesheet\" /> \u306e\u3088\u3046\u306a\u8a18\u8ff0\u304c\u3042\u308c\u3070\u3001http://example.jp/lib.css \u3067\u306f\u306a\u304f https://example.jp/lib.css \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u30022016\u5e7411\u6708\u73fe\u5728\u3001Firefox\u3001Opera\u3001Google Chrome\u304c\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001Safari\u306e\u958b\u767a\u7248\u306b\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n\n\n\n\u4e00\u3064\u306eApache\u3067\u8907\u6570\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u6271\u3046\u00a0(\u4eee\u60f3\u30db\u30b9\u30c8)\n\n/etc/httpd/conf.modules.d/00-base.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n#LoadModule request_module modules/mod_request.so\n#LoadModule sed_module modules/mod_sed.so\n#LoadModule speling_module modules/mod_speling.so\nLoadModule macro_module modules/mod_macro.so\n# \u2191\u30d5\u30a1\u30a4\u30eb\u306e\u672b\u5c3e\u306b\u3053\u306e\u884c\u3092\u8ffd\u8a18\n\n\n/etc/httpd/conf/httpd.conf\u306b#LoadModule macro_module lib64/httpd/modules/mod_macro.so\u306e\u3088\u3046\u306a\u884c\u304c\u3042\u308c\u3070\u3001/etc/httpd/conf.modules.d/00-base.conf\u306b\u8ffd\u8a18\u3059\u308b\u4ee3\u308f\u308a\u306b\u305d\u3061\u3089\u306e\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n \n\n\n\nLoadModule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\nLoadModule macro_module modules/mod_macro.so\n\u6307\u5b9a\u3057\u305f\u52d5\u7684\u5171\u6709\u30e2\u30b8\u30e5\u30fc\u30eb\u3092Apache\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n\n\n/etc/httpd/conf.d/ssl.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n##\n## SSL Virtual Host Context\n##\n\n#<VirtualHost _default_:443>\n## \u2191\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##\n\n# General setup for the virtual host, inherited from global configuration\n#DocumentRoot \"/var/www/html\"\n#ServerName www.example.com:443\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n#   Per-Server Logging:\n#   The home of a custom SSL log file. Use this when you want a\n#   compact non-error SSL logfile on a virtual host basis.\nCustomLog logs/ssl_request_log \\\n          \"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \\\"%r\\\" %b\"\n\n# TLS\u306e\u57fa\u672c\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\n#Include /etc/letsencrypt/options-ssl-apache.conf\n## \u2191\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##\n\n#ServerName example.jp\n#ServerAlias sub1.example.jp sub2.example.jp\n## \u2191\u3053\u306e2\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##\nHeader always set Strict-Transport-Security \"max-age=31536000; includeSubDomains; preload\"\nSSLUseStapling on\nSSLCertificateChainFile /etc/letsencrypt/live/example.jp/chain.pem\n#</VirtualHost>                       \n## \u2191\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##           \n\n<IfModule mod_ssl.c>\nSSLStaplingCache shmcb:/var/run/apache2/stapling_cache(128000)\n</IfModule>\n\n\n\n/etc/httpd/conf.d/vhosts.conf\n# \u3059\u3079\u3066\u306e\u4eee\u60f3\u30db\u30b9\u30c8\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30d5\u30a1\u30a4\u30eb\nAliasMatch ^/((?:common|polyfill)/.+) /var/www/common/$1\n<DirectoryMatch ^/var/www/common/(?:common|polyfill)/.+$>\n    Require all granted\n</DirectoryMatch>\n\n# \u3059\u3079\u3066\u306e\u4eee\u60f3\u30db\u30b9\u30c8\u3067\u5171\u901a\u306e\u8a2d\u5b9a\n<Macro CommonHost $subdomain $directory>\n    ServerName $subdomainexample.jp\n    Include /etc/letsencrypt/options-ssl-apache.conf\n    DocumentRoot /var/www/$directory\n    <Directory /var/www/$directory>\n        Require all granted\n    </Directory>\n</Macro>\n\n<VirtualHost *:80>\n    # 80\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\n    ServerName default-virtual-host.invalid\n\n    # \u6b63\u898f\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306b\u4e00\u81f4\u3059\u308b\u306a\u3089\u3001https://%{HTTP_HOST}/ \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RewriteEngine on\n    RewriteCond %{HTTP_HOST} ^(?:sub1|sub2).example.jp$\n    RewriteRule .* https://%{HTTP_HOST}$0 [redirect=permanent,last]\n\n    # \u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001https://example.jp/ \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RewriteRule .* https://example.jp$0 [redirect=permanent,last]\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use CommonHost \" \" html\n    # \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c7\u30fc\u30bf\n    Alias /oekaki/data /var/www/share/html/uploader/data\n    <Directory /var/www/share/html/uploader/data>\n        Require all granted\n    </Directory>\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use CommonHost sub1. sub1\n    AliasMatch ^/((?:index|style)(?:\\.[^/]+)?)$ /var/www/share/sub1/core/$1\n    <Directory /var/www/share/sub1/core>\n        Require all granted\n    </Directory>\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use CommonHost sub2. sub2\n</VirtualHost>\n\n\n/etc/httpd/conf/httpd.conf\u306bIncludeOptional conf.d/*.conf\u306e\u3088\u3046\u306a\u884c\u304c\u7121\u3051\u308c\u3070\u3001\u8ffd\u8a18\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n/etc/httpd/conf/httpd.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n<IfModule log_config_module>\n    #\n    # The following directives define some format nicknames for use with\n    # a CustomLog directive (see below).\n    #\n    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\n    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\n\n    <IfModule logio_module>\n      # You need to enable mod_logio.c to use %I and %O\n      LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I %O\" combinedio\n    </IfModule>\n\n    #\n    # The location and format of the access logfile (Common Logfile Format).\n    # If you do not define any access logfiles within a <VirtualHost>\n    # container, they will be logged here.  Contrariwise, if you *do*\n    # define per-<VirtualHost> access logfiles, transactions will be\n    # logged therein and *not* in this file.\n    #\n    #CustomLog \"logs/access_log\" common\n\n    #\n    # If you prefer a logfile with access, agent, and referer information\n    # (Combined Logfile Format) you can use the following directive.\n    #\n    #CustomLog \"logs/access_log\" combined\n    ## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n    CustomLog \"logs/access_log\" \"%v %h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\"\n    ## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n</IfModule>\n\n                        ##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############\n\n\n \n\n\nAlias \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\u7b2c1\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305fURL\u3092\u3001\u7b2c2\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u3068\u7d50\u3073\u4ed8\u3051\u307e\u3059\u3002URL\u306fRedirect \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3068\u540c\u3058\u304f\u524d\u65b9\u4e00\u81f4\u3067\u3001Alias /foo /var/www/foo/bar\u3068\u8a18\u8ff0\u3059\u308b\u3068\u3001https://example.com/foo/test \u304c/var/www/foo/bar/test\u3068\u7d50\u3073\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002\n\nAliasMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\u7b2c1\u5f15\u6570\u306b\u6b63\u898f\u8868\u73fe\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u4ee5\u5916\u306f\u3001Alias \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3068\u540c\u3058\u3067\u3059\u3002\u6b63\u898f\u8868\u73fe\u5185\u306e\u5f8c\u65b9\u53c2\u7167\u306f\u3001\u7b2c3\u5f15\u6570\u3067$1\u306a\u3069\u3068\u6570\u5b57\u306b$\u3092\u524d\u7f6e\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002AliasMatch ^/((?:common|polyfill)/.*) /var/www/common/$1\u306fAlias /common/ /var/www/common/common/ Alias /polyfill/ /var/www/common/polyfill/\u3068\u540c\u3058\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002\n\n<DirectoryMatch> \u30bb\u30af\u30b7\u30e7\u30f3\n\n<DirectoryMatch ^/var/www/common/(?:common|polyfill)/.+$>\u301c</DirectoryMatch>\n\n\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u9069\u7528\u3059\u308b \u30d5\u30a1\u30a4\u30eb\u3092 \u6b63\u898f\u8868\u73fe\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002<Directory> \u30bb\u30af\u30b7\u30e7\u30f3\u3068\u540c\u3058\u304f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002<Directory> \u30bb\u30af\u30b7\u30e7\u30f3\u3088\u308a\u306f<FilesMatch> \u30bb\u30af\u30b7\u30e7\u30f3\u306b\u8fd1\u304f\u3001AllowOverride \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u4f7f\u3048\u305a\u3001RewriteBase \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3082\u30a8\u30e9\u30fc\u306f\u51fa\u307e\u305b\u3093\u304c\u6b63\u3057\u304f\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\u3069\u306eOS\u3067\u3042\u3063\u3066\u3082\u3001\u30d1\u30b9\u533a\u5206\u3092\u533a\u5207\u308b\u6587\u5b57\u306f\u5fc5\u305a/\u3067\u3042\u308b\u3082\u306e\u3068\u3057\u3066\u6b63\u898f\u8868\u73fe\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\nDocumentRoot \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u3001\u307e\u305f\u306f\u30b5\u30fc\u30d0\u30fc\u30eb\u30fc\u30c8\u304b\u3089\u306e\u76f8\u5bfe\u30d1\u30b9\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001ServerName example.jp\u3068DocumentRoot /var/www/html\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u305f\u5834\u5408\u3001https://example.jp/foo/bar.html \u306b\u30a2\u30af\u30bb\u30b9\u3055\u308c\u305f\u3068\u304d\u306b/var/www/html/foo/bar.html\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n<VirtualHost> \u30bb\u30af\u30b7\u30e7\u30f3\n\n<VirtualHost *:443>\u301c</VirtualHost>\n\n\u30b5\u30fc\u30d0\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u7d44\u307f\u5408\u308f\u305b\u3054\u3068\u306b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u9069\u7528\u3057\u307e\u3059\u3002IP\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u9593\u306b\u306f:\u3092\u631f\u307f\u3001\u305d\u306e\u7d44\u306f\u7b2c2\u5f15\u6570\u4ee5\u964d\u3067\u8907\u6570\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u3001\u3069\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u3082\u4e00\u81f4\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u7701\u7565\u3057\u305f\u30bb\u30af\u30b7\u30e7\u30f3\u3088\u308a\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u7701\u7565\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u65b9\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002\n\u5024\u306e\u540c\u3058<VirtualHost> \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8907\u6570\u4f5c\u6210\u3057\u3001\u305d\u308c\u305e\u308c\u306bServerName \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u30c9\u30e1\u30a4\u30f3\u3092\u8a2d\u5b9a\u3059\u308c\u3070\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306a\u3069\u3092\u30c9\u30e1\u30a4\u30f3\u3054\u3068\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059 (\u540d\u524d\u30d9\u30fc\u30b9\u306e\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8)\u3002\n\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306e\u30c9\u30e1\u30a4\u30f3\u304c\u3001\u3069\u306eServerName \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u8a2d\u5b9a\u3068\u3082\u4e00\u81f4\u3057\u306a\u3044\u5834\u5408\u306f\u3001IP\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u6761\u4ef6\u304c\u4e00\u81f4\u3059\u308b<VirtualHost> \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u4e2d\u3067\u6700\u521d\u306b\u8a18\u8ff0\u3057\u305f\u3082\u306e (\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u4eee\u60f3\u30db\u30b9\u30c8) \u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u4eee\u60f3\u30db\u30b9\u30c8\u306e\u9078\u629e\u3082\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u7701\u7565\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u65b9\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002\n\nCustomLog \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\"CustomLog logs/access_log\" \"%v %h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\"\n\u7b2c1\u5f15\u6570\u306b\u4fdd\u5b58\u5148\u3001\u7b2c2\u5f15\u6570\u306b\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u6700\u521d\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u305f CustomLog \"logs/access_log\" combined \u306f\u3001\u76f4\u524d\u306e LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined \u304b\u3089 CustomLog \"logs/access_log\" \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" \u3068\u5c55\u958b\u3067\u304d\u307e\u3059\u3002\u3064\u307e\u308a\u8a18\u8ff0\u4f8b\u3067\u66f8\u304d\u76f4\u3057\u305f\u66f8\u5f0f\u306f\u3001\u6700\u521d\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u305f\u66f8\u5f0f\u306e\u5148\u982d\u306b %v \u3092\u8ffd\u52a0\u3057\u305f\u3082\u306e\u3067\u3059\u3002%v \u306f\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002\n\n\n<Macro> \u30bb\u30af\u30b7\u30e7\u30f3\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\n\n<Macro CommonHost $subdomain $directory>\u301c</Macro>\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30de\u30af\u30ed\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30de\u30af\u30ed\u306f\u3001\u8907\u6570\u306e\u7b87\u6240\u3067\u540c\u3058\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u4f7f\u3044\u307e\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u304a\u3051\u308b\u95a2\u6570\u5ba3\u8a00\u306e\u3088\u3046\u306b\u3001\u7b2c1\u5f15\u6570\u306b\u30de\u30af\u30ed\u540d\u3001\u7b2c2\u5f15\u6570\u4ee5\u964d\u306b\u4eee\u5f15\u6570\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\u5f15\u6570\u306e\u6570\u306e\u9055\u3044\u306b\u3088\u308b\u591a\u91cd\u5b9a\u7fa9\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\n\nUse \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\n\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30de\u30af\u30ed\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u304a\u3051\u308b\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e\u3088\u3046\u306b\u3001\u7b2c1\u5f15\u6570\u306b\u30de\u30af\u30ed\u540d\u3001\u7b2c2\u5f15\u6570\u4ee5\u964d\u306b\u5b9f\u5f15\u6570\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002Use ExampleMacro \"\"\u306e\u3088\u3046\u306b\u3001\u5b9f\u5f15\u6570\u306b\u7a7a\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u8b66\u544a\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\n\u4f8b\u3048\u3070\u4e0a\u8a18\u30b3\u30fc\u30c9\u306e\u6700\u5f8c\u306e<VirtualHost> \u30bb\u30af\u30b7\u30e7\u30f3\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30de\u30af\u30ed\u306b\u3088\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7f6e\u63db\u3055\u308c\u307e\u3059\u3002\n\n\u7f6e\u63db\u524d\n<VirtualHost *:80>\n    Use CommonHost sub2. sub2\n</VirtualHost>\n\n\n\n\u7f6e\u63db\u5f8c\n<VirtualHost *:80>\n    ServerName sub2.example.jp\n    DocumentRoot /var/www/sub2\n    <Directory /var/www/sub2>\n        Require all granted\n    </Directory>\n</VirtualHost>\n\n\n\nURL\u306e\u672b\u5c3e\u306b\u62e1\u5f35\u5b50\u3092\u8868\u793a\u3057\u306a\u3044\n\u3053\u3053\u3067\u306fRewriteMap \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001mod_negotiation\u30e2\u30b8\u30e5\u30fc\u30eb\u3084RewriteCond \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u5229\u7528\u3057\u3066\u5b9f\u73fe\u3067\u304d\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\n/etc/httpd/conf.d/vhosts.conf\n# Virtual Hosts\n#\n# If you want to maintain multiple domains/hostnames on your\n# machine you can setup VirtualHost containers for them. Most configurations\n# use only name-based virtual hosts so the server doesn't need to worry about\n# IP addresses. This is indicated by the asterisks in the directives below.\n#\n# Please see the documentation at \n# <URL:https://httpd.apache.org/docs/2.4/vhosts/>\n# for further details before you try to setup virtual hosts.\n#\n# You may use the command line option '-S' to verify your virtual host\n# configuration.\n\n## \u2193\u3053\u3053\u304b\u3089\u8ffd\u8a18 ##\nRewriteEngine on\n\n# rewrite\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u95a2\u3059\u308b\u30ed\u30b0\u3092\u3059\u3079\u3066\u8a18\u9332\u3059\u308b\n#LogLevel alert rewrite:trace8\n\n# \u6a19\u6e96\u5165\u529b\u306e\u300c\u30d5\u30eb\u30d1\u30b9,\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u53d6\u308a\u9664\u3044\u305f\u30d1\u30b9\u300d\u304b\u3089\u62e1\u5f35\u5b50\u4ed8\u304d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u63a2\u3057\u3001\u6700\u521d\u306b\u898b\u3064\u304b\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u304b\u3089\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u53d6\u308a\u9664\u3044\u3066\u8fd4\u3059\nRewriteMap adjust-extension \"prg:/usr/bin/perl -e '$| = 1; while (<STDIN>) { chomp($_); my @params = split(/,/, $_); my $path; if ($#params == 1) { ($path) = glob(@params[0] . \\\\'.*\\\\'); if ($path) { $path = substr($path, length(@params[0]) - length(@params[1])); } } print(($path || \\\\'NULL\\\\') . \\\"\\\\\\\\x0A\\\"); }'\"\n\n<Directory /var/www>\n    # \u62e1\u5f35\u5b50\u7121\u3057\u306eURL\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n    RewriteOptions Inherit\n    RewriteRule ^([^.]+)(?<!/)$ ${adjust-extension:%{REQUEST_FILENAME},$1|$1}\n</Directory>\n\n<If \"unescape(%{THE_REQUEST}) =~ /\\\\..*\\\\s/\">\n    # \u8981\u6c42\u884c\u306e\u6700\u5f8c\u306e\u7a7a\u767d\u3088\u308a\u524d\u306b\u30d4\u30ea\u30aa\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u308c\u3070\n    # Favicon\u3001robots.txt\u3001phpMyAdmin\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u9664\u304f\u62e1\u5f35\u5b50\u4ed8\u304d\u306eURL\u3092\u62e1\u5f35\u5b50\u7121\u3057\u306eURL\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RedirectMatch permanent ^(/(?!(?:favicon\\.ico|robots\\.txt)$|phpMyAdmin/)[^.]+)\\. $1\n</If>\n## \u2191\u3053\u3053\u307e\u3067\u8ffd\u8a18 ##\n\n# \u3059\u3079\u3066\u306e\u4eee\u60f3\u30db\u30b9\u30c8\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30d5\u30a1\u30a4\u30eb\nAliasMatch ^/((?:common|polyfill)/.+) /var/www/common/$1\n<Directory /var/www/common>\n    RewriteBase /\n</Directory>\n## \u2191\u3053\u306e<Directory>\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0 ##\n<DirectoryMatch ^/var/www/common/(?:common|polyfill)/.+$>\n    Require all granted\n</DirectoryMatch>\n\n# \u3059\u3079\u3066\u306e\u4eee\u60f3\u30db\u30b9\u30c8\u3067\u5171\u901a\u306e\u8a2d\u5b9a\n<Macro CommonHost $subdomain $directory>\n    ServerName $subdomainexample.jp\n    Include /etc/letsencrypt/options-ssl-apache.conf\n    DocumentRoot /var/www/$directory\n    RewriteOptions Inherit\n    ## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n    <Directory /var/www/$directory>\n        Require all granted\n    </Directory>\n</Macro>\n\n<VirtualHost *:80>\n    # 80\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\n    ServerName default-virtual-host.invalid\n\n    # \u6b63\u898f\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306b\u4e00\u81f4\u3059\u308b\u306a\u3089\u3001https://%{HTTP_HOST}/ \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RewriteEngine on\n    RewriteCond %{HTTP_HOST} ^(?:sub1|sub2).example.jp$\n    RewriteRule .* https://%{HTTP_HOST}$0 [redirect=permanent,last]\n\n    # \u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001https://example.jp/ \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RewriteRule .* https://example.jp$0 [redirect=permanent,last]\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use \" \" html\n    # \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c7\u30fc\u30bf\n    Alias /oekaki/data /var/www/share/html/uploader/data\n    <Directory /var/www/share/html/uploader/data>\n        RewriteBase /uploader/data/\n        ## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n        Require all granted\n    </Directory>\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use sub1. sub1\n    AliasMatch ^/((?:index|style)(?:\\.[^/]+)?)$ /var/www/share/sub1/core/$1\n    <Directory /var/www/share/sub1/core>\n        RewriteBase /\n        ## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n        Require all granted\n    </Directory>\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use sub2. sub2\n</VirtualHost>\n\n\n/etc/httpd/conf/httpd.conf\u306b#LoadModule rewrite_module lib64/httpd/modules/mod_rewrite.so\u306e\u3088\u3046\u306a\u884c\u304c\u3042\u308c\u3070\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n \n\n\n\nRewriteEngine \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nRewriteEngine on\nrewrite\u30a8\u30f3\u30b8\u30f3\u306e\u6709\u52b9\u3068\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\u521d\u671f\u8a2d\u5b9a\u3067\u306f\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u7121\u52b9\u306e\u5834\u5408\u3001RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306a\u3069\u304c\u7121\u8996\u3055\u308c\u308b\u3060\u3051\u3067\u3001\u30a8\u30e9\u30fc\u306f\u767a\u751f\u3057\u307e\u305b\u3093\u3002\n\n\nRewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nRewriteRule ^([^.]+)(?<!/)$ ${adjust-extension:%{REQUEST_FILENAME},$1|$1}\n\u7b2c1\u5f15\u6570\u306e\u6b63\u898f\u8868\u73fe\u306b\u4e00\u81f4\u3057\u305f\u30d1\u30b9\u3092\u7b2c2\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\u4e00\u5ea6\u3067\u3082\u7f6e\u304d\u63db\u3048\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u3068\u3001\u5168\u3066\u306eRewriteRule\u304c\u51e6\u7406\u3055\u308c\u305f\u5f8c\u3001\u5185\u90e8\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306b\u3088\u3063\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\u304c\u3084\u308a\u76f4\u3055\u308c\u307e\u3059\u3002%{REQUEST_URL}\u7b49\u3082URL\u66f8\u304d\u63db\u3048\u5f8c\u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u7121\u9650\u30eb\u30fc\u30d7\u304c\u8d77\u3053\u3089\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nrewrite\u306f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u3067\u306f\u306a\u304fURL\u3092\u66f8\u304d\u63db\u3048\u308b\u51e6\u7406\u306a\u306e\u3067\u3001Alias \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u3088\u3046\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u5916\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u5f15\u6570\u306b\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3092\u542b\u3080<Directory> \u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u671f\u5f85\u901a\u308a\u306b\u52d5\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059 (per-dir\u306b\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u304c\u542b\u307e\u308c\u305f\u307e\u307erewrite\u51e6\u7406\u304c\u884c\u308f\u308c\u308b\u305f\u3081)\u3002\n\n\u4e0a\u8a18\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u3092\u3057\u3066 https://example.jp/file \u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306erewrite\u51e6\u7406\u3092\u3001\u4f8b\u3068\u3057\u3066\u793a\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001ReqriteRule\u3092\u8a18\u8ff0\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9\u7d76\u5bfeURL\uff08per-dir\uff09\u306f/var/www/\u3067\u3059\u3002\n\n\n\n\n\u51e6\u7406\u524d\n\u51e6\u7406\u5f8c\n\u51e6\u7406\u5185\u5bb9\n\n\n\n\n1\n/var/www/html/file\nhtml/file\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u304b\u3089per-dir\u3092\u53d6\u308a\u9664\u304f\n\n\n2\nhtml/file\nhtml/file.xhtml\n\n^([^.]+)(?<!/)$\u306b\u4e00\u81f4\u3059\u308b\u306e\u3067\u3001${adjust-extension:%{REQUEST_FILENAME},$1|$1}\u306b\u66f8\u304d\u63db\u3048\u308b\n\n\n3\nhtml/file.xhtml\n/var/www/html/file.xhtml\n\nper-dir\u3092\u524d\u7f6e\u3059\u308b\n\n\n4\n/var/www/html/file.xhtml\n/file.xhtml\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3092\u53d6\u308a\u9664\u304d\u3001\u5185\u90e8\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\n\n5\n/var/www/html/file.xhtml\nhtml/file.xhtml\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u304b\u3089per-dir\u3092\u53d6\u308a\u9664\u304f\n\n\n6\nhtml/file.xhtml\nhtml/file.xhtml\n\n^([^.]+)(?<!/)$\u306b\u4e00\u81f4\u3057\u306a\u3044\u306e\u3067\u3001\u4f55\u3082\u3057\u306a\u3044\n\n\n7\nhtml/file.xhtml\n/var/www/html/file.xhtml\n\u66f8\u304d\u63db\u3048\u304c\u884c\u308f\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u3092\u8fd4\u3057\u3066rewrite\u51e6\u7406\u7d42\u4e86\n\n\n\n \n\n\n\nRewriteBase \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nRewriteBase /\n\nAlias \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u3088\u3063\u3066URL\u304c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u5916\u306e\u30d1\u30b9\u3068\u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\u3068\u3001\u305d\u306e\u307e\u307e\u3067\u306f\u5185\u90e8\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u524d\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3092\u53d6\u308a\u9664\u304f\u51e6\u7406\u304c\u884c\u3048\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306e\u7d76\u5bfe\u30d1\u30b9\u3092\u53d6\u308a\u9664\u304f\u4ee3\u308f\u308a\u306b\u3001per-dir\u3092\u7b2c1\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u57fa\u5e95URL\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u300214\n\n\n\u4e0a\u8a18\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u3092\u3057\u3066 https://example.jp/polyfill/main \u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306erewrite\u51e6\u7406\u3092\u3001\u4f8b\u3068\u3057\u3066\u793a\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001per-dir\u306f/var/www/common\u3001\u57fa\u5e95URL\u306f/\u3067\u3059\u3002\n\n\n\n\n\u51e6\u7406\u524d\n\u51e6\u7406\u5f8c\n\u51e6\u7406\u5185\u5bb9\n\n\n\n\n1\n/polyfill/main\n/var/www/common/polyfill/main\n\nAliasMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u3088\u3063\u3066\u3001\u7d76\u5bfeURL\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u7d76\u5bfe\u30d1\u30b9\u76f8\u5bfeURL\u304c\u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\n\n\n2\n/var/www/common/polyfill/main\npolyfill/main\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u304b\u3089per-dir\u3092\u53d6\u308a\u9664\u304f\n\n\n3\npolyfill/main\npolyfill/main.js\n\n^([^.]+)(?<!/)$\u306b\u4e00\u81f4\u3059\u308b\u306e\u3067\u3001${adjust-extension:%{REQUEST_FILENAME},$1|$1}\u306b\u66f8\u304d\u63db\u3048\u308b\n\n\n4\npolyfill/main.js\n/var/www/common/polyfill/main.js\n\nper-dir\u3092\u524d\u7f6e\u3059\u308b\n\n\n5\n/var/www/common/polyfill/main.js\n/polyfill/main.js\n\nper-dir\u3092\u57fa\u5e95URL\u306b\u7f6e\u304d\u63db\u3048\u3001\u5185\u90e8\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\n\n6\n/polyfill/main.js\n/var/www/common/polyfill/main.js\n\nAliasMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u3088\u3063\u3066\u3001\u7d76\u5bfeURL\u3068\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u304c\u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\n\n\n7\n/var/www/common/polyfill/main.js\npolyfill/main.js\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u304b\u3089per-dir\u3092\u53d6\u308a\u9664\u304f\n\n\n8\npolyfill/main.js\npolyfill/main.js\n\n^([^.]+)(?<!/)$\u306b\u4e00\u81f4\u3057\u306a\u3044\u306e\u3067\u3001\u4f55\u3082\u3057\u306a\u3044\n\n\n9\npolyfill/main.js\n/var/www/common/polyfill/main.js\n\u66f8\u304d\u63db\u3048\u304c\u884c\u308f\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL\u3092\u8fd4\u3057\u3066rewrite\u51e6\u7406\u7d42\u4e86\n\n\n\n \n\n\n\nRewriteCond \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\n\nRewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u9069\u7528\u3059\u308b\u6761\u4ef6\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002RewriteRule1\u3064\u306b\u4ed8\u304d\u3001\u8907\u6570\u306eRewriteCond\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002RewriteCond\u306f\u5bfe\u8c61\u306eRewriteRule\u3088\u308a\u3082\u524d\u306b\u8a18\u8ff0\u3057\u307e\u3059\u304c\u3001RewriteCond\u3088\u308a\u3082\u5148\u306bRewriteRule\u306e\u6761\u4ef6\u304c\u30c1\u30a7\u30c3\u30af\u3055\u308c\u307e\u3059\u3002\n\n\nRewriteMap \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nRewriteMap adjust-extension \"prg:/usr/bin/perl -e '$| = 1; while (<STDIN>) { chomp($_); my @params = split(/,/, $_); my $path; if ($#params == 1) { ($path) = glob(@params[0] . \\\\\\\\'.*\\\\\\\\'); if ($path) { $path = substr($path, length(@params[0]) - length(@params[1])); } } print(($path || \\\\\\\\'NULL\\\\\\\\') . \\\\\"\\\\\\\\\\\\\\\\x0A\\\\\"); }'\"\n\u7b2c1\u5f15\u6570\u306b\u30de\u30c3\u30d7\u540d (\u95a2\u6570\u540d)\u3001\u7b2c2\u5f15\u6570\u306b\u30de\u30c3\u30d7\u30bf\u30a4\u30d7\u3068\u30de\u30c3\u30d7\u30bd\u30fc\u30b9\u3092:\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u3001RewriteCond \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3068RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u5229\u7528\u3067\u304d\u308b\u30de\u30c3\u30d4\u30f3\u30b0\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002RewriteMap \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u3001\u30b5\u30fc\u30d0\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8 (\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067<Directory> \u30bb\u30af\u30b7\u30e7\u30f3\u3084<VirtualHost> \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u5916) \u304b\u4eee\u60f3\u30db\u30b9\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8 (<VirtualHost> \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u4e2d\u3067<Directory> \u30bb\u30af\u30b7\u30e7\u30f3\u306a\u3069\u306e\u5916) \u306b\u3057\u304b\u8a18\u8ff0\u3067\u304d\u307e\u305b\u3093\u3002RewriteMap \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u8a18\u8ff0\u3057\u305f\u5834\u6240\u3067rewrite\u30a8\u30f3\u30b8\u30f3\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u3001\u95a2\u6570\u306f\u5b9a\u7fa9\u3055\u308c\u307e\u305b\u3093\u3002${\u30de\u30c3\u30d7\u540d:\u5f15\u6570|\u30c7\u30d5\u30a9\u30eb\u30c8\u5024}\u306e\u3088\u3046\u306b\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002${\u95a2\u6570\u540d:\u5f15\u6570}\u306e\u3088\u3046\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u66f8\u304b\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u5f15\u6570\u306b\u5bfe\u5fdc\u3059\u308b\u623b\u308a\u5024\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408 (map lookup FAILED) \u306f\u7a7a\u6587\u5b57\u5217\u304c\u8fd4\u308a\u307e\u3059\u3002\n\n\u30de\u30c3\u30d7\u30bf\u30a4\u30d7\u304cprg\u306e\u5834\u5408\u3001\u30de\u30c3\u30d7\u30bd\u30fc\u30b9\u306f\u6a19\u6e96\u5165\u529b\u304b\u3089\u5f15\u6570\u3092\u53d7\u3051\u53d6\u308a\u6a19\u6e96\u51fa\u529b\u3078\u623b\u308a\u5024\u3092\u66f8\u304d\u3060\u3059\u30d7\u30ed\u30b0\u30e9\u30e0\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9\u3067\u3059\u3002User \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u8a2d\u5b9a\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u304c\u3001\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c\u6a29\u9650\u3092\u6301\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306fApache\u8d77\u52d5\u6642\u306b\u4e00\u5ea6\u3060\u3051\u8d77\u52d5\u3055\u308c\u308b\u305f\u3081\u3001\u6a19\u6e96\u5165\u529b\u3092\u53d7\u3051\u53d6\u308b\u307e\u3067\u51e6\u7406\u3092\u30d6\u30ed\u30c3\u30af\u3057\u3001\u623b\u308a\u5024\u3092\u66f8\u304d\u3060\u3057\u305f\u5f8c\u306f\u307e\u305f\u6a19\u6e96\u5165\u529b\u3092\u53d7\u3051\u53d6\u308b\u307e\u3067\u51e6\u7406\u3092\u30d6\u30ed\u30c3\u30af\u3059\u308b\u7121\u9650\u30eb\u30fc\u30d7\u69cb\u9020\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u5165\u51fa\u529b\u30d0\u30c3\u30d5\u30a1\u306e\u7121\u52b9\u5316\u3082\u5fc5\u8981\u3067\u3059\u3002\u623b\u308a\u5024\u306e\u672b\u5c3e\u306b\u6539\u884c (LF) \u30921\u3064\u3060\u3051\u7f6e\u304d\u307e\u3059\u3002\u6587\u5b57\u5217NULL (+\u6539\u884c) \u3092\u8fd4\u305b\u3070\u3001map lookup FAILED\u3092\u793a\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u671f\u5f85\u901a\u308a\u306e\u52d5\u4f5c\u3092\u3057\u306a\u3044\u5834\u5408\u3001SELinux\u306b\u3088\u3063\u3066\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3082\u3042\u308b\u306e\u3067\u3001SELinux\u306e\u30ed\u30b0\u306e\u78ba\u8a8d\u3082\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306f\u7121\u8996\u3055\u308c\u3001Apache\u306e\u30ed\u30b0\u306b\u306f\u6b8b\u308a\u307e\u305b\u3093\u3002\n\u7b2c2\u5f15\u6570\u5168\u4f53\u3092\"\u3067\u56f2\u307f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u30d1\u30b9\u306e\u5f8c\u306b\u7a7a\u767d\u533a\u5207\u308a\u3067\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u3092\u66f8\u3044\u305f\u5834\u5408\u3001\u5404\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u306f\u6587\u5b57\u5217\u3068\u3057\u3066\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u307e\u3059\u3002\u30b7\u30f3\u30b0\u30eb\u30af\u30a9\u30fc\u30c8\u3067\u56f2\u3080\u3053\u3068\u3067\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u306b\u7a7a\u767d\u3092\u542b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u306e\u4e2d\u3067' \" \\\\\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308c\\\\\\\\' \\\\\" \\\\\\\\\\\\\\\\ \u3068\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u307e\u3059\u3002\n\n\nRewriteOptions \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3000(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)\nRewriteOptions Inherit\nrewrite\u30a8\u30f3\u30b8\u30f3\u306e\u8ffd\u52a0\u8a2d\u5b9a\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u8a2d\u5b9a\u6709\u52b9\u5316\u306f\u3001\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306a\u3069\u3092\u8a18\u8ff0\u3057\u305f\u5834\u5408\u306b\u3082\u5f15\u304d\u7d99\u304c\u308c\u307e\u3059\u3002Inherit\u306f\u3001\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30eb\u30fc\u30eb\u306e\u5f8c\u306b\u3001\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30eb\u30fc\u30eb\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3002Inherit\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4eee\u60f3\u30db\u30b9\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u6709\u52b9\u306b\u3057\u305f\u5834\u5408\u306f\u610f\u5473\u304c\u5909\u308f\u308a\u3001\u30e1\u30a4\u30f3\u30b5\u30fc\u30d0\u8a2d\u5b9a (<VirtualHost> \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u5916) \u306b\u8a18\u8ff0\u3057\u305f\u30eb\u30fc\u30eb\u3092\u7d99\u627f\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u306a\u308a\u307e\u3059\u300215\n\n\nLogLevel \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\nLogLevel alert rewrite:trace8\n\u30a8\u30e9\u30fc\u30ed\u30b0\u306b\u8a18\u9332\u3059\u308b\u30ed\u30b0\u306e\u7a2e\u985e\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u30ec\u30d9\u30eb\u3092:\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u4ee5\u964d\u3067\u8907\u6570\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u7701\u7565\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u306e\u5834\u5408\u3059\u3079\u3066\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3064\u3044\u3066\u540c\u3058\u30ec\u30d9\u30eb\u3092\u6307\u5b9a\u3057\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u65e2\u5b9a\u306f LogLevel warn \u3067\u3059\u3002\n\n\n\n\u958b\u767a\u74b0\u5883\u5411\u3051\u306e\u8a2d\u5b9a\n\n/etc/httpd/conf/httpd.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n#\n# EnableMMAP and EnableSendfile: On systems that support it, \n# memory-mapping or the sendfile syscall may be used to deliver\n# files.  This usually improves server performance, but must\n# be turned off when serving from networked-mounted \n# filesystems or if support for these functions is otherwise\n# broken on your system.\n# Defaults if commented: EnableMMAP On, EnableSendfile Off\n#\n#EnableMMAP off\n#EnableSendfile on\n## \u2191\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n# \u958b\u767a\u74b0\u5883\n\n# 403\u3068404\u3092\u533a\u5225\u3059\u308b\nErrorDocument 403 /forbidden\n\n# \u958b\u767a\u74b0\u5883\u7528\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\nHeader always set link \"</common/development>; rel=stylesheet\"\n\n# Favicon\u3092\u5909\u3048\u308b\nAlias /favicon.ico /var/www/html/favicon-development.ico\n\n# \u958b\u767a\u74b0\u5883\u3078\u306eCSRF\u3092\u9632\u6b62\u3059\u308b\n<If \"-n %{HTTP_REFERER} && !(%{HTTP_REFERER} -strmatch %{REQUEST_SCHEME} . '://' . %{SERVER_NAME} . '/*')\">\n    # \u30ea\u30d5\u30a1\u30e9\u304c\u5b58\u5728\u3057\u3001\u304b\u3064\u30ea\u30d5\u30a1\u30e9\u306e\u30db\u30b9\u30c8\u540d\u304c\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u3068\u4e00\u81f4\u3057\u306a\u3051\u308c\u3070\n    Require all denied\n</If>\n\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u30ea\u30d5\u30a1\u30e9\u3092\u5909\u66f4\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u30db\u30ef\u30a4\u30c8\u30ea\u30b9\u30c8\u306b\u958b\u767a\u74b0\u5883\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n \n\n\nEnableSendfile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\u300csendfile\u300d\u3068\u3044\u3046\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059\u6642\u306e\u6027\u80fd\u3092\u5411\u4e0a\u3057\u3088\u3046\u3068\u3059\u308b\u6a5f\u80fd\u306e\u6709\u52b9\u3068\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002Apache 2.4\u306e\u65e2\u5b9a\u306fEnableSendfile Off\u3067\u3059\u304c\u3001CentOS7\u6a19\u6e96\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306bEnableSendfile On\u304c\u8a18\u8ff0\u3055\u308c\u3066\u304a\u308a\u6709\u52b9\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002 VirtualBox\u306a\u3069\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u304c\u53cd\u6620\u3055\u308c\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u306e\u3088\u3046\u306a\u3068\u304d\u306f\u3001EnableSendfile On\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3053\u306e\u6a5f\u80fd\u3092\u7121\u52b9\u5316\u3057\u307e\u3059\u300216\n\n\n\n\n/var/www/common/common/development.css\n/*====================================\n    \u8868\u793a\u9818\u57df\u306e\u53f3\u7aef\u306b\u7e26\u66f8\u304d\u3067\u6587\u5b57\u3092\u8868\u793a\u3059\u308b\n*/\nbody::after {\n    font-size: 10vmin;\n    width: 1em;\n    line-height: 2.3;\n    content: \"\u958b\u767a\u74b0\u5883\";\n    display: block;\n    color: #FFFFFF;\n    font-weight: bold;\n    background: rgba(127, 127, 127, 0.7);\n    border: solid #FFFFFF 0.2em;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    opacity: 0.5;\n}\n\n\nlink\u5fdc\u7b54\u30d8\u30c3\u30c0\u306b\u3088\u308bCSS\u306e\u8a2d\u5b9a\u306f\u3001\u524d\u8ff0\u306e\u3088\u3046\u306bFirefox\u3067\u3057\u304b\u4f7f\u3048\u307e\u305b\u3093\u3002\u958b\u767a\u74b0\u5883\u3092\u8868\u3059CSS\u306e\u8a2d\u5b9a\u306f\u30e6\u30fc\u30b6\u30fc\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u3092\u4f7f\u3063\u3066\u3082\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u53c2\u8003\u30da\u30fc\u30b8\u30fb\u811a\u6ce8\n\n\n\n\n\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8 | \u8a2d\u5b9a | nano \u2014 ArchWiki\u00a0\u21a9\n\n\n37.nano\u30a8\u30c7\u30a3\u30bf\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3001nanorc\u3092\u3044\u3058\u308b \u2014 Linux\u30b2\u30ea\u30e9\u6226\u8a18\u00a0\u21a9\n\n\n\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6 | \u5b9f\u88c5 | Transport Layer Security \u2014 Wikipedia\u00a0\u21a9\n\n\nKazz\u3055\u3093\u306e\u30c4\u30a4\u30fc\u30c8: \u201cNetMarketShare\u306b\u3088\u308c\u30702015\u5e7412\u6708\u6642\u70b9\u3067\u306eVista\u306e\u30b7\u30a7\u30a2\u306f1.62% \u540c\u3058\u3088\u3046\u306b\u8996\u899a\u969c\u788d\u8005\u306eVista\u5229\u7528\u8005\u304c\u6e1b\u3063\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3057\u3066\u3082\u3001\u4ecaIE9\u3092\u5207\u308a\u6368\u3066\u308b\u3068\u8996\u899a\u969c\u5bb3\u8005100\u4eba\u306e\u3046\u30612\u4eba\u304f\u3089\u3044\u306b\u5bfe\u3057\u3066\u5168\u304f\u30a2\u30af\u30bb\u30b9\u4e0d\u80fd\u306b\u3055\u305b\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u201d\u00a0\u21a9\n\n\nRed Hat Customer Portal \u25b8 Support \u25b8 Product \u25b8 Documentation \u25b8 Red Hat Enterprise Linux \u25b8 7 \u25b8 7.3 Release Notes \u25b8 Chapter\u00a04.\u00a0General Updates \u25b8 New systemd option: RandomizedDelaySec\u00a0\u21a9\n\n\nNetFront Browser NX 1 (\u30cb\u30f3\u30c6\u30f3\u30c9\u30fc3DS\u7528\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u30fc) \u306f\u3001XHTML\u6587\u66f8\u306b\u304a\u3044\u3066\u3001\u5c5e\u6027\u5024\u304c\u7a7a\u306e\u5c5e\u6027\u3092\u524a\u9664\u3057\u3066\u3057\u307e\u3046\u4e0d\u5177\u5408\u304c\u3042\u308b\u3002\u00a0\u21a9\n\n\n\u6761\u4ef6\u4ed8\u304d\u30b3\u30e1\u30f3\u30c8\u306fHTML\u6587\u66f8\u3092 Internet Explorer 9 \u3067\u958b\u3044\u305f\u5834\u5408\u306e\u307f\u6a5f\u80fd\u3059\u308b\u3002\n\nasamuzaK.jp : IE9\u3068\u6761\u4ef6\u30b3\u30e1\u30f3\u30c8\u00a0\u21a9\n\n\nInternet Explorer 9 \u306f Windows Vista \u3067\u3057\u304b\u5229\u7528\u3067\u304d\u306a\u3044\u304c\u3001Windows Vista \u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306f2017\u5e744\u670811\u65e5\u3067\u7d42\u4e86\u3059\u308b\u3002\n\n\nInternet Explorer\u30b5\u30dd\u30fc\u30c8\u30dd\u30ea\u30b7\u30fc\u5909\u66f4\u306e\u91cd\u8981\u306a\u304a\u77e5\u3089\u305b \u2014 Microsoft\nWindows \u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u88fd\u54c1\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\n\u00a0\u21a9\n\n\nJSON\u30d5\u30a1\u30a4\u30eb\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u76f4\u63a5\u958b\u3044\u305f\u3068\u304d\u3001Firefox\u3001Opera\u3001Google Chrome\u3067\u6587\u5b57\u5316\u3051\u3059\u308bJSON\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d (2016\u5e7410\u6708\u301c11\u6708\u73fe\u5728)\u3002\u00a0\u21a9\n\n\nhttps\u306a\u3069\u306e\u300c\u30b9\u30ad\u30fc\u30e0\u300d\u3001example.com\u306a\u3069\u306e\u300c\u30db\u30b9\u30c8\u300d\u3001\u300c\u30dd\u30fc\u30c8\u756a\u53f7\u300d\u306e\u7d44\u307f\u5408\u308f\u305b\u3002\u00a0\u21a9\n\n\nframe-src \u306f\u3001CSP2\u3067connect-src\u306b\u7f6e\u304d\u63db\u3048\u308b\u5f62\u3067\u975e\u63a8\u5968\u306b\u3055\u308c\u305f\u304c\u3001CSP3\u3067connect-src\u304cframe-src worker-src\u306b\u5206\u5272\u3055\u308c\u308b\u5f62\u3067\u975e\u63a8\u5968\u3067\u306f\u306a\u304f\u306a\u3063\u305f\u3002\u00a0\u21a9\n\n\nplugin-types \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3067\u3082\u3001Opera\u3001Google Chrome\u306ftype\u5c5e\u6027\u304c\u306a\u3044object\u8981\u7d20\u306b child-src \u3092\u9069\u7528\u3057\u3088\u3046\u3068\u3059\u308b\u305f\u3081\u3001\u3069\u3061\u3089\u306b\u3057\u3066\u3082\u5fc5\u9808\u3067\u3042\u308b\u3002\u00a0\u21a9\n\n\n\u30ea\u30f3\u30af\u306e\u3078\u306e rel=noopener \u4ed8\u4e0e\u306b\u3088\u308b Tabnabbing \u5bfe\u7b56 | blog.jxck.io\u00a0\u21a9\n\n\n\u3010Apache 2.4\u3011\u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u3067\u5171\u901a\u306eRewriteRule\u3068Alias\u3092\u8a2d\u5b9a\u3057\u305f\u3044 - QA@IT\u00a0\u21a9\n\n\n\u3010Apache 2.4\u3011\u30b5\u30fc\u30d0\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u305fRewriteRule\u304c\u52d5\u304b\u306a\u3044 - QA@IT\u00a0\u21a9\n\n\nVagrant\u3084VirtualBox\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u6a5f\u80fd\u3067\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044 \u2014 SEEDS Creator\u2019s Blog\u00a0\u21a9\n\n\n\n\u5c0e\u5165\n====\n[CentOS 7]\u306e\u516c\u5f0f[Yum]\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b[Apache]\u3067\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306eOS\u3067\u306f\u3001[\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u5834\u6240] _(\u82f1\u8a9e)_ \u3084[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8]\u306e\u521d\u671f\u5024\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308b\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n\n[CentOS 7]: https://ja.wikipedia.org/wiki/CentOS \"CentOS\uff08\u30bb\u30f3\u30c8\u30aa\u30fc\u30a8\u30b9\uff09\u306f\u3001Red Hat Enterprise Linux\uff08RHEL\uff09\u3068\u306e\u5b8c\u5168\u4e92\u63db\u3092\u76ee\u6307\u3057\u305f\u30d5\u30ea\u30fc\u306eLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u3042\u308b\u3002\"\n[Yum]: https://ja.wikipedia.org/wiki/Yellowdog_Updater_Modified \"Yellowdog Updater Modified (Yum \u30e4\u30e0)\u306fLinux\u306eRPM Package Manager\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u7ba1\u7406\u3059\u308b\u30e1\u30bf\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3067\u3042\u308b\u3002\"\n[Apache]: https://ja.wikipedia.org/wiki/Apache_HTTP_Server \"Apache HTTP Server\uff08\u30a2\u30d1\u30c3\u30c1 \u30a8\u30a4\u30c1\u30c6\u30a3\u30fc\u30c6\u30a3\u30fc\u30d4\u30fc \u30b5\u30fc\u30d0\uff09\u306f\u3001\u4e16\u754c\u4e2d\u3067\u3082\u3063\u3068\u3082\u591a\u304f\u4f7f\u308f\u308c\u3066\u3044\u308bWeb\u30b5\u30fc\u30d0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u3042\u308a\u3001\u5927\u898f\u6a21\u306a\u5546\u7528\u30b5\u30a4\u30c8\u304b\u3089\u81ea\u5b85\u30b5\u30fc\u30d0\u307e\u3067\u5e45\u5e83\u304f\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u3002\u5358\u306bApache\u3068\u3082\u79f0\u3055\u308c\u3066\u3044\u308b\u3002\u958b\u767a\u306f\u3001Apache\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u8ca1\u56e3\u306eApache HTTP\u30b5\u30fc\u30d0\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u884c\u308f\u308c\u3066\u3044\u308b\u3002Apache License\u306e\u4e0b\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u516c\u958b\u304a\u3088\u3073\u914d\u5e03\u3055\u308c\u3066\u304a\u308a\u3001\u4ee3\u8868\u7684\u306a\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u4e00\u3064\u3067\u3042\u308b\u3002\"\n[\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u5834\u6240]: https://httpd.apache.org/docs/current/getting-started.html#configuration \"Getting Started \u2014 Apache HTTP Server Version 2.4\"\n[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8]: https://httpd.apache.org/docs/current/urlmapping.html#documentroot \"URL \u304b\u3089\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u4f4d\u7f6e\u3078\u306e\u30de\u30c3\u30d7 \u2014 Apache HTTP \u30b5\u30fc\u30d0 \u30d0\u30fc\u30b8\u30e7\u30f3 2.4\"\n\nApache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb (*.conf) \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\n====================================================\nCentOS\u6a19\u6e96\u306eYum\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u306e\u3046\u3061[Vim]\u30fb[Emacs]\u4ee5\u5916\u306e\u30a8\u30c7\u30a3\u30bf\u306f\u3001\u521d\u671f\u72b6\u614b\u3067`.conf`\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u304c\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u306a\u3069\u3092\u884c\u3044\u3001\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\n[Vim]: https://ja.wikipedia.org/wiki/Vim \"Vim\uff08\u30f4\u30a3\u30e0\u307e\u305f\u306f\u30f4\u30a3\u30a2\u30a4\u30a8\u30e0\uff09\u306f\u3001vi \u304b\u3089\u6d3e\u751f\u3057\u3001\u767a\u5c55\u3057\u305f\u9ad8\u6a5f\u80fd\u306a\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u3042\u308b\u3002\"\n[Emacs]: https://ja.wikipedia.org/wiki/Emacs \"Emacs\uff08\u30a4\u30fc\u30de\u30c3\u30af\u30b9\uff09\u3068\u306f\u9ad8\u6a5f\u80fd\u3067\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u6027\u306e\u9ad8\u3044\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u3042\u308b\u3002\u30b9\u30af\u30ea\u30fc\u30f3\u30fb\u30a8\u30c7\u30a3\u30bf\u3068\u3057\u3066\u306e\u4eba\u6c17\u304c\u9ad8\u304f\u3001\u7279\u306bUNIX\u306e\u30d7\u30ed\u30b0\u30e9\u30de\u3092\u4e2d\u5fc3\u3068\u3057\u305f\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u6280\u8853\u8005\u306b\u611b\u7528\u8005\u304c\u591a\u3044\u3002\"\n\n[gedit]\n-------\n[Bug 612368 \u2013 Language definition for Apache configuration files](https://bugzilla.gnome.org/show_bug.cgi?id=612368#attachment_table)\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n```sh\n# Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7528\u306e\u8a00\u8a9e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nwget https://bug612368.bugzilla-attachments.gnome.org/attachment.cgi?id=195525 --output-document=apache.lang\n# \u8a00\u8a9e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4e2d\u306eclass\u5c5e\u6027\u3001class-disabled\u5c5e\u6027\u3092\u524a\u9664\u3002\u300c*.conf\u300d\u3092\u30cf\u30a4\u30e9\u30a4\u30c8\u3059\u308b\u3088\u3046\u306b\nsed --in-place --regexp-extended --expression 's/\\sclass(-disabled)?=\"[^\"]+\"//g' --expression 's/httpd\\.conf;httpd2\\.conf;apache\\.conf;apache2\\.conf/*.conf/' apache.lang\n# GtkSourceView\u306e\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\nsudo mv apache.lang /usr/share/gtksourceview-*/language-specs/\n```\n\n[gedit]: https://ja.wikipedia.org/wiki/Gedit \"gedit\uff08\u30b8\u30fc\u30a8\u30c7\u30a3\u30c3\u30c8\uff09\u306f\u3001GNOME\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u6a19\u6e96\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3002\u901a\u5e38\u306e\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3068\u3057\u3066\u306e\u6a5f\u80fd\u306b\u52a0\u3048\u3001\u8907\u6570\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u306b\u5bfe\u5fdc\u3057\u305f\u30cf\u30a4\u30e9\u30a4\u30c8\u8868\u793a\u3001\u30b3\u30fc\u30c9\u30b9\u30cb\u30da\u30c3\u30c8\u306e\u8ffd\u52a0\u3068\u3044\u3063\u305f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u767a\u8005\u5411\u3051\u306e\u6a5f\u80fd\u3082\u6709\u3057\u3066\u3044\u308b\u3002\u30ad\u30fc\u64cd\u4f5c\u306fWindows\u7cfb\u3067Windows\u306b\u6163\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u306b\u3082\u4f7f\u3044\u3084\u3059\u3044\u3002\"\n\n[nano]\n------\n[Arch Linux]\u306e[nano-syntax-highlighting-git]\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u307e\u3059\u3002[^nano] [^nanorc]\n\n```sh\n# INI\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u884c\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nwget https://raw.githubusercontent.com/scopatz/nanorc/master/apacheconf.nanorc\n# .conf \u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u6271\u3046\u3088\u3046\u306b\u3059\u308b\nsed --in-place 's/httpd\\\\\\.conf/.conf$/' apacheconf.nanorc\n# \u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u884c\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4fdd\u7ba1\u5834\u6240\u306b\u79fb\u52d5\nsudo mv apacheconf.nanorc /usr/share/nano/\n# nano\u306e\u500b\u4eba\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u3059\u308b\necho $'\\n\\n'## INI files$'\\n'include \"/usr/share/nano/apacheconf.nanorc\" >> ~/.nanorc\n```\n\n[^nano]: [\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8 | \u8a2d\u5b9a | nano \u2014 ArchWiki](https://wiki.archlinuxjp.org/index.php/nano#.E3.82.B7.E3.83.B3.E3.82.BF.E3.83.83.E3.82.AF.E3.82.B9.E3.83.8F.E3.82.A4.E3.83.A9.E3.82.A4.E3.83.88)\n[^nanorc]: [37.nano\u30a8\u30c7\u30a3\u30bf\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3001nanorc\u3092\u3044\u3058\u308b \u2014 Linux\u30b2\u30ea\u30e9\u6226\u8a18](http://www.garunimo.com/program/linux/linux37.xhtml)\n\n[nano]: https://ja.wikipedia.org/wiki/Nano_%28%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%29 \"nano\u306f\u3001UNIX\u3092\u4e2d\u5fc3\u3068\u3057\u305f\u30b7\u30b9\u30c6\u30e0\u3067\u4f7f\u308f\u308c\u308b\u3001curses\u3092\u4f7f\u3063\u305f\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u306e\u4e00\u7a2e\u3067\u3042\u308b\u3002\u30b9\u30af\u30ea\u30fc\u30f3\u30a8\u30c7\u30a3\u30bf\u306e\u4e00\u7a2e\u3067\u3042\u308a\u306a\u304c\u3089\u3001CUI\u3092\u7528\u3044\u3066\u7de8\u96c6\u3092\u884c\u306a\u3046\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002\u30b9\u30af\u30ea\u30fc\u30f3\u30a8\u30c7\u30a3\u30bf\u3068\u3057\u3066\u6709\u540d\u306a\u3082\u306e\u306f\u65e2\u306b\u591a\u6570\u5b58\u5728\u3059\u308b\u304c\u3001\u3053\u306e\u30a8\u30c7\u30a3\u30bf\u306e\u7279\u8272\u306f\u3001\u305d\u306e\u64cd\u4f5c\u65b9\u6cd5\u304cWYSIWYG\u306b\u6163\u308c\u305f\u30e6\u30fc\u30b6\u306b\u3068\u3063\u3066\u5206\u304b\u308a\u3084\u3059\u3044\u305f\u3081\u3001\u521d\u5fc3\u8005\u3067\u3082\u6bd4\u8f03\u7684\u5bb9\u6613\u306b\u6271\u3046\u3053\u3068\u304c\u53ef\u80fd\u3068\u3044\u3046\u70b9\u306b\u3042\u308b\u3002\"\n[Arch Linux]: https://ja.wikipedia.org/wiki/Arch_Linux \"Arch Linux\uff08\u30a2\u30fc\u30c1\u30fb\u30ea\u30ca\u30c3\u30af\u30b9\u3001\u02c8\u0251rt\u0283\uff09\u306f\u3001Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e1\u3064\u3067\u3042\u308a\u3001\u300c\u30b7\u30f3\u30d7\u30ea\u30b7\u30c6\u30a3\u300d\u3001\u30df\u30cb\u30de\u30ea\u30ba\u30e0\u3001\u30a8\u30ec\u30ac\u30f3\u30b9\u3055\u3001\u30b3\u30fc\u30c9\u306e\u6b63\u3057\u3055\u306b\u7126\u70b9\u3092\u5f53\u3066\u3066\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u3002\u300c\u30b7\u30f3\u30d7\u30ea\u30b7\u30c6\u30a3\u300d(Simplicity\u3001\u7c21\u6f54\u3055) \u3068\u306f\u3001Arch Linux\u306e\u8a00\u3046\u3068\u3053\u308d\u3067\u306f\u300c\u2026\u4e0d\u5fc5\u8981\u306a\u8ffd\u52a0\u30fb\u4fee\u6b63\u3001\u3042\u308b\u3044\u306f\u8907\u96d1\u5316\u3092\u4f34\u308f\u306a\u3044\u2026\u300d\u3053\u3068\u3067\u3042\u308a\u3001\u305d\u308c\u306f\u521d\u5fc3\u8005\u306e\u7acb\u5834\u3088\u308a\u3082\u958b\u767a\u8005\u306e\u7acb\u5834\u304b\u3089\u306e\u898b\u305f\u3082\u306e\u3060\u3068\u3057\u3066\u3044\u308b\u3002Arch Linux\u306f\u3001\u30ed\u30fc\u30ea\u30f3\u30b0\u30fb\u30ea\u30ea\u30fc\u30b9\u3068\u547c\u3070\u308c\u308b\u30ea\u30ea\u30fc\u30b9\u30e2\u30c7\u30eb\u3092\u63a1\u7528\u3057\u3066\u304a\u308a\u3001\u4ed6\u306eLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u898b\u3089\u308c\u308b\u3088\u3046\u306a\u660e\u78ba\u306a\u300c\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u300d\u3084\u300c\u30ea\u30ea\u30fc\u30b9\u30fb\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u300d\u3092\u6301\u305f\u306a\u3044\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u65e5\u3005\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3078\u3068\u66f4\u65b0\u3055\u308c\u3066\u304a\u308a\u3001\u5b9a\u671f\u7684\u306b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u884c\u3046\u3053\u3068\u3067\u3001\u30b7\u30b9\u30c6\u30e0\u3092\u5e38\u306b\u6700\u65b0\u306e\u72b6\u614b\u306b\u4fdd\u3064\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306e\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u306f\u5b9a\u671f\u7684\u306b\u66f4\u65b0\u3055\u308c\u3066\u3044\u308b\u304c\u3001\u3053\u308c\u306f\u57fa\u672c\u7684\u306b\u30b7\u30b9\u30c6\u30e0\u30d1\u30c3\u30b1\u30fc\u30b8\u7fa4\u306e\u6700\u65b0\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306b\u904e\u304e\u306a\u3044\u3002\"\n[nano-syntax-highlighting-git]: https://aur.archlinux.org/packages/nano-syntax-highlighting-git/ \"nano\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u6a5f\u80fd\u3092\u5f37\u5316\u3059\u308b\"\n\n[Kate]\n------\n\u30d5\u30a1\u30a4\u30eb\u540d\u304c`.conf`\u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3092Apache\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u958b\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```xml:/usr/share/kde*/apps/katepart/syntax/.xml\n<language name=\"Apache Configuration\" section=\"Configuration\"\n          version=\"1.11\" kateversion=\"2.0\"\n          extensions=\"*.conf;.htaccess*;.htpasswd*\"\n          mimetype=\"\"\n          author=\"Jan Janssen (medhefgo@googlemail.com)\" license=\"LGPL\">\n<!-- \u2191extensions\u5c5e\u6027\u5024\u306e\u300chttpd.conf;httpd2.conf;apache.conf;apache2.conf\u300d\u3092\u300c*.conf\u300d\u306b\u7f6e\u63db -->\n\n                    <!--##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############-->\n```\n\n[Kate]: https://ja.wikipedia.org/wiki/Kate \"Kate \u3068\u306f KDE \u306e\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u3042\u308b\u3002\u982d\u5b57\u8a9e \u201cKate\u201d \u306f \u201cKDE advanced text editor\u201d \u306e\u7565\u3067\u3042\u308b\u3002Kate \u306f KDE \u30ea\u30ea\u30fc\u30b9 2.2\uff082002\u5e748\u670815\u65e5\uff09\u304b\u3089 kdebase \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4e00\u90e8\u3068\u306a\u3063\u3066\u3044\u308b\u3002KDE \u306e\u4e00\u90e8\u3068\u306a\u3063\u3066\u3044\u308b KParts \u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001\u4ed6\u306e KDE \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u7de8\u96c6\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u3057\u3066 Kate \u3092\u7d44\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u7d71\u5408\u958b\u767a\u74b0\u5883 KDevelop \u3084\u30a6\u30a7\u30d6\u958b\u767a\u74b0\u5883 Quanta Plus \u306f\u7de8\u96c6\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u3057\u3066 Kate \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u4e3b\u8981\u306a KDE \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3042\u308b\u3002\"\n\n\u57fa\u672c\u8a2d\u5b9a\n========\n```apache:/etc/httpd/conf/httpd.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n<IfModule unixd_module>\n#\n# If you wish httpd to run as a different user or group, you must run\n# httpd as root initially and it will switch.  \n#\n# User/Group: The name (or #number) of the user/group to run httpd as.\n# It is usually good practice to create a dedicated user and group for\n# running httpd, as with most system services.\n#\nUser apache\nGroup apache\n## \u2191\u4e21\u65b9\u3068\u3082 daemon \u304b\u3089 apache \u306b\u5909\u66f4\u3059\u308b (CentOS7\u6a19\u6e96\u306eApache\u3067\u306f\u8a2d\u5b9a\u6e08\u307f) ##\n\n</IfModule>\n\n# 'Main' server configuration\n#\n# The directives in this section set up the values used by the 'main'\n# server, which responds to any requests that aren't handled by a\n# <VirtualHost> definition.  These values also provide defaults for\n# any <VirtualHost> containers you may define later in the file.\n#\n# All of these directives may appear inside <VirtualHost> containers,\n# in which case these default settings will be overridden for the\n# virtual host being defined.\n#\n\n#\n# ServerAdmin: Your address, where problems with the server should be\n# e-mailed.  This address appears on some server-generated pages, such\n# as error documents.  e.g. admin@your-domain.com\n#\nServerAdmin webmaster@example.jp\n## \u2191\u30b5\u30fc\u30d0\u30fc\u7ba1\u7406\u8005\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u5148\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u66f4\u3059\u308b ##\n\n#\n# ServerName gives the name and port that the server uses to identify itself.\n# This can often be determined automatically, but we recommend you specify\n# it explicitly to prevent problems during startup.\n#\n# If your host doesn't have a registered DNS name, enter its IP address here.\n#\nServerName example.jp:80\n## \u2191\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3059\u308b ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n#\n# Relax access to content within /var/www.\n#\n#<Directory \"/var/www\">\n#    AllowOverride None\n#    # Allow open access:\n#    Require all granted\n#</Directory>\n## \u2191<Directory \"/var/www\"> \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b (CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408) ##\n\n## \u2193\u4e00\u3064\u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5909\u66f4\u3059\u308b ##\n<Directory \"/var/www\">\n    #\n    # Possible values for the Options directive are \"None\", \"All\",\n    # or any combination of:\n    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\n    #\n    # Note that \"MultiViews\" must be named *explicitly* --- \"Options All\"\n    # doesn't give it to you.\n    #\n    # The Options directive is both complicated and important.  Please see\n    # https://httpd.apache.org/docs/2.4/mod/core.html#options\n    # for more information.\n    #\n    Options FollowSymLinks\n    ## \u2191 Indexes \u3092\u524a\u9664\u3059\u308b ##\n\n    #\n    # AllowOverride controls what directives may be placed in .htaccess files.\n    # It can be \"All\", \"None\", or any combination of the keywords:\n    #   AllowOverride FileInfo AuthConfig Limit\n    #\n    AllowOverride None\n    \n    #\n    # Controls who can get stuff from this server.\n    #\n    #Require all granted\n    ## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n</Directory>\n\n#\n# DirectoryIndex: sets the file that Apache will serve if a directory\n# is requested.\n#\n<IfModule dir_module>\n    DirectoryIndex index.html\n</IfModule>\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n#\n# LogLevel: Control the number of messages logged to the error_log.\n# Possible values include: debug, info, notice, warn, error, crit,\n# alert, emerg.\n#\n#LogLevel warn\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n#\n# Customizable error responses come in three flavors:\n# 1) plain text 2) local redirects 3) external redirects\n#\n# Some examples:\n#ErrorDocument 500 \"The server made a boo boo.\"\n#ErrorDocument 404 /missing.html\n#ErrorDocument 404 \"/cgi-bin/missing_handler.pl\"\n#ErrorDocument 402 http://www.example.com/subscription_info.html\n#\nErrorDocument 403 /not-found\nErrorDocument 404 /not-found\nErrorDocument 503 /internal-server-error\n## \u2191\u305d\u308c\u305e\u308c\u306e\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b ##\n\n                        ##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############\n```\n\n&#x20;\n<dl><dt>[User \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\([\u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u7ffb\u8a33][user-old])</dt><dt>[Group \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\([\u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u7ffb\u8a33][group-old])</dt><dd>`User apache`<br />`Group apache`</dd><dd>root\u6a29\u9650\u3067\u8d77\u52d5\u3057\u305fApache\u306e\u89aa\u30d7\u30ed\u30bb\u30b9\u304c\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u751f\u6210\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30b0\u30eb\u30fc\u30d7\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001`daemon`\u304b\u3089\u3001Apache\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u81ea\u52d5\u4f5c\u6210\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc (\u30b0\u30eb\u30fc\u30d7) `apache`\u306b\u5909\u66f4\u3057\u307e\u3059\u3002</dd>\n\n<dt>[ServerAdmin \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`ServerAdmin webmaster@example.jp`</dd><dd>\u30b5\u30fc\u30d0\u30fc\u7ba1\u7406\u8005\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u5148\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9 (\u307e\u305f\u306f\u5225\u30b5\u30fc\u30d0\u30fc\u306eURL) \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 **`webmaster@example.jp`\u306f\u4f8b\u793a\u7528\u306e\u30a2\u30c9\u30ec\u30b9\u306a\u306e\u3067\u3001\u81ea\u5206\u304c\u7ba1\u7406\u3059\u308b\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002** </dd>\n\n<dt>[ServerName \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`ServerName example.jp:80`</dd><dd>\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u3068\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u5bfe\u3057\u3066\u3001DNS\u306ePTR\u30ec\u30b3\u30fc\u30c9 (\u9006\u5f15\u304d\u30ec\u30b3\u30fc\u30c9) \u3067\u8a2d\u5b9a\u3057\u305f\u30db\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3057\u3066\u304a\u304f\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u6b20\u3051\u3066\u3044\u308b\u3068\u3001\u300c\u6b63\u78ba\u306a\u30db\u30b9\u30c8\u540d\u3092\u6c7a\u5b9a\u3067\u304d\u306a\u304b\u3063\u305f\u300d\u3068\u3044\u3046\u65e8\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002 **`example.jp`\u306f\u4f8b\u793a\u7528\u306e\u30db\u30b9\u30c8\u540d\u306a\u306e\u3067\u3001\u81ea\u5206\u306e\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002** \u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u3001\u5f8c\u8ff0\u3059\u308b[&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u5185\u3067\u3082\u8a2d\u5b9a\u3057\u307e\u3059\u3002</dd>\n\n<dt>[Option \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>\u5229\u7528\u3067\u304d\u308b\u6a5f\u80fd\u306e\u5236\u9650\u3092\u5f37\u5316\u3001\u307e\u305f\u306f\u7de9\u548c\u3057\u307e\u3059\u3002\u6700\u521d\u304b\u3089\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b`Options Indexes FollowSymLinks`\u306f\u3001<i>Indexes\u6a5f\u80fd</i>\u3068<i>FollowSymLinks\u6a5f\u80fd</i>\u304c\u6709\u52b9\u3067\u3059\u3002\u30b9\u30e9\u30c3\u30b7\u30e5\u3067\u7d42\u308f\u308bURL\u306b\u30a2\u30af\u30bb\u30b9\u304c\u3042\u3063\u305f\u5834\u5408\u3001 [DirectoryIndex \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3067\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5b58\u5728\u3057\u306a\u3051\u308c\u3070\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u3092\u8fd4\u3059\u306e\u304c<i>Indexes\u6a5f\u80fd</i>\u3067\u3059\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u6b20\u3051\u3066\u3044\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u3042\u308b`Options All`\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</dd>\n\n<dt>[Require \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>\u30b5\u30fc\u30d0\u30fc\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u63a5\u7d9a\u3057\u3066\u304f\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u3064\u3044\u3066\u3001\u8a31\u53ef\u30fb\u62d2\u5426\u3059\u308b\u6761\u4ef6\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u3059\u3002\u6614\u306f[Allow \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3084Deny \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3057\u305f\u3002`Require all granted`\u306f\u3001\u3059\u3079\u3066\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002`Require all denied`\u306f\u3001\u3059\u3079\u3066\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u63a5\u7d9a\u3092\u62d2\u5426\u3057\u307e\u3059\u3002</dd>\n\n<dt>[&lt;Directory&gt; \u30bb\u30af\u30b7\u30e7\u30f3]</dt><dd>\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u9069\u7528\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002<i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i> (\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3067\u306f\u306a\u304fOS\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30eb\u30fc\u30c8\u3068\u3059\u308b\u30b9\u30e9\u30c3\u30b7\u30e5\u3067\u59cb\u307e\u308bURL) \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002`*` `?` `[` `]`\u3092\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002<i>\u30d1\u30b9\u533a\u5206</i> (\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306a\u3069) \u3092`/`\u4ee5\u5916 (Windows\u306e`\\\\`\u306a\u3069) \u3067\u533a\u5207\u308bOS\u3067\u3042\u3063\u3066\u3082\u3001\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u5f15\u6570\u3067\u306f`/`\u3092\u7528\u3044\u307e\u3059\u3002</dd><dd>\u8a18\u8ff0\u3067\u304d\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u5236\u9650\u306a\u3069\u306f\u3042\u308a\u307e\u3059\u304c\u3001`<Directory /var/www/html>`\u5185\u306b\u8a18\u8ff0\u3059\u308b\u306e\u3068\u3001`/var/www/html/.htaccess`\u306b\u8a18\u8ff0\u3059\u308b\u306e\u306f\u540c\u7fa9\u3067\u3059\u3002</dd><dd>\u6700\u521d\u306f`<Directory \"/var/www/html\">`\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306e\u8a2d\u5b9a\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u307e\u3059\u3002`html`\u4ee5\u5916\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u306e\u30a2\u30af\u30bb\u30b9\u304c\u3042\u308b\u306a\u3089\u3001`<Directory \"/var/www\">`\u306b\u5909\u66f4\u3057\u3001`Require all granted`\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304a\u304d\u307e\u3059\u3002</dd>\n\n<dt>[Redirect \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>\u7b2c2\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305fURL\u3092\u3001\u7b2c3\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305fURL\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u306b\u306fHTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u306f\u7701\u7565\u53ef\u80fd\u3067\u3001\u7701\u7565\u3057\u305f\u5834\u5408`302`\u306b\u306a\u308a\u307e\u3059\u3002URL\u306f\u524d\u65b9\u4e00\u81f4\u3067\u3001`Redirect /foo /bar`\u3068\u8a18\u8ff0\u3059\u308b\u3068\u3001https://example.com/foo/test \u304c https://example.com/bar/test \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001https://example.com/foo2 \u306a\u3069\u306b\u306f\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002</dd><dd>\u7b2c1\u5f15\u6570\u306b[300\u301c399]\u4ee5\u5916\u306e\u6570\u5024\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u3001\u3053\u306e\u5834\u5408\u7b2c3\u5f15\u6570\u306f\u6307\u5b9a\u3057\u307e\u305b\u3093\u3002</dd><dd>\u7b2c1\u5f15\u6570\u306b\u304a\u3044\u3066\u3001`301` `302` `303` `410`\u306f\u3001\u305d\u308c\u305e\u308c`permanent` `temp` `seeother` `gone`\u3068\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u306a\u304a\u3001\u53e4\u3044HTTP\u4ed5\u69d8\u3067`302`\u306f\u3053\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u901a\u308a`Moved Temporarily`\u3067\u3057\u305f\u304c\u3001\u4ed5\u69d8\u304c\u5909\u66f4\u3055\u308c[302 (Found)]\u3068\u306a\u3063\u3066\u304a\u308a\u3001<i>\u4e00\u6642\u7684\u306a\u30ea\u30c0\u30a4\u30ec\u30af\u30c8</i>\u306b\u306f\u73fe\u5728[307 (Temporary Redirect)]\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</dd>\n\n<dt>[RedirectMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>\u7b2c2\u5f15\u6570\u306b\u6b63\u898f\u8868\u73fe\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u4ee5\u5916\u306f\u3001[Redirect \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3068\u540c\u3058\u3067\u3059\u3002\u6b63\u898f\u8868\u73fe\u5185\u306e\u5f8c\u65b9\u53c2\u7167\u306f\u3001\u7b2c3\u5f15\u6570\u3067`$1`\u306a\u3069\u3068\u6570\u5b57\u306b`$`\u3092\u524d\u7f6e\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001`RedirectMatch ^/foo(/.*)?$ /bar$1`\u306f`Redirect /foo /bar`\u3068\u540c\u3058\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002</dd>\n\n<dt>[ErrorDocument \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`ErrorDocument 404 /not-found`</dd><dd>\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u8fd4\u3059\u6587\u66f8\u7b49\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c2\u5f15\u6570\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u3001<i>\u30d1\u30b9\u7d76\u5bfeURL</i> (\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3092\u30eb\u30fc\u30c8\u3068\u3059\u308b\u30b9\u30e9\u30c3\u30b7\u30e5\u3067\u59cb\u307e\u308b\u30d1\u30b9) \u3067\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</dd><dd>\u3053\u3053\u3067\u306f\u3001[\u30d5\u30a1\u30a4\u30eb\u306e\u5b58\u5728\u81ea\u4f53\u3092\u96a0\u853d\u3059\u308b\u306a\u3069\u306e\u7406\u7531\u3067\u3001\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9\u304c403\u306e\u5834\u5408\u3067\u3082404\u306e\u5834\u5408\u3068\u540c\u3058\u6587\u66f8\u3092\u8fd4\u3059]\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u7b2c2\u5f15\u6570\u306b\u3001<i>`404`\u3092\u8fd4\u3059\u30d7\u30ed\u30b0\u30e9\u30e0</i>\u3092\u6307\u5b9a\u3057\u305f\u308a\u3001[RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306e[\\[R|redirect\\]\u30d5\u30e9\u30b0][R]\u3067`404`\u3092\u8fd4\u3057\u305f\u308a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</dd>\n</dl>\n\n[User \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_unixd.html#user \"The userid under which the server will answer requests\"\n[user-old]: https://httpd.apache.org/docs/2.2/mod/mpm_common.html#user \"\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u5fdc\u7b54\u3059\u308b\u969b\u306b\u7528\u3044\u308b\u30e6\u30fc\u30b6 ID\"\n[Group \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_unixd.html#group \"Group under which the server will answer requests\"\n[group-old]: https://httpd.apache.org/docs/2.2/mod/mpm_common.html#group \"\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u5fdc\u7b54\u3059\u308b\u969b\u306b\u6240\u5c5e\u3059\u308b\u30b0\u30eb\u30fc\u30d7\"\n[ServerAdmin \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#serveradmin \"\u30b5\u30fc\u30d0\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u9001\u308b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u542b\u3081\u308b\u96fb\u5b50\u30e1\u30fc\u30eb\u306e \u30a2\u30c9\u30ec\u30b9\"\n[ServerName \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#servername \"\u30b5\u30fc\u30d0\u304c\u81ea\u5206\u81ea\u8eab\u3092\u793a\u3059\u3068\u304d\u306b\u4f7f\u3046\u30db\u30b9\u30c8\u540d\u3068\u30dd\u30fc\u30c8\"\n[&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]: https://httpd.apache.org/docs/current/mod/core.html#virtualhost \"\u7279\u5b9a\u306e\u30db\u30b9\u30c8\u540d\u3084 IP \u30a2\u30c9\u30ec\u30b9\u306e\u307f\u306b\u9069\u7528\u3055\u308c\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092 \u56f2\u3080\"\n[Option \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#options \"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5bfe\u3057\u3066\u4f7f\u7528\u53ef\u80fd\u306a\u6a5f\u80fd\u3092\u8a2d\u5b9a\u3059\u308b\"\n[DirectoryIndex \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_dir.html#directoryindex \"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u305f\u3068\u304d\u306b\u8abf\u3079\u308b \u30ea\u30bd\u30fc\u30b9\u306e\u30ea\u30b9\u30c8\"\n[Require \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_authz_core.html#require \"Tests whether an authenticated user is authorized by an authorization provider.\"\n[Allow \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3084Deny \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_access_compat.html \"\u30db\u30b9\u30c8 (\u540d\u524d\u3082\u3057\u304f\u306f IP \u30a2\u30c9\u30ec\u30b9) \u306b\u57fa\u3065\u3044\u305f\u30b0\u30eb\u30fc\u30d7\u627f\u8a8d\"\n[&lt;Directory&gt; \u30bb\u30af\u30b7\u30e7\u30f3]: https://httpd.apache.org/docs/current/mod/core.html#directory \"\u6307\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u306e\u307f\u306b \u9069\u7528\u3055\u308c\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u56f2\u3080\"\n[Redirect \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_alias.html#redirect \"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u9055\u3046 URL \u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u5916\u90e8\u3078\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092 \u9001\u308b\"\n[300\u301c399]: https://triple-underscore.github.io/RFC7231-ja.html#status.3xx \"\u30af\u30e9\u30b9 3xx (Redirection) \u306e\u72b6\u614b\u00b0\u30b3\u30fc\u30c9\u306f\u3001[ \u8981\u8acb\u304c\u5c65\u884c\u3055\u308c\u308b\u305f\u3081\u306b\u306f, UA \u306b\u3088\u308b\u66f4\u306a\u308b\u52d5\u4f5c\u304c\u3068\u3089\u308c\u308b\u5fc5\u8981\u304c\u3042\u308b ] \u3053\u3068\u3092\u6307\u793a\u3059\u308b\u3002\"\n[302 (Found)]: https://triple-underscore.github.io/RFC7231-ja.html#status.302 \"\u72b6\u614b\u00b0\u30b3\u30fc\u30c9 302 (Found)\u306f\u3001[ \u30bf\u30fc\u30b2\u30c3\u30c8\u30ea\u30bd\u30fc\u30b9\u304c, \u4e00\u6642\u7684\u306b, \u7570\u306a\u308b URI \u306e\u4e0b\u306b\u5c45\u308b ] \u3053\u3068\u3092\u6307\u793a\u3059\u308b\u3002 \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306f, \u305d\u306e\u6642\u3005\u3067\u6539\u3081\u3089\u308c\u5f97\u308b\u306e\u3067\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f, \u672a\u6765\u306e\u8981\u8acb\u306b\u5bfe\u3057\u3066\u306f \u5b9f\u52b9\u8981\u8acb URI \u3092\u5229\u7528\u3057\u7d9a\u3051\u308b\u3079\u304d.\u3067\u3042\u308b\u3002\"\n[307 (Temporary Redirect)]: https://triple-underscore.github.io/RFC7231-ja.html#status.307 \"\u72b6\u614b\u00b0\u30b3\u30fc\u30c9 307 (Temporary Redirect)\u306f\u3001[ \u30bf\u30fc\u30b2\u30c3\u30c8\u30ea\u30bd\u30fc\u30b9\u304c, \u4e00\u6642\u7684\u306b\u7570\u306a\u308b URI \u306e\u4e0b\u306b\u5c45\u308b ] \u3053\u3068\u306b\u52a0\u3048\u3066, [ UA \u306f\u3001[ \u305d\u306e URI \u3078\u306e\u81ea\u52d5\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u9042\u884c\u3059\u308b ] \u3068\u304d\u306b, \u8981\u8acb\u30e1\u30bd\u30c3\u30c9\u3092\u5909\u66f4\u3057\u3066\u306f\u306a\u3089\u306a\u3044 ] \u3053\u3068\u3092\u6307\u793a\u3059\u308b\u3002 \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306f, \u6642\u7d4c\u904e\u306b\u4f34\u3063\u3066\u5909\u5316\u3057\u5f97\u308b\u306e\u3067\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f, \u672a\u6765\u306e\u8981\u8acb\u306b\u304a\u3044\u3066\u3082, \u5143\u306e\u5b9f\u52b9\u8981\u8acb URI \u3092\u5229\u7528\u3057\u7d9a\u3051\u308b\u3079\u304d.\u3067\u3042\u308b\u3002\"\n[RedirectMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_alias.html#redirectmatch \"mod_alias \u2014 Apache HTTP \u30b5\u30fc\u30d0\"\n[ErrorDocument \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#errordocument \"core \u2014 Apache HTTP \u30b5\u30fc\u30d0\"\n[\u30d5\u30a1\u30a4\u30eb\u306e\u5b58\u5728\u81ea\u4f53\u3092\u96a0\u853d\u3059\u308b\u306a\u3069\u306e\u7406\u7531\u3067\u3001\u30a8\u30e9\u30fc\u30b3\u30fc\u30c9\u304c403\u306e\u5834\u5408\u3067\u3082404\u306e\u5834\u5408\u3068\u540c\u3058\u6587\u66f8\u3092\u8fd4\u3059]: https://triple-underscore.github.io/RFC7231-ja.html#status.403 \"\u751f\u6210\u5143\u30b5\u30fc\u30d0\u306f\u3001\u7981\u6b62\u3055\u308c\u305f\u30bf\u30fc\u30b2\u30c3\u30c8\u30ea\u30bd\u30fc\u30b9\u306e\u73fe\u5728\u306e\u5b58\u5728\u3092 \u201c\u96a0\u3057\u201d \u305f\u3044\u3068\u671b\u3080\u3068\u304d\u306f, \u4ee3\u308f\u308a\u306b [ 404 (Not Found) ] \u3067\u5fdc\u7b54\u3057\u3066\u3088\u3044\u3002\"\n[R]: https://httpd.apache.org/docs/current/rewrite/flags.html#flag_r \"Use of the [R] flag causes a HTTP redirect to be issued to the browser. If a fully-qualified URL is specified (that is, including http://servername/) then a redirect will be issued to that location. Otherwise, the current protocol, servername, and port number will be used to generate the URL sent with the redirect.\"\n\nTLS (\u4fd7\u79f0: SSL) \u306e\u8a2d\u5b9a\n======================\n\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308c\u3070\u3053\u306e\u9805\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u7121\u6599\u3067DV\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3067\u304d\u308b[Let\u2019s Encrypt]\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059\u3002[Let\u2019s Encrypt]\u306f\u8a3c\u660e\u66f8\u3092\u81ea\u52d5\u767a\u884c\u3059\u308b[ACME\u30d7\u30ed\u30c8\u30b3\u30eb]\u3092\u63a1\u7528\u3057\u3066\u304a\u308a\u3001[Certbot]\u306a\u3069\u306eACME\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u7c21\u5358\u306b\u5c0e\u5165\u3067\u304d\u307e\u3059\u3002\n\n[Let\u2019s Encrypt]: https://letsencrypt.jp/about/ \"Let\u2019s Encrypt \u306f\u3001\u7121\u6599\u3067\u5229\u7528\u3067\u304d\u308b\u81ea\u52d5\u5316\u3055\u308c\u3066\u3044\u3066\u30aa\u30fc\u30d7\u30f3\u306a\u8a8d\u8a3c\u5c40\uff08CA\uff09\u3067\u3059\u3002\u516c\u5171\u306e\u5229\u76ca\u3092\u56f3\u308b\u76ee\u7684\u3067 Internet Security Research Group (ISRG) \u304c\u904b\u55b6\u3057\u3066\u3044\u307e\u3059\u3002\"\n[ACME\u30d7\u30ed\u30c8\u30b3\u30eb]: http://jxck.hatenablog.com/entry/letsencrypt-acme \"Let\u2019s Encrypt \u3092\u652f\u3048\u308b ACME \u30d7\u30ed\u30c8\u30b3\u30eb \u2014 Block Rockin\u2019 Codes\"\n[Certbot]: https://letsencrypt.jp/command/ \"Certbot \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001HTTPS / TLS / SSL \u306e\u8a3c\u660e\u66f8\u3092\u3001\u53d6\u5f97\u3057\u305f\u308a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\"\n\nCertbot\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n---------------------\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u3082\u81ea\u52d5\u3067\u884c\u3048\u308b[Certbot]\u3092ACME\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n[Let\u2019s Encrypt \u306e\u4f7f\u3044\u65b9 \u2014 Let\u2019s Encrypt \u7dcf\u5408\u30dd\u30fc\u30bf\u30eb](https://letsencrypt.jp/usage/ \"Let\u2019s Encrypt \u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u300cCertbot\u300d\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001SSL/TLS \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\u30fb\u66f4\u65b0\u4f5c\u696d\u3092\u81ea\u52d5\u5316\u3067\u304d\u308b\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\")\n\n\u5404OS\u3054\u3068\u306e\u53d6\u5f97\u65b9\u6cd5\u306f\u4e0a\u8a18\u30da\u30fc\u30b8\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u306fCentOS7\u306e\u5834\u5408\u306b\u304a\u3051\u308b\u4f8b\u3067\u3059\u3002\n\n```sh\n# \u3010\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3011EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3068mod_ssl\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install epel-release mod_ssl\n\n# Certbot\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install certbot python-certbot-apache\n# \u2191EPEL7\u306eGPG\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3093\u3067\u3082\u826f\u3044\u304b\u8a0a\u306d\u3089\u308c\u305f\u5834\u5408\u3001\n#   Fingerprint\u304c https://getfedora.org/ja/keys/ \u306e\u6307\u7d0b\u3068\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u7121\u8996\u3067\u4e00\u81f4\u3059\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n# \u3010\u672a\u8a2d\u5b9a\u306e\u5834\u5408\u3011443\u30dd\u30fc\u30c8\u3092\u958b\u3051\u308b\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --reload\n```\n\n\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n--------------------------\n\u9014\u4e2d\u3067Apache\u304c\u518d\u8d77\u52d5\u3055\u308c\u308b\u969b\u306b\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u305f\u3081\u3001\u5148\u306bApache\u3092\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```sh\nsudo apachectl start\nsudo certbot --apache --must-staple --hsts --redirect\n```\n\n\u9014\u4e2d\u3067\u8a3c\u660e\u66f8\u3092\u767a\u884c\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u540d\u306e\u5165\u529b (\u8907\u6570\u306e\u5834\u5408\u306f\u7a7a\u767d\u304b\u30ab\u30f3\u30de\u533a\u5207\u308a)\u3001\u7dca\u6025\u9023\u7d61\u306a\u3069\u306b\u4f7f\u3046\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u5165\u529b\u3001\u304a\u3088\u3073Let\u2019s Encrypt\u5229\u7528\u898f\u7d04\u3078\u306e\u540c\u610f\u3092\u6c42\u3081\u3089\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u8a2d\u5b9a\u306e\u4fdd\u5b58\u5148\u3068\u3057\u3066 `ssl.conf` (CentOS\u306e\u5834\u5408) \u304c\u63d0\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u305d\u308c\u3092 <kbd><samp>&lt;Select&gt;</samp></kbd> \u3057\u307e\u3059\u3002\n\n[\u5f8c\u8ff0\u306e\u8a2d\u5b9a\u3067\u8907\u6570\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u6271\u3046]\u5834\u5408\u3001`--redirect` \u306e\u4ee3\u308f\u308a\u306b\u4e00\u65e6 `--no-redirect` \u3092\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n[\u5f8c\u8ff0\u306e\u8a2d\u5b9a\u3067\u8907\u6570\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u6271\u3046]: #\u4e00\u3064\u306eapache\u3067\u8907\u6570\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u6271\u3046\u4eee\u60f3\u30db\u30b9\u30c8\n\nApache\u306e\u8a2d\u5b9a\n------------\n\n```apache:/etc/httpd/conf.d/ssl.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n# Use separate log files for the SSL virtual host; note that LogLevel\n# is not inherited from httpd.conf.\n#ErrorLog logs/ssl_error_log\n#TransferLog logs/ssl_access_log\n#LogLevel warn\n## \u21913\u884c\u3068\u3082\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n#   SSL Engine Switch:\n#   Enable/Disable SSL for this virtual host.\n#SSLEngine on\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n#   Server Certificate:\n# Point SSLCertificateFile at a PEM encoded certificate.  If\n# the certificate is encrypted, then you will be prompted for a\n# pass phrase.  Note that a kill -HUP will prompt again.  A new\n# certificate can be generated using the genkey(1) command.\nSSLCertificateFile /etc/letsencrypt/live/example.jp/cert.pem\n## \u2191Certbot\u306eApache\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u3063\u3066\u81ea\u52d5\u7684\u306b\u4fee\u6b63\u3055\u308c\u305f\u884c ##\n\n#   Server Private Key:\n#   If the key is not combined with the certificate, use this\n#   directive to point at the key file.  Keep in mind that if\n#   you've both a RSA and a DSA private key you can configure\n#   both in parallel (to also allow the use of DSA ciphers, etc.)\nSSLCertificateKeyFile /etc/letsencrypt/live/example.jp/privkey.pem\n## \u2191Certbot\u306eApache\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u3063\u3066\u81ea\u52d5\u7684\u306b\u4fee\u6b63\u3055\u308c\u305f\u884c ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n#   Per-Server Logging:\n#   The home of a custom SSL log file. Use this when you want a\n#   compact non-error SSL logfile on a virtual host basis.\nCustomLog logs/ssl_request_log \\\n          \"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \\\"%r\\\" %b\"\n\n# TLS\u306e\u57fa\u672c\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\nInclude /etc/letsencrypt/options-ssl-apache.conf\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n## \u2193\u3053\u308c\u4ee5\u964d\u306e\u884c\u304c\u3001Certbot\u306eApache\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u3063\u3066\u8ffd\u8a18\u3055\u308c\u305f\u6587\u5b57\u5217 ##\nServerName example.jp\nServerAlias sub1.example.jp sub2.example.jp\nHeader always set Strict-Transport-Security \"max-age=31536000\"\nSSLUseStapling on\nSSLCertificateChainFile /etc/letsencrypt/live/example.jp/chain.pem\n</VirtualHost>                                  \n\n<IfModule mod_ssl.c>\nSSLStaplingCache shmcb:/var/run/apache2/stapling_cache(128000)\n</IfModule>\n```\n\n&#x20;\n<dl><dt>[SSLProtocol \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`SSLProtocol all -SSLv2 -SSLv3`</dd><dd>\u4f7f\u7528\u3059\u308bSSL/TLS\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u5404\u5f15\u6570\u306e\u5148\u982d\u306b `+` `-` \u3092\u4ed8\u3051\u3001\u624b\u524d\u3067\u6307\u5b9a\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u8ffd\u52a0\u3059\u308b\u304b\u9664\u5916\u3059\u308b\u304b\u3092\u8868\u3057\u307e\u3059\u3002</dd><dd>\u3053\u3053\u3067\u306f\u3001\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3059\u3079\u3066\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u3001(SSL 2.0)\u3001SSL 3.0 \u3092\u9664\u5916\u3057\u3066\u3044\u307e\u3059\u3002\u306a\u304a\u3001CentOS 7 \u306e `ssl.conf` \u306b\u306f\u6700\u521d `SSLProtocol all -SSLv2` \u3068\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306e\u3001Apache 2.4 \u3067\u306f SSL 2.0 \u3092\u3059\u3067\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u30a8\u30e9\u30fc\u3053\u305d\u51fa\u307e\u305b\u3093\u304c\u3053\u306e\u6307\u5b9a\u306f\u7121\u610f\u5473\u3067\u3059\u3002</dd><dd>\u3082\u3068\u3082\u3068 SSL 3.0 \u306f\u6a19\u6e96\u5316\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001[RFC 7568\u306b\u3088\u3063\u3066\u4f7f\u7528\u304c\u7981\u6b62\u3055\u308c\u307e\u3057\u305f]\u3002TLS 1.0\u3001\u304a\u3088\u3073TLS 1.1\u306f\u3001\u5b9f\u88c5\u9593\u3067\u3088\u308a\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3042\u308b\u5834\u5408\u306f\u4f7f\u7528\u3059\u3079\u304d\u3067\u306a\u3044\u3068[RFC 7525\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059]\u3002NetReader\u306a\u3069\u306eIE\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d6\u30e9\u30a6\u30b6\u306f\u3001Windows Vista\u3060\u3068TLS 1.1\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044[^vista]\u306e\u3067\u30012017\u5e744\u670811\u65e5\u307e\u3067\u306fTLS 1.0\u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002[^NetReader]</dd>\n\n<dt>[SSLCipherSuite \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`SSLCipherSuite !DSS:EECDH+HIGH:EDH+HIGH:HIGH:MEDIUM:!aNULL:!MD5:!SEED:!IDEA`</dd><dd>\u4f7f\u7528\u3059\u308b\u6697\u53f7\u5316\u65b9\u5f0f\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u5404\u5f15\u6570\u306e\u5148\u982d\u306b `+` `-` `!` \u3092\u4ed8\u3051\u3001\u624b\u524d\u3067\u6307\u5b9a\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u8ffd\u52a0\u3059\u308b\u304b\u9664\u5916\u3059\u308b\u304b\u3092\u8868\u3057\u307e\u3059\u3002\u5f15\u6570\u306e\u610f\u5473\u306b\u3064\u3044\u3066\u306f\u3001[Apache\u3067OpenSSL\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5f37\u5316\u3059\u308b]\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</dd>\n\n<dt>[SSLHonorCipherOrder \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`SSLHonorCipherOrder on`</dd><dd>\u4f7f\u7528\u3059\u308b\u6697\u53f7\u5316\u65b9\u5f0f\u306e\u6c7a\u5b9a\u306b\u3064\u3044\u3066\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3088\u308a\u30b5\u30fc\u30d0\u30fc\u306e\u30ea\u30b9\u30c8\u3092\u512a\u5148\u3057\u307e\u3059\u3002\u65e2\u5b9a\u3067\u306f\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</dd>\n\n<dt>[SSLCertificateFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`SSLCertificateFile /etc/letsencrypt/live/example.jp/cert.pem`</dd><dd>Apache 2.4.7\u4ee5\u4e0b\u3067\u306f\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8 (Certbot\u3067\u53d6\u5f97\u3057\u305f\u5834\u5408\u306f `cert.pem`) \u3092\u3001Apache 2.4.8\u4ee5\u4e0a\u3067\u306f\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3068\u4e2d\u9593\u8a3c\u660e\u66f8\u3092\u7d50\u5408\u3057\u305f\u30d5\u30a1\u30a4\u30eb (Certbot\u3067\u53d6\u5f97\u3057\u305f\u5834\u5408\u306f `fullchain.pem`) \u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 **2.4.7/2.4.8\u3092\u307e\u305f\u3044\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\u3059\u308b\u969b\u306f\u4fee\u6b63\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002** </dd><dd>\u3053\u306e\u4f8b\u306fApache 2.4.6\u306e\u3082\u306e\u306a\u306e\u3067\u3001Certbot\u306b\u3088\u3063\u3066\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u306e\u30d1\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</dd>\n\n<dt>[SSLCertificateKeyFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`SSLCertificateKeyFile /etc/letsencrypt/live/example.jp/privkey.pem`</dd><dd>\u79d8\u5bc6\u9375\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</dd>\n\n<dt>[SSLCertificateChainFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`SSLCertificateChainFile /etc/letsencrypt/live/example.jp/chain.pem`</dd><dd>Apache 2.4.7\u4ee5\u4e0b\u306b\u304a\u3044\u3066\u3001\u4e2d\u9593\u8a3c\u660e\u66f8 (Certbot\u3067\u53d6\u5f97\u3057\u305f\u5834\u5408\u306f `chain.pem`) \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002Apache 2.4.8\u4ee5\u964d\u3001[SSLCertificateFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306b\u7d71\u5408\u3059\u308b\u5f62\u3067\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002 **2.4.7/2.4.8\u3092\u307e\u305f\u3044\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\u3059\u308b\u969b\u306f\u4fee\u6b63\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002** </dd><dd>\u3053\u306e\u4f8b\u306fApache 2.4.6\u306e\u3082\u306e\u306a\u306e\u3067\u3001Certbot\u306b\u3088\u3063\u3066\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002</dd>\n\n<dt>[SSLUseStapling \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`SSLUseStapling on`</dd><dd>[OCSP Stapling]\u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002</dd>\n\n<dt>[SSLStaplingCache \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`SSLStaplingCache shmcb:/var/run/apache2/stapling_cache(128000)`</dd><dd>[OCSP Stapling]\u306b\u304a\u3051\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4fdd\u5b58\u5148\u3068\u5bb9\u91cf\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</dd>\n</dl>\n\n[^vista]: [\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6 | \u5b9f\u88c5 | Transport Layer Security \u2014 Wikipedia](https://ja.wikipedia.org/wiki/Transport_Layer_Security#.E3.82.A6.E3.82.A7.E3.83.96.E3.83.96.E3.83.A9.E3.82.A6.E3.82.B6 \"TLS 1.1\u30011.2\u306b\u672a\u5bfe\u5fdc\uff1aInternet Explorer 9\uff08Windows Vista / Server 2008\u5411\u3051\uff09\")\n[^NetReader]: [Kazz\u3055\u3093\u306e\u30c4\u30a4\u30fc\u30c8: \u201cNetMarketShare\u306b\u3088\u308c\u30702015\u5e7412\u6708\u6642\u70b9\u3067\u306eVista\u306e\u30b7\u30a7\u30a2\u306f1.62% \u540c\u3058\u3088\u3046\u306b\u8996\u899a\u969c\u788d\u8005\u306eVista\u5229\u7528\u8005\u304c\u6e1b\u3063\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3057\u3066\u3082\u3001\u4ecaIE9\u3092\u5207\u308a\u6368\u3066\u308b\u3068\u8996\u899a\u969c\u5bb3\u8005100\u4eba\u306e\u3046\u30612\u4eba\u304f\u3089\u3044\u306b\u5bfe\u3057\u3066\u5168\u304f\u30a2\u30af\u30bb\u30b9\u4e0d\u80fd\u306b\u3055\u305b\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u201d](https://twitter.com/asamuzakjp/statuses/687878739976294400)\n\n[SSLProtocol \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_ssl.html#sslprotocol \"Configure usable SSL/TLS protocol versions\"\n[RFC 7568\u306b\u3088\u3063\u3066\u4f7f\u7528\u304c\u7981\u6b62\u3055\u308c\u307e\u3057\u305f]: https://wiki.suikawiki.org/n/Transport%20Layer%20Security#section-\u6b74\u53f2\u2028SSL-3.0-\u306e\u5ec3\u6b62 \"2015\u5e746\u6708\u306b\u51fa\u7248\u3055\u308c\u305f RFC 7568 \u306f\u3001 SSL 3.0 \u3092\u4f7f\u3063\u3066\u306f\u306a\u3089\u306a\u3044\u3068\u898f\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u7981\u6b62\u3057\u3066\u3044\u308b\u306e\u306b\u306a\u305c\u304b\u975e\u63a8\u5968\u3068\u79f0\u3057\u3066\u304a\u308a\u3001 \u5ec3\u6b62\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 SSL 3.0 \u306e RFC \u3067\u3042\u308b RFC 6101 \u3082\u5ec3\u6b62\u306f\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u3053\u308c\u306f\u5143\u3005 Historic \u3067\u767a\u884c\u3055\u308c\u305f\u3082\u306e\u306a\u306e\u3067\u5ec3\u6b62\u306f\u5fc5\u8981\u306a\u3044\u3068\u3044\u3046\u5224\u65ad\u306a\u306e\u3067\u3057\u3087\u3046\u304b\u3002\"\n[RFC 7525\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059]: http://blog.livedoor.jp/k_urushima/archives/1768181.html \"2015\u5e745\u67087\u65e5\u306b\u300cRFC 7525 TLS\u3068DTLS\u306e\u5b89\u5168\u306a\u5229\u7528\u306b\u95a2\u3059\u308b\u63a8\u5968\u4e8b\u9805(Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS))\u300d\u304c\u516c\u958b\u3055\u308c\u307e\u3057\u305f\u3002\"\n[SSLCipherSuite \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_ssl.html#sslciphersuite \"Cipher Suite available for negotiation in SSL handshake\"\n[Apache\u3067OpenSSL\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5f37\u5316\u3059\u308b]: //qiita.com/sion_cojp/items/99fee211ceace3f76cff\n[SSLHonorCipherOrder \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_ssl.html#sslhonorcipherorder \"Option to prefer the server\u2019s cipher preference order\"\n[SSLCertificateFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_ssl.html#sslcertificatefile \"Server PEM-encoded X.509 certificate data file\"\n[SSLCertificateKeyFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_ssl.html#sslcertificatekeyfile \"Server PEM\u2010encoded private key file\"\n[SSLCertificateChainFile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_ssl.html#sslcertificatechainfile \"File of PEM\u2010encoded Server CA Certificates\"\n[SSLUseStapling \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_ssl.html#sslusestapling \"Enable stapling of OCSP responses in the TLS handshake\"\n[OCSP Stapling]: //qiita.com/harukasan/items/fe37f3bab8a5ca3f4f92#ocsp-stapling \"OCSP Stapling(\u30b9\u30c6\u30fc\u30d7\u30ea\u30f3\u30b0)\u3067\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304cOCSP\u8981\u6c42\u3092\u884c\u3046\u306e\u3067\u306f\u306a\u304f\u3001\u30b5\u30fc\u30d0\u304cOCSP\u8981\u6c42\u3092\u884c\u3044\u3001\u305d\u306e\u5fdc\u7b54\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u3002\u30b5\u30fc\u30d0\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u305fOCSP\u5fdc\u7b54\u3092\u3001\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3068\u4e00\u7dd2\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u9001\u4fe1\u3059\u308b\u3002\"\n[SSLStaplingCache \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_ssl.html#sslstaplingcache \"Configures the OCSP stapling cache\"\n\n\u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u66f4\u65b0\u4f8b (systemd)\n----------------------------\n`certbot renew` \u3067\u671f\u9650\u5207\u308c\u304c\u8fd1\u3044\u8a3c\u660e\u66f8\u3092\u66f4\u65b0\u3067\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u306f[systemd]\u3092\u63a1\u7528\u3057\u3066\u3044\u308bCentOS 7\u306a\u3069\u306b\u304a\u3051\u308b\u4f8b\u3067\u3059\u3002\n\n```ini:/etc/systemd/system/certbot.service\n[Unit]\nDescription=\u671f\u9650\u5207\u308c\u304c\u8fd1\u3044\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n[Service]\nExecStart=/usr/bin/certbot renew\n```\n\n```ini:/etc/systemd/system/certbot.timer\n[Unit]\nDescription=\u6bce\u9031\u6708\u66dc\u65e5\u306e0\u6642\u301c24\u6642\u306e\u3042\u3044\u3060\u306b\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u3092\u78ba\u8a8d\u3057\u3001\u671f\u9650\u5207\u308c\u304c\u8fd1\u3044\u3082\u306e\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n[Timer]\nOnCalendar=weekly\nPersistent=true\nRandomizedDelaySec=86400\n\n[Install]\nWantedBy=timers.target\n```\n\n```sh\n# certbot.timer\u306e\u6709\u52b9\u5316 (OS\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u7684\u306b\u8d77\u52d5\u3055\u305b\u308b)\nsudo systemctl enable certbot.timer\n# certbot.timer\u306e\u8d77\u52d5\nsudo systemctl start certbot.timer\n```\n\n`systemctl status certbot.timer` \u3092\u5b9f\u884c\u3057\u3066 `systemd[1]: [/etc/systemd/system/certbot.timer:6] Unknown lvalue 'RandomizedDelaySec' in section 'Timer'` \u306e\u3088\u3046\u306a\u30ed\u30b0\u304c\u6b8b\u3063\u3066\u3044\u305f\u5834\u5408\u3001`RandomizedDelaySec` \u304c\u6a5f\u80fd\u3057\u3066\u3044\u307e\u305b\u3093\u3002`RandomizedDelaySec` \u306f\u3001\u6708\u66dc0\u6642\u306b\u56fa\u5b9a\u3055\u308c\u305f `OnCalendar=weekly` \u3092\u30e9\u30f3\u30c0\u30e0\u306b\u9045\u5ef6\u3055\u305b\u308b\u8a2d\u5b9a\u3067\u3059\u30022016\u5e7411\u67083\u65e5\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f [RHEL] 7.3 \u3067\u540c\u8a2d\u5b9a\u306b\u5bfe\u5fdc\u3057\u305f[^RHEL7.3]\u306e\u3067\u3001CentOS\u306a\u3069\u306e[RHEL\u30af\u30ed\u30fc\u30f3]\u3067\u3042\u308c\u30702016\u5e7411\u670828\u65e5\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u3001\u6642\u671f\u306b\u5bfe\u5fdc\u3059\u308b\u3067\u3057\u3087\u3046\u3002\u5bfe\u5fdc\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u3078\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u5f8c\u306f `sudo systemctl daemon-reload` \u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u3082\u3057\u4f7f\u7528\u3057\u3066\u3044\u308bOS\u306esystemd\u304c `RandomizedDelaySec` \u306b\u5bfe\u5fdc\u3059\u308b\u4e88\u5b9a\u304c\u306a\u3051\u308c\u3070\u3001\u4ed6\u306eOS\u3068\u540c\u69d8\u306b[crontab]\u3092\u5229\u7528\u3059\u308b\u306e\u304c\u826f\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u76f4\u8fd1\u306e\u30ed\u30b0\u306f\u6b21\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3067\u8abf\u3079\u307e\u3059\u3002\n\n- `sudo cat /var/log/letsencrypt/letsencrypt.log`\n- `systemctl status certbot --full --lines 50`\n- `systemctl status certbot.timer --full`\n\n[^RHEL7.3]: [Red Hat Customer Portal \u25b8 Support \u25b8 Product \u25b8 Documentation \u25b8 Red Hat Enterprise Linux \u25b8 7 \u25b8 7.3 Release Notes \u25b8 Chapter\u00a04.\u00a0General Updates \u25b8 New systemd option: RandomizedDelaySec](https://access.redhat.com/documentation/Red_Hat_Enterprise_Linux/7/html/7.3_Release_Notes/new_features_general_updates.html#idp14207184 \"This update introduces the RandomizedDelaySec option for systemd timers, which schedules an event to occur later by a random number of seconds.\")\n\n[systemd]: https://ja.wikipedia.org/wiki/Systemd \"systemd\u306f\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\u30c7\u30fc\u30e2\u30f3\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u304a\u3088\u3073\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u306e\u4e00\u5f0f\u3067\u3042\u308a\u3001\u7ba1\u7406\u304a\u3088\u3073\u8a2d\u5b9a\u306b\u304a\u3051\u308b\u4e2d\u5fc3\u7684\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3068\u3057\u3066Linux\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u7528\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u308b\u3002\"\n[RHEL]: https://ja.wikipedia.org/wiki/Red_Hat_Enterprise_Linux \"Red Hat Enterprise Linux\uff08\u30ec\u30c3\u30c9\u30cf\u30c3\u30c8\u30fb\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u30fb\u30ea\u30ca\u30c3\u30af\u30b9\uff09\u3001\u7565\u3057\u3066RHEL\uff08\u30ec\u30eb\uff09\u3068\u306f\u3001\u30ec\u30c3\u30c9\u30cf\u30c3\u30c8\u793e\u306b\u3088\u3063\u3066\u958b\u767a\u3001\u8ca9\u58f2\u3055\u308c\u3066\u3044\u308b\u696d\u52d9\u5411\u3051\u306eLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3002\"\n[RHEL\u30af\u30ed\u30fc\u30f3]: https://ja.wikipedia.org/wiki/Red_Hat_Enterprise_Linux%E6%B4%BE%E7%94%9F%E3%83%87%E3%82%A3%E3%82%B9%E3%83%88%E3%83%AA%E3%83%93%E3%83%A5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3 \"Red Hat Enterprise Linux\u6d3e\u751f\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3068\u306fRed Hat Enterprise Linux\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u5143\u306b\u3057\u305fLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u3042\u308b\u3002\"\n[crontab]: https://ja.wikipedia.org/wiki/Crontab \"crontab\uff08\u30af\u30ed\u30f3\u30bf\u30d6\u3001\u3042\u308b\u3044\u306f\u30af\u30ed\u30fc\u30f3\u30bf\u30d6\u3001\u30af\u30fc\u30ed\u30f3\u30bf\u30d6\u3068\u3082\uff09\u30b3\u30de\u30f3\u30c9\u306fUnix\u7cfbOS\u306b\u304a\u3044\u3066\u3001\u30b3\u30de\u30f3\u30c9\u306e\u5b9a\u6642\u5b9f\u884c\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u7ba1\u7406\u3092\u884c\u3046\u305f\u3081\u306b\u7528\u3044\u3089\u308c\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3042\u308b\u3002\"\n\nHTTP\u5fdc\u7b54\u30d8\u30c3\u30c0\u306e\u8a2d\u5b9a\n====================\n```apache:/etc/httpd/conf/httpd.conf\n# XHTML\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\nSetEnvIfExpr \"!(%{HTTP_ACCEPT} -strcmatch '*application/xhtml+xml*') || %{HTTP_USER_AGENT} =~ m#UP\\\\.Browser/6\\\\.2|Nintendo 3DS| NX/1\\\\.|Trident/5\\\\.#\" LEGACY_BROWSER\n## \u2191\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u306b\u633f\u5165 ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n<IfModule mime_module>\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n    #\n    # Filters allow you to process content before it is sent to the client.\n    #\n    # To parse .shtml files for server-side includes (SSI):\n    # (You will also need to add \"Includes\" to the \"Options\" directive.)\n    #\n    #AddType text/html .shtml\n    #AddOutputFilter INCLUDES .shtml\n    ## \u2191\u3053\u306e2\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b (CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408) ##\n    \n    ## \u2193<IfModule mime_module> \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u672b\u5c3e\u306b\u8ffd\u8a18 ##\n    <If \"-n reqenv('LEGACY_BROWSER')\">\n        # XHTML\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3051\u308c\u3070\n        AddType text/html .xhtml\n    </If>\n</IfModule>\n\n#\n# Specify a default charset for all content served; this enables\n# interpretation of all content as UTF-8 by default.  To use the \n# default browser choice (ISO-8859-1), or to allow the META tags\n# in HTML content to override this choice, comment out this\n# directive:\n#\n#AddDefaultCharset UTF-8\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n# content-type\u30d8\u30c3\u30c0\u306bcharset\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4ed8\u52a0\u3059\u308b\nAddCharset utf-8 .xhtml .html .css .es .js .txt .json .xml .csv\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n# content-language\u30d8\u30c3\u30c0\u3092\u9001\u51fa\u3059\u308b\nAddLanguage ja .xhtml .html\n## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n## \u2193\u30d5\u30a1\u30a4\u30eb\u306e\u672b\u5c3e\u306b\u8ffd\u8a18 ##\nServerTokens ProductOnly\nHeader always set x-content-type-options nosniff\n<If \"%{HTTP_USER_AGENT} =~ m#Trident/5\\\\.#\">\n    # Internet Explorer 9 \u306e\u4e92\u63db\u8868\u793a\u30dc\u30bf\u30f3\u3092\u6d88\u3059\n    Header always set x-ua-compatible IE=edge\n</If>\n```\n\n```apache:/etc/httpd/conf.d/ssl.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\nServerName example.jp\nServerAlias sub1.example.jp sub2.example.jp\nHeader always set Strict-Transport-Security \"max-age=31536000; includeSubDomains; preload\"\n## \u2191\u300cincludeSubDomains\u300d\u300cpreload\u300d\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8ffd\u52a0 ##\nSSLUseStapling on\nSSLCertificateChainFile /etc/letsencrypt/live/example.jp/chain.pem\n</VirtualHost>                                  \n\n<IfModule mod_ssl.c>\nSSLStaplingCache shmcb:/var/run/apache2/stapling_cache(128000)\n</IfModule>\n```\n\n```apache:/etc/httpd/conf.d/autoindex.conf\u3000(CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408)\n#\n# Directives controlling the display of server-generated directory listings.\n#\n# Required modules: mod_authz_core, mod_authz_host,\n#                   mod_autoindex, mod_alias\n#\n# To see the listing of a directory, the Options directive for the\n# directory must include \"Indexes\", and the directory must not contain\n# a file matching those listed in the DirectoryIndex directive.\n#\n\n#\n# IndexOptions: Controls the appearance of server-generated directory\n# listings.\n#\n#IndexOptions FancyIndexing HTMLTable VersionSort\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n# We include the /icons/ alias for FancyIndexed directory listings.  If\n# you do not use FancyIndexing, you may comment this out.\n#\n#Alias /icons/ \"/usr/share/httpd/icons/\"\n## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n                        ##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############\n```\n\n```apache:/etc/httpd/conf.d/welcome.conf\u3000(CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408)\n# \n# This configuration file enables the default \"Welcome\" page if there\n# is no default index page present for the root URL.  To disable the\n# Welcome page, comment out all the lines below. \n#\n# NOTE: if this file is removed, it will be restored on upgrades.\n#\n#<LocationMatch \"^/+$\">\n#    Options -Indexes\n#    ErrorDocument 403 /.noindex.html\n#</LocationMatch>\n\n#<Directory /usr/share/httpd/noindex>\n#    AllowOverride None\n#    Require all granted\n#</Directory>\n\n#Alias /.noindex.html /usr/share/httpd/noindex/index.html\n#Alias /css/bootstrap.min.css /usr/share/httpd/noindex/css/bootstrap.min.css\n#Alias /css/open-sans.css /usr/share/httpd/noindex/css/open-sans.css\n#Alias /images/apache_pb.gif /usr/share/httpd/noindex/images/apache_pb.gif\n#Alias /images/poweredby.png /usr/share/httpd/noindex/images/poweredby.png\n## \u2191\u3059\u3079\u3066\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n```\n\n&#x20;\n<dl><dt>[SetEnvIfExpr \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\([SetEvnIf \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u65e5\u672c\u8a9e\u8a33])</dt><dd>`SetEnvIfExpr \"!(%{HTTP_ACCEPT} -strcmatch '*application/xhtml+xml*') || %{HTTP_USER_AGENT} =~ m#UP\\\\.Browser/6\\\\.2|Nintendo 3DS| NX/1\\\\.|Trident/5\\\\.#\" LEGACY_BROWSER`</dd><dd>\u7b2c1\u5f15\u6570\u306e\u6761\u4ef6\u5f0f\u304c\u771f\u306a\u3089\u3001\u7b2c2\u5f15\u6570\u306e\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u6761\u4ef6\u5f0f\u306e\u69cb\u6587\u306f[Expressions in Apache HTTP Server]\u306b\u8f09\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u69cb\u6587\u306f[&lt;If&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u3084[RewriteCond \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3067\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002`LEGACY_BROWSER`\u306e\u3088\u3046\u306b\u5909\u6570\u5024\u3092\u7701\u7565\u3059\u308b\u3053\u3068\u306f\u3001`LEGACY_BROWSER=1`\u306e\u3088\u3046\u306b\u5909\u6570\u5024\u3068\u3057\u3066`1`\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3068\u540c\u7fa9\u3067\u3059\u3002</dd><dd>[accept\u8981\u6c42\u30d8\u30c3\u30c0]\u306b`application/xhtml+xml`\u304c\u542b\u307e\u308c\u3066\u3044\u308c\u3070\u3001\u57fa\u672c\u7684\u306b\u305d\u308c\u306fXHTML\u6587\u66f8\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308bWeb\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3059\u3002\u3057\u304b\u3057\u305d\u306e\u4e2d\u306b\u306f\u3001XHTML\u6587\u66f8\u3092\u6b63\u5e38\u306b\u6271\u3048\u305a\u3001HTML\u6587\u66f8\u3092\u8fd4\u3057\u305f\u65b9\u304c\u826f\u3044\u30d6\u30e9\u30a6\u30b6\u3082\u3042\u308a\u307e\u3059\u3002httpd.conf\u306e\u5148\u982d\u306b\u4e0a\u8a18\u306e\u3088\u3046\u306a[SetEnvIfExpr \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u3001XHTML\u6587\u66f8\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306b\u5bfe\u3057\u3001`LEGACY_BROWSER`\u3068\u3044\u3046\u74b0\u5883\u5909\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067XHTML\u6587\u66f8\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u3068\u3057\u3066\u6271\u3063\u3066\u3044\u308b\u306e\u306f\u3001[accept\u8981\u6c42\u30d8\u30c3\u30c0]\u306b`application/xhtml+xml`\u304c\u542b\u307e\u308c\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u3001Openwave Mobile Browser 6.2 (\u53e4\u3044[EZ\u30d6\u30e9\u30a6\u30b6])\u3001[NetFront Browser NX 1] \\([\u30cb\u30f3\u30c6\u30f3\u30c9\u30fc3DS\u7528\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u30fc])[^3ds]\u3001Internet Explorer 9[^ie9-xhtml] [^ie9] \u3067\u3059\u3002</dd>\n\n<dt>[AddType \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`AddType image/vnd.microsoft.icon .ico .cur`</dd><dd>\u3069\u306e\u62e1\u5f35\u5b50\u304c\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u306b\u5bfe\u5fdc\u3059\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002`mime.types`\u30d5\u30a1\u30a4\u30eb\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u60c5\u5831\u3092\u5143\u306b[content-type\u5fdc\u7b54\u30d8\u30c3\u30c0][content-type]\u304c\u8fd4\u3055\u308c\u308b\u306e\u3067\u3001\u57fa\u672c\u7684\u306b\u306f\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u304b\u3063\u305f\u308a\u3001\u767b\u9332\u3055\u308c\u3066\u3044\u3066\u3082\u60c5\u5831\u304c\u53e4\u304b\u3063\u305f\u308a\u3059\u308b\u5834\u5408\u306b\u3001\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3057\u3066`mime.types`\u306e\u8a2d\u5b9a\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002</dd>\n\n<dt>[&lt;If&gt; \u30bb\u30af\u30b7\u30e7\u30f3]</dt><dt>[&lt;ElseIf&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dt>[&lt;Else&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`<If \"-n reqenv('LEGACY_BROWSER')\">`\u301c`</If>`</dd><dd>\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u9069\u7528\u3059\u308b\u6761\u4ef6\u5f0f\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u305d\u306e\u3088\u3046\u306a\u8aac\u660e\u304c\u306a\u304f\u30a8\u30e9\u30fc\u3082\u51fa\u307e\u305b\u3093\u304c\u3001 **\u3053\u308c\u3089\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5165\u308c\u5b50\u306b\u3059\u308b\u3068\u3001\u5185\u5074\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u4e2d\u8eab\u3054\u3068\u7121\u8996\u3055\u308c\u307e\u3059** \u3002\uff08Apache 2.4.7 \u73fe\u5728\uff09</dd><dd>`-n reqenv('LEGACY_BROWSER')`\u306f\u3001<i>`LEGACY_BROWSER`\u3068\u3044\u3046\u74b0\u5883\u5909\u6570\u304c\u7a7a\u3067\u306a\u3051\u308c\u3070</i>\u771f\u3092\u8fd4\u3059\u5f0f\u3067\u3059\u3002</dd>\n\n<dt>[Include \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]<br>[IncludeOptional \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`Include /etc/httpd/conf/extra/httpd-languages.conf`</dd><dd>\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4ed6\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092<i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u304b\u3001[\u30b5\u30fc\u30d0\u30fc\u30eb\u30fc\u30c8] \\(CentOS7\u6a19\u6e96\u306eApache\u306e\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f`ServerRoot \"/etc/httpd\"`\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b) \u304b\u3089\u306e\u30d1\u30b9\u76f8\u5bfeURL\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3082\u4f7f\u7528\u53ef\u80fd\u3067\u3059\u3002<br>[IncludeOptional \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306f\u307b\u307c[Include \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3068\u540c\u3058\u3067\u3059\u304c\u3001\u30d5\u30a1\u30a4\u30eb\u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3067\u3082\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u305b\u3093\u3002</dd>\n\n<dt>[ServerTokens \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>[server\u5fdc\u7b54\u30d8\u30c3\u30c0][server]\u3068\u30b5\u30fc\u30d0\u30fc\u304c\u751f\u6210\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30d5\u30c3\u30bf\u30fc\u306b\u8868\u793a\u3055\u308c\u308b\u30b5\u30fc\u30d0\u30fc\u60c5\u5831\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f`ServerTokens Full`\u3067\u3001`Server: Apache/2.4.7 (Unix)`\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002`ServerTokens ProductOnly`\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001`Server: Apache`\u3068\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</dd>\n\n<dt>[Header \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`Header always set x-content-type-options nosniff`</dd><dd>HTTP\u5fdc\u7b54\u30d8\u30c3\u30c0\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u5185\u90e8\u30d8\u30c3\u30c0\u30c6\u30fc\u30d6\u30eb\u306b\u306f\u30d8\u30c3\u30c0\u306e\u4e00\u89a7\u304c\u683c\u7d0d\u3055\u308c\u3066\u304a\u308a\u3001[2xx\u30ec\u30b9\u30dd\u30f3\u30b9]\u306e\u5834\u5408\u306e\u307f\u5229\u7528\u3055\u308c\u308b<i>onsuccess\u30c6\u30fc\u30d6\u30eb</i>\u3068\u30012xx\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u542b\u3080\u3059\u3079\u3066\u306e\u5834\u5408\u3067\u5229\u7528\u3055\u308c\u308b<i>always\u30c6\u30fc\u30d6\u30eb</i>\u306e\u3069\u3061\u3089\u3092\u66f8\u304d\u63db\u3048\u308b\u304b\u3001\u7b2c1\u5f15\u6570\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u306f\u7701\u7565\u53ef\u80fd\u3067\u3001\u7701\u7565\u3057\u305f\u5834\u5408`onsuccess`\u306b\u306a\u308a\u307e\u3059\u3002\u7b2c2\u5f15\u6570\u3067\u5185\u90e8\u30d8\u30c3\u30c0\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u3069\u306e\u3088\u3046\u306a\u64cd\u4f5c\u3092\u884c\u3046\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002</dd><dd>\u7b2c2\u5f15\u6570\u306b\u3064\u3044\u3066\u3001`set`\u306f\u65b0\u3057\u304f\u30d8\u30c3\u30c0\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u304c\u3001\u540c\u3058\u540d\u524d\u306e\u30d8\u30c3\u30c0\u304c\u65e2\u306b\u5b58\u5728\u3059\u308c\u3070\u305d\u308c\u3092\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002`edit`\u306f\u65e2\u5b58\u306e\u30d8\u30c3\u30c0\u306e\u7f6e\u63db\u3092\u884c\u3046\u8a2d\u5b9a\u3067\u3001\u7b2c3\u5f15\u6570\u306b\u6b63\u898f\u8868\u73fe\u3001\u7b2c4\u5f15\u6570\u306b\u7f6e\u63db\u5f8c\u306e\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</dd>\n\n<dt>[AddLanguage \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`AddLanguage ja .xhtml .html`</dd><dd>\u3069\u306e\u62e1\u5f35\u5b50\u304c\u3069\u306e\u8a00\u8a9e\u306b\u5bfe\u5fdc\u3059\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\u4e0a\u8a18\u306e\u6307\u5b9a\u3067\u306f\u3001\u62e1\u5f35\u5b50\u304c`.xhtml` `.html`\u3067\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u304c\u3001HTTP\u5fdc\u7b54\u30d8\u30c3\u30c0\u3067`Content-Language: ja`\u3092\u9001\u51fa\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</dd>\n\n<dt>[AddCharset \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`AddCharset UTF-8 .xhtml .html .css .es .js .txt .json .csv .xml`</dd><dd>\u3069\u306e\u62e1\u5f35\u5b50\u304c\u3069\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3059\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\u4e0a\u8a18\u306e\u6307\u5b9a\u3067\u306f\u3001\u62e1\u5f35\u5b50\u304c`.xhtml` `.html` `.css` `.es` `.txt` `.json` `.csv`\u3067\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u5fdc\u7b54\u30d8\u30c3\u30c0\u306b\u3001`Content-Type: application/xhtml+xml; charset=UTF-8`\u306e\u3088\u3046\u306b`charset`\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u4ed8\u52a0\u3055\u308c\u307e\u3059\u3002`.htm`\u3084`.xht`\u7b49\u3001\u3053\u308c\u4ee5\u5916\u306e\u62e1\u5f35\u5b50\u3092\u6301\u3064\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u81ea\u5206\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u5b58\u5728\u3057\u3066\u3044\u308c\u3070\u3001\u305d\u308c\u3089\u3082\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u6587\u5b57\u5316\u3051\u306f[XSS]\u306b\u3064\u306a\u304c\u308b\u53ef\u80fd\u6027\u3082\u3042\u308b\u306e\u3067\u3001\u8a2d\u5b9a\u6f0f\u308c\u304c\u7121\u3044\u3088\u3046\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</dd><dd>\u306a\u304a\u3001`application/json` \u306b `charset` \u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u5b58\u5728\u305b\u305a\u3001\u4f8b\u306e\u901a\u308a\u8a18\u8ff0\u3057\u305f\u5834\u5408 `Content-Type: application/json; charset=UTF-8` \u306e\u3088\u3046\u306a\u4e0d\u6b63\u306a\u30d8\u30c3\u30c0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u3057\u304b\u3057\u306a\u304c\u3089\u3001`Content-Type: application/json` \u3092\u51fa\u529b\u3059\u308b\u3068\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3068\u30d6\u30e9\u30a6\u30b6\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u3063\u3066\u306f\u6587\u5b57\u5316\u3051\u3057\u307e\u3059\u3002[^json]</dd>\n</dl>\n\n| HTTP\u5fdc\u7b54\u30d8\u30c3\u30c0\u30d5\u30a3\u30fc\u30eb\u30c9\u540d  |   |\n|-----------------------------|---|\n| [content-type]              | `application/xhtml+xml`\u3084`text/css`\u306a\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u7a2e\u985e\u3068\u3001\u6587\u5b57\u30b3\u30fc\u30c9\u3092\u793a\u3057\u307e\u3059\u3002\u3053\u306e\u30d8\u30c3\u30c0\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u3068\u3001[XSS]\u306e\u767a\u751f\u306b\u3064\u306a\u304c\u308a\u307e\u3059\u3002 |\n| [content-language]          | HTML\u6587\u66f8\u3001XHTML\u6587\u66f8 (\u4ee5\u4e0b\u3001HTML) \u3067\u306f\u3001\u3053\u306e\u30d8\u30c3\u30c0\u3084[lang\u5c5e\u6027]\u306b\u3088\u3063\u3066\u6587\u7ae0\u3084\u5358\u8a9e\u306e\u8a00\u8a9e\u304c\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u6307\u5b9a\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u3068\u3001\u610f\u56f3\u3057\u305f\u30d5\u30a9\u30f3\u30c8\u3067\u8868\u793a\u3055\u308c\u306a\u3044\u3068\u3044\u3063\u305f\u5f0a\u5bb3\u3082\u8d77\u304d\u307e\u3059\u3002\u306a\u304a\u3001\u3053\u308c\u3089\u306e\u5024\u306b\u6307\u5b9a\u3059\u308b[\u8a00\u8a9e\u30bf\u30b0]\u306b\u3064\u3044\u3066\u3001`ja-JP` (\u8a00\u8a9e\u3068\u5730\u57df\u3092`-`\u3067\u7e4b\u3044\u3067\u3044\u308b) \u306f\u6b63\u3057\u3044\u5024\u3067\u3059\u304c\u3001`ja_JP` (\u8a00\u8a9e\u3068\u5730\u57df\u3092`_`\u3067\u7e4b\u3044\u3067\u3044\u308b) \u3068\u66f8\u304f\u306e\u306f\u8aa4\u308a\u3067\u3059\u3002 |\n| [link]                      | HTML\u306e[link\u8981\u7d20]\u3068\u540c\u3058\u610f\u5473\u3092\u6301\u3061\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001`link: </common/development>; rel=stylesheet`\u306f\u3001head\u8981\u7d20\u5185\u306b\u8a18\u8ff0\u3057\u305f`<link href=\"/common/development\" rel=\"stylesheet\" />`\u3068\u540c\u3058\u52b9\u679c\u304c\u3042\u308a\u307e\u3059\u30022013\u5e7411\u6708\u73fe\u5728\u3001Firefox\u306e\u307f`rel=stylesheet`\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001HTML\u4ee5\u5916\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u305f\u5834\u5408\u306b\u3082\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002`rel=icon`\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u3002 |\n| [x-content-type-options]    | Internet Explorer\u306e[content-type\u5fdc\u7b54\u30d8\u30c3\u30c0][content-type]\u7121\u8996\u3092\u9632\u304e\u307e\u3059\u3002[XSS]\u3092\u9632\u6b62\u3059\u308b\u305f\u3081\u306b\u3082\u3001\u3053\u306e\u30d8\u30c3\u30c0\u306f\u5fc5\u305a\u9001\u51fa\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002 |\n| [x-ua-compatible]           | **\u672c\u6765\u306fmeta\u8981\u7d20\u3067\u4f7f\u3046\u5c5e\u6027\u5024\u3067\u3001HTTP\u30d8\u30c3\u30c0\u3068\u3057\u3066\u306f\u975e\u6a19\u6e96\u3067\u3059\u3002** Internet Explorer 9[^ie9] \u306e\u4e92\u63db\u8868\u793a\u30dc\u30bf\u30f3\u3092\u6d88\u3057\u307e\u3059\u3002 |\n| [strict-transport-security] | HTTPS\u63a5\u7d9a\u3092\u5f37\u5236\u3059\u308b [HTTP Strict Transport Security (HSTS)][strict-transport-security] \u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\u3053\u306e\u6307\u5b9a\u306f\u3001\u540c\u4e00\u30c9\u30e1\u30a4\u30f3\u306b\u5bfe\u3057 `max-age` \u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u6307\u5b9a\u3057\u305f\u79d2\u6570\u3060\u3051\u8a18\u61b6\u3055\u308c\u307e\u3059\u3002`includeSubDomains` \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306b\u5bfe\u3057\u3066\u3082HTTPS\u63a5\u7d9a\u3092\u5f37\u5236\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u3088\u3046\u306a\u6761\u4ef6\u3092\u6e80\u305f\u305b\u3070\u3001\u30d6\u30e9\u30a6\u30b6\u304c\u521d\u3081\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u304d\u3082HTTPS\u3092\u77ef\u6b63\u3059\u308b[HSTS Preload]\u304c\u5229\u7528\u3067\u304d\u307e\u3059\u3002<ul><li>http://\u301c \u304b\u3089 https://\u301c \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u3044\u308b</li><li>\u3059\u3079\u3066\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306bHTTPS\u63a5\u7d9a\u3067\u304d\u308b</li><li>`max-age` \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5024\u304c18\u9031\u9593 (10886400\u79d2) \u4ee5\u4e0a</li><li>`includeSubDomains` \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b</li><li>\u975e\u6a19\u6e96\u306e `preload` \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b</li></ul> [HSTS Preload List Submission]\u304b\u3089[HSTS Preload]\u3092\u5229\u7528\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u767b\u9332\u3057\u307e\u3059\u3002\u30ea\u30b9\u30c8\u306fGoogle\u304c\u7ba1\u7406\u3057\u3066\u3044\u307e\u3059\u3002 |\n| [content-security-policy]<br>[x-frame-options] | (\u5f8c\u8ff0) |\n\n[^3ds]: [NetFront Browser NX 1] \\([\u30cb\u30f3\u30c6\u30f3\u30c9\u30fc3DS\u7528\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u30fc]) \u306f\u3001XHTML\u6587\u66f8\u306b\u304a\u3044\u3066\u3001\u5c5e\u6027\u5024\u304c\u7a7a\u306e\u5c5e\u6027\u3092\u524a\u9664\u3057\u3066\u3057\u307e\u3046\u4e0d\u5177\u5408\u304c\u3042\u308b\u3002\n[^ie9-xhtml]: [\u6761\u4ef6\u4ed8\u304d\u30b3\u30e1\u30f3\u30c8]\u306fHTML\u6587\u66f8\u3092 Internet Explorer 9 \u3067\u958b\u3044\u305f\u5834\u5408\u306e\u307f\u6a5f\u80fd\u3059\u308b\u3002\n              <ul><li>[asamuzaK.jp : IE9\u3068\u6761\u4ef6\u30b3\u30e1\u30f3\u30c8](http://asamuzak.jp/html/ua/315 \"IE9\u3068\u6761\u4ef6\u30b3\u30e1\u30f3\u30c8 \u301cIE9\u306e\u6761\u4ef6\u30b3\u30e1\u30f3\u30c8\u306e\u632f\u308b\u821e\u3044\u301c\")</li></ul>\n[^json]: JSON\u30d5\u30a1\u30a4\u30eb\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u76f4\u63a5\u958b\u3044\u305f\u3068\u304d\u3001Firefox\u3001Opera\u3001Google Chrome\u3067\u6587\u5b57\u5316\u3051\u3059\u308bJSON\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d (2016\u5e7410\u6708\u301c11\u6708\u73fe\u5728)\u3002\n[^ie9]: Internet Explorer 9 \u306f Windows Vista \u3067\u3057\u304b\u5229\u7528\u3067\u304d\u306a\u3044\u304c\u3001Windows Vista \u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306f2017\u5e744\u670811\u65e5\u3067\u7d42\u4e86\u3059\u308b\u3002\n        <ul><li>[Internet Explorer\u30b5\u30dd\u30fc\u30c8\u30dd\u30ea\u30b7\u30fc\u5909\u66f4\u306e\u91cd\u8981\u306a\u304a\u77e5\u3089\u305b \u2014 Microsoft]</li><li>[Windows \u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u88fd\u54c1\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb]</li></ul>\n\n[SetEnvIfExpr \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/en/mod/mod_setenvif.html#setenvifexpr \"Sets environment variables based on an ap_expr expression\"\n[SetEvnIf \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u65e5\u672c\u8a9e\u8a33]: https://httpd.apache.org/docs/current/mod/mod_setenvif.html#setenvif \"\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u5c5e\u6027\u306b\u57fa\u3065\u3044\u3066\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\"\n[Expressions in Apache HTTP Server]: https://httpd.apache.org/docs/current/expr.html \"Historically, there are several syntax variants for expressions used to express a condition in the different modules of the Apache HTTP Server. There is some ongoing effort to only use a single variant, called ap_expr, for all configuration directives. This document describes the ap_expr expression parser.\"\n[accept\u8981\u6c42\u30d8\u30c3\u30c0]: https://triple-underscore.github.io/RFC7231-ja.html#header.accept \"UA \u306f\u3001[ \u5fdc\u7b54\u306e\u5a92\u4f53\u578b\u3068\u3057\u3066\u53d7\u5bb9\u53ef\u80fd\u306a\u3082\u306e ] \u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b,  Accept \u30d8\u30c3\u30c0\u3092\u5229\u7528\u3067\u304d\u308b\u3002 Accept \u30d8\u30c3\u30c0\u306f\u3001[ \u8981\u8acb\u304c, \u6b32\u3055\u308c\u308b\u578b\u304b\u3089\u306a\u308b\u5c0f\u3055\u306a\u96c6\u5408\u306b\u7279\u306b\u5236\u9650\u3055\u308c\u308b ] \u3053\u3068\u3092\u6307\u793a\u3059\u308b\u3068\u304d\u306b\u5229\u7528\u3067\u304d\u308b \u2014 \u4f8b\u3048\u3070, \u30a4\u30f3\u30e9\u30a4\u30f3\u753b\u50cf\u306b\u5bfe\u3059\u308b\u8981\u8acb\u306a\u3069\u3002\"\n[EZ\u30d6\u30e9\u30a6\u30b6]: https://ja.wikipedia.org/wiki/EZweb \"EZweb\uff08\u30a4\u30fc\u30b8\u30fc\u30a6\u30a7\u30d6\uff09\u306f\u3001KDDI\u30fb\u6c96\u7e04\u30bb\u30eb\u30e9\u30fc\u96fb\u8a71\u306e\u643a\u5e2f\u96fb\u8a71\u30d6\u30e9\u30f3\u30c9au\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u643a\u5e2f\u96fb\u8a71IP\u63a5\u7d9a\u30b5\u30fc\u30d3\u30b9\u306e\u540d\u79f0\u3067\u3042\u308b\u3002\"\n[NetFront Browser NX 1]: https://ja.wikipedia.org/wiki/NetFront_Browser \"NetFront Browser\uff08\u30cd\u30c3\u30c8\u30d5\u30ed\u30f3\u30c8\u30d6\u30e9\u30a6\u30b6\uff09\u3068\u306f\u3001\u682a\u5f0f\u4f1a\u793eACCESS\u304c\u958b\u767a\u3057\u3066\u3044\u308b\u7d44\u8fbc\u6a5f\u5668\u7528\u306e\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3067\u3042\u308b\u3002\"\n[\u30cb\u30f3\u30c6\u30f3\u30c9\u30fc3DS\u7528\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u30fc]: https://ja.wikipedia.org/wiki/%E3%83%8B%E3%83%B3%E3%83%86%E3%83%B3%E3%83%89%E3%83%BC3DS#.E3.82.BD.E3.83.95.E3.83.88.E3.82.A2.E3.82.A4.E3.82.B3.E3.83.B3.E4.BB.A5.E5.A4.96.E3.81.AE.E5.86.85.E8.94.B5.E6.A9.9F.E8.83.BD \"\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3092\u63a5\u7d9a\u3057\u3066\u3001Web\u30b5\u30a4\u30c8\u306a\u3069\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u6a5f\u80fd\u3002\"\n[AddType \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_mime.html#addtype \"\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u62e1\u5f35\u5b50\u3092\u6307\u5b9a\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30f3\u30c8\u30bf\u30a4\u30d7\u306b\u30de\u30c3\u30d7\"\n[&lt;If&gt; \u30bb\u30af\u30b7\u30e7\u30f3]: https://httpd.apache.org/docs/current/mod/core.html#if \"\u5b9f\u884c\u6642\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u6761\u4ef6\u3092\u6e80\u305f\u3057\u305f\u5834\u5408\u306b\u306e\u307f\u9069\u7528\u3055\u308c\u308b \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u5305\u542b\u3059\u308b\"\n[&lt;ElseIf&gt; \u30bb\u30af\u30b7\u30e7\u30f3]: https://httpd.apache.org/docs/current/en/mod/core.html#elseif \"Contains directives that apply only if a condition is satisfied by a request at runtime while the condition of a previous <If> or <ElseIf> section is not satisfied\"\n[&lt;Else&gt; \u30bb\u30af\u30b7\u30e7\u30f3]: https://httpd.apache.org/docs/current/en/mod/core.html#else \"Contains directives that apply only if the condition of a previous <If> or <ElseIf> section is not satisfied by a request at runtime\"\n[Include \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#include \"\u30b5\u30fc\u30d0\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4e2d\u304b\u3089\u4ed6\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u308a\u8fbc\u3080\"\n[IncludeOptional \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/en/mod/core.html#includeoptional \"Includes other configuration files from within the server configuration files\"\n[\u30b5\u30fc\u30d0\u30fc\u30eb\u30fc\u30c8]: https://httpd.apache.org/docs/current/mod/core.html#serverroot \"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30b5\u30fc\u30d0\u306e\u30d9\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\"\n[ServerTokens \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#servertokens \"Server HTTP \u5fdc\u7b54\u30d8\u30c3\u30c0\u3092\u8a2d\u5b9a\u3059\u308b\"\n[Header \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_headers.html#header \"HTTP \u5fdc\u7b54\u30d8\u30c3\u30c0\u306e\u8a2d\u5b9a\"\n[2xx\u30ec\u30b9\u30dd\u30f3\u30b9]: https://triple-underscore.github.io/RFC7231-ja.html#status.2xx \"\u30af\u30e9\u30b9 2xx (Successful) \u306e\u72b6\u614b\u00b0\u30b3\u30fc\u30c9\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8981\u8acb\u304c, \u6210\u529f\u88e1\u306b [ \u53d7\u4fe1\u3055\u308c, \u89e3\u3055\u308c, \u53d7\u5bb9\u3055\u308c\u305f ] \u3053\u3068\u3092\u6307\u793a\u3059\u308b\u3002\"\n[AddLanguage \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_mime.html#addlanguage \"\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3055\u308c\u305f\u8a00\u8a9e\u306b\u30de\u30c3\u30d7\"\n[AddCharset \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_mime.html#addcharset \"\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u62e1\u5f35\u5b50\u3092\u6307\u5b9a\u3055\u308c\u305f\u6587\u5b57\u30bb\u30c3\u30c8\u306b\u30de\u30c3\u30d7\u3059\u308b\"\n[XSS]: https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AD%E3%82%B9%E3%82%B5%E3%82%A4%E3%83%88%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0 \"\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0\uff08\u82f1: cross site scripting\uff09\u3068\u306f\u3001\u30a6\u30a7\u30d6\u30da\u30fc\u30b8\u306e\u90e8\u5206\u3092\u30e6\u30fc\u30b6\u304b\u3089\u306e\u5165\u529b\u3092\u305d\u306e\u307e\u307e\u30a8\u30b3\u30fc\u30d0\u30c3\u30af\uff08\u304a\u3046\u3080\u8fd4\u3057\uff09\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u751f\u6210\u3057\u3066\u3044\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u4e0d\u5099\u3092\u5229\u7528\u3057\u3066\u3001\u30b5\u30a4\u30c8\u9593\u3092\u6a2a\u65ad\u3057\u3066\u60aa\u610f\u306e\u3042\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u6ce8\u5165\u3059\u308b\u653b\u6483\u306e\u3053\u3068\u3092\u3044\u3046\u3002\u307e\u305f\u7d4c\u7def\u4e0a\u3001\u305d\u308c\u3092\u8a31\u3057\u3066\u3057\u307e\u3046\u8106\u5f31\u6027\u306b\u3064\u3044\u3066\u3082\u3001\u3053\u306e\u3088\u3046\u306b\u547c\u3070\u308c\u3066\u3044\u308b\u3002\"\n[content-type]: https://triple-underscore.github.io/RFC7231-ja.html#header.content-type \"Content-Type \u30d8\u30c3\u30c0\u306f\u3001\u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\u8868\u73fe \u2014 \u30e1\u30c3\u30bb\u30fc\u30b8\u610f\u5473\u8ad6\u306b\u5f93\u3063\u3066\u6c7a\u5b9a\u3055\u308c\u305f, [ \u30e1\u30c3\u30bb\u30fc\u30b8\u30da\u30a4\u30ed\u30fc\u30c9\u5185\u306b\u540c\u5c01\u3055\u308c\u305f\u8868\u73fe, \u307e\u305f\u306f \u9078\u5b9a\u3055\u308c\u305f\u8868\u73fe ] \u2014 \u306e, \u5a92\u4f53\u578b\u3092\u6307\u793a\u3059\u308b\u3002 \u6307\u793a\u3055\u308c\u305f\u5a92\u4f53\u578b\u306f\u3001[ Content-Encoding \u306b\u3088\u308a\u6307\u793a\u3055\u308c\u308b\u5185\u5bb9\u7b26\u53f7\u6cd5\uff08\u305f\u3061\uff09\u304c\u5fa9\u53f7\u3055\u308c\u305f\u5f8c ] \u306b\u304a\u3051\u308b, [ \u30c7\u30fc\u30bf\u5f62\u5f0f, \u304a\u3088\u3073 [ \u53d7\u4fe1\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u610f\u5473\u8ad6\u306e\u8996\u91ce\u306e\u4e2d\u3067, \u53d7\u4fe1\u8005\u304c\u305d\u306e\u30c7\u30fc\u30bf\u3092\u3069\u3046\u51e6\u7406\u3059\u308b\u3082\u306e\u3068\u610f\u56f3\u3055\u308c\u3066\u3044\u308b\u304b ] ] \u3092\u5b9a\u7fa9\u3059\u308b\u3002\"\n[server]: https://triple-underscore.github.io/RFC7231-ja.html#header.server \"Server \u30d8\u30c3\u30c0\u306f\u3001[ \u751f\u6210\u5143\u30b5\u30fc\u30d0\u304c, \u8981\u8acb\u3092\u53d6\u308a\u6271\u3046\u305f\u3081\u306b\u5229\u7528\u3057\u3066\u3044\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 ] \u306b\u3064\u3044\u3066\u306e\u60c5\u5831\u3092\u5305\u542b\u3059\u308b\"\n[content-language]: https://triple-underscore.github.io/RFC7231-ja.html#header.content-language \"Content-Language \u30d8\u30c3\u30c0\u306f\u3001\u8868\u73fe\u306b\u610f\u56f3\u3055\u308c\u308b\u8996\u8074\u8005\u306e\u81ea\u7136\u8a00\u8a9e\uff08\u305f\u3061\uff09\u3092\u8ff0\u3079\u308b\u3002 \u3053\u308c\u306f\u3001[ \u8868\u73fe\u306e\u4e2d\u3067\u5229\u7528\u3055\u308c\u308b \u3069\u306e\u8a00\u8a9e\u306b\u3082\u7b49\u4fa1\u306b\u306a\u3089\u306a\u3044 ] \u5834\u5408\u3082\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002\"\n[lang\u5c5e\u6027]: https://triple-underscore.github.io/HTML-dom-ja.html#the-lang-and-xml:lang-attributes \"\u3069\u306e\u540d\u524d\u7a7a\u9593\u306b\u3082\u5c5e\u3055\u306a\u3044 lang \u5c5e\u6027 \u2014 \u4ee5\u4e0b\u3001 \u7d20\u306e lang \u5c5e\u6027 \u3068\u7565\u8a18\u3059\u308b \u2014 \u306f\u3001[ \u8981\u7d20\u306e\u5185\u5bb9, \u304a\u3088\u3073 \u30c6\u30ad\u30b9\u30c8\u3092\u5305\u542b\u3059\u308b\u3088\u3046\u306a\u8981\u7d20\u306e\u5c5e\u6027 ] \u306b\u5bfe\u3059\u308b\u7b2c\u4e00\u8a00\u8a9e\u3092\u6307\u5b9a\u3059\u308b\u3002 \u305d\u306e\u5024\u306f\u59a5\u5f53\u306a BCP 47 \u8a00\u8a9e\u30bf\u30b0\u304b, \u7a7a\u6587\u5b57\u5217\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002 \u7a7a\u6587\u5b57\u5217\u306f\u3001\u7b2c\u4e00\u8a00\u8a9e\u304c\u672a\u77e5\u3067\u3042\u308b\u3053\u3068\u3092\u6307\u793a\u3059\u308b\u3002\"\n[\u8a00\u8a9e\u30bf\u30b0]: https://ja.wikipedia.org/wiki/IETF%E8%A8%80%E8%AA%9E%E3%82%BF%E3%82%B0 \"IETF\u8a00\u8a9e\u30bf\u30b0\uff08\u82f1\u8a9e: IETF language tag\uff09\u306f\u3001BCP 47\uff08\u73fe\u5728\u306f RFC 5646 \u3068 RFC 4647\uff09\u306b\u3088\u308a\u5b9a\u7fa9\u3055\u308c\u308b\u6280\u8853\u4ed5\u69d8\u3067\u3042\u308b\u3002\u3053\u308c\u306f HTTP\u3001HTML\u3001XML\u3001PNG\u3001\u306e\u3088\u3046\u306a\u591a\u304f\u306e\u6280\u8853\u6a19\u6e96\u306b\u304a\u3044\u3066\u4f7f\u308f\u308c\u3066\u3044\u308b\u3002\"\n[link]: //qiita.com/mpyw/items/203012d8b9e5386e6f0b \"\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u3068\u3044\u3048\u3070<link>\u8981\u7d20\u3092\u4f7f\u3046\u306e\u304c\u4e00\u822c\u7684\u3067\u3059\u304c, \u5b9f\u306fRFC\u7684\u306b\u306fHTTP\u30d8\u30c3\u30c0\u306bLink:\u3092\u4f7f\u3046\u3053\u3068\u3082\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059. \u3068\u3053\u308d\u304c\u30d6\u30e9\u30a6\u30b6\u306e\u5bfe\u5fdc\u72b6\u6cc1\u304c\u610f\u5916\u306b\u3082\u82b3\u3057\u304f\u7121\u304f\u2026\"\n[link\u8981\u7d20]: https://triple-underscore.github.io/HTML-metadata-ja.html#the-link-element \"link \u8981\u7d20\u306b\u3088\u308a\u3001\u4f5c\u8005\u306f, \u81ea\u8eab\u306e\u6587\u66f8\u304b\u3089\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3078\u306e\u30ea\u30f3\u30af\u3092\u3042\u3066\u304c\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u3002\"\n[x-content-type-options]: https://triple-underscore.github.io/Fetch-ja.html#x-content-type-options-header \"\u2018X-Content-Type-Options\u2019 \u5fdc\u7b54\u30d8\u30c3\u30c0\u3092\u5229\u7528\u3057\u3066\u3001[ \u5fdc\u7b54\u306e \u2018Content-Type\u2019 \u30d8\u30c3\u30c0\u3092, \u8981\u8acb\u306e\u7a2e\u5225\u306b\u5bfe\u3057\u691c\u67fb\u3059\u308b ] \u3053\u3068\u3092\u8981\u6c42\u3067\u304d\u308b\u3002\"\n[x-ua-compatible]: https://triple-underscore.github.io/HTML-metadata-ja.html#attr-meta-http-equiv-x-ua-compatible \"\u3053\u306e pragma \u306f\u3001\u5b9f\u65bd\u306b\u304a\u3044\u3066\u306f, Internet Explorer \u306b\u5bfe\u3057 \u3088\u308a\u4ed5\u69d8\u306b\u8fd1\u304f\u3075\u308b\u307e\u3046\u3053\u3068\u3092\u5968\u52b1\u3059\u308b\u3002\"\n[strict-transport-security]: https://developer.mozilla.org/docs/Web/Security/HTTP_Strict_Transport_Security \"HTTP Strict Transport Security\uff08\u3057\u3070\u3057\u3070 HSTS \u3068\u7565\u3055\u308c\u307e\u3059\uff09\u306f\u3001HTTP \u306e\u4ee3\u308f\u308a\u306b HTTPS \u3092\u7528\u3044\u3066\u901a\u4fe1\u3092\u884c\u3046\u3088\u3046\u3001Web \u30b5\u30a4\u30c8\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u306b\u306b\u4f1d\u9054\u3059\u308b\u305f\u3081\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u6a5f\u80fd\u3067\u3059\u3002\"\n[HSTS Preload]: //qiita.com/takoratta/items/fb6b3486257eb7b9f12e#preloaded-hsts \"HSTS\u3092\u7528\u3044\u3066\u3082\u3001\u6700\u521d\u306e\u63a5\u7d9a\u306bHTTP\u3092\u7528\u3044\u308b\u9650\u308a\u3001\u5b8c\u5168\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u5b9f\u73fe\u3055\u308c\u306a\u3044\u3002\u3053\u308c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b\u3001Chrome\u3067\u306fPreloaded HSTS\u3001\u3059\u306a\u308f\u3061\u6700\u521d\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u306bHSTS\u3092\u7d44\u307f\u8fbc\u3081\u3070\u826f\u3044\u3002\u3053\u308c\u306f\u30d6\u30e9\u30a6\u30b6\u672c\u4f53\u306bHSTS\u3067\u63a5\u7d9a\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u306e\u30ea\u30b9\u30c8\u3092\u6301\u3064\u3053\u3068\u306b\u3088\u308a\u5b9f\u73fe\u3067\u304d\u308b\u3002\"\n[HSTS Preload List Submission]: https://hstspreload.appspot.com/ \"This form is used to submit domains for inclusion in Chrome\u2019s HTTP Strict Transport Security (HSTS) preload list. This is a list of sites that are hardcoded into Chrome as being HTTPS only.\"\n[content-security-policy]: https://triple-underscore.github.io/CSP3-ja.html \"\u3053\u306e\u6587\u66f8\u306f\u3001\u3042\u308b\u7279\u5b9a\u306e\u30da\u30fc\u30b8\u304c \u3069\u306e\u30ea\u30bd\u30fc\u30b9\u3092 fetch \u3042\u308b\u3044\u306f\u5b9f\u884c\u3067\u304d\u308b\u304b, \u304a\u3088\u3073 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u95a2\u9023\u3059\u308b\u6570\u3005\u306e\u30dd\u30ea\u30b7\u30fc\u6c7a\u5b9a\u306b\u3064\u3044\u3066, \u30a6\u30a7\u30d6\u958b\u767a\u8005\u304c\u5236\u5fa1\u3067\u304d\u308b\u4ed5\u7d44\u307f\u3092\u5b9a\u7fa9\u3059\u308b\u3002\"\n[x-frame-options]: https://developer.mozilla.org/docs/Web/HTTP/X-Frame-Options \"X-Frame-Options HTTP \u30ec\u30b9\u30dd\u30f3\u30b9\u30d8\u30c3\u30c0\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304c\u30da\u30fc\u30b8\u3092 <frame> \u307e\u305f\u306f <iframe> \u306e\u5185\u90e8\u306b\u8868\u793a\u3059\u308b\u3053\u3068\u3092\u8a31\u53ef\u3059\u308b\u304b\u3092\u793a\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\"\n[\u6761\u4ef6\u4ed8\u304d\u30b3\u30e1\u30f3\u30c8]: https://ja.wikipedia.org/wiki/%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88 \"\u6761\u4ef6\u4ed8\u304d\u30b3\u30e1\u30f3\u30c8\uff08\u3058\u3087\u3046\u3051\u3093\u3064\u304d\u30b3\u30e1\u30f3\u30c8\uff09\u3068\u306f\u3001Microsoft Internet Explorer\u306b\u5bfe\u3057\u3066\u3001\u30b3\u30fc\u30c9\u3092\u6e21\u3057\u305f\u308a\u96a0\u3057\u305f\u308a\u3059\u308b\u306e\u306b\u4f7f\u7528\u3067\u304d\u308bHTML\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4e2d\u306b\u3042\u308b\u6761\u4ef6\u4ed8\u304d\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3067\u3042\u308b\u3002Internet Explorer 5\u3067\u521d\u3081\u3066\u767b\u5834\u3057\u3001\u30d0\u30fc\u30b8\u30e7\u30f39\u307e\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f\u3002\"\n[Internet Explorer\u30b5\u30dd\u30fc\u30c8\u30dd\u30ea\u30b7\u30fc\u5909\u66f4\u306e\u91cd\u8981\u306a\u304a\u77e5\u3089\u305b \u2014 Microsoft]: https://www.microsoft.com/ja-jp/windows/lifecycle/iesupport/ \"\u7c73\u56fd\u6642\u9593\u306e 2014 \u5e74 8 \u6708 7 \u65e5\u3001\u30de\u30a4\u30af\u30ed\u30bd\u30d5\u30c8\u306f Internet Explorer \u306e\u30b5\u30dd\u30fc\u30c8\u30dd\u30ea\u30b7\u30fc\u306b\u3064\u3044\u3066\u3001\u91cd\u8981\u306a\u304a\u77e5\u3089\u305b \u5225\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3092\u81f4\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u30012016 \u5e74 1 \u6708 12 \u65e5 (\u7c73\u56fd\u6642\u9593) \u3092\u904e\u304e\u308b\u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0 \u30b7\u30b9\u30c6\u30e0\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3001\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e Internet Explorer \u3060\u3051\u304c\u3001\u6280\u8853\u30b5\u30dd\u30fc\u30c8\u3068\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u53d7\u3051\u3089\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u7c73\u56fd\u6642\u9593\u306e 2014 \u5e74 8 \u6708 7 \u65e5\u3001\u30de\u30a4\u30af\u30ed\u30bd\u30d5\u30c8\u306f Internet Explorer \u306e\u30b5\u30dd\u30fc\u30c8\u30dd\u30ea\u30b7\u30fc\u306b\u3064\u3044\u3066\u3001\u91cd\u8981\u306a\u304a\u77e5\u3089\u305b \u5225\u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3092\u81f4\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u30012016 \u5e74 1 \u6708 12 \u65e5 (\u7c73\u56fd\u6642\u9593) \u3092\u904e\u304e\u308b\u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0 \u30b7\u30b9\u30c6\u30e0\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3001\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e Internet Explorer \u3060\u3051\u304c\u3001\u6280\u8853\u30b5\u30dd\u30fc\u30c8\u3068\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u53d7\u3051\u3089\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\"\n[Windows \u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u88fd\u54c1\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb]: https://www.microsoft.com/ja-jp/windows/lifecycle/ \"Windows \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 OS \u306e\u88fd\u54c1\u30b5\u30dd\u30fc\u30c8\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb \u30dd\u30ea\u30b7\u30fc\u66f4\u65b0\u306b\u3064\u3044\u3066 (2012 \u5e74 2 \u6708)\"\n\nContent Security Policy\n-----------------------\n\u30b5\u30a4\u30c8\u88fd\u4f5c\u8005\u306e\u610f\u56f3\u3057\u306a\u3044\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\u306a\u3069\u3092\u30d6\u30e9\u30a6\u30b6\u5074\u3067\u30d6\u30ed\u30c3\u30af\u3057\u3001[XSS]\u306a\u3069\u3092\u9632\u304e\u307e\u3059\u3002\n\nInternet Explorer \u306f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n\u4ee5\u4e0b\u306b[content-security-policy\u5fdc\u7b54\u30d8\u30c3\u30c0][content-security-policy]\u306e\u8a2d\u5b9a\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\n```apache:/etc/httpd/conf/httpd.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n# \u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u3067\u5171\u901a\u306e\u30dd\u30ea\u30b7\u30fc\nHeader always set content-security-policy \"default-src 'none'; disown-opener; frame-ancestors 'none'; style-src 'self'; img-src 'self'; upgrade-insecure-requests; report-uri [\u30ec\u30dd\u30fc\u30c8\u306e\u9001\u4fe1\u5148URL]\"\n<If \"%{HTTP_USER_AGENT} -strmatch '*Trident/*'\">\n    # Internet Explorer \u3067 frame-ancestors 'none' \u3092\u6a5f\u80fd\u3055\u305b\u308b\n    Header always set x-frame-options DENY\n</If>\n\n<DirectoryMatch ^/var/www/html/index$>\n    # \u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3078\u306eSVG\u753b\u50cf\u306e\u57cb\u3081\u8fbc\u307f\n    Header always edit content-security-policy $ \"; object-src 'self'; frame-src 'self'\"\n</DirectoryMatch>\n<DirectoryMatch ^/var/www/html/chat/index$>\n    # \u30c1\u30e3\u30c3\u30c8\u306estyle\u5c5e\u6027\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3001EventSource\u3001XMLHttpRequest\u3001\u304a\u3088\u3073\u30d9\u30eb\u97f3\n    Header always edit content-security-policy \"style-src 'self'\" \"style-src 'self' 'unsafe-inline'; script-src 'self'; connect-src 'self'; media-src 'self'\"\n</DirectoryMatch>\n<Directory /var/www/html/link>\n    # \u30ea\u30f3\u30af\u96c6\u306e\u30d0\u30ca\u30fc\n    Header always edit content-security-policy \"img-src 'self'\" \"img-src 'self' example.com example.jp example.co.jp example.ne.jp\"\n</Directory>\n<Directory /var/www/html/phpMyAdmin>\n    # phpMyAdmin\n    Header always edit content-security-policy \"style-src 'self'\" \"style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self'\"\n</Directory>\n<DirectoryMatch ^/var/www/html/phpinfo$>\n    # phpinfo()\u95a2\u6570\u306e\u7d50\u679c\u3092\u8868\u793a\u3059\u308b\u30da\u30fc\u30b8\n    Header always edit content-security-policy \"style-src 'self'\" \"style-src 'self' 'unsafe-inline'\"\n    Header always edit content-security-policy \"img-src 'self'\" \"img-src 'self' data:\"\n</DirectoryMatch>\n```\n\n\u4ee5\u4e0a\u306e\u30b3\u30fc\u30c9\u4f8b\u306econtent-security-policy\u5fdc\u7b54\u30d8\u30c3\u30c0\u5024\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u610f\u5473\u306b\u306a\u308a\u307e\u3059 (`disown-opener` `frame-ancestors` `upgrade-insecure-requests` `report-to` \u7701\u7565)\u3002\n\n&#x20;\n<dl><dt>`default-src 'none'; style-src 'self'; img-src 'self'`</dt><dd>\u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u306b\u9069\u7528\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3002\u540c\u4e00\u751f\u6210\u5143\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u3068\u540c\u4e00\u751f\u6210\u5143\u306e\u753b\u50cf\u306e\u307f\u8a31\u53ef\u3057\u3066\u3044\u308b\u3002</dd>\n\n<dt>`default-src 'none'; style-src 'self'; img-src 'self'; object-src 'self'; frame-src 'self'`</dt><dd>object\u8981\u7d20\u3067SVG\u753b\u50cf\u3092\u57cb\u3081\u8fbc\u3080\u5834\u5408\u3002Firefox\u306f<i>object</i>\u3001Opera\u3068Google Chrome\u306f<i>frame</i>\u3068\u8a8d\u8b58\u3059\u308b\u305f\u3081\u3001\u4e21\u65b9\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u8a31\u53ef\u3057\u3066\u3044\u308b\u3002</dd>\n\n<dt>`default-src 'none'; style-src 'self' 'unsafe-inline'; script-src 'self'; connect-src 'self'; media-src 'self'; img-src 'self'`</dt><dd>\u540c\u4e00\u751f\u6210\u5143\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u3001style\u8981\u7d20\u3068style\u5c5e\u6027\u306b\u3088\u308b\u6307\u5b9a\u3092\u8a31\u53ef\u3002\u540c\u4e00\u751f\u6210\u5143\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a31\u53ef\u3002XMLHttpRequest\u3084EventSource\u304b\u3089\u306e\u540c\u4e00\u751f\u6210\u5143\u306b\u5bfe\u3059\u308b\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3002audio\u8981\u7d20\u3068video\u8981\u7d20\u3067\u540c\u4e00\u751f\u6210\u5143\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8a31\u53ef\u3002\u540c\u4e00\u751f\u6210\u5143\u306e\u753b\u50cf\u3092\u8a31\u53ef\u3002</dd>\n\n<dt>`default-src 'none'; style-src 'self'; img-src 'self' example.com example.jp example.co.jp example.ne.jp`</dt><dd>\u30ea\u30f3\u30af\u96c6\u306b\u9069\u7528\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3002\u540c\u4e00\u751f\u6210\u5143\u3068\u76f4\u30ea\u30f3\u30af\u3057\u3066\u3044\u308b\u30d0\u30ca\u30fc\u306e\u751f\u6210\u5143\u306e\u753b\u50cf\u3092\u8a31\u53ef\u3057\u3066\u3044\u308b\u3002</dd>\n\n<dt>`default-src 'none'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self'; img-src 'self'`</dt><dd>[phpMyAdmin]\u306b\u9069\u7528\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3002phpMyAdmin\u3067\u306f\u30a4\u30f3\u30e9\u30a4\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u3084eval\u95a2\u6570\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001Content Security Policy\u304c\u6709\u52b9\u306b\u6d3b\u7528\u3067\u304d\u306a\u3044\u3002</dd>\n\n<dt>`default-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self' data:`</dt><dd>[PHP\u306ephpinfo\u95a2\u6570]\u306e\u5b9f\u884c\u7d50\u679c\u306b\u9069\u7528\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3002\u540c\u4e00\u751f\u6210\u5143\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u3001style\u8981\u7d20\u3068style\u5c5e\u6027\u306b\u3088\u308b\u6307\u5b9a\u3092\u8a31\u53ef\u3002\u540c\u4e00\u751f\u6210\u5143\u3068[data\u30b9\u30ad\u30fc\u30e0]\u306e\u753b\u50cf\u3092\u8a31\u53ef\u3002</dd>\n\n[phpMyAdmin]: https://ja.wikipedia.org/wiki/PhpMyAdmin \"phpMyAdmin(\u30d4\u30fc\u30a8\u30a4\u30c1\u30d4\u30fc\u30de\u30a4\u30a2\u30c9\u30df\u30f3)\u306fMySQL\u30b5\u30fc\u30d0\u30fc\u3092\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3067\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3067\u3001PHP\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u3002 phpMyAdmin\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u3001SQL\u6587\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u306a\u304f\u3001MySQL\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u69d8\u3005\u306a\u64cd\u4f5c\u304c\u884c\u3048\u308b\u3002 \u307e\u305f\u3001\u30e6\u30fc\u30b6\u304c\u4efb\u610f\u306eSQL\u6587\u3092\u8a18\u8ff0\u3057\u3066\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002\"\n[PHP\u306ephpinfo\u95a2\u6570]: https://secure.php.net/manual/function.phpinfo.php \"PHP \u306e\u8a2d\u5b9a\u60c5\u5831\u3092\u51fa\u529b\u3059\u308b\"\n[data\u30b9\u30ad\u30fc\u30e0]: https://ja.wikipedia.org/wiki/Data_URI_scheme \"\u30c7\u30fc\u30bfURI\u30b9\u30ad\u30fc\u30e0\uff08\u82f1\u8a9e: data URI scheme\uff09\u3068\u306f\u5916\u90e8\u30c7\u30fc\u30bf\u7121\u3057\u306b\u30a6\u30a7\u30d6\u30da\u30fc\u30b8\u306b\u30c7\u30fc\u30bf\u3092\u57cb\u3081\u3053\u3080\u305f\u3081\u306eURI\u30b9\u30ad\u30fc\u30e0\u3067\u3042\u308b\u3002\u4f8b\u3048\u3070\u3001\u901a\u5e38\u753b\u50cf\u30c7\u30fc\u30bf\u306fHTML\u3084CSS\u306b\u5916\u90e8\u30ea\u30f3\u30af\u3068\u3057\u3066\u8a18\u8ff0\u3055\u308c\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3059\u308b\u969b\u306b\u306f\u8907\u6570\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u767a\u751f\u3059\u308b\u3002\u3053\u308c\u306f\u753b\u50cf\u30c7\u30fc\u30bf\u304c\u5c0f\u3055\u3044\u5834\u5408\u306a\u3069\u306b\u306f\u975e\u52b9\u7387\u7684\u3067\u3042\u308b\u3002\u30c7\u30fc\u30bfURI\u30b9\u30ad\u30fc\u30e0\u3092\u4f7f\u7528\u3059\u308c\u3070\u5185\u90e8\u30c7\u30fc\u30bf\u3068\u3057\u3066\u753b\u50cf\u3092\u57cb\u3081\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u30671\u3064\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u6e08\u307f\u3001\u52b9\u7387\u5316\u3067\u304d\u308b\u3002RFC 2397\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3002\"\n\n### \u4e3b\u306a\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6 (\u6307\u4ee4)\n\n| \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u540d              | \u69cb\u6587\u3001\u4f5c\u7528 |\n|-------------------------------|------------|\n| [`default-src`]               | \u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\u7701\u7565\u3055\u308c\u3066\u3044\u305f\u3068\u304d\u306e\u65e2\u5b9a\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002<ul><li>`child-src`</li><li>`connect-src`</li><li>`font-src`</li><li>`img-src`</li><li>`media-src`</li><li>`object-src`</li><li>`script-src`</li><li>`style-src`</ul> \u3053\u308c\u3089\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u5024\u3092\u7a7a\u767d\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002<ul><li>`'none'` (\u4f55\u3082\u8a31\u53ef\u3057\u306a\u3044)</li><li>`'self'` (\u751f\u6210\u5143[^origin] \u304c\u540c\u3058\u3082\u306e\u3092\u8a31\u53ef)</li><li>`https://maxcdn.bootstrapcdn.com/bootstrap/` ([\u30db\u30b9\u30c8\u30bd\u30fc\u30b9\u5f0f])</li></ul> \u4ee5\u4e0a\u306e\u3088\u3046\u306a\u5024\u306f[\u30bd\u30fc\u30b9\u30ea\u30b9\u30c8]\u3068\u547c\u3070\u308c\u307e\u3059\u3002 |\n| [`style-src`]                 | \u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u8a31\u53ef\u3002`'unsafe-inline'`\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u3042\u3089\u3086\u308bstyle\u8981\u7d20\u3001style\u5c5e\u6027\u304c\u8a31\u53ef\u3055\u308c\u307e\u3059\u304c\u3001[\u5b8c\u5168\u306b\u907f\u3051\u308b\u306e\u304c\u6700\u5584]\u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002style\u8981\u7d20\u306b\u95a2\u3057\u3066\u306f\u3001[hash-source]\u3092\u4f7f\u3048\u3070\u6c7a\u307e\u3063\u305f\u4e2d\u8eab\u306estyle\u8981\u7d20\u306e\u307f\u8a31\u53ef\u3067\u304d\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728Microsoft Edge\u304c\u672a\u5bfe\u5fdc\u3067\u3059\u3002[`'unsafe-hashed-attributes'`]\u3092\u4f7f\u3048\u3070style\u5c5e\u6027\u5024\u3082[hash-source]\u306b\u3088\u308a\u5236\u5fa1\u3067\u304d\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728\u307e\u3060\u4ed5\u69d8\u304c\u4e0d\u5b89\u5b9a\u3067\u3059\u3002 |\n| [`img-src`]                   | \u753b\u50cf\u306e\u8a31\u53ef\u3002 |\n| [`media-src`]                 | \u97f3\u58f0\u3001\u52d5\u753b\u3001\u5b57\u5e55\u306e\u8a31\u53ef\u3002 |\n| [`script-src`]                | \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u8a31\u53ef\u3002`'unsafe-inline'` \u5468\u308a\u306e\u4e8b\u60c5\u306f\u3001\u4e0a\u8a18 `style-src` \u3068\u5927\u4f53\u540c\u3058\u3067\u3059\u3002[`'strict-dynamic'`] \u3092\u6307\u5b9a\u3059\u308c\u3070\u3001(\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u3069\u306b\u3088\u3063\u3066) \u5f8c\u304b\u3089\u633f\u5165\u3055\u308c\u305fscript\u8981\u7d20\u306f\u30d6\u30ed\u30c3\u30af\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728\u30d6\u30e9\u30a6\u30b6\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u9032\u3093\u3067\u3044\u307e\u305b\u3093\u3002 |\n| [`connect-src`]               | \u6b21\u306e\u3088\u3046\u306aAPI\u306b\u304a\u3051\u308b\u63a5\u7d9a\u5148\u306e\u8a31\u53ef\u3002<ul><li>[XMLHttpRquest]</li><li>[EventSource]</li><li>[WebSocket]</li><li>[Window#fetch()]</li><li>[a\u8981\u7d20\u306eping\u5c5e\u6027]</li><li>[Navigator#sendBeacon()]</li></ul> |\n| [`frame-src`]                 | iframe\u8981\u7d20\u306a\u3069\u3067\u57cb\u3081\u8fbc\u3080\u30da\u30fc\u30b8\u306e\u8a31\u53ef\u3002[^frame] |\n| [`font-src`]                  | \u30d5\u30a9\u30f3\u30c8\u306e\u8a31\u53ef\u3002 |\n| [`object-src`]                | SWF\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u5185\u5bb9\u306e\u8a31\u53ef\u3002 |\n| [`plugin-types`]              | \u8a31\u53ef\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u306eMIME\u578b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002SWF\u30d5\u30a1\u30a4\u30eb\u306eMIME\u578b\u306f[application/vnd.adobe.flash-movie]\u3067\u3059\u304cAdobe Flash Player\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u540c\u30d5\u30a1\u30a4\u30eb\u3092\u57cb\u3081\u8fbc\u3080\u5834\u5408\u306f\u3068\u308a\u3042\u3048\u305a `plugin-types application/vnd.adobe.flash-movie application/x-shockwave-flash` \u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002**\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001object\u8981\u7d20\u306a\u3069\u306etype\u5c5e\u6027\u304c\u5fc5\u9808\u3068\u306a\u308a\u307e\u3059\u3002**[^object] |\n| [`disown-opener`]             | \u79fb\u52d5\u5148\u306e[Window#opener]\u3092 `null` \u306b\u3057\u307e\u3059\u3002\u30d5\u30a3\u30c3\u30b7\u30f3\u30b0\u8a50\u6b3a\u306e\u624b\u6cd5\u3067\u3042\u308b[Tabnabbing]\u5bfe\u7b56\u306b\u306a\u308a\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728\u307e\u3060\u4ed5\u69d8\u304c\u4e0d\u5b89\u5b9a\u3067\u3059\u3002a\u8981\u7d20\u306e\u5834\u5408\u306f `rel=noopener` \u3092\u4ed8\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u8a72\u5f53\u306e\u30ea\u30f3\u30af\u306b\u5bfe\u3057\u3066\u306f\u540c\u69d8\u306e\u52b9\u679c\u3092\u6301\u305f\u305b\u3089\u308c\u307e\u3059\u304c\u30012016\u5e7411\u6708\u73fe\u5728Opera\u3068Google Chrome\u3057\u304b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001`rel=\"noopener noreferrer\"` \u3068\u4f75\u8a18\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002[^noopener] |\n| [`frame-ancestors`]           | \u73fe\u5728\u306e\u30da\u30fc\u30b8\u3092\u57cb\u3081\u8fbc\u3081\u308b\u5148\u7956\u30a6\u30a3\u30f3\u30c9\u30a6\u306eURL\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002[\u30af\u30ea\u30c3\u30af\u30b8\u30e3\u30c3\u30ad\u30f3\u30b0]\u5bfe\u7b56\u306a\u3069\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002Internet Explorer \u306f CSP \u81ea\u4f53\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001[x-frame-options\u5fdc\u7b54\u30d8\u30c3\u30c0][x-frame-options]\u3067\u4f3c\u305f\u3088\u3046\u306a\u5bfe\u7b56\u304c\u53ef\u80fd\u3067\u3059\u3002\u305f\u3068\u3048\u3070 `frame-ancestors 'none'` \u306b\u5bfe\u5fdc\u3059\u308b\u5024\u306f `DENY` \u3067\u3059\u3002 |\n| [`report-uri`]                | CSP\u9055\u53cd\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306e\u5831\u544a\u5148\u3002[report-uri.io\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u304c\u4fbf\u5229]\u3067\u3059\u3002 |\n| [`upgrade-insecure-requests`] | [\u6df7\u5728\u30b3\u30f3\u30c6\u30f3\u30c4]\u306b\u306a\u308a\u305d\u3046\u306a\u753b\u50cf\u306a\u3069\u306b\u5bfe\u3057\u3066\u3001\u81ea\u52d5\u7684\u306b\u30bb\u30ad\u30e5\u30a2\u306aURL\u304b\u3089\u53d6\u5f97\u3057\u307e\u3059\u3002\u305f\u3068\u3048\u3070 `<link src=\"http://example.jp/lib.css\" rel=\"stylesheet\" />` \u306e\u3088\u3046\u306a\u8a18\u8ff0\u304c\u3042\u308c\u3070\u3001`http://example.jp/lib.css` \u3067\u306f\u306a\u304f `https://example.jp/lib.css` \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u30022016\u5e7411\u6708\u73fe\u5728\u3001Firefox\u3001Opera\u3001Google Chrome\u304c\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001Safari\u306e\u958b\u767a\u7248\u306b\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002 |\n\n[^origin]: `https`\u306a\u3069\u306e\u300c\u30b9\u30ad\u30fc\u30e0\u300d\u3001`example.com`\u306a\u3069\u306e\u300c\u30db\u30b9\u30c8\u300d\u3001\u300c\u30dd\u30fc\u30c8\u756a\u53f7\u300d\u306e\u7d44\u307f\u5408\u308f\u305b\u3002\n[^frame]: `frame-src` \u306f\u3001[CSP2\u3067`connect-src`\u306b\u7f6e\u304d\u63db\u3048\u308b\u5f62\u3067\u975e\u63a8\u5968\u306b\u3055\u308c\u305f]\u304c\u3001[CSP3\u3067`connect-src`\u304c`frame-src` `worker-src`\u306b\u5206\u5272\u3055\u308c\u308b\u5f62\u3067\u975e\u63a8\u5968\u3067\u306f\u306a\u304f\u306a\u3063\u305f]\u3002\n[^object]: `plugin-types` \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3067\u3082\u3001Opera\u3001Google Chrome\u306ftype\u5c5e\u6027\u304c\u306a\u3044object\u8981\u7d20\u306b `child-src` \u3092\u9069\u7528\u3057\u3088\u3046\u3068\u3059\u308b\u305f\u3081\u3001\u3069\u3061\u3089\u306b\u3057\u3066\u3082\u5fc5\u9808\u3067\u3042\u308b\u3002\n[^noopener]: [\u30ea\u30f3\u30af\u306e\u3078\u306e rel=noopener \u4ed8\u4e0e\u306b\u3088\u308b Tabnabbing \u5bfe\u7b56 | blog.jxck.io][Tabnabbing]\n\n[`default-src`]: https://triple-underscore.github.io/CSP3-ja.html#directive-default-src \"default-src \u6307\u4ee4\u306f\u3001\u4ed6\u306e fetch \u6307\u4ee4\u306b\u5bfe\u3059\u308b\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u3068\u3057\u3066\u50cd\u304f\u3002\"\n[\u30db\u30b9\u30c8\u30bd\u30fc\u30b9\u5f0f]: https://triple-underscore.github.io/CSP3-ja.html#grammardef-host-source\n[\u30bd\u30fc\u30b9\u30ea\u30b9\u30c8]: https://triple-underscore.github.io/CSP3-ja.html#framework-directive-source-list \"\u5404\u7a2e \u6307\u4ee4\u306e\u3046\u3061, \u591a\u304f\u306e\u3082\u306e\u306f\u3001 \u30bd\u30fc\u30b9\u30ea\u30b9\u30c8 \uff08 serialized-source-list \uff09\u3092\u305d\u306e\u5024\u306b\u3068\u308b\u3002\"\n[`style-src`]: https://triple-underscore.github.io/CSP3-ja.html#directive-style-src \"style-src \u6307\u4ee4\u306f\u3001[ \u3069\u306e\u6240\u5728\u304b\u3089\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u6587\u66f8\u306b\u9069\u7528\u3057\u3066\u3088\u3044\u304b\u3069\u3046\u304b ] \u3092\u5236\u7d04\u3059\u308b\u3002\"\n[\u5b8c\u5168\u306b\u907f\u3051\u308b\u306e\u304c\u6700\u5584]: https://triple-underscore.github.io/CSP3-ja.html#csp-directives \"CSP \u6307\u4ee4 | Content Security Policy Level 3\"\n[hash-source]: https://triple-underscore.github.io/CSP3-ja.html#grammardef-hash-source\n[`'unsafe-hashed-attributes'`]: https://triple-underscore.github.io/CSP3-ja.html#unsafe-hashed-attributes-usage \"[ \u65e7\u6765\u306e\u30b5\u30a4\u30c8 / \u65e7\u6765\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u4f34\u3046\u30b5\u30a4\u30c8 ] \u3067\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u3092\u307e\u308b\u3054\u3068\u5916\u90e8\u5316\u3059\u308b\u306e\u304c\u56f0\u96e3\u306a\u3053\u3068\u3082\u3042\u308b\u3002 \u3053\u308c\u3089\u306e\u30b5\u30a4\u30c8\u306f\u3001\u305d\u306e\u7a2e\u306e\u30cf\u30f3\u30c9\u30e9\u3092 'unsafe-inline' \u3067\u8a31\u5bb9\u3057\u3066\u53ef\u80fd\u5316\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u304c\u3001\u305d\u308c\u306f, \u591a\u6570\u306e\u30ea\u30b9\u30af\u3092\u62b1\u3048\u308b\u8af8\u5203\u306e\u5263\u3067\u3042\u308b\uff08\u307e\u305f\u3001\u30ca\u30f3\u30b9\u3084\u30cf\u30c3\u30b7\u30e5\u3068\u5171\u306b\u306f\u5229\u7528\u3067\u304d\u306a\u3044\uff09\u3002\u30bd\u30fc\u30b9\u5f0f 'unsafe-hashed-attributes' \u306f\u3001\u305d\u306e\u3088\u3046\u306a\u72b6\u6cc1\u4e0b\u3067, [ \u30cf\u30c3\u30b7\u30e5\u3092\u4ecb\u3057\u3066\u7279\u5b9a\u306e\u30cf\u30f3\u30c9\u30e9\u3092\u53ef\u80fd\u5316\u3067\u304d\u308b ] \u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u958b\u767a\u8005\u304c, CSP \u3092\u3088\u308a\u5358\u7d14\u304b\u3064\u5b89\u5168\u306b\u914d\u5099\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3092\u76ee\u6307\u3057\u3066\u3044\u308b\u3002\"\n[`img-src`]: https://triple-underscore.github.io/CSP3-ja.html#directive-img-src \"img-src \u6307\u4ee4\u306f\u3001[ \u3069\u306e URL \u304b\u3089\u753b\u50cf\u30ea\u30bd\u30fc\u30b9\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3088\u3044\u304b ] \u3092\u5236\u7d04\u3059\u308b\u3002\"\n[`media-src`]: https://triple-underscore.github.io/CSP3-ja.html#directive-media-src \"media-src \u6307\u4ee4\u306f\u3001[ \u3069\u306e URL \u304b\u3089 [ \u52d5\u753b, \u97f3\u58f0 \u304a\u3088\u3073 \u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\u30c6\u30ad\u30b9\u30c8\u30c8\u30e9\u30c3\u30af ] \u30ea\u30bd\u30fc\u30b9\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3088\u3044\u304b ] \u3092\u5236\u7d04\u3059\u308b\u3002\"\n[`script-src`]: https://triple-underscore.github.io/CSP3-ja.html#directive-script-src \"script-src \u6307\u4ee4\u306f\u3001[ \u3069\u306e\u6240\u5728\u304b\u3089\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3088\u3044\u304b ] \u3092\u5236\u7d04\u3059\u308b\u3002 \u3053\u308c\u306b\u306f\u3001[ script \u8981\u7d20\u306e\u4e2d\u306b\u76f4\u63a5\u7684\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b URL ] \u306e\u307f\u306a\u3089\u305a, [ \u30a4\u30f3\u30e9\u30a4\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u30d6\u30ed\u30c3\u30af\u3084 XSLT \u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u69d8\u306a, \u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\u3092\u8a98\u767a\u3057\u5f97\u308b\u3082\u306e ] \u3082\u542b\u307e\u308c\u308b\u3002\"\n[`'strict-dynamic'`]: https://triple-underscore.github.io/CSP3-ja.html#strict-dynamic-usage \"'strict-dynamic' \u30bd\u30fc\u30b9\u5f0f\u306f\u3001\u65e2\u5b58\u306e\u30a2\u30d7\u30ea\u304c, \u81ea\u8eab\u304c\u76f4\u63a5\u7684\u306b\u8aad\u307f\u8fbc\u3080\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3064\u3044\u3066\u306f\u81ea\u4fe1\u304c\u3042\u308b\u304c, \u524d\u9762\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30ea\u30bd\u30fc\u30b9\u306e\u30ea\u30b9\u30c8 \u3092\u9069\u5ea6\u306b\u63d0\u4f9b\u3059\u308b\u6a5f\u80fd\u306b\u3064\u3044\u3066\u306f\u81ea\u4fe1\u304c\u306a\u3044\u5834\u5408\u306b\u3001 CSP \u3092\u3088\u308a\u5358\u7d14\u306b\u914d\u5099\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3092\u76ee\u6307\u3057\u3066\u3044\u308b\u3002\"\n[`connect-src`]: https://triple-underscore.github.io/CSP3-ja.html#directive-connect-src \"connect-src \u6307\u4ee4\u306f\u3001[ \u30b9\u30af\u30ea\u30d7\u30c8\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u5229\u7528\u3057\u3066\u8aad\u307f\u8fbc\u3081\u308b URL ] \u3092\u5236\u7d04\u3059\u308b\u3002\"\n[XMLHttpRquest]: https://triple-underscore.github.io/XHR-ja.html \"XMLHttpRequest \u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30b5\u30fc\u30d0\u9593\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u306e\u305f\u3081\u306e, \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308b API \u3092\u5b9a\u7fa9\u3059\u308b\u3002\"\n[EventSource]: https://developer.mozilla.org/docs/Web/API/EventSource \"EventSource \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306f\u3001Server\u2010sent events \u3092\u53d7\u3051\u53d6\u308b\u305f\u3081\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002HTTP \u3067\u30b5\u30fc\u30d0\u3068\u63a5\u7d9a\u3057\u3066\u3001\u63a5\u7d9a\u3092\u5207\u65ad\u305b\u305a\u306b text/event-stream \u5f62\u5f0f\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u53d7\u4fe1\u3057\u307e\u3059\u3002\"\n[WebSocket]: https://triple-underscore.github.io/WebSocket-ja.html \"\u3053\u306e\u4ed5\u69d8\u306f\u3001\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u304c\u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30bb\u30b9\u3068\u306e\u53cc\u65b9\u5411\u901a\u4fe1\u3092\u53ef\u80fd\u5316\u3059\u308b\u305f\u3081\u306e, WebSocket \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u5c0e\u5165\u3059\u308b\u3002\"\n[Window#fetch()]: https://triple-underscore.github.io/Fetch-ja.html#fetch-api \"fetch() \u30e1\u30bd\u30c3\u30c9\u306f\u3001\u30ea\u30bd\u30fc\u30b9\u3092 fetch \u3059\u308b\u305f\u3081\u306e, \u6bd4\u8f03\u7684 \u4f4e\u30ec\u30d9\u30eb\u306e API \u3067\u3042\u308b\u3002 XMLHttpRequest \u3088\u308a\u5c11\u3057\u3070\u304b\u308a\u57fa\u76e4\u7684\u90e8\u5206\u3092\u5bfe\u8c61\u306b\u3059\u308b\"\n[a\u8981\u7d20\u306eping\u5c5e\u6027]: https://triple-underscore.github.io/HTML-links-ja.html#ping \"ping \u3059\u308b URL \u3092\u4e0e\u3048\u308b\u3002\"\n[Navigator#sendBeacon()]: https://triple-underscore.github.io/beacon-ja.html \"\u3053\u306e\u4ed5\u69d8\u306f\u3001[ \u30c7\u30fc\u30bf\u306e\u9001\u9054\u3092, \u975e\u540c\u671f\u7684\u304b\u3064\u4ed6\u3092\u963b\u307e\u306a\u3044\uff08 non-blocking \uff09\u3088\u3046\u306b\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3059\u308b ] \u305f\u3081\u306b\u30b5\u30a4\u30c8\u958b\u767a\u8005\u304c\u5229\u7528\u3067\u304d\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u3002 \u305d\u308c\u306f\u3001\u4ed6\u306e\u6642\u9593\u306b\u53b3\u3057\u3044\u6f14\u7b97\u3068\u306e\u8cc7\u6e90\u7af6\u5408\u3092\u6700\u5c0f\u9650\u306b\u6291\u3048\u3064\u3064, \u305d\u306e\u3088\u3046\u306a\u8981\u8acb\u304c\u51e6\u7406\u3055\u308c, \u5b9b\u5148\u3078\u9001\u9054\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u4fdd\u3059\u308b\u3002\"\n[`frame-src`]: https://triple-underscore.github.io/CSP3-ja.html#directive-frame-src \"frame-src \u6307\u4ee4\u306f\u3001[ \u3069\u306e URL \u3092\u5165\u308c\u5b50\u306e\u95b2\u89a7\u6587\u8108\u5185\u306b\u8aad\u307f\u8fbc\u3093\u3067\u3088\u3044\u304b ] \u3092\u5236\u7d04\u3059\u308b\u3002\"\n[`font-src`]: https://triple-underscore.github.io/CSP3-ja.html#directive-font-src \"font-src \u6307\u4ee4\u306f\u3001[ \u3069\u306e URL \u304b\u3089\u30d5\u30a9\u30f3\u30c8\u30ea\u30bd\u30fc\u30b9\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3088\u3044\u304b ] \u3092\u5236\u7d04\u3059\u308b\u3002\"\n[`object-src`]: https://triple-underscore.github.io/CSP3-ja.html#directive-object-src \"object-src \u6307\u4ee4\u306f\u3001[ \u3069\u306e URL \u304b\u3089\u30d7\u30e9\u30b0\u30a4\u30f3\u5185\u5bb9\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3088\u3044\u304b ] \u3092\u5236\u7d04\u3059\u308b\u3002\"\n[`plugin-types`]: https://triple-underscore.github.io/CSP3-ja.html#directive-plugin-types \"plugin-types \u6307\u4ee4\u306f\u3001\u8aad\u307f\u8fbc\u3081\u308b\u30ea\u30bd\u30fc\u30b9\u306e\u578b\u3092\u5236\u9650\u3059\u308b\u3053\u3068\u306b\u3088\u308a, \u6587\u66f8\u306e\u4e2d\u306b\u57cb\u3081\u8fbc\u3081\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u96c6\u5408\u3092\u5236\u7d04\u3059\u308b\u3002\"\n[application/vnd.adobe.flash-movie]: https://www.iana.org/assignments/media-types/application/vnd.adobe.flash-movie\n[`disown-opener`]: https://triple-underscore.github.io/CSP3-ja.html#directive-disown-opener \"disown-opener \u6307\u4ee4\u306f\u3001[ \u30ca\u30d3\u30b2\u30fc\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u306e onener \u3092 null \u5316\u3059\u308b ] \u3053\u3068\u3092\u78ba\u4fdd\u3059\u308b\u3002\"\n[Window#opener]: https://triple-underscore.github.io/browsers-ja.html#dom-opener\n[Tabnabbing]: https://blog.jxck.io/entries/2016-06-12/noopener.html \"\u672c\u30b5\u30a4\u30c8\u4ee5\u4e0b\u5168\u3066\u306e target=_blank \u4ed8\u304d\u306e\u30ea\u30f3\u30af\u306b rel=\"noopener noreferrer\" \u306e\u4ed8\u4e0e\u3092\u5b9f\u65bd\u3057\u305f\u3002\u3053\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u610f\u5473\u3068\u3001\u3053\u308c\u304c\u7121\u3044\u5834\u5408\u306e\u30d5\u30a3\u30c3\u30b7\u30f3\u30b0\u8a50\u6b3a\u653b\u6483\u306e\u53ef\u80fd\u6027\u306b\u3064\u3044\u3066\u89e3\u8aac\u3059\u308b\u3002\"\n[`frame-ancestors`]: https://triple-underscore.github.io/CSP3-ja.html#directive-frame-ancestors \"frame-ancestors \u6307\u4ee4\u306f\u3001[ frame / iframe / object / embed / applet ] \u8981\u7d20\u3092\u5229\u7528\u3057\u3066\u57cb\u3081\u8fbc\u3081\u308b\u30ea\u30bd\u30fc\u30b9\u306e URL \u3092\u5236\u7d04\u3059\u308b\u3002 \u3053\u306e\u6307\u4ee4\u3092\u5229\u7528\u3059\u308c\u3070\u3001\u6575\u5bfe\u7684\u306b\u306a\u308a\u5f97\u308b\u6587\u8108\u306e\u4e2d\u306b\u30ea\u30bd\u30fc\u30b9\u304c\u57cb\u3081\u8fbc\u307e\u308c\u308b\u30ea\u30b9\u30af\u3092\u907f\u3051\u308b\u3053\u3068\u3067\u3001\u591a\u304f\u306e UI Redressing \u3010 UI \u306e\u7740\u305b\u66ff\u3048\u3011 \u653b\u6483\u907f\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\"\n[\u30af\u30ea\u30c3\u30af\u30b8\u30e3\u30c3\u30ad\u30f3\u30b0]: https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AA%E3%83%83%E3%82%AF%E3%82%B8%E3%83%A3%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0 \"\u30af\u30ea\u30c3\u30af\u30b8\u30e3\u30c3\u30ad\u30f3\u30b0\uff08\u30af\u30ea\u30c3\u30af\u30b8\u30e3\u30c3\u30af\u653b\u6483\u3001Clickjacking\u3001User Interface redress attack\u3001UI redress attack\u3001UI redressing\uff09\u306f\u3001\u30a6\u30a7\u30d6\u30da\u30fc\u30b8\u306e\u5229\u7528\u8005\u306b\u5bfe\u3057\u60aa\u610f\u3092\u3082\u3063\u3066\u4f7f\u7528\u3055\u308c\u308b\u6280\u8853\u306e\u4e00\u7a2e\u3067\u3001\u30ea\u30f3\u30af\u3084\u30dc\u30bf\u30f3\u306a\u3069\u306e\u8981\u7d20\u3092\u96a0\u853d\u30fb\u507d\u88c5\u3057\u3066\u30af\u30ea\u30c3\u30af\u3092\u8a98\u3044\u3001\u5229\u7528\u8005\u306e\u610f\u56f3\u3057\u306a\u3044\u52d5\u4f5c\u3092\u3055\u305b\u3088\u3046\u3068\u3059\u308b\u624b\u6cd5\u3067\u3042\u308b\u3002\"\n[`report-uri`]: https://triple-underscore.github.io/CSP3-ja.html#directive-report-uri \"report-uri \u6307\u4ee4\u306f\u3001\u5831\u544a\u5148 \u2014 \u3042\u308b\u7279\u5b9a\u306e\u3075\u308b\u307e\u3044\u304c\u9632\u6b62\u3055\u308c\u305f\u3068\u304d, \u9055\u53cd\u5831\u544a\u306e\u9001\u4fe1\u5148\u306b\u306a\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7aef\u70b9 \u2014 \u306e\u96c6\u5408\u3092\u5b9a\u7fa9\u3059\u308b\u3002\"\n[report-uri.io\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u304c\u4fbf\u5229]: https://blog.jxck.io/entries/2016-03-30/content-security-policy.html#report-uri.io \"\u3053\u306e\u30ec\u30dd\u30fc\u30c8\u306e\u53ce\u96c6\u3068\u89e3\u6790\u3092\u884c\u3046\u30b5\u30fc\u30d3\u30b9\u3068\u3057\u3066\u3001 report-uri.io \u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u304c\u6700\u8fd1\u767b\u5834\u3057\u305f\u3002\"\n[`upgrade-insecure-requests`]: https://triple-underscore.github.io/webappsec-upgrade-insecure-requests-ja.html#delivery \"\u30b5\u30fc\u30d0\u306f\u3001[ upgrade-insecure-requests \u6307\u4ee4\u3092\u5305\u542b\u3059\u308b Content-Security-Policy \u30d8\u30c3\u30c0 ] \u3092\u9001\u4fe1\u3059\u308b\u3053\u3068\u306b\u3088\u308a, [ \u3042\u308b\u7279\u5b9a\u306e\u88ab\u4fdd\u8b77\u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u975e\u30bb\u30ad\u30e5\u30a2\u8981\u8acb ] \u3092\u6607\u683c\u3059\u308b\u3088\u3046, UA \u306b\u6307\u56f3\u3057\u3066\u3088\u3044\u3002\"\n[\u6df7\u5728\u30b3\u30f3\u30c6\u30f3\u30c4]: https://developer.mozilla.org/docs/Security/%E6%B7%B7%E5%9C%A8%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84 \"\u3082\u3057 HTTPS \u306e\u30da\u30fc\u30b8\u306e\u4e2d\u306b\u901a\u5e38\u306e\u5e73\u6587\u306e HTTP \u3067\u9001\u3089\u308c\u3066\u304f\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u3001\u305d\u306e\u63a5\u7d9a\u306f\u90e8\u5206\u7684\u306b\u6697\u53f7\u5316\u3055\u308c\u305f\u3082\u306e\u306b\u3059\u304e\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u3059\u306a\u308f\u3061\u3001\u6697\u53f7\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u30b3\u30f3\u30c6\u30f3\u30c4\u306f\u76d7\u8074\u53ef\u80fd\u3067\u3042\u308a\u3001\u4e2d\u9593\u8005\u653b\u6483\u306e\u653b\u6483\u8005\u306b\u3088\u3063\u3066\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u4e2d\u8eab\u306f\u64cd\u4f5c\u53ef\u80fd\u3068\u306a\u308a\u3001\u3082\u306f\u3084\u63a5\u7d9a\u306f\u4fdd\u8b77\u3055\u308c\u307e\u305b\u3093\u3002\u305d\u306e\u3088\u3046\u306a web \u30da\u30fc\u30b8\u306f\u300c\u6df7\u5728\u30b3\u30f3\u30c6\u30f3\u30c4\u300d\u3092\u542b\u3080\u30da\u30fc\u30b8\u3068\u547c\u3070\u308c\u307e\u3059\u3002\"\n[CSP2\u3067`connect-src`\u306b\u7f6e\u304d\u63db\u3048\u308b\u5f62\u3067\u975e\u63a8\u5968\u306b\u3055\u308c\u305f]: https://triple-underscore.github.io/CSP-ja.html#changes-from-level-1 \"child-src \u306f\u3001 frame-src \u3092\u975e\u63a8\u5968\u306b\u3057\u3066, \u305d\u308c\u3092\u7f6e\u304d\u63db\u3048\u308b \u2014 \u305d\u308c\u306f\u3001[ \u88ab\u4fdd\u8b77\u30ea\u30bd\u30fc\u30b9\u304c \u30d5\u30ec\u30fc\u30e0\u3092\u57cb\u3081\u8fbc\u3080 / worker \u3092\u8aad\u307f\u8fbc\u3080 ] \u6a5f\u80fd\u3092\u5236\u5fa1\u3059\u308b\u3002\"\n[CSP3\u3067`connect-src`\u304c`frame-src` `worker-src`\u306b\u5206\u5272\u3055\u308c\u308b\u5f62\u3067\u975e\u63a8\u5968\u3067\u306f\u306a\u304f\u306a\u3063\u305f]: https://triple-underscore.github.io/CSP3-ja.html#changes-from-level-2 \"CSP Level 2 \u3067\u975e\u63a8\u5968\u306b\u3055\u308c\u305f frame-src \u6307\u4ee4\u306f, \u975e\u63a8\u5968\u3067\u306a\u304f\u306a\u308a\u3001 worker-src \u304c\u8ffd\u52a0\u3055\u308c\u305f\u3002 \u4e21\u8005\u3068\u3082\u7121\u3044\u5834\u5408\u306f child-src \u306b\u5148\u9001\u308a\u3059\u308b\uff08\u305d\u308c\u3082\u7121\u3044\u5834\u5408\u306f default-src \u306b\u5148\u9001\u308a\u3059\u308b\uff09\u3002\"\n\n\u4e00\u3064\u306eApache\u3067\u8907\u6570\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u6271\u3046&nbsp;(\u4eee\u60f3\u30db\u30b9\u30c8)\n====================================================\n```apache:/etc/httpd/conf.modules.d/00-base.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n#LoadModule request_module modules/mod_request.so\n#LoadModule sed_module modules/mod_sed.so\n#LoadModule speling_module modules/mod_speling.so\nLoadModule macro_module modules/mod_macro.so\n# \u2191\u30d5\u30a1\u30a4\u30eb\u306e\u672b\u5c3e\u306b\u3053\u306e\u884c\u3092\u8ffd\u8a18\n```\n\n`/etc/httpd/conf/httpd.conf`\u306b`#LoadModule macro_module lib64/httpd/modules/mod_macro.so`\u306e\u3088\u3046\u306a\u884c\u304c\u3042\u308c\u3070\u3001`/etc/httpd/conf.modules.d/00-base.conf`\u306b\u8ffd\u8a18\u3059\u308b\u4ee3\u308f\u308a\u306b\u305d\u3061\u3089\u306e\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n&#x20;\n<dl>\n<dt>[LoadModule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`LoadModule macro_module modules/mod_macro.so`</dd><dd>\u6307\u5b9a\u3057\u305f\u52d5\u7684\u5171\u6709\u30e2\u30b8\u30e5\u30fc\u30eb\u3092Apache\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002</dd>\n</dl>\n\n```apache:/etc/httpd/conf.d/ssl.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n##\n## SSL Virtual Host Context\n##\n\n#<VirtualHost _default_:443>\n## \u2191\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##\n\n# General setup for the virtual host, inherited from global configuration\n#DocumentRoot \"/var/www/html\"\n#ServerName www.example.com:443\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n#   Per-Server Logging:\n#   The home of a custom SSL log file. Use this when you want a\n#   compact non-error SSL logfile on a virtual host basis.\nCustomLog logs/ssl_request_log \\\n          \"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \\\"%r\\\" %b\"\n\n# TLS\u306e\u57fa\u672c\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\n#Include /etc/letsencrypt/options-ssl-apache.conf\n## \u2191\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##\n\n#ServerName example.jp\n#ServerAlias sub1.example.jp sub2.example.jp\n## \u2191\u3053\u306e2\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##\nHeader always set Strict-Transport-Security \"max-age=31536000; includeSubDomains; preload\"\nSSLUseStapling on\nSSLCertificateChainFile /etc/letsencrypt/live/example.jp/chain.pem\n#</VirtualHost>                       \n## \u2191\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8 ##           \n\n<IfModule mod_ssl.c>\nSSLStaplingCache shmcb:/var/run/apache2/stapling_cache(128000)\n</IfModule>\n```\n\n```apache:/etc/httpd/conf.d/vhosts.conf\n# \u3059\u3079\u3066\u306e\u4eee\u60f3\u30db\u30b9\u30c8\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30d5\u30a1\u30a4\u30eb\nAliasMatch ^/((?:common|polyfill)/.+) /var/www/common/$1\n<DirectoryMatch ^/var/www/common/(?:common|polyfill)/.+$>\n    Require all granted\n</DirectoryMatch>\n\n# \u3059\u3079\u3066\u306e\u4eee\u60f3\u30db\u30b9\u30c8\u3067\u5171\u901a\u306e\u8a2d\u5b9a\n<Macro CommonHost $subdomain $directory>\n    ServerName $subdomainexample.jp\n    Include /etc/letsencrypt/options-ssl-apache.conf\n    DocumentRoot /var/www/$directory\n    <Directory /var/www/$directory>\n        Require all granted\n    </Directory>\n</Macro>\n\n<VirtualHost *:80>\n    # 80\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\n    ServerName default-virtual-host.invalid\n\n    # \u6b63\u898f\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306b\u4e00\u81f4\u3059\u308b\u306a\u3089\u3001https://%{HTTP_HOST}/ \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RewriteEngine on\n    RewriteCond %{HTTP_HOST} ^(?:sub1|sub2).example.jp$\n    RewriteRule .* https://%{HTTP_HOST}$0 [redirect=permanent,last]\n\n    # \u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001https://example.jp/ \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RewriteRule .* https://example.jp$0 [redirect=permanent,last]\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use CommonHost \" \" html\n    # \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c7\u30fc\u30bf\n    Alias /oekaki/data /var/www/share/html/uploader/data\n    <Directory /var/www/share/html/uploader/data>\n        Require all granted\n    </Directory>\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use CommonHost sub1. sub1\n    AliasMatch ^/((?:index|style)(?:\\.[^/]+)?)$ /var/www/share/sub1/core/$1\n    <Directory /var/www/share/sub1/core>\n        Require all granted\n    </Directory>\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use CommonHost sub2. sub2\n</VirtualHost>\n```\n\n`/etc/httpd/conf/httpd.conf`\u306b`IncludeOptional conf.d/*.conf`\u306e\u3088\u3046\u306a\u884c\u304c\u7121\u3051\u308c\u3070\u3001\u8ffd\u8a18\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```apache:/etc/httpd/conf/httpd.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n<IfModule log_config_module>\n    #\n    # The following directives define some format nicknames for use with\n    # a CustomLog directive (see below).\n    #\n    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\n    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\n\n    <IfModule logio_module>\n      # You need to enable mod_logio.c to use %I and %O\n      LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I %O\" combinedio\n    </IfModule>\n\n    #\n    # The location and format of the access logfile (Common Logfile Format).\n    # If you do not define any access logfiles within a <VirtualHost>\n    # container, they will be logged here.  Contrariwise, if you *do*\n    # define per-<VirtualHost> access logfiles, transactions will be\n    # logged therein and *not* in this file.\n    #\n    #CustomLog \"logs/access_log\" common\n\n    #\n    # If you prefer a logfile with access, agent, and referer information\n    # (Combined Logfile Format) you can use the following directive.\n    #\n    #CustomLog \"logs/access_log\" combined\n    ## \u2191\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n    CustomLog \"logs/access_log\" \"%v %h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\"\n    ## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n</IfModule>\n\n                        ##############\n                        ## \u4ee5\u4e0b\u7701\u7565 ##\n                        ##############\n```\n\n&#x20;\n<dl><dt>[Alias \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>\u7b2c1\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305fURL\u3092\u3001\u7b2c2\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f<i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u3068\u7d50\u3073\u4ed8\u3051\u307e\u3059\u3002URL\u306f[Redirect \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3068\u540c\u3058\u304f\u524d\u65b9\u4e00\u81f4\u3067\u3001`Alias /foo /var/www/foo/bar`\u3068\u8a18\u8ff0\u3059\u308b\u3068\u3001https://example.com/foo/test \u304c`/var/www/foo/bar/test`\u3068\u7d50\u3073\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002</dd>\n\n<dt>[AliasMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>\u7b2c1\u5f15\u6570\u306b\u6b63\u898f\u8868\u73fe\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u4ee5\u5916\u306f\u3001[Alias \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3068\u540c\u3058\u3067\u3059\u3002\u6b63\u898f\u8868\u73fe\u5185\u306e\u5f8c\u65b9\u53c2\u7167\u306f\u3001\u7b2c3\u5f15\u6570\u3067`$1`\u306a\u3069\u3068\u6570\u5b57\u306b`$`\u3092\u524d\u7f6e\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002`AliasMatch ^/((?:common|polyfill)/.*) /var/www/common/$1`\u306f`Alias /common/ /var/www/common/common/` `Alias /polyfill/ /var/www/common/polyfill/`\u3068\u540c\u3058\u610f\u5473\u306b\u306a\u308a\u307e\u3059\u3002</dd>\n\n<dt>[&lt;DirectoryMatch&gt; \u30bb\u30af\u30b7\u30e7\u30f3]</dt><dd>`<DirectoryMatch ^/var/www/common/(?:common|polyfill)/.+$>`\u301c`</DirectoryMatch>`</dd><dd>\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u9069\u7528\u3059\u308b **\u30d5\u30a1\u30a4\u30eb\u3092** \u6b63\u898f\u8868\u73fe\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002[&lt;Directory&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u3068\u540c\u3058\u304f<i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002[&lt;Directory&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u3088\u308a\u306f[&lt;FilesMatch&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u306b\u8fd1\u304f\u3001[AllowOverride \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u304c\u4f7f\u3048\u305a\u3001[RewriteBase \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3082\u30a8\u30e9\u30fc\u306f\u51fa\u307e\u305b\u3093\u304c\u6b63\u3057\u304f\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\u3069\u306eOS\u3067\u3042\u3063\u3066\u3082\u3001<i>\u30d1\u30b9\u533a\u5206</i>\u3092\u533a\u5207\u308b\u6587\u5b57\u306f\u5fc5\u305a`/`\u3067\u3042\u308b\u3082\u306e\u3068\u3057\u3066\u6b63\u898f\u8868\u73fe\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002</dd>\n\n<dt>[DocumentRoot \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd><i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u3001\u307e\u305f\u306f\u30b5\u30fc\u30d0\u30fc\u30eb\u30fc\u30c8\u304b\u3089\u306e\u76f8\u5bfe\u30d1\u30b9\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001`ServerName example.jp`\u3068`DocumentRoot /var/www/html`\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u305f\u5834\u5408\u3001https://example.jp/foo/bar.html \u306b\u30a2\u30af\u30bb\u30b9\u3055\u308c\u305f\u3068\u304d\u306b`/var/www/html/foo/bar.html`\u3092\u8fd4\u3057\u307e\u3059\u3002</dd>\n\n<dt>[&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]</dt><dd>`<VirtualHost *:443>`\u301c`</VirtualHost>`</dd><dd>\u30b5\u30fc\u30d0\u30fc\u306eIP\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u7d44\u307f\u5408\u308f\u305b\u3054\u3068\u306b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u9069\u7528\u3057\u307e\u3059\u3002IP\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u9593\u306b\u306f`:`\u3092\u631f\u307f\u3001\u305d\u306e\u7d44\u306f\u7b2c2\u5f15\u6570\u4ee5\u964d\u3067\u8907\u6570\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u3001\u3069\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u3082\u4e00\u81f4\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u7701\u7565\u3057\u305f\u30bb\u30af\u30b7\u30e7\u30f3\u3088\u308a\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u7701\u7565\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u65b9\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002</dd><dd>\u5024\u306e\u540c\u3058[&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u3092\u8907\u6570\u4f5c\u6210\u3057\u3001\u305d\u308c\u305e\u308c\u306b[ServerName \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3067\u30c9\u30e1\u30a4\u30f3\u3092\u8a2d\u5b9a\u3059\u308c\u3070\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306a\u3069\u3092\u30c9\u30e1\u30a4\u30f3\u3054\u3068\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059 ([\u540d\u524d\u30d9\u30fc\u30b9\u306e\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8])\u3002</dd><dd>\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306e\u30c9\u30e1\u30a4\u30f3\u304c\u3001\u3069\u306e[ServerName \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306e\u8a2d\u5b9a\u3068\u3082\u4e00\u81f4\u3057\u306a\u3044\u5834\u5408\u306f\u3001IP\u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u6761\u4ef6\u304c\u4e00\u81f4\u3059\u308b[&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u306e\u4e2d\u3067\u6700\u521d\u306b\u8a18\u8ff0\u3057\u305f\u3082\u306e (<i>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u4eee\u60f3\u30db\u30b9\u30c8</i>) \u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002<i>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u4eee\u60f3\u30db\u30b9\u30c8</i>\u306e\u9078\u629e\u3082\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u7701\u7565\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u65b9\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002</dd>\n\n<dt>[CustomLog \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`\"CustomLog logs/access_log\" \"%v %h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\"`</dd><dd>\u7b2c1\u5f15\u6570\u306b\u4fdd\u5b58\u5148\u3001\u7b2c2\u5f15\u6570\u306b\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</dd><dd>\u6700\u521d\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u305f `CustomLog \"logs/access_log\" combined` \u306f\u3001\u76f4\u524d\u306e `LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined` \u304b\u3089 `CustomLog \"logs/access_log\" \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\"` \u3068\u5c55\u958b\u3067\u304d\u307e\u3059\u3002\u3064\u307e\u308a\u8a18\u8ff0\u4f8b\u3067\u66f8\u304d\u76f4\u3057\u305f\u66f8\u5f0f\u306f\u3001\u6700\u521d\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u305f\u66f8\u5f0f\u306e\u5148\u982d\u306b `%v` \u3092\u8ffd\u52a0\u3057\u305f\u3082\u306e\u3067\u3059\u3002`%v` \u306f\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002</dd>\n\n<dt>[&lt;Macro&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`<Macro CommonHost $subdomain $directory>`\u301c`</Macro>`</dd><dd><i>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30de\u30af\u30ed</i>\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002<i>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30de\u30af\u30ed</i>\u306f\u3001\u8907\u6570\u306e\u7b87\u6240\u3067\u540c\u3058\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u4f7f\u3044\u307e\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u304a\u3051\u308b\u95a2\u6570\u5ba3\u8a00\u306e\u3088\u3046\u306b\u3001\u7b2c1\u5f15\u6570\u306b\u30de\u30af\u30ed\u540d\u3001\u7b2c2\u5f15\u6570\u4ee5\u964d\u306b\u4eee\u5f15\u6570\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\u5f15\u6570\u306e\u6570\u306e\u9055\u3044\u306b\u3088\u308b\u591a\u91cd\u5b9a\u7fa9\u306f\u3067\u304d\u307e\u305b\u3093\u3002</dd>\n\n<dt>[Use \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u305f<i>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30de\u30af\u30ed</i>\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u304a\u3051\u308b\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e\u3088\u3046\u306b\u3001\u7b2c1\u5f15\u6570\u306b\u30de\u30af\u30ed\u540d\u3001\u7b2c2\u5f15\u6570\u4ee5\u964d\u306b\u5b9f\u5f15\u6570\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002`Use ExampleMacro \"\"`\u306e\u3088\u3046\u306b\u3001\u5b9f\u5f15\u6570\u306b\u7a7a\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u8b66\u544a\u304c\u767a\u751f\u3057\u307e\u3059\u3002</dd></dl>\n\n\u4f8b\u3048\u3070\u4e0a\u8a18\u30b3\u30fc\u30c9\u306e\u6700\u5f8c\u306e[&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u306f\u3001<i>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30de\u30af\u30ed</i>\u306b\u3088\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7f6e\u63db\u3055\u308c\u307e\u3059\u3002\n\n```apache:\u7f6e\u63db\u524d\n<VirtualHost *:80>\n    Use CommonHost sub2. sub2\n</VirtualHost>\n```\n\n```apache:\u7f6e\u63db\u5f8c\n<VirtualHost *:80>\n    ServerName sub2.example.jp\n    DocumentRoot /var/www/sub2\n    <Directory /var/www/sub2>\n        Require all granted\n    </Directory>\n</VirtualHost>\n```\n\n[LoadModule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_so.html#loadmodule \"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30ea\u30f3\u30af\u3057\u3001\u4f7f\u7528\u30e2\u30b8\u30e5\u30fc\u30eb\u306e \u30ea\u30b9\u30c8\u306b\u8ffd\u52a0\u3059\u308b\"\n[Alias \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_alias.html#alias \"URL \u3092\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u4f4d\u7f6e\u306b\u30de\u30c3\u30d7\u3059\u308b\"\n[AliasMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_alias.html#aliasmatch \"\u6b63\u898f\u8868\u73fe\u3092\u4f7f\u3063\u3066 URL \u3092\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u4f4d\u7f6e\u306b\u30de\u30c3\u30d7\u3059\u308b\"\n[&lt;DirectoryMatch&gt; \u30bb\u30af\u30b7\u30e7\u30f3]: https://httpd.apache.org/docs/current/mod/core.html#directorymatch \"\u6b63\u898f\u8868\u73fe\u306b\u30de\u30c3\u30c1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068 \u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u306e\u307f\u306b\u9069\u7528\u3055\u308c\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u56f2\u3080\"\n[&lt;FilesMatch&gt; \u30bb\u30af\u30b7\u30e7\u30f3]: https://httpd.apache.org/docs/current/mod/core.html#filesmatch \"\u6b63\u898f\u8868\u73fe\u306b\u30de\u30c3\u30c1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u9069\u7528\u3055\u308c\u308b \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u56f2\u3080\"\n[AllowOverride \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#allowoverride \".htaccess \u3067\u8a31\u53ef\u3055\u308c\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u7a2e\u985e\"\n[DocumentRoot \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#documentroot \"\u30a6\u30a7\u30d6\u304b\u3089\u898b\u3048\u308b\u30e1\u30a4\u30f3\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c4\u30ea\u30fc\u306b\u306a\u308b \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\"\n[&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]: https://httpd.apache.org/docs/current/mod/core.html#virtualhost \"\u7279\u5b9a\u306e\u30db\u30b9\u30c8\u540d\u3084 IP \u30a2\u30c9\u30ec\u30b9\u306e\u307f\u306b\u9069\u7528\u3055\u308c\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092 \u56f2\u3080\"\n[\u540d\u524d\u30d9\u30fc\u30b9\u306e\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8]: https://httpd.apache.org/docs/current/vhosts/name-based.html \"IP \u30d9\u30fc\u30b9\u306e\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u3067\u306f\u3001\u5fdc\u7b54\u3059\u308b \u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u3078\u306e\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u6c7a\u5b9a\u3059\u308b\u305f\u3081\u306b IP \u30a2\u30c9\u30ec\u30b9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3067\u3059\u304b\u3089\u3001\u305d\u308c\u305e\u308c\u306e\u30db\u30b9\u30c8\u306b\u500b\u3005\u306b IP \u30a2\u30c9\u30ec\u30b9\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u5bfe\u3057\u3066\u540d\u524d\u30d9\u30fc\u30b9\u306e\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u3067\u306f\u3001 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c HTTP \u30d8\u30c3\u30c0\u306e\u4e00\u90e8\u3068\u3057\u3066\u30db\u30b9\u30c8\u540d\u3092\u544a\u3052\u308b\u3001 \u3068\u3044\u3046\u3053\u3068\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002\u3053\u306e\u6280\u8853\u3067\u540c\u4e00 IP \u30a2\u30c9\u30ec\u30b9\u3092\u7570\u306a\u308b\u591a\u6570\u306e\u30db\u30b9\u30c8\u3067\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002\"\n[CustomLog \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_log_config.html#customlog \"\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d\u3068\u66f8\u5f0f\u3092\u8a2d\u5b9a\u3059\u308b\"\n[&lt;Macro&gt; \u30bb\u30af\u30b7\u30e7\u30f3]: https://httpd.apache.org/docs/current/mod/mod_macro.html#macro \"Define a configuration file macro\"\n[Use \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_macro.html#use \"Use a macro\"\n\nURL\u306e\u672b\u5c3e\u306b\u62e1\u5f35\u5b50\u3092\u8868\u793a\u3057\u306a\u3044\n=============================\n\u3053\u3053\u3067\u306f[RewriteMap \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001[mod_negotiation\u30e2\u30b8\u30e5\u30fc\u30eb]\u3084[RewriteCond \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3092\u5229\u7528\u3057\u3066\u5b9f\u73fe\u3067\u304d\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\n```apache:/etc/httpd/conf.d/vhosts.conf\n# Virtual Hosts\n#\n# If you want to maintain multiple domains/hostnames on your\n# machine you can setup VirtualHost containers for them. Most configurations\n# use only name-based virtual hosts so the server doesn't need to worry about\n# IP addresses. This is indicated by the asterisks in the directives below.\n#\n# Please see the documentation at \n# <URL:https://httpd.apache.org/docs/2.4/vhosts/>\n# for further details before you try to setup virtual hosts.\n#\n# You may use the command line option '-S' to verify your virtual host\n# configuration.\n\n## \u2193\u3053\u3053\u304b\u3089\u8ffd\u8a18 ##\nRewriteEngine on\n\n# rewrite\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u95a2\u3059\u308b\u30ed\u30b0\u3092\u3059\u3079\u3066\u8a18\u9332\u3059\u308b\n#LogLevel alert rewrite:trace8\n\n# \u6a19\u6e96\u5165\u529b\u306e\u300c\u30d5\u30eb\u30d1\u30b9,\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u53d6\u308a\u9664\u3044\u305f\u30d1\u30b9\u300d\u304b\u3089\u62e1\u5f35\u5b50\u4ed8\u304d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u63a2\u3057\u3001\u6700\u521d\u306b\u898b\u3064\u304b\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u304b\u3089\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u53d6\u308a\u9664\u3044\u3066\u8fd4\u3059\nRewriteMap adjust-extension \"prg:/usr/bin/perl -e '$| = 1; while (<STDIN>) { chomp($_); my @params = split(/,/, $_); my $path; if ($#params == 1) { ($path) = glob(@params[0] . \\\\'.*\\\\'); if ($path) { $path = substr($path, length(@params[0]) - length(@params[1])); } } print(($path || \\\\'NULL\\\\') . \\\"\\\\\\\\x0A\\\"); }'\"\n\n<Directory /var/www>\n    # \u62e1\u5f35\u5b50\u7121\u3057\u306eURL\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n    RewriteOptions Inherit\n    RewriteRule ^([^.]+)(?<!/)$ ${adjust-extension:%{REQUEST_FILENAME},$1|$1}\n</Directory>\n\n<If \"unescape(%{THE_REQUEST}) =~ /\\\\..*\\\\s/\">\n    # \u8981\u6c42\u884c\u306e\u6700\u5f8c\u306e\u7a7a\u767d\u3088\u308a\u524d\u306b\u30d4\u30ea\u30aa\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u308c\u3070\n    # Favicon\u3001robots.txt\u3001phpMyAdmin\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u9664\u304f\u62e1\u5f35\u5b50\u4ed8\u304d\u306eURL\u3092\u62e1\u5f35\u5b50\u7121\u3057\u306eURL\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RedirectMatch permanent ^(/(?!(?:favicon\\.ico|robots\\.txt)$|phpMyAdmin/)[^.]+)\\. $1\n</If>\n## \u2191\u3053\u3053\u307e\u3067\u8ffd\u8a18 ##\n\n# \u3059\u3079\u3066\u306e\u4eee\u60f3\u30db\u30b9\u30c8\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30d5\u30a1\u30a4\u30eb\nAliasMatch ^/((?:common|polyfill)/.+) /var/www/common/$1\n<Directory /var/www/common>\n    RewriteBase /\n</Directory>\n## \u2191\u3053\u306e<Directory>\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0 ##\n<DirectoryMatch ^/var/www/common/(?:common|polyfill)/.+$>\n    Require all granted\n</DirectoryMatch>\n\n# \u3059\u3079\u3066\u306e\u4eee\u60f3\u30db\u30b9\u30c8\u3067\u5171\u901a\u306e\u8a2d\u5b9a\n<Macro CommonHost $subdomain $directory>\n    ServerName $subdomainexample.jp\n    Include /etc/letsencrypt/options-ssl-apache.conf\n    DocumentRoot /var/www/$directory\n    RewriteOptions Inherit\n    ## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n    <Directory /var/www/$directory>\n        Require all granted\n    </Directory>\n</Macro>\n\n<VirtualHost *:80>\n    # 80\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\n    ServerName default-virtual-host.invalid\n\n    # \u6b63\u898f\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306b\u4e00\u81f4\u3059\u308b\u306a\u3089\u3001https://%{HTTP_HOST}/ \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RewriteEngine on\n    RewriteCond %{HTTP_HOST} ^(?:sub1|sub2).example.jp$\n    RewriteRule .* https://%{HTTP_HOST}$0 [redirect=permanent,last]\n\n    # \u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001https://example.jp/ \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    RewriteRule .* https://example.jp$0 [redirect=permanent,last]\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use \" \" html\n    # \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c7\u30fc\u30bf\n    Alias /oekaki/data /var/www/share/html/uploader/data\n    <Directory /var/www/share/html/uploader/data>\n        RewriteBase /uploader/data/\n        ## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n        Require all granted\n    </Directory>\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use sub1. sub1\n    AliasMatch ^/((?:index|style)(?:\\.[^/]+)?)$ /var/www/share/sub1/core/$1\n    <Directory /var/www/share/sub1/core>\n        RewriteBase /\n        ## \u2191\u3053\u306e\u884c\u3092\u8ffd\u52a0 ##\n        Require all granted\n    </Directory>\n</VirtualHost>\n\n<VirtualHost *:443>\n    Use sub2. sub2\n</VirtualHost>\n```\n\n`/etc/httpd/conf/httpd.conf`\u306b`#LoadModule rewrite_module lib64/httpd/modules/mod_rewrite.so`\u306e\u3088\u3046\u306a\u884c\u304c\u3042\u308c\u3070\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n&#x20;\n<dl><dt>[RewriteEngine \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`RewriteEngine on`</dd><dd>rewrite\u30a8\u30f3\u30b8\u30f3\u306e\u6709\u52b9\u3068\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\u521d\u671f\u8a2d\u5b9a\u3067\u306f\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u7121\u52b9\u306e\u5834\u5408\u3001[RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306a\u3069\u304c\u7121\u8996\u3055\u308c\u308b\u3060\u3051\u3067\u3001\u30a8\u30e9\u30fc\u306f\u767a\u751f\u3057\u307e\u305b\u3093\u3002</dd>\n\n<dt>[RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd><code>RewriteRule ^([^.]+)(?&lt;!/)$ ${adjust-extension:%{REQUEST_FILENAME},$1|$1}</code></dd><dd>\u7b2c1\u5f15\u6570\u306e\u6b63\u898f\u8868\u73fe\u306b\u4e00\u81f4\u3057\u305f\u30d1\u30b9\u3092\u7b2c2\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\u4e00\u5ea6\u3067\u3082\u7f6e\u304d\u63db\u3048\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u3068\u3001\u5168\u3066\u306eRewriteRule\u304c\u51e6\u7406\u3055\u308c\u305f\u5f8c\u3001\u5185\u90e8\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306b\u3088\u3063\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\u304c\u3084\u308a\u76f4\u3055\u308c\u307e\u3059\u3002`%{REQUEST_URL}`\u7b49\u3082URL\u66f8\u304d\u63db\u3048\u5f8c\u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u7121\u9650\u30eb\u30fc\u30d7\u304c\u8d77\u3053\u3089\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</dd><dd>rewrite\u306f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u3067\u306f\u306a\u304fURL\u3092\u66f8\u304d\u63db\u3048\u308b\u51e6\u7406\u306a\u306e\u3067\u3001[Alias \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306e\u3088\u3046\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u5916\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002</dd><dd>\u5f15\u6570\u306b\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3092\u542b\u3080[&lt;Directory&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u3067\u306f\u671f\u5f85\u901a\u308a\u306b\u52d5\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059 (<i>per-dir</i>\u306b\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u304c\u542b\u307e\u308c\u305f\u307e\u307erewrite\u51e6\u7406\u304c\u884c\u308f\u308c\u308b\u305f\u3081)\u3002</dd></dl>\n\n\u4e0a\u8a18\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u3092\u3057\u3066 https://example.jp/file \u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306erewrite\u51e6\u7406\u3092\u3001\u4f8b\u3068\u3057\u3066\u793a\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001<i>ReqriteRule\u3092\u8a18\u8ff0\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\uff08<i>per-dir</i>\uff09\u306f`/var/www/`\u3067\u3059\u3002\n\n|   | \u51e6\u7406\u524d                          | \u51e6\u7406\u5f8c                          | \u51e6\u7406\u5185\u5bb9                                                                                                                   |\n|---|---------------------------------|---------------------------------|----------------------------------------------------------------------------------------------------------------------------|\n| 1 |/var/www/html/file               | html/file                       | <i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u304b\u3089<i>per-dir</i>\u3092\u53d6\u308a\u9664\u304f                                                           |\n| 2 | html/file                       | html/file.xhtml                 | <code>^([^.]+)(?&lt;!/)$</code>\u306b\u4e00\u81f4\u3059\u308b\u306e\u3067\u3001<code>${adjust-extension:%{REQUEST_FILENAME},$1&#x7C;$1}</code>\u306b\u66f8\u304d\u63db\u3048\u308b |\n| 3 | html/file.xhtml                 | /var/www/html/file.xhtml        | <i>per-dir</i>\u3092\u524d\u7f6e\u3059\u308b                                                                                                   |\n| 4 | /var/www/html/file.xhtml        | /file.xhtml                     | <i>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8</i>\u3092\u53d6\u308a\u9664\u304d\u3001\u5185\u90e8\u30ea\u30c0\u30a4\u30ec\u30af\u30c8                                                                      |\n| 5 | /var/www/html/file.xhtml        | html/file.xhtml                 | <i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u304b\u3089<i>per-dir</i>\u3092\u53d6\u308a\u9664\u304f                                                           |\n| 6 | html/file.xhtml                 | html/file.xhtml                 | <code>^([^.]+)(?&lt;!/)$</code>\u306b\u4e00\u81f4\u3057\u306a\u3044\u306e\u3067\u3001\u4f55\u3082\u3057\u306a\u3044                                                                |\n| 7 | html/file.xhtml                 | /var/www/html/file.xhtml        | \u66f8\u304d\u63db\u3048\u304c\u884c\u308f\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u3001<i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u3092\u8fd4\u3057\u3066rewrite\u51e6\u7406\u7d42\u4e86                                  |\n\n&#x20;\n<dl><dt>[RewriteBase \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`RewriteBase /`</dd><dd>[Alias \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306b\u3088\u3063\u3066URL\u304c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u5916\u306e\u30d1\u30b9\u3068\u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\u3068\u3001\u305d\u306e\u307e\u307e\u3067\u306f\u5185\u90e8\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u524d\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3092\u53d6\u308a\u9664\u304f\u51e6\u7406\u304c\u884c\u3048\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u306e\u7d76\u5bfe\u30d1\u30b9\u3092\u53d6\u308a\u9664\u304f\u4ee3\u308f\u308a\u306b\u3001<i>per-dir</i>\u3092\u7b2c1\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f<i>\u57fa\u5e95URL</i>\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002[^qa@it-alias-rewrite]</dd></dl>\n\n\u4e0a\u8a18\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u3092\u3057\u3066 https://example.jp/polyfill/main \u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3068\u304d\u306erewrite\u51e6\u7406\u3092\u3001\u4f8b\u3068\u3057\u3066\u793a\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001<i>per-dir</i>\u306f`/var/www/common`\u3001<i>\u57fa\u5e95URL</i>\u306f`/`\u3067\u3059\u3002\n\n|   | \u51e6\u7406\u524d                           | \u51e6\u7406\u5f8c                           | \u51e6\u7406\u5185\u5bb9                                                                                                                   |\n|---|----------------------------------|----------------------------------|----------------------------------------------------------------------------------------------------------------------------|\n| 1 | /polyfill/main                   | /var/www/common/polyfill/main    | [AliasMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306b\u3088\u3063\u3066\u3001<i>\u7d76\u5bfeURL</i>\u3068<i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u7d76\u5bfe\u30d1\u30b9\u76f8\u5bfeURL</i>\u304c\u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b          |\n| 2 | /var/www/common/polyfill/main    | polyfill/main                    | <i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u304b\u3089<i>per-dir</i>\u3092\u53d6\u308a\u9664\u304f                                                           |\n| 3 | polyfill/main                    | polyfill/main.js                 | <code>^([^.]+)(?&lt;!/)$</code>\u306b\u4e00\u81f4\u3059\u308b\u306e\u3067\u3001<code>${adjust-extension:%{REQUEST_FILENAME},$1&#x7C;$1}</code>\u306b\u66f8\u304d\u63db\u3048\u308b |\n| 4 | polyfill/main.js                 | /var/www/common/polyfill/main.js | <i>per-dir</i>\u3092\u524d\u7f6e\u3059\u308b                                                                                                   |\n| 5 | /var/www/common/polyfill/main.js | /polyfill/main.js                | <i>per-dir</i>\u3092<i>\u57fa\u5e95URL</i>\u306b\u7f6e\u304d\u63db\u3048\u3001\u5185\u90e8\u30ea\u30c0\u30a4\u30ec\u30af\u30c8                                                                 |\n| 6 | /polyfill/main.js                | /var/www/common/polyfill/main.js | [AliasMatch \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306b\u3088\u3063\u3066\u3001<i>\u7d76\u5bfeURL</i>\u3068<i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u304c\u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b              |\n| 7 | /var/www/common/polyfill/main.js | polyfill/main.js                 | <i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u304b\u3089<i>per-dir</i>\u3092\u53d6\u308a\u9664\u304f                                                           |\n| 8 | polyfill/main.js                 | polyfill/main.js                 | <code>^([^.]+)(?&lt;!/)$</code>\u306b\u4e00\u81f4\u3057\u306a\u3044\u306e\u3067\u3001\u4f55\u3082\u3057\u306a\u3044                                                                |\n| 9 | polyfill/main.js                 | /var/www/common/polyfill/main.js | \u66f8\u304d\u63db\u3048\u304c\u884c\u308f\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u3001<i>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u7d76\u5bfeURL</i>\u3092\u8fd4\u3057\u3066rewrite\u51e6\u7406\u7d42\u4e86                                  |\n\n&#x20;\n<dl><dt>[RewriteCond \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>[RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3092\u9069\u7528\u3059\u308b\u6761\u4ef6\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002RewriteRule1\u3064\u306b\u4ed8\u304d\u3001\u8907\u6570\u306eRewriteCond\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002RewriteCond\u306f\u5bfe\u8c61\u306eRewriteRule\u3088\u308a\u3082\u524d\u306b\u8a18\u8ff0\u3057\u307e\u3059\u304c\u3001RewriteCond\u3088\u308a\u3082\u5148\u306bRewriteRule\u306e\u6761\u4ef6\u304c\u30c1\u30a7\u30c3\u30af\u3055\u308c\u307e\u3059\u3002</dd>\n\n<dt>[RewriteMap \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`RewriteMap adjust-extension \"prg:/usr/bin/perl -e '$| = 1; while (<STDIN>) { chomp($_); my @params = split(/,/, $_); my $path; if ($#params == 1) { ($path) = glob(@params[0] . \\\\\\\\'.*\\\\\\\\'); if ($path) { $path = substr($path, length(@params[0]) - length(@params[1])); } } print(($path || \\\\\\\\'NULL\\\\\\\\') . \\\\\"\\\\\\\\\\\\\\\\x0A\\\\\"); }'\"`</dd><dd>\u7b2c1\u5f15\u6570\u306b\u30de\u30c3\u30d7\u540d (\u95a2\u6570\u540d)\u3001\u7b2c2\u5f15\u6570\u306b<i>\u30de\u30c3\u30d7\u30bf\u30a4\u30d7</i>\u3068<i>\u30de\u30c3\u30d7\u30bd\u30fc\u30b9</i>\u3092`:`\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u3001[RewriteCond \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3068[RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3067\u5229\u7528\u3067\u304d\u308b\u30de\u30c3\u30d4\u30f3\u30b0\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002[RewriteMap \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306f\u3001<i>\u30b5\u30fc\u30d0\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8</i> (\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067[&lt;Directory&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u3084[&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u306e\u5916) \u304b<i>\u4eee\u60f3\u30db\u30b9\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8</i> ([&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u306e\u4e2d\u3067[&lt;Directory&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u306a\u3069\u306e\u5916) \u306b\u3057\u304b\u8a18\u8ff0\u3067\u304d\u307e\u305b\u3093\u3002[RewriteMap \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3092\u8a18\u8ff0\u3057\u305f\u5834\u6240\u3067rewrite\u30a8\u30f3\u30b8\u30f3\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u3001\u95a2\u6570\u306f\u5b9a\u7fa9\u3055\u308c\u307e\u305b\u3093\u3002`${\u30de\u30c3\u30d7\u540d:\u5f15\u6570|\u30c7\u30d5\u30a9\u30eb\u30c8\u5024}`\u306e\u3088\u3046\u306b\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002`${\u95a2\u6570\u540d:\u5f15\u6570}`\u306e\u3088\u3046\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u66f8\u304b\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u5f15\u6570\u306b\u5bfe\u5fdc\u3059\u308b\u623b\u308a\u5024\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408 (`map lookup FAILED`) \u306f\u7a7a\u6587\u5b57\u5217\u304c\u8fd4\u308a\u307e\u3059\u3002</dd><dd><i>\u30de\u30c3\u30d7\u30bf\u30a4\u30d7</i>\u304c`prg`\u306e\u5834\u5408\u3001\u30de\u30c3\u30d7\u30bd\u30fc\u30b9\u306f\u6a19\u6e96\u5165\u529b\u304b\u3089\u5f15\u6570\u3092\u53d7\u3051\u53d6\u308a\u6a19\u6e96\u51fa\u529b\u3078\u623b\u308a\u5024\u3092\u66f8\u304d\u3060\u3059\u30d7\u30ed\u30b0\u30e9\u30e0\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9\u3067\u3059\u3002[User \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3067\u8a2d\u5b9a\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u304c\u3001\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c\u6a29\u9650\u3092\u6301\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306fApache\u8d77\u52d5\u6642\u306b\u4e00\u5ea6\u3060\u3051\u8d77\u52d5\u3055\u308c\u308b\u305f\u3081\u3001\u6a19\u6e96\u5165\u529b\u3092\u53d7\u3051\u53d6\u308b\u307e\u3067\u51e6\u7406\u3092\u30d6\u30ed\u30c3\u30af\u3057\u3001\u623b\u308a\u5024\u3092\u66f8\u304d\u3060\u3057\u305f\u5f8c\u306f\u307e\u305f\u6a19\u6e96\u5165\u529b\u3092\u53d7\u3051\u53d6\u308b\u307e\u3067\u51e6\u7406\u3092\u30d6\u30ed\u30c3\u30af\u3059\u308b\u7121\u9650\u30eb\u30fc\u30d7\u69cb\u9020\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u5165\u51fa\u529b\u30d0\u30c3\u30d5\u30a1\u306e\u7121\u52b9\u5316\u3082\u5fc5\u8981\u3067\u3059\u3002\u623b\u308a\u5024\u306e\u672b\u5c3e\u306b\u6539\u884c (LF) \u30921\u3064\u3060\u3051\u7f6e\u304d\u307e\u3059\u3002\u6587\u5b57\u5217`NULL` (+\u6539\u884c) \u3092\u8fd4\u305b\u3070\u3001`map lookup FAILED`\u3092\u793a\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</dd><dd>\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u671f\u5f85\u901a\u308a\u306e\u52d5\u4f5c\u3092\u3057\u306a\u3044\u5834\u5408\u3001SELinux\u306b\u3088\u3063\u3066\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3082\u3042\u308b\u306e\u3067\u3001[SELinux\u306e\u30ed\u30b0\u306e\u78ba\u8a8d]\u3082\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306f\u7121\u8996\u3055\u308c\u3001Apache\u306e\u30ed\u30b0\u306b\u306f\u6b8b\u308a\u307e\u305b\u3093\u3002</dd><dd>\u7b2c2\u5f15\u6570\u5168\u4f53\u3092`\"`\u3067\u56f2\u307f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u30d1\u30b9\u306e\u5f8c\u306b\u7a7a\u767d\u533a\u5207\u308a\u3067\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u3092\u66f8\u3044\u305f\u5834\u5408\u3001\u5404\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u306f\u6587\u5b57\u5217\u3068\u3057\u3066\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u307e\u3059\u3002\u30b7\u30f3\u30b0\u30eb\u30af\u30a9\u30fc\u30c8\u3067\u56f2\u3080\u3053\u3068\u3067\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u306b\u7a7a\u767d\u3092\u542b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u306e\u4e2d\u3067`'` `\"` `\\\\`\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308c`\\\\\\\\'` `\\\\\"` `\\\\\\\\\\\\\\\\` \u3068\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u307e\u3059\u3002</dd>\n\n<dt>[RewriteOptions \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u3000\\(\u30ea\u30f3\u30af\u5148\u82f1\u8a9e)</dt><dd>`RewriteOptions Inherit`</dd><dd>rewrite\u30a8\u30f3\u30b8\u30f3\u306e\u8ffd\u52a0\u8a2d\u5b9a\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u8a2d\u5b9a\u6709\u52b9\u5316\u306f\u3001\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067[RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]\u306a\u3069\u3092\u8a18\u8ff0\u3057\u305f\u5834\u5408\u306b\u3082\u5f15\u304d\u7d99\u304c\u308c\u307e\u3059\u3002`Inherit`\u306f\u3001<i>\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30eb\u30fc\u30eb\u306e\u5f8c\u306b\u3001\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30eb\u30fc\u30eb\u3092\u30b3\u30d4\u30fc\u3059\u308b</i>\u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3002`Inherit`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092<i>\u4eee\u60f3\u30db\u30b9\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8</i>\u3067\u6709\u52b9\u306b\u3057\u305f\u5834\u5408\u306f\u610f\u5473\u304c\u5909\u308f\u308a\u3001<i>\u30e1\u30a4\u30f3\u30b5\u30fc\u30d0\u8a2d\u5b9a</i> ([&lt;VirtualHost&gt; \u30bb\u30af\u30b7\u30e7\u30f3]\u306e\u5916) \u306b\u8a18\u8ff0\u3057\u305f\u30eb\u30fc\u30eb\u3092\u7d99\u627f\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u306a\u308a\u307e\u3059\u3002[^qa@it-rewriterule]</dd>\n\n<dt>[LogLevel \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>`LogLevel alert rewrite:trace8`</dd><dd>\u30a8\u30e9\u30fc\u30ed\u30b0\u306b\u8a18\u9332\u3059\u308b\u30ed\u30b0\u306e\u7a2e\u985e\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002<i>\u30e2\u30b8\u30e5\u30fc\u30eb</i>\u3068<i>\u30ec\u30d9\u30eb</i>\u3092`:`\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u4ee5\u964d\u3067\u8907\u6570\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u7b2c1\u5f15\u6570\u306e<i>\u30e2\u30b8\u30e5\u30fc\u30eb</i>\u306f\u7701\u7565\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u306e\u5834\u5408\u3059\u3079\u3066\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3064\u3044\u3066\u540c\u3058\u30ec\u30d9\u30eb\u3092\u6307\u5b9a\u3057\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u65e2\u5b9a\u306f `LogLevel warn` \u3067\u3059\u3002</dd>\n</dl>\n\n[^qa@it-alias-rewrite]: [\u3010Apache 2.4\u3011\u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u3067\u5171\u901a\u306eRewriteRule\u3068Alias\u3092\u8a2d\u5b9a\u3057\u305f\u3044 - QA@IT](http://qa.atmarkit.co.jp/q/3283#answer_16079)\n[^qa@it-rewriterule]: [\u3010Apache 2.4\u3011\u30b5\u30fc\u30d0\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u305fRewriteRule\u304c\u52d5\u304b\u306a\u3044 - QA@IT](http://qa.atmarkit.co.jp/q/3248#answer_16032)\n\n[mod_negotiation\u30e2\u30b8\u30e5\u30fc\u30eb]: https://httpd.apache.org/docs/current/content-negotiation.html \"Apache \u306f HTTP/1.1 \u306e\u898f\u683c\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30f3\u30c8\u30cd\u30b4\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u3092 \u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u305f\u30e1\u30c7\u30a3\u30a2\u30bf\u30a4\u30d7\u3001 \u8a00\u8a9e\u3001\u6587\u5b57\u30bb\u30c3\u30c8\u3001\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u512a\u5148\u50be\u5411\u306b\u57fa\u3065\u3044\u3066\u3001 \u6700\u9069\u306a\u30ea\u30bd\u30fc\u30b9\u306e\u8868\u73fe\u3092\u9078\u629e\u3067\u304d\u307e\u3059\u3002 \u307e\u305f\u3001\u4e0d\u5b8c\u5168\u306a\u30cd\u30b4\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u9001\u3063\u3066\u304f\u308b\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092 \u3082\u3063\u3068\u8ce2\u304f\u53d6\u308a\u6271\u3048\u308b\u3088\u3046\u3001\u3044\u304f\u3064\u304b\u6a5f\u80fd\u3082\u5b9f\u88c5\u3057\u3066\u3042\u308a\u307e\u3059\u3002\"\n[RewriteEngine \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriteengine \"Enables or disables runtime rewriting engine\"\n[RewriteRule \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriterule \"Defines rules for the rewriting engine\"\n[RewriteBase \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritebase \"Sets the base URL for per-directory rewrites\"\n[RewriteCond \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritecond \"Defines a condition under which rewriting will take place\"\n[RewriteMap \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritemap \"Defines a mapping function for key-lookup\"\n[SELinux\u306e\u30ed\u30b0\u306e\u78ba\u8a8d]: //qiita.com/100/items/f7f43994568836b4a453#\u9055\u53cd\u30ed\u30b0\u304b\u3089\u65b0\u3057\u3044\u30eb\u30fc\u30eb\u3092\u5b9a\u7fa9 \"\u30dd\u30ea\u30b7\u30fc\u9055\u53cd\u306e\u30ed\u30b0\u306f\u3001`sudo grep avc: /var/log/messages`\u3092\u5b9f\u884c\u3001\u53c8\u306fAudit\u304c\u8d77\u52d5\u3057\u3066\u3044\u305f\u72b6\u614b\u306a\u3089`sudo ausearch --message AVC`\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\"\n[RewriteOptions \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriteoptions \"Sets some special options for the rewrite engine\"\n[LogLevel \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#loglevel \"ErrorLog \u306e\u5197\u9577\u6027\u3092\u5236\u5fa1\u3059\u308b\"\n\n\u958b\u767a\u74b0\u5883\u5411\u3051\u306e\u8a2d\u5b9a\n==================\n```apache:/etc/httpd/conf/httpd.conf\n                        ##############\n                        ## \u4ee5\u4e0a\u7701\u7565 ##\n                        ##############\n\n#\n# EnableMMAP and EnableSendfile: On systems that support it, \n# memory-mapping or the sendfile syscall may be used to deliver\n# files.  This usually improves server performance, but must\n# be turned off when serving from networked-mounted \n# filesystems or if support for these functions is otherwise\n# broken on your system.\n# Defaults if commented: EnableMMAP On, EnableSendfile Off\n#\n#EnableMMAP off\n#EnableSendfile on\n## \u2191\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u3053\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b ##\n\n                        ##############\n                        ##   \u4e2d\u7565   ##\n                        ##############\n\n# \u958b\u767a\u74b0\u5883\n\n# 403\u3068404\u3092\u533a\u5225\u3059\u308b\nErrorDocument 403 /forbidden\n\n# \u958b\u767a\u74b0\u5883\u7528\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\nHeader always set link \"</common/development>; rel=stylesheet\"\n\n# Favicon\u3092\u5909\u3048\u308b\nAlias /favicon.ico /var/www/html/favicon-development.ico\n\n# \u958b\u767a\u74b0\u5883\u3078\u306eCSRF\u3092\u9632\u6b62\u3059\u308b\n<If \"-n %{HTTP_REFERER} && !(%{HTTP_REFERER} -strmatch %{REQUEST_SCHEME} . '://' . %{SERVER_NAME} . '/*')\">\n    # \u30ea\u30d5\u30a1\u30e9\u304c\u5b58\u5728\u3057\u3001\u304b\u3064\u30ea\u30d5\u30a1\u30e9\u306e\u30db\u30b9\u30c8\u540d\u304c\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u3068\u4e00\u81f4\u3057\u306a\u3051\u308c\u3070\n    Require all denied\n</If>\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u30ea\u30d5\u30a1\u30e9\u3092\u5909\u66f4\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u30db\u30ef\u30a4\u30c8\u30ea\u30b9\u30c8\u306b\u958b\u767a\u74b0\u5883\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n&#x20;\n<dl><dt>[EnableSendfile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]</dt><dd>\u300csendfile\u300d\u3068\u3044\u3046\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059\u6642\u306e\u6027\u80fd\u3092\u5411\u4e0a\u3057\u3088\u3046\u3068\u3059\u308b\u6a5f\u80fd\u306e\u6709\u52b9\u3068\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002<br>Apache 2.4\u306e\u65e2\u5b9a\u306f`EnableSendfile Off`\u3067\u3059\u304c\u3001CentOS7\u6a19\u6e96\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b`EnableSendfile On`\u304c\u8a18\u8ff0\u3055\u308c\u3066\u304a\u308a\u6709\u52b9\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002 **[VirtualBox]\u306a\u3069\u3067[\u4eee\u60f3\u30de\u30b7\u30f3]\u3092\u4f5c\u6210\u3057\u3066\u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u304c\u53cd\u6620\u3055\u308c\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002** \u305d\u306e\u3088\u3046\u306a\u3068\u304d\u306f\u3001`EnableSendfile On`\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3053\u306e\u6a5f\u80fd\u3092\u7121\u52b9\u5316\u3057\u307e\u3059\u3002[^sf]</dd>\n</dl>\n\n```css:/var/www/common/common/development.css\n/*====================================\n\t\u8868\u793a\u9818\u57df\u306e\u53f3\u7aef\u306b\u7e26\u66f8\u304d\u3067\u6587\u5b57\u3092\u8868\u793a\u3059\u308b\n*/\nbody::after {\n\tfont-size: 10vmin;\n\twidth: 1em;\n\tline-height: 2.3;\n\tcontent: \"\u958b\u767a\u74b0\u5883\";\n\tdisplay: block;\n\tcolor: #FFFFFF;\n\tfont-weight: bold;\n\tbackground: rgba(127, 127, 127, 0.7);\n\tborder: solid #FFFFFF 0.2em;\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\topacity: 0.5;\n}\n```\n\n[link\u5fdc\u7b54\u30d8\u30c3\u30c0][link]\u306b\u3088\u308bCSS\u306e\u8a2d\u5b9a\u306f\u3001\u524d\u8ff0\u306e\u3088\u3046\u306bFirefox\u3067\u3057\u304b\u4f7f\u3048\u307e\u305b\u3093\u3002\u958b\u767a\u74b0\u5883\u3092\u8868\u3059CSS\u306e\u8a2d\u5b9a\u306f\u30e6\u30fc\u30b6\u30fc\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u3092\u4f7f\u3063\u3066\u3082\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n[^sf]: [Vagrant\u3084VirtualBox\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u6a5f\u80fd\u3067\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044 \u2014 SEEDS Creator\u2019s Blog](http://blog.seeds-std.co.jp/entry/1227.html)\n\n[EnableSendfile \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6]: https://httpd.apache.org/docs/current/mod/core.html#enablesendfile \"\u30d5\u30a1\u30a4\u30eb\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3078\u306e\u914d\u9001\u6642\u306b\u30ab\u30fc\u30cd\u30eb\u306e sendfile \u30b5\u30dd\u30fc\u30c8\u3092 \u4f7f\u3046\u304b\u3069\u3046\u304b\"\n[VirtualBox]: https://ja.wikipedia.org/wiki/VirtualBox \"Oracle VM VirtualBox \uff08\u30aa\u30e9\u30af\u30eb \u30d6\u30a4\u30a8\u30e0 \u30d0\u30fc\u30c1\u30e3\u30eb\u30dc\u30c3\u30af\u30b9\uff09\u3068\u306f\u3001x86\u4eee\u60f3\u5316\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30fb\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4e00\u3064\u3002\u73fe\u5728\u306e\u958b\u767a\u306f\u7c73\u56fd\u30aa\u30e9\u30af\u30eb\u304c\u884c\u3063\u3066\u3044\u308b\u3002\"\n[\u4eee\u60f3\u30de\u30b7\u30f3]: https://ja.wikipedia.org/wiki/%E4%BB%AE%E6%83%B3%E6%A9%9F%E6%A2%B0 \"\u4eee\u60f3\u6a5f\u68b0\uff08\u304b\u305d\u3046\u304d\u304b\u3044\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3001\u30d0\u30fc\u30c1\u30e3\u30eb\u30de\u30b7\u30f3\u3001\u82f1\u8a9e: virtual machine\u3001VM\uff09\u3068\u306f\u3001\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u52d5\u4f5c\u3092\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u3059\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3084\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308b\u3002\u307e\u305f\u3001\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u4eee\u60f3\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u305d\u306e\u3082\u306e\u3082\u4eee\u60f3\u6a5f\u68b0\u3068\u3044\u3046\u3002\u4eee\u60f3\u6a5f\u68b0\u306b\u3088\u3063\u3066\u30011\u3064\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u4e0a\u3067\u8907\u6570\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3084OS\u3092\u52d5\u4f5c\u3055\u305b\u305f\u308a\u3001\u5225\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u7528\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\"\n\n\u53c2\u8003\u30da\u30fc\u30b8\u30fb\u811a\u6ce8\n================\n", "tags": ["Apache2.4.6-40.el7.centos.4", "certbot0.9.3-1.el7", "CSP", "TLS", "HTTP"]}