{"context": "\u52c9\u5f37\u4f1a\u7528\u8cc7\u6599\u3067\u3059\uff0e\ndjango1.8\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u8fbf\u308a\u3064\u3064\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\uff0e\nhttps://docs.djangoproject.com/en/1.8/intro/tutorial04/\n\u65e5\u672c\u8a9e\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.4\u304c\u6700\u65b0\u306a\u306e\u3067\u82e5\u5e72\u9055\u3044\u304c\u6709\u308a\u307e\u3059\u304c\u5927\u307e\u304b\u306a\u6d41\u308c\u306f\u4e00\u7dd2\u306a\u306e\u3067\u4e00\u8aad\u3059\u308b\u306e\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\nhttp://django-docs-ja.readthedocs.org/en/latest/intro/tutorial04.html\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb1\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb2\n\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb3\n\n\u2192 \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u307e\u3068\u3081\n\n\n\u6295\u7968\u30d5\u30a9\u30fc\u30e0\u306e\u4f5c\u6210\n\u30bd\u30fc\u30b9\uff1a99b01e3\u219249d2e35\n\u307e\u305a\u306f\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u901a\u308a\u306bdetail.html\u3092\u6295\u7968\u7528\u306b\u66f8\u304d\u63db\u3048\uff0c\u6295\u7968\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff0e\n\npolls/templates/polls/detail.html\n<h1>{{ question.question_text }}</h1>\n\n{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}\n\n<form action=\"{% url 'poll_vote' question.id %}\" method=\"post\">\n  {% csrf_token %}\n  {% for choice in question.choice_set.all %}\n  <input type=\"radio\" name=\"choice\" id=\"choice{{ forloop.counter }}\" value=\"{{ choice.id }}\" />\n  <label for=\"choice{{ forloop.counter }}\">{{ choice.choice_text }}</label><br />\n  {% endfor %}\n  <input type=\"submit\" value=\"Vote\" />\n</form>\n\n\n\nURL\u306e\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u5316\u306f\u3057\u3066\u306a\u3044\u306e\u3067 polls:vote\u3092poll_vote\u306b\u66f8\u304d\u63db\u3048\u3066\u3044\u307e\u3059\uff0e\n\npolls_vote\u3068\u3044\u3046\u540d\u524d\u306eurl\u306f\u307e\u3060\u5b9a\u7fa9\u3057\u3066\u306a\u3044\u306e\u3067\u3053\u306e\u307e\u307e\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u3044\u3066\u3082\u30a8\u30e9\u30fc\u304c\u3067\u307e\u3059\uff0e\n\u3068\u308a\u3042\u3048\u305aurls.py\u3068views.py\u3092\u66f8\u304d\u63db\u3048\u3066\u76ae\u3060\u3051\u7528\u610f\u3057\u307e\u3057\u3087\u3046\uff0e\n\npolls/views.py\n...\ndef vote(request, pk):\n    pass\n\n\n\npolls/urls.py\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'(?P<pk>\\d+)/$', views.detail, name='poll_detail'),\n    url(r'(?P<pk>\\d+)/vote$', views.vote, name='poll_vote'),\n]\n\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u8a73\u7d30\u753b\u9762\u3092\u78ba\u8a8d\uff0e\n\n\u3044\u3044\u611f\u3058\u3067\u3059\u306d\uff0e\n\u3061\u306a\u307f\u306bvote\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\uff0e\n\nhtml\u8aac\u660e\n\u5c11\u3057\u623b\u3063\u3066html\u306b\u30b3\u30fc\u30c9\u3092\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\uff0e\n{% if %}\u30bf\u30b0\u306f\u307e\u3060\u51fa\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u304c\uff0c\u305d\u306e\u307e\u307e\u306e\u610f\u5473\u3067error_message\u304c\u6e21\u3055\u308c\u3066\u304a\u308a\uff0c\u5024\u304c\u3042\u308c\u3070 {% endif %}\u307e\u3067\u306e\u30d6\u30ed\u30c3\u30af\u3092\u51fa\u529b\u3057\u307e\u3059\uff0e\n\n{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}\n\n{% csrf_token %}\u30bf\u30b0\u306f\u540d\u524d\u306e\u901a\u308acsrf\u30c8\u30fc\u30af\u30f3\u3092\u30bb\u30c3\u30c8\u3059\u308b\u305f\u3081\u306e\u30bf\u30b0\u3067\u3059\uff0e\n<form method=\"post\">\u30bf\u30b0\u306e\u4e2d\u306b\u5fc5\u305a\u30bb\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\n\u3053\u306e\u30bf\u30b0\u3092\u30bb\u30c3\u30c8\u3057\u5fd8\u308c\u308b\u3068csrf exception\u304c\u767a\u751f\u3057\u307e\u3059\uff0e\n\nwikipedia \u3088\u308a\n\n\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30ea\u30af\u30a8\u30b9\u30c8\u30d5\u30a9\u30fc\u30b8\u30a7\u30ea\uff08Cross site request forgeries\u3001\u7565\u8a18\uff1aCSRF\u3001\u307e\u305f\u306fXSRF\uff09\u306f\u3001WWW \u306b\u304a\u3051\u308b\u653b\u6483\u624b\u6cd5\u306e\u3072\u3068\u3064\u3067\u3042\u308b\u3002\n\u5177\u4f53\u7684\u306a\u88ab\u5bb3\u3068\u3057\u3066\u306f\u3001\u63b2\u793a\u677f\u306b\u610f\u56f3\u3057\u306a\u3044\u66f8\u304d\u8fbc\u307f\u3092\u3055\u305b\u3089\u308c\u305f\u308a\u3001\u30aa\u30f3\u30e9\u30a4\u30f3\u30b7\u30e7\u30c3\u30d7\u3067\u8cb7\u3044\u7269\u3092\u3055\u305b\u3089\u308c\u305f\u308a\u3059\u308b\u306a\u3069\u304c\u6319\u3052\u3089\u308c\u308b\u3002\u307e\u305f\u3001\u30eb\u30fc\u30bf\u30fc\u3084\u7121\u7ddaLAN\u7b49\u306e\u60c5\u5831\u6a5f\u5668\u306eWeb\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304c\u653b\u6483\u5bfe\u8c61\u3068\u306a\u308c\u3070\u3001\u305d\u308c\u3089\u306e\u6a5f\u5668\u306e\u8a2d\u5b9a\u3092\u52dd\u624b\u306b\u5909\u66f4\u3055\u308c\u308b\u61f8\u5ff5\u3082\u3042\u308b\u3002\n\n\u8981\u3059\u308b\u306b\uff0e\u6b63\u898f\u306e\u5165\u529b\u30da\u30fc\u30b8\u304b\u3089\u30c7\u30fc\u30bf\u304c\u9001\u4fe1\u3055\u308c\u305f\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\uff0e\n\u4ed6\u30b5\u30a4\u30c8\u304b\u3089POST\u3067\u52dd\u624b\u306b\u30c7\u30fc\u30bf\u3092\u6295\u3052\u3089\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\uff0ctoken\u3092\u5165\u529b\u30da\u30fc\u30b8\u306b\u57cb\u3081\u8fbc\u3080\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\n\n\n\u6295\u7a3f\u7528view\u306e\u7de8\u96c6\n\u30bd\u30fc\u30b9\uff1a49d2e35\u2192274bd82\nvote\u95a2\u6570\u3092\u7de8\u96c6\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff0e\n\u3068\u8a00\u3063\u3066\u3082\u307b\u307c\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u30b3\u30d4\u30da\u3067\u3059\uff0e\n\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148\u304c\u672c\u5bb6\u3067\u306f\u7d50\u679c\u30da\u30fc\u30b8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\uff0c\u4eca\u56de\u306f\u4e00\u89a7\u753b\u9762\u306b\u98db\u3070\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\uff0e\n\npolls/views.py\nrom django.shortcuts import redirect\n\nfrom .models import Choice\n...\n\ndef vote(request, pk):\n    question = get_object_or_404(Question, pk=pk)\n    try:\n        selected_choice = question.choice_set.get(pk=request.POST['choice'])\n    except (KeyError, Choice.DoesNotExist):\n        return render(request, 'polls/detail.html', {\n            'question': question,\n            'error_message': \"You didn't select a choice.\",\n        })\n    else:\n        selected_choice.votes += 1\n        selected_choice.save()\n        return redirect('index')\n\n\n\u5c11\u3057\u30b3\u30fc\u30c9\u306e\u89e3\u8aac\u3092\uff0e\nselected_choice = question.choice_set.get(pk=request.POST['choice'])\nchoice_set\u3068\u3044\u3046\u8a18\u8ff0\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\u3053\u308c\u306fquestion\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5f35\u3063\u3066\u3044\u308bChoice\u30e2\u30c7\u30eb\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306emanager\u3067\u3059\uff0e\nquestion.choice_set\u3068Choice.objects.filter(question=question)\u304c\u540c\u3058\u610f\u5473\u3067\u3059\uff0e\n\n\u3088\u304f\u610f\u5473\u304c\u308f\u304b\u3089\u306a\u3044\u65b9\u306f\u8efd\u304f\u6d41\u3057\u3068\u3044\u3066\u304f\u3060\u3055\u3044\uff0e\n\npost\u3055\u308c\u305f\u5024\u306frequest.POST\u306b\u8f9e\u66f8\u306e\u3088\u3046\u306a\u5f62\u5f0f\u3067\u5165\u3063\u3066\u3044\u307e\u3059\uff0e\ninput\u30bf\u30b0\u306ename\u5c5e\u6027\u5024\u304cchoice\u306a\u306e\u3067request.POST['choice']\u3067\u9078\u629e\u80a2\u304c\u53d6\u308c\u307e\u3059\uff0e\n\u6b21\u306e\u884c\u306e\nexcept (KeyError, Choice.DoesNotExist):\n\u3053\u3053\u3067choice\u306e\u5165\u529b\u304c\u306a\u3044\u5834\u5408(KeyError)\uff0c\u9078\u629e\u80a2\u5916\u306e\u5024\u3092\u6295\u3052\u3089\u308c\u305f\u5834\u5408(DoesNotExist)\u306e\u51e6\u7406\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\uff0e\n\u4eca\u56de\u306e\u4f8b\u3067\u306ferror_message\u3092\u5165\u308c\uff0c\u518d\u5ea6\u5165\u529b\u30da\u30fc\u30b8\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\uff0e\nelse:\u53e5\u306f\u7121\u4e8b\u6295\u7a3f\u7528\u306echoice\u304c\u53d6\u308c\u305f\u5834\u5408\u5165\u3063\u3066\u304d\u307e\u3059\uff0e\n\u9078\u629e\u3055\u308c\u305fchoice\u306evotes\uff08\u6295\u7a3f\u6570\uff09\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u3066\u4fdd\u5b58\u3057\uff0c\u4e00\u89a7\u30da\u30fc\u30b8\u3078\u30b8\u30e3\u30f3\u30d7\u3057\u3066\u3044\u307e\u3059\uff0e\n\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\nreturn HttpResponseRedirect(reverse('polls:results', args=(p.id,)))\n\u306e\u3088\u3046\u306b\u66f8\u3044\u3066\u307e\u3059\u304c\uff0c\u3053\u3053\u3067\u306fredirect\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\uff0e\u3084\u3063\u3066\u308b\u3053\u3068\u306f\u5168\u304f\u540c\u3058\u3067\u3059\uff0e\n\n\u7d50\u679c\u30da\u30fc\u30b8\u8ffd\u52a0\n\u30bd\u30fc\u30b9\uff1a274bd82\u21924ecb885\n\u4e00\u89a7\u753b\u9762\u3058\u3083\u306a\u304f\u3066\u3061\u3083\u3093\u3068\u3057\u305f\u7d50\u679c\u30da\u30fc\u30b8\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\uff0e\nhtml\u306f\u4f8b\u306b\u3088\u3063\u3066\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u304b\u3089\u306e\u30b3\u30d4\u30da\u3067\u3059\uff0e\n\npolls/templates/polls/results.html\n<html>\n  <body>\n    <h1>{{ question.question_text }}</h1>\n\n    <ul>\n      {% for choice in question.choice_set.all %}\n      <li>{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}</li>\n      {% endfor %}\n    </ul>\n    <a href=\"{% url 'poll_detail' question.id %}\">Vote again?</a>\n  </body>\n</html>\n\n\n\u7d9a\u3044\u3066views.py\u306bresults\u95a2\u6570\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff0e\n\u5185\u5bb9\u306fdetail\u3068\u307b\u307c\u4e00\u7dd2\u3067\uff0chtml\u306e\u30d1\u30b9\u3060\u3051\u5909\u3048\u3066\u3044\u307e\u3059\uff0e\n\npolls/views.py\ndef results(request, pk):\n    obj = get_object_or_404(Question, pk=pk)\n    return render(request, 'polls/results.html', {\n        'question': obj,\n    })\n\n\n\u6700\u5f8c\u306burl\u3092\u7de8\u96c6\u3057\u3066view\u3092\u7e4b\u3044\u3067\u5b8c\u6210\u3067\u3059\uff0e\n\npolls/urls.py\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'(?P<pk>\\d+)/$', views.detail, name='poll_detail'),\n    url(r'(?P<pk>\\d+)/vote$', views.vote, name='poll_vote'),\n    url(r'(?P<pk>\\d+)/results$', views.results, name='poll_results'),\n]\n\n\n\n\u7d50\u679c\u30da\u30fc\u30b8\u304c\u3067\u304d\u307e\u3057\u305f\uff0e\n\n\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148\u5909\u66f4\n\u6295\u7a3f\u5f8c\u306b\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u98db\u3076\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u7d50\u679c\u30da\u30fc\u30b8\u306b\u98db\u3076\u3088\u3046\u306b\u76f4\u3057\u307e\u3057\u3087\u3046\uff0e\n\u4e00\u89a7\u30da\u30fc\u30b8\u3068\u9055\u3063\u3066poll_results\u306f\u5f15\u6570\u304c\u5fc5\u8981\u306a\u306e\u3067\u6ce8\u610f\u3057\u307e\u3057\u3087\u3046\uff0e\n\npolls/views.py\ndef vote(request, pk):\n...\n        return redirect('poll_results', pk)\n\n\n\u3053\u308c\u3067\u6295\u7a3f\u5f8c\u306f\u7d50\u679c\u30da\u30fc\u30b8\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff0e\n\n\u30af\u30e9\u30b9\u30d9\u30fc\u30b9\u6c4e\u7528View\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u2192https://docs.djangoproject.com/en/1.8/intro/tutorial04/#use-generic-views-less-code-is-better\n\u30af\u30e9\u30b9\u30d9\u30fc\u30b9View\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u2192https://docs.djangoproject.com/en/1.8/topics/class-based-views/\n\u30e2\u30c7\u30eb\u306e\u4e00\u89a7\u8868\u793a\uff0c\u8a73\u7d30\u8868\u793a\uff0c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6307\u5b9a\u306a\u3069\uff0c\u3088\u304f\u4f7f\u308f\u308c\u308bview\u306b\u3064\u3044\u3066\uff0c\ndjango\u3067\u306f\u30af\u30e9\u30b9\u30d9\u30fc\u30b9\u6c4e\u7528View\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\uff0e\n\u4eca\u66f8\u3044\u3066\u3044\u308bviews.py\u306e\u4e2d\u306b\u3042\u308bindex, detail, results\u306f\u3059\u3067\u306b\u884c\u6570\u304c\u5c11\u306a\u3044\u306e\u3067\u6069\u6075\u304c\u611f\u3058\u306b\u304f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff0cvote\u306a\u3069\u306e\u3088\u3046\u306bForm\u304c\u7d61\u307f\uff0c\u5c11\u3057\u8907\u96d1\u306b\u306a\u3063\u3066\u304f\u308b\u3068\u975e\u5e38\u306b\u5f37\u529b\u306a\u9053\u5177\u306b\u306a\u308a\u307e\u3059\uff0e\nForm\u30af\u30e9\u30b9\u306b\u3064\u3044\u3066\u306f\u307e\u3060\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u51fa\u3066\u306a\u3044\u306e\u3067\u4eca\u56de\u306f\u30bd\u30fc\u30b9\u306e\u5909\u66f4\u306f\u305b\u305a\uff0c\n\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u898b\u3064\u3064\u7d39\u4ecb\u306b\u7559\u3081\u307e\u3059\uff0e\n\u30af\u30e9\u30b9\u30d9\u30fc\u30b9View\u5316\u306f\u6b21\uff08\u304b\u305d\u306e\u6b21\uff09\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u3084\u308b\u306e\u3067\u8208\u5473\u306e\u306a\u3044\u65b9\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\n\nTemplateView\n\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u306f\u3042\u308a\u307e\u305b\u3093\u304c\uff0c\u4f7f\u7528\u3059\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u306e\u30b7\u30f3\u30d7\u30eb\u306aView\u3067\u3059\uff0e\n\u3069\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b\u304b\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059\uff0e\ntemplate\u306b\u6e21\u3059\u8f9e\u66f8\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306fget_context\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u307e\u3059\uff0e\nurl\u306b\u306fview\u95a2\u6570\u3092\u6e21\u3059\u5fc5\u8981\u304c\u6709\u308b\u305f\u3081\uff0c\u5168\u3066\u306e\u30af\u30e9\u30b9\u30d9\u30fc\u30b9View\u306fas_view()\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u95a2\u6570\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\n\napp/views.py\nfrom django.views.generic import TemplateView\n\n\nclass Index(TemplateView):\n    template_name = 'app/index.html'\n\nindex = Index.as_view()\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\uff0e\ntemplate_name\u306a\u3069\uff0c\u30af\u30e9\u30b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306fas_view\u306e\u6642\u306b\u6e21\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff0e\n\u3064\u307e\u308aviews.py\u3092\u5909\u66f4\u305b\u305a\u306b\uff0curls.py\u306e\u4e2d\u3067\u3053\u3093\u306a\u3075\u3046\u306b\u304b\u3051\u307e\u3059\uff0e\n\napp/urls.py\nfrom django.conf.urls import url\nfrom django.views.generic import TemplateView\n\n\nurlpatterns = [\n    url(r'^$', TemplateView.as_view(template_name='app/index.html'), name='app_index'),\n]\n\n\n\nDetailView\n\u4f7f\u7528\u3059\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u52a0\u3048\u3066\uff0c\u3069\u306e\u30e2\u30c7\u30eb\u3092\u4f7f\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0e\n\napp/views.py\nfrom django.views.generic import DetailView\n\nfrom .model import AppModel\n\n\nclass Detail(DetailView):\n    template_name = 'app/detail.html'\n    model = AppModel\n\n\ndetail = Detail.as_view()\n\n\n\u3082\u3061\u308d\u3093\u3053\u306e\u30af\u30e9\u30b9\u3082urls.py\u306b\u76f4\u66f8\u304d\u3067\u304d\u307e\u3059\uff0e\ntemplate\u306b\u306fobject\u3068\u3044\u3046\u540d\u524d\uff08\u3068\uff0cappmodel\u306e\u3088\u3046\u306b\u30e2\u30c7\u30eb\u540d\u3092\u5c0f\u6587\u5b57\u306b\u3057\u305f\u540d\u524d\uff09\u3067\n\u53d6\u5f97\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u6e21\u3055\u308c\u307e\u3059\uff0e\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fpk\u3068\u3044\u3046\u540d\u524d\u3067urls.py\u304b\u3089\u547c\u3073\u51fa\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304a\u308a\uff0c\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068Http404\u304craise\u3055\u308c\u307e\u3059\uff0e\n\nListView\nDetail\u306f\u3042\u308b\u30e2\u30c7\u30eb\u306e\u5358\u4e00\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3060\u3063\u305f\u306e\u306b\u5bfe\u3057\uff0cListView\u306f\u8907\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3057\u307e\u3059\uff0e\n\u3069\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u304b\u306fqueryset\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6e21\u3059\u304b\uff0cget_queryset\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u3053\u3068\u3067\u6307\u5b9a\u3057\u307e\u3059\uff0e\n\napp/views.py\nfrom django.views.generic import ListView\n\nfrom .model import AppModel\n\n\nclass Index(ListView):\n    template_name = 'app/index.html'\n    queryset = AppModel.objects.all()\n\n\n\u3053\u306e\u30af\u30e9\u30b9\u306b\u306f\u30da\u30fc\u30b8\u30f3\u30b0\u3084\u4e26\u3073\u9806\u306a\u3069\uff0c\u591a\u5f69\u306a\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u9805\u76ee\u3092\u6301\u3063\u3066\u3044\u307e\u3059\uff0e\n--\n\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3053\u306e\u6b21\u306b\u30c6\u30b9\u30c8\u306b\u3064\u3044\u3066\u8aac\u660e\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\n\u6b21\u56de\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u5c11\u3057\u8107\u9053\u306b\u305d\u308c\u3066Form\u30af\u30e9\u30b9\uff0cModelForm\u30af\u30e9\u30b9\u306e\u8aac\u660e\u3092\u3057\u3066\u3044\u304d\u307e\u3059\uff0e\n\u6b21\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3078\n\u2192 \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u307e\u3068\u3081\n\n\u52c9\u5f37\u4f1a\u7528\u8cc7\u6599\u3067\u3059\uff0e\ndjango1.8\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u8fbf\u308a\u3064\u3064\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\uff0e\nhttps://docs.djangoproject.com/en/1.8/intro/tutorial04/\n\n\u65e5\u672c\u8a9e\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.4\u304c\u6700\u65b0\u306a\u306e\u3067\u82e5\u5e72\u9055\u3044\u304c\u6709\u308a\u307e\u3059\u304c\u5927\u307e\u304b\u306a\u6d41\u308c\u306f\u4e00\u7dd2\u306a\u306e\u3067\u4e00\u8aad\u3059\u308b\u306e\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\uff0e\nhttp://django-docs-ja.readthedocs.org/en/latest/intro/tutorial04.html\n\n\n[\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb1](http://qiita.com/maisuto/items/d01e2cca63c8e5b2c18c)\n[\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb2](http://qiita.com/maisuto/items/357d13027e4fe5e10618)\n[\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb3](http://qiita.com/maisuto/items/eece9d880d94fd241a0d)\n\n\u2192 [\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u307e\u3068\u3081](http://qiita.com/maisuto/items/17653f344d1f64afa019)\n--\n\n# \u6295\u7968\u30d5\u30a9\u30fc\u30e0\u306e\u4f5c\u6210\n\n\u30bd\u30fc\u30b9\uff1a`99b01e3`\u2192`49d2e35`\n\n\u307e\u305a\u306f\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u901a\u308a\u306b`detail.html`\u3092\u6295\u7968\u7528\u306b\u66f8\u304d\u63db\u3048\uff0c\u6295\u7968\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff0e\n\n```html:polls/templates/polls/detail.html\n<h1>{{ question.question_text }}</h1>\n\n{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}\n\n<form action=\"{% url 'poll_vote' question.id %}\" method=\"post\">\n  {% csrf_token %}\n  {% for choice in question.choice_set.all %}\n  <input type=\"radio\" name=\"choice\" id=\"choice{{ forloop.counter }}\" value=\"{{ choice.id }}\" />\n  <label for=\"choice{{ forloop.counter }}\">{{ choice.choice_text }}</label><br />\n  {% endfor %}\n  <input type=\"submit\" value=\"Vote\" />\n</form>\n```\n\n> URL\u306e\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u5316\u306f\u3057\u3066\u306a\u3044\u306e\u3067 `polls:vote`\u3092`poll_vote`\u306b\u66f8\u304d\u63db\u3048\u3066\u3044\u307e\u3059\uff0e\n\npolls_vote\u3068\u3044\u3046\u540d\u524d\u306eurl\u306f\u307e\u3060\u5b9a\u7fa9\u3057\u3066\u306a\u3044\u306e\u3067\u3053\u306e\u307e\u307e\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u3044\u3066\u3082\u30a8\u30e9\u30fc\u304c\u3067\u307e\u3059\uff0e\n\u3068\u308a\u3042\u3048\u305aurls.py\u3068views.py\u3092\u66f8\u304d\u63db\u3048\u3066\u76ae\u3060\u3051\u7528\u610f\u3057\u307e\u3057\u3087\u3046\uff0e\n\n```python:polls/views.py\n...\ndef vote(request, pk):\n    pass\n```\n\n```python:polls/urls.py\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'(?P<pk>\\d+)/$', views.detail, name='poll_detail'),\n    url(r'(?P<pk>\\d+)/vote$', views.vote, name='poll_vote'),\n]\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u8a73\u7d30\u753b\u9762\u3092\u78ba\u8a8d\uff0e\n\n![Kobito.eiUclF.png](https://qiita-image-store.s3.amazonaws.com/0/58048/0a310452-4d5d-359f-480f-0f9ea39a9ce1.png \"Kobito.eiUclF.png\")\n\n\u3044\u3044\u611f\u3058\u3067\u3059\u306d\uff0e\n\u3061\u306a\u307f\u306bvote\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\uff0e\n\n#### html\u8aac\u660e\n\u5c11\u3057\u623b\u3063\u3066html\u306b\u30b3\u30fc\u30c9\u3092\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\uff0e\n`{% if %}`\u30bf\u30b0\u306f\u307e\u3060\u51fa\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u304c\uff0c\u305d\u306e\u307e\u307e\u306e\u610f\u5473\u3067error_message\u304c\u6e21\u3055\u308c\u3066\u304a\u308a\uff0c\u5024\u304c\u3042\u308c\u3070 `{% endif %}`\u307e\u3067\u306e\u30d6\u30ed\u30c3\u30af\u3092\u51fa\u529b\u3057\u307e\u3059\uff0e\n```\n{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}\n```\n\n`{% csrf_token %}`\u30bf\u30b0\u306f\u540d\u524d\u306e\u901a\u308acsrf\u30c8\u30fc\u30af\u30f3\u3092\u30bb\u30c3\u30c8\u3059\u308b\u305f\u3081\u306e\u30bf\u30b0\u3067\u3059\uff0e\n`<form method=\"post\">`\u30bf\u30b0\u306e\u4e2d\u306b\u5fc5\u305a\u30bb\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\n\u3053\u306e\u30bf\u30b0\u3092\u30bb\u30c3\u30c8\u3057\u5fd8\u308c\u308b\u3068csrf exception\u304c\u767a\u751f\u3057\u307e\u3059\uff0e\n\n> [wikipedia](https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AD%E3%82%B9%E3%82%B5%E3%82%A4%E3%83%88%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%95%E3%82%A9%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%AA) \u3088\u308a\n>>\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30ea\u30af\u30a8\u30b9\u30c8\u30d5\u30a9\u30fc\u30b8\u30a7\u30ea\uff08Cross site request forgeries\u3001\u7565\u8a18\uff1aCSRF\u3001\u307e\u305f\u306fXSRF\uff09\u306f\u3001WWW \u306b\u304a\u3051\u308b\u653b\u6483\u624b\u6cd5\u306e\u3072\u3068\u3064\u3067\u3042\u308b\u3002\n>>\n\u5177\u4f53\u7684\u306a\u88ab\u5bb3\u3068\u3057\u3066\u306f\u3001\u63b2\u793a\u677f\u306b\u610f\u56f3\u3057\u306a\u3044\u66f8\u304d\u8fbc\u307f\u3092\u3055\u305b\u3089\u308c\u305f\u308a\u3001\u30aa\u30f3\u30e9\u30a4\u30f3\u30b7\u30e7\u30c3\u30d7\u3067\u8cb7\u3044\u7269\u3092\u3055\u305b\u3089\u308c\u305f\u308a\u3059\u308b\u306a\u3069\u304c\u6319\u3052\u3089\u308c\u308b\u3002\u307e\u305f\u3001\u30eb\u30fc\u30bf\u30fc\u3084\u7121\u7ddaLAN\u7b49\u306e\u60c5\u5831\u6a5f\u5668\u306eWeb\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304c\u653b\u6483\u5bfe\u8c61\u3068\u306a\u308c\u3070\u3001\u305d\u308c\u3089\u306e\u6a5f\u5668\u306e\u8a2d\u5b9a\u3092\u52dd\u624b\u306b\u5909\u66f4\u3055\u308c\u308b\u61f8\u5ff5\u3082\u3042\u308b\u3002\n\n> \u8981\u3059\u308b\u306b\uff0e\u6b63\u898f\u306e\u5165\u529b\u30da\u30fc\u30b8\u304b\u3089\u30c7\u30fc\u30bf\u304c\u9001\u4fe1\u3055\u308c\u305f\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\uff0e\n\u4ed6\u30b5\u30a4\u30c8\u304b\u3089POST\u3067\u52dd\u624b\u306b\u30c7\u30fc\u30bf\u3092\u6295\u3052\u3089\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\uff0ctoken\u3092\u5165\u529b\u30da\u30fc\u30b8\u306b\u57cb\u3081\u8fbc\u3080\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\n\n## \u6295\u7a3f\u7528view\u306e\u7de8\u96c6\n\n\u30bd\u30fc\u30b9\uff1a`49d2e35`\u2192`274bd82 `\n\nvote\u95a2\u6570\u3092\u7de8\u96c6\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff0e\n\u3068\u8a00\u3063\u3066\u3082\u307b\u307c\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u30b3\u30d4\u30da\u3067\u3059\uff0e\n\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148\u304c\u672c\u5bb6\u3067\u306f\u7d50\u679c\u30da\u30fc\u30b8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\uff0c\u4eca\u56de\u306f\u4e00\u89a7\u753b\u9762\u306b\u98db\u3070\u3059\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\uff0e\n\n```python:polls/views.py\nrom django.shortcuts import redirect\n\nfrom .models import Choice\n...\n\ndef vote(request, pk):\n    question = get_object_or_404(Question, pk=pk)\n    try:\n        selected_choice = question.choice_set.get(pk=request.POST['choice'])\n    except (KeyError, Choice.DoesNotExist):\n        return render(request, 'polls/detail.html', {\n            'question': question,\n            'error_message': \"You didn't select a choice.\",\n        })\n    else:\n        selected_choice.votes += 1\n        selected_choice.save()\n        return redirect('index')\n```\n\n\u5c11\u3057\u30b3\u30fc\u30c9\u306e\u89e3\u8aac\u3092\uff0e\n`selected_choice = question.choice_set.get(pk=request.POST['choice'])`\n`choice_set`\u3068\u3044\u3046\u8a18\u8ff0\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\u3053\u308c\u306fquestion\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5f35\u3063\u3066\u3044\u308bChoice\u30e2\u30c7\u30eb\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306emanager\u3067\u3059\uff0e\n`question.choice_set`\u3068`Choice.objects.filter(question=question)`\u304c\u540c\u3058\u610f\u5473\u3067\u3059\uff0e\n> \u3088\u304f\u610f\u5473\u304c\u308f\u304b\u3089\u306a\u3044\u65b9\u306f\u8efd\u304f\u6d41\u3057\u3068\u3044\u3066\u304f\u3060\u3055\u3044\uff0e\n\npost\u3055\u308c\u305f\u5024\u306f`request.POST`\u306b\u8f9e\u66f8\u306e\u3088\u3046\u306a\u5f62\u5f0f\u3067\u5165\u3063\u3066\u3044\u307e\u3059\uff0e\ninput\u30bf\u30b0\u306ename\u5c5e\u6027\u5024\u304c`choice`\u306a\u306e\u3067request.POST['choice']\u3067\u9078\u629e\u80a2\u304c\u53d6\u308c\u307e\u3059\uff0e\n\n\u6b21\u306e\u884c\u306e\n`except (KeyError, Choice.DoesNotExist):`\n\u3053\u3053\u3067choice\u306e\u5165\u529b\u304c\u306a\u3044\u5834\u5408(KeyError)\uff0c\u9078\u629e\u80a2\u5916\u306e\u5024\u3092\u6295\u3052\u3089\u308c\u305f\u5834\u5408(DoesNotExist)\u306e\u51e6\u7406\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\uff0e\n\u4eca\u56de\u306e\u4f8b\u3067\u306ferror_message\u3092\u5165\u308c\uff0c\u518d\u5ea6\u5165\u529b\u30da\u30fc\u30b8\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\uff0e\n\n`else:`\u53e5\u306f\u7121\u4e8b\u6295\u7a3f\u7528\u306echoice\u304c\u53d6\u308c\u305f\u5834\u5408\u5165\u3063\u3066\u304d\u307e\u3059\uff0e\n\u9078\u629e\u3055\u308c\u305fchoice\u306evotes\uff08\u6295\u7a3f\u6570\uff09\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u3066\u4fdd\u5b58\u3057\uff0c\u4e00\u89a7\u30da\u30fc\u30b8\u3078\u30b8\u30e3\u30f3\u30d7\u3057\u3066\u3044\u307e\u3059\uff0e\n\n\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\n`return HttpResponseRedirect(reverse('polls:results', args=(p.id,)))`\n\u306e\u3088\u3046\u306b\u66f8\u3044\u3066\u307e\u3059\u304c\uff0c\u3053\u3053\u3067\u306f`redirect`\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\uff0e\u3084\u3063\u3066\u308b\u3053\u3068\u306f\u5168\u304f\u540c\u3058\u3067\u3059\uff0e\n\n## \u7d50\u679c\u30da\u30fc\u30b8\u8ffd\u52a0\n\n\u30bd\u30fc\u30b9\uff1a`274bd82`\u2192`4ecb885`\n\n\u4e00\u89a7\u753b\u9762\u3058\u3083\u306a\u304f\u3066\u3061\u3083\u3093\u3068\u3057\u305f\u7d50\u679c\u30da\u30fc\u30b8\u3092\u4f5c\u308a\u307e\u3057\u3087\u3046\uff0e\nhtml\u306f\u4f8b\u306b\u3088\u3063\u3066\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u304b\u3089\u306e\u30b3\u30d4\u30da\u3067\u3059\uff0e\n\n```html:polls/templates/polls/results.html\n<html>\n  <body>\n    <h1>{{ question.question_text }}</h1>\n\n    <ul>\n      {% for choice in question.choice_set.all %}\n      <li>{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}</li>\n      {% endfor %}\n    </ul>\n    <a href=\"{% url 'poll_detail' question.id %}\">Vote again?</a>\n  </body>\n</html>\n```\n\n\u7d9a\u3044\u3066views.py\u306bresults\u95a2\u6570\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff0e\n\u5185\u5bb9\u306fdetail\u3068\u307b\u307c\u4e00\u7dd2\u3067\uff0chtml\u306e\u30d1\u30b9\u3060\u3051\u5909\u3048\u3066\u3044\u307e\u3059\uff0e\n\n```python:polls/views.py\ndef results(request, pk):\n    obj = get_object_or_404(Question, pk=pk)\n    return render(request, 'polls/results.html', {\n        'question': obj,\n    })\n```\n\n\u6700\u5f8c\u306burl\u3092\u7de8\u96c6\u3057\u3066view\u3092\u7e4b\u3044\u3067\u5b8c\u6210\u3067\u3059\uff0e\n\n```python:polls/urls.py\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'(?P<pk>\\d+)/$', views.detail, name='poll_detail'),\n    url(r'(?P<pk>\\d+)/vote$', views.vote, name='poll_vote'),\n    url(r'(?P<pk>\\d+)/results$', views.results, name='poll_results'),\n]\n```\n\n![Kobito.utItOF.png](https://qiita-image-store.s3.amazonaws.com/0/58048/68296861-c493-4d12-1590-d3e392078493.png \"Kobito.utItOF.png\")\n\n\n\u7d50\u679c\u30da\u30fc\u30b8\u304c\u3067\u304d\u307e\u3057\u305f\uff0e\n\n## \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148\u5909\u66f4\n\n\u6295\u7a3f\u5f8c\u306b\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u98db\u3076\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u7d50\u679c\u30da\u30fc\u30b8\u306b\u98db\u3076\u3088\u3046\u306b\u76f4\u3057\u307e\u3057\u3087\u3046\uff0e\n\u4e00\u89a7\u30da\u30fc\u30b8\u3068\u9055\u3063\u3066`poll_results`\u306f\u5f15\u6570\u304c\u5fc5\u8981\u306a\u306e\u3067\u6ce8\u610f\u3057\u307e\u3057\u3087\u3046\uff0e\n\n```python:polls/views.py\ndef vote(request, pk):\n...\n        return redirect('poll_results', pk)\n```\n\n\u3053\u308c\u3067\u6295\u7a3f\u5f8c\u306f\u7d50\u679c\u30da\u30fc\u30b8\u3078\u30b8\u30e3\u30f3\u30d7\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff0e\n\n# \u30af\u30e9\u30b9\u30d9\u30fc\u30b9\u6c4e\u7528View\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u2192https://docs.djangoproject.com/en/1.8/intro/tutorial04/#use-generic-views-less-code-is-better\n\u30af\u30e9\u30b9\u30d9\u30fc\u30b9View\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u2192https://docs.djangoproject.com/en/1.8/topics/class-based-views/\n\n\n\u30e2\u30c7\u30eb\u306e\u4e00\u89a7\u8868\u793a\uff0c\u8a73\u7d30\u8868\u793a\uff0c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6307\u5b9a\u306a\u3069\uff0c\u3088\u304f\u4f7f\u308f\u308c\u308bview\u306b\u3064\u3044\u3066\uff0c\ndjango\u3067\u306f\u30af\u30e9\u30b9\u30d9\u30fc\u30b9\u6c4e\u7528View\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\uff0e\n\n\u4eca\u66f8\u3044\u3066\u3044\u308bviews.py\u306e\u4e2d\u306b\u3042\u308b`index`, `detail`, `results`\u306f\u3059\u3067\u306b\u884c\u6570\u304c\u5c11\u306a\u3044\u306e\u3067\u6069\u6075\u304c\u611f\u3058\u306b\u304f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff0cvote\u306a\u3069\u306e\u3088\u3046\u306bForm\u304c\u7d61\u307f\uff0c\u5c11\u3057\u8907\u96d1\u306b\u306a\u3063\u3066\u304f\u308b\u3068\u975e\u5e38\u306b\u5f37\u529b\u306a\u9053\u5177\u306b\u306a\u308a\u307e\u3059\uff0e\n\nForm\u30af\u30e9\u30b9\u306b\u3064\u3044\u3066\u306f\u307e\u3060\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u51fa\u3066\u306a\u3044\u306e\u3067\u4eca\u56de\u306f\u30bd\u30fc\u30b9\u306e\u5909\u66f4\u306f\u305b\u305a\uff0c\n\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u898b\u3064\u3064\u7d39\u4ecb\u306b\u7559\u3081\u307e\u3059\uff0e\n\n\u30af\u30e9\u30b9\u30d9\u30fc\u30b9View\u5316\u306f\u6b21\uff08\u304b\u305d\u306e\u6b21\uff09\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u3084\u308b\u306e\u3067\u8208\u5473\u306e\u306a\u3044\u65b9\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\n\n## TemplateView\n\n\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u306f\u3042\u308a\u307e\u305b\u3093\u304c\uff0c\u4f7f\u7528\u3059\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u306e\u30b7\u30f3\u30d7\u30eb\u306aView\u3067\u3059\uff0e\n\u3069\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b\u304b\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059\uff0e\ntemplate\u306b\u6e21\u3059\u8f9e\u66f8\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\u306f`get_context`\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u307e\u3059\uff0e\n\nurl\u306b\u306fview\u95a2\u6570\u3092\u6e21\u3059\u5fc5\u8981\u304c\u6709\u308b\u305f\u3081\uff0c\u5168\u3066\u306e\u30af\u30e9\u30b9\u30d9\u30fc\u30b9View\u306f`as_view()`\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u95a2\u6570\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e\n\n```python:app/views.py\nfrom django.views.generic import TemplateView\n\n\nclass Index(TemplateView):\n    template_name = 'app/index.html'\n\nindex = Index.as_view()\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\uff0e\n\ntemplate_name\u306a\u3069\uff0c\u30af\u30e9\u30b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306fas_view\u306e\u6642\u306b\u6e21\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff0e\n\u3064\u307e\u308aviews.py\u3092\u5909\u66f4\u305b\u305a\u306b\uff0curls.py\u306e\u4e2d\u3067\u3053\u3093\u306a\u3075\u3046\u306b\u304b\u3051\u307e\u3059\uff0e\n\n```python:app/urls.py\nfrom django.conf.urls import url\nfrom django.views.generic import TemplateView\n\n\nurlpatterns = [\n    url(r'^$', TemplateView.as_view(template_name='app/index.html'), name='app_index'),\n]\n```\n\n\n## DetailView\n\n\u4f7f\u7528\u3059\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u52a0\u3048\u3066\uff0c\u3069\u306e\u30e2\u30c7\u30eb\u3092\u4f7f\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\uff0e\n\n```python:app/views.py\nfrom django.views.generic import DetailView\n\nfrom .model import AppModel\n\n\nclass Detail(DetailView):\n    template_name = 'app/detail.html'\n    model = AppModel\n\n\ndetail = Detail.as_view()\n```\n\n\u3082\u3061\u308d\u3093\u3053\u306e\u30af\u30e9\u30b9\u3082urls.py\u306b\u76f4\u66f8\u304d\u3067\u304d\u307e\u3059\uff0e\ntemplate\u306b\u306f`object`\u3068\u3044\u3046\u540d\u524d\uff08\u3068\uff0c`appmodel`\u306e\u3088\u3046\u306b\u30e2\u30c7\u30eb\u540d\u3092\u5c0f\u6587\u5b57\u306b\u3057\u305f\u540d\u524d\uff09\u3067\n\u53d6\u5f97\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u6e21\u3055\u308c\u307e\u3059\uff0e\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f`pk`\u3068\u3044\u3046\u540d\u524d\u3067urls.py\u304b\u3089\u547c\u3073\u51fa\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304a\u308a\uff0c\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068Http404\u304craise\u3055\u308c\u307e\u3059\uff0e\n\n\n## ListView\n\nDetail\u306f\u3042\u308b\u30e2\u30c7\u30eb\u306e\u5358\u4e00\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3060\u3063\u305f\u306e\u306b\u5bfe\u3057\uff0cListView\u306f\u8907\u6570\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3057\u307e\u3059\uff0e\n\u3069\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3059\u304b\u306f`queryset`\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6e21\u3059\u304b\uff0c`get_queryset`\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u3053\u3068\u3067\u6307\u5b9a\u3057\u307e\u3059\uff0e\n\n```app/views.py\nfrom django.views.generic import ListView\n\nfrom .model import AppModel\n\n\nclass Index(ListView):\n    template_name = 'app/index.html'\n    queryset = AppModel.objects.all()\n```\n\n\n\u3053\u306e\u30af\u30e9\u30b9\u306b\u306f\u30da\u30fc\u30b8\u30f3\u30b0\u3084\u4e26\u3073\u9806\u306a\u3069\uff0c\u591a\u5f69\u306a\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u9805\u76ee\u3092\u6301\u3063\u3066\u3044\u307e\u3059\uff0e\n\n--\n\n\u672c\u5bb6\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3053\u306e\u6b21\u306b\u30c6\u30b9\u30c8\u306b\u3064\u3044\u3066\u8aac\u660e\u304c\u3042\u308a\u307e\u3059\u304c\uff0c\n\u6b21\u56de\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u5c11\u3057\u8107\u9053\u306b\u305d\u308c\u3066Form\u30af\u30e9\u30b9\uff0cModelForm\u30af\u30e9\u30b9\u306e\u8aac\u660e\u3092\u3057\u3066\u3044\u304d\u307e\u3059\uff0e\n\n[\u6b21\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3078](http://qiita.com/maisuto/items/33dfeb58f5953d1c5fdf)\n\n\u2192 [\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u307e\u3068\u3081](http://qiita.com/maisuto/items/17653f344d1f64afa019)\n", "tags": ["Django", "Python"]}