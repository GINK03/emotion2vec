{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n24\u30aa\u30fc\u30d7\u30cb\u30f3\u30b0\u3092\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u307f\u3067\u518d\u73fe\u3057\u305f\u304f\u306a\u308a\nXcode\u3092\u7acb\u3061\u4e0a\u3052\u3001\u307d\u3061\u307d\u3061\u3068\u4f5c\u308a\u307e\u3057\u305f\u3002\n\u53c2\u8003:\n24 Opening Theme Song\n\u307e\u305a\u306f\u30c7\u30b8\u30bf\u30eb\u306a\u6587\u5b57\u306e\u80cc\u666f\u304c\u30a2\u30cb\u30e1\u3057\u3066\u3044\u308b\u7b87\u6240\u306e\u307f\u3092\u3002\n\u3084\u3063\u3066\u3044\u308b\u5185\u5bb9\u306f\u300c\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u80cc\u666f\u3092\u6587\u5b57\u578b\u306b\u5207\u308a\u629c\u304d\u300d\u3068\u3082\u8a00\u3048\u307e\u3059\u3002\n\n\n\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u80cc\u666f\n\n- (void)insertGradientLayer:(UIView *)view\n{\n    UIColor *beginColor = [UIColor redColor];\n    UIColor *endColor = [UIColor blueColor];\n\n    CABasicAnimation *animation = [CABasicAnimation animationWithKeyPath:@\"colors\"];\n    animation.duration = 2.0;\n    animation.repeatCount = HUGE_VALF;\n    animation.autoreverses = YES;\n    animation.timingFunction = [CAMediaTimingFunction functionWithName: kCAMediaTimingFunctionEaseInEaseOut];\n    animation.fromValue = @[(id)beginColor.CGColor, (id)endColor.CGColor];\n    animation.toValue = @[(id)endColor.CGColor, (id)beginColor.CGColor];\n\n    CAGradientLayer *gradient = [CAGradientLayer layer];\n    gradient.frame = view.bounds;\n    gradient.colors = @[(id)beginColor.CGColor, (id)endColor.CGColor];\n    [gradient addAnimation:animation forKey:@\"colors\"];\n\n    [view.layer insertSublayer:gradient atIndex:0];\n}\n\n\n\n\u6587\u5b57\u30de\u30b9\u30af\u3092\u4f5c\u6210\u3057\u91cd\u306d\u308b\nUILabel\u3092UIImage\u5316\u3057\u3001\u30de\u30b9\u30af\u753b\u50cf\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u6587\u5b57\u306f\u9ed2\u8272\u3001\u80cc\u666f\u306f\u900f\u660e\u8272\u3067\u3059\u3002\nUIView\u306eUIImage\u5909\u63db\u306f\u300c\u95a2\u9023\u300d\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u6709\u7528\u306a\u60c5\u5831\u306e\u5171\u6709\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01\n\n    UIView *gradientView = [[UIView alloc] initWithFrame:CGRectMake(0, 200, 320, 300)];\n    [self insertGradientLayer:gradientView];\n\n    UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 320, 160)];\n    label.font = [UIFont fontWithName:@\"DBLCDTempBlack\" size:144];\n    label.textColor = [UIColor blackColor];\n    label.text = @\"24\";\n    label.textAlignment = NSTextAlignmentCenter;\n    label.backgroundColor = [UIColor clearColor];\n    [self.view addSubview:label];\n\n    UIImage *maskImage = [self imageFromView:label];\n    CALayer *mask = [CALayer layer];\n    mask.contents = (id)[maskImage CGImage];\n    mask.frame = CGRectMake(0, 0, maskImage.size.width, maskImage.size.height);\n\n    gradientView.layer.mask = label.layer;\n\n    [self.view addSubview:gradientView];\n\n\n\n\u304a\u308f\u308a\u306b\n\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3044\u3064\u5b8c\u6210\u3059\u308b\u306e\u304b\uff01\n\u306e\u3093\u3073\u308a\u3068\u3057\u305f\u6c17\u6301\u3061\u3067\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002\n\u3061\u306a\u307f\u306b24\u3067\u306f\u30b7\u30fc\u30ba\u30f3\uff12\u304c\u4e00\u756a\u597d\u304d\u3067\u3059\u3002\n\n\u53c2\u8003\nUIView\u3092UIImage\u306b\u5909\u63db\u3059\u308b\n# \u306f\u3058\u3081\u306b\n24\u30aa\u30fc\u30d7\u30cb\u30f3\u30b0\u3092\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u307f\u3067\u518d\u73fe\u3057\u305f\u304f\u306a\u308a\nXcode\u3092\u7acb\u3061\u4e0a\u3052\u3001\u307d\u3061\u307d\u3061\u3068\u4f5c\u308a\u307e\u3057\u305f\u3002\n\n\u53c2\u8003:\n[24 Opening Theme Song](https://www.youtube.com/watch?v=nDoTPTP5pnA)\n\n\u307e\u305a\u306f\u30c7\u30b8\u30bf\u30eb\u306a\u6587\u5b57\u306e\u80cc\u666f\u304c\u30a2\u30cb\u30e1\u3057\u3066\u3044\u308b\u7b87\u6240\u306e\u307f\u3092\u3002\n\n\u3084\u3063\u3066\u3044\u308b\u5185\u5bb9\u306f\u300c\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u80cc\u666f\u3092\u6587\u5b57\u578b\u306b\u5207\u308a\u629c\u304d\u300d\u3068\u3082\u8a00\u3048\u307e\u3059\u3002\n\n![hvnv5.gif](https://qiita-image-store.s3.amazonaws.com/0/63205/a8874890-b213-5fe7-efda-fe4bb2798af4.gif)\n\n\n\n# \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u80cc\u666f\n\n```objc\n\n- (void)insertGradientLayer:(UIView *)view\n{\n    UIColor *beginColor = [UIColor redColor];\n    UIColor *endColor = [UIColor blueColor];\n\n    CABasicAnimation *animation = [CABasicAnimation animationWithKeyPath:@\"colors\"];\n    animation.duration = 2.0;\n    animation.repeatCount = HUGE_VALF;\n    animation.autoreverses = YES;\n    animation.timingFunction = [CAMediaTimingFunction functionWithName: kCAMediaTimingFunctionEaseInEaseOut];\n    animation.fromValue = @[(id)beginColor.CGColor, (id)endColor.CGColor];\n    animation.toValue = @[(id)endColor.CGColor, (id)beginColor.CGColor];\n    \n    CAGradientLayer *gradient = [CAGradientLayer layer];\n    gradient.frame = view.bounds;\n    gradient.colors = @[(id)beginColor.CGColor, (id)endColor.CGColor];\n    [gradient addAnimation:animation forKey:@\"colors\"];\n\n    [view.layer insertSublayer:gradient atIndex:0];\n}\n\n```\n\n# \u6587\u5b57\u30de\u30b9\u30af\u3092\u4f5c\u6210\u3057\u91cd\u306d\u308b\n\nUILabel\u3092UIImage\u5316\u3057\u3001\u30de\u30b9\u30af\u753b\u50cf\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u6587\u5b57\u306f\u9ed2\u8272\u3001\u80cc\u666f\u306f\u900f\u660e\u8272\u3067\u3059\u3002\n\nUIView\u306eUIImage\u5909\u63db\u306f\u300c\u95a2\u9023\u300d\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u6709\u7528\u306a\u60c5\u5831\u306e\u5171\u6709\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01\n\n```objc\n\n    UIView *gradientView = [[UIView alloc] initWithFrame:CGRectMake(0, 200, 320, 300)];\n    [self insertGradientLayer:gradientView];\n    \n    UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 320, 160)];\n    label.font = [UIFont fontWithName:@\"DBLCDTempBlack\" size:144];\n    label.textColor = [UIColor blackColor];\n    label.text = @\"24\";\n    label.textAlignment = NSTextAlignmentCenter;\n    label.backgroundColor = [UIColor clearColor];\n    [self.view addSubview:label];\n\n    UIImage *maskImage = [self imageFromView:label];\n    CALayer *mask = [CALayer layer];\n    mask.contents = (id)[maskImage CGImage];\n    mask.frame = CGRectMake(0, 0, maskImage.size.width, maskImage.size.height);\n\n    gradientView.layer.mask = label.layer;\n    \n    [self.view addSubview:gradientView];\n\n```\n\n# \u304a\u308f\u308a\u306b\n\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3044\u3064\u5b8c\u6210\u3059\u308b\u306e\u304b\uff01\n\u306e\u3093\u3073\u308a\u3068\u3057\u305f\u6c17\u6301\u3061\u3067\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002\n\n\u3061\u306a\u307f\u306b24\u3067\u306f\u30b7\u30fc\u30ba\u30f3\uff12\u304c\u4e00\u756a\u597d\u304d\u3067\u3059\u3002\n\n# \u53c2\u8003\n[UIView\u3092UIImage\u306b\u5909\u63db\u3059\u308b](http://qiita.com/y_matsuwitter/items/029933bea283b16ecc89)\n", "tags": ["Objective-C", "iOS", "animation", "UI"]}