{"context": " More than 1 year has passed since last update.Web+DB Press\u306evol86\u306887\u3067\u4f0a\u85e4\u76f4\u4e5f\u3055\u3093\u306eReact.js+Flux\u306e\u8a18\u4e8b\u304c\u3042\u3063\u305f\u306e\u3067\u52c9\u5f37\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nvol86\u306eReact\u3060\u3051\u3060\u3068\u5916\u90e8\u306eAPI\u3068\u304b\u3068\u306e\u9023\u643a\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u3064\u304d\u306b\u304f\u304b\u3063\u305f\u3093\u3067\u3059\u3051\u3069\u3001vol87\u306e\u8a18\u4e8b\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u52d5\u304b\u3057\u3066\u307f\u3066\u3084\u3063\u3068\n\u3068\u306f\u3044\u3048\u307e\u3060\u307e\u3060\u3067\u3059\u304c\u6c57\n\n\u3084\u3063\u305f\u3053\u3068\nReact\u306b\u6163\u308c\u3066\u304b\u3089flux\u3078\u3068\u3044\u3046\u6d41\u308c\u3067\u3059\u3002\n\n\n\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30ab\u30a6\u30f3\u30bf\u306e\u6570\u5b57\u3092\u5909\u3048\u308b\u30ab\u30a6\u30f3\u30bf\u30a2\u30d7\u30ea\u3092React\u3060\u3051\u3067 \n\u30ab\u30a6\u30f3\u30bf\u30a2\u30d7\u30ea\u3092flux\u3067\ntodo\u30a2\u30d7\u30ea\u3092flux\u3067\ntodo\u30a2\u30d7\u30ea\u306bajax\u901a\u4fe1\u3092\u8ffd\u52a0\n\n\n\u307e\u305a\u306fTODO\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\n\u30b5\u30f3\u30d7\u30eb\u306f\u3053\u3061\u3089\u306b\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002 https://github.com/n0bisuke/react-study/tree/todo-flux\nFlux\u69cb\u6210\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308bFluxxor\u3092\u4f7f\u3063\u3066\u3001vol87\u306e\u8a18\u4e8b\u3067\u306f\u7d39\u4ecb\u3057\u3066\u304f\u308c\u3066\u3044\u307e\u3059\u3002\n\u65e9\u901f\u3067\u3059\u304c\u3001\u5b9f\u884c\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\nFlux\u306e\u89e3\u8aac\u306a\u3069\u306fWeb+DB Press\u3092\u8aad\u307f\u307e\u3057\u3087\u3046w\n\nFluxxor\u306bajax\u7684\u306a\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u3066\u307f\u308b\nWeb+DB Press\u306e\u8a18\u4e8b\u3067\u306f\u8aac\u660e\u304c\u5c11\u3057\u5272\u611b\u3055\u308c\u3066\u3044\u305f\u90e8\u5206\u3067\u3059\n\u30b5\u30fc\u30d0\u30fc\u4e0a\u306b\u3042\u308bjson\u30c7\u30fc\u30bf\u3092HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u53d6\u5f97\u3057\u3066TODO\u30ea\u30b9\u30c8\u3068\u3057\u3066\u8868\u793a\u3055\u305b\u308b\u4f5c\u308a\u306b\u5909\u3048\u3066\u307f\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u30b5\u30f3\u30d7\u30eb\u306f\u3053\u3061\u3089\u306b\u7f6e\u3044\u3066\u304d\u307e\u3059\u3002 https://github.com/n0bisuke/react-study/tree/todo-flux-ajax\n\u975e\u540c\u671f\u901a\u4fe1\u7cfb\u306e\u51e6\u7406\u306fAction\u3092\u8d77\u70b9\u306b\u3057\u307e\u3057\u3087\u3046\u3068\u306e\u3053\u3068\u3067Action\u304b\u3089\u51e6\u7406\u3092\u8ffd\u3063\u3066\u8aac\u660e\u3092\u3057\u3066\u307f\u307e\u3059\u3002 (\u30c4\u30c3\u30b3\u30df\u6b53\u8fce!!)\n\n0. jQuery\u8aad\u307f\u8fbc\u307f\u3068JSON\u30c7\u30fc\u30bf\u7528\u610f\njQuery\u306e$.ajax()\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002jQuery\u306e\u30ed\u30fc\u30c9\u306findex.html\u5074\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\n\nindex.html\n<html>\n  <head>\n    <title>TODO\u30ea\u30b9\u30c8</title>\n  </head>\n  <body>\n    <div id=\"app-container\"></div>\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js\"></script>\n    <script charset=\"utf-8\" src=\"dest/app.js\"></script>\n  </body>\n</html>\n\n\n\u30c7\u30fc\u30bf\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\ntodos.json\n[{\n  \"text\": \"\u307b\u3052\"\n },\n {\n  \"text\": \"\u3075\u304c\"\n }\n]\n\n\n\u3053\u3053\u306bapp.jsx\u306e\u5b8c\u6210\u7cfb\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u4ee5\u4e0b\u3067\u500b\u5225\u306b\u8aac\u660e\u3057\u3066\u307f\u307e\u3059\u3002\n\n1. Action(Action Creator)\u306blaadTodos\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\n\u307e\u305a\u3001 Action\u306f\u5b9a\u6570\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u3001\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u8b58\u5225\u5b50\u3068{value:1}\u306a\u3069\u306e\u5165\u529b\u5024\u306b\u76f8\u5f53\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30da\u30a2\u3092\u6307\u3059\u3068\u306e\u3053\u3068\u3067\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u3067LOAD_TODOS_SUCCESS\u3068\u3044\u3046\u8b58\u5225\u5b50\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n7\u884c\u76ee\n\n\napp.jsx\n/*\u7701\u7565*/\n\nvar constants = {\n  ADD_TODO:    \"ADD_TODO\",\n  TOGGLE_TODO: \"TOGGLE_TODO\",\n  LOAD_TODOS_SUCCESS: \"LOAD_TODOS_SUCCESS\" //\u8ffd\u8a18\n};\n\n/*\u7701\u7565*/\n\n\n\n57\u884c\u76ee\u4ed8\u8fd1\n\n\u30e1\u30bd\u30c3\u30c9\u5185\u306b$.ajax()\u3067\u306e\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u3066\u304d\u307e\u3059\u3002\najax\u51e6\u7406\u306e\u5b8c\u4e86\u6642.done()\u306e\u51e6\u7406\u3067this.dispatch()\u3067data\u3092Dispacher\u7d4c\u7531\u3067Store\u306b\u9001\u308a\u307e\u3059\u3002\n\napp.jsx\n/*\u7701\u7565*/\n\nvar actions = {\n  //\u8ffd\u52a0\n  loadTodos: function(){\n    $.ajax({\n      url: \"./todos.json\"\n    }).done(function(data){\n      this.dispatch(constants.LOAD_TODOS_SUCCESS, {data: data});\n    }.bind(this));\n  },\n\n  /*\u7701\u7565*/\n\n\nthis.dispatch()\u5185\u306e(constants.LOAD_TODOS_SUCCESS, {data: data}\u306e\u90e8\u5206\u304cStore\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u8981\u6c42\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8(=\u30a2\u30af\u30b7\u30e7\u30f3)\u3068\u306a\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n.bind(this)\u3092\u66f8\u3044\u3066\u304a\u304b\u306a\u3044\u3068\u52d5\u304b\u306a\u3044\u306e\u3067\u6ce8\u610f\uff01\u3053\u308cWeb+DB Press\u5074\u306e\u30b3\u30fc\u30c9\u30df\u30b9\u304b\u3082\u3002JS\u306ethis\u306e\u7f60\u3002\n\n2. Store\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u3068\u30e1\u30bd\u30c3\u30c9\u306e\u7d10\u4ed8\u3051(bind)\n\u5148\u307b\u3069\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304cStore\u306b\u9001\u3089\u308c\u305f\u969b\u306b\u5b9f\u884c\u3059\u308b\u51e6\u7406\u3068\u305d\u306e\u7d10\u4ed8\u3051\u3067\u3059\u3002\n\n17\u884c\u76ee\n\n\napp.jsx\n/*\u7701\u7565*/\nvar TodoStore = Fluxxor.createStore({\n  initialize: function() {\n    this.todoId = 0;\n    this.todos = {};\n    this.bindActions(\n      constants.ADD_TODO,    this.onAddTodo,\n      constants.TOGGLE_TODO, this.onToggleTodo,\n      constants.LOAD_TODOS_SUCCESS, this.onLoadTodosSuccess //\u8ffd\u8a18\n    );\n  },\n\n  /*\u7701\u7565*/\n\n\nthis.bindActions()\u3067\u5148\u307b\u3069\u5b9a\u7fa9\u3057\u305fLOAD_TODOS_SUCCESS\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304cStore\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3057\u3066\u9001\u3089\u308c\u3066\u6765\u305f\u969b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u7d10\u4ed8\u3051\u307e\u3059\u3002\u3053\u3053\u3067\u306fonLoadTodosSuccess\u30e1\u30bd\u30c3\u30c9\u306b\u7d10\u4ed8\u3051\u3066\u3044\u307e\u3059\u3002\n\n36\u884c\u76ee\u4ed8\u8fd1\n\n\napp.jsx\n  /*\u7701\u7565*/\n\n  //\u8ffd\u52a0\n  onLoadTodosSuccess: function(payload){\n    payload.data.forEach(function(item){\n      var id = ++this.todoId;\n      var todo = {\n        id: id,\n        text: item.text,\n        complete: false\n      };\n      this.todos[id] = todo;\n    }.bind(this));\n    this.emit('change');\n  },\n\n  /*\u7701\u7565*/\n\n\nonLoadTodosSuccess\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u8eab\u3067\u3059\u3002 id\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u306a\u304c\u3089\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304f\u51e6\u7406\u306b\u306a\u3063\u3066\u307e\u3059\u3002\npayload\u306b\u3055\u3063\u304d(61\u884c\u76ee)\u306e{data:data}\u306e\u90e8\u5206\u304c\u9001\u3089\u308c\u3066\u304d\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001http\u901a\u4fe1\u3067GET\u3057\u305f\u5185\u5bb9(todos.json\u306e\u5185\u5bb9\u305d\u306e\u307e\u307e)\u3067\u3059\u3002\nAction\u5074\u3067\u975e\u540c\u671f\u51e6\u7406\u3092\u66f8\u304d\u3001\u51e6\u7406\u5b8c\u4e86\u6642\u70b9\u306e\u30c7\u30fc\u30bf\u3092Store\u306b\u9001\u308a\u3001Store\u306e\u4e2d\u3067\u306f\u975e\u540c\u671f\u51e6\u7406\u306f\u884c\u308f\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3068\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u304c\u660e\u78ba\u306b\u306a\u3063\u3066\u826f\u3044\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n47\u884c\u76ee\u3067this.emit('change');\u3068\u547c\u3093\u3067\u3044\u307e\u3059\u3002Store\u304c\u7ba1\u7406\u3059\u308b\u30c7\u30fc\u30bf\u306b\u5909\u66f4\u304c\u3042\u3063\u305f\u3053\u3068\u3092View\u306b\u4f1d\u3048\u3066\u3042\u3052\u307e\u3059\u3002\n\u3053\u308c\u3067View\u307e\u3067\u4f1d\u3048\u3066\u3042\u3052\u305f\u3089\u3042\u3068\u306f\u901a\u5e38\u306eTODO\u30a2\u30d7\u30ea\u3068\u540c\u3058\u3067\u3059\u3002\n\n3. View\u5074\u3067ActionCreator\u3092\u767a\u706b\u3057\u3066\u3042\u3052\u308b\n1\u30682\u3067\u4f5c\u3063\u305f\u51e6\u7406\u306e\u30c8\u30ea\u30ac\u30fc\u306fView\u5074\u306b\u306a\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306fView\u306e\u30ed\u30fc\u30c9\u6642\u306b\u3053\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n80\u884c\u76ee\n\n\napp.jsx\n  /*\u7701\u7565*/\n\ngetInitialState: function() {\n    this.getFlux().actions.loadTodos(); //\u8ffd\u52a0: view\u306e\u547c\u3073\u51fa\u3057\u6642\u306b\u30ed\u30fc\u30c9\n    return { newTodoText: \"\" };\n  },\n\n    /*\u7701\u7565*/\n\n\nview\u5074\u306egetInitialState\u30e1\u30bd\u30c3\u30c9\u5185\u3067loadTodos()\u3092\u547c\u3073\u51fa\u3057\u3066\u3042\u3052\u3066\u3001\u8aad\u307f\u8fbc\u307f\u6642\u306bAjax\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u51e6\u7406\u306e\u5b8c\u6210\u3067\u3059\u3002\n\n\u307e\u3068\u3081\n\u30b5\u30fc\u30d0\u30fc\u5074\u306e\u51e6\u7406\u3092\u66f8\u304f\u306e\u304c\u30c0\u30eb\u304b\u3063\u305f\u306e\u3067POST\u3067\u30c7\u30fc\u30bf\u8ffd\u52a0\u3068\u304b\u306f\u3084\u3089\u306a\u304b\u3063\u305f\u3051\u3069\u3001\u540c\u3058\u3088\u3046\u306a\u96f0\u56f2\u6c17\u3067\u66f8\u3051\u308b\u3068\u601d\u3044\u307e\u3059\u3002\nFlux\u306e\u6d41\u308c\u3092\u7406\u89e3\u3067\u304d\u305f\u6c17\u304c\u3059\u308b...!\n\u6b21\u306fMilkcocoa\u3068\u9023\u643a\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059!\n\u2192 http://qiita.com/n0bisuke/items/f28016de82136a2a4d26\n\nWeb+DB Press\u306evol86\u306887\u3067\u4f0a\u85e4\u76f4\u4e5f\u3055\u3093\u306eReact.js+Flux\u306e\u8a18\u4e8b\u304c\u3042\u3063\u305f\u306e\u3067\u52c9\u5f37\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n![](http://i.gyazo.com/fd734d641586edd23088fe61e224c87e.png)\n\nvol86\u306eReact\u3060\u3051\u3060\u3068\u5916\u90e8\u306eAPI\u3068\u304b\u3068\u306e\u9023\u643a\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u3064\u304d\u306b\u304f\u304b\u3063\u305f\u3093\u3067\u3059\u3051\u3069\u3001vol87\u306e\u8a18\u4e8b\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u52d5\u304b\u3057\u3066\u307f\u3066\u3084\u3063\u3068\n\u3068\u306f\u3044\u3048\u307e\u3060\u307e\u3060\u3067\u3059\u304c\u6c57\n\n## \u3084\u3063\u305f\u3053\u3068\n\u0010React\u306b\u6163\u308c\u3066\u304b\u3089flux\u3078\u3068\u3044\u3046\u6d41\u308c\u3067\u3059\u3002\n\n- [\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u30ab\u30a6\u30f3\u30bf\u306e\u6570\u5b57\u3092\u5909\u3048\u308b\u30ab\u30a6\u30f3\u30bf\u30a2\u30d7\u30ea\u3092\u0010React\u3060\u3051\u3067](https://github.com/n0bisuke/react-study/tree/counter) \n- [\u30ab\u30a6\u30f3\u30bf\u30a2\u30d7\u30ea\u3092flux\u3067](https://github.com/n0bisuke/react-study/tree/counter-flux)\n- [todo\u30a2\u30d7\u30ea\u3092flux\u3067](https://github.com/n0bisuke/react-study/tree/todo-flux)\n- [todo\u30a2\u30d7\u30ea\u306bajax\u901a\u4fe1\u3092\u8ffd\u52a0](https://github.com/n0bisuke/react-study/tree/todo-flux-ajax)\n\n## \u307e\u305a\u306fTODO\u30a2\u30d7\u30ea\u3092\u4f5c\u308b\n\n\u30b5\u30f3\u30d7\u30eb\u306f\u3053\u3061\u3089\u306b\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002 https://github.com/n0bisuke/react-study/tree/todo-flux\n\nFlux\u69cb\u6210\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308bFluxxor\u3092\u4f7f\u3063\u3066\u3001[vol87\u306e\u8a18\u4e8b](http://gihyo.jp/magazine/wdpress/archive/2015/vol87)\u3067\u306f\u7d39\u4ecb\u3057\u3066\u304f\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u65e9\u901f\u3067\u3059\u304c\u3001\u5b9f\u884c\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n![](http://i.gyazo.com/647651c91d4c36b242204cf4c18ebc72.gif)\n\nFlux\u306e\u89e3\u8aac\u306a\u3069\u306fWeb+DB Press\u3092\u8aad\u307f\u307e\u3057\u3087\u3046w\n\n## Fluxxor\u306bajax\u7684\u306a\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u3066\u307f\u308b\n\n**Web+DB Press\u306e\u8a18\u4e8b\u3067\u306f\u8aac\u660e\u304c\u5c11\u3057\u5272\u611b\u3055\u308c\u3066\u3044\u305f\u90e8\u5206\u3067\u3059**\n\n\u30b5\u30fc\u30d0\u30fc\u4e0a\u306b\u3042\u308bjson\u30c7\u30fc\u30bf\u3092HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u53d6\u5f97\u3057\u3066TODO\u30ea\u30b9\u30c8\u3068\u3057\u3066\u8868\u793a\u3055\u305b\u308b\u4f5c\u308a\u306b\u5909\u3048\u3066\u307f\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u30b5\u30f3\u30d7\u30eb\u306f\u3053\u3061\u3089\u306b\u7f6e\u3044\u3066\u304d\u307e\u3059\u3002 https://github.com/n0bisuke/react-study/tree/todo-flux-ajax\n\n**\u975e\u540c\u671f\u901a\u4fe1\u7cfb\u306e\u51e6\u7406\u306fAction\u3092\u8d77\u70b9\u306b\u3057\u307e\u3057\u3087\u3046**\u3068\u306e\u3053\u3068\u3067Action\u304b\u3089\u51e6\u7406\u3092\u8ffd\u3063\u3066\u8aac\u660e\u3092\u3057\u3066\u307f\u307e\u3059\u3002 **(\u30c4\u30c3\u30b3\u30df\u6b53\u8fce!!)**\n\n### 0. jQuery\u8aad\u307f\u8fbc\u307f\u3068JSON\u30c7\u30fc\u30bf\u7528\u610f\n\njQuery\u306e`$.ajax()`\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002jQuery\u306e\u30ed\u30fc\u30c9\u306findex.html\u5074\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\n\n```index.html\n<html>\n  <head>\n    <title>TODO\u30ea\u30b9\u30c8</title>\n  </head>\n  <body>\n    <div id=\"app-container\"></div>\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js\"></script>\n    <script charset=\"utf-8\" src=\"dest/app.js\"></script>\n  </body>\n</html>\n```\n\n\u30c7\u30fc\u30bf\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\n```todos.json\n[{\n  \"text\": \"\u307b\u3052\"\n },\n {\n  \"text\": \"\u3075\u304c\"\n }\n]\n```\n\n[\u3053\u3053](https://github.com/n0bisuke/react-study/blob/todo-flux-ajax/src/app.jsx)\u306bapp.jsx\u306e\u5b8c\u6210\u7cfb\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u4ee5\u4e0b\u3067\u500b\u5225\u306b\u8aac\u660e\u3057\u3066\u307f\u307e\u3059\u3002\n\n### 1. Action(Action Creator)\u306blaadTodos\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\n\n\u307e\u305a\u3001 **Action\u306f`\u5b9a\u6570\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u3001\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u8b58\u5225\u5b50`\u3068`{value:1}\u306a\u3069\u306e\u5165\u529b\u5024\u306b\u76f8\u5f53\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8`\u306e\u30da\u30a2\u3092\u6307\u3059**\u3068\u306e\u3053\u3068\u3067\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u3067`LOAD_TODOS_SUCCESS`\u3068\u3044\u3046\u8b58\u5225\u5b50\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n> [7\u884c\u76ee](https://github.com/n0bisuke/react-study/blob/todo-flux-ajax/src/app.jsx#L7)\n\n```app.jsx\n/*\u7701\u7565*/\n\nvar constants = {\n  ADD_TODO:    \"ADD_TODO\",\n  TOGGLE_TODO: \"TOGGLE_TODO\",\n  LOAD_TODOS_SUCCESS: \"LOAD_TODOS_SUCCESS\" //\u8ffd\u8a18\n};\n\n/*\u7701\u7565*/\n```\n\n>[57\u884c\u76ee\u4ed8\u8fd1](https://github.com/n0bisuke/react-study/blob/todo-flux-ajax/src/app.jsx#L57-L63)\n\n\u30e1\u30bd\u30c3\u30c9\u5185\u306b`$.ajax()`\u3067\u306e\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u3066\u304d\u307e\u3059\u3002\najax\u51e6\u7406\u306e\u5b8c\u4e86\u6642`.done()`\u306e\u51e6\u7406\u3067`this.dispatch()`\u3067data\u3092Dispacher\u7d4c\u7531\u3067Store\u306b\u9001\u308a\u307e\u3059\u3002\n\n```app.jsx\n/*\u7701\u7565*/\n\nvar actions = {\n  //\u8ffd\u52a0\n  loadTodos: function(){\n    $.ajax({\n      url: \"./todos.json\"\n    }).done(function(data){\n      this.dispatch(constants.LOAD_TODOS_SUCCESS, {data: data});\n    }.bind(this));\n  },\n  \n  /*\u7701\u7565*/\n```\n\n`this.dispatch()`\u5185\u306e`(constants.LOAD_TODOS_SUCCESS, {data: data}`\u306e\u90e8\u5206\u304cStore\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u8981\u6c42\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8(=\u30a2\u30af\u30b7\u30e7\u30f3)\u3068\u306a\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\n**`.bind(this)`\u3092\u66f8\u3044\u3066\u304a\u304b\u306a\u3044\u3068\u52d5\u304b\u306a\u3044\u306e\u3067\u6ce8\u610f\uff01**\u3053\u308cWeb+DB Press\u5074\u306e\u30b3\u30fc\u30c9\u30df\u30b9\u304b\u3082\u3002JS\u306ethis\u306e\u7f60\u3002\n\n### 2. Store\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u3068\u30e1\u30bd\u30c3\u30c9\u306e\u7d10\u4ed8\u3051(bind)\n\n\u5148\u307b\u3069\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304cStore\u306b\u9001\u3089\u308c\u305f\u969b\u306b\u5b9f\u884c\u3059\u308b\u51e6\u7406\u3068\u305d\u306e\u7d10\u4ed8\u3051\u3067\u3059\u3002\n\n>[17\u884c\u76ee](https://github.com/n0bisuke/react-study/blob/todo-flux-ajax/src/app.jsx#L17)\n\n```app.jsx\n/*\u7701\u7565*/\nvar TodoStore = Fluxxor.createStore({\n  initialize: function() {\n    this.todoId = 0;\n    this.todos = {};\n    this.bindActions(\n      constants.ADD_TODO,    this.onAddTodo,\n      constants.TOGGLE_TODO, this.onToggleTodo,\n      constants.LOAD_TODOS_SUCCESS, this.onLoadTodosSuccess //\u8ffd\u8a18\n    );\n  },\n  \n  /*\u7701\u7565*/\n```\n\n`this.bindActions()`\u3067\u5148\u307b\u3069\u5b9a\u7fa9\u3057\u305f`LOAD_TODOS_SUCCESS`\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304cStore\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3057\u3066\u9001\u3089\u308c\u3066\u6765\u305f\u969b\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u7d10\u4ed8\u3051\u307e\u3059\u3002\u3053\u3053\u3067\u306f`onLoadTodosSuccess\u30e1\u30bd\u30c3\u30c9`\u306b\u7d10\u4ed8\u3051\u3066\u3044\u307e\u3059\u3002\n\n> [36\u884c\u76ee\u4ed8\u8fd1](https://github.com/n0bisuke/react-study/blob/todo-flux-ajax/src/app.jsx#L36-L48)\n\n```app.jsx\n  /*\u7701\u7565*/\n  \n  //\u8ffd\u52a0\n  onLoadTodosSuccess: function(payload){\n    payload.data.forEach(function(item){\n      var id = ++this.todoId;\n      var todo = {\n        id: id,\n        text: item.text,\n        complete: false\n      };\n      this.todos[id] = todo;\n    }.bind(this));\n    this.emit('change');\n  },\n  \n  /*\u7701\u7565*/\n```\n\n`onLoadTodosSuccess\u30e1\u30bd\u30c3\u30c9`\u306e\u4e2d\u8eab\u3067\u3059\u3002 id\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u306a\u304c\u3089\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304f\u51e6\u7406\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n`payload`\u306b[\u3055\u3063\u304d(61\u884c\u76ee)](https://github.com/n0bisuke/react-study/blob/todo-flux-ajax/src/app.jsx#L61)\u306e`{data:data}`\u306e\u90e8\u5206\u304c\u9001\u3089\u308c\u3066\u304d\u307e\u3059\u3002\n\n\u3064\u307e\u308a\u3001http\u901a\u4fe1\u3067GET\u3057\u305f\u5185\u5bb9(todos.json\u306e\u5185\u5bb9\u305d\u306e\u307e\u307e)\u3067\u3059\u3002\n\nAction\u5074\u3067\u975e\u540c\u671f\u51e6\u7406\u3092\u66f8\u304d\u3001\u51e6\u7406\u5b8c\u4e86\u6642\u70b9\u306e\u30c7\u30fc\u30bf\u3092Store\u306b\u9001\u308a\u3001Store\u306e\u4e2d\u3067\u306f\u975e\u540c\u671f\u51e6\u7406\u306f\u884c\u308f\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3068\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u304c\u660e\u78ba\u306b\u306a\u3063\u3066\u826f\u3044\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n\n\u0010[47\u884c\u76ee](https://github.com/n0bisuke/react-study/blob/todo-flux-ajax/src/app.jsx#L47)\u3067`this.emit('change');`\u3068\u547c\u3093\u3067\u3044\u307e\u3059\u3002Store\u304c\u7ba1\u7406\u3059\u308b\u30c7\u30fc\u30bf\u306b\u5909\u66f4\u304c\u3042\u3063\u305f\u3053\u3068\u3092View\u306b\u4f1d\u3048\u3066\u3042\u3052\u307e\u3059\u3002\n\u3053\u308c\u3067View\u307e\u3067\u4f1d\u3048\u3066\u3042\u3052\u305f\u3089\u3042\u3068\u306f\u901a\u5e38\u306eTODO\u30a2\u30d7\u30ea\u3068\u540c\u3058\u3067\u3059\u3002\n\n### 3. View\u5074\u3067ActionCreator\u3092\u767a\u706b\u3057\u3066\u3042\u3052\u308b\n\n1\u30682\u3067\u4f5c\u3063\u305f\u51e6\u7406\u306e\u30c8\u30ea\u30ac\u30fc\u306fView\u5074\u306b\u306a\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306fView\u306e\u30ed\u30fc\u30c9\u6642\u306b\u3053\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n>[80\u884c\u76ee](https://github.com/n0bisuke/react-study/blob/todo-flux-ajax/src/app.jsx#L80)\n\n```app.jsx\n  /*\u7701\u7565*/\n  \ngetInitialState: function() {\n    this.getFlux().actions.loadTodos(); //\u8ffd\u52a0: view\u306e\u547c\u3073\u51fa\u3057\u6642\u306b\u30ed\u30fc\u30c9\n    return { newTodoText: \"\" };\n  },\n  \n    /*\u7701\u7565*/\n```\n\nview\u5074\u306e`getInitialState\u30e1\u30bd\u30c3\u30c9`\u5185\u3067`loadTodos()`\u3092\u547c\u3073\u51fa\u3057\u3066\u3042\u3052\u3066\u3001\u8aad\u307f\u8fbc\u307f\u6642\u306bAjax\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u51e6\u7406\u306e\u5b8c\u6210\u3067\u3059\u3002\n\n## \u307e\u3068\u3081\n\n\u30b5\u30fc\u30d0\u30fc\u5074\u306e\u51e6\u7406\u3092\u66f8\u304f\u306e\u304c\u30c0\u30eb\u304b\u3063\u305f\u306e\u3067POST\u3067\u30c7\u30fc\u30bf\u8ffd\u52a0\u3068\u304b\u306f\u3084\u3089\u306a\u304b\u3063\u305f\u3051\u3069\u3001\u540c\u3058\u3088\u3046\u306a\u96f0\u56f2\u6c17\u3067\u66f8\u3051\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\nFlux\u306e\u6d41\u308c\u3092\u7406\u89e3\u3067\u304d\u305f\u6c17\u304c\u3059\u308b...!\n\n\u6b21\u306fMilkcocoa\u3068\u9023\u643a\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059!\n\u2192 http://qiita.com/n0bisuke/items/f28016de82136a2a4d26\n", "tags": ["reactjs", "fluxxor", "flux", "JavaScript", "jQuery"]}